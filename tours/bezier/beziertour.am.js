;(function (root) {
    'use strict';

    /**@amsave*/
    var SAVEJSON = '{"name":"bezier tour","timelines":[{"timebar":{"currTime":466,"timescale":0.3,"length":1796},"tracks":[{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#bullet"}],"paramTree":{"name":"#bullet","title":"#bullet","hidden":false,"static":false,"merged":false,"collapsed":false,"children":[{"name":"translate","title":"translate","hidden":true,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":true,"static":true,"keys":[{"value":"-87.28854357313045px","time":579,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"235.90081212712226px","time":1504,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"y","title":"y","hidden":true,"static":true,"keys":[{"value":"20.002069461494223px","time":579,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"-177.84631744114674px","time":1504,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":"0.7","time":579,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":"0.7","time":579,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"opacity","title":"opacity","hidden":false,"static":false,"keys":[{"value":1,"time":573,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"0","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"0","time":567,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"bezier","title":"bezier","hidden":false,"static":false,"keys":[{"value":[{"anchor":{"x":-87.28854357313045,"y":20.002069461494223},"handleLeft":{"x":-87.28854357313045,"y":20.002069461494223},"handleRight":{"x":-87.28854357313045,"y":20.002069461494223},"linked":false}],"time":579,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":[{"anchor":{"x":51.796338619956344,"y":-96.55801174255717},"handleLeft":{"x":10.976126227356595,"y":-73.52086217445633},"handleRight":{"x":152.79633861995637,"y":-153.55801174255717},"linked":true},{"anchor":{"x":255.90081212712226,"y":-175.84631744114674},"handleLeft":{"x":232.90081212712226,"y":-175.84631744114674},"handleRight":{"x":177.90081212712226,"y":-107.84631744114674},"linked":false}],"time":1174,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":[{"anchor":{"x":188.06315676017934,"y":189.1567283558497},"handleLeft":{"x":188.06315676017934,"y":189.1567283558497},"handleRight":{"x":188.06315676017934,"y":189.1567283558497},"linked":false}],"time":1596,"ease":{"type":"bezier","points":[0,0,1,1]}}]}]}}},{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#wheel"}],"paramTree":{"name":"#wheel","title":"#wheel","hidden":false,"static":false,"merged":false,"collapsed":true,"children":[{"name":"translate","title":"translate","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":false,"static":true,"keys":[{"value":"-194.94841140283353px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"y","title":"y","hidden":false,"static":true,"keys":[{"value":"79.03360680328804px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":0.7705365093216535,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":0.7705365093216535,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]}]}}},{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#plankoverlay"}],"paramTree":{"name":"#plankoverlay","title":"#plankoverlay","hidden":false,"static":false,"merged":false,"collapsed":true,"children":[{"name":"translate","title":"translate","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":false,"static":true,"keys":[{"value":"202.76024606291253px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"y","title":"y","hidden":false,"static":true,"keys":[{"value":"-132.60187120663485px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":"0.7","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":"0.7","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]}]}}},{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#plank"}],"paramTree":{"name":"#plank","title":"#plank","hidden":false,"static":false,"merged":false,"collapsed":true,"children":[{"name":"translate","title":"translate","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":false,"static":true,"keys":[{"value":"186.15788789829568px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"y","title":"y","hidden":false,"static":true,"keys":[{"value":"-253.86191533885594px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":"0.7","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":"0.7","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]}]}}},{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#cock"}],"paramTree":{"name":"#cock","title":"#cock","hidden":false,"static":false,"merged":false,"collapsed":true,"children":[{"name":"translate","title":"translate","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":false,"static":true,"keys":[{"value":"-326.7371684827121px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"y","title":"y","hidden":false,"static":true,"keys":[{"value":"-97.99323233574198px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":0.684788088029237,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":0.684788088029237,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]}]}}},{"type":"css_track_type","data":{"selectors":[{"type":"css","value":"#cannon"}],"paramTree":{"name":"#cannon","title":"#cannon","hidden":false,"static":false,"merged":false,"collapsed":false,"children":[{"name":"translate","title":"translate","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"x","title":"x","hidden":false,"static":true,"keys":[{"value":"-152.5027743501769px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"-152.5027743501769px","time":508,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"-152.5027743501769px","time":671,"ease":{"type":"bezier","points":[0,0,0.47776442307692324,1.0625]}},{"value":"-155.8039096351832px","time":567,"ease":{"type":"bezier","points":[0.6558968926553655,0.0625,0.7123940677966083,1.0625]}}]},{"name":"y","title":"y","hidden":false,"static":true,"keys":[{"value":"8.899659132951882px","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"8.899659132951882px","time":508,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"8.899659132951882px","time":671,"ease":{"type":"bezier","points":[0,0,0.47776442307692324,1.0625]}},{"value":"11.652034919276602px","time":567,"ease":{"type":"bezier","points":[0.6558968926553655,0.0625,0.7123940677966083,1.0625]}}]},{"name":"z","title":"z","hidden":true,"static":true,"keys":[]}]},{"name":"transformOrigin","title":"transformOrigin","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"transformOriginX","title":"x","hidden":false,"static":true,"keys":[{"value":"29.42714285714285%","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"transformOriginY","title":"y","hidden":false,"static":true,"keys":[{"value":"82.78535031847134%","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]}]},{"name":"rotation","title":"rotation","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"rotationX","title":"rotationX","hidden":true,"static":true,"keys":[]},{"name":"rotationY","title":"rotationY","hidden":true,"static":true,"keys":[]},{"name":"rotationZ","title":"rotationZ","hidden":false,"static":true,"keys":[{"value":"10.951799134742094deg","time":0,"ease":{"type":"bezier","points":[0,0,1,1]}},{"value":"-21.836872668125434deg","time":325,"ease":{"type":"bezier","points":[0.3076923076923077,0,0.6153846153846154,1]}}]}]},{"name":"scale","title":"scale","hidden":false,"static":true,"merged":true,"collapsed":true,"children":[{"name":"scaleX","title":"x","hidden":false,"static":true,"keys":[{"value":0.7541946030110847,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleY","title":"y","hidden":false,"static":true,"keys":[{"value":0.7541946030110847,"time":0,"ease":{"type":"bezier","points":[0,0,1,1]}}]},{"name":"scaleZ","title":"z","hidden":true,"static":true,"keys":[]}]}]}}}],"easeMap":{},"triggerMap":[],"currTrackIdx":0}],"currTimelineIdx":0}';

    var projectReg = {
        timelines: {timeline:(function () {
    var trackPlayerGens = [function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":"0.7"},"duration":0.579}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":"0.7"},"duration":0.579}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"opacity":"0"},"duration":0},{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"opacity":"0"},"duration":0.567},{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"opacity":1},"duration":0.006}],[{"options":{"ease":{"_type":0,"_power":0,"_params":[0.9810426540283543,0,1,1]},"x":-87.28854357313045,"y":20.002069461494223},"duration":0.579},{"options":{"bezier":{"type":"cubic","values":[{"x":-87.28854357313045,"y":20.002069461494223},{"x":-87.28854357313045,"y":20.002069461494223},{"x":10.976126227356595,"y":-73.52086217445633},{"x":51.796338619956344,"y":-96.55801174255717},{"x":152.79633861995637,"y":-153.55801174255717},{"x":232.90081212712226,"y":-175.84631744114674},{"x":255.90081212712226,"y":-175.84631744114674}]},"ease":{"_type":0,"_power":0,"_params":[0.9810426540283543,0,1,1]}},"duration":0.595},{"options":{"bezier":{"type":"cubic","values":[{"x":255.90081212712226,"y":-175.84631744114674},{"x":177.90081212712226,"y":-107.84631744114674},{"x":188.06315676017934,"y":189.1567283558497},{"x":188.06315676017934,"y":189.1567283558497}]},"ease":{"_type":0,"_power":0,"_params":[0.9810426540283543,0,1,1]}},"duration":0.422}]],
        selectors = [{"type":"css","value":"#bullet"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
,
function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"-194.94841140283353px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"79.03360680328804px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":0.7705365093216535},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":0.7705365093216535},"duration":0}]],
        selectors = [{"type":"css","value":"#wheel"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
,
function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"202.76024606291253px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"-132.60187120663485px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":"0.7"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":"0.7"},"duration":0}]],
        selectors = [{"type":"css","value":"#plankoverlay"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
,
function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"186.15788789829568px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"-253.86191533885594px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":"0.7"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":"0.7"},"duration":0}]],
        selectors = [{"type":"css","value":"#plank"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
,
function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"-326.7371684827121px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"-97.99323233574198px"},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":0.684788088029237},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":0.684788088029237},"duration":0}]],
        selectors = [{"type":"css","value":"#cock"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
,
function (inputs) {
    
    var timelines = [[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"-152.5027743501769px"},"duration":0},{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"x":"-152.5027743501769px"},"duration":0.508},{"options":{"ease":new Ease(BezierEasing(0.6558968926553655,0.0625,0.7123940677966083,1.0625)),"x":"-155.8039096351832px"},"duration":0.059},{"options":{"ease":new Ease(BezierEasing(0,0,0.47776442307692324,1.0625)),"x":"-152.5027743501769px"},"duration":0.104}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"8.899659132951882px"},"duration":0},{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"y":"8.899659132951882px"},"duration":0.508},{"options":{"ease":new Ease(BezierEasing(0.6558968926553655,0.0625,0.7123940677966083,1.0625)),"y":"11.652034919276602px"},"duration":0.059},{"options":{"ease":new Ease(BezierEasing(0,0,0.47776442307692324,1.0625)),"y":"8.899659132951882px"},"duration":0.104}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"rotationZ":"10.951799134742094deg"},"duration":0},{"options":{"ease":new Ease(BezierEasing(0.3076923076923077,0,0.6153846153846154,1)),"rotationZ":"-21.836872668125434deg"},"duration":0.325}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleX":0.7541946030110847},"duration":0}],[{"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"scaleY":0.7541946030110847},"duration":0}],[{"duration":0,"options":{"ease":new Ease(BezierEasing(0,0,1,1)),"transformOrigin":"29.42714285714285% 82.78535031847134% "}}]],
        selectors = [{"type":"css","value":"#cannon"}],
        animTargets = getAnimTargets(selectors, inputs),
        rootTl = new TimelineMax();

    timelines.forEach(function (timeline) {

        var tl = new TimelineMax();
        rootTl.add(tl, 0);
        
        timeline.forEach(function (key, idx) {

            tl.to(animTargets, key.duration, key.options);
        });
    });

    return rootTl;
}
];

    var reg = {

        create: function (inputs) {

            var tl = new TimelineMax({paused: true});

            trackPlayerGens.forEach(function (create) {

                tl.add(create(inputs), 0);
            });

            return tl;
        },
    };

//

    return reg;
}())
},
        saveJson: SAVEJSON,
    };

    root.am = root.am || {};
    root.am.projects = root.am.projects || {};
    root.am.projects.bezier tour = projectReg;



    //-- CJS --//
    if (typeof exports === 'object') {

        module.exports = projectReg;
    }

    //-- AMD --//
    if (typeof define === 'function' && define.amd) {

        define(function () {
            return projectReg;
        });
    }

    //utils
    function getAnimTargets(selectors, inputs) {

        var list = [];

        selectors.forEach(function (selector) {

            if (selector.type === 'css') {

                list.push(selector.value);
            }
            else if (inputs && selector.type === 'input') {

                var parent = inputs;

                selector.value.split('.').every(function (name) {

                    return parent = parent[name];
                });

                if (parent) {
                    list.push(parent);
                }
            }
        });

        return list;
    };

}(this));









/**
 * BezierEasing - use bezier curve for transition easing function
 * by Gaëtan Renaudeau 2014 – MIT License
 *
 * Credits: is based on Firefox's nsSMILKeySpline.cpp
 * Usage:
 * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)
 * spline(x) => returns the easing value | x must be in [0, 1] range
 *
 */
!function(a){window.BezierEasing=a()}(function(){function i(a,i,j,k){function n(a,b){return 1-3*b+3*a}function o(a,b){return 3*b-6*a}function p(a){return 3*a}function q(a,b,c){return((n(b,c)*a+o(b,c))*a+p(b))*a}function r(a,b,c){return 3*n(b,c)*a*a+2*o(b,c)*a+p(b)}function s(c,d){for(var e=0;b>e;++e){var f=r(d,a,j);if(0===f)return d;var g=q(d,a,j)-c;d-=g/f}return d}function t(){for(var b=0;f>b;++b)m[b]=q(b*g,a,j)}function u(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=q(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function v(b){for(var d=0,e=1,h=f-1;e!=h&&m[e]<=b;++e)d+=g;--e;var i=(b-m[e])/(m[e+1]-m[e]),k=d+i*g,l=r(k,a,j);return l>=c?s(b,k):0===l?k:u(b,d,d+g)}function x(){w=!0,(a!=i||j!=k)&&t()}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var l=0;4>l;++l)if("number"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))throw new Error("BezierEasing arguments should be integers.");if(0>a||a>1||0>j||j>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var m=h?new Float32Array(f):new Array(f),w=!1,y=function(b){return w||x(),a===i&&j===k?b:0===b?0:1===b?1:q(v(b),i,k)};y.getControlPoints=function(){return[{x:a,y:i},{x:j,y:k}]};var z=[a,i,j,k],A="BezierEasing("+z+")";y.toString=function(){return A};var B="cubic-bezier("+z+")";return y.toCSS=function(){return B},y}var a=this,b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h="Float32Array"in a;return i.css={ease:i(.25,.1,.25,1),linear:i(0,0,1,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1)},i});

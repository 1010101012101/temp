(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/editor/main.js":[function(require,module,exports){
"use strict";

var bowser = require("bowser").browser;

if (!bowser.chrome && !bowser.opera) {
  alertUnsupportedBrowsers();
  throw Error("unsupported browser");
}

window.am = require("./am/am");

function alertUnsupportedBrowsers() {
  var deSorry = document.createElement("div");
  deSorry.textContent = "Sorry, this demo is currently only supported by the newest chrome and opera.";
  deSorry.style.display = "fixed";
  deSorry.style.margin = "auto";
  deSorry.style.fontFamily = "Open Sans";
  deSorry.style.fontSize = "21px";
  deSorry.style.color = "white";
  deSorry.style.background = "rgba(0,0,0,0.3)";
  deSorry.style.top = 0;
  deSorry.style.right = 0;
  deSorry.style.bottom = 0;
  deSorry.style.left = 0;
  document.body.innerHTML = "";
  var emo = document.createElement("span");
  emo.className = "icon-emo-unhappy";
  deSorry.appendChild(emo);
  // amgui.createIcon({icon: 'emo-unhappy', parent: deSorry, display: 'inline'});
  document.body.appendChild(deSorry);
}

},{"./am/am":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.js","bowser":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bowser\\bowser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bezier-easing\\index.js":[function(require,module,exports){
/**
 * BezierEasing - use bezier curve for transition easing function
 * by Gaëtan Renaudeau 2014 – MIT License
 *
 * Credits: is based on Firefox's nsSMILKeySpline.cpp
 * Usage:
 * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)
 * spline(x) => returns the easing value | x must be in [0, 1] range
 *
 */
(function (definition) {
  if (typeof exports === "object") {
    module.exports = definition();
  } else if (typeof define === 'function' && define.amd) {
    define([], definition);
  } else {
    window.BezierEasing = definition();
  }
}(function () {
  var global = this;

  // These values are established by empiricism with tests (tradeoff: performance VS precision)
  var NEWTON_ITERATIONS = 4;
  var NEWTON_MIN_SLOPE = 0.001;
  var SUBDIVISION_PRECISION = 0.0000001;
  var SUBDIVISION_MAX_ITERATIONS = 10;

  var kSplineTableSize = 11;
  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);

  var float32ArraySupported = 'Float32Array' in global;

  function BezierEasing (mX1, mY1, mX2, mY2) {
    // Validate arguments
    if (arguments.length !== 4) {
      throw new Error("BezierEasing requires 4 arguments.");
    }
    for (var i=0; i<4; ++i) {
      if (typeof arguments[i] !== "number" || isNaN(arguments[i]) || !isFinite(arguments[i])) {
        throw new Error("BezierEasing arguments should be integers.");
      } 
    }
    if (mX1 < 0 || mX1 > 1 || mX2 < 0 || mX2 > 1) {
      throw new Error("BezierEasing x values must be in [0, 1] range.");
    }

    var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
   
    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }
    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }
    function C (aA1)      { return 3.0 * aA1; }
   
    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.
    function calcBezier (aT, aA1, aA2) {
      return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;
    }
   
    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.
    function getSlope (aT, aA1, aA2) {
      return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);
    }

    function newtonRaphsonIterate (aX, aGuessT) {
      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {
        var currentSlope = getSlope(aGuessT, mX1, mX2);
        if (currentSlope === 0.0) return aGuessT;
        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
        aGuessT -= currentX / currentSlope;
      }
      return aGuessT;
    }

    function calcSampleValues () {
      for (var i = 0; i < kSplineTableSize; ++i) {
        mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
      }
    }

    function binarySubdivide (aX, aA, aB) {
      var currentX, currentT, i = 0;
      do {
        currentT = aA + (aB - aA) / 2.0;
        currentX = calcBezier(currentT, mX1, mX2) - aX;
        if (currentX > 0.0) {
          aB = currentT;
        } else {
          aA = currentT;
        }
      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);
      return currentT;
    }

    function getTForX (aX) {
      var intervalStart = 0.0;
      var currentSample = 1;
      var lastSample = kSplineTableSize - 1;

      for (; currentSample != lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {
        intervalStart += kSampleStepSize;
      }
      --currentSample;

      // Interpolate to provide an initial guess for t
      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);
      var guessForT = intervalStart + dist * kSampleStepSize;

      var initialSlope = getSlope(guessForT, mX1, mX2);
      if (initialSlope >= NEWTON_MIN_SLOPE) {
        return newtonRaphsonIterate(aX, guessForT);
      } else if (initialSlope === 0.0) {
        return guessForT;
      } else {
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);
      }
    }

    var _precomputed = false;
    function precompute() {
      _precomputed = true;
      if (mX1 != mY1 || mX2 != mY2)
        calcSampleValues();
    }

    var f = function (aX) {
      if (!_precomputed) precompute();
      if (mX1 === mY1 && mX2 === mY2) return aX; // linear
      // Because JavaScript number are imprecise, we should guarantee the extremes are right.
      if (aX === 0) return 0;
      if (aX === 1) return 1;
      return calcBezier(getTForX(aX), mY1, mY2);
    };

    f.getControlPoints = function() { return [{ x: mX1, y: mY1 }, { x: mX2, y: mY2 }]; };

    var args = [mX1, mY1, mX2, mY2];
    var str = "BezierEasing("+args+")";
    f.toString = function () { return str; };

    var css = "cubic-bezier("+args+")";
    f.toCSS = function () { return css; };

    return f;
  }

  // CSS mapping
  BezierEasing.css = {
    "ease":        BezierEasing(0.25, 0.1, 0.25, 1.0),
    "linear":      BezierEasing(0.00, 0.0, 1.00, 1.0),
    "ease-in":     BezierEasing(0.42, 0.0, 1.00, 1.0),
    "ease-out":    BezierEasing(0.00, 0.0, 0.58, 1.0),
    "ease-in-out": BezierEasing(0.42, 0.0, 0.58, 1.0)
  };

  return BezierEasing;

}));

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bowser\\bowser.js":[function(require,module,exports){
/*!
  * Bowser - a browser detector
  * https://github.com/ded/bowser
  * MIT License | (c) Dustin Diaz 2014
  */

!function (name, definition) {
  if (typeof module != 'undefined' && module.exports) module.exports['browser'] = definition()
  else if (typeof define == 'function' && define.amd) define(definition)
  else this[name] = definition()
}('bowser', function () {
  /**
    * See useragents.js for examples of navigator.userAgent
    */

  var t = true

  function detect(ua) {

    function getFirstMatch(regex) {
      var match = ua.match(regex);
      return (match && match.length > 1 && match[1]) || '';
    }

    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()
      , likeAndroid = /like android/i.test(ua)
      , android = !likeAndroid && /android/i.test(ua)
      , versionIdentifier = getFirstMatch(/version\/(\d+(\.\d+)?)/i)
      , tablet = /tablet/i.test(ua)
      , mobile = !tablet && /[^-]mobi/i.test(ua)
      , result

    if (/opera|opr/i.test(ua)) {
      result = {
        name: 'Opera'
      , opera: t
      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)
      }
    }
    else if (/windows phone/i.test(ua)) {
      result = {
        name: 'Windows Phone'
      , windowsphone: t
      , msie: t
      , version: getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/msie|trident/i.test(ua)) {
      result = {
        name: 'Internet Explorer'
      , msie: t
      , version: getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)
      }
    }
    else if (/chrome|crios|crmo/i.test(ua)) {
      result = {
        name: 'Chrome'
      , chrome: t
      , version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
      }
    }
    else if (iosdevice) {
      result = {
        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'
      }
      // WTF: version is not part of user agent in web apps
      if (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    else if (/sailfish/i.test(ua)) {
      result = {
        name: 'Sailfish'
      , sailfish: t
      , version: getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/seamonkey\//i.test(ua)) {
      result = {
        name: 'SeaMonkey'
      , seamonkey: t
      , version: getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/firefox|iceweasel/i.test(ua)) {
      result = {
        name: 'Firefox'
      , firefox: t
      , version: getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)
      }
      if (/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)) {
        result.firefoxos = t
      }
    }
    else if (/silk/i.test(ua)) {
      result =  {
        name: 'Amazon Silk'
      , silk: t
      , version : getFirstMatch(/silk\/(\d+(\.\d+)?)/i)
      }
    }
    else if (android) {
      result = {
        name: 'Android'
      , version: versionIdentifier
      }
    }
    else if (/phantom/i.test(ua)) {
      result = {
        name: 'PhantomJS'
      , phantom: t
      , version: getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/blackberry|\bbb\d+/i.test(ua) || /rim\stablet/i.test(ua)) {
      result = {
        name: 'BlackBerry'
      , blackberry: t
      , version: versionIdentifier || getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/(web|hpw)os/i.test(ua)) {
      result = {
        name: 'WebOS'
      , webos: t
      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)
      };
      /touchpad\//i.test(ua) && (result.touchpad = t)
    }
    else if (/bada/i.test(ua)) {
      result = {
        name: 'Bada'
      , bada: t
      , version: getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)
      };
    }
    else if (/tizen/i.test(ua)) {
      result = {
        name: 'Tizen'
      , tizen: t
      , version: getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i) || versionIdentifier
      };
    }
    else if (/safari/i.test(ua)) {
      result = {
        name: 'Safari'
      , safari: t
      , version: versionIdentifier
      }
    }
    else result = {}

    // set webkit or gecko flag for browsers based on these engines
    if (/(apple)?webkit/i.test(ua)) {
      result.name = result.name || "Webkit"
      result.webkit = t
      if (!result.version && versionIdentifier) {
        result.version = versionIdentifier
      }
    } else if (!result.opera && /gecko\//i.test(ua)) {
      result.name = result.name || "Gecko"
      result.gecko = t
      result.version = result.version || getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)
    }

    // set OS flags for platforms that have multiple browsers
    if (android || result.silk) {
      result.android = t
    } else if (iosdevice) {
      result[iosdevice] = t
      result.ios = t
    }

    // OS version extraction
    var osVersion = '';
    if (iosdevice) {
      osVersion = getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);
      osVersion = osVersion.replace(/[_\s]/g, '.');
    } else if (android) {
      osVersion = getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i);
    } else if (result.windowsphone) {
      osVersion = getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);
    } else if (result.webos) {
      osVersion = getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);
    } else if (result.blackberry) {
      osVersion = getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i);
    } else if (result.bada) {
      osVersion = getFirstMatch(/bada\/(\d+(\.\d+)*)/i);
    } else if (result.tizen) {
      osVersion = getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i);
    }
    if (osVersion) {
      result.osversion = osVersion;
    }

    // device type extraction
    var osMajorVersion = osVersion.split('.')[0];
    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {
      result.tablet = t
    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {
      result.mobile = t
    }

    // Graded Browser Support
    // http://developer.yahoo.com/yui/articles/gbs
    if ((result.msie && result.version >= 10) ||
        (result.chrome && result.version >= 20) ||
        (result.firefox && result.version >= 20.0) ||
        (result.safari && result.version >= 6) ||
        (result.opera && result.version >= 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] >= 6) ||
        (result.blackberry && result.version >= 10.1)
        ) {
      result.a = t;
    }
    else if ((result.msie && result.version < 10) ||
        (result.chrome && result.version < 20) ||
        (result.firefox && result.version < 20.0) ||
        (result.safari && result.version < 6) ||
        (result.opera && result.version < 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] < 6)
        ) {
      result.c = t
    } else result.x = t

    return result
  }

  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')


  /*
   * Set our detect method to the main bowser object so we can
   * reuse it to test other user agents.
   * This is needed to implement future tests.
   */
  bowser._detect = detect;

  return bowser
});

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\domready\\ready.js":[function(require,module,exports){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function (name, definition) {

  if (typeof module != 'undefined') module.exports = definition()
  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)
  else this[name] = definition()

}('domready', function () {

  var fns = [], listener
    , doc = document
    , hack = doc.documentElement.doScroll
    , domContentLoaded = 'DOMContentLoaded'
    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)


  if (!loaded)
  doc.addEventListener(domContentLoaded, listener = function () {
    doc.removeEventListener(domContentLoaded, listener)
    loaded = 1
    while (listener = fns.shift()) listener()
  })

  return function (fn) {
    loaded ? fn() : fns.push(fn)
  }

});

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js":[function(require,module,exports){
'use strict';

function EventMan () {

    this._listenerCount = 0;
    this._maxListeners = 10;
    this._events = Object.create(null);
    this._flags = Object.create(null);
}

module.exports = EventMan;
var p = EventMan.prototype;

p.addListener = function (evtName, cb, scope) {

    if (evtName instanceof Array) {

        for (var i = 0; i < evtName.length; ++i) {

            this.addListener(evtName[i], cb, scope);
        }
        return;
    }

    if (!(evtName in this._events)) {

        this._events[evtName] = [];
    }

    if (typeof evtName !== 'string') throw 'event name must be a string';
    if (typeof cb !== 'function') throw 'Callback must be a function!';

    this.removeListener(evtName, cb, scope);

    var listeners = this._events[evtName],
        reg = scope ? [cb, scope] : cb;

    if (this._maxListeners > 0 && listeners.length > this._maxListeners) {

        throw Error('(node) warning: possible EventEmitter memory ' +
            'leak detected. %d listeners added. ' +
            'Use emitter.setMaxListeners() to increase limit.',
            listeners.length);
    }

    listeners.push(reg);

    if (evtName in this._flags) {

        return this._call(reg, this._flags[evtName]);
    }
};

p.removeListener = function (evtName, cb, scope) {

    if (evtName instanceof Array) {

        for (var i = 0; i < evtName.length; ++i) {

            this.removeListener(evtName[i], cb, scope);
        }
        return;
    }

    var reg, listeners = this._events[evtName];

    if (listeners) {

        for (var i = 0; i < listeners.length; ++i) {

            reg = listeners[i];

            if (typeof(reg) === 'function') {

                if (cb === reg && !scope) {

                    listeners.splice(i--, 1);
                }
            }
            else {
                if (reg[0] === cb && reg[1] === scope) {

                    listeners.splice(i--, 1);
                }
            }
        }
    }
};

p.once = function (evtName, cb, scope) {

    this.addListener(evtName, onceCb);

    function onceCb() {

        this.removeListener(evtName, onceCb);

        this._call([cb, scope], arguments);
    }
};

p.emit = function (evtName) {

    var args = Array.prototype.slice.call(arguments, 1),
        listeners = this.listeners(evtName);

    for (var i = 0, l = listeners.length; i < l; ++i) {

        this._call(listeners[i], args);
    }
};

p.flag = function (evtName) {

    var args = Array.prototype.slice.call(arguments, 1);

    this._flags[evtName] = args;
};

p._call = function (reg, args) {

    if (typeof (reg) === 'function') {

        reg.apply(this, args);
    }
    else {
        reg[0].apply(reg[1], args);
    }
};

p.listeners = function (evtName) {

    var listeners, ret = [];

    do {
        listeners = this._events[evtName];

        if (listeners) {

            ret.push.apply(ret, listeners);
        }

        evtName = evtName.slice(0, Math.max(0, evtName.lastIndexOf('.')));
    }
    while (evtName);

    return ret;
};

p.setMaxListeners = function (maxListeners) {

    this._maxListeners = parseInt(maxListeners) || 0;
};

p.removeAllListeners = function (evtName) {

    this.listeners(evtName).forEach(function (reg) {

        if (typeof (reg) === 'function') {

            this.removeListener(evtName, reg);
        }
        else {
            this.removeListener(evtName, reg[0], reg[1]);
        }
    }, this);
};

//aliases
p.on = p.addListener;
p.off = p.removeListener;

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js":[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js":[function(require,module,exports){
(function (global){
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
;(function() {

  /** Used as a safe reference for `undefined` in pre ES5 environments */
  var undefined;

  /** Used to pool arrays and objects used internally */
  var arrayPool = [],
      objectPool = [];

  /** Used to generate unique IDs */
  var idCounter = 0;

  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */
  var keyPrefix = +new Date + '';

  /** Used as the size when optimizations are enabled for large arrays */
  var largeArraySize = 75;

  /** Used as the max size of the `arrayPool` and `objectPool` */
  var maxPoolSize = 40;

  /** Used to detect and test whitespace */
  var whitespace = (
    // whitespace
    ' \t\x0B\f\xA0\ufeff' +

    // line terminators
    '\n\r\u2028\u2029' +

    // unicode category "Zs" space separators
    '\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000'
  );

  /** Used to match empty string literals in compiled template source */
  var reEmptyStringLeading = /\b__p \+= '';/g,
      reEmptyStringMiddle = /\b(__p \+=) '' \+/g,
      reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;

  /**
   * Used to match ES6 template delimiters
   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals
   */
  var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;

  /** Used to match regexp flags from their coerced string values */
  var reFlags = /\w*$/;

  /** Used to detected named functions */
  var reFuncName = /^\s*function[ \n\r\t]+\w/;

  /** Used to match "interpolate" template delimiters */
  var reInterpolate = /<%=([\s\S]+?)%>/g;

  /** Used to match leading whitespace and zeros to be removed */
  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');

  /** Used to ensure capturing order of template delimiters */
  var reNoMatch = /($^)/;

  /** Used to detect functions containing a `this` reference */
  var reThis = /\bthis\b/;

  /** Used to match unescaped characters in compiled string literals */
  var reUnescapedString = /['\n\r\t\u2028\u2029\\]/g;

  /** Used to assign default `context` object properties */
  var contextProps = [
    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',
    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',
    'parseInt', 'setTimeout'
  ];

  /** Used to make template sourceURLs easier to identify */
  var templateCounter = 0;

  /** `Object#toString` result shortcuts */
  var argsClass = '[object Arguments]',
      arrayClass = '[object Array]',
      boolClass = '[object Boolean]',
      dateClass = '[object Date]',
      funcClass = '[object Function]',
      numberClass = '[object Number]',
      objectClass = '[object Object]',
      regexpClass = '[object RegExp]',
      stringClass = '[object String]';

  /** Used to identify object classifications that `_.clone` supports */
  var cloneableClasses = {};
  cloneableClasses[funcClass] = false;
  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =
  cloneableClasses[boolClass] = cloneableClasses[dateClass] =
  cloneableClasses[numberClass] = cloneableClasses[objectClass] =
  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;

  /** Used as an internal `_.debounce` options object */
  var debounceOptions = {
    'leading': false,
    'maxWait': 0,
    'trailing': false
  };

  /** Used as the property descriptor for `__bindData__` */
  var descriptor = {
    'configurable': false,
    'enumerable': false,
    'value': null,
    'writable': false
  };

  /** Used to determine if values are of the language type Object */
  var objectTypes = {
    'boolean': false,
    'function': true,
    'object': true,
    'number': false,
    'string': false,
    'undefined': false
  };

  /** Used to escape characters for inclusion in compiled string literals */
  var stringEscapes = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\t': 't',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  /** Used as a reference to the global object */
  var root = (objectTypes[typeof window] && window) || this;

  /** Detect free variable `exports` */
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  /** Detect free variable `module` */
  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports` */
  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;

  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */
  var freeGlobal = objectTypes[typeof global] && global;
  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {
    root = freeGlobal;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * The base implementation of `_.indexOf` without support for binary searches
   * or `fromIndex` constraints.
   *
   * @private
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {number} Returns the index of the matched value or `-1`.
   */
  function baseIndexOf(array, value, fromIndex) {
    var index = (fromIndex || 0) - 1,
        length = array ? array.length : 0;

    while (++index < length) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * An implementation of `_.contains` for cache objects that mimics the return
   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.
   *
   * @private
   * @param {Object} cache The cache object to inspect.
   * @param {*} value The value to search for.
   * @returns {number} Returns `0` if `value` is found, else `-1`.
   */
  function cacheIndexOf(cache, value) {
    var type = typeof value;
    cache = cache.cache;

    if (type == 'boolean' || value == null) {
      return cache[value] ? 0 : -1;
    }
    if (type != 'number' && type != 'string') {
      type = 'object';
    }
    var key = type == 'number' ? value : keyPrefix + value;
    cache = (cache = cache[type]) && cache[key];

    return type == 'object'
      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)
      : (cache ? 0 : -1);
  }

  /**
   * Adds a given value to the corresponding cache object.
   *
   * @private
   * @param {*} value The value to add to the cache.
   */
  function cachePush(value) {
    var cache = this.cache,
        type = typeof value;

    if (type == 'boolean' || value == null) {
      cache[value] = true;
    } else {
      if (type != 'number' && type != 'string') {
        type = 'object';
      }
      var key = type == 'number' ? value : keyPrefix + value,
          typeCache = cache[type] || (cache[type] = {});

      if (type == 'object') {
        (typeCache[key] || (typeCache[key] = [])).push(value);
      } else {
        typeCache[key] = true;
      }
    }
  }

  /**
   * Used by `_.max` and `_.min` as the default callback when a given
   * collection is a string value.
   *
   * @private
   * @param {string} value The character to inspect.
   * @returns {number} Returns the code unit of given character.
   */
  function charAtCallback(value) {
    return value.charCodeAt(0);
  }

  /**
   * Used by `sortBy` to compare transformed `collection` elements, stable sorting
   * them in ascending order.
   *
   * @private
   * @param {Object} a The object to compare to `b`.
   * @param {Object} b The object to compare to `a`.
   * @returns {number} Returns the sort order indicator of `1` or `-1`.
   */
  function compareAscending(a, b) {
    var ac = a.criteria,
        bc = b.criteria,
        index = -1,
        length = ac.length;

    while (++index < length) {
      var value = ac[index],
          other = bc[index];

      if (value !== other) {
        if (value > other || typeof value == 'undefined') {
          return 1;
        }
        if (value < other || typeof other == 'undefined') {
          return -1;
        }
      }
    }
    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
    // that causes it, under certain circumstances, to return the same value for
    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247
    //
    // This also ensures a stable sort in V8 and other engines.
    // See http://code.google.com/p/v8/issues/detail?id=90
    return a.index - b.index;
  }

  /**
   * Creates a cache object to optimize linear searches of large arrays.
   *
   * @private
   * @param {Array} [array=[]] The array to search.
   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.
   */
  function createCache(array) {
    var index = -1,
        length = array.length,
        first = array[0],
        mid = array[(length / 2) | 0],
        last = array[length - 1];

    if (first && typeof first == 'object' &&
        mid && typeof mid == 'object' && last && typeof last == 'object') {
      return false;
    }
    var cache = getObject();
    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;

    var result = getObject();
    result.array = array;
    result.cache = cache;
    result.push = cachePush;

    while (++index < length) {
      result.push(array[index]);
    }
    return result;
  }

  /**
   * Used by `template` to escape characters for inclusion in compiled
   * string literals.
   *
   * @private
   * @param {string} match The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeStringChar(match) {
    return '\\' + stringEscapes[match];
  }

  /**
   * Gets an array from the array pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Array} The array from the pool.
   */
  function getArray() {
    return arrayPool.pop() || [];
  }

  /**
   * Gets an object from the object pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Object} The object from the pool.
   */
  function getObject() {
    return objectPool.pop() || {
      'array': null,
      'cache': null,
      'criteria': null,
      'false': false,
      'index': 0,
      'null': false,
      'number': null,
      'object': null,
      'push': null,
      'string': null,
      'true': false,
      'undefined': false,
      'value': null
    };
  }

  /**
   * Releases the given array back to the array pool.
   *
   * @private
   * @param {Array} [array] The array to release.
   */
  function releaseArray(array) {
    array.length = 0;
    if (arrayPool.length < maxPoolSize) {
      arrayPool.push(array);
    }
  }

  /**
   * Releases the given object back to the object pool.
   *
   * @private
   * @param {Object} [object] The object to release.
   */
  function releaseObject(object) {
    var cache = object.cache;
    if (cache) {
      releaseObject(cache);
    }
    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;
    if (objectPool.length < maxPoolSize) {
      objectPool.push(object);
    }
  }

  /**
   * Slices the `collection` from the `start` index up to, but not including,
   * the `end` index.
   *
   * Note: This function is used instead of `Array#slice` to support node lists
   * in IE < 9 and to ensure dense arrays are returned.
   *
   * @private
   * @param {Array|Object|string} collection The collection to slice.
   * @param {number} start The start index.
   * @param {number} end The end index.
   * @returns {Array} Returns the new array.
   */
  function slice(array, start, end) {
    start || (start = 0);
    if (typeof end == 'undefined') {
      end = array ? array.length : 0;
    }
    var index = -1,
        length = end - start || 0,
        result = Array(length < 0 ? 0 : length);

    while (++index < length) {
      result[index] = array[start + index];
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Create a new `lodash` function using the given context object.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns the `lodash` function.
   */
  function runInContext(context) {
    // Avoid issues with some ES3 environments that attempt to use values, named
    // after built-in constructors like `Object`, for the creation of literals.
    // ES5 clears this up by stating that literals must use built-in constructors.
    // See http://es5.github.io/#x11.1.5.
    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;

    /** Native constructor references */
    var Array = context.Array,
        Boolean = context.Boolean,
        Date = context.Date,
        Function = context.Function,
        Math = context.Math,
        Number = context.Number,
        Object = context.Object,
        RegExp = context.RegExp,
        String = context.String,
        TypeError = context.TypeError;

    /**
     * Used for `Array` method references.
     *
     * Normally `Array.prototype` would suffice, however, using an array literal
     * avoids issues in Narwhal.
     */
    var arrayRef = [];

    /** Used for native method references */
    var objectProto = Object.prototype;

    /** Used to restore the original `_` reference in `noConflict` */
    var oldDash = context._;

    /** Used to resolve the internal [[Class]] of values */
    var toString = objectProto.toString;

    /** Used to detect if a method is native */
    var reNative = RegExp('^' +
      String(toString)
        .replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
        .replace(/toString| for [^\]]+/g, '.*?') + '$'
    );

    /** Native method shortcuts */
    var ceil = Math.ceil,
        clearTimeout = context.clearTimeout,
        floor = Math.floor,
        fnToString = Function.prototype.toString,
        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,
        hasOwnProperty = objectProto.hasOwnProperty,
        push = arrayRef.push,
        setTimeout = context.setTimeout,
        splice = arrayRef.splice,
        unshift = arrayRef.unshift;

    /** Used to set meta data on functions */
    var defineProperty = (function() {
      // IE 8 only accepts DOM elements
      try {
        var o = {},
            func = isNative(func = Object.defineProperty) && func,
            result = func(o, o, o) && func;
      } catch(e) { }
      return result;
    }());

    /* Native method shortcuts for methods with the same name as other `lodash` methods */
    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,
        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,
        nativeIsFinite = context.isFinite,
        nativeIsNaN = context.isNaN,
        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,
        nativeMax = Math.max,
        nativeMin = Math.min,
        nativeParseInt = context.parseInt,
        nativeRandom = Math.random;

    /** Used to lookup a built-in constructor by [[Class]] */
    var ctorByClass = {};
    ctorByClass[arrayClass] = Array;
    ctorByClass[boolClass] = Boolean;
    ctorByClass[dateClass] = Date;
    ctorByClass[funcClass] = Function;
    ctorByClass[objectClass] = Object;
    ctorByClass[numberClass] = Number;
    ctorByClass[regexpClass] = RegExp;
    ctorByClass[stringClass] = String;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object which wraps the given value to enable intuitive
     * method chaining.
     *
     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:
     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,
     * and `unshift`
     *
     * Chaining is supported in custom builds as long as the `value` method is
     * implicitly or explicitly included in the build.
     *
     * The chainable wrapper functions are:
     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,
     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,
     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,
     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,
     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,
     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,
     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,
     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,
     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,
     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,
     * and `zip`
     *
     * The non-chainable wrapper functions are:
     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,
     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,
     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,
     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,
     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,
     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,
     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,
     * `template`, `unescape`, `uniqueId`, and `value`
     *
     * The wrapper functions `first` and `last` return wrapped values when `n` is
     * provided, otherwise they return unwrapped values.
     *
     * Explicit chaining can be enabled by using the `_.chain` method.
     *
     * @name _
     * @constructor
     * @category Chaining
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns a `lodash` instance.
     * @example
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // returns an unwrapped value
     * wrapped.reduce(function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * // returns a wrapped value
     * var squares = wrapped.map(function(num) {
     *   return num * num;
     * });
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */
    function lodash(value) {
      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor
      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))
       ? value
       : new lodashWrapper(value);
    }

    /**
     * A fast path for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap in a `lodash` instance.
     * @param {boolean} chainAll A flag to enable chaining for all methods
     * @returns {Object} Returns a `lodash` instance.
     */
    function lodashWrapper(value, chainAll) {
      this.__chain__ = !!chainAll;
      this.__wrapped__ = value;
    }
    // ensure `new lodashWrapper` is an instance of `lodash`
    lodashWrapper.prototype = lodash.prototype;

    /**
     * An object used to flag environments features.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    var support = lodash.support = {};

    /**
     * Detect if functions can be decompiled by `Function#toString`
     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);

    /**
     * Detect if `Function#name` is supported (all but IE).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcNames = typeof Function.name == 'string';

    /**
     * By default, the template delimiters used by Lo-Dash are similar to those in
     * embedded Ruby (ERB). Change the following template settings to use alternative
     * delimiters.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    lodash.templateSettings = {

      /**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'escape': /<%-([\s\S]+?)%>/g,

      /**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'evaluate': /<%([\s\S]+?)%>/g,

      /**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'interpolate': reInterpolate,

      /**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type string
       */
      'variable': '',

      /**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type Object
       */
      'imports': {

        /**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type Function
         */
        '_': lodash
      }
    };

    /*--------------------------------------------------------------------------*/

    /**
     * The base implementation of `_.bind` that creates the bound function and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new bound function.
     */
    function baseBind(bindData) {
      var func = bindData[0],
          partialArgs = bindData[2],
          thisArg = bindData[4];

      function bound() {
        // `Function#bind` spec
        // http://es5.github.io/#x15.3.4.5
        if (partialArgs) {
          // avoid `arguments` object deoptimizations by using `slice` instead
          // of `Array.prototype.slice.call` and not assigning `arguments` to a
          // variable as a ternary expression
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        // mimic the constructor's `return` behavior
        // http://es5.github.io/#x13.2.2
        if (this instanceof bound) {
          // ensure `new bound` is an instance of `func`
          var thisBinding = baseCreate(func.prototype),
              result = func.apply(thisBinding, args || arguments);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisArg, args || arguments);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.clone` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates clones with source counterparts.
     * @returns {*} Returns the cloned value.
     */
    function baseClone(value, isDeep, callback, stackA, stackB) {
      if (callback) {
        var result = callback(value);
        if (typeof result != 'undefined') {
          return result;
        }
      }
      // inspect [[Class]]
      var isObj = isObject(value);
      if (isObj) {
        var className = toString.call(value);
        if (!cloneableClasses[className]) {
          return value;
        }
        var ctor = ctorByClass[className];
        switch (className) {
          case boolClass:
          case dateClass:
            return new ctor(+value);

          case numberClass:
          case stringClass:
            return new ctor(value);

          case regexpClass:
            result = ctor(value.source, reFlags.exec(value));
            result.lastIndex = value.lastIndex;
            return result;
        }
      } else {
        return value;
      }
      var isArr = isArray(value);
      if (isDeep) {
        // check for circular references and return corresponding clone
        var initedStack = !stackA;
        stackA || (stackA = getArray());
        stackB || (stackB = getArray());

        var length = stackA.length;
        while (length--) {
          if (stackA[length] == value) {
            return stackB[length];
          }
        }
        result = isArr ? ctor(value.length) : {};
      }
      else {
        result = isArr ? slice(value) : assign({}, value);
      }
      // add array properties assigned by `RegExp#exec`
      if (isArr) {
        if (hasOwnProperty.call(value, 'index')) {
          result.index = value.index;
        }
        if (hasOwnProperty.call(value, 'input')) {
          result.input = value.input;
        }
      }
      // exit for shallow clone
      if (!isDeep) {
        return result;
      }
      // add the source value to the stack of traversed objects
      // and associate it with its clone
      stackA.push(value);
      stackB.push(result);

      // recursively populate clone (susceptible to call stack limits)
      (isArr ? forEach : forOwn)(value, function(objValue, key) {
        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);
      });

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} prototype The object to inherit from.
     * @returns {Object} Returns the new object.
     */
    function baseCreate(prototype, properties) {
      return isObject(prototype) ? nativeCreate(prototype) : {};
    }
    // fallback for browsers without `Object.create`
    if (!nativeCreate) {
      baseCreate = (function() {
        function Object() {}
        return function(prototype) {
          if (isObject(prototype)) {
            Object.prototype = prototype;
            var result = new Object;
            Object.prototype = null;
          }
          return result || context.Object();
        };
      }());
    }

    /**
     * The base implementation of `_.createCallback` without support for creating
     * "_.pluck" or "_.where" style callbacks.
     *
     * @private
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     */
    function baseCreateCallback(func, thisArg, argCount) {
      if (typeof func != 'function') {
        return identity;
      }
      // exit early for no `thisArg` or already bound by `Function#bind`
      if (typeof thisArg == 'undefined' || !('prototype' in func)) {
        return func;
      }
      var bindData = func.__bindData__;
      if (typeof bindData == 'undefined') {
        if (support.funcNames) {
          bindData = !func.name;
        }
        bindData = bindData || !support.funcDecomp;
        if (!bindData) {
          var source = fnToString.call(func);
          if (!support.funcNames) {
            bindData = !reFuncName.test(source);
          }
          if (!bindData) {
            // checks if `func` references the `this` keyword and stores the result
            bindData = reThis.test(source);
            setBindData(func, bindData);
          }
        }
      }
      // exit early if there are no `this` references or `func` is bound
      if (bindData === false || (bindData !== true && bindData[1] & 1)) {
        return func;
      }
      switch (argCount) {
        case 1: return function(value) {
          return func.call(thisArg, value);
        };
        case 2: return function(a, b) {
          return func.call(thisArg, a, b);
        };
        case 3: return function(value, index, collection) {
          return func.call(thisArg, value, index, collection);
        };
        case 4: return function(accumulator, value, index, collection) {
          return func.call(thisArg, accumulator, value, index, collection);
        };
      }
      return bind(func, thisArg);
    }

    /**
     * The base implementation of `createWrapper` that creates the wrapper and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new function.
     */
    function baseCreateWrapper(bindData) {
      var func = bindData[0],
          bitmask = bindData[1],
          partialArgs = bindData[2],
          partialRightArgs = bindData[3],
          thisArg = bindData[4],
          arity = bindData[5];

      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          key = func;

      function bound() {
        var thisBinding = isBind ? thisArg : this;
        if (partialArgs) {
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        if (partialRightArgs || isCurry) {
          args || (args = slice(arguments));
          if (partialRightArgs) {
            push.apply(args, partialRightArgs);
          }
          if (isCurry && args.length < arity) {
            bitmask |= 16 & ~32;
            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);
          }
        }
        args || (args = arguments);
        if (isBindKey) {
          func = thisBinding[key];
        }
        if (this instanceof bound) {
          thisBinding = baseCreate(func.prototype);
          var result = func.apply(thisBinding, args);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisBinding, args);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.difference` that accepts a single array
     * of values to exclude.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {Array} [values] The array of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     */
    function baseDifference(array, values) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          isLarge = length >= largeArraySize && indexOf === baseIndexOf,
          result = [];

      if (isLarge) {
        var cache = createCache(values);
        if (cache) {
          indexOf = cacheIndexOf;
          values = cache;
        } else {
          isLarge = false;
        }
      }
      while (++index < length) {
        var value = array[index];
        if (indexOf(values, value) < 0) {
          result.push(value);
        }
      }
      if (isLarge) {
        releaseObject(values);
      }
      return result;
    }

    /**
     * The base implementation of `_.flatten` without support for callback
     * shorthands or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.
     * @param {number} [fromIndex=0] The index to start from.
     * @returns {Array} Returns a new flattened array.
     */
    function baseFlatten(array, isShallow, isStrict, fromIndex) {
      var index = (fromIndex || 0) - 1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];

        if (value && typeof value == 'object' && typeof value.length == 'number'
            && (isArray(value) || isArguments(value))) {
          // recursively flatten arrays (susceptible to call stack limits)
          if (!isShallow) {
            value = baseFlatten(value, isShallow, isStrict);
          }
          var valIndex = -1,
              valLength = value.length,
              resIndex = result.length;

          result.length += valLength;
          while (++valIndex < valLength) {
            result[resIndex++] = value[valIndex];
          }
        } else if (!isStrict) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.isEqual`, without support for `thisArg` binding,
     * that allows partial "_.where" style comparisons.
     *
     * @private
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.
     * @param {Array} [stackA=[]] Tracks traversed `a` objects.
     * @param {Array} [stackB=[]] Tracks traversed `b` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {
      // used to indicate that when comparing objects, `a` has at least the properties of `b`
      if (callback) {
        var result = callback(a, b);
        if (typeof result != 'undefined') {
          return !!result;
        }
      }
      // exit early for identical values
      if (a === b) {
        // treat `+0` vs. `-0` as not equal
        return a !== 0 || (1 / a == 1 / b);
      }
      var type = typeof a,
          otherType = typeof b;

      // exit early for unlike primitive values
      if (a === a &&
          !(a && objectTypes[type]) &&
          !(b && objectTypes[otherType])) {
        return false;
      }
      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior
      // http://es5.github.io/#x15.3.4.4
      if (a == null || b == null) {
        return a === b;
      }
      // compare [[Class]] names
      var className = toString.call(a),
          otherClass = toString.call(b);

      if (className == argsClass) {
        className = objectClass;
      }
      if (otherClass == argsClass) {
        otherClass = objectClass;
      }
      if (className != otherClass) {
        return false;
      }
      switch (className) {
        case boolClass:
        case dateClass:
          // coerce dates and booleans to numbers, dates to milliseconds and booleans
          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal
          return +a == +b;

        case numberClass:
          // treat `NaN` vs. `NaN` as equal
          return (a != +a)
            ? b != +b
            // but treat `+0` vs. `-0` as not equal
            : (a == 0 ? (1 / a == 1 / b) : a == +b);

        case regexpClass:
        case stringClass:
          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)
          // treat string primitives and their corresponding object instances as equal
          return a == String(b);
      }
      var isArr = className == arrayClass;
      if (!isArr) {
        // unwrap any `lodash` wrapped values
        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),
            bWrapped = hasOwnProperty.call(b, '__wrapped__');

        if (aWrapped || bWrapped) {
          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);
        }
        // exit for functions and DOM nodes
        if (className != objectClass) {
          return false;
        }
        // in older versions of Opera, `arguments` objects have `Array` constructors
        var ctorA = a.constructor,
            ctorB = b.constructor;

        // non `Object` object instances with different constructors are not equal
        if (ctorA != ctorB &&
              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&
              ('constructor' in a && 'constructor' in b)
            ) {
          return false;
        }
      }
      // assume cyclic structures are equal
      // the algorithm for detecting cyclic structures is adapted from ES 5.1
      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)
      var initedStack = !stackA;
      stackA || (stackA = getArray());
      stackB || (stackB = getArray());

      var length = stackA.length;
      while (length--) {
        if (stackA[length] == a) {
          return stackB[length] == b;
        }
      }
      var size = 0;
      result = true;

      // add `a` and `b` to the stack of traversed objects
      stackA.push(a);
      stackB.push(b);

      // recursively compare objects and arrays (susceptible to call stack limits)
      if (isArr) {
        // compare lengths to determine if a deep comparison is necessary
        length = a.length;
        size = b.length;
        result = size == length;

        if (result || isWhere) {
          // deep compare the contents, ignoring non-numeric properties
          while (size--) {
            var index = length,
                value = b[size];

            if (isWhere) {
              while (index--) {
                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {
                  break;
                }
              }
            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {
              break;
            }
          }
        }
      }
      else {
        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`
        // which, in this case, is more costly
        forIn(b, function(value, key, b) {
          if (hasOwnProperty.call(b, key)) {
            // count the number of properties.
            size++;
            // deep compare each property value.
            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));
          }
        });

        if (result && !isWhere) {
          // ensure both objects have the same number of properties
          forIn(a, function(value, key, a) {
            if (hasOwnProperty.call(a, key)) {
              // `size` will be `-1` if `a` has more properties than `b`
              return (result = --size > -1);
            }
          });
        }
      }
      stackA.pop();
      stackB.pop();

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.merge` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates values with source counterparts.
     */
    function baseMerge(object, source, callback, stackA, stackB) {
      (isArray(source) ? forEach : forOwn)(source, function(source, key) {
        var found,
            isArr,
            result = source,
            value = object[key];

        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {
          // avoid merging previously merged cyclic sources
          var stackLength = stackA.length;
          while (stackLength--) {
            if ((found = stackA[stackLength] == source)) {
              value = stackB[stackLength];
              break;
            }
          }
          if (!found) {
            var isShallow;
            if (callback) {
              result = callback(value, source);
              if ((isShallow = typeof result != 'undefined')) {
                value = result;
              }
            }
            if (!isShallow) {
              value = isArr
                ? (isArray(value) ? value : [])
                : (isPlainObject(value) ? value : {});
            }
            // add `source` and associated `value` to the stack of traversed objects
            stackA.push(source);
            stackB.push(value);

            // recursively merge objects and arrays (susceptible to call stack limits)
            if (!isShallow) {
              baseMerge(value, source, callback, stackA, stackB);
            }
          }
        }
        else {
          if (callback) {
            result = callback(value, source);
            if (typeof result == 'undefined') {
              result = source;
            }
          }
          if (typeof result != 'undefined') {
            value = result;
          }
        }
        object[key] = value;
      });
    }

    /**
     * The base implementation of `_.random` without argument juggling or support
     * for returning floating-point numbers.
     *
     * @private
     * @param {number} min The minimum possible value.
     * @param {number} max The maximum possible value.
     * @returns {number} Returns a random number.
     */
    function baseRandom(min, max) {
      return min + floor(nativeRandom() * (max - min + 1));
    }

    /**
     * The base implementation of `_.uniq` without support for callback shorthands
     * or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function} [callback] The function called per iteration.
     * @returns {Array} Returns a duplicate-value-free array.
     */
    function baseUniq(array, isSorted, callback) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          result = [];

      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,
          seen = (callback || isLarge) ? getArray() : result;

      if (isLarge) {
        var cache = createCache(seen);
        indexOf = cacheIndexOf;
        seen = cache;
      }
      while (++index < length) {
        var value = array[index],
            computed = callback ? callback(value, index, array) : value;

        if (isSorted
              ? !index || seen[seen.length - 1] !== computed
              : indexOf(seen, computed) < 0
            ) {
          if (callback || isLarge) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
      if (isLarge) {
        releaseArray(seen.array);
        releaseObject(seen);
      } else if (callback) {
        releaseArray(seen);
      }
      return result;
    }

    /**
     * Creates a function that aggregates a collection, creating an object composed
     * of keys generated from the results of running each element of the collection
     * through a callback. The given `setter` function sets the keys and values
     * of the composed object.
     *
     * @private
     * @param {Function} setter The setter function.
     * @returns {Function} Returns the new aggregator function.
     */
    function createAggregator(setter) {
      return function(collection, callback, thisArg) {
        var result = {};
        callback = lodash.createCallback(callback, thisArg, 3);

        var index = -1,
            length = collection ? collection.length : 0;

        if (typeof length == 'number') {
          while (++index < length) {
            var value = collection[index];
            setter(result, value, callback(value, index, collection), collection);
          }
        } else {
          forOwn(collection, function(value, key, collection) {
            setter(result, value, callback(value, key, collection), collection);
          });
        }
        return result;
      };
    }

    /**
     * Creates a function that, when called, either curries or invokes `func`
     * with an optional `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to reference.
     * @param {number} bitmask The bitmask of method flags to compose.
     *  The bitmask may be composed of the following flags:
     *  1 - `_.bind`
     *  2 - `_.bindKey`
     *  4 - `_.curry`
     *  8 - `_.curry` (bound)
     *  16 - `_.partial`
     *  32 - `_.partialRight`
     * @param {Array} [partialArgs] An array of arguments to prepend to those
     *  provided to the new function.
     * @param {Array} [partialRightArgs] An array of arguments to append to those
     *  provided to the new function.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new function.
     */
    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {
      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          isPartial = bitmask & 16,
          isPartialRight = bitmask & 32;

      if (!isBindKey && !isFunction(func)) {
        throw new TypeError;
      }
      if (isPartial && !partialArgs.length) {
        bitmask &= ~16;
        isPartial = partialArgs = false;
      }
      if (isPartialRight && !partialRightArgs.length) {
        bitmask &= ~32;
        isPartialRight = partialRightArgs = false;
      }
      var bindData = func && func.__bindData__;
      if (bindData && bindData !== true) {
        // clone `bindData`
        bindData = slice(bindData);
        if (bindData[2]) {
          bindData[2] = slice(bindData[2]);
        }
        if (bindData[3]) {
          bindData[3] = slice(bindData[3]);
        }
        // set `thisBinding` is not previously bound
        if (isBind && !(bindData[1] & 1)) {
          bindData[4] = thisArg;
        }
        // set if previously bound but not currently (subsequent curried functions)
        if (!isBind && bindData[1] & 1) {
          bitmask |= 8;
        }
        // set curried arity if not yet set
        if (isCurry && !(bindData[1] & 4)) {
          bindData[5] = arity;
        }
        // append partial left arguments
        if (isPartial) {
          push.apply(bindData[2] || (bindData[2] = []), partialArgs);
        }
        // append partial right arguments
        if (isPartialRight) {
          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);
        }
        // merge flags
        bindData[1] |= bitmask;
        return createWrapper.apply(null, bindData);
      }
      // fast path for `_.bind`
      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;
      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);
    }

    /**
     * Used by `escape` to convert characters to HTML entities.
     *
     * @private
     * @param {string} match The matched character to escape.
     * @returns {string} Returns the escaped character.
     */
    function escapeHtmlChar(match) {
      return htmlEscapes[match];
    }

    /**
     * Gets the appropriate "indexOf" function. If the `_.indexOf` method is
     * customized, this method returns the custom method, otherwise it returns
     * the `baseIndexOf` function.
     *
     * @private
     * @returns {Function} Returns the "indexOf" function.
     */
    function getIndexOf() {
      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;
      return result;
    }

    /**
     * Checks if `value` is a native function.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.
     */
    function isNative(value) {
      return typeof value == 'function' && reNative.test(value);
    }

    /**
     * Sets `this` binding data on a given function.
     *
     * @private
     * @param {Function} func The function to set data on.
     * @param {Array} value The data array to set.
     */
    var setBindData = !defineProperty ? noop : function(func, value) {
      descriptor.value = value;
      defineProperty(func, '__bindData__', descriptor);
    };

    /**
     * A fallback implementation of `isPlainObject` which checks if a given value
     * is an object created by the `Object` constructor, assuming objects created
     * by the `Object` constructor have no inherited enumerable properties and that
     * there are no `Object.prototype` extensions.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     */
    function shimIsPlainObject(value) {
      var ctor,
          result;

      // avoid non Object objects, `arguments` objects, and DOM elements
      if (!(value && toString.call(value) == objectClass) ||
          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {
        return false;
      }
      // In most environments an object's own properties are iterated before
      // its inherited properties. If the last iterated property is an object's
      // own property then there are no inherited enumerable properties.
      forIn(value, function(value, key) {
        result = key;
      });
      return typeof result == 'undefined' || hasOwnProperty.call(value, result);
    }

    /**
     * Used by `unescape` to convert HTML entities to characters.
     *
     * @private
     * @param {string} match The matched character to unescape.
     * @returns {string} Returns the unescaped character.
     */
    function unescapeHtmlChar(match) {
      return htmlUnescapes[match];
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Checks if `value` is an `arguments` object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.
     * @example
     *
     * (function() { return _.isArguments(arguments); })(1, 2, 3);
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    function isArguments(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == argsClass || false;
    }

    /**
     * Checks if `value` is an array.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.
     * @example
     *
     * (function() { return _.isArray(arguments); })();
     * // => false
     *
     * _.isArray([1, 2, 3]);
     * // => true
     */
    var isArray = nativeIsArray || function(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == arrayClass || false;
    };

    /**
     * A fallback implementation of `Object.keys` which produces an array of the
     * given object's own enumerable property names.
     *
     * @private
     * @type Function
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     */
    var shimKeys = function(object) {
      var index, iterable = object, result = [];
      if (!iterable) return result;
      if (!(objectTypes[typeof object])) return result;
        for (index in iterable) {
          if (hasOwnProperty.call(iterable, index)) {
            result.push(index);
          }
        }
      return result
    };

    /**
     * Creates an array composed of the own enumerable property names of an object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     * @example
     *
     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });
     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)
     */
    var keys = !nativeKeys ? shimKeys : function(object) {
      if (!isObject(object)) {
        return [];
      }
      return nativeKeys(object);
    };

    /**
     * Used to convert characters to HTML entities:
     *
     * Though the `>` character is escaped for symmetry, characters like `>` and `/`
     * don't require escaping in HTML and have no special meaning unless they're part
     * of a tag or an unquoted attribute value.
     * http://mathiasbynens.be/notes/ambiguous-ampersands (under "semi-related fun fact")
     */
    var htmlEscapes = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };

    /** Used to convert HTML entities to characters */
    var htmlUnescapes = invert(htmlEscapes);

    /** Used to match HTML entities and HTML characters */
    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),
        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');

    /*--------------------------------------------------------------------------*/

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object. Subsequent sources will overwrite property assignments of previous
     * sources. If a callback is provided it will be executed to produce the
     * assigned values. The callback is bound to `thisArg` and invoked with two
     * arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @type Function
     * @alias extend
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize assigning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });
     * // => { 'name': 'fred', 'employer': 'slate' }
     *
     * var defaults = _.partialRight(_.assign, function(a, b) {
     *   return typeof a == 'undefined' ? b : a;
     * });
     *
     * var object = { 'name': 'barney' };
     * defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var assign = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {
        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);
      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {
        callback = args[--argsLength];
      }
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];
        }
        }
      }
      return result
    };

    /**
     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also
     * be cloned, otherwise they will be assigned by reference. If a callback
     * is provided it will be executed to produce the cloned values. If the
     * callback returns `undefined` cloning will be handled by the method instead.
     * The callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var shallow = _.clone(characters);
     * shallow[0] === characters[0];
     * // => true
     *
     * var deep = _.clone(characters, true);
     * deep[0] === characters[0];
     * // => false
     *
     * _.mixin({
     *   'clone': _.partialRight(_.clone, function(value) {
     *     return _.isElement(value) ? value.cloneNode(false) : undefined;
     *   })
     * });
     *
     * var clone = _.clone(document.body);
     * clone.childNodes.length;
     * // => 0
     */
    function clone(value, isDeep, callback, thisArg) {
      // allows working with "Collections" methods without using their `index`
      // and `collection` arguments for `isDeep` and `callback`
      if (typeof isDeep != 'boolean' && isDeep != null) {
        thisArg = callback;
        callback = isDeep;
        isDeep = false;
      }
      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates a deep clone of `value`. If a callback is provided it will be
     * executed to produce the cloned values. If the callback returns `undefined`
     * cloning will be handled by the method instead. The callback is bound to
     * `thisArg` and invoked with one argument; (value).
     *
     * Note: This method is loosely based on the structured clone algorithm. Functions
     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and
     * objects created by constructors other than `Object` are cloned to plain `Object` objects.
     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the deep cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var deep = _.cloneDeep(characters);
     * deep[0] === characters[0];
     * // => false
     *
     * var view = {
     *   'label': 'docs',
     *   'node': element
     * };
     *
     * var clone = _.cloneDeep(view, function(value) {
     *   return _.isElement(value) ? value.cloneNode(true) : undefined;
     * });
     *
     * clone.node == view.node;
     * // => false
     */
    function cloneDeep(value, callback, thisArg) {
      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates an object that inherits from the given `prototype` object. If a
     * `properties` object is provided its own enumerable properties are assigned
     * to the created object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */
    function create(prototype, properties) {
      var result = baseCreate(prototype);
      return properties ? assign(result, properties) : result;
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object for all destination properties that resolve to `undefined`. Once a
     * property is set, additional defaults of the same property will be ignored.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param- {Object} [guard] Allows working with `_.reduce` without using its
     *  `key` and `object` arguments as sources.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var object = { 'name': 'barney' };
     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var defaults = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (typeof result[index] == 'undefined') result[index] = iterable[index];
        }
        }
      }
      return result
    };

    /**
     * This method is like `_.findIndex` except that it returns the key of the
     * first element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': false },
     *   'fred': {    'age': 40, 'blocked': true },
     *   'pebbles': { 'age': 1,  'blocked': false }
     * };
     *
     * _.findKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => 'barney' (property order is not guaranteed across environments)
     *
     * // using "_.where" callback shorthand
     * _.findKey(characters, { 'age': 1 });
     * // => 'pebbles'
     *
     * // using "_.pluck" callback shorthand
     * _.findKey(characters, 'blocked');
     * // => 'fred'
     */
    function findKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwn(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * This method is like `_.findKey` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': true },
     *   'fred': {    'age': 40, 'blocked': false },
     *   'pebbles': { 'age': 1,  'blocked': true }
     * };
     *
     * _.findLastKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => returns `pebbles`, assuming `_.findKey` returns `barney`
     *
     * // using "_.where" callback shorthand
     * _.findLastKey(characters, { 'age': 40 });
     * // => 'fred'
     *
     * // using "_.pluck" callback shorthand
     * _.findLastKey(characters, 'blocked');
     * // => 'pebbles'
     */
    function findLastKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwnRight(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over own and inherited enumerable properties of an object,
     * executing the callback for each property. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, key, object). Callbacks may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forIn(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)
     */
    var forIn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        for (index in iterable) {
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forIn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forInRight(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'
     */
    function forInRight(object, callback, thisArg) {
      var pairs = [];

      forIn(object, function(value, key) {
        pairs.push(key, value);
      });

      var length = pairs.length;
      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(pairs[length--], pairs[length], object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Iterates over own enumerable properties of an object, executing the callback
     * for each property. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, key, object). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)
     */
    var forOwn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forOwn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'
     */
    function forOwnRight(object, callback, thisArg) {
      var props = keys(object),
          length = props.length;

      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        var key = props[length];
        if (callback(object[key], key, object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Creates a sorted array of property names of all enumerable properties,
     * own and inherited, of `object` that have function values.
     *
     * @static
     * @memberOf _
     * @alias methods
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names that have function values.
     * @example
     *
     * _.functions(_);
     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]
     */
    function functions(object) {
      var result = [];
      forIn(object, function(value, key) {
        if (isFunction(value)) {
          result.push(key);
        }
      });
      return result.sort();
    }

    /**
     * Checks if the specified property name exists as a direct property of `object`,
     * instead of an inherited property.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to check.
     * @returns {boolean} Returns `true` if key is a direct property, else `false`.
     * @example
     *
     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');
     * // => true
     */
    function has(object, key) {
      return object ? hasOwnProperty.call(object, key) : false;
    }

    /**
     * Creates an object composed of the inverted keys and values of the given object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the created inverted object.
     * @example
     *
     * _.invert({ 'first': 'fred', 'second': 'barney' });
     * // => { 'fred': 'first', 'barney': 'second' }
     */
    function invert(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = {};

      while (++index < length) {
        var key = props[index];
        result[object[key]] = key;
      }
      return result;
    }

    /**
     * Checks if `value` is a boolean value.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.
     * @example
     *
     * _.isBoolean(null);
     * // => false
     */
    function isBoolean(value) {
      return value === true || value === false ||
        value && typeof value == 'object' && toString.call(value) == boolClass || false;
    }

    /**
     * Checks if `value` is a date.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     */
    function isDate(value) {
      return value && typeof value == 'object' && toString.call(value) == dateClass || false;
    }

    /**
     * Checks if `value` is a DOM element.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     */
    function isElement(value) {
      return value && value.nodeType === 1 || false;
    }

    /**
     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a
     * length of `0` and objects with no own enumerable properties are considered
     * "empty".
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object|string} value The value to inspect.
     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({});
     * // => true
     *
     * _.isEmpty('');
     * // => true
     */
    function isEmpty(value) {
      var result = true;
      if (!value) {
        return result;
      }
      var className = toString.call(value),
          length = value.length;

      if ((className == arrayClass || className == stringClass || className == argsClass ) ||
          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {
        return !length;
      }
      forOwn(value, function() {
        return (result = false);
      });
      return result;
    }

    /**
     * Performs a deep comparison between two values to determine if they are
     * equivalent to each other. If a callback is provided it will be executed
     * to compare values. If the callback returns `undefined` comparisons will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (a, b).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var copy = { 'name': 'fred' };
     *
     * object == copy;
     * // => false
     *
     * _.isEqual(object, copy);
     * // => true
     *
     * var words = ['hello', 'goodbye'];
     * var otherWords = ['hi', 'goodbye'];
     *
     * _.isEqual(words, otherWords, function(a, b) {
     *   var reGreet = /^(?:hello|hi)$/i,
     *       aGreet = _.isString(a) && reGreet.test(a),
     *       bGreet = _.isString(b) && reGreet.test(b);
     *
     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;
     * });
     * // => true
     */
    function isEqual(a, b, callback, thisArg) {
      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));
    }

    /**
     * Checks if `value` is, or can be coerced to, a finite number.
     *
     * Note: This is not the same as native `isFinite` which will return true for
     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.
     * @example
     *
     * _.isFinite(-101);
     * // => true
     *
     * _.isFinite('10');
     * // => true
     *
     * _.isFinite(true);
     * // => false
     *
     * _.isFinite('');
     * // => false
     *
     * _.isFinite(Infinity);
     * // => false
     */
    function isFinite(value) {
      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));
    }

    /**
     * Checks if `value` is a function.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     */
    function isFunction(value) {
      return typeof value == 'function';
    }

    /**
     * Checks if `value` is the language type of Object.
     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(1);
     * // => false
     */
    function isObject(value) {
      // check if the value is the ECMAScript language type of Object
      // http://es5.github.io/#x8
      // and avoid a V8 bug
      // http://code.google.com/p/v8/issues/detail?id=2291
      return !!(value && objectTypes[typeof value]);
    }

    /**
     * Checks if `value` is `NaN`.
     *
     * Note: This is not the same as native `isNaN` which will return `true` for
     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */
    function isNaN(value) {
      // `NaN` as a primitive is the only value that is not equal to itself
      // (perform the [[Class]] check first to avoid errors with some host objects in IE)
      return isNumber(value) && value != +value;
    }

    /**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(undefined);
     * // => false
     */
    function isNull(value) {
      return value === null;
    }

    /**
     * Checks if `value` is a number.
     *
     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(8.4 * 5);
     * // => true
     */
    function isNumber(value) {
      return typeof value == 'number' ||
        value && typeof value == 'object' && toString.call(value) == numberClass || false;
    }

    /**
     * Checks if `value` is an object created by the `Object` constructor.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * _.isPlainObject(new Shape);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     */
    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {
      if (!(value && toString.call(value) == objectClass)) {
        return false;
      }
      var valueOf = value.valueOf,
          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);

      return objProto
        ? (value == objProto || getPrototypeOf(value) == objProto)
        : shimIsPlainObject(value);
    };

    /**
     * Checks if `value` is a regular expression.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.
     * @example
     *
     * _.isRegExp(/fred/);
     * // => true
     */
    function isRegExp(value) {
      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;
    }

    /**
     * Checks if `value` is a string.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.
     * @example
     *
     * _.isString('fred');
     * // => true
     */
    function isString(value) {
      return typeof value == 'string' ||
        value && typeof value == 'object' && toString.call(value) == stringClass || false;
    }

    /**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     */
    function isUndefined(value) {
      return typeof value == 'undefined';
    }

    /**
     * Creates an object with the same keys as `object` and values generated by
     * running each own enumerable property of `object` through the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new object with values of the results of each `callback` execution.
     * @example
     *
     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     *
     * var characters = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // using "_.pluck" callback shorthand
     * _.mapValues(characters, 'age');
     * // => { 'fred': 40, 'pebbles': 1 }
     */
    function mapValues(object, callback, thisArg) {
      var result = {};
      callback = lodash.createCallback(callback, thisArg, 3);

      forOwn(object, function(value, key, object) {
        result[key] = callback(value, key, object);
      });
      return result;
    }

    /**
     * Recursively merges own enumerable properties of the source object(s), that
     * don't resolve to `undefined` into the destination object. Subsequent sources
     * will overwrite property assignments of previous sources. If a callback is
     * provided it will be executed to produce the merged values of the destination
     * and source properties. If the callback returns `undefined` merging will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var names = {
     *   'characters': [
     *     { 'name': 'barney' },
     *     { 'name': 'fred' }
     *   ]
     * };
     *
     * var ages = {
     *   'characters': [
     *     { 'age': 36 },
     *     { 'age': 40 }
     *   ]
     * };
     *
     * _.merge(names, ages);
     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }
     *
     * var food = {
     *   'fruits': ['apple'],
     *   'vegetables': ['beet']
     * };
     *
     * var otherFood = {
     *   'fruits': ['banana'],
     *   'vegetables': ['carrot']
     * };
     *
     * _.merge(food, otherFood, function(a, b) {
     *   return _.isArray(a) ? a.concat(b) : undefined;
     * });
     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }
     */
    function merge(object) {
      var args = arguments,
          length = 2;

      if (!isObject(object)) {
        return object;
      }
      // allows working with `_.reduce` and `_.reduceRight` without using
      // their `index` and `collection` arguments
      if (typeof args[2] != 'number') {
        length = args.length;
      }
      if (length > 3 && typeof args[length - 2] == 'function') {
        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);
      } else if (length > 2 && typeof args[length - 1] == 'function') {
        callback = args[--length];
      }
      var sources = slice(arguments, 1, length),
          index = -1,
          stackA = getArray(),
          stackB = getArray();

      while (++index < length) {
        baseMerge(object, sources[index], callback, stackA, stackB);
      }
      releaseArray(stackA);
      releaseArray(stackB);
      return object;
    }

    /**
     * Creates a shallow clone of `object` excluding the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` omitting the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The properties to omit or the
     *  function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object without the omitted properties.
     * @example
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');
     * // => { 'name': 'fred' }
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {
     *   return typeof value == 'number';
     * });
     * // => { 'name': 'fred' }
     */
    function omit(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var props = [];
        forIn(object, function(value, key) {
          props.push(key);
        });
        props = baseDifference(props, baseFlatten(arguments, true, false, 1));

        var index = -1,
            length = props.length;

        while (++index < length) {
          var key = props[index];
          result[key] = object[key];
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (!callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * Creates a two dimensional array of an object's key-value pairs,
     * i.e. `[[key1, value1], [key2, value2]]`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns new array of key-value pairs.
     * @example
     *
     * _.pairs({ 'barney': 36, 'fred': 40 });
     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)
     */
    function pairs(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        var key = props[index];
        result[index] = [key, object[key]];
      }
      return result;
    }

    /**
     * Creates a shallow clone of `object` composed of the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` picking the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The function called per
     *  iteration or property names to pick, specified as individual property
     *  names or arrays of property names.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object composed of the picked properties.
     * @example
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');
     * // => { 'name': 'fred' }
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {
     *   return key.charAt(0) != '_';
     * });
     * // => { 'name': 'fred' }
     */
    function pick(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var index = -1,
            props = baseFlatten(arguments, true, false, 1),
            length = isObject(object) ? props.length : 0;

        while (++index < length) {
          var key = props[index];
          if (key in object) {
            result[key] = object[key];
          }
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * An alternative to `_.reduce` this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable properties through a callback, with each callback execution
     * potentially mutating the `accumulator` object. The callback is bound to
     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).
     * Callbacks may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {
     *   num *= num;
     *   if (num % 2) {
     *     return result.push(num) < 3;
     *   }
     * });
     * // => [1, 9, 25]
     *
     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     * });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function transform(object, callback, accumulator, thisArg) {
      var isArr = isArray(object);
      if (accumulator == null) {
        if (isArr) {
          accumulator = [];
        } else {
          var ctor = object && object.constructor,
              proto = ctor && ctor.prototype;

          accumulator = baseCreate(proto);
        }
      }
      if (callback) {
        callback = lodash.createCallback(callback, thisArg, 4);
        (isArr ? forEach : forOwn)(object, function(value, index, object) {
          return callback(accumulator, value, index, object);
        });
      }
      return accumulator;
    }

    /**
     * Creates an array composed of the own enumerable property values of `object`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property values.
     * @example
     *
     * _.values({ 'one': 1, 'two': 2, 'three': 3 });
     * // => [1, 2, 3] (property order is not guaranteed across environments)
     */
    function values(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        result[index] = object[props[index]];
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array of elements from the specified indexes, or keys, of the
     * `collection`. Indexes may be specified as individual arguments or as arrays
     * of indexes.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`
     *   to retrieve, specified as individual indexes or arrays of indexes.
     * @returns {Array} Returns a new array of elements corresponding to the
     *  provided indexes.
     * @example
     *
     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);
     * // => ['a', 'c', 'e']
     *
     * _.at(['fred', 'barney', 'pebbles'], 0, 2);
     * // => ['fred', 'pebbles']
     */
    function at(collection) {
      var args = arguments,
          index = -1,
          props = baseFlatten(args, true, false, 1),
          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,
          result = Array(length);

      while(++index < length) {
        result[index] = collection[props[index]];
      }
      return result;
    }

    /**
     * Checks if a given value is present in a collection using strict equality
     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the
     * offset from the end of the collection.
     *
     * @static
     * @memberOf _
     * @alias include
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {*} target The value to check for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.
     * @example
     *
     * _.contains([1, 2, 3], 1);
     * // => true
     *
     * _.contains([1, 2, 3], 1, 2);
     * // => false
     *
     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');
     * // => true
     *
     * _.contains('pebbles', 'eb');
     * // => true
     */
    function contains(collection, target, fromIndex) {
      var index = -1,
          indexOf = getIndexOf(),
          length = collection ? collection.length : 0,
          result = false;

      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;
      if (isArray(collection)) {
        result = indexOf(collection, target, fromIndex) > -1;
      } else if (typeof length == 'number') {
        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;
      } else {
        forOwn(collection, function(value) {
          if (++index >= fromIndex) {
            return !(result = value === target);
          }
        });
      }
      return result;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` through the callback. The corresponding value
     * of each key is the number of times the key was returned by the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */
    var countBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);
    });

    /**
     * Checks if the given callback returns truey value for **all** elements of
     * a collection. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias all
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if all elements passed the callback check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes']);
     * // => false
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.every(characters, 'age');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.every(characters, { 'age': 36 });
     * // => false
     */
    function every(collection, callback, thisArg) {
      var result = true;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if (!(result = !!callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return (result = !!callback(value, index, collection));
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning an array of all elements
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias select
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that passed the callback check.
     * @example
     *
     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [2, 4, 6]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.filter(characters, 'blocked');
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     *
     * // using "_.where" callback shorthand
     * _.filter(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     */
    function filter(collection, callback, thisArg) {
      var result = [];
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            result.push(value);
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result.push(value);
          }
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning the first element that
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias detect, findWhere
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.find(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => { 'name': 'barney', 'age': 36, 'blocked': false }
     *
     * // using "_.where" callback shorthand
     * _.find(characters, { 'age': 1 });
     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }
     *
     * // using "_.pluck" callback shorthand
     * _.find(characters, 'blocked');
     * // => { 'name': 'fred', 'age': 40, 'blocked': true }
     */
    function find(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            return value;
          }
        }
      } else {
        var result;
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result = value;
            return false;
          }
        });
        return result;
      }
    }

    /**
     * This method is like `_.find` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(num) {
     *   return num % 2 == 1;
     * });
     * // => 3
     */
    function findLast(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forEachRight(collection, function(value, index, collection) {
        if (callback(value, index, collection)) {
          result = value;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over elements of a collection, executing the callback for each
     * element. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * Note: As with other "Collections" methods, objects with a `length` property
     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`
     * may be used for object iteration.
     *
     * @static
     * @memberOf _
     * @alias each
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');
     * // => logs each number and returns '1,2,3'
     *
     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });
     * // => logs each number and returns the object (property order is not guaranteed across environments)
     */
    function forEach(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (++index < length) {
          if (callback(collection[index], index, collection) === false) {
            break;
          }
        }
      } else {
        forOwn(collection, callback);
      }
      return collection;
    }

    /**
     * This method is like `_.forEach` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias eachRight
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');
     * // => logs each number from right to left and returns '3,2,1'
     */
    function forEachRight(collection, callback, thisArg) {
      var length = collection ? collection.length : 0;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (length--) {
          if (callback(collection[length], length, collection) === false) {
            break;
          }
        }
      } else {
        var props = keys(collection);
        length = props.length;
        forOwn(collection, function(value, key, collection) {
          key = props ? props[--length] : --length;
          return callback(collection[key], key, collection);
        });
      }
      return collection;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of a collection through the callback. The corresponding value
     * of each key is an array of the elements responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * // using "_.pluck" callback shorthand
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */
    var groupBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);
    });

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of the collection through the given callback. The corresponding
     * value of each key is the last element responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var keys = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.indexBy(keys, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     */
    var indexBy = createAggregator(function(result, value, key) {
      result[key] = value;
    });

    /**
     * Invokes the method named by `methodName` on each element in the `collection`
     * returning an array of the results of each invoked method. Additional arguments
     * will be provided to each invoked method. If `methodName` is a function it
     * will be invoked for, and `this` bound to, each element in the `collection`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|string} methodName The name of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [arg] Arguments to invoke the method with.
     * @returns {Array} Returns a new array of the results of each invoked method.
     * @example
     *
     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invoke([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */
    function invoke(collection, methodName) {
      var args = slice(arguments, 2),
          index = -1,
          isFunc = typeof methodName == 'function',
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);
      });
      return result;
    }

    /**
     * Creates an array of values by running each element in the collection
     * through the callback. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias collect
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of the results of each `callback` execution.
     * @example
     *
     * _.map([1, 2, 3], function(num) { return num * 3; });
     * // => [3, 6, 9]
     *
     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });
     * // => [3, 6, 9] (property order is not guaranteed across environments)
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(characters, 'name');
     * // => ['barney', 'fred']
     */
    function map(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        var result = Array(length);
        while (++index < length) {
          result[index] = callback(collection[index], index, collection);
        }
      } else {
        result = [];
        forOwn(collection, function(value, key, collection) {
          result[++index] = callback(value, key, collection);
        });
      }
      return result;
    }

    /**
     * Retrieves the maximum value of a collection. If the collection is empty or
     * falsey `-Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.max(characters, function(chr) { return chr.age; });
     * // => { 'name': 'fred', 'age': 40 };
     *
     * // using "_.pluck" callback shorthand
     * _.max(characters, 'age');
     * // => { 'name': 'fred', 'age': 40 };
     */
    function max(collection, callback, thisArg) {
      var computed = -Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value > result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current > computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the minimum value of a collection. If the collection is empty or
     * falsey `Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.min(characters, function(chr) { return chr.age; });
     * // => { 'name': 'barney', 'age': 36 };
     *
     * // using "_.pluck" callback shorthand
     * _.min(characters, 'age');
     * // => { 'name': 'barney', 'age': 36 };
     */
    function min(collection, callback, thisArg) {
      var computed = Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value < result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current < computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the value of a specified property from all elements in the collection.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {string} property The name of the property to pluck.
     * @returns {Array} Returns a new array of property values.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.pluck(characters, 'name');
     * // => ['barney', 'fred']
     */
    var pluck = map;

    /**
     * Reduces a collection to a value which is the accumulated result of running
     * each element in the collection through the callback, where each successive
     * callback execution consumes the return value of the previous execution. If
     * `accumulator` is not provided the first element of the collection will be
     * used as the initial `accumulator` value. The callback is bound to `thisArg`
     * and invoked with four arguments; (accumulator, value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @alias foldl, inject
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var sum = _.reduce([1, 2, 3], function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     *   return result;
     * }, {});
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function reduce(collection, callback, accumulator, thisArg) {
      if (!collection) return accumulator;
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);

      var index = -1,
          length = collection.length;

      if (typeof length == 'number') {
        if (noaccum) {
          accumulator = collection[++index];
        }
        while (++index < length) {
          accumulator = callback(accumulator, collection[index], index, collection);
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          accumulator = noaccum
            ? (noaccum = false, value)
            : callback(accumulator, value, index, collection)
        });
      }
      return accumulator;
    }

    /**
     * This method is like `_.reduce` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias foldr
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var list = [[0, 1], [2, 3], [4, 5]];
     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */
    function reduceRight(collection, callback, accumulator, thisArg) {
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);
      forEachRight(collection, function(value, index, collection) {
        accumulator = noaccum
          ? (noaccum = false, value)
          : callback(accumulator, value, index, collection);
      });
      return accumulator;
    }

    /**
     * The opposite of `_.filter` this method returns the elements of a
     * collection that the callback does **not** return truey for.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that failed the callback check.
     * @example
     *
     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [1, 3, 5]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.reject(characters, 'blocked');
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     *
     * // using "_.where" callback shorthand
     * _.reject(characters, { 'age': 36 });
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     */
    function reject(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);
      return filter(collection, function(value, index, collection) {
        return !callback(value, index, collection);
      });
    }

    /**
     * Retrieves a random element or `n` random elements from a collection.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to sample.
     * @param {number} [n] The number of elements to sample.
     * @param- {Object} [guard] Allows working with functions like `_.map`
     *  without using their `index` arguments as `n`.
     * @returns {Array} Returns the random sample(s) of `collection`.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     *
     * _.sample([1, 2, 3, 4], 2);
     * // => [3, 1]
     */
    function sample(collection, n, guard) {
      if (collection && typeof collection.length != 'number') {
        collection = values(collection);
      }
      if (n == null || guard) {
        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;
      }
      var result = shuffle(collection);
      result.length = nativeMin(nativeMax(0, n), result.length);
      return result;
    }

    /**
     * Creates an array of shuffled values, using a version of the Fisher-Yates
     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to shuffle.
     * @returns {Array} Returns a new shuffled collection.
     * @example
     *
     * _.shuffle([1, 2, 3, 4, 5, 6]);
     * // => [4, 1, 6, 3, 5, 2]
     */
    function shuffle(collection) {
      var index = -1,
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        var rand = baseRandom(0, ++index);
        result[index] = result[rand];
        result[rand] = value;
      });
      return result;
    }

    /**
     * Gets the size of the `collection` by returning `collection.length` for arrays
     * and array-like objects or the number of own enumerable properties for objects.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns `collection.length` or number of own enumerable properties.
     * @example
     *
     * _.size([1, 2]);
     * // => 2
     *
     * _.size({ 'one': 1, 'two': 2, 'three': 3 });
     * // => 3
     *
     * _.size('pebbles');
     * // => 7
     */
    function size(collection) {
      var length = collection ? collection.length : 0;
      return typeof length == 'number' ? length : keys(collection).length;
    }

    /**
     * Checks if the callback returns a truey value for **any** element of a
     * collection. The function returns as soon as it finds a passing value and
     * does not iterate over the entire collection. The callback is bound to
     * `thisArg` and invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias any
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if any element passed the callback check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.some(characters, 'blocked');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.some(characters, { 'age': 1 });
     * // => false
     */
    function some(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if ((result = callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return !(result = callback(value, index, collection));
        });
      }
      return !!result;
    }

    /**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection through the callback. This method
     * performs a stable sort, that is, it will preserve the original sort order
     * of equal elements. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an array of property names is provided for `callback` the collection
     * will be sorted by each property value.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Array|Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of sorted elements.
     * @example
     *
     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });
     * // => [3, 1, 2]
     *
     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);
     * // => [3, 1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'barney',  'age': 26 },
     *   { 'name': 'fred',    'age': 30 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(_.sortBy(characters, 'age'), _.values);
     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]
     *
     * // sorting by multiple properties
     * _.map(_.sortBy(characters, ['name', 'age']), _.values);
     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]
     */
    function sortBy(collection, callback, thisArg) {
      var index = -1,
          isArr = isArray(callback),
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      if (!isArr) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      forEach(collection, function(value, key, collection) {
        var object = result[++index] = getObject();
        if (isArr) {
          object.criteria = map(callback, function(key) { return value[key]; });
        } else {
          (object.criteria = getArray())[0] = callback(value, key, collection);
        }
        object.index = index;
        object.value = value;
      });

      length = result.length;
      result.sort(compareAscending);
      while (length--) {
        var object = result[length];
        result[length] = object.value;
        if (!isArr) {
          releaseArray(object.criteria);
        }
        releaseObject(object);
      }
      return result;
    }

    /**
     * Converts the `collection` to an array.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to convert.
     * @returns {Array} Returns the new converted array.
     * @example
     *
     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
     * // => [2, 3, 4]
     */
    function toArray(collection) {
      if (collection && typeof collection.length == 'number') {
        return slice(collection);
      }
      return values(collection);
    }

    /**
     * Performs a deep comparison of each element in a `collection` to the given
     * `properties` object, returning an array of all elements that have equivalent
     * property values.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Object} props The object of property values to filter by.
     * @returns {Array} Returns a new array of elements that have the given properties.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * _.where(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]
     *
     * _.where(characters, { 'pets': ['dino'] });
     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]
     */
    var where = filter;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are all falsey.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to compact.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */
    function compact(array) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];
        if (value) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * Creates an array excluding all values of the provided arrays using strict
     * equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {...Array} [values] The arrays of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);
     * // => [1, 3, 4]
     */
    function difference(array) {
      return baseDifference(array, baseFlatten(arguments, true, true, 1));
    }

    /**
     * This method is like `_.find` except that it returns the index of the first
     * element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.findIndex(characters, function(chr) {
     *   return chr.age < 20;
     * });
     * // => 2
     *
     * // using "_.where" callback shorthand
     * _.findIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findIndex(characters, 'blocked');
     * // => 1
     */
    function findIndex(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        if (callback(array[index], index, array)) {
          return index;
        }
      }
      return -1;
    }

    /**
     * This method is like `_.findIndex` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': true },
     *   { 'name': 'fred',    'age': 40, 'blocked': false },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }
     * ];
     *
     * _.findLastIndex(characters, function(chr) {
     *   return chr.age > 30;
     * });
     * // => 1
     *
     * // using "_.where" callback shorthand
     * _.findLastIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findLastIndex(characters, 'blocked');
     * // => 2
     */
    function findLastIndex(array, callback, thisArg) {
      var length = array ? array.length : 0;
      callback = lodash.createCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(array[length], length, array)) {
          return length;
        }
      }
      return -1;
    }

    /**
     * Gets the first element or first `n` elements of an array. If a callback
     * is provided elements at the beginning of the array are returned as long
     * as the callback returns truey. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias head, take
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the first element(s) of `array`.
     * @example
     *
     * _.first([1, 2, 3]);
     * // => 1
     *
     * _.first([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.first([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.first(characters, 'blocked');
     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');
     * // => ['barney', 'fred']
     */
    function first(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = -1;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[0] : undefined;
        }
      }
      return slice(array, 0, nativeMin(nativeMax(0, n), length));
    }

    /**
     * Flattens a nested array (the nesting can be to any depth). If `isShallow`
     * is truey, the array will only be flattened a single level. If a callback
     * is provided each element of the array is passed through the callback before
     * flattening. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new flattened array.
     * @example
     *
     * _.flatten([1, [2], [3, [[4]]]]);
     * // => [1, 2, 3, 4];
     *
     * _.flatten([1, [2], [3, [[4]]]], true);
     * // => [1, 2, 3, [[4]]];
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.flatten(characters, 'pets');
     * // => ['hoppy', 'baby puss', 'dino']
     */
    function flatten(array, isShallow, callback, thisArg) {
      // juggle arguments
      if (typeof isShallow != 'boolean' && isShallow != null) {
        thisArg = callback;
        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;
        isShallow = false;
      }
      if (callback != null) {
        array = map(array, callback, thisArg);
      }
      return baseFlatten(array, isShallow);
    }

    /**
     * Gets the index at which the first occurrence of `value` is found using
     * strict equality for comparisons, i.e. `===`. If the array is already sorted
     * providing `true` for `fromIndex` will run a faster binary search.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {boolean|number} [fromIndex=0] The index to search from or `true`
     *  to perform a binary search on a sorted array.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 1
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 4
     *
     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);
     * // => 2
     */
    function indexOf(array, value, fromIndex) {
      if (typeof fromIndex == 'number') {
        var length = array ? array.length : 0;
        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);
      } else if (fromIndex) {
        var index = sortedIndex(array, value);
        return array[index] === value ? index : -1;
      }
      return baseIndexOf(array, value, fromIndex);
    }

    /**
     * Gets all but the last element or last `n` elements of an array. If a
     * callback is provided elements at the end of the array are excluded from
     * the result as long as the callback returns truey. The callback is bound
     * to `thisArg` and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     *
     * _.initial([1, 2, 3], 2);
     * // => [1]
     *
     * _.initial([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [1]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.initial(characters, 'blocked');
     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');
     * // => ['barney', 'fred']
     */
    function initial(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : callback || n;
      }
      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));
    }

    /**
     * Creates an array of unique values present in all provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of shared values.
     * @example
     *
     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2]
     */
    function intersection() {
      var args = [],
          argsIndex = -1,
          argsLength = arguments.length,
          caches = getArray(),
          indexOf = getIndexOf(),
          trustIndexOf = indexOf === baseIndexOf,
          seen = getArray();

      while (++argsIndex < argsLength) {
        var value = arguments[argsIndex];
        if (isArray(value) || isArguments(value)) {
          args.push(value);
          caches.push(trustIndexOf && value.length >= largeArraySize &&
            createCache(argsIndex ? args[argsIndex] : seen));
        }
      }
      var array = args[0],
          index = -1,
          length = array ? array.length : 0,
          result = [];

      outer:
      while (++index < length) {
        var cache = caches[0];
        value = array[index];

        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {
          argsIndex = argsLength;
          (cache || seen).push(value);
          while (--argsIndex) {
            cache = caches[argsIndex];
            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {
              continue outer;
            }
          }
          result.push(value);
        }
      }
      while (argsLength--) {
        cache = caches[argsLength];
        if (cache) {
          releaseObject(cache);
        }
      }
      releaseArray(caches);
      releaseArray(seen);
      return result;
    }

    /**
     * Gets the last element or last `n` elements of an array. If a callback is
     * provided elements at the end of the array are returned as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the last element(s) of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     *
     * _.last([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.last([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [2, 3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.last(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.last(characters, { 'employer': 'na' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function last(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[length - 1] : undefined;
        }
      }
      return slice(array, nativeMax(0, length - n));
    }

    /**
     * Gets the index at which the last occurrence of `value` is found using strict
     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used
     * as the offset from the end of the collection.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 4
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 1
     */
    function lastIndexOf(array, value, fromIndex) {
      var index = array ? array.length : 0;
      if (typeof fromIndex == 'number') {
        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;
      }
      while (index--) {
        if (array[index] === value) {
          return index;
        }
      }
      return -1;
    }

    /**
     * Removes all provided values from the given array using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {...*} [value] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3, 1, 2, 3];
     * _.pull(array, 2, 3);
     * console.log(array);
     * // => [1, 1]
     */
    function pull(array) {
      var args = arguments,
          argsIndex = 0,
          argsLength = args.length,
          length = array ? array.length : 0;

      while (++argsIndex < argsLength) {
        var index = -1,
            value = args[argsIndex];
        while (++index < length) {
          if (array[index] === value) {
            splice.call(array, index--, 1);
            length--;
          }
        }
      }
      return array;
    }

    /**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to but not including `end`. If `start` is less than `stop` a
     * zero-length range is created unless a negative `step` is specified.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns a new range array.
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */
    function range(start, end, step) {
      start = +start || 0;
      step = typeof step == 'number' ? step : (+step || 1);

      if (end == null) {
        end = start;
        start = 0;
      }
      // use `Array(length)` so engines like Chakra and V8 avoid slower modes
      // http://youtu.be/XAqIpGU8ZZk#t=17m25s
      var index = -1,
          length = nativeMax(0, ceil((end - start) / (step || 1))),
          result = Array(length);

      while (++index < length) {
        result[index] = start;
        start += step;
      }
      return result;
    }

    /**
     * Removes all elements from an array that the callback returns truey for
     * and returns an array of removed elements. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4, 5, 6];
     * var evens = _.remove(array, function(num) { return num % 2 == 0; });
     *
     * console.log(array);
     * // => [1, 3, 5]
     *
     * console.log(evens);
     * // => [2, 4, 6]
     */
    function remove(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        var value = array[index];
        if (callback(value, index, array)) {
          result.push(value);
          splice.call(array, index--, 1);
          length--;
        }
      }
      return result;
    }

    /**
     * The opposite of `_.initial` this method gets all but the first element or
     * first `n` elements of an array. If a callback function is provided elements
     * at the beginning of the array are excluded from the result as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias drop, tail
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.rest([1, 2, 3]);
     * // => [2, 3]
     *
     * _.rest([1, 2, 3], 2);
     * // => [3]
     *
     * _.rest([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.rest(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.rest(characters, { 'employer': 'slate' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function rest(array, callback, thisArg) {
      if (typeof callback != 'number' && callback != null) {
        var n = 0,
            index = -1,
            length = array ? array.length : 0;

        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);
      }
      return slice(array, n);
    }

    /**
     * Uses a binary search to determine the smallest index at which a value
     * should be inserted into a given sorted array in order to maintain the sort
     * order of the array. If a callback is provided it will be executed for
     * `value` and each element of `array` to compute their sort ranking. The
     * callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([20, 30, 50], 40);
     * // => 2
     *
     * // using "_.pluck" callback shorthand
     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');
     * // => 2
     *
     * var dict = {
     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }
     * };
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return dict.wordToNumber[word];
     * });
     * // => 2
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return this.wordToNumber[word];
     * }, dict);
     * // => 2
     */
    function sortedIndex(array, value, callback, thisArg) {
      var low = 0,
          high = array ? array.length : low;

      // explicitly reference `identity` for better inlining in Firefox
      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;
      value = callback(value);

      while (low < high) {
        var mid = (low + high) >>> 1;
        (callback(array[mid]) < value)
          ? low = mid + 1
          : high = mid;
      }
      return low;
    }

    /**
     * Creates an array of unique values, in order, of the provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of combined values.
     * @example
     *
     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2, 3, 5, 4]
     */
    function union() {
      return baseUniq(baseFlatten(arguments, true, true));
    }

    /**
     * Creates a duplicate-value-free version of an array using strict equality
     * for comparisons, i.e. `===`. If the array is sorted, providing
     * `true` for `isSorted` will use a faster algorithm. If a callback is provided
     * each element of `array` is passed through the callback before uniqueness
     * is computed. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias unique
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a duplicate-value-free array.
     * @example
     *
     * _.uniq([1, 2, 1, 3, 1]);
     * // => [1, 2, 3]
     *
     * _.uniq([1, 1, 2, 2, 3], true);
     * // => [1, 2, 3]
     *
     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });
     * // => ['A', 'b', 'C']
     *
     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);
     * // => [1, 2.5, 3]
     *
     * // using "_.pluck" callback shorthand
     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */
    function uniq(array, isSorted, callback, thisArg) {
      // juggle arguments
      if (typeof isSorted != 'boolean' && isSorted != null) {
        thisArg = callback;
        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;
        isSorted = false;
      }
      if (callback != null) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      return baseUniq(array, isSorted, callback);
    }

    /**
     * Creates an array excluding all provided values using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to filter.
     * @param {...*} [value] The values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);
     * // => [2, 3, 4]
     */
    function without(array) {
      return baseDifference(array, slice(arguments, 1));
    }

    /**
     * Creates an array that is the symmetric difference of the provided arrays.
     * See http://en.wikipedia.org/wiki/Symmetric_difference.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of values.
     * @example
     *
     * _.xor([1, 2, 3], [5, 2, 1, 4]);
     * // => [3, 5, 4]
     *
     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);
     * // => [1, 4, 5]
     */
    function xor() {
      var index = -1,
          length = arguments.length;

      while (++index < length) {
        var array = arguments[index];
        if (isArray(array) || isArguments(array)) {
          var result = result
            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))
            : array;
        }
      }
      return result || [];
    }

    /**
     * Creates an array of grouped elements, the first of which contains the first
     * elements of the given arrays, the second of which contains the second
     * elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @alias unzip
     * @category Arrays
     * @param {...Array} [array] Arrays to process.
     * @returns {Array} Returns a new array of grouped elements.
     * @example
     *
     * _.zip(['fred', 'barney'], [30, 40], [true, false]);
     * // => [['fred', 30, true], ['barney', 40, false]]
     */
    function zip() {
      var array = arguments.length > 1 ? arguments : arguments[0],
          index = -1,
          length = array ? max(pluck(array, 'length')) : 0,
          result = Array(length < 0 ? 0 : length);

      while (++index < length) {
        result[index] = pluck(array, index);
      }
      return result;
    }

    /**
     * Creates an object composed from arrays of `keys` and `values`. Provide
     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`
     * or two arrays, one of `keys` and one of corresponding `values`.
     *
     * @static
     * @memberOf _
     * @alias object
     * @category Arrays
     * @param {Array} keys The array of keys.
     * @param {Array} [values=[]] The array of values.
     * @returns {Object} Returns an object composed of the given keys and
     *  corresponding values.
     * @example
     *
     * _.zipObject(['fred', 'barney'], [30, 40]);
     * // => { 'fred': 30, 'barney': 40 }
     */
    function zipObject(keys, values) {
      var index = -1,
          length = keys ? keys.length : 0,
          result = {};

      if (!values && length && !isArray(keys[0])) {
        values = [];
      }
      while (++index < length) {
        var key = keys[index];
        if (values) {
          result[key] = values[index];
        } else if (key) {
          result[key[0]] = key[1];
        }
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that executes `func`, with  the `this` binding and
     * arguments of the created function, only after being called `n` times.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {number} n The number of times the function must be called before
     *  `func` is executed.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('Done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => logs 'Done saving!', after all saves have completed
     */
    function after(n, func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (--n < 1) {
          return func.apply(this, arguments);
        }
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with the `this`
     * binding of `thisArg` and prepends any additional `bind` arguments to those
     * provided to the bound function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to bind.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var func = function(greeting) {
     *   return greeting + ' ' + this.name;
     * };
     *
     * func = _.bind(func, { 'name': 'fred' }, 'hi');
     * func();
     * // => 'hi fred'
     */
    function bind(func, thisArg) {
      return arguments.length > 2
        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)
        : createWrapper(func, 1, null, null, thisArg);
    }

    /**
     * Binds methods of an object to the object itself, overwriting the existing
     * method. Method names may be specified as individual arguments or as arrays
     * of method names. If no method names are provided all the function properties
     * of `object` will be bound.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...string} [methodName] The object method names to
     *  bind, specified as individual method names or arrays of method names.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'onClick': function() { console.log('clicked ' + this.label); }
     * };
     *
     * _.bindAll(view);
     * jQuery('#docs').on('click', view.onClick);
     * // => logs 'clicked docs', when the button is clicked
     */
    function bindAll(object) {
      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),
          index = -1,
          length = funcs.length;

      while (++index < length) {
        var key = funcs[index];
        object[key] = createWrapper(object[key], 1, null, null, object);
      }
      return object;
    }

    /**
     * Creates a function that, when called, invokes the method at `object[key]`
     * and prepends any additional `bindKey` arguments to those provided to the bound
     * function. This method differs from `_.bind` by allowing bound functions to
     * reference methods that will be redefined or don't yet exist.
     * See http://michaux.ca/articles/lazy-function-definition-pattern.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object the method belongs to.
     * @param {string} key The key of the method.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'name': 'fred',
     *   'greet': function(greeting) {
     *     return greeting + ' ' + this.name;
     *   }
     * };
     *
     * var func = _.bindKey(object, 'greet', 'hi');
     * func();
     * // => 'hi fred'
     *
     * object.greet = function(greeting) {
     *   return greeting + 'ya ' + this.name + '!';
     * };
     *
     * func();
     * // => 'hiya fred!'
     */
    function bindKey(object, key) {
      return arguments.length > 2
        ? createWrapper(key, 19, slice(arguments, 2), null, object)
        : createWrapper(key, 3, null, null, object);
    }

    /**
     * Creates a function that is the composition of the provided functions,
     * where each function consumes the return value of the function that follows.
     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.
     * Each function is executed with the `this` binding of the composed function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {...Function} [func] Functions to compose.
     * @returns {Function} Returns the new composed function.
     * @example
     *
     * var realNameMap = {
     *   'pebbles': 'penelope'
     * };
     *
     * var format = function(name) {
     *   name = realNameMap[name.toLowerCase()] || name;
     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
     * };
     *
     * var greet = function(formatted) {
     *   return 'Hiya ' + formatted + '!';
     * };
     *
     * var welcome = _.compose(greet, format);
     * welcome('pebbles');
     * // => 'Hiya Penelope!'
     */
    function compose() {
      var funcs = arguments,
          length = funcs.length;

      while (length--) {
        if (!isFunction(funcs[length])) {
          throw new TypeError;
        }
      }
      return function() {
        var args = arguments,
            length = funcs.length;

        while (length--) {
          args = [funcs[length].apply(this, args)];
        }
        return args[0];
      };
    }

    /**
     * Creates a function which accepts one or more arguments of `func` that when
     * invoked either executes `func` returning its result, if all `func` arguments
     * have been provided, or returns a function that accepts one or more of the
     * remaining `func` arguments, and so on. The arity of `func` can be specified
     * if `func.length` is not sufficient.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var curried = _.curry(function(a, b, c) {
     *   console.log(a + b + c);
     * });
     *
     * curried(1)(2)(3);
     * // => 6
     *
     * curried(1, 2)(3);
     * // => 6
     *
     * curried(1, 2, 3);
     * // => 6
     */
    function curry(func, arity) {
      arity = typeof arity == 'number' ? arity : (+arity || func.length);
      return createWrapper(func, 4, null, null, null, arity);
    }

    /**
     * Creates a function that will delay the execution of `func` until after
     * `wait` milliseconds have elapsed since the last time it was invoked.
     * Provide an options object to indicate that `func` should be invoked on
     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls
     * to the debounced function will return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the debounced function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to debounce.
     * @param {number} wait The number of milliseconds to delay.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.
     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // avoid costly calculations while the window size is in flux
     * var lazyLayout = _.debounce(calculateLayout, 150);
     * jQuery(window).on('resize', lazyLayout);
     *
     * // execute `sendMail` when the click event is fired, debouncing subsequent calls
     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * });
     *
     * // ensure `batchLog` is executed once after 1 second of debounced calls
     * var source = new EventSource('/stream');
     * source.addEventListener('message', _.debounce(batchLog, 250, {
     *   'maxWait': 1000
     * }, false);
     */
    function debounce(func, wait, options) {
      var args,
          maxTimeoutId,
          result,
          stamp,
          thisArg,
          timeoutId,
          trailingCall,
          lastCalled = 0,
          maxWait = false,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      wait = nativeMax(0, wait) || 0;
      if (options === true) {
        var leading = true;
        trailing = false;
      } else if (isObject(options)) {
        leading = options.leading;
        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      var delayed = function() {
        var remaining = wait - (now() - stamp);
        if (remaining <= 0) {
          if (maxTimeoutId) {
            clearTimeout(maxTimeoutId);
          }
          var isCalled = trailingCall;
          maxTimeoutId = timeoutId = trailingCall = undefined;
          if (isCalled) {
            lastCalled = now();
            result = func.apply(thisArg, args);
            if (!timeoutId && !maxTimeoutId) {
              args = thisArg = null;
            }
          }
        } else {
          timeoutId = setTimeout(delayed, remaining);
        }
      };

      var maxDelayed = function() {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        maxTimeoutId = timeoutId = trailingCall = undefined;
        if (trailing || (maxWait !== wait)) {
          lastCalled = now();
          result = func.apply(thisArg, args);
          if (!timeoutId && !maxTimeoutId) {
            args = thisArg = null;
          }
        }
      };

      return function() {
        args = arguments;
        stamp = now();
        thisArg = this;
        trailingCall = trailing && (timeoutId || !leading);

        if (maxWait === false) {
          var leadingCall = leading && !timeoutId;
        } else {
          if (!maxTimeoutId && !leading) {
            lastCalled = stamp;
          }
          var remaining = maxWait - (stamp - lastCalled),
              isCalled = remaining <= 0;

          if (isCalled) {
            if (maxTimeoutId) {
              maxTimeoutId = clearTimeout(maxTimeoutId);
            }
            lastCalled = stamp;
            result = func.apply(thisArg, args);
          }
          else if (!maxTimeoutId) {
            maxTimeoutId = setTimeout(maxDelayed, remaining);
          }
        }
        if (isCalled && timeoutId) {
          timeoutId = clearTimeout(timeoutId);
        }
        else if (!timeoutId && wait !== maxWait) {
          timeoutId = setTimeout(delayed, wait);
        }
        if (leadingCall) {
          isCalled = true;
          result = func.apply(thisArg, args);
        }
        if (isCalled && !timeoutId && !maxTimeoutId) {
          args = thisArg = null;
        }
        return result;
      };
    }

    /**
     * Defers executing the `func` function until the current call stack has cleared.
     * Additional arguments will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to defer.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) { console.log(text); }, 'deferred');
     * // logs 'deferred' after one or more milliseconds
     */
    function defer(func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 1);
      return setTimeout(function() { func.apply(undefined, args); }, 1);
    }

    /**
     * Executes the `func` function after `wait` milliseconds. Additional arguments
     * will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay execution.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) { console.log(text); }, 1000, 'later');
     * // => logs 'later' after one second
     */
    function delay(func, wait) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 2);
      return setTimeout(function() { func.apply(undefined, args); }, wait);
    }

    /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided it will be used to determine the cache key for storing the result
     * based on the arguments provided to the memoized function. By default, the
     * first argument provided to the memoized function is used as the cache key.
     * The `func` is executed with the `this` binding of the memoized function.
     * The result cache is exposed as the `cache` property on the memoized function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] A function used to resolve the cache key.
     * @returns {Function} Returns the new memoizing function.
     * @example
     *
     * var fibonacci = _.memoize(function(n) {
     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
     * });
     *
     * fibonacci(9)
     * // => 34
     *
     * var data = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // modifying the result cache
     * var get = _.memoize(function(name) { return data[name]; }, _.identity);
     * get('pebbles');
     * // => { 'name': 'pebbles', 'age': 1 }
     *
     * get.cache.pebbles.name = 'penelope';
     * get('pebbles');
     * // => { 'name': 'penelope', 'age': 1 }
     */
    function memoize(func, resolver) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var memoized = function() {
        var cache = memoized.cache,
            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];

        return hasOwnProperty.call(cache, key)
          ? cache[key]
          : (cache[key] = func.apply(this, arguments));
      }
      memoized.cache = {};
      return memoized;
    }

    /**
     * Creates a function that is restricted to execute `func` once. Repeat calls to
     * the function will return the value of the first call. The `func` is executed
     * with the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // `initialize` executes `createApplication` once
     */
    function once(func) {
      var ran,
          result;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (ran) {
          return result;
        }
        ran = true;
        result = func.apply(this, arguments);

        // clear the `func` variable so the function may be garbage collected
        func = null;
        return result;
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with any additional
     * `partial` arguments prepended to those provided to the new function. This
     * method is similar to `_.bind` except it does **not** alter the `this` binding.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var greet = function(greeting, name) { return greeting + ' ' + name; };
     * var hi = _.partial(greet, 'hi');
     * hi('fred');
     * // => 'hi fred'
     */
    function partial(func) {
      return createWrapper(func, 16, slice(arguments, 1));
    }

    /**
     * This method is like `_.partial` except that `partial` arguments are
     * appended to those provided to the new function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var defaultsDeep = _.partialRight(_.merge, _.defaults);
     *
     * var options = {
     *   'variable': 'data',
     *   'imports': { 'jq': $ }
     * };
     *
     * defaultsDeep(options, _.templateSettings);
     *
     * options.variable
     * // => 'data'
     *
     * options.imports
     * // => { '_': _, 'jq': $ }
     */
    function partialRight(func) {
      return createWrapper(func, 32, null, slice(arguments, 1));
    }

    /**
     * Creates a function that, when executed, will only call the `func` function
     * at most once per every `wait` milliseconds. Provide an options object to
     * indicate that `func` should be invoked on the leading and/or trailing edge
     * of the `wait` timeout. Subsequent calls to the throttled function will
     * return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the throttled function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to throttle.
     * @param {number} wait The number of milliseconds to throttle executions to.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // avoid excessively updating the position while scrolling
     * var throttled = _.throttle(updatePosition, 100);
     * jQuery(window).on('scroll', throttled);
     *
     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes
     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {
     *   'trailing': false
     * }));
     */
    function throttle(func, wait, options) {
      var leading = true,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      if (options === false) {
        leading = false;
      } else if (isObject(options)) {
        leading = 'leading' in options ? options.leading : leading;
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      debounceOptions.leading = leading;
      debounceOptions.maxWait = wait;
      debounceOptions.trailing = trailing;

      return debounce(func, wait, debounceOptions);
    }

    /**
     * Creates a function that provides `value` to the wrapper function as its
     * first argument. Additional arguments provided to the function are appended
     * to those provided to the wrapper function. The wrapper is executed with
     * the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {*} value The value to wrap.
     * @param {Function} wrapper The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('Fred, Wilma, & Pebbles');
     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'
     */
    function wrap(value, wrapper) {
      return createWrapper(wrapper, 16, [value]);
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var getter = _.constant(object);
     * getter() === object;
     * // => true
     */
    function constant(value) {
      return function() {
        return value;
      };
    }

    /**
     * Produces a callback bound to an optional `thisArg`. If `func` is a property
     * name the created callback will return the property value for a given element.
     * If `func` is an object the created callback will return `true` for elements
     * that contain the equivalent object properties, otherwise it will return `false`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // wrap to create custom callback shorthands
     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {
     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);
     *   return !match ? func(callback, thisArg) : function(object) {
     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];
     *   };
     * });
     *
     * _.filter(characters, 'age__gt38');
     * // => [{ 'name': 'fred', 'age': 40 }]
     */
    function createCallback(func, thisArg, argCount) {
      var type = typeof func;
      if (func == null || type == 'function') {
        return baseCreateCallback(func, thisArg, argCount);
      }
      // handle "_.pluck" style callback shorthands
      if (type != 'object') {
        return property(func);
      }
      var props = keys(func),
          key = props[0],
          a = func[key];

      // handle "_.where" style callback shorthands
      if (props.length == 1 && a === a && !isObject(a)) {
        // fast path the common case of providing an object with a single
        // property containing a primitive value
        return function(object) {
          var b = object[key];
          return a === b && (a !== 0 || (1 / a == 1 / b));
        };
      }
      return function(object) {
        var length = props.length,
            result = false;

        while (length--) {
          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {
            break;
          }
        }
        return result;
      };
    }

    /**
     * Converts the characters `&`, `<`, `>`, `"`, and `'` in `string` to their
     * corresponding HTML entities.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('Fred, Wilma, & Pebbles');
     * // => 'Fred, Wilma, &amp; Pebbles'
     */
    function escape(string) {
      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);
    }

    /**
     * This method returns the first argument provided to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.identity(object) === object;
     * // => true
     */
    function identity(value) {
      return value;
    }

    /**
     * Adds function properties of a source object to the destination object.
     * If `object` is a function methods will be added to its prototype as well.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Function|Object} [object=lodash] object The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.
     * @example
     *
     * function capitalize(string) {
     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
     * }
     *
     * _.mixin({ 'capitalize': capitalize });
     * _.capitalize('fred');
     * // => 'Fred'
     *
     * _('fred').capitalize().value();
     * // => 'Fred'
     *
     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });
     * _('fred').capitalize();
     * // => 'Fred'
     */
    function mixin(object, source, options) {
      var chain = true,
          methodNames = source && functions(source);

      if (!source || (!options && !methodNames.length)) {
        if (options == null) {
          options = source;
        }
        ctor = lodashWrapper;
        source = object;
        object = lodash;
        methodNames = functions(source);
      }
      if (options === false) {
        chain = false;
      } else if (isObject(options) && 'chain' in options) {
        chain = options.chain;
      }
      var ctor = object,
          isFunc = isFunction(ctor);

      forEach(methodNames, function(methodName) {
        var func = object[methodName] = source[methodName];
        if (isFunc) {
          ctor.prototype[methodName] = function() {
            var chainAll = this.__chain__,
                value = this.__wrapped__,
                args = [value];

            push.apply(args, arguments);
            var result = func.apply(object, args);
            if (chain || chainAll) {
              if (value === result && isObject(result)) {
                return this;
              }
              result = new ctor(result);
              result.__chain__ = chainAll;
            }
            return result;
          };
        }
      });
    }

    /**
     * Reverts the '_' variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */
    function noConflict() {
      context._ = oldDash;
      return this;
    }

    /**
     * A no-operation function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.noop(object) === undefined;
     * // => true
     */
    function noop() {
      // no operation performed
    }

    /**
     * Gets the number of milliseconds that have elapsed since the Unix epoch
     * (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var stamp = _.now();
     * _.defer(function() { console.log(_.now() - stamp); });
     * // => logs the number of milliseconds it took for the deferred function to be called
     */
    var now = isNative(now = Date.now) && now || function() {
      return new Date().getTime();
    };

    /**
     * Converts the given value into an integer of the specified radix.
     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the
     * `value` is a hexadecimal, in which case a `radix` of `16` is used.
     *
     * Note: This method avoids differences in native ES3 and ES5 `parseInt`
     * implementations. See http://es5.github.io/#E.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} value The value to parse.
     * @param {number} [radix] The radix used to interpret the value to parse.
     * @returns {number} Returns the new integer value.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     */
    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {
      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`
      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);
    };

    /**
     * Creates a "_.pluck" style function, which returns the `key` value of a
     * given object.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} key The name of the property to retrieve.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var characters = [
     *   { 'name': 'fred',   'age': 40 },
     *   { 'name': 'barney', 'age': 36 }
     * ];
     *
     * var getName = _.property('name');
     *
     * _.map(characters, getName);
     * // => ['barney', 'fred']
     *
     * _.sortBy(characters, getName);
     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]
     */
    function property(key) {
      return function(object) {
        return object[key];
      };
    }

    /**
     * Produces a random number between `min` and `max` (inclusive). If only one
     * argument is provided a number between `0` and the given number will be
     * returned. If `floating` is truey or either `min` or `max` are floats a
     * floating-point number will be returned instead of an integer.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} [min=0] The minimum possible value.
     * @param {number} [max=1] The maximum possible value.
     * @param {boolean} [floating=false] Specify returning a floating-point number.
     * @returns {number} Returns a random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */
    function random(min, max, floating) {
      var noMin = min == null,
          noMax = max == null;

      if (floating == null) {
        if (typeof min == 'boolean' && noMax) {
          floating = min;
          min = 1;
        }
        else if (!noMax && typeof max == 'boolean') {
          floating = max;
          noMax = true;
        }
      }
      if (noMin && noMax) {
        max = 1;
      }
      min = +min || 0;
      if (noMax) {
        max = min;
        min = 0;
      } else {
        max = +max || 0;
      }
      if (floating || min % 1 || max % 1) {
        var rand = nativeRandom();
        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);
      }
      return baseRandom(min, max);
    }

    /**
     * Resolves the value of property `key` on `object`. If `key` is a function
     * it will be invoked with the `this` binding of `object` and its result returned,
     * else the property value is returned. If `object` is falsey then `undefined`
     * is returned.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to resolve.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = {
     *   'cheese': 'crumpets',
     *   'stuff': function() {
     *     return 'nonsense';
     *   }
     * };
     *
     * _.result(object, 'cheese');
     * // => 'crumpets'
     *
     * _.result(object, 'stuff');
     * // => 'nonsense'
     */
    function result(object, key) {
      if (object) {
        var value = object[key];
        return isFunction(value) ? object[key]() : value;
      }
    }

    /**
     * A micro-templating method that handles arbitrary delimiters, preserves
     * whitespace, and correctly escapes quotes within interpolated code.
     *
     * Note: In the development build, `_.template` utilizes sourceURLs for easier
     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
     *
     * For more information on precompiling templates see:
     * http://lodash.com/custom-builds
     *
     * For more information on Chrome extension sandboxes see:
     * http://developer.chrome.com/stable/extensions/sandboxingEval.html
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} text The template text.
     * @param {Object} data The data object used to populate the text.
     * @param {Object} [options] The options object.
     * @param {RegExp} [options.escape] The "escape" delimiter.
     * @param {RegExp} [options.evaluate] The "evaluate" delimiter.
     * @param {Object} [options.imports] An object to import into the template as local variables.
     * @param {RegExp} [options.interpolate] The "interpolate" delimiter.
     * @param {string} [sourceURL] The sourceURL of the template's compiled source.
     * @param {string} [variable] The data object variable name.
     * @returns {Function|string} Returns a compiled function when no `data` object
     *  is given, else it returns the interpolated text.
     * @example
     *
     * // using the "interpolate" delimiter to create a compiled template
     * var compiled = _.template('hello <%= name %>');
     * compiled({ 'name': 'fred' });
     * // => 'hello fred'
     *
     * // using the "escape" delimiter to escape HTML in data property values
     * _.template('<b><%- value %></b>', { 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // using the "evaluate" delimiter to generate HTML
     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the ES6 delimiter as an alternative to the default "interpolate" delimiter
     * _.template('hello ${ name }', { 'name': 'pebbles' });
     * // => 'hello pebbles'
     *
     * // using the internal `print` function in "evaluate" delimiters
     * _.template('<% print("hello " + name); %>!', { 'name': 'barney' });
     * // => 'hello barney!'
     *
     * // using a custom template delimiters
     * _.templateSettings = {
     *   'interpolate': /{{([\s\S]+?)}}/g
     * };
     *
     * _.template('hello {{ name }}!', { 'name': 'mustache' });
     * // => 'hello mustache!'
     *
     * // using the `imports` option to import jQuery
     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the `sourceURL` option to specify a custom sourceURL for the template
     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector
     *
     * // using the `variable` option to ensure a with-statement isn't used in the compiled template
     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     *   var __t, __p = '', __e = _.escape;
     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';
     *   return __p;
     * }
     *
     * // using the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and a stack trace
     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */
    function template(text, data, options) {
      // based on John Resig's `tmpl` implementation
      // http://ejohn.org/blog/javascript-micro-templating/
      // and Laura Doktorova's doT.js
      // https://github.com/olado/doT
      var settings = lodash.templateSettings;
      text = String(text || '');

      // avoid missing dependencies when `iteratorTemplate` is not defined
      options = defaults({}, options, settings);

      var imports = defaults({}, options.imports, settings.imports),
          importsKeys = keys(imports),
          importsValues = values(imports);

      var isEvaluating,
          index = 0,
          interpolate = options.interpolate || reNoMatch,
          source = "__p += '";

      // compile the regexp to match each delimiter
      var reDelimiters = RegExp(
        (options.escape || reNoMatch).source + '|' +
        interpolate.source + '|' +
        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +
        (options.evaluate || reNoMatch).source + '|$'
      , 'g');

      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
        interpolateValue || (interpolateValue = esTemplateValue);

        // escape characters that cannot be included in string literals
        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);

        // replace delimiters with snippets
        if (escapeValue) {
          source += "' +\n__e(" + escapeValue + ") +\n'";
        }
        if (evaluateValue) {
          isEvaluating = true;
          source += "';\n" + evaluateValue + ";\n__p += '";
        }
        if (interpolateValue) {
          source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
        }
        index = offset + match.length;

        // the JS engine embedded in Adobe products requires returning the `match`
        // string in order to produce the correct `offset` value
        return match;
      });

      source += "';\n";

      // if `variable` is not specified, wrap a with-statement around the generated
      // code to add the data object to the top of the scope chain
      var variable = options.variable,
          hasVariable = variable;

      if (!hasVariable) {
        variable = 'obj';
        source = 'with (' + variable + ') {\n' + source + '\n}\n';
      }
      // cleanup code by stripping empty strings
      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)
        .replace(reEmptyStringMiddle, '$1')
        .replace(reEmptyStringTrailing, '$1;');

      // frame code as the function body
      source = 'function(' + variable + ') {\n' +
        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\n') +
        "var __t, __p = '', __e = _.escape" +
        (isEvaluating
          ? ', __j = Array.prototype.join;\n' +
            "function print() { __p += __j.call(arguments, '') }\n"
          : ';\n'
        ) +
        source +
        'return __p\n}';

      // Use a sourceURL for easier debugging.
      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
      var sourceURL = '\n/*\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\n*/';

      try {
        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);
      } catch(e) {
        e.source = source;
        throw e;
      }
      if (data) {
        return result(data);
      }
      // provide the compiled function's source by its `toString` method, in
      // supported environments, or the `source` property as a convenience for
      // inlining compiled templates during the build process
      result.source = source;
      return result;
    }

    /**
     * Executes the callback `n` times, returning an array of the results
     * of each callback execution. The callback is bound to `thisArg` and invoked
     * with one argument; (index).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} n The number of times to execute the callback.
     * @param {Function} callback The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns an array of the results of each `callback` execution.
     * @example
     *
     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));
     * // => [3, 6, 4]
     *
     * _.times(3, function(n) { mage.castSpell(n); });
     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively
     *
     * _.times(3, function(n) { this.cast(n); }, mage);
     * // => also calls `mage.castSpell(n)` three times
     */
    function times(n, callback, thisArg) {
      n = (n = +n) > -1 ? n : 0;
      var index = -1,
          result = Array(n);

      callback = baseCreateCallback(callback, thisArg, 1);
      while (++index < n) {
        result[index] = callback(index);
      }
      return result;
    }

    /**
     * The inverse of `_.escape` this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their
     * corresponding characters.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('Fred, Barney &amp; Pebbles');
     * // => 'Fred, Barney & Pebbles'
     */
    function unescape(string) {
      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);
    }

    /**
     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} [prefix] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */
    function uniqueId(prefix) {
      var id = ++idCounter;
      return String(prefix == null ? '' : prefix) + id;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object that wraps the given value with explicit
     * method chaining enabled.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _.chain(characters)
     *     .sortBy('age')
     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })
     *     .first()
     *     .value();
     * // => 'pebbles is 1'
     */
    function chain(value) {
      value = new lodashWrapper(value);
      value.__chain__ = true;
      return value;
    }

    /**
     * Invokes `interceptor` with the `value` as the first argument and then
     * returns `value`. The purpose of this method is to "tap into" a method
     * chain in order to perform operations on intermediate results within
     * the chain.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3, 4])
     *  .tap(function(array) { array.pop(); })
     *  .reverse()
     *  .value();
     * // => [3, 2, 1]
     */
    function tap(value, interceptor) {
      interceptor(value);
      return value;
    }

    /**
     * Enables explicit method chaining on the wrapper object.
     *
     * @name chain
     * @memberOf _
     * @category Chaining
     * @returns {*} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // without explicit chaining
     * _(characters).first();
     * // => { 'name': 'barney', 'age': 36 }
     *
     * // with explicit chaining
     * _(characters).chain()
     *   .first()
     *   .pick('age')
     *   .value();
     * // => { 'age': 36 }
     */
    function wrapperChain() {
      this.__chain__ = true;
      return this;
    }

    /**
     * Produces the `toString` result of the wrapped value.
     *
     * @name toString
     * @memberOf _
     * @category Chaining
     * @returns {string} Returns the string result.
     * @example
     *
     * _([1, 2, 3]).toString();
     * // => '1,2,3'
     */
    function wrapperToString() {
      return String(this.__wrapped__);
    }

    /**
     * Extracts the wrapped value.
     *
     * @name valueOf
     * @memberOf _
     * @alias value
     * @category Chaining
     * @returns {*} Returns the wrapped value.
     * @example
     *
     * _([1, 2, 3]).valueOf();
     * // => [1, 2, 3]
     */
    function wrapperValueOf() {
      return this.__wrapped__;
    }

    /*--------------------------------------------------------------------------*/

    // add functions that return wrapped values when chaining
    lodash.after = after;
    lodash.assign = assign;
    lodash.at = at;
    lodash.bind = bind;
    lodash.bindAll = bindAll;
    lodash.bindKey = bindKey;
    lodash.chain = chain;
    lodash.compact = compact;
    lodash.compose = compose;
    lodash.constant = constant;
    lodash.countBy = countBy;
    lodash.create = create;
    lodash.createCallback = createCallback;
    lodash.curry = curry;
    lodash.debounce = debounce;
    lodash.defaults = defaults;
    lodash.defer = defer;
    lodash.delay = delay;
    lodash.difference = difference;
    lodash.filter = filter;
    lodash.flatten = flatten;
    lodash.forEach = forEach;
    lodash.forEachRight = forEachRight;
    lodash.forIn = forIn;
    lodash.forInRight = forInRight;
    lodash.forOwn = forOwn;
    lodash.forOwnRight = forOwnRight;
    lodash.functions = functions;
    lodash.groupBy = groupBy;
    lodash.indexBy = indexBy;
    lodash.initial = initial;
    lodash.intersection = intersection;
    lodash.invert = invert;
    lodash.invoke = invoke;
    lodash.keys = keys;
    lodash.map = map;
    lodash.mapValues = mapValues;
    lodash.max = max;
    lodash.memoize = memoize;
    lodash.merge = merge;
    lodash.min = min;
    lodash.omit = omit;
    lodash.once = once;
    lodash.pairs = pairs;
    lodash.partial = partial;
    lodash.partialRight = partialRight;
    lodash.pick = pick;
    lodash.pluck = pluck;
    lodash.property = property;
    lodash.pull = pull;
    lodash.range = range;
    lodash.reject = reject;
    lodash.remove = remove;
    lodash.rest = rest;
    lodash.shuffle = shuffle;
    lodash.sortBy = sortBy;
    lodash.tap = tap;
    lodash.throttle = throttle;
    lodash.times = times;
    lodash.toArray = toArray;
    lodash.transform = transform;
    lodash.union = union;
    lodash.uniq = uniq;
    lodash.values = values;
    lodash.where = where;
    lodash.without = without;
    lodash.wrap = wrap;
    lodash.xor = xor;
    lodash.zip = zip;
    lodash.zipObject = zipObject;

    // add aliases
    lodash.collect = map;
    lodash.drop = rest;
    lodash.each = forEach;
    lodash.eachRight = forEachRight;
    lodash.extend = assign;
    lodash.methods = functions;
    lodash.object = zipObject;
    lodash.select = filter;
    lodash.tail = rest;
    lodash.unique = uniq;
    lodash.unzip = zip;

    // add functions to `lodash.prototype`
    mixin(lodash);

    /*--------------------------------------------------------------------------*/

    // add functions that return unwrapped values when chaining
    lodash.clone = clone;
    lodash.cloneDeep = cloneDeep;
    lodash.contains = contains;
    lodash.escape = escape;
    lodash.every = every;
    lodash.find = find;
    lodash.findIndex = findIndex;
    lodash.findKey = findKey;
    lodash.findLast = findLast;
    lodash.findLastIndex = findLastIndex;
    lodash.findLastKey = findLastKey;
    lodash.has = has;
    lodash.identity = identity;
    lodash.indexOf = indexOf;
    lodash.isArguments = isArguments;
    lodash.isArray = isArray;
    lodash.isBoolean = isBoolean;
    lodash.isDate = isDate;
    lodash.isElement = isElement;
    lodash.isEmpty = isEmpty;
    lodash.isEqual = isEqual;
    lodash.isFinite = isFinite;
    lodash.isFunction = isFunction;
    lodash.isNaN = isNaN;
    lodash.isNull = isNull;
    lodash.isNumber = isNumber;
    lodash.isObject = isObject;
    lodash.isPlainObject = isPlainObject;
    lodash.isRegExp = isRegExp;
    lodash.isString = isString;
    lodash.isUndefined = isUndefined;
    lodash.lastIndexOf = lastIndexOf;
    lodash.mixin = mixin;
    lodash.noConflict = noConflict;
    lodash.noop = noop;
    lodash.now = now;
    lodash.parseInt = parseInt;
    lodash.random = random;
    lodash.reduce = reduce;
    lodash.reduceRight = reduceRight;
    lodash.result = result;
    lodash.runInContext = runInContext;
    lodash.size = size;
    lodash.some = some;
    lodash.sortedIndex = sortedIndex;
    lodash.template = template;
    lodash.unescape = unescape;
    lodash.uniqueId = uniqueId;

    // add aliases
    lodash.all = every;
    lodash.any = some;
    lodash.detect = find;
    lodash.findWhere = find;
    lodash.foldl = reduce;
    lodash.foldr = reduceRight;
    lodash.include = contains;
    lodash.inject = reduce;

    mixin(function() {
      var source = {}
      forOwn(lodash, function(func, methodName) {
        if (!lodash.prototype[methodName]) {
          source[methodName] = func;
        }
      });
      return source;
    }(), false);

    /*--------------------------------------------------------------------------*/

    // add functions capable of returning wrapped and unwrapped values when chaining
    lodash.first = first;
    lodash.last = last;
    lodash.sample = sample;

    // add aliases
    lodash.take = first;
    lodash.head = first;

    forOwn(lodash, function(func, methodName) {
      var callbackable = methodName !== 'sample';
      if (!lodash.prototype[methodName]) {
        lodash.prototype[methodName]= function(n, guard) {
          var chainAll = this.__chain__,
              result = func(this.__wrapped__, n, guard);

          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))
            ? result
            : new lodashWrapper(result, chainAll);
        };
      }
    });

    /*--------------------------------------------------------------------------*/

    /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type string
     */
    lodash.VERSION = '2.4.1';

    // add "Chaining" functions to the wrapper
    lodash.prototype.chain = wrapperChain;
    lodash.prototype.toString = wrapperToString;
    lodash.prototype.value = wrapperValueOf;
    lodash.prototype.valueOf = wrapperValueOf;

    // add `Array` functions that return unwrapped values
    forEach(['join', 'pop', 'shift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        var chainAll = this.__chain__,
            result = func.apply(this.__wrapped__, arguments);

        return chainAll
          ? new lodashWrapper(result, chainAll)
          : result;
      };
    });

    // add `Array` functions that return the existing wrapped value
    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        func.apply(this.__wrapped__, arguments);
        return this;
      };
    });

    // add `Array` functions that return new wrapped values
    forEach(['concat', 'slice', 'splice'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);
      };
    });

    return lodash;
  }

  /*--------------------------------------------------------------------------*/

  // expose Lo-Dash
  var _ = runInContext();

  // some AMD build optimizers like r.js check for condition patterns like the following:
  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
    // Expose Lo-Dash to the global object even when an AMD loader is present in
    // case Lo-Dash is loaded with a RequireJS shim config.
    // See http://requirejs.org/docs/api.html#config-shim
    root._ = _;

    // define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module
    define(function() {
      return _;
    });
  }
  // check for `exports` after `define` in case a build optimizer adds an `exports` object
  else if (freeExports && freeModule) {
    // in Node.js or RingoJS
    if (moduleExports) {
      (freeModule.exports = _)._ = _;
    }
    // in Narwhal or Rhino -require
    else {
      freeExports._ = _;
    }
  }
  else {
    // in a browser or Rhino
    root._ = _;
  }
}.call(this));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\CursorHint.js":[function(require,module,exports){
"use strict";

var _ = require("lodash");

function CursorHint() {
    this._createBase();

    this._onMove = this._createOnMove().bind(this);
}

var p = CursorHint.prototype;
module.exports = CursorHint;

p.setHints = function (hints) {
    var _this = this;


    this.domElem.innerHTML = "";

    if (_.isArray(hints)) {
        hints.forEach(function (itemOpt) {
            _this._createItem(itemOpt);
        });

        this._active = true;
        this._onMove();
        window.addEventListener("mousemove", this._onMove);
    } else {
        this._active = false;
        this._onMove();
        window.removeEventListener("mousemove", this._onMove);
    }
};

p._createOnMove = function () {
    var _this = this;


    var showSetT,
        delay = 879,
        showing = false,
        x = 0,
        y = 0;

    var show = function () {
        if (!_this._active) return;

        showing = true;

        _this.domElem.style.left = x + 7 + "px";
        _this.domElem.style.top = y + 7 + "px";
        document.body.appendChild(_this.domElem);
    };

    var hide = function () {
        showing = false;

        document.body.removeChild(_this.domElem);
    };

    return function (e) {
        if (showing) hide();

        if (e) {
            x = e.x;
            y = e.y;
        }

        clearTimeout(showSetT);
        showSetT = setTimeout(show, delay);
    };
};

p._createBase = function () {
    this.domElem = document.createElement("ul");
    this.domElem.style.position = "fixed";
    this.domElem.style.listStyleType = "none";
    this.domElem.style.margin = 0;
    this.domElem.style.padding = 0;
    this.domElem.style.pointerEvents = "none";
};

p._createItem = function (opt) {
    if (typeof opt === "string") {
        opt = { text: opt };
    }

    var li = document.createElement("li");
    li.style.textAlign = "left";
    li.style.fontFamily = "\"Open Sans\", sans-serif";
    li.style.fontSize = "14px";
    li.style.padding = "0 3px";
    li.style.cursor = "pointer";
    li.style.color = "#000";
    li.style.background = "rgba(222,232,222,.785)";
    li.innerHTML = opt.text;


    this.domElem.appendChild(li);
};
},{"lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js":[function(require,module,exports){
"use strict";

var Transformer = require("./hands/Transformer");
var Boxer = require("./hands/Boxer");
var Curver = require("./hands/curver/Curver");
var CursorHint = require("./CursorHint");
var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

function Transhand() {
    EventEmitter.call(this);

    this._hands = {};

    this._buffMockDiv = [];

    this._createDomElem();

    this.cursorHint = new CursorHint();

    Object.defineProperty(this.domElem, "renderLevel", {
        get: (function () {
            return this._currHand && this._currHand.renderLevel || 0;
        }).bind(this) });


    // [Transformer, Boxer, Curver].forEach(function (Hand) {

    //     var hand = new Hand(this);

    //     hand.on('change', this.emit.bind(this, 'change'));

    //     this.hands[Hand.id] = hand;
    // }, this);
}

inherits(Transhand, EventEmitter);
var p = Transhand.prototype;
module.exports = Transhand;

p.setup = function (opt) {
    var hand = this._getHand(opt.hand.type);

    if (this._currHand && this._currHand !== hand) {
        this.deactivate();
    }

    if (hand) {
        hand.setup(opt.hand);
        this._currHand = hand;
    } else {
        throw "Unknown hand type: " + opt.hand.type;
    }

    if (typeof opt.on === "object") {
        Object.keys(opt.on).forEach(function (eventType) {
            this.on(eventType, opt.on[eventType]);
        }, this);
    }
};

p.activate = function () {
    if (this._currHand) {
        this._currHand.activate();

        this.domElem.appendChild(this._currHand.domElem);
    }
};

p.deactivate = function () {
    if (this._currHand) {
        this._currHand.deactivate();

        if (this._currHand.domElem.parentNode === this.domElem) {
            this.domElem.removeChild(this._currHand.domElem);
        }
    }
};

p._getHand = function (type) {
    if (type in this._hands) {
        return this._hands[type];
    }

    var Hand = _.find([Transformer, Boxer, Curver], { id: type });

    if (!Hand) throw Error;

    var hand = new Hand(this);
    hand.on("change", this.emit.bind(this, "change"));
    this._hands[Hand.id] = hand;

    return hand;
};

p._createDomElem = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.position = "fixed";
    this.domElem.style.pointerEvents = "none";
    this.domElem.style.left = "0px";
    this.domElem.style.top = "0px";
    this.domElem.style.width = "100%";
    this.domElem.style.height = "100%";
};



















p.L2G = function (p) {
    if (!this._deLocalRootPicker) {
        return p;
    }

    this._deLocalRootPicker.style.left = p.x + "px";
    this._deLocalRootPicker.style.top = p.y + "px";

    document.body.appendChild(this._deLocalRoot);
    var br = this._deLocalRootPicker.getBoundingClientRect();
    document.body.removeChild(this._deLocalRoot);

    return {
        x: br.left,
        y: br.top };
};

p.G2L = function (p) {
    if (!this._deLocalRootPicker) {
        return p;
    }

    document.body.appendChild(this._deLocalRoot);
    var ret = nastyLocal2Global(p, this._deLocalRootPicker);
    document.body.removeChild(this._deLocalRoot);

    return ret;
};

var tProps = ["transform", "transformOrigin", "prespective", "prespectiveOrigin", "transformStyle"];

p.setLocalRoot = function (de, deTarget) {
    var that = this,
        deRoot = getDiv(),
        deTop = deRoot,
        dePicker = getDiv(),
        transformeds = [],
        parentPos = { left: -window.scrollX, top: -window.scrollY },
        assembleIdx = 0,
        ret;

    if (this._deLocalRoot) {
        disassemble(this._deLocalRoot);
    }

    walkBack(de);
    assemble();

    deTop.appendChild(dePicker);

    this._deLocalRoot = deRoot;
    this._deLocalRootPicker = dePicker;
    this._deLocalRootPicker.setAttribute("picker", 1); //debug
    // document.body.appendChild(this._deLocalRoot);


    if (deTarget) {
        //calculate the offset from the local root ex. for the hand setup.base
        var inlineTransform = deTarget.style.transform;
        deTarget.style.transform = "none";

        var brA = deTarget.getBoundingClientRect(),
            brB = de.getBoundingClientRect();

        ret = {
            x: brA.left - brB.left,
            y: brA.top - brB.top,
            w: brA.width,
            h: brA.height };

        deTarget.style.transform = inlineTransform;
    }


    transformeds.forEach(function (reg) {
        reg.de.style.transform = reg.inlineTransform;
    });
    transformeds.length = 0;

    return ret;


    function walkBack(de) {
        if (de.nodeName === "BODY") return;

        var reg,
            computedStyle = window.getComputedStyle(de);

        tProps.forEach(function (propName) {
            var value = computedStyle.getPropertyValue(propName);
            if (value) set(propName, value);
        });

        walkBack(de.parentNode);

        function set(propName, value) {
            if (!reg) {
                reg = {
                    de: de,
                    inlineTransform: de.style.transform,
                    style: {}
                };

                transformeds.unshift(reg);
            }

            de.style.transform = "none";

            reg.style[propName] = value;
        }
    }

    function assemble() {
        var transformReg = transformeds[assembleIdx++],
            deNext = transformReg ? transformReg.de : de,
            nextPos = deNext.getBoundingClientRect();

        var deNew = getDiv();
        deTop.appendChild(deNew);
        deTop = deNew;

        deNew.style.left = nextPos.left - parentPos.left + "px";
        deNew.style.top = nextPos.top - parentPos.top + "px";

        parentPos = nextPos;

        if (transformReg) {
            //for the transform and perspective origin
            deNew.style.width = nextPos.width + "px";
            deNew.style.height = nextPos.height + "px";

            Object.keys(transformReg.style).forEach(function (propName) {
                deNew.style[propName] = transformReg.style[propName];
            });

            assemble();
        }
    }


    function disassemble(de) {
        de.removeAttribute("style");
        de.removeAttribute("picker"); //debug
        that._buffMockDiv.push(de);

        var child = de.firstChild;
        if (child) {
            de.removeChild(child);
            disassemble(child);
        }
    }

    function getDiv() {
        var de = that._buffMockDiv.pop() || document.createElement("div");
        de.style.position = "absolute";
        de.style.left = "0px";
        de.style.top = "0px";
        de.setAttribute("mock", 1); //debug

        return de;
    }

    // function assemble(de) {

    //     if (de.nodeName === 'BODY') return;

    //     var transformed,
    //         computedStyle = window.getComputedStyle(de, null),
    //         position = $(de).position();

    //     if (de.offsetLeft) {
    //         deRoot.style.left = (parseInt(deRoot.style.left || 0))
    //             + position.left
    //             /*+ parseInt(computedStyle.getPropertyValue('margin-left'))*/ + 'px';
    //     }
    //     if (de.offsetTop) {
    //         deRoot.style.top = (parseInt(deRoot.style.top || 0))
    //             + position.top
    //             /*+ parseInt(computedStyle.getPropertyValue('margin-top'))*/ + 'px';
    //     }

    //     if (de.style.transform) {
    //         transformed = true;
    //         deRoot.style.transform = de.style.transform;
    //         //for the transform-origin
    //         deRoot.style.width = (parseInt(deRoot.style.width || 0) + de.offsetWidth) + 'px';
    //         deRoot.style.height = (parseInt(deRoot.style.height || 0) + de.offsetHeight) + 'px';

    //         if (de.style.transformOrigin) {
    //             deRoot.style.transformOrigin = de.style.transformOrigin;
    //         }
    //     }
    //     if (de.style.prespective) {
    //         transformed = true;
    //         deRoot.style.prespective = de.style.prespective;

    //         if (de.style.prespectiveOrigin) {
    //             deRoot.style.prespectiveOrigin = de.style.prespectiveOrigin;
    //         }
    //     }
    //     if (de.style.transformStyle) {
    //         transformed = true;
    //         deRoot.style.transformStyle = de.style.transformStyle;
    //     }

    //     if (transformed) {

    //         var parent = getDiv();
    //         parent.appendChild(deRoot);
    //         deRoot = parent;
    //     }

    //     assemble(de.parentNode);
    // }
};












function nastyLocal2Global(mPos, dePicker) {
    var tweakDist = 128,

    // tweakDistStep = 0,
    tweakRad = Math.PI / 2,
        dist = tweakDist * 2,
        rad = 0,
        nullPos = { x: 0, y: 0 },
        globalNullPos = L2G(nullPos),
        globalRad = getRad(globalNullPos, mPos),
        globalDist = posDist(globalNullPos, mPos);

    while (tweakRad > 0.000001) {
        var globalTestRad = getRad(mPos, L2G(Rad2Pos(rad, tweakDist)));

        if (radDiff(globalRad, globalTestRad) < 0) {
            rad += tweakRad;
        } else {
            rad -= tweakRad;
        }

        tweakRad /= 2;
    }


    while (posDist(globalNullPos, L2G(Rad2Pos(rad, dist + 2 * tweakDist))) < globalDist && dist < tweakDist * 64) {
        dist += 4 * tweakDist;
    }

    while (tweakDist > 1) {
        if (posDist(globalNullPos, L2G(Rad2Pos(rad, dist))) < globalDist) {
            dist += tweakDist;
        } else {
            dist -= tweakDist;
        }

        tweakDist /= 2;
    }

    return Rad2Pos(rad, dist);




    // function closestRad(aRad, bRad) {
    //
    //     var aPos = L2G(Rad2Pos(aRad, tweakDist)),
    //         bPos = L2G(Rad2Pos(bRad, tweakDist)),
    //         gARad = getRad(globalNullPos, aPos),
    //         gBRad = getRad(globalNullPos, bPos);
    //
    //
    //     $('#s0').css('left', aPos.x);
    //     $('#s0').css('top', aPos.y);
    //     $('#s1').css('left', bPos.x);
    //     $('#s1').css('top', bPos.y);
    //
    //   return radDiff(gARad, globalRad) < radDiff(gBRad, globalRad) ? aRad : bRad;
    // }

    function getRad(aPos, bPos) {
        return Math.atan2(bPos.y - aPos.y, bPos.x - aPos.x);
    }

    function Rad2Pos(rad, dist) {
        return {
            x: Math.cos(rad) * dist,
            y: Math.sin(rad) * dist };
    }

    function L2G(pos) {
        dePicker.style.left = pos.x + "px";
        dePicker.style.top = pos.y + "px";

        var br = dePicker.getBoundingClientRect();

        return { x: br.left, y: br.top };
    }

    function radDiff(aRad, bRad) {
        bRad -= aRad;
        bRad %= Math.PI * 2;

        if (bRad > Math.PI) bRad -= 2 * Math.PI;else if (bRad < -Math.PI) bRad += 2 * Math.PI;

        return bRad;
    }

    function posDist(aP, bP) {
        var dx = aP.x - bP.x,
            dy = aP.y - bP.y;

        return Math.sqrt(dx * dx + dy * dy);
    }
}
},{"./CursorHint":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\CursorHint.js","./hands/Boxer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Boxer.js","./hands/Transformer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Transformer.js","./hands/curver/Curver":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\curver\\Curver.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Boxer.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

var MOUSESTATES = {
    move: "move",
    "1000": "ns-resize",
    "1100": "nesw-resize",
    "0100": "ew-resize",
    "0110": "nwse-resize",
    "0010": "ns-resize",
    "0011": "nesw-resize",
    "0001": "ew-resize",
    "1001": "nwse-resize" };

var INIT_PARAMS = {
    x: 0,
    y: 0,
    w: 0,
    h: 0 };


function Boxer() {
    EventEmitter.call(this);

    this._params = _.clone(INIT_PARAMS);

    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}

Boxer.id = "boxer";

inherits(Boxer, EventEmitter);
var p = Boxer.prototype;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    this._renderHandler();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener("mousemove", this._onMouseMove);
    this._deBox.addEventListener("mousedown", this._onMouseDown);
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;

    window.removeEventListener("mousemove", this._onMouseMove);
    this._deBox.removeEventListener("mousedown", this._onMouseDown);
};





p._onMouseDown = function (e) {
    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = "auto";

    this._mdPos = {
        mx: e.clientX,
        my: e.clientY,
        params: _.clone(this._params) };

    window.addEventListener("mouseup", this._onMouseUp);
    window.addEventListener("mouseleave", this._onMouseUp);
    window.addEventListener("mousemove", this._onDrag);
};

p._onMouseMove = function (e) {
    if (!this._isHandle && this._isOverHitbox) {
        this._setFinger(e);
    }
};

p._onMouseUp = function () {
    window.removeEventListener("mouseup", this._onMouseUp);
    window.removeEventListener("mouseleave", this._onMouseUp);
    window.removeEventListener("mousemove", this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }

    this._isHandle = false;

    this._deFullHit.style.pointerEvents = "none";
};

p._onOverHitbox = function () {
    this._isOverHitbox = true;
};

p._onOutHitbox = function () {
    this._isOverHitbox = false;
};











p._renderHandler = function () {
    var params = this._params;

    this._deBox.style.left = params.x + "px";
    this._deBox.style.top = params.y + "px";
    this._deBox.style.width = params.w + "px";
    this._deBox.style.height = params.h + "px";
};










p._onDrag = function (e) {
    this._onDragMe = e;

    if (!this._rafOnDragRafId) {
        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {
    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        md = this._mdPos,
        finger = this._finger,
        mx = e.clientX,
        my = e.clientY,
        dx = mx - md.mx,
        dy = my - md.my,
        change = {};



    if (finger === "move") {
        change.x = md.params.x + dx;
        change.y = md.params.y + dy;
    }

    if (finger.charAt(0) === "1") {
        change.y = md.params.y + dy;
        change.h = md.params.h - dy;
    }

    if (finger.charAt(1) === "1") {
        change.w = md.params.w + dx;
    }

    if (finger.charAt(2) === "1") {
        change.h = md.params.h + dy;
    }

    if (finger.charAt(3) === "1") {
        change.x = md.params.x + dx;
        change.w = md.params.w - dx;
    }



    this.emit("change", change, "transform");
};














p._setFinger = function (e) {
    var params = this._params,
        mx = e.clientX,
        my = e.clientY,
        diff = 6,
        dTop = Math.abs(params.y - my),
        dRight = Math.abs(params.x + params.w - mx),
        dBottom = Math.abs(params.y + params.h - my),
        dLeft = Math.abs(params.x - mx),
        top = dTop < diff,
        right = dRight < diff,
        bottom = dBottom < diff,
        left = dLeft < diff,
        inside = mx > params.x && mx < params.x + params.w && my > params.y && my < params.y + params.h;

    if (params.w * params.sx < diff * 2 && inside) {
        left = false;
        right = false;
    }

    if (params.h * params.sy < diff * 2 && inside) {
        top = false;
        bottom = false;
    }

    if (top || right || bottom || left) {
        this._finger = ("000" + (top * 1000 + right * 100 + bottom * 10 + left * 1)).substr(-4);
    } else if (inside) {
        this._finger = "move";
    }

    if (this._finger) {
        this._setCursor(MOUSESTATES[this._finger]);
    } else {
        this._setCursor("auto");
    }
};










p._setCursor = function (cursor) {
    this._deBox.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor;
};







p.createGraphics = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.pointerEvents = "none";

    this._deFullHit = document.createElement("div");
    this._deFullHit.style.position = "absolute";
    this._deFullHit.style.pointerEvents = "none";
    this._deFullHit.style.width = "100%";
    this._deFullHit.style.height = "100%";
    this.domElem.appendChild(this._deFullHit);

    this._deBox = document.createElement("div");
    this._deBox.style.position = "absolute";
    this._deBox.style.boxSizing = "border-box";
    this._deBox.style.border = "solid 1px red";
    this._deBox.addEventListener("mouseenter", this._onOverHitbox);
    this._deBox.addEventListener("mouseleave", this._onOutHitbox);
    this.domElem.style.pointerEvents = "auto";
    this.domElem.appendChild(this._deBox);


    var onFitstMove = (function () {
        this._onOverHitbox();
        this._deBox.removeEventListener("mousemove", onFitstMove);
    }).bind(this);
};


module.exports = Boxer;
},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Transformer.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

var MOUSESTATES = {
    move: "move",
    rotate: "-webkit-grab",
    origin: "crosshair",
    "1000": "ns-resize",
    "1100": "nesw-resize",
    "0100": "ew-resize",
    "0110": "nwse-resize",
    "0010": "ns-resize",
    "0011": "nesw-resize",
    "0001": "ew-resize",
    "1001": "nwse-resize" };

var INIT_PARAMS = {
    tx: 0, ty: 0,
    sx: 1, sy: 1,
    rz: 0,
    ox: 0.5, oy: 0.5 };

var INIT_BASE = {
    x: 0,
    y: 0,
    w: 0,
    h: 0 };

var hints = {
    scale: ["shift - keep proportion", "alt - from the opposite side"],
    rotate: ["shift - 15° steps"],
    move: ["shift - move in one dimension"] };


function Transformer(transhand) {
    EventEmitter.call(this);

    this._th = transhand;
    this._params = _.clone(INIT_PARAMS);
    this._base = _.clone(INIT_BASE);
    this._points = [{}, {}, {}, {}];
    this._pOrigin = {};
    this._originRadius = 6;
    this._rotateFingerDist = 16;


    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}


inherits(Transformer, EventEmitter);
var p = Transformer.prototype;

Transformer.id = "transformer";
p.renderLevel = 1;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    _.extend(this._base, INIT_BASE, opt.base);
    this._refreshPoints();
    this._renderHandler();
    this._refreshHitbox();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener("mousemove", this._onMouseMove);
    this._deHitbox.addEventListener("mousedown", this._onMouseDown);
    this._deOriginHit.addEventListener("mousedown", this._onMouseDown);
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;

    window.removeEventListener("mousemove", this._onMouseMove);
    this._deHitbox.removeEventListener("mousedown", this._onMouseDown);
    this._deOriginHit.removeEventListener("mousedown", this._onMouseDown);
};





p._onMouseDown = function (e) {
    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = "auto";

    this._mdPos = {
        m: this._th.G2L({ x: e.clientX, y: e.clientY }),
        params: _.cloneDeep(this._params),
        points: _.cloneDeep(this._points),
        pOrigin: _.cloneDeep(this._pOrigin)
    };

    window.addEventListener("mouseup", this._onMouseUp);
    window.addEventListener("mouseleave", this._onMouseUp);
    window.addEventListener("mousemove", this._onDrag);
};

p._onMouseMove = function (e) {
    if (!this._isHandle && this._isOverHitbox) {
        this._setFinger(e);
    } else {
        this._th.cursorHint.setHints(null);
    }

    if (this._cursorFunc) {
        this._setCursor(this._cursorFunc(e.clientX, e.clientY));
    }
};

p._onMouseUp = function () {
    window.removeEventListener("mouseup", this._onMouseUp);
    window.removeEventListener("mouseleave", this._onMouseUp);
    window.removeEventListener("mousemove", this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }

    this._isHandle = false;

    this._deFullHit.style.pointerEvents = "none";
};

p._onOverHitbox = function () {
    this._isOverHitbox = true;
};

p._onOutHitbox = function () {
    this._isOverHitbox = false;
};








p._refreshPoints = function () {
    var base = _.clone(this._base),
        params = this._params,
        p = this._points,
        po = this._pOrigin;

    base.x += params.tx;
    base.y += params.ty;

    po.x = base.x + base.w * params.ox;
    po.y = base.y + base.h * params.oy;

    var tox = base.x + params.ox * base.w,
        toy = base.y + params.oy * base.h;

    t(p[0], base.x, base.y);
    t(p[1], base.x + base.w, base.y);
    t(p[2], base.x + base.w, base.y + base.h);
    t(p[3], base.x, base.y + base.h);

    function t(p, x, y) {
        var dx = (x - tox) * params.sx,
            dy = (y - toy) * params.sy,
            d = Math.sqrt(dx * dx + dy * dy),
            rad = Math.atan2(dy, dx) + params.rz,
            nx = Math.cos(rad),
            ny = Math.sin(rad),
            rx = d * nx,
            ry = d * ny,
            px = tox + rx,
            py = toy + ry;

        p.x = px;
        p.y = py;
    }
};



p._renderHandler = function () {
    var p = this._points.map(this._th.L2G, this._th),
        po = this._th.L2G(this._pOrigin),
        c = this._deCanvas,
        or = this._originRadius,
        ctx = c.getContext("2d"),
        margin = 7,
        minX = Math.min(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        maxX = Math.max(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        minY = Math.min(p[0].y, p[1].y, p[2].y, p[3].y, po.y),
        maxY = Math.max(p[0].y, p[1].y, p[2].y, p[3].y, po.y);

    c.style.left = minX - margin + "px";
    c.style.top = minY - margin + "px";
    c.width = maxX - minX + margin * 2;
    c.height = maxY - minY + margin * 2;

    ctx.save();
    ctx.translate(margin - minX, margin - minY);
    ctx.beginPath();
    ctx.moveTo(p[0].x, p[0].y);
    ctx.lineTo(p[1].x, p[1].y);
    ctx.lineTo(p[2].x, p[2].y);
    ctx.lineTo(p[3].x, p[3].y);
    ctx.closePath();

    ctx.moveTo(po.x - or, po.y);
    ctx.lineTo(po.x + or, po.y);
    ctx.moveTo(po.x, po.y - or);
    ctx.lineTo(po.x, po.y + or);


    // ctx.shadowColor = '#f00';
    // ctx.shadowBlur = 3;
    // ctx.shadowOffsetX = 0;
    // ctx.shadowOffsetY = 0;

    ctx.strokeStyle = "#4f2";
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.restore();



    //hitboxes

    this._deOriginHit.style.left = po.x - this._rotateFingerDist + "px";
    this._deOriginHit.style.top = po.y - this._rotateFingerDist + "px";

    var hbp = "";
    hbp += p[0].x + "," + p[0].y + " ";
    hbp += p[1].x + "," + p[1].y + " ";
    hbp += p[2].x + "," + p[2].y + " ";
    hbp += p[3].x + "," + p[3].y;
    this._deHitbox.setAttribute("points", hbp);
};

p._refreshHitbox = function () {};


















p._onDrag = function (e) {
    this._onDragMe = e;

    if (!this._rafOnDragRafId) {
        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {
    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        base = this._base,
        pOrigin = this._pOrigin,
        md = this._mdPos,
        finger = this._finger,
        m = this._th.G2L({ x: e.clientX, y: e.clientY }),
        dx = m.x - md.m.x,
        dy = m.y - md.m.y,
        alt = e.altKey,
        shift = e.shiftKey,
        change = {};

    if (finger === "origin") {
        setOrigin();
    }

    if (finger === "move") {
        setTransform();
    }

    if (finger.charAt(0) === "1") {
        setScale(-Math.PI / 2, "sy", -1);
    }

    if (finger.charAt(1) === "1") {
        setScale(0, "sx", 1);
    }

    if (finger.charAt(2) === "1") {
        setScale(Math.PI / 2, "sy", 1);
    }

    if (finger.charAt(3) === "1") {
        setScale(Math.PI, "sx", -1);
    }

    if (finger === "rotate") {
        setRotation();
    }

    if (shift && "sx" in change && "sy" in change) {
        fixProportion();
    }


    this.emit("change", change, "transform");





    function setScale(r, sN, way) {
        var rad = r + md.params.rz,
            mdDist = distToPointInAngle(md.pOrigin, md.m, rad),
            dragDist = distToPointInAngle(md.pOrigin, m, rad),
            scale = dragDist / mdDist * md.params[sN];

        if (alt) {
            var es = (scale - md.params[sN]) / 2,
                tN = "t" + sN.charAt(1),
                dN = sN.charAt(1) === "x" ? "w" : "h";

            scale -= es;
            change[tN] = params[tN] = md.params[tN] + base[dN] * es / 2 * way;
        }

        change[sN] = params[sN] = scale;
    }

    function fixProportion() {
        var mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.abs(radDiff(params.rz, Math.atan2(my, mx))),
            isVertical = mr > Math.PI / 4 && mr < Math.PI / 4 * 3,
            spx = params.sx / md.params.sx,
            spy = params.sy / md.params.sy;

        spx *= spx < 0 ? -1 : 1;
        spy *= spy < 0 ? -1 : 1;

        var sp = isVertical ? spy : spx;

        change.sx = params.sx = md.params.sx * sp;
        change.sy = params.sy = md.params.sy * sp;
    }

    function setRotation() {
        var mdx = md.m.x - pOrigin.x,
            mdy = md.m.y - pOrigin.y,
            mdr = Math.atan2(mdy, mdx),
            mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.atan2(my, mx),
            r = mr - mdr;

        if (shift) {
            r = Math.floor(r / (Math.PI / 12)) * (Math.PI / 12);
        }

        change.rz = params.rz = md.params.rz + r;
    }

    function setTransform() {
        if (shift) {
            if (Math.abs(dx) > Math.abs(dy)) {
                change.tx = params.tx = md.params.tx + dx;
                change.ty = params.ty = md.params.ty;
            } else {
                change.tx = params.tx = md.params.tx;
                change.ty = params.ty = md.params.ty + dy;
            }
        } else {
            change.tx = params.tx = md.params.tx + dx;
            change.ty = params.ty = md.params.ty + dy;
        }
    }

    function setOrigin() {
        var mx = m.x - md.pOrigin.x,
            my = m.y - md.pOrigin.y,
            dist = Math.sqrt(mx * mx + my * my),
            r = Math.atan2(my, mx) - params.rz,
            x = Math.cos(r) * dist / params.sx,
            y = Math.sin(r) * dist / params.sy;

        x = parseInt(x * 1000) / 1000; //?hack??
        y = parseInt(y * 1000) / 1000;

        change.ox = params.ox = md.params.ox + x / base.w;
        change.oy = params.oy = md.params.oy + y / base.h;
        change.tx = params.tx = md.params.tx + (mx - x);
        change.ty = params.ty = md.params.ty + (my - y);
    }
};














p._setFinger = function (e) {
    var base = this._base,
        params = this._params,
        p = this._points,
        po = this._pOrigin,
        diff = 3,
        rDiff = 16,
        m = this._th.G2L({ x: e.clientX, y: e.clientY }),
        dox = po.x - m.x,
        doy = po.y - m.y,
        dOrigin = Math.sqrt(dox * dox + doy * doy),
        dTop = distToSegment(m, p[0], p[1]),
        dLeft = distToSegment(m, p[1], p[2]),
        dBottom = distToSegment(m, p[2], p[3]),
        dRight = distToSegment(m, p[3], p[0]),
        top = dTop < diff,
        left = dLeft < diff,
        bottom = dBottom < diff,
        right = dRight < diff,
        inside = isInside(m, p),
        cursorScale;

    if (base.w * params.sx < diff * 2 && inside) {
        left = false;
        right = false;
    }

    if (base.h * params.sy < diff * 2 && inside) {
        top = false;
        bottom = false;
    }

    if (dOrigin < this._originRadius) {
        this._finger = "origin";
    } else if (top || right || bottom || left) {
        //TODO its sould be top-right-bottom-left
        this._finger = ("000" + (top * 1000 + left * 100 + bottom * 10 + right * 1)).substr(-4);
        cursorScale = true;
        this._th.cursorHint.setHints(hints.scale);
    } else if (inside) {
        this._finger = "move";
        this._th.cursorHint.setHints(hints.move);
    } else if (dTop < rDiff || dRight < rDiff || dBottom < rDiff || dLeft < rDiff || dOrigin < rDiff) {
        this._finger = "rotate";
        this._th.cursorHint.setHints(hints.rotate);
    } else {
        this._finger = false;
        this._th.cursorHint.setHints(null);
    }

    if (this._finger === "rotate") {
        this._cursorFunc = this._getRotateCursor;
    } else if (cursorScale) {
        this._cursorFunc = this._getScaleCursor;
    } else {
        this._cursorFunc = undefined;

        if (this._finger) {
            this._setCursor(MOUSESTATES[this._finger]);
        } else {
            this._setCursor("auto");
        }
    }
};










p._setCursor = function (cursor) {
    this._deHitbox.style.cursor = cursor;
    this._deOriginHit.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor;
};

p._getRotateCursor = function (mx, my) {
    var po = this._th.L2G(this._pOrigin),
        r = Math.atan2(my - po.y, mx - po.x) / Math.PI * 180;

    return "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" ><path transform=\"rotate(" + r + ", 16, 16)\" d=\"M18.907 3.238l-7.54-2.104s8.35 3.9 8.428 15.367c.08 11.794-7.807 14.49-7.807 14.49l7.363-1.725\" stroke=\"#000\" stroke-width=\"2.054\" fill=\"none\"/></svg>') 16 16, auto";
};

p._getScaleCursor = (function () {
    var FINGERS = ["0100", "0110", "0010", "0011", "0001", "1001", "1000", "1100"];

    return function () {
        var sideDeg = FINGERS.indexOf(this._finger) * 45,
            po = this._th.L2G(this._pOrigin),
            oTweak = { x: this._pOrigin.x + 1234, y: this._pOrigin.y },
            pot = this._th.L2G(oTweak),
            baseRad = Math.atan2(pot.y - po.y, pot.x - po.x) + this._params.rz,
            r = sideDeg + baseRad / Math.PI * 180;


        return "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\"><path transform=\"rotate(" + r + ", 16, 16)\" d=\"M22.406 12.552l5.88 4.18H3.677l5.728 4.36\" stroke=\"#000\" stroke-width=\"2.254\" fill=\"none\"/></svg>') 16 16, auto";
    };
})();







p.createGraphics = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.pointerEvents = "none";

    this._deCanvas = document.createElement("canvas");
    this._deCanvas.style.position = "absolute";
    this.domElem.appendChild(this._deCanvas);

    this._deFullHit = document.createElement("div");
    this._deFullHit.style.position = "absolute";
    this._deFullHit.style.pointerEvents = "none";
    this._deFullHit.style.width = "100%";
    this._deFullHit.style.height = "100%";
    this.domElem.appendChild(this._deFullHit);

    var onFirstMove = (function () {
        this._onOverHitbox();
        this._deHitbox.removeEventListener("mousemove", onFirstMove);
        this._deOriginHit.removeEventListener("mousemove", onFirstMove);
    }).bind(this);

    var addHitboxEvents = (function (de) {
        de.style.pointerEvents = "auto";
        de.addEventListener("mouseenter", this._onOverHitbox);
        de.addEventListener("mouseleave", this._onOutHitbox);
        de.addEventListener("mousemove", onFirstMove);

        return de;
    }).bind(this);

    this._deOriginHit = addHitboxEvents(document.createElement("div"));
    this._deOriginHit.style.position = "absolute";
    this._deOriginHit.style.border = this._rotateFingerDist + "px solid rgba(234,0,0,0)";
    this._deOriginHit.style.borderRadius = this._rotateFingerDist + "px";
    this.domElem.appendChild(this._deOriginHit);

    this._svgRoot = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    this._svgRoot.style.overflow = "visible";
    this.domElem.appendChild(this._svgRoot);

    this._deHitbox = addHitboxEvents(document.createElementNS("http://www.w3.org/2000/svg", "polygon"));
    this._deHitbox.style.strokeWidth = this._rotateFingerDist * 2;
    this._deHitbox.style.stroke = "rgba(0,0,0,0)";
    this._deHitbox.style.fill = "rgba(0,0,0,0)";
    this._deHitbox.style.strokeLinejoin = "round";
    this._svgRoot.appendChild(this._deHitbox);
};

module.exports = Transformer;












//utils/////////////////////////////////////////////////////

function radDiff(r0, r1) {
    r0 %= Math.PI;
    r1 %= Math.PI;
    r0 += Math.PI;
    r1 += Math.PI;

    return r1 - r0;
}

function sqr(x) {
    return x * x;
}

function dist2(v, w) {
    return sqr(v.x - w.x) + sqr(v.y - w.y);
}

function distToSegmentSquared(p, v, w) {
    var l2 = dist2(v, w);

    if (l2 === 0) return dist2(p, v);

    var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;

    if (t < 0) return dist2(p, v);
    if (t > 1) return dist2(p, w);

    return dist2(p, { x: v.x + t * (w.x - v.x), y: v.y + t * (w.y - v.y) });
}

function distToSegment(p, v, w) {
    return Math.sqrt(distToSegmentSquared(p, v, w));
}

function distToPointInAngle(p0, p1, rad) {
    var dx = p1.x - p0.x,
        dy = p1.y - p0.y,
        d = Math.sqrt(dx * dx + dy * dy),
        mRad = Math.atan2(dy, dx);

    rad = mRad - rad;

    // console.log('dx', dx, 'dy', dy, 'd', d, 'mRad', mRad, 'rad', rad, 'return', Math.cos(rad) * d)

    return Math.cos(rad) * d;
}

function isInside(point, vs) {
    // ray-casting algorithm based on
    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html

    var x = point.x,
        y = point.y;

    var inside = false;
    for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
        var xi = vs[i].x,
            yi = vs[i].y;
        var xj = vs[j].x,
            yj = vs[j].y;

        var intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;
        if (intersect) inside = !inside;
    }

    return inside;
}


// var base = this._base,
//     params = this._params,
//     po = this._pOrigin,
//     leftScale = (base.w * params.ox * (params.sx-1)),
//     topScale = (base.h * params.oy * (params.sy-1)),
//     w = (base.w * params.sx),
//     h = (base.h * params.sy),
//     ox = rfd + (w * params.ox),
//     oy = rfd + (h * params.oy);


// this._deHitbox.style.left = (-rfd + base.x + params.tx - leftScale) + 'px';
// this._deHitbox.style.top = (-rfd + base.y + params.ty - topScale) + 'px';
// this._deHitbox.style.width = w + 'px';
// this._deHitbox.style.height = h + 'px';
// this._deHitbox.style.transformOrigin = ox + 'px ' + oy + 'px';
// this._deHitbox.style.transform = 'rotate(' + this._params.rz + 'rad)';
},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\curver\\Curver.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var makeDraggable = require("../../make-draggable");
var _ = require("lodash");


var BASE_POINT_STYLE = {
    anchorFill: "deepskyblue",
    anchorRadius: 3,
    anchorStroke: "none",
    anchorStrokeWidth: 1,
    handleFill: "deepskyblue",
    handleRadius: 3,
    handleStroke: "none",
    handleStrokeWidth: 1,
    handleLineStroke: "deepskyblue",
    handleLineStrokeWidth: 1,
    pathStroke: "deepskyblue",
    pathStrokeWidth: 2 };

var CURSORS = {

    pencil: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACKUlEQVQ4T2NkIB0oALX4A/FEkFZGEvQ7GJhYdIVEJ5puXrOM4c6ta21vX7+uJsaABGdP346kzCJ+Ewsb9vyUCEZ9Y3OGPds27jt78qgzTgN4eHia/cJiMlKyiznlFVW4//379zcnMZTZxNL2p5a2PnO0v5Mr0PUHsBqgrKa+cvH6fd7iklLcIC+CNGcnhDCbWtn9TMooYM+ICXy1e9sGcVxhoNDcO+NmVGI6269fv36vXjKX9eCe7Qzmto4/kzML2Z8+fvjZ0Ug57+/fvwtwGZBw7MqTKeJS0twTOuoZJnc1CRqbW81ftf1oAEhDXXHW96Xzp3PBAh/dCwJOHr6nZy/bpAJScPr44R+VBSmLAsNi47KLazi+fP78w1ZPtvfTx4812AwQcPH0O337xlWVPadv/WMCAvQontjZwDCps1EQKP4B3QABv5Cos70zFsufOLz/16LZkzmnL17/l5GRkRmq8P++nVu+A11T8Obly9nIBoO8IOAfGn2uZ/oiOaClYA0H9mz/M623laWqpffLmiXzfhw9uGftowf3VoCk0F3F6Okf+mXyvJUcSLaB1Rzet/NPQojHVCCzAF9qZdy478wXHQNjcHzDwMcP778nhXvtuHD6RBA+zeBoBIb6nVlLNyoBXQCOkU8fP3yPCXC6fPXieXNCmsEGALGBX0j00a6p81l/fP/2J8rX/uG1yxctkUMarxegkgKyCoozWFhYGe/fuZVOrGaQXgDe5tcRUOCRFgAAAABJRU5ErkJggg==) 15 0, auto" };

// point: {
//     anchor: {x: 0, y: 0},
//     handleLeft: {x: 0, y: 0},
//     handleRight: {x: 0, y: 0},
//     linked: false,
//     close: false,
// }


function Curver(transhand) {
    EventEmitter.call(this);

    this._th = transhand;

    this._points = [];
    this._buffPoints = [];

    this._selectedPoints = [];

    this._offset = {
        x: 0,
        y: 0 };

    this._clickActions = [{ target: "anchor", action: "move_anchor" }, { target: "anchor", action: "remove_point", ctrl: true }, { target: "anchor", action: "reset_anchor", alt: true }, { target: "handle", action: "move_handle" }, { target: "handle", action: "unlink_handle", alt: true }, { target: "curve", action: "add_point" }, { target: "curve", action: "drag_path", ctrl: true }, { target: "curve", action: "rotate_path", alt: true }, { target: "curve", action: "scale_path", ctrl: true, alt: true }];
}

var hints = {
    anchor: ["drag anchor", "remove anchor - ctrl", "reset anchor - alt"],
    handle: ["drag hanle", "unlink handle - alt"],
    curve: ["add point"] };

inherits(Curver, EventEmitter);
var p = Curver.prototype;
module.exports = Curver;

Curver.id = "curver";
p.renderLevel = 2;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    while (this._points.length < opt.points.length) {
        this._addPoint();
    }
    while (this._points.length > opt.points.length) {
        this._splicePoint(this._points.length - 1);
    }

    opt.points.forEach(function (srcPoint, idx) {
        this._setupPoint(this._points[idx], srcPoint);
    }, this);

    this._offset.x = opt.offset && opt.offset.x || 0;
    this._offset.y = opt.offset && opt.offset.y || 0;

    this.render();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;
};

p.selectPoints = function (points) {
    var _this = this;


    this._selectedPoints.length = 0;
    this._selectedPoints.push.apply(this._selectedPoints, points);

    this._points.forEach(function (point) {
        point.selected = _this._selectedPoints.indexOf(point) !== -1;
    });
};



p._emitChange = (function () {
    return function (detailesList) {
        if (!_.isArray(detailesList)) {
            detailesList = [detailesList];
        }

        detailesList = detailesList.map(function (detailes) {
            detailes = _.assign({
                type: "",
                point: undefined,
                idx: undefined,
                points: this._points,
                flatPoints: flatPoints,
                flat: flat,
                svgPath: svgPath,
                clone: clone }, detailes);

            if (detailes.idx === undefined && detailes.point) {
                detailes.idx = this._points.indexOf(detailes.point);
            }

            return detailes;
        }, this);


        this.emit("change", detailesList);
    };

    function flatPoints() {
        var ret = [];

        this.points.forEach(function (point) {
            ret.push({
                x: point.handleLeft.x,
                y: point.handleLeft.y
            });
            ret.push({
                x: point.anchor.x,
                y: point.anchor.y
            });
            ret.push({
                x: point.handleRight.x,
                y: point.handleRight.y
            });
        });

        return ret;
    }
    function flat() {}
    function svgPath() {}
    function clone() {}
})();

p._getClickAction = function (target, e) {
    var ctrl = e.ctrlKey,
        shift = e.shiftKey,
        alt = e.altKey,
        ret;

    this._clickActions.some(function (clickAction) {
        if (clickAction.target === target && !!clickAction.ctrl === ctrl && !!clickAction.shift === shift && !!clickAction.alt === alt) {
            ret = clickAction.action;
            return true;
        }
    });

    return ret;
};







p.render = function () {
    var i, l, point, pointB, cmd;

    for (i = 0, l = this._points.length; i < l; ++i) {
        point = this._points[i];

        if (i !== l - 1) {
            pointB = this._points[i + 1];

            cmd = "M" + point.anchor.x + "," + point.anchor.y + " ";
            cmd += "C" + point.handleRight.x + "," + point.handleRight.y + " ";
            cmd += pointB.handleLeft.x + "," + pointB.handleLeft.y + " ";
            cmd += pointB.anchor.x + "," + pointB.anchor.y + " ";
            point._de.setAttribute("d", cmd);
        }

        moveCircle(point.anchor);

        moveCircle(point.handleLeft);
        moveLine(point.handleLeft, point.anchor);

        moveCircle(point.handleRight);
        moveLine(point.handleRight, point.anchor);

        this.domElem.style.left = this._offset.x + "px";
        this.domElem.style.top = this._offset.y + "px";
    }

    function moveCircle(pt) {
        pt._de.setAttribute("cx", pt.x);
        pt._de.setAttribute("cy", pt.y);
    }

    function moveLine(pt1, pt2) {
        pt1._deLine.setAttribute("x1", pt1.x);
        pt1._deLine.setAttribute("y1", pt1.y);
        pt1._deLine.setAttribute("x2", pt2.x);
        pt1._deLine.setAttribute("y2", pt2.y);
    }
};

p._addPoint = function (idx) {
    var that = this,
        point = Object.defineProperties({
        anchor: { x: 0, y: 0 },
        handleLeft: { x: 0, y: 0 },
        handleRight: { x: 0, y: 0 },
        style: {},
        linked: false }, {
        selected: {
            set: function (v) {
                this._selected = v;
                var display = this._selected ? "" : "none";
                this.handleLeft._de.style.display = display;
                this.handleLeft._deLine.style.display = display;
                this.handleRight._de.style.display = display;
                this.handleRight._deLine.style.display = display;
            },
            get: function () {
                return this._selected;
            },
            enumerable: true,
            configurable: true
        }
    });
    //TODO use _buffPoints[]
    this._points.splice(idx, 0, point);

    createPath();
    createAnchor();
    createHandle(point.handleLeft);
    createHandle(point.handleRight);

    point.selected = false;

    return point;
    //TODO cleanup this
    function createPath() {
        point._de = document.createElementNS("http://www.w3.org/2000/svg", "path");
        point._de.style.fill = "none";
        point._de.style.pointerEvents = "auto";
        point._de.style.cursor = CURSORS.pencil;
        that._dePathCont.appendChild(point._de);

        point._de.addEventListener("mousedown", (function (e) {
            var idx = this._points.indexOf(point),
                pLeft = this._points[idx],
                pRight = this._points[idx + 1],
                srcPoint = this._splitCurve(pLeft, pRight, e.x - this._offset.x, e.y - this._offset.y);

            var newPoint = this._addPoint(idx + 1);
            this._setupPoint(newPoint, srcPoint);

            this._emitChange([{ type: "edit", point: pLeft }, { type: "add", point: newPoint }, { type: "edit", point: pRight }]);

            this.render();

            newPoint.anchor._dragger.emitDown(e);
        }).bind(that));


        point._de.addEventListener("mouseenter", function () {
            that._th.cursorHint.setHints(hints.curve);
        });
        point._de.addEventListener("mouseleave", function () {
            that._th.cursorHint.setHints(null);
        });
    }

    function createAnchor() {
        point.anchor._de = createCircle();
        that._deAnchorCont.appendChild(point.anchor._de);

        point.anchor._dragger = makeDraggable({
            deTarget: point.anchor._de,
            thisArg: that,
            onDown: function (e) {
                var action = this._getClickAction("anchor", e);

                this.selectPoints([point]);

                if (action === "reset_anchor") {
                    point.handleLeft.x = point.anchor.x;
                    point.handleLeft.y = point.anchor.y;
                    point.handleRight.x = point.anchor.x;
                    point.handleRight.y = point.anchor.y;
                    point.linked = true;

                    this.render();

                    e = Object.create(e);
                    e.syncronSize = true;

                    this._emitChange({ type: "edit", point: point });

                    point.handleRight._dragger.emitDown(e);

                    return false;
                } else if (action === "remove_point") {
                    this.selectPoints([]);

                    var idx = this._points.indexOf(point);

                    this._splicePoint(idx);

                    this._emitChange({ type: "remove", idx: idx });

                    return false;
                }

                return {
                    axStart: point.anchor.x,
                    ayStart: point.anchor.y,
                    hlxStart: point.handleLeft.x,
                    hlyStart: point.handleLeft.y,
                    hrxStart: point.handleRight.x,
                    hryStart: point.handleRight.y };
            },
            onDrag: function (md) {
                point.anchor.x = md.axStart + md.dx;
                point.anchor.y = md.ayStart + md.dy;
                point.handleLeft.x = md.hlxStart + md.dx;
                point.handleLeft.y = md.hlyStart + md.dy;
                point.handleRight.x = md.hrxStart + md.dx;
                point.handleRight.y = md.hryStart + md.dy;

                this._emitChange({ type: "edit", point: point });
                this.render();
            },
            onEnter: function () {
                this._th.cursorHint.setHints(hints.anchor);
            },
            onLeave: function () {
                this._th.cursorHint.setHints(null);
            } });
    }

    function createHandle(handle) {
        var oppositeHandle = point.handleLeft === handle ? point.handleRight : point.handleLeft;

        handle._deLine = createLine();
        that._deHandleCont.appendChild(handle._deLine);

        handle._de = createCircle();
        that._deHandleCont.appendChild(handle._de);

        handle._dragger = makeDraggable({
            deTarget: handle._de,
            thisArg: that,
            onDown: function (e) {
                var action = this._getClickAction("handle", e);

                if (!e.syncronSize && action === "unlink_handle" && point.linked) {
                    point.linked = false;

                    this._emitChange({ type: "edit", point: point });
                }

                return {
                    xStart: handle.x,
                    yStart: handle.y,
                    oppositeLength: dist(oppositeHandle, point.anchor),
                    syncronSize: e.syncronSize };
            },
            onDrag: function (md) {
                handle.x = md.xStart + md.dx;
                handle.y = md.yStart + md.dy;

                if (point.linked) {
                    var dx = handle.x - point.anchor.x,
                        dy = handle.y - point.anchor.y,
                        rad = Math.atan2(dy, dx),
                        length = md.syncronSize ? dist(handle, point.anchor) : md.oppositeLength;

                    oppositeHandle.x = point.anchor.x - length * Math.cos(rad);
                    oppositeHandle.y = point.anchor.y - length * Math.sin(rad);
                }

                this._emitChange({ type: "edit", point: point });
                this.render();
            },
            onEnter: function () {
                this._th.cursorHint.setHints(hints.handle);
            },
            onLeave: function () {
                this._th.cursorHint.setHints(null);
            } });
    }

    function createCircle() {
        var de = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        de.style.cursor = "pointer";
        de.style.pointerEvents = "auto";

        return de;
    }

    function createLine() {
        var de = document.createElementNS("http://www.w3.org/2000/svg", "line");
        de.style.pointerEvents = "none";

        return de;
    }

    function dist(pa, pb) {
        var ox = pa.x - pb.x,
            oy = pa.y - pb.y;

        return Math.sqrt(ox * ox + oy * oy);
    }
};

p._setupPoint = function (point, src) {
    point.anchor.x = src.anchor.x;
    point.anchor.y = src.anchor.y;
    point.handleLeft.x = src.handleLeft.x;
    point.handleLeft.y = src.handleLeft.y;
    point.handleRight.x = src.handleRight.x;
    point.handleRight.y = src.handleRight.y;
    point.linked = !!src.linked;

    var s = point.style = _.defaults({}, src.style, BASE_POINT_STYLE);

    point._de.style.stroke = s.pathStroke;
    point._de.style.strokeWidth = s.pathStrokeWidth;

    point.anchor._de.setAttribute("r", s.anchorRadius);
    point.anchor._de.style.fill = s.anchorFill;
    point.anchor._de.style.stroke = s.anchorStroke;
    point.anchor._de.style.strokeWidth = s.anchorStrokeWidth;

    point.handleLeft._deLine.style.stroke = s.handleLineStroke;
    point.handleLeft._deLine.style.strokeWidth = s.handleLineStrokeWidth;
    point.handleRight._deLine.style.stroke = s.handleLineStroke;
    point.handleRight._deLine.style.strokeWidth = s.handleLineStrokeWidth;

    point.handleLeft._de.setAttribute("r", s.handleRadius);
    point.handleLeft._de.style.fill = s.handleFill;
    point.handleLeft._de.style.stroke = s.handleStroke;
    point.handleLeft._de.style.strokeWidth = s.handleStrokeWidth;
    point.handleRight._de.setAttribute("r", s.handleRadius);
    point.handleRight._de.style.fill = s.handleFill;
    point.handleRight._de.style.stroke = s.handleStroke;
    point.handleRight._de.style.strokeWidth = s.handleStrokeWidth;

    return point;
};


p._splicePoint = function (idx) {
    if (typeof idx === "object") {
        idx = this._points.indexOf(idx);
    }

    var removedPoint = this._points.splice(idx, 1)[0];

    this._emitChange({ type: "splice", idx: idx });

    this.render();

    removedPoint._de.parentNode.removeChild(removedPoint._de);
    removedPoint.anchor._de.parentNode.removeChild(removedPoint.anchor._de);
    removedPoint.handleLeft._de.parentNode.removeChild(removedPoint.handleLeft._de);
    removedPoint.handleLeft._deLine.parentNode.removeChild(removedPoint.handleLeft._deLine);
    removedPoint.handleRight._de.parentNode.removeChild(removedPoint.handleRight._de);
    removedPoint.handleRight._deLine.parentNode.removeChild(removedPoint.handleRight._deLine);

    this._buffPoints.push(removedPoint);
};

p._splitCurve = function (pa, pb, x, y) {
    var curve = [pa.anchor.x, pa.anchor.y, pa.handleRight.x, pa.handleRight.y, pb.handleLeft.x, pb.handleLeft.y, pb.anchor.x, pb.anchor.y],
        mPos = { x: x, y: y },
        p = {
        anchor: { x: 0, y: 0 }, //jsBezier.pointOnCurve(curve, loc),
        handleLeft: { x: 0, y: 0 },
        handleRight: { x: 0, y: 0 },
        linked: true },
        pm = {},
        dl = dist(pa.anchor, pa.handleRight) + dist(pa.handleRight, pb.handleLeft) + dist(pb.handleLeft, pb.anchor),
        minDist,
        pos,
        loc;

    for (var di = 0; di < dl; ++di) {
        var _loc = di / dl,
            _pos = calcPos(_loc),
            _dist = dist(_pos, mPos);

        if (minDist === undefined || minDist > _dist) {
            minDist = _dist;
            loc = _loc;
            pos = _pos;
        }
    }

    p.anchor = pos;

    pm.x = pa.handleRight.x + (pb.handleLeft.x - pa.handleRight.x) * loc;
    pm.y = pa.handleRight.y + (pb.handleLeft.y - pa.handleRight.y) * loc;
    pa.handleRight.x = pa.anchor.x + (pa.handleRight.x - pa.anchor.x) * loc;
    pa.handleRight.y = pa.anchor.y + (pa.handleRight.y - pa.anchor.y) * loc;
    pb.handleLeft.x = pb.handleLeft.x + (pb.anchor.x - pb.handleLeft.x) * loc;
    pb.handleLeft.y = pb.handleLeft.y + (pb.anchor.y - pb.handleLeft.y) * loc;
    p.handleLeft.x = pa.handleRight.x + (pm.x - pa.handleRight.x) * loc;
    p.handleLeft.y = pa.handleRight.y + (pm.y - pa.handleRight.y) * loc;
    p.handleRight.x = pm.x + (pb.handleLeft.x - pm.x) * loc;
    p.handleRight.y = pm.y + (pb.handleLeft.y - pm.y) * loc;

    function calcPos(pos) {
        var p = curve.slice(),
            l = p.length / 2;

        while (--l > 0) {
            for (var i = 0; i < l; ++i) {
                count(i * 2);
            }
        }

        return { x: p[0], y: p[1] };

        function count(i) {
            p[i + 0] = p[i + 0] + (p[i + 2] - p[i + 0]) * pos;
            p[i + 1] = p[i + 1] + (p[i + 3] - p[i + 1]) * pos;
        }
    }

    function dist(pa, pb) {
        var dx = pb.x - pa.x,
            dy = pb.y - pa.y;

        return Math.sqrt(dx * dx + dy * dy);
    }

    return p;
};


p.createGraphics = function () {
    this.domElem = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    this.domElem.style.position = "absolute";
    this.domElem.style.overflow = "visible";
    this.domElem.style.width = "100%";
    this.domElem.style.height = "100%";

    this._dePathCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._dePathCont);

    this._deHandleCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._deHandleCont);

    this._deAnchorCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._deAnchorCont);
};
// amgui.createCursorFromText({
//     icon: 'vector-pencil',
//     color: '#def',
//     width: 16,
//     height: 16,
//     hotspotX: 15,
//     hotspotY: 0,
//     rotateOriginX: 8,
//     rotateOriginY: 8,
//     backgroundColor: '#123',
//     rotate: 0,
//     stroke: {color:'black', width: 2},
//     debug: false,
// })
/*TODO*/ /*TODO*/ /*TODO*/
},{"../../make-draggable":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\make-draggable.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\make-draggable.js":[function(require,module,exports){
"use strict";

module.exports = function makeDraggable(opt) {
    opt = opt || {};

    var md, isOver, isDrag, waitingMoveEvent, waitingMoveRaf;

    if (opt.deTarget) {
        opt.deTarget.addEventListener("mousedown", onDown);
        opt.deTarget.addEventListener("mouseover", onEnter);
        opt.deTarget.addEventListener("mouseleave", onLeave);
    }

    return {
        emitDown: function (e) {
            onDown(e);
        },
        destroy: function () {}
    };

    function onDown(e) {
        if (e.button !== 0) {
            return;
        }

        // e.stopPropagation();
        // e.preventDefault();

        isDrag = true;

        var custom = call("onDown", [e]);

        if (custom === false) {
            //prevent dragging

            return;
        }

        md = custom || {};

        md.mx = e.clientX;
        md.my = e.clientY;
        md.dx = 0;
        md.dy = 0;

        window.addEventListener("mousemove", onMove);
        window.addEventListener("mouseup", onUp);
        window.addEventListener("mouseleave", onUp);
    }

    function onMove(e) {
        waitingMoveEvent = e;

        if (!waitingMoveRaf) {
            waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
        }
    }

    function rafOnMove() {
        window.cancelAnimationFrame(waitingMoveRaf);

        var wme = waitingMoveEvent;
        waitingMoveRaf = undefined;
        waitingMoveEvent = undefined;

        var mx = wme.clientX,
            my = wme.clientY;

        md.dx = mx - md.mx;
        md.dy = my - md.my;

        call(["onMove", "onDrag"], [md, mx, my]);
    }

    function onUp(e) {
        window.removeEventListener("mousemove", onMove);
        window.removeEventListener("mouseup", onUp);
        window.removeEventListener("mouseleave", onUp);

        if (waitingMoveEvent) {
            rafOnMove();
        }

        isDrag = false;
        if (!isOver) {
            onLeave();
        }

        call("onUp", [md, e.clientX, e.clientY, e]);
    }

    function onEnter() {
        isOver = true;

        if (!isDrag) {
            call("onEnter");
        }
    }

    function onLeave() {
        isOver = false;

        if (!isDrag) {
            call("onLeave");
        }
    }

    function call(name, args) {
        if (name instanceof Array) {
            name.forEach(function (name) {
                call(name, args);
            });

            return;
        }

        if (name in opt) {
            return opt[name].apply(opt.thisArg, args);
        }
    }
};
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am.css":[function(require,module,exports){
module.exports = "/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n}\n.CodeMirror-scroll {\n  /* Set scrolling behaviour here */\n  overflow: auto;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror div.CodeMirror-cursor {\n  border-left: 1px solid black;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor {\n  width: auto;\n  border: 0;\n  background: #7e7;\n}\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n@-moz-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@-webkit-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\ndiv.CodeMirror-overwrite div.CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  line-height: 1;\n  position: relative;\n  overflow: hidden;\n  background: white;\n  color: black;\n}\n\n.CodeMirror-scroll {\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actuall scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  padding-bottom: 30px;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  padding-bottom: 30px;\n  margin-bottom: -32px;\n  display: inline-block;\n  /* Hack to make IE7 behave */\n  *zoom:1;\n  *display:inline;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-wrap .CodeMirror-scroll {\n  overflow-x: hidden;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-measure pre { position: static; }\n\n.CodeMirror div.CodeMirror-cursor {\n  position: absolute;\n  border-right: none;\n  width: 0;\n}\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n.CodeMirror span { *vertical-align: text-bottom; }\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n\n/**\n * Pastel On Dark theme ported from ACE editor\n * @license MIT\n * @copyright AtomicPages LLC 2014\n * @author Dennis Thompson, AtomicPages LLC\n * @version 1.1\n * @source https://github.com/atomicpages/codemirror-pastel-on-dark-theme\n */\n\n.cm-s-pastel-on-dark.CodeMirror {\n\tbackground: #2c2827;\n\tcolor: #8F938F;\n\tline-height: 1.5;\n\tfont-size: 14px;\n}\n.cm-s-pastel-on-dark div.CodeMirror-selected { background: rgba(221,240,255,0.2) !important; }\n.cm-s-pastel-on-dark .CodeMirror-gutters {\n\tbackground: #34302f;\n\tborder-right: 0px;\n\tpadding: 0 3px;\n}\n.cm-s-pastel-on-dark .CodeMirror-guttermarker { color: white; }\n.cm-s-pastel-on-dark .CodeMirror-guttermarker-subtle { color: #8F938F; }\n.cm-s-pastel-on-dark .CodeMirror-linenumber { color: #8F938F; }\n.cm-s-pastel-on-dark .CodeMirror-cursor { border-left: 1px solid #A7A7A7 !important; }\n.cm-s-pastel-on-dark span.cm-comment { color: #A6C6FF; }\n.cm-s-pastel-on-dark span.cm-atom { color: #DE8E30; }\n.cm-s-pastel-on-dark span.cm-number { color: #CCCCCC; }\n.cm-s-pastel-on-dark span.cm-property { color: #8F938F; }\n.cm-s-pastel-on-dark span.cm-attribute { color: #a6e22e; }\n.cm-s-pastel-on-dark span.cm-keyword { color: #AEB2F8; }\n.cm-s-pastel-on-dark span.cm-string { color: #66A968; }\n.cm-s-pastel-on-dark span.cm-variable { color: #AEB2F8; }\n.cm-s-pastel-on-dark span.cm-variable-2 { color: #BEBF55; }\n.cm-s-pastel-on-dark span.cm-variable-3 { color: #DE8E30; }\n.cm-s-pastel-on-dark span.cm-def { color: #757aD8; }\n.cm-s-pastel-on-dark span.cm-bracket { color: #f8f8f2; }\n.cm-s-pastel-on-dark span.cm-tag { color: #C1C144; }\n.cm-s-pastel-on-dark span.cm-link { color: #ae81ff; }\n.cm-s-pastel-on-dark span.cm-qualifier,.cm-s-pastel-on-dark span.cm-builtin { color: #C1C144; }\n.cm-s-pastel-on-dark span.cm-error {\n\tbackground: #757aD8;\n\tcolor: #f8f8f0;\n}\n.cm-s-pastel-on-dark .CodeMirror-activeline-background { background: rgba(255, 255, 255, 0.031) !important; }\n.cm-s-pastel-on-dark .CodeMirror-matchingbracket {\n\tborder: 1px solid rgba(255,255,255,0.25);\n\tcolor: #8F938F !important;\n\tmargin: -1px -1px 0 -1px;\n}\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.clipboard.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");

var dialog = new Dialog({
  title: "Copy" });

dialog.addButton("ok", "hide");

var input = document.createElement("textarea");
dialog.deContent.appendChild(input);
dialog.deContent.style.width = "100%";

module.exports = function createClipboard(am) {
  am.clipboard = {
    copy: function (data) {
      input.value = data;
      dialog.show();
      input.focus();
      input.select();

      if (am.isExtension()) {
        document.execCommand("Copy", false, null);
        dialog.hide();
      }
    } };
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.js":[function(require,module,exports){
"use strict";

var amTools = require("./am.tools");
var amMenu = require("./am.menu");
var amClipboard = require("./am.clipboard");
var baseWorkspace = require("./baseWorkspace");

var EventEmitter = require("eventman");
var amgui = require("../amgui");
var Windooman = require("../windooman");
var HistoryTab = require("../historyTab");
var Warehouseman = require("../warehouseman");
var shortcuts = require("../shortcuts");
var Chronicler = require("../chronicler");
var DomPicker = require("../dom-picker");
var i18n = require("../i18n");
var Tour = require("../tour");
var Mouse = require("../mouse");
var ProjectMap = require("../project/ProjectMap");
var dialogWIP = require("../commonDialogs/dialogWIP");
var dialogFeedback = require("../commonDialogs/dialogFeedback");
var dialogWelcome = require("../commonDialogs/dialogWelcome");
var mineSave = require("../mineSave");
var modules = {
  css: require("../modules/css"),
  // js: require('./modules/javascript'),
  domTree: require("../modules/am-domtree") };
var externalStylesheets = [
// require('./assets/fontello/css/amgui.css'),
require("../am.css")];

var isInited = false, handlerBuff = [];


var am = window.am = module.exports = _.extend(new EventEmitter(), window.am, {
  trackTypes: {},

  _staticToolbarIcons: [],

  selectedDomElem: undefined,
  selectedTrack: undefined,

  registerTrackType: function (Track, type) {
    this.trackTypes[type] = Track;
  }
});
am.setMaxListeners(1234);

am.throwHandler = function (handler) {
  handlerBuff.push(handler);
};

am.open = function (save) {
  am.report({ evtName: "open", value: 1 });

  var promiseBody = function (fulfill, reject) {
    am._init();
    document.body.appendChild(am.rootElem);

    if (save) {
      if (typeof (save) === "object") {
        useSave(save);
      } else if (typeof (save) === "string") {
        if (save.indexOf("{") === -1) {
          //TODO determine if it is an url better

          fetch(save).then(function (response) {
            return response.text();
          }, reject).then(function (response) {
            return useSave(response);
          }, reject);
        } else {
          useSave(save);
        }
      }
    } else if (!am.projectMap.currProject) {
      am.openNewProject();
    }


    function useSave(save) {
      if (typeof (save) === "string") {
        try {
          save = JSON.parse(save);
        } catch (e) {
          save = mineSave(save);
        }
      }

      if (!save) {
        throw Error("Can't use this save");
      }

      am.projectMap.focus(save);
      fulfill();
    }
  };

  if (false) {
    console.warn("am.open is in debug mode!");
    promiseBody(); //debug
    return;
  }

  var promise = new Promise(promiseBody).then(function () {
    am.report({ evtName: "open", value: 1 });

    am.dialogs.welcome.show();
  })["catch"](function (err) {
    console.log(err.stack);
  });

  return promise;
};

am.hide = function () {
  if (am.rootElem.parentNode) {
    am.rootElem.parentNode.removeChild(am.rootElem);
  }
};

am.toggle = function () {
  if (am.rootElem.parentNode) {
    am.hide();
  } else {
    am.open();
  }
};

am._init = function () {
  if (isInited) return;
  isInited = true;

  am.deRoot = document.body;

  createAmRoot();
  am.dePickLayer = createAmLayer();
  am.deHandlerCont = createAmLayer();
  am.deGuiCont = createAmLayer();
  am.deDialogCont = createAmLayer();

  amgui.deOverlayCont = am.deDialogCont;

  am.i18n = i18n;

  am.workspace = new Windooman();
  am.deGuiCont.appendChild(am.workspace.domElem);
  am.workspace.loadWorkspace("base", baseWorkspace);
  am.workspace.load("base");

  am.projectMap = new ProjectMap();

  am.mouse = new Mouse();

  am.storage = new Warehouseman();

  am.tour = new Tour();

  am.history = new Chronicler();
  shortcuts.on("undo", function () {
    return am.history.undo();
  });
  shortcuts.on("redo", function () {
    return am.history.redo();
  });

  am.historyTab = new HistoryTab();
  am.workspace.fillTab("History", am.historyTab.domElem);

  am.domPicker = new DomPicker();
  am.deHandlerCont.appendChild(am.domPicker.domElem);
  am.domPicker.on("pick", function (de) {
    return am.selectDomElem(de);
  });

  amClipboard(am);
  amMenu(am);
  inspectHandlerCont(am.deHandlerCont);
  addToggleGui();
  amTools(am);
  createStatusLabel();

  am.dialogs = {
    WIP: dialogWIP,
    feedback: dialogFeedback,
    welcome: dialogWelcome };

  Object.keys(modules).forEach(function (moduleName) {
    console.log("init", moduleName, "module...");

    modules[moduleName].init(am);
  });
};

am.openNewProject = function () {
  am.projectMap.focus({
    name: "new project",
    timelines: [{}] });
};

am.setTimeline = function (timeline) {
  if (timeline) {
    timeline.toolbar.addIcon(am._staticToolbarIcons);
  }

  am.currTimeline = timeline;

  am.workspace.fillTab("timeline", timeline && timeline.domElem);
};

am.setCurrTrack = function (track) {
  if (am.currTrack === track) return;

  am.currTrack = track;

  am.emit("change.currTrack", am.currTrack);
};

am.selectDomElem = function (de) {
  if (!de) throw Error;
  if (am.selectedDomElem === de) return;

  am.selectedDomElem = de;
  am.emit("selectDomElem", am.selectedDomElem);
};

am.deselectDomElem = function () {
  if (!am.selectedDomElem) return;

  am.selectedDomElem = undefined;
  am.emit("deselectDomElem");
};

am.isPickableDomElem = function (deTest) {
  //TODO use .compareDocumentPosition()
  if (!deTest) {
    return false;
  }

  return step(deTest);

  function step(de) {
    if (!de) {
      return false;
    } else if (de.nodeType === 9) {
      return false;
    } else if (de.hasAttribute("data-am-pick")) {
      return true;
    } else if (de.hasAttribute("data-am-nopick")) {
      return false;
    } else if (de === document.body) {
      return de !== deTest;
    } else if (de) {
      return step(de.parentNode);
    }
  }
};





am.report = function (opt) {
  if (am.isExtension()) {
    chrome.runtime.sendMessage({
      subject: "track",
      evtName: opt.evtName,
      value: opt.value }, function (response) {
      console.log(response.farewell);
    });
  }
};

am.isExtension = function () {
  return chrome && chrome.storage;
};

am.setVar = function (name, value, cb) {
  if (am.isExtension()) {
    chrome.storage.sync.set((function (_ref) {
      _ref[name] = value;
      return _ref;
    })({}), function (response) {
      if (cb) cb(response);
    });
  } else {
    window.localStorage.setItem("__animachine_var_" + name, value);
    if (cb) cb();
  }
};

am.getVar = function (name, cb) {
  if (am.isExtension()) {
    chrome.storage.sync.get(name, function (value) {
      if (cb) cb(value);
    });
  } else {
    var value = window.localStorage.getItem("__animachine_var_" + name);
    cb(value);
  }
};











function inspectHandlerCont(deCont) {
  var config = { childList: true }, observer = new MutationObserver(function () {
    observer.disconnect();

    _(deCont.children).toArray().sortBy("renderLevel").forEach(function (de) {
      return deCont.appendChild(de);
    });

    observer.observe(deCont, config);
  });

  observer.observe(deCont, config);
}

function addToggleGui() {
  var isHidden = false;

  am._staticToolbarIcons.push({
    deIcon: amgui.createIconBtn({
      tooltip: "show/hide editor",
      icon: "resize-small",
      onClick: hide,
      size: 24 }),
    separator: "first" });

  var btnFull = amgui.createIconBtn({
    size: 24,
    icon: "resize-full",
    tooltip: "show editor",
    onClick: show });

  shortcuts.on("show/hidePanels", toggle);

  function toggle() {
    if (isHidden) {
      show();
    } else {
      hide();
    }
  }

  function hide() {
    if (isHidden) return;
    isHidden = true;

    am.deGuiCont.style.display = "none";

    document.body.appendChild(btnFull);

    var zIndex = getMaxZIndex();
    if (zIndex) {
      btnFull.style.zIndex = zIndex + 1000;
    }
  }

  function show() {
    if (!isHidden) return;
    isHidden = false;

    am.deGuiCont.style.display = "block";
    btnFull.parentElement.removeChild(btnFull);
  }

  btnFull.style.top = "0px";
  btnFull.style.left = "0px";
  btnFull.style.position = "fixed";
}




function getMaxZIndex() {
  var zIndex = 0, els, x, xLen, el, val;

  els = document.querySelectorAll("*");
  for (x = 0, xLen = els.length; x < xLen; x += 1) {
    el = els[x];
    if (window.getComputedStyle(el).getPropertyValue("position") !== "static") {
      val = window.getComputedStyle(el).getPropertyValue("z-index");
      if (val) {
        val = +val;
        if (val > zIndex) {
          zIndex = val;
        }
      }
    }
  }
  return zIndex;
}





















function createAmRoot() {
  // $('body').css('opacity', 0)
  // .mouseenter(function () {$('body').css('opacity', 1)})
  // .mouseleave(function () {$('body').css('opacity', .23)});

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.left = "0px";
  de.style.top = "0px";
  de.style.width = "100%";
  de.style.height = "100%";
  de.style.pointerEvents = "none";
  de.style.userSelect = "none";
  de.style.webktUserSelect = "none";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;

  de.setAttribute("data-am-nopick", "");

  var zIndex = getMaxZIndex();
  if (zIndex) {
    de.style.zIndex = zIndex + 1000;
  }

  var sr = de.createShadowRoot();

  sr.appendChild(amgui.getStyleSheet());

  externalStylesheets.forEach(function (css) {
    var style = document.createElement("style");
    style.innerHTML = css;
    sr.appendChild(style);
    // document.head.appendChild(style);
  });

  am.rootElem = de;
  am.rootShadow = sr;
  // return de;
}

function createAmLayer() {
  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.width = "100%";
  de.style.height = "100%";
  de.setAttribute("data-am-nopick", "");
  am.rootShadow.appendChild(de);
  return de;
}





function createStatusLabel() {
  var deTitle = amgui.createLabel({
    text: "Animachine (alpha)",
    parent: am.deDialogCont,
    position: "fixed",
    fontSize: "18px"
  });

  deTitle.style.pointerEvents = "none";
  deTitle.style.width = "100%";
  deTitle.style.textAlign = "center";
  deTitle.style.opacity = "0.23";
  deTitle.style.fontWeight = "bold";
}

},{"../am.css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am.css","../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../chronicler":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\chronicler\\Chronicler.js","../commonDialogs/dialogFeedback":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogFeedback.js","../commonDialogs/dialogWIP":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWIP.js","../commonDialogs/dialogWelcome":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWelcome.js","../dom-picker":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\dom-picker\\DomPicker.js","../historyTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\HistoryTab.js","../i18n":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js","../mineSave":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mineSave.js","../modules/am-domtree":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\am-domtree.js","../modules/css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\cssModule.js","../mouse":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mouse\\Mouse.js","../project/ProjectMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectMap.js","../shortcuts":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\shortcuts.js","../tour":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\tour\\Tour.js","../warehouseman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\Warehouseman.js","../windooman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Windooman.js","./am.clipboard":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.clipboard.js","./am.menu":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.menu.js","./am.tools":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.tools.js","./baseWorkspace":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\baseWorkspace.json","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.menu.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

module.exports = function createMenu(am) {
  var deMenuIcon = amgui.createIconBtn({
    tooltip: "menu",
    icon: "menu",
    size: 24 });

  am._staticToolbarIcons.push({
    deIcon: deMenuIcon,
    separator: "tools" });

  am.menuDropdown = amgui.createDropdown({
    options: [{
      text: "file",
      icon: "floppy",
      children: [{ text: "new", onSelect: function () {
          return am.openNewProject();
        }, icon: "doc" }, { text: "save", onSelect: onSelectSave, icon: "upload-cloud" },
      // {text: 'saveAs', onSelect: onSelectSave},
      { text: "open", onSelect: onSelectOpen, icon: "download-cloud" }]
    }, {
      text: "undo",
      icon: "ccw",
      onClick: function () {
        return am.history.undo();
      } }, {
      text: "redo",
      icon: "cw",
      onClick: function () {
        return am.history.redo();
      } }, {
      text: "feedback",
      icon: "megaphone",
      separator: "rest",
      onClick: function () {
        return am.dialogs.feedback.show();
      } }, {
      text: "view on github",
      icon: "github",
      separator: "rest",
      onClick: function () {
        return window.open("https://github.com/animachine/animachine");
      } }]
  });

  amgui.bindDropdown({
    deTarget: deMenuIcon,
    deDropdown: am.menuDropdown });

  function onSelectSave() {
    am.storage.showSaveDialog({
      getSave: function () {
        var opt = am.storage.getSaveOptions();

        return am.projectMap.currProject.getScript(opt);
      }
    });
  }

  function onSelectOpen() {
    am.storage.showOpenDialog({
      onOpen: function (save) {
        am.open(save);
      }
    });
  }
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.tools.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

module.exports = function tools(am) {
  am.dePickLayer.style.pointerEvents = "auto";

  var mode = "pick";

  var cursors = {
    interact: "auto",
    pick: "auto",
    move: "-webkit-grab" };

  var currMode, modes = [{
    type: "interact",
    text: "normal page interact",
    icon: "cursor",
    cursor: "auto" }, {
    type: "pick",
    text: "dom picking mode",
    icon: "target",
    cursor: "auto" }, {
    type: "move",
    text: "drag ",
    icon: "move",
    cursor: "-webkit-grab" }, {
    type: "zoom",
    text: "zoom ",
    icon: "zoom-in",
    cursor: "-webkit-zoom-in" }];

  function selectMode(m) {
    if (m === currMode) return;

    if (m.type === "zoom") {
      am.dialogs.WIP.show();
      return;
    }

    currMode = m;

    btn.setIcon(currMode.icon);

    am.dePickLayer.style.pointerEvents = currMode.type === "interacy" ? "none" : "auto";
    am.dePickLayer.style.cursor = currMode.cursor;
  }

  var btn = amgui.createIconBtn({
    tooltip: "toggle dom picking mode",
    icon: "target",
    defaultToggle: true,
    size: 24,
    display: "inline-block"
  });

  am._staticToolbarIcons.push(btn);

  selectMode(_.find(modes, { type: "pick" }));

  var dropdown = amgui.createDropdown({
    options: modes.map(function (m, idx) {
      return {
        text: m.text,
        icon: m.icon,
        onClick: function () {
          return selectMode(modes[idx]);
        } };
    }) });

  amgui.bindDropdown({ deTarget: btn, deDropdown: dropdown });

  amgui.on("fontLoaded", function () {
    var pickMode = _.find(modes, { type: "pick" });

    pickMode.cursor = amgui.createCursorFromText({
      icon: "target",
      color: amgui.color.text,
      width: 22,
      height: 22,
      hotspotX: 11,
      hotspotY: 11,
      textX: 2,
      stroke: { color: "black", width: 2 },
      debug: false });
  });

  am.dePickLayer.addEventListener("click", function (e) {
    if (currMode.type !== "pick") return;

    am.dePickLayer.style.pointerEvents = "none";
    var de = document.elementFromPoint(e.x, e.y);
    am.dePickLayer.style.pointerEvents = "auto";

    if (am.isPickableDomElem(de)) {
      if (de !== am.selectedDomElem) {
        //hack!

        am.domPicker.focusElem(de);
      }
    } else if (de === document.body || de.parentNode === document) {
      am.deselectDomElem();
    }
  });

  amgui.makeDraggable({
    deTarget: am.dePickLayer,
    onDown: function (e) {
      if (currMode.type !== "move") return false;
    },
    onDrag: function (e) {
      document.body.style.transform = "translate(" + e.dx + "px, " + e.dy + "px)";
      am.rootElem.style.transform = "translate(" + -e.dx + "px, " + -e.dy + "px)";
    }
  });



  am.toPickingMode = function (opt) {
    am.deGuiCont.style.display = "none";
    am.deDialogCont.style.display = "none";

    am.domPicker.on("add", function (e) {
      e.demand(-1).then(function () {
        if (opt.onPick) opt.onPick(e.target);

        close();
      });
    });

    shortcuts.on("esc", close);

    function close() {
      if (opt.onClose) opt.onClose();

      shortcuts.off("esc", close);
    }
  };
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\baseWorkspace.json":[function(require,module,exports){
module.exports=module.exports=module.exports={
    "type": "container",
    "direction": "column",
    "children": [{
        "type": "container",
        "direction": "row",
        "size": 2.7,
        "scaleMode": "flex",
        "children": [{
            "type": "panel",
            "size": 1,
            "scaleMode": "flex",
            "tabs": [
                {"name": "Project"},
                {"name": "Css Style"},
                {"name": "Dom Tree"},
                {"name": "History"}
            ]
        }, {
            "type": "panel",
            "empty": true,
            "size": 2.7,
            "scaleMode": "flex"
        }]
    }, {
        "type": "panel",
        "size": 1,
        "scaleMode": "flex",
        "noHead": true,
        "tabs": [{"name": "timeline"}]
    }]
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.bezierEditor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBezierEditor: createBezierEditor };
};


function createBezierEditor(opt) {
  opt = opt || {};

  var p0 = { x: 0.3, y: 0.3 }, p1 = { x: 0.7, y: 0.7 }, w = opt.width || 312, h = opt.height || 312, currEase;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = w + "px";
  de.style.height = h + "px";

  var c = document.createElement("canvas");
  c.width = w;
  c.height = h;
  de.appendChild(c);

  var ctx = c.getContext("2d");

  var deCp0 = createCp(p0);
  var deCp1 = createCp(p1);

  de.getValue = function () {
    return [p0.x, p0.y, p1.x, p1.y];
  };

  function setPoints(points) {
    p0.x = points[0];
    p0.y = points[1];
    p1.x = points[2];
    p1.y = points[3];

    render();
  }

  de.setEase = function (ease) {
    if (currEase) {
      ease.off("change", onChangeEase);
    }

    currEase = ease;

    if (currEase) {
      ease.on("change", onChangeEase);
      onChangeEase();
    }
  };

  render();

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;



  function onChangeEase() {
    setPoints(currEase.points);

    render();
  }

  function render() {
    ctx.clearRect(0, 0, w, h);

    renderEase();
    renderGuides();

    deCp0.refreshPosition();
    deCp1.refreshPosition();
  }

  function renderEase() {
    if (!currEase) return;

    ctx.beginPath();
    ctx.moveTo(x(0), y(currEase.getRatio(0)));

    for (var i = 0; i < w; ++i) {
      var _x = x(i / w), _y = y(currEase.getRatio(i / w)), _r = currEase.getRatio(i / w);
      ctx.lineTo(x(i / w), y(currEase.getRatio(i / w)));
    }

    ctx.strokeStyle = amgui.color.aqua;
    ctx.lineWidth = 1;
    ctx.stroke();
  }

  function renderGuides() {
    ctx.beginPath();
    ctx.moveTo(x(p0.x), y(p0.y));
    ctx.lineTo(0, y(0));
    ctx.bezierCurveTo(x(p0.x), y(p0.y), x(p1.x), y(p1.y), x(1), y(1));
    ctx.lineTo(x(p1.x), y(p1.y));

    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.beginPath();
    ctx.rect(x(0), y(0), x(1), y(1) - y(0));
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 1;
    ctx.stroke();
  }

  function x(p) {
    return p * w;
  }

  function y(p) {
    var min = minY(), max = maxY(), full = max - min;

    return h - (((p - min) / full) * h);
  }

  function minY() {
    return Math.min(0, p0.y, p1.y);
  }

  function maxY() {
    return Math.max(1, p0.y, p1.y);
  }

  function refreshEase() {
    if (!currEase) return;

    currEase.points = de.getValue();
  }

  function createCp(point) {
    var r = 6;

    var deCp = document.createElement("div");
    deCp.style.position = "absolute";
    deCp.style.cursor = "grab";
    deCp.style.boxSizing = "border-box";
    deCp.style.width = r * 2 + "px";
    deCp.style.height = r * 2 + "px";
    deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
    deCp.style.borderRadius = r + "px";
    deCp.style.background = "rgba(256, 256, 256, 1)";
    de.appendChild(deCp);

    amgui.makeDraggable({
      deTarget: deCp,
      onDown: function (e) {
        deCp.style.cursor = "grabbing";

        var md = {};
        md.minY = minY();
        md.fullY = maxY() - md.minY;
        return md;
      },
      onMove: function (md, mx, my) {
        var br = de.getBoundingClientRect();

        point.x = Math.max(0, Math.min(1, (mx - br.left) / w));
        point.y = (((br.bottom - my) / h) * md.fullY) - md.minY;

        var fix = 1000;
        point.x = parseInt(point.x * fix) / fix;
        point.y = parseInt(point.y * fix) / fix;

        render();

        refreshEase();
      },
      onUp: function () {
        deCp.style.cursor = "grab";
      }
    });

    deCp.refreshPosition = function () {
      deCp.style.left = x(point.x) + "px";
      deCp.style.top = y(point.y) + "px";
    };
    deCp.refreshPosition();

    return deCp;
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.breadcrumbs.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBreadcrumbs: createBreadcrumbs };
};


function createBreadcrumbs(opt) {
  var de = document.createElement("div"), crumbs = [];

  // de.style.overflow = 'hidden';
  de.style.position = "relative";
  // de.style.display = 'inline-block';
  de.style.whiteSpace = "nowrap";

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.addEventListener("click", function (e) {
    var crumb = getCrumbByDe(e.target);

    if (crumb) {
      if (crumb.onSelect) {
        crumb.onSelect();
      }

      de.dispatchEvent(new CustomEvent("select", { detail: { selection: crumb } }));
    }
  });

  if (opt.onSelect) {
    de.addEventListener("select", opt.onSelect);
  }

  de.setItems = function (_crumbs) {
    removeItems();

    _crumbs.forEach(function (crumb) {
      crumb.domElem = createCrumb(crumb.name, crumb.value);
      crumb.deSlash = createSlash();
      crumbs.push(crumb);

      crumb.domElem.addEventListener("click", function () {
        if (crumb.onSelect) {
          crumb.onSelect();
        }

        dispatchSelect(crumb);
      });
    });
  };

  return de;



  function dispatchSelect(crumb) {
    de.dispatchEvent(new CustomEvent("select", { detail: { selection: crumb } }));
  }

  function removeItems() {
    var crumb;

    while (crumbs.length) {
      crumb = crumbs.pop();

      crumb.domElem.parentNode.removeChild(crumb.domElem);
      crumb.deSlash.parentNode.removeChild(crumb.deSlash);
    }
  }

  function getCrumbByDe(deCrumb) {
    return crumbs.find(function (crumb) {
      return crumb.domElem === deCrumb;
    });
  }

  function createCrumb(name, value) {
    var deChrumb = createLi(name);

    return deChrumb;
  }

  function createSlash() {
    var deSlash = createLi(" / ");
    deSlash.style.pointerEvents = "none";

    return deSlash;
  }

  function createLi(content) {
    return amgui.createLabel({
      text: content,
      parent: de });
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.button.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createIcon: createIcon,
    createLabel: createLabel,
    createBtn: createBtn,
    createIconBtn: createIconBtn,
    createToggleIconBtn: createToggleIconBtn,
    createLinebreak: createLinebreak };
};


function createLinebreak(opt) {
  var de = document.createElement("br");

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createLabel(opt) {
  var de = amgui.createDiv(opt), deIconLeft, deIconRight, deText = amgui.createDiv({
    parent: de,
    display: "inline"
  });

  de.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  de.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  de.style.display = opt.display || "inline-block";
  if ("flex" in opt) de.style.flex = opt.flex;
  if ("position" in opt) de.style.position = opt.position;
  if ("color" in opt) de.style.color = opt.color;
  if ("fontWeight" in opt) de.style.fontWeight = opt.fontWeight;


  Object.defineProperties(de, {
    text: {
      set: function (v) {
        deText.innerHTML = v || "";
      },
      get: function () {
        return deText.innerHTML;
      }
    },
    icon: {
      set: function (v) {
        this.iconLeft = v;
      }
    },
    iconLeft: {
      set: function (v) {
        if (!v && !deIconLeft) return;
        if (!deIconLeft) {
          deIconLeft = amgui.createIcon({
            color: opt.color });
          deIconLeft.style.marginRight = "3px";
          de.insertBefore(deIconLeft, deText);
        }
        deIconLeft.setIcon(v);
        deIconLeft.style.display = v ? "inline" : "none";
      }
    },
    iconRight: {
      set: function (v) {
        if (!v && !deIconRight) return;
        if (!deIconRight) {
          deIconRight = amgui.createIcon({
            color: opt.color });
          deIconRight.style.marginLeft = "3px";
          de.appendChild(deIconRight);
        }
        deIconRight.setIcon(v);
        deIconRight.style.display = v ? "inline" : "none";
      }
    }
  });

  de.text = opt.text;
  de.iconLeft = opt.iconLeft || opt.icon;
  de.iconRight = opt.iconRight;

  return de;
}

function createBtn(opt) {
  opt.background = opt.background || amgui.color.bg1;

  var de = amgui.createDiv(opt);
  de.style.height = (opt.height || amgui.LINE_HEIGHT) + "px";
  de.style.fontSize = (opt.fontSize || amgui.FONT_SIZE);
  de.style.display = opt.display || "inline-block";
  de.style.padding = "0 5px";
  de.style.color = amgui.color.text;

  Object.defineProperties(de, {
    text: {
      set: function (v) {
        de.textContent = v;
      },
      get: function () {
        return de.textContent;
      }
    }
  });

  de.text = opt.text || opt.caption || "button";

  behaviorBtn(de, opt);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createIconBtn(opt) {
  var de = amgui.createIcon(opt);
  de.style.overflow = "hidden";

  behaviorBtn(de, opt);

  return de;
}

function behaviorBtn(de, opt) {
  var _inactive = false, _fixedHighlight = false, _mouseOver = false, background = opt.background || "none", backgroundHover = opt.backgroundHover || amgui.color.bgHover;

  de.style.cursor = "pointer";

  de.addEventListener("mouseenter", onMOver);
  de.addEventListener("mouseleave", onMOut);
  de.addEventListener("mousedown", onMOut);

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  Object.defineProperties(de, {
    inactive: {
      set: function (v) {
        v = !!v;
        if (_inactive === v) return;

        _inactive = v;
        refreshDe();
      },
      get: function () {
        return _inactive;
      }
    },
    fixedHighlight: {
      set: function (v) {
        v = !!v;
        if (_fixedHighlight === v) return;

        _fixedHighlight = v;
        refreshDe();
      },
      get: function () {
        return _fixedHighlight;
      }
    } });

  refreshDe();

  function onMOver() {
    _mouseOver = true;
    refreshDe();
  }

  function onMOut() {
    _mouseOver = false;
    refreshDe();
  }

  function refreshDe() {
    de.style.opacity = _inactive ? 0.43 : 1;
    de.style.pointerEvents = _inactive ? "none" : "auto";
    de.style.background = (_mouseOver || _fixedHighlight) ? backgroundHover : background;
  }
}

function createToggleIconBtn(opt) {
  opt.iconOn = opt.iconOn || opt.icon;
  opt.iconOff = opt.iconOff || opt.icon;
  opt.onColor = opt.onColor || opt.color || amgui.color.text;
  opt.offColor = opt.offColor || opt.color || amgui.color.textInactive;

  var isOn = opt.defaultToggle || false;
  var de = amgui.createIconBtn(opt);
  setIcon();

  if ("autoToggle" in opt ? opt.autoToggle : !opt.onClick) {
    de.addEventListener("click", onToggleClick);
  }

  if ("onToggle" in opt) {
    de.addEventListener("toggle", opt.onToggle);
  }

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  de.setToggle = function (on) {
    on = !!on;
    if (on === isOn) {
      return;
    }

    isOn = on;
    setIcon();

    de.dispatchEvent(new CustomEvent("toggle", { detail: { state: isOn } }));
    de.dispatchEvent(new Event(isOn ? "toggleOn" : "toggleOff"));
  };

  de.state = function () {
    return isOn;
  };


  function onToggleClick() {
    de.setToggle(!isOn);
  }

  function setIcon() {
    de.setIcon(isOn ? opt.iconOn : opt.iconOff);

    if (opt.changeColor) {
      de.style.color = isOn ? opt.onColor : opt.offColor;
    }
  }

  return de;
}

function createIcon(opt) {
  opt = opt || {};
  opt.size = opt.size || opt.height || amgui.LINE_HEIGHT;

  var de = amgui.createDiv();
  de.style.color = opt.color || amgui.color.text;
  de.style.width = (opt.width || opt.size) + "px";
  de.style.height = (opt.height || opt.size) + "px";
  de.style.lineHeight = opt.size + "px";
  de.style.textAlign = "center";
  de.style.fontFamily = "amgui";
  de.style.fontSize = Math.round(opt.size * 0.72) + "px";
  de.style.display = opt.display || "block";

  var textNode = document.createTextNode("");
  de.appendChild(textNode);

  de.setIcon = function (icon) {
    textNode.textContent = amgui.getIconChar(icon);
  };

  de.setIcon(opt.icon);

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: de,
      text: opt.tooltip
    });
  }

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.checkbox.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCheckbox: createCheckbox };
};



function createCheckbox(opt) {
  var de = amgui.createDiv({
    display: "flex",
    parent: opt.parent }), isChecked = false;

  Object.defineProperties(de, {
    checked: {
      set: function (v) {
        v = !!v;

        if (isChecked === v) return;

        isChecked = v;

        cb.setToggle(isChecked);

        de.dispatchEvent(new CustomEvent("change", { checked: isChecked }));
      },
      get: function () {
        return isChecked;
      }
    },
    text: {
      set: function (v) {
        label.text = v;
      },
      get: function () {
        return label.text;
      }
    }
  });

  var cb = amgui.createToggleIconBtn({
    iconOn: "check",
    iconOff: "check-empty",
    parent: de,
    display: "inline-block" });

  var label = amgui.createLabel({
    text: opt.text,
    parent: de });

  de.addEventListener("click", function () {
    de.checked = !de.checked;
  });

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  de.checked = opt.checked;

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.cursor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCursorFromText: createCursorFromText };
};

var buff = [];

function createCursorFromText(opt) {
  opt = opt || {};
  opt.width = opt.width || 24;
  opt.height = opt.height || 24;
  opt.hotspotX = "hotspotX" in opt ? opt.hotspotX : opt.width / 2;
  opt.hotspotY = "hotspotY" in opt ? opt.hotspotY : opt.height / 2;
  opt.textX = opt.textX || 0;
  opt.textY = opt.textY || 0;
  opt.fontFamily = opt.fontFamily || "amgui";
  opt.fontSize = opt.fontSize || opt.height + "px";
  opt.color = opt.color || "#000";
  opt.rotate = opt.rotate || 0;
  opt.rotateOriginX = opt.rotateOriginX || 0;
  opt.rotateOriginY = opt.rotateOriginY || 0;
  opt.text = opt.text || (opt.icon && amgui.getIconChar(opt.icon)) || "A";

  var buffered = buff.find(function (b) {
    if (b.opt.width === opt.width && b.opt.height === opt.height && b.opt.hotspotX === opt.hotspotX && b.opt.hotspotY === opt.hotspotY && b.opt.textX === opt.textX && b.opt.textY === opt.textY && b.opt.fontFamily === opt.fontFamily && b.opt.fontSize === opt.fontSize && b.opt.color === opt.color && b.opt.rotate === opt.rotate && b.opt.rotateOriginX === opt.rotateOriginX && b.opt.rotateOriginY === opt.rotateOriginY && b.opt.text === opt.text) {
      return true;
    }
  });

  if (buffered) {
    return buffered.url;
  }

  var canvas = document.createElement("canvas"), ctx = canvas.getContext("2d");

  canvas.width = opt.width;
  canvas.height = opt.height;

  ctx.translate(opt.rotateOriginX, opt.rotateOriginY);
  ctx.rotate(opt.rotate);
  ctx.translate(-opt.rotateOriginX, -opt.rotateOriginY);

  ctx.font = opt.fontSize + " " + opt.fontFamily;
  ctx.textBaseline = "top";

  if (opt.stroke) {
    ctx.strokeStyle = opt.stroke.color;
    ctx.lineWidth = opt.stroke.width;
    ctx.strokeText(opt.text, opt.textX, opt.textY);
  }

  ctx.fillStyle = opt.color;
  ctx.fillText(opt.text, opt.textX, opt.textY);

  if (opt.debug) {
    ctx.strokeStyle = "lime";
    ctx.lineWidth = "3";
    ctx.rect(0, 0, opt.width, opt.height);
    ctx.stroke();

    ctx.fillStyle = "red";
    ctx.fillRect(opt.hotspotX, opt.hotspotY, 1, 1);
  }

  var uri = canvas.toDataURL(), url = "url('" + uri + "') " + opt.hotspotX + " " + opt.hotspotY + ", auto";

  buff.push({
    opt: opt,
    url: url });

  return url;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dialog.js":[function(require,module,exports){
"use strict";

var domready = require("domready");

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDialog: createDialog };
};



function createDialog(opt) {
  var de, deTitle, deTitleText, deTitleIcon, deTitleEnd, deContentCont, deButtonsCont, deButtonsEnd, buttons = [];

  de = document.createElement("dialog");

  domready(function () {
    return (opt.parent || document.body).appendChild(de);
  });

  de.style.background = "none";
  de.style.border = "none";
  de.style.pointerEvents = "auto";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;


  deTitle = document.createElement("div");
  deTitle.style.display = "inline-block";
  deTitle.style.padding = "0 18px";
  deTitle.style.height = "34px";
  deTitle.style.fontSize = "23px";
  deTitle.style.fontWeight = "700";
  deTitle.style.background = amgui.color.overlay;
  deTitle.style.color = amgui.color.text;
  de.appendChild(deTitle);

  deTitleText = document.createElement("span");
  deTitle.appendChild(deTitleText);

  if (opt.titleIcon) {
    deTitleIcon = amgui.createIcon({
      icon: opt.titleIcon,
      parent: deTitle,
      display: "inline-block" });
  }

  deTitleEnd = document.createElement("div");
  deTitleEnd.style.display = "inline-block";
  deTitleEnd.style.width = "0";
  deTitleEnd.style.height = "0";
  deTitleEnd.style.verticalAlign = "bottom";
  deTitleEnd.style.borderStyle = "solid";
  deTitleEnd.style.borderWidth = "34px 0 0 8px";
  deTitleEnd.style.borderColor = "transparent transparent transparent " + amgui.color.overlay;
  de.appendChild(deTitleEnd);



  deContentCont = document.createElement("div");
  deContentCont.style.background = amgui.color.overlay;
  de.appendChild(deContentCont);

  deButtonsCont = document.createElement("div");
  deButtonsCont.style.background = amgui.color.overlay;
  deButtonsCont.style.display = "inline-block";
  deButtonsCont.style.float = "right";
  de.appendChild(deButtonsCont);


  de.setTitle = function (title) {
    deTitleText.textContent = title || "Dialog";
  };

  de.setContent = function (content) {
    if (!content) {
      return;
    }

    deContentCont.innerHTML = "";
    deContentCont.appendChild(content);
  };

  de.setButtons = function (buttons) {
    if (!buttons) {
      return;
    }

    buttons.length = [];
    deButtonsCont.innerHTML = "";

    buttons.forEach(function (btnData) {
      if (typeof (btnData) === "string") {
        de.addButton(btnData);
      } else {
        de.addButton(btnData.text, btnData.onClick);
      }
    });
  };

  de.addButton = function (text, handler) {
    var btn = amgui.createBtn({
      text: text,
      height: "100%",
      background: "rgba(0,0,0,0)" });
    btn.style.display = "inline-block";
    btn.style.fontWeight = "700";
    btn.style.fontSize = "18px";
    deButtonsCont.appendChild(btn);

    buttons.push(btn);

    btn.addEventListener("click", function () {
      if (handler) handler();

      de.dispatchEvent(new Event("click_" + text.toLowerCase()));
    });
  };

  de.hideButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "none";
      }
    });
  };

  de.showButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "inline-block";
      }
    });
  };

  de.setTitle(opt.title);
  de.setContent(opt.content);
  de.setButtons(opt.buttons);

  deButtonsEnd = document.createElement("div");
  deButtonsEnd.style.display = "inline-block";
  deButtonsEnd.style.float = "right";
  deButtonsEnd.style.width = "0";
  deButtonsEnd.style.height = "0";
  deButtonsEnd.style.verticalAlign = "top";
  deButtonsEnd.style.borderStyle = "solid";
  deButtonsEnd.style.borderWidth = "0 6px 21px 0";
  deButtonsEnd.style.borderColor = "transparent " + amgui.color.overlay + " transparent transparent";
  de.appendChild(deButtonsEnd);

  return de;
}

},{"domready":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\domready\\ready.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.drawer.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDrawer: createDrawer };
};


function createDrawer(opt) {
  opt = opt || {};

  var isOpened = false;

  var de = document.createElement("div");

  de.deHead = document.createElement("div");
  de.deHead.style.height = amgui.LINE_HEIGHT + "px";
  de.deHead.style.display = "flex";
  de.appendChild(de.deHead);

  de.deContent = document.createElement("div");
  de.appendChild(de.deContent);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  var toggleBtn = amgui.createToggleIconBtn({
    iconOn: "angle-down",
    iconOff: "angle-right",
    onClick: onToggleClick,
    parent: de.deHead,
    display: "inline-block"
  });

  var labelTitle = amgui.createLabel({
    text: opt.text || "drawer",
    parent: de.deHead,
    display: "inline-block"
  });






  de.toggle = function () {
    isOpened ? de.close() : de.open();
  };

  de.open = function () {
    if (isOpened) return;
    isOpened = true;

    refreshOpen();
  };

  de.close = function () {
    if (!isOpened) return;
    isOpened = false;

    refreshOpen();
  };

  refreshOpen();
  return de;







  function onToggleClick() {
    de.toggle();
  }

  function refreshOpen() {
    toggleBtn.setToggle(isOpened);
    de.deContent.style.display = isOpened ? "block" : "none";
  }

  return inp;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dropdown.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDropdown: createDropdown,
    bindDropdown: bindDropdown };
};



function createDropdown(opt) {
  opt = opt || {};

  var de = document.createElement("ul");
  de.style.listStyleType = "none";
  de.style.margin = 0;
  de.style.padding = 0;

  var items = [];

  de.addItem = function (optItem) {
    if (typeof (optItem) === "string") {
      optItem = { text: optItem };
    }

    var li = document.createElement("li");
    li.style.textAlign = "left";
    li.style.fontFamily = amgui.FONT_FAMILY;
    li.style.fontSize = "14px";
    li.style.padding = "0 3px";
    li.style.cursor = "pointer";
    li.style.background = amgui.color.overlayInverse;

    optItem.label = amgui.createLabel(_.assign({
      parent: li,
      color: amgui.color.textInverse }, optItem));

    li.addEventListener("click", function (e) {
      e.stopPropagation();

      if (optItem.onSelect) optItem.onSelect(); //deprecated
      if (optItem.onClick) optItem.onClick();

      onLeave();

      de.dispatchEvent(new CustomEvent("select", { detail: { selection: optItem.text } }));
    });
    de.appendChild(li);

    var onEnter = function () {
      return li.style.background = amgui.color.bgInverse;
    }, onLeave = function () {
      return li.style.background = amgui.color.overlayInverse;
    };

    li.addEventListener("mouseenter", onEnter);
    li.addEventListener("mouseleave", onLeave);

    items.push(li);

    if (optItem.children) {
      optItem.label.iconRight = "right-dir";

      bindDropdown({
        deTarget: li,
        deDropdown: createDropdown({ options: optItem.children }) });
    }

    return li;
  };

  de.removeItem = function (li) {
    var idx = items.indexOf(li);
    if (idx === -1) return;
    items.splice(idx, 1);

    if (li.parentNode) {
      li.parentNode.removeChild(li);
    }
  };

  de.setItems = function (newItems) {
    while (items.length) de.removeItem(items[0]);

    newItems.forEach(function (optItem) {
      return de.addItem(optItem);
    });
  };

  if (opt.options) {
    de.setItems(opt.options);
  }

  if (opt.onSelect) {
    de.addEventListener("select", opt.onSelect);
  }

  return de;
}

function bindDropdown(opt) {
  var isOpened = false;
  var deBtn = opt.deTarget;
  var deDropdown = opt.deDropdown || opt.deMenu;

  if (opt.asContextMenu) {
    deBtn.addEventListener("contextmenu", function (e) {
      // e.stopPropagation();
      e.preventDefault();
      if (!isOpened) open(e);
    });
  } else {
    deBtn.addEventListener("click", function (e) {
      // e.stopPropagation();
      if (!isOpened) open(e);
    });
  }



  return {
    setDropdown: function (dd) {
      deDropdown = dd;
    }
  };

  function open(e) {
    if (opt.onOpening && opt.onOpening(e) === false) {
      return;
    }

    if (isOpened) return;
    isOpened = true;

    var deCont = opt.menuParent || amgui.deOverlayCont || deBtn;

    deDropdown.style.position = "fixed";
    deDropdown.style.pointerEvents = "auto";
    deCont.appendChild(deDropdown);

    amgui.placeToPoint(deDropdown, e.clientX, e.clientY, opt.side);

    deDropdown.addEventListener("select", close);
    setTimeout(function () {
      window.addEventListener("click", close);
      window.addEventListener("contextmenu", close);
    });
  }

  function close(e) {
    if (!isOpened) return;
    isOpened = false;

    if (deDropdown.parentElement) {
      deDropdown.parentElement.removeChild(deDropdown);
    }
    deDropdown.removeEventListener("select", close);
    window.removeEventListener("click", close);
    window.removeEventListener("contextmenu", close);
  }
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.input.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createInput: createInput };
};


function createInput(opt) {
  opt = opt || {};

  var inp = document.createElement("input");
  inp.type = opt.type || "text";
  inp.style.width = opt.width || "245px";
  inp.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  inp.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  inp.style.fontFamily = amgui.FONT_FAMILY;
  inp.style.color = amgui.color.text;
  inp.style.background = "none";
  inp.style.border = "none";
  inp.style.padding = "0";

  if ("palceholder" in opt) inp.palceholder = opt.palceholder;
  if ("value" in opt) inp.value = opt.value;
  if ("flex" in opt) inp.style.flex = opt.flex;

  if (opt.onChange) {
    inp.addEventListener("input", opt.onChange);
  }

  inp.addEventListener("mousedown", function (e) {
    return e.stopPropagation();
  });

  if (opt.parent) {
    opt.parent.appendChild(inp);
  }

  inp.setValue = function (v) {
    if (v === inp.value) return;

    inp.value = v;
  };

  return inp;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var fontelloConf = require("../assets/fontello/config.json");

var amgui = window.amgui = new EventEmitter();

WebFont.load({
  google: {
    families: ["Open+Sans:300,400,600,700,800:latin,latin-ext"]
  },
  custom: {
    families: ["amgui"] },
  fontactive: (function () {
    var variants = ["amgui:n4", "Open Sans:n3", "Open Sans:n4", "Open Sans:n6", "Open Sans:n7", "Open Sans:n8"];

    return function (familyName, fvd) {
      var variant = familyName + ":" + fvd;

      if (variants.indexOf(variant) !== -1) {
        variants.splice(variants.indexOf(variant), 1);

        if (variants.length === 0) {
          amgui.flag("fontLoaded");
          amgui.emit("fontLoaded");
        }
      }
    };
  })() });

_.extend(amgui, require("./amgui.bezierEditor")(amgui), require("./amgui.breadcrumbs")(amgui), require("./amgui.button")(amgui), require("./amgui.checkbox")(amgui), require("./amgui.cursor")(amgui), require("./amgui.dialog")(amgui), require("./amgui.drawer")(amgui), require("./amgui.dropdown")(amgui), require("./amgui.input")(amgui), require("./amgui.keyValueInput")(amgui), require("./amgui.makeDraggable")(amgui), require("./amgui.scroll")(amgui), require("./amgui.stepperKey")(amgui), require("./amgui.tooltip")(amgui), require("./amgui.utils")(amgui), {
  FONT_FAMILY: "\"Open Sans\", sans-serif",
  FONT_SIZE: "12px",
  LINE_HEIGHT: 16,

  deOverlayCont: undefined, //am._init() fill this

  color: {
    bg0: "#222425",
    bg1: "#303030",
    bg2: "#3f4040",
    bg3: "#393b3f",
    bgInverse: "#eee",
    text: "#eee",
    textMinor: "#aaa",
    textInverse: "#111",
    textInactive: "rgba(255,255,255,.23)",
    overlay: "rgba(0,0,0,.785)",
    overlayInverse: "rgba(222,232,222,.785)",
    bgHover: "rgba(255,255,255,0.12)",
    selected: "#01FF70",
    transparent: "rgba(0,0,0,0)",
    //https://github.com/mrmrs/colors
    aqua: "#7FDBFF",
    blue: "#0074D9",
    lime: "#01FF70",
    navy: "#001F3F",
    teal: "#39CCCC",
    olive: "#3D9970",
    green: "#2ECC40",
    red: "#FF4136",
    maroon: "#85144B",
    orange: "#FF851B",
    purple: "#B10DC9",
    yellow: "#FFDC00",
    fuchsia: "#F012BE",
    gray: "#aaa",
    white: "#fff",
    black: "#111",
    silver: "#ddd" },

  getStyleSheet: function () {
    var style = document.createElement("style");

    style.innerHTML = "a{color: " + amgui.color.aqua + ";text-decoration:none;}";

    return style;
  },

  createDiv: function (opt) {
    var de = document.createElement("div");
    de.style.webkitUserSelect = "none";
    de.style.mozUserSelect = "none";
    de.style.msUserSelect = "none";
    de.style.userSelect = "none";

    if (typeof (opt) === "object") {
      if ("display" in opt) de.style.display = opt.display;
      if ("flex" in opt) de.style.flex = opt.flex;
      if ("position" in opt) de.style.position = opt.position;
      if ("parent" in opt) opt.parent.appendChild(de);
      if ("width" in opt) de.style.width = opt.width;
      if ("height" in opt) de.style.height = opt.height;
      if ("debug" in opt) de.setAttribute("data-debug", opt.debug);
    }

    return de;
  },

  createSeparator: function (opt) {
    var de = amgui.createDiv(opt);
    de.style.width = "100%";
    de.style.height = "0px";
    de.style.bottom = "0px";
    de.style.position = "absolute";
    de.style.borderBottom = "solid 1px rgba(255,255,255,.11)";
  },

  getIconChar: function (iconName) {
    var glyph = fontelloConf.glyphs.find(function (glyph) {
      return glyph.css === iconName;
    });

    var code = glyph ? glyph.code : 59407;

    return String.fromCharCode(code);
  }
});


amgui.setMaxListeners(0);

module.exports = amgui;

},{"../assets/fontello/config.json":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\config.json","./amgui.bezierEditor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.bezierEditor.js","./amgui.breadcrumbs":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.breadcrumbs.js","./amgui.button":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.button.js","./amgui.checkbox":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.checkbox.js","./amgui.cursor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.cursor.js","./amgui.dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dialog.js","./amgui.drawer":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.drawer.js","./amgui.dropdown":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dropdown.js","./amgui.input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.input.js","./amgui.keyValueInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.keyValueInput.js","./amgui.makeDraggable":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.makeDraggable.js","./amgui.scroll":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.scroll.js","./amgui.stepperKey":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.stepperKey.js","./amgui.tooltip":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.tooltip.js","./amgui.utils":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.utils.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.keyValueInput.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createKeyValueInput: createKeyValueInput };
};



function createKeyValueInput(opt) {
  opt = opt || {};

  var de = document.createElement("div");
  de.style.margin = "0 1px";
  de.style.height = amgui.LINE_HEIGHT + "px";
  de.style.position = "relative";

  var keyOn = false;

  var oldKey, oldValue;

  var inpKey = createInput("parameter name");
  inpKey.addEventListener("keypress", onKeyPress);

  var divider = createDivider();

  var inpValue = createInput("value");
  // inpValue.style.color = 'lightblue';
  inpValue.style.textAlign = "right";
  inpValue.style.right = "0px";

  showHideValue(keyOn);

  de.getKey = function () {
    return inpKey.value;
  };

  de.setKey = function (v) {
    if (v === oldKey) return;

    oldKey = v;
    inpKey.value = v;
    checkKeyOn();
  };

  de.getValue = function () {
    return inpValue.value;
  };

  de.setValue = function (v) {
    if (v === oldValue) return;

    oldValue = v;
    inpValue.value = v;
  };

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  if (opt.key) {
    de.setKey(opt.key);
  }

  if (opt.value) {
    de.setValue(opt.value);
  }

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  function onChange(e) {
    e.preventDefault();
    e.stopPropagation();

    checkKeyOn();

    var detail = {};

    if (de.getKey() !== oldKey) {
      oldKey = detail.key = de.getKey();
    }
    if (de.getValue() !== oldValue) {
      oldValue = detail.value = de.getValue();
    }

    if ("value" in detail || "key" in detail) {
      de.dispatchEvent(new CustomEvent("change", { detail: detail }));
    }
  }

  function onKeyPress(e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      e.stopPropagation();

      inpValue.focus();
    }
  }

  function checkKeyOn() {
    var on = !!inpKey.value;

    if (on !== keyOn) {
      keyOn = on;
      showHideValue(keyOn);
    }
  }

  function showHideValue(show) {
    divider.style.display = show ? "inline" : "none";
    inpValue.style.display = show ? "inline-block" : "none";
    inpKey.style.width = show ? "calc(50% - 5px)" : "100%";
  }

  function createInput(placeholder) {
    var inp = document.createElement("input");
    inp.type = "text";
    inp.placeholder = placeholder;
    inp.style.width = "50%";
    inp.style.height = "100%";
    inp.style.fontSize = amgui.FONT_SIZE;
    inp.style.fontFamily = amgui.FONT_FAMILY;
    inp.style.background = "none";
    inp.style.border = "none";
    inp.style.color = amgui.color.text;
    inp.addEventListener("change", onChange);
    inp.addEventListener("keyup", onChange);
    // $(inp).autosizeInput({space: 0});
    de.appendChild(inp);
    return inp;
  }

  function createDivider() {
    var divider = document.createElement("span");
    divider.textContent = ":";
    divider.style.color = amgui.color.text;
    divider.style.width = "2px";
    divider.style.fontSize = amgui.FONT_SIZE;
    divider.style.fontFamily = amgui.FONT_FAMILY;
    de.appendChild(divider);

    return divider;
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.makeDraggable.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    makeDraggable: makeDraggable };
};

function makeDraggable(opt) {
  opt = opt || {};

  var md, isOver, isDrag, waitingMoveEvent, waitingMoveRaf;

  if (opt.deTarget) {
    opt.deTarget.addEventListener("mousedown", onDown);
    opt.deTarget.addEventListener("mouseover", onEnter);
    opt.deTarget.addEventListener("mouseleave", onLeave);
  }

  return {
    emitDown: function (e) {
      onDown(e);
    },
    destroy: function () {}
  };

  function onDown(e) {
    if (e.button !== 0) {
      return;
    }

    e.stopPropagation(); //ex. prevent to drag the parent if that's draggable too
    e.preventDefault(); //ex. prevent selecting text

    isDrag = true;

    var custom = call("onDown", [e]);

    if (custom === false) {
      //prevent dragging

      return;
    }

    md = custom || {};

    md.mx = e.clientX;
    md.my = e.clientY;
    md.dx = 0;
    md.dy = 0;

    window.addEventListener("mousemove", onMove);
    window.addEventListener("mouseup", onUp);
    window.addEventListener("mouseleave", onUp);
  }

  function onMove(e) {
    waitingMoveEvent = e;

    if (!waitingMoveRaf) {
      waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
    }
  }

  function rafOnMove() {
    window.cancelAnimationFrame(waitingMoveRaf);

    var wme = waitingMoveEvent;
    waitingMoveRaf = undefined;
    waitingMoveEvent = undefined;

    var mx = wme.clientX, my = wme.clientY;

    md.dx = mx - md.mx;
    md.dy = my - md.my;

    call(["onMove", "onDrag"], [md, mx, my]);
  }

  function onUp(e) {
    window.removeEventListener("mousemove", onMove);
    window.removeEventListener("mouseup", onUp);
    window.removeEventListener("mouseleave", onUp);

    if (waitingMoveEvent) {
      rafOnMove();
    }

    isDrag = false;
    if (!isOver) {
      onLeave();
    }

    call("onUp", [md, e.clientX, e.clientY, e]);
  }

  function onEnter() {
    isOver = true;

    if (!isDrag) {
      call("onEnter");
    }
  }

  function onLeave() {
    isOver = false;

    if (!isDrag) {
      call("onLeave");
    }
  }

  function call(name, args) {
    if (name instanceof Array) {
      name.forEach(function (name) {
        call(name, args);
      });

      return;
    }

    if (name in opt) {
      return opt[name].apply(opt.thisArg, args);
    }
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.scroll.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createRange: createRange,
    makeScrollable: makeScrollable };
};



function makeScrollable(opt) {
  var pos = 0, deConts = opt.deCont, deTargets = opt.deTarget, deRange = opt.deRange, ret = { dispose: dispose };

  if (!Array.isArray(deConts)) deConts = [deConts];
  if (!Array.isArray(deTargets)) deTargets = [deTargets];

  deConts.forEach(function (cont) {
    if (!cont) throw "false contaiter";
  });
  deTargets.forEach(function (target) {
    if (!target) throw "false target";
  });

  deConts.forEach(function (deC) {
    deC.addEventListener("wheel", onWheel);
  });
  deTargets.forEach(function (deT) {
    var pos = deT.style.position;
    if (pos !== "absolute" && pos !== "fixed" && pos !== "relative") {
      deT.style.position = "relative";
    };
  });


  //create a basic scroll bar if it is not set at all
  if (!("deRange" in opt)) {
    deRange = this._scrollRange = amgui.createRange({
      parent: deConts[0],
      height: "100%",
      vertical: true
    });

    deRange.style.position = "absolute";
    deRange.style.top = "0px";
    deRange.style.right = "0px";
  }

  if (deRange) {
    initRange();
  }


  return ret;





  function onWheel(e) {
    var way = e.deltaY / 3, maxH = getTargetMaxH();

    pos = Math.max(0, Math.min(maxH, pos + way));

    if (deRange) {
      deRange.setValue(pos / maxH);
    }

    scroll();
  }

  function onChangeRange(e) {
    pos = getTargetMaxH() * e.detail.value;
    scroll();
  }

  function scroll() {
    deTargets.forEach(function (deT) {
      deT.style.top = -pos + "px";
    });
  }

  function getTargetMaxH() {
    var contH = Math.max.apply(null, deConts.slice().map(getH)), targetH = Math.max.apply(null, deTargets.slice().map(getH));

    return targetH - contH;
  }

  function getH(de) {
    return de.getBoundingClientRect().height;
  }

  function initRange() {
    var saveDisplay = deRange.style.display, isShowing = false, refreshSetI;

    deRange.style.display = "none";

    deRange.addEventListener("change", onChangeRange);

    refreshSetI = setInterval(function () {
      var needsRange = getTargetMaxH() > 0;

      if (isShowing !== needsRange) {
        isShowing = needsRange;

        deRange.style.display = isShowing ? saveDisplay : "none";
      }
    }, 312);

    var saveDispose = ret.dispose;
    ret.dispose = function dispose() {
      saveDispose();

      clearInterval(refreshSetI);

      deRange.removeEventListener("change", onChangeRange);
    };
  }

  function dispose() {
    deConts.forEach(function (deC) {
      deC.removeEventListener("wheel", onWheel);
    });
  }
}




function createRange(opt) {
  opt = opt || {};

  var value = 0, cursorWidth = 0, isVertical = !!opt.vertical;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = opt.width || "6px";
  de.style.height = opt.height || "140px";
  de.style.background = amgui.color.bg1;
  de.style.cursor = "pointer";

  var deCursor = document.createElement("div");
  deCursor.style.position = "absolute";
  deCursor.style[d("left", "top")] = "0";
  deCursor.style[d("right", "bottom")] = "0";
  deCursor.style.margin = d("auto 0", "0 auto");
  deCursor.style.background = amgui.color.bg3;
  deCursor.style[d("width", "height")] = opt.cursorHeight || "100%";
  de.appendChild(deCursor);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.setCursorWidth = function (w) {
    deCursor.style[d("height", "width")] = w + "px";
    cursorWidth = w;
  };
  de.setCursorWidth(opt.cursorWidth || 12);

  amgui.makeDraggable({
    deTarget: de,
    onMove: function (md, mx, my) {
      var br = de.getBoundingClientRect(), p = d(my, mx) - (d(br.top, br.left) + cursorWidth / 2), fw = d(br.height, br.width) - cursorWidth, pos = Math.max(0, Math.min(1, p / fw));

      de.setValue(pos);
    }
  });

  de.setValue = function (v) {
    if (v === value) return;

    value = v;

    var width = de.getBoundingClientRect()[d("height", "width")];
    deCursor.style[d("top", "left")] = ((width - cursorWidth) * value) + "px";

    de.dispatchEvent(new CustomEvent("change", { detail: { value: value } }));
  };

  de.getValue = function () {
    return value;
  };

  function d(vertical, horisontal) {
    return isVertical ? vertical : horisontal;
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.stepperKey.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createStepperKey: createStepperKey };
};


function createStepperKey(opt) {
  opt = opt || {};

  opt.height = opt.height || amgui.LINE_HEIGHT;

  var hasPrev = false, hasNext = false, isShowingSteppers = false, isMOverKey = false, isMOverStepper = false, stepperW = 8;

  var de = amgui.createToggleIconBtn({
    icon: "key",
    height: opt.height,
    onClick: opt.onClick,
    changeColor: true,
    parent: opt.parent
  });
  de.style.position = "relative";
  de.style.overflow = "";

  de.addEventListener("mouseenter", onMOverKey);
  de.addEventListener("mouseleave", onMOutKey);

  var dePrev = createStepper(true);
  var deNext = createStepper(false);

  de.setSteppers = function (_hasPrev, _hasNext) {
    hasPrev = _hasPrev;
    hasNext = _hasNext;

    if (isShowingSteppers) {
      hideSteppers();
      showSteppers();
    }
  };

  de.setHighlight = function (on) {
    de.style.color = on ? amgui.color.text : amgui.color.textInactive;
  };

  return de;

  function onMOverKey() {
    isMOverKey = true;onChangeOver();
  }
  function onMOutKey() {
    isMOverKey = false;onChangeOver();
  }
  function onMOverStepper() {
    isMOverStepper = true;onChangeOver();
  }
  function onMOutStepper() {
    isMOverStepper = false;onChangeOver();
  }

  function onChangeOver() {
    if (isMOverKey || isMOverStepper) {
      if (!isShowingSteppers) {
        showSteppers();
      }
    } else if (!isMOverKey && !isMOverStepper) {
      if (isShowingSteppers) {
        hideSteppers();
      }
    }
  };

  function showSteppers() {
    isShowingSteppers = true;

    var br = de.getBoundingClientRect();

    if (hasPrev) {
      amgui.deOverlayCont.appendChild(dePrev);
      dePrev.style.left = (br.left - stepperW) + "px";
      dePrev.style.top = br.top + "px";
    }

    if (hasNext) {
      amgui.deOverlayCont.appendChild(deNext);
      deNext.style.left = br.right + "px";
      deNext.style.top = br.top + "px";
    }
  }

  function hideSteppers() {
    isShowingSteppers = false;

    if (dePrev.parentNode) {
      dePrev.parentNode.removeChild(dePrev);
    }

    if (deNext.parentNode) {
      deNext.parentNode.removeChild(deNext);
    }
  }

  function createStepper(isLeft) {
    var deStepper = amgui.createIconBtn({
      color: amgui.color.textInverse,
      background: amgui.color.overlayInverse,
      backgroundHover: amgui.color.bgInverse,
      icon: isLeft ? "angle-left" : "angle-right",
      height: opt.height,
      width: stepperW,
      onClick: isLeft ? opt.onClickPrev : opt.onClickNext
    });
    deStepper.style.position = "absolute";
    deStepper.style.pointerEvents = "auto";
    deStepper.addEventListener("mouseenter", onMOverStepper);
    deStepper.addEventListener("mouseleave", onMOutStepper);

    return deStepper;
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.tooltip.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    addTooltip: addTooltip,
    removeTooltip: removeTooltip,
    getTooltip: getTooltip };
};

var tooltipMap = new Map();



function addTooltip(opt) {
  var showSetT, delay = 423, mx = 0, my = 0;

  var de = document.createElement("div");
  de.textContent = opt.text;
  de.style.position = "fixed";
  de.style.padding = "12px";
  de.style.display = "inline-block";
  de.style.background = amgui.color.overlayInverse;
  de.style.color = amgui.color.textInverse;

  de.remove = function () {
    opt.deTarget.removeEventListener("mouseenter", onMEnter);
    onMLeave();
  };

  de.setContent = function (content) {
    de.textContent = content;
  };

  tooltipMap.set(opt.deTarget, de);

  opt.deTarget.addEventListener("mouseenter", onMEnter);

  function onMEnter(e) {
    opt.deTarget.addEventListener("mousemove", onMMove);
    opt.deTarget.addEventListener("mouseleave", onMLeave);
    opt.deTarget.addEventListener("mousedown", onMLeave);

    onMMove(e);
  }

  function onMLeave() {
    opt.deTarget.removeEventListener("mousemove", onMMove);
    opt.deTarget.removeEventListener("mouseleave", onMLeave);
    opt.deTarget.removeEventListener("mousedown", onMLeave);

    hide();
    clearShowSetT();
  }

  function onMMove(e) {
    hide();
    refreshShowSetT();
    mx = e.clientX;
    my = e.clientY;
  }

  function refreshShowSetT() {
    clearShowSetT();
    showSetT = setTimeout(show, delay);
  }

  function clearShowSetT() {
    clearTimeout(showSetT);
  }

  function show() {
    amgui.deOverlayCont.appendChild(de);
    amgui.placeToPoint(de, mx, my, opt.side);
  }

  function hide() {
    if (de.parentElement) {
      de.parentElement.removeChild(de);
    }
  }
};

function removeTooltip(deTarget) {
  var tooltip = amgui.getTooltip(deTarget);

  if (tooltip) {
    tooltip.remove();
  }
};

function getTooltip(deTarget) {
  return tooltipMap.get(deTarget);
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.utils.js":[function(require,module,exports){
"use strict";

var amgui;


function placeToPoint(de, mx, my, way) {
  amgui.callOnAdded(de, function () {
    var px = 0, py = 0, br = de.getBoundingClientRect(), w = br.width, h = br.height, ww = window.innerWidth, wh = window.innerHeight;

    way = way || "left";

    switch (way) {
      case "top":
        px = mx - (w / 2);
        py = my - h;
        break;

      case "right":
        px = mx;
        py = my - (h / 2);
        break;

      case "bottom":
        px = mx - (w / 2);
        py = my;
        break;

      default:
      case "left":
        px = mx - w;
        py = my - (h / 2);
    }

    if (py < 0) py = 0;
    if (px + w > ww) px -= (px + w) - ww;
    if (py + h > wh) py -= (py + h) - wh;
    if (px < 0) px = 0;

    de.style.left = px + "px";
    de.style.top = py + "px";
  });
}

function callOnAdded(de, cb, thisArg) {
  if (de instanceof Array) {
    var deRest = de;
    de = deRest.shift();

    if (deRest.length !== 0) {
      cb = callOnAdded.bind(this, deRest, cb, thisArg);
    }
  }


  var setT, setTTime = 1;
  checkLoop();

  function checkLoop() {
    if (check(de)) {
      cb.call(thisArg);
    } else {
      if (setTTime < 256) {
        setTTime *= 2;
      }

      clearTimeout(setT);
      setT = setTimeout(checkLoop, setTTime);
    }
  }

  function check(node) {
    while (node.parentNode) {
      node = node.parentNode;

      if (node.nodeType === 9 || node.nodeType === 11) {
        return true;
      }
    }
  }
}



var delayWithRAF = (function () {
  var stack = new Map(), waiting = undefined;

  var onRaf = function () {
    stack.forEach(function (reg, fn) {
      fn.apply(reg.ctx, reg.args);
      stack["delete"](fn);
    });

    // stack.clear();
    waiting = undefined;
  };

  return function (fn) {
    function wrapper() {
      fn.apply(this, arguments);
    };

    return function () {
      stack.set(wrapper, { ctx: this, args: arguments });

      if (waiting === undefined) {
        waiting = window.requestAnimationFrame(onRaf);
      }
    };
  };
})();



module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    placeToPoint: placeToPoint,
    callOnAdded: callOnAdded,
    delayWithRAF: delayWithRAF };
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\config.json":[function(require,module,exports){
module.exports=module.exports=module.exports={
  "name": "amgui",
  "css_prefix_text": "icon-",
  "css_use_suffix": false,
  "hinting": true,
  "units_per_em": 1000,
  "ascent": 850,
  "glyphs": [
    {
      "uid": "53ed8570225581269cd7eff5795e8bea",
      "css": "emo-unhappy",
      "code": 59412,
      "src": "fontelico"
    },
    {
      "uid": "68e298ff2d8b25dd7f647ed64f5ae690",
      "css": "emo-surprised",
      "code": 59432,
      "src": "fontelico"
    },
    {
      "uid": "bb68a13a3574b087d4350eff0b8d48e3",
      "css": "emo-tongue",
      "code": 59479,
      "src": "fontelico"
    },
    {
      "uid": "4843d0d6050dd508d4c101a334f46db2",
      "css": "emo-shoot",
      "code": 59480,
      "src": "fontelico"
    },
    {
      "uid": "2bd5f98482d86649958312ea2ab5bb40",
      "css": "emo-laugh",
      "code": 59481,
      "src": "fontelico"
    },
    {
      "uid": "8ce732688587909ad0a9d8323eaca8ad",
      "css": "marquee",
      "code": 59413,
      "src": "fontelico"
    },
    {
      "uid": "5211af474d3a9848f67f945e2ccaf143",
      "css": "cancel",
      "code": 59427,
      "src": "fontawesome"
    },
    {
      "uid": "44e04715aecbca7f266a17d5a7863c68",
      "css": "plus",
      "code": 59431,
      "src": "fontawesome"
    },
    {
      "uid": "1a5cfa186647e8c929c2b17b9fc4dac1",
      "css": "plus-squared",
      "code": 59398,
      "src": "fontawesome"
    },
    {
      "uid": "ce3cf091d6ebd004dd0b52d24074e6e3",
      "css": "help",
      "code": 59510,
      "src": "fontawesome"
    },
    {
      "uid": "3d4ea8a78dc34efe891f3a0f3d961274",
      "css": "info",
      "code": 59509,
      "src": "fontawesome"
    },
    {
      "uid": "0ddd3e8201ccc7d41f7b7c9d27eca6c1",
      "css": "link",
      "code": 59460,
      "src": "fontawesome"
    },
    {
      "uid": "1dcd2b2148b7f086a4eb47f6a746bdee",
      "css": "unlink",
      "code": 59461,
      "src": "fontawesome"
    },
    {
      "uid": "c5fd349cbd3d23e4ade333789c29c729",
      "css": "eye",
      "code": 59438,
      "src": "fontawesome"
    },
    {
      "uid": "7fd683b2c518ceb9e5fa6757f2276faa",
      "css": "eye-off",
      "code": 59439,
      "src": "fontawesome"
    },
    {
      "uid": "57a0ac800df728aad61a7cf9e12f5fef",
      "css": "flag",
      "code": 59497,
      "src": "fontawesome"
    },
    {
      "uid": "6c83092421441296f5c4e8074b0cf32c",
      "css": "flag-empty",
      "code": 59496,
      "src": "fontawesome"
    },
    {
      "uid": "d7a614bd701f6712e8e3b2be124899e1",
      "css": "flag-checkered",
      "code": 59473,
      "src": "fontawesome"
    },
    {
      "uid": "9a76bc135eac17d2c8b8ad4a5774fc87",
      "css": "download",
      "code": 59414,
      "src": "fontawesome"
    },
    {
      "uid": "f5999a012fc3752386635ec02a858447",
      "css": "download-cloud",
      "code": 115,
      "src": "fontawesome"
    },
    {
      "uid": "de2fc7a5c986ab8c622f63455d7cf814",
      "css": "upload-cloud",
      "code": 117,
      "src": "fontawesome"
    },
    {
      "uid": "7034e4d22866af82bef811f52fb1ba46",
      "css": "code",
      "code": 59417,
      "src": "fontawesome"
    },
    {
      "uid": "4aad6bb50b02c18508aae9cbe14e784e",
      "css": "share",
      "code": 59508,
      "src": "fontawesome"
    },
    {
      "uid": "d35a1d35efeb784d1dc9ac18b9b6c2b6",
      "css": "pencil",
      "code": 59448,
      "src": "fontawesome"
    },
    {
      "uid": "0133387f2069a1b3168942b84d81dd3a",
      "css": "gamepad",
      "code": 59495,
      "src": "fontawesome"
    },
    {
      "uid": "f48ae54adfb27d8ada53d0fd9e34ee10",
      "css": "trash",
      "code": 59396,
      "src": "fontawesome"
    },
    {
      "uid": "1b5a5d7b7e3c71437f5a26befdd045ed",
      "css": "doc",
      "code": 59405,
      "src": "fontawesome"
    },
    {
      "uid": "3c961c1a8d874815856fc6637dc5a13c",
      "css": "file-image",
      "code": 59513,
      "src": "fontawesome"
    },
    {
      "uid": "81db033e704eb7c586a365559d7c0f36",
      "css": "file-audio",
      "code": 59512,
      "src": "fontawesome"
    },
    {
      "uid": "dd69d9aa589ea7bc0a82a3fe67039f4b",
      "css": "file-video",
      "code": 59511,
      "src": "fontawesome"
    },
    {
      "uid": "26613a2e6bc41593c54bead46f8c8ee3",
      "css": "file-code",
      "code": 59400,
      "src": "fontawesome"
    },
    {
      "uid": "b091a8bd0fdade174951f17d936f51e4",
      "css": "folder-empty",
      "code": 59403,
      "src": "fontawesome"
    },
    {
      "uid": "6533bdc16ab201eb3f3b27ce989cab33",
      "css": "folder-open-empty",
      "code": 59404,
      "src": "fontawesome"
    },
    {
      "uid": "559647a6f430b3aeadbecd67194451dd",
      "css": "menu",
      "code": 59440,
      "src": "fontawesome"
    },
    {
      "uid": "e99461abfef3923546da8d745372c995",
      "css": "cog",
      "code": 59393,
      "src": "fontawesome"
    },
    {
      "uid": "5bb103cd29de77e0e06a52638527b575",
      "css": "wrench",
      "code": 59415,
      "src": "fontawesome"
    },
    {
      "uid": "21b42d3c3e6be44c3cc3d73042faa216",
      "css": "sliders",
      "code": 59416,
      "src": "fontawesome"
    },
    {
      "uid": "598a5f2bcf3521d1615de8e1881ccd17",
      "css": "clock",
      "code": 59458,
      "src": "fontawesome"
    },
    {
      "uid": "5278ef7773e948d56c4d442c8c8c98cf",
      "css": "lightbulb",
      "code": 59502,
      "src": "fontawesome"
    },
    {
      "uid": "98d9c83c1ee7c2c25af784b518c522c5",
      "css": "block",
      "code": 59500,
      "src": "fontawesome"
    },
    {
      "uid": "e594fc6e5870b4ab7e49f52571d52577",
      "css": "resize-full",
      "code": 59437,
      "src": "fontawesome"
    },
    {
      "uid": "b013f6403e5ab0326614e68d1850fd6b",
      "css": "resize-full-alt",
      "code": 59498,
      "src": "fontawesome"
    },
    {
      "uid": "3c24ee33c9487bbf18796ca6dffa1905",
      "css": "resize-small",
      "code": 59436,
      "src": "fontawesome"
    },
    {
      "uid": "d3b3f17bc3eb7cd809a07bbd4d178bee",
      "css": "resize-vertical",
      "code": 59452,
      "src": "fontawesome"
    },
    {
      "uid": "3c73d058e4589b65a8d959c0fc8f153d",
      "css": "resize-horizontal",
      "code": 59450,
      "src": "fontawesome"
    },
    {
      "uid": "6605ee6441bf499ffa3c63d3c7409471",
      "css": "move",
      "code": 59451,
      "src": "fontawesome"
    },
    {
      "uid": "0b2b66e526028a6972d51a6f10281b4b",
      "css": "zoom-in",
      "code": 59503,
      "src": "fontawesome"
    },
    {
      "uid": "d25d10efa900f529ad1d275657cfd30e",
      "css": "zoom-out",
      "code": 59504,
      "src": "fontawesome"
    },
    {
      "uid": "c53068fe21c8410b0a098b4c52c3d37e",
      "css": "down-circled2",
      "code": 59433,
      "src": "fontawesome"
    },
    {
      "uid": "128d63150a41800e0beff55235269542",
      "css": "up-circled2",
      "code": 59505,
      "src": "fontawesome"
    },
    {
      "uid": "2d6150442079cbda7df64522dc24f482",
      "css": "down-dir",
      "code": 59419,
      "src": "fontawesome"
    },
    {
      "uid": "80cd1022bd9ea151d554bec1fa05f2de",
      "css": "up-dir",
      "code": 59494,
      "src": "fontawesome"
    },
    {
      "uid": "9dc654095085167524602c9acc0c5570",
      "css": "left-dir",
      "code": 59492,
      "src": "fontawesome"
    },
    {
      "uid": "fb1c799ffe5bf8fb7f8bcb647c8fe9e6",
      "css": "right-dir",
      "code": 59491,
      "src": "fontawesome"
    },
    {
      "uid": "f3f90c8c89795da30f7444634476ea4f",
      "css": "angle-left",
      "code": 59434,
      "src": "fontawesome"
    },
    {
      "uid": "7bf14281af5633a597f85b061ef1cfb9",
      "css": "angle-right",
      "code": 59394,
      "src": "fontawesome"
    },
    {
      "uid": "5de9370846a26947e03f63142a3f1c07",
      "css": "angle-up",
      "code": 59435,
      "src": "fontawesome"
    },
    {
      "uid": "e4dde1992f787163e2e2b534b8c8067d",
      "css": "angle-down",
      "code": 59395,
      "src": "fontawesome"
    },
    {
      "uid": "bc71f4c6e53394d5ba46b063040014f1",
      "css": "cw",
      "code": 59425,
      "src": "fontawesome"
    },
    {
      "uid": "f9c3205df26e7778abac86183aefdc99",
      "css": "ccw",
      "code": 59426,
      "src": "fontawesome"
    },
    {
      "uid": "37c5ab63f10d7ad0b84d0978dcd0c7a8",
      "css": "shuffle",
      "code": 59469,
      "src": "fontawesome"
    },
    {
      "uid": "6020aff067fc3c119cdd75daa5249220",
      "css": "exchange",
      "code": 59470,
      "src": "fontawesome"
    },
    {
      "uid": "d4816c0845aa43767213d45574b3b145",
      "css": "history",
      "code": 59418,
      "src": "fontawesome"
    },
    {
      "uid": "84bb9695b8662fa4783242f84c9e4682",
      "css": "expand",
      "code": 59446,
      "src": "fontawesome"
    },
    {
      "uid": "7960517a504e42aea0641f15bc55fbed",
      "css": "collapse",
      "code": 59447,
      "src": "fontawesome"
    },
    {
      "uid": "ed5a38704f0329e610ee1c92bec3ad3d",
      "css": "expand-right",
      "code": 59471,
      "src": "fontawesome"
    },
    {
      "uid": "ea2ec99fbce03864e593bbf4f302a79d",
      "css": "collapse-left",
      "code": 59472,
      "src": "fontawesome"
    },
    {
      "uid": "ce06b5805120d0c2f8d60cd3f1a4fdb5",
      "css": "play",
      "code": 59397,
      "src": "fontawesome"
    },
    {
      "uid": "0b28050bac9d3facf2f0226db643ece0",
      "css": "pause",
      "code": 59399,
      "src": "fontawesome"
    },
    {
      "uid": "e75c54c282c0bf22186c5c7ec4b03eac",
      "css": "target",
      "code": 59457,
      "src": "fontawesome"
    },
    {
      "uid": "3212f42c65d41ed91cb435d0490e29ed",
      "css": "flash-1",
      "code": 59475,
      "src": "fontawesome"
    },
    {
      "uid": "38575a803c4da31ce20d77e1e1236bcb",
      "css": "paper-plane",
      "code": 59474,
      "src": "fontawesome"
    },
    {
      "uid": "a2a74f5e7b7d9ba054897d8c795a326a",
      "css": "list-bullet",
      "code": 59499,
      "src": "fontawesome"
    },
    {
      "uid": "09bdae120f85e79f2db16145a9e1f6d8",
      "css": "crop",
      "code": 59489,
      "src": "fontawesome"
    },
    {
      "uid": "8772331a9fec983cdb5d72902a6f9e0e",
      "css": "scissors",
      "code": 59424,
      "src": "fontawesome"
    },
    {
      "uid": "107ce08c7231097c7447d8f4d059b55f",
      "css": "ellipsis",
      "code": 59444,
      "src": "fontawesome"
    },
    {
      "uid": "750058837a91edae64b03d60fc7e81a7",
      "css": "ellipsis-vert",
      "code": 59443,
      "src": "fontawesome"
    },
    {
      "uid": "aa991e8e66ac54b33f0a4b0555597b08",
      "css": "barcode",
      "code": 59507,
      "src": "fontawesome"
    },
    {
      "uid": "ca90da02d2c6a3183f2458e4dc416285",
      "css": "ajust",
      "code": 59459,
      "src": "fontawesome"
    },
    {
      "uid": "83458acd9f38d03ec0226ce82a83c0f4",
      "css": "tint",
      "code": 59490,
      "src": "fontawesome"
    },
    {
      "uid": "2a4e6c99b732a57da40e32fa2a7800a4",
      "css": "toggle-off",
      "code": 59464,
      "src": "fontawesome"
    },
    {
      "uid": "3256ef03b16e7ab51235bc7378b53bb5",
      "css": "toggle-on",
      "code": 59463,
      "src": "fontawesome"
    },
    {
      "uid": "dd6c6b221a1088ff8a9b9cd32d0b3dd5",
      "css": "check",
      "code": 59454,
      "src": "fontawesome"
    },
    {
      "uid": "4b900d04e8ab8c82f080c1cfbac5772c",
      "css": "check-empty",
      "code": 59462,
      "src": "fontawesome"
    },
    {
      "uid": "130380e481a7defc690dfb24123a1f0c",
      "css": "circle",
      "code": 59442,
      "src": "fontawesome"
    },
    {
      "uid": "422e07e5afb80258a9c4ed1706498f8a",
      "css": "circle-empty",
      "code": 59441,
      "src": "fontawesome"
    },
    {
      "uid": "5774d0a0e50f6eefc8be01bd761e5dd3",
      "css": "circle-thin",
      "code": 59423,
      "src": "fontawesome"
    },
    {
      "uid": "f4445feb55521283572ee88bc304f928",
      "css": "floppy",
      "code": 59401,
      "src": "fontawesome"
    },
    {
      "uid": "3e674995cacc2b09692c096ea7eb6165",
      "css": "megaphone",
      "code": 59430,
      "src": "fontawesome"
    },
    {
      "uid": "795efd07cd5205b589c883916a76cff0",
      "css": "hdd",
      "code": 59411,
      "src": "fontawesome"
    },
    {
      "uid": "8aa99bc60f3553bb3e31b73dd6e744c8",
      "css": "rocket",
      "code": 59477,
      "src": "fontawesome"
    },
    {
      "uid": "7432077e6a2d6aa19984ca821bb6bbda",
      "css": "bug",
      "code": 59476,
      "src": "fontawesome"
    },
    {
      "uid": "4109c474ff99cad28fd5a2c38af2ec6f",
      "css": "filter",
      "code": 59488,
      "src": "fontawesome"
    },
    {
      "uid": "6fe95ffc3c807e62647d4f814a96e0d7",
      "css": "sitemap",
      "code": 59445,
      "src": "fontawesome"
    },
    {
      "uid": "fa10777b2d88cc64cd6e4f26ef0e5264",
      "css": "terminal",
      "code": 59429,
      "src": "fontawesome"
    },
    {
      "uid": "5f0f183e241d15cbe486bff88b188dff",
      "css": "puzzle",
      "code": 59493,
      "src": "fontawesome"
    },
    {
      "uid": "c92ad3028acce9d51bae0ac82f5de8a2",
      "css": "bullseye",
      "code": 59408,
      "src": "fontawesome"
    },
    {
      "uid": "4fc9b8c122d1b5ca3df42a104a655e8b",
      "css": "language",
      "code": 59501,
      "src": "fontawesome"
    },
    {
      "uid": "55605ca79a65def1a9c300037ff1d0d5",
      "css": "paw",
      "code": 59420,
      "src": "fontawesome"
    },
    {
      "uid": "fbede3c5584282a0e9b131926dff71da",
      "css": "cube",
      "code": 59428,
      "src": "fontawesome"
    },
    {
      "uid": "ebffa4e734c8379ffee4fbfe49264d94",
      "css": "lifebuoy",
      "code": 59482,
      "src": "fontawesome"
    },
    {
      "uid": "c53415fbd2695033bd7180d7a9ed4934",
      "css": "rebel",
      "code": 59421,
      "src": "fontawesome"
    },
    {
      "uid": "6632ce1019f9115842335622cb55f4e7",
      "css": "empire",
      "code": 59422,
      "src": "fontawesome"
    },
    {
      "uid": "88e6faa0f633ee23667f815689e82af3",
      "css": "eyedropper",
      "code": 59486,
      "src": "fontawesome"
    },
    {
      "uid": "fa9a0b7e788c2d78e24cef1de6b70e80",
      "css": "brush",
      "code": 59487,
      "src": "fontawesome"
    },
    {
      "uid": "169f51b7e405de8c03cf85a6e8c740ab",
      "css": "bitbucket",
      "code": 59483,
      "src": "fontawesome"
    },
    {
      "uid": "76675011e906d50af404186b489fc76f",
      "css": "codeopen",
      "code": 59484,
      "src": "fontawesome"
    },
    {
      "uid": "9e34a047fee949eae9b6e613d790d6cf",
      "css": "dropbox",
      "code": 59409,
      "src": "fontawesome"
    },
    {
      "uid": "e7cb72a17f3b21e3576f35c3f0a7639b",
      "css": "git",
      "code": 59406,
      "src": "fontawesome"
    },
    {
      "uid": "5e0a374728ffa8d0ae1f331a8f648231",
      "css": "github",
      "code": 59485,
      "src": "fontawesome"
    },
    {
      "uid": "f06fe7ff18d1c591bc1183cb3ab105e9",
      "css": "google",
      "code": 59453,
      "src": "fontawesome"
    },
    {
      "uid": "2c2ca8a96b31781c9c8056d05c0a8980",
      "css": "blank",
      "code": 59407,
      "src": "fontawesome"
    },
    {
      "uid": "34ba50fe8e4f95e7f3d76c6534814a70",
      "css": "infinity",
      "code": 59506,
      "src": "entypo"
    },
    {
      "uid": "7184d8171b6a9b18eabbace94cca21db",
      "css": "chart-line",
      "code": 59478,
      "src": "entypo"
    },
    {
      "uid": "6cea40aa6cc50057083e4f0a5b92410c",
      "css": "flow-line",
      "code": 59467,
      "src": "entypo"
    },
    {
      "uid": "5f88095dc5e638863a0c733e99c32568",
      "css": "flow-parallel",
      "code": 59468,
      "src": "entypo"
    },
    {
      "uid": "e536c80e011366046360f5ffe669dbfd",
      "css": "folder-add",
      "code": 59402,
      "src": "typicons"
    },
    {
      "uid": "e2aba9565be51ca70224c07282afbba6",
      "css": "cursor",
      "code": 59449,
      "src": "iconic"
    },
    {
      "uid": "77928c849ac2ae6e77d4eae9f2927c00",
      "css": "flash",
      "code": 59466,
      "src": "mfglabs"
    },
    {
      "uid": "33afa0f624ce5dae73f62a3f21a67f83",
      "css": "vector",
      "code": 59455,
      "src": "mfglabs"
    },
    {
      "uid": "134af7f39e491515cc1a6d1eb94d9d8a",
      "css": "vector-pencil",
      "code": 59456,
      "src": "mfglabs"
    },
    {
      "uid": "da72ab64b02d997ff0521339f2997233",
      "css": "hash",
      "code": 59465,
      "src": "mfglabs"
    },
    {
      "uid": "366510ecfb08cd0110134b1ea907fb81",
      "css": "evernote",
      "code": 59410,
      "src": "zocial"
    },
    {
      "uid": "272e08e0e16226aadf94dcbf33aab2b2",
      "css": "key",
      "code": 59392,
      "src": "elusive"
    }
  ]
}
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\css\\amgui.css":[function(require,module,exports){
module.exports = "@font-face {\n  font-family: 'amgui';\n  src: url('../font/amgui.eot?79774051');\n  src: url('../font/amgui.eot?79774051#iefix') format('embedded-opentype'),\n       url('../font/amgui.woff?79774051') format('woff'),\n       url('../font/amgui.ttf?79774051') format('truetype'),\n       url('../font/amgui.svg?79774051#amgui') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'amgui';\n    src: url('../font/amgui.svg?79774051#amgui') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"amgui\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n     \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-download-cloud:before { content: '\\73'; } /* 's' */\n.icon-upload-cloud:before { content: '\\75'; } /* 'u' */\n.icon-key:before { content: '\\e800'; } /* '' */\n.icon-cog:before { content: '\\e801'; } /* '' */\n.icon-angle-right:before { content: '\\e802'; } /* '' */\n.icon-angle-down:before { content: '\\e803'; } /* '' */\n.icon-trash:before { content: '\\e804'; } /* '' */\n.icon-play:before { content: '\\e805'; } /* '' */\n.icon-plus-squared:before { content: '\\e806'; } /* '' */\n.icon-pause:before { content: '\\e807'; } /* '' */\n.icon-file-code:before { content: '\\e808'; } /* '' */\n.icon-floppy:before { content: '\\e809'; } /* '' */\n.icon-folder-add:before { content: '\\e80a'; } /* '' */\n.icon-folder-empty:before { content: '\\e80b'; } /* '' */\n.icon-folder-open-empty:before { content: '\\e80c'; } /* '' */\n.icon-doc:before { content: '\\e80d'; } /* '' */\n.icon-git:before { content: '\\e80e'; } /* '' */\n.icon-blank:before { content: '\\e80f'; } /* '' */\n.icon-bullseye:before { content: '\\e810'; } /* '' */\n.icon-dropbox:before { content: '\\e811'; } /* '' */\n.icon-evernote:before { content: '\\e812'; } /* '' */\n.icon-hdd:before { content: '\\e813'; } /* '' */\n.icon-emo-unhappy:before { content: '\\e814'; } /* '' */\n.icon-marquee:before { content: '\\e815'; } /* '' */\n.icon-download:before { content: '\\e816'; } /* '' */\n.icon-wrench:before { content: '\\e817'; } /* '' */\n.icon-sliders:before { content: '\\e818'; } /* '' */\n.icon-code:before { content: '\\e819'; } /* '' */\n.icon-history:before { content: '\\e81a'; } /* '' */\n.icon-down-dir:before { content: '\\e81b'; } /* '' */\n.icon-paw:before { content: '\\e81c'; } /* '' */\n.icon-rebel:before { content: '\\e81d'; } /* '' */\n.icon-empire:before { content: '\\e81e'; } /* '' */\n.icon-circle-thin:before { content: '\\e81f'; } /* '' */\n.icon-scissors:before { content: '\\e820'; } /* '' */\n.icon-cw:before { content: '\\e821'; } /* '' */\n.icon-ccw:before { content: '\\e822'; } /* '' */\n.icon-cancel:before { content: '\\e823'; } /* '' */\n.icon-cube:before { content: '\\e824'; } /* '' */\n.icon-terminal:before { content: '\\e825'; } /* '' */\n.icon-megaphone:before { content: '\\e826'; } /* '' */\n.icon-plus:before { content: '\\e827'; } /* '' */\n.icon-emo-surprised:before { content: '\\e828'; } /* '' */\n.icon-down-circled2:before { content: '\\e829'; } /* '' */\n.icon-angle-left:before { content: '\\e82a'; } /* '' */\n.icon-angle-up:before { content: '\\e82b'; } /* '' */\n.icon-resize-small:before { content: '\\e82c'; } /* '' */\n.icon-resize-full:before { content: '\\e82d'; } /* '' */\n.icon-eye:before { content: '\\e82e'; } /* '' */\n.icon-eye-off:before { content: '\\e82f'; } /* '' */\n.icon-menu:before { content: '\\e830'; } /* '' */\n.icon-circle-empty:before { content: '\\e831'; } /* '' */\n.icon-circle:before { content: '\\e832'; } /* '' */\n.icon-ellipsis-vert:before { content: '\\e833'; } /* '' */\n.icon-ellipsis:before { content: '\\e834'; } /* '' */\n.icon-sitemap:before { content: '\\e835'; } /* '' */\n.icon-expand:before { content: '\\e836'; } /* '' */\n.icon-collapse:before { content: '\\e837'; } /* '' */\n.icon-pencil:before { content: '\\e838'; } /* '' */\n.icon-cursor:before { content: '\\e839'; } /* '' */\n.icon-resize-horizontal:before { content: '\\e83a'; } /* '' */\n.icon-move:before { content: '\\e83b'; } /* '' */\n.icon-resize-vertical:before { content: '\\e83c'; } /* '' */\n.icon-google:before { content: '\\e83d'; } /* '' */\n.icon-check:before { content: '\\e83e'; } /* '' */\n.icon-vector:before { content: '\\e83f'; } /* '' */\n.icon-vector-pencil:before { content: '\\e840'; } /* '' */\n.icon-target:before { content: '\\e841'; } /* '' */\n.icon-clock:before { content: '\\e842'; } /* '' */\n.icon-ajust:before { content: '\\e843'; } /* '' */\n.icon-link:before { content: '\\e844'; } /* '' */\n.icon-unlink:before { content: '\\e845'; } /* '' */\n.icon-check-empty:before { content: '\\e846'; } /* '' */\n.icon-toggle-on:before { content: '\\e847'; } /* '' */\n.icon-toggle-off:before { content: '\\e848'; } /* '' */\n.icon-hash:before { content: '\\e849'; } /* '' */\n.icon-flash:before { content: '\\e84a'; } /* '' */\n.icon-flow-line:before { content: '\\e84b'; } /* '' */\n.icon-flow-parallel:before { content: '\\e84c'; } /* '' */\n.icon-shuffle:before { content: '\\e84d'; } /* '' */\n.icon-exchange:before { content: '\\e84e'; } /* '' */\n.icon-expand-right:before { content: '\\e84f'; } /* '' */\n.icon-collapse-left:before { content: '\\e850'; } /* '' */\n.icon-flag-checkered:before { content: '\\e851'; } /* '' */\n.icon-paper-plane:before { content: '\\e852'; } /* '' */\n.icon-flash-1:before { content: '\\e853'; } /* '' */\n.icon-bug:before { content: '\\e854'; } /* '' */\n.icon-rocket:before { content: '\\e855'; } /* '' */\n.icon-chart-line:before { content: '\\e856'; } /* '' */\n.icon-emo-tongue:before { content: '\\e857'; } /* '' */\n.icon-emo-shoot:before { content: '\\e858'; } /* '' */\n.icon-emo-laugh:before { content: '\\e859'; } /* '' */\n.icon-lifebuoy:before { content: '\\e85a'; } /* '' */\n.icon-bitbucket:before { content: '\\e85b'; } /* '' */\n.icon-codeopen:before { content: '\\e85c'; } /* '' */\n.icon-github:before { content: '\\e85d'; } /* '' */\n.icon-eyedropper:before { content: '\\e85e'; } /* '' */\n.icon-brush:before { content: '\\e85f'; } /* '' */\n.icon-filter:before { content: '\\e860'; } /* '' */\n.icon-crop:before { content: '\\e861'; } /* '' */\n.icon-tint:before { content: '\\e862'; } /* '' */\n.icon-right-dir:before { content: '\\e863'; } /* '' */\n.icon-left-dir:before { content: '\\e864'; } /* '' */\n.icon-puzzle:before { content: '\\e865'; } /* '' */\n.icon-up-dir:before { content: '\\e866'; } /* '' */\n.icon-gamepad:before { content: '\\e867'; } /* '' */\n.icon-flag-empty:before { content: '\\e868'; } /* '' */\n.icon-flag:before { content: '\\e869'; } /* '' */\n.icon-resize-full-alt:before { content: '\\e86a'; } /* '' */\n.icon-list-bullet:before { content: '\\e86b'; } /* '' */\n.icon-block:before { content: '\\e86c'; } /* '' */\n.icon-language:before { content: '\\e86d'; } /* '' */\n.icon-lightbulb:before { content: '\\e86e'; } /* '' */\n.icon-zoom-in:before { content: '\\e86f'; } /* '' */\n.icon-zoom-out:before { content: '\\e870'; } /* '' */\n.icon-up-circled2:before { content: '\\e871'; } /* '' */\n.icon-infinity:before { content: '\\e872'; } /* '' */\n.icon-barcode:before { content: '\\e873'; } /* '' */\n.icon-share:before { content: '\\e874'; } /* '' */\n.icon-info:before { content: '\\e875'; } /* '' */\n.icon-help:before { content: '\\e876'; } /* '' */\n.icon-file-video:before { content: '\\e877'; } /* '' */\n.icon-file-audio:before { content: '\\e878'; } /* '' */\n.icon-file-image:before { content: '\\e879'; } /* '' */";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\chronicler\\Chronicler.js":[function(require,module,exports){
"use strict";

var _slice = Array.prototype.slice;
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Chronicler() {
  EventEmitter.call(this);

  this._stack = [], this._pointer = -1;
  this._chains = [];
  this._blocks = new Set();
}

inherits(Chronicler, EventEmitter);
module.exports = Chronicler;
var p = Chronicler.prototype;

p.undo = function () {
  if (this._pointer < 0) {
    return false;
  }

  var rec = this._stack[this._pointer--];

  if (rec instanceof Flag) {
    var startFlagIdx = this._stack.indexOf(rec.pair);

    if (startFlagIdx !== -1) {
      while (this._pointer !== startFlagIdx) {
        var _rec = this._stack[this._pointer--];

        if (!(_rec instanceof Flag)) {
          this._call(_rec.undo);
        }
      }

      this._pointer--;
    }
  } else {
    this._call(rec.undo);
  }

  this.emit("change");
};

p.redo = function () {
  if (this._pointer >= this._stack.length - 1) {
    return false;
  }

  var rec = this._stack[++this._pointer];

  if (rec instanceof Flag) {
    var endFlagIdx = this._stack.indexOf(rec.pair);

    if (endFlagIdx !== -1) {
      while (++this._pointer !== endFlagIdx) {
        var _rec = this._stack[this._pointer];

        if (!(_rec instanceof Flag)) {
          this._call(_rec.redo);
        }
      }
    }
  } else {
    this._call(rec.redo);
  }

  this.emit("change");
};

p._call = function (reg) {
  var block = this.blockSaving();

  if (typeof reg === "function") {
    reg();
  } else {
    reg[0].apply(reg[1], reg.slice(2));
  }

  this.releaseBlock(block);
};

p.save = function () {
  var args = _slice.call(arguments);

  if (this.isBlocked) return;

  if (args.length === 0) throw Error;

  var reg = args[0];

  if (args.length !== 1) {
    reg = {
      undo: args[0],
      redo: args[1],
      name: args[2] };
  }

  this._saveReg(reg);

  return reg;
};


p._saveReg = function (reg) {
  if (this.isBlocked) return;

  this._stack.splice(++this._pointer, this._stack.length, reg);

  this.emit("change");
};



p.getRecords = function () {
  var items = [], currFlag, pointer = this._pointer;

  this._stack.forEach(function (item, idx) {
    if (currFlag) {
      if (item === currFlag.pair) {
        currFlag = undefined;
      }
    } else {
      if (item instanceof Flag) {
        currFlag = item;
        add(item.name, this._stack.indexOf(item.pair) - 1);
      } else {
        add(item.name, idx);
      }
    }
  }, this);

  return items;


  function add(name, idx) {
    items.push({
      name: name || "unnamed record",
      idx: idx,
      executed: idx <= pointer
    });
  }
};

p.goto = function (idx) {
  idx = Math.max(-1, Math.min(this._stack.length - 1, parseInt(idx)));

  if (idx < this._pointer) {
    while (idx < this._pointer) {
      this.undo();
    }
  } else if (idx > this._pointer) {
    while (idx > this._pointer) {
      this.redo();
    }
  }
};




Object.defineProperty(p, "isBlocked", {
  get: function () {
    return this._blocks.size !== 0;
  }
});

p.blockSaving = function () {
  var block = Symbol();
  this._blocks.add(block);

  return block;
};

p.releaseBlock = function (block) {
  this._blocks["delete"](block);
};

p.dontSave = function (fn) {
  var block = this.blockSaving();
  fn();
  this.releaseBlock(block);
};






function Flag(name, pair) {
  this.name = name;
  this.pair = pair || new Flag(name, this);

  Object.freeze(this);
}

p.startFlag = function (name) {
  var flag = new Flag(name);

  this._saveReg(flag);

  return flag.pair;
};

p.endFlag = function (flag) {
  this._saveReg(flag);
};

p.wrap = function (opt) {
  var history = this, fn = opt.fn, delay = opt.delay, name = opt.name;

  if (delay === undefined) {
    return function () {
      var endFlag = history.startFlag(name);

      fn.apply(this, arguments);

      history.endFlag(endFlag);
    };
  } else {
    var _ret = (function () {
      var closeFlagSetT, endFlag, finish = function () {
        history.endFlag(endFlag);
        endFlag = undefined;
      }, onCalled = function () {
        if (!endFlag) {
          endFlag = am.history.startFlag(name);
        }
        clearTimeout(closeFlagSetT);
        closeFlagSetT = setTimeout(finish, delay);
      };

      return {
        v: function () {
          onCalled();

          fn.apply(this, arguments);
        }
      };
    })();

    if (typeof _ret === "object") return _ret.v;
  }
};








p.saveChain = function (opt) {
  if (this.isBlocked) return;

  var chain = this.getChain(opt.id);

  if (chain) {
    chain.reg.redo = opt.redo;
  } else {
    chain = {
      id: opt.id,
      reg: this.save(opt.undo, opt.redo, opt.name)
    };
    this._chains.push(chain);
  }

  if (opt.delay === undefined) {
    opt.delay = 312;
  }

  clearTimeout(chain.tid);
  chain.tid = setTimeout(this.closeChain.bind(this, opt.id), opt.delay);
};

p.closeChain = function (id) {
  var chain = this.getChain(id);

  if (!chain) {
    return;
  }

  clearTimeout(chain.tid);
  this._chains.splice(this._chains.indexOf(chain), 1);
};

p.clear = function () {
  while (this._chains.length) {
    this.closeChain(this._chains[0].id);
  }

  this._stack.length = 0, this._pointer = -1;

  this.emit("change");
};

p.getChain = function (id) {
  return this._chains.find(function (chain) {
    return chain.id === id;
  });
};







//TODO
// p.wrapFunctionPairs(opt) {
//     var slice = Array.prototype.slice,
//         oriUndoFn = opt.undoRoot[opt.undoFnName],
//         history = this,
//         dummyHistory = {
//             save: function () {},
//             flag: function () {},
//             endFlag: function () {},
//         },
//         undoHistory = Object.create(dummyHistory),
//         redoHistory = Object.create(dummyHistory);

//     undoHistory.save = function () {
//         history.save([opt.undo.addParam, this, param, true],
//             [this.removeParam, this, param, true], 'remove param ' + opt.name);
//     }

//     opt.undo.parent[opt.undo.fnName] = function () {
//         var args = slice.call(arguments);
//         args.push(undoHistory);

//         oriUndoFn.apply(opt.undo.thisArg, args)
//     }
// }

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogFeedback.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Feedback" });

dialog.addButton("ok", "hide");

createContent();

function createContent() {
  amgui.createLabel({
    text: "Hi! This program is in alpha state, so most of the things will change and most of the bugs are known. But if you have any question, feedback, feature request, bug report or just feel the need for contact, you can use the azazdeaz@gmail.com or the <a style=\"color:white;\" href=\"https://github.com/animachine/animachine/issues\">github issues</a>.",
    fontSize: "18px",
    height: "auto",
    display: "block",
    parent: dialog.deContent });
};

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWIP.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Work in progress" });

dialog.addButton("ok", "hide");

amgui.createLabel({
  text: "This feature isn't ready yet. (but it's on the way!)<br>\nTo get notified about the latest changes follow us on <a href=\"//github.com/animachine/animachine\">Github!</a>",
  fontSize: "16px",
  height: "auto",
  display: "block",
  parent: dialog.deContent });

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWelcome.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");
var i18n = require("../i18n");

var dialog = new Dialog({
  title: "Hi!" });

dialog.addButton("close", "hide");

var CHECKFLAG = "__am_dontshowwelcomemsgagain", CHECKFLAGVAL = "v1";

dialog.deContent.style.width = "570px";

var deText = amgui.createLabel({
  text: i18n.welcomeMsg,
  fontSize: "14px",
  height: "auto",
  display: "block",
  fontWeight: "600",
  parent: dialog.deContent
});
deText.style.marginBottom = "12px";


var cb = amgui.createCheckbox({
  text: "don't show this again",
  parent: dialog.deContent });

dialog.on("hide", function () {
  am.setVar(CHECKFLAG, cb.checked ? CHECKFLAGVAL : false);
});

var _oriShow = dialog.show;
dialog.show = function () {
  dialog.isChecked(function (yes) {
    if (!yes) _oriShow.call(dialog);
  });
};

dialog.isChecked = function (cb) {
  am.getVar(CHECKFLAG, function (v) {
    return cb(v === CHECKFLAGVAL);
  });
};

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../i18n":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\dom-picker\\DomPicker.js":[function(require,module,exports){
"use strict";

var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function DomPicker() {
  var _this = this;


  EventEmitter.call(this);

  this._isMouseOver = false;
  this._crumbs = [];

  this._onMMove = this._onMMove.bind(this);
  this._render = this._render.bind(this);
  window.addEventListener("mousemove", this._onMMove);

  am.on("selectDomElem", this._onSelectDomElem, this);
  am.on("change.currTrack", this.hide, this);

  this._createBase();

  this.setRightLeftBtn({
    icon: "plus",
    tooltip: "create a new css track with this element",
    onClick: function () {
      var winner, winnerPrior, done = false;

      _this.emit("add", {
        target: _this._deTarget,
        demand: function (prior) {
          return new Promise(function (resolve, reject) {
            if (done) return reject();

            if (winnerPrior === undefined || prior < winnerPrior) {
              winnerPrior = prior;
              if (winner) winner.reject();
              winner = { resolve: resolve, reject: reject };
            } else {
              reject();
            }
          });
        }
      });

      done = true;
      if (winner) winner.resolve();
    } });
}

inherits(DomPicker, EventEmitter);
var p = DomPicker.prototype;

module.exports = DomPicker;

p.focusElem = function (target) {
  if (target === this._deTarget) return;

  var oldTarget = this._deTarget, crumbs = this._crumbs, lastCrumb = crumbs[crumbs.length - 1];

  if (oldTarget && oldTarget.parentElement === target) {
    crumbs.push(oldTarget);
  } else if (target === lastCrumb) {
    crumbs.pop();
  } else if (target.parentElement === lastCrumb) {
    crumbs.length = 0;
  }

  this._deTarget = target;


  var p = am.isPickableDomElem, top = p(target.parentElement), right = p(target.nextElementSibling), bottom = p(target.firstElementChild), left = p(target.previousElementSibling);

  this._btnTop.style.display = top ? "block" : "none";
  this._btnRight.style.display = right ? "block" : "none";
  this._btnBottom.style.display = bottom ? "block" : "none";
  this._btnLeft.style.display = left ? "block" : "none";

  this.domElem.style.display = "block";

  this._render();

  this._rerenderSetI = setInterval(this._render, 123);
  window.addEventListener("resize", this._render);

  this.emit("pick", target);
};

p.hide = function () {
  this._deTarget = undefined;

  clearInterval(this._rerenderSetI);
  window.removeEventListener("resize", this._render);

  this.domElem.style.display = "none";
};

p.setRightLeftBtn = function (opt) {
  this._btnRightLeft.setIcon(opt.icon);

  //TODO remove the previous
  this._btnRightLeft.addEventListener("click", opt.onClick);

  var tooltip = amgui.getTooltip(this._btnRightLeft);
  tooltip.setContent(opt.tooltip);
};








p._render = function () {
  if (!this._deTarget) return;

  var br = this._deTarget.getBoundingClientRect();

  this.domElem.style.left = br.left + "px";
  this.domElem.style.top = br.top + "px";
  this.domElem.style.width = br.width + "px";
  this.domElem.style.height = br.height + "px";

  this._alignBtnCont();
};

p._alignBtnCont = function () {
  var _ref = this.domElem.getBoundingClientRect();

  var top = _ref.top;
  var left = _ref.left;
  var width = _ref.width;
  var height = _ref.height;
  var _ref2 = [top, left, width, height];
  var _ref3 = _toArray(_ref2);

  var oTop = _ref3[0];
  var oLeft = _ref3[1];
  var oWidth = _ref3[2];
  var oHeight = _ref3[3];
  var wWidth = window.innerWidth;
  var wHeight = window.innerHeight;
  var btnSize = 21;

  width = Math.max(btnSize, Math.min(wWidth, oWidth));
  height = Math.max(btnSize, Math.min(wHeight, oHeight));

  left = (oWidth - width) / 2;
  top = (oHeight - height) / 2;

  if (oLeft + left < 0) left = btnSize - oLeft;
  if (oTop + top < 0) top = btnSize - oTop;
  if (oLeft + left + width > wWidth) left = btnSize;
  if (oTop + top + height > wHeight) top = btnSize;

  this._btnCont.style.left = left + "px";
  this._btnCont.style.top = top + "px";
  this._btnCont.style.width = width + "px";
  this._btnCont.style.height = height + "px";
};

p._onMMove = function (e) {
  var br = this.domElem.getBoundingClientRect(), mx = e.clientX, my = e.clientY, s = this._isMouseOver ? 21 : 0, over = mx >= br.left - s && mx <= br.right + s && my >= br.top - s && my <= br.bottom + s;

  if (over !== this._isMouseOver) {
    this._isMouseOver = over;

    this._btnCont.style.visibility = over ? "visible" : "hidden";
  }
};

p._onSelectDomElem = function (de) {
  this.focusElem(de);
};

p._createBase = function () {
  var _this2 = this;


  var btnSize = 21, borderSize = "2px";

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.boxSizing = "border-box";
  de.style.display = "none";
  de.style.pointerEvents = "none";
  de.style.border = "solid #eee " + borderSize;
  de.style.pointerEvents = "none";
  am.deHandlerCont.appendChild(de);

  var deDashed = document.createElement("div");
  deDashed.style.width = "100%";
  deDashed.style.height = "100%";
  deDashed.style.border = "dashed #444 " + borderSize;
  deDashed.style.transform = "translate(-" + borderSize + ",-" + borderSize + ")";
  de.appendChild(deDashed);

  this._btnCont = amgui.createDiv({ parent: de });

  de.addEventListener("mouseenter", this._onMEnter);
  de.addEventListener("mouseleave", this._onMLeave);

  this.domElem = de;


  var createBtn = function (icon, tooltip, onClick) {
    var deIcon = amgui.createIconBtn({
      icon: icon,
      size: btnSize,
      parent: _this2._btnCont });

    deIcon.style.textShadow = "0 0 4px #000";

    if (onClick) {
      deIcon.addEventListener("click", function (e) {
        e.stopPropagation();
        onClick();
      });
    }

    amgui.addTooltip({
      deTarget: deIcon,
      text: tooltip
    });

    deIcon.style.position = "absolute";
    deIcon.style.pointerEvents = "auto";

    return deIcon;
  };

  this._btnTop = createBtn("angle-up", "up one level", function () {
    this.focusElem(this._deTarget.parentElement);
  }.bind(this));
  this._btnTop.style.top = -btnSize + "px";
  this._btnTop.style.left = "0";
  this._btnTop.style.right = "0";
  this._btnTop.style.margin = "0 auto";


  this._btnRight = createBtn("angle-right", "next sibling", function () {
    this.focusElem(this._deTarget.nextElementSibling);
  }.bind(this));
  this._btnRight.style.right = -btnSize + "px";
  this._btnRight.style.top = "0";
  this._btnRight.style.bottom = "0";
  this._btnRight.style.margin = "auto 0";

  this._btnBottom = createBtn("angle-down", "down one level", function () {
    this.focusElem(this._crumbs[this._crumbs.length - 1] || this._deTarget.firstElementChild);
  }.bind(this));
  this._btnBottom.style.bottom = -btnSize + "px";
  this._btnBottom.style.left = "0";
  this._btnBottom.style.right = "0";
  this._btnBottom.style.margin = "0 auto";

  this._btnLeft = createBtn("angle-left", "previous sibling", function () {
    this.focusElem(this._deTarget.previousElementSibling);
  }.bind(this));
  this._btnLeft.style.left = -btnSize + "px";
  this._btnLeft.style.top = "0";
  this._btnLeft.style.bottom = "0";
  this._btnLeft.style.margin = "auto 0";

  this._btnClose = createBtn("cancel", "close", function () {
    this.hide();
  }.bind(this));
  this._btnClose.style.right = -btnSize + "px";
  this._btnClose.style.top = -btnSize + "px";

  this._btnRightLeft = createBtn("plus", "");
  this._btnRightLeft.style.right = -btnSize + "px";
  this._btnRightLeft.style.bottom = -btnSize + "px";
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\HistoryTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Item = require("./Item");

function HistoryTab() {
  this._onHistoryChage = this._onHistoryChage.bind(this);

  this._items = [];

  this._createBase();

  am.history.on("change", this._onHistoryChage);
}

var p = HistoryTab.prototype;
module.exports = HistoryTab;

p._addItem = function () {
  var item = new Item();
  this._items.push(item);

  this._scrollCont.appendChild(item.domElem);
};

p._removeItem = function (item) {
  var idx = this._items.indexOf(item);

  if (item !== -1) {
    this._items.splice(idx, 1);

    if (item.domElem.parentNode) {
      item.domElem.parentNode.removeChild(item.domElem);
    }
  }
};

p._onHistoryChage = function () {
  var records = am.history.getRecords();

  records.forEach(function (rec, idx) {
    if (!this._items[idx]) {
      this._addItem();
    }

    this._items[idx].setup(rec);
  }, this);

  while (this._items.length > records.length) {
    this._removeItem(this._items[records.length]);
  }
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Item":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\Item.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\Item.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Item() {
  this._createBase();

  this.domElem.addEventListener("click", function () {
    var idx = this._rec.executed ? this._rec.idx - 1 : this._rec.idx;
    am.history.goto(idx);
  }.bind(this));
}

var p = Item.prototype;
module.exports = Item;

var cursors = {
  undo: "auto",
  redo: "auto" };

amgui.on("fontLoaded", function () {
  cursors.undo = createIcon("ccw");
  cursors.redo = createIcon("cw");

  function createIcon(icon) {
    return amgui.createCursorFromText({
      icon: icon,
      color: amgui.color.text,
      width: 16,
      height: 16,
      hotspotX: 8,
      hotspotY: 8,
      textX: 2,
      stroke: { color: "black", width: 2 },
      debug: false });
  }
});

p.setup = function (record) {
  this._rec = record;

  this._label.innerHTML = record.name;
  this._toggleState.setToggle(record.executed);
  this.domElem.style.cursor = cursors[record.executed ? "undo" : "redo"];
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = amgui.LINE_HEIGHT + "px";
  this.domElem.style.background = amgui.color.bg1;

  this._toggleState = amgui.createToggleIconBtn({
    parent: this.domElem,
    iconOn: "circle",
    iconOff: "circle-thin" });

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js":[function(require,module,exports){
"use strict";

module.exports = {
  cssModule: {
    noTrackSelected: "No track selected." },
  welcomeMsg: "It's animation editor tool for designing <a href=\"//greensock.com/\" style=\"color:#88ce02;font-weight:800;\">GSAP</a> based animations for any kind of web project.<br><br>\nAlthough it's in alpha state, (so many of the features are just draft or buggy and the UI isn't that friendly) you're welcomed to check the current version of the program and play with it :)<br><br>\nIf you have any kind of question, opinion, feature request or just want to contact, open an issue on <a href=\"//github.com/animachine/animachine/issues\">Github</a> or send a mail to feedback@animachine.org<br><br>\nFor more detailes check <a href=\"//github.com/animachine/animachine\">Github</a><br><br>\n<a href=\"//twitter.com/animachinejs\">@animachinejs</a><br>\n"
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mineSave.js":[function(require,module,exports){
"use strict";

module.exports = mine;

function mine(str) {
  if (typeof (str) === "object") {
    return str;
  }

  var rx = /\/\*\*[\s\S]*@amsave[\s\S]*\*\/[\s\S].*var\s.*SAVEJSON\s.*=([\s\S].*)/, m = rx.exec(str), json;

  if (m && m[1]) {
    json = extractJSON(m[1])[0];

    if (json) {
      return json;
    }
  }
}

//http://stackoverflow.com/a/10574546/3615288
function extractJSON(str) {
  var firstOpen, firstClose, candidate;
  firstOpen = str.indexOf("{", firstOpen + 1);
  do {
    firstClose = str.lastIndexOf("}");
    console.log("firstOpen: " + firstOpen, "firstClose: " + firstClose);
    if (firstClose <= firstOpen) {
      return null;
    }
    do {
      candidate = str.substring(firstOpen, firstClose + 1);
      //             console.log('candidate: ' + candidate);
      try {
        var res = JSON.parse(candidate);
        //                 console.log('...found');
        return [res, firstOpen, firstClose + 1];
      } catch (e) {}
      firstClose = str.substr(0, firstClose).lastIndexOf("}");
    } while (firstClose > firstOpen);
    firstOpen = str.indexOf("{", firstOpen + 1);
  } while (firstOpen !== -1);
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\Branch.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");
var qsgen = require("../../qsgen");

function Branch() {
  EventEmitter.call(this);

  this._onClick = this._onClick.bind(this);

  this._createBase();
}

inherits(Branch, EventEmitter);
var p = Branch.prototype;
module.exports = Branch;

p.setup = function (opt) {
  var qs = qsgen(opt.domElem);

  this.value = opt.domElem;

  this._label.innerHTML = qs;
  this._label.style.marginLeft = (opt.indent * 6) + "px";
};




p._onClick = function () {
  this.emit("select", this);
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.position = "relative";
  this.domElem.style.width = "100%";
  this.domElem.style.height = amgui.LINE_HEIGHT;

  amgui.createSeparator({ parent: this.domElem });

  this.domElem.addEventListener("click", this._onClick);

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\DomTreeTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var Branch = require("./Branch");
var qsgen = require("../../qsgen");

function DomTreeTab() {
  this._branches = [];
  this._buffBranch = [];

  this._createBase();

  this._onSelectBranch = this._onSelectBranch.bind(this);
  this._onSelectCrumb = this._onSelectCrumb.bind(this);
}

var p = DomTreeTab.prototype;
module.exports = DomTreeTab;

p._addBranch = function (opt) {
  var branch = this._buffBranch.pop() || new Branch();
  this._branches.push(branch);

  branch.setup(opt);

  branch.on("select", this._onSelectBranch);

  this._scrollCont.appendChild(branch.domElem);
};

p._removeBranch = function (branch) {
  var idx = this._branches.indexOf(branch);

  if (branch !== -1) {
    this._branches.splice(idx, 1);

    if (branch.domElem.parentNode) {
      branch.domElem.parentNode.removeChild(branch.domElem);
    }

    this._buffBranch.push(branch);
  }

  branch.removeListener("select", this._onSelectBranch);
};

p.focusElem = function (de) {
  var _this = this;


  var path = [], deStep = de, maxDeep = 3;

  while (this._branches.length) {
    this._removeBranch(this._branches[0]);
  }

  while (deStep.parentNode && deStep.nodeName !== "HTML") {
    var deStep = deStep.parentNode;

    path.unshift({
      name: qsgen(deStep) || deStep.nodeName.toLowerCase(),
      value: deStep
    });
  }

  this._breadcrumbs.setItems(path);

  var step = function (de, deep) {
    _this._addBranch({
      domElem: de,
      indent: deep
    });

    if (deep < maxDeep) {
      var children = de.children;

      for (var i = 0, l = children.length; i < l; ++i) {
        step(children[i], deep + 1);
      }
    }
  };

  step(de, 0);
};






p._onSelectBranch = function (branch) {
  am.selectDomElem(branch.value);
};

p._onSelectCrumb = function (e) {
  am.selectDomElem(e.detail.selection.value);
};






p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });

  this._breadcrumbs = amgui.createBreadcrumbs({
    parent: this._scrollCont,
    onSelect: this._onSelectCrumb
  });
  this._breadcrumbs.style.height = "22px";
  this._breadcrumbs.style.minWidth = "100%";
  // this._breadcrumbs.style.position = 'absolute';
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","./Branch":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\Branch.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\am-domtree.js":[function(require,module,exports){
"use strict";

var DomTreeTab = require("./DomTreeTab");

var domTreeTab;

exports.init = function () {
  domTreeTab = new DomTreeTab();

  am.on("selectDomElem", onSelectDomElem);

  am.workspace.fillTab("Dom Tree", domTreeTab.domElem);
};

function onSelectDomElem(de) {
  domTreeTab.focusElem(de);
}

},{"./DomTreeTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\DomTreeTab.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\BezierCssParam.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var CssParam = require("./CssParam");
var Key = require("../../track/Key");
var amgui = require("../../amgui");
var Transhand = require("transhand");

function BezierCssParam(opt) {
  var _this = this;


  opt = opt || { optionLine: {} };

  opt.optionLine.inputs = [{ name: "x", type: "unit" }, { name: "y", type: "unit" }, { name: "autoRotate", type: "checkbox", text: "rotate" }];

  this._checkTimeline = undefined;
  this._checkObj = { x: 0, y: 0 };

  CssParam.apply(this, arguments);

  this.optionLine.inputs.autoRotate.domElem.addEventListener("click", function () {
    am.dialogs.WIP.show();
  });

  this.on("change.keys", this._refreshCheckTimeline, this);
  this._refreshCheckTimeline();

  this._defaultValue = { x: 0, y: 0 };

  this.optionLine.addButton({
    domElem: amgui.createIconBtn({
      icon: "chart-line",
      tooltip: "convert to plain translate",
      onClick: function () {
        return _this.emit("bezierToTranslate");
      } }),
    name: "bezier",
    childIdx: 0 });

  this.on("change.hidden", function () {
    if (_this.hidden) {
      _this._blurTransformer();
    } else {
      _this._focusTransformer();
    }
  });
}

inherits(BezierCssParam, CssParam);
var p = BezierCssParam.prototype;
module.exports = BezierCssParam;

Object.defineProperties(p, {
  parentTrack: {
    set: function (v) {
      if (this._parentTrack) {
        this._parentTrack.off("focusTransformer", this._focusTransformer, this);
        this._parentTrack.off("blurTransformer", this._blurTransformer, this);
      }

      this._parentTrack = v;

      if (this._parentTrack) {
        this._parentTrack.on("focusTransformer", this._focusTransformer, this);
        this._parentTrack.on("blurTransformer", this._blurTransformer, this);
      }
    },
    get: function () {
      return this._parentTrack;
    }
  }
});







p.getScriptKeys = function () {
  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var values = [], k = {
      time: key.time,
      options: {
        bezier: {
          type: "cubic",
          values: values },
        ease: key.ease.getEaser() }
    }, prevKey = key.getPrevKey();

    values.push(prevKey ? _.last(prevKey.value).anchor : key.value[0].anchor);
    values.push(prevKey ? _.last(prevKey.value).handleRight : key.value[0].anchor);

    key.value.forEach(function (point, idx, arr) {
      values.push(point.handleLeft);
      values.push(point.anchor);
      if (idx !== arr.length - 1) values.push(point.handleRight);
    });

    //optimise and fix GSAP bug
    if (values.every(function (v) {
      return v.x === values[0].x && v.y === values[0].y;
    })) {
      delete k.options.bezier;
      k.options.x = values[0].x;
      k.options.y = values[0].y;
    }

    keys.push(k);
  }, this);

  return _.sortBy(keys, "time");
};

p._refreshCheckTimeline = function () {
  var _this2 = this;


  var time = 0, tl = new window.TimelineMax();

  if (this._checkTimeline) this._checkTimeline.kill();
  this._checkTimeline = tl;

  this.getScriptKeys(true).forEach(function (key) {
    tl.to(_this2._checkObj, (key.time - time) / 1000, key.options);

    time = key.time;
  });
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = this.timeline.currTime;
  }

  if (!this._checkTimeline) {
    this._refreshCheckTimeline();
  }

  this._checkTimeline.time(time / 1000);
  return {
    x: this._checkObj.x,
    y: this._checkObj.y };
};

p.addKey = function (opt) {
  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      key.value.length = 0;
      [].push.apply(key.value, opt.value);
    }
  } else {
    if (!opt.value) {
      var _ref = this.getValue(opt.time);

      var x = _ref.x;
      var y = _ref.y;


      opt.value = [{
        anchor: { x: x, y: y },
        handleLeft: { x: x, y: y },
        handleRight: { x: x, y: y } }];
    }

    key = new Key(opt, this.timeline);

    key.on("prerender", this._onKeyPrerender, this);

    this.keyLine.addKey(key);

    this.emit("addKey");
  }

  this._refreshInputs();
  this._refreshTgglKey();

  this.emit("change");

  return key;
};

//TODO removeKey -> key.off('prerender', this._onKeyPrerender, this);



p._calcEase = function (p, pos) {
  var l = p.length / 2;

  while (--l > 0) {
    for (var i = 0; i < l; ++i) {
      count(i * 2);
    }
  }

  return { x: p[0], y: p[1] };

  function count(i) {
    p[i + 0] = p[i + 0] + (p[i + 2] - p[i + 0]) * pos;
    p[i + 1] = p[i + 1] + (p[i + 3] - p[i + 1]) * pos;
  }
};

p._focusTransformer = function (de) {
  de = de || this.parentTrack._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe || this.hidden) return this._blurTransformer();

  if (!this._transformer) {
    this._transformer = new Transhand();
    this._transformer.on("change", this._onChangeTransformer, this);
  }

  var transformSave;
  if (de.style.transform) {
    transformSave = de.style.transform;
    de.style.transform = "";
  }

  var br = de.getBoundingClientRect();

  de.style.transform = transformSave;

  var points = [];

  _.sortBy(this.keyLine._keys, "time").forEach(function (key) {
    key.value.forEach(function (point, idx, arr) {
      var srcKey = {
        anchor: { x: point.anchor.x, y: point.anchor.y },
        handleLeft: { x: point.handleLeft.x, y: point.handleLeft.y },
        handleRight: { x: point.handleRight.x, y: point.handleRight.y },
        linked: point.linked };

      if (idx !== arr.length - 1) {
        srcKey.style = {
          anchorFill: "navajowhite",
          anchorStroke: "deepskyblue",
          handleFill: "navajowhite",
          handleStroke: "deepskyblue" };
      }

      points.push(srcKey);
    });
  });

  this._transformer.setup({
    hand: {
      type: "curver",
      points: points,
      offset: {
        x: br.left + br.width / 2,
        y: br.top + br.height / 2 }
    } });
  this._transformer.activate();

  am.deHandlerCont.appendChild(this._transformer.domElem);
};

p._blurTransformer = function () {
  if (this._transformer) {
    this._transformer.deactivate();
  }
};






p._onChangeTransformer = function (changes) {
  var _this3 = this;


  var changedKeys = [];

  changes.forEach(function (change) {
    var idx = change.idx, keys = _.sortBy(_this3.keyLine._keys, "time"), key;

    //find the key according to the change
    for (var i = 0, l = keys.length; i < l; ++i) {
      key = keys[i];

      if (key.value.length <= idx) {
        idx -= key.value.length;
      } else {
        break;
      }
    }

    if (change.type === "add") {
      key.value.splice(idx, 0, {
        anchor: { x: change.point.anchor.x, y: change.point.anchor.y },
        handleLeft: { x: change.point.handleLeft.x, y: change.point.handleLeft.y },
        handleRight: { x: change.point.handleRight.x, y: change.point.handleRight.y },
        linked: change.point.linked });

      key.emit("need.render"); //for render the extra key markers btw keys
      changedKeys.push(key);
    } else if (change.type === "remove") {
      key.value.splice(idx, 1);

      if (key.value.length === 0) {
        _this3.keyLine.removeKey(key);
      }

      key.emit("need.render"); //for render the extra key markers btw keys
      changedKeys.push(key);
    } else if (change.type === "edit") {
      var point = key.value[idx];
      point.anchor.x = change.point.anchor.x;
      point.anchor.y = change.point.anchor.y;
      point.handleLeft.x = change.point.handleLeft.x;
      point.handleLeft.y = change.point.handleLeft.y;
      point.handleRight.x = change.point.handleRight.x;
      point.handleRight.y = change.point.handleRight.y;
      point.linked = change.point.linked;

      changedKeys.push(key);
    }
  });
  //the key.value object doesn't change so we need to throw the change event manually
  changedKeys.forEach(function (key) {
    return key.emit("change.value");
  });
};

p._onKeyPrerender = function (ctx, key) {
  var prevKey = key.getPrevKey(), start = this.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), width = this.timeline.timeToRenderPos(key.time) - start, step = width / key.value.length;

  for (var i = 0; i < key.value.length - 1; ++i) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = "deepskyblue";
    ctx.lineWidth = 1;
    ctx.arc(start + (step * (i + 1)), key._height / 2, 3, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.restore();
  }
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","./CssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","transhand":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js":[function(require,module,exports){
"use strict";

var Param = require("../../track/Param");
var inherits = require("inherits");

function CssParam(opt) {
  if (opt === undefined) opt = {};


  Param.apply(this, arguments);
}

inherits(CssParam, Param);
var p = CssParam.prototype;
module.exports = CssParam;

},{"../../track/Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamFactory.js":[function(require,module,exports){
"use strict";


var inherits = require("inherits");
var ParamFactory = require("../../track/ParamFactory");
var CssParam = require("./CssParam");
var BezierCssParam = require("./BezierCssParam");
var CssParamGroup = require("./CssParamGroup");
var amgui = require("../../amgui");

var defaultHidden = "z,rotationX,rotationY,scaleZ,perspectiveOriginX,transformOriginZ".split(",");

function CssParamFactory() {
  ParamFactory.apply(this, arguments);

  this.groups = {
    padding: ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"],
    margin: ["marginTop", "marginRight", "marginBottom", "marginLeft"],
    borderWidth: ["borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"],
    borderRadius: ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomLeftRadius", "borderBottomRightRadius"],
    borderColor: ["borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor"],
    borderStyle: ["borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle"],
    backgroundPosition: ["backgroundPositionX", "backgroundPositionY"],
    textShadow: ["textShadowX", "textShadowY", "textShadowBlur"],
    translate: ["x", "y", "z"],
    scale: ["scaleX", "scaleY", "scaleZ"],
    rotation: ["rotationX", "rotationY", "rotationZ"],
    skeew: ["skeewX", "skeewY"],
    perspectiveOrigin: ["perspectiveOriginX", "perspectiveOriginY", "perspectiveOriginZ"],
    transformOrigin: ["transformOriginX", "transformOriginY"],
    boxShadow: ["boxShadowX", "boxShadowY", "boxShadowBlur"] };
}


module.exports = CssParamFactory;
inherits(CssParamFactory, ParamFactory);
var p = CssParamFactory.prototype;


p._assembleParam = function (opt) {
  if (opt === undefined) opt = {};


  if (!_.has(opt, "hidden") && _.include(defaultHidden, opt.name)) opt.hidden = true;
  if (!_.has(opt, "optionLine")) opt.optionLine = {};
  if (!_.has(opt.optionLine, "inputs")) opt.optionLine.inputs = [];
  if (_.isEmpty(opt.optionLine.inputs)) opt.optionLine.inputs.push({ name: "input" });

  var input = opt.optionLine.inputs[0];

  this.ifit(opt.name).is("x,y,z,transformOriginZ", function () {
    opt.defaultValue = "0px";
    input.units = ["px"];
  }).is("scaleX,scaleY,scaleZ", function () {
    input.type = "unit";
    opt.defaultValue = 1;
    input.dragSpeed = 0.01;
    input.precision = 2;
  }).is("rotationX,rotationY,rotationZ", function () {
    opt.defaultValue = "0deg";
    input.units = ["deg", "rad"];
    input.precision = 1;
    input.converters = {
      deg2rad: function (deg) {
        return deg / 180 * Math.PI;
      },
      rad2deg: function (rad) {
        return rad / Math.PI * 180;
      } };
  }).is("transformOriginX,transformOriginY", function () {
    opt.defaultValue = "50%";
    input.units = ["%"];
    input.dragSpeed = 0.01;
    input.precision = 2;
  }).is("xPercent,yPercent", function () {
    input.units = [];
    input.dragSpeed = 1;
    input.precision = 1;
  }).is("color,borderColorTop,borderColorRight,borderColorBottom,borderColorLeft,backgroundColor", function () {
    input.type = "color";
  }).is("borderWidth,top,right,bottom,left,width,height", function () {
    input.units = ["px"];
  }).is("opacity", function () {
    opt.defaultValue = 1;
    input.type = "unit";
    input.dragSpeed = 0.01;
    input.precision = 2;
    input.min = 0;
    input.max = 1;
  }).is("borderTopWidth,borderTopLeftRadius,borderTopColor,borderTopStyle", function () {
    return opt.title = "top";
  }).is("borderRightWidth,borderTopRightRadius,borderRightColor,borderRightStyle", function () {
    return opt.title = "right";
  }).is("borderBottomWidth,borderBottomLeftRadius,borderBottomColor,borderBottomStyle", function () {
    return opt.title = "bottom";
  }).is("borderLeftWidth,borderBottomRightRadius,borderLeftColor,borderLeftStyle", function () {
    return opt.title = "left";
  }).is("transformOriginX,perspectiveOriginX,scaleX,rotateX,textShadowX,boxShadowX,skeewX", function () {
    return opt.title = "x";
  }).is("transformOriginY,perspectiveOriginY,scaleY,rotateY,textShadowY,boxShadowY,skeewY", function () {
    return opt.title = "y";
  }).is("transformOriginZ,perspectiveOriginZ,scaleZ,rotateZ", function () {
    return opt.title = "z";
  }).is("bezier", function () {
    opt.optionLine.inputs = [];
  });

  if (input.units) {
    input.type = "unit";
  }

  var param;

  if (opt.name === "bezier") {
    param = new BezierCssParam(opt, this.timeline);
  } else {
    param = new CssParam(opt, this.timeline);
  }

  return param;
};

p._assembleGroup = function (opt) {
  if (opt === undefined) opt = {};


  _.defaults(opt, {
    collapsed: false,
    merged: true,
    hidden: false,
    borrowChildInputsOnCollapse: true,
    optionLine: {
      inputs: [] } });

  var paramGroup = new CssParamGroup(opt, this.timeline);

  if (opt.name === "translate") {
    paramGroup.optionLine.addButton({
      domElem: amgui.createIconBtn({
        icon: "vector",
        tooltip: "convert to bezier path",
        onClick: function () {
          return paramGroup.emit("translateToBezier");
        } }),
      name: "bezier",
      childIdx: 0 });
  }

  return paramGroup;
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/ParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js","./BezierCssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\BezierCssParam.js","./CssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js","./CssParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamGroup.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamGroup.js":[function(require,module,exports){
"use strict";

var ParamGroup = require("../../track/ParamGroup");
var inherits = require("inherits");

function CssParamGroup(opt) {
  if (opt === undefined) opt = {};


  ParamGroup.apply(this, arguments);
}

inherits(CssParamGroup, ParamGroup);
var p = CssParamGroup.prototype;
module.exports = CssParamGroup;

},{"../../track/ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamsTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var OptionLine = require("../../utils/OptionLine");

function CssParamsTab() {
  this._paramOptionLines = [];

  this._createBase();

  am.on("change.currTrack", this._onChangeCurrTrack, this);
}

var p = CssParamsTab.prototype;





p._onChangeCurrTrack = function (track) {
  this._unlisten();

  this._currTrack = track;

  this._listen();
};


p._onInputChange = function (paramName, value) {
  if (!this._currTrack) return;

  var param = this._currTrack.getParam(paramName);

  if (!param) {
    param = this._currTrack.addParam({ name: paramName });
    param.addKey({ value: value });
  }
};

p._onTrackAddParam = function () {
  this._listen();
};

p._onChangeTime = function () {
  this._refreshKeyButtons();
};

p._onChangeParam = function () {
  this._refreshKeyButtons();
};






p._unlisten = function () {
  if (!this._currTrack) return;

  this._showHideNoTrackMsg(true);

  this._currTrack.paramGroup.off("change.structure", this._onTrackAddParam, this);
  this._currTrack.timeline.off("changeTime", this._onChangeTime, this);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      param.off("change.keys", this._onChangeParam, this);
      param.detachInput(input);
      input.reset();
    }
  }, this);
};

p._listen = function () {
  if (!this._currTrack) return;

  this._currTrack.paramGroup.on("change.structure", this._onTrackAddParam, this);
  this._currTrack.timeline.on("changeTime", this._onChangeTime, this);

  this._showHideNoTrackMsg(false);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      input.value = param.getValue();
      param.attachInput(input);
      param.on("change.keys", this._onChangeParam, this);
    }
  }, this);
};

p._showHideNoTrackMsg = function (show) {
  this._deMsgNoTrack.style.display = show ? "inline-block" : "none";
  this._deScrollCont.style.display = show ? "none" : "";
};

p._forEachInput = function (fn, thisArg) {
  this._paramOptionLines.forEach(function (optionLine) {
    Object.keys(optionLine.inputs).forEach(function (paramName) {
      fn.call(thisArg, optionLine.inputs[paramName], paramName);
    });
  }, this);
};










p._refreshKeyButtons = function () {
  if (this._currTrack) {
    this._paramOptionLines.forEach(function (optionLine) {
      optionLine.refreshKey();
    });
  }
};







p._createBase = function () {
  var that = this;

  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._deMsgNoTrack = amgui.createLabel({
    parent: this.domElem,
    color: amgui.color.textInactive,
    text: am.i18n.cssModule.noTrackSelected });

  this._deScrollCont = amgui.createDiv({
    display: "none",
    width: "100%",
    parent: this.domElem });

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._deScrollCont
  });

  var boderStyleOptions = "none,hidden,dotted,dashed,solid,double,groove,ridge,inset,outset,initial,inherit".split(",");

  var paramTree = [{
    title: "font",
    children: [{ title: "font-family", input: "string" }, { title: "font-size", input: "string" }, { title: "font-weight", input: "string" }, { title: "font-style", input: "string" }, { title: "font-variant", input: "string" }, { title: "text-transform", input: { type: "select", options: "none,capitalize,uppercase,lowercase,full-width".split(",") } }, { title: "text-decoration", input: { type: "string", defaultValue: "none" } }, { title: "color", input: "color" }] }, { title: "border", children: [{ title: "borderColor", children: [{ title: "borderTopColor", input: "color" }, { title: "borderRightColor", input: "color" }, { title: "borderBottomColor", input: "color" }, { title: "borderLeftColor", input: "color" }] }, { title: "borderWidth", children: [{ title: "borderTopWidth", input: { type: "unit", units: ["px"] } }, { title: "borderRightWidth", input: { type: "unit", units: ["px"] } }, { title: "borderBottomWidth", input: { type: "unit", units: ["px"] } }, { title: "borderLeftWidth", input: { type: "unit", units: ["px"] } }] }, { title: "borderStyle", children: [{ title: "borderTopStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderRightStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderBottomStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderLeftStyle", input: { type: "select", options: boderStyleOptions } }] }] }, { title: "background", children: [] }, { title: "transform", children: [{ title: "translate", children: [{ title: "x", input: {} }, { title: "y", input: {} }, { title: "z", input: {} }] }, { title: "scale", children: [{ title: "scaleX", input: {} }, { title: "scaleY", input: {} }, { title: "scaleZ", input: {} }] }, { title: "rotation", children: [{ title: "rotationX", input: {} }, { title: "rotationY", input: {} }, { title: "rotationZ", input: {} }] }] }, { title: "layout", children: [] }];
  var build = function (nodeList, parent, indent) {
    nodeList.forEach(function (node) {
      var optionLine, isChildrenVisible = true;

      node.indent = indent;
      node.keepSpaceForTgglChildren = true;

      if (node.input) {
        if (typeof (node.input) === "string") {
          node.input = { type: node.input };
        }

        node.input.name = node.title;

        node.inputs = [node.input];
        delete node.input;
      }

      if (node.inputs) {
        node.btnKey = {
          onClick: function () {
            if (this._currTrack) {
              var param = this._currTrack.addParam({
                name: node.title });
              param.toggleKey();
            }
          }.bind(this) };
      }

      if (node.children) {
        node.tgglChildren = {
          onClick: onToggleChildren };
      }

      //create
      optionLine = new OptionLine(node);
      this._paramOptionLines.push(optionLine);

      //listen to inputs
      Object.keys(optionLine.inputs).forEach(function (inputName) {
        optionLine.inputs[inputName].reset();

        var changeHandler = this._onInputChange.bind(this, inputName);

        optionLine.inputs[inputName].on("change", changeHandler);
      }, this);


      //add param button
      var paramNames = collectParamNames(node);

      optionLine.refreshKey = function () {
        if (!optionLine.buttons.key) return;

        var hasKey = false;

        if (this._currTrack) {
          paramNames.forEach(function (paramName) {
            var time = this._currTrack.timeline.currTime, param = this._currTrack.getParam(paramName);

            if (param && param.getKey(time)) {
              hasKey = true;
            }
          }, this);
        }

        optionLine.buttons.key.setHighlight(!!hasKey);
      }.bind(this);


      //append to parent
      if (parent.addOptionLine) {
        parent.addOptionLine(optionLine);
      } else {
        parent.appendChild(optionLine.domElem);
      }


      if (node.children) {
        onToggleChildren();

        build(node.children, optionLine, indent + 1);
      }


      function onToggleChildren() {
        isChildrenVisible = !isChildrenVisible;

        optionLine.buttons.tgglChildren.setToggle(isChildrenVisible);

        if (isChildrenVisible) {
          optionLine.showSublines();
        } else {
          optionLine.hideSublines();
        }
      }
    }, this);
  }.bind(this);

  build(paramTree, this._deScrollCont, 0);

  function collectParamNames(node) {
    var ret = [];

    if (node.children) {
      ret = ret.concat(node.children.forEach(collectParamNames));
    } else {
      ret.push(node.title);
    }

    return ret;
  }
};

module.exports = CssParamsTab;

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssTrack.js":[function(require,module,exports){
"use strict";

var Track = require("../../track/Track");
var inherits = require("inherits");
var amgui = require("../../amgui");
var CssParamFactory = require("./CssParamFactory");

function CssTrack(opt, timeline) {
  var _this = this;
  if (opt === undefined) opt = {};


  this._paramFactory = new CssParamFactory({}, timeline);

  Track.apply(this, arguments);

  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      iconOn: "eye",
      iconOff: "eye-off",
      changeColor: true,
      onClick: function () {
        return _this._onClickTgglHide();
      } }),
    name: "tgglHide",
    childIdx: 1 });

  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      tooltip: "enable/disable 3d",
      icon: "cube",
      changeColor: true,
      onClick: function () {
        return am.dialogs.WIP.show();
      } }),
    name: "tggl3d",
    childIdx: 1 });

  //TODO do this somehow else
  this.paramGroup.on("addParam", function (param) {
    if (param.name === "translate") {
      param.on("translateToBezier", _this._switchFromTranslateToBezier, _this);
    } else if (param.name === "bezier") {
      param.parentTrack = _this; //hack!
      param.on("bezierToTranslate", _this._switchFromBezierToTranslate, _this);
    }
  });

  if (this.paramGroup.getParam("translate")) {
    this.paramGroup.getParam("translate").on("translateToBezier", this._switchFromTranslateToBezier, this);
  }

  if (this.paramGroup.getParam("bezier")) {
    this.paramGroup.getParam("bezier").parentTrack = this; //hack!
    this.paramGroup.getParam("bezier").on("bezierToTranslate", this._switchFromBezierToTranslate, this);
  }
}

inherits(CssTrack, Track);
var p = CssTrack.prototype;
module.exports = CssTrack;

p.type = "css_track_type";


p.focusTransformer = function (de) {
  if (!this._transformer) return; //TODO clean up

  de = de || this._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe) return this._blurTransformer();

  this.emit("focusTransformer");

  var handOpt = {
    type: "transformer",
    params: {} }, xPercent = 0, yPercent = 0;

  var p = handOpt.params;
  this._endParams.forEach(function (param) {
    if (param.hidden) return;

    switch (param.name) {
      case "x": p.tx = parseFloat(param.getValue());break;
      case "y": p.ty = parseFloat(param.getValue());break;
      case "scaleX": p.sx = parseFloat(param.getValue());break;
      case "scaleY": p.sy = parseFloat(param.getValue());break;
      case "rotationZ": p.rz = parseFloat(param.getValue()) / 180 * Math.PI;break;
      case "transformOriginX": p.ox = parseFloat(param.getValue()) / 100;break;
      case "transformOriginY": p.oy = parseFloat(param.getValue()) / 100;break;
      case "bezier":
        var value = param.getValue();
        p.tx = parseFloat(value.x);
        p.ty = parseFloat(value.y);
        break;
      case "xPercent": xPercent = parseFloat(param.getValue());break;
      case "yPercent": yPercent = parseFloat(param.getValue());break;
    }
  });


  handOpt.base = this._transformer.setLocalRoot(de.parentNode, de);

  this._transformer.setup({
    hand: handOpt });
  this._transformer.activate();

  am.deHandlerCont.appendChild(this._transformer.domElem);
};

p._blurTransformer = function () {
  this._currHandledDe = undefined;

  this.emit("blurTransformer");

  if (this._transformer && this._transformer.domElem && this._transformer.domElem.parentNode) {
    this._transformer.deactivate();
    this._transformer.domElem.parentNode.removeChild(this._transformer.domElem);
  }
};








p._switchFromTranslateToBezier = function () {
  var _this2 = this;


  var xParam = this.getParam("x"), yParam = this.getParam("y"), xParamSave = xParam.getSave(), yParamSave = yParam.getSave(), xKeys = xParamSave.keys, yKeys = yParamSave.keys, bezierKeys = [], times = _.sortBy(_.uniq(_.pluck(xKeys, "time").concat(_.pluck(yKeys, "time")))), oldBezierKeys = this.__bezierParamSave ? this.__bezierParamSave.keys : [];

  times.forEach(function (time) {
    var x = parseFloat(xParam.getValue(time)), y = parseFloat(yParam.getValue(time)), xKey = xParam.getKey(time), yKey = yParam.getKey(time), oldKey = _.find(oldBezierKeys, { time: time, anchor: { x: x, y: y } });

    bezierKeys.push(oldKey || {
      time: time,
      ease: (xKey && xKey.ease) || (yKey && yKey.ease),
      value: [{
        anchor: { x: x, y: y },
        handleLeft: { x: x, y: y },
        handleRight: { x: x, y: y } }]
    });
  });

  var bezierParam = this.addParam({
    name: "bezier",
    keys: bezierKeys });

  this.__xParamSave = xParamSave;
  this.__yParamSave = yParamSave;
  bezierParam.once("change", function () {
    delete _this2.__xParamSave;
    delete _this2.__yParamSave;
  });

  xParam.hidden = true;
  yParam.hidden = true;
  this.paramGroup.getParam("translate").hidden = true;
  bezierParam.hidden = false;

  this.focusTransformer(); //for redraw the transformers(with curver)
};

p._switchFromBezierToTranslate = function () {
  //TODO restore original x, y keys when bezier wasn't changed

  var bezierParam = this.getParam("bezier"), bezierParamSave = bezierParam.getSave(), xKeys = [], yKeys = [];

  bezierParamSave.keys.forEach(function (bezierKey) {
    var lastPoint = _.last(bezierKey.value);

    xKeys.push({
      time: bezierKey.time,
      value: lastPoint.anchor.x + "px" });
    yKeys.push({
      time: bezierKey.time,
      value: lastPoint.anchor.y + "px" });
  });

  var xParam = this.addParam(this.__xParamSave || {
    name: "x",
    keys: xKeys });
  var yParam = this.addParam(this.__yParamSave || {
    name: "y",
    keys: yKeys });

  this.__bezierParamSave = bezierParamSave;

  xParam.hidden = false;
  yParam.hidden = false;
  this.paramGroup.getParam("translate").hidden = false;
  bezierParam.hidden = true;

  this.focusTransformer(); //for redraw the transformers(without curver)
};









p._onClickTgglHide = function () {
  if (this._isHidingSelectedElems) {
    this._showSelectedElems();
  } else {
    this._hideSelectedElems();
  }
};

p._hideSelectedElems = function () {
  if (this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = true;

  this.paramGroup.optionLine.buttons.tgglHide.setToggle(true);

  this._selectedElems.forEach(function (de) {
    de._amVisibilitySave = de.style.visibility;
    de.style.visibility = "hidden";
  });
};

p._showSelectedElems = function () {
  if (!this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = false;

  this.paramGroup.optionLine.buttons.tgglHide.setToggle(false);

  this._selectedElems.forEach(function (de) {
    de.style.visibility = de._amVisibilitySave;
  });
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/Track":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Track.js","./CssParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamFactory.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\cssModule.js":[function(require,module,exports){
"use strict";

var CssTrack = require("./CssTrack");
var ParamsTab = require("./CssParamsTab");
var qsgen = require("../../qsgen");

var paramsTab;

exports.init = function () {
  paramsTab = new ParamsTab();

  am.registerTrackType(CssTrack, CssTrack.prototype.type);

  am.on("selectDomElem", onSelectDomElem);

  am.workspace.fillTab("Css Style", paramsTab.domElem);

  am.domPicker.on("add", function (e) {
    e.demand(10).then(function () {
      am.domPicker.hide();

      var selector = qsgen(e.target);
      console.log("selector:", selector);

      var track = new CssTrack({
        selectors: [{ type: "css", value: selector }],
        paramTree: { name: selector } }, am.currTimeline);

      am.currTimeline.addTrack(track);
      track.select();
    });
  });
};

function onSelectDomElem(de) {
  am.currTimeline.tracks.forEach(function (track) {
    if (track instanceof CssTrack) {
      if (track.isOwnedDomElem(de)) {
        track.select();
        track.focusTransformer(de);
      } else if (track.isSelected()) {
        track.deselect();
      }
    }
  });
}

},{"../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","./CssParamsTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamsTab.js","./CssTrack":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssTrack.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mouse\\Mouse.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Mouse() {
  this.screenX = 0;
  this.screenY = 0;

  this._onMouseMove = this._onMouseMove.bind(this);

  window.addEventListener("mousemove", this._onMouseMove);
}

inherits(Mouse, EventEmitter);
var p = Mouse.prototype;

p._onMouseMove = function (e) {
  this.screenX = e.screenX;
  this.screenY = e.screenY;
};


module.exports = Mouse;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\Project.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Timeline = require("../timeline");
var defineCompactProperty = require("../utils/defineCompactProperty");
var mstScript = require("./script.project.mst");

function Project(save) {
  if (save === undefined) save = {};


  EventEmitter.call(this);

  this._timelines = [];
  this.inputs = {};

  this.useSave(save);
}

inherits(Project, EventEmitter);
var p = Project.prototype;
module.exports = Project;

defineCompactProperty(p, { name: "name", type: "string", startValue: "new project" });

p.useSave = function (save) {
  var _this = this;
  if (save === undefined) save = {};


  var block = am.history.blockSaving();

  if (_.has(save, "name")) {
    this.name = save.name;
  }

  if (_.isArray(save.timelines)) {
    save.timelines.forEach(function (tl) {
      return _this.addTimeline(tl);
    });
  }

  if (_.has(save, "currTimelineIdx")) {
    this.selectTimeline(save.currTimelineIdx);
  }

  am.history.releaseBlock(block);
};

p.getSave = function () {
  var save = {
    name: this.name,
    timelines: this._timelines.map(function (tl) {
      return tl.getSave();
    }) };

  if (this.currTimeline) {
    save.currTimelineIdx = this._timelines.indexOf(this.currTimeline);
  }

  return save;
};

p.getScript = function (opt) {
  if (opt === undefined) opt = {};


  var timelines = [];

  this._timelines.forEach(function (timeline) {
    timelines.push(timeline.name + ":" + timeline.getScript());
  });

  var script = Mustache.render(mstScript, {
    projectName: this.name,
    timelines: "{" + timelines.join("\n") + "}",
    saveJson: opt.includeSave && JSON.stringify(this.getSave()) });

  if (opt.minify) {
    script = minify(script);
  }

  return script;

  function minify(code) {
    return code; //TODO

    // var result = UglifyJS.minify(code, {
    //     fromString: true,
    //     mangle: false,
    //     output: {
    //         comments: /@amsave/,
    //     },
    //     compress: {
    //         // reserved: 'JSON_SAVE',
    //     }
    // });
    //
    // return result.code;
    //
    // var toplevel = null;
    // toplevel = UglifyJS.parse(code, {
    //     filename: 'save',
    //     toplevel: toplevel
    // });
    //
    // toplevel.figure_out_scope();
    //
    // var compressor = UglifyJS.Compressor({mangle: false});
    // var compressed_ast = toplevel.transform(compressor);
    //
    // compressed_ast.figure_out_scope();
    // compressed_ast.compute_char_frequency();
    // compressed_ast.mangle_names();
    //
    // return compressed_ast.print_to_string({comments: 'all'});
  }
};

p.addTimeline = function (timeline) {
  var _this2 = this;


  //create the instance if the parameter is a save object
  if (!(timeline instanceof Timeline)) {
    timeline = new Timeline(timeline, this);
  }
  //remove the timeline if it's already added to an other project
  else if (timeline.project && timeline.project !== this) {
    timeline.project.removeTimeline(timeline);
    timeline.project = this;
  }



  timeline.name = makeUnique(timeline.name, _.pluck(this._timelines, "name"));

  //avoid to add twice
  if (_.include(this._timelines, timeline)) {
    return;
  }

  am.history.save({
    undo: function () {
      return _this2.removeTimeline(timeline);
    },
    redo: function () {
      return _this2.addTimeline(timeline);
    },
    name: "add timeline" });

  this._timelines.push(timeline);

  this.emit("addTimeline");
};

p.removeTimeline = function (timeline) {
  var _this3 = this;


  if (!_.include(this._timelines, timeline)) {
    return;
  }

  timeline.project = undefined;

  am.history.save({
    undo: function () {
      return _this3.addTimeline(timeline);
    },
    redo: function () {
      return _this3.removeTimeline(timeline);
    },
    name: "remove timeline" });

  _.pull(this._timelines, timeline);

  //TODO wrap to the removing save
  if (this.currTimeline === timeline) {
    this.selectTimeline(this._timelines[0]);
  }

  this.emit("removeTimeline");
};

p.selectTimeline = function (timeline) {
  if (_.isNumber(timeline)) {
    timeline = this._timelines[timeline];
  }

  if (timeline === this.currTimeline) return;

  if (this.currTimeline) {
    this.currTimeline.blur();
  }

  this.currTimeline = timeline;

  this.currTimeline.focus();

  this.emit("change.currTimeline", this.currTimeline);
};

p.focus = function () {
  if (!this.currTimeline && !_.isEmpty(this._timelines)) {
    this.selectTimeline(this._timelines[0]);
  }

  if (this.currTimeline) {
    this.currTimeline.focus();
  }
};

p.blur = function () {
  if (this.currTimeline) {
    this.currTimeline.blur();
  }
};




p.addInput = function (path, value) {
  var obj = this.inputs;

  if (typeof (path) !== "string") {
    //TODO: throw a detailed error
    throw Error();
  }

  path = path.split(".");

  path.forEach(function (name, idx, arr) {
    if (idx === arr.length - 1) {
      obj[name] = value;
    } else {
      obj = _.isPlainObject(obj[name]) ? obj[name] : {};
    }
  });

  this.emit("change.inputs");
};

p.setInputs = function (inputs) {
  if (!_.isPlainObject(inputs)) {
    //TODO: throw a detailed error
    throw Error();
  }

  this.inputs = inputs;

  this.emit("change.inputs");
};

p.getInputPaths = function (maxLevel) {
  if (maxLevel === undefined) maxLevel = 4;


  var ret = [];

  var step = function (obj, path, level) {
    Object.keys(obj).forEach(function (key) {
      ret.push(path + key);

      if (_.isPlainObject(obj[key]) && level <= maxLevel) {
        step(obj[key], path + key + ".", level + 1);
      }
    });
  };

  step(this.inputs, "", 0);

  return ret;
};

//TODO outsource this
/**opt {
    separator: '-',
    mode: 'suffix',
    fillHoles: 'false',
    fixedDigitCount: false
}*/
function makeUnique(name, list) {
  if (list.indexOf(name) === -1) return name;

  var highest = 0, base = name.replace(/-\d+$/, ""), rx = new RegExp(base + "-(\\d+)$");

  list.forEach(function (n) {
    var match = rx.exec(n);
    if (match && match[1] > highest) {
      highest = match[1];
    }
  });

  return base + "-" + (parseInt(highest) + 1);
}


p.dispose = function () {
  _.invoke(this._timelines, "dispose");
};

},{"../timeline":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timeline.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./script.project.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\script.project.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var ProjectTab = require("./ProjectTab");
var Project = require("./Project");

function ProjectMap() {
  EventEmitter.call(this);

  this._projects = [];

  this.projectTab = new ProjectTab(this);
  am.workspace.fillTab("Project", this.projectTab.domElem);
}

inherits(ProjectMap, EventEmitter);
var p = ProjectMap.prototype;
module.exports = ProjectMap;

Object.defineProperties(p, {
  currProject: {
    get: function () {
      return this.getCurrProject();
    }
  }
});

p.load = function (project) {
  if (!(project instanceof Project)) {
    project = new Project(project);
  }

  if (!_.include(this._projects, project)) {
    this._projects.push(project);
  }

  this.emit("load", project);

  return project;
};

p.unload = function (project) {
  _.pull(this._projects, project);

  project.dispose();

  this.emit("unload", project);
};

p.focus = function (project) {
  project = this.load(project);

  if (this._currProject) {
    this._currProject.blur();
    this._currProject.off("change.currTimeline", am.setTimeline, am);
  }

  this._currProject = project;
  this._currProject.focus();

  am.setTimeline(this._currProject.currTimeline);
  this._currProject.on("change.currTimeline", am.setTimeline, am);

  this.emit("focus", this._currProject);
};

p.blur = function () {};

p.clear = function () {
  var _this = this;


  this._projects.slice().forEach(function (p) {
    return _this.closeProject(p);
  });
};

p.getCurrProject = function () {
  return this._currProject;
};

p.getProjects = function () {
  return this._projects;
};

},{"./Project":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\Project.js","./ProjectTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectTab.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var OptionLine = require("../utils/OptionLine");

function ProjectTab(projectMap) {
  this._projectMap = projectMap;

  this._createBase();

  projectMap.on("focus", this._onFocus, this);
}

var p = ProjectTab.prototype;

p._onFocus = function (project) {
  if (this._currProject) {
    this._currProject.off(["addTimeline", "removeTimeline"], this._refreshLibrary, this);
  }

  this._currProject = project;

  this._deSelected.text = this._currProject.name;

  this._refreshLibrary();
  this._currProject.on(["addTimeline", "removeTimeline"], this._refreshLibrary, this);
};







p._refreshLibrary = function () {
  var _this = this;


  this._optLibrary.removeAllOptionLines();

  this._currProject._timelines.forEach(function (timeline) {
    var optionLine = new OptionLine({
      title: timeline.name || "unnamed timeline",
      onDblclick: function () {
        return _this._projectMap.currProject.selectTimeline(timeline);
      },
      keepSpaceForTgglChildren: true,
      data: {
        type: "timeline",
        value: timeline } });

    optionLine.addButton({
      domElem: amgui.createIconBtn({
        icon: "cancel",
        hoveMode: true,
        onClick: function () {
          return _this._projectMap.currProject.removeTimeline(timeline);
        } }) });

    _this._optLibrary.addOptionLine(optionLine);
  });
};








p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont });

  this._createProjectHandlers();
  this._createLibrary();
};

p._createProjectHandlers = function () {
  var _this2 = this;


  var deHead = amgui.createDiv({
    parent: this._scrollCont,
    display: "flex",
    width: "100%"
  });

  var refreshSelectInput = function () {
    var items = _this2._projectMap.getProjects().map(function (project) {
      return {
        text: project.name,
        onClick: function () {
          return _this2._projectMap.focus(project);
        },
        iconRight: project === _this2._projectMap.currProject ? "paw" : undefined };
    });
    _this2._ddSelect.setItems(items);
  };

  this._deSelected = amgui.createLabel({
    parent: deHead,
    fontSize: "14px",
    fontWeight: "600",
    iconRight: "down-dir" });

  this._ddSelect = amgui.createDropdown({});

  amgui.bindDropdown({
    deTarget: this._deSelected,
    deDropdown: this._ddSelect });

  refreshSelectInput();
  this._projectMap.on(["load", "unload", "focus"], refreshSelectInput);

  amgui.createDiv({
    parent: deHead,
    flex: 1 });

  amgui.bindDropdown({
    deTarget: amgui.createIconBtn({
      parent: deHead,
      icon: "ellipsis-vert",
      display: "inline-block",
      size: 18 }),
    deDropdown: amgui.createDropdown({
      options: [{
        text: "new project",
        icon: "plus",
        onClick: function () {
          var project = _this2._projectMap.load({
            name: "new project",
            timelines: [{}] });
          _this2._projectMap.focus(project);
        } }, {
        text: "close this project",
        icon: "cancel",
        onClick: function () {
          return am.dialogs.WIP.show();
        } }] }) });
};

p._createLibrary = function () {
  var _this3 = this;


  this._optLibrary = new OptionLine({
    title: "Library",
    parent: this._scrollCont,
    tgglChildren: true });

  var btnNew = amgui.createIconBtn({
    icon: "plus"
  });

  amgui.bindDropdown({
    deTarget: btnNew,
    deDropdown: amgui.createDropdown({
      options: [{ text: "timeline", icon: "barcode", onClick: function () {
          return _this3._currProject.addTimeline();
        } }, { text: "folder", icon: "folder-empty", onClick: function () {
          return am.dialogs.WIP.show();
        } }, { text: "image", icon: "file-image", onClick: function () {
          return am.dialogs.WIP.show();
        } }, { text: "custom asset", icon: "doc", onClick: function () {
          return am.dialogs.WIP.show();
        } }] }) });

  this._optLibrary.addButton({
    domElem: btnNew });
};

module.exports = ProjectTab;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\script.project.mst":[function(require,module,exports){
module.exports = ";(function (root) {\n    'use strict';\n\n    {{#saveJson}}\n    /**@amsave*/\n    var SAVEJSON = '{{{saveJson}}}';\n    {{/saveJson}}\n\n    var projectReg = {\n        timelines: {{{timelines}}},\n        {{#saveJson}}\n        saveJson: SAVEJSON,\n        {{/saveJson}}\n    };\n\n    root.am = root.am || {};\n    root.am.projects = root.am.projects || {};\n    root.am.projects.{{projectName}} = projectReg;\n\n\n\n    //-- CJS --//\n    if (typeof exports === 'object') {\n\n        module.exports = projectReg;\n    }\n\n    //-- AMD --//\n    if (typeof define === 'function' && define.amd) {\n\n        define(function () {\n            return projectReg;\n        });\n    }\n\n    //utils\n    function getAnimTargets(selectors, inputs) {\n\n        var list = [];\n\n        selectors.forEach(function (selector) {\n\n            if (selector.type === 'css') {\n\n                list.push(selector.value);\n            }\n            else if (inputs && selector.type === 'input') {\n\n                var parent = inputs;\n\n                selector.value.split('.').every(function (name) {\n\n                    return parent = parent[name];\n                });\n\n                if (parent) {\n                    list.push(parent);\n                }\n            }\n        });\n\n        return list;\n    };\n\n}(this));\n\n\n\n\n\n\n\n\n\n/**\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 – MIT License\n *\n * Credits: is based on Firefox's nsSMILKeySpline.cpp\n * Usage:\n * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)\n * spline(x) => returns the easing value | x must be in [0, 1] range\n *\n */\n!function(a){window.BezierEasing=a()}(function(){function i(a,i,j,k){function n(a,b){return 1-3*b+3*a}function o(a,b){return 3*b-6*a}function p(a){return 3*a}function q(a,b,c){return((n(b,c)*a+o(b,c))*a+p(b))*a}function r(a,b,c){return 3*n(b,c)*a*a+2*o(b,c)*a+p(b)}function s(c,d){for(var e=0;b>e;++e){var f=r(d,a,j);if(0===f)return d;var g=q(d,a,j)-c;d-=g/f}return d}function t(){for(var b=0;f>b;++b)m[b]=q(b*g,a,j)}function u(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=q(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function v(b){for(var d=0,e=1,h=f-1;e!=h&&m[e]<=b;++e)d+=g;--e;var i=(b-m[e])/(m[e+1]-m[e]),k=d+i*g,l=r(k,a,j);return l>=c?s(b,k):0===l?k:u(b,d,d+g)}function x(){w=!0,(a!=i||j!=k)&&t()}if(4!==arguments.length)throw new Error(\"BezierEasing requires 4 arguments.\");for(var l=0;4>l;++l)if(\"number\"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))throw new Error(\"BezierEasing arguments should be integers.\");if(0>a||a>1||0>j||j>1)throw new Error(\"BezierEasing x values must be in [0, 1] range.\");var m=h?new Float32Array(f):new Array(f),w=!1,y=function(b){return w||x(),a===i&&j===k?b:0===b?0:1===b?1:q(v(b),i,k)};y.getControlPoints=function(){return[{x:a,y:i},{x:j,y:k}]};var z=[a,i,j,k],A=\"BezierEasing(\"+z+\")\";y.toString=function(){return A};var B=\"cubic-bezier(\"+z+\")\";return y.toCSS=function(){return B},y}var a=this,b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h=\"Float32Array\"in a;return i.css={ease:i(.25,.1,.25,1),linear:i(0,0,1,1),\"ease-in\":i(.42,0,1,1),\"ease-out\":i(0,0,.58,1),\"ease-in-out\":i(.42,0,.58,1)},i});\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js":[function(require,module,exports){
"use strict";

var EXATTR = ["id", "class", "style"];

function generate(de, root) {
  root = root || document;

  var deCurr = de, rootCurr = root, qsCurr, qsParent = "";

  while (true) {
    do {
      qsCurr = gen(deCurr, rootCurr);
    } while (!qsCurr && deCurr.parentNode && deCurr.parentNode !== rootCurr && (deCurr = deCurr.parentNode));

    if (!qsCurr) {
      if (deCurr.parentNode === rootCurr) {
        qsCurr = "> :nth-child(" + (Array.prototype.indexOf.call(rootCurr.children, deCurr) + 1) + ")";
      } else {
        return; //can't find unique query selector
      }
    }

    qsParent += (qsParent ? " " : "") + qsCurr;

    if (deCurr === de) {
      return qsParent;
    } else {
      qsCurr = undefined;
      rootCurr = deCurr;
      deCurr = de;
    }
  }
}

function gen(de, root) {
  var singles, selectors, matches = [];

  singles = selectors = possibleIds(de).concat([de.tagName.toLowerCase()], possibleClasses(de, i), possibleAttributes(de, i));

  for (var i = 0; i < 5; ++i) {
    selectors.forEach(function (selector) {
      if (root.querySelectorAll(selector).length === 1) {
        matches.push(selector);
      }
    });

    if (matches.length) {
      return matches[0];
    } else {
      selectors = combine(selectors, singles);
    }
  }
}

function possibleIds(de) {
  return de.id ? ["#" + CSS.escape(de.id)] : [];
}

function possibleClasses(de, max) {
  return Array.prototype.slice.call(de.classList, 0).map(function (className) {
    return "." + CSS.escape(className);
  });
}

function possibleAttributes(de) {
  return Array.prototype.slice.call(de.attributes, 0).filter(function (attr) {
    return EXATTR.indexOf(attr.name) === -1;
  }).map(function (attr) {
    return "[" + CSS.escape(attr.name) + (attr.value ? "=\"" + attr.value + "\"" : "") + "]";
  });
}

// function variate(_list, length) {
//     return step(_list, 2);

//     function step(list, back) {
//         var combined = combine(attributes, list);
//         return list.concat(back === 0 ? combined : step(combined, --back));
//     }
// }

function combine(sourceA, sourceB) {
  var combined = [];

  sourceA.forEach(function (a) {
    sourceB.forEach(function (b) {
      if (a.indexOf(b) === -1 && b.indexOf(a) === -1 && "#.[:".indexOf(b.charAt(0)) !== -1) {
        combined.push(a + b);
      }
    });
  });

  return combined;
}

module.exports = generate;

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\dialogSettings.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  createContent: function () {
    var deScrollCont = amgui.createDiv({
      parent: this._deContent,
      width: "100%",
      display: "flex" });

    var deLeft = amgui.createDiv({
      parent: deScrollCont,
      width: "234px" });

    var deRight = amgui.createDiv({
      parent: deScrollCont,
      flex: "1" });
  }
});

function createShortcutLabel(value) {
  var deLabel = amgui.createLabel({});
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\shortcuts.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var dialogSettings = require("./dialogSettings");

var shortcuts = new EventEmitter();
module.exports = shortcuts;

var map = {
  enter: ["enter"],
  copy: ["ctrl+c"],
  cut: ["ctrl+x"],
  "delete": ["del", "backspace"],
  duplicate: ["ctrl+d"],
  keyboardShortcuts: ["ctrl+k"],
  paste: ["ctrl+v"],
  undo: ["ctrl+z"],
  redo: ["ctrl+y", "ctrl+shift+z"],
  selectAll: ["ctrl+c"],
  save: ["ctrl+s"],
  saveAs: ["ctrl+shift+s"],
  "play/pause": ["space"],
  groupElements: ["ctrl+g"],
  "show/hidePanels": ["tab"] };

shortcuts.readMap = function (map) {
  Mousetrap.reset();

  Object.keys(map).forEach(function (key) {
    map[key].forEach(function (stroke) {
      // Mousetrap.bind(stroke, this.emit.bind(this, key));
      Mousetrap.bind(stroke, function () {
        console.log(key, stroke);
        this.emit(key);
      }.bind(this));
    }, this);
  }, this);
};

shortcuts.readMap(map);

shortcuts.getShortcut = function (key) {
  return map[key].join(", ");
};

Mousetrap.record(function (strokes) {
  var stroke = strokes[strokes.length - 1];
});

},{"./dialogSettings":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\dialogSettings.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\EaseMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function EaseMap(opt) {
  EventEmitter.call(this);

  this._map = {};
}

inherits(EaseMap, EventEmitter);
var p = EaseMap.prototype;
module.exports = EaseMap;

p.getSave = function () {
  return _.cloneDeep(this._map);
};

p.useSave = function (save) {
  if (!save) throw Error;

  this._map = _.cloneDeep(this._map);

  this.emit("change");
};

p.set = function (name, ease) {
  this._map[name] = ease;

  this.emit("change");
};

p.showSetDialog = function (name, ease) {};

p.get = function (name) {
  return this._map[name];
};

p.list = function () {
  return Object.keys(this._map);
};

p.remove = function (name) {
  delete this._map[name];

  this.emit("change");
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\InlineEaseEditor.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function InlineEaseEditor(opt) {
  EventEmitter.call(this);

  this._onClickWindow = this._onClickWindow.bind(this);

  this._height = amgui.LINE_HEIGHT;
  this._color = "#00BFFF";

  this.timeline = opt.timeline;

  this._points = [0, 0, 1, 1];

  this._render = amgui.delayWithRAF(this._render, this);

  this._createBase();
  this.hide();
}

inherits(InlineEaseEditor, EventEmitter);
var p = InlineEaseEditor.prototype;
module.exports = InlineEaseEditor;




p.show = function (opt) {
  var _this = this;


  if (!opt.key || (!opt.key.ease && !opt.eases)) return;

  this._key = opt.key;
  this._eases = opt.eases ? opt.eases.slice() : [opt.key.ease];

  this._points[0] = this._eases[0].points[0];
  this._points[1] = this._eases[0].points[1];
  this._points[2] = this._eases[0].points[2];
  this._points[3] = this._eases[0].points[3];

  this._eases.forEach(function (ease) {
    ease.on("change", _this._onChangeEase, _this);
  });

  this._render();

  this._startAutoRefresh();

  window.addEventListener("click", this._onClickWindow);

  this.domElem.style.display = "";
};

p.hide = function () {
  var _this2 = this;


  if (this._eases) {
    this._eases.forEach(function (ease) {
      ease.off("change", _this2._onChangeEase, _this2);
    });
  }

  this._stopAutoRefresh();

  window.removeEventListener("click", this._onClickWindow);

  this.domElem.style.display = "none";
};




p._startAutoRefresh = function () {
  var _this3 = this;


  var refresh = function () {
    window.cancelAnimationFrame(_this3.__rafIdAutoRefresh);

    _this3.__rafIdAutoRefresh = window.requestAnimationFrame(refresh);

    _this3._render();
  };

  refresh();
};

p._stopAutoRefresh = function () {
  window.cancelAnimationFrame(this.__rafIdAutoRefresh);
};

p._render = function () {
  var key = this._key, prevKey = key.getPrevKey(), brKeyLine = key.parentKeyLine.domElem.getBoundingClientRect(), brParent = this.domElem.parentNode.getBoundingClientRect(), p = this._points, x = this.timeline.timeToScreenX(prevKey ? prevKey.time : 0), w = this.timeline.timeToScreenX(key.time) - x, h = this._height, d = "", ease = this._eases[0];

  this._width = w;

  this.domElem.style.left = x + "px";
  this.domElem.style.top = (brKeyLine.top - brParent.top + h) + "px";

  d += "M" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += "L0,0 ";
  d += "C" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += (w * p[2]) + "," + (h * p[3]) + " ";
  d += w + "," + h + " ";
  d += "L" + (w * p[2]) + "," + (h * p[3]);

  if (ease) {
    d += "M0,0 ";

    for (var i = 0; i < w; ++i) {
      d += "L" + i + "," + (h * ease.getRatio(i / w));
    }
  }

  this._path.setAttribute("d", d);

  this._deCp0.refreshPosition();
  this._deCp1.refreshPosition();
};

p._setPoint = function (pidx, x, y) {
  var _this4 = this;


  this._points[pidx] = x;
  this._points[pidx + 1] = y;

  this._eases.forEach(function (ease) {
    return ease.points = _this4._points;
  });
};






p._onChangeEase = function () {
  this._render();
};

p._onClickWindow = function () {
  this.hide();
};







p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "absolute";
  this.domElem.style.transform = "scaleY(-1)";
  this.domElem.style.pointerEvents = "none";

  this._svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  // this._svg.style.background = 'red';
  this._svg.style.position = "absolute";
  this._svg.style.top = "0px";
  this._svg.style.left = "0px";
  this._svg.style.overflow = "visible";
  this.domElem.appendChild(this._svg);

  this._path = document.createElementNS("http://www.w3.org/2000/svg", "path");
  this._path.style.stroke = this._color;
  this._path.style.fill = "none";
  this._svg.appendChild(this._path);

  this._deCp0 = this._createCp(0);
  this._deCp1 = this._createCp(2);
};

p._createCp = function (pointIdx) {
  var r = 3;

  var deCp = document.createElement("div");
  deCp.style.position = "absolute";
  deCp.style.cursor = "grab";
  deCp.style.boxSizing = "border-box";
  deCp.style.width = r * 2 + "px";
  deCp.style.height = r * 2 + "px";
  deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
  deCp.style.borderRadius = r + "px";
  deCp.style.background = this._color;
  deCp.style.pointerEvents = "auto";
  this.domElem.appendChild(deCp);

  deCp.addEventListener("click", function (e) {
    e.stopPropagation(); //prevent calling _onClickWindow();
  });

  amgui.makeDraggable({
    deTarget: deCp,
    thisArg: this,
    onMove: function (md, mx, my) {
      var br = this.domElem.getBoundingClientRect();

      this._setPoint(pointIdx, Math.max(0, Math.min(1, (mx - br.left) / this._width)), (br.top - my) / this._height);
    }
  });

  deCp.refreshPosition = function () {
    deCp.style.left = (this._points[pointIdx] * this._width) + "px";
    deCp.style.top = (this._points[pointIdx + 1] * this._height) + "px";
  }.bind(this);
  deCp.refreshPosition();

  return deCp;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timebar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var decorTimebarNavigator = require("./decorTimebarNavigator");

function Timebar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._start = opt.start || 0;
  this._width = opt.width || 0;
  this._height = opt.height || 21;
  this._timescale = opt.timescale || 0;
  this._currTime = opt.currTime || 0;
  this._length = opt.length || 60000;

  this._magnetPoints = [];
  this._magnetDistancePx = 2.5;
  this._startMargin = ("startMargin" in opt) ? opt.startMargin : 6;

  this._onMDown = onMDown.bind(this);
  this._onMMove = onMMove.bind(this);
  this._onMUp = onMUp.bind(this);

  this._steps = getSteps();

  this._createBase();
  this._createPointer();
  this._createEndShadow();

  this._renderTape();
  //TODO use amgui.makeDraggable()
  this._canvasTape.addEventListener("mousedown", this._onMDown);

  decorTimebarNavigator(this);

  this.seekToZero();
}

inherits(Timebar, EventEmitter);
var p = Timebar.prototype;
module.exports = Timebar;




Object.defineProperties(p, {
  /** px/ms */
  timescale: {
    set: function (v) {
      if (!Number.isFinite(v) || this._timescale === v) return;

      this._timescale = Math.min(3, Math.max(0.0001, v));
      this._renderTape();
      this.emit("changeTape");
      this.emit("changeTimescale");
      //prevent to get bigger start margin than "_startMargin"
      this.start = this.start;
    },
    get: function () {
      return this._timescale;
    }
  },

  start: {
    set: function (v) {
      v = Math.min(this._startMargin / this.timescale, parseInt(v));

      if (!Number.isFinite(v) || this._start === v) return;

      this._start = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._start;
    }
  },

  /**px*/
  width: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._width === v) return;

      this._width = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._width;
    }
  },

  end: {
    get: function () {
      return this._start + (this._width / this._timescale);
    }
  },
  /**ms*/
  visibleTime: {
    set: function (v) {
      this.timescale = this._width / v;
    },

    get: function () {
      return this._width / this._timescale;
    }
  },

  currTime: {
    set: function (v) {
      v = Math.max(0, parseInt(v));

      if (!Number.isFinite(v) || this._currTime === v) return;

      this._currTime = v;

      this._refreshPointer();

      this.emit("changeTime", this._currTime);
    },
    get: function () {
      return this._currTime;
    }
  },

  magnetPoints: {
    set: function (v) {
      this._magnetPoints = v;
    },
    get: function () {
      return this._magnetPoints;
    }
  },

  length: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._length === v) return;
      this._length = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._length;
    }
  },

  startMargin: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._startMargin === v) return;
      this._startMargin = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._startMargin;
    }
  } });









p.getSave = function () {};

p.useSave = function () {};

p.screenXToTime = function (screenX) {
  var left = this._canvasTape.getBoundingClientRect().left, mouseX = screenX - left, time = (mouseX / this.width) * this.visibleTime;

  time -= this.start;

  return time;
};

p.magnetizeTime = function (time) {
  var magnetPoint, magnetPointDiff = undefined;

  this._magnetPoints.forEach(function (mp) {
    var diff = Math.abs(mp - time);

    if (diff < magnetPointDiff || magnetPointDiff === undefined) {
      magnetPoint = mp;
      magnetPointDiff = diff;
    }
  });

  if ((magnetPointDiff * this._timescale) < this._magnetDistancePx) {
    time = magnetPoint;
  }

  return time;
};

p.seekToZero = function () {
  this.start = this._startMargin / this.timescale;
};











p._renderTape = function () {
  var start = this._start, length = this._length, visibleTime = this.visibleTime, height = this._height, scale = this.timescale, width = this._width, maxMarkers = width / 4, step, i, text, textW, ctx = this._ctxTape;

  this._canvasTape.width = width;
  this._canvasTape.height = height;

  this._steps.forEach(function (s) {
    if ((this.visibleTime / s.small) < maxMarkers && (!step || step.small > s.small)) {
      step = s;
    }
  }, this);

  if (step) {
    ctx.linweidth = 0.5;
    ctx.strokeStyle = amgui.color.bg3;
    ctx.fillStyle = amgui.color.bg3;
    ctx.font = ~ ~(this._height * 0.5) + "px \"Open Sans\"";

    for (i = start % step.small; i < visibleTime; i += step.small) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.75);
    }
    ctx.stroke();

    for (i = start % step.big; i < visibleTime; i += step.big) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.62);
    }
    ctx.stroke();

    for (i = start % step.time; i < visibleTime; i += step.time) {
      text = step.format(i - start);
      textW = ctx.measureText(text).width / 2;
      ctx.fillText(text, i * scale - textW, 12);
    }
    ctx.stroke();
  }

  this._refreshPointer();

  var endWidth = ((visibleTime - (start + length)) * scale);
  this._deEndShadow.style.width = Math.max(0, Math.min(width, endWidth)) + "px";
};












function onMDown(e) {
  e.stopPropagation();
  e.preventDefault();

  if (e.shiftKey) this._dragMode = "translate";else if (e.ctrlKey) this._dragMode = "scale";else this._dragMode = "seek";

  this._mdX = e.pageX;
  this._mdStart = this._start;
  this._mdTimescale = this._timescale;

  this._onMMove(e);

  window.addEventListener("mousemove", this._onMMove);
  window.addEventListener("mouseup", this._onMUp);
  window.addEventListener("mouseleave", this._onMUp);
}

function onMMove(e) {
  var move = e.screenX - this._mdX, time, magnetPoint, magnetPointDiff;

  if (this._dragMode === "seek") {
    time = this.screenXToTime(e.screenX);
    time = this.magnetizeTime(time);

    this.currTime = time;

    this.emit("seek");
  } else if (this._dragMode === "translate") {
    this.start = this._mdStart + (move / this.timescale);
  } else if (this._dragMode === "scale") {
    this.timescale = this._mdTimescale + (move / 1000);

    var mdPos = (this._mdStart + this.currTime) * this._mdTimescale;
    this.start = -((this.currTime * this.timescale) - mdPos) / this.timescale;
  }
}

function onMUp() {
  window.removeEventListener("mousemove", this._onMMove);
  window.removeEventListener("mouseup", this._onMUp);
  window.removeEventListener("mouseleave", this._onMUp);
}










p._refreshPointer = function () {
  var pos = ((this.start + this.currTime) / this.visibleTime) * this.width;

  this._dePointer.style.transform = "translate(" + pos + "px)";
};











p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.position = "relative";
  amgui.createSeparator({ parent: this.domElem });

  this._canvasTape = document.createElement("canvas");
  this._ctxTape = this._canvasTape.getContext("2d");
  this._canvasTape.style.display = "block";
  this.domElem.appendChild(this._canvasTape);
};

p._createPointer = function () {
  var radius = 5;
  this._dePointer = document.createElement("div");
  this._dePointer.style.position = "absolute";
  this._dePointer.style.bottom = 2 * radius + "px";
  var pointer = document.createElement("div");
  pointer.style.position = "absolute";
  pointer.style.boxSizing = "border-box";
  pointer.style.pointerEvents = "none";
  pointer.style.left = -radius + "px";
  pointer.style.width = 2 * radius + "px";
  pointer.style.height = 2 * radius + "px";
  pointer.style.border = "solid " + amgui.color.red + " 1px";
  pointer.style.borderRadius = radius + "px";
  this._dePointer.appendChild(pointer);
  this.domElem.appendChild(this._dePointer);
};

p._createEndShadow = function () {
  this._deEndShadow = document.createElement("div");
  this._deEndShadow.style.position = "absolute";
  this._deEndShadow.style.top = "0px";
  this._deEndShadow.style.right = "0px";
  this._deEndShadow.style.height = "100%";
  this._deEndShadow.style.width = "0px";
  this._deEndShadow.style.pointerEvents = "none";
  this._deEndShadow.style.backgroundColor = "rgba(83,83,83,0.73)";
  this.domElem.appendChild(this._deEndShadow);

  var handler = document.createElement("div");
  handler.style.position = "absolute";
  handler.style.top = "0px";
  handler.style.left = "0px";
  handler.style.height = "100%";
  handler.style.width = "3px";
  handler.style.cursor = "ew-resize";
  handler.style.pointerEvents = "auto";
  this._deEndShadow.appendChild(handler);

  amgui.makeDraggable({
    deTarget: handler,
    thisArg: this,
    onDown: function () {
      return {
        length: this.length };
    },
    onMove: function (md, mx) {
      var time = this.screenXToTime(mx);
      time = this.magnetizeTime(time);

      this.length = time;
    }
  });
};








//Steps
function getSteps() {
  return [{
    small: 5,
    big: 50,
    time: 50,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 10,
    big: 100,
    time: 100,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 100,
    big: 1000,
    time: 1000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 500,
    big: 5000,
    time: 5000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 10000,
    big: 60000,
    time: 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }, {
    small: 60000,
    big: 5 * 60000,
    time: 5 * 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }];

  function two(num) {
    return ("00" + num).substr(-2);
  }
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./decorTimebarNavigator":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\decorTimebarNavigator.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timeline.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Timebar = require("./Timebar");
var EaseMap = require("./EaseMap");
var TriggerMap = require("./TriggerMap");
var amgui = require("../amgui");
var mstScript = require("./script.timeline.mst");
var InlineEaseEditor = require("./InlineEaseEditor");
var Toolbar = require("../toolbar");
var defineCompactProperty = require("../utils/defineCompactProperty");

function Timeline(opt, project) {
  EventEmitter.call(this);
  this.setMaxListeners(11111);

  this.project = project;

  this._headerH = 23;

  this._onSelectTrack = this._onSelectTrack.bind(this);
  this._onChangeTrackKeys = this._onChangeTrackKeys.bind(this);
  this._onTrackNeedRemove = this._onTrackNeedRemove.bind(this);
  this._onMoveTrack = this._onMoveTrack.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeTape = this._onChangeTape.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onSelectNewTrack = this._onSelectNewTrack.bind(this);
  this._onTogglePlayPause = this._onTogglePlayPause.bind(this);
  this._onTimebarSeek = this._onTimebarSeek.bind(this);
  this._onChangeTrackHeight = this._onChangeTrackHeight.bind(this);
  this._onStartEditCurrTime = this._onStartEditCurrTime.bind(this);
  this._onFinishEditCurrTime = this._onFinishEditCurrTime.bind(this);
  this._onChangeInpCurrTime = this._onChangeInpCurrTime.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._timebar = new Timebar({
    height: this._headerH,
    timescale: 0.12,
    length: 6000 });

  this.toolbar = new Toolbar({
    height: this._headerH,
    bgColor: "none" });

  this._createBase();
  this._createPointerLine();

  this.inlineEaseEditor = new InlineEaseEditor({ timeline: this });
  this.domElem.appendChild(this.inlineEaseEditor.domElem);

  this._refreshTimebarWidth();
  this._refreshDeCurrTime();

  this._tracks = [];
  this._mapTrackDatas = new WeakMap();

  this.easeMap = new EaseMap();
  this.triggerMap = new TriggerMap();

  //TODO this._timebar.forward(['changeTime', 'changeTape', changeTimescale], this);
  this._timebar.on("changeTime", this.emit.bind(this, "changeTime"));
  this._timebar.on("changeTape", this.emit.bind(this, "changeTape"));
  this._timebar.on("changeTimescale", this.emit.bind(this, "changeTimescale"));
  this._timebar.on("changeTime", this._onChangeTime);
  this._timebar.on("changeTape", this._onChangeTape);
  this._timebar.on("seek", this._onTimebarSeek);

  amgui.callOnAdded(this.domElem, this._refreshTimebarWidth, this);
  this._refreshPointerLine = amgui.delayWithRAF(this._refreshPointerLine, this);

  window.addEventListener("resize", this._onWindowResize);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Timeline, EventEmitter);
var p = Timeline.prototype;
module.exports = Timeline;






Object.defineProperties(p, {
  currTime: {
    set: function (v) {
      this._timebar.currTime = v;
    },
    get: function () {
      return this._timebar.currTime;
    }
  },
  timescale: {
    get: function () {
      return this._timebar.timescale;
    }
  },
  tracks: {
    get: function () {
      return this._tracks;
    }
  },
  length: {
    get: function () {
      return this._timebar.length;
    }
  },
  width: {
    get: function () {
      return this._timebar.width;
    }
  },
  start: {
    get: function () {
      return this._timebar.start;
    }
  }
});

defineCompactProperty(p, [{ name: "project", event: "added" }, { name: "name", type: "string", startValue: "timeline" }]);

p.useSave = function (save) {
  this.clear();

  save = _.extend({
    timebar: {},
    tracks: []
  }, save);

  this._timebar.currTime = save.timebar.currTime;
  this._timebar.timescale = save.timebar.timescale;
  this._timebar.length = save.timebar.length;

  if ("easeMap" in save) this.easeMap.useSave(save.easeMap);
  if ("triggerMap" in save) this.triggerMap.useSave(save.triggerMap);

  save.tracks.forEach(function (trackData) {
    var TrackClass = am.trackTypes[trackData.type], track = new TrackClass(trackData.data, this);

    this.addTrack(track);
  }, this);

  _.invoke(this._tracks, "renderTime", this.currTime);

  this._refreshMagnetPoints();

  if (_.has(save, "currTrackIdx")) {
    this._tracks[save.currTrackIdx].select();
  }

  am.history.clear();
};

p.getSave = function () {
  var save = {
    timebar: {
      currTime: this._timebar.currTime,
      timescale: this._timebar.timescale,
      length: this._timebar.length },
    tracks: [],
    easeMap: this.easeMap.getSave(),
    triggerMap: this.triggerMap.getSave() };

  if (this._currTrack) {
    save.currTrackIdx = this._tracks.indexOf(this._currTrack);
  }

  this._tracks.forEach(function (track) {
    save.tracks.push({
      type: track.type,
      data: track.getSave()
    });
  });

  return save;
};

p.getScript = function () {
  var script, playerScripts = [];

  this._tracks.forEach(function (track) {
    playerScripts.push(track.getScript());
  });

  script = Mustache.render(mstScript, {
    trackPlayerGens: playerScripts.join(",\n"),
    triggerScript: this.triggerMap.getScript() });

  return script;
};

p.focus = function () {};

p.blur = function () {
  this.pause();
};

p.clear = function () {
  while (this._tracks.length) {
    this.removeTrack(this._tracks[0]);
  }
};

p.addTrack = function (track) {
  var _this = this;


  if (_.include(this._tracks, track)) return;

  am.history.save({
    undo: function () {
      return _this.removeTrack(track);
    },
    redo: function () {
      return _this.addTrack(track);
    },
    name: "add track" });

  this._tracks.push(track);

  track.parentTimeline = this;
  track.wake();

  this._mapTrackDatas.set(track, {
    deContOpt: createCont(track.deOptionLine, this._deOptionLineCont),
    deContKf: createCont(track.deKeyLine, this._deKeyLineCont) });

  this._onChangeTrackHeight(track);

  track.on("change.keys", this._onChangeTrackKeys, this);
  track.on("select", this._onSelectTrack, this);
  track.on("need.remove", this._onTrackNeedRemove, this);
  track.on("move", this._onMoveTrack, this);
  track.on("change.height", this._onChangeTrackHeight, this);

  function createCont(content, parent) {
    var de = document.createElement("div");
    de.style.width = "100%";
    de.style.height = track.height + "px";
    de.style.overflow = "hidden";
    de.appendChild(content);
    parent.appendChild(de);

    return de;
  }
};

p.removeTrack = function (track) {
  var _this2 = this;


  if (!_.include(this._tracks, track)) return;

  am.history.save({
    undo: function () {
      return _this2.addTrack(track);
    },
    redo: function () {
      return _this2.removeTrack(track);
    },
    name: "remove track" });

  track.sleep();
  track.parentTimeline = undefined;

  _.pull(this._tracks, track);

  var trackData = this._mapTrackDatas.get(track);
  $(trackData.deContOpt).remove();
  $(trackData.deContKf).remove();
  this._mapTrackDatas["delete"](track);

  track.off("select", this._onSelectTrack, this);
  track.off("change.keys", this._onChangeTrackKeys, this);
  track.off("need.remove", this._onTrackNeedRemove, this);
  track.off("move", this._onMoveTrack, this);
  track.off("change.height", this._onChangeTrackHeight, this);
};

p.moveTrack = function (track, way) {
  var idx = this._tracks.indexOf(track);

  this._tracks.splice(idx, 1);
  idx = Math.min(this._tracks.length, Math.max(0, idx + way));
  this._tracks.splice(idx, 0, track);

  this._refreshTrackOrdering();
};

p.play = function () {
  if (this._isPlaying) return;
  this._isPlaying = true;

  this._btnTogglePlay.setToggle(true);

  _.invoke(this._tracks, "play", this.currTime);

  this._playStartTimeStamp = performance.now();
  this._playStartCurrTime = this.currTime;
  this._animPlay();
};

p.pause = function () {
  if (!this._isPlaying) return;
  this._isPlaying = false;

  this._btnTogglePlay.setToggle(false);

  _.invoke(this._tracks, "pause");

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.screenXToTime = function (screenX) {
  return this._timebar.screenXToTime(screenX);
};

p.timeToRenderPos = function (time) {
  return (time + this.start) * this.timescale;
};

p.timeToScreenX = function (time) {
  return this._timebar.domElem.getBoundingClientRect().left + this.timeToRenderPos(time);
};







p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  var t = Math.round(performance.now() - this._playStartTimeStamp);
  this._timebar.currTime = (this._playStartCurrTime + t) % this._timebar.length;
};

p._onTimebarSeek = function () {
  this.pause();
};

p._onSelectTrack = function (track) {
  if (this._currTrack === track) return;

  if (this._currTrack) {
    this._currTrack.deselect();
  }

  this._currTrack = track;

  am.setCurrTrack(track);
};

p._onChangeTrackKeys = function () {
  this._refreshMagnetPoints();
};

p._onTrackNeedRemove = function (track) {
  this.removeTrack(track);
};

p._onMoveTrack = function (track, way) {
  this.moveTrack(track, way);
};

p._onChangeTime = function () {
  this._refreshPointerLine();

  this._refreshDeCurrTime();
};

p._onChangeTape = function () {
  // var left = (this._timebar.start * this.timescale);

  // this._deKeyLineCont.style.left = left + 'px';
  // this._deKeyLineCont.style.width = 'calc(100% + ' + (-left) + 'px)';

  this._refreshPointerLine();
};

p._onChangeTrackHeight = function (track) {
  var h = track.height, trackData = this._mapTrackDatas.get(track);

  trackData.deContOpt.style.height = h + "px";
  trackData.deContKf.style.height = h + "px";
};

p._onWindowResize = function () {
  this._refreshTimebarWidth();
};

p._onTogglePlayPause = function () {
  am.report({ evtName: "_onTogglePlayPause", value: 2 });

  if (this._isPlaying) {
    this.pause();
  } else {
    this.play();
  }
};

p._onSelectNewTrack = function (e) {
  var addTrack = function (type) {
    var TrackClass = am.trackTypes[type];

    this.addTrack(new TrackClass({}, this));
  }.bind(this);

  switch (e.detail.selection) {
    case "css":
      addTrack("css_track_type");
      break;

    default:
      am.dialogs.WIP.show();

  }
};

p._onStartEditCurrTime = function () {
  this._inpCurrTime.value = this.currTime;

  this._deCurrTime.style.display = "none";
  this._inpCurrTime.style.display = "block";

  this._inpCurrTime.focus();
};

p._onFinishEditCurrTime = function () {
  this._inpCurrTime.style.display = "none";
  this._deCurrTime.style.display = "block";
};

p._onChangeInpCurrTime = function () {
  this._timebar.currTime = this._inpCurrTime.value;
};








p._refreshTrackOrdering = function () {
  this._tracks.forEach(function (track) {
    var trackData = this._mapTrackDatas.get(track);

    this._deOptionLineCont.appendChild(trackData.deContOpt);
    this._deKeyLineCont.appendChild(trackData.deContKf);
  }, this);
};

p._refreshMagnetPoints = function () {
  var magnetPoints = [];

  this._tracks.forEach(function (track) {
    if (typeof track.getMagnetPoints === "function") {
      magnetPoints = magnetPoints.concat(track.getMagnetPoints());
    }
  });

  magnetPoints = _.uniq(magnetPoints);

  this._timebar.magnetPoints = magnetPoints;
};

p._refreshTimebarWidth = function () {
  this._timebar.width = this._deRight.offsetWidth;
};

p._refreshPointerLine = function () {
  var canvas = this._dePointerLine, ctx = this._dePointerLineCtx;

  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  var left = (this._timebar.start + this.currTime) * this.timescale;
  left = parseInt(left) + 0.5;

  ctx.strokeStyle = amgui.color.red;
  ctx.moveTo(left, 0);
  ctx.lineTo(left, canvas.height);
  ctx.stroke();

  // this._dePointerLine.style.transform = 'translateX(' + left + 'px)';
  // this._dePointerLine.style.visibility = left < 0 ? 'hidden' : '';
};

p._refreshDeCurrTime = function () {
  var time = this.currTime, min, sec, ms, str = "";

  min = ~ ~(time / 60000);
  time %= 60000;
  sec = ~ ~(time / 1000);
  time %= 1000;
  ms = ~ ~time;

  if (min) {
    str += min + ":";
    sec = ("00" + sec).substr(-2);
  }
  if (sec) {
    str += sec + ".";
    ms = ("000" + ms).substr(-3);
  }
  str += ms;
  this._deCurrTime.textContent = str;
};







p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.pointerEvents = "auto";

  this._deLeft = amgui.createDiv();
  this._deLeft.style.backgroundColor = amgui.color.bg0;
  this._deLeft.style.display = "flex";
  this._deLeft.style.flexDirection = "column";
  this._deLeft.style.width = "300px";
  this._deLeft.style.height = "100%";
  this.domElem.appendChild(this._deLeft);

  this._createSettingsHead();

  this._deDivider = amgui.createDiv();
  this._deDivider.style.backgroundColor = amgui.color.bg3;
  this._deDivider.style.width = "1px";
  this._deDivider.style.height = "100%";
  this.domElem.appendChild(this._deDivider);

  this._deRight = amgui.createDiv();
  this._deRight.style.display = "flex";
  this._deRight.style.flexDirection = "column";
  this._deRight.style.position = "relative";
  this._deRight.style.backgroundColor = amgui.color.bg0;
  this._deRight.style.flex = "1";
  this._deRight.style.height = "100%";
  this.domElem.appendChild(this._deRight);

  this._timebar.domElem.style.height = "23px";
  this._deRight.appendChild(this._timebar.domElem);

  //keeps the scroll bar and the scroll container(_deKeyLineCont2)
  this._deKeyLineCont3 = amgui.createDiv();
  this._deKeyLineCont3.style.position = "relative";
  this._deKeyLineCont3.style.display = "flex";
  this._deKeyLineCont3.style.flex = "1";
  this._deKeyLineCont3.style.height = "100%";
  this._deKeyLineCont3.style.width = "100%";
  this._deKeyLineCont3.style.overflow = "hidden";
  this._deRight.appendChild(this._deKeyLineCont3);

  this._deOptionLineCont2 = amgui.createDiv();
  this._deOptionLineCont2.style.position = "relative";
  this._deOptionLineCont2.style.flex = "1";
  this._deOptionLineCont2.style.width = "100%";
  this._deOptionLineCont2.style.height = "100%";
  this._deOptionLineCont2.style.overflow = "hidden";
  this._deLeft.appendChild(this._deOptionLineCont2);

  this._deKeyLineCont2 = amgui.createDiv();
  this._deKeyLineCont2.style.position = "relative";
  this._deKeyLineCont2.style.flex = "1";
  this._deKeyLineCont3.appendChild(this._deKeyLineCont2);

  //this container is moving with the timeline
  this._deKeyLineCont = amgui.createDiv();
  this._deKeyLineCont.style.position = "relative";
  this._deKeyLineCont.style.width = "100%";
  this._deKeyLineCont2.appendChild(this._deKeyLineCont);

  this._deOptionLineCont = amgui.createDiv();
  this._deOptionLineCont.style.position = "relative";
  this._deOptionLineCont2.appendChild(this._deOptionLineCont);

  this._deRange = amgui.createRange({
    height: "auto",
    parent: this._deKeyLineCont3,
    vertical: true
  });

  amgui.makeScrollable({
    deCont: [this._deOptionLineCont2, this._deKeyLineCont3],
    deTarget: [this._deOptionLineCont, this._deKeyLineCont],
    deRange: this._deRange
  });

  this._createDividerHandler();
};


p._createSettingsHead = function () {
  var _this3 = this;


  this._deSettingsHead = document.createElement("div");
  this._deSettingsHead.style.backgroundColor = "darkgreey";
  this._deSettingsHead.style.position = "relative";
  this._deSettingsHead.style.display = "flex";
  this._deSettingsHead.style.width = "100%";
  this._deSettingsHead.style.height = this._headerH + "px";
  this._deLeft.appendChild(this._deSettingsHead);
  amgui.createSeparator({ parent: this._deSettingsHead });

  this._deSettingsHead.appendChild(this.toolbar.domElem);

  this._btnNewTrack = amgui.createIconBtn({
    tooltip: "add new track",
    icon: "plus-squared",
    size: this._headerH,
    display: "inline-block" });
  this.toolbar.addIcon({ deIcon: this._btnNewTrack });

  amgui.bindDropdown({
    deTarget: this._btnNewTrack,
    deMenu: amgui.createDropdown({
      options: ["css", "js", "attribute", "media", "timeline", "three.js", "pixi.js", "easel.js", "kinetic.js", "raphael.js", "snap.js"],
      onSelect: this._onSelectNewTrack }) });


  this._btnEditTriggers = amgui.createIconBtn({
    tooltip: "set timeline triggers",
    icon: "gamepad",
    size: this._headerH,
    display: "inline-block",
    onClick: function () {
      return _this3.triggerMap.showEditor();
    } });
  this.toolbar.addIcon({
    deIcon: this._btnEditTriggers });


  this._btnTogglePlay = amgui.createToggleIconBtn({
    tooltip: "play/pause preview",
    iconOn: "pause",
    iconOff: "play",
    size: this._headerH,
    display: "inline-block",
    onClick: this._onTogglePlayPause
  });
  this.toolbar.addIcon({
    deIcon: this._btnTogglePlay,
    separator: "controlls" });

  this._deCurrTime = amgui.createLabel({
    text: "",
    parent: this._deSettingsHead
  });
  this._deCurrTime.style.flex = "1";
  this._deCurrTime.style.textAlign = "right";
  this._deCurrTime.style.fontSize = "12px";
  this._deCurrTime.style.marginRight = "2px";
  this._deCurrTime.style.color = amgui.color.bg3;
  this._deCurrTime.addEventListener("click", this._onStartEditCurrTime);

  this._inpCurrTime = amgui.createInput({
    type: "number",
    parent: this._deSettingsHead
  });
  this._inpCurrTime.style.display = "none";
  this._inpCurrTime.style.flex = "1";
  this._inpCurrTime.style.textAlign = "right";
  this._inpCurrTime.style.fontSize = "12px";
  this._inpCurrTime.style.marginRight = "2px";
  this._inpCurrTime.style.color = amgui.color.bg3;
  this._inpCurrTime.addEventListener("blur", this._onFinishEditCurrTime);
  this._inpCurrTime.addEventListener("change", this._onChangeInpCurrTime);
};

p._createDividerHandler = function () {
  this._deDividerHandler = document.createElement("div");
  this._deDividerHandler.style.top = this._headerH + "px";
  this._deDividerHandler.style.left = this._deLeft.style.width;
  this._deDividerHandler.style.width = "1px";
  this._deDividerHandler.style.position = "absolute";
  this._deDividerHandler.style.height = "calc(100% - " + this._headerH + "px)";
  this._deDividerHandler.style.transform = "translateX(1px) scaleX(3)";
  this._deDividerHandler.style.cursor = "ew-resize";
  this.domElem.appendChild(this._deDividerHandler);

  amgui.makeDraggable({
    deTarget: this._deDividerHandler,
    thisArg: this,

    onMove: function (md, mx) {
      var left = mx - this.domElem.getBoundingClientRect().left + "px";

      this._deLeft.style.width = left;
      this._deDividerHandler.style.left = left;

      this._refreshTimebarWidth();
    }
  });
};

p._createPointerLine = function () {
  this._dePointerLine = document.createElement("canvas");
  this._dePointerLine.style.top = this._headerH + "px";
  this._dePointerLine.style.left = "0px";
  this._dePointerLine.style.width = "100%";
  this._dePointerLine.style.height = "100%";
  this._dePointerLine.style.position = "absolute";
  this._dePointerLine.style.pointerEvents = "none";
  this._deRight.appendChild(this._dePointerLine);

  this._dePointerLineCtx = this._dePointerLine.getContext("2d");
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../toolbar":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\toolbar\\Toolbar.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./EaseMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\EaseMap.js","./InlineEaseEditor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\InlineEaseEditor.js","./Timebar":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timebar.js","./TriggerMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\TriggerMap.js","./script.timeline.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\script.timeline.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\TriggerMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Dialog = require("../utils/Dialog");
var OptionLine = require("../utils/OptionLine");
var amgui = require("../amgui");

var ACTIONS = [{
  method: "play",
  arguments: [{ type: "number" }, {}] }];

function TriggerMap() {
  EventEmitter.call(this);

  this._triggers = [];

  this._createEditDialog();
}

inherits(TriggerMap, EventEmitter);
var p = TriggerMap.prototype;
module.exports = TriggerMap;

p.getSave = function () {
  return _.cloneDeep(this._triggers);
};

p.useSave = function (save) {
  if (!save) throw Error;

  this._triggers = _.cloneDeep(this._triggers);

  this.emit("change");
};

p.getScript = function () {
  var ret = [];

  _.forEach(this._triggers, function (trigger) {
    var add, args = _.pluck(trigger.action.argument, "value").join(", "), action = "function () {tl." + trigger.action.method + "(" + args + ")}";

    if (trigger.type === "jQuery") {
      add = "$(" + trigger.targets + ").on";
    } else if (trigger.type === "Reveal.js") {
      add = "Reveal.addEventListener";
    }

    ret.push("" + add + "(" + trigger.events + ", " + action + ");");
  });

  return ret.join("\n");
};

p.showEditor = function () {
  this._editDialog.show();
};

p.addTrigger = function (trigger) {
  trigger = trigger || this._createTrigger();

  this._triggers.push(trigger);

  this.emit("change");

  return trigger;
};

p.removeTrigger = function (trigger) {
  var idx = this._triggers.indexOf(trigger);
  if (idx === -1) return;
  this.triggers.splice(idx, 1);

  this.emit("change");
};

p._createTrigger = function () {
  return {
    type: "jQuery",
    name: "myTrigger",
    events: ["click"],
    targets: ["#selector"],
    actions: [{ method: "play", arguments: [] }] };
};

p._createEditDialog = function () {
  var _this = this;


  var dialog = new Dialog({ title: "TriggerMap (WIP)" }).addButton("ok", "hide"), deCont = dialog.deContent, currTrigger;

  this._editDialog = dialog;

  var selectTrigger = function (trigger) {
    if (!trigger) return;

    currTrigger = trigger;
    optName.inputs.input.value = currTrigger.name;
    optType.inputs.input.value = currTrigger.events[0];
    optEvent.inputs.input.value = currTrigger.events[0];
    optSelector.inputs.input.value = currTrigger.selectors[0];
    optMethod.inputs.method.value = currTrigger.actions[0].method;
    optMethod.inputs.arguments.value = currTrigger.actions[0].arguments[0];
  };

  amgui.createBtn({
    parent: deCont,
    text: "new trigger",
    onClick: function () {
      return selectTrigger(_this.addTrigger());
    } });

  var refreshTriggerList = function () {
    return deTriggerList.setItems(_.pluck(_this._triggers, name));
  };
  var deTriggerList = amgui.createDropdown({
    parent: deCont,
    onSelect: function (e) {
      return selectTrigger(_.find(_this._triggers, { name: e.detail.selection }));
    } });
  refreshTriggerList();
  this.on("change", refreshTriggerList);

  var optName = new OptionLine({
    title: "name:",
    parent: deCont,
    inputs: [{
      placeholder: "the name of the trigger",
      defaultValue: "myTrigger",
      onChange: function (v) {
        return currTrigger.name = v;
      },
      type: "string",
      name: "input" }] });

  var optType = new OptionLine({
    title: "type:",
    parent: deCont,
    inputs: [{
      onChange: function (v) {
        return currTrigger.type = v;
      },
      type: "select",
      options: ["jQuery", "reveal.js"],
      name: "input" }] });

  var optEvent = new OptionLine({
    title: "event:",
    parent: deCont,
    inputs: [{
      placeholder: "the name of the event",
      defaultValue: "click",
      suggestions: "click,mousedown,mouseup,mouseover,mouseout,ready,mouseenter,mouseleave,change".split(","),
      onChange: function (v) {
        return currTrigger.events[0] = v;
      },
      type: "string",
      name: "input" }] });

  var optSelector = new OptionLine({
    title: "selector:",
    parent: deCont,
    inputs: [{
      placeholder: "the GSAP TimelineMax method name",
      defaultValue: "#selector",
      onChange: function (v) {
        return currTrigger.targets[0] = v;
      },
      type: "string",
      name: "input" }] });

  var optMethod = new OptionLine({
    title: "action:",
    parent: deCont,
    inputs: [{
      placeholder: "the GSAP TimelineMax method name",
      defaultValue: "play",
      suggestions: _.pluck(ACTIONS, "method"),
      onChange: function (v) {
        return currTrigger.actions[0].method = v;
      },
      type: "string",
      name: "method" }, {
      placeholder: "comma selected arguments",
      defaultValue: "0",
      onChange: function (v) {
        return currTrigger.actions[0].arguments[0] = v;
      },
      name: "arguments" }] });

  amgui.createBtn({
    parent: deCont,
    text: "remove trigger",
    onClick: function () {
      _this.removeTrigger(currTrigger);
    } });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\decorTimebarNavigator.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");


function decorTimebarNavigator(timebar) {
  var deNav, deColor, deLeftHand, deRightHand, dragMode;

  createBase();
  timebar.domElem.appendChild(deNav);

  amgui.makeDraggable({
    deTarget: deNav,
    onDown: function (e) {
      if (e.target === deLeftHand) dragMode = "start";else if (e.target === deRightHand) dragMode = "end";else dragMode = "move";

      return {
        start: timebar.start,
        visibleTime: timebar.visibleTime,
        timescale: timebar.timescale };
    },
    onMove: function (md, mx) {
      var scale = timebar.width / timebar.length, move = (mx - md.mx) / scale, start = md.start - move;

      if (dragMode === "move") {
        timebar.start = start;
      } else if (dragMode === "start") {
        timebar.start = start;
        timebar.visibleTime = md.visibleTime - move;
      } else if (dragMode === "end") {
        timebar.visibleTime = md.visibleTime + move;

        var mdPos = (md.start + timebar.currTime) * md.timescale;
        timebar.start = -((timebar.currTime * timebar.timescale) - mdPos) / timebar.timescale;
      }
    },
    onUp: function () {
      dragMode = undefined;
      onMLeave();
    },
    onEnter: function () {
      deColor.style.transform = "scaleY(1)";
      deColor.style.background = amgui.color.selected;
    },
    onLeave: onMLeave
  });

  timebar.on("changeTape", onChangeTape);


  function onChangeTape() {
    var scale = timebar.width / timebar.length;

    deNav.style.left = ((-timebar.start * scale) + timebar._startMargin) + "px";
    deNav.style.width = (timebar.visibleTime * scale) + "px";
  }

  function onMLeave() {
    if (!dragMode) {
      deColor.style.transform = "scaleY(0.4)";
      deColor.style.background = amgui.color.bg2;
    }
  }

  function createBase() {
    deNav = document.createElement("div");
    deNav.style.position = "absolute";
    deNav.style.top = "0px";
    deNav.style.height = "7px";
    deNav.style.cursor = "move";

    deColor = document.createElement("div");
    deColor.style.position = "absolute";
    deColor.style.top = "0px";
    deColor.style.left = "0px";
    deColor.style.width = "100%";
    deColor.style.height = "100%";
    deColor.style.transformOrigin = "center top";
    deNav.appendChild(deColor);

    deRightHand = createHandler("right");
    deLeftHand = createHandler("left");
    onMLeave();
  }

  function createHandler(side) {
    var de = document.createElement("div");
    de.style.position = "absolute";
    de.style[side] = "0px";
    de.style.top = "0px";
    de.style.height = "100%";
    de.style.width = "8%";
    de.style.minWidth = "1px";
    de.style.maxWidth = "7px";
    de.style.cursor = "ew-resize";
    deNav.appendChild(de);

    return de;
  }
}

module.exports = decorTimebarNavigator;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\script.timeline.mst":[function(require,module,exports){
module.exports = "(function () {\n    var trackPlayerGens = [{{{trackPlayerGens}}}];\n\n    var reg = {\n\n        create: function (inputs) {\n\n            var tl = new TimelineMax({paused: true});\n\n            trackPlayerGens.forEach(function (create) {\n\n                tl.add(create(inputs), 0);\n            });\n\n            return tl;\n        },\n    };\n\n    {{#triggerScript}}\n    (function () {\n\n        var tl = reg.create();\n\n        {{triggerScript}}\n    })\n    {{/triggerScript}}//\n\n    return reg;\n}())\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\toolbar\\Toolbar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function Toolbar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._height = opt.height || 24;
  this._icons = [];
  this._separators = {};

  this.domElem = document.createElement("div");
  this.domElem.style.position = "fixed";
  this.domElem.style.display = "flex";
  this.domElem.style.backgroundColor = opt.bgColor || amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.style.height = this._height + "px";

  this.addSeparator({ name: "first" });
  this.addSeparator({ name: "tools" });
  this.addSeparator({ name: "handler" });
  this.addSeparator({ name: "global" });
  this.addSeparator({ name: "rest" });
  this.addSeparator({ name: "controls", flex: 1 });
}

inherits(Toolbar, EventEmitter);
var p = Toolbar.prototype;
module.exports = Toolbar;



Object.defineProperties(p, {
  height: {
    get: function () {
      return this._height;
    }
  }
});


p.addIcon = function (opt) {
  var _this = this;


  if (_.isArray(opt)) {
    return opt.forEach(function (o) {
      return _this.addIcon(o);
    });
  }

  var deIcon;

  if (_.isElement(opt)) {
    deIcon = opt;
  } else if (_.isElement(opt.deIcon)) {
    deIcon = opt.deIcon;
  } else {
    deIcon = amgui.createIconBtn({
      size: this._height,
      icon: opt.icon,
      onClick: opt.onClick
    });
  }

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: deIcon,
      text: opt.tooltip,
      side: "bottom"
    });
  }

  deIcon.style.display = "inline-block";
  this.domElem.insertBefore(deIcon, this._separators[opt.separator || "rest"]);

  return deIcon;
};

p.removeIcon = function (deIcon) {
  deIcon.parentNode.removeChild(deIcon);
};

p.addSeparator = function (opt) {
  var de = document.createElement("span");
  this.domElem.appendChild(de);
  this._separators[opt.name] = de;

  if ("flex" in opt) {
    de.style.flex = opt.flex;
  }
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\tour\\Tour.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var CheckboxInput = require("../utils/CheckboxInput");

var cssAmgui = require("../assets/fontello/css/amgui.css");

function Tour() {
  EventEmitter.call(this);
}

inherits(Tour, EventEmitter);
var p = Tour.prototype;
module.exports = Tour;

p.init = function () {
  if (this._inited) return;
  this._inited = true;

  this._callRunningLoop = this._callRunningLoop.bind(this);

  this._steps = [];
  this._dePointers = [];
  this._deCheckboxes = [];

  this._createBase();
  am.workspace.fillTab("tour", this.domElem);

  this.prev = this.prev.bind(this);
  this.next = this.next.bind(this);
};

p.setup = function (data) {
  var _this = this;



  var createCheck = function (tooltip) {
    var cb = new CheckboxInput({
      parent: _this._deCheckboxCont,
      tooltip: tooltip });

    cb.domElem.style.display = "none";
    cb.domElem.style.width = "auto";

    return cb;
  };

  this.init();

  window.addEventListener("click", this._callRunningLoop);


  data.steps.forEach(function (step) {
    step.domElem = amgui.createDiv();
    step.domElem.innerHTML = step.content;
    step.checklist = step.checklist ? step.checklist.map(createCheck) : [];

    this._steps.push(step);
  }, this);

  this.goto(0);
};

p.next = function () {
  var idx = this._steps.indexOf(this._currStep) + 1;
  this.goto(idx);
};

p.prev = function () {
  var idx = this._steps.indexOf(this._currStep) - 1;
  this.goto(idx);
};

p.goto = function (idx) {
  idx = Math.max(0, Math.min(this._steps.length - 1, idx));

  this.removeAllPointer();

  if (this._currStep) {
    clearInterval(this._runningLoopSetI);

    if (typeof (this._currStep.onClose) === "function") {
      this._currStep.onClose(this);
    }
    this._deStepContent.removeChild(this._currStep.domElem);
    this._currStep.checklist.forEach(function (cb) {
      return cb.domElem.style.display = "none";
    });
  }

  this._currStep = this._steps[idx];

  this._deStepContent.appendChild(this._currStep.domElem);
  this._currStep.checklist.forEach(function (cb) {
    return cb.domElem.style.display = "inline-block";
  });

  if (typeof (this._currStep.onReady) === "function") {
    this._currStep.onReady(this);
  }

  if (typeof (this._currStep.runningLoop) === "function") {
    this._runningLoopSetI = setInterval(this._callRunningLoop, 312);
  }

  this._deState.textContent = (idx + 1) + "/" + this._steps.length + " " + (this._currStep.title || "");

  this._refreshChecklist();
};

p.checkIn = function (idx, step) {
  this._check(idx, step, true);
};

p.checkOut = function (idx, step) {
  this._check(idx, step, false);
};

p._check = function (idx, step, val) {
  step = step || this._currStep;
  if (!step) return;

  step.checklist[idx].value = !!val;

  this._refreshChecklist();
};

p.isChecked = function (idx, step) {
  step = step || this._currStep;
  if (!step) return;

  return step.checklist[idx].value;
};

p.addPointer = function (opt) {
  var dePointer = this._createTriangle();
  this._dePointers.push(dePointer);

  var x, y, r, brt = opt.deTarget.getBoundingClientRect();

  switch (opt.side) {
    case "right":
      x = brt.right;
      y = brt.top + brt.height / 2;
      r = 0;

    case "bottom":
      x = brt.left + brt.width / 2;
      y = brt.bottom;
      r = 90;

    case "left":
      x = brt.left;
      y = brt.top + brt.height / 2;
      r = 180;

    case "top":
    default:
      x = brt.left + brt.width / 2;
      y = brt.top;
      r = -90;
  }

  dePointer.style.left = x + "px";
  dePointer.style.top = y + "px";
  dePointer.rotate(r);

  return dePointer;
};

p.removePointer = function (dePointer) {
  var idx = this._dePointers.indexOf(dePointer);

  if (idx !== -1) {
    this._dePointers.splice(idx, 1);

    if (dePointer.parentNode) {
      dePointer.parentNode.removeChild(dePointer);
    }
  }
};

p.removeAllPointer = function () {
  while (this._dePointers.length) {
    this.removePointer(this._dePointers[0]);
  }
};

p._callRunningLoop = function () {
  if (this._currStep && this._currStep.runningLoop) {
    this._currStep.runningLoop(this);
  }
};





p._refreshChecklist = function () {
  if (!this._currStep) return;

  var allChecked = _.every(this._currStep.checklist, "value"), isLast = _.last(this._steps) === this._currStep;

  this._btnDone.style.visibility = allChecked && !isLast ? "" : "hidden";
};




p._createBase = function () {
  var _this2 = this;


  this.domElem = amgui.createDiv();
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";
  this.domElem.style.flexDirection = "column";
  this.domElem.style.background = amgui.color.bg0;

  this._deHead = amgui.createDiv();
  this._deHead.style.display = "flex";
  this._deHead.style.width = "100%";
  this._deHead.style.height = "23px";
  this.domElem.appendChild(this._deHead);

  this._deStepContScroll = amgui.createDiv();
  this._deStepContScroll.style.position = "relative";
  this._deStepContScroll.style.flex = "1";
  this.domElem.appendChild(this._deStepContScroll);

  this._srStepContScroll = this._deStepContScroll.createShadowRoot();

  this._deStepCont = amgui.createDiv();
  this._deStepCont.style.position = "absolute";
  this._deStepCont.style.width = "100%";
  this._srStepContScroll.appendChild(this._deStepCont);

  this._deStepContent = amgui.createDiv({
    parent: this._deStepCont });

  this._btnDone = amgui.createBtn({
    text: "next",
    color: amgui.color.bg0,
    background: amgui.color.green,
    parent: this._deStepCont,
    onClick: function () {
      return _this2.next();
    } });

  this._btnDone.style.float = "right";
  this._btnDone.style.marginRight = "2px";

  var style = document.createElement("style");
  style.innerHTML = cssAmgui;
  this._srStepContScroll.appendChild(style);


  this._scrollRange = amgui.createRange({
    parent: this._deStepContScroll,
    height: "100%",
    vertical: true
  });

  this._scrollRange.style.position = "absolute";
  this._scrollRange.style.top = "0px";
  this._scrollRange.style.right = "0px";

  amgui.makeScrollable({
    deCont: this._deStepContScroll,
    deTarget: this._deStepCont,
    deRange: this._scrollRange
  });

  this._deState = amgui.createLabel({
    parent: this._deHead });
  this._deState.style.flex = 1;

  this._deCheckboxCont = document.createElement("span");
  this._deHead.appendChild(this._deCheckboxCont);

  this._btnPrev = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-left",
    onClick: this.prev.bind(this)
  });

  this._btnNext = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-right",
    onClick: this.next.bind(this)
  });
};

p._createTriangle = function () {
  var size = 12;

  var de = amgui.createDiv();
  de.style.position = "absolute";
  de.style.pointerEvents = "none";
  am.deDialogCont.appendChild(de);

  var deTriangle = amgui.createDiv();
  deTriangle.style.position = "absolute";
  deTriangle.style.width = "0";
  deTriangle.style.height = "0";
  deTriangle.style.borderStyle = "solid";
  deTriangle.style.transformOrigin = "left center";
  deTriangle.style.borderWidth = size + "px " + (2 * size) + "px " + size + "px 0";
  deTriangle.style.borderColor = "transparent #ff000d transparent transparent";

  de.appendChild(deTriangle);


  de.rotate = function (r) {
    deTriangle.style.transform = "rotate(" + r + "deg)";
  };

  return de;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../assets/fontello/css/amgui.css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\css\\amgui.css","../utils/CheckboxInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Ease.js":[function(require,module,exports){
"use strict";

var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var BezierEasing = require("bezier-easing");
var defineCompactProperty = require("../utils/defineCompactProperty");
var dialogEaseOptions = require("./dialogEaseOptions");
var debugId = 0;
function Ease(opt) {
  EventEmitter.call(this);
  this._aaaDebugId = ++debugId;
  this._type = "bezier";
  this._points = [];
  this.points = [0, 0, 1, 1];
  this._easer;

  this.on("change.rough", this._refreshEaser, this);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Ease, EventEmitter);
var p = Ease.prototype;
module.exports = Ease;

Object.defineProperties(p, {
  type: {
    set: function () {},
    get: function () {
      return this._type;
    } },
  points: {
    set: function (v) {
      var p = this._points;

      if (p.length === v.length && p.every(function (p, idx) {
        return p === v[idx];
      })) {
        return;
      }

      p.length = 0;
      p.push.apply(this._points, v);

      this._refreshEaser();

      this.emit("change");
    },
    get: function () {
      return this._points;
    }
  }
});

defineCompactProperty(p, { name: "roughEase", type: "boolean", startValue: false, evtName: "change.rough.ease" });
defineCompactProperty(p, { name: "roughStrength", type: "float", startValue: 1, evtName: "change.rough.strength" });
defineCompactProperty(p, { name: "roughPoints", type: "int", startValue: 20, evtName: "change.rough.points" });
defineCompactProperty(p, { name: "roughClamp", type: "boolean", startValue: false, evtName: "change.rough.clamp" });
defineCompactProperty(p, { name: "roughRandomise", type: "boolean", startValue: true, evtName: "change.rough.randomise" });
defineCompactProperty(p, { name: "roughTaper", type: "string", startValue: "none", evtName: "change.rough.taper" });





p.getSave = function () {
  return {
    type: this.type,
    points: this.points,
    roughEase: this.roughEase,
    roughStrength: this.roughStrength,
    roughPoints: this.roughPoints,
    roughClamp: this.roughClamp,
    roughRandomise: this.roughRandomise,
    roughTaper: this.roughTaper };
};

p.useSave = function (save) {
  if (!save) return;

  if ("type" in save) this.type = save.type;
  if ("points" in save) this.points = save.points;
  if ("roughEase" in save) this.roughEase = save.roughEase;
  if ("roughStrength" in save) this.roughStrength = save.roughStrength;
  if ("roughPoints" in save) this.roughPoints = save.roughPoints;
  if ("roughClamp" in save) this.roughClamp = save.roughClamp;
  if ("roughRandomise" in save) this.roughRandomise = save.roughRandomise;
  if ("roughTaper" in save) this.roughTaper = save.roughTaper;
};

p.getRatio = function (p) {
  return this._easer.getRatio(p);
};

p.getEaser = function () {
  return this._easer;
};

p.getScript = function () {
  var base = "new Ease(BezierEasing(" + this.points.join() + "))";

  if (this.roughEase) {
    var roughOpt = {
      ease: "{{ease}}",
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper };
    roughOpt = JSON.stringify(roughOpt);
    //this is for avoid the quotes around the constructor call
    roughOpt = roughOpt.replace("\"{{ease}}\"", base);

    return "new RoughEase(" + roughOpt + ")";
  } else {
    return base;
  }
};

p.clone = function () {
  return new Ease(this);
};

p.match = function (ease) {
  return ease.type === this.type && ease.points[0] === this.points[0] && ease.points[1] === this.points[1] && ease.points[2] === this.points[2] && ease.points[3] === this.points[3] && ease.roughEase === this.roughEase && ease.roughStrength === this.roughStrength && ease.roughPoints === this.roughPoints && ease.roughClamp === this.roughClamp && ease.roughRandomise === this.roughRandomise && ease.roughTaper === this.roughTaper;
};


p.showOptionsDialog = function (opt) {
  var _this = this;
  if (opt === undefined) opt = {};


  dialogEaseOptions.show({
    ease: this,
    twinEases: opt.twinEases,
    on: {
      "change.roughEase": function (v) {
        return _this.roughEase = v;
      },
      "change.roughStrength": function (v) {
        return _this.roughStrength = v;
      },
      "change.roughPoints": function (v) {
        return _this.roughPoints = v;
      },
      "change.roughClamp": function (v) {
        return _this.roughClamp = v;
      },
      "change.roughRandomise": function (v) {
        return _this.roughRandomise = v;
      },
      "change.roughTaper": function (v) {
        return _this.roughTaper = v;
      } }
  });
};





p._refreshEaser = function () {
  this._easer = new GreenSockGlobals.Ease(BezierEasing.apply(null, _toArray(this._points)));

  if (this.roughEase) {
    this._easer = new RoughEase({
      template: this._easer,
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper });
  }
};

},{"../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./dialogEaseOptions":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogEaseOptions.js","bezier-easing":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bezier-easing\\index.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var Ease = require("./Ease");
var defineCompactProperty = require("../utils/defineCompactProperty");

function Key(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._createEase();

  this._isSelected = false;
  this._height = amgui.LINE_HEIGHT;


  this.looks = opt.looks;

  this._deDropdown = amgui.createDropdown({
    options: ["ease", "delete", "randomise"],
    onSelect: function (e) {
      return _this._onSelectDropdown(e);
    } });

  this._dragger = amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function (e) {
      if (!e.shiftKey && !e.ctrlKey) {
        _this.timeline.emit("deselectAllKeys");
      }

      //TODO shift+select (if an other key(s) selected in this line its should select thoes are between them)
      if (e.shiftKey || e.ctrlKey) {
        if (_this._isSelected) {
          _this.select();
        } else {
          _this.deselect();
        }
      } else {
        _this.select();
      }

      return {
        dragged: 0 };
    },
    onMove: function (md) {
      var diffTime = (md.dx / _this.timeline.timescale) - md.dragged;

      md.dragged += diffTime;

      _this.timeline.emit("translateSelectedKeys", diffTime);
    }
  });

  if (opt) {
    am.history.dontSave(function () {
      return _this.useSave(opt);
    });
  }
}

inherits(Key, EventEmitter);
var p = Key.prototype;
module.exports = Key;


defineCompactProperty(p, [{ name: "time", type: "int", history: true }, { name: "value", history: true }, { name: "parentKeyLine", event: "added" }]);

p.wake = function () {
  this.timeline.on("deselectAllKeys", this._onDeselectAllKeys, this);
  this.timeline.on("translateSelectedKeys", this._onTranslateSelectedKeys, this);
  // this.timeline.on('changeTime', this._onChangeTimelineTime, this);
};

p.sleep = function () {
  this.timeline.off("deselectAllKeys", this._onDeselectAllKeys, this);
  this.timeline.off("translateSelectedKeys", this._onTranslateSelectedKeys, this);
  // this.timeline.off('changeTime', this._onChangeTimelineTime, this);
};





p.getSave = function () {
  return {
    value: _.cloneDeep(this.value),
    time: this.time,
    ease: this.ease.getSave() };
};

p.useSave = function (save) {
  if ("value" in save) this.value = save.value;
  if ("time" in save) this.time = save.time;
  if ("ease" in save) this.ease.useSave(save.ease);
};

p.select = function () {
  if (this._isSelected) return;

  this._isSelected = true;

  this.emit("select");
};

p.deselect = function () {
  if (!this._isSelected) return;

  this._isSelected = false;

  this.emit("deselect");
};

p.grab = function (e) {
  this._dragger.emitDown(e);
};

p.remove = function () {
  this.emit("need.remove", this);
};

p.getPrevKey = function () {
  return this.parentKeyLine.getPrevKey(this.time);
};

p.getNextKey = function () {
  return this.parentKeyLine.getNextKey(this.time);
};

p.renderToLine = function (ctx) {
  var looks = this.looks || this.parentKeyLine.keyLooks, height = this._height, keyPos = parseInt(this.timeline.timeToRenderPos(this.time)) + 0.5, line = looks.line, circle = looks.circle, r = 2, isSelected = this._isSelected;

  this.renderEaseToLine(ctx);

  this.emit("prerender", ctx, this);

  if (line) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? amgui.color.selected : (line.color || "#eee");
    ctx.lineWidth = line.width || 1;
    ctx.moveTo(keyPos, 0);
    ctx.lineTo(keyPos, height);
    ctx.stroke();
    ctx.restore();
  }

  if (circle) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? amgui.color.selected : (circle.color || "#eee");
    ctx.fillStyle = isSelected ? amgui.color.selected : (circle.fillColor || "#eee");
    ctx.lineWidth = circle.width || 1;
    ctx.arc(keyPos, height / 2, "r" in circle ? circle.r : r, "arcStart" in circle ? circle.arcStart : 0, "arcEnd" in circle ? circle.arcEnd : 2 * Math.PI);
    ctx.fill();
    ctx.stroke();
    ctx.restore();
  }
  //TODO
  // if (this.timeline.currTime === this.time) {
  //     ctx.save();
  //     ctx.beginPath();
  //     ctx.strokeStyle = amgui.color.red;
  //     ctx.lineWidth = 1;
  //     ctx.arc(keyPos, height/2, 6, 0, 2 * Math.PI);
  //     ctx.stroke();
  //     ctx.restore();
  // }

  this.emit("postrender", ctx, this);
};

p.renderEaseToLine = function (ctx) {
  if (!this.ease) return;

  var looks = this.looks || this.parentKeyLine.keyLooks;

  var ease = this.ease, color = (looks.ease && looks.ease.color) || "rgba(225,225,225,.23)", height = this._height, keyPos = this.timeline.timeToRenderPos(this.time), prevKey = this.getPrevKey(), prevKeyPos = this.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), width = keyPos - prevKeyPos;

  if (width === 0) return;

  ctx.save();
  ctx.beginPath();
  ctx.strokeStyle = color;
  ctx.lineWidth = 1.2;
  ctx.moveTo(prevKeyPos, height);

  for (var i = 0; i < width; ++i) {
    ctx.lineTo(prevKeyPos + i, height - height * ease.getRatio(i / width));
  }

  ctx.stroke();
  ctx.restore();
};

p.getDropdown = function () {
  return this._deDropdown;
};








p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    this.ease.showOptionsDialog();
  } else if (selection === "delete") {
    this.remove();
  } else if (selection === "randomise") {
    am.dialogs.WIP.show();
  }
};

p._onChangeEase = function () {
  this.emit("change.ease");
};

p._onDeselectAllKeys = function () {
  this.deselect();
};

p._onTranslateSelectedKeys = function (offset) {
  if (this._isSelected) {
    this.time += offset;
  }
};

p._onChangeTimelineTime = function () {
  var isInTime = this.timeline.currTime === this.time;

  if (isInTime !== this._isInTime) {
    this.emit("need.render");
  }
};








p._createEase = function () {
  this.ease = new Ease();
  this.ease.on("change", this._onChangeEase, this);
};







p.dispose = function () {
  this._deDropdown.removeEventListener("select", this._onSelectDropdown);
  this.timeline.off("deselectAllKeys", this._onDeselectAllKeys, this);
  this.timeline.off("translateSelectedKeys", this._onTranslateSelectedKey, this);
  this.timeline.off("changeTime", this._onChangeTimelineTime, this);

  if (this._deDropdown.parentNode) this._deDropdown.parentNode.removeChild(this._deDropdown);
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Ease":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Ease.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyGroup.js":[function(require,module,exports){
"use strict";

var Key = require("./Key");
var inherits = require("inherits");
var defineCompactProperty = require("../utils/defineCompactProperty");

function KeyGroup(opt) {
  opt = opt || {};

  this._subkeys = [];

  Key.apply(this, arguments);
}

inherits(KeyGroup, Key);
var p = KeyGroup.prototype;
module.exports = KeyGroup;



//overwrite listening for timelne:deselectAllKeys & translateSelectedKeys event
p.wake = function () {};

p.sleep = function () {};





Object.defineProperties(p, {
  ease: {
    set: function (ease) {
      this._subkeys.forEach(function (key) {
        key.ease.useSave(ease.getSave());
      });
    }
  }
});

defineCompactProperty(p, [{ name: "time", type: "int", history: false }, { name: "value", history: false }]);






p.getSave = function () {
  return {};
};

p.select = function () {
  this._subkeys.forEach(function (key) {
    key.select();
  });

  this._refreshSelected();
};

p.deselect = function () {
  this._subkeys.forEach(function (key) {
    key.deselect();
  });

  this._refreshSelected();
};

p.setSubkeys = function (newSubkeys) {
  var _this = this;


  this._subkeys.length = 0;

  newSubkeys.forEach(function (key) {
    _this._subkeys.push(key);
    key.on(["need.render", "change.ease"], _this._onSubkeyNeedRender, _this); //TODO use emitter.forward() instead
  });
  this._subkeys.push.apply(this._subkeys, newSubkeys);

  this._refreshSelected();
};

p.removeSubkey = function (key) {
  if (!_.include(this._subkeys, key)) return;

  _.pull(this._subkeys, key);

  key.off(["need.render", "change.ease"], this._onSubkeyNeedRender, this);
};

p.remove = function () {
  this._subkeys.slice().forEach(function (key) {
    key.remove();
  });
};

p.renderEaseToLine = function (ctx) {
  this._subkeys.forEach(function (key) {
    return key.renderEaseToLine(ctx);
  });
};

p.getEases = function () {
  var ret = [];

  this._subkeys.forEach(function (key) {
    if (key instanceof KeyGroup) {
      ret.push.apply(ret, key.getEases());
    } else {
      ret.push(key.ease);
    }
  });

  return ret;
};




p._onSubkeyNeedRender = function () {
  this.emit("need.render");
};

p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    var eases = this.getEases(), ease = eases.splice(0, 1)[0];

    if (ease) {
      ease.showOptionsDialog({ twinEases: eases });
    }
  } else if (selection === "delete") {
    this.remove();
  }
};

p._onChangeEase = function (ease) {
  this.ease = ease;
};







p._refreshSelected = function () {
  var selected = this._subkeys.every(function (key) {
    return key._isSelected;
  });

  if (selected !== this._isSelected) {
    this._isSelected = selected;

    this.emit(this._isSelected ? "select" : "deselect");
  }
};





p._createEase = function () {};





p.dispose = function () {};

},{"../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var defineCompactProperty = require("../utils/defineCompactProperty");

function KeyLine(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._keys = [];
  this._height = amgui.LINE_HEIGHT;
  this._hidden = false;

  this.keyLooks = {
    line: {
      color: "#eee"
    },
    circle: {}
  };

  this._onDblClick = this._onDblClick.bind(this);
  this._onMouseDown = this._onMouseDown.bind(this);

  this._render = amgui.delayWithRAF(this._render, this);

  this._createDomElem();

  var dropdownBinding = amgui.bindDropdown({
    deTarget: this._canvas,
    asContextMenu: true,
    onOpening: function (e) {
      var key = this.getKeyUnderPos(e.x), dropdown = key && key.getDropdown();

      if (dropdown) {
        dropdownBinding.setDropdown(dropdown);
      } else {
        return false;
      }
    }.bind(this) });

  amgui.callOnAdded(this.domElem, function () {
    return _this._render();
  });
}

inherits(KeyLine, EventEmitter);
var p = KeyLine.prototype;
module.exports = KeyLine;


p.wake = function () {
  this.timeline.on(["changeTape"], this._render, this);

  _.invoke(this._keys, "wake");

  this._render();
};

p.sleep = function () {
  this.timeline.off(["changeTape"], this._render, this);

  _.invoke(this._keys, "sleep");
};




Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  },
  hidden: {
    set: function (v) {
      v = !!v;

      if (v === this._hidden) return;

      this._hidden = v;

      this.domElem.style.display = v ? "none" : "";
    },
    get: function () {
      return this._hidden;
    }
  } });



defineCompactProperty(p, [{ name: "bgHighlight", type: "boolean", onChange: function (v) {
    this._canvas.style.backgroundColor = v ? amgui.color.bg1 : amgui.color.bg0;
  } }]);



p.addKey = function (key) {
  var _this2 = this;


  this._keys.push(key);
  key.parentKeyLine = this;
  key.wake();

  am.history.save({
    undo: function () {
      return _this2.removeKey(key);
    },
    redo: function () {
      return _this2.addKey(key);
    },
    name: "add key" });

  key.on(["change.value", "change.time"], this._onChangeKeyValue, this);
  key.on(["need.render", "select", "deselect", "change.time", "change.ease"], this._onKeyNeedRender, this);
  key.on("need.remove", this._onKeyNeedRemove, this);

  this._render();
  this.emit("change.keys");
};

p.removeKey = function (key) {
  var _this3 = this;


  if (!_.include(this._keys, key)) return false;

  _.pull(this._keys, key);
  key.sleep();
  key.parentKeyLine = undefined;

  am.history.save({
    undo: function () {
      return _this3.addKey(key);
    },
    redo: function () {
      return _this3.removeKey(key);
    },
    name: "remove key" });

  key.off(["change.value", "change.time"], this._onChangeKeyValue, this);
  key.off(["need.render", "select", "deselect", "change.time", "change.ease"], this._onKeyNeedRender, this);
  key.off("need.remove", this._onKeyNeedRemove, this);

  this._render();
  this.emit("change.keys");

  return true;
};

p.forEachKeys = function (fn, thisArg) {
  this._keys.forEach(fn, thisArg);
};

p.getKeyByTime = function (time) {
  return this._keys.find(function (key) {
    return key.time === time;
  });
};

p.getPrevKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time < time && (!retKey || retKey.time < key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getNextKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time > time && (!retKey || retKey.time > key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getClosestKey = function (time) {
  var retKey, retDist;

  this._keys.forEach(function (key) {
    var dist = Math.abs(time - key.time);

    if (!retKey || retDist > dist) {
      retDist = dist;
      retKey = key;
    }
  });

  return retKey;
};

p.getKeyUnderPos = function (x) {
  var time = this.timeline.screenXToTime(x), key = this.getClosestKey(time);

  if (key && (Math.abs(time - key.time) * this.timeline.timescale) < 4) {
    return key;
  }
};

p.getKeyTimes = function () {
  return _.pluck(this._keys, "time");
};









p._render = function () {
  if (this._skipRender || this.hidden) return;

  var canvas = this._canvas, ctx = this._ctx;

  canvas.width = this.timeline.width;
  canvas.height = this._height;

  _.sortBy(this._keys, "time").forEach(function (key) {
    return key.renderToLine(ctx);
  });
};








p._onChangeKeyValue = function () {
  this.emit("change.keys");
};

p._onKeyNeedRender = function () {
  this._render();
};

p._onKeyNeedRemove = function (key) {
  this.removeKey(key);
};

p._onDblClick = function (e) {
  var time = this.timeline.screenXToTime(e.screenX), key = this.getNextKey(time);

  if (key) {
    this.timeline.inlineEaseEditor.show({ key: key });
  }
};

p._onMouseDown = function (e) {
  var key = this.getKeyUnderPos(e.screenX);

  if (key) {
    key.grab(e);
  }
};












p._createDomElem = function createKeyline() {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.position = "relative";
  this.domElem.setAttribute("debug-keyline", 1);
  this.domElem.style.overflow = "hidden";


  //TODO remove _deLine if it's doesn't needed;
  this._deLine = document.createElement("div");
  this._deLine.style.position = "relative";
  this._deLine.style.width = "100%";
  this._deLine.style.height = this._height + "px";
  this.domElem.appendChild(this._deLine);

  this._canvas = document.createElement("canvas");
  this._canvas.style.position = "absolute";
  this._deLine.appendChild(this._canvas);
  this._ctx = this._canvas.getContext("2d");

  amgui.createSeparator({ parent: this._deLine });

  this._canvas.addEventListener("dblclick", this._onDblClick);
  this._canvas.addEventListener("mousedown", this._onMouseDown);
};

p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLineGroup.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var KeyLine = require("./KeyLine");
var KeyGroup = require("./KeyGroup");
var amgui = require("../amgui");

function KeyLineGroup() {
  KeyLine.apply(this, arguments);

  this._keyLines = [];

  this._refreshHeadKeyline = amgui.delayWithRAF(this._refreshHeadKeyline, this);

  this._createSubcont();
}

inherits(KeyLineGroup, KeyLine);
var p = KeyLineGroup.prototype;
module.exports = KeyLineGroup;








Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  }
});




p.addKey = function (key) {
  var _this = this;


  if (!(key instanceof KeyGroup)) throw Error;

  am.history.dontSave(function () {
    return KeyLine.prototype.addKey.call(_this, key);
  });
};


p.removeKey = function (key) {
  var _this2 = this;


  am.history.dontSave(function () {
    return KeyLine.prototype.removeKey.call(_this2, key);
  });
};


p.addKeyLine = function (keyLine) {
  if (this._keyLines.indexOf(keyLine) !== -1) {
    return;
  }

  keyLine.on("change.keys", this._onChangeKeyLineKeys, this);

  this._keyLines.push(keyLine);

  this._deSubcont.appendChild(keyLine.domElem);

  this._refreshHeadKeyline();
};

p.removeKeyline = function (keyLine) {
  if (!_.include(this._keyLines, keyLine)) return;

  keyLine.off("change.keys", this._onChangeKeyLineKeys, this);

  _.pull(this._keyLines, keyLine);

  if (keyLine.domElem.parentNode === this._deSubcont) {
    this._deSubcont.removeChild(keyLine.domElem);
  }

  this._refreshHeadKeyline();
};










p._onChangeKeyLineKeys = function () {
  this._refreshHeadKeyline();

  this.emit("change.keys");
};

p._onDblClick = function (e) {
  var time = this.timeline.screenXToTime(e.screenX), key = this.getNextKey(time), eases = key && key.getEases();


  if (key) {
    this.timeline.inlineEaseEditor.show({ key: key, eases: eases });
  }


  // function collectEases(key) {
  //
  //     key._subkeys.forEach(subKey => {
  //
  //         if (subKey instanceof KeyGroup) {
  //
  //             collectEases(subKey);
  //         }
  //         else {
  //             eases.push(subKey.ease);
  //         }
  //     });
  // }
};






p._refreshHeadKeyline = function () {
  this._skipRender = true;

  var times = [], keysOnTimes = [];

  this._keyLines.forEach(function (keyLine) {
    if (keyLine.hidden) return;

    keyLine.forEachKeys(function (key) {
      var tidx = times.indexOf(key.time);

      if (tidx === -1) {
        times.push(key.time);
        keysOnTimes.push([]);
        tidx = times.length - 1;
      }

      keysOnTimes[tidx].push(key);
    }, this);
  }, this);


  while (times.length < this._keys.length) {
    this.removeKey(this._keys[this._keys.length - 1]);
  }

  while (times.length > this._keys.length) {
    this.addKey(new KeyGroup({}, this.timeline));
  }


  times.forEach(function (time, idx) {
    var key = this._keys[idx];

    key.time = time;

    key.setSubkeys(keysOnTimes[idx]);
  }, this);

  this._skipRender = false;
  this._render();
};




p._createSubcont = function () {
  this._deSubcont = document.createElement("div");
  this._deSubcont.style.width = "100%";
  this.domElem.appendChild(this._deSubcont);
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./KeyGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyGroup.js","./KeyLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var defineCompactProperty = require("../utils/defineCompactProperty");
var OptionLine = require("../utils/OptionLine");
var Key = require("./Key");
var KeyLine = require("./KeyLine");
var amgui = require("../amgui");

function Param(opt, timeline) {
  var _this = this;
  if (opt === undefined) opt = {};


  EventEmitter.call(this);

  this.timeline = timeline;

  this._lineH = amgui.LINE_HEIGHT;
  this._inputs = [];
  this._defaultValue = opt.defaultValue || 0;

  this._onChangeInput = this._onChangeInput.bind(this);
  this._onClickTgglKey = this._onClickTgglKey.bind(this);
  this._onClickStepPrevKey = this._onClickStepPrevKey.bind(this);
  this._onClickStepNextKey = this._onClickStepNextKey.bind(this);

  this._createKeyline(opt.keyLine);
  this._createOptions(opt.optionLine);

  this.keyLine.parentParam = this;

  this.deOptionLine = this.optionLine.domElem;
  this.deKeyLine = this.keyLine.domElem;

  this.keyLine.on("change.keys", this._onChangeKeyLineKeys, this);

  //hack!
  $([this.optionLine.domElem, this.keyLine.domElem]).on("mouseenter", function () {
    _this.optionLine.bgHighlight = true;
    _this.keyLine.bgHighlight = true;
  }).on("mouseleave", function () {
    _this.optionLine.bgHighlight = false;
    _this.keyLine.bgHighlight = false;
  });

  this.setMaxListeners(1234);


  this.useSave(opt);
}

inherits(Param, EventEmitter);
var p = Param.prototype;
module.exports = Param;

p.wake = function () {
  this.timeline.on("changeTime", this._onChangeTime, this);

  this.keyLine.wake();

  this._onChangeTime();
};

p.sleep = function () {
  this.timeline.off("changeTime", this._onChangeTime, this);

  this.keyLine.sleep();
};







Object.defineProperties(p, {
  height: {
    get: function () {
      return this.hidden ? 0 : this._lineH;
    }
  }
});

defineCompactProperty(p, [{ name: "name", type: "string" }, { name: "title", type: "string", onChange: function (v) {
    this.optionLine.title = v;
  } }, { name: "hidden", type: "boolean", startValue: false, onChange: function (v) {
    this.keyLine.hidden = v;
    this.optionLine.hidden = v;
  } }, { name: "static", type: "boolean" }]);



p.getSave = function () {
  var save = {
    name: this.name,
    title: this.title,
    hidden: this.hidden,
    "static": this["static"],
    keys: [] };

  this.keyLine.forEachKeys(function (key) {
    save.keys.push(key.getSave());
  });

  return save;
};

p.useSave = function (save) {
  this.name = save.name;
  this.title = save.title || save.name;
  this.hidden = save.hidden;
  this["static"] = save["static"];

  if (save.keys) {
    save.keys.forEach(this.addKey, this);
  }
};

p.getScriptKeys = function (opt) {
  if (opt === undefined) opt = {};


  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var k = {
      time: key.time,
      options: {
        ease: opt.runnable ? key.ease.getEaser() : key.ease.getScript() }
    };
    k.options[this.name] = key.value;
    keys.push(k);
  }, this);

  return _.sortBy(keys, "time");
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = this.timeline.currTime;
  }

  var ret, before, after, same;

  this.keyLine.forEachKeys(function (key) {
    if (key.time === time) {
      same = key;
    }

    if (key.time < time && (!before || before.time < key.time)) {
      before = key;
    }

    if (key.time > time && (!after || after.time > key.time)) {
      after = key;
    }
  });

  if (same) {
    ret = same.value;
  } else {
    if (after && before) {
      var p = (time - before.time) / (after.time - before.time), av = after.value, bv = before.value;

      p = after.ease.getRatio(p);

      ret = createCalc(av, bv, p);
    } else if (before) {
      ret = before.value;
    } else if (after) {
      ret = after.value;
    }
  }

  return ret === undefined ? this._defaultValue : ret;




  //TODO dont think is it's needed anymore
  function createCalc(av, bv, p) {
    if (!isNaN(av) && !isNaN(bv)) {
      return parseFloat(bv) + ((av - bv) * p);
    }

    var aUnit = getUnit(av);
    var bUnit = getUnit(bv);

    if (aUnit === bUnit) {
      av = parseFloat(av);
      bv = parseFloat(bv);

      return (bv + ((av - bv) * p)) + aUnit;
    }

    var avs = _.compact(av.split(" ")), bvs = _.compact(bv.split(" ")), avl = avs.length, bvl = bvs.length, ret = [];

    if (avl !== bvl) {
      if (avl < bvl) {
        avs = avs.concat(bvs.slice(avl));
      } else {
        bvs = bvs.concat(avs.slice(bvl));
      }
    }

    avs.forEach(function (a, idx) {
      ret.push(calc(a, bvs[idx]));
    });

    return ret.join(" ");

    function calc(a, b) {
      return "calc(" + b + " + (" + a + " - " + b + ")*" + p + ")";
    }

    function getUnit(v) {
      var m = /([a-z%]+)$/.exec(v);

      return m && m[1];
    }
  }
};

p.addKey = function (opt) {
  this.timeline.pause();

  if (!_.has(opt, "time")) {
    opt.time = this.timeline.currTime;
  }

  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      key.value = opt.value;
    }
  } else {
    key = new Key(opt, this.timeline);
    key.value = "value" in opt ? opt.value : this.getValue(opt.time);

    this.keyLine.addKey(key);

    this.emit("addKey", key, this);
  }

  this._refreshInputs();

  return key;
};

p.removeKey = function (key) {
  if (!this.keyLine.removeKey(key)) {
    return;
  }
};

p.getKey = function (time) {
  return this.keyLine.getKeyByTime(time);
};

p.getPrevKey = function (time) {
  return this.keyLine.getPrevKey(time);
};

p.getNextKey = function (time) {
  return this.keyLine.getNextKey(time);
};

p.gotoPrevKey = function (time) {
  if (time === undefined) time = this.timeline.currTime;

  var key = this.getPrevKey(time);

  if (key) {
    this.timeline.currTime = key.time;
  }
};

p.gotoNextKey = function (time) {
  if (time === undefined) time = this.timeline.currTime;

  var key = this.getNextKey(time);

  if (key) {
    this.timeline.currTime = key.time;
  }
};

p.getKeyTimes = function () {
  return this.keyLine.getKeyTimes();
};

p.toggleKey = function () {
  var key = this.getKey(this.timeline.currTime);

  if (key) {
    this.removeKey(key);
  } else {
    this.addKey({ time: this.timeline.currTime });
  }
};

p.isValid = function () {
  return this.keyLine.keyCount !== 0;
};

p.attachInput = function (input) {
  this.detachInput(input);

  input.on("change", this._onChangeInput);

  this._inputs.push(input);
};

p.detachInput = function (input) {
  var idx = this._inputs.indexOf(input);

  if (idx === -1) {
    return;
  }

  input.removeListener("change", this._onChangeInput);

  this._inputs.splice(idx, 1);
};

p._isKeySet = function (time) {
  return !!this.getKey(time);
};








p._onChangeInput = function (value) {
  var oldValue = this.getValue();

  if (String(value) === String(oldValue)) {
    return;
  }

  this.addKey({
    time: this.timeline.currTime,
    value: value
  });
};

p._onChangeKeyLineKeys = function () {
  this._refreshTgglKey();
  this.emit("change.keys");
};

p._onChangeTime = function () {
  this._refreshInputs();
  this._refreshTgglKey();
};

p._onClickTgglKey = function () {
  this.toggleKey();
};

p._onClickStepPrevKey = function () {
  this.gotoPrevKey();
};

p._onClickStepNextKey = function () {
  this.gotoNextKey();
};









p._refreshInputs = function () {
  if (this.getValue() !== undefined) {
    this._inputs.forEach(function (input) {
      //get the value again, because it can change over the iteration
      input.value = this.getValue();
    }, this);
  }
};

p._refreshTgglKey = function () {
  var time = this.timeline.currTime;

  this.optionLine.buttons.key.setHighlight(this._isKeySet(time));
  this.optionLine.buttons.key.setSteppers(!!this.getPrevKey(time), !!this.getNextKey(time));
};






p._createOptions = function (opt) {
  var _this2 = this;


  this.optionLine = new OptionLine(_.assign({
    keepSpaceForTgglChildren: true,
    contextMenuOptions: [{ text: "move up", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "move down", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "delete", onSelect: function () {
        return _this2.emit("need.remove", _this2);
      } }],
    title: {
      text: this.name },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    inputs: [{
      type: "unit",
      units: [],
      name: "input"
    }],
    indent: 0 }, opt));

  if (this.optionLine.inputs.input) {
    this.attachInput(this.optionLine.inputs.input);
  }
};

p._createKeyline = function () {
  this.keyLine = new KeyLine({}, this.timeline);
};






p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","./KeyLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js":[function(require,module,exports){
"use strict";

var Param = require("./Param");
var ParamGroup = require("./ParamGroup");

function ParamFactory(opt, timeline) {
  this.timeline = timeline;

  this.groups = {};
}

module.exports = ParamFactory;
var p = ParamFactory.prototype;


p.create = function (opt) {
  if (opt === undefined) opt = {};


  if (!_.has(opt, "title")) opt.title = opt.name;

  if (opt.children || opt.isGroup) {
    return this.createGroup(opt);
  }

  if (!opt.dontBuildFromRoot) {
    var rpgName = this.getRootParamGroupName(opt.name);

    if (rpgName) {
      return this.createGroup({ name: rpgName });
    }
  }

  return this._assembleParam(opt);
};

p.createGroup = function (opt) {
  var _this = this;


  opt.paramFactory = this;

  if (!opt.path && !opt.name) throw Error;

  opt.path = opt.path || [opt.name];
  opt.name = opt.name || _.last(opt.path);

  var children = this.getGroupMemberNames(opt.path);
  opt["static"] = _.has(opt, "static") ? opt["static"] : children.length !== 0;

  var group = this._assembleGroup(opt);

  if (children.length) {
    children.forEach(function (childName) {
      if (group.getParam(childName)) return;

      var child = _this.create({
        "static": true,
        name: childName,
        path: opt.path.concat(childName),
        dontBuildFromRoot: true });

      group.addParam(child);
    });
  }

  return group;
};

p._assembleParam = function (opt) {
  //for overwriting
  return new Param(opt, this.timeline);
};

p._assembleGroup = function (opt) {
  //for overwriting
  return new ParamGroup(opt, this.timeline);
};

p.getRootParamGroupName = function (paramName) {
  var _this2 = this;


  return Object.keys(this.groups).find(function (rootKey) {
    return search(_this2.groups[rootKey], rootKey);
  });

  function search(group, groupName) {
    if (groupName === paramName) {
      return true;
    } else if (_.isArray(group)) {
      if (group.indexOf(paramName) !== -1) {
        return true;
      }
    } else {
      for (var key in group) {
        if (search(group[key], key)) {
          return true;
        }
      }
    }
  }
};

p.getGroupMemberNames = function (path) {
  var group = this.groups;

  path = path.slice();

  while (path.length) {
    group = group[path.shift()];
  }

  if (_.isPlainObject(group)) group = Object.keys(group);

  return group || [];
};

p.ifit = function (str) {
  var rx = new RegExp("(^|,)" + str + "(,|$)");

  var ret = {
    is: function (cases, cb) {
      if (cases.match(rx)) {
        cb();
      }

      return ret;
    } };

  return ret;
};

},{"./Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","./ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js":[function(require,module,exports){
"use strict";

var _slice = Array.prototype.slice;
var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var inherits = require("inherits");
var OptionLine = require("../utils/OptionLine");
var KeyLineGroup = require("./KeyLineGroup");
var Param = require("./Param");

function ParamGroup(opt) {
  var _this = this;
  if (opt === undefined) opt = {};


  this.paramFactory = opt.paramFactory;

  this._params = [];
  this._merged = false;
  this._collapsed = false;

  this.borrowChildInputsOnCollapse = opt.borrowChildInputsOnCollapse;

  Param.apply(this, arguments);

  this.keyLine.keyLooks.circle = undefined;


  this._refreshHeights();

  this.on("change.hidden", function () {
    return _this._refreshHeights();
  });
}

inherits(ParamGroup, Param);
var p = ParamGroup.prototype;
module.exports = ParamGroup;


p.wake = function () {
  Param.prototype.wake.call(this);

  _.invoke(this._params, "wake");
};

p.sleep = function () {
  Param.prototype.sleep.call(this);

  _.invoke(this._params, "sleep");
};



Object.defineProperties(p, {
  height: {
    get: function () {
      var ret = this.hidden ? 0 : this._lineH;

      if (!this.collapsed) {
        this._params.forEach(function (param) {
          return ret += param.height;
        });
      }

      return ret;
    }
  },
  merged: {
    set: function (v) {
      v = !!v;
      if (v === this._merged) return;

      this._merged = v;

      this.optionLine.buttons.tgglMerge.setToggle(v);
      this.optionLine.buttons.tgglChildren.inactive = v;
      this.keyLine.keyLooks.circle = v ? {} : undefined;
      this.keyLine._render(); //TODO: do this keyLooks thing somehow better
      this.collapsed = v;

      if (v) this._makeKeyLinesSymmetric();
    },
    get: function () {
      return this._merged;
    }
  },
  collapsed: {
    set: function (v) {
      v = !!v;
      if (v === this._collapsed) return;

      this._collapsed = v;

      this.optionLine.buttons.tgglChildren.setToggle(!v);
      this.emit("change.height", this);
      this._refreshHeights();

      if (this.borrowChildInputsOnCollapse) {
        if (v) {
          this.optionLine.borrowChildInputs();
        } else {
          this.optionLine.returnChildInputs();
        }
      }
    },
    get: function () {
      return this._collapsed;
    }
  }
});


p.getSave = function () {
  var save = Param.prototype.getSave.call(this);
  delete save.keys;

  save.merged = this.merged;
  save.collapsed = this.collapsed;
  save.children = this._params.map(function (p) {
    return p.getSave();
  });

  return save;
};

p.useSave = function (save) {
  var _this2 = this;


  Param.prototype.useSave.call(this, save);

  if ("collapsed" in save) this.collapsed = save.collapsed;
  if ("merged" in save) this.merged = save.merged;
  if ("children" in save) save.children.forEach(function (childOpt) {
    childOpt.dontBuildFromRoot = true;
    _this2.addParam(childOpt);
  });
};

p.addParam = function (param) {
  var _this3 = this;


  if (param === this) throw Error;

  if (!(param instanceof Param)) {
    param = this.paramFactory.create(param);
  }

  if (param.parentGroup) {
    param.parentGroup.removeParam(param);
  }
  param.parentGroup = this;

  am.history.save({
    undo: function () {
      return _this3.removeParam(param);
    },
    redo: function () {
      return _this3.addParam(param);
    },
    name: "add param " + param.name });

  this._params.push(param);
  this.optionLine.addOptionLine(param.optionLine);
  this.keyLine.addKeyLine(param.keyLine);
  param.wake();

  param.optionLine.indent = this.optionLine.indent + 1;

  param.on("change.keys", function () {
    var args = _slice.call(arguments);

    return _this3.emit.apply(_this3, ["change.keys"].concat(_toArray(args)));
  }); //TODO param.forward('change.keys', this);
  param.on("change.height", this._onChangeSubparamHeight, this);
  param.on("addKey", this._onAddKeySubparam, this);
  param.on("need.remove", this._onSubparamNeedRemove, this);

  if (param.name in this.optionLine.inputs) {
    param.attachInput(this.optionLine.inputs[param.name]);
  }

  this.emit("addParam", param, this);
  this.emit("change.structure");
  this.emit("change.height");
  this._refreshHeights();

  return param;
};

p.removeParam = function (param) {
  var _this4 = this;


  if (!_.include(this._params, param)) return;

  am.history.save({
    undo: function () {
      return _this4.addParam(param);
    },
    redo: function () {
      return _this4.removeParam(param);
    },
    name: "remove param " + param.name });

  param.sleep();
  parent.parentGroup = undefined;

  //TODO param.forwardOff('change.keys', this);
  param.off("change.height", this._onChangeSubparamHeight, this);
  param.off("addKey", this._onAddKeySubparam, this);
  param.off("need.remove", this._onSubparamNeedRemove, this);

  _.pull(this._params, param);
  this.optionLine.removeOptionLine(param.optionLine);
  this.keyLine.removeKeyline(param.keyLine);

  this.emit("removeParam", param, this);
  this.emit("change.structure", this);
  this.emit("change.height");
  this._refreshHeights();
};

p.getParam = function (paramName) {
  return this._params.find(function (param) {
    return param.name === paramName;
  });
};

p.getParamNames = function () {
  return _.pluck(this._params, "name");
};

p.getEndParams = function () {
  var ret = [];

  this._params.forEach(function (param) {
    if (param instanceof ParamGroup) {
      ret.push.apply(ret, param.getEndParams());
    } else {
      ret.push(param);
    }
  });

  return ret;
};

p.moveParam = function () {};

p.toggleKey = function (time) {
  time = time || this.timeline.currTime;

  var hasKey = this._params.some(function (param) {
    return param.getKey(time);
  });

  if (hasKey) {
    this.removeKeyAll(time);
  } else {
    this.addKeyAll(time);
  }
};

p._makeKeyLinesSymmetric = function () {
  var _this5 = this;
  //     console.time('_makeKeyLinesSymmetric');
  var times = [];

  this._params.forEach(function (param) {
    if (param.hidden) return;

    [].push.apply(times, param.getKeyTimes());
  });

  _.uniq(times).forEach(function (time) {
    return _this5.addKeyAll(time);
  });
  //     console.timeEnd('_makeKeyLinesSymmetric');
};


p.addKeyAll = function (time) {
  time = time === undefined ? this.timeline.currTime : time;

  this._params.forEach(function (param) {
    if (param.hidden) return;

    if (param instanceof ParamGroup) {
      param.addKeyAll(time);
    } else {
      param.addKey({ time: time });
    }
  });
};

p.removeKeyAll = function (time) {
  time = time || this.timeline.currTime;

  this._params.forEach(function (param) {
    if (param.hidden) return;

    var key = param.getKey(time);
    if (key) {
      param.removeKey(key);
    }
  });
};




p._isKeySet = function (time) {
  //empty groups returns true except if this is the root paramGroup
  return (this._params.length === 0 && this.parentGroup) || this._params.every(function (p) {
    return p.hidden || p._isKeySet(time);
  });
};








p._onSubparamNeedRemove = function (param) {
  if (this["static"]) {
    this.emit("need.remove", this);
  } else {
    this.removeParam(param);
  }
};

p._onChangeTime = function () {
  this._refreshTgglKey();
};

p._onClickTgglChildren = function () {
  this.collapsed = !this.collapsed;
};

p._onClickTgglMerge = function () {
  this.merged = !this.merged;
};

p._onChangeSubparamHeight = function () {
  this.emit("change.height", this);
  this._refreshHeights();
};

p._onAddKeySubparam = function (key, param) {
  if (this._merged && !param.hidden) {
    this.addKeyAll(key.time);
  }
};







p._refreshHeights = function () {
  var h = this.height;
  this.keyLine.domElem.style.height = h + "px";
  this.optionLine.domElem.style.height = h + "px";
};







p._createOptions = function (opt) {
  var _this6 = this;


  this.optionLine = new OptionLine(_.merge({
    tgglChildren: {
      onClick: function () {
        return _this6._onClickTgglChildren();
      } },
    contextMenuOptions: [{ text: "move up", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "move down", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "delete", onSelect: function () {
        return _this6.emit("need.remove", _this6);
      } }],
    tgglMerge: {
      onClick: function () {
        return _this6._onClickTgglMerge();
      } },
    title: {
      text: this.name },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    indent: 0,
    hasSubcontainer: true }, opt));

  this.optionLine.buttons.tgglChildren.setToggle(true);
};

p._createKeyline = function () {
  this.keyLine = new KeyLineGroup({}, this.timeline);
};






p.dispose = function () {};

},{"../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","./KeyLineGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLineGroup.js","./Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Track.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var ParamFactory = require("./ParamFactory");
var Transhand = require("transhand");
var ParamGroup = require("./ParamGroup");
var dialogTrackOptions = require("./dialogTrackOptions");
var dialogNewParam = require("./dialogNewParam");
var mstPlayer = require("./script.player.mst");


function Track(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._selectors = [];
  this._endParams = [];

  this._selectedElems = [];
  this._isHidingSelectedElems = false;
  this._isPlaying = false;

  if (!this._paramFactory) this._paramFactory = new ParamFactory({}, this.timeline);

  this._onSelectClick = this._onSelectClick.bind(this);
  this._onChangeSelectors = this._onChangeSelectors.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onWindowScroll = this._onWindowScroll.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._onChangeTransformer = am.history.wrap({
    fn: this._onChangeTransformer,
    name: "transform",
    delay: 312 });

  this.paramGroup = new ParamGroup({
    name: "new track",
    paramFactory: this._paramFactory,
    optionLine: {
      tgglMerge: false,
      title: "-",
      contextMenuOptions: [{ text: "options", onSelect: function () {
          return _this._showSettings();
        } }, { text: "move up", onSelect: function () {
          return _this.emit("move", _this, -1);
        } }, { text: "move down", onSelect: function () {
          return _this.emit("move", _this, 1);
        } }, { text: "delete", onSelect: function () {
          return _this.emit("need.remove", _this);
        } }],
      onDblclick: function () {
        return _this._showSettings();
      } } }, this.timeline);
  this.paramGroup.wake();

  this.paramGroup.on("change.structure", this._onChangeParamGroupStructure, this);

  this.paramGroup.on("change.keys", this._onChangeKeys, this);

  //test hack
  this.paramGroup.optionLine._deTitle.style.fontWeight = "bold";


  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      tooltip: "add new parameter",
      icon: "plus",
      onClick: function () {
        return dialogNewParam.show({ track: _this });
      } }),
    name: "newParam",
    childIdx: 0 });

  this.deOptionLine = this.paramGroup.optionLine.domElem;
  this.deKeyLine = this.paramGroup.keyLine.domElem;

  this.deOptionLine.addEventListener("click", this._onSelectClick);
  this.deKeyLine.addEventListener("click", this._onSelectClick);

  this.paramGroup.on("change.height", this._onChangeHeight, this);

  this.setMaxListeners(1234);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Track, EventEmitter);
var p = Track.prototype;
module.exports = Track;

p.type = "plain_track_type";






Object.defineProperties(p, {
  height: {
    get: function () {
      return this.paramGroup.height;
    }
  }
});




p.wake = function () {
  this.timeline.on("changeTime", this._onChangeTime, this);
  this.timeline.project.on("change.inputs", this._onChangeSelectors, this);

  _.invoke(this._params, "wake");
};

p.sleep = function () {
  this.timeline.off("changeTime", this._onChangeTime, this);
  this.timeline.project.off("change.inputs", this._onChangeSelectors, this);

  _.invoke(this._params, "sleep");
};



p.getSave = function () {
  var save = {
    selectors: _.clone(this._selectors),
    paramTree: this.paramGroup.getSave() };

  return save;
};

p.useSave = function (save) {
  if (!save) {
    return;
  }

  this._selectors = save.selectors || [];
  if (save.paramTree) this.paramGroup.useSave(save.paramTree);

  this._refreshEndParams();
  this._refreshSelectedElems();
  this._refreshPlayer();
};

p._getScriptParams = function (opt) {
  var params = [];

  this._endParams.forEach(function (param) {
    if (param.hidden) return;

    var lastTime = 0;

    param = param.getScriptKeys({ runnable: opt.runnable }).map(function (key) {
      key.duration = (key.time - lastTime) / 1000;
      lastTime = key.time;
      delete key.time;

      return key;
    });

    if (param.length) {
      params.push(param);
    }
  });

  handleTransformOrigin();

  return params;




  function handleTransformOrigin() {
    var tox = _.find(params, function (param) {
      return "transformOriginX" in param[0].options;
    });
    var toy = _.find(params, function (param) {
      return "transformOriginY" in param[0].options;
    });
    var toz = _.find(params, function (param) {
      return "transformOriginZ" in param[0].options;
    });

    if (!tox) return;

    var to = [];
    tox.forEach(function (key, idx) {
      to.push({
        duration: key.duration,
        options: {
          ease: key.options.ease,
          transformOrigin: "" + (tox && tox[idx] ? tox[idx].options.transformOriginX : "50%") + " " + (toy && toy[idx] ? toy[idx].options.transformOriginY : "50%") + " " + (toz && toz[idx] ? (toz[idx].options.transformOriginZ || "0px") : "") }
      });
    });

    if (tox) params.splice(params.indexOf(tox), 1);
    if (toy) params.splice(params.indexOf(toy), 1);
    if (toz) params.splice(params.indexOf(toz), 1);
    params.push(to);
  }
};

p.getPlayer = function () {
  var rootTl = new TimelineMax().pause(), scriptParams = this._getScriptParams({ runnable: true }), selectedElems = this._selectedElems;

  scriptParams.forEach(function (param) {
    var tl = new TimelineMax();
    rootTl.add(tl, 0);

    param.forEach(function (key) {
      tl.to(selectedElems, key.duration, key.options);
    });
  });

  return rootTl;
};

p.getScript = function () {
  var code = "", selectors, timelines = this._getScriptParams({ runnable: false });


  //TODO: merge timelines if it's possible
  // for (var i = 0; i < timelines.length; ++i) {
  //     for (var j = 0; j < timelines.length; ++j) {
  //         if (i !== j && timelines[i].length === timelines[j].length) {
  //             var match = timelines[i].every(function (iKey, idx) {
  //                 var jKey = timelines[j][idx];

  //                 return iKey.time === jKey.time && iKey.ease.match(jKey.ease);
  //             });

  //             if (match) {
  //                 timelines[i].forEach(function (key, idx) {
  //                     _.assign(key, timelines[j][idx]);

  //                     timelines.splice(j, idx);
  //                     if (--j < i) {
  //                         --i;
  //                     }
  //                 });
  //             }
  //         }
  //     }
  // }

  selectors = JSON.stringify(this._selectors);
  timelines = JSON.stringify(timelines);
  //remove quotes around the Ease constructor calls
  //TODO: do this somehow nicer
  timelines = timelines.replace(/"ease":"(.*?)"/g, "\"ease\":$1");

  code = Mustache.render(mstPlayer, {
    timelines: timelines,
    selectors: selectors });

  return code;
};

p.addParam = function (opt) {
  opt = opt || {};

  var param = this.getParam(opt.name);

  if (param) {
    if (opt.keys) {
      opt.keys.forEach(param.addKey, param);
    }

    if ("hidden" in opt) {
      param.hidden = opt.hidden;
    }
  } else {
    this.paramGroup.addParam(opt);
    this._refreshEndParams();
    param = _.find(this._endParams, { name: opt.name });
  }

  return param;
};

p.getParam = function (name) {
  return this._endParams.find(function (param) {
    return param.name === name;
  });
};

p.select = function (opt) {
  opt = opt || {};

  if (this._isSelected) return;
  this._isSelected = true;


  if (!this._transformer) {
    this._transformer = new Transhand();
  }

  this._transformer.on("change", this._onChangeTransformer, this);
  window.addEventListener("resize", this._onWindowResize);
  window.addEventListener("scroll", this._onWindowScroll);

  this._refreshSelectedElems();

  if (this._selectedElems.length) {
    this.focusTransformer(opt.focusElem || this._selectedElems[0]);
  }

  this.paramGroup.optionLine.highlight = true;

  this.emit("select", this);
};

p.deselect = function () {
  if (!this._isSelected) return;
  this._isSelected = false;

  this._blurTransformer();

  this.paramGroup.optionLine.highlight = false;

  window.removeEventListener("resize", this._onWindowResize);
  window.removeEventListener("scroll", this._onWindowScroll);

  if (this._transformer) {
    this._transformer.off("change", this._onChangeTransformer, this);
  }
};

p.isSelected = function () {
  return this._isSelected;
};

p.renderTime = function (time) {
  if (time === undefined) {
    time = this.timeline ? this.timeline.currTime : 0;
  }

  if (this._selectors.length === 0) {
    return;
  }

  this._player.time(time / 1000);
  return;
};

p.play = function () {
  this._isPlaying = true;

  this._animPlay();
};

p.pause = function () {
  this._isPlaying = false;

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.getMagnetPoints = function () {
  return this.paramGroup.keyLine.getKeyTimes();
};

p._showSettings = function () {
  var _this2 = this;


  dialogTrackOptions.show({
    name: this.paramGroup.title,
    selectors: this._selectors,
    on: {
      "change.name": function (name) {
        return _this2.paramGroup.title = name;
      },
      "change.selectors": this._onChangeSelectors } });
};

p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  this.renderTime(this.timeline.currTime);
};











p._onSelectClick = function () {
  this.select();
};

p._onChangeTransformer = function (params, type) {
  var time = this.timeline.currTime;

  var add = function (name, value) {
    if (name === "x" || name === "y") {
      var bezierParam = this.getParam("bezier");

      if (bezierParam && !bezierParam.hidden) {
        var key = bezierParam.getKey(time), keyOpt;

        if (key) {
          keyOpt = key.getSave();
        } else {
          var _ref = bezierParam.getValue(time);

          var x = _ref.x;
          var y = _ref.y;
          //TODO bezierParam.inzertPoint(time, ...)
          keyOpt = { time: time, value: [{
              anchor: { x: x, y: y },
              handleLeft: { x: x, y: y },
              handleRight: { x: x, y: y } }] };
        }

        value = parseFloat(value);
        var lastPoint = _.last(keyOpt.value), diff = value - lastPoint.anchor[name];

        lastPoint.anchor[name] += diff;
        lastPoint.handleLeft[name] += diff;
        lastPoint.handleRight[name] += diff;

        var key = bezierParam.addKey(keyOpt);
        key.emit("change.value");

        return;
      }
    }

    var param = this.addParam({ name: name });

    param.addKey({
      time: time,
      value: value });
  }.bind(this);

  if (type === "transform") {
    Object.keys(params).forEach(function (name) {
      switch (name) {
        case "tx": add("x", params[name] + "px");break;
        case "ty": add("y", params[name] + "px");break;
        case "sx": add("scaleX", params[name]);break;
        case "sy": add("scaleY", params[name]);break;
        case "rz": add("rotationZ", (params[name] / Math.PI * 180) + "deg");break;
        case "ox": add("transformOriginX", (params[name] * 100) + "%");break;
        case "oy": add("transformOriginY", (params[name] * 100) + "%");break;
      }
    });
  }
};

p._onChangeParamGroupStructure = function () {
  this._refreshEndParams();
  this._refreshPlayer();
  this.renderTime();
};

p._onChangeTime = function (time) {
  if (this._isPlaying) {
    return;
  }

  this.renderTime(time);
  this.focusTransformer();
};

p._onChangeKeys = function () {
  this._refreshPlayer();
  this.renderTime();
  this.focusTransformer();

  this.emit("change.keys");
};

p._onWindowResize = function () {
  this.focusTransformer();
};

p._onWindowScroll = function () {
  this.focusTransformer();
};

p._onClickTgglKey = function () {
  var time = this.timeline.currTime, allHaveKey = this._isAllParamsHaveKey(time), flag = am.history.startFlag("toggle keys");

  this._endParams.forEach(function (param) {
    if (param.isValid()) {
      if (allHaveKey) {
        param.removeKey(param.getKey(time));
      } else {
        param.addKey({ time: time });
      }
    }
  });

  am.history.endFlag(flag);
};

p._onClickTgglHide = function () {
  if (this._isHidingSelectedElems) {
    this._showSelectedElems();
  } else {
    this._hideSelectedElems();
  }
};

p._onChangeSelectors = function () {
  //targetsInput edits the this._selectedElems array so there is no need to refresh it

  this._refreshSelectedElems();
  this._refreshPlayer();

  if (this._selectedElems.indexOf(this._currHandledDe) === -1) {
    this._currHandledDe = undefined;
  }

  this.focusTransformer(this._currHandledDe || this._selectedElems[0]);
};

p._onChangeHeight = function () {
  this.emit("change.height", this);
};

p._isAllParamsHaveKey = function (time) {
  return this._endParams.every(function (param) {
    return param.getKey(time) || !param.isValid();
  });
};

p.isOwnedDomElem = function (de) {
  return this._selectedElems.indexOf(de) !== -1;
};






p._refreshPlayer = function () {
  if (this._player) this._player.kill();

  this._player = this.getPlayer();
};

p._refreshEndParams = function () {
  this._endParams = this.paramGroup.getEndParams();
};

p._refreshSelectedElems = function () {
  var _this3 = this;


  var list = [];

  this._selectors.forEach(function (selector) {
    if (selector.type === "css") {
      add(selector.value);
    } else if (selector.type === "input") {
      var parent = _this3.timeline.project.inputs;

      selector.value.split(".").every(function (name) {
        parent = parent[name];

        return parent;
      });

      if (parent) {
        add(parent);
      }
    }
  });

  this._selectedElems = list;

  function add(item) {
    if (typeof (item) === "string") {
      //it's easy to get an invalid selector by the user
      try {
        var items = am.deRoot.querySelectorAll(item);
        items = Array.prototype.slice.call(items);
        list = list.concat(items);
      } catch (e) {}
    } else if (window.jQuery && item instanceof window.jQuery) {
      list = list.concat(item.toArray());
    } else {
      list.push(item);
    }
  }
};

p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./ParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js","./ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js","./dialogNewParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogNewParam.js","./dialogTrackOptions":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogTrackOptions.js","./script.player.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\script.player.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","transhand":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogEaseOptions.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var OptionLine = require("../utils/OptionLine");

var currEase, twinEases = [], beizerEditor, optRoughEase, optRoughStrength, optRoughPoints, optRoughClamp, optRoughRandomise, optRoughTaper, optRoughStrength, dialog = new Dialog({
  title: "Key" });

createContent();

dialog.addProperty({ name: "roughEase", input: optRoughEase.inputs.input });
dialog.addProperty({ name: "roughStrength", input: optRoughStrength.inputs.input });
dialog.addProperty({ name: "roughPoints", input: optRoughPoints.inputs.input });
dialog.addProperty({ name: "roughClamp", input: optRoughClamp.inputs.input });
dialog.addProperty({ name: "roughRandomise", input: optRoughRandomise.inputs.input });
dialog.addProperty({ name: "roughTaper", input: optRoughTaper.inputs.input });




dialog.show = function (opt) {
  if (opt === undefined) opt = {};


  opt.roughEase = opt.ease.roughEase;
  opt.roughStrength = opt.ease.roughStrength;
  opt.roughPoints = opt.ease.roughPoints;
  opt.roughClamp = opt.ease.roughClamp;
  opt.roughRandomise = opt.ease.roughRandomise;
  opt.roughTaper = opt.ease.roughTaper;

  Dialog.prototype.show.call(this, opt);

  if (!("ease" in opt)) throw ("opt.ease must be set");

  currEase = opt.ease;
  twinEases = opt.twinEases || [];

  beizerEditor.setEase(currEase);
};

dialog.hide = function (opt) {
  if (opt === undefined) opt = {};


  if (currEase) {
    (function () {
      var save = currEase.getSave();
      twinEases.forEach(function (e) {
        return e.useSave(save);
      });
    })();
  }

  Dialog.prototype.hide.call(this, opt);
};

function createContent() {
  dialog.addButton("ok", "hide");

  amgui.createBtn({
    text: "save/load ease",
    parent: dialog.deContent,
    onClick: function () {
      return am.dialogs.WIP.show();
    } });

  beizerEditor = amgui.createBezierEditor({
    parent: dialog.deContent });


  optRoughEase = new OptionLine({
    title: "rough ease",
    parent: dialog.deContent,
    defaultValue: true,
    inputs: [{
      type: "checkbox",
      name: "input",
      onChange: function (v) {
        return setRoughOptionsVisibility(v);
      } }] });

  optRoughStrength = new OptionLine({
    title: "strength",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 0.02,
      precision: 2
    }] });

  optRoughPoints = new OptionLine({
    title: "points",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 1,
      precision: 0 }] });

  optRoughClamp = new OptionLine({
    title: "clamp",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughRandomise = new OptionLine({
    title: "randomise",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughTaper = new OptionLine({
    title: "taper",
    parent: dialog.deContent,
    inputs: [{
      type: "select",
      name: "input",
      options: ["none", "in", "out", "both"]
    }] });

  function setRoughOptionsVisibility(v) {
    optRoughStrength.domElem.style.display = v ? "block" : "none";
    optRoughPoints.domElem.style.display = v ? "block" : "none";
    optRoughClamp.domElem.style.display = v ? "block" : "none";
    optRoughRandomise.domElem.style.display = v ? "block" : "none";
    optRoughTaper.domElem.style.display = v ? "block" : "none";
  }
  setRoughOptionsVisibility(false);
}

// p._onSelectEase = function (e) {
//     this.ease = e.detail.selection;
// };

// p._onChangeEase = function () {
//     this.ease = this._inpEase.value;
// };


module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogNewParam.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var StringInput = require("../utils/StringInput");
var shortcuts = require("../shortcuts");

var GSAPSpecProps = "WebkitUserSelect,alpha,autoAlpha,autoRound,backfaceVisibility,backgroundPosition,backgroundSize,bezier,border,borderRadius,borderWidth,boxShadow,className,clearProps,clip,cssFloat,directionalRotation,float,force3D,margin,opacity,padding,parseTransform,perspective,perspectiveOrigin,physics2D,physicsProps,rotation,rotationX,rotationY,rotationZ,scale,scaleX,scaleY,scaleZ,shortRotation,shortRotationX,shortRotationY,shortRotationZ,skewX,skewY,strictUnits,styleFloat,textShadow,throwProps,transform,transformOrigin,transformPerspective,transformStyle,userSelect,x,y,z";
var AMCSSModuleProps = "translate";
var MDNCSSProps = "animation,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationTimingFunction,transition,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,transform,transformOrigin,transformStyle,perspective,perspectiveOrigin,backfaceVisibility,color,opacity,columns,columnWidth,columnCount,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,breakBefore,breakAfter,breakInside,columnSpan,columnFill,hyphens,letterSpacing,wordWrap,overflowWrap,textTransform,tabSize,textAlign,textAlignLast,textIndent,whiteSpace,wordBreak,wordSpacing,lineBreak,textDecoration,textDecorationColor,textDecorationStyle,textDecorationLine,textDecorationSkip,textShadow,textUnderlinePosition,direction,unicodeBidi,writingMode,textOrientation,alignContent,alignItems,alignSelf,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flex,flexWrap,justifyContent,order,background,backgroundAttachment,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundRepeat,backgroundSize,border,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderColor,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,boxDecorationBreak,boxShadow,margin,marginBottom,marginLeft,marginRight,marginTop,padding,paddingBottom,paddingLeft,paddingRight,paddingTop,boxSizing,maxHeight,minHeight,height,maxWidth,minWidth,width,overflow,overflowX,overflowY,visibility,borderCollapse,borderSpacing,captionSide,emptyCells,tableLayout,verticalAlign,bottom,left,right,top,float,clear,position,zIndex,font,fontFamily,fontVariant,fontWeight,fontStretch,fontSize,lineHeight,fontFeatureSettings,fontLanguageOverride,fontSizeAdjust,fontStyle,fontSynthesis,fontKerning,fontVariantLigatures,fontVariantPosition,fontVariantCaps,fontVariantNumeric,fontVariantEastAsian,fontVariantAlternates,objectFit,objectPosition,imageRendering,imageOrientation,counterIncrement,counterReset,listStyle,listStyleImage,listStylePosition,listStyleType,orphans,pageBreakAfter,pageBreakBefore,pageBreakInside,widows,outline,outlineColor,outlineWidth,outlineStyle,outlineOffset,cursor,resize,textOverflow,content,quotes,boxDecorationBreak,clip,display,imeMode,all,willChange,backgroundBlendMode,mixBlendMode,isolation,shapeOutside,shapeMargin,shapeImageThreshold,touchAction,initialLetter,initialLetterAlign,displayInside,displayOutside,displayList,boxSuppress,scrollBehavior,blockSize,inlineSize,minBlockSize,minInlineSize,maxBlockSize,maxInlineSize,marginBlockStart,marginBlockEnd,marginInlineStart,marginInlineEnd,offsetBlockStart,offsetBlockEnd,offsetInlineStart,offsetInlineEnd,paddingBlockStart,paddingBlockEnd,paddingInlineStart,paddingInlineEnd,borderBlockStartWidth,borderBlockEndWidth,borderInlineStartWidth,borderInlineEndWidth,borderBlockStartStyle,borderBlockEndStyle,borderInlineStartStyle,borderInlineEndStyle,borderBlockStartColor,borderBlockEndColor,borderInlineStartColor,borderInlineEndColor,borderBlockStart,borderBlockEnd,borderInlineStart,borderInlineEnd";

var inited = false, inpParamName, dialog = new Dialog({
  title: "New param" });
module.exports = dialog;

dialog.addButton("add", add);
dialog.addButton("close", "hide");

dialog.on("show", function () {
  createContent();

  shortcuts.on("enter", add);

  inpParamName.value = "";
});

dialog.on("hide", function () {
  shortcuts.off("enter", add);
});


dialog.addProperty({ name: "track", input: inpParamName });


function add() {
  if (inpParamName.value) {
    dialog.track.addParam({ name: inpParamName.value });
  }

  dialog.hide();
}

function createContent() {
  if (inited) return;
  inited = true;

  var suggestions = [AMCSSModuleProps, GSAPSpecProps, MDNCSSProps].join().split(",");

  inpParamName = new StringInput({
    parent: dialog.deContent,
    placeholder: "css parameter name",
    suggestions: suggestions,
    value: "ref"
  });
}







// https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_values_syntax

// var mdnCssSyntax = [];
// $('tbody tr').each(function () {
//
//     var children = $(this).children();
//
//     var info = {
//         property: $(children[0]).text(),
//         syntax: $(children[1]).text(),
//         initialValue: $(children[2]).text(),
//         inherited: $(children[3]).text(),
//         media: $(children[4]).text(),
//     };
//
//     if (!info.property.match(/[@\/]/)) {
//
//         mdnCssSyntax.push(camelCase(info.property));
//     }
// });
//
// function camelCase(input) {
//   return input.toLowerCase().replace(/-(.)/g, function(match, group1) {
//       return group1.toUpperCase();
//   });
// }
//
// copy(mdnCssSyntax.join(','));

},{"../shortcuts":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\shortcuts.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogTrackOptions.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var UnitInput = require("../utils/UnitInput");
var TargetsInput = require("../utils/TargetsInput");
var StringInput = require("../utils/StringInput");
var OptionLine = require("../utils/OptionLine");

var targetsInput, deSelectorCont, deSelectors = [], dialog = new Dialog({
  title: "Track" });
module.exports = dialog;

createContent();
dialog.addButton("ok", "hide");


dialog.on("change.name", function (name) {
  return dialog.title = name;
});


function createContent() {
  var optName = new OptionLine({
    title: "name:",
    parent: dialog.deContent,
    inputs: [{
      type: "string",
      name: "name" }] });

  targetsInput = new TargetsInput({
    parent: dialog.deContent,
    title: "Selectors",
    onChange: function () {
      return dialog.emit("changeSelectors", targetsInput.value);
    } });

  amgui.createLinebreak({ parent: dialog.deContent });

  var optRepeat = new OptionLine({
    title: "repeat",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeat",
      min: -1,
      units: ["x"] }] });

  var optRepeatDelay = new OptionLine({
    title: "repeat delay",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeatDelay",
      min: 0,
      precision: 3,
      dragSpeed: 0.001,
      units: ["sec"] }] });

  var optKeyStretch = new OptionLine({
    title: "key stretch",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "keyStretch",
      min: 0,
      dragSpeed: 0.01,
      precision: 3,
      units: ["x"] }] });

  var optYoyo = new OptionLine({
    title: "yoyo",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "yoyo" }] });


  $(optRepeat.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optRepeatDelay.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optKeyStretch.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optYoyo.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });

  dialog.addProperty({
    name: "name",
    startValue: "Track",
    input: optName.inputs.name
  });
  dialog.addProperty({
    name: "selectors",
    startValue: [],
    input: targetsInput });
  dialog.addProperty({
    name: "repeat",
    startValue: 0,
    input: optRepeat.inputs.repeat });
  dialog.addProperty({
    name: "repeatDelay",
    startValue: 0,
    input: optRepeatDelay.inputs.repeatDelay });
  dialog.addProperty({
    name: "keyStretch",
    startValue: 1,
    input: optKeyStretch.inputs.keyStretch });
  dialog.addProperty({
    name: "yoyo",
    startValue: false,
    input: optYoyo.inputs.yoyo });
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","../utils/StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js","../utils/TargetsInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\TargetsInput.js","../utils/UnitInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\script.player.mst":[function(require,module,exports){
module.exports = "function (inputs) {\n    \n    var timelines = {{{timelines}}},\n        selectors = {{{selectors}}},\n        animTargets = getAnimTargets(selectors, inputs),\n        rootTl = new TimelineMax();\n\n    timelines.forEach(function (timeline) {\n\n        var tl = new TimelineMax();\n        rootTl.add(tl, 0);\n        \n        timeline.forEach(function (key, idx) {\n\n            tl.to(animTargets, key.duration, key.options);\n        });\n    });\n\n    return rootTl;\n}\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");
var defineCompactProperty = require("./defineCompactProperty");

function CheckboxInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  if (_.has(opt, "text")) this.text = opt.text;
}

inherits(CheckboxInput, Input);
var p = CheckboxInput.prototype;
module.exports = CheckboxInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v = !!v;

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  }
});

defineCompactProperty(p, { name: "text", type: "string", onChange: function (v) {
    this._input.text = v;
  } });





p._onChangeInput = function () {
  this.value = this._input.checked;
};



p._refreshInput = function () {
  if (this._input.checked !== this._value) {
    this._input.checked = this._value;
  }
};




p._createInput = function () {
  var _this = this;


  this._input = amgui.createCheckbox({
    parent: this.domElem,
    onChange: function () {
      return _this._onChangeInput();
    },
    flex: 1 });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","./defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\ColorInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

var colorPicker;

function ColorInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._value = opt.value || "";
  this._defaultValue = opt.defaultValue || "#000000";
}

inherits(ColorInput, Input);
var p = ColorInput.prototype;
module.exports = ColorInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });


p._onChangePicker = function () {
  this.value = colorPicker.getColor();
};

p._onClickShowPicker = function () {
  am.dialogs.WIP.show();
  // var br = this._btnShowPicker.getBoundingClientRect();
  // colorPicker.show(br.left, br.bottom,
  //     this.value || this._defaultValue,
  //     this._onChangePicker);
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createInput = function () {
  var _this = this;


  this._input = amgui.createInput({
    parent: this.domElem,
    onChange: function (v) {
      return _this._onChangeInput(v);
    },
    flex: 1 });
  this._input.style.textAlign = "right";
  this._input.style.paddingRight = "2px";

  this._btnShowPicker = amgui.createIconBtn({
    parent: this.domElem,
    icon: "ajust",
    onClick: this._onClickShowPicker });
};

// ColorInput.initColorPicker = function () {
//     if (colorPicker) return;

//     var onChange,
//         de = amgui.createDiv({
//             // parent: am.deDialogCont,
//             parent: document.body,
//             display: 'none',
//             width: '345px',
//             height: '345px',
//         });

//     de.setAttribute('data-am-nopick', 1);
//     de.style.zIndex = 999999;

//     colorPicker = new ColorPicker({
//         size: 2,
//         appenTo: de,
//         actionCallback: function () {
//             if (onChange) {
//                 onChange(colorPicker.getColor());
//             }
//         }
//     });

//     colorPicker.domElem = de;

//     $('.cp-app').css('position', 'relative')

//     colorPicker.getColor = function () {
//         if (colorPicker.color.alpha === 1) {
//             return '#' + colorPicker.color.HEX;
//         }
//         else {
//             return 'rgba(' +
//                 ~~(colorPicker.color.colors.RND.rgb.r)+','+
//                 ~~(colorPicker.color.colors.RND.rgb.g)+','+
//                 ~~(colorPicker.color.colors.RND.rgb.b)+','+
//                 colorPicker.color.colors.alpha + ')';
//         }
//     };

//     colorPicker.show = function (x, y, color, _onChange) {
//         de.style.display = 'block';
//         amgui.placeToPoint(de, x, y);

//         colorPicker.setColor(color, undefined, undefined, true);

//         onChange = _onChange;
//     }

//     colorPicker.hide = function (x, y) {
//         onChange = undefined;

//         de.style.display = 'none';
//     }
//     $('.cp-exit').click(colorPicker.hide)
// }

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var defineCompactProperty = require("./defineCompactProperty");

function Dialog(opt) {
  var _this = this;


  EventEmitter.call(this);

  opt = opt || {};

  this._setupProperties = [];
  this._offsetX = 0;
  this._offsetY = 0;
  this._offOnHideListeners = [];

  this._createDomElem();

  this._options = {
    deContent: this.deContent,
    buttons: [],
    title: opt.title || "Dialog",
    onHide: function () {
      return _this._onHide();
    } };
}

inherits(Dialog, EventEmitter);
var p = Dialog.prototype;
module.exports = Dialog;

Object.defineProperties(p, {
  title: {
    set: function (v) {
      if (!v || this._options.title === v) return;

      this._options.title = v;

      am.workspace.dialogs.setTitle(v);
    },
    get: function () {
      return this._options._title;
    } },
  isOpened: {
    get: function () {
      return this._isOpened;
    }
  }
});


p.show = function (opt) {
  var _this2 = this;
  if (opt === undefined) opt = {};


  if (this._isOpened) return;
  this._isOpened = true;

  if (opt.on) {
    Object.keys(opt.on).forEach(function (evtName) {
      _this2.on(evtName, opt.on[evtName]);

      _this2._offOnHideListeners.push({
        evtName: evtName,
        callback: opt.on[evtName] });
    });
  }

  this._setupProperties.forEach(function (propData) {
    if (propData.name in opt) {
      this[propData.name] = opt[propData.name];
    }

    var onOpt = "on" + propData.evtName.charAt(0).toUpperCase() + propData.evtName.slice(1);

    if (onOpt in opt) {
      console.warn("deprecated, use opt.on to bind listeners!");
      this._offOnHideListeners.push({
        evtName: propData.evtName,
        callback: opt[onOpt] });
      this.on(propData.evtName, opt[onOpt]);
    }
  }, this);

  this.emit("show");

  am.workspace.dialogs.showDialog(this._options);

  return this;
};

p.hide = function () {
  am.workspace.dialogs.hideDialog(this._options);

  return this;
};

p._onHide = function () {
  var _this3 = this;


  if (!this._isOpened) return;
  this._isOpened = false;

  this._offOnHideListeners.forEach(function (reg) {
    _this3.off(reg.evtName, reg.callback);
  });

  this.emit("hide");
};

p.addProperty = function (opt) {
  var _this4 = this;


  var reg = defineCompactProperty(this, opt);

  this._setupProperties.push(reg);

  if (opt.input) {
    opt.input.value = this[reg.name];
    opt.input.on("change", function (v) {
      return _this4[reg.name] = v;
    });
    this.on(reg.evtName, function (v) {
      return opt.input.value = v;
    });
  }

  return this;
};

p.addButton = function (text, onClick) {
  var _this5 = this;


  if (onClick === "hide") {
    onClick = function () {
      return _this5.hide();
    };
  }

  this._options.buttons.push({ text: text, onClick: onClick });

  return this;
};

p.hideButton = function (text) {
  var btn = _.find(this._options.buttons, { text: text });

  if (btn) btn.hidden = true;

  return this;
};

p.showButton = function (text) {
  var btn = _.find(this._options.buttons, { text: text });

  if (btn) btn.hidden = false;

  return this;
};





p._createDomElem = function () {
  if (this._isDialogCreated) return;
  this._isDialogCreated = true;

  this.deContent = document.createElement("div");
  this.deContent.style.width = "330px";
  this.deContent.style.padding = "30px 12px";
};

},{"./defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function Input(opt) {
  if (opt === undefined) opt = {};


  EventEmitter.call(this);

  this._createBase();

  this._defaultValue = opt.defaultValue || "";
  this._value = opt.value || this._defaultValue;

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(Input, EventEmitter);
var p = Input.prototype;
module.exports = Input;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};

p.focus = function () {
  var _this = this;


  setTimeout(function () {
    return $(_this._input).focus();
  }, 123);
};

p.blur = function () {
  var _this2 = this;


  setTimeout(function () {
    return $(_this2._input).blur();
  }, 123);
};







p._onChangeInput = function () {
  this.value = this._input.value;
};



p._refreshInput = function () {};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";

  this._createInput();
};

p._createInput = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var UnitInput = require("./UnitInput");
var StringInput = require("./StringInput");
var SelectInput = require("./SelectInput");
var ColorInput = require("./ColorInput");
var CheckboxInput = require("./CheckboxInput");
var defineCompactProperty = require("./defineCompactProperty");

function OptionLine(opt) {
  EventEmitter.call(this);

  this.inputs = {};
  this.buttons = {};
  this._indent = 0;
  this._lineH = amgui.LINE_HEIGHT;
  this._hidden = false;

  this._createDomElem();
  this._createHighlight();

  this._subOptionLines = [];

  if (opt.separator) {
    amgui.createSeparator({ parent: this._deHeadCont });
  }

  if (opt.parent) {
    opt.parent.appendChild(this.domElem);
  }

  if (opt.contextMenuOptions) {
    this.dropdown = amgui.createDropdown({
      options: opt.contextMenuOptions });

    amgui.bindDropdown({
      asContextMenu: true,
      deTarget: this._deHeadCont,
      deMenu: this.dropdown });
  }


  if (opt.tgglChildren) {
    this.buttons.tgglChildren = amgui.createToggleIconBtn({
      iconOn: "angle-down",
      iconOff: "angle-right",
      onClick: opt.tgglChildren.onClick,
      parent: this._deHeadCont
    });
  } else if (opt.keepSpaceForTgglChildren) {
    this._deHighlight.style.marginRight = "16px";
  }

  this._createIndent();

  if (opt.indent) {
    this.indent = opt.indent;
  }

  if (opt.title) {
    this._deTitle = amgui.createLabel({
      text: typeof opt.title === "string" ? opt.title : (opt.title.text || ""),
      parent: this._deHeadCont });

    this._deTitle.style.marginRight = "3px";
  }

  this._inputCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "flex",
    flex: "1" });

  this._btnCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "inline-block"
  });

  if (opt.inputs) {
    opt.inputs.forEach(this.addInput, this);
  }

  if (opt.tgglMerge) {
    this.addButton({
      domElem: amgui.createToggleIconBtn({
        iconOn: "flow-line",
        iconOff: "flow-parallel",
        onClick: opt.tgglMerge.onClick }),
      name: "tgglMerge" });
  }

  if (opt.btnKey) {
    this.addButton({
      domElem: amgui.createStepperKey({
        onClick: opt.btnKey.onClick,
        onClickPrev: opt.btnKey.onClickPrev,
        onClickNext: opt.btnKey.onClickNext }),
      name: "key" });
  }

  if (opt.onDblclick) {
    this.domElem.addEventListener("dblclick", opt.onDblclick);
  }

  if (opt.data) {
    this.data = opt.data;
  }
}

inherits(OptionLine, EventEmitter);
var p = OptionLine.prototype;
module.exports = OptionLine;





Object.defineProperties(p, {
  title: {
    set: function (v) {
      this._deTitle.text = v;
    },
    get: function () {
      this._deTitle.text;
    } },
  highlight: {
    set: function (v) {
      this._deHighlight.style.opacity = v ? 1 : 0;

      if (typeof (v) === "string") {
        this._deHighlight.style.backgroundColor = v;
      }
    } },
  indent: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._indent) return;

      this._indent = v;
      this._deIndent.style.width = this._indent * 6 + "px";
    },
    get: function () {
      return this._indent;
    } },
  hidden: {
    set: function (v) {
      v = !!v;

      if (v === this._hidden) return;

      this._hidden = v;

      this.domElem.style.display = v ? "none" : "";
    },
    get: function () {
      return this._hidden;
    }
  }
});

defineCompactProperty(p, [{ name: "bgHighlight", type: "boolean", onChange: function (v) {
    this._deHeadCont.style.backgroundColor = v ? amgui.color.bg1 : amgui.color.transparent;
  } }]);


p.addInput = function (opt) {
  var input;

  opt = _.assign({
    onChange: opt.onChange,
    flex: "1" }, opt);

  switch (opt.type) {
    case "unit":
      input = new UnitInput(opt);
      break;

    case "select":
      input = new SelectInput(opt);
      break;

    case "color":
      input = new ColorInput(opt);
      break;

    case "checkbox":
      input = new CheckboxInput(opt);
      break;

    default:
    case "string":
      input = new StringInput(opt);
  }

  if (opt.name) {
    this.inputs[opt.name] = input;
  }

  this._inputCont.appendChild(input.domElem);
};

p.addButton = function (opt) {
  if ("childIdx" in opt && this._btnCont.children[opt.childIdx]) {
    this._btnCont.insertBefore(opt.domElem, this._btnCont.children[opt.childIdx]);
  } else {
    this._btnCont.appendChild(opt.domElem);
  }

  opt.domElem.style.display = "inline-block";
  opt.domElem.style.verticalAlign = "top";

  if (opt.name) {
    this.buttons[opt.name] = opt.domElem;
  }

  if (opt.hoverMode) {
    opt.domElem.style.visibility = "hidden";

    this.domElem.addEventListener("mouseenter", function () {
      opt.domElem.style.visibility = "visible";
    });
    this.domElem.addEventListener("mouseleave", function () {
      opt.domElem.style.visibility = "hidden";
    });
  }
};

p.addOptionLine = function (optionLine) {
  this._subOptionLines.push(optionLine);
  this._deSubcont.appendChild(optionLine.domElem);

  optionLine.indent = this.indent + 1;

  if (this._isBorrowingChildInputs) {
    this.returnChildInputs();
    this.borrowChildInputs();
  }
};

p.removeOptionLine = function (optionLine) {
  var idx = this._subOptionLines.indexOf(optionLine);
  if (idx === -1) return;

  this._subOptionLines.splice(idx, 1);
  this._deSubcont.removeChild(optionLine.domElem);

  if (this._isBorrowingChildInputs) {
    this.returnChildInputs();
    this.borrowChildInputs();
  }
};

p.removeAllOptionLines = function () {
  var _this = this;


  this._subOptionLines.slice().forEach(function (ol) {
    return _this.removeOptionLine(ol);
  });
};

p.showSublines = function () {
  this._deSubcont.style.display = "";
};

p.hideSublines = function () {
  this._deSubcont.style.display = "none";
};

p.walkChildren = function (fn) {
  var _this2 = this;


  this._subOptionLines.forEach(function (subOptionLine) {
    fn(subOptionLine, _this2);

    subOptionLine.walkChildren(fn);
  });
};

p.borrowChildInputs = function () {
  var _this3 = this;
  //TODO: do this two somehow better

  this._isBorrowingChildInputs = true;

  this._subOptionLines.forEach(function (line) {
    if (line.hidden) return;

    Object.keys(line.inputs).forEach(function (inpName) {
      _this3._inputCont.appendChild(line.inputs[inpName].domElem);
    });
  });
};

p.returnChildInputs = function () {
  this._isBorrowingChildInputs = false;

  var deInputs = _.toArray(this._inputCont.children);

  this._subOptionLines.forEach(function (line) {
    Object.keys(line.inputs).forEach(function (inpName) {
      var idx = deInputs.indexOf(line.inputs[inpName].domElem);
      if (idx === -1) return;
      line._inputCont.appendChild(deInputs[idx]);
    });
  });
};









p._createDomElem = function () {
  this.domElem = amgui.createDiv();;
  this.domElem.style.width = "100%";
  this.domElem.style.overflow = "hidden";

  this._deHeadCont = amgui.createDiv();;
  this._deHeadCont.style.position = "relative";
  this._deHeadCont.style.display = "flex";
  this._deHeadCont.style.width = "100%";
  this._deHeadCont.style.height = this._lineH + "px";
  this.domElem.appendChild(this._deHeadCont);

  amgui.createSeparator({ parent: this._deHeadCont });

  this._deSubcont = amgui.createDiv({
    parent: this.domElem,
    width: "100%" });
};

p._createHighlight = function () {
  this._deHighlight = amgui.createDiv();;
  this._deHighlight.style.display = "inline-block";
  this._deHighlight.style.width = "2px";
  this._deHighlight.style.height = this._lineH + "px";
  this._deHighlight.style.background = amgui.color.selected;
  this._deHighlight.style.opacity = 0;
  this._deHeadCont.appendChild(this._deHighlight);
};

p._createIndent = function () {
  this._deIndent = amgui.createDiv();;
  this._deIndent.style.display = "inline-block";
  this._deIndent.style.width = "0px";
  this._deHeadCont.appendChild(this._deIndent);
};

p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./CheckboxInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js","./ColorInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\ColorInput.js","./SelectInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\SelectInput.js","./StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js","./UnitInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js","./defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\SelectInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function SelectInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._options = opt.options || [];
  this._value = opt.value || this._options[0] || "";
  this._defaultValue = opt.defaultValue || this._options[0] || "";

  this._createBase();
}

inherits(SelectInput, Input);
var p = SelectInput.prototype;
module.exports = SelectInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value || this._options.indexOf(v) === -1) return;

      this._value = v;

      this._deValue.text = v;

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });




p.setOptions = function (options) {
  this._deDropdown.setItems(options);
};








p._createInput = function () {
  var _this = this;


  this._deValue = amgui.createLabel({
    parent: this.domElem,
    text: this.value });

  amgui.createIcon({
    parent: this.domElem,
    icon: "down-dir" });

  this._deDropdown = amgui.createDropdown({
    options: this._options,
    onSelect: function (e) {
      return _this.value = e.detail.selection;
    } });

  amgui.bindDropdown({
    deTarget: this.domElem,
    deDropdown: this._deDropdown });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function StringInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  if (opt.placeholder) {
    this._input.placeholder = opt.placeholder;
  }

  if (opt.suggestions) {
    this.setSuggestions(opt.suggestions);
  }

  this._refreshInput();
}

inherits(StringInput, Input);
var p = StringInput.prototype;
module.exports = StringInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  },
  color: {
    set: function (v) {
      this._input.style.color = v;
    },
    get: function () {
      return this._input.style.color;
    }
  }
});




p.setSuggestions = function (suggestions) {
  suggestions = suggestions.map(function (suggestion) {
    if (typeof suggestion !== "object") {
      return { value: suggestion };
    } else {
      return suggestion;
    }
  });

  if (this._suggestionEngine) {
    this._suggestionEngine.clear();
    this._suggestionEngine.local = suggestions;
    this._suggestionEngine.initialize(true);
  } else {
    this._prepareSuggestions(suggestions);
  }
};







p._onChangeInput = function () {
  this.value = this._input.value;
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createInput = function () {
  var _this = this;


  this._input = amgui.createInput({
    parent: this.domElem,
    flex: 1,
    onChange: function (v) {
      return _this._onChangeInput(v);
    },
    value: this.value });

  this.domElem.style.color = this._input.style.color;
  this._input.style.color = "inherit";

  // this._input.style.textAlign =  'right';
  this._input.style.paddingRight = "2px";
};

p._prepareSuggestions = function (suggestions) {
  var _this2 = this;


  this._suggestionEngine = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace("value"),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    // `states` is an array of state names defined in "The Basics"
    local: suggestions });

  // kicks off the loading/processing of `local` and `prefetch`
  this._suggestionEngine.initialize();

  var template = "<div class=\"guess\"\n            style=\"padding: 2px;\n                color:" + amgui.color.textColor + ";\n                background-color:" + amgui.color.bg1 + ";\n            \">\n          <span>{{{value}}}</span>\n        </div>";

  amgui.callOnAdded(this._input, function () {
    $(_this2._input).typeahead({
      hint: true,
      highlight: true,
      minLength: 0 }, {
      name: "states",
      displayKey: "value",
      // `ttAdapter` wraps the suggestion engine in an adapter that
      // is compatible with the typeahead jQuery plugin
      source: _this2._suggestionEngine.ttAdapter(),
      templates: {
        suggestion: function (context) {
          return Mustache.render(template, context);
        }
      }
    }).on("typeahead:opened", function () {
      return _this2._onChangeInput();
    }).on("typeahead:autocompleted", function () {
      return _this2._onChangeInput();
    }).on("typeahead:selected", function () {
      return _this2._onChangeInput();
    });
  });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\TargetsInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");
var OptionLine = require("./OptionLine");

function TargetsInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._targets = [];
  this._buffTargets = [];
  this._value = opt.value || [];
  this._defaultValue = opt.defaultValue || [];

  if (_.has(opt, "title")) this.title = opt.title;
}

inherits(TargetsInput, Input);
var p = TargetsInput.prototype;
module.exports = TargetsInput;

//TODO cleen up

Object.defineProperties(p, {
  value: {
    set: function (v) {
      var _this = this;


      if (!Array.isArray(v)) throw Error;

      this._value = v;

      var i;

      for (i = 0; i < v.length; ++i) {
        if (this._targets.length <= i) {
          this._addTarget(v[i].type);
        } else if (v[i].type === this._targets[i].type) {
          this._targets[i].refresh();
        } else {
          this._removeTarget(this._targets[i--]);
        }
      }

      this._targets.slice(i).forEach(function (target) {
        return _this._removeTarget(target);
      });
    },
    get: function () {
      return this._value;
    }
  },
  title: {
    set: function (v) {
      this._rootOptionLine.title = v;
    },
    get: function () {
      return this._rootOptionLine.title;
    }
  } });




p._addTarget = function (type) {
  var target = _.find(this._buffTargets, { type: type });

  if (target) {
    _.pull(this._buffTargets, target);
  } else {
    target = this._createTarget(type);
  }

  this._targets.push(target);
  target.refresh();
  this._rootOptionLine.addOptionLine(target.optionLine);
};

p._removeTarget = function (target) {
  if (_.include(this._targets, target)) {
    _.pull(this._targets, target);
    this._buffTargets.push(target);
  }

  this._rootOptionLine.removeOptionLine(target.optionLine);
};








p._createInput = function () {
  var _this2 = this;


  this._rootOptionLine = new OptionLine({
    title: "Targets",
    parent: this.domElem });

  this._rootOptionLine.addButton({
    name: "add",
    domElem: amgui.createIconBtn({
      icon: "plus",
      tooltip: "add new input"
    }) });

  amgui.bindDropdown({
    deTarget: this._rootOptionLine.buttons.add,
    deDropdown: amgui.createDropdown({
      options: [{
        icon: "hash",
        text: "css selector",
        onClick: function () {
          _this2.value.push({ type: "css", value: "" });
          _this2.value = _this2.value;
        },
        tooltip: "new css selector input"
      }, {
        icon: "code",
        text: "js input",
        onClick: function () {
          _this2.value.push({ type: "input", value: "" });
          _this2.value = _this2.value;
        },
        tooltip: "new js input"

      }]
    })
  });
};

p._createTarget = function (type) {
  var _this3 = this;


  var target = { type: type }, inputPaths = [], underSetting = false;

  var data = function () {
    var idx = _this3._targets.indexOf(target);
    return _this3.value[idx] || {};
  };

  target.optionLine = new OptionLine({
    inputs: [{
      name: "input",
      type: "string",
      placeholder: "type here",
      value: data().value,
      onChange: function (value) {
        data().value = value;
        refreshSpellingFeedback();
        if (!underSetting) _this3.emit("change", _this3.value);
      }
    }] });

  target.refresh = function () {
    underSetting = true;
    input.value = data().value;
    underSetting = false;
  };

  var input = target.optionLine.inputs.input;
  input.focus();
  input.domElem.style.color = "red";
  target.optionLine.highlight = type === "input" ? amgui.color.blue : amgui.color.purple;

  var refreshSpellingFeedback = function () {
    if (type === "input") {
      var match = inputPaths.indexOf(input.value) === -1, color = match ? amgui.color.text : amgui.color.aqua;

      input.domElem.style.color = color;
    } else if (type === "css") {
      var color = amgui.color.text;

      try {
        //querySelector breaks on invalid selectors
        if (document.querySelector(input.value)) {
          color = amgui.color.purple;
        }
      } catch (e) {}

      input.domElem.style.color = color;
    }
  };

  refreshSpellingFeedback();


  var refreshSuggestions = function () {
    inputPaths = am.projectMap.getCurrProject().getInputPaths();
    input.setSuggestions(inputPaths);
  };

  if (type === "input") {
    refreshSuggestions();
    //TODO ?.timeline.project.on('change.inputs', refreshSuggestions);
  }

  if (type === "css") {
    var btnPick = amgui.createIconBtn({
      icon: "target",
      display: "inline-block",
      onClick: function () {
        return am.dialogs.WIP.show();
      },
      tooltip: "pick DOM element"
    });
    target.optionLine.addButton({ domElem: btnPick, hoverMode: true });
  }

  var btnDel = amgui.createIconBtn({
    icon: "cancel",
    display: "inline-block",
    onClick: function () {
      _.pull(_this3.value, data());
      _this3.value = _this3.value;
    } });
  target.optionLine.addButton({ domElem: btnDel, hoverMode: true });

  return target;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","./OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function UnitInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._rxAmount = /^\s*([\+-]?\d*\.?\d*)/;
  this._rxUnit;

  this.units = opt.units && opt.units.length ? opt.units : [""];
  this.min = opt.min;
  this.max = opt.max;
  this._amount = undefined;
  this._unit = undefined;
  this._precison = opt.precision || 0;
  this._defaultValue = opt.defaultValue || 0;
  this._dragSpeed = opt.dragSpeed || 1;

  this._setValueParts(opt.amount || 0, this._units[0]);

  this.converters = opt.converters;
}

inherits(UnitInput, Input);
var p = UnitInput.prototype;
module.exports = UnitInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      var mAmount = this._rxAmount.exec(v), mUnit = this._rxUnit.exec(v), amount = mAmount ? mAmount[1] : "0", unit = mUnit ? mUnit[1] : "";

      this._setValueParts(amount, unit);
    },
    get: function () {
      return this._amount + this._unit;
    }
  },
  precision: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._precison || this._precison.indexOf(v) === -1) return;

      this._precison = v;
      this.value = this.value;
    },
    get: function () {
      return this._precison;
    }
  },
  units: {
    set: function (v) {
      if (!(v instanceof Array)) return;

      this._units = v.slice();

      this._rxUnit = new RegExp("(" + this._units.join("|") + ")+\\s*$");
    }
  },
  min: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._min === v) return;

      this._min = v;
    },
    get: function () {
      return this._min;
    }
  },
  max: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._max === v) return;

      this._max = v;
    },
    get: function () {
      return this._max;
    }
  }
});






p._setValueParts = function (amount, unit) {
  amount = parseFloat(amount) || 0;
  unit = String(unit) || "";

  if (this._amount === amount && this._unit === unit) return;

  if (_.isFinite(this.min)) amount = Math.max(this.min, amount);
  if (_.isFinite(this.max)) amount = Math.min(this.max, amount);

  this._amount = amount;
  var fixAmount = this._toFixedAmount(amount);

  if (this._inpAmount.value !== fixAmount) {
    this._inpAmount.value = fixAmount;
  }

  if (this._unit !== unit && this._units.indexOf(unit) !== -1) {
    this._unit = unit;
    this._deUnit.text = unit;
  }

  this.emit("change", this.value);
};

p._toFixedAmount = function (amount) {
  var fixAmount = parseFloat(amount).toFixed(this._precison);

  if (fixAmount.indexOf(".") !== -1) {
    fixAmount = fixAmount.replace(/\.?0*$/, "");
  }

  return fixAmount;
};





p._onChangeInputAmount = function () {
  var fixAmount = this._toFixedAmount(this._amount), value = this._inpAmount.value;

  if (fixAmount !== value) {
    this._setValueParts(value, this._unit);
  }
};





p._createInput = function () {
  var _this = this;


  this._inpAmount = amgui.createInput({
    parent: this.domElem,
    onChange: function () {
      return _this._onChangeInputAmount();
    },
    flex: 1 });
  this._inpAmount.style.textAlign = "right";
  this._inpAmount.style.paddingRight = "2px";
  this._inpAmount.style.cursor = "ew-resize";

  amgui.makeDraggable({
    deTarget: this._inpAmount,
    thisArg: this,
    onDown: function () {
      return {
        amount: this._amount,
        moved: false };
    },
    onMove: function (md, mx) {
      md.moved = true;

      var dx = mx - md.mx;

      this._setValueParts(md.amount + this._dragSpeed * dx);
    },
    onUp: function (md) {
      if (!md.moved) {
        this._inpAmount.focus();
      }
    }
  });

  this._deUnit = amgui.createLabel({
    parent: this.domElem,
    text: "" });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js":[function(require,module,exports){
"use strict";

module.exports = function defineCompactProperty(proto, opt) {
  if (_.isArray(opt)) {
    opt.forEach(function (o) {
      return defineCompactProperty(proto, o);
    });
    return;
  }

  if (!_.has(opt, "name")) throw Error;
  if (_.has(opt, "eventName")) throw Error;

  var valMap = new WeakMap(), name = opt.name, history = opt.history, startValue = opt.startValue, onChange = opt.onChange, evtName = opt.event || opt.evtName || "change." + name;

  if (history) {
    if (typeof (history) !== "object") history = {};
    if (!history.hasOwnProperty("tag")) history.tag = "change " + name;
    if (!history.hasOwnProperty("chainId")) history.chainId = Symbol(); //TODO make this unique per instance
  }

  Object.defineProperty(proto, name, { set: set, get: get });

  return {
    name: name,
    evtName: evtName };


  ///////////////////////////////////////////////////////////////

  function get() {
    return valMap.has(this) ? valMap.get(this) : startValue;
  }

  function set(v) {
    v = fixType(v);
    var value = get.call(this);

    if (v === value || isInvalidValue(v)) {
      return;
    }

    save.call(this, value, v);

    value = v;

    valMap.set(this, value);

    if (onChange) onChange.call(this, value);

    this.emit(evtName, value);
  }

  function save(oldValue, newValue) {
    if (!history) return;

    am.history.saveChain({
      id: history.chainId,
      undo: [set, this, oldValue],
      redo: [set, this, newValue],
      name: history.tag,
      delay: 312 });
  }

  function fixType(v) {
    switch (opt.type) {
      case "float": v = parseFloat(v);break;
      case "int": v = parseInt(v);break;
      case "boolean": v = !!v;break;
      case "string": v = "" + v;break;
    }

    return v;
  }

  function isInvalidValue(v) {
    return ((opt.type === "float" || opt.type === "int") && !_.isFinite(v));
  }
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\Warehouseman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var WebStorageman = require("./storages/WebStorageman");
var PageScript = require("./storages/PageScript");
var Download = require("./storages/Download");
var decorDialog = require("./decorDialog");

function Warehouseeman(opt) {
  EventEmitter.call(this);

  decorDialog(this);

  opt = opt || {};

  this._storages = [];
  this.addStorage(new PageScript());
  this.addStorage(new WebStorageman());
  this.addStorage(new Download());
  // this.addStorage(new Copy());
  this.addStorage({ icon: "hdd", tooltip: "local file system" });
  this.addStorage({ icon: "git", tooltip: "Git" });
  this.addStorage({ icon: "google", tooltip: "Google Drive" });
  this.addStorage({ icon: "dropbox", tooltip: "Dropbox" });
  this.addStorage({ icon: "history", tooltip: "auto save" });

  this.selectStorage(this._storages[2]);
}

inherits(Warehouseeman, EventEmitter);
var p = Warehouseeman.prototype;

Object.defineProperties(p, {
  selectedStorageType: {
    get: function () {
      return this.currStorage && this.currStorage.type;
    }
  }
});

p.addStorage = function (storage) {
  storage.features = storage.features || {
    placeholder: true };

  this._storages.push(storage);
  this.emit("changeStorages");
};

p.selectStorage = function (storage) {
  if (this.currStorage === storage) {
    return;
  }

  this.currStorage = storage;

  if (storage.features.placeholder) {
    am.dialogs.WIP.show();
  }

  this.emit("changeSelectedStorage");
};

p.save = function (name, data, path) {
  return this.currStorage.save(name, data, path);
};

p.load = function (name, path) {
  return this.currStorage.load(name, path);
};

p.mkdir = function (path) {
  return this.currStorage.mkdir(path);
};

p.dir = function (path) {
  return this.currStorage.dir(path);
};

module.exports = Warehouseeman;

},{"./decorDialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\decorDialog.js","./storages/Download":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\Download.js","./storages/PageScript":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\PageScript.js","./storages/WebStorageman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\WebStorageman.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\decorDialog.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var StringInput = require("../utils/StringInput");

function decorDialog(whm) {
  var dialog, deLeft, deHead, deBreadcrumbs, inpName, deStorageSelector, deDirectory, btnNewFolder, isInited, deOptions, openOptions = {}, mode;



  function init() {
    if (isInited) {
      return;
    }
    isInited = true;

    dialog = new Dialog();
    dialog.addProperty({ name: "selectedName", startValue: "" });
    dialog.addProperty({ name: "selectedData", startValue: "" });
    dialog.addProperty({ name: "selectedPath", startValue: "" });

    createDialog();
    createStorageSelector();
    createBreadcrumbs();
    createBtnNewFolder();
    createBtnSettings();
    createNameInput();
    createDirectory();
    createOptions();

    whm.dialog = dialog;
  }

  whm.showSaveDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "save";

    dialog.selectedName = opt.name || "";
    dialog.selectedData = opt.data || "";
    dialog.selectedPath = opt.path || "";

    inpName.domElem.style.display = "block";

    dialog.title = "Save";
    dialog.showButton("save");
    dialog.hideButton("open");

    deStorageSelector.refresh();
    deDirectory.refresh();
    setupModules();
    dialog.show();
  };

  whm.showOpenDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "open";

    dialog.selectedName = opt.name || "";
    dialog.selectedPath = opt.path || "";

    inpName.domElem.style.display = "none";

    dialog.title = "Open";
    dialog.showButton("open");
    dialog.hideButton("save");

    deStorageSelector.refresh();
    deDirectory.refresh();
    setupModules();
    dialog.show();
  };

  whm.setSaveOtions = function (opt) {
    deOptions.setOptions(opt);
  };

  whm.getSaveOptions = function () {
    return deOptions.getOptions();
  };

  function feature(name) {
    return whm.currStorage.features && whm.currStorage.features[name];
  }

  function setupModules() {
    showHide(deDirectory, feature("browse"));
    showHide(deBreadcrumbs, feature("browse"));
    showHide(btnNewFolder, feature("mkdir"));

    function showHide(de, show) {
      de.style.display = show ? "block" || de.baseDisplay : "hidden";
    }
  }

  function onSave() {
    var save = openOptions.getSave(), name = dialog.selectedName || "anim.am.js";

    whm.save(name, save, dialog.selectedPath);

    dialog.hide();
  }

  function onOpen() {
    var save = whm.load(dialog.selectedName, dialog.selectedPath);

    if (openOptions.onOpen) {
      openOptions.onOpen(save);
    }

    dialog.hide();
  }









  function createDialog() {
    dialog.deContent.style.width = "700px";
    dialog.deContent.style.height = "400px";
    dialog.deContent.style.display = "flex";
    dialog.deContent.style.color = "white";

    deLeft = amgui.createDiv();;
    deLeft.style.height = "100%";
    deLeft.style.flex = "1";
    deLeft.style.display = "flex";
    deLeft.style.flexDirection = "column";
    dialog.deContent.appendChild(deLeft);

    deHead = amgui.createDiv();;
    deHead.style.width = "100%";
    deHead.style.height = "21px";
    deHead.style.display = "flex";
    deLeft.appendChild(deHead);

    dialog.addButton("save", onSave);
    dialog.addButton("open", onOpen);
    dialog.addButton("close", "hide");
  }


  function createBreadcrumbs() {
    deBreadcrumbs = amgui.createBreadcrumbs({
      parent: deHead });
    deBreadcrumbs.style.display = "inline-block";
    deBreadcrumbs.style.flex = "1";

    deBreadcrumbs.addEventListener("select", function (e) {
      whm.cd(e.detail.selection.value);
    });

    dialog.on("change.selectedPath", refresh);

    function refresh() {
      var names = dialog.selectedPath.split("/").filter(Boolean), value = "", crumbs = [];

      crumbs.push({
        name: (whm.currStorage.rootName || "root") + "://",
        value: value
      });

      names.forEach(function (crumbName) {
        value += crumbName + "/";

        crumbs.push({
          name: crumbName,
          value: value
        });
      });

      deBreadcrumbs.setItems(crumbs);
    };
  }



  function createBtnSettings() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "wrench",
      width: 21,
      onClick: function () {
        deOptions.toggle();
      }
    });
  }



  function createBtnNewFolder() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "folder-add",
      width: 21,
      onClick: function () {
        am.dialogs.WIP.show();
      }
    });
  }

  function createNameInput() {
    inpName = new StringInput({
      parent: deLeft,
      placeholder: "File name (ex. anim.am.js)" });

    inpName.on("change", function () {
      dialog.selectedName = inpName.value;
    });

    dialog.on("change.selectedName", function () {
      if (inpName.value !== dialog.selectedName) {
        inpName.value = dialog.selectedName;
      }
    });
  }


  function createDirectory() {
    deDirectory = amgui.createDiv();;
    deDirectory.style.listStyle = "none";
    deDirectory.style.display = "inline-block";
    deDirectory.style.width = "100%";
    deDirectory.style.flex = "1";
    deLeft.appendChild(deDirectory);

    var deItems = [], overItem, currItem;

    dialog.on("change.selectedPath", refresh);
    whm.on("changeSelectedStorage", refresh);
    dialog.on("change.selectedName", function () {
      currItem = _.find(deItems, { name: dialog.selectedName });
    });

    function refresh() {
      while (deItems.length) {
        $(deItems.pop()).remove();
      }

      if (!feature("browse")) {
        return;
      }

      var list = whm.dir();

      list.forEach(function (item) {
        createItem(item.name, item.type);
      });
    }

    deDirectory.refresh = refresh;

    function onClick(e) {
      dialog.selectedName = this.name;

      if (e.type === "dblclick") {
        if (mode === "save") {
          onSave(dialog.selectedPath, dialog.selectedName);
        } else {
          onOpen(dialog.selectedPath, dialog.selectedName);
        }
      }
    }

    function refreshSelection() {
      deItems.forEach(function (deItem) {
        if (deItem === overItem || deItem === currItem) {
          deItem.style.background = amgui.color.bgHover;
        } else {
          deItem.style.background = "none";
        }
      });
    }

    function onMOver() {
      overItem = this;
      refreshSelection();
    }

    function onMOut() {
      if (overItem === this) {
        overItem = undefined;
        refreshSelection();
      }
    }

    function createItem(name, type) {
      var deItem = amgui.createDiv();;
      deItem.name = name;

      amgui.createIcon({
        icon: type === "folder" ? "folder-empty" : "doc",
        parent: deItem,
        display: "inline-block" });

      var deName = document.createElement("span");
      deName.textContent = name;
      deItem.appendChild(deName);

      deDirectory.appendChild(deItem);

      deItem.addEventListener("click", onClick);
      deItem.addEventListener("dblclick", onClick);
      deItem.addEventListener("mouseover", onMOver);
      deItem.addEventListener("mouseout", onMOut);

      deItems.push(deItem);
      return deItem;
    }
  }




  function createStorageSelector() {
    var btnSize = 33, buttons = [];

    deStorageSelector = amgui.createDiv();;
    deStorageSelector.style.display = "inline-block";
    deStorageSelector.style.width = btnSize + "px";
    deStorageSelector.style.height = "100%";
    deStorageSelector.style.marginRight = "12px";
    dialog.deContent.insertBefore(deStorageSelector, deLeft);

    deStorageSelector.addEventListener("click", function (e) {
      var idx = e.target._storageIdx;

      if (idx !== undefined) {
        whm.selectStorage(whm._storages[idx]);
      }
    });

    whm.on("changeSelectedStorage", refreshSelection);

    function removeButtons() {
      buttons.forEach(function (btn) {
        if (btn.domElem.parentNode) {
          btn.domElem.parentNode.removeChild(btn.domElem);
        }

        btn.domElem.removeEventListener("click", onClickBtn);
      });
    }

    deStorageSelector.refresh = function () {
      removeButtons();

      whm._storages.forEach(function (storage) {
        if (storage.features.placeholder || storage.features[mode]) {
          createItem(storage);
        }
      });

      refreshSelection();
    };

    function refreshSelection() {
      var match = false;

      buttons.forEach(function (btn) {
        var _m = btn.storage === whm.currStorage;
        btn.domElem.fixedHighlight = _m;
        if (_m) match = _m;
      });

      if (!match) {
        whm.selectStorage(_.find(buttons, function (b) {
          return !b.storage.features.placeholder;
        }).storage);
      }
    };

    function onClickBtn(e) {
      buttons.forEach(function (btn) {
        if (btn.domElem === e.currentTarget) {
          whm.selectStorage(btn.storage);
        }
      });
    }

    function createItem(storage) {
      var btn = {
        domElem: amgui.createIconBtn({
          icon: storage.icon,
          parent: deStorageSelector,
          width: btnSize,
          height: btnSize,
          display: "inline-block",
          onClick: onClickBtn }),
        storage: storage
      };

      amgui.addTooltip({
        deTarget: btn.domElem,
        text: storage.tooltip
      });

      buttons.push(btn);
    }
  }

  function createOptions() {
    var isOpened = false;

    deOptions = amgui.createDiv();;
    deOptions.style.display = "none";
    deOptions.style.width = "138px";
    deOptions.style.height = "100%";
    dialog.deContent.appendChild(deOptions);

    amgui.createBtn({
      text: "add trigger",
      icon: "plus",
      onClick: function () {
        am.dialogs.WIP.show();
      },
      parent: deOptions });

    var checkSave = createCheckbox("include save", true);
    var checkMinify = createCheckbox("minify");
    var checkAuto = createCheckbox("auto play", true);
    var checkDebug = createCheckbox("debug", true);

    deOptions.getOptions = function () {
      return {
        includeSave: checkSave.checked,
        minify: checkMinify.checked,
        autoPlay: checkAuto.checked
      };
    };

    deOptions.setOptions = function (opt) {
      checkSave.checked = opt.includeSave;
      checkMinify.checked = opt.minify;
      checkAuto.checked = opt.autoPlay;
      checkDebug.checked = opt.debug;
    };

    deOptions.toggle = function () {
      isOpened = !isOpened;

      deOptions.style.display = isOpened ? "block" : "none";
    };

    function createCheckbox(name, checked) {
      var cb = amgui.createCheckbox({
        text: name,
        checked: checked,
        parent: deOptions });

      $(cb).one("click", function () {
        am.dialogs.WIP.show();
      });

      return cb;
    }
  }
}


module.exports = decorDialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\Download.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Download(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_Download/";

  this.icon = "download";
  this.tooltip = "Download";
}

inherits(Download, EventEmitter);
var p = Download.prototype;

p.features = {
  save: true };

p.save = function (name, data) {
  data = "data:application/javascript;charset=utf-8," + encodeURIComponent(data);
  $("<a download=\"" + name + "\" href=\"" + data + "\"></a>")[0].click();
};

module.exports = Download;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\PageScript.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var FOLDERS = "<folders>";

function PageScript(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_PageScript/";

  this.icon = "code";
  this.tooltip = "running Animachine pagescripts";

  this._folders = window.localStorage.getItem(this._root + FOLDERS);

  try {
    this.folders = JSON.parse(this._folders);
  } catch (e) {
    this._folders = [];
  }
}

inherits(PageScript, EventEmitter);
var p = PageScript.prototype;

p.save = function (name, data, path) {
  name = this._validName(name);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.open = function (name) {
  if (name in pageScripts()) {
    return pageScripts()[name];
  }
};

p.dir = function () {
  var ret = [];

  Object.keys(pageScripts()).forEach(function (key) {
    ret.push({
      name: key,
      type: "file"
    });
  });

  return ret;
};

function pageScripts() {
  return (window.am && window.am.pageScripts) || [];
}

module.exports = PageScript;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\WebStorageman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var ROOT = "_webstorageman/", FOLDERS = "<folders>";

function WebStorageman(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this.icon = "bullseye";
  this.rootName = "webstorage";
  this.type = "webstorage";
  this.tooltip = "webstorage, store data in your browser";

  this._folders = window.localStorage.getItem(ROOT + FOLDERS);

  try {
    this._folders = JSON.parse(this._folders);
  } catch (e) {}

  if (!(this._folders instanceof Array)) {
    this._folders = [];
  }
}

inherits(WebStorageman, EventEmitter);
var p = WebStorageman.prototype;

p.features = {
  save: true,
  open: true,
  browse: true };


p.save = function (name, data, path) {
  name = this._validName(name);
  path = this._validPath(path);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.load = function (name, path) {
  name = this._validName(name);
  path = this._validPath(path);

  return this._get(path + name);
};

p.mkdir = function (path) {
  path = this._validPath(path).split("/").filter(Boolean);

  var folderPath = "";

  path.forEach(function (folder) {
    this._addFolder(folder + "/");
  }, this);
};

p.dir = function (path) {
  path = ROOT + this._validPath(path);

  var ret = [];

  Object.keys(window.localStorage).forEach(function (key) {
    if (key.indexOf(FOLDERS) === -1) {
      testKey(key, "file");
    }
  });

  this._folders.forEach(function (path) {
    testKey(ROOT + path.slice(0, -1), "folder");
  });

  return ret;

  function testKey(key, type) {
    if (key.indexOf(path) === 0) {
      key = key.substr(path.length);

      if (key.indexOf("/") === -1) {
        ret.push({
          name: key,
          type: type
        });
      }
    }
  }
};

p._addFolder = function (path) {
  if (this._folders.indexOf(path) !== -1) {
    return;
  }

  this._folders.push(path);

  window.localStorage.setItem(ROOT + FOLDERS, JSON.stringify(this._folders));
};

p._set = function (path, data) {
  return window.localStorage.setItem(ROOT + path, data);
};

p._get = function (path) {
  return window.localStorage.getItem(ROOT + path);
};

p._validPath = function (path) {
  if (!path) {
    path = "";
  }

  if (path.charAt(0) === "/") {
    path = path.substr(1);
  }

  if (path.charAt(path.length - 1) !== "/" && path.length) {
    path += "/";
  }

  return path;
};

p._validName = function (name) {
  return name.replace(/<|\//g, "_");
};

module.exports = WebStorageman;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Block(opt) {
  EventEmitter.call(this);

  this._createDomElem();

  this.size = opt.size || 1;
  this.scaleMode = opt.scaleMode || "flex";
}

inherits(Block, EventEmitter);
var p = Block.prototype;
module.exports = Block;

Object.defineProperties(p, {
  size: {
    set: function (v) {
      if (typeof (v) !== "number" || this._size === v) return;

      this._size = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._size;
    }
  },
  scaleMode: {
    set: function (v) {
      if (typeof (v) !== "string" || this._scaleMode === v) return;

      this._scaleMode = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._scaleMode;
    }
  }
});

p.bubbleResize = function () {};

p._refresh = function () {
  var flex = "", width = "", height = "";

  if (this.scaleMode === "fix") {
    if (this._direction === "row") {
      width = this.size + "px";
    } else {
      height = this.size + "px";
    }
  } else if (this.scaleMode === "flex") {
    flex = this.size;
  }

  this.domElem.style.width = width;
  this.domElem.style.height = height;
  this.domElem.style.flex = flex;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "relative";
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.flex = "1";
  this.domElem.style.alignSelf = "stretch";
  this.domElem.style.pointerEvents = "none";

  this.domElem.setAttribute("data-debug", "block");
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Container.js":[function(require,module,exports){
"use strict";

var Block = require("./Block");
var Panel = require("./Panel");
var inherits = require("inherits");
var amgui = require("../amgui");

function Container(opt) {
  Block.call(this, opt);

  this._children = [];
  this._deHandlers = [];

  this.direction = opt.direction || "row";

  opt.children.forEach(function (cData) {
    if (cData.type === "container") {
      this.addChild(new Container(cData));
    } else if (cData.type === "panel") {
      this.addChild(new Panel(cData));
    }
  }, this);

  amgui.callOnAdded(this.domElem, this._refreshHandlers.bind(this));
}

inherits(Container, Block);
var p = Container.prototype;
module.exports = Container;

Object.defineProperties(p, {
  direction: {
    set: function (v) {
      this._direction = v;
      this.domElem.style.flexDirection = this._direction;
    },
    get: function () {
      return this._direction;
    }
  }
});

p.addChild = function (child) {
  this.addChildAt(child, this._children.length);
};

p.addChildAt = function (child, idx) {
  this._children.splice(idx, 0, child);
  this._refreshChildren();
  this._refreshHandlers();
};

p.findTab = function (name) {
  var tab;

  this._children.some(function (child) {
    tab = child.findTab(name);
    return tab;
  });

  return tab;
};

p.bubbleResize = function () {
  if (!this._children || !this._deHandlers) return;

  this._children.forEach(function (child) {
    child.bubbleResize();
  });

  this._refreshHandlers();
};






p._getFlexPerPx = function () {
  var br = this.domElem.getBoundingClientRect(), fullPx = this.direction === "row" ? br.width : br.height, fullFlex = 0;

  this._children.forEach(function (child) {
    if (child.scaleMode === "fix") {
      fullPx -= child.size;
    } else {
      fullFlex += child.size;
    }
  });

  return fullFlex / fullPx;
};

p._refreshChildren = function () {
  this._children.forEach(function (child) {
    this.domElem.appendChild(child.domElem);
  }, this);
};

p._refreshHandlers = function () {
  var i, deHandler, ncBr, thickness = 4, br = this.domElem.getBoundingClientRect();

  for (i = 0; i < this._children.length - 1; ++i) {
    if (!this._deHandlers[i]) {
      this._deHandlers.push(this._createHandler());
    }

    ncBr = this._children[i + 1].domElem.getBoundingClientRect();
    deHandler = this._deHandlers[i];

    if (this.direction === "row") {
      deHandler.style.left = (ncBr.left - br.left - thickness / 2) + "px";
      deHandler.style.top = "0px";
      deHandler.style.width = thickness + "px";
      deHandler.style.height = "100%";
      deHandler.style.cursor = "ew-resize";
    } else {
      deHandler.style.left = "0px";
      deHandler.style.top = (ncBr.top - br.top - thickness / 2) + "px";
      deHandler.style.width = "100%";
      deHandler.style.height = thickness + "px";
      deHandler.style.cursor = "ns-resize";
    }
  }

  this._deHandlers.splice(i).forEach(function (deHandler) {
    deHandler.parentNode.removeChild(deHandler);
  });
};







p._onResize = function () {
  this._refreshHandlers();
};

p._onDragHandler = function (md, mx, my) {
  var move = this.direction === "row" ? mx - md.mx : my - md.my, moveFlex = move * this._getFlexPerPx(), prevChild = this._children[md.idx], nextChild = this._children[md.idx + 1];

  prevChild.size = md.prevChildSize + (prevChild.scaleMode === "fix" ? move : moveFlex);
  nextChild.size = md.nextChildSize - (nextChild.scaleMode === "fix" ? move : moveFlex);

  this._refreshHandlers();
};









p._createHandler = function () {
  var de = document.createElement("div");
  de.style.position = "absolute";
  de.style.cursor = "crosshair";
  de.style.pointerEvents = "auto";

  amgui.makeDraggable({
    deTarget: de,
    thisArg: this,
    onDown: function () {
      var idx = this._deHandlers.indexOf(de);
      return {
        idx: idx,
        prevChildSize: this._children[idx].size,
        nextChildSize: this._children[idx + 1].size
      };
    },
    onMove: this._onDragHandler,
    onEnter: function () {
      de.style.background = "#fff";
    },
    onLeave: function () {
      de.style.background = "";
    }
  });

  this.domElem.appendChild(de);

  return de;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Block":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js","./Panel":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Panel.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Dialogs.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Dialogs() {
  EventEmitter.call(this);

  this._createDomElem();
  this._createFrame();

  this._dialogStack = [];

  this._offsetX = 0;
  this._offsetY = 0;
}

inherits(Dialogs, EventEmitter);
var p = Dialogs.prototype;
module.exports = Dialogs;

p.showDialog = function (popup) {
  if (this._currPopup) {
    this._dialogStack.push(this._currPopup);
  }

  this.move(0, 0);

  this._currPopup = popup;

  this._deFrame.setTitle(popup.title);
  this._deFrame.setContent(popup.deContent);
  this._deFrame.setButtons(popup.buttons);

  this.domElem.style.display = "block";

  if (popup.onShow) popup.onShow();
};

p.hideDialog = function (popup) {
  popup = popup || this._currPopup;

  if (!popup) return;

  this.domElem.style.display = "none";

  if (popup.onHide) popup.onHide();

  if (_.has(this._dilaogStack, popup)) {
    _.pull(this._dilaogStack, popup);
  } else if (popup === this._currPopup) {
    this._currPopup = undefined;

    if (this._dialogStack.length) {
      this.showDialog(this._dialogStack.pop());
    }
  }
};

p.move = function (x, y) {
  this._offsetX = x;
  this._offsetY = y;

  this._deFrame.style.transform = "translate(" + x + "px," + y + "px)";

  return this;
};

p.setTitle = function (title) {
  if (this._currPopup) {
    this._currPopup.title = title;
  }

  this._deFrame.setTitle(title);
};














p._createDomElem = function () {
  var _this = this;


  this.domElem = document.createElement("div");
  this.domElem.style.position = "absolute";
  this.domElem.style.display = "none";
  this.domElem.style.pointerEvents = "auto";
  this.domElem.style.top = "0px";
  this.domElem.style.left = "0px";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = "rgba(255,255,255,.3)";

  this.domElem.addEventListener("click", function (e) {
    if (e.target === e.currentTarget) _this.hideDialog();
  });
};

p._createFrame = function () {
  var de, deTitle, deTitleText, deTitleIcon, deContentCont, deButtonsCont, buttons = [];

  de = document.createElement("div");
  de.style.position = "absolute";
  de.style.left = "0";
  de.style.right = "0";
  de.style.top = "0";
  de.style.bottom = "0";
  de.style.width = "-webkit-fit-content";
  de.style.height = "-webkit-fit-content";
  de.style.width = "-moz-fit-content";
  de.style.height = "-moz-fit-content";
  de.style.width = "fit-content";
  de.style.height = "fit-content";
  de.style.margin = "auto";
  de.style.pointerEvents = "auto";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;

  this._deFrame = de;
  this.domElem.appendChild(this._deFrame);


  deTitle = document.createElement("div");
  deTitle.style.display = "inline-block";
  deTitle.style.padding = "0 18px";
  deTitle.style.height = "34px";
  deTitle.style.fontSize = "23px";
  deTitle.style.fontWeight = "700";
  deTitle.style.background = amgui.color.overlay;
  deTitle.style.color = amgui.color.text;
  de.appendChild(deTitle);

  deTitleText = document.createElement("span");
  deTitle.appendChild(deTitleText);

  deTitleIcon = amgui.createIcon({
    parent: deTitle,
    display: "inline-block" });



  deContentCont = document.createElement("div");
  deContentCont.style.background = amgui.color.overlay;
  de.appendChild(deContentCont);

  deButtonsCont = document.createElement("div");
  deButtonsCont.style.background = amgui.color.overlay;
  deButtonsCont.style.display = "inline-block";
  deButtonsCont.style.float = "right";
  de.appendChild(deButtonsCont);


  de.setTitle = function (title) {
    if (typeof (title) !== "object") {
      title = { text: title };
    }

    deTitleText.textContent = title.text || "Dialog";

    if (title.icon) {
      deTitleIcon.setIcon(title.icon);
      deTitleIcon.style.display = "inline-block";
    } else {
      deTitleIcon.style.display = "none";
    }
  };

  de.setContent = function (deContent) {
    if (!deContent) {
      return;
    }

    deContentCont.innerHTML = "";
    deContentCont.appendChild(deContent);
  };

  de.setButtons = function (btnDataList) {
    if (!buttons) {
      return;
    }

    buttons.length = 0;
    deButtonsCont.innerHTML = "";

    btnDataList.forEach(function (btnData) {
      if (btnData.hidden) return;

      if (typeof (btnData) === "string") {
        de.addButton(btnData);
      } else {
        de.addButton(btnData.text, btnData.onClick);
      }
    });
  };

  de.addButton = function (text, handler) {
    var btn = amgui.createBtn({
      text: text,
      height: "100%",
      background: "rgba(0,0,0,0)" });
    btn.style.display = "inline-block";
    btn.style.fontWeight = "700";
    btn.style.fontSize = "18px";
    deButtonsCont.appendChild(btn);

    buttons.push(btn);

    btn.addEventListener("click", function () {
      if (handler) handler();

      de.dispatchEvent(new Event("click_" + text.toLowerCase()));
    });
  };

  amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function () {
      return {
        offsetX: this._offsetX,
        offsetY: this._offsetY };
    },
    onDrag: function (md) {
      this.move(md.offsetX + md.dx, md.offsetY + md.dy);
    }
  });

  return de;
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Panel.js":[function(require,module,exports){
"use strict";

var Tab = require("./Tab");
var amgui = require("../amgui");
var Block = require("./Block");
var inherits = require("inherits");

function Panel(opt) {
  Block.call(this, opt);

  this._tabs = [];

  this._onToggleCollapsed = this._onToggleCollapsed.bind(this);

  this._createTabBase();

  this._empty = false;
  this._collapsed = false;
  this._noHead = false;

  if ("empty" in opt) this.empty = opt.empty;
  if ("collapsed" in opt) this.collapsed = opt.collapsed;
  if ("noHead" in opt) this.noHead = opt.noHead;

  if (opt.tabs) {
    opt.tabs.forEach(this.addTab, this);
  }

  if (!this._tabs.some(function (tab) {
    return tab.selected;
  }) && this._tabs.length) {
    this._tabs[0].select();
  }
}

inherits(Panel, Block);
var p = Panel.prototype;
module.exports = Panel;

Object.defineProperties(p, {
  empty: {
    set: function (v) {
      v = !!v;
      if (this._empty === v) return;

      this._empty = v;
      this.domElem.style.pointerEvents = this._empty ? "none" : "auto";
      this.domElem.style.visibility = this._empty ? "hidden" : "visibile";
    },
    get: function () {
      return this._empty;
    }
  },

  collapsed: {
    set: function (v) {
      v = !!v;
      if (this._collapsed === v) return;

      this._collapsed = v;
      this._deTabContent.style.display = this._collapsed ? "none" : "flex";
    },
    get: function () {
      return this._collapsed;
    }
  },

  noHead: {
    set: function (v) {
      v = !!v;
      if (this._noHead === v) return;

      this._noHead = v;
      this._deTabHead.style.display = this._noHead ? "none" : "flex";
    },
    get: function () {
      return this._noHead;
    }
  }
});

p.addTab = function (tData) {
  var tab = new Tab(tData);
  this._deTabHead.appendChild(tab.deEar);
  this._deTabContent.appendChild(tab.domElem);
  this._tabs.push(tab);

  tab.deEar.addEventListener("click", this.showTab.bind(this, tab));
};


p.findTab = function (name) {
  var tab;

  this._tabs.some(function (t) {
    if (t.name === name) {
      return (tab = t);
    }
  });

  return tab;
};

p.showTab = function (tab) {
  this._tabs.forEach(function (t) {
    if (tab === t) {
      t.select();
    } else {
      t.deselect();
    }
  });
};

p.bubbleResize = function () {
  if (!this._tabs) return;

  this._tabs.forEach(function (tab) {
    tab.bubbleResize();
  });
};







p._onToggleCollapsed = function () {
  this.collapsed = !this.collapsed;

  this._btnToggleCollapsed.setToggle(this.collapsed);
};






p._createTabBase = function () {
  this._deTabBase = amgui.createDiv();;
  this._deTabBase.style.display = "flex";
  this._deTabBase.style.flexDirection = "column";
  this._deTabBase.style.alignSelf = "stretch";
  this._deTabBase.style.flex = "1";
  this.domElem.appendChild(this._deTabBase);

  this._deTabHead = amgui.createDiv();;
  this._deTabHead.style.width = "100%";
  this._deTabHead.style.height = amgui.LINE_HEIGHT + "px";
  this._deTabHead.style.display = "flex";
  this._deTabHead.style.alignItems = "stretch";
  this._deTabHead.style.background = amgui.color.bg0;
  this._deTabHead.style.pointerEvents = "auto";
  this._deTabHead.setAttribute("data-debug", "tabhead");
  this._deTabBase.appendChild(this._deTabHead);

  this._deTabContent = amgui.createDiv();;
  this._deTabContent.style.position = "relative";
  this._deTabContent.style.overflow = "hidden";
  this._deTabContent.style.width = "100%";
  this._deTabContent.style.flex = 1;
  this._deTabContent.setAttribute("data-debug", "tabcontent");
  this._deTabBase.appendChild(this._deTabContent);

  this._btnToggleCollapsed = amgui.createToggleIconBtn({
    tooltip: "show/hide tabs",
    iconOn: "collapse",
    iconOff: "expand",
    parent: this._deTabHead,
    display: "inline-block",
    onClick: this._onToggleCollapsed
  });
  this._btnToggleCollapsed.style.order = 1;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Block":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js","./Tab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Tab.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Tab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Tab(opt) {
  this.name = opt.name;
  this.selected = opt.selected;

  this._createDomElem();
  this.deEar = this._createTabEar();

  this[this.selected ? "select" : "deselect"]();
}

var p = Tab.prototype;

p.setContent = function (deContent) {
  this.domElem.innerHTML = "";

  if (deContent) {
    this.domElem.appendChild(deContent);
    deContent.style.position = "absolute";
  }
};

p.bubbleResize = function () {
  this.domElem.dispatchEvent(new Event("resize"));
};



p.select = function () {
  this.domElem.style.display = "block";
  this.deEar.style.borderBottomWidth = "1px";
  this.deEar.style.color = amgui.color.text;
};

p.deselect = function () {
  this.domElem.style.display = "none";
  this.deEar.style.borderBottomWidth = "0px";
  this.deEar.style.color = amgui.color.textInactive;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "realtive";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.setAttribute("data-debug", "tab - " + this.name);
};

p._createTabEar = function () {
  var de = amgui.createLabel({
    text: this.name,
    flex: 1 });
  de.style.boxSizing = "border-box";
  de.style.cursor = "default";
  de.style.borderBottom = "solid 1px white";
  de.style.alignSelf = "stretch";
  de.style.overflow = "hidden";
  de.style.textAlign = "center";

  return de;
};

module.exports = Tab;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Windooman.js":[function(require,module,exports){
"use strict";

var Container = require("./Container");
var Dialogs = require("./Dialogs");

function Windooman() {
  this._tabMap = {};
  this._workspaces = {};

  this._createDomElem();
  this._initResize();

  this.dialogs = new Dialogs();
  this.domElem.appendChild(this.dialogs.domElem);
}

var p = Windooman.prototype;

p.loadWorkspace = function (name, workspace) {
  this._workspaces[name] = workspace;
};

p.getWorkspace = function (name) {
  return _.cloneDeep(this._workspaces[name]);
};

p.load = function (name, workspace) {
  if (workspace) {
    this.loadWorkspace(name, workspace);
  }

  var map = this._workspaces[name];

  if (!map || map.type !== "container") {
    throw Error("can't load " + map);
  }

  this._root = new Container(map);

  this._deCont.innerHTML = "";
  this._deCont.appendChild(this._root.domElem);

  Object.keys(this._tabMap).forEach(function (name) {
    this.fillTab(name, this._tabMap[name]);
  }, this);
};

p.findTab = function (name) {
  if (this._root) {
    return this._root.findTab(name);
  }
};

p.fillTab = function (name, content) {
  this._tabMap[name] = content;

  var tab = this.findTab(name);

  if (tab) {
    tab.setContent(content);
  } else {}
};

p._initResize = function () {
  var isWaiting = false;

  var cb = function () {
    if (this._root) {
      this._root.bubbleResize();
      isWaiting = false;
    }
  }.bind(this);

  window.addEventListener("resize", function () {
    if (!isWaiting) {
      isWaiting = true;
      window.requestAnimationFrame(cb);
    }
  });
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";

  this._deCont = document.createElement("div");
  this._deCont.style.width = "100%";
  this._deCont.style.height = "100%";
  this._deCont.style.display = "flex";
  this.domElem.appendChild(this._deCont);
};

module.exports = Windooman;

},{"./Container":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Container.js","./Dialogs":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Dialogs.js"}]},{},["./src/editor/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbWFpbi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvYmV6aWVyLWVhc2luZy9pbmRleC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvYm93c2VyL2Jvd3Nlci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvZG9tcmVhZHkvcmVhZHkuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2V2ZW50bWFuL2V2ZW50bWFuLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzXFxsb2Rhc2hcXGRpc3RcXGxvZGFzaC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9DdXJzb3JIaW50LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvZXM1L1RyYW5zaGFuZC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9Cb3hlci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9UcmFuc2Zvcm1lci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9jdXJ2ZXIvQ3VydmVyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvZXM1L21ha2UtZHJhZ2dhYmxlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0uY3NzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0vYW0uY2xpcGJvYXJkLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0vYW0uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbS9hbS5tZW51LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0vYW0udG9vbHMuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbS9iYXNlV29ya3NwYWNlLmpzb24iLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5iZXppZXJFZGl0b3IuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5icmVhZGNydW1icy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmJ1dHRvbi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmNoZWNrYm94LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuY3Vyc29yLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuZGlhbG9nLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuZHJhd2VyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuZHJvcGRvd24uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5pbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkua2V5VmFsdWVJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLm1ha2VEcmFnZ2FibGUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5zY3JvbGwuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5zdGVwcGVyS2V5LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkudG9vbHRpcC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLnV0aWxzLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYXNzZXRzL2ZvbnRlbGxvL2NvbmZpZy5qc29uIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYXNzZXRzL2ZvbnRlbGxvL2Nzcy9hbWd1aS5jc3MiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9jaHJvbmljbGVyL0Nocm9uaWNsZXIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9jb21tb25EaWFsb2dzL2RpYWxvZ0ZlZWRiYWNrLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvY29tbW9uRGlhbG9ncy9kaWFsb2dXSVAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9jb21tb25EaWFsb2dzL2RpYWxvZ1dlbGNvbWUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9kb20tcGlja2VyL0RvbVBpY2tlci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2hpc3RvcnlUYWIvSGlzdG9yeVRhYi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2hpc3RvcnlUYWIvSXRlbS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2kxOG4uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9taW5lU2F2ZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvYW0tZG9tdHJlZS9CcmFuY2guanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2FtLWRvbXRyZWUvRG9tVHJlZVRhYi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvYW0tZG9tdHJlZS9hbS1kb210cmVlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvQmV6aWVyQ3NzUGFyYW0uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9Dc3NQYXJhbS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0Nzc1BhcmFtRmFjdG9yeS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0Nzc1BhcmFtR3JvdXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9Dc3NQYXJhbXNUYWIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9Dc3NUcmFjay5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL2Nzc01vZHVsZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vdXNlL01vdXNlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvcHJvamVjdC9Qcm9qZWN0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvcHJvamVjdC9Qcm9qZWN0TWFwLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvcHJvamVjdC9Qcm9qZWN0VGFiLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvcHJvamVjdC9zY3JpcHQucHJvamVjdC5tc3QiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9xc2dlbi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Nob3J0Y3V0cy9kaWFsb2dTZXR0aW5ncy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Nob3J0Y3V0cy9zaG9ydGN1dHMuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9FYXNlTWFwLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvSW5saW5lRWFzZUVkaXRvci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RpbWVsaW5lL1RpbWViYXIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9UaW1lbGluZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RpbWVsaW5lL1RyaWdnZXJNYXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9kZWNvclRpbWViYXJOYXZpZ2F0b3IuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9zY3JpcHQudGltZWxpbmUubXN0IiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdG9vbGJhci9Ub29sYmFyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdG91ci9Ub3VyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svRWFzZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL0tleS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL0tleUdyb3VwLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svS2V5TGluZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL0tleUxpbmVHcm91cC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL1BhcmFtLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svUGFyYW1GYWN0b3J5LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svUGFyYW1Hcm91cC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL1RyYWNrLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svZGlhbG9nRWFzZU9wdGlvbnMuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9kaWFsb2dOZXdQYXJhbS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL2RpYWxvZ1RyYWNrT3B0aW9ucy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL3NjcmlwdC5wbGF5ZXIubXN0IiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvQ2hlY2tib3hJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL0NvbG9ySW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9EaWFsb2cuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9JbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL09wdGlvbkxpbmUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9TZWxlY3RJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1N0cmluZ0lucHV0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvVGFyZ2V0c0lucHV0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvVW5pdElucHV0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2FyZWhvdXNlbWFuL1dhcmVob3VzZW1hbi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9kZWNvckRpYWxvZy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9zdG9yYWdlcy9Eb3dubG9hZC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9zdG9yYWdlcy9QYWdlU2NyaXB0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2FyZWhvdXNlbWFuL3N0b3JhZ2VzL1dlYlN0b3JhZ2VtYW4uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vQmxvY2suanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vQ29udGFpbmVyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL0RpYWxvZ3MuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vUGFuZWwuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vVGFiLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL1dpbmRvb21hbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQzs7QUFFdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFO0FBRWpDLDBCQUF3QixFQUFFLENBQUM7QUFDM0IsUUFBTSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQztDQUN0Qzs7QUFFRCxNQUFNLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFL0IsU0FBUyx3QkFBd0IsR0FBRztBQUVoQyxNQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzVDLFNBQU8sQ0FBQyxXQUFXLEdBQUcsOEVBQThFLENBQUM7QUFDckcsU0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQ2hDLFNBQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUM5QixTQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7QUFDdkMsU0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQ2hDLFNBQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQztBQUM5QixTQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQztBQUM3QyxTQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDdEIsU0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLFNBQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN6QixTQUFPLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7QUFDdkIsVUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQzdCLE1BQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDekMsS0FBRyxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztBQUNuQyxTQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUV6QixVQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7OztBQzdCdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2pvTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9TQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hIQTtBQUNBOzs7Ozs7OztBQ0tJLE9BQUssRUFBRSxNQUFNLEVBQ2hCLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzs7QUFFL0IsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMvQyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FB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QWEsR0FBRyxHQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQztBQUMzQyxLQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDOztBQUV4RSxNQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVMsQ0FBQyxFQUFFO0FBRWpDLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sSUFDM0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUssR0FBRyxDQUFDLFVBQVUsSUFDbkMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sSUFDM0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEtBQUssR0FBRyxDQUFDLGFBQWEsSUFDekMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEtBQUssR0FBRyxDQUFDLGFBQWEsSUFDekMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksRUFDM0I7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LFNBQU87QUFDSCxnQkFBWSxFQUFFLFlBQVk7QUFDMUIsZUFBVyxFQUFFLFdBQVc7QUFDeEIsZ0JBQVksRUFBRSxZQUFZLEVBQzdCLENBQUM7Q0FDTCxDQUFDOzs7QUNuSkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDdkIsTUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLEVBQUU7QUFFckMsUUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU87O0FBRXpCLFlBQVEsS0FBSyxDQUFDLElBQUk7QUFDZCxXQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUNyRCxXQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUNyRCxXQUFLLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUMxRCxXQUFLLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUMxRCxXQUFLLFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUM3RSxXQUFLLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUMxRSxXQUFLLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxBQUFDLE1BQU07QUFBQSxBQUMxRSxXQUFLLFFBQVE7QUFDVCxZQUFJLEtBQUss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QUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLFdBQVcsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUUzRCxTQUFHLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEMsU0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNsRDtBQUNELE9BQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFYixTQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsV0FBVyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO0FBRXZELFNBQUcsQ0FBQyxNQUFNLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4QyxTQUFHLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDO0tBQ2xEO0FBQ0QsT0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDOztBQUViLFNBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFFekQsVUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQzlCLFdBQUssR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDeEMsU0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUs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LE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUNsQyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ25DLE1BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0FBRXBDLE1BQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM3QyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDbkMsTUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUNwQyxNQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDMUMsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgYm93c2VyID0gcmVxdWlyZSgnYm93c2VyJykuYnJvd3NlcjtcblxuaWYgKCFib3dzZXIuY2hyb21lICYmICFib3dzZXIub3BlcmEpIHtcblxuICAgIGFsZXJ0VW5zdXBwb3J0ZWRCcm93c2VycygpO1xuICAgIHRocm93IEVycm9yKCd1bnN1cHBvcnRlZCBicm93c2VyJyk7XG59XG5cbndpbmRvdy5hbSA9IHJlcXVpcmUoJy4vYW0vYW0nKTtcblxuZnVuY3Rpb24gYWxlcnRVbnN1cHBvcnRlZEJyb3dzZXJzKCkge1xuXG4gICAgdmFyIGRlU29ycnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVNvcnJ5LnRleHRDb250ZW50ID0gJ1NvcnJ5LCB0aGlzIGRlbW8gaXMgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBuZXdlc3QgY2hyb21lIGFuZCBvcGVyYS4nO1xuICAgIGRlU29ycnkuc3R5bGUuZGlzcGxheSA9ICdmaXhlZCc7XG4gICAgZGVTb3JyeS5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gICAgZGVTb3JyeS5zdHlsZS5mb250RmFtaWx5ID0gJ09wZW4gU2Fucyc7XG4gICAgZGVTb3JyeS5zdHlsZS5mb250U2l6ZSA9ICcyMXB4JztcbiAgICBkZVNvcnJ5LnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICBkZVNvcnJ5LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLjMpJztcbiAgICBkZVNvcnJ5LnN0eWxlLnRvcCA9IDA7XG4gICAgZGVTb3JyeS5zdHlsZS5yaWdodCA9IDA7XG4gICAgZGVTb3JyeS5zdHlsZS5ib3R0b20gPSAwO1xuICAgIGRlU29ycnkuc3R5bGUubGVmdCA9IDA7XG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB2YXIgZW1vID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGVtby5jbGFzc05hbWUgPSAnaWNvbi1lbW8tdW5oYXBweSc7XG4gICAgZGVTb3JyeS5hcHBlbmRDaGlsZChlbW8pO1xuICAgIC8vIGFtZ3VpLmNyZWF0ZUljb24oe2ljb246ICdlbW8tdW5oYXBweScsIHBhcmVudDogZGVTb3JyeSwgZGlzcGxheTogJ2lubGluZSd9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRlU29ycnkpO1xufVxuIiwiLyoqXG4gKiBCZXppZXJFYXNpbmcgLSB1c2UgYmV6aWVyIGN1cnZlIGZvciB0cmFuc2l0aW9uIGVhc2luZyBmdW5jdGlvblxuICogYnkgR2HDq3RhbiBSZW5hdWRlYXUgMjAxNCDigJMgTUlUIExpY2Vuc2VcbiAqXG4gKiBDcmVkaXRzOiBpcyBiYXNlZCBvbiBGaXJlZm94J3MgbnNTTUlMS2V5U3BsaW5lLmNwcFxuICogVXNhZ2U6XG4gKiB2YXIgc3BsaW5lID0gQmV6aWVyRWFzaW5nKDAuMjUsIDAuMSwgMC4yNSwgMS4wKVxuICogc3BsaW5lKHgpID0+IHJldHVybnMgdGhlIGVhc2luZyB2YWx1ZSB8IHggbXVzdCBiZSBpbiBbMCwgMV0gcmFuZ2VcbiAqXG4gKi9cbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGRlZmluaXRpb24pO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5CZXppZXJFYXNpbmcgPSBkZWZpbml0aW9uKCk7XG4gIH1cbn0oZnVuY3Rpb24gKCkge1xuICB2YXIgZ2xvYmFsID0gdGhpcztcblxuICAvLyBUaGVzZSB2YWx1ZXMgYXJlIGVzdGFibGlzaGVkIGJ5IGVtcGlyaWNpc20gd2l0aCB0ZXN0cyAodHJhZGVvZmY6IHBlcmZvcm1hbmNlIFZTIHByZWNpc2lvbilcbiAgdmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNDtcbiAgdmFyIE5FV1RPTl9NSU5fU0xPUEUgPSAwLjAwMTtcbiAgdmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbiAgdmFyIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTA7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICB2YXIgZmxvYXQzMkFycmF5U3VwcG9ydGVkID0gJ0Zsb2F0MzJBcnJheScgaW4gZ2xvYmFsO1xuXG4gIGZ1bmN0aW9uIEJlemllckVhc2luZyAobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgLy8gVmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJlemllckVhc2luZyByZXF1aXJlcyA0IGFyZ3VtZW50cy5cIik7XG4gICAgfVxuICAgIGZvciAodmFyIGk9MDsgaTw0OyArK2kpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKGFyZ3VtZW50c1tpXSkgfHwgIWlzRmluaXRlKGFyZ3VtZW50c1tpXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmV6aWVyRWFzaW5nIGFyZ3VtZW50cyBzaG91bGQgYmUgaW50ZWdlcnMuXCIpO1xuICAgICAgfSBcbiAgICB9XG4gICAgaWYgKG1YMSA8IDAgfHwgbVgxID4gMSB8fCBtWDIgPCAwIHx8IG1YMiA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJlemllckVhc2luZyB4IHZhbHVlcyBtdXN0IGJlIGluIFswLCAxXSByYW5nZS5cIik7XG4gICAgfVxuXG4gICAgdmFyIG1TYW1wbGVWYWx1ZXMgPSBmbG9hdDMyQXJyYXlTdXBwb3J0ZWQgPyBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpIDogbmV3IEFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuICAgXG4gICAgZnVuY3Rpb24gQSAoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMTsgfVxuICAgIGZ1bmN0aW9uIEIgKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTE7IH1cbiAgICBmdW5jdGlvbiBDIChhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExOyB9XG4gICBcbiAgICAvLyBSZXR1cm5zIHgodCkgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgeSh0KSBnaXZlbiB0LCB5MSwgYW5kIHkyLlxuICAgIGZ1bmN0aW9uIGNhbGNCZXppZXIgKGFULCBhQTEsIGFBMikge1xuICAgICAgcmV0dXJuICgoQShhQTEsIGFBMikqYVQgKyBCKGFBMSwgYUEyKSkqYVQgKyBDKGFBMSkpKmFUO1xuICAgIH1cbiAgIFxuICAgIC8vIFJldHVybnMgZHgvZHQgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgZHkvZHQgZ2l2ZW4gdCwgeTEsIGFuZCB5Mi5cbiAgICBmdW5jdGlvbiBnZXRTbG9wZSAoYVQsIGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gMy4wICogQShhQTEsIGFBMikqYVQqYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlIChhWCwgYUd1ZXNzVCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkgcmV0dXJuIGFHdWVzc1Q7XG4gICAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjU2FtcGxlVmFsdWVzICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIG1TYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUgKGFYLCBhQSwgYUIpIHtcbiAgICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFBID0gY3VycmVudFQ7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IFNVQkRJVklTSU9OX1BSRUNJU0lPTiAmJiArK2kgPCBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyk7XG4gICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclggKGFYKSB7XG4gICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9IGxhc3RTYW1wbGUgJiYgbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuICAgICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICAvLyBJbnRlcnBvbGF0ZSB0byBwcm92aWRlIGFuIGluaXRpYWwgZ3Vlc3MgZm9yIHRcbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAobVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlKzFdIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICB2YXIgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG5cbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX3ByZWNvbXB1dGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gcHJlY29tcHV0ZSgpIHtcbiAgICAgIF9wcmVjb21wdXRlZCA9IHRydWU7XG4gICAgICBpZiAobVgxICE9IG1ZMSB8fCBtWDIgIT0gbVkyKVxuICAgICAgICBjYWxjU2FtcGxlVmFsdWVzKCk7XG4gICAgfVxuXG4gICAgdmFyIGYgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgIGlmICghX3ByZWNvbXB1dGVkKSBwcmVjb21wdXRlKCk7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHJldHVybiBhWDsgLy8gbGluZWFyXG4gICAgICAvLyBCZWNhdXNlIEphdmFTY3JpcHQgbnVtYmVyIGFyZSBpbXByZWNpc2UsIHdlIHNob3VsZCBndWFyYW50ZWUgdGhlIGV4dHJlbWVzIGFyZSByaWdodC5cbiAgICAgIGlmIChhWCA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICBpZiAoYVggPT09IDEpIHJldHVybiAxO1xuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoYVgpLCBtWTEsIG1ZMik7XG4gICAgfTtcblxuICAgIGYuZ2V0Q29udHJvbFBvaW50cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gW3sgeDogbVgxLCB5OiBtWTEgfSwgeyB4OiBtWDIsIHk6IG1ZMiB9XTsgfTtcblxuICAgIHZhciBhcmdzID0gW21YMSwgbVkxLCBtWDIsIG1ZMl07XG4gICAgdmFyIHN0ciA9IFwiQmV6aWVyRWFzaW5nKFwiK2FyZ3MrXCIpXCI7XG4gICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cjsgfTtcblxuICAgIHZhciBjc3MgPSBcImN1YmljLWJlemllcihcIithcmdzK1wiKVwiO1xuICAgIGYudG9DU1MgPSBmdW5jdGlvbiAoKSB7wqByZXR1cm4gY3NzOyB9O1xuXG4gICAgcmV0dXJuIGY7XG4gIH1cblxuICAvLyBDU1MgbWFwcGluZ1xuICBCZXppZXJFYXNpbmcuY3NzID0ge1xuICAgIFwiZWFzZVwiOiAgICAgICAgQmV6aWVyRWFzaW5nKDAuMjUsIDAuMSwgMC4yNSwgMS4wKSxcbiAgICBcImxpbmVhclwiOiAgICAgIEJlemllckVhc2luZygwLjAwLCAwLjAsIDEuMDAsIDEuMCksXG4gICAgXCJlYXNlLWluXCI6ICAgICBCZXppZXJFYXNpbmcoMC40MiwgMC4wLCAxLjAwLCAxLjApLFxuICAgIFwiZWFzZS1vdXRcIjogICAgQmV6aWVyRWFzaW5nKDAuMDAsIDAuMCwgMC41OCwgMS4wKSxcbiAgICBcImVhc2UtaW4tb3V0XCI6IEJlemllckVhc2luZygwLjQyLCAwLjAsIDAuNTgsIDEuMClcbiAgfTtcblxuICByZXR1cm4gQmV6aWVyRWFzaW5nO1xuXG59KSk7XG4iLCIvKiFcbiAgKiBCb3dzZXIgLSBhIGJyb3dzZXIgZGV0ZWN0b3JcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL2Jvd3NlclxuICAqIE1JVCBMaWNlbnNlIHwgKGMpIER1c3RpbiBEaWF6IDIwMTRcbiAgKi9cblxuIWZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0c1snYnJvd3NlciddID0gZGVmaW5pdGlvbigpXG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoZGVmaW5pdGlvbilcbiAgZWxzZSB0aGlzW25hbWVdID0gZGVmaW5pdGlvbigpXG59KCdib3dzZXInLCBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgICogU2VlIHVzZXJhZ2VudHMuanMgZm9yIGV4YW1wbGVzIG9mIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAqL1xuXG4gIHZhciB0ID0gdHJ1ZVxuXG4gIGZ1bmN0aW9uIGRldGVjdCh1YSkge1xuXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RNYXRjaChyZWdleCkge1xuICAgICAgdmFyIG1hdGNoID0gdWEubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxICYmIG1hdGNoWzFdKSB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgaW9zZGV2aWNlID0gZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lfGlwYWQpL2kpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgbGlrZUFuZHJvaWQgPSAvbGlrZSBhbmRyb2lkL2kudGVzdCh1YSlcbiAgICAgICwgYW5kcm9pZCA9ICFsaWtlQW5kcm9pZCAmJiAvYW5kcm9pZC9pLnRlc3QodWEpXG4gICAgICAsIHZlcnNpb25JZGVudGlmaWVyID0gZ2V0Rmlyc3RNYXRjaCgvdmVyc2lvblxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgICwgdGFibGV0ID0gL3RhYmxldC9pLnRlc3QodWEpXG4gICAgICAsIG1vYmlsZSA9ICF0YWJsZXQgJiYgL1teLV1tb2JpL2kudGVzdCh1YSlcbiAgICAgICwgcmVzdWx0XG5cbiAgICBpZiAoL29wZXJhfG9wci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdPcGVyYSdcbiAgICAgICwgb3BlcmE6IHRcbiAgICAgICwgdmVyc2lvbjogdmVyc2lvbklkZW50aWZpZXIgfHwgZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmF8b3ByKVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvd2luZG93cyBwaG9uZS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdXaW5kb3dzIFBob25lJ1xuICAgICAgLCB3aW5kb3dzcGhvbmU6IHRcbiAgICAgICwgbXNpZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9pZW1vYmlsZVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL21zaWV8dHJpZGVudC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdJbnRlcm5ldCBFeHBsb3JlcidcbiAgICAgICwgbXNpZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvY2hyb21lfGNyaW9zfGNybW8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQ2hyb21lJ1xuICAgICAgLCBjaHJvbWU6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZSA6IGlvc2RldmljZSA9PSAnaXBob25lJyA/ICdpUGhvbmUnIDogaW9zZGV2aWNlID09ICdpcGFkJyA/ICdpUGFkJyA6ICdpUG9kJ1xuICAgICAgfVxuICAgICAgLy8gV1RGOiB2ZXJzaW9uIGlzIG5vdCBwYXJ0IG9mIHVzZXIgYWdlbnQgaW4gd2ViIGFwcHNcbiAgICAgIGlmICh2ZXJzaW9uSWRlbnRpZmllcikge1xuICAgICAgICByZXN1bHQudmVyc2lvbiA9IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zYWlsZmlzaC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYWlsZmlzaCdcbiAgICAgICwgc2FpbGZpc2g6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3NlYW1vbmtleVxcLy9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTZWFNb25rZXknXG4gICAgICAsIHNlYW1vbmtleTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9zZWFtb25rZXlcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9maXJlZm94fGljZXdlYXNlbC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdGaXJlZm94J1xuICAgICAgLCBmaXJlZm94OiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OmZpcmVmb3h8aWNld2Vhc2VsKVsgXFwvXShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICAgIGlmICgvXFwoKG1vYmlsZXx0YWJsZXQpO1teXFwpXSpydjpbXFxkXFwuXStcXCkvaS50ZXN0KHVhKSkge1xuICAgICAgICByZXN1bHQuZmlyZWZveG9zID0gdFxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvc2lsay9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSAge1xuICAgICAgICBuYW1lOiAnQW1hem9uIFNpbGsnXG4gICAgICAsIHNpbGs6IHRcbiAgICAgICwgdmVyc2lvbiA6IGdldEZpcnN0TWF0Y2goL3NpbGtcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFuZHJvaWQpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0FuZHJvaWQnXG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9waGFudG9tL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1BoYW50b21KUydcbiAgICAgICwgcGhhbnRvbTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9waGFudG9tanNcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLnRlc3QodWEpIHx8IC9yaW1cXHN0YWJsZXQvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQmxhY2tCZXJyeSdcbiAgICAgICwgYmxhY2tiZXJyeTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xcZF0rXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvKHdlYnxocHcpb3MvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnV2ViT1MnXG4gICAgICAsIHdlYm9zOiB0XG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goL3coPzplYik/b3Nicm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfTtcbiAgICAgIC90b3VjaHBhZFxcLy9pLnRlc3QodWEpICYmIChyZXN1bHQudG91Y2hwYWQgPSB0KVxuICAgIH1cbiAgICBlbHNlIGlmICgvYmFkYS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdCYWRhJ1xuICAgICAgLCBiYWRhOiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL2RvbGZpblxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKC90aXplbi9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdUaXplbidcbiAgICAgICwgdGl6ZW46IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86dGl6ZW5cXHM/KT9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoL3NhZmFyaS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYWZhcmknXG4gICAgICAsIHNhZmFyaTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHJlc3VsdCA9IHt9XG5cbiAgICAvLyBzZXQgd2Via2l0IG9yIGdlY2tvIGZsYWcgZm9yIGJyb3dzZXJzIGJhc2VkIG9uIHRoZXNlIGVuZ2luZXNcbiAgICBpZiAoLyhhcHBsZSk/d2Via2l0L2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUgfHwgXCJXZWJraXRcIlxuICAgICAgcmVzdWx0LndlYmtpdCA9IHRcbiAgICAgIGlmICghcmVzdWx0LnZlcnNpb24gJiYgdmVyc2lvbklkZW50aWZpZXIpIHtcbiAgICAgICAgcmVzdWx0LnZlcnNpb24gPSB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXJlc3VsdC5vcGVyYSAmJiAvZ2Vja29cXC8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZSB8fCBcIkdlY2tvXCJcbiAgICAgIHJlc3VsdC5nZWNrbyA9IHRcbiAgICAgIHJlc3VsdC52ZXJzaW9uID0gcmVzdWx0LnZlcnNpb24gfHwgZ2V0Rmlyc3RNYXRjaCgvZ2Vja29cXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgfVxuXG4gICAgLy8gc2V0IE9TIGZsYWdzIGZvciBwbGF0Zm9ybXMgdGhhdCBoYXZlIG11bHRpcGxlIGJyb3dzZXJzXG4gICAgaWYgKGFuZHJvaWQgfHwgcmVzdWx0LnNpbGspIHtcbiAgICAgIHJlc3VsdC5hbmRyb2lkID0gdFxuICAgIH0gZWxzZSBpZiAoaW9zZGV2aWNlKSB7XG4gICAgICByZXN1bHRbaW9zZGV2aWNlXSA9IHRcbiAgICAgIHJlc3VsdC5pb3MgPSB0XG4gICAgfVxuXG4gICAgLy8gT1MgdmVyc2lvbiBleHRyYWN0aW9uXG4gICAgdmFyIG9zVmVyc2lvbiA9ICcnO1xuICAgIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pKTtcbiAgICAgIG9zVmVyc2lvbiA9IG9zVmVyc2lvbi5yZXBsYWNlKC9bX1xcc10vZywgJy4nKTtcbiAgICB9IGVsc2UgaWYgKGFuZHJvaWQpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL2FuZHJvaWRbIFxcLy1dKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC53aW5kb3dzcGhvbmUpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL3dpbmRvd3MgcGhvbmUgKD86b3MpP1xccz8oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LndlYm9zKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KW9zXFwvKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5ibGFja2JlcnJ5KSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9yaW1cXHN0YWJsZXRcXHNvc1xccyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuYmFkYSkge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvYmFkYVxcLyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQudGl6ZW4pIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL3RpemVuW1xcL1xcc10oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH1cbiAgICBpZiAob3NWZXJzaW9uKSB7XG4gICAgICByZXN1bHQub3N2ZXJzaW9uID0gb3NWZXJzaW9uO1xuICAgIH1cblxuICAgIC8vIGRldmljZSB0eXBlIGV4dHJhY3Rpb25cbiAgICB2YXIgb3NNYWpvclZlcnNpb24gPSBvc1ZlcnNpb24uc3BsaXQoJy4nKVswXTtcbiAgICBpZiAodGFibGV0IHx8IGlvc2RldmljZSA9PSAnaXBhZCcgfHwgKGFuZHJvaWQgJiYgKG9zTWFqb3JWZXJzaW9uID09IDMgfHwgKG9zTWFqb3JWZXJzaW9uID09IDQgJiYgIW1vYmlsZSkpKSB8fCByZXN1bHQuc2lsaykge1xuICAgICAgcmVzdWx0LnRhYmxldCA9IHRcbiAgICB9IGVsc2UgaWYgKG1vYmlsZSB8fCBpb3NkZXZpY2UgPT0gJ2lwaG9uZScgfHwgaW9zZGV2aWNlID09ICdpcG9kJyB8fCBhbmRyb2lkIHx8IHJlc3VsdC5ibGFja2JlcnJ5IHx8IHJlc3VsdC53ZWJvcyB8fCByZXN1bHQuYmFkYSkge1xuICAgICAgcmVzdWx0Lm1vYmlsZSA9IHRcbiAgICB9XG5cbiAgICAvLyBHcmFkZWQgQnJvd3NlciBTdXBwb3J0XG4gICAgLy8gaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2FydGljbGVzL2dic1xuICAgIGlmICgocmVzdWx0Lm1zaWUgJiYgcmVzdWx0LnZlcnNpb24gPj0gMTApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uID49IDIwKSB8fFxuICAgICAgICAocmVzdWx0LmZpcmVmb3ggJiYgcmVzdWx0LnZlcnNpb24gPj0gMjAuMCkgfHxcbiAgICAgICAgKHJlc3VsdC5zYWZhcmkgJiYgcmVzdWx0LnZlcnNpb24gPj0gNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4wKSB8fFxuICAgICAgICAocmVzdWx0LmlvcyAmJiByZXN1bHQub3N2ZXJzaW9uICYmIHJlc3VsdC5vc3ZlcnNpb24uc3BsaXQoXCIuXCIpWzBdID49IDYpIHx8XG4gICAgICAgIChyZXN1bHQuYmxhY2tiZXJyeSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4xKVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5hID0gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHJlc3VsdC5tc2llICYmIHJlc3VsdC52ZXJzaW9uIDwgMTApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uIDwgMjApIHx8XG4gICAgICAgIChyZXN1bHQuZmlyZWZveCAmJiByZXN1bHQudmVyc2lvbiA8IDIwLjApIHx8XG4gICAgICAgIChyZXN1bHQuc2FmYXJpICYmIHJlc3VsdC52ZXJzaW9uIDwgNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA8IDEwLjApIHx8XG4gICAgICAgIChyZXN1bHQuaW9zICYmIHJlc3VsdC5vc3ZlcnNpb24gJiYgcmVzdWx0Lm9zdmVyc2lvbi5zcGxpdChcIi5cIilbMF0gPCA2KVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5jID0gdFxuICAgIH0gZWxzZSByZXN1bHQueCA9IHRcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHZhciBib3dzZXIgPSBkZXRlY3QodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50IDogJycpXG5cblxuICAvKlxuICAgKiBTZXQgb3VyIGRldGVjdCBtZXRob2QgdG8gdGhlIG1haW4gYm93c2VyIG9iamVjdCBzbyB3ZSBjYW5cbiAgICogcmV1c2UgaXQgdG8gdGVzdCBvdGhlciB1c2VyIGFnZW50cy5cbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gaW1wbGVtZW50IGZ1dHVyZSB0ZXN0cy5cbiAgICovXG4gIGJvd3Nlci5fZGV0ZWN0ID0gZGV0ZWN0O1xuXG4gIHJldHVybiBib3dzZXJcbn0pO1xuIiwiLyohXG4gICogZG9tcmVhZHkgKGMpIER1c3RpbiBEaWF6IDIwMTQgLSBMaWNlbnNlIE1JVFxuICAqL1xuIWZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG5cbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcpIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpXG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JykgZGVmaW5lKGRlZmluaXRpb24pXG4gIGVsc2UgdGhpc1tuYW1lXSA9IGRlZmluaXRpb24oKVxuXG59KCdkb21yZWFkeScsIGZ1bmN0aW9uICgpIHtcblxuICB2YXIgZm5zID0gW10sIGxpc3RlbmVyXG4gICAgLCBkb2MgPSBkb2N1bWVudFxuICAgICwgaGFjayA9IGRvYy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGxcbiAgICAsIGRvbUNvbnRlbnRMb2FkZWQgPSAnRE9NQ29udGVudExvYWRlZCdcbiAgICAsIGxvYWRlZCA9IChoYWNrID8gL15sb2FkZWR8XmMvIDogL15sb2FkZWR8Xml8XmMvKS50ZXN0KGRvYy5yZWFkeVN0YXRlKVxuXG5cbiAgaWYgKCFsb2FkZWQpXG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKGRvbUNvbnRlbnRMb2FkZWQsIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKGRvbUNvbnRlbnRMb2FkZWQsIGxpc3RlbmVyKVxuICAgIGxvYWRlZCA9IDFcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBmbnMuc2hpZnQoKSkgbGlzdGVuZXIoKVxuICB9KVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICBsb2FkZWQgPyBmbigpIDogZm5zLnB1c2goZm4pXG4gIH1cblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIEV2ZW50TWFuICgpIHtcblxuICAgIHRoaXMuX2xpc3RlbmVyQ291bnQgPSAwO1xuICAgIHRoaXMuX21heExpc3RlbmVycyA9IDEwO1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZmxhZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50TWFuO1xudmFyIHAgPSBFdmVudE1hbi5wcm90b3R5cGU7XG5cbnAuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZ0TmFtZSwgY2IsIHNjb3BlKSB7XG5cbiAgICBpZiAoZXZ0TmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnROYW1lLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoZXZ0TmFtZVtpXSwgY2IsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEoZXZ0TmFtZSBpbiB0aGlzLl9ldmVudHMpKSB7XG5cbiAgICAgICAgdGhpcy5fZXZlbnRzW2V2dE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBldnROYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgJ2V2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiEnO1xuXG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnROYW1lLCBjYiwgc2NvcGUpO1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnROYW1lXSxcbiAgICAgICAgcmVnID0gc2NvcGUgPyBbY2IsIHNjb3BlXSA6IGNiO1xuXG4gICAgaWYgKHRoaXMuX21heExpc3RlbmVycyA+IDAgJiYgbGlzdGVuZXJzLmxlbmd0aCA+IHRoaXMuX21heExpc3RlbmVycykge1xuXG4gICAgICAgIHRocm93IEVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICBsaXN0ZW5lcnMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMucHVzaChyZWcpO1xuXG4gICAgaWYgKGV2dE5hbWUgaW4gdGhpcy5fZmxhZ3MpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbChyZWcsIHRoaXMuX2ZsYWdzW2V2dE5hbWVdKTtcbiAgICB9XG59O1xuXG5wLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGV2dE5hbWUsIGNiLCBzY29wZSkge1xuXG4gICAgaWYgKGV2dE5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0TmFtZS5sZW5ndGg7ICsraSkge1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dE5hbWVbaV0sIGNiLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZWcsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcblxuICAgIGlmIChsaXN0ZW5lcnMpIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuXG4gICAgICAgICAgICByZWcgPSBsaXN0ZW5lcnNbaV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YocmVnKSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgaWYgKGNiID09PSByZWcgJiYgIXNjb3BlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZWdbMF0gPT09IGNiICYmIHJlZ1sxXSA9PT0gc2NvcGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxucC5vbmNlID0gZnVuY3Rpb24gKGV2dE5hbWUsIGNiLCBzY29wZSkge1xuXG4gICAgdGhpcy5hZGRMaXN0ZW5lcihldnROYW1lLCBvbmNlQ2IpO1xuXG4gICAgZnVuY3Rpb24gb25jZUNiKCkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0TmFtZSwgb25jZUNiKTtcblxuICAgICAgICB0aGlzLl9jYWxsKFtjYiwgc2NvcGVdLCBhcmd1bWVudHMpO1xuICAgIH1cbn07XG5cbnAuZW1pdCA9IGZ1bmN0aW9uIChldnROYW1lKSB7XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKGV2dE5hbWUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG5cbiAgICAgICAgdGhpcy5fY2FsbChsaXN0ZW5lcnNbaV0sIGFyZ3MpO1xuICAgIH1cbn07XG5cbnAuZmxhZyA9IGZ1bmN0aW9uIChldnROYW1lKSB7XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB0aGlzLl9mbGFnc1tldnROYW1lXSA9IGFyZ3M7XG59O1xuXG5wLl9jYWxsID0gZnVuY3Rpb24gKHJlZywgYXJncykge1xuXG4gICAgaWYgKHR5cGVvZiAocmVnKSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgIHJlZy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlZ1swXS5hcHBseShyZWdbMV0sIGFyZ3MpO1xuICAgIH1cbn07XG5cbnAubGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2dE5hbWUpIHtcblxuICAgIHZhciBsaXN0ZW5lcnMsIHJldCA9IFtdO1xuXG4gICAgZG8ge1xuICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0TmFtZV07XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuXG4gICAgICAgICAgICByZXQucHVzaC5hcHBseShyZXQsIGxpc3RlbmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICBldnROYW1lID0gZXZ0TmFtZS5zbGljZSgwLCBNYXRoLm1heCgwLCBldnROYW1lLmxhc3RJbmRleE9mKCcuJykpKTtcbiAgICB9XG4gICAgd2hpbGUgKGV2dE5hbWUpO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnAuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gKG1heExpc3RlbmVycykge1xuXG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gcGFyc2VJbnQobWF4TGlzdGVuZXJzKSB8fCAwO1xufTtcblxucC5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZ0TmFtZSkge1xuXG4gICAgdGhpcy5saXN0ZW5lcnMoZXZ0TmFtZSkuZm9yRWFjaChmdW5jdGlvbiAocmVnKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiAocmVnKSA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dE5hbWUsIHJlZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dE5hbWUsIHJlZ1swXSwgcmVnWzFdKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xufTtcblxuLy9hbGlhc2VzXG5wLm9uID0gcC5hZGRMaXN0ZW5lcjtcbnAub2ZmID0gcC5yZW1vdmVMaXN0ZW5lcjtcbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG8tRGFzaCAyLjQuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cDovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIC1vIC4vZGlzdC9sb2Rhc2guanNgXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDEzIFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjUuMiA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTMgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cDovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUgRVM1IGVudmlyb25tZW50cyAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIHRvIHBvb2wgYXJyYXlzIGFuZCBvYmplY3RzIHVzZWQgaW50ZXJuYWxseSAqL1xuICB2YXIgYXJyYXlQb29sID0gW10sXG4gICAgICBvYmplY3RQb29sID0gW107XG5cbiAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcyAqL1xuICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAvKiogVXNlZCB0byBwcmVmaXgga2V5cyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBgX19wcm90b19fYCBhbmQgcHJvcGVydGllcyBvbiBgT2JqZWN0LnByb3RvdHlwZWAgKi9cbiAgdmFyIGtleVByZWZpeCA9ICtuZXcgRGF0ZSArICcnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHdoZW4gb3B0aW1pemF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgbGFyZ2UgYXJyYXlzICovXG4gIHZhciBsYXJnZUFycmF5U2l6ZSA9IDc1O1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXggc2l6ZSBvZiB0aGUgYGFycmF5UG9vbGAgYW5kIGBvYmplY3RQb29sYCAqL1xuICB2YXIgbWF4UG9vbFNpemUgPSA0MDtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYW5kIHRlc3Qgd2hpdGVzcGFjZSAqL1xuICB2YXIgd2hpdGVzcGFjZSA9IChcbiAgICAvLyB3aGl0ZXNwYWNlXG4gICAgJyBcXHRcXHgwQlxcZlxceEEwXFx1ZmVmZicgK1xuXG4gICAgLy8gbGluZSB0ZXJtaW5hdG9yc1xuICAgICdcXG5cXHJcXHUyMDI4XFx1MjAyOScgK1xuXG4gICAgLy8gdW5pY29kZSBjYXRlZ29yeSBcIlpzXCIgc3BhY2Ugc2VwYXJhdG9yc1xuICAgICdcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwJ1xuICApO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UgKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBFUzYgdGVtcGxhdGUgZGVsaW1pdGVyc1xuICAgKiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1saXRlcmFscy1zdHJpbmctbGl0ZXJhbHNcbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcmVnZXhwIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3RlZCBuYW1lZCBmdW5jdGlvbnMgKi9cbiAgdmFyIHJlRnVuY05hbWUgPSAvXlxccypmdW5jdGlvblsgXFxuXFxyXFx0XStcXHcvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFwiaW50ZXJwb2xhdGVcIiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzICovXG4gIHZhciByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlIGFuZCB6ZXJvcyB0byBiZSByZW1vdmVkICovXG4gIHZhciByZUxlYWRpbmdTcGFjZXNBbmRaZXJvcyA9IFJlZ0V4cCgnXlsnICsgd2hpdGVzcGFjZSArICddKjArKD89LiQpJyk7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGZ1bmN0aW9ucyBjb250YWluaW5nIGEgYHRoaXNgIHJlZmVyZW5jZSAqL1xuICB2YXIgcmVUaGlzID0gL1xcYnRoaXNcXGIvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscyAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHRcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0Jvb2xlYW4nLCAnRGF0ZScsICdGdW5jdGlvbicsICdNYXRoJywgJ051bWJlcicsICdPYmplY3QnLFxuICAgICdSZWdFeHAnLCAnU3RyaW5nJywgJ18nLCAnYXR0YWNoRXZlbnQnLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ2lzTmFOJyxcbiAgICAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5ICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAwO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgc2hvcnRjdXRzICovXG4gIHZhciBhcmdzQ2xhc3MgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5Q2xhc3MgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYm9vbENsYXNzID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZUNsYXNzID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZnVuY0NsYXNzID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIG51bWJlckNsYXNzID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBvYmplY3RDbGFzcyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcmVnZXhwQ2xhc3MgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHN0cmluZ0NsYXNzID0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgb2JqZWN0IGNsYXNzaWZpY2F0aW9ucyB0aGF0IGBfLmNsb25lYCBzdXBwb3J0cyAqL1xuICB2YXIgY2xvbmVhYmxlQ2xhc3NlcyA9IHt9O1xuICBjbG9uZWFibGVDbGFzc2VzW2Z1bmNDbGFzc10gPSBmYWxzZTtcbiAgY2xvbmVhYmxlQ2xhc3Nlc1thcmdzQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1thcnJheUNsYXNzXSA9XG4gIGNsb25lYWJsZUNsYXNzZXNbYm9vbENsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbZGF0ZUNsYXNzXSA9XG4gIGNsb25lYWJsZUNsYXNzZXNbbnVtYmVyQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1tvYmplY3RDbGFzc10gPVxuICBjbG9uZWFibGVDbGFzc2VzW3JlZ2V4cENsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbc3RyaW5nQ2xhc3NdID0gdHJ1ZTtcblxuICAvKiogVXNlZCBhcyBhbiBpbnRlcm5hbCBgXy5kZWJvdW5jZWAgb3B0aW9ucyBvYmplY3QgKi9cbiAgdmFyIGRlYm91bmNlT3B0aW9ucyA9IHtcbiAgICAnbGVhZGluZyc6IGZhbHNlLFxuICAgICdtYXhXYWl0JzogMCxcbiAgICAndHJhaWxpbmcnOiBmYWxzZVxuICB9O1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciBgX19iaW5kRGF0YV9fYCAqL1xuICB2YXIgZGVzY3JpcHRvciA9IHtcbiAgICAnY29uZmlndXJhYmxlJzogZmFsc2UsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBudWxsLFxuICAgICd3cml0YWJsZSc6IGZhbHNlXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHZhbHVlcyBhcmUgb2YgdGhlIGxhbmd1YWdlIHR5cGUgT2JqZWN0ICovXG4gIHZhciBvYmplY3RUeXBlcyA9IHtcbiAgICAnYm9vbGVhbic6IGZhbHNlLFxuICAgICdmdW5jdGlvbic6IHRydWUsXG4gICAgJ29iamVjdCc6IHRydWUsXG4gICAgJ251bWJlcic6IGZhbHNlLFxuICAgICdzdHJpbmcnOiBmYWxzZSxcbiAgICAndW5kZWZpbmVkJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscyAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHQnOiAndCcsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0ICovXG4gIHZhciByb290ID0gKG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdykgfHwgdGhpcztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgICovXG4gIHZhciBmcmVlTW9kdWxlID0gb2JqZWN0VHlwZXNbdHlwZW9mIG1vZHVsZV0gJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AgKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHMgJiYgZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSBhbmQgdXNlIGl0IGFzIGByb290YCAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IG9iamVjdFR5cGVzW3R5cGVvZiBnbG9iYWxdICYmIGdsb2JhbDtcbiAgaWYgKGZyZWVHbG9iYWwgJiYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSkge1xuICAgIHJvb3QgPSBmcmVlR2xvYmFsO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYmluYXJ5IHNlYXJjaGVzXG4gICAqIG9yIGBmcm9tSW5kZXhgIGNvbnN0cmFpbnRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlIG9yIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IChmcm9tSW5kZXggfHwgMCkgLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQW4gaW1wbGVtZW50YXRpb24gb2YgYF8uY29udGFpbnNgIGZvciBjYWNoZSBvYmplY3RzIHRoYXQgbWltaWNzIHRoZSByZXR1cm5cbiAgICogc2lnbmF0dXJlIG9mIGBfLmluZGV4T2ZgIGJ5IHJldHVybmluZyBgMGAgaWYgdGhlIHZhbHVlIGlzIGZvdW5kLCBlbHNlIGAtMWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYDBgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSW5kZXhPZihjYWNoZSwgdmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICBjYWNoZSA9IGNhY2hlLmNhY2hlO1xuXG4gICAgaWYgKHR5cGUgPT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjYWNoZVt2YWx1ZV0gPyAwIDogLTE7XG4gICAgfVxuICAgIGlmICh0eXBlICE9ICdudW1iZXInICYmIHR5cGUgIT0gJ3N0cmluZycpIHtcbiAgICAgIHR5cGUgPSAnb2JqZWN0JztcbiAgICB9XG4gICAgdmFyIGtleSA9IHR5cGUgPT0gJ251bWJlcicgPyB2YWx1ZSA6IGtleVByZWZpeCArIHZhbHVlO1xuICAgIGNhY2hlID0gKGNhY2hlID0gY2FjaGVbdHlwZV0pICYmIGNhY2hlW2tleV07XG5cbiAgICByZXR1cm4gdHlwZSA9PSAnb2JqZWN0J1xuICAgICAgPyAoY2FjaGUgJiYgYmFzZUluZGV4T2YoY2FjaGUsIHZhbHVlKSA+IC0xID8gMCA6IC0xKVxuICAgICAgOiAoY2FjaGUgPyAwIDogLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBnaXZlbiB2YWx1ZSB0byB0aGUgY29ycmVzcG9uZGluZyBjYWNoZSBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZVB1c2godmFsdWUpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlLFxuICAgICAgICB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgaWYgKHR5cGUgPT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIGNhY2hlW3ZhbHVlXSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlICE9ICdudW1iZXInICYmIHR5cGUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHlwZSA9ICdvYmplY3QnO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHR5cGUgPT0gJ251bWJlcicgPyB2YWx1ZSA6IGtleVByZWZpeCArIHZhbHVlLFxuICAgICAgICAgIHR5cGVDYWNoZSA9IGNhY2hlW3R5cGVdIHx8IChjYWNoZVt0eXBlXSA9IHt9KTtcblxuICAgICAgaWYgKHR5cGUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgKHR5cGVDYWNoZVtrZXldIHx8ICh0eXBlQ2FjaGVba2V5XSA9IFtdKSkucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlQ2FjaGVba2V5XSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8ubWF4YCBhbmQgYF8ubWluYCBhcyB0aGUgZGVmYXVsdCBjYWxsYmFjayB3aGVuIGEgZ2l2ZW5cbiAgICogY29sbGVjdGlvbiBpcyBhIHN0cmluZyB2YWx1ZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSBjaGFyYWN0ZXIgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29kZSB1bml0IG9mIGdpdmVuIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJBdENhbGxiYWNrKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNoYXJDb2RlQXQoMCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgc29ydEJ5YCB0byBjb21wYXJlIHRyYW5zZm9ybWVkIGBjb2xsZWN0aW9uYCBlbGVtZW50cywgc3RhYmxlIHNvcnRpbmdcbiAgICogdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gY29tcGFyZSB0byBgYmAuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29tcGFyZSB0byBgYWAuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIG9mIGAxYCBvciBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyhhLCBiKSB7XG4gICAgdmFyIGFjID0gYS5jcml0ZXJpYSxcbiAgICAgICAgYmMgPSBiLmNyaXRlcmlhLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhYy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYWNbaW5kZXhdLFxuICAgICAgICAgIG90aGVyID0gYmNbaW5kZXhdO1xuXG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+IG90aGVyIHx8IHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA8IG90aGVyIHx8IHR5cGVvZiBvdGhlciA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcmV0dXJuIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgIC8vIGBhYCBhbmQgYGJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgIC8vXG4gICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAvLyBTZWUgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTBcbiAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNhY2hlIG9iamVjdCB0byBvcHRpbWl6ZSBsaW5lYXIgc2VhcmNoZXMgb2YgbGFyZ2UgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgb2JqZWN0IG9yIGBudWxsYCBpZiBjYWNoaW5nIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKGFycmF5KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgZmlyc3QgPSBhcnJheVswXSxcbiAgICAgICAgbWlkID0gYXJyYXlbKGxlbmd0aCAvIDIpIHwgMF0sXG4gICAgICAgIGxhc3QgPSBhcnJheVtsZW5ndGggLSAxXTtcblxuICAgIGlmIChmaXJzdCAmJiB0eXBlb2YgZmlyc3QgPT0gJ29iamVjdCcgJiZcbiAgICAgICAgbWlkICYmIHR5cGVvZiBtaWQgPT0gJ29iamVjdCcgJiYgbGFzdCAmJiB0eXBlb2YgbGFzdCA9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgY2FjaGUgPSBnZXRPYmplY3QoKTtcbiAgICBjYWNoZVsnZmFsc2UnXSA9IGNhY2hlWydudWxsJ10gPSBjYWNoZVsndHJ1ZSddID0gY2FjaGVbJ3VuZGVmaW5lZCddID0gZmFsc2U7XG5cbiAgICB2YXIgcmVzdWx0ID0gZ2V0T2JqZWN0KCk7XG4gICAgcmVzdWx0LmFycmF5ID0gYXJyYXk7XG4gICAgcmVzdWx0LmNhY2hlID0gY2FjaGU7XG4gICAgcmVzdWx0LnB1c2ggPSBjYWNoZVB1c2g7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaW5kZXhdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGB0ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZFxuICAgKiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaCBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIobWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1ttYXRjaF07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBhcnJheSBmcm9tIHRoZSBhcnJheSBwb29sIG9yIGNyZWF0ZXMgYSBuZXcgb25lIGlmIHRoZSBwb29sIGlzIGVtcHR5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBhcnJheSBmcm9tIHRoZSBwb29sLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QXJyYXkoKSB7XG4gICAgcmV0dXJuIGFycmF5UG9vbC5wb3AoKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIG9iamVjdCBmcm9tIHRoZSBvYmplY3QgcG9vbCBvciBjcmVhdGVzIGEgbmV3IG9uZSBpZiB0aGUgcG9vbCBpcyBlbXB0eS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0T2JqZWN0KCkge1xuICAgIHJldHVybiBvYmplY3RQb29sLnBvcCgpIHx8IHtcbiAgICAgICdhcnJheSc6IG51bGwsXG4gICAgICAnY2FjaGUnOiBudWxsLFxuICAgICAgJ2NyaXRlcmlhJzogbnVsbCxcbiAgICAgICdmYWxzZSc6IGZhbHNlLFxuICAgICAgJ2luZGV4JzogMCxcbiAgICAgICdudWxsJzogZmFsc2UsXG4gICAgICAnbnVtYmVyJzogbnVsbCxcbiAgICAgICdvYmplY3QnOiBudWxsLFxuICAgICAgJ3B1c2gnOiBudWxsLFxuICAgICAgJ3N0cmluZyc6IG51bGwsXG4gICAgICAndHJ1ZSc6IGZhbHNlLFxuICAgICAgJ3VuZGVmaW5lZCc6IGZhbHNlLFxuICAgICAgJ3ZhbHVlJzogbnVsbFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgdGhlIGdpdmVuIGFycmF5IGJhY2sgdG8gdGhlIGFycmF5IHBvb2wuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIHJlbGVhc2UuXG4gICAqL1xuICBmdW5jdGlvbiByZWxlYXNlQXJyYXkoYXJyYXkpIHtcbiAgICBhcnJheS5sZW5ndGggPSAwO1xuICAgIGlmIChhcnJheVBvb2wubGVuZ3RoIDwgbWF4UG9vbFNpemUpIHtcbiAgICAgIGFycmF5UG9vbC5wdXNoKGFycmF5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgdGhlIGdpdmVuIG9iamVjdCBiYWNrIHRvIHRoZSBvYmplY3QgcG9vbC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcmVsZWFzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlbGVhc2VPYmplY3Qob2JqZWN0KSB7XG4gICAgdmFyIGNhY2hlID0gb2JqZWN0LmNhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgcmVsZWFzZU9iamVjdChjYWNoZSk7XG4gICAgfVxuICAgIG9iamVjdC5hcnJheSA9IG9iamVjdC5jYWNoZSA9IG9iamVjdC5jcml0ZXJpYSA9IG9iamVjdC5vYmplY3QgPSBvYmplY3QubnVtYmVyID0gb2JqZWN0LnN0cmluZyA9IG9iamVjdC52YWx1ZSA9IG51bGw7XG4gICAgaWYgKG9iamVjdFBvb2wubGVuZ3RoIDwgbWF4UG9vbFNpemUpIHtcbiAgICAgIG9iamVjdFBvb2wucHVzaChvYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTbGljZXMgdGhlIGBjb2xsZWN0aW9uYCBmcm9tIHRoZSBgc3RhcnRgIGluZGV4IHVwIHRvLCBidXQgbm90IGluY2x1ZGluZyxcbiAgICogdGhlIGBlbmRgIGluZGV4LlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgaW5zdGVhZCBvZiBgQXJyYXkjc2xpY2VgIHRvIHN1cHBvcnQgbm9kZSBsaXN0c1xuICAgKiBpbiBJRSA8IDkgYW5kIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2xpY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBpbmRleC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgIHN0YXJ0IHx8IChzdGFydCA9IDApO1xuICAgIGlmICh0eXBlb2YgZW5kID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmQgPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCB8fCAwLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGggPCAwID8gMCA6IGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgZ2l2ZW4gY29udGV4dCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICAvLyBBdm9pZCBpc3N1ZXMgd2l0aCBzb21lIEVTMyBlbnZpcm9ubWVudHMgdGhhdCBhdHRlbXB0IHRvIHVzZSB2YWx1ZXMsIG5hbWVkXG4gICAgLy8gYWZ0ZXIgYnVpbHQtaW4gY29uc3RydWN0b3JzIGxpa2UgYE9iamVjdGAsIGZvciB0aGUgY3JlYXRpb24gb2YgbGl0ZXJhbHMuXG4gICAgLy8gRVM1IGNsZWFycyB0aGlzIHVwIGJ5IHN0YXRpbmcgdGhhdCBsaXRlcmFscyBtdXN0IHVzZSBidWlsdC1pbiBjb25zdHJ1Y3RvcnMuXG4gICAgLy8gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTEuMS41LlxuICAgIGNvbnRleHQgPSBjb250ZXh0ID8gXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSkgOiByb290O1xuXG4gICAgLyoqIE5hdGl2ZSBjb25zdHJ1Y3RvciByZWZlcmVuY2VzICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgQm9vbGVhbiA9IGNvbnRleHQuQm9vbGVhbixcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBOdW1iZXIgPSBjb250ZXh0Lk51bWJlcixcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBgQXJyYXlgIG1ldGhvZCByZWZlcmVuY2VzLlxuICAgICAqXG4gICAgICogTm9ybWFsbHkgYEFycmF5LnByb3RvdHlwZWAgd291bGQgc3VmZmljZSwgaG93ZXZlciwgdXNpbmcgYW4gYXJyYXkgbGl0ZXJhbFxuICAgICAqIGF2b2lkcyBpc3N1ZXMgaW4gTmFyd2hhbC5cbiAgICAgKi9cbiAgICB2YXIgYXJyYXlSZWYgPSBbXTtcblxuICAgIC8qKiBVc2VkIGZvciBuYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMgKi9cbiAgICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgbm9Db25mbGljdGAgKi9cbiAgICB2YXIgb2xkRGFzaCA9IGNvbnRleHQuXztcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGludGVybmFsIFtbQ2xhc3NdXSBvZiB2YWx1ZXMgKi9cbiAgICB2YXIgdG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUgKi9cbiAgICB2YXIgcmVOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIFN0cmluZyh0b1N0cmluZylcbiAgICAgICAgLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJylcbiAgICAgICAgLnJlcGxhY2UoL3RvU3RyaW5nfCBmb3IgW15cXF1dKy9nLCAnLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIE5hdGl2ZSBtZXRob2Qgc2hvcnRjdXRzICovXG4gICAgdmFyIGNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIGNsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIGZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICAgIGdldFByb3RvdHlwZU9mID0gaXNOYXRpdmUoZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YpICYmIGdldFByb3RvdHlwZU9mLFxuICAgICAgICBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5LFxuICAgICAgICBwdXNoID0gYXJyYXlSZWYucHVzaCxcbiAgICAgICAgc2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlSZWYuc3BsaWNlLFxuICAgICAgICB1bnNoaWZ0ID0gYXJyYXlSZWYudW5zaGlmdDtcblxuICAgIC8qKiBVc2VkIHRvIHNldCBtZXRhIGRhdGEgb24gZnVuY3Rpb25zICovXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gSUUgOCBvbmx5IGFjY2VwdHMgRE9NIGVsZW1lbnRzXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbyA9IHt9LFxuICAgICAgICAgICAgZnVuYyA9IGlzTmF0aXZlKGZ1bmMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkpICYmIGZ1bmMsXG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jKG8sIG8sIG8pICYmIGZ1bmM7XG4gICAgICB9IGNhdGNoKGUpIHsgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KCkpO1xuXG4gICAgLyogTmF0aXZlIG1ldGhvZCBzaG9ydGN1dHMgZm9yIG1ldGhvZHMgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMgKi9cbiAgICB2YXIgbmF0aXZlQ3JlYXRlID0gaXNOYXRpdmUobmF0aXZlQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSkgJiYgbmF0aXZlQ3JlYXRlLFxuICAgICAgICBuYXRpdmVJc0FycmF5ID0gaXNOYXRpdmUobmF0aXZlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkpICYmIG5hdGl2ZUlzQXJyYXksXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSXNOYU4gPSBjb250ZXh0LmlzTmFOLFxuICAgICAgICBuYXRpdmVLZXlzID0gaXNOYXRpdmUobmF0aXZlS2V5cyA9IE9iamVjdC5rZXlzKSAmJiBuYXRpdmVLZXlzLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb207XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgYSBidWlsdC1pbiBjb25zdHJ1Y3RvciBieSBbW0NsYXNzXV0gKi9cbiAgICB2YXIgY3RvckJ5Q2xhc3MgPSB7fTtcbiAgICBjdG9yQnlDbGFzc1thcnJheUNsYXNzXSA9IEFycmF5O1xuICAgIGN0b3JCeUNsYXNzW2Jvb2xDbGFzc10gPSBCb29sZWFuO1xuICAgIGN0b3JCeUNsYXNzW2RhdGVDbGFzc10gPSBEYXRlO1xuICAgIGN0b3JCeUNsYXNzW2Z1bmNDbGFzc10gPSBGdW5jdGlvbjtcbiAgICBjdG9yQnlDbGFzc1tvYmplY3RDbGFzc10gPSBPYmplY3Q7XG4gICAgY3RvckJ5Q2xhc3NbbnVtYmVyQ2xhc3NdID0gTnVtYmVyO1xuICAgIGN0b3JCeUNsYXNzW3JlZ2V4cENsYXNzXSA9IFJlZ0V4cDtcbiAgICBjdG9yQnlDbGFzc1tzdHJpbmdDbGFzc10gPSBTdHJpbmc7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgdGhlIGdpdmVuIHZhbHVlIHRvIGVuYWJsZSBpbnR1aXRpdmVcbiAgICAgKiBtZXRob2QgY2hhaW5pbmcuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBMby1EYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGFsc28gaGF2ZSB0aGUgZm9sbG93aW5nIGBBcnJheWAgbWV0aG9kczpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgcmV2ZXJzZWAsIGBzaGlmdGAsIGBzbGljZWAsIGBzb3J0YCwgYHNwbGljZWAsXG4gICAgICogYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYHZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIGZ1bmN0aW9ucyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFzc2lnbmAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjaGFpbmAsIGBjb21wYWN0YCxcbiAgICAgKiBgY29tcG9zZWAsIGBjb25jYXRgLCBgY291bnRCeWAsIGBjcmVhdGVgLCBgY3JlYXRlQ2FsbGJhY2tgLCBgY3VycnlgLFxuICAgICAqIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZlcmAsIGBkZWxheWAsIGBkaWZmZXJlbmNlYCwgYGZpbHRlcmAsIGBmbGF0dGVuYCxcbiAgICAgKiBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLCBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLFxuICAgICAqIGBmdW5jdGlvbnNgLCBgZ3JvdXBCeWAsIGBpbmRleEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludmVydGAsXG4gICAgICogYGludm9rZWAsIGBrZXlzYCwgYG1hcGAsIGBtYXhgLCBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtaW5gLCBgb2JqZWN0YCwgYG9taXRgLFxuICAgICAqIGBvbmNlYCwgYHBhaXJzYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBpY2tgLCBgcGx1Y2tgLCBgcHVsbGAsIGBwdXNoYCxcbiAgICAgKiBgcmFuZ2VgLCBgcmVqZWN0YCwgYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2h1ZmZsZWAsIGBzbGljZWAsIGBzb3J0YCxcbiAgICAgKiBgc29ydEJ5YCwgYHNwbGljZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGltZXNgLCBgdG9BcnJheWAsIGB0cmFuc2Zvcm1gLFxuICAgICAqIGB1bmlvbmAsIGB1bmlxYCwgYHVuc2hpZnRgLCBgdW56aXBgLCBgdmFsdWVzYCwgYHdoZXJlYCwgYHdpdGhvdXRgLCBgd3JhcGAsXG4gICAgICogYW5kIGB6aXBgXG4gICAgICpcbiAgICAgKiBUaGUgbm9uLWNoYWluYWJsZSB3cmFwcGVyIGZ1bmN0aW9ucyBhcmU6XG4gICAgICogYGNsb25lYCwgYGNsb25lRGVlcGAsIGBjb250YWluc2AsIGBlc2NhcGVgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLFxuICAgICAqIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCwgYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgaGFzYCwgYGlkZW50aXR5YCxcbiAgICAgKiBgaW5kZXhPZmAsIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQm9vbGVhbmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCxcbiAgICAgKiBgaXNFbXB0eWAsIGBpc0VxdWFsYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNOYU5gLCBgaXNOdWxsYCwgYGlzTnVtYmVyYCxcbiAgICAgKiBgaXNPYmplY3RgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBqb2luYCxcbiAgICAgKiBgbGFzdEluZGV4T2ZgLCBgbWl4aW5gLCBgbm9Db25mbGljdGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsXG4gICAgICogYHJlZHVjZVJpZ2h0YCwgYHJlc3VsdGAsIGBzaGlmdGAsIGBzaXplYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgcnVuSW5Db250ZXh0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBhbmQgYHZhbHVlYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgZnVuY3Rpb25zIGBmaXJzdGAgYW5kIGBsYXN0YCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgd2hlbiBgbmAgaXNcbiAgICAgKiBwcm92aWRlZCwgb3RoZXJ3aXNlIHRoZXkgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbmluZyBjYW4gYmUgZW5hYmxlZCBieSB1c2luZyB0aGUgYF8uY2hhaW5gIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIHJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBudW0pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBudW07XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gcmV0dXJucyBhIHdyYXBwZWQgdmFsdWVcbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSAqIG51bTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgLy8gZG9uJ3Qgd3JhcCBpZiBhbHJlYWR5IHdyYXBwZWQsIGV2ZW4gaWYgd3JhcHBlZCBieSBhIGRpZmZlcmVudCBgbG9kYXNoYCBjb25zdHJ1Y3RvclxuICAgICAgcmV0dXJuICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgIWlzQXJyYXkodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKVxuICAgICAgID8gdmFsdWVcbiAgICAgICA6IG5ldyBsb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGZhc3QgcGF0aCBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjaGFpbkFsbCBBIGZsYWcgdG8gZW5hYmxlIGNoYWluaW5nIGZvciBhbGwgbWV0aG9kc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgIH1cbiAgICAvLyBlbnN1cmUgYG5ldyBsb2Rhc2hXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgbG9kYXNoYFxuICAgIGxvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gbG9kYXNoLnByb3RvdHlwZTtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCB1c2VkIHRvIGZsYWcgZW52aXJvbm1lbnRzIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgdmFyIHN1cHBvcnQgPSBsb2Rhc2guc3VwcG9ydCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGZ1bmN0aW9ucyBjYW4gYmUgZGVjb21waWxlZCBieSBgRnVuY3Rpb24jdG9TdHJpbmdgXG4gICAgICogKGFsbCBidXQgUFMzIGFuZCBvbGRlciBPcGVyYSBtb2JpbGUgYnJvd3NlcnMgJiBhdm9pZGVkIGluIFdpbmRvd3MgOCBhcHBzKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnN1cHBvcnRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICovXG4gICAgc3VwcG9ydC5mdW5jRGVjb21wID0gIWlzTmF0aXZlKGNvbnRleHQuV2luUlRFcnJvcikgJiYgcmVUaGlzLnRlc3QocnVuSW5Db250ZXh0KTtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBgRnVuY3Rpb24jbmFtZWAgaXMgc3VwcG9ydGVkIChhbGwgYnV0IElFKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnN1cHBvcnRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICovXG4gICAgc3VwcG9ydC5mdW5jTmFtZXMgPSB0eXBlb2YgRnVuY3Rpb24ubmFtZSA9PSAnc3RyaW5nJztcblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgTG8tRGFzaCBhcmUgc2ltaWxhciB0byB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikuIENoYW5nZSB0aGUgZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZVxuICAgICAqIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IC88JS0oW1xcc1xcU10rPyklPi9nLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIFJlZ0V4cFxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIFJlZ0V4cFxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYmluZGAgdGhhdCBjcmVhdGVzIHRoZSBib3VuZCBmdW5jdGlvbiBhbmRcbiAgICAgKiBzZXRzIGl0cyBtZXRhIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGJpbmREYXRhIFRoZSBiaW5kIGRhdGEgYXJyYXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUJpbmQoYmluZERhdGEpIHtcbiAgICAgIHZhciBmdW5jID0gYmluZERhdGFbMF0sXG4gICAgICAgICAgcGFydGlhbEFyZ3MgPSBiaW5kRGF0YVsyXSxcbiAgICAgICAgICB0aGlzQXJnID0gYmluZERhdGFbNF07XG5cbiAgICAgIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgICAvLyBgRnVuY3Rpb24jYmluZGAgc3BlY1xuICAgICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjMuNC41XG4gICAgICAgIGlmIChwYXJ0aWFsQXJncykge1xuICAgICAgICAgIC8vIGF2b2lkIGBhcmd1bWVudHNgIG9iamVjdCBkZW9wdGltaXphdGlvbnMgYnkgdXNpbmcgYHNsaWNlYCBpbnN0ZWFkXG4gICAgICAgICAgLy8gb2YgYEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsYCBhbmQgbm90IGFzc2lnbmluZyBgYXJndW1lbnRzYCB0byBhXG4gICAgICAgICAgLy8gdmFyaWFibGUgYXMgYSB0ZXJuYXJ5IGV4cHJlc3Npb25cbiAgICAgICAgICB2YXIgYXJncyA9IHNsaWNlKHBhcnRpYWxBcmdzKTtcbiAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3JcbiAgICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxMy4yLjJcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgIC8vIGVuc3VyZSBgbmV3IGJvdW5kYCBpcyBhbiBpbnN0YW5jZSBvZiBgZnVuY2BcbiAgICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKSxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQmluZGluZywgYXJncyB8fCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyB8fCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgc2V0QmluZERhdGEoYm91bmQsIGJpbmREYXRhKTtcbiAgICAgIHJldHVybiBib3VuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgd2l0aG91dCBhcmd1bWVudCBqdWdnbGluZyBvciBzdXBwb3J0XG4gICAgICogZm9yIGB0aGlzQXJnYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXA9ZmFsc2VdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tBPVtdXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0I9W11dIEFzc29jaWF0ZXMgY2xvbmVzIHdpdGggc291cmNlIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgaXNEZWVwLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWUpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGluc3BlY3QgW1tDbGFzc11dXG4gICAgICB2YXIgaXNPYmogPSBpc09iamVjdCh2YWx1ZSk7XG4gICAgICBpZiAoaXNPYmopIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgICBpZiAoIWNsb25lYWJsZUNsYXNzZXNbY2xhc3NOYW1lXSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3RvciA9IGN0b3JCeUNsYXNzW2NsYXNzTmFtZV07XG4gICAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgY2FzZSBib29sQ2xhc3M6XG4gICAgICAgICAgY2FzZSBkYXRlQ2xhc3M6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IoK3ZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgbnVtYmVyQ2xhc3M6XG4gICAgICAgICAgY2FzZSBzdHJpbmdDbGFzczpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3Rvcih2YWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIHJlZ2V4cENsYXNzOlxuICAgICAgICAgICAgcmVzdWx0ID0gY3Rvcih2YWx1ZS5zb3VyY2UsIHJlRmxhZ3MuZXhlYyh2YWx1ZSkpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHZhbHVlLmxhc3RJbmRleDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICAvLyBjaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGNvcnJlc3BvbmRpbmcgY2xvbmVcbiAgICAgICAgdmFyIGluaXRlZFN0YWNrID0gIXN0YWNrQTtcbiAgICAgICAgc3RhY2tBIHx8IChzdGFja0EgPSBnZXRBcnJheSgpKTtcbiAgICAgICAgc3RhY2tCIHx8IChzdGFja0IgPSBnZXRBcnJheSgpKTtcblxuICAgICAgICB2YXIgbGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tCW2xlbmd0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGlzQXJyID8gY3Rvcih2YWx1ZS5sZW5ndGgpIDoge307XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gaXNBcnIgPyBzbGljZSh2YWx1ZSkgOiBhc3NpZ24oe30sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBhcnJheSBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2BcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2luZGV4JykpIHtcbiAgICAgICAgICByZXN1bHQuaW5kZXggPSB2YWx1ZS5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2lucHV0JykpIHtcbiAgICAgICAgICByZXN1bHQuaW5wdXQgPSB2YWx1ZS5pbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBmb3Igc2hhbGxvdyBjbG9uZVxuICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB0aGUgc291cmNlIHZhbHVlIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgLy8gYW5kIGFzc29jaWF0ZSBpdCB3aXRoIGl0cyBjbG9uZVxuICAgICAgc3RhY2tBLnB1c2godmFsdWUpO1xuICAgICAgc3RhY2tCLnB1c2gocmVzdWx0KTtcblxuICAgICAgLy8gcmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgKGlzQXJyID8gZm9yRWFjaCA6IGZvck93bikodmFsdWUsIGZ1bmN0aW9uKG9ialZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBiYXNlQ2xvbmUob2JqVmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaW5pdGVkU3RhY2spIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQSk7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0KHByb3RvdHlwZSkgPyBuYXRpdmVDcmVhdGUocHJvdG90eXBlKSA6IHt9O1xuICAgIH1cbiAgICAvLyBmYWxsYmFjayBmb3IgYnJvd3NlcnMgd2l0aG91dCBgT2JqZWN0LmNyZWF0ZWBcbiAgICBpZiAoIW5hdGl2ZUNyZWF0ZSkge1xuICAgICAgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gT2JqZWN0KCkge31cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvdHlwZSkge1xuICAgICAgICAgIGlmIChpc09iamVjdChwcm90b3R5cGUpKSB7XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCBjb250ZXh0Lk9iamVjdCgpO1xuICAgICAgICB9O1xuICAgICAgfSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVDYWxsYmFja2Agd2l0aG91dCBzdXBwb3J0IGZvciBjcmVhdGluZ1xuICAgICAqIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcmdDb3VudF0gVGhlIG51bWJlciBvZiBhcmd1bWVudHMgdGhlIGNhbGxiYWNrIGFjY2VwdHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICAvLyBleGl0IGVhcmx5IGZvciBubyBgdGhpc0FyZ2Agb3IgYWxyZWFkeSBib3VuZCBieSBgRnVuY3Rpb24jYmluZGBcbiAgICAgIGlmICh0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyB8fCAhKCdwcm90b3R5cGUnIGluIGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfVxuICAgICAgdmFyIGJpbmREYXRhID0gZnVuYy5fX2JpbmREYXRhX187XG4gICAgICBpZiAodHlwZW9mIGJpbmREYXRhID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChzdXBwb3J0LmZ1bmNOYW1lcykge1xuICAgICAgICAgIGJpbmREYXRhID0gIWZ1bmMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBiaW5kRGF0YSA9IGJpbmREYXRhIHx8ICFzdXBwb3J0LmZ1bmNEZWNvbXA7XG4gICAgICAgIGlmICghYmluZERhdGEpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gZm5Ub1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICAgIGlmICghc3VwcG9ydC5mdW5jTmFtZXMpIHtcbiAgICAgICAgICAgIGJpbmREYXRhID0gIXJlRnVuY05hbWUudGVzdChzb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWJpbmREYXRhKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgYGZ1bmNgIHJlZmVyZW5jZXMgdGhlIGB0aGlzYCBrZXl3b3JkIGFuZCBzdG9yZXMgdGhlIHJlc3VsdFxuICAgICAgICAgICAgYmluZERhdGEgPSByZVRoaXMudGVzdChzb3VyY2UpO1xuICAgICAgICAgICAgc2V0QmluZERhdGEoZnVuYywgYmluZERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBpZiB0aGVyZSBhcmUgbm8gYHRoaXNgIHJlZmVyZW5jZXMgb3IgYGZ1bmNgIGlzIGJvdW5kXG4gICAgICBpZiAoYmluZERhdGEgPT09IGZhbHNlIHx8IChiaW5kRGF0YSAhPT0gdHJ1ZSAmJiBiaW5kRGF0YVsxXSAmIDEpKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChhcmdDb3VudCkge1xuICAgICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhLCBiKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiaW5kKGZ1bmMsIHRoaXNBcmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBjcmVhdGVXcmFwcGVyYCB0aGF0IGNyZWF0ZXMgdGhlIHdyYXBwZXIgYW5kXG4gICAgICogc2V0cyBpdHMgbWV0YSBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBiaW5kRGF0YSBUaGUgYmluZCBkYXRhIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDcmVhdGVXcmFwcGVyKGJpbmREYXRhKSB7XG4gICAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICAgIGJpdG1hc2sgPSBiaW5kRGF0YVsxXSxcbiAgICAgICAgICBwYXJ0aWFsQXJncyA9IGJpbmREYXRhWzJdLFxuICAgICAgICAgIHBhcnRpYWxSaWdodEFyZ3MgPSBiaW5kRGF0YVszXSxcbiAgICAgICAgICB0aGlzQXJnID0gYmluZERhdGFbNF0sXG4gICAgICAgICAgYXJpdHkgPSBiaW5kRGF0YVs1XTtcblxuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiAxLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiAyLFxuICAgICAgICAgIGlzQ3VycnkgPSBiaXRtYXNrICYgNCxcbiAgICAgICAgICBpc0N1cnJ5Qm91bmQgPSBiaXRtYXNrICYgOCxcbiAgICAgICAgICBrZXkgPSBmdW5jO1xuXG4gICAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXM7XG4gICAgICAgIGlmIChwYXJ0aWFsQXJncykge1xuICAgICAgICAgIHZhciBhcmdzID0gc2xpY2UocGFydGlhbEFyZ3MpO1xuICAgICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbFJpZ2h0QXJncyB8fCBpc0N1cnJ5KSB7XG4gICAgICAgICAgYXJncyB8fCAoYXJncyA9IHNsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICAgIGlmIChwYXJ0aWFsUmlnaHRBcmdzKSB7XG4gICAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNDdXJyeSAmJiBhcmdzLmxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgICBiaXRtYXNrIHw9IDE2ICYgfjMyO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VDcmVhdGVXcmFwcGVyKFtmdW5jLCAoaXNDdXJyeUJvdW5kID8gYml0bWFzayA6IGJpdG1hc2sgJiB+MyksIGFyZ3MsIG51bGwsIHRoaXNBcmcsIGFyaXR5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3MgfHwgKGFyZ3MgPSBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoaXNCaW5kS2V5KSB7XG4gICAgICAgICAgZnVuYyA9IHRoaXNCaW5kaW5nW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShmdW5jLnByb3RvdHlwZSk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgc2V0QmluZERhdGEoYm91bmQsIGJpbmREYXRhKTtcbiAgICAgIHJldHVybiBib3VuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kaWZmZXJlbmNlYCB0aGF0IGFjY2VwdHMgYSBzaW5nbGUgYXJyYXlcbiAgICAgKiBvZiB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIGFycmF5IG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgaXNMYXJnZSA9IGxlbmd0aCA+PSBsYXJnZUFycmF5U2l6ZSAmJiBpbmRleE9mID09PSBiYXNlSW5kZXhPZixcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gY3JlYXRlQ2FjaGUodmFsdWVzKTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgaW5kZXhPZiA9IGNhY2hlSW5kZXhPZjtcbiAgICAgICAgICB2YWx1ZXMgPSBjYWNoZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0xhcmdlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGluZGV4T2YodmFsdWVzLCB2YWx1ZSkgPCAwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICByZWxlYXNlT2JqZWN0KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgY2FsbGJhY2tcbiAgICAgKiBzaG9ydGhhbmRzIG9yIGB0aGlzQXJnYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NoYWxsb3c9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGEgc2luZ2xlIGxldmVsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhcnJheXMgYW5kIGBhcmd1bWVudHNgIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHN0YXJ0IGZyb20uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgaXNTaGFsbG93LCBpc1N0cmljdCwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgaW5kZXggPSAoZnJvbUluZGV4IHx8IDApIC0gMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcidcbiAgICAgICAgICAgICYmIChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgICAgLy8gcmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VGbGF0dGVuKHZhbHVlLCBpc1NoYWxsb3csIGlzU3RyaWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHZhbEluZGV4ID0gLTEsXG4gICAgICAgICAgICAgIHZhbExlbmd0aCA9IHZhbHVlLmxlbmd0aCxcbiAgICAgICAgICAgICAgcmVzSW5kZXggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICAgICAgcmVzdWx0Lmxlbmd0aCArPSB2YWxMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKCsrdmFsSW5kZXggPCB2YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlW3ZhbEluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgLCB3aXRob3V0IHN1cHBvcnQgZm9yIGB0aGlzQXJnYCBiaW5kaW5nLFxuICAgICAqIHRoYXQgYWxsb3dzIHBhcnRpYWwgXCJfLndoZXJlXCIgc3R5bGUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gYSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IGIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2lzV2hlcmU9ZmFsc2VdIEEgZmxhZyB0byBpbmRpY2F0ZSBwZXJmb3JtaW5nIHBhcnRpYWwgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBgYWAgb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBUcmFja3MgdHJhdmVyc2VkIGBiYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwoYSwgYiwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSB7XG4gICAgICAvLyB1c2VkIHRvIGluZGljYXRlIHRoYXQgd2hlbiBjb21wYXJpbmcgb2JqZWN0cywgYGFgIGhhcyBhdCBsZWFzdCB0aGUgcHJvcGVydGllcyBvZiBgYmBcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soYSwgYik7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBleGl0IGVhcmx5IGZvciBpZGVudGljYWwgdmFsdWVzXG4gICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAvLyB0cmVhdCBgKzBgIHZzLiBgLTBgIGFzIG5vdCBlcXVhbFxuICAgICAgICByZXR1cm4gYSAhPT0gMCB8fCAoMSAvIGEgPT0gMSAvIGIpO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgYSxcbiAgICAgICAgICBvdGhlclR5cGUgPSB0eXBlb2YgYjtcblxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgdW5saWtlIHByaW1pdGl2ZSB2YWx1ZXNcbiAgICAgIGlmIChhID09PSBhICYmXG4gICAgICAgICAgIShhICYmIG9iamVjdFR5cGVzW3R5cGVdKSAmJlxuICAgICAgICAgICEoYiAmJiBvYmplY3RUeXBlc1tvdGhlclR5cGVdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBleGl0IGVhcmx5IGZvciBgbnVsbGAgYW5kIGB1bmRlZmluZWRgIGF2b2lkaW5nIEVTMydzIEZ1bmN0aW9uI2NhbGwgYmVoYXZpb3JcbiAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMy40LjRcbiAgICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgICAgfVxuICAgICAgLy8gY29tcGFyZSBbW0NsYXNzXV0gbmFtZXNcbiAgICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpLFxuICAgICAgICAgIG90aGVyQ2xhc3MgPSB0b1N0cmluZy5jYWxsKGIpO1xuXG4gICAgICBpZiAoY2xhc3NOYW1lID09IGFyZ3NDbGFzcykge1xuICAgICAgICBjbGFzc05hbWUgPSBvYmplY3RDbGFzcztcbiAgICAgIH1cbiAgICAgIGlmIChvdGhlckNsYXNzID09IGFyZ3NDbGFzcykge1xuICAgICAgICBvdGhlckNsYXNzID0gb2JqZWN0Q2xhc3M7XG4gICAgICB9XG4gICAgICBpZiAoY2xhc3NOYW1lICE9IG90aGVyQ2xhc3MpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgICAgY2FzZSBib29sQ2xhc3M6XG4gICAgICAgIGNhc2UgZGF0ZUNsYXNzOlxuICAgICAgICAgIC8vIGNvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtYmVycywgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzIGFuZCBib29sZWFuc1xuICAgICAgICAgIC8vIHRvIGAxYCBvciBgMGAgdHJlYXRpbmcgaW52YWxpZCBkYXRlcyBjb2VyY2VkIHRvIGBOYU5gIGFzIG5vdCBlcXVhbFxuICAgICAgICAgIHJldHVybiArYSA9PSArYjtcblxuICAgICAgICBjYXNlIG51bWJlckNsYXNzOlxuICAgICAgICAgIC8vIHRyZWF0IGBOYU5gIHZzLiBgTmFOYCBhcyBlcXVhbFxuICAgICAgICAgIHJldHVybiAoYSAhPSArYSlcbiAgICAgICAgICAgID8gYiAhPSArYlxuICAgICAgICAgICAgLy8gYnV0IHRyZWF0IGArMGAgdnMuIGAtMGAgYXMgbm90IGVxdWFsXG4gICAgICAgICAgICA6IChhID09IDAgPyAoMSAvIGEgPT0gMSAvIGIpIDogYSA9PSArYik7XG5cbiAgICAgICAgY2FzZSByZWdleHBDbGFzczpcbiAgICAgICAgY2FzZSBzdHJpbmdDbGFzczpcbiAgICAgICAgICAvLyBjb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIChodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEwLjYuNClcbiAgICAgICAgICAvLyB0cmVhdCBzdHJpbmcgcHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3QgaW5zdGFuY2VzIGFzIGVxdWFsXG4gICAgICAgICAgcmV0dXJuIGEgPT0gU3RyaW5nKGIpO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gY2xhc3NOYW1lID09IGFycmF5Q2xhc3M7XG4gICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgIC8vIHVud3JhcCBhbnkgYGxvZGFzaGAgd3JhcHBlZCB2YWx1ZXNcbiAgICAgICAgdmFyIGFXcmFwcGVkID0gaGFzT3duUHJvcGVydHkuY2FsbChhLCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIGJXcmFwcGVkID0gaGFzT3duUHJvcGVydHkuY2FsbChiLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAoYVdyYXBwZWQgfHwgYldyYXBwZWQpIHtcbiAgICAgICAgICByZXR1cm4gYmFzZUlzRXF1YWwoYVdyYXBwZWQgPyBhLl9fd3JhcHBlZF9fIDogYSwgYldyYXBwZWQgPyBiLl9fd3JhcHBlZF9fIDogYiwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleGl0IGZvciBmdW5jdGlvbnMgYW5kIERPTSBub2Rlc1xuICAgICAgICBpZiAoY2xhc3NOYW1lICE9IG9iamVjdENsYXNzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIG9sZGVyIHZlcnNpb25zIG9mIE9wZXJhLCBgYXJndW1lbnRzYCBvYmplY3RzIGhhdmUgYEFycmF5YCBjb25zdHJ1Y3RvcnNcbiAgICAgICAgdmFyIGN0b3JBID0gYS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGN0b3JCID0gYi5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBub24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbFxuICAgICAgICBpZiAoY3RvckEgIT0gY3RvckIgJiZcbiAgICAgICAgICAgICAgIShpc0Z1bmN0aW9uKGN0b3JBKSAmJiBjdG9yQSBpbnN0YW5jZW9mIGN0b3JBICYmIGlzRnVuY3Rpb24oY3RvckIpICYmIGN0b3JCIGluc3RhbmNlb2YgY3RvckIpICYmXG4gICAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBhc3N1bWUgY3ljbGljIHN0cnVjdHVyZXMgYXJlIGVxdWFsXG4gICAgICAvLyB0aGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMVxuICAgICAgLy8gc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYCAoaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xMi4zKVxuICAgICAgdmFyIGluaXRlZFN0YWNrID0gIXN0YWNrQTtcbiAgICAgIHN0YWNrQSB8fCAoc3RhY2tBID0gZ2V0QXJyYXkoKSk7XG4gICAgICBzdGFja0IgfHwgKHN0YWNrQiA9IGdldEFycmF5KCkpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoc3RhY2tBW2xlbmd0aF0gPT0gYSkge1xuICAgICAgICAgIHJldHVybiBzdGFja0JbbGVuZ3RoXSA9PSBiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc2l6ZSA9IDA7XG4gICAgICByZXN1bHQgPSB0cnVlO1xuXG4gICAgICAvLyBhZGQgYGFgIGFuZCBgYmAgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzXG4gICAgICBzdGFja0EucHVzaChhKTtcbiAgICAgIHN0YWNrQi5wdXNoKGIpO1xuXG4gICAgICAvLyByZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpXG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgLy8gY29tcGFyZSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnlcbiAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgIHNpemUgPSBiLmxlbmd0aDtcbiAgICAgICAgcmVzdWx0ID0gc2l6ZSA9PSBsZW5ndGg7XG5cbiAgICAgICAgaWYgKHJlc3VsdCB8fCBpc1doZXJlKSB7XG4gICAgICAgICAgLy8gZGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllc1xuICAgICAgICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGJbc2l6ZV07XG5cbiAgICAgICAgICAgIGlmIChpc1doZXJlKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPSBiYXNlSXNFcXVhbChhW2luZGV4XSwgdmFsdWUsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikpKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShyZXN1bHQgPSBiYXNlSXNFcXVhbChhW3NpemVdLCB2YWx1ZSwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSkpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gZGVlcCBjb21wYXJlIG9iamVjdHMgdXNpbmcgYGZvckluYCwgaW5zdGVhZCBvZiBgZm9yT3duYCwgdG8gYXZvaWQgYE9iamVjdC5rZXlzYFxuICAgICAgICAvLyB3aGljaCwgaW4gdGhpcyBjYXNlLCBpcyBtb3JlIGNvc3RseVxuICAgICAgICBmb3JJbihiLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBiKSB7XG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYiwga2V5KSkge1xuICAgICAgICAgICAgLy8gY291bnQgdGhlIG51bWJlciBvZiBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgc2l6ZSsrO1xuICAgICAgICAgICAgLy8gZGVlcCBjb21wYXJlIGVhY2ggcHJvcGVydHkgdmFsdWUuXG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9IGhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KSAmJiBiYXNlSXNFcXVhbChhW2tleV0sIHZhbHVlLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXN1bHQgJiYgIWlzV2hlcmUpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYm90aCBvYmplY3RzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXNcbiAgICAgICAgICBmb3JJbihhLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBhKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChhLCBrZXkpKSB7XG4gICAgICAgICAgICAgIC8vIGBzaXplYCB3aWxsIGJlIGAtMWAgaWYgYGFgIGhhcyBtb3JlIHByb3BlcnRpZXMgdGhhbiBgYmBcbiAgICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSAtLXNpemUgPiAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrQS5wb3AoKTtcbiAgICAgIHN0YWNrQi5wb3AoKTtcblxuICAgICAgaWYgKGluaXRlZFN0YWNrKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0EpO1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tBPVtdXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0I9W11dIEFzc29jaWF0ZXMgdmFsdWVzIHdpdGggc291cmNlIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQikge1xuICAgICAgKGlzQXJyYXkoc291cmNlKSA/IGZvckVhY2ggOiBmb3JPd24pKHNvdXJjZSwgZnVuY3Rpb24oc291cmNlLCBrZXkpIHtcbiAgICAgICAgdmFyIGZvdW5kLFxuICAgICAgICAgICAgaXNBcnIsXG4gICAgICAgICAgICByZXN1bHQgPSBzb3VyY2UsXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmIChzb3VyY2UgJiYgKChpc0FyciA9IGlzQXJyYXkoc291cmNlKSkgfHwgaXNQbGFpbk9iamVjdChzb3VyY2UpKSkge1xuICAgICAgICAgIC8vIGF2b2lkIG1lcmdpbmcgcHJldmlvdXNseSBtZXJnZWQgY3ljbGljIHNvdXJjZXNcbiAgICAgICAgICB2YXIgc3RhY2tMZW5ndGggPSBzdGFja0EubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzdGFja0xlbmd0aC0tKSB7XG4gICAgICAgICAgICBpZiAoKGZvdW5kID0gc3RhY2tBW3N0YWNrTGVuZ3RoXSA9PSBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc3RhY2tCW3N0YWNrTGVuZ3RoXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHZhciBpc1NoYWxsb3c7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWUsIHNvdXJjZSk7XG4gICAgICAgICAgICAgIGlmICgoaXNTaGFsbG93ID0gdHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1NoYWxsb3cpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBpc0FyclxuICAgICAgICAgICAgICAgID8gKGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSlcbiAgICAgICAgICAgICAgICA6IChpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDoge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIGBzb3VyY2VgIGFuZCBhc3NvY2lhdGVkIGB2YWx1ZWAgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzXG4gICAgICAgICAgICBzdGFja0EucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgc3RhY2tCLnB1c2godmFsdWUpO1xuXG4gICAgICAgICAgICAvLyByZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgICAgICAgaWYgKCFpc1NoYWxsb3cpIHtcbiAgICAgICAgICAgICAgYmFzZU1lcmdlKHZhbHVlLCBzb3VyY2UsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWUsIHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBzb3VyY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBhcmd1bWVudCBqdWdnbGluZyBvciBzdXBwb3J0XG4gICAgICogZm9yIHJldHVybmluZyBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShtaW4sIG1heCkge1xuICAgICAgcmV0dXJuIG1pbiArIGZsb29yKG5hdGl2ZVJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICAgKiBvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTb3J0ZWQ9ZmFsc2VdIEEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IGBhcnJheWAgaXMgc29ydGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB2YXIgaXNMYXJnZSA9ICFpc1NvcnRlZCAmJiBsZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiYgaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgc2VlbiA9IChjYWxsYmFjayB8fCBpc0xhcmdlKSA/IGdldEFycmF5KCkgOiByZXN1bHQ7XG5cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGNyZWF0ZUNhY2hlKHNlZW4pO1xuICAgICAgICBpbmRleE9mID0gY2FjaGVJbmRleE9mO1xuICAgICAgICBzZWVuID0gY2FjaGU7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBhcnJheSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoaXNTb3J0ZWRcbiAgICAgICAgICAgICAgPyAhaW5kZXggfHwgc2VlbltzZWVuLmxlbmd0aCAtIDFdICE9PSBjb21wdXRlZFxuICAgICAgICAgICAgICA6IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQpIDwgMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrIHx8IGlzTGFyZ2UpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHNlZW4uYXJyYXkpO1xuICAgICAgICByZWxlYXNlT2JqZWN0KHNlZW4pO1xuICAgICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICByZWxlYXNlQXJyYXkoc2Vlbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYSBjb2xsZWN0aW9uLCBjcmVhdGluZyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uXG4gICAgICogdGhyb3VnaCBhIGNhbGxiYWNrLiBUaGUgZ2l2ZW4gYHNldHRlcmAgZnVuY3Rpb24gc2V0cyB0aGUga2V5cyBhbmQgdmFsdWVzXG4gICAgICogb2YgdGhlIGNvbXBvc2VkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBzZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICAgIHNldHRlcihyZXN1bHQsIHZhbHVlLCBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHNldHRlcihyZXN1bHQsIHZhbHVlLCBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSwgY29sbGVjdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYFxuICAgICAqIHdpdGggYW4gb3B0aW9uYWwgYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBtZXRob2QgZmxhZ3MgdG8gY29tcG9zZS5cbiAgICAgKiAgVGhlIGJpdG1hc2sgbWF5IGJlIGNvbXBvc2VkIG9mIHRoZSBmb2xsb3dpbmcgZmxhZ3M6XG4gICAgICogIDEgLSBgXy5iaW5kYFxuICAgICAqICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgNCAtIGBfLmN1cnJ5YFxuICAgICAqICA4IC0gYF8uY3VycnlgIChib3VuZClcbiAgICAgKiAgMTYgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAzMiAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbEFyZ3NdIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlXG4gICAgICogIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxSaWdodEFyZ3NdIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2VcbiAgICAgKiAgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcHBlcihmdW5jLCBiaXRtYXNrLCBwYXJ0aWFsQXJncywgcGFydGlhbFJpZ2h0QXJncywgdGhpc0FyZywgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgMSxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgICBpc0N1cnJ5ID0gYml0bWFzayAmIDQsXG4gICAgICAgICAgaXNDdXJyeUJvdW5kID0gYml0bWFzayAmIDgsXG4gICAgICAgICAgaXNQYXJ0aWFsID0gYml0bWFzayAmIDE2LFxuICAgICAgICAgIGlzUGFydGlhbFJpZ2h0ID0gYml0bWFzayAmIDMyO1xuXG4gICAgICBpZiAoIWlzQmluZEtleSAmJiAhaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKGlzUGFydGlhbCAmJiAhcGFydGlhbEFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfjE2O1xuICAgICAgICBpc1BhcnRpYWwgPSBwYXJ0aWFsQXJncyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzUGFydGlhbFJpZ2h0ICYmICFwYXJ0aWFsUmlnaHRBcmdzLmxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4zMjtcbiAgICAgICAgaXNQYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHRBcmdzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgYmluZERhdGEgPSBmdW5jICYmIGZ1bmMuX19iaW5kRGF0YV9fO1xuICAgICAgaWYgKGJpbmREYXRhICYmIGJpbmREYXRhICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIGNsb25lIGBiaW5kRGF0YWBcbiAgICAgICAgYmluZERhdGEgPSBzbGljZShiaW5kRGF0YSk7XG4gICAgICAgIGlmIChiaW5kRGF0YVsyXSkge1xuICAgICAgICAgIGJpbmREYXRhWzJdID0gc2xpY2UoYmluZERhdGFbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiaW5kRGF0YVszXSkge1xuICAgICAgICAgIGJpbmREYXRhWzNdID0gc2xpY2UoYmluZERhdGFbM10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBgdGhpc0JpbmRpbmdgIGlzIG5vdCBwcmV2aW91c2x5IGJvdW5kXG4gICAgICAgIGlmIChpc0JpbmQgJiYgIShiaW5kRGF0YVsxXSAmIDEpKSB7XG4gICAgICAgICAgYmluZERhdGFbNF0gPSB0aGlzQXJnO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBpZiBwcmV2aW91c2x5IGJvdW5kIGJ1dCBub3QgY3VycmVudGx5IChzdWJzZXF1ZW50IGN1cnJpZWQgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoIWlzQmluZCAmJiBiaW5kRGF0YVsxXSAmIDEpIHtcbiAgICAgICAgICBiaXRtYXNrIHw9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGN1cnJpZWQgYXJpdHkgaWYgbm90IHlldCBzZXRcbiAgICAgICAgaWYgKGlzQ3VycnkgJiYgIShiaW5kRGF0YVsxXSAmIDQpKSB7XG4gICAgICAgICAgYmluZERhdGFbNV0gPSBhcml0eTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBlbmQgcGFydGlhbCBsZWZ0IGFyZ3VtZW50c1xuICAgICAgICBpZiAoaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgcHVzaC5hcHBseShiaW5kRGF0YVsyXSB8fCAoYmluZERhdGFbMl0gPSBbXSksIHBhcnRpYWxBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBlbmQgcGFydGlhbCByaWdodCBhcmd1bWVudHNcbiAgICAgICAgaWYgKGlzUGFydGlhbFJpZ2h0KSB7XG4gICAgICAgICAgdW5zaGlmdC5hcHBseShiaW5kRGF0YVszXSB8fCAoYmluZERhdGFbM10gPSBbXSksIHBhcnRpYWxSaWdodEFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1lcmdlIGZsYWdzXG4gICAgICAgIGJpbmREYXRhWzFdIHw9IGJpdG1hc2s7XG4gICAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyLmFwcGx5KG51bGwsIGJpbmREYXRhKTtcbiAgICAgIH1cbiAgICAgIC8vIGZhc3QgcGF0aCBmb3IgYF8uYmluZGBcbiAgICAgIHZhciBjcmVhdGVyID0gKGJpdG1hc2sgPT0gMSB8fCBiaXRtYXNrID09PSAxNykgPyBiYXNlQmluZCA6IGJhc2VDcmVhdGVXcmFwcGVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZXIoW2Z1bmMsIGJpdG1hc2ssIHBhcnRpYWxBcmdzLCBwYXJ0aWFsUmlnaHRBcmdzLCB0aGlzQXJnLCBhcml0eV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYGVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaCBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZUh0bWxDaGFyKG1hdGNoKSB7XG4gICAgICByZXR1cm4gaHRtbEVzY2FwZXNbbWF0Y2hdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaW5kZXhPZlwiIGZ1bmN0aW9uLiBJZiB0aGUgYF8uaW5kZXhPZmAgbWV0aG9kIGlzXG4gICAgICogY3VzdG9taXplZCwgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnNcbiAgICAgKiB0aGUgYGJhc2VJbmRleE9mYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBcImluZGV4T2ZcIiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJbmRleE9mKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IChyZXN1bHQgPSBsb2Rhc2guaW5kZXhPZikgPT09IGluZGV4T2YgPyBiYXNlSW5kZXhPZiA6IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgJiYgcmVOYXRpdmUudGVzdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBgdGhpc2AgYmluZGluZyBkYXRhIG9uIGEgZ2l2ZW4gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNldCBkYXRhIG9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlIFRoZSBkYXRhIGFycmF5IHRvIHNldC5cbiAgICAgKi9cbiAgICB2YXIgc2V0QmluZERhdGEgPSAhZGVmaW5lUHJvcGVydHkgPyBub29wIDogZnVuY3Rpb24oZnVuYywgdmFsdWUpIHtcbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGRlZmluZVByb3BlcnR5KGZ1bmMsICdfX2JpbmREYXRhX18nLCBkZXNjcmlwdG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiBvZiBgaXNQbGFpbk9iamVjdGAgd2hpY2ggY2hlY2tzIGlmIGEgZ2l2ZW4gdmFsdWVcbiAgICAgKiBpcyBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IsIGFzc3VtaW5nIG9iamVjdHMgY3JlYXRlZFxuICAgICAqIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3RvciBoYXZlIG5vIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIHRoYXRcbiAgICAgKiB0aGVyZSBhcmUgbm8gYE9iamVjdC5wcm90b3R5cGVgIGV4dGVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hpbUlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciBjdG9yLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgLy8gYXZvaWQgbm9uIE9iamVjdCBvYmplY3RzLCBgYXJndW1lbnRzYCBvYmplY3RzLCBhbmQgRE9NIGVsZW1lbnRzXG4gICAgICBpZiAoISh2YWx1ZSAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBvYmplY3RDbGFzcykgfHxcbiAgICAgICAgICAoY3RvciA9IHZhbHVlLmNvbnN0cnVjdG9yLCBpc0Z1bmN0aW9uKGN0b3IpICYmICEoY3RvciBpbnN0YW5jZW9mIGN0b3IpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBJbiBtb3N0IGVudmlyb25tZW50cyBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcyBhcmUgaXRlcmF0ZWQgYmVmb3JlXG4gICAgICAvLyBpdHMgaW5oZXJpdGVkIHByb3BlcnRpZXMuIElmIHRoZSBsYXN0IGl0ZXJhdGVkIHByb3BlcnR5IGlzIGFuIG9iamVjdCdzXG4gICAgICAvLyBvd24gcHJvcGVydHkgdGhlbiB0aGVyZSBhcmUgbm8gaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgIGZvckluKHZhbHVlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHR5cGVvZiByZXN1bHQgPT0gJ3VuZGVmaW5lZCcgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGB1bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaCBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZUh0bWxDaGFyKG1hdGNoKSB7XG4gICAgICByZXR1cm4gaHRtbFVuZXNjYXBlc1ttYXRjaF07XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogKGZ1bmN0aW9uKCkgeyByZXR1cm4gXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpOyB9KSgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogKGZ1bmN0aW9uKCkgeyByZXR1cm4gXy5pc0FycmF5KGFyZ3VtZW50cyk7IH0pKCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcnJheUNsYXNzIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGZhbGxiYWNrIGltcGxlbWVudGF0aW9uIG9mIGBPYmplY3Qua2V5c2Agd2hpY2ggcHJvZHVjZXMgYW4gYXJyYXkgb2YgdGhlXG4gICAgICogZ2l2ZW4gb2JqZWN0J3Mgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIHZhciBzaGltS2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IG9iamVjdCwgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgaWYgKCEob2JqZWN0VHlwZXNbdHlwZW9mIG9iamVjdF0pKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICBmb3IgKGluZGV4IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoaXRlcmFibGUsIGluZGV4KSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNvbXBvc2VkIG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZXlzKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0pO1xuICAgICAqIC8vID0+IFsnb25lJywgJ3R3bycsICd0aHJlZSddIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIHZhciBrZXlzID0gIW5hdGl2ZUtleXMgPyBzaGltS2V5cyA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXM6XG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIGA+YCBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZSBgPmAgYW5kIGAvYFxuICAgICAqIGRvbid0IHJlcXVpcmUgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmcgdW5sZXNzIHRoZXkncmUgcGFydFxuICAgICAqIG9mIGEgdGFnIG9yIGFuIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcyAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIilcbiAgICAgKi9cbiAgICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICBcIidcIjogJyYjMzk7J1xuICAgIH07XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycyAqL1xuICAgIHZhciBodG1sVW5lc2NhcGVzID0gaW52ZXJ0KGh0bWxFc2NhcGVzKTtcblxuICAgIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycyAqL1xuICAgIHZhciByZUVzY2FwZWRIdG1sID0gUmVnRXhwKCcoJyArIGtleXMoaHRtbFVuZXNjYXBlcykuam9pbignfCcpICsgJyknLCAnZycpLFxuICAgICAgICByZVVuZXNjYXBlZEh0bWwgPSBSZWdFeHAoJ1snICsga2V5cyhodG1sRXNjYXBlcykuam9pbignJykgKyAnXScsICdnJyk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0KHMpIHRvIHRoZSBkZXN0aW5hdGlvblxuICAgICAqIG9iamVjdC4gU3Vic2VxdWVudCBzb3VyY2VzIHdpbGwgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzXG4gICAgICogc291cmNlcy4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlXG4gICAgICogYXNzaWduZWQgdmFsdWVzLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOyAob2JqZWN0VmFsdWUsIHNvdXJjZVZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICduYW1lJzogJ2ZyZWQnIH0sIHsgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduLCBmdW5jdGlvbihhLCBiKSB7XG4gICAgICogICByZXR1cm4gdHlwZW9mIGEgPT0gJ3VuZGVmaW5lZCcgPyBiIDogYTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2Jhcm5leScgfTtcbiAgICAgKiBkZWZhdWx0cyhvYmplY3QsIHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIGd1YXJkKSB7XG4gICAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gb2JqZWN0LCByZXN1bHQgPSBpdGVyYWJsZTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBhcmdzSW5kZXggPSAwLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSB0eXBlb2YgZ3VhcmQgPT0gJ251bWJlcicgPyAyIDogYXJncy5sZW5ndGg7XG4gICAgICBpZiAoYXJnc0xlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3NbYXJnc0xlbmd0aCAtIDJdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGFyZ3NbLS1hcmdzTGVuZ3RoIC0gMV0sIGFyZ3NbYXJnc0xlbmd0aC0tXSwgMik7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3NMZW5ndGggPiAyICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAxXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrID0gYXJnc1stLWFyZ3NMZW5ndGhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICBpdGVyYWJsZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgaWYgKGl0ZXJhYmxlICYmIG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHtcbiAgICAgICAgdmFyIG93bkluZGV4ID0gLTEsXG4gICAgICAgICAgICBvd25Qcm9wcyA9IG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0gJiYga2V5cyhpdGVyYWJsZSksXG4gICAgICAgICAgICBsZW5ndGggPSBvd25Qcm9wcyA/IG93blByb3BzLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgd2hpbGUgKCsrb3duSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpbmRleCA9IG93blByb3BzW293bkluZGV4XTtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2sgPyBjYWxsYmFjayhyZXN1bHRbaW5kZXhdLCBpdGVyYWJsZVtpbmRleF0pIDogaXRlcmFibGVbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB2YWx1ZWAuIElmIGBpc0RlZXBgIGlzIGB0cnVlYCBuZXN0ZWQgb2JqZWN0cyB3aWxsIGFsc29cbiAgICAgKiBiZSBjbG9uZWQsIG90aGVyd2lzZSB0aGV5IHdpbGwgYmUgYXNzaWduZWQgYnkgcmVmZXJlbmNlLiBJZiBhIGNhbGxiYWNrXG4gICAgICogaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWVzLiBJZiB0aGVcbiAgICAgKiBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIGNsb25pbmcgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXA9ZmFsc2VdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShjaGFyYWN0ZXJzKTtcbiAgICAgKiBzaGFsbG93WzBdID09PSBjaGFyYWN0ZXJzWzBdO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZShjaGFyYWN0ZXJzLCB0cnVlKTtcbiAgICAgKiBkZWVwWzBdID09PSBjaGFyYWN0ZXJzWzBdO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLm1peGluKHtcbiAgICAgKiAgICdjbG9uZSc6IF8ucGFydGlhbFJpZ2h0KF8uY2xvbmUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgIHJldHVybiBfLmlzRWxlbWVudCh2YWx1ZSkgPyB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAqICAgfSlcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjbG9uZSA9IF8uY2xvbmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICogY2xvbmUuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlLCBpc0RlZXAsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzIHdpdGhvdXQgdXNpbmcgdGhlaXIgYGluZGV4YFxuICAgICAgLy8gYW5kIGBjb2xsZWN0aW9uYCBhcmd1bWVudHMgZm9yIGBpc0RlZXBgIGFuZCBgY2FsbGJhY2tgXG4gICAgICBpZiAodHlwZW9mIGlzRGVlcCAhPSAnYm9vbGVhbicgJiYgaXNEZWVwICE9IG51bGwpIHtcbiAgICAgICAgdGhpc0FyZyA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayA9IGlzRGVlcDtcbiAgICAgICAgaXNEZWVwID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBpc0RlZXAsIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nICYmIGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWVwIGNsb25lIG9mIGB2YWx1ZWAuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZVxuICAgICAqIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogY2xvbmluZyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG9cbiAgICAgKiBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZSBzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobS4gRnVuY3Rpb25zXG4gICAgICogYW5kIERPTSBub2RlcyBhcmUgKipub3QqKiBjbG9uZWQuIFRoZSBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhbmRcbiAgICAgKiBvYmplY3RzIGNyZWF0ZWQgYnkgY29uc3RydWN0b3JzIG90aGVyIHRoYW4gYE9iamVjdGAgYXJlIGNsb25lZCB0byBwbGFpbiBgT2JqZWN0YCBvYmplY3RzLlxuICAgICAqIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI2ludGVybmFsLXN0cnVjdHVyZWQtY2xvbmluZy1hbGdvcml0aG0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGRlZXAgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKGNoYXJhY3RlcnMpO1xuICAgICAqIGRlZXBbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB2aWV3ID0ge1xuICAgICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgICAqICAgJ25vZGUnOiBlbGVtZW50XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjbG9uZSA9IF8uY2xvbmVEZWVwKHZpZXcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc0VsZW1lbnQodmFsdWUpID8gdmFsdWUuY2xvbmVOb2RlKHRydWUpIDogdW5kZWZpbmVkO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY2xvbmUubm9kZSA9PSB2aWV3Lm5vZGU7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCB0cnVlLCB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgcHJvdmlkZWQgaXRzIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYXJlIGFzc2lnbmVkXG4gICAgICogdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHsgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPyBhc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdChzKSB0byB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gT25jZSBhXG4gICAgICogcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIGRlZmF1bHRzIG9mIHRoZSBzYW1lIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gQWxsb3dzIHdvcmtpbmcgd2l0aCBgXy5yZWR1Y2VgIHdpdGhvdXQgdXNpbmcgaXRzXG4gICAgICogIGBrZXlgIGFuZCBgb2JqZWN0YCBhcmd1bWVudHMgYXMgc291cmNlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2Jhcm5leScgfTtcbiAgICAgKiBfLmRlZmF1bHRzKG9iamVjdCwgeyAnbmFtZSc6ICdmcmVkJywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBndWFyZCkge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IG9iamVjdCwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgYXJnc0luZGV4ID0gMCxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gdHlwZW9mIGd1YXJkID09ICdudW1iZXInID8gMiA6IGFyZ3MubGVuZ3RoO1xuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICBpdGVyYWJsZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgaWYgKGl0ZXJhYmxlICYmIG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHtcbiAgICAgICAgdmFyIG93bkluZGV4ID0gLTEsXG4gICAgICAgICAgICBvd25Qcm9wcyA9IG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0gJiYga2V5cyhpdGVyYWJsZSksXG4gICAgICAgICAgICBsZW5ndGggPSBvd25Qcm9wcyA/IG93blByb3BzLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgd2hpbGUgKCsrb3duSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpbmRleCA9IG93blByb3BzW293bkluZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdFtpbmRleF0gPT0gJ3VuZGVmaW5lZCcpIHJlc3VsdFtpbmRleF0gPSBpdGVyYWJsZVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnQgdGhhdCBwYXNzZXMgdGhlIGNhbGxiYWNrIGNoZWNrLCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgICAqICBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvXG4gICAgICogIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogeyAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICAnZnJlZCc6IHsgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDEgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRLZXkoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyXG4gICAgICogIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG9cbiAgICAgKiAgY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiB7ICAnYWdlJzogMzYsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiB7ICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleShjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgNDA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyBgcGViYmxlc2AsIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgYGJhcm5leWBcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RLZXkoY2hhcmFjdGVycywgeyAnYWdlJzogNDAgfSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0S2V5KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGZvck93blJpZ2h0KG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCxcbiAgICAgKiBleGVjdXRpbmcgdGhlIGNhbGxiYWNrIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgXG4gICAgICogYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBDYWxsYmFja3MgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogU2hhcGUucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICB0aGlzLnggKz0geDtcbiAgICAgKiAgIHRoaXMueSArPSB5O1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBTaGFwZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICd4JywgJ3knLCBhbmQgJ21vdmUnIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIHZhciBmb3JJbiA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gY29sbGVjdGlvbiwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgaWYgKCFvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSByZXR1cm4gcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayhpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgdGhpcy54ICs9IHg7XG4gICAgICogICB0aGlzLnkgKz0geTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBTaGFwZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdtb3ZlJywgJ3knLCBhbmQgJ3gnIGFzc3VtaW5nIGBfLmZvckluIGAgbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHBhaXJzID0gW107XG5cbiAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBwYWlycy5wdXNoKGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBwYWlycy5sZW5ndGg7XG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHBhaXJzW2xlbmd0aC0tXSwgcGFpcnNbbGVuZ3RoXSwgb2JqZWN0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LCBleGVjdXRpbmcgdGhlIGNhbGxiYWNrXG4gICAgICogZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBrZXksIG9iamVjdCkuIENhbGxiYWNrcyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnlcbiAgICAgKiBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JPd24oeyAnMCc6ICd6ZXJvJywgJzEnOiAnb25lJywgJ2xlbmd0aCc6IDIgfSwgZnVuY3Rpb24obnVtLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnMCcsICcxJywgYW5kICdsZW5ndGgnIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIHZhciBmb3JPd24gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IGNvbGxlY3Rpb24sIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGlmICghb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHZhciBvd25JbmRleCA9IC0xLFxuICAgICAgICAgICAgb3duUHJvcHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdICYmIGtleXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK293bkluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KHsgJzAnOiAnemVybycsICcxJzogJ29uZScsICdsZW5ndGgnOiAyIH0sIGZ1bmN0aW9uKG51bSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ2xlbmd0aCcsICcxJywgYW5kICcwJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJzAnLCAnMScsIGFuZCAnbGVuZ3RoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKG9iamVjdFtrZXldLCBrZXksIG9iamVjdCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvcnRlZCBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBvZiBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLFxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkLCBvZiBgb2JqZWN0YCB0aGF0IGhhdmUgZnVuY3Rpb24gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIG1ldGhvZHNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyB0aGF0IGhhdmUgZnVuY3Rpb24gdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhfKTtcbiAgICAgKiAvLyA9PiBbJ2FsbCcsICdhbnknLCAnYmluZCcsICdiaW5kQWxsJywgJ2Nsb25lJywgJ2NvbXBhY3QnLCAnY29tcG9zZScsIC4uLl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0LnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBuYW1lIGV4aXN0cyBhcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCxcbiAgICAgKiBpbnN0ZWFkIG9mIGFuIGluaGVyaXRlZCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGtleSBpcyBhIGRpcmVjdCBwcm9wZXJ0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhhcyh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgJ2InKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID8gaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3JlYXRlZCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KHsgJ2ZpcnN0JzogJ2ZyZWQnLCAnc2Vjb25kJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6ICdmaXJzdCcsICdiYXJuZXknOiAnc2Vjb25kJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJ0KG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbb2JqZWN0W2tleV1dID0ga2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIGJvb2xlYW4gdmFsdWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGJvb2xDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGRhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIGRhdGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZGF0ZUNsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBlbXB0eS4gQXJyYXlzLCBzdHJpbmdzLCBvciBgYXJndW1lbnRzYCBvYmplY3RzIHdpdGggYVxuICAgICAqIGxlbmd0aCBvZiBgMGAgYW5kIG9iamVjdHMgd2l0aCBubyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSBjb25zaWRlcmVkXG4gICAgICogXCJlbXB0eVwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoJycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKHZhbHVlKSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG5cbiAgICAgIGlmICgoY2xhc3NOYW1lID09IGFycmF5Q2xhc3MgfHwgY2xhc3NOYW1lID09IHN0cmluZ0NsYXNzIHx8IGNsYXNzTmFtZSA9PSBhcmdzQ2xhc3MgKSB8fFxuICAgICAgICAgIChjbGFzc05hbWUgPT0gb2JqZWN0Q2xhc3MgJiYgdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNwbGljZSkpKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yT3duKHZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQgdG8gZWFjaCBvdGhlci4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogdG8gY29tcGFyZSB2YWx1ZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIGNvbXBhcmlzb25zIHdpbGxcbiAgICAgKiBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czsgKGEsIGIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogdmFyIGNvcHkgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiBvYmplY3QgPT0gY29weTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgY29weSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHdvcmRzID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyV29yZHMgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbCh3b3Jkcywgb3RoZXJXb3JkcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgdmFyIHJlR3JlZXQgPSAvXig/OmhlbGxvfGhpKSQvaSxcbiAgICAgKiAgICAgICBhR3JlZXQgPSBfLmlzU3RyaW5nKGEpICYmIHJlR3JlZXQudGVzdChhKSxcbiAgICAgKiAgICAgICBiR3JlZXQgPSBfLmlzU3RyaW5nKGIpICYmIHJlR3JlZXQudGVzdChiKTtcbiAgICAgKlxuICAgICAqICAgcmV0dXJuIChhR3JlZXQgfHwgYkdyZWV0KSA/IChhR3JlZXQgPT0gYkdyZWV0KSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbChhLCBiLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKGEsIGIsIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nICYmIGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzLCBvciBjYW4gYmUgY29lcmNlZCB0bywgYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgbmF0aXZlIGBpc0Zpbml0ZWAgd2hpY2ggd2lsbCByZXR1cm4gdHJ1ZSBmb3JcbiAgICAgKiBib29sZWFucyBhbmQgZW1wdHkgc3RyaW5ncy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBmaW5pdGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgtMTAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCcxMCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUodHJ1ZSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlSXNGaW5pdGUodmFsdWUpICYmICFuYXRpdmVJc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIGxhbmd1YWdlIHR5cGUgb2YgT2JqZWN0LlxuICAgICAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHRoZSB2YWx1ZSBpcyB0aGUgRUNNQVNjcmlwdCBsYW5ndWFnZSB0eXBlIG9mIE9iamVjdFxuICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3g4XG4gICAgICAvLyBhbmQgYXZvaWQgYSBWOCBidWdcbiAgICAgIC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTFcbiAgICAgIHJldHVybiAhISh2YWx1ZSAmJiBvYmplY3RUeXBlc1t0eXBlb2YgdmFsdWVdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIG5hdGl2ZSBgaXNOYU5gIHdoaWNoIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWVyaWMgdmFsdWVzLiBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuNC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gYE5hTmAgYXMgYSBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmXG4gICAgICAvLyAocGVyZm9ybSB0aGUgW1tDbGFzc11dIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWUgaG9zdCBvYmplY3RzIGluIElFKVxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IGBOYU5gIGlzIGNvbnNpZGVyZWQgYSBudW1iZXIuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDguNS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoOC40ICogNSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBudW1iZXJDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBTaGFwZSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGlzUGxhaW5PYmplY3QgPSAhZ2V0UHJvdG90eXBlT2YgPyBzaGltSXNQbGFpbk9iamVjdCA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoISh2YWx1ZSAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBvYmplY3RDbGFzcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mLFxuICAgICAgICAgIG9ialByb3RvID0gaXNOYXRpdmUodmFsdWVPZikgJiYgKG9ialByb3RvID0gZ2V0UHJvdG90eXBlT2YodmFsdWVPZikpICYmIGdldFByb3RvdHlwZU9mKG9ialByb3RvKTtcblxuICAgICAgcmV0dXJuIG9ialByb3RvXG4gICAgICAgID8gKHZhbHVlID09IG9ialByb3RvIHx8IGdldFByb3RvdHlwZU9mKHZhbHVlKSA9PSBvYmpQcm90bylcbiAgICAgICAgOiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvZnJlZC8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSByZWdleHBDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN0cmluZ0NsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWQgYnlcbiAgICAgKiBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhyb3VnaCB0aGUgY2FsbGJhY2suXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHZhbHVlcyBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGBjYWxsYmFja2AgZXhlY3V0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDN9ICwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gKiAzOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMywgJ2InOiA2LCAnYyc6IDkgfVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSB7XG4gICAgICogICAnZnJlZCc6IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWFwVmFsdWVzKGNoYXJhY3RlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgZm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBtZXJnZXMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiB0aGUgc291cmNlIG9iamVjdChzKSwgdGhhdFxuICAgICAqIGRvbid0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgaW50byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBTdWJzZXF1ZW50IHNvdXJjZXNcbiAgICAgKiB3aWxsIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLiBJZiBhIGNhbGxiYWNrIGlzXG4gICAgICogcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvblxuICAgICAqIGFuZCBzb3VyY2UgcHJvcGVydGllcy4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGAgbWVyZ2luZyB3aWxsXG4gICAgICogYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM7IChvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2luZyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG5hbWVzID0ge1xuICAgICAqICAgJ2NoYXJhY3RlcnMnOiBbXG4gICAgICogICAgIHsgJ25hbWUnOiAnYmFybmV5JyB9LFxuICAgICAqICAgICB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKiAgIF1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGFnZXMgPSB7XG4gICAgICogICAnY2hhcmFjdGVycyc6IFtcbiAgICAgKiAgICAgeyAnYWdlJzogMzYgfSxcbiAgICAgKiAgICAgeyAnYWdlJzogNDAgfVxuICAgICAqICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG5hbWVzLCBhZ2VzKTtcbiAgICAgKiAvLyA9PiB7ICdjaGFyYWN0ZXJzJzogW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sIHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XSB9XG4gICAgICpcbiAgICAgKiB2YXIgZm9vZCA9IHtcbiAgICAgKiAgICdmcnVpdHMnOiBbJ2FwcGxlJ10sXG4gICAgICogICAndmVnZXRhYmxlcyc6IFsnYmVldCddXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlckZvb2QgPSB7XG4gICAgICogICAnZnJ1aXRzJzogWydiYW5hbmEnXSxcbiAgICAgKiAgICd2ZWdldGFibGVzJzogWydjYXJyb3QnXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKGZvb2QsIG90aGVyRm9vZCwgZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgcmV0dXJuIF8uaXNBcnJheShhKSA/IGEuY29uY2F0KGIpIDogdW5kZWZpbmVkO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ZydWl0cyc6IFsnYXBwbGUnLCAnYmFuYW5hJ10sICd2ZWdldGFibGVzJzogWydiZWV0JywgJ2NhcnJvdF0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlKG9iamVjdCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgbGVuZ3RoID0gMjtcblxuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCB3aXRob3V0IHVzaW5nXG4gICAgICAvLyB0aGVpciBgaW5kZXhgIGFuZCBgY29sbGVjdGlvbmAgYXJndW1lbnRzXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMl0gIT0gJ251bWJlcicpIHtcbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID4gMyAmJiB0eXBlb2YgYXJnc1tsZW5ndGggLSAyXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tbGVuZ3RoIC0gMV0sIGFyZ3NbbGVuZ3RoLS1dLCAyKTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiB0eXBlb2YgYXJnc1tsZW5ndGggLSAxXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrID0gYXJnc1stLWxlbmd0aF07XG4gICAgICB9XG4gICAgICB2YXIgc291cmNlcyA9IHNsaWNlKGFyZ3VtZW50cywgMSwgbGVuZ3RoKSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIHN0YWNrQSA9IGdldEFycmF5KCksXG4gICAgICAgICAgc3RhY2tCID0gZ2V0QXJyYXkoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlc1tpbmRleF0sIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICB9XG4gICAgICByZWxlYXNlQXJyYXkoc3RhY2tBKTtcbiAgICAgIHJlbGVhc2VBcnJheShzdGFja0IpO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgb2JqZWN0YCBleGNsdWRpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAqIFByb3BlcnR5IG5hbWVzIG1heSBiZSBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMgb3IgYXMgYXJyYXlzIG9mXG4gICAgICogcHJvcGVydHkgbmFtZXMuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgZWFjaFxuICAgICAqIHByb3BlcnR5IG9mIGBvYmplY3RgIG9taXR0aW5nIHRoZSBwcm9wZXJ0aWVzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5XG4gICAgICogZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258Li4uc3RyaW5nfHN0cmluZ1tdfSBbY2FsbGJhY2tdIFRoZSBwcm9wZXJ0aWVzIHRvIG9taXQgb3IgdGhlXG4gICAgICogIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IHdpdGhvdXQgdGhlIG9taXR0ZWQgcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5vbWl0KHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICpcbiAgICAgKiBfLm9taXQoeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXQob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IFtdO1xuICAgICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBwcm9wcy5wdXNoKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9wcyA9IGJhc2VEaWZmZXJlbmNlKHByb3BzLCBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIGZhbHNlLCAxKSk7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgICBpZiAoIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHR3byBkaW1lbnNpb25hbCBhcnJheSBvZiBhbiBvYmplY3QncyBrZXktdmFsdWUgcGFpcnMsXG4gICAgICogaS5lLiBgW1trZXkxLCB2YWx1ZTFdLCBba2V5MiwgdmFsdWUyXV1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgbmV3IGFycmF5IG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWlycyh7ICdiYXJuZXknOiAzNiwgJ2ZyZWQnOiA0MCB9KTtcbiAgICAgKiAvLyA9PiBbWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXV0gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFpcnMob2JqZWN0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBwcm9wcyA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IFtrZXksIG9iamVjdFtrZXldXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgY29tcG9zZWQgb2YgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgICAqIFByb3BlcnR5IG5hbWVzIG1heSBiZSBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMgb3IgYXMgYXJyYXlzIG9mXG4gICAgICogcHJvcGVydHkgbmFtZXMuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgZWFjaFxuICAgICAqIHByb3BlcnR5IG9mIGBvYmplY3RgIHBpY2tpbmcgdGhlIHByb3BlcnRpZXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXlcbiAgICAgKiBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnwuLi5zdHJpbmd8c3RyaW5nW119IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXJcbiAgICAgKiAgaXRlcmF0aW9uIG9yIHByb3BlcnR5IG5hbWVzIHRvIHBpY2ssIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIHByb3BlcnR5XG4gICAgICogIG5hbWVzIG9yIGFycmF5cyBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGljayh7ICduYW1lJzogJ2ZyZWQnLCAnX3VzZXJpZCc6ICdmcmVkMScgfSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKlxuICAgICAqIF8ucGljayh7ICduYW1lJzogJ2ZyZWQnLCAnX3VzZXJpZCc6ICdmcmVkMScgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleS5jaGFyQXQoMCkgIT0gJ18nO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2sob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgcHJvcHMgPSBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIGZhbHNlLCAxKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGlzT2JqZWN0KG9iamVjdCkgPyBwcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgIHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIHRocm91Z2ggYSBjYWxsYmFjaywgd2l0aCBlYWNoIGNhbGxiYWNrIGV4ZWN1dGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvXG4gICAgICogYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM7IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBDYWxsYmFja3MgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc3F1YXJlcyA9IF8udHJhbnNmb3JtKFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF0sIGZ1bmN0aW9uKHJlc3VsdCwgbnVtKSB7XG4gICAgICogICBudW0gKj0gbnVtO1xuICAgICAqICAgaWYgKG51bSAlIDIpIHtcbiAgICAgKiAgICAgcmV0dXJuIHJlc3VsdC5wdXNoKG51bSkgPCAzO1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxLCA5LCAyNV1cbiAgICAgKlxuICAgICAqIHZhciBtYXBwZWQgPSBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgZnVuY3Rpb24ocmVzdWx0LCBudW0sIGtleSkge1xuICAgICAqICAgcmVzdWx0W2tleV0gPSBudW0gKiAzO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAzLCAnYic6IDYsICdjJzogOSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgcHJvdG8gPSBjdG9yICYmIGN0b3IucHJvdG90eXBlO1xuXG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBiYXNlQ3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCA0KTtcbiAgICAgICAgKGlzQXJyID8gZm9yRWFjaCA6IGZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNvbXBvc2VkIG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBwcm9wcyA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IG9iamVjdFtwcm9wc1tpbmRleF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4ZXMsIG9yIGtleXMsIG9mIHRoZVxuICAgICAqIGBjb2xsZWN0aW9uYC4gSW5kZXhlcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5c1xuICAgICAqIG9mIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXXxzdHJpbmd8c3RyaW5nW10pfSBbaW5kZXhdIFRoZSBpbmRleGVzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqICAgdG8gcmV0cmlldmUsIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGluZGV4ZXMgb3IgYXJyYXlzIG9mIGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlXG4gICAgICogIHByb3ZpZGVkIGluZGV4ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYXQoWydhJywgJ2InLCAnYycsICdkJywgJ2UnXSwgWzAsIDIsIDRdKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYycsICdlJ11cbiAgICAgKlxuICAgICAqIF8uYXQoWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ10sIDAsIDIpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhdChjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0gYmFzZUZsYXR0ZW4oYXJncywgdHJ1ZSwgZmFsc2UsIDEpLFxuICAgICAgICAgIGxlbmd0aCA9IChhcmdzWzJdICYmIGFyZ3NbMl1bYXJnc1sxXV0gPT09IGNvbGxlY3Rpb24pID8gMSA6IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBjb2xsZWN0aW9uW3Byb3BzW2luZGV4XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIHZhbHVlIGlzIHByZXNlbnQgaW4gYSBjb2xsZWN0aW9uIHVzaW5nIHN0cmljdCBlcXVhbGl0eVxuICAgICAqIGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0IGlzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBpbmNsdWRlXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gY2hlY2sgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB0YXJnZXRgIGVsZW1lbnQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb250YWlucyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5jb250YWlucyh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSwgJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKCdwZWJibGVzJywgJ2ViJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGNvbGxlY3Rpb24sIHRhcmdldCwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggPCAwID8gbmF0aXZlTWF4KDAsIGxlbmd0aCArIGZyb21JbmRleCkgOiBmcm9tSW5kZXgpIHx8IDA7XG4gICAgICBpZiAoaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBpbmRleE9mKGNvbGxlY3Rpb24sIHRhcmdldCwgZnJvbUluZGV4KSA+IC0xO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHJlc3VsdCA9IChpc1N0cmluZyhjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24uaW5kZXhPZih0YXJnZXQsIGZyb21JbmRleCkgOiBpbmRleE9mKGNvbGxlY3Rpb24sIHRhcmdldCwgZnJvbUluZGV4KSkgPiAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICgrK2luZGV4ID49IGZyb21JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuICEocmVzdWx0ID0gdmFsdWUgPT09IHRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVcbiAgICAgKiBvZiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjay5cbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNC4zLCA2LjEsIDYuNF0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gTWF0aC5mbG9vcihudW0pOyB9KTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNC4zLCA2LjEsIDYuNF0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5mbG9vcihudW0pOyB9LCBNYXRoKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldKysgOiByZXN1bHRba2V5XSA9IDEpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBjYWxsYmFjayByZXR1cm5zIHRydWV5IHZhbHVlIGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGFsbFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3NlZCB0aGUgY2FsbGJhY2sgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmV2ZXJ5KGNoYXJhY3RlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmV2ZXJ5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmICghKHJlc3VsdCA9ICEhY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gISFjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIHNlbGVjdFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZXZlbnMgPSBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKiAvLyA9PiBbMiwgNCwgNl1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maWx0ZXIoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdFxuICAgICAqIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBkZXRlY3QsIGZpbmRXaGVyZVxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZChjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+ICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGEgY29sbGVjdGlvbiwgZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaFxuICAgICAqIGVsZW1lbnQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLiBDYWxsYmFja3MgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5XG4gICAgICogZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIE5vdGU6IEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIGBsZW5ndGhgIHByb3BlcnR5XG4gICAgICogYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIGBfLmZvckluYCBvciBgXy5mb3JPd25gXG4gICAgICogbWF5IGJlIHVzZWQgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkuZm9yRWFjaChmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSkuam9pbignLCcpO1xuICAgICAqIC8vID0+IGxvZ3MgZWFjaCBudW1iZXIgYW5kIHJldHVybnMgJzEsMiwzJ1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0sIGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KTtcbiAgICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGFuZCByZXR1cm5zIHRoZSBvYmplY3QgKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fHN0cmluZ30gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS5mb3JFYWNoUmlnaHQoZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pLmpvaW4oJywnKTtcbiAgICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGZyb20gcmlnaHQgdG8gbGVmdCBhbmQgcmV0dXJucyAnMywyLDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soY29sbGVjdGlvbltsZW5ndGhdLCBsZW5ndGgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAga2V5ID0gcHJvcHMgPyBwcm9wc1stLWxlbmd0aF0gOiAtLWxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soY29sbGVjdGlvbltrZXldLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBhIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAgICogb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgdGhlIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNC4yLCA2LjEsIDYuNF0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gTWF0aC5mbG9vcihudW0pOyB9KTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi40XSB9XG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzQuMiwgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuNF0gfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpID8gcmVzdWx0W2tleV0gOiByZXN1bHRba2V5XSA9IFtdKS5wdXNoKHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBnaXZlbiBjYWxsYmFjay4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIga2V5cyA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmluZGV4Qnkoa2V5cywgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmluZGV4Qnkoa2V5cywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleS5jb2RlKTsgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGtleSkgeyB0aGlzLmZyb21DaGFyQ29kZShrZXkuY29kZSk7IH0sIFN0cmluZyk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBpbmRleEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgbmFtZWQgYnkgYG1ldGhvZE5hbWVgIG9uIGVhY2ggZWxlbWVudCBpbiB0aGUgYGNvbGxlY3Rpb25gXG4gICAgICogcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogd2lsbCBiZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgbWV0aG9kTmFtZWAgaXMgYSBmdW5jdGlvbiBpdFxuICAgICAqIHdpbGwgYmUgaW52b2tlZCBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiB0aGUgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2UoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZva2UoY29sbGVjdGlvbiwgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGFyZ3MgPSBzbGljZShhcmd1bWVudHMsIDIpLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIG1ldGhvZE5hbWUgPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSAoaXNGdW5jID8gbWV0aG9kTmFtZSA6IHZhbHVlW21ldGhvZE5hbWVdKS5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBjb2xsZWN0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGBjYWxsYmFja2AgZXhlY3V0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAgICogLy8gPT4gWzMsIDYsIDldXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9LCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgICAqIC8vID0+IFszLCA2LCA5XSAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5tYXAoY2hhcmFjdGVycywgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXN1bHRbKytpbmRleF0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBhIGNvbGxlY3Rpb24uIElmIHRoZSBjb2xsZWN0aW9uIGlzIGVtcHR5IG9yXG4gICAgICogZmFsc2V5IGAtSW5maW5pdHlgIGlzIHJldHVybmVkLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgKiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgY29sbGVjdGlvbiB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoIHRoZSB2YWx1ZVxuICAgICAqIGlzIHJhbmtlZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1heChbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXgoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7IHJldHVybiBjaHIuYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWF4KGNoYXJhY3RlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXgoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBjb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBjb21wdXRlZDtcblxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgIHdpdGhvdXQgdXNpbmdcbiAgICAgIC8vIHRoZWlyIGBpbmRleGAgYXJndW1lbnQgYXMgYSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tjYWxsYmFja10gPT09IGNvbGxlY3Rpb24pIHtcbiAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrID09IG51bGwgJiYgaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKHZhbHVlID4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gKGNhbGxiYWNrID09IG51bGwgJiYgaXNTdHJpbmcoY29sbGVjdGlvbikpXG4gICAgICAgICAgPyBjaGFyQXRDYWxsYmFja1xuICAgICAgICAgIDogbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICBpZiAoY3VycmVudCA+IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYSBjb2xsZWN0aW9uLiBJZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eSBvclxuICAgICAqIGZhbHNleSBgSW5maW5pdHlgIGlzIHJldHVybmVkLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgKiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgY29sbGVjdGlvbiB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoIHRoZSB2YWx1ZVxuICAgICAqIGlzIHJhbmtlZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1pbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5taW4oY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7IHJldHVybiBjaHIuYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9O1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5taW4oY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBjb21wdXRlZDtcblxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgIHdpdGhvdXQgdXNpbmdcbiAgICAgIC8vIHRoZWlyIGBpbmRleGAgYXJndW1lbnQgYXMgYSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tjYWxsYmFja10gPT09IGNvbGxlY3Rpb24pIHtcbiAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrID09IG51bGwgJiYgaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gKGNhbGxiYWNrID09IG51bGwgJiYgaXNTdHJpbmcoY29sbGVjdGlvbikpXG4gICAgICAgICAgPyBjaGFyQXRDYWxsYmFja1xuICAgICAgICAgIDogbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICBpZiAoY3VycmVudCA8IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWVkIHByb3BlcnR5IGZyb20gYWxsIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcGx1Y2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBsdWNrKGNoYXJhY3RlcnMsICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgdmFyIHBsdWNrID0gbWFwO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBhIGNvbGxlY3Rpb24gdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2ssIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGNhbGxiYWNrIGV4ZWN1dGlvbiBjb25zdW1lcyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cyBleGVjdXRpb24uIElmXG4gICAgICogYGFjY3VtdWxhdG9yYCBpcyBub3QgcHJvdmlkZWQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gd2lsbCBiZVxuICAgICAqIHVzZWQgYXMgdGhlIGluaXRpYWwgYGFjY3VtdWxhdG9yYCB2YWx1ZS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgICAqIGFuZCBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM7IChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZm9sZGwsIGluamVjdFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIEluaXRpYWwgdmFsdWUgb2YgdGhlIGFjY3VtdWxhdG9yLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHN1bSA9IF8ucmVkdWNlKFsxLCAyLCAzXSwgZnVuY3Rpb24oc3VtLCBudW0pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBudW07XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogdmFyIG1hcHBlZCA9IF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCBmdW5jdGlvbihyZXN1bHQsIG51bSwga2V5KSB7XG4gICAgICogICByZXN1bHRba2V5XSA9IG51bSAqIDM7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMywgJ2InOiA2LCAnYyc6IDkgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBjYWxsYmFjaywgYWNjdW11bGF0b3IsIHRoaXNBcmcpIHtcbiAgICAgIGlmICghY29sbGVjdGlvbikgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgdmFyIG5vYWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCA0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChub2FjY3VtKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBjb2xsZWN0aW9uWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBjYWxsYmFjayhhY2N1bXVsYXRvciwgY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gbm9hY2N1bVxuICAgICAgICAgICAgPyAobm9hY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgICAgIDogY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZm9sZHJcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBJbml0aWFsIHZhbHVlIG9mIHRoZSBhY2N1bXVsYXRvci5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsaXN0ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqIHZhciBmbGF0ID0gXy5yZWR1Y2VSaWdodChsaXN0LCBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhLmNvbmNhdChiKTsgfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCBhY2N1bXVsYXRvciwgdGhpc0FyZykge1xuICAgICAgdmFyIG5vYWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCA0KTtcbiAgICAgIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBub2FjY3VtXG4gICAgICAgICAgPyAobm9hY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgICA6IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmAgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYVxuICAgICAqIGNvbGxlY3Rpb24gdGhhdCB0aGUgY2FsbGJhY2sgZG9lcyAqKm5vdCoqIHJldHVybiB0cnVleSBmb3IuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBmYWlsZWQgdGhlIGNhbGxiYWNrIGNoZWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2RkcyA9IF8ucmVqZWN0KFsxLCAyLCAzLCA0LCA1LCA2XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gJSAyID09IDA7IH0pO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucmVqZWN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlamVjdChjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHJldHVybiBmaWx0ZXIoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHJhbmRvbSBlbGVtZW50IG9yIGBuYCByYW5kb20gZWxlbWVudHMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbl0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEFsbG93cyB3b3JraW5nIHdpdGggZnVuY3Rpb25zIGxpa2UgYF8ubWFwYFxuICAgICAqICB3aXRob3V0IHVzaW5nIHRoZWlyIGBpbmRleGAgYXJndW1lbnRzIGFzIGBuYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBzYW1wbGUocykgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiAmJiB0eXBlb2YgY29sbGVjdGlvbi5sZW5ndGggIT0gJ251bWJlcicpIHtcbiAgICAgICAgY29sbGVjdGlvbiA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uW2Jhc2VSYW5kb20oMCwgY29sbGVjdGlvbi5sZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc2h1ZmZsZShjb2xsZWN0aW9uKTtcbiAgICAgIHJlc3VsdC5sZW5ndGggPSBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGUgRmlzaGVyLVlhdGVzXG4gICAgICogc2h1ZmZsZS4gU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgc2h1ZmZsZWQgY29sbGVjdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0LCA1LCA2XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDYsIDMsIDUsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oMCwgKytpbmRleCk7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSByZXN1bHRbcmFuZF07XG4gICAgICAgIHJlc3VsdFtyYW5kXSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgdGhlIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgYGNvbGxlY3Rpb24ubGVuZ3RoYCBmb3IgYXJyYXlzXG4gICAgICogYW5kIGFycmF5LWxpa2Ugb2JqZWN0cyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBjb2xsZWN0aW9uLmxlbmd0aGAgb3IgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDoga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgdHJ1ZXkgdmFsdWUgZm9yICoqYW55KiogZWxlbWVudCBvZiBhXG4gICAgICogY29sbGVjdGlvbi4gVGhlIGZ1bmN0aW9uIHJldHVybnMgYXMgc29vbiBhcyBpdCBmaW5kcyBhIHBhc3NpbmcgdmFsdWUgYW5kXG4gICAgICogZG9lcyBub3QgaXRlcmF0ZSBvdmVyIHRoZSBlbnRpcmUgY29sbGVjdGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvXG4gICAgICogYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBhbnlcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlZCB0aGUgY2FsbGJhY2sgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5zb21lKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5zb21lKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmICgocmVzdWx0ID0gY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHdpbGwgcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBlcXVhbCBlbGVtZW50cy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY29sbGVjdGlvblxuICAgICAqIHdpbGwgYmUgc29ydGVkIGJ5IGVhY2ggcHJvcGVydHkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2Ygc29ydGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeShbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gTWF0aC5zaW4obnVtKTsgfSk7XG4gICAgICogLy8gPT4gWzMsIDEsIDJdXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeShbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5zaW4obnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4gWzMsIDEsIDJdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMjYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiAzMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsICdhZ2UnKSwgXy52YWx1ZXMpO1xuICAgICAqIC8vID0+IFtbJ2Jhcm5leScsIDI2XSwgWydmcmVkJywgMzBdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogLy8gc29ydGluZyBieSBtdWx0aXBsZSBwcm9wZXJ0aWVzXG4gICAgICogXy5tYXAoXy5zb3J0QnkoY2hhcmFjdGVycywgWyduYW1lJywgJ2FnZSddKSwgXy52YWx1ZXMpO1xuICAgICAqIC8vID0gPiBbWydiYXJuZXknLCAyNl0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0QnkoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShjYWxsYmFjayksXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGlmICghaXNBcnIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgfVxuICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSByZXN1bHRbKytpbmRleF0gPSBnZXRPYmplY3QoKTtcbiAgICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgICAgb2JqZWN0LmNyaXRlcmlhID0gbWFwKGNhbGxiYWNrLCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChvYmplY3QuY3JpdGVyaWEgPSBnZXRBcnJheSgpKVswXSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5pbmRleCA9IGluZGV4O1xuICAgICAgICBvYmplY3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuICAgICAgcmVzdWx0LnNvcnQoY29tcGFyZUFzY2VuZGluZyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHJlc3VsdFtsZW5ndGhdO1xuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IG9iamVjdC52YWx1ZTtcbiAgICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICAgIHJlbGVhc2VBcnJheShvYmplY3QuY3JpdGVyaWEpO1xuICAgICAgICB9XG4gICAgICAgIHJlbGVhc2VPYmplY3Qob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGBjb2xsZWN0aW9uYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogKGZ1bmN0aW9uKCkgeyByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cykuc2xpY2UoMSk7IH0pKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBzbGljZShjb2xsZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gb2YgZWFjaCBlbGVtZW50IGluIGEgYGNvbGxlY3Rpb25gIHRvIHRoZSBnaXZlblxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHMgdGhhdCBoYXZlIGVxdWl2YWxlbnRcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIGZpbHRlciBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBnaXZlbiBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAncGV0cyc6IFsnaG9wcHknXSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy53aGVyZShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdwZXRzJzogWydob3BweSddIH1dXG4gICAgICpcbiAgICAgKiBfLndoZXJlKGNoYXJhY3RlcnMsIHsgJ3BldHMnOiBbJ2Rpbm8nXSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XVxuICAgICAqL1xuICAgIHZhciB3aGVyZSA9IGZpbHRlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBhbGwgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgdmFsdWVzIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmcgc3RyaWN0XG4gICAgICogZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSBhcnJheXMgb2YgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsxLCAyLCAzLCA0LCA1XSwgWzUsIDIsIDEwXSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZShhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgdGhhdCBwYXNzZXMgdGhlIGNhbGxiYWNrIGNoZWNrLCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCAyMDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRJbmRleChjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRJbmRleChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPiAzMDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEluZGV4KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9yIGZpcnN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFja1xuICAgICAqIGlzIHByb3ZpZGVkIGVsZW1lbnRzIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5IGFyZSByZXR1cm5lZCBhcyBsb25nXG4gICAgICogYXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgaGVhZCwgdGFrZVxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcmV0dXJuLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50KHMpIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmlyc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmZpcnN0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpcnN0KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtIDwgMztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2Jsb2NrZWQnOiBmYWxzZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmlyc3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICdzbGF0ZScgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5maXJzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICdzbGF0ZScgfSksICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlyc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gY2FsbGJhY2s7XG4gICAgICAgIGlmIChuID09IG51bGwgfHwgdGhpc0FyZykge1xuICAgICAgICAgIHJldHVybiBhcnJheSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xpY2UoYXJyYXksIDAsIG5hdGl2ZU1pbihuYXRpdmVNYXgoMCwgbiksIGxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGEgbmVzdGVkIGFycmF5ICh0aGUgbmVzdGluZyBjYW4gYmUgdG8gYW55IGRlcHRoKS4gSWYgYGlzU2hhbGxvd2BcbiAgICAgKiBpcyB0cnVleSwgdGhlIGFycmF5IHdpbGwgb25seSBiZSBmbGF0dGVuZWQgYSBzaW5nbGUgbGV2ZWwuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIHBhc3NlZCB0aHJvdWdoIHRoZSBjYWxsYmFjayBiZWZvcmVcbiAgICAgKiBmbGF0dGVuaW5nLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU2hhbGxvdz1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYSBzaW5nbGUgbGV2ZWwuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyXSwgWzMsIFtbNF1dXV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzJdLCBbMywgW1s0XV1dXSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFtbNF1dXTtcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzAsICdwZXRzJzogWydob3BweSddIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ3BldHMnOiBbJ2JhYnkgcHVzcycsICdkaW5vJ10gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZsYXR0ZW4oY2hhcmFjdGVycywgJ3BldHMnKTtcbiAgICAgKiAvLyA9PiBbJ2hvcHB5JywgJ2JhYnkgcHVzcycsICdkaW5vJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5LCBpc1NoYWxsb3csIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAvLyBqdWdnbGUgYXJndW1lbnRzXG4gICAgICBpZiAodHlwZW9mIGlzU2hhbGxvdyAhPSAnYm9vbGVhbicgJiYgaXNTaGFsbG93ICE9IG51bGwpIHtcbiAgICAgICAgdGhpc0FyZyA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayA9ICh0eXBlb2YgaXNTaGFsbG93ICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2lzU2hhbGxvd10gPT09IGFycmF5KSA/IG51bGwgOiBpc1NoYWxsb3c7XG4gICAgICAgIGlzU2hhbGxvdyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXkgPSBtYXAoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgaXNTaGFsbG93KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIHVzaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC4gSWYgdGhlIGFycmF5IGlzIGFscmVhZHkgc29ydGVkXG4gICAgICogcHJvdmlkaW5nIGB0cnVlYCBmb3IgYGZyb21JbmRleGAgd2lsbCBydW4gYSBmYXN0ZXIgYmluYXJ5IHNlYXJjaC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20gb3IgYHRydWVgXG4gICAgICogIHRvIHBlcmZvcm0gYSBiaW5hcnkgc2VhcmNoIG9uIGEgc29ydGVkIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlIG9yIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIsIDMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMSwgMiwgMiwgMywgM10sIDIsIHRydWUpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICBpZiAodHlwZW9mIGZyb21JbmRleCA9PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBsZW5ndGggKyBmcm9tSW5kZXgpIDogZnJvbUluZGV4IHx8IDApO1xuICAgICAgfSBlbHNlIGlmIChmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2luZGV4XSA9PT0gdmFsdWUgPyBpbmRleCA6IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvciBsYXN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYVxuICAgICAqIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGVsZW1lbnRzIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5IGFyZSBleGNsdWRlZCBmcm9tXG4gICAgICogdGhlIHJlc3VsdCBhcyBsb25nIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmRcbiAgICAgKiB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2s9MV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGV4Y2x1ZGUuIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA+IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmluaXRpYWwoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiBmYWxzZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLmluaXRpYWwoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnbmEnIH0pLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlIChpbmRleC0tICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IChjYWxsYmFjayA9PSBudWxsIHx8IHRoaXNBcmcpID8gMSA6IGNhbGxiYWNrIHx8IG47XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xpY2UoYXJyYXksIDAsIG5hdGl2ZU1pbihuYXRpdmVNYXgoMCwgbGVuZ3RoIC0gbiksIGxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyBwcmVzZW50IGluIGFsbCBwcm92aWRlZCBhcnJheXMgdXNpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMSwgMiwgM10sIFs1LCAyLCAxLCA0XSwgWzIsIDFdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IGdldEFycmF5KCksXG4gICAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgICB0cnVzdEluZGV4T2YgPSBpbmRleE9mID09PSBiYXNlSW5kZXhPZixcbiAgICAgICAgICBzZWVuID0gZ2V0QXJyYXkoKTtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbYXJnc0luZGV4XTtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkge1xuICAgICAgICAgIGFyZ3MucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgY2FjaGVzLnB1c2godHJ1c3RJbmRleE9mICYmIHZhbHVlLmxlbmd0aCA+PSBsYXJnZUFycmF5U2l6ZSAmJlxuICAgICAgICAgICAgY3JlYXRlQ2FjaGUoYXJnc0luZGV4ID8gYXJnc1thcmdzSW5kZXhdIDogc2VlbikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgYXJyYXkgPSBhcmdzWzBdLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1swXTtcbiAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgaWYgKChjYWNoZSA/IGNhY2hlSW5kZXhPZihjYWNoZSwgdmFsdWUpIDogaW5kZXhPZihzZWVuLCB2YWx1ZSkpIDwgMCkge1xuICAgICAgICAgIGFyZ3NJbmRleCA9IGFyZ3NMZW5ndGg7XG4gICAgICAgICAgKGNhY2hlIHx8IHNlZW4pLnB1c2godmFsdWUpO1xuICAgICAgICAgIHdoaWxlICgtLWFyZ3NJbmRleCkge1xuICAgICAgICAgICAgY2FjaGUgPSBjYWNoZXNbYXJnc0luZGV4XTtcbiAgICAgICAgICAgIGlmICgoY2FjaGUgPyBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSA6IGluZGV4T2YoYXJnc1thcmdzSW5kZXhdLCB2YWx1ZSkpIDwgMCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgIGNhY2hlID0gY2FjaGVzW2FyZ3NMZW5ndGhdO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICByZWxlYXNlT2JqZWN0KGNhY2hlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVsZWFzZUFycmF5KGNhY2hlcyk7XG4gICAgICByZWxlYXNlQXJyYXkoc2Vlbik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvciBsYXN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFjayBpc1xuICAgICAqIHByb3ZpZGVkIGVsZW1lbnRzIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5IGFyZSByZXR1cm5lZCBhcyBsb25nIGFzIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJldHVybi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50KHMpIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtID4gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiBmYWxzZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5sYXN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyksICduYW1lJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5sYXN0KGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ25hJyB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgd2hpbGUgKGluZGV4LS0gJiYgY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gY2FsbGJhY2s7XG4gICAgICAgIGlmIChuID09IG51bGwgfHwgdGhpc0FyZykge1xuICAgICAgICAgIHJldHVybiBhcnJheSA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xpY2UoYXJyYXksIG5hdGl2ZU1heCgwLCBsZW5ndGggLSBuKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIHVzaW5nIHN0cmljdFxuICAgICAqIGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0IGlzIHVzZWRcbiAgICAgKiBhcyB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlIG9yIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMiwgMyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgaW5kZXggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gICAgICBpZiAodHlwZW9mIGZyb21JbmRleCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpbmRleCA9IChmcm9tSW5kZXggPCAwID8gbmF0aXZlTWF4KDAsIGluZGV4ICsgZnJvbUluZGV4KSA6IG5hdGl2ZU1pbihmcm9tSW5kZXgsIGluZGV4IC0gMSkpICsgMTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgcHJvdmlkZWQgdmFsdWVzIGZyb20gdGhlIGdpdmVuIGFycmF5IHVzaW5nIHN0cmljdCBlcXVhbGl0eSBmb3JcbiAgICAgKiBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDEsIDIsIDNdO1xuICAgICAqIF8ucHVsbChhcnJheSwgMiwgMyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGwoYXJyYXkpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGFyZ3NJbmRleCA9IDAsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgtLSwgMSk7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8gYnV0IG5vdCBpbmNsdWRpbmcgYGVuZGAuIElmIGBzdGFydGAgaXMgbGVzcyB0aGFuIGBzdG9wYCBhXG4gICAgICogemVyby1sZW5ndGggcmFuZ2UgaXMgY3JlYXRlZCB1bmxlc3MgYSBuZWdhdGl2ZSBgc3RlcGAgaXMgc3BlY2lmaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgcmFuZ2UgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoNCk7XG4gICAgICogLy8gPT4gWzAsIDEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgc3RhcnQgPSArc3RhcnQgfHwgMDtcbiAgICAgIHN0ZXAgPSB0eXBlb2Ygc3RlcCA9PSAnbnVtYmVyJyA/IHN0ZXAgOiAoK3N0ZXAgfHwgMSk7XG5cbiAgICAgIGlmIChlbmQgPT0gbnVsbCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfVxuICAgICAgLy8gdXNlIGBBcnJheShsZW5ndGgpYCBzbyBlbmdpbmVzIGxpa2UgQ2hha3JhIGFuZCBWOCBhdm9pZCBzbG93ZXIgbW9kZXNcbiAgICAgIC8vIGh0dHA6Ly95b3V0dS5iZS9YQXFJcEdVOFpaayN0PTE3bTI1c1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KDAsIGNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IHRoYXQgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgICAqIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0LCA1LCA2XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gJSAyID09IDA7IH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0LCA2XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LS0sIDEpO1xuICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5pbml0aWFsYCB0aGlzIG1ldGhvZCBnZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb3JcbiAgICAgKiBmaXJzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcHJvdmlkZWQgZWxlbWVudHNcbiAgICAgKiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgZXhjbHVkZWQgZnJvbSB0aGUgcmVzdWx0IGFzIGxvbmcgYXMgdGhlXG4gICAgICogY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBkcm9wLCB0YWlsXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2s9MV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGV4Y2x1ZGUuIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnJlc3QoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8ucmVzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA8IDM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogZmFsc2UsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8ucmVzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucmVzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IChjYWxsYmFjayA9PSBudWxsIHx8IHRoaXNBcmcpID8gMSA6IG5hdGl2ZU1heCgwLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2xpY2UoYXJyYXksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2ggYSB2YWx1ZVxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGEgZ2l2ZW4gc29ydGVkIGFycmF5IGluIG9yZGVyIHRvIG1haW50YWluIHRoZSBzb3J0XG4gICAgICogb3JkZXIgb2YgdGhlIGFycmF5LiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yXG4gICAgICogYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZVxuICAgICAqIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFsyMCwgMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uc29ydGVkSW5kZXgoW3sgJ3gnOiAyMCB9LCB7ICd4JzogMzAgfSwgeyAneCc6IDUwIH1dLCB7ICd4JzogNDAgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiB2YXIgZGljdCA9IHtcbiAgICAgKiAgICd3b3JkVG9OdW1iZXInOiB7ICd0d2VudHknOiAyMCwgJ3RoaXJ0eSc6IDMwLCAnZm91cnR5JzogNDAsICdmaWZ0eSc6IDUwIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbJ3R3ZW50eScsICd0aGlydHknLCAnZmlmdHknXSwgJ2ZvdXJ0eScsIGZ1bmN0aW9uKHdvcmQpIHtcbiAgICAgKiAgIHJldHVybiBkaWN0LndvcmRUb051bWJlclt3b3JkXTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFsndHdlbnR5JywgJ3RoaXJ0eScsICdmaWZ0eSddLCAnZm91cnR5JywgZnVuY3Rpb24od29yZCkge1xuICAgICAqICAgcmV0dXJuIHRoaXMud29yZFRvTnVtYmVyW3dvcmRdO1xuICAgICAqIH0sIGRpY3QpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiBsb3c7XG5cbiAgICAgIC8vIGV4cGxpY2l0bHkgcmVmZXJlbmNlIGBpZGVudGl0eWAgZm9yIGJldHRlciBpbmxpbmluZyBpbiBGaXJlZm94XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID8gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKSA6IGlkZW50aXR5O1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSk7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDE7XG4gICAgICAgIChjYWxsYmFjayhhcnJheVttaWRdKSA8IHZhbHVlKVxuICAgICAgICAgID8gbG93ID0gbWlkICsgMVxuICAgICAgICAgIDogaGlnaCA9IG1pZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsb3c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgb2YgdGhlIHByb3ZpZGVkIGFycmF5cyB1c2luZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMSwgMiwgM10sIFs1LCAyLCAxLCA0XSwgWzIsIDFdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlvbigpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLXZhbHVlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSB1c2luZyBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIHRoZSBhcnJheSBpcyBzb3J0ZWQsIHByb3ZpZGluZ1xuICAgICAqIGB0cnVlYCBmb3IgYGlzU29ydGVkYCB3aWxsIHVzZSBhIGZhc3RlciBhbGdvcml0aG0uIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWRcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgY2FsbGJhY2sgYmVmb3JlIHVuaXF1ZW5lc3NcbiAgICAgKiBpcyBjb21wdXRlZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyB1bmlxdWVcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTb3J0ZWQ9ZmFsc2VdIEEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IGBhcnJheWAgaXMgc29ydGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgZHVwbGljYXRlLXZhbHVlLWZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMSwgMiwgMSwgMywgMV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy51bmlxKFsxLCAxLCAyLCAyLCAzXSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWydBJywgJ2InLCAnQycsICdhJywgJ0InLCAnYyddLCBmdW5jdGlvbihsZXR0ZXIpIHsgcmV0dXJuIGxldHRlci50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgKiAvLyA9PiBbJ0EnLCAnYicsICdDJ11cbiAgICAgKlxuICAgICAqIF8udW5pcShbMSwgMi41LCAzLCAxLjUsIDIsIDMuNV0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5mbG9vcihudW0pOyB9LCBNYXRoKTtcbiAgICAgKiAvLyA9PiBbMSwgMi41LCAzXVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy51bmlxKFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIC8vIGp1Z2dsZSBhcmd1bWVudHNcbiAgICAgIGlmICh0eXBlb2YgaXNTb3J0ZWQgIT0gJ2Jvb2xlYW4nICYmIGlzU29ydGVkICE9IG51bGwpIHtcbiAgICAgICAgdGhpc0FyZyA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayA9ICh0eXBlb2YgaXNTb3J0ZWQgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbaXNTb3J0ZWRdID09PSBhcnJheSkgPyBudWxsIDogaXNTb3J0ZWQ7XG4gICAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYXJyYXksIGlzU29ydGVkLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIHByb3ZpZGVkIHZhbHVlcyB1c2luZyBzdHJpY3QgZXF1YWxpdHkgZm9yXG4gICAgICogY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbHRlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZV0gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMSwgMiwgMSwgMCwgMywgMSwgNF0sIDAsIDEpO1xuICAgICAqIC8vID0+IFsyLCAzLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdpdGhvdXQoYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlRGlmZmVyZW5jZShhcnJheSwgc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBzeW1tZXRyaWMgZGlmZmVyZW5jZSBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzLlxuICAgICAqIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsxLCAyLCAzXSwgWzUsIDIsIDEsIDRdKTtcbiAgICAgKiAvLyA9PiBbMywgNSwgNF1cbiAgICAgKlxuICAgICAqIF8ueG9yKFsxLCAyLCA1XSwgWzIsIDMsIDVdLCBbMywgNCwgNV0pO1xuICAgICAqIC8vID0+IFsxLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHhvcigpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIGlmIChpc0FycmF5KGFycmF5KSB8fCBpc0FyZ3VtZW50cyhhcnJheSkpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0XG4gICAgICAgICAgICA/IGJhc2VVbmlxKGJhc2VEaWZmZXJlbmNlKHJlc3VsdCwgYXJyYXkpLmNvbmNhdChiYXNlRGlmZmVyZW5jZShhcnJheSwgcmVzdWx0KSkpXG4gICAgICAgICAgICA6IGFycmF5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0IHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyB1bnppcFxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIEFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2ZyZWQnLCAnYmFybmV5J10sIFszMCwgNDBdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydmcmVkJywgMzAsIHRydWVdLCBbJ2Jhcm5leScsIDQwLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwKCkge1xuICAgICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHMgOiBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IG1heChwbHVjayhhcnJheSwgJ2xlbmd0aCcpKSA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoIDwgMCA/IDAgOiBsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gcGx1Y2soYXJyYXksIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgZnJvbSBhcnJheXMgb2YgYGtleXNgIGFuZCBgdmFsdWVzYC4gUHJvdmlkZVxuICAgICAqIGVpdGhlciBhIHNpbmdsZSB0d28gZGltZW5zaW9uYWwgYXJyYXksIGkuZS4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYFxuICAgICAqIG9yIHR3byBhcnJheXMsIG9uZSBvZiBga2V5c2AgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIG9iamVjdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBrZXlzIFRoZSBhcnJheSBvZiBrZXlzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGdpdmVuIGtleXMgYW5kXG4gICAgICogIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2ZyZWQnLCAnYmFybmV5J10sIFszMCwgNDBdKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogMzAsICdiYXJuZXknOiA0MCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KGtleXMsIHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cyA/IGtleXMubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgaWYgKCF2YWx1ZXMgJiYgbGVuZ3RoICYmICFpc0FycmF5KGtleXNbMF0pKSB7XG4gICAgICAgIHZhbHVlcyA9IFtdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgICAgIHJlc3VsdFtrZXlbMF1dID0ga2V5WzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZXhlY3V0ZXMgYGZ1bmNgLCB3aXRoICB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kXG4gICAgICogYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCBvbmx5IGFmdGVyIGJlaW5nIGNhbGxlZCBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgYmVmb3JlXG4gICAgICogIGBmdW5jYCBpcyBleGVjdXRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ0RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnRG9uZSBzYXZpbmchJywgYWZ0ZXIgYWxsIHNhdmVzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCBwcmVwZW5kcyBhbnkgYWRkaXRpb25hbCBgYmluZGAgYXJndW1lbnRzIHRvIHRob3NlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy5uYW1lO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBmdW5jID0gXy5iaW5kKGZ1bmMsIHsgJ25hbWUnOiAnZnJlZCcgfSwgJ2hpJyk7XG4gICAgICogZnVuYygpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJpbmQoZnVuYywgdGhpc0FyZykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICAgID8gY3JlYXRlV3JhcHBlcihmdW5jLCAxNywgc2xpY2UoYXJndW1lbnRzLCAyKSwgbnVsbCwgdGhpc0FyZylcbiAgICAgICAgOiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDEsIG51bGwsIG51bGwsIHRoaXNBcmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuIE1ldGhvZCBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5c1xuICAgICAqIG9mIG1ldGhvZCBuYW1lcy4gSWYgbm8gbWV0aG9kIG5hbWVzIGFyZSBwcm92aWRlZCBhbGwgdGhlIGZ1bmN0aW9uIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YCB3aWxsIGJlIGJvdW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi5zdHJpbmd9IFttZXRob2ROYW1lXSBUaGUgb2JqZWN0IG1ldGhvZCBuYW1lcyB0b1xuICAgICAqICBiaW5kLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBtZXRob2QgbmFtZXMgb3IgYXJyYXlzIG9mIG1ldGhvZCBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdvbkNsaWNrJzogZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTsgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldyk7XG4gICAgICogalF1ZXJ5KCcjZG9jcycpLm9uKCdjbGljaycsIHZpZXcub25DbGljayk7XG4gICAgICogLy8gPT4gbG9ncyAnY2xpY2tlZCBkb2NzJywgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kQWxsKG9iamVjdCkge1xuICAgICAgdmFyIGZ1bmNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIGZhbHNlLCAxKSA6IGZ1bmN0aW9ucyhvYmplY3QpLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICBvYmplY3Rba2V5XSA9IGNyZWF0ZVdyYXBwZXIob2JqZWN0W2tleV0sIDEsIG51bGwsIG51bGwsIG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWBcbiAgICAgKiBhbmQgcHJlcGVuZHMgYW55IGFkZGl0aW9uYWwgYGJpbmRLZXlgIGFyZ3VtZW50cyB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYm91bmRcbiAgICAgKiBmdW5jdGlvbi4gVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0b1xuICAgICAqIHJlZmVyZW5jZSBtZXRob2RzIHRoYXQgd2lsbCBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LlxuICAgICAqIFNlZSBodHRwOi8vbWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdGhlIG1ldGhvZCBiZWxvbmdzIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ25hbWUnOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZykge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLm5hbWU7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogZnVuYygpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy5uYW1lICsgJyEnO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBmdW5jKCk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZEtleShvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICAgID8gY3JlYXRlV3JhcHBlcihrZXksIDE5LCBzbGljZShhcmd1bWVudHMsIDIpLCBudWxsLCBvYmplY3QpXG4gICAgICAgIDogY3JlYXRlV3JhcHBlcihrZXksIDMsIG51bGwsIG51bGwsIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHRoZSBwcm92aWRlZCBmdW5jdGlvbnMsXG4gICAgICogd2hlcmUgZWFjaCBmdW5jdGlvbiBjb25zdW1lcyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG4gICAgICogRm9yIGV4YW1wbGUsIGNvbXBvc2luZyB0aGUgZnVuY3Rpb25zIGBmKClgLCBgZygpYCwgYW5kIGBoKClgIHByb2R1Y2VzIGBmKGcoaCgpKSlgLlxuICAgICAqIEVhY2ggZnVuY3Rpb24gaXMgZXhlY3V0ZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNvbXBvc2VkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IFtmdW5jXSBGdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYWxOYW1lTWFwID0ge1xuICAgICAqICAgJ3BlYmJsZXMnOiAncGVuZWxvcGUnXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBmb3JtYXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICogICBuYW1lID0gcmVhbE5hbWVNYXBbbmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBuYW1lO1xuICAgICAqICAgcmV0dXJuIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBncmVldCA9IGZ1bmN0aW9uKGZvcm1hdHRlZCkge1xuICAgICAqICAgcmV0dXJuICdIaXlhICcgKyBmb3JtYXR0ZWQgKyAnISc7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciB3ZWxjb21lID0gXy5jb21wb3NlKGdyZWV0LCBmb3JtYXQpO1xuICAgICAqIHdlbGNvbWUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnSGl5YSBQZW5lbG9wZSEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBsZW5ndGggPSBmdW5jcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuY3NbbGVuZ3RoXSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3MgPSBbZnVuY3NbbGVuZ3RoXS5hcHBseSh0aGlzLCBhcmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHRzIG9uZSBvciBtb3JlIGFyZ3VtZW50cyBvZiBgZnVuY2AgdGhhdCB3aGVuXG4gICAgICogaW52b2tlZCBlaXRoZXIgZXhlY3V0ZXMgYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhbGwgYGZ1bmNgIGFyZ3VtZW50c1xuICAgICAqIGhhdmUgYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBvbmUgb3IgbW9yZSBvZiB0aGVcbiAgICAgKiByZW1haW5pbmcgYGZ1bmNgIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIGNhbiBiZSBzcGVjaWZpZWRcbiAgICAgKiBpZiBgZnVuYy5sZW5ndGhgIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGEgKyBiICsgYyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHkpIHtcbiAgICAgIGFyaXR5ID0gdHlwZW9mIGFyaXR5ID09ICdudW1iZXInID8gYXJpdHkgOiAoK2FyaXR5IHx8IGZ1bmMubGVuZ3RoKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDQsIG51bGwsIG51bGwsIG51bGwsIGFyaXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGRlbGF5IHRoZSBleGVjdXRpb24gb2YgYGZ1bmNgIHVudGlsIGFmdGVyXG4gICAgICogYHdhaXRgIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSBpdCB3YXMgaW52b2tlZC5cbiAgICAgKiBQcm92aWRlIGFuIG9wdGlvbnMgb2JqZWN0IHRvIGluZGljYXRlIHRoYXQgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uXG4gICAgICogdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBTdWJzZXF1ZW50IGNhbGxzXG4gICAgICogdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBjYWxsLlxuICAgICAqXG4gICAgICogTm90ZTogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCBgZnVuY2Agd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIGlzXG4gICAgICogaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF0gVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gYXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eFxuICAgICAqIHZhciBsYXp5TGF5b3V0ID0gXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCk7XG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIGxhenlMYXlvdXQpO1xuICAgICAqXG4gICAgICogLy8gZXhlY3V0ZSBgc2VuZE1haWxgIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHNcbiAgICAgKiBqUXVlcnkoJyNwb3N0Ym94Jykub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gZW5zdXJlIGBiYXRjaExvZ2AgaXMgZXhlY3V0ZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHNcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHtcbiAgICAgKiAgICdtYXhXYWl0JzogMTAwMFxuICAgICAqIH0sIGZhbHNlKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyxcbiAgICAgICAgICBtYXhUaW1lb3V0SWQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHN0YW1wLFxuICAgICAgICAgIHRoaXNBcmcsXG4gICAgICAgICAgdGltZW91dElkLFxuICAgICAgICAgIHRyYWlsaW5nQ2FsbCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMCxcbiAgICAgICAgICBtYXhXYWl0ID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSBuYXRpdmVNYXgoMCwgd2FpdCkgfHwgMDtcbiAgICAgIGlmIChvcHRpb25zID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJhaWxpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9IG9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4V2FpdCA9ICdtYXhXYWl0JyBpbiBvcHRpb25zICYmIChuYXRpdmVNYXgod2FpdCwgb3B0aW9ucy5tYXhXYWl0KSB8fCAwKTtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyBvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZGVsYXllZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3coKSAtIHN0YW1wKTtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1heFRpbWVvdXRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpc0NhbGxlZCA9IHRyYWlsaW5nQ2FsbDtcbiAgICAgICAgICBtYXhUaW1lb3V0SWQgPSB0aW1lb3V0SWQgPSB0cmFpbGluZ0NhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKGlzQ2FsbGVkKSB7XG4gICAgICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKCF0aW1lb3V0SWQgJiYgIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZGVsYXllZCwgcmVtYWluaW5nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIG1heERlbGF5ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIG1heFRpbWVvdXRJZCA9IHRpbWVvdXRJZCA9IHRyYWlsaW5nQ2FsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRyYWlsaW5nIHx8IChtYXhXYWl0ICE9PSB3YWl0KSkge1xuICAgICAgICAgIGxhc3RDYWxsZWQgPSBub3coKTtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3RhbXAgPSBub3coKTtcbiAgICAgICAgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgIHRyYWlsaW5nQ2FsbCA9IHRyYWlsaW5nICYmICh0aW1lb3V0SWQgfHwgIWxlYWRpbmcpO1xuXG4gICAgICAgIGlmIChtYXhXYWl0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHZhciBsZWFkaW5nQ2FsbCA9IGxlYWRpbmcgJiYgIXRpbWVvdXRJZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIW1heFRpbWVvdXRJZCAmJiAhbGVhZGluZykge1xuICAgICAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVtYWluaW5nID0gbWF4V2FpdCAtIChzdGFtcCAtIGxhc3RDYWxsZWQpLFxuICAgICAgICAgICAgICBpc0NhbGxlZCA9IHJlbWFpbmluZyA8PSAwO1xuXG4gICAgICAgICAgaWYgKGlzQ2FsbGVkKSB7XG4gICAgICAgICAgICBpZiAobWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICAgIG1heFRpbWVvdXRJZCA9IGNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgbWF4VGltZW91dElkID0gc2V0VGltZW91dChtYXhEZWxheWVkLCByZW1haW5pbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDYWxsZWQgJiYgdGltZW91dElkKSB7XG4gICAgICAgICAgdGltZW91dElkID0gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRpbWVvdXRJZCAmJiB3YWl0ICE9PSBtYXhXYWl0KSB7XG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChkZWxheWVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcbiAgICAgICAgICBpc0NhbGxlZCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDYWxsZWQgJiYgIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgYXJncyA9IHRoaXNBcmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBleGVjdXRpbmcgdGhlIGBmdW5jYCBmdW5jdGlvbiB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLlxuICAgICAqIEFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQgaXMgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkgeyBjb25zb2xlLmxvZyh0ZXh0KTsgfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gbG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBvciBtb3JlIG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmVyKGZ1bmMpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBzbGljZShhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmdW5jYCBmdW5jdGlvbiBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgYmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQgaXMgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBleGVjdXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2codGV4dCk7IH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IGxvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsYXkoZnVuYywgd2FpdCkge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0XG4gICAgICogYmFzZWQgb24gdGhlIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAqIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBjYWNoZSBrZXkuXG4gICAgICogVGhlIGBmdW5jYCBpcyBleGVjdXRlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogVGhlIHJlc3VsdCBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBBIGZ1bmN0aW9uIHVzZWQgdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemluZyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZpYm9uYWNjaSA9IF8ubWVtb2l6ZShmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiA8IDIgPyBuIDogZmlib25hY2NpKG4gLSAxKSArIGZpYm9uYWNjaShuIC0gMik7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmaWJvbmFjY2koOSlcbiAgICAgKiAvLyA9PiAzNFxuICAgICAqXG4gICAgICogdmFyIGRhdGEgPSB7XG4gICAgICogICAnZnJlZCc6IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIC8vIG1vZGlmeWluZyB0aGUgcmVzdWx0IGNhY2hlXG4gICAgICogdmFyIGdldCA9IF8ubWVtb2l6ZShmdW5jdGlvbihuYW1lKSB7IHJldHVybiBkYXRhW25hbWVdOyB9LCBfLmlkZW50aXR5KTtcbiAgICAgKiBnZXQoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICpcbiAgICAgKiBnZXQuY2FjaGUucGViYmxlcy5uYW1lID0gJ3BlbmVsb3BlJztcbiAgICAgKiBnZXQoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ3BlbmVsb3BlJywgJ2FnZSc6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IG1lbW9pemVkLmNhY2hlLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDoga2V5UHJlZml4ICsgYXJndW1lbnRzWzBdO1xuXG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBrZXkpXG4gICAgICAgICAgPyBjYWNoZVtrZXldXG4gICAgICAgICAgOiAoY2FjaGVba2V5XSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IHt9O1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gZXhlY3V0ZSBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzIHRvXG4gICAgICogdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgY2FsbC4gVGhlIGBmdW5jYCBpcyBleGVjdXRlZFxuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vIGBpbml0aWFsaXplYCBleGVjdXRlcyBgY3JlYXRlQXBwbGljYXRpb25gIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHZhciByYW4sXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHJhbikge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIC8vIGNsZWFyIHRoZSBgZnVuY2AgdmFyaWFibGUgc28gdGhlIGZ1bmN0aW9uIG1heSBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuICAgICAgICBmdW5jID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBpbnZva2VzIGBmdW5jYCB3aXRoIGFueSBhZGRpdGlvbmFsXG4gICAgICogYHBhcnRpYWxgIGFyZ3VtZW50cyBwcmVwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi4gVGhpc1xuICAgICAqIG1ldGhvZCBpcyBzaW1pbGFyIHRvIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KiogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBuYW1lKSB7IHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7IH07XG4gICAgICogdmFyIGhpID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGknKTtcbiAgICAgKiBoaSgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnRpYWwoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywgMTYsIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgYHBhcnRpYWxgIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBhcHBlbmRlZCB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0c0RlZXAgPSBfLnBhcnRpYWxSaWdodChfLm1lcmdlLCBfLmRlZmF1bHRzKTtcbiAgICAgKlxuICAgICAqIHZhciBvcHRpb25zID0ge1xuICAgICAqICAgJ3ZhcmlhYmxlJzogJ2RhdGEnLFxuICAgICAqICAgJ2ltcG9ydHMnOiB7ICdqcSc6ICQgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBkZWZhdWx0c0RlZXAob3B0aW9ucywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcbiAgICAgKlxuICAgICAqIG9wdGlvbnMudmFyaWFibGVcbiAgICAgKiAvLyA9PiAnZGF0YSdcbiAgICAgKlxuICAgICAqIG9wdGlvbnMuaW1wb3J0c1xuICAgICAqIC8vID0+IHsgJ18nOiBfLCAnanEnOiAkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJ0aWFsUmlnaHQoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywgMzIsIG51bGwsIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGV4ZWN1dGVkLCB3aWxsIG9ubHkgY2FsbCB0aGUgYGZ1bmNgIGZ1bmN0aW9uXG4gICAgICogYXQgbW9zdCBvbmNlIHBlciBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBQcm92aWRlIGFuIG9wdGlvbnMgb2JqZWN0IHRvXG4gICAgICogaW5kaWNhdGUgdGhhdCBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2VcbiAgICAgKiBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsXG4gICAgICogcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGNhbGwuXG4gICAgICpcbiAgICAgKiBOb3RlOiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgIGBmdW5jYCB3aWxsIGJlIGNhbGxlZFxuICAgICAqIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gaXNcbiAgICAgKiBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgZXhlY3V0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gYXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZ1xuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApO1xuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gZXhlY3V0ZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzXG4gICAgICogalF1ZXJ5KCcuaW50ZXJhY3RpdmUnKS5vbignY2xpY2snLCBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwge1xuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgbGVhZGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyBvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/IG9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlT3B0aW9ucy5sZWFkaW5nID0gbGVhZGluZztcbiAgICAgIGRlYm91bmNlT3B0aW9ucy5tYXhXYWl0ID0gd2FpdDtcbiAgICAgIGRlYm91bmNlT3B0aW9ucy50cmFpbGluZyA9IHRyYWlsaW5nO1xuXG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwgZGVib3VuY2VPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIHRoZSB3cmFwcGVyIGZ1bmN0aW9uIGFzIGl0c1xuICAgICAqIGZpcnN0IGFyZ3VtZW50LiBBZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIHdyYXBwZXIgZnVuY3Rpb24uIFRoZSB3cmFwcGVyIGlzIGV4ZWN1dGVkIHdpdGhcbiAgICAgKiB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ0ZyZWQsIFdpbG1hLCAmIFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+RnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKHdyYXBwZXIsIDE2LCBbdmFsdWVdKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqIHZhciBnZXR0ZXIgPSBfLmNvbnN0YW50KG9iamVjdCk7XG4gICAgICogZ2V0dGVyKCkgPT09IG9iamVjdDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIGNhbGxiYWNrIGJvdW5kIHRvIGFuIG9wdGlvbmFsIGB0aGlzQXJnYC4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHlcbiAgICAgKiBuYW1lIHRoZSBjcmVhdGVkIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LlxuICAgICAqIElmIGBmdW5jYCBpcyBhbiBvYmplY3QgdGhlIGNyZWF0ZWQgY2FsbGJhY2sgd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50c1xuICAgICAqIHRoYXQgY29udGFpbiB0aGUgZXF1aXZhbGVudCBvYmplY3QgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHdpbGwgcmV0dXJuIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcmdDb3VudF0gVGhlIG51bWJlciBvZiBhcmd1bWVudHMgdGhlIGNhbGxiYWNrIGFjY2VwdHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gd3JhcCB0byBjcmVhdGUgY3VzdG9tIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICAgKiBfLmNyZWF0ZUNhbGxiYWNrID0gXy53cmFwKF8uY3JlYXRlQ2FsbGJhY2ssIGZ1bmN0aW9uKGZ1bmMsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICogICB2YXIgbWF0Y2ggPSAvXiguKz8pX18oW2dsXXQpKC4rKSQvLmV4ZWMoY2FsbGJhY2spO1xuICAgICAqICAgcmV0dXJuICFtYXRjaCA/IGZ1bmMoY2FsbGJhY2ssIHRoaXNBcmcpIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICogICAgIHJldHVybiBtYXRjaFsyXSA9PSAnZ3QnID8gb2JqZWN0W21hdGNoWzFdXSA+IG1hdGNoWzNdIDogb2JqZWN0W21hdGNoWzFdXSA8IG1hdGNoWzNdO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsICdhZ2VfX2d0MzgnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGZ1bmM7XG4gICAgICBpZiAoZnVuYyA9PSBudWxsIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYmFzZUNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KTtcbiAgICAgIH1cbiAgICAgIC8vIGhhbmRsZSBcIl8ucGx1Y2tcIiBzdHlsZSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICBpZiAodHlwZSAhPSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkoZnVuYyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKGZ1bmMpLFxuICAgICAgICAgIGtleSA9IHByb3BzWzBdLFxuICAgICAgICAgIGEgPSBmdW5jW2tleV07XG5cbiAgICAgIC8vIGhhbmRsZSBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICBpZiAocHJvcHMubGVuZ3RoID09IDEgJiYgYSA9PT0gYSAmJiAhaXNPYmplY3QoYSkpIHtcbiAgICAgICAgLy8gZmFzdCBwYXRoIHRoZSBjb21tb24gY2FzZSBvZiBwcm92aWRpbmcgYW4gb2JqZWN0IHdpdGggYSBzaW5nbGVcbiAgICAgICAgLy8gcHJvcGVydHkgY29udGFpbmluZyBhIHByaW1pdGl2ZSB2YWx1ZVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgICAgdmFyIGIgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICByZXR1cm4gYSA9PT0gYiAmJiAoYSAhPT0gMCB8fCAoMSAvIGEgPT0gMSAvIGIpKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIGlmICghKHJlc3VsdCA9IGJhc2VJc0VxdWFsKG9iamVjdFtwcm9wc1tsZW5ndGhdXSwgZnVuY1twcm9wc1tsZW5ndGhdXSwgbnVsbCwgdHJ1ZSkpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgYCZgLCBgPGAsIGA+YCwgYFwiYCwgYW5kIGAnYCBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnRnJlZCwgV2lsbWEsICYgUGViYmxlcycpO1xuICAgICAqIC8vID0+ICdGcmVkLCBXaWxtYSwgJmFtcDsgUGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nID09IG51bGwgPyAnJyA6IFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgcHJvdmlkZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiBfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2Ugb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiBtZXRob2RzIHdpbGwgYmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgdGhlIGZ1bmN0aW9ucyBhZGRlZCBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAnY2FwaXRhbGl6ZSc6IGNhcGl0YWxpemUgfSk7XG4gICAgICogXy5jYXBpdGFsaXplKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykuY2FwaXRhbGl6ZSgpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ2NhcGl0YWxpemUnOiBjYXBpdGFsaXplIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLmNhcGl0YWxpemUoKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGNoYWluID0gdHJ1ZSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IHNvdXJjZSAmJiBmdW5jdGlvbnMoc291cmNlKTtcblxuICAgICAgaWYgKCFzb3VyY2UgfHwgKCFvcHRpb25zICYmICFtZXRob2ROYW1lcy5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGN0b3IgPSBsb2Rhc2hXcmFwcGVyO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IGxvZGFzaDtcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBmdW5jdGlvbnMoc291cmNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09PSBmYWxzZSkge1xuICAgICAgICBjaGFpbiA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgY2hhaW4gPSBvcHRpb25zLmNoYWluO1xuICAgICAgfVxuICAgICAgdmFyIGN0b3IgPSBvYmplY3QsXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihjdG9yKTtcblxuICAgICAgZm9yRWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IG9iamVjdFttZXRob2ROYW1lXSA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIGN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgICAgICAgYXJncyA9IFt2YWx1ZV07XG5cbiAgICAgICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KG9iamVjdCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSByZXN1bHQgJiYgaXNPYmplY3QocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBjdG9yKHJlc3VsdCk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgJ18nIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGNvbnRleHQuXyA9IG9sZERhc2g7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG5vLW9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiBfLm5vb3Aob2JqZWN0KSA9PT0gdW5kZWZpbmVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gbm8gb3BlcmF0aW9uIHBlcmZvcm1lZFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIFVuaXggZXBvY2hcbiAgICAgKiAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHN0YW1wID0gXy5ub3coKTtcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApOyB9KTtcbiAgICAgKiAvLyA9PiBsb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBmdW5jdGlvbiB0byBiZSBjYWxsZWRcbiAgICAgKi9cbiAgICB2YXIgbm93ID0gaXNOYXRpdmUobm93ID0gRGF0ZS5ub3cpICYmIG5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGdpdmVuIHZhbHVlIGludG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LlxuICAgICAqIElmIGByYWRpeGAgaXMgYHVuZGVmaW5lZGAgb3IgYDBgIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIHRoZVxuICAgICAqIGB2YWx1ZWAgaXMgYSBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgYXZvaWRzIGRpZmZlcmVuY2VzIGluIG5hdGl2ZSBFUzMgYW5kIEVTNSBgcGFyc2VJbnRgXG4gICAgICogaW1wbGVtZW50YXRpb25zLiBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI0UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXJzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4XSBUaGUgcmFkaXggdXNlZCB0byBpbnRlcnByZXQgdGhlIHZhbHVlIHRvIHBhcnNlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG5ldyBpbnRlZ2VyIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKi9cbiAgICB2YXIgcGFyc2VJbnQgPSBuYXRpdmVQYXJzZUludCh3aGl0ZXNwYWNlICsgJzA4JykgPT0gOCA/IG5hdGl2ZVBhcnNlSW50IDogZnVuY3Rpb24odmFsdWUsIHJhZGl4KSB7XG4gICAgICAvLyBGaXJlZm94IDwgMjEgYW5kIE9wZXJhIDwgMTUgZm9sbG93IHRoZSBFUzMgc3BlY2lmaWVkIGltcGxlbWVudGF0aW9uIG9mIGBwYXJzZUludGBcbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludChpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS5yZXBsYWNlKHJlTGVhZGluZ1NwYWNlc0FuZFplcm9zLCAnJykgOiB2YWx1ZSwgcmFkaXggfHwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBcIl8ucGx1Y2tcIiBzdHlsZSBmdW5jdGlvbiwgd2hpY2ggcmV0dXJucyB0aGUgYGtleWAgdmFsdWUgb2YgYVxuICAgICAqIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byByZXRyaWV2ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgZ2V0TmFtZSA9IF8ucHJvcGVydHkoJ25hbWUnKTtcbiAgICAgKlxuICAgICAqIF8ubWFwKGNoYXJhY3RlcnMsIGdldE5hbWUpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoY2hhcmFjdGVycywgZ2V0TmFtZSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHkoa2V5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gYG1pbmAgYW5kIGBtYXhgIChpbmNsdXNpdmUpLiBJZiBvbmx5IG9uZVxuICAgICAqIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyIHdpbGwgYmVcbiAgICAgKiByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyB0cnVleSBvciBlaXRoZXIgYG1pbmAgb3IgYG1heGAgYXJlIGZsb2F0cyBhXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVyIHdpbGwgYmUgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdIFRoZSBtaW5pbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4PTFdIFRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nPWZhbHNlXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obWluLCBtYXgsIGZsb2F0aW5nKSB7XG4gICAgICB2YXIgbm9NaW4gPSBtaW4gPT0gbnVsbCxcbiAgICAgICAgICBub01heCA9IG1heCA9PSBudWxsO1xuXG4gICAgICBpZiAoZmxvYXRpbmcgPT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIG1pbiA9PSAnYm9vbGVhbicgJiYgbm9NYXgpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IG1pbjtcbiAgICAgICAgICBtaW4gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFub01heCAmJiB0eXBlb2YgbWF4ID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbWF4O1xuICAgICAgICAgIG5vTWF4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vTWluICYmIG5vTWF4KSB7XG4gICAgICAgIG1heCA9IDE7XG4gICAgICB9XG4gICAgICBtaW4gPSArbWluIHx8IDA7XG4gICAgICBpZiAobm9NYXgpIHtcbiAgICAgICAgbWF4ID0gbWluO1xuICAgICAgICBtaW4gPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF4ID0gK21heCB8fCAwO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IG1pbiAlIDEgfHwgbWF4ICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKG1pbiArIChyYW5kICogKG1heCAtIG1pbiArIHBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKycnKS5sZW5ndGggLSAxKSkpKSwgbWF4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKG1pbiwgbWF4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgdmFsdWUgb2YgcHJvcGVydHkgYGtleWAgb24gYG9iamVjdGAuIElmIGBrZXlgIGlzIGEgZnVuY3Rpb25cbiAgICAgKiBpdCB3aWxsIGJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYG9iamVjdGAgYW5kIGl0cyByZXN1bHQgcmV0dXJuZWQsXG4gICAgICogZWxzZSB0aGUgcHJvcGVydHkgdmFsdWUgaXMgcmV0dXJuZWQuIElmIGBvYmplY3RgIGlzIGZhbHNleSB0aGVuIGB1bmRlZmluZWRgXG4gICAgICogaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnY2hlZXNlJzogJ2NydW1wZXRzJyxcbiAgICAgKiAgICdzdHVmZic6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICByZXR1cm4gJ25vbnNlbnNlJztcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnY2hlZXNlJyk7XG4gICAgICogLy8gPT4gJ2NydW1wZXRzJ1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnc3R1ZmYnKTtcbiAgICAgKiAvLyA9PiAnbm9uc2Vuc2UnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwga2V5KSB7XG4gICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgPyBvYmplY3Rba2V5XSgpIDogdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBtaWNyby10ZW1wbGF0aW5nIG1ldGhvZCB0aGF0IGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlc1xuICAgICAqIHdoaXRlc3BhY2UsIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICAgICAqXG4gICAgICogTm90ZTogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkLCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXMgc291cmNlVVJMcyBmb3IgZWFzaWVyXG4gICAgICogZGVidWdnaW5nLiBTZWUgaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybFxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWU6XG4gICAgICogaHR0cDovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkc1xuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlOlxuICAgICAqIGh0dHA6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9zdGFibGUvZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbC5odG1sXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgb2JqZWN0IHVzZWQgdG8gcG9wdWxhdGUgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZV0gVGhlIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZV0gVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHNdIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgbG9jYWwgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZV0gVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzb3VyY2VVUkxdIFRoZSBzb3VyY2VVUkwgb2YgdGhlIHRlbXBsYXRlJ3MgY29tcGlsZWQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmFyaWFibGVdIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxzdHJpbmd9IFJldHVybnMgYSBjb21waWxlZCBmdW5jdGlvbiB3aGVuIG5vIGBkYXRhYCBvYmplY3RcbiAgICAgKiAgaXMgZ2l2ZW4sIGVsc2UgaXQgcmV0dXJucyB0aGUgaW50ZXJwb2xhdGVkIHRleHQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IG5hbWUgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICduYW1lJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBIVE1MIGluIGRhdGEgcHJvcGVydHkgdmFsdWVzXG4gICAgICogXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicsIHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZ2VuZXJhdGUgSFRNTFxuICAgICAqIHZhciBsaXN0ID0gJzwlIF8uZm9yRWFjaChwZW9wbGUsIGZ1bmN0aW9uKG5hbWUpIHsgJT48bGk+PCUtIG5hbWUgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogXy50ZW1wbGF0ZShsaXN0LCB7ICdwZW9wbGUnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgRVM2IGRlbGltaXRlciBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgZGVmYXVsdCBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyXG4gICAgICogXy50ZW1wbGF0ZSgnaGVsbG8gJHsgbmFtZSB9JywgeyAnbmFtZSc6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzXG4gICAgICogXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIG5hbWUpOyAlPiEnLCB7ICduYW1lJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBhIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgICAqICAgJ2ludGVycG9sYXRlJzogL3t7KFtcXHNcXFNdKz8pfX0vZ1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLnRlbXBsYXRlKCdoZWxsbyB7eyBuYW1lIH19IScsIHsgJ25hbWUnOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgalF1ZXJ5XG4gICAgICogdmFyIGxpc3QgPSAnPCUganEuZWFjaChwZW9wbGUsIGZ1bmN0aW9uKG5hbWUpIHsgJT48bGk+PCUtIG5hbWUgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogXy50ZW1wbGF0ZShsaXN0LCB7ICdwZW9wbGUnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGVcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gbmFtZSAlPicsIG51bGwsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBmaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGVcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS5uYW1lICU+IScsIG51bGwsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogICB2YXIgX190LCBfX3AgPSAnJywgX19lID0gXy5lc2NhcGU7XG4gICAgICogICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS5uYW1lICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogICByZXR1cm4gX19wO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBhIHN0YWNrIHRyYWNlXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4oY3dkLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHRleHQsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgIC8vIGJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcbiAgICAgIHRleHQgPSBTdHJpbmcodGV4dCB8fCAnJyk7XG5cbiAgICAgIC8vIGF2b2lkIG1pc3NpbmcgZGVwZW5kZW5jaWVzIHdoZW4gYGl0ZXJhdG9yVGVtcGxhdGVgIGlzIG5vdCBkZWZpbmVkXG4gICAgICBvcHRpb25zID0gZGVmYXVsdHMoe30sIG9wdGlvbnMsIHNldHRpbmdzKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBkZWZhdWx0cyh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IHZhbHVlcyhpbXBvcnRzKTtcblxuICAgICAgdmFyIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlclxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgdGV4dC5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBlc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbm5vdCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHNcbiAgICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gcmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHNcbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyByZXF1aXJlcyByZXR1cm5pbmcgdGhlIGBtYXRjaGBcbiAgICAgICAgLy8gc3RyaW5nIGluIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWVcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIGlmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCwgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW5cbiAgICAgIHZhciB2YXJpYWJsZSA9IG9wdGlvbnMudmFyaWFibGUsXG4gICAgICAgICAgaGFzVmFyaWFibGUgPSB2YXJpYWJsZTtcblxuICAgICAgaWYgKCFoYXNWYXJpYWJsZSkge1xuICAgICAgICB2YXJpYWJsZSA9ICdvYmonO1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAoJyArIHZhcmlhYmxlICsgJykge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBjbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3NcbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gZnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keVxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyB2YXJpYWJsZSArICcpIHtcXG4nICtcbiAgICAgICAgKGhhc1ZhcmlhYmxlID8gJycgOiB2YXJpYWJsZSArICcgfHwgKCcgKyB2YXJpYWJsZSArICcgPSB7fSk7XFxuJykgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnLCBfX2UgPSBfLmVzY2FwZVwiICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmxcbiAgICAgIHZhciBzb3VyY2VVUkwgPSAnXFxuLypcXG4vLyMgc291cmNlVVJMPScgKyAob3B0aW9ucy5zb3VyY2VVUkwgfHwgJy9sb2Rhc2gvdGVtcGxhdGUvc291cmNlWycgKyAodGVtcGxhdGVDb3VudGVyKyspICsgJ10nKSArICdcXG4qLyc7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBGdW5jdGlvbihpbXBvcnRzS2V5cywgJ3JldHVybiAnICsgc291cmNlICsgc291cmNlVVJMKS5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdChkYXRhKTtcbiAgICAgIH1cbiAgICAgIC8vIHByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCwgaW5cbiAgICAgIC8vIHN1cHBvcnRlZCBlbnZpcm9ubWVudHMsIG9yIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvclxuICAgICAgLy8gaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzIGR1cmluZyB0aGUgYnVpbGQgcHJvY2Vzc1xuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNhbGxiYWNrIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzXG4gICAgICogb2YgZWFjaCBjYWxsYmFjayBleGVjdXRpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGV4ZWN1dGUgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGRpY2VSb2xscyA9IF8udGltZXMoMywgXy5wYXJ0aWFsKF8ucmFuZG9tLCAxLCA2KSk7XG4gICAgICogLy8gPT4gWzMsIDYsIDRdXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIGZ1bmN0aW9uKG4pIHsgbWFnZS5jYXN0U3BlbGwobik7IH0pO1xuICAgICAqIC8vID0+IGNhbGxzIGBtYWdlLmNhc3RTcGVsbChuKWAgdGhyZWUgdGltZXMsIHBhc3NpbmcgYG5gIG9mIGAwYCwgYDFgLCBhbmQgYDJgIHJlc3BlY3RpdmVseVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBmdW5jdGlvbihuKSB7IHRoaXMuY2FzdChuKTsgfSwgbWFnZSk7XG4gICAgICogLy8gPT4gYWxzbyBjYWxscyBgbWFnZS5jYXN0U3BlbGwobilgIHRocmVlIHRpbWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZXMobiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIG4gPSAobiA9ICtuKSA+IC0xID8gbiA6IDA7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgICAgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBjYWxsYmFjayhpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWAgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcbiAgICAgKiBgJmFtcDtgLCBgJmx0O2AsIGAmZ3Q7YCwgYCZxdW90O2AsIGFuZCBgJiMzOTtgIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdGcmVkLCBCYXJuZXkgJmFtcDsgUGViYmxlcycpO1xuICAgICAqIC8vID0+ICdGcmVkLCBCYXJuZXkgJiBQZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgcHJvdmlkZWQgdGhlIElEIHdpbGwgYmUgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXhdIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5pcXVlIElELlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCdjb250YWN0XycpO1xuICAgICAqIC8vID0+ICdjb250YWN0XzEwNCdcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoKTtcbiAgICAgKiAvLyA9PiAnMTA1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICAgICAgdmFyIGlkID0gKytpZENvdW50ZXI7XG4gICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCA9PSBudWxsID8gJycgOiBwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHRoYXQgd3JhcHMgdGhlIGdpdmVuIHZhbHVlIHdpdGggZXhwbGljaXRcbiAgICAgKiBtZXRob2QgY2hhaW5pbmcgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gXy5jaGFpbihjaGFyYWN0ZXJzKVxuICAgICAqICAgICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgICAubWFwKGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLm5hbWUgKyAnIGlzICcgKyBjaHIuYWdlOyB9KVxuICAgICAqICAgICAuZmlyc3QoKVxuICAgICAqICAgICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IG5ldyBsb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICAgIHZhbHVlLl9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgaW50ZXJjZXB0b3JgIHdpdGggdGhlIGB2YWx1ZWAgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB0aGVuXG4gICAgICogcmV0dXJucyBgdmFsdWVgLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2RcbiAgICAgKiBjaGFpbiBpbiBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluXG4gICAgICogdGhlIGNoYWluLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgMywgNF0pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHsgYXJyYXkucG9wKCk7IH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgZXhwbGljaXQgbWV0aG9kIGNoYWluaW5nIG9uIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZ1xuICAgICAqIF8oY2hhcmFjdGVycykuZmlyc3QoKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyB3aXRoIGV4cGxpY2l0IGNoYWluaW5nXG4gICAgICogXyhjaGFyYWN0ZXJzKS5jaGFpbigpXG4gICAgICogICAuZmlyc3QoKVxuICAgICAqICAgLnBpY2soJ2FnZScpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICdhZ2UnOiAzNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgdGhpcy5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgdGhlIGB0b1N0cmluZ2AgcmVzdWx0IG9mIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdG9TdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZyByZXN1bHQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS50b1N0cmluZygpO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHRoaXMuX193cmFwcGVkX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVPZlxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIHZhbHVlXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZU9mKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlT2YoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3dyYXBwZWRfXztcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIGFkZCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgd2hlbiBjaGFpbmluZ1xuICAgIGxvZGFzaC5hZnRlciA9IGFmdGVyO1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNoYWluID0gY2hhaW47XG4gICAgbG9kYXNoLmNvbXBhY3QgPSBjb21wYWN0O1xuICAgIGxvZGFzaC5jb21wb3NlID0gY29tcG9zZTtcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3JlYXRlQ2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjaztcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guZGVib3VuY2UgPSBkZWJvdW5jZTtcbiAgICBsb2Rhc2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG4gICAgbG9kYXNoLmluZGV4QnkgPSBpbmRleEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnZlcnQgPSBpbnZlcnQ7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2gua2V5cyA9IGtleXM7XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwVmFsdWVzID0gbWFwVmFsdWVzO1xuICAgIGxvZGFzaC5tYXggPSBtYXg7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbmNlID0gb25jZTtcbiAgICBsb2Rhc2gucGFpcnMgPSBwYWlycztcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGljayA9IHBpY2s7XG4gICAgbG9kYXNoLnBsdWNrID0gcGx1Y2s7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnB1bGwgPSBwdWxsO1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yZWplY3QgPSByZWplY3Q7XG4gICAgbG9kYXNoLnJlbW92ZSA9IHJlbW92ZTtcbiAgICBsb2Rhc2gucmVzdCA9IHJlc3Q7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGltZXMgPSB0aW1lcztcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnZhbHVlcyA9IHZhbHVlcztcbiAgICBsb2Rhc2gud2hlcmUgPSB3aGVyZTtcbiAgICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG4gICAgbG9kYXNoLndyYXAgPSB3cmFwO1xuICAgIGxvZGFzaC54b3IgPSB4b3I7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuXG4gICAgLy8gYWRkIGFsaWFzZXNcbiAgICBsb2Rhc2guY29sbGVjdCA9IG1hcDtcbiAgICBsb2Rhc2guZHJvcCA9IHJlc3Q7XG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmV4dGVuZCA9IGFzc2lnbjtcbiAgICBsb2Rhc2gubWV0aG9kcyA9IGZ1bmN0aW9ucztcbiAgICBsb2Rhc2gub2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC5zZWxlY3QgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLnRhaWwgPSByZXN0O1xuICAgIGxvZGFzaC51bmlxdWUgPSB1bmlxO1xuICAgIGxvZGFzaC51bnppcCA9IHppcDtcblxuICAgIC8vIGFkZCBmdW5jdGlvbnMgdG8gYGxvZGFzaC5wcm90b3R5cGVgXG4gICAgbWl4aW4obG9kYXNoKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIHdoZW4gY2hhaW5pbmdcbiAgICBsb2Rhc2guY2xvbmUgPSBjbG9uZTtcbiAgICBsb2Rhc2guY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuICAgIGxvZGFzaC5jb250YWlucyA9IGNvbnRhaW5zO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmV2ZXJ5ID0gZXZlcnk7XG4gICAgbG9kYXNoLmZpbmQgPSBmaW5kO1xuICAgIGxvZGFzaC5maW5kSW5kZXggPSBmaW5kSW5kZXg7XG4gICAgbG9kYXNoLmZpbmRLZXkgPSBmaW5kS2V5O1xuICAgIGxvZGFzaC5maW5kTGFzdCA9IGZpbmRMYXN0O1xuICAgIGxvZGFzaC5maW5kTGFzdEluZGV4ID0gZmluZExhc3RJbmRleDtcbiAgICBsb2Rhc2guZmluZExhc3RLZXkgPSBmaW5kTGFzdEtleTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbiAgICBsb2Rhc2guaXNEYXRlID0gaXNEYXRlO1xuICAgIGxvZGFzaC5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG4gICAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuICAgIGxvZGFzaC5pc0VxdWFsID0gaXNFcXVhbDtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLmlzUmVnRXhwID0gaXNSZWdFeHA7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLm1peGluID0gbWl4aW47XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zb21lID0gc29tZTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXggPSBzb3J0ZWRJbmRleDtcbiAgICBsb2Rhc2gudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICBsb2Rhc2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbiAgICBsb2Rhc2gudW5pcXVlSWQgPSB1bmlxdWVJZDtcblxuICAgIC8vIGFkZCBhbGlhc2VzXG4gICAgbG9kYXNoLmFsbCA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5hbnkgPSBzb21lO1xuICAgIGxvZGFzaC5kZXRlY3QgPSBmaW5kO1xuICAgIGxvZGFzaC5maW5kV2hlcmUgPSBmaW5kO1xuICAgIGxvZGFzaC5mb2xkbCA9IHJlZHVjZTtcbiAgICBsb2Rhc2guZm9sZHIgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2guaW5jbHVkZSA9IGNvbnRhaW5zO1xuICAgIGxvZGFzaC5pbmplY3QgPSByZWR1Y2U7XG5cbiAgICBtaXhpbihmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB7fVxuICAgICAgZm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpLCBmYWxzZSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIGFkZCBmdW5jdGlvbnMgY2FwYWJsZSBvZiByZXR1cm5pbmcgd3JhcHBlZCBhbmQgdW53cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gICAgbG9kYXNoLmZpcnN0ID0gZmlyc3Q7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG5cbiAgICAvLyBhZGQgYWxpYXNlc1xuICAgIGxvZGFzaC50YWtlID0gZmlyc3Q7XG4gICAgbG9kYXNoLmhlYWQgPSBmaXJzdDtcblxuICAgIGZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBjYWxsYmFja2FibGUgPSBtZXRob2ROYW1lICE9PSAnc2FtcGxlJztcbiAgICAgIGlmICghbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSkge1xuICAgICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdPSBmdW5jdGlvbihuLCBndWFyZCkge1xuICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jKHRoaXMuX193cmFwcGVkX18sIG4sIGd1YXJkKTtcblxuICAgICAgICAgIHJldHVybiAhY2hhaW5BbGwgJiYgKG4gPT0gbnVsbCB8fCAoZ3VhcmQgJiYgIShjYWxsYmFja2FibGUgJiYgdHlwZW9mIG4gPT0gJ2Z1bmN0aW9uJykpKVxuICAgICAgICAgICAgPyByZXN1bHRcbiAgICAgICAgICAgIDogbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gJzIuNC4xJztcblxuICAgIC8vIGFkZCBcIkNoYWluaW5nXCIgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyXG4gICAgbG9kYXNoLnByb3RvdHlwZS5jaGFpbiA9IHdyYXBwZXJDaGFpbjtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnRvU3RyaW5nID0gd3JhcHBlclRvU3RyaW5nO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudmFsdWUgPSB3cmFwcGVyVmFsdWVPZjtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSB3cmFwcGVyVmFsdWVPZjtcblxuICAgIC8vIGFkZCBgQXJyYXlgIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzXG4gICAgZm9yRWFjaChbJ2pvaW4nLCAncG9wJywgJ3NoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIHJldHVybiBjaGFpbkFsbFxuICAgICAgICAgID8gbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbClcbiAgICAgICAgICA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdGhlIGV4aXN0aW5nIHdyYXBwZWQgdmFsdWVcbiAgICBmb3JFYWNoKFsncHVzaCcsICdyZXZlcnNlJywgJ3NvcnQnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UmVmW21ldGhvZE5hbWVdO1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGFkZCBgQXJyYXlgIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBuZXcgd3JhcHBlZCB2YWx1ZXNcbiAgICBmb3JFYWNoKFsnY29uY2F0JywgJ3NsaWNlJywgJ3NwbGljZSddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UmVmW21ldGhvZE5hbWVdO1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IGxvZGFzaFdyYXBwZXIoZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIGV4cG9zZSBMby1EYXNoXG4gIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cbiAgLy8gc29tZSBBTUQgYnVpbGQgb3B0aW1pemVycyBsaWtlIHIuanMgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlIHRoZSBmb2xsb3dpbmc6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBMby1EYXNoIHRvIHRoZSBnbG9iYWwgb2JqZWN0IGV2ZW4gd2hlbiBhbiBBTUQgbG9hZGVyIGlzIHByZXNlbnQgaW5cbiAgICAvLyBjYXNlIExvLURhc2ggaXMgbG9hZGVkIHdpdGggYSBSZXF1aXJlSlMgc2hpbSBjb25maWcuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvYXBpLmh0bWwjY29uZmlnLXNoaW1cbiAgICByb290Ll8gPSBfO1xuXG4gICAgLy8gZGVmaW5lIGFzIGFuIGFub255bW91cyBtb2R1bGUgc28sIHRocm91Z2ggcGF0aCBtYXBwaW5nLCBpdCBjYW4gYmVcbiAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGVcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBjaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBhbiBgZXhwb3J0c2Agb2JqZWN0XG4gIGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcbiAgICAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlNcbiAgICBpZiAobW9kdWxlRXhwb3J0cykge1xuICAgICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuICAgIH1cbiAgICAvLyBpbiBOYXJ3aGFsIG9yIFJoaW5vIC1yZXF1aXJlXG4gICAgZWxzZSB7XG4gICAgICBmcmVlRXhwb3J0cy5fID0gXztcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gaW4gYSBicm93c2VyIG9yIFJoaW5vXG4gICAgcm9vdC5fID0gXztcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5cbmZ1bmN0aW9uIEN1cnNvckhpbnQoKSB7XG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fb25Nb3ZlID0gdGhpcy5fY3JlYXRlT25Nb3ZlKCkuYmluZCh0aGlzKTtcbn1cblxudmFyIHAgPSBDdXJzb3JIaW50LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ3Vyc29ySGludDtcblxucC5zZXRIaW50cyA9IGZ1bmN0aW9uIChoaW50cykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblxuICAgIHRoaXMuZG9tRWxlbS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgaWYgKF8uaXNBcnJheShoaW50cykpIHtcbiAgICAgICAgaGludHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbU9wdCkge1xuICAgICAgICAgICAgX3RoaXMuX2NyZWF0ZUl0ZW0oaXRlbU9wdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX29uTW92ZSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vbk1vdmUoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3ZlKTtcbiAgICB9XG59O1xuXG5wLl9jcmVhdGVPbk1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuXG4gICAgdmFyIHNob3dTZXRULFxuICAgICAgICBkZWxheSA9IDg3OSxcbiAgICAgICAgc2hvd2luZyA9IGZhbHNlLFxuICAgICAgICB4ID0gMCxcbiAgICAgICAgeSA9IDA7XG5cbiAgICB2YXIgc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5fYWN0aXZlKSByZXR1cm47XG5cbiAgICAgICAgc2hvd2luZyA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0geCArIDcgKyBcInB4XCI7XG4gICAgICAgIF90aGlzLmRvbUVsZW0uc3R5bGUudG9wID0geSArIDcgKyBcInB4XCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoX3RoaXMuZG9tRWxlbSk7XG4gICAgfTtcblxuICAgIHZhciBoaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG93aW5nID0gZmFsc2U7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChfdGhpcy5kb21FbGVtKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChzaG93aW5nKSBoaWRlKCk7XG5cbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIHggPSBlLng7XG4gICAgICAgICAgICB5ID0gZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHNob3dTZXRUKTtcbiAgICAgICAgc2hvd1NldFQgPSBzZXRUaW1lb3V0KHNob3csIGRlbGF5KTtcbiAgICB9O1xufTtcblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5saXN0U3R5bGVUeXBlID0gXCJub25lXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm1hcmdpbiA9IDA7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBhZGRpbmcgPSAwO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG59O1xuXG5wLl9jcmVhdGVJdGVtID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIGlmICh0eXBlb2Ygb3B0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9wdCA9IHsgdGV4dDogb3B0IH07XG4gICAgfVxuXG4gICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxpLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIGxpLnN0eWxlLmZvbnRGYW1pbHkgPSBcIlxcXCJPcGVuIFNhbnNcXFwiLCBzYW5zLXNlcmlmXCI7XG4gICAgbGkuc3R5bGUuZm9udFNpemUgPSBcIjE0cHhcIjtcbiAgICBsaS5zdHlsZS5wYWRkaW5nID0gXCIwIDNweFwiO1xuICAgIGxpLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgIGxpLnN0eWxlLmNvbG9yID0gXCIjMDAwXCI7XG4gICAgbGkuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgyMjIsMjMyLDIyMiwuNzg1KVwiO1xuICAgIGxpLmlubmVySFRNTCA9IG9wdC50ZXh0O1xuXG5cbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQobGkpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFRyYW5zZm9ybWVyID0gcmVxdWlyZShcIi4vaGFuZHMvVHJhbnNmb3JtZXJcIik7XG52YXIgQm94ZXIgPSByZXF1aXJlKFwiLi9oYW5kcy9Cb3hlclwiKTtcbnZhciBDdXJ2ZXIgPSByZXF1aXJlKFwiLi9oYW5kcy9jdXJ2ZXIvQ3VydmVyXCIpO1xudmFyIEN1cnNvckhpbnQgPSByZXF1aXJlKFwiLi9DdXJzb3JIaW50XCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxuZnVuY3Rpb24gVHJhbnNoYW5kKCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faGFuZHMgPSB7fTtcblxuICAgIHRoaXMuX2J1ZmZNb2NrRGl2ID0gW107XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG5cbiAgICB0aGlzLmN1cnNvckhpbnQgPSBuZXcgQ3Vyc29ySGludCgpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZG9tRWxlbSwgXCJyZW5kZXJMZXZlbFwiLCB7XG4gICAgICAgIGdldDogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJySGFuZCAmJiB0aGlzLl9jdXJySGFuZC5yZW5kZXJMZXZlbCB8fCAwO1xuICAgICAgICB9KS5iaW5kKHRoaXMpIH0pO1xuXG5cbiAgICAvLyBbVHJhbnNmb3JtZXIsIEJveGVyLCBDdXJ2ZXJdLmZvckVhY2goZnVuY3Rpb24gKEhhbmQpIHtcblxuICAgIC8vICAgICB2YXIgaGFuZCA9IG5ldyBIYW5kKHRoaXMpO1xuXG4gICAgLy8gICAgIGhhbmQub24oJ2NoYW5nZScsIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjaGFuZ2UnKSk7XG5cbiAgICAvLyAgICAgdGhpcy5oYW5kc1tIYW5kLmlkXSA9IGhhbmQ7XG4gICAgLy8gfSwgdGhpcyk7XG59XG5cbmluaGVyaXRzKFRyYW5zaGFuZCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVHJhbnNoYW5kLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVHJhbnNoYW5kO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIHZhciBoYW5kID0gdGhpcy5fZ2V0SGFuZChvcHQuaGFuZC50eXBlKTtcblxuICAgIGlmICh0aGlzLl9jdXJySGFuZCAmJiB0aGlzLl9jdXJySGFuZCAhPT0gaGFuZCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAoaGFuZCkge1xuICAgICAgICBoYW5kLnNldHVwKG9wdC5oYW5kKTtcbiAgICAgICAgdGhpcy5fY3VyckhhbmQgPSBoYW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5rbm93biBoYW5kIHR5cGU6IFwiICsgb3B0LmhhbmQudHlwZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdC5vbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHQub24pLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgdGhpcy5vbihldmVudFR5cGUsIG9wdC5vbltldmVudFR5cGVdKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxucC5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fY3VyckhhbmQpIHtcbiAgICAgICAgdGhpcy5fY3VyckhhbmQuYWN0aXZhdGUoKTtcblxuICAgICAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fY3VyckhhbmQuZG9tRWxlbSk7XG4gICAgfVxufTtcblxucC5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9jdXJySGFuZCkge1xuICAgICAgICB0aGlzLl9jdXJySGFuZC5kZWFjdGl2YXRlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJIYW5kLmRvbUVsZW0ucGFyZW50Tm9kZSA9PT0gdGhpcy5kb21FbGVtKSB7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0ucmVtb3ZlQ2hpbGQodGhpcy5fY3VyckhhbmQuZG9tRWxlbSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLl9nZXRIYW5kID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAodHlwZSBpbiB0aGlzLl9oYW5kcykge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZHNbdHlwZV07XG4gICAgfVxuXG4gICAgdmFyIEhhbmQgPSBfLmZpbmQoW1RyYW5zZm9ybWVyLCBCb3hlciwgQ3VydmVyXSwgeyBpZDogdHlwZSB9KTtcblxuICAgIGlmICghSGFuZCkgdGhyb3cgRXJyb3I7XG5cbiAgICB2YXIgaGFuZCA9IG5ldyBIYW5kKHRoaXMpO1xuICAgIGhhbmQub24oXCJjaGFuZ2VcIiwgdGhpcy5lbWl0LmJpbmQodGhpcywgXCJjaGFuZ2VcIikpO1xuICAgIHRoaXMuX2hhbmRzW0hhbmQuaWRdID0gaGFuZDtcblxuICAgIHJldHVybiBoYW5kO1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLkwyRyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgaWYgKCF0aGlzLl9kZUxvY2FsUm9vdFBpY2tlcikge1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICB0aGlzLl9kZUxvY2FsUm9vdFBpY2tlci5zdHlsZS5sZWZ0ID0gcC54ICsgXCJweFwiO1xuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyLnN0eWxlLnRvcCA9IHAueSArIFwicHhcIjtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZGVMb2NhbFJvb3QpO1xuICAgIHZhciBiciA9IHRoaXMuX2RlTG9jYWxSb290UGlja2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fZGVMb2NhbFJvb3QpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogYnIubGVmdCxcbiAgICAgICAgeTogYnIudG9wIH07XG59O1xuXG5wLkcyTCA9IGZ1bmN0aW9uIChwKSB7XG4gICAgaWYgKCF0aGlzLl9kZUxvY2FsUm9vdFBpY2tlcikge1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2RlTG9jYWxSb290KTtcbiAgICB2YXIgcmV0ID0gbmFzdHlMb2NhbDJHbG9iYWwocCwgdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fZGVMb2NhbFJvb3QpO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnZhciB0UHJvcHMgPSBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2Zvcm1PcmlnaW5cIiwgXCJwcmVzcGVjdGl2ZVwiLCBcInByZXNwZWN0aXZlT3JpZ2luXCIsIFwidHJhbnNmb3JtU3R5bGVcIl07XG5cbnAuc2V0TG9jYWxSb290ID0gZnVuY3Rpb24gKGRlLCBkZVRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgZGVSb290ID0gZ2V0RGl2KCksXG4gICAgICAgIGRlVG9wID0gZGVSb290LFxuICAgICAgICBkZVBpY2tlciA9IGdldERpdigpLFxuICAgICAgICB0cmFuc2Zvcm1lZHMgPSBbXSxcbiAgICAgICAgcGFyZW50UG9zID0geyBsZWZ0OiAtd2luZG93LnNjcm9sbFgsIHRvcDogLXdpbmRvdy5zY3JvbGxZIH0sXG4gICAgICAgIGFzc2VtYmxlSWR4ID0gMCxcbiAgICAgICAgcmV0O1xuXG4gICAgaWYgKHRoaXMuX2RlTG9jYWxSb290KSB7XG4gICAgICAgIGRpc2Fzc2VtYmxlKHRoaXMuX2RlTG9jYWxSb290KTtcbiAgICB9XG5cbiAgICB3YWxrQmFjayhkZSk7XG4gICAgYXNzZW1ibGUoKTtcblxuICAgIGRlVG9wLmFwcGVuZENoaWxkKGRlUGlja2VyKTtcblxuICAgIHRoaXMuX2RlTG9jYWxSb290ID0gZGVSb290O1xuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyID0gZGVQaWNrZXI7XG4gICAgdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIuc2V0QXR0cmlidXRlKFwicGlja2VyXCIsIDEpOyAvL2RlYnVnXG4gICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9kZUxvY2FsUm9vdCk7XG5cblxuICAgIGlmIChkZVRhcmdldCkge1xuICAgICAgICAvL2NhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb20gdGhlIGxvY2FsIHJvb3QgZXguIGZvciB0aGUgaGFuZCBzZXR1cC5iYXNlXG4gICAgICAgIHZhciBpbmxpbmVUcmFuc2Zvcm0gPSBkZVRhcmdldC5zdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIGRlVGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwibm9uZVwiO1xuXG4gICAgICAgIHZhciBickEgPSBkZVRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGJyQiA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldCA9IHtcbiAgICAgICAgICAgIHg6IGJyQS5sZWZ0IC0gYnJCLmxlZnQsXG4gICAgICAgICAgICB5OiBickEudG9wIC0gYnJCLnRvcCxcbiAgICAgICAgICAgIHc6IGJyQS53aWR0aCxcbiAgICAgICAgICAgIGg6IGJyQS5oZWlnaHQgfTtcblxuICAgICAgICBkZVRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBpbmxpbmVUcmFuc2Zvcm07XG4gICAgfVxuXG5cbiAgICB0cmFuc2Zvcm1lZHMuZm9yRWFjaChmdW5jdGlvbiAocmVnKSB7XG4gICAgICAgIHJlZy5kZS5zdHlsZS50cmFuc2Zvcm0gPSByZWcuaW5saW5lVHJhbnNmb3JtO1xuICAgIH0pO1xuICAgIHRyYW5zZm9ybWVkcy5sZW5ndGggPSAwO1xuXG4gICAgcmV0dXJuIHJldDtcblxuXG4gICAgZnVuY3Rpb24gd2Fsa0JhY2soZGUpIHtcbiAgICAgICAgaWYgKGRlLm5vZGVOYW1lID09PSBcIkJPRFlcIikgcmV0dXJuO1xuXG4gICAgICAgIHZhciByZWcsXG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGUpO1xuXG4gICAgICAgIHRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdhbGtCYWNrKGRlLnBhcmVudE5vZGUpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldChwcm9wTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghcmVnKSB7XG4gICAgICAgICAgICAgICAgcmVnID0ge1xuICAgICAgICAgICAgICAgICAgICBkZTogZGUsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZVRyYW5zZm9ybTogZGUuc3R5bGUudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge31cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRzLnVuc2hpZnQocmVnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGUuc3R5bGUudHJhbnNmb3JtID0gXCJub25lXCI7XG5cbiAgICAgICAgICAgIHJlZy5zdHlsZVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzc2VtYmxlKCkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtUmVnID0gdHJhbnNmb3JtZWRzW2Fzc2VtYmxlSWR4KytdLFxuICAgICAgICAgICAgZGVOZXh0ID0gdHJhbnNmb3JtUmVnID8gdHJhbnNmb3JtUmVnLmRlIDogZGUsXG4gICAgICAgICAgICBuZXh0UG9zID0gZGVOZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHZhciBkZU5ldyA9IGdldERpdigpO1xuICAgICAgICBkZVRvcC5hcHBlbmRDaGlsZChkZU5ldyk7XG4gICAgICAgIGRlVG9wID0gZGVOZXc7XG5cbiAgICAgICAgZGVOZXcuc3R5bGUubGVmdCA9IG5leHRQb3MubGVmdCAtIHBhcmVudFBvcy5sZWZ0ICsgXCJweFwiO1xuICAgICAgICBkZU5ldy5zdHlsZS50b3AgPSBuZXh0UG9zLnRvcCAtIHBhcmVudFBvcy50b3AgKyBcInB4XCI7XG5cbiAgICAgICAgcGFyZW50UG9zID0gbmV4dFBvcztcblxuICAgICAgICBpZiAodHJhbnNmb3JtUmVnKSB7XG4gICAgICAgICAgICAvL2ZvciB0aGUgdHJhbnNmb3JtIGFuZCBwZXJzcGVjdGl2ZSBvcmlnaW5cbiAgICAgICAgICAgIGRlTmV3LnN0eWxlLndpZHRoID0gbmV4dFBvcy53aWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIGRlTmV3LnN0eWxlLmhlaWdodCA9IG5leHRQb3MuaGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0cmFuc2Zvcm1SZWcuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVOZXcuc3R5bGVbcHJvcE5hbWVdID0gdHJhbnNmb3JtUmVnLnN0eWxlW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhc3NlbWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBkaXNhc3NlbWJsZShkZSkge1xuICAgICAgICBkZS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgZGUucmVtb3ZlQXR0cmlidXRlKFwicGlja2VyXCIpOyAvL2RlYnVnXG4gICAgICAgIHRoYXQuX2J1ZmZNb2NrRGl2LnB1c2goZGUpO1xuXG4gICAgICAgIHZhciBjaGlsZCA9IGRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgZGlzYXNzZW1ibGUoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGl2KCkge1xuICAgICAgICB2YXIgZGUgPSB0aGF0Ll9idWZmTW9ja0Rpdi5wb3AoKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZGUuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIGRlLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgIGRlLnNldEF0dHJpYnV0ZShcIm1vY2tcIiwgMSk7IC8vZGVidWdcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxuXG4gICAgLy8gZnVuY3Rpb24gYXNzZW1ibGUoZGUpIHtcblxuICAgIC8vICAgICBpZiAoZGUubm9kZU5hbWUgPT09ICdCT0RZJykgcmV0dXJuO1xuXG4gICAgLy8gICAgIHZhciB0cmFuc2Zvcm1lZCxcbiAgICAvLyAgICAgICAgIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkZSwgbnVsbCksXG4gICAgLy8gICAgICAgICBwb3NpdGlvbiA9ICQoZGUpLnBvc2l0aW9uKCk7XG5cbiAgICAvLyAgICAgaWYgKGRlLm9mZnNldExlZnQpIHtcbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS5sZWZ0ID0gKHBhcnNlSW50KGRlUm9vdC5zdHlsZS5sZWZ0IHx8IDApKVxuICAgIC8vICAgICAgICAgICAgICsgcG9zaXRpb24ubGVmdFxuICAgIC8vICAgICAgICAgICAgIC8qKyBwYXJzZUludChjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JykpKi8gKyAncHgnO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmIChkZS5vZmZzZXRUb3ApIHtcbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS50b3AgPSAocGFyc2VJbnQoZGVSb290LnN0eWxlLnRvcCB8fCAwKSlcbiAgICAvLyAgICAgICAgICAgICArIHBvc2l0aW9uLnRvcFxuICAgIC8vICAgICAgICAgICAgIC8qKyBwYXJzZUludChjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi10b3AnKSkqLyArICdweCc7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBpZiAoZGUuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgLy8gICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgLy8gICAgICAgICBkZVJvb3Quc3R5bGUudHJhbnNmb3JtID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgIC8vICAgICAgICAgLy9mb3IgdGhlIHRyYW5zZm9ybS1vcmlnaW5cbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS53aWR0aCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUud2lkdGggfHwgMCkgKyBkZS5vZmZzZXRXaWR0aCkgKyAncHgnO1xuICAgIC8vICAgICAgICAgZGVSb290LnN0eWxlLmhlaWdodCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUuaGVpZ2h0IHx8IDApICsgZGUub2Zmc2V0SGVpZ2h0KSArICdweCc7XG5cbiAgICAvLyAgICAgICAgIGlmIChkZS5zdHlsZS50cmFuc2Zvcm1PcmlnaW4pIHtcbiAgICAvLyAgICAgICAgICAgICBkZVJvb3Quc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gZGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmIChkZS5zdHlsZS5wcmVzcGVjdGl2ZSkge1xuICAgIC8vICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgIC8vICAgICAgICAgZGVSb290LnN0eWxlLnByZXNwZWN0aXZlID0gZGUuc3R5bGUucHJlc3BlY3RpdmU7XG5cbiAgICAvLyAgICAgICAgIGlmIChkZS5zdHlsZS5wcmVzcGVjdGl2ZU9yaWdpbikge1xuICAgIC8vICAgICAgICAgICAgIGRlUm9vdC5zdHlsZS5wcmVzcGVjdGl2ZU9yaWdpbiA9IGRlLnN0eWxlLnByZXNwZWN0aXZlT3JpZ2luO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmIChkZS5zdHlsZS50cmFuc2Zvcm1TdHlsZSkge1xuICAgIC8vICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgIC8vICAgICAgICAgZGVSb290LnN0eWxlLnRyYW5zZm9ybVN0eWxlID0gZGUuc3R5bGUudHJhbnNmb3JtU3R5bGU7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBpZiAodHJhbnNmb3JtZWQpIHtcblxuICAgIC8vICAgICAgICAgdmFyIHBhcmVudCA9IGdldERpdigpO1xuICAgIC8vICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRlUm9vdCk7XG4gICAgLy8gICAgICAgICBkZVJvb3QgPSBwYXJlbnQ7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBhc3NlbWJsZShkZS5wYXJlbnROb2RlKTtcbiAgICAvLyB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gbmFzdHlMb2NhbDJHbG9iYWwobVBvcywgZGVQaWNrZXIpIHtcbiAgICB2YXIgdHdlYWtEaXN0ID0gMTI4LFxuXG4gICAgLy8gdHdlYWtEaXN0U3RlcCA9IDAsXG4gICAgdHdlYWtSYWQgPSBNYXRoLlBJIC8gMixcbiAgICAgICAgZGlzdCA9IHR3ZWFrRGlzdCAqIDIsXG4gICAgICAgIHJhZCA9IDAsXG4gICAgICAgIG51bGxQb3MgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgZ2xvYmFsTnVsbFBvcyA9IEwyRyhudWxsUG9zKSxcbiAgICAgICAgZ2xvYmFsUmFkID0gZ2V0UmFkKGdsb2JhbE51bGxQb3MsIG1Qb3MpLFxuICAgICAgICBnbG9iYWxEaXN0ID0gcG9zRGlzdChnbG9iYWxOdWxsUG9zLCBtUG9zKTtcblxuICAgIHdoaWxlICh0d2Vha1JhZCA+IDAuMDAwMDAxKSB7XG4gICAgICAgIHZhciBnbG9iYWxUZXN0UmFkID0gZ2V0UmFkKG1Qb3MsIEwyRyhSYWQyUG9zKHJhZCwgdHdlYWtEaXN0KSkpO1xuXG4gICAgICAgIGlmIChyYWREaWZmKGdsb2JhbFJhZCwgZ2xvYmFsVGVzdFJhZCkgPCAwKSB7XG4gICAgICAgICAgICByYWQgKz0gdHdlYWtSYWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYWQgLT0gdHdlYWtSYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0d2Vha1JhZCAvPSAyO1xuICAgIH1cblxuXG4gICAgd2hpbGUgKHBvc0Rpc3QoZ2xvYmFsTnVsbFBvcywgTDJHKFJhZDJQb3MocmFkLCBkaXN0ICsgMiAqIHR3ZWFrRGlzdCkpKSA8IGdsb2JhbERpc3QgJiYgZGlzdCA8IHR3ZWFrRGlzdCAqIDY0KSB7XG4gICAgICAgIGRpc3QgKz0gNCAqIHR3ZWFrRGlzdDtcbiAgICB9XG5cbiAgICB3aGlsZSAodHdlYWtEaXN0ID4gMSkge1xuICAgICAgICBpZiAocG9zRGlzdChnbG9iYWxOdWxsUG9zLCBMMkcoUmFkMlBvcyhyYWQsIGRpc3QpKSkgPCBnbG9iYWxEaXN0KSB7XG4gICAgICAgICAgICBkaXN0ICs9IHR3ZWFrRGlzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3QgLT0gdHdlYWtEaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdHdlYWtEaXN0IC89IDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJhZDJQb3MocmFkLCBkaXN0KTtcblxuXG5cblxuICAgIC8vIGZ1bmN0aW9uIGNsb3Nlc3RSYWQoYVJhZCwgYlJhZCkge1xuICAgIC8vXG4gICAgLy8gICAgIHZhciBhUG9zID0gTDJHKFJhZDJQb3MoYVJhZCwgdHdlYWtEaXN0KSksXG4gICAgLy8gICAgICAgICBiUG9zID0gTDJHKFJhZDJQb3MoYlJhZCwgdHdlYWtEaXN0KSksXG4gICAgLy8gICAgICAgICBnQVJhZCA9IGdldFJhZChnbG9iYWxOdWxsUG9zLCBhUG9zKSxcbiAgICAvLyAgICAgICAgIGdCUmFkID0gZ2V0UmFkKGdsb2JhbE51bGxQb3MsIGJQb3MpO1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyAgICAgJCgnI3MwJykuY3NzKCdsZWZ0JywgYVBvcy54KTtcbiAgICAvLyAgICAgJCgnI3MwJykuY3NzKCd0b3AnLCBhUG9zLnkpO1xuICAgIC8vICAgICAkKCcjczEnKS5jc3MoJ2xlZnQnLCBiUG9zLngpO1xuICAgIC8vICAgICAkKCcjczEnKS5jc3MoJ3RvcCcsIGJQb3MueSk7XG4gICAgLy9cbiAgICAvLyAgIHJldHVybiByYWREaWZmKGdBUmFkLCBnbG9iYWxSYWQpIDwgcmFkRGlmZihnQlJhZCwgZ2xvYmFsUmFkKSA/IGFSYWQgOiBiUmFkO1xuICAgIC8vIH1cblxuICAgIGZ1bmN0aW9uIGdldFJhZChhUG9zLCBiUG9zKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKGJQb3MueSAtIGFQb3MueSwgYlBvcy54IC0gYVBvcy54KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBSYWQyUG9zKHJhZCwgZGlzdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5jb3MocmFkKSAqIGRpc3QsXG4gICAgICAgICAgICB5OiBNYXRoLnNpbihyYWQpICogZGlzdCB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEwyRyhwb3MpIHtcbiAgICAgICAgZGVQaWNrZXIuc3R5bGUubGVmdCA9IHBvcy54ICsgXCJweFwiO1xuICAgICAgICBkZVBpY2tlci5zdHlsZS50b3AgPSBwb3MueSArIFwicHhcIjtcblxuICAgICAgICB2YXIgYnIgPSBkZVBpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4geyB4OiBici5sZWZ0LCB5OiBici50b3AgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYWREaWZmKGFSYWQsIGJSYWQpIHtcbiAgICAgICAgYlJhZCAtPSBhUmFkO1xuICAgICAgICBiUmFkICU9IE1hdGguUEkgKiAyO1xuXG4gICAgICAgIGlmIChiUmFkID4gTWF0aC5QSSkgYlJhZCAtPSAyICogTWF0aC5QSTtlbHNlIGlmIChiUmFkIDwgLU1hdGguUEkpIGJSYWQgKz0gMiAqIE1hdGguUEk7XG5cbiAgICAgICAgcmV0dXJuIGJSYWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zRGlzdChhUCwgYlApIHtcbiAgICAgICAgdmFyIGR4ID0gYVAueCAtIGJQLngsXG4gICAgICAgICAgICBkeSA9IGFQLnkgLSBiUC55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIE1PVVNFU1RBVEVTID0ge1xuICAgIG1vdmU6IFwibW92ZVwiLFxuICAgIFwiMTAwMFwiOiBcIm5zLXJlc2l6ZVwiLFxuICAgIFwiMTEwMFwiOiBcIm5lc3ctcmVzaXplXCIsXG4gICAgXCIwMTAwXCI6IFwiZXctcmVzaXplXCIsXG4gICAgXCIwMTEwXCI6IFwibndzZS1yZXNpemVcIixcbiAgICBcIjAwMTBcIjogXCJucy1yZXNpemVcIixcbiAgICBcIjAwMTFcIjogXCJuZXN3LXJlc2l6ZVwiLFxuICAgIFwiMDAwMVwiOiBcImV3LXJlc2l6ZVwiLFxuICAgIFwiMTAwMVwiOiBcIm53c2UtcmVzaXplXCIgfTtcblxudmFyIElOSVRfUEFSQU1TID0ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3OiAwLFxuICAgIGg6IDAgfTtcblxuXG5mdW5jdGlvbiBCb3hlcigpIHtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3BhcmFtcyA9IF8uY2xvbmUoSU5JVF9QQVJBTVMpO1xuXG4gICAgdGhpcy5fb25EcmFnID0gdGhpcy5fb25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yYWZPbkRyYWcgPSB0aGlzLl9yYWZPbkRyYWcuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk92ZXJIaXRib3ggPSB0aGlzLl9vbk92ZXJIaXRib3guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk91dEhpdGJveCA9IHRoaXMuX29uT3V0SGl0Ym94LmJpbmQodGhpcyk7XG59XG5cbkJveGVyLmlkID0gXCJib3hlclwiO1xuXG5pbmhlcml0cyhCb3hlciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQm94ZXIucHJvdG90eXBlO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlR3JhcGhpY3MoKTtcbiAgICB9XG5cbiAgICBfLmV4dGVuZCh0aGlzLl9wYXJhbXMsIElOSVRfUEFSQU1TLCBvcHQucGFyYW1zKTtcbiAgICB0aGlzLl9yZW5kZXJIYW5kbGVyKCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUJveC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cblxuXG5cblxucC5fb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2lzSGFuZGxlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG5cbiAgICB0aGlzLl9tZFBvcyA9IHtcbiAgICAgICAgbXg6IGUuY2xpZW50WCxcbiAgICAgICAgbXk6IGUuY2xpZW50WSxcbiAgICAgICAgcGFyYW1zOiBfLmNsb25lKHRoaXMuX3BhcmFtcykgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uRHJhZyk7XG59O1xuXG5wLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCF0aGlzLl9pc0hhbmRsZSAmJiB0aGlzLl9pc092ZXJIaXRib3gpIHtcbiAgICAgICAgdGhpcy5fc2V0RmluZ2VyKGUpO1xuICAgIH1cbn07XG5cbnAuX29uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbkRyYWcpO1xuXG4gICAgaWYgKHRoaXMuX3JhZk9uRHJhZ1JhZklkKSB7XG4gICAgICAgIHRoaXMuX3JhZk9uRHJhZygpO1xuICAgIH1cblxuICAgIHRoaXMuX2lzSGFuZGxlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xufTtcblxucC5fb25PdmVySGl0Ym94ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IHRydWU7XG59O1xuXG5wLl9vbk91dEhpdGJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc092ZXJIaXRib3ggPSBmYWxzZTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fcmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zO1xuXG4gICAgdGhpcy5fZGVCb3guc3R5bGUubGVmdCA9IHBhcmFtcy54ICsgXCJweFwiO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLnRvcCA9IHBhcmFtcy55ICsgXCJweFwiO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLndpZHRoID0gcGFyYW1zLncgKyBcInB4XCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuaGVpZ2h0ID0gcGFyYW1zLmggKyBcInB4XCI7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgIHRoaXMuX29uRHJhZ01lID0gZTtcblxuICAgIGlmICghdGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcbiAgICAgICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmT25EcmFnKTtcbiAgICB9XG59O1xuXG5wLl9yYWZPbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSB0aGlzLl9vbkRyYWdNZTtcbiAgICB0aGlzLl9vbkRyYWdNZSA9IHVuZGVmaW5lZDtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yYWZPbkRyYWdSYWZJZCk7XG4gICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBtZCA9IHRoaXMuX21kUG9zLFxuICAgICAgICBmaW5nZXIgPSB0aGlzLl9maW5nZXIsXG4gICAgICAgIG14ID0gZS5jbGllbnRYLFxuICAgICAgICBteSA9IGUuY2xpZW50WSxcbiAgICAgICAgZHggPSBteCAtIG1kLm14LFxuICAgICAgICBkeSA9IG15IC0gbWQubXksXG4gICAgICAgIGNoYW5nZSA9IHt9O1xuXG5cblxuICAgIGlmIChmaW5nZXIgPT09IFwibW92ZVwiKSB7XG4gICAgICAgIGNoYW5nZS54ID0gbWQucGFyYW1zLnggKyBkeDtcbiAgICAgICAgY2hhbmdlLnkgPSBtZC5wYXJhbXMueSArIGR5O1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDApID09PSBcIjFcIikge1xuICAgICAgICBjaGFuZ2UueSA9IG1kLnBhcmFtcy55ICsgZHk7XG4gICAgICAgIGNoYW5nZS5oID0gbWQucGFyYW1zLmggLSBkeTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgxKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgY2hhbmdlLncgPSBtZC5wYXJhbXMudyArIGR4O1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDIpID09PSBcIjFcIikge1xuICAgICAgICBjaGFuZ2UuaCA9IG1kLnBhcmFtcy5oICsgZHk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMykgPT09IFwiMVwiKSB7XG4gICAgICAgIGNoYW5nZS54ID0gbWQucGFyYW1zLnggKyBkeDtcbiAgICAgICAgY2hhbmdlLncgPSBtZC5wYXJhbXMudyAtIGR4O1xuICAgIH1cblxuXG5cbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgY2hhbmdlLCBcInRyYW5zZm9ybVwiKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fc2V0RmluZ2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBteCA9IGUuY2xpZW50WCxcbiAgICAgICAgbXkgPSBlLmNsaWVudFksXG4gICAgICAgIGRpZmYgPSA2LFxuICAgICAgICBkVG9wID0gTWF0aC5hYnMocGFyYW1zLnkgLSBteSksXG4gICAgICAgIGRSaWdodCA9IE1hdGguYWJzKHBhcmFtcy54ICsgcGFyYW1zLncgLSBteCksXG4gICAgICAgIGRCb3R0b20gPSBNYXRoLmFicyhwYXJhbXMueSArIHBhcmFtcy5oIC0gbXkpLFxuICAgICAgICBkTGVmdCA9IE1hdGguYWJzKHBhcmFtcy54IC0gbXgpLFxuICAgICAgICB0b3AgPSBkVG9wIDwgZGlmZixcbiAgICAgICAgcmlnaHQgPSBkUmlnaHQgPCBkaWZmLFxuICAgICAgICBib3R0b20gPSBkQm90dG9tIDwgZGlmZixcbiAgICAgICAgbGVmdCA9IGRMZWZ0IDwgZGlmZixcbiAgICAgICAgaW5zaWRlID0gbXggPiBwYXJhbXMueCAmJiBteCA8IHBhcmFtcy54ICsgcGFyYW1zLncgJiYgbXkgPiBwYXJhbXMueSAmJiBteSA8IHBhcmFtcy55ICsgcGFyYW1zLmg7XG5cbiAgICBpZiAocGFyYW1zLncgKiBwYXJhbXMuc3ggPCBkaWZmICogMiAmJiBpbnNpZGUpIHtcbiAgICAgICAgbGVmdCA9IGZhbHNlO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaCAqIHBhcmFtcy5zeSA8IGRpZmYgKiAyICYmIGluc2lkZSkge1xuICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgYm90dG9tID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRvcCB8fCByaWdodCB8fCBib3R0b20gfHwgbGVmdCkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSAoXCIwMDBcIiArICh0b3AgKiAxMDAwICsgcmlnaHQgKiAxMDAgKyBib3R0b20gKiAxMCArIGxlZnQgKiAxKSkuc3Vic3RyKC00KTtcbiAgICB9IGVsc2UgaWYgKGluc2lkZSkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSBcIm1vdmVcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvcihNT1VTRVNUQVRFU1t0aGlzLl9maW5nZXJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3IoXCJhdXRvXCIpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEN1cnNvciA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICB0aGlzLl9kZUJveC5zdHlsZS5jdXJzb3IgPSBjdXJzb3I7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbn07XG5cblxuXG5cblxuXG5cbnAuY3JlYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgdGhpcy5fZGVGdWxsSGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRnVsbEhpdCk7XG5cbiAgICB0aGlzLl9kZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuYm9yZGVyID0gXCJzb2xpZCAxcHggcmVkXCI7XG4gICAgdGhpcy5fZGVCb3guYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5fb25PdmVySGl0Ym94KTtcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk91dEhpdGJveCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVCb3gpO1xuXG5cbiAgICB2YXIgb25GaXRzdE1vdmUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9vbk92ZXJIaXRib3goKTtcbiAgICAgICAgdGhpcy5fZGVCb3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbkZpdHN0TW92ZSk7XG4gICAgfSkuYmluZCh0aGlzKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hlcjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIE1PVVNFU1RBVEVTID0ge1xuICAgIG1vdmU6IFwibW92ZVwiLFxuICAgIHJvdGF0ZTogXCItd2Via2l0LWdyYWJcIixcbiAgICBvcmlnaW46IFwiY3Jvc3NoYWlyXCIsXG4gICAgXCIxMDAwXCI6IFwibnMtcmVzaXplXCIsXG4gICAgXCIxMTAwXCI6IFwibmVzdy1yZXNpemVcIixcbiAgICBcIjAxMDBcIjogXCJldy1yZXNpemVcIixcbiAgICBcIjAxMTBcIjogXCJud3NlLXJlc2l6ZVwiLFxuICAgIFwiMDAxMFwiOiBcIm5zLXJlc2l6ZVwiLFxuICAgIFwiMDAxMVwiOiBcIm5lc3ctcmVzaXplXCIsXG4gICAgXCIwMDAxXCI6IFwiZXctcmVzaXplXCIsXG4gICAgXCIxMDAxXCI6IFwibndzZS1yZXNpemVcIiB9O1xuXG52YXIgSU5JVF9QQVJBTVMgPSB7XG4gICAgdHg6IDAsIHR5OiAwLFxuICAgIHN4OiAxLCBzeTogMSxcbiAgICByejogMCxcbiAgICBveDogMC41LCBveTogMC41IH07XG5cbnZhciBJTklUX0JBU0UgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHc6IDAsXG4gICAgaDogMCB9O1xuXG52YXIgaGludHMgPSB7XG4gICAgc2NhbGU6IFtcInNoaWZ0IC0ga2VlcCBwcm9wb3J0aW9uXCIsIFwiYWx0IC0gZnJvbSB0aGUgb3Bwb3NpdGUgc2lkZVwiXSxcbiAgICByb3RhdGU6IFtcInNoaWZ0IC0gMTXCsCBzdGVwc1wiXSxcbiAgICBtb3ZlOiBbXCJzaGlmdCAtIG1vdmUgaW4gb25lIGRpbWVuc2lvblwiXSB9O1xuXG5cbmZ1bmN0aW9uIFRyYW5zZm9ybWVyKHRyYW5zaGFuZCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fdGggPSB0cmFuc2hhbmQ7XG4gICAgdGhpcy5fcGFyYW1zID0gXy5jbG9uZShJTklUX1BBUkFNUyk7XG4gICAgdGhpcy5fYmFzZSA9IF8uY2xvbmUoSU5JVF9CQVNFKTtcbiAgICB0aGlzLl9wb2ludHMgPSBbe30sIHt9LCB7fSwge31dO1xuICAgIHRoaXMuX3BPcmlnaW4gPSB7fTtcbiAgICB0aGlzLl9vcmlnaW5SYWRpdXMgPSA2O1xuICAgIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgPSAxNjtcblxuXG4gICAgdGhpcy5fb25EcmFnID0gdGhpcy5fb25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yYWZPbkRyYWcgPSB0aGlzLl9yYWZPbkRyYWcuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk92ZXJIaXRib3ggPSB0aGlzLl9vbk92ZXJIaXRib3guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk91dEhpdGJveCA9IHRoaXMuX29uT3V0SGl0Ym94LmJpbmQodGhpcyk7XG59XG5cblxuaW5oZXJpdHMoVHJhbnNmb3JtZXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRyYW5zZm9ybWVyLnByb3RvdHlwZTtcblxuVHJhbnNmb3JtZXIuaWQgPSBcInRyYW5zZm9ybWVyXCI7XG5wLnJlbmRlckxldmVsID0gMTtcblxucC5zZXR1cCA9IGZ1bmN0aW9uIChvcHQpIHtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgXy5leHRlbmQodGhpcy5fcGFyYW1zLCBJTklUX1BBUkFNUywgb3B0LnBhcmFtcyk7XG4gICAgXy5leHRlbmQodGhpcy5fYmFzZSwgSU5JVF9CQVNFLCBvcHQuYmFzZSk7XG4gICAgdGhpcy5fcmVmcmVzaFBvaW50cygpO1xuICAgIHRoaXMuX3JlbmRlckhhbmRsZXIoKTtcbiAgICB0aGlzLl9yZWZyZXNoSGl0Ym94KCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cblxuXG5cblxucC5fb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2lzSGFuZGxlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG5cbiAgICB0aGlzLl9tZFBvcyA9IHtcbiAgICAgICAgbTogdGhpcy5fdGguRzJMKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSksXG4gICAgICAgIHBhcmFtczogXy5jbG9uZURlZXAodGhpcy5fcGFyYW1zKSxcbiAgICAgICAgcG9pbnRzOiBfLmNsb25lRGVlcCh0aGlzLl9wb2ludHMpLFxuICAgICAgICBwT3JpZ2luOiBfLmNsb25lRGVlcCh0aGlzLl9wT3JpZ2luKVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbkRyYWcpO1xufTtcblxucC5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5faXNIYW5kbGUgJiYgdGhpcy5faXNPdmVySGl0Ym94KSB7XG4gICAgICAgIHRoaXMuX3NldEZpbmdlcihlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl90aC5jdXJzb3JIaW50LnNldEhpbnRzKG51bGwpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jdXJzb3JGdW5jKSB7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvcih0aGlzLl9jdXJzb3JGdW5jKGUuY2xpZW50WCwgZS5jbGllbnRZKSk7XG4gICAgfVxufTtcblxucC5fb25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uRHJhZyk7XG5cbiAgICBpZiAodGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcbiAgICAgICAgdGhpcy5fcmFmT25EcmFnKCk7XG4gICAgfVxuXG4gICAgdGhpcy5faXNIYW5kbGUgPSBmYWxzZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG59O1xuXG5wLl9vbk92ZXJIaXRib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faXNPdmVySGl0Ym94ID0gdHJ1ZTtcbn07XG5cbnAuX29uT3V0SGl0Ym94ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IGZhbHNlO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoUG9pbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBiYXNlID0gXy5jbG9uZSh0aGlzLl9iYXNlKSxcbiAgICAgICAgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBwID0gdGhpcy5fcG9pbnRzLFxuICAgICAgICBwbyA9IHRoaXMuX3BPcmlnaW47XG5cbiAgICBiYXNlLnggKz0gcGFyYW1zLnR4O1xuICAgIGJhc2UueSArPSBwYXJhbXMudHk7XG5cbiAgICBwby54ID0gYmFzZS54ICsgYmFzZS53ICogcGFyYW1zLm94O1xuICAgIHBvLnkgPSBiYXNlLnkgKyBiYXNlLmggKiBwYXJhbXMub3k7XG5cbiAgICB2YXIgdG94ID0gYmFzZS54ICsgcGFyYW1zLm94ICogYmFzZS53LFxuICAgICAgICB0b3kgPSBiYXNlLnkgKyBwYXJhbXMub3kgKiBiYXNlLmg7XG5cbiAgICB0KHBbMF0sIGJhc2UueCwgYmFzZS55KTtcbiAgICB0KHBbMV0sIGJhc2UueCArIGJhc2UudywgYmFzZS55KTtcbiAgICB0KHBbMl0sIGJhc2UueCArIGJhc2UudywgYmFzZS55ICsgYmFzZS5oKTtcbiAgICB0KHBbM10sIGJhc2UueCwgYmFzZS55ICsgYmFzZS5oKTtcblxuICAgIGZ1bmN0aW9uIHQocCwgeCwgeSkge1xuICAgICAgICB2YXIgZHggPSAoeCAtIHRveCkgKiBwYXJhbXMuc3gsXG4gICAgICAgICAgICBkeSA9ICh5IC0gdG95KSAqIHBhcmFtcy5zeSxcbiAgICAgICAgICAgIGQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpLFxuICAgICAgICAgICAgcmFkID0gTWF0aC5hdGFuMihkeSwgZHgpICsgcGFyYW1zLnJ6LFxuICAgICAgICAgICAgbnggPSBNYXRoLmNvcyhyYWQpLFxuICAgICAgICAgICAgbnkgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgICAgICAgcnggPSBkICogbngsXG4gICAgICAgICAgICByeSA9IGQgKiBueSxcbiAgICAgICAgICAgIHB4ID0gdG94ICsgcngsXG4gICAgICAgICAgICBweSA9IHRveSArIHJ5O1xuXG4gICAgICAgIHAueCA9IHB4O1xuICAgICAgICBwLnkgPSBweTtcbiAgICB9XG59O1xuXG5cblxucC5fcmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcCA9IHRoaXMuX3BvaW50cy5tYXAodGhpcy5fdGguTDJHLCB0aGlzLl90aCksXG4gICAgICAgIHBvID0gdGhpcy5fdGguTDJHKHRoaXMuX3BPcmlnaW4pLFxuICAgICAgICBjID0gdGhpcy5fZGVDYW52YXMsXG4gICAgICAgIG9yID0gdGhpcy5fb3JpZ2luUmFkaXVzLFxuICAgICAgICBjdHggPSBjLmdldENvbnRleHQoXCIyZFwiKSxcbiAgICAgICAgbWFyZ2luID0gNyxcbiAgICAgICAgbWluWCA9IE1hdGgubWluKHBbMF0ueCwgcFsxXS54LCBwWzJdLngsIHBbM10ueCwgcG8ueCksXG4gICAgICAgIG1heFggPSBNYXRoLm1heChwWzBdLngsIHBbMV0ueCwgcFsyXS54LCBwWzNdLngsIHBvLngpLFxuICAgICAgICBtaW5ZID0gTWF0aC5taW4ocFswXS55LCBwWzFdLnksIHBbMl0ueSwgcFszXS55LCBwby55KSxcbiAgICAgICAgbWF4WSA9IE1hdGgubWF4KHBbMF0ueSwgcFsxXS55LCBwWzJdLnksIHBbM10ueSwgcG8ueSk7XG5cbiAgICBjLnN0eWxlLmxlZnQgPSBtaW5YIC0gbWFyZ2luICsgXCJweFwiO1xuICAgIGMuc3R5bGUudG9wID0gbWluWSAtIG1hcmdpbiArIFwicHhcIjtcbiAgICBjLndpZHRoID0gbWF4WCAtIG1pblggKyBtYXJnaW4gKiAyO1xuICAgIGMuaGVpZ2h0ID0gbWF4WSAtIG1pblkgKyBtYXJnaW4gKiAyO1xuXG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKG1hcmdpbiAtIG1pblgsIG1hcmdpbiAtIG1pblkpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHBbMF0ueCwgcFswXS55KTtcbiAgICBjdHgubGluZVRvKHBbMV0ueCwgcFsxXS55KTtcbiAgICBjdHgubGluZVRvKHBbMl0ueCwgcFsyXS55KTtcbiAgICBjdHgubGluZVRvKHBbM10ueCwgcFszXS55KTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICBjdHgubW92ZVRvKHBvLnggLSBvciwgcG8ueSk7XG4gICAgY3R4LmxpbmVUbyhwby54ICsgb3IsIHBvLnkpO1xuICAgIGN0eC5tb3ZlVG8ocG8ueCwgcG8ueSAtIG9yKTtcbiAgICBjdHgubGluZVRvKHBvLngsIHBvLnkgKyBvcik7XG5cblxuICAgIC8vIGN0eC5zaGFkb3dDb2xvciA9ICcjZjAwJztcbiAgICAvLyBjdHguc2hhZG93Qmx1ciA9IDM7XG4gICAgLy8gY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgIC8vIGN0eC5zaGFkb3dPZmZzZXRZID0gMDtcblxuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzRmMlwiO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuXG5cblxuICAgIC8vaGl0Ym94ZXNcblxuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmxlZnQgPSBwby54IC0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCArIFwicHhcIjtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5zdHlsZS50b3AgPSBwby55IC0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCArIFwicHhcIjtcblxuICAgIHZhciBoYnAgPSBcIlwiO1xuICAgIGhicCArPSBwWzBdLnggKyBcIixcIiArIHBbMF0ueSArIFwiIFwiO1xuICAgIGhicCArPSBwWzFdLnggKyBcIixcIiArIHBbMV0ueSArIFwiIFwiO1xuICAgIGhicCArPSBwWzJdLnggKyBcIixcIiArIHBbMl0ueSArIFwiIFwiO1xuICAgIGhicCArPSBwWzNdLnggKyBcIixcIiArIHBbM10ueTtcbiAgICB0aGlzLl9kZUhpdGJveC5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgaGJwKTtcbn07XG5cbnAuX3JlZnJlc2hIaXRib3ggPSBmdW5jdGlvbiAoKSB7fTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX29uRHJhZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdGhpcy5fb25EcmFnTWUgPSBlO1xuXG4gICAgaWYgKCF0aGlzLl9yYWZPbkRyYWdSYWZJZCkge1xuICAgICAgICB0aGlzLl9yYWZPbkRyYWdSYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9yYWZPbkRyYWcpO1xuICAgIH1cbn07XG5cbnAuX3JhZk9uRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9IHRoaXMuX29uRHJhZ01lO1xuICAgIHRoaXMuX29uRHJhZ01lID0gdW5kZWZpbmVkO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JhZk9uRHJhZ1JhZklkKTtcbiAgICB0aGlzLl9yYWZPbkRyYWdSYWZJZCA9IHVuZGVmaW5lZDtcblxuICAgIHZhciBwYXJhbXMgPSB0aGlzLl9wYXJhbXMsXG4gICAgICAgIGJhc2UgPSB0aGlzLl9iYXNlLFxuICAgICAgICBwT3JpZ2luID0gdGhpcy5fcE9yaWdpbixcbiAgICAgICAgbWQgPSB0aGlzLl9tZFBvcyxcbiAgICAgICAgZmluZ2VyID0gdGhpcy5fZmluZ2VyLFxuICAgICAgICBtID0gdGhpcy5fdGguRzJMKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSksXG4gICAgICAgIGR4ID0gbS54IC0gbWQubS54LFxuICAgICAgICBkeSA9IG0ueSAtIG1kLm0ueSxcbiAgICAgICAgYWx0ID0gZS5hbHRLZXksXG4gICAgICAgIHNoaWZ0ID0gZS5zaGlmdEtleSxcbiAgICAgICAgY2hhbmdlID0ge307XG5cbiAgICBpZiAoZmluZ2VyID09PSBcIm9yaWdpblwiKSB7XG4gICAgICAgIHNldE9yaWdpbigpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIgPT09IFwibW92ZVwiKSB7XG4gICAgICAgIHNldFRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDApID09PSBcIjFcIikge1xuICAgICAgICBzZXRTY2FsZSgtTWF0aC5QSSAvIDIsIFwic3lcIiwgLTEpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDEpID09PSBcIjFcIikge1xuICAgICAgICBzZXRTY2FsZSgwLCBcInN4XCIsIDEpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDIpID09PSBcIjFcIikge1xuICAgICAgICBzZXRTY2FsZShNYXRoLlBJIC8gMiwgXCJzeVwiLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgzKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgc2V0U2NhbGUoTWF0aC5QSSwgXCJzeFwiLCAtMSk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlciA9PT0gXCJyb3RhdGVcIikge1xuICAgICAgICBzZXRSb3RhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChzaGlmdCAmJiBcInN4XCIgaW4gY2hhbmdlICYmIFwic3lcIiBpbiBjaGFuZ2UpIHtcbiAgICAgICAgZml4UHJvcG9ydGlvbigpO1xuICAgIH1cblxuXG4gICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIGNoYW5nZSwgXCJ0cmFuc2Zvcm1cIik7XG5cblxuXG5cblxuICAgIGZ1bmN0aW9uIHNldFNjYWxlKHIsIHNOLCB3YXkpIHtcbiAgICAgICAgdmFyIHJhZCA9IHIgKyBtZC5wYXJhbXMucnosXG4gICAgICAgICAgICBtZERpc3QgPSBkaXN0VG9Qb2ludEluQW5nbGUobWQucE9yaWdpbiwgbWQubSwgcmFkKSxcbiAgICAgICAgICAgIGRyYWdEaXN0ID0gZGlzdFRvUG9pbnRJbkFuZ2xlKG1kLnBPcmlnaW4sIG0sIHJhZCksXG4gICAgICAgICAgICBzY2FsZSA9IGRyYWdEaXN0IC8gbWREaXN0ICogbWQucGFyYW1zW3NOXTtcblxuICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICB2YXIgZXMgPSAoc2NhbGUgLSBtZC5wYXJhbXNbc05dKSAvIDIsXG4gICAgICAgICAgICAgICAgdE4gPSBcInRcIiArIHNOLmNoYXJBdCgxKSxcbiAgICAgICAgICAgICAgICBkTiA9IHNOLmNoYXJBdCgxKSA9PT0gXCJ4XCIgPyBcIndcIiA6IFwiaFwiO1xuXG4gICAgICAgICAgICBzY2FsZSAtPSBlcztcbiAgICAgICAgICAgIGNoYW5nZVt0Tl0gPSBwYXJhbXNbdE5dID0gbWQucGFyYW1zW3ROXSArIGJhc2VbZE5dICogZXMgLyAyICogd2F5O1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlW3NOXSA9IHBhcmFtc1tzTl0gPSBzY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhQcm9wb3J0aW9uKCkge1xuICAgICAgICB2YXIgbXggPSBtLnggLSBwT3JpZ2luLngsXG4gICAgICAgICAgICBteSA9IG0ueSAtIHBPcmlnaW4ueSxcbiAgICAgICAgICAgIG1yID0gTWF0aC5hYnMocmFkRGlmZihwYXJhbXMucnosIE1hdGguYXRhbjIobXksIG14KSkpLFxuICAgICAgICAgICAgaXNWZXJ0aWNhbCA9IG1yID4gTWF0aC5QSSAvIDQgJiYgbXIgPCBNYXRoLlBJIC8gNCAqIDMsXG4gICAgICAgICAgICBzcHggPSBwYXJhbXMuc3ggLyBtZC5wYXJhbXMuc3gsXG4gICAgICAgICAgICBzcHkgPSBwYXJhbXMuc3kgLyBtZC5wYXJhbXMuc3k7XG5cbiAgICAgICAgc3B4ICo9IHNweCA8IDAgPyAtMSA6IDE7XG4gICAgICAgIHNweSAqPSBzcHkgPCAwID8gLTEgOiAxO1xuXG4gICAgICAgIHZhciBzcCA9IGlzVmVydGljYWwgPyBzcHkgOiBzcHg7XG5cbiAgICAgICAgY2hhbmdlLnN4ID0gcGFyYW1zLnN4ID0gbWQucGFyYW1zLnN4ICogc3A7XG4gICAgICAgIGNoYW5nZS5zeSA9IHBhcmFtcy5zeSA9IG1kLnBhcmFtcy5zeSAqIHNwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFJvdGF0aW9uKCkge1xuICAgICAgICB2YXIgbWR4ID0gbWQubS54IC0gcE9yaWdpbi54LFxuICAgICAgICAgICAgbWR5ID0gbWQubS55IC0gcE9yaWdpbi55LFxuICAgICAgICAgICAgbWRyID0gTWF0aC5hdGFuMihtZHksIG1keCksXG4gICAgICAgICAgICBteCA9IG0ueCAtIHBPcmlnaW4ueCxcbiAgICAgICAgICAgIG15ID0gbS55IC0gcE9yaWdpbi55LFxuICAgICAgICAgICAgbXIgPSBNYXRoLmF0YW4yKG15LCBteCksXG4gICAgICAgICAgICByID0gbXIgLSBtZHI7XG5cbiAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICByID0gTWF0aC5mbG9vcihyIC8gKE1hdGguUEkgLyAxMikpICogKE1hdGguUEkgLyAxMik7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2UucnogPSBwYXJhbXMucnogPSBtZC5wYXJhbXMucnogKyByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpID4gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlLnR4ID0gcGFyYW1zLnR4ID0gbWQucGFyYW1zLnR4ICsgZHg7XG4gICAgICAgICAgICAgICAgY2hhbmdlLnR5ID0gcGFyYW1zLnR5ID0gbWQucGFyYW1zLnR5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2UudHggPSBwYXJhbXMudHggPSBtZC5wYXJhbXMudHg7XG4gICAgICAgICAgICAgICAgY2hhbmdlLnR5ID0gcGFyYW1zLnR5ID0gbWQucGFyYW1zLnR5ICsgZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2UudHggPSBwYXJhbXMudHggPSBtZC5wYXJhbXMudHggKyBkeDtcbiAgICAgICAgICAgIGNoYW5nZS50eSA9IHBhcmFtcy50eSA9IG1kLnBhcmFtcy50eSArIGR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T3JpZ2luKCkge1xuICAgICAgICB2YXIgbXggPSBtLnggLSBtZC5wT3JpZ2luLngsXG4gICAgICAgICAgICBteSA9IG0ueSAtIG1kLnBPcmlnaW4ueSxcbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQobXggKiBteCArIG15ICogbXkpLFxuICAgICAgICAgICAgciA9IE1hdGguYXRhbjIobXksIG14KSAtIHBhcmFtcy5yeixcbiAgICAgICAgICAgIHggPSBNYXRoLmNvcyhyKSAqIGRpc3QgLyBwYXJhbXMuc3gsXG4gICAgICAgICAgICB5ID0gTWF0aC5zaW4ocikgKiBkaXN0IC8gcGFyYW1zLnN5O1xuXG4gICAgICAgIHggPSBwYXJzZUludCh4ICogMTAwMCkgLyAxMDAwOyAvLz9oYWNrPz9cbiAgICAgICAgeSA9IHBhcnNlSW50KHkgKiAxMDAwKSAvIDEwMDA7XG5cbiAgICAgICAgY2hhbmdlLm94ID0gcGFyYW1zLm94ID0gbWQucGFyYW1zLm94ICsgeCAvIGJhc2UudztcbiAgICAgICAgY2hhbmdlLm95ID0gcGFyYW1zLm95ID0gbWQucGFyYW1zLm95ICsgeSAvIGJhc2UuaDtcbiAgICAgICAgY2hhbmdlLnR4ID0gcGFyYW1zLnR4ID0gbWQucGFyYW1zLnR4ICsgKG14IC0geCk7XG4gICAgICAgIGNoYW5nZS50eSA9IHBhcmFtcy50eSA9IG1kLnBhcmFtcy50eSArIChteSAtIHkpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fc2V0RmluZ2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgYmFzZSA9IHRoaXMuX2Jhc2UsXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgcCA9IHRoaXMuX3BvaW50cyxcbiAgICAgICAgcG8gPSB0aGlzLl9wT3JpZ2luLFxuICAgICAgICBkaWZmID0gMyxcbiAgICAgICAgckRpZmYgPSAxNixcbiAgICAgICAgbSA9IHRoaXMuX3RoLkcyTCh7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pLFxuICAgICAgICBkb3ggPSBwby54IC0gbS54LFxuICAgICAgICBkb3kgPSBwby55IC0gbS55LFxuICAgICAgICBkT3JpZ2luID0gTWF0aC5zcXJ0KGRveCAqIGRveCArIGRveSAqIGRveSksXG4gICAgICAgIGRUb3AgPSBkaXN0VG9TZWdtZW50KG0sIHBbMF0sIHBbMV0pLFxuICAgICAgICBkTGVmdCA9IGRpc3RUb1NlZ21lbnQobSwgcFsxXSwgcFsyXSksXG4gICAgICAgIGRCb3R0b20gPSBkaXN0VG9TZWdtZW50KG0sIHBbMl0sIHBbM10pLFxuICAgICAgICBkUmlnaHQgPSBkaXN0VG9TZWdtZW50KG0sIHBbM10sIHBbMF0pLFxuICAgICAgICB0b3AgPSBkVG9wIDwgZGlmZixcbiAgICAgICAgbGVmdCA9IGRMZWZ0IDwgZGlmZixcbiAgICAgICAgYm90dG9tID0gZEJvdHRvbSA8IGRpZmYsXG4gICAgICAgIHJpZ2h0ID0gZFJpZ2h0IDwgZGlmZixcbiAgICAgICAgaW5zaWRlID0gaXNJbnNpZGUobSwgcCksXG4gICAgICAgIGN1cnNvclNjYWxlO1xuXG4gICAgaWYgKGJhc2UudyAqIHBhcmFtcy5zeCA8IGRpZmYgKiAyICYmIGluc2lkZSkge1xuICAgICAgICBsZWZ0ID0gZmFsc2U7XG4gICAgICAgIHJpZ2h0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGJhc2UuaCAqIHBhcmFtcy5zeSA8IGRpZmYgKiAyICYmIGluc2lkZSkge1xuICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgYm90dG9tID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRPcmlnaW4gPCB0aGlzLl9vcmlnaW5SYWRpdXMpIHtcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gXCJvcmlnaW5cIjtcbiAgICB9IGVsc2UgaWYgKHRvcCB8fCByaWdodCB8fCBib3R0b20gfHwgbGVmdCkge1xuICAgICAgICAvL1RPRE8gaXRzIHNvdWxkIGJlIHRvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICB0aGlzLl9maW5nZXIgPSAoXCIwMDBcIiArICh0b3AgKiAxMDAwICsgbGVmdCAqIDEwMCArIGJvdHRvbSAqIDEwICsgcmlnaHQgKiAxKSkuc3Vic3RyKC00KTtcbiAgICAgICAgY3Vyc29yU2NhbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl90aC5jdXJzb3JIaW50LnNldEhpbnRzKGhpbnRzLnNjYWxlKTtcbiAgICB9IGVsc2UgaWYgKGluc2lkZSkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSBcIm1vdmVcIjtcbiAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhoaW50cy5tb3ZlKTtcbiAgICB9IGVsc2UgaWYgKGRUb3AgPCByRGlmZiB8fCBkUmlnaHQgPCByRGlmZiB8fCBkQm90dG9tIDwgckRpZmYgfHwgZExlZnQgPCByRGlmZiB8fCBkT3JpZ2luIDwgckRpZmYpIHtcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gXCJyb3RhdGVcIjtcbiAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhoaW50cy5yb3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2ZpbmdlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90aC5jdXJzb3JIaW50LnNldEhpbnRzKG51bGwpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9maW5nZXIgPT09IFwicm90YXRlXCIpIHtcbiAgICAgICAgdGhpcy5fY3Vyc29yRnVuYyA9IHRoaXMuX2dldFJvdGF0ZUN1cnNvcjtcbiAgICB9IGVsc2UgaWYgKGN1cnNvclNjYWxlKSB7XG4gICAgICAgIHRoaXMuX2N1cnNvckZ1bmMgPSB0aGlzLl9nZXRTY2FsZUN1cnNvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jdXJzb3JGdW5jID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0aGlzLl9maW5nZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvcihNT1VTRVNUQVRFU1t0aGlzLl9maW5nZXJdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvcihcImF1dG9cIik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9zZXRDdXJzb3IgPSBmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xufTtcblxucC5fZ2V0Um90YXRlQ3Vyc29yID0gZnVuY3Rpb24gKG14LCBteSkge1xuICAgIHZhciBwbyA9IHRoaXMuX3RoLkwyRyh0aGlzLl9wT3JpZ2luKSxcbiAgICAgICAgciA9IE1hdGguYXRhbjIobXkgLSBwby55LCBteCAtIHBvLngpIC8gTWF0aC5QSSAqIDE4MDtcblxuICAgIHJldHVybiBcInVybCgnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIzMlxcXCIgaGVpZ2h0PVxcXCIzMlxcXCIgPjxwYXRoIHRyYW5zZm9ybT1cXFwicm90YXRlKFwiICsgciArIFwiLCAxNiwgMTYpXFxcIiBkPVxcXCJNMTguOTA3IDMuMjM4bC03LjU0LTIuMTA0czguMzUgMy45IDguNDI4IDE1LjM2N2MuMDggMTEuNzk0LTcuODA3IDE0LjQ5LTcuODA3IDE0LjQ5bDcuMzYzLTEuNzI1XFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMi4wNTRcXFwiIGZpbGw9XFxcIm5vbmVcXFwiLz48L3N2Zz4nKSAxNiAxNiwgYXV0b1wiO1xufTtcblxucC5fZ2V0U2NhbGVDdXJzb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBGSU5HRVJTID0gW1wiMDEwMFwiLCBcIjAxMTBcIiwgXCIwMDEwXCIsIFwiMDAxMVwiLCBcIjAwMDFcIiwgXCIxMDAxXCIsIFwiMTAwMFwiLCBcIjExMDBcIl07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2lkZURlZyA9IEZJTkdFUlMuaW5kZXhPZih0aGlzLl9maW5nZXIpICogNDUsXG4gICAgICAgICAgICBwbyA9IHRoaXMuX3RoLkwyRyh0aGlzLl9wT3JpZ2luKSxcbiAgICAgICAgICAgIG9Ud2VhayA9IHsgeDogdGhpcy5fcE9yaWdpbi54ICsgMTIzNCwgeTogdGhpcy5fcE9yaWdpbi55IH0sXG4gICAgICAgICAgICBwb3QgPSB0aGlzLl90aC5MMkcob1R3ZWFrKSxcbiAgICAgICAgICAgIGJhc2VSYWQgPSBNYXRoLmF0YW4yKHBvdC55IC0gcG8ueSwgcG90LnggLSBwby54KSArIHRoaXMuX3BhcmFtcy5yeixcbiAgICAgICAgICAgIHIgPSBzaWRlRGVnICsgYmFzZVJhZCAvIE1hdGguUEkgKiAxODA7XG5cblxuICAgICAgICByZXR1cm4gXCJ1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMzJcXFwiIGhlaWdodD1cXFwiMzJcXFwiPjxwYXRoIHRyYW5zZm9ybT1cXFwicm90YXRlKFwiICsgciArIFwiLCAxNiwgMTYpXFxcIiBkPVxcXCJNMjIuNDA2IDEyLjU1Mmw1Ljg4IDQuMThIMy42NzdsNS43MjggNC4zNlxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjIuMjU0XFxcIiBmaWxsPVxcXCJub25lXFxcIi8+PC9zdmc+JykgMTYgMTYsIGF1dG9cIjtcbiAgICB9O1xufSkoKTtcblxuXG5cblxuXG5cblxucC5jcmVhdGVHcmFwaGljcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cbiAgICB0aGlzLl9kZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5fZGVDYW52YXMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlQ2FudmFzKTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUZ1bGxIaXQpO1xuXG4gICAgdmFyIG9uRmlyc3RNb3ZlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fb25PdmVySGl0Ym94KCk7XG4gICAgICAgIHRoaXMuX2RlSGl0Ym94LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25GaXJzdE1vdmUpO1xuICAgICAgICB0aGlzLl9kZU9yaWdpbkhpdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uRmlyc3RNb3ZlKTtcbiAgICB9KS5iaW5kKHRoaXMpO1xuXG4gICAgdmFyIGFkZEhpdGJveEV2ZW50cyA9IChmdW5jdGlvbiAoZGUpIHtcbiAgICAgICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLl9vbk92ZXJIaXRib3gpO1xuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk91dEhpdGJveCk7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25GaXJzdE1vdmUpO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9KS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fZGVPcmlnaW5IaXQgPSBhZGRIaXRib3hFdmVudHMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuc3R5bGUuYm9yZGVyID0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCArIFwicHggc29saWQgcmdiYSgyMzQsMCwwLDApXCI7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuc3R5bGUuYm9yZGVyUmFkaXVzID0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCArIFwicHhcIjtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVPcmlnaW5IaXQpO1xuXG4gICAgdGhpcy5fc3ZnUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgIHRoaXMuX3N2Z1Jvb3Quc3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fc3ZnUm9vdCk7XG5cbiAgICB0aGlzLl9kZUhpdGJveCA9IGFkZEhpdGJveEV2ZW50cyhkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBvbHlnb25cIikpO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnN0cm9rZVdpZHRoID0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCAqIDI7XG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuc3Ryb2tlID0gXCJyZ2JhKDAsMCwwLDApXCI7XG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuZmlsbCA9IFwicmdiYSgwLDAsMCwwKVwiO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnN0cm9rZUxpbmVqb2luID0gXCJyb3VuZFwiO1xuICAgIHRoaXMuX3N2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5fZGVIaXRib3gpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm1lcjtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vdXRpbHMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiByYWREaWZmKHIwLCByMSkge1xuICAgIHIwICU9IE1hdGguUEk7XG4gICAgcjEgJT0gTWF0aC5QSTtcbiAgICByMCArPSBNYXRoLlBJO1xuICAgIHIxICs9IE1hdGguUEk7XG5cbiAgICByZXR1cm4gcjEgLSByMDtcbn1cblxuZnVuY3Rpb24gc3FyKHgpIHtcbiAgICByZXR1cm4geCAqIHg7XG59XG5cbmZ1bmN0aW9uIGRpc3QyKHYsIHcpIHtcbiAgICByZXR1cm4gc3FyKHYueCAtIHcueCkgKyBzcXIodi55IC0gdy55KTtcbn1cblxuZnVuY3Rpb24gZGlzdFRvU2VnbWVudFNxdWFyZWQocCwgdiwgdykge1xuICAgIHZhciBsMiA9IGRpc3QyKHYsIHcpO1xuXG4gICAgaWYgKGwyID09PSAwKSByZXR1cm4gZGlzdDIocCwgdik7XG5cbiAgICB2YXIgdCA9ICgocC54IC0gdi54KSAqICh3LnggLSB2LngpICsgKHAueSAtIHYueSkgKiAody55IC0gdi55KSkgLyBsMjtcblxuICAgIGlmICh0IDwgMCkgcmV0dXJuIGRpc3QyKHAsIHYpO1xuICAgIGlmICh0ID4gMSkgcmV0dXJuIGRpc3QyKHAsIHcpO1xuXG4gICAgcmV0dXJuIGRpc3QyKHAsIHsgeDogdi54ICsgdCAqICh3LnggLSB2LngpLCB5OiB2LnkgKyB0ICogKHcueSAtIHYueSkgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3RUb1NlZ21lbnQocCwgdiwgdykge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdFRvU2VnbWVudFNxdWFyZWQocCwgdiwgdykpO1xufVxuXG5mdW5jdGlvbiBkaXN0VG9Qb2ludEluQW5nbGUocDAsIHAxLCByYWQpIHtcbiAgICB2YXIgZHggPSBwMS54IC0gcDAueCxcbiAgICAgICAgZHkgPSBwMS55IC0gcDAueSxcbiAgICAgICAgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSksXG4gICAgICAgIG1SYWQgPSBNYXRoLmF0YW4yKGR5LCBkeCk7XG5cbiAgICByYWQgPSBtUmFkIC0gcmFkO1xuXG4gICAgLy8gY29uc29sZS5sb2coJ2R4JywgZHgsICdkeScsIGR5LCAnZCcsIGQsICdtUmFkJywgbVJhZCwgJ3JhZCcsIHJhZCwgJ3JldHVybicsIE1hdGguY29zKHJhZCkgKiBkKVxuXG4gICAgcmV0dXJuIE1hdGguY29zKHJhZCkgKiBkO1xufVxuXG5mdW5jdGlvbiBpc0luc2lkZShwb2ludCwgdnMpIHtcbiAgICAvLyByYXktY2FzdGluZyBhbGdvcml0aG0gYmFzZWQgb25cbiAgICAvLyBodHRwOi8vd3d3LmVjc2UucnBpLmVkdS9Ib21lcGFnZXMvd3JmL1Jlc2VhcmNoL1Nob3J0X05vdGVzL3BucG9seS5odG1sXG5cbiAgICB2YXIgeCA9IHBvaW50LngsXG4gICAgICAgIHkgPSBwb2ludC55O1xuXG4gICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gdnMubGVuZ3RoIC0gMTsgaSA8IHZzLmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICB2YXIgeGkgPSB2c1tpXS54LFxuICAgICAgICAgICAgeWkgPSB2c1tpXS55O1xuICAgICAgICB2YXIgeGogPSB2c1tqXS54LFxuICAgICAgICAgICAgeWogPSB2c1tqXS55O1xuXG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSB5aSA+IHkgIT09IHlqID4geSAmJiB4IDwgKHhqIC0geGkpICogKHkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkgaW5zaWRlID0gIWluc2lkZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG5cbi8vIHZhciBiYXNlID0gdGhpcy5fYmFzZSxcbi8vICAgICBwYXJhbXMgPSB0aGlzLl9wYXJhbXMsXG4vLyAgICAgcG8gPSB0aGlzLl9wT3JpZ2luLFxuLy8gICAgIGxlZnRTY2FsZSA9IChiYXNlLncgKiBwYXJhbXMub3ggKiAocGFyYW1zLnN4LTEpKSxcbi8vICAgICB0b3BTY2FsZSA9IChiYXNlLmggKiBwYXJhbXMub3kgKiAocGFyYW1zLnN5LTEpKSxcbi8vICAgICB3ID0gKGJhc2UudyAqIHBhcmFtcy5zeCksXG4vLyAgICAgaCA9IChiYXNlLmggKiBwYXJhbXMuc3kpLFxuLy8gICAgIG94ID0gcmZkICsgKHcgKiBwYXJhbXMub3gpLFxuLy8gICAgIG95ID0gcmZkICsgKGggKiBwYXJhbXMub3kpO1xuXG5cbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLmxlZnQgPSAoLXJmZCArIGJhc2UueCArIHBhcmFtcy50eCAtIGxlZnRTY2FsZSkgKyAncHgnO1xuLy8gdGhpcy5fZGVIaXRib3guc3R5bGUudG9wID0gKC1yZmQgKyBiYXNlLnkgKyBwYXJhbXMudHkgLSB0b3BTY2FsZSkgKyAncHgnO1xuLy8gdGhpcy5fZGVIaXRib3guc3R5bGUud2lkdGggPSB3ICsgJ3B4Jztcbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xuLy8gdGhpcy5fZGVIaXRib3guc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gb3ggKyAncHggJyArIG95ICsgJ3B4Jztcbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHRoaXMuX3BhcmFtcy5yeiArICdyYWQpJzsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBtYWtlRHJhZ2dhYmxlID0gcmVxdWlyZShcIi4uLy4uL21ha2UtZHJhZ2dhYmxlXCIpO1xudmFyIF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5cbnZhciBCQVNFX1BPSU5UX1NUWUxFID0ge1xuICAgIGFuY2hvckZpbGw6IFwiZGVlcHNreWJsdWVcIixcbiAgICBhbmNob3JSYWRpdXM6IDMsXG4gICAgYW5jaG9yU3Ryb2tlOiBcIm5vbmVcIixcbiAgICBhbmNob3JTdHJva2VXaWR0aDogMSxcbiAgICBoYW5kbGVGaWxsOiBcImRlZXBza3libHVlXCIsXG4gICAgaGFuZGxlUmFkaXVzOiAzLFxuICAgIGhhbmRsZVN0cm9rZTogXCJub25lXCIsXG4gICAgaGFuZGxlU3Ryb2tlV2lkdGg6IDEsXG4gICAgaGFuZGxlTGluZVN0cm9rZTogXCJkZWVwc2t5Ymx1ZVwiLFxuICAgIGhhbmRsZUxpbmVTdHJva2VXaWR0aDogMSxcbiAgICBwYXRoU3Ryb2tlOiBcImRlZXBza3libHVlXCIsXG4gICAgcGF0aFN0cm9rZVdpZHRoOiAyIH07XG5cbnZhciBDVVJTT1JTID0ge1xuXG4gICAgcGVuY2lsOiBcInVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFDS1VsRVFWUTRUMk5rSUIwb0FMWDRBL0ZFa0ZaR0V2UTdHSmhZZElWRUo1cHVYck9NNGM2dGEyMXZYNyt1SnNhQUJHZFAzNDZrekNKK0V3c2I5dnlVQ0VaOVkzT0dQZHMyN2p0NzhxZ3pUZ040ZUhpYS9jSmlNbEt5aXpubEZWVzQvLzM3OXpjbk1aVFp4TkwycDVhMlBuTzB2NU1yMFBVSHNCcWdyS2ErY3ZINmZkN2lrbExjSUMrQ05HY25oRENiV3RuOVRNb29ZTStJQ1h5MWU5c0djVnhob05EY08rTm1WR0k2MjY5ZnYzNnZYaktYOWVDZTdRem10bzQva3pNTDJaOCtmdmpaMFVnNTcrL2Z2d3R3R1pCdzdNcVRLZUpTMHR3VE91b1pKbmMxQ1JxYlc4MWZ0ZjFvQUVoRFhYSFc5Nlh6cDNQQkFoL2RDd0pPSHI2blp5L2JwQUpTY1ByNDRSK1ZCU21MQXNOaTQ3S0xhemkrZlA3OHcxWlB0dmZUeDQ4MTJBd1FjUEgwTzMzN3hsV1ZQYWR2L1dNQ0F2UW9udGpad0RDcHMxRVFLUDRCM1FBQnY1Q29zNzB6RnN1Zk9Mei8xNkxaa3ptbkwxNy9sNUdSa1JtcThQKytuVnUrQTExVDhPYmx5OW5JQm9POElPQWZHbjJ1Wi9vaU9hQ2xZQTBIOW16L002MjNsYVdxcGZmTG1pWHpmaHc5dUdmdG93ZjNWb0NrMEYzRjZPa2YrbVh5dkpVY1NMYUIxUnpldC9OUFFvakhWQ0N6QUY5cVpkeTQ3OHdYSFFOamNIekR3TWNQNzc4bmhYdnR1SEQ2UkJBK3plQm9CSWI2blZsTE55b0JYUUNPa1U4ZlAzeVBDWEM2ZlBYaWVYTkNtc0VHQUxHQlgwajAwYTZwODFsL2ZQLzJKOHJYL3VHMXl4Y3RrVU1hcnhlZ2tnS3lDb296V0ZoWUdlL2Z1WlZPckdhUVhnRGU1dGNSVU9DUkZnQUFBQUJKUlU1RXJrSmdnZz09KSAxNSAwLCBhdXRvXCIgfTtcblxuLy8gcG9pbnQ6IHtcbi8vICAgICBhbmNob3I6IHt4OiAwLCB5OiAwfSxcbi8vICAgICBoYW5kbGVMZWZ0OiB7eDogMCwgeTogMH0sXG4vLyAgICAgaGFuZGxlUmlnaHQ6IHt4OiAwLCB5OiAwfSxcbi8vICAgICBsaW5rZWQ6IGZhbHNlLFxuLy8gICAgIGNsb3NlOiBmYWxzZSxcbi8vIH1cblxuXG5mdW5jdGlvbiBDdXJ2ZXIodHJhbnNoYW5kKSB7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl90aCA9IHRyYW5zaGFuZDtcblxuICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIHRoaXMuX2J1ZmZQb2ludHMgPSBbXTtcblxuICAgIHRoaXMuX3NlbGVjdGVkUG9pbnRzID0gW107XG5cbiAgICB0aGlzLl9vZmZzZXQgPSB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAgfTtcblxuICAgIHRoaXMuX2NsaWNrQWN0aW9ucyA9IFt7IHRhcmdldDogXCJhbmNob3JcIiwgYWN0aW9uOiBcIm1vdmVfYW5jaG9yXCIgfSwgeyB0YXJnZXQ6IFwiYW5jaG9yXCIsIGFjdGlvbjogXCJyZW1vdmVfcG9pbnRcIiwgY3RybDogdHJ1ZSB9LCB7IHRhcmdldDogXCJhbmNob3JcIiwgYWN0aW9uOiBcInJlc2V0X2FuY2hvclwiLCBhbHQ6IHRydWUgfSwgeyB0YXJnZXQ6IFwiaGFuZGxlXCIsIGFjdGlvbjogXCJtb3ZlX2hhbmRsZVwiIH0sIHsgdGFyZ2V0OiBcImhhbmRsZVwiLCBhY3Rpb246IFwidW5saW5rX2hhbmRsZVwiLCBhbHQ6IHRydWUgfSwgeyB0YXJnZXQ6IFwiY3VydmVcIiwgYWN0aW9uOiBcImFkZF9wb2ludFwiIH0sIHsgdGFyZ2V0OiBcImN1cnZlXCIsIGFjdGlvbjogXCJkcmFnX3BhdGhcIiwgY3RybDogdHJ1ZSB9LCB7IHRhcmdldDogXCJjdXJ2ZVwiLCBhY3Rpb246IFwicm90YXRlX3BhdGhcIiwgYWx0OiB0cnVlIH0sIHsgdGFyZ2V0OiBcImN1cnZlXCIsIGFjdGlvbjogXCJzY2FsZV9wYXRoXCIsIGN0cmw6IHRydWUsIGFsdDogdHJ1ZSB9XTtcbn1cblxudmFyIGhpbnRzID0ge1xuICAgIGFuY2hvcjogW1wiZHJhZyBhbmNob3JcIiwgXCJyZW1vdmUgYW5jaG9yIC0gY3RybFwiLCBcInJlc2V0IGFuY2hvciAtIGFsdFwiXSxcbiAgICBoYW5kbGU6IFtcImRyYWcgaGFubGVcIiwgXCJ1bmxpbmsgaGFuZGxlIC0gYWx0XCJdLFxuICAgIGN1cnZlOiBbXCJhZGQgcG9pbnRcIl0gfTtcblxuaW5oZXJpdHMoQ3VydmVyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBDdXJ2ZXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDdXJ2ZXI7XG5cbkN1cnZlci5pZCA9IFwiY3VydmVyXCI7XG5wLnJlbmRlckxldmVsID0gMjtcblxucC5zZXR1cCA9IGZ1bmN0aW9uIChvcHQpIHtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRoaXMuX3BvaW50cy5sZW5ndGggPCBvcHQucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9hZGRQb2ludCgpO1xuICAgIH1cbiAgICB3aGlsZSAodGhpcy5fcG9pbnRzLmxlbmd0aCA+IG9wdC5wb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3NwbGljZVBvaW50KHRoaXMuX3BvaW50cy5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICBvcHQucG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHNyY1BvaW50LCBpZHgpIHtcbiAgICAgICAgdGhpcy5fc2V0dXBQb2ludCh0aGlzLl9wb2ludHNbaWR4XSwgc3JjUG9pbnQpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5fb2Zmc2V0LnggPSBvcHQub2Zmc2V0ICYmIG9wdC5vZmZzZXQueCB8fCAwO1xuICAgIHRoaXMuX29mZnNldC55ID0gb3B0Lm9mZnNldCAmJiBvcHQub2Zmc2V0LnkgfHwgMDtcblxuICAgIHRoaXMucmVuZGVyKCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcbn07XG5cbnAuc2VsZWN0UG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblxuICAgIHRoaXMuX3NlbGVjdGVkUG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fc2VsZWN0ZWRQb2ludHMucHVzaC5hcHBseSh0aGlzLl9zZWxlY3RlZFBvaW50cywgcG9pbnRzKTtcblxuICAgIHRoaXMuX3BvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBwb2ludC5zZWxlY3RlZCA9IF90aGlzLl9zZWxlY3RlZFBvaW50cy5pbmRleE9mKHBvaW50KSAhPT0gLTE7XG4gICAgfSk7XG59O1xuXG5cblxucC5fZW1pdENoYW5nZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkZXRhaWxlc0xpc3QpIHtcbiAgICAgICAgaWYgKCFfLmlzQXJyYXkoZGV0YWlsZXNMaXN0KSkge1xuICAgICAgICAgICAgZGV0YWlsZXNMaXN0ID0gW2RldGFpbGVzTGlzdF07XG4gICAgICAgIH1cblxuICAgICAgICBkZXRhaWxlc0xpc3QgPSBkZXRhaWxlc0xpc3QubWFwKGZ1bmN0aW9uIChkZXRhaWxlcykge1xuICAgICAgICAgICAgZGV0YWlsZXMgPSBfLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJcIixcbiAgICAgICAgICAgICAgICBwb2ludDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGlkeDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHBvaW50czogdGhpcy5fcG9pbnRzLFxuICAgICAgICAgICAgICAgIGZsYXRQb2ludHM6IGZsYXRQb2ludHMsXG4gICAgICAgICAgICAgICAgZmxhdDogZmxhdCxcbiAgICAgICAgICAgICAgICBzdmdQYXRoOiBzdmdQYXRoLFxuICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZSB9LCBkZXRhaWxlcyk7XG5cbiAgICAgICAgICAgIGlmIChkZXRhaWxlcy5pZHggPT09IHVuZGVmaW5lZCAmJiBkZXRhaWxlcy5wb2ludCkge1xuICAgICAgICAgICAgICAgIGRldGFpbGVzLmlkeCA9IHRoaXMuX3BvaW50cy5pbmRleE9mKGRldGFpbGVzLnBvaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRldGFpbGVzO1xuICAgICAgICB9LCB0aGlzKTtcblxuXG4gICAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCBkZXRhaWxlc0xpc3QpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmbGF0UG9pbnRzKCkge1xuICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC5oYW5kbGVMZWZ0LngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQuaGFuZGxlTGVmdC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBwb2ludC5hbmNob3IueCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC5hbmNob3IueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQuaGFuZGxlUmlnaHQueCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC5oYW5kbGVSaWdodC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmxhdCgpIHt9XG4gICAgZnVuY3Rpb24gc3ZnUGF0aCgpIHt9XG4gICAgZnVuY3Rpb24gY2xvbmUoKSB7fVxufSkoKTtcblxucC5fZ2V0Q2xpY2tBY3Rpb24gPSBmdW5jdGlvbiAodGFyZ2V0LCBlKSB7XG4gICAgdmFyIGN0cmwgPSBlLmN0cmxLZXksXG4gICAgICAgIHNoaWZ0ID0gZS5zaGlmdEtleSxcbiAgICAgICAgYWx0ID0gZS5hbHRLZXksXG4gICAgICAgIHJldDtcblxuICAgIHRoaXMuX2NsaWNrQWN0aW9ucy5zb21lKGZ1bmN0aW9uIChjbGlja0FjdGlvbikge1xuICAgICAgICBpZiAoY2xpY2tBY3Rpb24udGFyZ2V0ID09PSB0YXJnZXQgJiYgISFjbGlja0FjdGlvbi5jdHJsID09PSBjdHJsICYmICEhY2xpY2tBY3Rpb24uc2hpZnQgPT09IHNoaWZ0ICYmICEhY2xpY2tBY3Rpb24uYWx0ID09PSBhbHQpIHtcbiAgICAgICAgICAgIHJldCA9IGNsaWNrQWN0aW9uLmFjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxuXG5cblxuXG5cblxucC5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGksIGwsIHBvaW50LCBwb2ludEIsIGNtZDtcblxuICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLl9wb2ludHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIHBvaW50ID0gdGhpcy5fcG9pbnRzW2ldO1xuXG4gICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgcG9pbnRCID0gdGhpcy5fcG9pbnRzW2kgKyAxXTtcblxuICAgICAgICAgICAgY21kID0gXCJNXCIgKyBwb2ludC5hbmNob3IueCArIFwiLFwiICsgcG9pbnQuYW5jaG9yLnkgKyBcIiBcIjtcbiAgICAgICAgICAgIGNtZCArPSBcIkNcIiArIHBvaW50LmhhbmRsZVJpZ2h0LnggKyBcIixcIiArIHBvaW50LmhhbmRsZVJpZ2h0LnkgKyBcIiBcIjtcbiAgICAgICAgICAgIGNtZCArPSBwb2ludEIuaGFuZGxlTGVmdC54ICsgXCIsXCIgKyBwb2ludEIuaGFuZGxlTGVmdC55ICsgXCIgXCI7XG4gICAgICAgICAgICBjbWQgKz0gcG9pbnRCLmFuY2hvci54ICsgXCIsXCIgKyBwb2ludEIuYW5jaG9yLnkgKyBcIiBcIjtcbiAgICAgICAgICAgIHBvaW50Ll9kZS5zZXRBdHRyaWJ1dGUoXCJkXCIsIGNtZCk7XG4gICAgICAgIH1cblxuICAgICAgICBtb3ZlQ2lyY2xlKHBvaW50LmFuY2hvcik7XG5cbiAgICAgICAgbW92ZUNpcmNsZShwb2ludC5oYW5kbGVMZWZ0KTtcbiAgICAgICAgbW92ZUxpbmUocG9pbnQuaGFuZGxlTGVmdCwgcG9pbnQuYW5jaG9yKTtcblxuICAgICAgICBtb3ZlQ2lyY2xlKHBvaW50LmhhbmRsZVJpZ2h0KTtcbiAgICAgICAgbW92ZUxpbmUocG9pbnQuaGFuZGxlUmlnaHQsIHBvaW50LmFuY2hvcik7XG5cbiAgICAgICAgdGhpcy5kb21FbGVtLnN0eWxlLmxlZnQgPSB0aGlzLl9vZmZzZXQueCArIFwicHhcIjtcbiAgICAgICAgdGhpcy5kb21FbGVtLnN0eWxlLnRvcCA9IHRoaXMuX29mZnNldC55ICsgXCJweFwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVDaXJjbGUocHQpIHtcbiAgICAgICAgcHQuX2RlLnNldEF0dHJpYnV0ZShcImN4XCIsIHB0LngpO1xuICAgICAgICBwdC5fZGUuc2V0QXR0cmlidXRlKFwiY3lcIiwgcHQueSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW92ZUxpbmUocHQxLCBwdDIpIHtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKFwieDFcIiwgcHQxLngpO1xuICAgICAgICBwdDEuX2RlTGluZS5zZXRBdHRyaWJ1dGUoXCJ5MVwiLCBwdDEueSk7XG4gICAgICAgIHB0MS5fZGVMaW5lLnNldEF0dHJpYnV0ZShcIngyXCIsIHB0Mi54KTtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKFwieTJcIiwgcHQyLnkpO1xuICAgIH1cbn07XG5cbnAuX2FkZFBvaW50ID0gZnVuY3Rpb24gKGlkeCkge1xuICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgcG9pbnQgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7XG4gICAgICAgIGFuY2hvcjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIGhhbmRsZUxlZnQ6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBoYW5kbGVSaWdodDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgbGlua2VkOiBmYWxzZSB9LCB7XG4gICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWQgPSB2O1xuICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5ID0gdGhpcy5fc2VsZWN0ZWQgPyBcIlwiIDogXCJub25lXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMZWZ0Ll9kZS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUxlZnQuX2RlTGluZS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJpZ2h0Ll9kZS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJpZ2h0Ll9kZUxpbmUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vVE9ETyB1c2UgX2J1ZmZQb2ludHNbXVxuICAgIHRoaXMuX3BvaW50cy5zcGxpY2UoaWR4LCAwLCBwb2ludCk7XG5cbiAgICBjcmVhdGVQYXRoKCk7XG4gICAgY3JlYXRlQW5jaG9yKCk7XG4gICAgY3JlYXRlSGFuZGxlKHBvaW50LmhhbmRsZUxlZnQpO1xuICAgIGNyZWF0ZUhhbmRsZShwb2ludC5oYW5kbGVSaWdodCk7XG5cbiAgICBwb2ludC5zZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHBvaW50O1xuICAgIC8vVE9ETyBjbGVhbnVwIHRoaXNcbiAgICBmdW5jdGlvbiBjcmVhdGVQYXRoKCkge1xuICAgICAgICBwb2ludC5fZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBvaW50Ll9kZS5zdHlsZS5maWxsID0gXCJub25lXCI7XG4gICAgICAgIHBvaW50Ll9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICAgIHBvaW50Ll9kZS5zdHlsZS5jdXJzb3IgPSBDVVJTT1JTLnBlbmNpbDtcbiAgICAgICAgdGhhdC5fZGVQYXRoQ29udC5hcHBlbmRDaGlsZChwb2ludC5fZGUpO1xuXG4gICAgICAgIHBvaW50Ll9kZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuX3BvaW50cy5pbmRleE9mKHBvaW50KSxcbiAgICAgICAgICAgICAgICBwTGVmdCA9IHRoaXMuX3BvaW50c1tpZHhdLFxuICAgICAgICAgICAgICAgIHBSaWdodCA9IHRoaXMuX3BvaW50c1tpZHggKyAxXSxcbiAgICAgICAgICAgICAgICBzcmNQb2ludCA9IHRoaXMuX3NwbGl0Q3VydmUocExlZnQsIHBSaWdodCwgZS54IC0gdGhpcy5fb2Zmc2V0LngsIGUueSAtIHRoaXMuX29mZnNldC55KTtcblxuICAgICAgICAgICAgdmFyIG5ld1BvaW50ID0gdGhpcy5fYWRkUG9pbnQoaWR4ICsgMSk7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFBvaW50KG5ld1BvaW50LCBzcmNQb2ludCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoW3sgdHlwZTogXCJlZGl0XCIsIHBvaW50OiBwTGVmdCB9LCB7IHR5cGU6IFwiYWRkXCIsIHBvaW50OiBuZXdQb2ludCB9LCB7IHR5cGU6IFwiZWRpdFwiLCBwb2ludDogcFJpZ2h0IH1dKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICAgICAgbmV3UG9pbnQuYW5jaG9yLl9kcmFnZ2VyLmVtaXREb3duKGUpO1xuICAgICAgICB9KS5iaW5kKHRoYXQpKTtcblxuXG4gICAgICAgIHBvaW50Ll9kZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0Ll90aC5jdXJzb3JIaW50LnNldEhpbnRzKGhpbnRzLmN1cnZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBvaW50Ll9kZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0Ll90aC5jdXJzb3JIaW50LnNldEhpbnRzKG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVBbmNob3IoKSB7XG4gICAgICAgIHBvaW50LmFuY2hvci5fZGUgPSBjcmVhdGVDaXJjbGUoKTtcbiAgICAgICAgdGhhdC5fZGVBbmNob3JDb250LmFwcGVuZENoaWxkKHBvaW50LmFuY2hvci5fZGUpO1xuXG4gICAgICAgIHBvaW50LmFuY2hvci5fZHJhZ2dlciA9IG1ha2VEcmFnZ2FibGUoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IHBvaW50LmFuY2hvci5fZGUsXG4gICAgICAgICAgICB0aGlzQXJnOiB0aGF0LFxuICAgICAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLl9nZXRDbGlja0FjdGlvbihcImFuY2hvclwiLCBlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0UG9pbnRzKFtwb2ludF0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJyZXNldF9hbmNob3JcIikge1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBwb2ludC5hbmNob3IueDtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC55ID0gcG9pbnQuYW5jaG9yLnk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZVJpZ2h0LnggPSBwb2ludC5hbmNob3IueDtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlUmlnaHQueSA9IHBvaW50LmFuY2hvci55O1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5saW5rZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZSA9IE9iamVjdC5jcmVhdGUoZSk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3luY3JvblNpemUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcImVkaXRcIiwgcG9pbnQ6IHBvaW50IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZVJpZ2h0Ll9kcmFnZ2VyLmVtaXREb3duKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJyZW1vdmVfcG9pbnRcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFBvaW50cyhbXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuX3BvaW50cy5pbmRleE9mKHBvaW50KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGxpY2VQb2ludChpZHgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcInJlbW92ZVwiLCBpZHg6IGlkeCB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYXhTdGFydDogcG9pbnQuYW5jaG9yLngsXG4gICAgICAgICAgICAgICAgICAgIGF5U3RhcnQ6IHBvaW50LmFuY2hvci55LFxuICAgICAgICAgICAgICAgICAgICBobHhTdGFydDogcG9pbnQuaGFuZGxlTGVmdC54LFxuICAgICAgICAgICAgICAgICAgICBobHlTdGFydDogcG9pbnQuaGFuZGxlTGVmdC55LFxuICAgICAgICAgICAgICAgICAgICBocnhTdGFydDogcG9pbnQuaGFuZGxlUmlnaHQueCxcbiAgICAgICAgICAgICAgICAgICAgaHJ5U3RhcnQ6IHBvaW50LmhhbmRsZVJpZ2h0LnkgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChtZCkge1xuICAgICAgICAgICAgICAgIHBvaW50LmFuY2hvci54ID0gbWQuYXhTdGFydCArIG1kLmR4O1xuICAgICAgICAgICAgICAgIHBvaW50LmFuY2hvci55ID0gbWQuYXlTdGFydCArIG1kLmR5O1xuICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueCA9IG1kLmhseFN0YXJ0ICsgbWQuZHg7XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC55ID0gbWQuaGx5U3RhcnQgKyBtZC5keTtcbiAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gbWQuaHJ4U3RhcnQgKyBtZC5keDtcbiAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC55ID0gbWQuaHJ5U3RhcnQgKyBtZC5keTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcImVkaXRcIiwgcG9pbnQ6IHBvaW50IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RoLmN1cnNvckhpbnQuc2V0SGludHMoaGludHMuYW5jaG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhudWxsKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSGFuZGxlKGhhbmRsZSkge1xuICAgICAgICB2YXIgb3Bwb3NpdGVIYW5kbGUgPSBwb2ludC5oYW5kbGVMZWZ0ID09PSBoYW5kbGUgPyBwb2ludC5oYW5kbGVSaWdodCA6IHBvaW50LmhhbmRsZUxlZnQ7XG5cbiAgICAgICAgaGFuZGxlLl9kZUxpbmUgPSBjcmVhdGVMaW5lKCk7XG4gICAgICAgIHRoYXQuX2RlSGFuZGxlQ29udC5hcHBlbmRDaGlsZChoYW5kbGUuX2RlTGluZSk7XG5cbiAgICAgICAgaGFuZGxlLl9kZSA9IGNyZWF0ZUNpcmNsZSgpO1xuICAgICAgICB0aGF0Ll9kZUhhbmRsZUNvbnQuYXBwZW5kQ2hpbGQoaGFuZGxlLl9kZSk7XG5cbiAgICAgICAgaGFuZGxlLl9kcmFnZ2VyID0gbWFrZURyYWdnYWJsZSh7XG4gICAgICAgICAgICBkZVRhcmdldDogaGFuZGxlLl9kZSxcbiAgICAgICAgICAgIHRoaXNBcmc6IHRoYXQsXG4gICAgICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuX2dldENsaWNrQWN0aW9uKFwiaGFuZGxlXCIsIGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlLnN5bmNyb25TaXplICYmIGFjdGlvbiA9PT0gXCJ1bmxpbmtfaGFuZGxlXCIgJiYgcG9pbnQubGlua2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmxpbmtlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcImVkaXRcIiwgcG9pbnQ6IHBvaW50IH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHhTdGFydDogaGFuZGxlLngsXG4gICAgICAgICAgICAgICAgICAgIHlTdGFydDogaGFuZGxlLnksXG4gICAgICAgICAgICAgICAgICAgIG9wcG9zaXRlTGVuZ3RoOiBkaXN0KG9wcG9zaXRlSGFuZGxlLCBwb2ludC5hbmNob3IpLFxuICAgICAgICAgICAgICAgICAgICBzeW5jcm9uU2l6ZTogZS5zeW5jcm9uU2l6ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKG1kKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlLnggPSBtZC54U3RhcnQgKyBtZC5keDtcbiAgICAgICAgICAgICAgICBoYW5kbGUueSA9IG1kLnlTdGFydCArIG1kLmR5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LmxpbmtlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSBoYW5kbGUueCAtIHBvaW50LmFuY2hvci54LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBoYW5kbGUueSAtIHBvaW50LmFuY2hvci55LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkID0gTWF0aC5hdGFuMihkeSwgZHgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoID0gbWQuc3luY3JvblNpemUgPyBkaXN0KGhhbmRsZSwgcG9pbnQuYW5jaG9yKSA6IG1kLm9wcG9zaXRlTGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIG9wcG9zaXRlSGFuZGxlLnggPSBwb2ludC5hbmNob3IueCAtIGxlbmd0aCAqIE1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICAgICAgICAgIG9wcG9zaXRlSGFuZGxlLnkgPSBwb2ludC5hbmNob3IueSAtIGxlbmd0aCAqIE1hdGguc2luKHJhZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdENoYW5nZSh7IHR5cGU6IFwiZWRpdFwiLCBwb2ludDogcG9pbnQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhoaW50cy5oYW5kbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aC5jdXJzb3JIaW50LnNldEhpbnRzKG51bGwpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDaXJjbGUoKSB7XG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiY2lyY2xlXCIpO1xuICAgICAgICBkZS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMaW5lKCkge1xuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImxpbmVcIik7XG4gICAgICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzdChwYSwgcGIpIHtcbiAgICAgICAgdmFyIG94ID0gcGEueCAtIHBiLngsXG4gICAgICAgICAgICBveSA9IHBhLnkgLSBwYi55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQob3ggKiBveCArIG95ICogb3kpO1xuICAgIH1cbn07XG5cbnAuX3NldHVwUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIHNyYykge1xuICAgIHBvaW50LmFuY2hvci54ID0gc3JjLmFuY2hvci54O1xuICAgIHBvaW50LmFuY2hvci55ID0gc3JjLmFuY2hvci55O1xuICAgIHBvaW50LmhhbmRsZUxlZnQueCA9IHNyYy5oYW5kbGVMZWZ0Lng7XG4gICAgcG9pbnQuaGFuZGxlTGVmdC55ID0gc3JjLmhhbmRsZUxlZnQueTtcbiAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gc3JjLmhhbmRsZVJpZ2h0Lng7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQueSA9IHNyYy5oYW5kbGVSaWdodC55O1xuICAgIHBvaW50LmxpbmtlZCA9ICEhc3JjLmxpbmtlZDtcblxuICAgIHZhciBzID0gcG9pbnQuc3R5bGUgPSBfLmRlZmF1bHRzKHt9LCBzcmMuc3R5bGUsIEJBU0VfUE9JTlRfU1RZTEUpO1xuXG4gICAgcG9pbnQuX2RlLnN0eWxlLnN0cm9rZSA9IHMucGF0aFN0cm9rZTtcbiAgICBwb2ludC5fZGUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLnBhdGhTdHJva2VXaWR0aDtcblxuICAgIHBvaW50LmFuY2hvci5fZGUuc2V0QXR0cmlidXRlKFwiclwiLCBzLmFuY2hvclJhZGl1cyk7XG4gICAgcG9pbnQuYW5jaG9yLl9kZS5zdHlsZS5maWxsID0gcy5hbmNob3JGaWxsO1xuICAgIHBvaW50LmFuY2hvci5fZGUuc3R5bGUuc3Ryb2tlID0gcy5hbmNob3JTdHJva2U7XG4gICAgcG9pbnQuYW5jaG9yLl9kZS5zdHlsZS5zdHJva2VXaWR0aCA9IHMuYW5jaG9yU3Ryb2tlV2lkdGg7XG5cbiAgICBwb2ludC5oYW5kbGVMZWZ0Ll9kZUxpbmUuc3R5bGUuc3Ryb2tlID0gcy5oYW5kbGVMaW5lU3Ryb2tlO1xuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlTGluZS5zdHlsZS5zdHJva2VXaWR0aCA9IHMuaGFuZGxlTGluZVN0cm9rZVdpZHRoO1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0Ll9kZUxpbmUuc3R5bGUuc3Ryb2tlID0gcy5oYW5kbGVMaW5lU3Ryb2tlO1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0Ll9kZUxpbmUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLmhhbmRsZUxpbmVTdHJva2VXaWR0aDtcblxuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlLnNldEF0dHJpYnV0ZShcInJcIiwgcy5oYW5kbGVSYWRpdXMpO1xuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlLnN0eWxlLmZpbGwgPSBzLmhhbmRsZUZpbGw7XG4gICAgcG9pbnQuaGFuZGxlTGVmdC5fZGUuc3R5bGUuc3Ryb2tlID0gcy5oYW5kbGVTdHJva2U7XG4gICAgcG9pbnQuaGFuZGxlTGVmdC5fZGUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLmhhbmRsZVN0cm9rZVdpZHRoO1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0Ll9kZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIHMuaGFuZGxlUmFkaXVzKTtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGUuc3R5bGUuZmlsbCA9IHMuaGFuZGxlRmlsbDtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGUuc3R5bGUuc3Ryb2tlID0gcy5oYW5kbGVTdHJva2U7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlLnN0eWxlLnN0cm9rZVdpZHRoID0gcy5oYW5kbGVTdHJva2VXaWR0aDtcblxuICAgIHJldHVybiBwb2ludDtcbn07XG5cblxucC5fc3BsaWNlUG9pbnQgPSBmdW5jdGlvbiAoaWR4KSB7XG4gICAgaWYgKHR5cGVvZiBpZHggPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWR4ID0gdGhpcy5fcG9pbnRzLmluZGV4T2YoaWR4KTtcbiAgICB9XG5cbiAgICB2YXIgcmVtb3ZlZFBvaW50ID0gdGhpcy5fcG9pbnRzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgdGhpcy5fZW1pdENoYW5nZSh7IHR5cGU6IFwic3BsaWNlXCIsIGlkeDogaWR4IH0pO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcblxuICAgIHJlbW92ZWRQb2ludC5fZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuX2RlKTtcbiAgICByZW1vdmVkUG9pbnQuYW5jaG9yLl9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJlbW92ZWRQb2ludC5hbmNob3IuX2RlKTtcbiAgICByZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGUpO1xuICAgIHJlbW92ZWRQb2ludC5oYW5kbGVMZWZ0Ll9kZUxpbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGVMaW5lKTtcbiAgICByZW1vdmVkUG9pbnQuaGFuZGxlUmlnaHQuX2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZSk7XG4gICAgcmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZUxpbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlUmlnaHQuX2RlTGluZSk7XG5cbiAgICB0aGlzLl9idWZmUG9pbnRzLnB1c2gocmVtb3ZlZFBvaW50KTtcbn07XG5cbnAuX3NwbGl0Q3VydmUgPSBmdW5jdGlvbiAocGEsIHBiLCB4LCB5KSB7XG4gICAgdmFyIGN1cnZlID0gW3BhLmFuY2hvci54LCBwYS5hbmNob3IueSwgcGEuaGFuZGxlUmlnaHQueCwgcGEuaGFuZGxlUmlnaHQueSwgcGIuaGFuZGxlTGVmdC54LCBwYi5oYW5kbGVMZWZ0LnksIHBiLmFuY2hvci54LCBwYi5hbmNob3IueV0sXG4gICAgICAgIG1Qb3MgPSB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgcCA9IHtcbiAgICAgICAgYW5jaG9yOiB7IHg6IDAsIHk6IDAgfSwgLy9qc0Jlemllci5wb2ludE9uQ3VydmUoY3VydmUsIGxvYyksXG4gICAgICAgIGhhbmRsZUxlZnQ6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBoYW5kbGVSaWdodDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIGxpbmtlZDogdHJ1ZSB9LFxuICAgICAgICBwbSA9IHt9LFxuICAgICAgICBkbCA9IGRpc3QocGEuYW5jaG9yLCBwYS5oYW5kbGVSaWdodCkgKyBkaXN0KHBhLmhhbmRsZVJpZ2h0LCBwYi5oYW5kbGVMZWZ0KSArIGRpc3QocGIuaGFuZGxlTGVmdCwgcGIuYW5jaG9yKSxcbiAgICAgICAgbWluRGlzdCxcbiAgICAgICAgcG9zLFxuICAgICAgICBsb2M7XG5cbiAgICBmb3IgKHZhciBkaSA9IDA7IGRpIDwgZGw7ICsrZGkpIHtcbiAgICAgICAgdmFyIF9sb2MgPSBkaSAvIGRsLFxuICAgICAgICAgICAgX3BvcyA9IGNhbGNQb3MoX2xvYyksXG4gICAgICAgICAgICBfZGlzdCA9IGRpc3QoX3BvcywgbVBvcyk7XG5cbiAgICAgICAgaWYgKG1pbkRpc3QgPT09IHVuZGVmaW5lZCB8fCBtaW5EaXN0ID4gX2Rpc3QpIHtcbiAgICAgICAgICAgIG1pbkRpc3QgPSBfZGlzdDtcbiAgICAgICAgICAgIGxvYyA9IF9sb2M7XG4gICAgICAgICAgICBwb3MgPSBfcG9zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcC5hbmNob3IgPSBwb3M7XG5cbiAgICBwbS54ID0gcGEuaGFuZGxlUmlnaHQueCArIChwYi5oYW5kbGVMZWZ0LnggLSBwYS5oYW5kbGVSaWdodC54KSAqIGxvYztcbiAgICBwbS55ID0gcGEuaGFuZGxlUmlnaHQueSArIChwYi5oYW5kbGVMZWZ0LnkgLSBwYS5oYW5kbGVSaWdodC55KSAqIGxvYztcbiAgICBwYS5oYW5kbGVSaWdodC54ID0gcGEuYW5jaG9yLnggKyAocGEuaGFuZGxlUmlnaHQueCAtIHBhLmFuY2hvci54KSAqIGxvYztcbiAgICBwYS5oYW5kbGVSaWdodC55ID0gcGEuYW5jaG9yLnkgKyAocGEuaGFuZGxlUmlnaHQueSAtIHBhLmFuY2hvci55KSAqIGxvYztcbiAgICBwYi5oYW5kbGVMZWZ0LnggPSBwYi5oYW5kbGVMZWZ0LnggKyAocGIuYW5jaG9yLnggLSBwYi5oYW5kbGVMZWZ0LngpICogbG9jO1xuICAgIHBiLmhhbmRsZUxlZnQueSA9IHBiLmhhbmRsZUxlZnQueSArIChwYi5hbmNob3IueSAtIHBiLmhhbmRsZUxlZnQueSkgKiBsb2M7XG4gICAgcC5oYW5kbGVMZWZ0LnggPSBwYS5oYW5kbGVSaWdodC54ICsgKHBtLnggLSBwYS5oYW5kbGVSaWdodC54KSAqIGxvYztcbiAgICBwLmhhbmRsZUxlZnQueSA9IHBhLmhhbmRsZVJpZ2h0LnkgKyAocG0ueSAtIHBhLmhhbmRsZVJpZ2h0LnkpICogbG9jO1xuICAgIHAuaGFuZGxlUmlnaHQueCA9IHBtLnggKyAocGIuaGFuZGxlTGVmdC54IC0gcG0ueCkgKiBsb2M7XG4gICAgcC5oYW5kbGVSaWdodC55ID0gcG0ueSArIChwYi5oYW5kbGVMZWZ0LnkgLSBwbS55KSAqIGxvYztcblxuICAgIGZ1bmN0aW9uIGNhbGNQb3MocG9zKSB7XG4gICAgICAgIHZhciBwID0gY3VydmUuc2xpY2UoKSxcbiAgICAgICAgICAgIGwgPSBwLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgd2hpbGUgKC0tbCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY291bnQoaSAqIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDogcFswXSwgeTogcFsxXSB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvdW50KGkpIHtcbiAgICAgICAgICAgIHBbaSArIDBdID0gcFtpICsgMF0gKyAocFtpICsgMl0gLSBwW2kgKyAwXSkgKiBwb3M7XG4gICAgICAgICAgICBwW2kgKyAxXSA9IHBbaSArIDFdICsgKHBbaSArIDNdIC0gcFtpICsgMV0pICogcG9zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzdChwYSwgcGIpIHtcbiAgICAgICAgdmFyIGR4ID0gcGIueCAtIHBhLngsXG4gICAgICAgICAgICBkeSA9IHBiLnkgLSBwYS55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwO1xufTtcblxuXG5wLmNyZWF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICB0aGlzLl9kZVBhdGhDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVBhdGhDb250KTtcblxuICAgIHRoaXMuX2RlSGFuZGxlQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVIYW5kbGVDb250KTtcblxuICAgIHRoaXMuX2RlQW5jaG9yQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVBbmNob3JDb250KTtcbn07XG4vLyBhbWd1aS5jcmVhdGVDdXJzb3JGcm9tVGV4dCh7XG4vLyAgICAgaWNvbjogJ3ZlY3Rvci1wZW5jaWwnLFxuLy8gICAgIGNvbG9yOiAnI2RlZicsXG4vLyAgICAgd2lkdGg6IDE2LFxuLy8gICAgIGhlaWdodDogMTYsXG4vLyAgICAgaG90c3BvdFg6IDE1LFxuLy8gICAgIGhvdHNwb3RZOiAwLFxuLy8gICAgIHJvdGF0ZU9yaWdpblg6IDgsXG4vLyAgICAgcm90YXRlT3JpZ2luWTogOCxcbi8vICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTIzJyxcbi8vICAgICByb3RhdGU6IDAsXG4vLyAgICAgc3Ryb2tlOiB7Y29sb3I6J2JsYWNrJywgd2lkdGg6IDJ9LFxuLy8gICAgIGRlYnVnOiBmYWxzZSxcbi8vIH0pXG4vKlRPRE8qLyAvKlRPRE8qLyAvKlRPRE8qLyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1ha2VEcmFnZ2FibGUob3B0KSB7XG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIG1kLCBpc092ZXIsIGlzRHJhZywgd2FpdGluZ01vdmVFdmVudCwgd2FpdGluZ01vdmVSYWY7XG5cbiAgICBpZiAob3B0LmRlVGFyZ2V0KSB7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uRG93bik7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIG9uRW50ZXIpO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgb25MZWF2ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1pdERvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBvbkRvd24oZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHt9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uRG93bihlKSB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlzRHJhZyA9IHRydWU7XG5cbiAgICAgICAgdmFyIGN1c3RvbSA9IGNhbGwoXCJvbkRvd25cIiwgW2VdKTtcblxuICAgICAgICBpZiAoY3VzdG9tID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy9wcmV2ZW50IGRyYWdnaW5nXG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1kID0gY3VzdG9tIHx8IHt9O1xuXG4gICAgICAgIG1kLm14ID0gZS5jbGllbnRYO1xuICAgICAgICBtZC5teSA9IGUuY2xpZW50WTtcbiAgICAgICAgbWQuZHggPSAwO1xuICAgICAgICBtZC5keSA9IDA7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uVXApO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgb25VcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3ZlKGUpIHtcbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCA9IGU7XG5cbiAgICAgICAgaWYgKCF3YWl0aW5nTW92ZVJhZikge1xuICAgICAgICAgICAgd2FpdGluZ01vdmVSYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZk9uTW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYWZPbk1vdmUoKSB7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh3YWl0aW5nTW92ZVJhZik7XG5cbiAgICAgICAgdmFyIHdtZSA9IHdhaXRpbmdNb3ZlRXZlbnQ7XG4gICAgICAgIHdhaXRpbmdNb3ZlUmFmID0gdW5kZWZpbmVkO1xuICAgICAgICB3YWl0aW5nTW92ZUV2ZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBteCA9IHdtZS5jbGllbnRYLFxuICAgICAgICAgICAgbXkgPSB3bWUuY2xpZW50WTtcblxuICAgICAgICBtZC5keCA9IG14IC0gbWQubXg7XG4gICAgICAgIG1kLmR5ID0gbXkgLSBtZC5teTtcblxuICAgICAgICBjYWxsKFtcIm9uTW92ZVwiLCBcIm9uRHJhZ1wiXSwgW21kLCBteCwgbXldKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblVwKGUpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3ZlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uVXApO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgb25VcCk7XG5cbiAgICAgICAgaWYgKHdhaXRpbmdNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIHJhZk9uTW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNEcmFnID0gZmFsc2U7XG4gICAgICAgIGlmICghaXNPdmVyKSB7XG4gICAgICAgICAgICBvbkxlYXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsKFwib25VcFwiLCBbbWQsIGUuY2xpZW50WCwgZS5jbGllbnRZLCBlXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25FbnRlcigpIHtcbiAgICAgICAgaXNPdmVyID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzRHJhZykge1xuICAgICAgICAgICAgY2FsbChcIm9uRW50ZXJcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxlYXZlKCkge1xuICAgICAgICBpc092ZXIgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWlzRHJhZykge1xuICAgICAgICAgICAgY2FsbChcIm9uTGVhdmVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FsbChuYW1lLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZSBpbiBvcHQpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRbbmFtZV0uYXBwbHkob3B0LnRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiLyogQkFTSUNTICovXFxuXFxuLkNvZGVNaXJyb3Ige1xcbiAgLyogU2V0IGhlaWdodCwgd2lkdGgsIGJvcmRlcnMsIGFuZCBnbG9iYWwgZm9udCBwcm9wZXJ0aWVzIGhlcmUgKi9cXG4gIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbn1cXG4uQ29kZU1pcnJvci1zY3JvbGwge1xcbiAgLyogU2V0IHNjcm9sbGluZyBiZWhhdmlvdXIgaGVyZSAqL1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxufVxcblxcbi8qIFBBRERJTkcgKi9cXG5cXG4uQ29kZU1pcnJvci1saW5lcyB7XFxuICBwYWRkaW5nOiA0cHggMDsgLyogVmVydGljYWwgcGFkZGluZyBhcm91bmQgY29udGVudCAqL1xcbn1cXG4uQ29kZU1pcnJvciBwcmUge1xcbiAgcGFkZGluZzogMCA0cHg7IC8qIEhvcml6b250YWwgcGFkZGluZyBvZiBjb250ZW50ICovXFxufVxcblxcbi5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsIC5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IC8qIFRoZSBsaXR0bGUgc3F1YXJlIGJldHdlZW4gSCBhbmQgViBzY3JvbGxiYXJzICovXFxufVxcblxcbi8qIEdVVFRFUiAqL1xcblxcbi5Db2RlTWlycm9yLWd1dHRlcnMge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG4uQ29kZU1pcnJvci1saW5lbnVtYmVycyB7fVxcbi5Db2RlTWlycm9yLWxpbmVudW1iZXIge1xcbiAgcGFkZGluZzogMCAzcHggMCA1cHg7XFxuICBtaW4td2lkdGg6IDIwcHg7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGNvbG9yOiAjOTk5O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogYmxhY2s7IH1cXG4uQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHsgY29sb3I6ICM5OTk7IH1cXG5cXG4vKiBDVVJTT1IgKi9cXG5cXG4uQ29kZU1pcnJvciBkaXYuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBibGFjaztcXG59XFxuLyogU2hvd24gd2hlbiBtb3ZpbmcgaW4gYmktZGlyZWN0aW9uYWwgdGV4dCAqL1xcbi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLXNlY29uZGFyeWN1cnNvciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHNpbHZlcjtcXG59XFxuLkNvZGVNaXJyb3IuY20ta2V5bWFwLWZhdC1jdXJzb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29yIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgYm9yZGVyOiAwO1xcbiAgYmFja2dyb3VuZDogIzdlNztcXG59XFxuLkNvZGVNaXJyb3IuY20ta2V5bWFwLWZhdC1jdXJzb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB6LWluZGV4OiAxO1xcbn1cXG5cXG4uY20tYW5pbWF0ZS1mYXQtY3Vyc29yIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgYm9yZGVyOiAwO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgLW1vei1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG59XFxuQC1tb3ota2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHsgYmFja2dyb3VuZDogIzdlNzsgfVxcbiAgNTAlIHsgYmFja2dyb3VuZDogbm9uZTsgfVxcbiAgMTAwJSB7IGJhY2tncm91bmQ6ICM3ZTc7IH1cXG59XFxuQC13ZWJraXQta2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHsgYmFja2dyb3VuZDogIzdlNzsgfVxcbiAgNTAlIHsgYmFja2dyb3VuZDogbm9uZTsgfVxcbiAgMTAwJSB7IGJhY2tncm91bmQ6ICM3ZTc7IH1cXG59XFxuQGtleWZyYW1lcyBibGluayB7XFxuICAwJSB7IGJhY2tncm91bmQ6ICM3ZTc7IH1cXG4gIDUwJSB7IGJhY2tncm91bmQ6IG5vbmU7IH1cXG4gIDEwMCUgeyBiYWNrZ3JvdW5kOiAjN2U3OyB9XFxufVxcblxcbi8qIENhbiBzdHlsZSBjdXJzb3IgZGlmZmVyZW50IGluIG92ZXJ3cml0ZSAobm9uLWluc2VydCkgbW9kZSAqL1xcbmRpdi5Db2RlTWlycm9yLW92ZXJ3cml0ZSBkaXYuQ29kZU1pcnJvci1jdXJzb3Ige31cXG5cXG4uY20tdGFiIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7IH1cXG5cXG4uQ29kZU1pcnJvci1ydWxlciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi8qIERFRkFVTFQgVEhFTUUgKi9cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1rZXl3b3JkIHtjb2xvcjogIzcwODt9XFxuLmNtLXMtZGVmYXVsdCAuY20tYXRvbSB7Y29sb3I6ICMyMTk7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLW51bWJlciB7Y29sb3I6ICMxNjQ7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWRlZiB7Y29sb3I6ICMwMGY7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXZhcmlhYmxlLFxcbi5jbS1zLWRlZmF1bHQgLmNtLXB1bmN0dWF0aW9uLFxcbi5jbS1zLWRlZmF1bHQgLmNtLXByb3BlcnR5LFxcbi5jbS1zLWRlZmF1bHQgLmNtLW9wZXJhdG9yIHt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMiB7Y29sb3I6ICMwNWE7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXZhcmlhYmxlLTMge2NvbG9yOiAjMDg1O31cXG4uY20tcy1kZWZhdWx0IC5jbS1jb21tZW50IHtjb2xvcjogI2E1MDt9XFxuLmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nIHtjb2xvcjogI2ExMTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nLTIge2NvbG9yOiAjZjUwO31cXG4uY20tcy1kZWZhdWx0IC5jbS1tZXRhIHtjb2xvcjogIzU1NTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tcXVhbGlmaWVyIHtjb2xvcjogIzU1NTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tYnVpbHRpbiB7Y29sb3I6ICMzMGE7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWJyYWNrZXQge2NvbG9yOiAjOTk3O31cXG4uY20tcy1kZWZhdWx0IC5jbS10YWcge2NvbG9yOiAjMTcwO31cXG4uY20tcy1kZWZhdWx0IC5jbS1hdHRyaWJ1dGUge2NvbG9yOiAjMDBjO31cXG4uY20tcy1kZWZhdWx0IC5jbS1oZWFkZXIge2NvbG9yOiBibHVlO31cXG4uY20tcy1kZWZhdWx0IC5jbS1xdW90ZSB7Y29sb3I6ICMwOTA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWhyIHtjb2xvcjogIzk5OTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tbGluayB7Y29sb3I6ICMwMGM7fVxcblxcbi5jbS1uZWdhdGl2ZSB7Y29sb3I6ICNkNDQ7fVxcbi5jbS1wb3NpdGl2ZSB7Y29sb3I6ICMyOTI7fVxcbi5jbS1oZWFkZXIsIC5jbS1zdHJvbmcge2ZvbnQtd2VpZ2h0OiBib2xkO31cXG4uY20tZW0ge2ZvbnQtc3R5bGU6IGl0YWxpYzt9XFxuLmNtLWxpbmsge3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO31cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1lcnJvciB7Y29sb3I6ICNmMDA7fVxcbi5jbS1pbnZhbGlkY2hhciB7Y29sb3I6ICNmMDA7fVxcblxcbi8qIERlZmF1bHQgc3R5bGVzIGZvciBjb21tb24gYWRkb25zICovXFxuXFxuZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldCB7Y29sb3I6ICMwZjA7fVxcbmRpdi5Db2RlTWlycm9yIHNwYW4uQ29kZU1pcnJvci1ub25tYXRjaGluZ2JyYWNrZXQge2NvbG9yOiAjZjIyO31cXG4uQ29kZU1pcnJvci1tYXRjaGluZ3RhZyB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxNTAsIDAsIC4zKTsgfVxcbi5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7YmFja2dyb3VuZDogI2U4ZjJmZjt9XFxuXFxuLyogU1RPUCAqL1xcblxcbi8qIFRoZSByZXN0IG9mIHRoaXMgZmlsZSBjb250YWlucyBzdHlsZXMgcmVsYXRlZCB0byB0aGUgbWVjaGFuaWNzIG9mXFxuICAgdGhlIGVkaXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCB0b3VjaCB0aGVtLiAqL1xcblxcbi5Db2RlTWlycm9yIHtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGwge1xcbiAgLyogMzBweCBpcyB0aGUgbWFnaWMgbWFyZ2luIHVzZWQgdG8gaGlkZSB0aGUgZWxlbWVudCdzIHJlYWwgc2Nyb2xsYmFycyAqL1xcbiAgLyogU2VlIG92ZXJmbG93OiBoaWRkZW4gaW4gLkNvZGVNaXJyb3IgKi9cXG4gIG1hcmdpbi1ib3R0b206IC0zMHB4OyBtYXJnaW4tcmlnaHQ6IC0zMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdXRsaW5lOiBub25lOyAvKiBQcmV2ZW50IGRyYWdnaW5nIGZyb20gaGlnaGxpZ2h0aW5nIHRoZSBlbGVtZW50ICovXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxufVxcbi5Db2RlTWlycm9yLXNpemVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGJvcmRlci1yaWdodDogMzBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG59XFxuXFxuLyogVGhlIGZha2UsIHZpc2libGUgc2Nyb2xsYmFycy4gVXNlZCB0byBmb3JjZSByZWRyYXcgZHVyaW5nIHNjcm9sbGluZ1xcbiAgIGJlZm9yZSBhY3R1YWxsIHNjcm9sbGluZyBoYXBwZW5zLCB0aHVzIHByZXZlbnRpbmcgc2hha2luZyBhbmRcXG4gICBmbGlja2VyaW5nIGFydGlmYWN0cy4gKi9cXG4uQ29kZU1pcnJvci12c2Nyb2xsYmFyLCAuQ29kZU1pcnJvci1oc2Nyb2xsYmFyLCAuQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDY7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uQ29kZU1pcnJvci12c2Nyb2xsYmFyIHtcXG4gIHJpZ2h0OiAwOyB0b3A6IDA7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcbi5Db2RlTWlycm9yLWhzY3JvbGxiYXIge1xcbiAgYm90dG9tOiAwOyBsZWZ0OiAwO1xcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbiAgb3ZlcmZsb3cteDogc2Nyb2xsO1xcbn1cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyIHtcXG4gIHJpZ2h0OiAwOyBib3R0b206IDA7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgbGVmdDogMDsgYm90dG9tOiAwO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwO1xcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XFxuICB6LWluZGV4OiAzO1xcbn1cXG4uQ29kZU1pcnJvci1ndXR0ZXIge1xcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIHBhZGRpbmctYm90dG9tOiAzMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogLTMycHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAvKiBIYWNrIHRvIG1ha2UgSUU3IGJlaGF2ZSAqL1xcbiAgKnpvb206MTtcXG4gICpkaXNwbGF5OmlubGluZTtcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWVsdCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICB6LWluZGV4OiA0O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1saW5lcyB7XFxuICBjdXJzb3I6IHRleHQ7XFxuICBtaW4taGVpZ2h0OiAxcHg7IC8qIHByZXZlbnRzIGNvbGxhcHNpbmcgYmVmb3JlIGZpcnN0IGRyYXcgKi9cXG59XFxuLkNvZGVNaXJyb3IgcHJlIHtcXG4gIC8qIFJlc2V0IHNvbWUgc3R5bGVzIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UgbWlnaHQgaGF2ZSBzZXQgKi9cXG4gIC1tb3otYm9yZGVyLXJhZGl1czogMDsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOyBib3JkZXItcmFkaXVzOiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIG1hcmdpbjogMDtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxuICB3b3JkLXdyYXA6IG5vcm1hbDtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB6LWluZGV4OiAyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxufVxcbi5Db2RlTWlycm9yLXdyYXAgcHJlIHtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG4gIHdvcmQtYnJlYWs6IG5vcm1hbDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbGluZWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDsgcmlnaHQ6IDA7IHRvcDogMDsgYm90dG9tOiAwO1xcbiAgei1pbmRleDogMDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbGluZXdpZGdldCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAyO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxufVxcblxcbi5Db2RlTWlycm9yLXdpZGdldCB7fVxcblxcbi5Db2RlTWlycm9yLXdyYXAgLkNvZGVNaXJyb3Itc2Nyb2xsIHtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbWVhc3VyZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbi5Db2RlTWlycm9yLW1lYXN1cmUgcHJlIHsgcG9zaXRpb246IHN0YXRpYzsgfVxcblxcbi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3JkZXItcmlnaHQ6IG5vbmU7XFxuICB3aWR0aDogMDtcXG59XFxuXFxuZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAzO1xcbn1cXG4uQ29kZU1pcnJvci1mb2N1c2VkIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kOiAjZDlkOWQ5OyB9XFxuLkNvZGVNaXJyb3ItZm9jdXNlZCAuQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6ICNkN2Q0ZjA7IH1cXG4uQ29kZU1pcnJvci1jcm9zc2hhaXIgeyBjdXJzb3I6IGNyb3NzaGFpcjsgfVxcblxcbi5jbS1zZWFyY2hpbmcge1xcbiAgYmFja2dyb3VuZDogI2ZmYTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDAsIC40KTtcXG59XFxuXFxuLyogSUU3IGhhY2sgdG8gcHJldmVudCBpdCBmcm9tIHJldHVybmluZyBmdW5ueSBvZmZzZXRUb3BzIG9uIHRoZSBzcGFucyAqL1xcbi5Db2RlTWlycm9yIHNwYW4geyAqdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tOyB9XFxuXFxuLyogVXNlZCB0byBmb3JjZSBhIGJvcmRlciBtb2RlbCBmb3IgYSBub2RlICovXFxuLmNtLWZvcmNlLWJvcmRlciB7IHBhZGRpbmctcmlnaHQ6IC4xcHg7IH1cXG5cXG5AbWVkaWEgcHJpbnQge1xcbiAgLyogSGlkZSB0aGUgY3Vyc29yIHdoZW4gcHJpbnRpbmcgKi9cXG4gIC5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICB9XFxufVxcblxcbi8qIEhlbHAgdXNlcnMgdXNlIG1hcmtzZWxlY3Rpb24gdG8gc2FmZWx5IHN0eWxlIHRleHQgYmFja2dyb3VuZCAqL1xcbnNwYW4uQ29kZU1pcnJvci1zZWxlY3RlZHRleHQgeyBiYWNrZ3JvdW5kOiBub25lOyB9XFxuXFxuLyoqXFxuICogUGFzdGVsIE9uIERhcmsgdGhlbWUgcG9ydGVkIGZyb20gQUNFIGVkaXRvclxcbiAqIEBsaWNlbnNlIE1JVFxcbiAqIEBjb3B5cmlnaHQgQXRvbWljUGFnZXMgTExDIDIwMTRcXG4gKiBAYXV0aG9yIERlbm5pcyBUaG9tcHNvbiwgQXRvbWljUGFnZXMgTExDXFxuICogQHZlcnNpb24gMS4xXFxuICogQHNvdXJjZSBodHRwczovL2dpdGh1Yi5jb20vYXRvbWljcGFnZXMvY29kZW1pcnJvci1wYXN0ZWwtb24tZGFyay10aGVtZVxcbiAqL1xcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrLkNvZGVNaXJyb3Ige1xcblxcdGJhY2tncm91bmQ6ICMyYzI4Mjc7XFxuXFx0Y29sb3I6ICM4RjkzOEY7XFxuXFx0bGluZS1oZWlnaHQ6IDEuNTtcXG5cXHRmb250LXNpemU6IDE0cHg7XFxufVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIGRpdi5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogcmdiYSgyMjEsMjQwLDI1NSwwLjIpICFpbXBvcnRhbnQ7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG5cXHRiYWNrZ3JvdW5kOiAjMzQzMDJmO1xcblxcdGJvcmRlci1yaWdodDogMHB4O1xcblxcdHBhZGRpbmc6IDAgM3B4O1xcbn1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogd2hpdGU7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHsgY29sb3I6ICM4RjkzOEY7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1saW5lbnVtYmVyIHsgY29sb3I6ICM4RjkzOEY7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1jdXJzb3IgeyBib3JkZXItbGVmdDogMXB4IHNvbGlkICNBN0E3QTcgIWltcG9ydGFudDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tY29tbWVudCB7IGNvbG9yOiAjQTZDNkZGOyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1hdG9tIHsgY29sb3I6ICNERThFMzA7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLW51bWJlciB7IGNvbG9yOiAjQ0NDQ0NDOyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1wcm9wZXJ0eSB7IGNvbG9yOiAjOEY5MzhGOyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1hdHRyaWJ1dGUgeyBjb2xvcjogI2E2ZTIyZTsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20ta2V5d29yZCB7IGNvbG9yOiAjQUVCMkY4OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1zdHJpbmcgeyBjb2xvcjogIzY2QTk2ODsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tdmFyaWFibGUgeyBjb2xvcjogI0FFQjJGODsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tdmFyaWFibGUtMiB7IGNvbG9yOiAjQkVCRjU1OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS12YXJpYWJsZS0zIHsgY29sb3I6ICNERThFMzA7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWRlZiB7IGNvbG9yOiAjNzU3YUQ4OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1icmFja2V0IHsgY29sb3I6ICNmOGY4ZjI7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXRhZyB7IGNvbG9yOiAjQzFDMTQ0OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1saW5rIHsgY29sb3I6ICNhZTgxZmY7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXF1YWxpZmllciwuY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWJ1aWx0aW4geyBjb2xvcjogI0MxQzE0NDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tZXJyb3Ige1xcblxcdGJhY2tncm91bmQ6ICM3NTdhRDg7XFxuXFx0Y29sb3I6ICNmOGY4ZjA7XFxufVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wMzEpICFpbXBvcnRhbnQ7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yNSk7XFxuXFx0Y29sb3I6ICM4RjkzOEYgIWltcG9ydGFudDtcXG5cXHRtYXJnaW46IC0xcHggLTFweCAwIC0xcHg7XFxufVxcblwiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xuXG52YXIgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgdGl0bGU6ICdDb3B5Jyxcbn0pO1xuXG5kaWFsb2cuYWRkQnV0dG9uKCdvaycsICdoaWRlJyk7XG5cbnZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG5kaWFsb2cuZGVDb250ZW50LmFwcGVuZENoaWxkKGlucHV0KTtcbmRpYWxvZy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlQ2xpcGJvYXJkIChhbSkge1xuXG4gICAgYW0uY2xpcGJvYXJkID0ge1xuXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gZGF0YTtcbiAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7XG4gICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgaW5wdXQuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgIGlmIChhbS5pc0V4dGVuc2lvbigpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJDb3B5XCIsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgICAgICAgICBkaWFsb2cuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1Ub29scyA9IHJlcXVpcmUoJy4vYW0udG9vbHMnKTtcbnZhciBhbU1lbnUgPSByZXF1aXJlKCcuL2FtLm1lbnUnKTtcbnZhciBhbUNsaXBib2FyZCA9IHJlcXVpcmUoJy4vYW0uY2xpcGJvYXJkJyk7XG52YXIgYmFzZVdvcmtzcGFjZSA9IHJlcXVpcmUoJy4vYmFzZVdvcmtzcGFjZScpO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgV2luZG9vbWFuID0gcmVxdWlyZSgnLi4vd2luZG9vbWFuJyk7XG52YXIgSGlzdG9yeVRhYiA9IHJlcXVpcmUoJy4uL2hpc3RvcnlUYWInKTtcbnZhciBXYXJlaG91c2VtYW4gPSByZXF1aXJlKCcuLi93YXJlaG91c2VtYW4nKTtcbnZhciBzaG9ydGN1dHMgPSByZXF1aXJlKCcuLi9zaG9ydGN1dHMnKTtcbnZhciBDaHJvbmljbGVyID0gcmVxdWlyZSgnLi4vY2hyb25pY2xlcicpO1xudmFyIERvbVBpY2tlciA9IHJlcXVpcmUoJy4uL2RvbS1waWNrZXInKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi4vaTE4bicpO1xudmFyIFRvdXIgPSByZXF1aXJlKCcuLi90b3VyJyk7XG52YXIgTW91c2UgPSByZXF1aXJlKCcuLi9tb3VzZScpO1xudmFyIFByb2plY3RNYXAgPSByZXF1aXJlKCcuLi9wcm9qZWN0L1Byb2plY3RNYXAnKTtcbnZhciBkaWFsb2dXSVAgPSByZXF1aXJlKCcuLi9jb21tb25EaWFsb2dzL2RpYWxvZ1dJUCcpO1xudmFyIGRpYWxvZ0ZlZWRiYWNrID0gcmVxdWlyZSgnLi4vY29tbW9uRGlhbG9ncy9kaWFsb2dGZWVkYmFjaycpO1xudmFyIGRpYWxvZ1dlbGNvbWUgPSByZXF1aXJlKCcuLi9jb21tb25EaWFsb2dzL2RpYWxvZ1dlbGNvbWUnKTtcbnZhciBtaW5lU2F2ZSA9IHJlcXVpcmUoJy4uL21pbmVTYXZlJyk7XG52YXIgbW9kdWxlcyA9IHtcbiAgICBjc3M6IHJlcXVpcmUoJy4uL21vZHVsZXMvY3NzJyksXG4gICAgLy8ganM6IHJlcXVpcmUoJy4vbW9kdWxlcy9qYXZhc2NyaXB0JyksXG4gICAgZG9tVHJlZTogcmVxdWlyZSgnLi4vbW9kdWxlcy9hbS1kb210cmVlJyksXG59O1xudmFyIGV4dGVybmFsU3R5bGVzaGVldHMgPSBbXG4gICAgLy8gcmVxdWlyZSgnLi9hc3NldHMvZm9udGVsbG8vY3NzL2FtZ3VpLmNzcycpLFxuICAgIHJlcXVpcmUoJy4uL2FtLmNzcycpLFxuXTtcblxudmFyIGlzSW5pdGVkID0gZmFsc2UsIGhhbmRsZXJCdWZmID0gW107XG5cblxudmFyIGFtID0gd2luZG93LmFtID0gbW9kdWxlLmV4cG9ydHMgPSBfLmV4dGVuZChuZXcgRXZlbnRFbWl0dGVyKCksIHdpbmRvdy5hbSwge1xuXG4gICAgdHJhY2tUeXBlczoge30sXG5cbiAgICBfc3RhdGljVG9vbGJhckljb25zOiBbXSxcblxuICAgIHNlbGVjdGVkRG9tRWxlbTogdW5kZWZpbmVkLFxuICAgIHNlbGVjdGVkVHJhY2s6IHVuZGVmaW5lZCxcblxuICAgIHJlZ2lzdGVyVHJhY2tUeXBlOiBmdW5jdGlvbiAoVHJhY2ssIHR5cGUpIHtcblxuICAgICAgICB0aGlzLnRyYWNrVHlwZXNbdHlwZV0gPSBUcmFjaztcbiAgICB9XG59KTtcbmFtLnNldE1heExpc3RlbmVycygxMjM0KTtcblxuYW0udGhyb3dIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcblxuICAgIGhhbmRsZXJCdWZmLnB1c2goaGFuZGxlcik7XG59O1xuXG5hbS5vcGVuID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGFtLnJlcG9ydCh7ZXZ0TmFtZTogJ29wZW4nLCAndmFsdWUnOiAxfSk7XG5cbiAgICB2YXIgcHJvbWlzZUJvZHkgPSAoZnVsZmlsbCwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgYW0uX2luaXQoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhbS5yb290RWxlbSk7XG5cbiAgICAgICAgaWYgKHNhdmUpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihzYXZlKSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgICAgIHVzZVNhdmUoc2F2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Yoc2F2ZSkgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2F2ZS5pbmRleE9mKCd7JykgPT09IC0xKSB7Ly9UT0RPIGRldGVybWluZSBpZiBpdCBpcyBhbiB1cmwgYmV0dGVyXG5cbiAgICAgICAgICAgICAgICAgICAgZmV0Y2goc2F2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdXNlU2F2ZShyZXNwb25zZSksIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2VTYXZlKHNhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghYW0ucHJvamVjdE1hcC5jdXJyUHJvamVjdCl7XG5cbiAgICAgICAgICAgIGFtLm9wZW5OZXdQcm9qZWN0KCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIHVzZVNhdmUoc2F2ZSkge1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKHNhdmUpID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSA9IEpTT04ucGFyc2Uoc2F2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhdmUgPSBtaW5lU2F2ZShzYXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc2F2ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdDYW5cXCd0IHVzZSB0aGlzIHNhdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW0ucHJvamVjdE1hcC5mb2N1cyhzYXZlKTtcbiAgICAgICAgICAgIGZ1bGZpbGwoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdhbS5vcGVuIGlzIGluIGRlYnVnIG1vZGUhJyk7XG4gICAgICAgIHByb21pc2VCb2R5KCk7IC8vZGVidWdcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UocHJvbWlzZUJvZHkpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGFtLnJlcG9ydCh7ZXZ0TmFtZTogJ29wZW4nLCAndmFsdWUnOiAxfSk7XG5cbiAgICAgICAgICAgIGFtLmRpYWxvZ3Mud2VsY29tZS5zaG93KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnN0YWNrKTtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmFtLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoYW0ucm9vdEVsZW0ucGFyZW50Tm9kZSkge1xuXG4gICAgICAgIGFtLnJvb3RFbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYW0ucm9vdEVsZW0pO1xuICAgIH1cbn07XG5cbmFtLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmIChhbS5yb290RWxlbS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgYW0uaGlkZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYW0ub3BlbigpO1xuICAgIH1cbn07XG5cbmFtLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKGlzSW5pdGVkKSByZXR1cm47XG4gICAgaXNJbml0ZWQgPSB0cnVlO1xuXG4gICAgYW0uZGVSb290ID0gZG9jdW1lbnQuYm9keTtcblxuICAgIGNyZWF0ZUFtUm9vdCgpO1xuICAgIGFtLmRlUGlja0xheWVyID0gY3JlYXRlQW1MYXllcigpO1xuICAgIGFtLmRlSGFuZGxlckNvbnQgPSBjcmVhdGVBbUxheWVyKCk7XG4gICAgYW0uZGVHdWlDb250ID0gY3JlYXRlQW1MYXllcigpO1xuICAgIGFtLmRlRGlhbG9nQ29udCA9IGNyZWF0ZUFtTGF5ZXIoKTtcblxuICAgIGFtZ3VpLmRlT3ZlcmxheUNvbnQgPSBhbS5kZURpYWxvZ0NvbnQ7XG5cbiAgICBhbS5pMThuID0gaTE4bjtcblxuICAgIGFtLndvcmtzcGFjZSA9IG5ldyBXaW5kb29tYW4oKTtcbiAgICBhbS5kZUd1aUNvbnQuYXBwZW5kQ2hpbGQoYW0ud29ya3NwYWNlLmRvbUVsZW0pO1xuICAgIGFtLndvcmtzcGFjZS5sb2FkV29ya3NwYWNlKCdiYXNlJywgYmFzZVdvcmtzcGFjZSk7XG4gICAgYW0ud29ya3NwYWNlLmxvYWQoJ2Jhc2UnKTtcblxuICAgIGFtLnByb2plY3RNYXAgPSBuZXcgUHJvamVjdE1hcCgpO1xuXG4gICAgYW0ubW91c2UgPSBuZXcgTW91c2UoKTtcblxuICAgIGFtLnN0b3JhZ2UgPSBuZXcgV2FyZWhvdXNlbWFuKCk7XG5cbiAgICBhbS50b3VyID0gbmV3IFRvdXIoKTtcblxuICAgIGFtLmhpc3RvcnkgPSBuZXcgQ2hyb25pY2xlcigpO1xuICAgIHNob3J0Y3V0cy5vbigndW5kbycsICgpID0+IGFtLmhpc3RvcnkudW5kbygpKTtcbiAgICBzaG9ydGN1dHMub24oJ3JlZG8nLCAoKSA9PiBhbS5oaXN0b3J5LnJlZG8oKSk7XG5cbiAgICBhbS5oaXN0b3J5VGFiID0gbmV3IEhpc3RvcnlUYWIoKTtcbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYignSGlzdG9yeScsIGFtLmhpc3RvcnlUYWIuZG9tRWxlbSk7XG5cbiAgICBhbS5kb21QaWNrZXIgPSBuZXcgRG9tUGlja2VyKCk7XG4gICAgYW0uZGVIYW5kbGVyQ29udC5hcHBlbmRDaGlsZChhbS5kb21QaWNrZXIuZG9tRWxlbSk7XG4gICAgYW0uZG9tUGlja2VyLm9uKCdwaWNrJywgZGUgPT4gYW0uc2VsZWN0RG9tRWxlbShkZSkpO1xuXG4gICAgYW1DbGlwYm9hcmQoYW0pO1xuICAgIGFtTWVudShhbSk7XG4gICAgaW5zcGVjdEhhbmRsZXJDb250KGFtLmRlSGFuZGxlckNvbnQpO1xuICAgIGFkZFRvZ2dsZUd1aSgpO1xuICAgIGFtVG9vbHMoYW0pO1xuICAgIGNyZWF0ZVN0YXR1c0xhYmVsKCk7XG5cbiAgICBhbS5kaWFsb2dzID0ge1xuICAgICAgICBXSVA6IGRpYWxvZ1dJUCxcbiAgICAgICAgZmVlZGJhY2s6IGRpYWxvZ0ZlZWRiYWNrLFxuICAgICAgICB3ZWxjb21lOiBkaWFsb2dXZWxjb21lLFxuICAgIH07XG5cbiAgICBPYmplY3Qua2V5cyhtb2R1bGVzKS5mb3JFYWNoKCBtb2R1bGVOYW1lID0+IHtcblxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcsIG1vZHVsZU5hbWUsICdtb2R1bGUuLi4nKTtcblxuICAgICAgICBtb2R1bGVzW21vZHVsZU5hbWVdLmluaXQoYW0pO1xuICAgIH0pO1xufTtcblxuYW0ub3Blbk5ld1Byb2plY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBhbS5wcm9qZWN0TWFwLmZvY3VzKHtcbiAgICAgICAgbmFtZTogJ25ldyBwcm9qZWN0JyxcbiAgICAgICAgdGltZWxpbmVzOiBbe31dLFxuICAgIH0pO1xufTtcblxuYW0uc2V0VGltZWxpbmUgPSBmdW5jdGlvbiAodGltZWxpbmUpIHtcblxuICAgIGlmICh0aW1lbGluZSkge1xuICAgICAgICB0aW1lbGluZS50b29sYmFyLmFkZEljb24oYW0uX3N0YXRpY1Rvb2xiYXJJY29ucyk7XG4gICAgfVxuXG4gICAgYW0uY3VyclRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYigndGltZWxpbmUnLCB0aW1lbGluZSAmJiB0aW1lbGluZS5kb21FbGVtKTtcbn07XG5cbmFtLnNldEN1cnJUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgaWYgKGFtLmN1cnJUcmFjayA9PT0gdHJhY2spIHJldHVybjtcblxuICAgIGFtLmN1cnJUcmFjayA9IHRyYWNrO1xuXG4gICAgYW0uZW1pdCgnY2hhbmdlLmN1cnJUcmFjaycsIGFtLmN1cnJUcmFjayk7XG59O1xuXG5hbS5zZWxlY3REb21FbGVtID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICBpZiAoIWRlKSB0aHJvdyBFcnJvcjtcbiAgICBpZiAoYW0uc2VsZWN0ZWREb21FbGVtID09PSBkZSkgcmV0dXJuO1xuXG4gICAgYW0uc2VsZWN0ZWREb21FbGVtID0gZGU7XG4gICAgYW0uZW1pdCgnc2VsZWN0RG9tRWxlbScsIGFtLnNlbGVjdGVkRG9tRWxlbSk7XG59O1xuXG5hbS5kZXNlbGVjdERvbUVsZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIWFtLnNlbGVjdGVkRG9tRWxlbSkgcmV0dXJuO1xuXG4gICAgYW0uc2VsZWN0ZWREb21FbGVtID0gdW5kZWZpbmVkO1xuICAgIGFtLmVtaXQoJ2Rlc2VsZWN0RG9tRWxlbScpO1xufTtcblxuYW0uaXNQaWNrYWJsZURvbUVsZW0gPSBmdW5jdGlvbiAoZGVUZXN0KSB7XG4gICAgLy9UT0RPIHVzZSAuY29tcGFyZURvY3VtZW50UG9zaXRpb24oKVxuICAgIGlmICghZGVUZXN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RlcChkZVRlc3QpO1xuXG4gICAgZnVuY3Rpb24gc3RlcChkZSkge1xuXG4gICAgICAgIGlmICghZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZS5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlLmhhc0F0dHJpYnV0ZSgnZGF0YS1hbS1waWNrJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlLmhhc0F0dHJpYnV0ZSgnZGF0YS1hbS1ub3BpY2snKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGUgIT09IGRlVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoZGUucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5cbmFtLnJlcG9ydCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmIChhbS5pc0V4dGVuc2lvbigpKSB7XG5cbiAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZ0TmFtZTogb3B0LmV2dE5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG9wdC52YWx1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmZhcmV3ZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5hbS5pc0V4dGVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBjaHJvbWUgJiYgY2hyb21lLnN0b3JhZ2U7XG59O1xuXG5hbS5zZXRWYXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGNiKSB7XG5cbiAgICBpZiAoYW0uaXNFeHRlbnNpb24oKSkge1xuXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtbbmFtZV06IHZhbHVlfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICBpZiAoY2IpIGNiKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19fYW5pbWFjaGluZV92YXJfJyArIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgaWYgKGNiKSBjYigpO1xuICAgIH1cbn07XG5cbmFtLmdldFZhciA9IGZ1bmN0aW9uIChuYW1lLCBjYikge1xuXG4gICAgaWYgKGFtLmlzRXh0ZW5zaW9uKCkpIHtcblxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChuYW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgIGlmIChjYikgY2IodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX19hbmltYWNoaW5lX3Zhcl8nICsgbmFtZSk7XG4gICAgICAgIGNiKHZhbHVlKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGluc3BlY3RIYW5kbGVyQ29udChkZUNvbnQpIHtcblxuICAgIHZhciBjb25maWcgPSB7Y2hpbGRMaXN0OiB0cnVlfSxcbiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcblxuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cbiAgICAgICAgXyhkZUNvbnQuY2hpbGRyZW4pXG4gICAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgICAuc29ydEJ5KCdyZW5kZXJMZXZlbCcpXG4gICAgICAgICAgICAuZm9yRWFjaChkZSA9PiBkZUNvbnQuYXBwZW5kQ2hpbGQoZGUpKTtcblxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRlQ29udCwgY29uZmlnKTtcbiAgICB9KTtcblxuICAgIG9ic2VydmVyLm9ic2VydmUoZGVDb250LCBjb25maWcpO1xufVxuXG5mdW5jdGlvbiBhZGRUb2dnbGVHdWkoKSB7XG5cbiAgICB2YXIgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgIGFtLl9zdGF0aWNUb29sYmFySWNvbnMucHVzaCh7XG4gICAgICAgIGRlSWNvbjogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICB0b29sdGlwOiAnc2hvdy9oaWRlIGVkaXRvcicsXG4gICAgICAgICAgICBpY29uOiAncmVzaXplLXNtYWxsJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhpZGUsXG4gICAgICAgICAgICBzaXplOiAyNCxcbiAgICAgICAgfSksXG4gICAgICAgIHNlcGFyYXRvcjogJ2ZpcnN0JyxcbiAgICB9KTtcblxuICAgIHZhciBidG5GdWxsID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHNpemU6IDI0LFxuICAgICAgICBpY29uOiAncmVzaXplLWZ1bGwnLFxuICAgICAgICB0b29sdGlwOiAnc2hvdyBlZGl0b3InLFxuICAgICAgICBvbkNsaWNrOiBzaG93LFxuICAgIH0pO1xuXG4gICAgc2hvcnRjdXRzLm9uKCdzaG93L2hpZGVQYW5lbHMnLCB0b2dnbGUpO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlKCkge1xuXG4gICAgICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICBpZiAoaXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGFtLmRlR3VpQ29udC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnRuRnVsbCk7XG5cbiAgICAgICAgdmFyIHpJbmRleCA9IGdldE1heFpJbmRleCgpO1xuICAgICAgICBpZiAoekluZGV4KSB7XG4gICAgICAgICAgICBidG5GdWxsLnN0eWxlLnpJbmRleCA9IHpJbmRleCArIDEwMDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgIGlmICghaXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgICAgICBhbS5kZUd1aUNvbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGJ0bkZ1bGwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChidG5GdWxsKTtcbiAgICB9XG5cbiAgICBidG5GdWxsLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIGJ0bkZ1bGwuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIGJ0bkZ1bGwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xufVxuXG5cblxuXG5mdW5jdGlvbiBnZXRNYXhaSW5kZXgoKSB7XG5cbiAgICB2YXIgekluZGV4ID0gMCwgZWxzLCB4LCB4TGVuLCBlbCwgdmFsO1xuXG4gICAgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIGZvciAoeCA9IDAsIHhMZW4gPSBlbHMubGVuZ3RoOyB4IDwgeExlbjsgeCArPSAxKSB7XG4gICAgICBlbCA9IGVsc1t4XTtcbiAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSAhPT0gJ3N0YXRpYycpIHtcbiAgICAgICAgdmFsID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgIHZhbCA9ICt2YWw7XG4gICAgICAgICAgaWYgKHZhbCA+IHpJbmRleCkge1xuICAgICAgICAgICAgekluZGV4ID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gekluZGV4O1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gY3JlYXRlQW1Sb290KCkge1xuXG4gICAgLy8gJCgnYm9keScpLmNzcygnb3BhY2l0eScsIDApXG4gICAgICAgIC8vIC5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHskKCdib2R5JykuY3NzKCdvcGFjaXR5JywgMSl9KVxuICAgICAgICAvLyAubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7JCgnYm9keScpLmNzcygnb3BhY2l0eScsIC4yMyl9KTtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBkZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgZGUuc3R5bGUudG9wID0gJzBweCc7XG4gICAgZGUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbiAgICBkZS5zdHlsZS53ZWJrdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuICAgIGRlLnNldEF0dHJpYnV0ZSgnZGF0YS1hbS1ub3BpY2snLCAnJyk7XG5cbiAgICB2YXIgekluZGV4ID0gZ2V0TWF4WkluZGV4KCk7XG4gICAgaWYgKHpJbmRleCkge1xuICAgICAgICBkZS5zdHlsZS56SW5kZXggPSB6SW5kZXggKyAxMDAwO1xuICAgIH1cblxuICAgIHZhciBzciA9IGRlLmNyZWF0ZVNoYWRvd1Jvb3QoKTtcblxuICAgIHNyLmFwcGVuZENoaWxkKGFtZ3VpLmdldFN0eWxlU2hlZXQoKSk7XG5cbiAgICBleHRlcm5hbFN0eWxlc2hlZXRzLmZvckVhY2goZnVuY3Rpb24gKGNzcykge1xuXG4gICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGNzcztcbiAgICAgICAgc3IuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAvLyBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9KTtcblxuICAgIGFtLnJvb3RFbGVtID0gZGU7XG4gICAgYW0ucm9vdFNoYWRvdyA9IHNyO1xuICAgIC8vIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQW1MYXllcigpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgZGUuc2V0QXR0cmlidXRlKCdkYXRhLWFtLW5vcGljaycsICcnKTtcbiAgICBhbS5yb290U2hhZG93LmFwcGVuZENoaWxkKGRlKTtcbiAgICByZXR1cm4gZGU7XG59XG5cblxuXG5cblxuZnVuY3Rpb24gY3JlYXRlU3RhdHVzTGFiZWwoKSB7XG5cbiAgICB2YXIgZGVUaXRsZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogJ0FuaW1hY2hpbmUgKGFscGhhKScsXG4gICAgICAgIHBhcmVudDogYW0uZGVEaWFsb2dDb250LFxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgZm9udFNpemU6ICcxOHB4J1xuICAgIH0pO1xuXG4gICAgZGVUaXRsZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIGRlVGl0bGUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGVUaXRsZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBkZVRpdGxlLnN0eWxlLm9wYWNpdHkgPSAnMC4yMyc7XG4gICAgZGVUaXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xufVxuIiwidmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVNZW51KGFtKSB7XG5cbiAgICB2YXIgZGVNZW51SWNvbiA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICB0b29sdGlwOiAnbWVudScsXG4gICAgICAgIGljb246ICdtZW51JyxcbiAgICAgICAgc2l6ZTogMjQsXG4gICAgfSk7XG5cbiAgICBhbS5fc3RhdGljVG9vbGJhckljb25zLnB1c2goe1xuICAgICAgICBkZUljb246IGRlTWVudUljb24sXG4gICAgICAgIHNlcGFyYXRvcjogJ3Rvb2xzJyxcbiAgICB9KTtcblxuICAgIGFtLm1lbnVEcm9wZG93biA9IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnZmxvcHB5JyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICB7dGV4dDogJ25ldycsIG9uU2VsZWN0OiAoKSA9PiBhbS5vcGVuTmV3UHJvamVjdCgpLCBpY29uOiAnZG9jJ30sXG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAnc2F2ZScsIG9uU2VsZWN0OiBvblNlbGVjdFNhdmUsIGljb246ICd1cGxvYWQtY2xvdWQnfSxcbiAgICAgICAgICAgICAgICAgICAgLy8ge3RleHQ6ICdzYXZlQXMnLCBvblNlbGVjdDogb25TZWxlY3RTYXZlfSxcbiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICdvcGVuJywgb25TZWxlY3Q6IG9uU2VsZWN0T3BlbiwgaWNvbjogJ2Rvd25sb2FkLWNsb3VkJ30sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAndW5kbycsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2NjdycsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uaGlzdG9yeS51bmRvKCksXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ3JlZG8nLFxuICAgICAgICAgICAgICAgIGljb246ICdjdycsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uaGlzdG9yeS5yZWRvKCksXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJmZWVkYmFja1wiLFxuICAgICAgICAgICAgICAgIGljb246IFwibWVnYXBob25lXCIsXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBcInJlc3RcIixcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBhbS5kaWFsb2dzLmZlZWRiYWNrLnNob3coKSxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcInZpZXcgb24gZ2l0aHViXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCJnaXRodWJcIixcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwicmVzdFwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly9naXRodWIuY29tL2FuaW1hY2hpbmUvYW5pbWFjaGluZVwiKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlTWVudUljb24sXG4gICAgICAgIGRlRHJvcGRvd246IGFtLm1lbnVEcm9wZG93bixcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG9uU2VsZWN0U2F2ZSgpIHtcblxuICAgICAgICBhbS5zdG9yYWdlLnNob3dTYXZlRGlhbG9nKHtcblxuICAgICAgICAgICAgZ2V0U2F2ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG9wdCA9IGFtLnN0b3JhZ2UuZ2V0U2F2ZU9wdGlvbnMoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBhbS5wcm9qZWN0TWFwLmN1cnJQcm9qZWN0LmdldFNjcmlwdChvcHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblNlbGVjdE9wZW4oKSB7XG5cbiAgICAgICAgYW0uc3RvcmFnZS5zaG93T3BlbkRpYWxvZyh7XG5cbiAgICAgICAgICAgIG9uT3BlbjogZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgICAgICAgICAgICAgIGFtLm9wZW4oc2F2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iLCJ2YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRvb2xzIChhbSkge1xuXG4gICAgYW0uZGVQaWNrTGF5ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblxuICAgIHZhciBtb2RlID0gJ3BpY2snO1xuXG4gICAgdmFyIGN1cnNvcnMgPSB7XG4gICAgICAgIGludGVyYWN0OiAnYXV0bycsXG4gICAgICAgIHBpY2s6ICdhdXRvJyxcbiAgICAgICAgbW92ZTogJy13ZWJraXQtZ3JhYicsXG4gICAgfVxuXG4gICAgdmFyIGN1cnJNb2RlLCBtb2RlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2ludGVyYWN0JyxcbiAgICAgICAgICAgIHRleHQ6ICdub3JtYWwgcGFnZSBpbnRlcmFjdCcsXG4gICAgICAgICAgICBpY29uOiAnY3Vyc29yJyxcbiAgICAgICAgICAgIGN1cnNvcjogJ2F1dG8nLCBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ3BpY2snLFxuICAgICAgICAgICAgdGV4dDogJ2RvbSBwaWNraW5nIG1vZGUnLFxuICAgICAgICAgICAgaWNvbjogJ3RhcmdldCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdhdXRvJywgXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICdtb3ZlJyxcbiAgICAgICAgICAgIHRleHQ6ICdkcmFnICcsXG4gICAgICAgICAgICBpY29uOiAnbW92ZScsXG4gICAgICAgICAgICBjdXJzb3I6ICctd2Via2l0LWdyYWInLCBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ3pvb20nLFxuICAgICAgICAgICAgdGV4dDogJ3pvb20gJyxcbiAgICAgICAgICAgIGljb246ICd6b29tLWluJyxcbiAgICAgICAgICAgIGN1cnNvcjogJy13ZWJraXQtem9vbS1pbicsICBcbiAgICAgICAgfSxcbiAgICBdXG5cbiAgICBmdW5jdGlvbiBzZWxlY3RNb2RlKG0pIHtcblxuICAgICAgICBpZiAobSA9PT0gY3Vyck1vZGUpIHJldHVybjtcblxuICAgICAgICBpZiAobS50eXBlID09PSAnem9vbScpIHtcbiAgICAgICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJNb2RlID0gbTtcblxuICAgICAgICBidG4uc2V0SWNvbihjdXJyTW9kZS5pY29uKTtcblxuICAgICAgICBhbS5kZVBpY2tMYXllci5zdHlsZS5wb2ludGVyRXZlbnRzID0gY3Vyck1vZGUudHlwZSA9PT0gJ2ludGVyYWN5JyA/ICdub25lJyA6ICdhdXRvJztcbiAgICAgICAgYW0uZGVQaWNrTGF5ZXIuc3R5bGUuY3Vyc29yID0gY3Vyck1vZGUuY3Vyc29yO1xuICAgIH1cblxuICAgIHZhciBidG4gPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3RvZ2dsZSBkb20gcGlja2luZyBtb2RlJyxcbiAgICAgICAgaWNvbjogJ3RhcmdldCcsXG4gICAgICAgIGRlZmF1bHRUb2dnbGU6IHRydWUsXG4gICAgICAgIHNpemU6IDI0LFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgIH0pO1xuXG4gICAgYW0uX3N0YXRpY1Rvb2xiYXJJY29ucy5wdXNoKGJ0bik7XG5cbiAgICBzZWxlY3RNb2RlKF8uZmluZChtb2Rlcywge3R5cGU6ICdwaWNrJ30pKTtcblxuICAgIHZhciBkcm9wZG93biA9IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgb3B0aW9uczogbW9kZXMubWFwKChtLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbS50ZXh0LCBcbiAgICAgICAgICAgICAgICBpY29uOiBtLmljb24sXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gc2VsZWN0TW9kZShtb2Rlc1tpZHhdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtkZVRhcmdldDogYnRuLCBkZURyb3Bkb3duOiBkcm9wZG93bn0pO1xuXG4gICAgYW1ndWkub24oJ2ZvbnRMb2FkZWQnLCAoKSA9PiB7XG5cbiAgICAgICAgdmFyIHBpY2tNb2RlID0gXy5maW5kKG1vZGVzLCB7dHlwZTogJ3BpY2snfSk7XG5cbiAgICAgICAgcGlja01vZGUuY3Vyc29yID0gYW1ndWkuY3JlYXRlQ3Vyc29yRnJvbVRleHQoe1xuICAgICAgICAgICAgaWNvbjogJ3RhcmdldCcsXG4gICAgICAgICAgICBjb2xvcjogYW1ndWkuY29sb3IudGV4dCxcbiAgICAgICAgICAgIHdpZHRoOiAyMixcbiAgICAgICAgICAgIGhlaWdodDogMjIsXG4gICAgICAgICAgICBob3RzcG90WDogMTEsXG4gICAgICAgICAgICBob3RzcG90WTogMTEsXG4gICAgICAgICAgICB0ZXh0WDogMixcbiAgICAgICAgICAgIHN0cm9rZToge2NvbG9yOidibGFjaycsIHdpZHRoOiAyfSxcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBhbS5kZVBpY2tMYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICBlID0+IHtcblxuICAgICAgICBpZiAoY3Vyck1vZGUudHlwZSAhPT0gJ3BpY2snKSByZXR1cm47XG5cbiAgICAgICAgYW0uZGVQaWNrTGF5ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgdmFyIGRlID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLngsIGUueSk7XG4gICAgICAgIGFtLmRlUGlja0xheWVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG5cbiAgICAgICAgaWYgKGFtLmlzUGlja2FibGVEb21FbGVtKGRlKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGUgIT09IGFtLnNlbGVjdGVkRG9tRWxlbSkgey8vaGFjayFcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhbS5kb21QaWNrZXIuZm9jdXNFbGVtKGRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZSA9PT0gZG9jdW1lbnQuYm9keSB8fCBkZS5wYXJlbnROb2RlID09PSBkb2N1bWVudCkge1xuXG4gICAgICAgICAgICBhbS5kZXNlbGVjdERvbUVsZW0oKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBhbS5kZVBpY2tMYXllcixcbiAgICAgICAgb25Eb3duOiBlID0+IHtcbiAgICAgICAgICAgIGlmIChjdXJyTW9kZS50eXBlICE9PSAnbW92ZScpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnOiBlID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2UuZHh9cHgsICR7ZS5keX1weClgO1xuICAgICAgICAgICAgYW0ucm9vdEVsZW0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgkey1lLmR4fXB4LCAkey1lLmR5fXB4KWA7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICBhbS50b1BpY2tpbmdNb2RlID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgIGFtLmRlR3VpQ29udC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBhbS5kZURpYWxvZ0NvbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBhbS5kb21QaWNrZXIub24oJ2FkZCcsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGUuZGVtYW5kKC0xKS50aGVuKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChvcHQub25QaWNrKSBvcHQub25QaWNrKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2hvcnRjdXRzLm9uKCdlc2MnLCBjbG9zZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvc2UoKSB7XG5cbiAgICAgICAgICAgIGlmIChvcHQub25DbG9zZSkgb3B0Lm9uQ2xvc2UoKTtcblxuICAgICAgICAgICAgc2hvcnRjdXRzLm9mZignZXNjJywgY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJtb2R1bGUuZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz17XG4gICAgXCJ0eXBlXCI6IFwiY29udGFpbmVyXCIsXG4gICAgXCJkaXJlY3Rpb25cIjogXCJjb2x1bW5cIixcbiAgICBcImNoaWxkcmVuXCI6IFt7XG4gICAgICAgIFwidHlwZVwiOiBcImNvbnRhaW5lclwiLFxuICAgICAgICBcImRpcmVjdGlvblwiOiBcInJvd1wiLFxuICAgICAgICBcInNpemVcIjogMi43LFxuICAgICAgICBcInNjYWxlTW9kZVwiOiBcImZsZXhcIixcbiAgICAgICAgXCJjaGlsZHJlblwiOiBbe1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwicGFuZWxcIixcbiAgICAgICAgICAgIFwic2l6ZVwiOiAxLFxuICAgICAgICAgICAgXCJzY2FsZU1vZGVcIjogXCJmbGV4XCIsXG4gICAgICAgICAgICBcInRhYnNcIjogW1xuICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogXCJQcm9qZWN0XCJ9LFxuICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogXCJDc3MgU3R5bGVcIn0sXG4gICAgICAgICAgICAgICAge1wibmFtZVwiOiBcIkRvbSBUcmVlXCJ9LFxuICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogXCJIaXN0b3J5XCJ9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInBhbmVsXCIsXG4gICAgICAgICAgICBcImVtcHR5XCI6IHRydWUsXG4gICAgICAgICAgICBcInNpemVcIjogMi43LFxuICAgICAgICAgICAgXCJzY2FsZU1vZGVcIjogXCJmbGV4XCJcbiAgICAgICAgfV1cbiAgICB9LCB7XG4gICAgICAgIFwidHlwZVwiOiBcInBhbmVsXCIsXG4gICAgICAgIFwic2l6ZVwiOiAxLFxuICAgICAgICBcInNjYWxlTW9kZVwiOiBcImZsZXhcIixcbiAgICAgICAgXCJub0hlYWRcIjogdHJ1ZSxcbiAgICAgICAgXCJ0YWJzXCI6IFt7XCJuYW1lXCI6IFwidGltZWxpbmVcIn1dXG4gICAgfV1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQmV6aWVyRWRpdG9yOiBjcmVhdGVCZXppZXJFZGl0b3IsXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlQmV6aWVyRWRpdG9yKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIHAwID0ge3g6IDAuMywgeTogMC4zfSxcbiAgICAgICAgcDEgPSB7eDogMC43LCB5OiAwLjd9LFxuICAgICAgICB3ID0gb3B0LndpZHRoIHx8IDMxMixcbiAgICAgICAgaCA9IG9wdC5oZWlnaHQgfHwgMzEyLFxuICAgICAgICBjdXJyRWFzZTtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICBkZS5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xuXG4gICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjLndpZHRoID0gdztcbiAgICBjLmhlaWdodCA9IGg7XG4gICAgZGUuYXBwZW5kQ2hpbGQoYyk7XG5cbiAgICB2YXIgY3R4ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdmFyIGRlQ3AwID0gY3JlYXRlQ3AocDApO1xuICAgIHZhciBkZUNwMSA9IGNyZWF0ZUNwKHAxKTtcblxuICAgIGRlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiBbcDAueCwgcDAueSwgcDEueCwgcDEueV07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldFBvaW50cyhwb2ludHMpIHtcblxuICAgICAgICBwMC54ID0gcG9pbnRzWzBdO1xuICAgICAgICBwMC55ID0gcG9pbnRzWzFdO1xuICAgICAgICBwMS54ID0gcG9pbnRzWzJdO1xuICAgICAgICBwMS55ID0gcG9pbnRzWzNdO1xuXG4gICAgICAgIHJlbmRlcigpO1xuICAgIH1cblxuICAgIGRlLnNldEVhc2UgPSBmdW5jdGlvbiAoZWFzZSkge1xuXG4gICAgICAgIGlmIChjdXJyRWFzZSkge1xuICAgICAgICAgICAgZWFzZS5vZmYoJ2NoYW5nZScsIG9uQ2hhbmdlRWFzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyRWFzZSA9IGVhc2U7XG5cbiAgICAgICAgaWYgKGN1cnJFYXNlKSB7XG4gICAgICAgICAgICBlYXNlLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZUVhc2UpO1xuICAgICAgICAgICAgb25DaGFuZ2VFYXNlKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICByZW5kZXIoKTtcblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcblxuXG5cbiAgICBmdW5jdGlvbiBvbkNoYW5nZUVhc2UoKSB7XG5cbiAgICAgICAgc2V0UG9pbnRzKGN1cnJFYXNlLnBvaW50cyk7XG5cbiAgICAgICAgcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyICgpIHtcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpO1xuXG4gICAgICAgIHJlbmRlckVhc2UoKTtcbiAgICAgICAgcmVuZGVyR3VpZGVzKCk7XG5cbiAgICAgICAgZGVDcDAucmVmcmVzaFBvc2l0aW9uKCk7XG4gICAgICAgIGRlQ3AxLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckVhc2UoKSB7XG5cbiAgICAgICAgaWYgKCFjdXJyRWFzZSkgcmV0dXJuO1xuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4KDApLCB5KGN1cnJFYXNlLmdldFJhdGlvKDApKSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3OyArK2kpIHtcbiAgICAgICAgICAgIGxldCBfeCA9IHgoaS93KSwgX3kgPSB5KGN1cnJFYXNlLmdldFJhdGlvKGkvdykpLCBfciA9IGN1cnJFYXNlLmdldFJhdGlvKGkvdyk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHgoaS93KSwgeShjdXJyRWFzZS5nZXRSYXRpbyhpL3cpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBhbWd1aS5jb2xvci5hcXVhO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckd1aWRlcygpIHtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeChwMC54KSwgeShwMC55KSk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgeSgwKSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgICAgICAgICAgeChwMC54KSwgeShwMC55KSxcbiAgICAgICAgICAgIHgocDEueCksIHkocDEueSksXG4gICAgICAgICAgICB4KDEpLCB5KDEpKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4KHAxLngpLCB5KHAxLnkpKTtcblxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgucmVjdCh4KDApLCB5KDApLCB4KDEpLCB5KDEpIC0geSgwKSk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB4IChwKSB7XG4gICAgICAgIHJldHVybiBwICogdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB5IChwKSB7XG5cbiAgICAgICAgdmFyIG1pbiA9IG1pblkoKSxcbiAgICAgICAgICAgIG1heCA9IG1heFkoKSxcbiAgICAgICAgICAgIGZ1bGwgPSBtYXggLSBtaW47XG5cbiAgICAgICAgcmV0dXJuIGggLSAoKChwIC0gbWluKSAvIGZ1bGwpICogaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWluWSgpIHtcblxuICAgICAgICByZXR1cm4gTWF0aC5taW4oMCwgcDAueSwgcDEueSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4WSgpIHtcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMSwgcDAueSwgcDEueSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaEVhc2UoKSB7XG5cbiAgICAgICAgaWYgKCFjdXJyRWFzZSkgcmV0dXJuO1xuXG4gICAgICAgIGN1cnJFYXNlLnBvaW50cyA9IGRlLmdldFZhbHVlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3AocG9pbnQpIHtcblxuICAgICAgICB2YXIgciA9IDY7XG5cbiAgICAgICAgdmFyIGRlQ3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVDcC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlQ3Auc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgICAgICBkZUNwLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICAgICAgZGVDcC5zdHlsZS53aWR0aCA9IHIqMiArICdweCc7XG4gICAgICAgIGRlQ3Auc3R5bGUuaGVpZ2h0ID0gcioyICsgJ3B4JztcbiAgICAgICAgZGVDcC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC0nK3IrJ3B4LC0nK3IrJ3B4KSc7XG4gICAgICAgIGRlQ3Auc3R5bGUuYm9yZGVyUmFkaXVzID0gciArICdweCc7XG4gICAgICAgIGRlQ3Auc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDI1NiwgMjU2LCAyNTYsIDEpJztcbiAgICAgICAgZGUuYXBwZW5kQ2hpbGQoZGVDcCk7XG5cbiAgICAgICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgICAgICBkZVRhcmdldDogZGVDcCxcbiAgICAgICAgICAgIG9uRG93bjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgIGRlQ3Auc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJztcblxuICAgICAgICAgICAgICAgIHZhciBtZCA9IHt9O1xuICAgICAgICAgICAgICAgIG1kLm1pblkgPSBtaW5ZKCk7XG4gICAgICAgICAgICAgICAgbWQuZnVsbFkgPSBtYXhZKCkgLSBtZC5taW5ZO1xuICAgICAgICAgICAgICAgIHJldHVybiBtZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIChtZCwgbXgsIG15KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgIHBvaW50LnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAobXggLSBici5sZWZ0KSAvIHcpKTtcbiAgICAgICAgICAgICAgICBwb2ludC55ID0gKCgoYnIuYm90dG9tIC0gbXkpIC8gaCkgKiBtZC5mdWxsWSkgLSBtZC5taW5ZO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDEwMDA7XG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IHBhcnNlSW50KHBvaW50LnggKiBmaXgpIC8gZml4O1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSBwYXJzZUludChwb2ludC55ICogZml4KSAvIGZpeDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgcmVmcmVzaEVhc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBkZUNwLnN0eWxlLmN1cnNvciA9ICdncmFiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVDcC5yZWZyZXNoUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRlQ3Auc3R5bGUubGVmdCA9IHgocG9pbnQueCkgKyAncHgnO1xuICAgICAgICAgICAgZGVDcC5zdHlsZS50b3AgPSB5KHBvaW50LnkpICsgJ3B4JztcbiAgICAgICAgfTtcbiAgICAgICAgZGVDcC5yZWZyZXNoUG9zaXRpb24oKTtcblxuICAgICAgICByZXR1cm4gZGVDcDtcbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUJyZWFkY3J1bWJzOiBjcmVhdGVCcmVhZGNydW1icyxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVCcmVhZGNydW1icyhvcHQpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBjcnVtYnMgPSBbXTtcblxuICAgIC8vIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIC8vIGRlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIGNydW1iID0gZ2V0Q3J1bWJCeURlKGUudGFyZ2V0KTtcblxuICAgICAgICBpZiAoY3J1bWIpIHtcblxuICAgICAgICAgICAgaWYgKGNydW1iLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgY3J1bWIub25TZWxlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbGVjdCcsIHtkZXRhaWw6IHtzZWxlY3Rpb246IGNydW1ifX0pKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdC5vblNlbGVjdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9wdC5vblNlbGVjdCk7XG4gICAgfVxuXG4gICAgZGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoX2NydW1icykge1xuXG4gICAgICAgIHJlbW92ZUl0ZW1zKCk7XG5cbiAgICAgICAgX2NydW1icy5mb3JFYWNoKGZ1bmN0aW9uIChjcnVtYikge1xuXG4gICAgICAgICAgICBjcnVtYi5kb21FbGVtID0gY3JlYXRlQ3J1bWIoY3J1bWIubmFtZSwgY3J1bWIudmFsdWUpO1xuICAgICAgICAgICAgY3J1bWIuZGVTbGFzaCA9IGNyZWF0ZVNsYXNoKCk7XG4gICAgICAgICAgICBjcnVtYnMucHVzaChjcnVtYik7XG5cbiAgICAgICAgICAgIGNydW1iLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snICwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKGNydW1iLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNydW1iLm9uU2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hTZWxlY3QoY3J1bWIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGU7XG5cblxuXG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hTZWxlY3QoY3J1bWIpIHtcblxuICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0Jywge2RldGFpbDoge3NlbGVjdGlvbjogY3J1bWJ9fSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKCkge1xuXG4gICAgICAgIHZhciBjcnVtYjtcblxuICAgICAgICB3aGlsZSAoY3J1bWJzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBjcnVtYiA9IGNydW1icy5wb3AoKTtcblxuICAgICAgICAgICAgY3J1bWIuZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNydW1iLmRvbUVsZW0pO1xuICAgICAgICAgICAgY3J1bWIuZGVTbGFzaC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNydW1iLmRlU2xhc2gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q3J1bWJCeURlKGRlQ3J1bWIpIHtcblxuICAgICAgICByZXR1cm4gY3J1bWJzLmZpbmQoY3J1bWIgPT4gY3J1bWIuZG9tRWxlbSA9PT0gZGVDcnVtYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3J1bWIobmFtZSwgdmFsdWUpIHtcblxuICAgICAgICB2YXIgZGVDaHJ1bWIgPSBjcmVhdGVMaShuYW1lKTtcblxuICAgICAgICByZXR1cm4gZGVDaHJ1bWI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2xhc2goKSB7XG5cbiAgICAgICAgdmFyIGRlU2xhc2ggPSBjcmVhdGVMaSgnIC8gJyk7XG4gICAgICAgIGRlU2xhc2guc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICByZXR1cm4gZGVTbGFzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMaShjb250ZW50KSB7XG5cbiAgICAgICAgcmV0dXJuIGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgICAgICBwYXJlbnQ6IGRlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUljb246IGNyZWF0ZUljb24sXG4gICAgICAgIGNyZWF0ZUxhYmVsOiBjcmVhdGVMYWJlbCxcbiAgICAgICAgY3JlYXRlQnRuOiBjcmVhdGVCdG4sXG4gICAgICAgIGNyZWF0ZUljb25CdG46IGNyZWF0ZUljb25CdG4sXG4gICAgICAgIGNyZWF0ZVRvZ2dsZUljb25CdG46IGNyZWF0ZVRvZ2dsZUljb25CdG4sXG4gICAgICAgIGNyZWF0ZUxpbmVicmVhazogY3JlYXRlTGluZWJyZWFrLFxuICAgIH07XG59O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmVicmVhayhvcHQpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxhYmVsKG9wdCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KG9wdCksXG4gICAgICAgIGRlSWNvbkxlZnQsIGRlSWNvblJpZ2h0LFxuICAgICAgICBkZVRleHQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICAgICAgcGFyZW50OiBkZSxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuXG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gb3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVCArICdweCc7XG4gICAgZGUuc3R5bGUuZm9udFNpemUgPSBvcHQuZm9udFNpemUgfHwgYW1ndWkuRk9OVF9TSVpFO1xuICAgIGRlLnN0eWxlLmRpc3BsYXkgPSBvcHQuZGlzcGxheSB8fCAnaW5saW5lLWJsb2NrJztcbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgZGUuc3R5bGUuZmxleCA9IG9wdC5mbGV4O1xuICAgIGlmICgncG9zaXRpb24nIGluIG9wdCkgZGUuc3R5bGUucG9zaXRpb24gPSBvcHQucG9zaXRpb247XG4gICAgaWYgKCdjb2xvcicgaW4gb3B0KSBkZS5zdHlsZS5jb2xvciA9IG9wdC5jb2xvcjtcbiAgICBpZiAoJ2ZvbnRXZWlnaHQnIGluIG9wdCkgZGUuc3R5bGUuZm9udFdlaWdodCA9IG9wdC5mb250V2VpZ2h0O1xuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkZSwge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgZGVUZXh0LmlubmVySFRNTCA9IHYgfHwgJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlVGV4dC5pbm5lckhUTUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmljb25MZWZ0ID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaWNvbkxlZnQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXYgJiYgIWRlSWNvbkxlZnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIWRlSWNvbkxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVJY29uTGVmdCAgPSBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBvcHQuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZUljb25MZWZ0LnN0eWxlLm1hcmdpblJpZ2h0ID0gJzNweCc7XG4gICAgICAgICAgICAgICAgICAgIGRlLmluc2VydEJlZm9yZShkZUljb25MZWZ0LCBkZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZUljb25MZWZ0LnNldEljb24odik7XG4gICAgICAgICAgICAgICAgZGVJY29uTGVmdC5zdHlsZS5kaXNwbGF5ID0gdiA/ICdpbmxpbmUnIDogJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpY29uUmlnaHQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXYgJiYgIWRlSWNvblJpZ2h0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCFkZUljb25SaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkZUljb25SaWdodCAgPSBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBvcHQuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZUljb25SaWdodC5zdHlsZS5tYXJnaW5MZWZ0ID0gJzNweCc7XG4gICAgICAgICAgICAgICAgICAgIGRlLmFwcGVuZENoaWxkKGRlSWNvblJpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVJY29uUmlnaHQuc2V0SWNvbih2KTtcbiAgICAgICAgICAgICAgICBkZUljb25SaWdodC5zdHlsZS5kaXNwbGF5ID0gdiA/ICdpbmxpbmUnIDogJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBkZS50ZXh0ID0gb3B0LnRleHQ7XG4gICAgZGUuaWNvbkxlZnQgPSBvcHQuaWNvbkxlZnQgfHwgb3B0Lmljb247XG4gICAgZGUuaWNvblJpZ2h0ID0gb3B0Lmljb25SaWdodDtcblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnRuKG9wdCkge1xuXG4gICAgb3B0LmJhY2tncm91bmQgPSBvcHQuYmFja2dyb3VuZCB8fCBhbWd1aS5jb2xvci5iZzE7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYob3B0KTtcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAob3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVCkgKyAncHgnO1xuICAgIGRlLnN0eWxlLmZvbnRTaXplID0gKG9wdC5mb250U2l6ZSB8fCBhbWd1aS5GT05UX1NJWkUpO1xuICAgIGRlLnN0eWxlLmRpc3BsYXkgPSBvcHQuZGlzcGxheSB8fCAnaW5saW5lLWJsb2NrJztcbiAgICBkZS5zdHlsZS5wYWRkaW5nID0gJzAgNXB4JztcbiAgICBkZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkZSwge1xuXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgICAgIGRlLnRleHRDb250ZW50ID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGUudGV4dCA9IG9wdC50ZXh0IHx8IG9wdC5jYXB0aW9uIHx8ICdidXR0b24nO1xuXG4gICAgYmVoYXZpb3JCdG4oZGUsIG9wdCk7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUljb25CdG4ob3B0KSB7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVJY29uKG9wdCk7XG4gICAgZGUuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIGJlaGF2aW9yQnRuKGRlLCBvcHQpO1xuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBiZWhhdmlvckJ0bihkZSwgb3B0KSB7XG5cbiAgICB2YXIgX2luYWN0aXZlID0gZmFsc2UsXG4gICAgICAgIF9maXhlZEhpZ2hsaWdodCA9IGZhbHNlLFxuICAgICAgICBfbW91c2VPdmVyID0gZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmQgPSBvcHQuYmFja2dyb3VuZCB8fCAnbm9uZScsXG4gICAgICAgIGJhY2tncm91bmRIb3ZlciA9IG9wdC5iYWNrZ3JvdW5kSG92ZXIgfHwgYW1ndWkuY29sb3IuYmdIb3ZlcjtcblxuICAgIGRlLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbk1PdmVyKTtcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NT3V0KTtcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1PdXQpO1xuXG4gICAgaWYgKCdvbkNsaWNrJyBpbiBvcHQpIHtcbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHQub25DbGljayk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGUsIHtcblxuICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICAgICAgdiA9ICEhdjtcbiAgICAgICAgICAgICAgICBpZiAoX2luYWN0aXZlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBfaW5hY3RpdmUgPSB2O1xuICAgICAgICAgICAgICAgIHJlZnJlc2hEZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pbmFjdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZml4ZWRIaWdobGlnaHQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICAgICAgaWYgKF9maXhlZEhpZ2hsaWdodCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgX2ZpeGVkSGlnaGxpZ2h0ID0gdjtcbiAgICAgICAgICAgICAgICByZWZyZXNoRGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfZml4ZWRIaWdobGlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZWZyZXNoRGUoKTtcblxuICAgIGZ1bmN0aW9uIG9uTU92ZXIoKSB7XG5cbiAgICAgICAgX21vdXNlT3ZlciA9IHRydWU7XG4gICAgICAgIHJlZnJlc2hEZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTU91dCgpIHtcblxuICAgICAgICBfbW91c2VPdmVyID0gZmFsc2U7XG4gICAgICAgIHJlZnJlc2hEZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZnJlc2hEZSgpIHtcblxuICAgICAgICBkZS5zdHlsZS5vcGFjaXR5ID0gX2luYWN0aXZlID8gLjQzIDogMTtcbiAgICAgICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IF9pbmFjdGl2ZSA/ICdub25lJyA6ICdhdXRvJztcbiAgICAgICAgZGUuc3R5bGUuYmFja2dyb3VuZCA9IChfbW91c2VPdmVyIHx8IF9maXhlZEhpZ2hsaWdodCkgPyBiYWNrZ3JvdW5kSG92ZXIgOiBiYWNrZ3JvdW5kO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVG9nZ2xlSWNvbkJ0bihvcHQpIHtcblxuICAgIG9wdC5pY29uT24gPSBvcHQuaWNvbk9uIHx8IG9wdC5pY29uO1xuICAgIG9wdC5pY29uT2ZmID0gb3B0Lmljb25PZmYgfHwgb3B0Lmljb247XG4gICAgb3B0Lm9uQ29sb3IgPSBvcHQub25Db2xvciB8fCBvcHQuY29sb3IgfHwgYW1ndWkuY29sb3IudGV4dDtcbiAgICBvcHQub2ZmQ29sb3IgPSBvcHQub2ZmQ29sb3IgfHwgb3B0LmNvbG9yIHx8IGFtZ3VpLmNvbG9yLnRleHRJbmFjdGl2ZTtcblxuICAgIHZhciBpc09uID0gb3B0LmRlZmF1bHRUb2dnbGUgfHwgZmFsc2U7XG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlSWNvbkJ0bihvcHQpO1xuICAgIHNldEljb24oKTtcblxuICAgIGlmICgnYXV0b1RvZ2dsZScgaW4gb3B0ID8gb3B0LmF1dG9Ub2dnbGUgOiAhb3B0Lm9uQ2xpY2spIHtcblxuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVG9nZ2xlQ2xpY2spO1xuICAgIH1cblxuICAgIGlmICgnb25Ub2dnbGUnIGluIG9wdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvZ2dsZScsIG9wdC5vblRvZ2dsZSk7XG4gICAgfVxuXG4gICAgaWYgKCdvbkNsaWNrJyBpbiBvcHQpIHtcblxuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdC5vbkNsaWNrKTtcbiAgICB9XG5cbiAgICBkZS5zZXRUb2dnbGUgPSBmdW5jdGlvbiAob24pIHtcblxuICAgICAgICBvbiA9ICEhb247XG4gICAgICAgIGlmIChvbiA9PT0gaXNPbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNPbiA9IG9uO1xuICAgICAgICBzZXRJY29uKCk7XG5cbiAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3RvZ2dsZScsIHtkZXRhaWw6IHtzdGF0ZTogaXNPbn19KSk7XG4gICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KGlzT24gPyAndG9nZ2xlT24nIDogJ3RvZ2dsZU9mZicpKTtcbiAgICB9O1xuXG4gICAgZGUuc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIGlzT247XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gb25Ub2dnbGVDbGljaygpIHtcblxuICAgICAgICBkZS5zZXRUb2dnbGUoIWlzT24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEljb24oKSB7XG5cbiAgICAgICAgZGUuc2V0SWNvbihpc09uID8gb3B0Lmljb25PbiA6IG9wdC5pY29uT2ZmKTtcblxuICAgICAgICBpZiAob3B0LmNoYW5nZUNvbG9yKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5jb2xvciA9IGlzT24gPyBvcHQub25Db2xvciA6IG9wdC5vZmZDb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSWNvbihvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcbiAgICBvcHQuc2l6ZSA9IG9wdC5zaXplIHx8IG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQ7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICBkZS5zdHlsZS5jb2xvciA9IG9wdC5jb2xvciB8fCBhbWd1aS5jb2xvci50ZXh0O1xuICAgIGRlLnN0eWxlLndpZHRoID0gKG9wdC53aWR0aCB8fCBvcHQuc2l6ZSkgKyAncHgnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IChvcHQuaGVpZ2h0IHx8IG9wdC5zaXplKSArICdweCc7XG4gICAgZGUuc3R5bGUubGluZUhlaWdodCA9IG9wdC5zaXplICsgJ3B4JztcbiAgICBkZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBkZS5zdHlsZS5mb250RmFtaWx5ID0gJ2FtZ3VpJztcbiAgICBkZS5zdHlsZS5mb250U2l6ZSA9IE1hdGgucm91bmQob3B0LnNpemUgKiAwLjcyKSArICdweCc7XG4gICAgZGUuc3R5bGUuZGlzcGxheSA9IG9wdC5kaXNwbGF5IHx8ICdibG9jayc7XG5cbiAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuXG4gICAgZGUuc2V0SWNvbiA9IGZ1bmN0aW9uIChpY29uKSB7XG5cbiAgICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSBhbWd1aS5nZXRJY29uQ2hhcihpY29uKTtcbiAgICB9O1xuXG4gICAgZGUuc2V0SWNvbihvcHQuaWNvbik7XG5cbiAgICBpZiAob3B0LnRvb2x0aXApIHtcbiAgICAgICAgYW1ndWkuYWRkVG9vbHRpcCh7XG4gICAgICAgICAgICBkZVRhcmdldDogZGUsXG4gICAgICAgICAgICB0ZXh0OiBvcHQudG9vbHRpcFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUNoZWNrYm94OiBjcmVhdGVDaGVja2JveCxcbiAgICB9O1xufTtcblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KG9wdCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHBhcmVudDogb3B0LnBhcmVudCxcbiAgICAgICAgfSksXG4gICAgICAgIGlzQ2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGUsIHtcbiAgICAgICAgY2hlY2tlZDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgICAgIGlmIChpc0NoZWNrZWQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlzQ2hlY2tlZCA9IHY7XG5cbiAgICAgICAgICAgICAgICBjYi5zZXRUb2dnbGUoaXNDaGVja2VkKTtcblxuICAgICAgICAgICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7Y2hlY2tlZDogaXNDaGVja2VkfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50ZXh0ID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGNiID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIGljb25PbjogJ2NoZWNrJyxcbiAgICAgICAgaWNvbk9mZjogJ2NoZWNrLWVtcHR5JyxcbiAgICAgICAgcGFyZW50OiBkZSxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgfSk7XG5cbiAgICB2YXIgbGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHRleHQ6IG9wdC50ZXh0LFxuICAgICAgICBwYXJlbnQ6IGRlLFxuICAgIH0pO1xuXG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZGUuY2hlY2tlZCA9ICFkZS5jaGVja2VkO1xuICAgIH0pO1xuXG4gICAgaWYgKG9wdC5vbkNoYW5nZSkge1xuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvcHQub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGRlLmNoZWNrZWQgPSBvcHQuY2hlY2tlZDtcblxuICAgIHJldHVybiBkZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQ3Vyc29yRnJvbVRleHQ6IGNyZWF0ZUN1cnNvckZyb21UZXh0LFxuICAgIH07XG59O1xuXG52YXIgYnVmZiA9IFtdO1xuXG5mdW5jdGlvbiBjcmVhdGVDdXJzb3JGcm9tVGV4dChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcbiAgICBvcHQud2lkdGggPSBvcHQud2lkdGggfHwgMjQ7XG4gICAgb3B0LmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgMjQ7XG4gICAgb3B0LmhvdHNwb3RYID0gJ2hvdHNwb3RYJyBpbiBvcHQgPyBvcHQuaG90c3BvdFggOiBvcHQud2lkdGggLyAyO1xuICAgIG9wdC5ob3RzcG90WSA9ICdob3RzcG90WScgaW4gb3B0ID8gb3B0LmhvdHNwb3RZIDogb3B0LmhlaWdodCAvIDI7XG4gICAgb3B0LnRleHRYID0gb3B0LnRleHRYIHx8IDA7XG4gICAgb3B0LnRleHRZID0gb3B0LnRleHRZIHx8IDA7XG4gICAgb3B0LmZvbnRGYW1pbHkgPSBvcHQuZm9udEZhbWlseSB8fCAnYW1ndWknO1xuICAgIG9wdC5mb250U2l6ZSA9IG9wdC5mb250U2l6ZSB8fCBvcHQuaGVpZ2h0ICsgJ3B4JztcbiAgICBvcHQuY29sb3IgPSBvcHQuY29sb3IgfHwgJyMwMDAnO1xuICAgIG9wdC5yb3RhdGUgPSBvcHQucm90YXRlIHx8IDA7XG4gICAgb3B0LnJvdGF0ZU9yaWdpblggPSBvcHQucm90YXRlT3JpZ2luWCB8fCAwO1xuICAgIG9wdC5yb3RhdGVPcmlnaW5ZID0gb3B0LnJvdGF0ZU9yaWdpblkgfHwgMDtcbiAgICBvcHQudGV4dCA9IG9wdC50ZXh0IHx8IChvcHQuaWNvbiAmJiBhbWd1aS5nZXRJY29uQ2hhcihvcHQuaWNvbikpIHx8ICdBJztcbiAgICBcbiAgICB2YXIgYnVmZmVyZWQgPSBidWZmLmZpbmQoZnVuY3Rpb24oYikge1xuXG4gICAgICAgIGlmIChiLm9wdC53aWR0aCA9PT0gb3B0LndpZHRoICYmXG4gICAgICAgICAgICBiLm9wdC5oZWlnaHQgPT09IG9wdC5oZWlnaHQgJiZcbiAgICAgICAgICAgIGIub3B0LmhvdHNwb3RYID09PSBvcHQuaG90c3BvdFggJiZcbiAgICAgICAgICAgIGIub3B0LmhvdHNwb3RZID09PSBvcHQuaG90c3BvdFkgJiZcbiAgICAgICAgICAgIGIub3B0LnRleHRYID09PSBvcHQudGV4dFggJiZcbiAgICAgICAgICAgIGIub3B0LnRleHRZID09PSBvcHQudGV4dFkgJiZcbiAgICAgICAgICAgIGIub3B0LmZvbnRGYW1pbHkgPT09IG9wdC5mb250RmFtaWx5ICYmXG4gICAgICAgICAgICBiLm9wdC5mb250U2l6ZSA9PT0gb3B0LmZvbnRTaXplICYmXG4gICAgICAgICAgICBiLm9wdC5jb2xvciA9PT0gb3B0LmNvbG9yICYmXG4gICAgICAgICAgICBiLm9wdC5yb3RhdGUgPT09IG9wdC5yb3RhdGUgJiZcbiAgICAgICAgICAgIGIub3B0LnJvdGF0ZU9yaWdpblggPT09IG9wdC5yb3RhdGVPcmlnaW5YICYmXG4gICAgICAgICAgICBiLm9wdC5yb3RhdGVPcmlnaW5ZID09PSBvcHQucm90YXRlT3JpZ2luWSAmJlxuICAgICAgICAgICAgYi5vcHQudGV4dCA9PT0gb3B0LnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYnVmZmVyZWQpIHtcblxuICAgICAgICByZXR1cm4gYnVmZmVyZWQudXJsO1xuICAgIH1cbiAgXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLFxuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBcbiAgICBjYW52YXMud2lkdGggPSBvcHQud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IG9wdC5oZWlnaHQ7XG4gICAgXG4gICAgY3R4LnRyYW5zbGF0ZShvcHQucm90YXRlT3JpZ2luWCwgb3B0LnJvdGF0ZU9yaWdpblkpO1xuICAgIGN0eC5yb3RhdGUob3B0LnJvdGF0ZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtb3B0LnJvdGF0ZU9yaWdpblgsIC1vcHQucm90YXRlT3JpZ2luWSk7XG4gIFxuICAgIGN0eC5mb250ID0gb3B0LmZvbnRTaXplICsgJyAnICsgb3B0LmZvbnRGYW1pbHk7XG4gICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICBcbiAgICBpZiAob3B0LnN0cm9rZSkge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHQuc3Ryb2tlLmNvbG9yO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gb3B0LnN0cm9rZS53aWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZVRleHQob3B0LnRleHQsIG9wdC50ZXh0WCwgb3B0LnRleHRZKTtcbiAgICB9XG4gICAgXG4gICAgY3R4LmZpbGxTdHlsZSA9IG9wdC5jb2xvcjtcbiAgICBjdHguZmlsbFRleHQob3B0LnRleHQsIG9wdC50ZXh0WCwgb3B0LnRleHRZKTtcblxuICAgIGlmIChvcHQuZGVidWcpIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2xpbWUnO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gJzMnO1xuICAgICAgICBjdHgucmVjdCgwLCAwLCBvcHQud2lkdGgsIG9wdC5oZWlnaHQpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgICAgICBjdHguZmlsbFJlY3Qob3B0LmhvdHNwb3RYLCBvcHQuaG90c3BvdFksIDEsIDEpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgdXJpID0gY2FudmFzLnRvRGF0YVVSTCgpLFxuICAgICAgICB1cmwgPSAndXJsKFxcJycgKyB1cmkgKyAnXFwnKSAnK29wdC5ob3RzcG90WCsnICcrb3B0LmhvdHNwb3RZKycsIGF1dG8nO1xuXG4gICAgYnVmZi5wdXNoKHtcbiAgICAgICAgb3B0OiBvcHQsXG4gICAgICAgIHVybDogdXJsLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHVybDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkb21yZWFkeSA9IHJlcXVpcmUoJ2RvbXJlYWR5Jyk7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZURpYWxvZzogY3JlYXRlRGlhbG9nLFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gY3JlYXRlRGlhbG9nKG9wdCkge1xuXG4gICAgdmFyIGRlLCBkZVRpdGxlLCBkZVRpdGxlVGV4dCwgZGVUaXRsZUljb24sIGRlVGl0bGVFbmQsXG4gICAgICAgIGRlQ29udGVudENvbnQsIGRlQnV0dG9uc0NvbnQsIGRlQnV0dG9uc0VuZCwgYnV0dG9ucyA9IFtdO1xuXG4gICAgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaWFsb2cnKTtcblxuICAgIGRvbXJlYWR5KCgpID0+IChvcHQucGFyZW50IHx8IGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGRlKSk7XG5cbiAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIGRlLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICBkZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG5cblxuICAgIGRlVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZVRpdGxlLnN0eWxlLnBhZGRpbmcgPSAnMCAxOHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmhlaWdodCA9ICczNHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmZvbnRTaXplID0gJzIzcHgnO1xuICAgIGRlVGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICc3MDAnO1xuICAgIGRlVGl0bGUuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVUaXRsZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVUaXRsZSk7XG5cbiAgICBkZVRpdGxlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkZVRpdGxlLmFwcGVuZENoaWxkKGRlVGl0bGVUZXh0KTtcblxuICAgIGlmIChvcHQudGl0bGVJY29uKSB7XG5cbiAgICAgICAgZGVUaXRsZUljb24gPSBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgIGljb246IG9wdC50aXRsZUljb24sXG4gICAgICAgICAgICBwYXJlbnQ6IGRlVGl0bGUsXG4gICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVUaXRsZUVuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ2JvdHRvbSc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS5ib3JkZXJXaWR0aCA9ICczNHB4IDAgMCA4cHgnO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgJyArIGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVUaXRsZUVuZCk7XG5cbiAgICBcblxuICAgIGRlQ29udGVudENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZUNvbnRlbnRDb250LnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5O1xuICAgIGRlLmFwcGVuZENoaWxkKGRlQ29udGVudENvbnQpO1xuXG4gICAgZGVCdXR0b25zQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQnV0dG9uc0NvbnQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVCdXR0b25zQ29udCk7XG5cblxuICAgIGRlLnNldFRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG5cbiAgICAgICAgZGVUaXRsZVRleHQudGV4dENvbnRlbnQgPSB0aXRsZSB8fCAnRGlhbG9nJztcbiAgICB9O1xuXG4gICAgZGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cbiAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZUNvbnRlbnRDb250LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBkZUNvbnRlbnRDb250LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIH07XG5cbiAgICBkZS5zZXRCdXR0b25zID0gZnVuY3Rpb24gKGJ1dHRvbnMpIHtcblxuICAgICAgICBpZiAoIWJ1dHRvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbnMubGVuZ3RoID0gW107XG4gICAgICAgIGRlQnV0dG9uc0NvbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG5EYXRhKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2YoYnRuRGF0YSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZGUuYWRkQnV0dG9uKGJ0bkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGUuYWRkQnV0dG9uKGJ0bkRhdGEudGV4dCwgYnRuRGF0YS5vbkNsaWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGRlLmFkZEJ1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0LCBoYW5kbGVyKSB7XG5cbiAgICAgICAgdmFyIGJ0biA9IGFtZ3VpLmNyZWF0ZUJ0bih7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwKScsXG4gICAgICAgIH0pO1xuICAgICAgICBidG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBidG4uc3R5bGUuZm9udFdlaWdodCA9ICc3MDAnO1xuICAgICAgICBidG4uc3R5bGUuZm9udFNpemUgPSAnMThweCc7XG4gICAgICAgIGRlQnV0dG9uc0NvbnQuYXBwZW5kQ2hpbGQoYnRuKTtcblxuICAgICAgICBidXR0b25zLnB1c2goYnRuKTtcblxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSBoYW5kbGVyKCk7XG5cbiAgICAgICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGlja18nICsgdGV4dC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5oaWRlQnV0dG9uID0gZnVuY3Rpb24gKHRleHQpIHtcblxuICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICBpZiAoYnRuLnRleHQgPT09IHRleHQpIHtcblxuICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGUuc2hvd0J1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcblxuICAgICAgICAgICAgaWYgKGJ0bi50ZXh0ID09PSB0ZXh0KSB7XG5cbiAgICAgICAgICAgICAgICBidG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGUuc2V0VGl0bGUob3B0LnRpdGxlKTtcbiAgICBkZS5zZXRDb250ZW50KG9wdC5jb250ZW50KTtcbiAgICBkZS5zZXRCdXR0b25zKG9wdC5idXR0b25zKTtcblxuICAgIGRlQnV0dG9uc0VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUudmVydGljYWxBbGlnbiA9ICd0b3AnO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmJvcmRlcldpZHRoID0gJzAgNnB4IDIxcHggMCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmJvcmRlckNvbG9yID0gJ3RyYW5zcGFyZW50ICcrYW1ndWkuY29sb3Iub3ZlcmxheSsnIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50JztcbiAgICBkZS5hcHBlbmRDaGlsZChkZUJ1dHRvbnNFbmQpO1xuXG4gICAgcmV0dXJuIGRlO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlRHJhd2VyOiBjcmVhdGVEcmF3ZXIsXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlRHJhd2VyKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIGlzT3BlbmVkID0gZmFsc2U7XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGRlLmRlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLmRlSGVhZC5zdHlsZS5oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVCArICdweCc7XG4gICAgZGUuZGVIZWFkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGUuZGVIZWFkKTtcblxuICAgIGRlLmRlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLmFwcGVuZENoaWxkKGRlLmRlQ29udGVudCk7XG4gICAgXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgdmFyIHRvZ2dsZUJ0biA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBpY29uT246ICdhbmdsZS1kb3duJyxcbiAgICAgICAgaWNvbk9mZjogJ2FuZ2xlLXJpZ2h0JyxcbiAgICAgICAgb25DbGljazogb25Ub2dnbGVDbGljayxcbiAgICAgICAgcGFyZW50OiBkZS5kZUhlYWQsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSk7XG5cbiAgICB2YXIgbGFiZWxUaXRsZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogb3B0LnRleHQgfHwgJ2RyYXdlcicsXG4gICAgICAgIHBhcmVudDogZGUuZGVIZWFkLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgIH0pO1xuXG5cblxuXG5cblxuICAgIGRlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpc09wZW5lZCA/IGRlLmNsb3NlKCkgOiBkZS5vcGVuKCk7XG4gICAgfVxuXG4gICAgZGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoaXNPcGVuZWQpIHJldHVybjtcbiAgICAgICAgaXNPcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgIHJlZnJlc2hPcGVuKCk7XG4gICAgfVxuXG4gICAgZGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCFpc09wZW5lZCkgcmV0dXJuO1xuICAgICAgICBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIHJlZnJlc2hPcGVuKCk7XG4gICAgfVxuXG4gICAgcmVmcmVzaE9wZW4oKTtcbiAgICByZXR1cm4gZGU7XG5cblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBvblRvZ2dsZUNsaWNrKCkge1xuICAgICAgICBcbiAgICAgICAgZGUudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaE9wZW4oKSB7XG5cbiAgICAgICAgdG9nZ2xlQnRuLnNldFRvZ2dsZShpc09wZW5lZCk7XG4gICAgICAgIGRlLmRlQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gaXNPcGVuZWQgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnA7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVEcm9wZG93bjogY3JlYXRlRHJvcGRvd24sXG4gICAgICAgIGJpbmREcm9wZG93bjogYmluZERyb3Bkb3duLFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGRlLnN0eWxlLmxpc3RTdHlsZVR5cGUgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUubWFyZ2luID0gMDtcbiAgICBkZS5zdHlsZS5wYWRkaW5nID0gMDtcblxuICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgZGUuYWRkSXRlbSA9IGZ1bmN0aW9uIChvcHRJdGVtKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZihvcHRJdGVtKSA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgICAgICAgb3B0SXRlbSA9IHt0ZXh0OiBvcHRJdGVtfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGxpLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgbGkuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgICAgICBsaS5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JztcbiAgICAgICAgbGkuc3R5bGUucGFkZGluZyA9ICcwIDNweCc7XG4gICAgICAgIGxpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgbGkuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXlJbnZlcnNlO1xuXG4gICAgICAgIG9wdEl0ZW0ubGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbChfLmFzc2lnbih7XG4gICAgICAgICAgICBwYXJlbnQ6IGxpLFxuICAgICAgICAgICAgY29sb3I6IGFtZ3VpLmNvbG9yLnRleHRJbnZlcnNlLFxuICAgICAgICB9LCBvcHRJdGVtKSk7XG5cbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAob3B0SXRlbS5vblNlbGVjdCkgb3B0SXRlbS5vblNlbGVjdCgpOy8vZGVwcmVjYXRlZFxuICAgICAgICAgICAgaWYgKG9wdEl0ZW0ub25DbGljaykgb3B0SXRlbS5vbkNsaWNrKCk7XG5cbiAgICAgICAgICAgIG9uTGVhdmUoKTtcblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbGVjdCcsIHtkZXRhaWw6IHtzZWxlY3Rpb246IG9wdEl0ZW0udGV4dH19KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZS5hcHBlbmRDaGlsZChsaSk7XG5cbiAgICAgICAgdmFyIG9uRW50ZXIgPSAoKSA9PiBsaS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmdJbnZlcnNlLFxuICAgICAgICAgICAgb25MZWF2ZSA9ICgpID0+IGxpLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5SW52ZXJzZTtcblxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25FbnRlcik7XG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbkxlYXZlKTtcblxuICAgICAgICBpdGVtcy5wdXNoKGxpKTtcblxuICAgICAgICBpZiAob3B0SXRlbS5jaGlsZHJlbikge1xuXG4gICAgICAgICAgICBvcHRJdGVtLmxhYmVsLmljb25SaWdodCA9ICdyaWdodC1kaXInO1xuXG4gICAgICAgICAgICBiaW5kRHJvcGRvd24oe1xuICAgICAgICAgICAgICAgIGRlVGFyZ2V0OiBsaSxcbiAgICAgICAgICAgICAgICBkZURyb3Bkb3duOiBjcmVhdGVEcm9wZG93bih7b3B0aW9uczogb3B0SXRlbS5jaGlsZHJlbn0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGk7XG4gICAgfTtcblxuICAgIGRlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAobGkpIHtcblxuICAgICAgICB2YXIgaWR4ID0gaXRlbXMuaW5kZXhPZihsaSk7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm47XG4gICAgICAgIGl0ZW1zLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICAgIGlmIChsaS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgICAgIGxpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGRlLnNldEl0ZW1zID0gZnVuY3Rpb24gKG5ld0l0ZW1zKSB7XG5cbiAgICAgICAgd2hpbGUgKGl0ZW1zLmxlbmd0aCkgZGUucmVtb3ZlSXRlbShpdGVtc1swXSk7XG5cbiAgICAgICAgbmV3SXRlbXMuZm9yRWFjaChvcHRJdGVtID0+IGRlLmFkZEl0ZW0ob3B0SXRlbSkpO1xuICAgIH07XG5cbiAgICBpZiAob3B0Lm9wdGlvbnMpIHtcblxuICAgICAgICBkZS5zZXRJdGVtcyhvcHQub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5vblNlbGVjdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9wdC5vblNlbGVjdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBiaW5kRHJvcGRvd24ob3B0KSB7XG5cbiAgICB2YXIgaXNPcGVuZWQgPSBmYWxzZTtcbiAgICB2YXIgZGVCdG4gPSBvcHQuZGVUYXJnZXQ7XG4gICAgdmFyIGRlRHJvcGRvd24gPSBvcHQuZGVEcm9wZG93biB8fCBvcHQuZGVNZW51O1xuXG4gICAgaWYgKG9wdC5hc0NvbnRleHRNZW51KSB7XG5cbiAgICAgICAgZGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCFpc09wZW5lZCkgb3BlbihlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIWlzT3BlbmVkKSBvcGVuKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0RHJvcGRvd246IGZ1bmN0aW9uIChkZCkge1xuXG4gICAgICAgICAgICBkZURyb3Bkb3duID0gZGQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuKGUpIHtcblxuICAgICAgICBpZiAob3B0Lm9uT3BlbmluZyAmJiBvcHQub25PcGVuaW5nKGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzT3BlbmVkKSByZXR1cm47XG4gICAgICAgIGlzT3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgZGVDb250ID0gb3B0Lm1lbnVQYXJlbnQgfHwgYW1ndWkuZGVPdmVybGF5Q29udCB8fCBkZUJ0bjtcblxuICAgICAgICBkZURyb3Bkb3duLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgZGVEcm9wZG93bi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICBkZUNvbnQuYXBwZW5kQ2hpbGQoZGVEcm9wZG93bik7XG5cbiAgICAgICAgYW1ndWkucGxhY2VUb1BvaW50KGRlRHJvcGRvd24sIGUuY2xpZW50WCwgZS5jbGllbnRZLCBvcHQuc2lkZSk7XG5cbiAgICAgICAgZGVEcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBjbG9zZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgY2xvc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZShlKSB7XG5cbiAgICAgICAgaWYgKCFpc09wZW5lZCkgcmV0dXJuO1xuICAgICAgICBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChkZURyb3Bkb3duLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlRHJvcGRvd24ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChkZURyb3Bkb3duKTtcbiAgICAgICAgfVxuICAgICAgICBkZURyb3Bkb3duLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGNsb3NlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBjbG9zZSk7XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlSW5wdXQ6IGNyZWF0ZUlucHV0LFxuICAgIH07XG59O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0KG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIGlucCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wLnR5cGUgPSBvcHQudHlwZSB8fCAndGV4dCc7XG4gICAgaW5wLnN0eWxlLndpZHRoID0gb3B0LndpZHRoIHx8ICcyNDVweCc7XG4gICAgaW5wLnN0eWxlLmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgIGlucC5zdHlsZS5mb250U2l6ZSA9IG9wdC5mb250U2l6ZSB8fCBhbWd1aS5GT05UX1NJWkU7XG4gICAgaW5wLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICBpbnAuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgIGlucC5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xuICAgIGlucC5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgaW5wLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG5cbiAgICBpZiAoJ3BhbGNlaG9sZGVyJyBpbiBvcHQpIGlucC5wYWxjZWhvbGRlciA9IG9wdC5wYWxjZWhvbGRlcjtcbiAgICBpZiAoJ3ZhbHVlJyBpbiBvcHQpIGlucC52YWx1ZSA9IG9wdC52YWx1ZTtcbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgaW5wLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcblxuICAgIGlmIChvcHQub25DaGFuZ2UpIHtcbiAgICAgICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb3B0Lm9uQ2hhbmdlKTtcbiAgICB9XG4gICAgXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSk7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGlucCk7XG4gICAgfVxuXG4gICAgaW5wLnNldFZhbHVlID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIFxuICAgICAgICBpZiAodiA9PT0gaW5wLnZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgaW5wLnZhbHVlID0gdjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGlucDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGZvbnRlbGxvQ29uZiA9IHJlcXVpcmUoJy4uL2Fzc2V0cy9mb250ZWxsby9jb25maWcuanNvbicpO1xuXG52YXIgYW1ndWkgPSB3aW5kb3cuYW1ndWkgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbldlYkZvbnQubG9hZCh7XG4gICAgZ29vZ2xlOiB7XG4gICAgICBmYW1pbGllczogWydPcGVuK1NhbnM6MzAwLDQwMCw2MDAsNzAwLDgwMDpsYXRpbixsYXRpbi1leHQnXVxuICAgIH0sXG4gICAgY3VzdG9tOiB7XG4gICAgICAgIGZhbWlsaWVzOiBbJ2FtZ3VpJ10sXG4gICAgICAgIC8vIHVybHM6IFsnLi4vYXNzZXRzL2ZvbnRlbGxvL2FtZ3VpLmNzcyddLFxuICAgIH0sXG4gICAgZm9udGFjdGl2ZTogKCgpID0+IHtcblxuICAgICAgICB2YXIgdmFyaWFudHMgPSBbXG4gICAgICAgICAgICAnYW1ndWk6bjQnLFxuICAgICAgICAgICAgJ09wZW4gU2FuczpuMycsXG4gICAgICAgICAgICAnT3BlbiBTYW5zOm40JyxcbiAgICAgICAgICAgICdPcGVuIFNhbnM6bjYnLFxuICAgICAgICAgICAgJ09wZW4gU2FuczpuNycsXG4gICAgICAgICAgICAnT3BlbiBTYW5zOm44J1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiAoZmFtaWx5TmFtZSwgZnZkKSA9PiB7XG5cbiAgICAgICAgICAgIHZhciB2YXJpYW50ID0gZmFtaWx5TmFtZSArICc6JyArIGZ2ZDtcblxuICAgICAgICAgICAgaWYgKHZhcmlhbnRzLmluZGV4T2YodmFyaWFudCkgIT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICB2YXJpYW50cy5zcGxpY2UodmFyaWFudHMuaW5kZXhPZih2YXJpYW50KSwgMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFyaWFudHMubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYW1ndWkuZmxhZygnZm9udExvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBhbWd1aS5lbWl0KCdmb250TG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgfSkoKSxcbn0pO1xuXG5fLmV4dGVuZChhbWd1aSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmJlemllckVkaXRvcicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmJyZWFkY3J1bWJzJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuYnV0dG9uJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuY2hlY2tib3gnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5jdXJzb3InKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5kaWFsb2cnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5kcmF3ZXInKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5kcm9wZG93bicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmlucHV0JykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkua2V5VmFsdWVJbnB1dCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLm1ha2VEcmFnZ2FibGUnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5zY3JvbGwnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5zdGVwcGVyS2V5JykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkudG9vbHRpcCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLnV0aWxzJykoYW1ndWkpLFxuICAgIHtcblxuICAgICAgICBGT05UX0ZBTUlMWTogJ1wiT3BlbiBTYW5zXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICBGT05UX1NJWkU6ICcxMnB4JyxcbiAgICAgICAgTElORV9IRUlHSFQ6IDE2LFxuXG4gICAgICAgIGRlT3ZlcmxheUNvbnQ6IHVuZGVmaW5lZCwgLy9hbS5faW5pdCgpIGZpbGwgdGhpc1xuXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICBiZzA6ICcjMjIyNDI1JyxcbiAgICAgICAgICAgIGJnMTogJyMzMDMwMzAnLFxuICAgICAgICAgICAgYmcyOiAnIzNmNDA0MCcsXG4gICAgICAgICAgICBiZzM6ICcjMzkzYjNmJyxcbiAgICAgICAgICAgIGJnSW52ZXJzZTogJyNlZWUnLFxuICAgICAgICAgICAgdGV4dDogJyNlZWUnLFxuICAgICAgICAgICAgdGV4dE1pbm9yOiAnI2FhYScsXG4gICAgICAgICAgICB0ZXh0SW52ZXJzZTogJyMxMTEnLFxuICAgICAgICAgICAgdGV4dEluYWN0aXZlOiAncmdiYSgyNTUsMjU1LDI1NSwuMjMpJyxcbiAgICAgICAgICAgIG92ZXJsYXk6ICdyZ2JhKDAsMCwwLC43ODUpJyxcbiAgICAgICAgICAgIG92ZXJsYXlJbnZlcnNlOiAncmdiYSgyMjIsMjMyLDIyMiwuNzg1KScsXG4gICAgICAgICAgICBiZ0hvdmVyOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEyKScsXG4gICAgICAgICAgICBzZWxlY3RlZDogJyMwMUZGNzAnLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6ICdyZ2JhKDAsMCwwLDApJyxcbiAgICAgICAgICAgIC8vaHR0cHM6Ly9naXRodWIuY29tL21ybXJzL2NvbG9yc1xuICAgICAgICAgICAgYXF1YTogXCIjN0ZEQkZGXCIsXG4gICAgICAgICAgICBibHVlOiBcIiMwMDc0RDlcIixcbiAgICAgICAgICAgIGxpbWU6IFwiIzAxRkY3MFwiLFxuICAgICAgICAgICAgbmF2eTogXCIjMDAxRjNGXCIsXG4gICAgICAgICAgICB0ZWFsOiBcIiMzOUNDQ0NcIixcbiAgICAgICAgICAgIG9saXZlOiBcIiMzRDk5NzBcIixcbiAgICAgICAgICAgIGdyZWVuOiBcIiMyRUNDNDBcIixcbiAgICAgICAgICAgIHJlZDogXCIjRkY0MTM2XCIsXG4gICAgICAgICAgICBtYXJvb246IFwiIzg1MTQ0QlwiLFxuICAgICAgICAgICAgb3JhbmdlOiBcIiNGRjg1MUJcIixcbiAgICAgICAgICAgIHB1cnBsZTogXCIjQjEwREM5XCIsXG4gICAgICAgICAgICB5ZWxsb3c6IFwiI0ZGREMwMFwiLFxuICAgICAgICAgICAgZnVjaHNpYTogXCIjRjAxMkJFXCIsXG4gICAgICAgICAgICBncmF5OiBcIiNhYWFcIixcbiAgICAgICAgICAgIHdoaXRlOiBcIiNmZmZcIixcbiAgICAgICAgICAgIGJsYWNrOiBcIiMxMTFcIixcbiAgICAgICAgICAgIHNpbHZlcjogXCIjZGRkXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U3R5bGVTaGVldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gICAgICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSBgYXtjb2xvcjogJHthbWd1aS5jb2xvci5hcXVhfTt0ZXh0LWRlY29yYXRpb246bm9uZTt9YDtcblxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZURpdjogZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRlLnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICBkZS5zdHlsZS5tb3pVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgICAgICAgICAgZGUuc3R5bGUubXNVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgICAgICAgICAgZGUuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihvcHQpID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgICAgICAgICAgaWYgKCdkaXNwbGF5JyBpbiBvcHQpIGRlLnN0eWxlLmRpc3BsYXkgPSBvcHQuZGlzcGxheTtcbiAgICAgICAgICAgICAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgZGUuc3R5bGUuZmxleCA9IG9wdC5mbGV4O1xuICAgICAgICAgICAgICAgIGlmICgncG9zaXRpb24nIGluIG9wdCkgZGUuc3R5bGUucG9zaXRpb24gPSBvcHQucG9zaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKCdwYXJlbnQnIGluIG9wdCkgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgICAgICAgICAgICAgIGlmICgnd2lkdGgnIGluIG9wdCkgIGRlLnN0eWxlLndpZHRoID0gb3B0LndpZHRoO1xuICAgICAgICAgICAgICAgIGlmICgnaGVpZ2h0JyBpbiBvcHQpICBkZS5zdHlsZS5oZWlnaHQgPSBvcHQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmICgnZGVidWcnIGluIG9wdCkgIGRlLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWJ1ZycsIG9wdC5kZWJ1Zyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVTZXBhcmF0b3I6IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgICAgICAgICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KG9wdCk7XG4gICAgICAgICAgICBkZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIGRlLnN0eWxlLmhlaWdodCA9ICcwcHgnO1xuICAgICAgICAgICAgZGUuc3R5bGUuYm90dG9tID0gJzBweCc7XG4gICAgICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBkZS5zdHlsZS5ib3JkZXJCb3R0b20gPSAnc29saWQgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjExKSc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0SWNvbkNoYXI6IGZ1bmN0aW9uIChpY29uTmFtZSkge1xuXG4gICAgICAgICAgICB2YXIgZ2x5cGggPSBmb250ZWxsb0NvbmYuZ2x5cGhzLmZpbmQoZ2x5cGggPT4gZ2x5cGguY3NzID09PSBpY29uTmFtZSk7XG5cbiAgICAgICAgICAgIHZhciBjb2RlID0gZ2x5cGggPyBnbHlwaC5jb2RlIDogNTk0MDc7XG5cbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuXG5hbWd1aS5zZXRNYXhMaXN0ZW5lcnMoMCk7XG5cbm1vZHVsZS5leHBvcnRzID0gYW1ndWk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUtleVZhbHVlSW5wdXQ6IGNyZWF0ZUtleVZhbHVlSW5wdXQsXG4gICAgfTtcbn07XG5cblxuXG5mdW5jdGlvbiBjcmVhdGVLZXlWYWx1ZUlucHV0KG9wdCkge1xuXG4gICAgICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGUuc3R5bGUubWFyZ2luID0gJzAgMXB4JztcbiAgICAgICAgZGUuc3R5bGUuaGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAgICAgdmFyIGtleU9uID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIG9sZEtleSwgb2xkVmFsdWU7XG5cbiAgICAgICAgdmFyIGlucEtleSA9IGNyZWF0ZUlucHV0KCdwYXJhbWV0ZXIgbmFtZScpO1xuICAgICAgICBpbnBLZXkuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBvbktleVByZXNzKTtcblxuICAgICAgICB2YXIgZGl2aWRlciA9IGNyZWF0ZURpdmlkZXIoKTtcblxuICAgICAgICB2YXIgaW5wVmFsdWUgPSBjcmVhdGVJbnB1dCgndmFsdWUnKTtcbiAgICAgICAgLy8gaW5wVmFsdWUuc3R5bGUuY29sb3IgPSAnbGlnaHRibHVlJztcbiAgICAgICAgaW5wVmFsdWUuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgaW5wVmFsdWUuc3R5bGUucmlnaHQgPSAnMHB4JztcblxuICAgICAgICBzaG93SGlkZVZhbHVlKGtleU9uKTtcblxuICAgICAgICBkZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wS2V5LnZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlLnNldEtleSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ID09PSBvbGRLZXkpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgb2xkS2V5ID0gdjtcbiAgICAgICAgICAgIGlucEtleS52YWx1ZSA9IHY7XG4gICAgICAgICAgICBjaGVja0tleU9uKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wVmFsdWUudmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodiA9PT0gb2xkVmFsdWUpIHJldHVybjtcblxuICAgICAgICAgICAgb2xkVmFsdWUgPSB2O1xuICAgICAgICAgICAgaW5wVmFsdWUudmFsdWUgPSB2O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHQua2V5KSB7XG4gICAgICAgICAgICBkZS5zZXRLZXkob3B0LmtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0LnZhbHVlKSB7XG4gICAgICAgICAgICBkZS5zZXRWYWx1ZShvcHQudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdC5vbkNoYW5nZSkge1xuICAgICAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2hlY2tLZXlPbigpO1xuXG4gICAgICAgICAgICB2YXIgZGV0YWlsID0ge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkZS5nZXRLZXkoKSAhPT0gb2xkS2V5KSB7XG4gICAgICAgICAgICAgICAgb2xkS2V5ID0gZGV0YWlsLmtleSA9IGRlLmdldEtleSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlLmdldFZhbHVlKCkgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXRhaWwudmFsdWUgPSBkZS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXRhaWwgfHwgJ2tleScgaW4gZGV0YWlsKSB7XG5cbiAgICAgICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2hhbmdlJywge2RldGFpbDogZGV0YWlsfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25LZXlQcmVzcyhlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBpbnBWYWx1ZS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tLZXlPbigpIHtcblxuICAgICAgICAgICAgdmFyIG9uID0gISFpbnBLZXkudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChvbiAhPT0ga2V5T24pIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBrZXlPbiA9IG9uO1xuICAgICAgICAgICAgICAgIHNob3dIaWRlVmFsdWUoa2V5T24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd0hpZGVWYWx1ZShzaG93KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lJyA6ICdub25lJztcbiAgICAgICAgICAgIGlucFZhbHVlLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gJ2lubGluZS1ibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICBpbnBLZXkuc3R5bGUud2lkdGggPSBzaG93ID8gJ2NhbGMoNTAlIC0gNXB4KScgOiAnMTAwJSc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dChwbGFjZWhvbGRlcikge1xuXG4gICAgICAgICAgICB2YXIgaW5wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlucC50eXBlID0gJ3RleHQnO1xuICAgICAgICAgICAgaW5wLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICAgICAgICBpbnAuc3R5bGUud2lkdGggPSAnNTAlJztcbiAgICAgICAgICAgIGlucC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICBpbnAuc3R5bGUuZm9udFNpemUgPSBhbWd1aS5GT05UX1NJWkU7XG4gICAgICAgICAgICBpbnAuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgICAgICAgICAgaW5wLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgICAgICBpbnAuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgICAgICAgaW5wLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICAgICAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgICAgICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbkNoYW5nZSk7XG4gICAgICAgICAgICAvLyAkKGlucCkuYXV0b3NpemVJbnB1dCh7c3BhY2U6IDB9KTtcbiAgICAgICAgICAgIGRlLmFwcGVuZENoaWxkKGlucCk7XG4gICAgICAgICAgICByZXR1cm4gaW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGl2aWRlciAoKSB7XG5cbiAgICAgICAgICAgIHZhciBkaXZpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgZGl2aWRlci50ZXh0Q29udGVudCA9ICc6JztcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS53aWR0aCA9ICcycHgnO1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS5mb250U2l6ZSA9IGFtZ3VpLkZPTlRfU0laRTtcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgICAgICAgICAgZGUuYXBwZW5kQ2hpbGQoZGl2aWRlcik7XG5cbiAgICAgICAgICAgIHJldHVybiBkaXZpZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlO1xuICAgIH0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG1ha2VEcmFnZ2FibGU6IG1ha2VEcmFnZ2FibGUsXG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VEcmFnZ2FibGUob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgbWQsIGlzT3ZlciwgaXNEcmFnLCBcbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCwgd2FpdGluZ01vdmVSYWY7XG5cbiAgICBpZiAob3B0LmRlVGFyZ2V0KSB7XG4gICAgICAgIFxuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG9uRW50ZXIpO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTGVhdmUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGVtaXREb3duOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBvbkRvd24oZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHt9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Eb3duKGUpIHtcblxuICAgICAgICBpZiAoZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsvL2V4LiBwcmV2ZW50IHRvIGRyYWcgdGhlIHBhcmVudCBpZiB0aGF0J3MgZHJhZ2dhYmxlIHRvb1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7Ly9leC4gcHJldmVudCBzZWxlY3RpbmcgdGV4dFxuXG4gICAgICAgIGlzRHJhZyA9IHRydWU7XG5cbiAgICAgICAgdmFyIGN1c3RvbSA9IGNhbGwoJ29uRG93bicsIFtlXSk7XG5cbiAgICAgICAgaWYgKGN1c3RvbSA9PT0gZmFsc2UpIHsvL3ByZXZlbnQgZHJhZ2dpbmdcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWQgPSBjdXN0b20gfHwge307XG5cbiAgICAgICAgbWQubXggPSBlLmNsaWVudFg7XG4gICAgICAgIG1kLm15ID0gZS5jbGllbnRZO1xuICAgICAgICBtZC5keCA9IDA7XG4gICAgICAgIG1kLmR5ID0gMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvblVwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdmUoZSkge1xuXG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQgPSBlO1xuXG4gICAgICAgIGlmICghd2FpdGluZ01vdmVSYWYpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2FpdGluZ01vdmVSYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZk9uTW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYWZPbk1vdmUoKSB7XG5cbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHdhaXRpbmdNb3ZlUmFmKTtcblxuICAgICAgICB2YXIgd21lID0gd2FpdGluZ01vdmVFdmVudDtcbiAgICAgICAgd2FpdGluZ01vdmVSYWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIG14ID0gd21lLmNsaWVudFgsXG4gICAgICAgICAgICBteSA9IHdtZS5jbGllbnRZO1xuXG4gICAgICAgIG1kLmR4ID0gbXggLSBtZC5teDtcbiAgICAgICAgbWQuZHkgPSBteSAtIG1kLm15O1xuXG4gICAgICAgIGNhbGwoWydvbk1vdmUnLCAnb25EcmFnJ10sIFttZCwgbXgsIG15XSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25VcChlKSB7XG5cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25VcCk7XG5cbiAgICAgICAgaWYgKHdhaXRpbmdNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIHJhZk9uTW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNEcmFnID0gZmFsc2U7XG4gICAgICAgIGlmICghaXNPdmVyKSB7XG4gICAgICAgICAgICBvbkxlYXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsKCdvblVwJywgW21kLCBlLmNsaWVudFgsIGUuY2xpZW50WSwgZV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG5cbiAgICAgICAgaXNPdmVyID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzRHJhZykge1xuICAgICAgICAgICAgY2FsbCgnb25FbnRlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25MZWF2ZSgpIHtcblxuICAgICAgICBpc092ZXIgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNEcmFnKSB7XG4gICAgICAgICAgICBjYWxsKCdvbkxlYXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsKG5hbWUsIGFyZ3MpIHtcblxuICAgICAgICBpZiAobmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgIG5hbWUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgICAgICAgICAgY2FsbChuYW1lLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lIGluIG9wdCkge1xuXG4gICAgICAgICAgICByZXR1cm4gb3B0W25hbWVdLmFwcGx5KG9wdC50aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVJhbmdlOiBjcmVhdGVSYW5nZSxcbiAgICAgICAgbWFrZVNjcm9sbGFibGU6IG1ha2VTY3JvbGxhYmxlLFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gbWFrZVNjcm9sbGFibGUob3B0KSB7XG5cbiAgICB2YXIgcG9zID0gMCxcbiAgICAgICAgZGVDb250cyA9IG9wdC5kZUNvbnQsXG4gICAgICAgIGRlVGFyZ2V0cyA9IG9wdC5kZVRhcmdldCxcbiAgICAgICAgZGVSYW5nZSA9IG9wdC5kZVJhbmdlLFxuICAgICAgICByZXQgPSB7ZGlzcG9zZTogZGlzcG9zZX07XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGVDb250cykpIGRlQ29udHMgPSBbZGVDb250c107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRlVGFyZ2V0cykpIGRlVGFyZ2V0cyA9IFtkZVRhcmdldHNdO1xuXG4gICAgZGVDb250cy5mb3JFYWNoKGNvbnQgPT4ge2lmICghY29udCkgdGhyb3cgJ2ZhbHNlIGNvbnRhaXRlcic7fSk7XG4gICAgZGVUYXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHtpZiAoIXRhcmdldCkgdGhyb3cgJ2ZhbHNlIHRhcmdldCc7fSk7XG5cbiAgICBkZUNvbnRzLmZvckVhY2goZGVDID0+IHtcbiAgICAgICAgZGVDLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgb25XaGVlbCk7XG4gICAgfSk7XG4gICAgZGVUYXJnZXRzLmZvckVhY2goZGVUID0+IHtcbiAgICAgICAgdmFyIHBvcyA9IGRlVC5zdHlsZS5wb3NpdGlvbjtcbiAgICAgICAgaWYgKHBvcyAhPT0gJ2Fic29sdXRlJyAmJiBwb3MgIT09ICdmaXhlZCcgJiYgcG9zICE9PSAncmVsYXRpdmUnKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRlVC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIH07XG4gICAgfSk7XG5cblxuICAgIC8vY3JlYXRlIGEgYmFzaWMgc2Nyb2xsIGJhciBpZiBpdCBpcyBub3Qgc2V0IGF0IGFsbFxuICAgIGlmICghKCdkZVJhbmdlJyBpbiBvcHQpKSB7XG5cbiAgICAgICAgZGVSYW5nZSA9IHRoaXMuX3Njcm9sbFJhbmdlID0gYW1ndWkuY3JlYXRlUmFuZ2Uoe1xuICAgICAgICAgICAgcGFyZW50OiBkZUNvbnRzWzBdLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBkZVJhbmdlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVSYW5nZS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZGVSYW5nZS5zdHlsZS5yaWdodCA9ICcwcHgnO1xuICAgIH1cblxuICAgIGlmIChkZVJhbmdlKSB7XG4gICAgICAgIGluaXRSYW5nZSgpO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHJldDtcblxuXG5cblxuXG4gICAgZnVuY3Rpb24gb25XaGVlbChlKSB7XG5cbiAgICAgICAgdmFyIHdheSA9IGUuZGVsdGFZLzMsXG4gICAgICAgICAgICBtYXhIID0gZ2V0VGFyZ2V0TWF4SCgpO1xuICAgICAgICBcbiAgICAgICAgcG9zID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obWF4SCwgcG9zICsgd2F5KSk7XG5cbiAgICAgICAgaWYgKGRlUmFuZ2UpIHtcblxuICAgICAgICAgICAgZGVSYW5nZS5zZXRWYWx1ZShwb3MgLyBtYXhIKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbCgpO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VSYW5nZShlKSB7XG5cbiAgICAgICAgcG9zID0gZ2V0VGFyZ2V0TWF4SCgpICogZS5kZXRhaWwudmFsdWU7XG4gICAgICAgIHNjcm9sbCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbCgpIHtcblxuICAgICAgICBkZVRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAoZGVUKSB7XG5cbiAgICAgICAgICAgIGRlVC5zdHlsZS50b3AgPSAtcG9zICsgJ3B4JztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0TWF4SCgpIHtcblxuICAgICAgICB2YXIgY29udEggPSBNYXRoLm1heC5hcHBseShudWxsLCBkZUNvbnRzLnNsaWNlKCkubWFwKGdldEgpKSxcbiAgICAgICAgICAgIHRhcmdldEggPSBNYXRoLm1heC5hcHBseShudWxsLCBkZVRhcmdldHMuc2xpY2UoKS5tYXAoZ2V0SCkpO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXRIIC0gY29udEg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SChkZSkge1xuXG4gICAgICAgIHJldHVybiBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdFJhbmdlKCkge1xuXG4gICAgICAgIHZhciBzYXZlRGlzcGxheSA9IGRlUmFuZ2Uuc3R5bGUuZGlzcGxheSxcbiAgICAgICAgICAgIGlzU2hvd2luZyA9IGZhbHNlLFxuICAgICAgICAgICAgcmVmcmVzaFNldEk7XG5cbiAgICAgICAgZGVSYW5nZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGRlUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25DaGFuZ2VSYW5nZSk7XG5cbiAgICAgICAgcmVmcmVzaFNldEkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBuZWVkc1JhbmdlID0gZ2V0VGFyZ2V0TWF4SCgpID4gMDtcblxuICAgICAgICAgICAgaWYgKGlzU2hvd2luZyAhPT0gbmVlZHNSYW5nZSkge1xuXG4gICAgICAgICAgICAgICAgaXNTaG93aW5nID0gbmVlZHNSYW5nZTtcblxuICAgICAgICAgICAgICAgIGRlUmFuZ2Uuc3R5bGUuZGlzcGxheSA9IGlzU2hvd2luZyA/IHNhdmVEaXNwbGF5IDogJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMTIpOyBcblxuICAgICAgICB2YXIgc2F2ZURpc3Bvc2UgPSByZXQuZGlzcG9zZTtcbiAgICAgICAgcmV0LmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpIHtcblxuICAgICAgICAgICAgc2F2ZURpc3Bvc2UoKTtcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWZyZXNoU2V0SSk7XG5cbiAgICAgICAgICAgIGRlUmFuZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25DaGFuZ2VSYW5nZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcblxuICAgICAgICBkZUNvbnRzLmZvckVhY2goZnVuY3Rpb24gKGRlQykge1xuXG4gICAgICAgICAgICBkZUMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBvbldoZWVsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuXG5mdW5jdGlvbiBjcmVhdGVSYW5nZShvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcbiAgXG4gICAgdmFyIHZhbHVlID0gMCwgY3Vyc29yV2lkdGggPSAwLCBpc1ZlcnRpY2FsID0gISFvcHQudmVydGljYWw7XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgZGUuc3R5bGUud2lkdGggPSBvcHQud2lkdGggfHwgJzZweCc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gb3B0LmhlaWdodCB8fCAnMTQwcHgnO1xuICAgIGRlLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzE7XG4gICAgZGUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG4gICAgdmFyIGRlQ3Vyc29yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVDdXJzb3Iuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRlQ3Vyc29yLnN0eWxlW2QoJ2xlZnQnLCd0b3AnKV0gPSAnMCc7XG4gICAgZGVDdXJzb3Iuc3R5bGVbZCgncmlnaHQnLCdib3R0b20nKV0gPSAnMCc7XG4gICAgZGVDdXJzb3Iuc3R5bGUubWFyZ2luID0gZCgnYXV0byAwJywnMCBhdXRvJyk7XG4gICAgZGVDdXJzb3Iuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICBkZUN1cnNvci5zdHlsZVtkKCd3aWR0aCcsJ2hlaWdodCcpXSA9IG9wdC5jdXJzb3JIZWlnaHQgfHwgJzEwMCUnO1xuICAgIGRlLmFwcGVuZENoaWxkKGRlQ3Vyc29yKTtcblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIGRlLnNldEN1cnNvcldpZHRoID0gZnVuY3Rpb24gKHcpIHtcblxuICAgICAgICBkZUN1cnNvci5zdHlsZVtkKCdoZWlnaHQnLCd3aWR0aCcpXSA9IHcgKyAncHgnO1xuICAgICAgICBjdXJzb3JXaWR0aCA9IHc7XG4gICAgfTtcbiAgICBkZS5zZXRDdXJzb3JXaWR0aChvcHQuY3Vyc29yV2lkdGggfHwgMTIpOyAgIFxuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14LCBteSkge1xuXG4gICAgICAgICAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICBwID0gZChteSwgbXgpIC0gKGQoYnIudG9wLCBici5sZWZ0KSArIGN1cnNvcldpZHRoLzIpLFxuICAgICAgICAgICAgICAgIGZ3ID0gZChici5oZWlnaHQsIGJyLndpZHRoKSAtIGN1cnNvcldpZHRoLFxuICAgICAgICAgICAgICAgIHBvcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHAgLyBmdykpO1xuXG4gICAgICAgICAgICBkZS5zZXRWYWx1ZShwb3MpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBkZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgaWYgKHYgPT09IHZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICBcbiAgICAgICAgdmFyIHdpZHRoID0gZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbZCgnaGVpZ2h0Jywnd2lkdGgnKV07XG4gICAgICAgIGRlQ3Vyc29yLnN0eWxlW2QoJ3RvcCcsJ2xlZnQnKV0gPSAoKHdpZHRoIC0gY3Vyc29yV2lkdGgpICogdmFsdWUpICsgJ3B4JztcblxuICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2hhbmdlJywge2RldGFpbDoge3ZhbHVlOiB2YWx1ZX19KSk7XG4gICAgfTtcblxuICAgIGRlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZCAodmVydGljYWwsIGhvcmlzb250YWwpIHtcblxuICAgICAgICByZXR1cm4gaXNWZXJ0aWNhbCA/IHZlcnRpY2FsIDogaG9yaXNvbnRhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVTdGVwcGVyS2V5OiBjcmVhdGVTdGVwcGVyS2V5LFxuICAgIH07XG59O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVN0ZXBwZXJLZXkob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBvcHQuaGVpZ2h0ID0gb3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVDtcblxuICAgIHZhciBoYXNQcmV2ID0gZmFsc2UsIFxuICAgICAgICBoYXNOZXh0ID0gZmFsc2UsXG4gICAgICAgIGlzU2hvd2luZ1N0ZXBwZXJzID0gZmFsc2UsXG4gICAgICAgIGlzTU92ZXJLZXkgPSBmYWxzZSxcbiAgICAgICAgaXNNT3ZlclN0ZXBwZXIgPSBmYWxzZSxcbiAgICAgICAgc3RlcHBlclcgPSA4O1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdrZXknLFxuICAgICAgICBoZWlnaHQ6IG9wdC5oZWlnaHQsXG4gICAgICAgIG9uQ2xpY2s6IG9wdC5vbkNsaWNrLFxuICAgICAgICBjaGFuZ2VDb2xvcjogdHJ1ZSxcbiAgICAgICAgcGFyZW50OiBvcHQucGFyZW50XG4gICAgfSk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGRlLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgXG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uTU92ZXJLZXkpO1xuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbk1PdXRLZXkpO1xuXG4gICAgdmFyIGRlUHJldiA9IGNyZWF0ZVN0ZXBwZXIodHJ1ZSk7XG4gICAgdmFyIGRlTmV4dCA9IGNyZWF0ZVN0ZXBwZXIoZmFsc2UpO1xuXG4gICAgZGUuc2V0U3RlcHBlcnMgPSBmdW5jdGlvbiAoX2hhc1ByZXYsIF9oYXNOZXh0KSB7XG5cbiAgICAgICAgaGFzUHJldiA9IF9oYXNQcmV2O1xuICAgICAgICBoYXNOZXh0ID0gX2hhc05leHQ7XG5cbiAgICAgICAgaWYgKGlzU2hvd2luZ1N0ZXBwZXJzKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGhpZGVTdGVwcGVycygpO1xuICAgICAgICAgICAgc2hvd1N0ZXBwZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZS5zZXRIaWdobGlnaHQgPSBmdW5jdGlvbiAob24pIHtcblxuICAgICAgICBkZS5zdHlsZS5jb2xvciA9IG9uID8gYW1ndWkuY29sb3IudGV4dCA6IGFtZ3VpLmNvbG9yLnRleHRJbmFjdGl2ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG5cbiAgICBmdW5jdGlvbiBvbk1PdmVyS2V5KCkgeyBpc01PdmVyS2V5ID0gdHJ1ZTsgb25DaGFuZ2VPdmVyKCk7IH1cbiAgICBmdW5jdGlvbiBvbk1PdXRLZXkoKSB7IGlzTU92ZXJLZXkgPSBmYWxzZTsgb25DaGFuZ2VPdmVyKCk7IH1cbiAgICBmdW5jdGlvbiBvbk1PdmVyU3RlcHBlcigpIHsgaXNNT3ZlclN0ZXBwZXIgPSB0cnVlOyBvbkNoYW5nZU92ZXIoKTsgfVxuICAgIGZ1bmN0aW9uIG9uTU91dFN0ZXBwZXIoKSB7IGlzTU92ZXJTdGVwcGVyID0gZmFsc2U7IG9uQ2hhbmdlT3ZlcigpOyB9XG5cbiAgICBmdW5jdGlvbiBvbkNoYW5nZU92ZXIgKCkge1xuXG4gICAgICAgIGlmIChpc01PdmVyS2V5IHx8IGlzTU92ZXJTdGVwcGVyKSB7XG5cbiAgICAgICAgICAgIGlmICghaXNTaG93aW5nU3RlcHBlcnMpIHtcbiAgICAgICAgICAgICAgICBzaG93U3RlcHBlcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXNNT3ZlcktleSAmJiAhaXNNT3ZlclN0ZXBwZXIpIHtcblxuICAgICAgICAgICAgaWYgKGlzU2hvd2luZ1N0ZXBwZXJzKSB7XG4gICAgICAgICAgICAgICAgaGlkZVN0ZXBwZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2hvd1N0ZXBwZXJzKCkge1xuXG4gICAgICAgIGlzU2hvd2luZ1N0ZXBwZXJzID0gdHJ1ZTtcblxuICAgICAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpZiAoaGFzUHJldikge1xuICAgICAgICAgICAgYW1ndWkuZGVPdmVybGF5Q29udC5hcHBlbmRDaGlsZChkZVByZXYpO1xuICAgICAgICAgICAgZGVQcmV2LnN0eWxlLmxlZnQgPSAoYnIubGVmdCAtIHN0ZXBwZXJXKSArICdweCc7XG4gICAgICAgICAgICBkZVByZXYuc3R5bGUudG9wID0gYnIudG9wICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGhhc05leHQpIHtcbiAgICAgICAgICAgIGFtZ3VpLmRlT3ZlcmxheUNvbnQuYXBwZW5kQ2hpbGQoZGVOZXh0KTtcbiAgICAgICAgICAgIGRlTmV4dC5zdHlsZS5sZWZ0ID0gYnIucmlnaHQgKyAncHgnO1xuICAgICAgICAgICAgZGVOZXh0LnN0eWxlLnRvcCA9IGJyLnRvcCArICdweCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlU3RlcHBlcnMoKSB7XG5cbiAgICAgICAgaXNTaG93aW5nU3RlcHBlcnMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoZGVQcmV2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGRlUHJldi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlUHJldik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVOZXh0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGRlTmV4dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlTmV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTdGVwcGVyKGlzTGVmdCkge1xuXG4gICAgICAgIHZhciBkZVN0ZXBwZXIgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIGNvbG9yOiBhbWd1aS5jb2xvci50ZXh0SW52ZXJzZSxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGFtZ3VpLmNvbG9yLm92ZXJsYXlJbnZlcnNlLFxuICAgICAgICAgICAgYmFja2dyb3VuZEhvdmVyOiBhbWd1aS5jb2xvci5iZ0ludmVyc2UsXG4gICAgICAgICAgICBpY29uOiBpc0xlZnQgPyAnYW5nbGUtbGVmdCcgOiAnYW5nbGUtcmlnaHQnLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHQuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHN0ZXBwZXJXLFxuICAgICAgICAgICAgb25DbGljazogaXNMZWZ0ID8gb3B0Lm9uQ2xpY2tQcmV2IDogb3B0Lm9uQ2xpY2tOZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBkZVN0ZXBwZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZVN0ZXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgZGVTdGVwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbk1PdmVyU3RlcHBlcik7XG4gICAgICAgIGRlU3RlcHBlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NT3V0U3RlcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIGRlU3RlcHBlcjtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRUb29sdGlwOiBhZGRUb29sdGlwLFxuICAgICAgICByZW1vdmVUb29sdGlwOiByZW1vdmVUb29sdGlwLFxuICAgICAgICBnZXRUb29sdGlwOiBnZXRUb29sdGlwLFxuICAgIH07XG59O1xuXG52YXIgdG9vbHRpcE1hcCA9IG5ldyBNYXAoKTtcblxuXG5cbmZ1bmN0aW9uIGFkZFRvb2x0aXAob3B0KSB7XG5cbiAgICB2YXIgc2hvd1NldFQsIGRlbGF5ID0gNDIzLCBteCA9IDAsIG15ID0gMDtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnRleHRDb250ZW50ID0gb3B0LnRleHQ7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLnBhZGRpbmcgPSAnMTJweCc7XG4gICAgZGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5SW52ZXJzZTtcbiAgICBkZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHRJbnZlcnNlO1xuXG4gICAgZGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIG9wdC5kZVRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25NRW50ZXIpO1xuICAgICAgICBvbk1MZWF2ZSgpO1xuICAgIH07XG5cbiAgICBkZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcblxuICAgICAgICBkZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgdG9vbHRpcE1hcC5zZXQob3B0LmRlVGFyZ2V0LCBkZSk7XG5cbiAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uTUVudGVyKTtcblxuICAgIGZ1bmN0aW9uIG9uTUVudGVyKGUpIHtcblxuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25NTW92ZSk7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NTGVhdmUpO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25NTGVhdmUpO1xuXG4gICAgICAgIG9uTU1vdmUoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NTGVhdmUoKSB7XG5cbiAgICAgICAgb3B0LmRlVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTU1vdmUpO1xuICAgICAgICBvcHQuZGVUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTUxlYXZlKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTUxlYXZlKTtcblxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIGNsZWFyU2hvd1NldFQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1Nb3ZlKGUpIHtcblxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIHJlZnJlc2hTaG93U2V0VCgpO1xuICAgICAgICBteCA9IGUuY2xpZW50WDtcbiAgICAgICAgbXkgPSBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaFNob3dTZXRUKCkge1xuXG4gICAgICAgIGNsZWFyU2hvd1NldFQoKTtcbiAgICAgICAgc2hvd1NldFQgPSBzZXRUaW1lb3V0KHNob3csIGRlbGF5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclNob3dTZXRUKCkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dChzaG93U2V0VCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdygpIHtcblxuICAgICAgICBhbWd1aS5kZU92ZXJsYXlDb250LmFwcGVuZENoaWxkKGRlKTtcbiAgICAgICAgYW1ndWkucGxhY2VUb1BvaW50KGRlLCBteCwgbXksIG9wdC5zaWRlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlKCkge1xuXG4gICAgICAgIGlmIChkZS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBkZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGRlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoZGVUYXJnZXQpIHtcblxuICAgIHZhciB0b29sdGlwID0gYW1ndWkuZ2V0VG9vbHRpcChkZVRhcmdldCk7XG5cbiAgICBpZiAodG9vbHRpcCkge1xuXG4gICAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZ2V0VG9vbHRpcChkZVRhcmdldCkge1xuXG4gICAgcmV0dXJuIHRvb2x0aXBNYXAuZ2V0KGRlVGFyZ2V0KTtcbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5cbmZ1bmN0aW9uIHBsYWNlVG9Qb2ludChkZSwgbXgsIG15LCB3YXkpIHtcblxuICAgIGFtZ3VpLmNhbGxPbkFkZGVkKGRlLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHB4ID0gMCwgcHkgPSAwLFxuICAgICAgICAgICAgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIHcgPSBici53aWR0aCxcbiAgICAgICAgICAgIGggPSBici5oZWlnaHQsXG4gICAgICAgICAgICB3dyA9IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgd2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgd2F5ID0gd2F5IHx8ICdsZWZ0JztcblxuICAgICAgICBzd2l0Y2ggKHdheSkge1xuXG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHB4ID0gbXggLSAodyAvIDIpO1xuICAgICAgICAgICAgICAgIHB5ID0gbXkgLSBoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgcHggPSBteDtcbiAgICAgICAgICAgICAgICBweSA9IG15IC0gKGggLyAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICBweCA9IG14IC0gKHcgLyAyKTtcbiAgICAgICAgICAgICAgICBweSA9IG15O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgcHggPSBteCAtIHc7XG4gICAgICAgICAgICAgICAgcHkgPSBteSAtIChoIC8gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHkgPCAwKSBweSA9IDA7XG4gICAgICAgIGlmIChweCArIHcgPiB3dykgcHggLT0gKHB4ICsgdykgLSB3dztcbiAgICAgICAgaWYgKHB5ICsgaCA+IHdoKSBweSAtPSAocHkgKyBoKSAtIHdoO1xuICAgICAgICBpZiAocHggPCAwKSBweCA9IDA7XG5cbiAgICAgICAgZGUuc3R5bGUubGVmdCA9IHB4ICsgJ3B4JztcbiAgICAgICAgZGUuc3R5bGUudG9wID0gcHkgKyAncHgnO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjYWxsT25BZGRlZChkZSwgY2IsIHRoaXNBcmcpIHtcblxuICAgIGlmIChkZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgdmFyIGRlUmVzdCA9IGRlO1xuICAgICAgICBkZSA9IGRlUmVzdC5zaGlmdCgpO1xuXG4gICAgICAgIGlmIChkZVJlc3QubGVuZ3RoICE9PSAwKSB7XG5cbiAgICAgICAgICAgIGNiID0gY2FsbE9uQWRkZWQuYmluZCh0aGlzLCBkZVJlc3QsIGNiLCB0aGlzQXJnKVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB2YXIgc2V0VCwgc2V0VFRpbWUgPSAxO1xuICAgIGNoZWNrTG9vcCgpO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tMb29wKCkge1xuXG4gICAgICAgIGlmIChjaGVjayhkZSkpIHtcblxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzQXJnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZXRUVGltZSA8IDI1Nikge1xuICAgICAgICAgICAgICAgIHNldFRUaW1lICo9IDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzZXRUKTtcbiAgICAgICAgICAgIHNldFQgPSBzZXRUaW1lb3V0KGNoZWNrTG9vcCwgc2V0VFRpbWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVjayAobm9kZSkge1xuXG4gICAgICAgIHdoaWxlIChub2RlLnBhcmVudE5vZGUpIHtcblxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDkgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxudmFyIGRlbGF5V2l0aFJBRiA9ICgoKSA9PiB7XG5cbiAgICB2YXIgc3RhY2sgPSBuZXcgTWFwKCksXG4gICAgICAgIHdhaXRpbmcgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgb25SYWYgPSAoKSA9PiB7XG5cbiAgICAgICAgc3RhY2suZm9yRWFjaCgocmVnLCBmbikgPT4ge1xuXG4gICAgICAgICAgICBmbi5hcHBseShyZWcuY3R4LCByZWcuYXJncyk7XG4gICAgICAgICAgICBzdGFjay5kZWxldGUoZm4pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzdGFjay5jbGVhcigpO1xuICAgICAgICB3YWl0aW5nID0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICByZXR1cm4gZm4gPT4ge1xuXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBwZXIgKCkge1xuXG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHN0YWNrLnNldCh3cmFwcGVyLCB7Y3R4OiB0aGlzLCBhcmdzOiBhcmd1bWVudHN9KTtcblxuICAgICAgICAgICAgaWYgKHdhaXRpbmcgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgd2FpdGluZyA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25SYWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2VUb1BvaW50OiBwbGFjZVRvUG9pbnQsXG4gICAgICAgIGNhbGxPbkFkZGVkOiBjYWxsT25BZGRlZCxcbiAgICAgICAgZGVsYXlXaXRoUkFGOiBkZWxheVdpdGhSQUYsXG4gICAgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz17XG4gIFwibmFtZVwiOiBcImFtZ3VpXCIsXG4gIFwiY3NzX3ByZWZpeF90ZXh0XCI6IFwiaWNvbi1cIixcbiAgXCJjc3NfdXNlX3N1ZmZpeFwiOiBmYWxzZSxcbiAgXCJoaW50aW5nXCI6IHRydWUsXG4gIFwidW5pdHNfcGVyX2VtXCI6IDEwMDAsXG4gIFwiYXNjZW50XCI6IDg1MCxcbiAgXCJnbHlwaHNcIjogW1xuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTNlZDg1NzAyMjU1ODEyNjljZDdlZmY1Nzk1ZThiZWFcIixcbiAgICAgIFwiY3NzXCI6IFwiZW1vLXVuaGFwcHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxMixcbiAgICAgIFwic3JjXCI6IFwiZm9udGVsaWNvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNjhlMjk4ZmYyZDhiMjVkZDdmNjQ3ZWQ2NGY1YWU2OTBcIixcbiAgICAgIFwiY3NzXCI6IFwiZW1vLXN1cnByaXNlZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDMyLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJiYjY4YTEzYTM1NzRiMDg3ZDQzNTBlZmYwYjhkNDhlM1wiLFxuICAgICAgXCJjc3NcIjogXCJlbW8tdG9uZ3VlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NzksXG4gICAgICBcInNyY1wiOiBcImZvbnRlbGljb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjQ4NDNkMGQ2MDUwZGQ1MDhkNGMxMDFhMzM0ZjQ2ZGIyXCIsXG4gICAgICBcImNzc1wiOiBcImVtby1zaG9vdFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDgwLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyYmQ1Zjk4NDgyZDg2NjQ5OTU4MzEyZWEyYWI1YmI0MFwiLFxuICAgICAgXCJjc3NcIjogXCJlbW8tbGF1Z2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4MSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGVsaWNvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiOGNlNzMyNjg4NTg3OTA5YWQwYTlkODMyM2VhY2E4YWRcIixcbiAgICAgIFwiY3NzXCI6IFwibWFycXVlZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDEzLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1MjExYWY0NzRkM2E5ODQ4ZjY3Zjk0NWUyY2NhZjE0M1wiLFxuICAgICAgXCJjc3NcIjogXCJjYW5jZWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI0NGUwNDcxNWFlY2JjYTdmMjY2YTE3ZDVhNzg2M2M2OFwiLFxuICAgICAgXCJjc3NcIjogXCJwbHVzXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMWE1Y2ZhMTg2NjQ3ZThjOTI5YzJiMTdiOWZjNGRhYzFcIixcbiAgICAgIFwiY3NzXCI6IFwicGx1cy1zcXVhcmVkXCIsXG4gICAgICBcImNvZGVcIjogNTkzOTgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiY2UzY2YwOTFkNmViZDAwNGRkMGI1MmQyNDA3NGU2ZTNcIixcbiAgICAgIFwiY3NzXCI6IFwiaGVscFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NTEwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjNkNGVhOGE3OGRjMzRlZmU4OTFmM2EwZjNkOTYxMjc0XCIsXG4gICAgICBcImNzc1wiOiBcImluZm9cIixcbiAgICAgIFwiY29kZVwiOiA1OTUwOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIwZGRkM2U4MjAxY2NjN2Q0MWY3YjdjOWQyN2VjYTZjMVwiLFxuICAgICAgXCJjc3NcIjogXCJsaW5rXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMWRjZDJiMjE0OGI3ZjA4NmE0ZWI0N2Y2YTc0NmJkZWVcIixcbiAgICAgIFwiY3NzXCI6IFwidW5saW5rXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYzVmZDM0OWNiZDNkMjNlNGFkZTMzMzc4OWMyOWM3MjlcIixcbiAgICAgIFwiY3NzXCI6IFwiZXllXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiN2ZkNjgzYjJjNTE4Y2ViOWU1ZmE2NzU3ZjIyNzZmYWFcIixcbiAgICAgIFwiY3NzXCI6IFwiZXllLW9mZlwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjU3YTBhYzgwMGRmNzI4YWFkNjFhN2NmOWUxMmY1ZmVmXCIsXG4gICAgICBcImNzc1wiOiBcImZsYWdcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2YzgzMDkyNDIxNDQxMjk2ZjVjNGU4MDc0YjBjZjMyY1wiLFxuICAgICAgXCJjc3NcIjogXCJmbGFnLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0OTYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZDdhNjE0YmQ3MDFmNjcxMmU4ZTNiMmJlMTI0ODk5ZTFcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxhZy1jaGVja2VyZWRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI5YTc2YmMxMzVlYWMxN2QyYzhiOGFkNGE1Nzc0ZmM4N1wiLFxuICAgICAgXCJjc3NcIjogXCJkb3dubG9hZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDE0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImY1OTk5YTAxMmZjMzc1MjM4NjYzNWVjMDJhODU4NDQ3XCIsXG4gICAgICBcImNzc1wiOiBcImRvd25sb2FkLWNsb3VkXCIsXG4gICAgICBcImNvZGVcIjogMTE1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImRlMmZjN2E1Yzk4NmFiOGM2MjJmNjM0NTVkN2NmODE0XCIsXG4gICAgICBcImNzc1wiOiBcInVwbG9hZC1jbG91ZFwiLFxuICAgICAgXCJjb2RlXCI6IDExNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3MDM0ZTRkMjI4NjZhZjgyYmVmODExZjUyZmIxYmE0NlwiLFxuICAgICAgXCJjc3NcIjogXCJjb2RlXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNGFhZDZiYjUwYjAyYzE4NTA4YWFlOWNiZTE0ZTc4NGVcIixcbiAgICAgIFwiY3NzXCI6IFwic2hhcmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwOCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkMzVhMWQzNWVmZWI3ODRkMWRjOWFjMThiOWI2YzJiNlwiLFxuICAgICAgXCJjc3NcIjogXCJwZW5jaWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIwMTMzMzg3ZjIwNjlhMWIzMTY4OTQyYjg0ZDgxZGQzYVwiLFxuICAgICAgXCJjc3NcIjogXCJnYW1lcGFkXCIsXG4gICAgICBcImNvZGVcIjogNTk0OTUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZjQ4YWU1NGFkZmIyN2Q4YWRhNTNkMGZkOWUzNGVlMTBcIixcbiAgICAgIFwiY3NzXCI6IFwidHJhc2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxYjVhNWQ3YjdlM2M3MTQzN2Y1YTI2YmVmZGQwNDVlZFwiLFxuICAgICAgXCJjc3NcIjogXCJkb2NcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzYzk2MWMxYThkODc0ODE1ODU2ZmM2NjM3ZGM1YTEzY1wiLFxuICAgICAgXCJjc3NcIjogXCJmaWxlLWltYWdlXCIsXG4gICAgICBcImNvZGVcIjogNTk1MTMsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiODFkYjAzM2U3MDRlYjdjNTg2YTM2NTU1OWQ3YzBmMzZcIixcbiAgICAgIFwiY3NzXCI6IFwiZmlsZS1hdWRpb1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NTEyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImRkNjlkOWFhNTg5ZWE3YmMwYTgyYTNmZTY3MDM5ZjRiXCIsXG4gICAgICBcImNzc1wiOiBcImZpbGUtdmlkZW9cIixcbiAgICAgIFwiY29kZVwiOiA1OTUxMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyNjYxM2EyZTZiYzQxNTkzYzU0YmVhZDQ2ZjhjOGVlM1wiLFxuICAgICAgXCJjc3NcIjogXCJmaWxlLWNvZGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJiMDkxYThiZDBmZGFkZTE3NDk1MWYxN2Q5MzZmNTFlNFwiLFxuICAgICAgXCJjc3NcIjogXCJmb2xkZXItZW1wdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2NTMzYmRjMTZhYjIwMWViM2YzYjI3Y2U5ODljYWIzM1wiLFxuICAgICAgXCJjc3NcIjogXCJmb2xkZXItb3Blbi1lbXB0eVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjU1OTY0N2E2ZjQzMGIzYWVhZGJlY2Q2NzE5NDQ1MWRkXCIsXG4gICAgICBcImNzc1wiOiBcIm1lbnVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0MCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlOTk0NjFhYmZlZjM5MjM1NDZkYThkNzQ1MzcyYzk5NVwiLFxuICAgICAgXCJjc3NcIjogXCJjb2dcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1YmIxMDNjZDI5ZGU3N2UwZTA2YTUyNjM4NTI3YjU3NVwiLFxuICAgICAgXCJjc3NcIjogXCJ3cmVuY2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyMWI0MmQzYzNlNmJlNDRjM2NjM2Q3MzA0MmZhYTIxNlwiLFxuICAgICAgXCJjc3NcIjogXCJzbGlkZXJzXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTk4YTVmMmJjZjM1MjFkMTYxNWRlOGUxODgxY2NkMTdcIixcbiAgICAgIFwiY3NzXCI6IFwiY2xvY2tcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1Mjc4ZWY3NzczZTk0OGQ1NmM0ZDQ0MmM4YzhjOThjZlwiLFxuICAgICAgXCJjc3NcIjogXCJsaWdodGJ1bGJcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwMixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI5OGQ5YzgzYzFlZTdjMmMyNWFmNzg0YjUxOGM1MjJjNVwiLFxuICAgICAgXCJjc3NcIjogXCJibG9ja1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NTAwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU1OTRmYzZlNTg3MGI0YWI3ZTQ5ZjUyNTcxZDUyNTc3XCIsXG4gICAgICBcImNzc1wiOiBcInJlc2l6ZS1mdWxsXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYjAxM2Y2NDAzZTVhYjAzMjY2MTRlNjhkMTg1MGZkNmJcIixcbiAgICAgIFwiY3NzXCI6IFwicmVzaXplLWZ1bGwtYWx0XCIsXG4gICAgICBcImNvZGVcIjogNTk0OTgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiM2MyNGVlMzNjOTQ4N2JiZjE4Nzk2Y2E2ZGZmYTE5MDVcIixcbiAgICAgIFwiY3NzXCI6IFwicmVzaXplLXNtYWxsXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZDNiM2YxN2JjM2ViN2NkODA5YTA3YmJkNGQxNzhiZWVcIixcbiAgICAgIFwiY3NzXCI6IFwicmVzaXplLXZlcnRpY2FsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiM2M3M2QwNThlNDU4OWI2NWE4ZDk1OWMwZmM4ZjE1M2RcIixcbiAgICAgIFwiY3NzXCI6IFwicmVzaXplLWhvcml6b250YWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1MCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2NjA1ZWU2NDQxYmY0OTlmZmEzYzYzZDNjNzQwOTQ3MVwiLFxuICAgICAgXCJjc3NcIjogXCJtb3ZlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMGIyYjY2ZTUyNjAyOGE2OTcyZDUxYTZmMTAyODFiNGJcIixcbiAgICAgIFwiY3NzXCI6IFwiem9vbS1pblwiLFxuICAgICAgXCJjb2RlXCI6IDU5NTAzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImQyNWQxMGVmYTkwMGY1MjlhZDFkMjc1NjU3Y2ZkMzBlXCIsXG4gICAgICBcImNzc1wiOiBcInpvb20tb3V0XCIsXG4gICAgICBcImNvZGVcIjogNTk1MDQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYzUzMDY4ZmUyMWM4NDEwYjBhMDk4YjRjNTJjM2QzN2VcIixcbiAgICAgIFwiY3NzXCI6IFwiZG93bi1jaXJjbGVkMlwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDMzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjEyOGQ2MzE1MGE0MTgwMGUwYmVmZjU1MjM1MjY5NTQyXCIsXG4gICAgICBcImNzc1wiOiBcInVwLWNpcmNsZWQyXCIsXG4gICAgICBcImNvZGVcIjogNTk1MDUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMmQ2MTUwNDQyMDc5Y2JkYTdkZjY0NTIyZGMyNGY0ODJcIixcbiAgICAgIFwiY3NzXCI6IFwiZG93bi1kaXJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4MGNkMTAyMmJkOWVhMTUxZDU1NGJlYzFmYTA1ZjJkZVwiLFxuICAgICAgXCJjc3NcIjogXCJ1cC1kaXJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5NCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI5ZGM2NTQwOTUwODUxNjc1MjQ2MDJjOWFjYzBjNTU3MFwiLFxuICAgICAgXCJjc3NcIjogXCJsZWZ0LWRpclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDkyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImZiMWM3OTlmZmU1YmY4ZmI3ZjhiY2I2NDdjOGZlOWU2XCIsXG4gICAgICBcImNzc1wiOiBcInJpZ2h0LWRpclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDkxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImYzZjkwYzhjODk3OTVkYTMwZjc0NDQ2MzQ0NzZlYTRmXCIsXG4gICAgICBcImNzc1wiOiBcImFuZ2xlLWxlZnRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzNCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3YmYxNDI4MWFmNTYzM2E1OTdmODViMDYxZWYxY2ZiOVwiLFxuICAgICAgXCJjc3NcIjogXCJhbmdsZS1yaWdodFwiLFxuICAgICAgXCJjb2RlXCI6IDU5Mzk0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjVkZTkzNzA4NDZhMjY5NDdlMDNmNjMxNDJhM2YxYzA3XCIsXG4gICAgICBcImNzc1wiOiBcImFuZ2xlLXVwXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZTRkZGUxOTkyZjc4NzE2M2UyZTJiNTM0YjhjODA2N2RcIixcbiAgICAgIFwiY3NzXCI6IFwiYW5nbGUtZG93blwiLFxuICAgICAgXCJjb2RlXCI6IDU5Mzk1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImJjNzFmNGM2ZTUzMzk0ZDViYTQ2YjA2MzA0MDAxNGYxXCIsXG4gICAgICBcImNzc1wiOiBcImN3XCIsXG4gICAgICBcImNvZGVcIjogNTk0MjUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZjljMzIwNWRmMjZlNzc3OGFiYWM4NjE4M2FlZmRjOTlcIixcbiAgICAgIFwiY3NzXCI6IFwiY2N3XCIsXG4gICAgICBcImNvZGVcIjogNTk0MjYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMzdjNWFiNjNmMTBkN2FkMGI4NGQwOTc4ZGNkMGM3YThcIixcbiAgICAgIFwiY3NzXCI6IFwic2h1ZmZsZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDY5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjYwMjBhZmYwNjdmYzNjMTE5Y2RkNzVkYWE1MjQ5MjIwXCIsXG4gICAgICBcImNzc1wiOiBcImV4Y2hhbmdlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NzAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZDQ4MTZjMDg0NWFhNDM3NjcyMTNkNDU1NzRiM2IxNDVcIixcbiAgICAgIFwiY3NzXCI6IFwiaGlzdG9yeVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDE4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjg0YmI5Njk1Yjg2NjJmYTQ3ODMyNDJmODRjOWU0NjgyXCIsXG4gICAgICBcImNzc1wiOiBcImV4cGFuZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQ2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc5NjA1MTdhNTA0ZTQyYWVhMDY0MWYxNWJjNTVmYmVkXCIsXG4gICAgICBcImNzc1wiOiBcImNvbGxhcHNlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZWQ1YTM4NzA0ZjAzMjllNjEwZWUxYzkyYmVjM2FkM2RcIixcbiAgICAgIFwiY3NzXCI6IFwiZXhwYW5kLXJpZ2h0XCIsXG4gICAgICBcImNvZGVcIjogNTk0NzEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZWEyZWM5OWZiY2UwMzg2NGU1OTNiYmY0ZjMwMmE3OWRcIixcbiAgICAgIFwiY3NzXCI6IFwiY29sbGFwc2UtbGVmdFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDcyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImNlMDZiNTgwNTEyMGQwYzJmOGQ2MGNkM2YxYTRmZGI1XCIsXG4gICAgICBcImNzc1wiOiBcInBsYXlcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIwYjI4MDUwYmFjOWQzZmFjZjJmMDIyNmRiNjQzZWNlMFwiLFxuICAgICAgXCJjc3NcIjogXCJwYXVzZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5Mzk5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU3NWM1NGMyODJjMGJmMjIxODZjNWM3ZWM0YjAzZWFjXCIsXG4gICAgICBcImNzc1wiOiBcInRhcmdldFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDU3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjMyMTJmNDJjNjVkNDFlZDkxY2I0MzVkMDQ5MGUyOWVkXCIsXG4gICAgICBcImNzc1wiOiBcImZsYXNoLTFcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3NSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzODU3NWE4MDNjNGRhMzFjZTIwZDc3ZTFlMTIzNmJjYlwiLFxuICAgICAgXCJjc3NcIjogXCJwYXBlci1wbGFuZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDc0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImEyYTc0ZjVlN2I3ZDliYTA1NDg5N2Q4Yzc5NWEzMjZhXCIsXG4gICAgICBcImNzc1wiOiBcImxpc3QtYnVsbGV0XCIsXG4gICAgICBcImNvZGVcIjogNTk0OTksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMDliZGFlMTIwZjg1ZTc5ZjJkYjE2MTQ1YTllMWY2ZDhcIixcbiAgICAgIFwiY3NzXCI6IFwiY3JvcFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDg5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjg3NzIzMzFhOWZlYzk4M2NkYjVkNzI5MDJhNmY5ZTBlXCIsXG4gICAgICBcImNzc1wiOiBcInNjaXNzb3JzXCIsXG4gICAgICBcImNvZGVcIjogNTk0MjQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMTA3Y2UwOGM3MjMxMDk3Yzc0NDdkOGY0ZDA1OWI1NWZcIixcbiAgICAgIFwiY3NzXCI6IFwiZWxsaXBzaXNcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0NCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3NTAwNTg4MzdhOTFlZGFlNjRiMDNkNjBmYzdlODFhN1wiLFxuICAgICAgXCJjc3NcIjogXCJlbGxpcHNpcy12ZXJ0XCIsXG4gICAgICBcImNvZGVcIjogNTk0NDMsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYWE5OTFlOGU2NmFjNTRiMzNmMGE0YjA1NTU1OTdiMDhcIixcbiAgICAgIFwiY3NzXCI6IFwiYmFyY29kZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NTA3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImNhOTBkYTAyZDJjNmEzMTgzZjI0NThlNGRjNDE2Mjg1XCIsXG4gICAgICBcImNzc1wiOiBcImFqdXN0XCIsXG4gICAgICBcImNvZGVcIjogNTk0NTksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiODM0NThhY2Q5ZjM4ZDAzZWMwMjI2Y2U4MmE4M2MwZjRcIixcbiAgICAgIFwiY3NzXCI6IFwidGludFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDkwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjJhNGU2Yzk5YjczMmE1N2RhNDBlMzJmYTJhNzgwMGE0XCIsXG4gICAgICBcImNzc1wiOiBcInRvZ2dsZS1vZmZcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2NCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzMjU2ZWYwM2IxNmU3YWI1MTIzNWJjNzM3OGI1M2JiNVwiLFxuICAgICAgXCJjc3NcIjogXCJ0b2dnbGUtb25cIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkZDZjNmIyMjFhMTA4OGZmOGE5YjljZDMyZDBiM2RkNVwiLFxuICAgICAgXCJjc3NcIjogXCJjaGVja1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDU0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjRiOTAwZDA0ZThhYjhjODJmMDgwYzFjZmJhYzU3NzJjXCIsXG4gICAgICBcImNzc1wiOiBcImNoZWNrLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0NjIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMTMwMzgwZTQ4MWE3ZGVmYzY5MGRmYjI0MTIzYTFmMGNcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNDIyZTA3ZTVhZmI4MDI1OGE5YzRlZDE3MDY0OThmOGFcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0NDEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTc3NGQwYTBlNTBmNmVlZmM4YmUwMWJkNzYxZTVkZDNcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlLXRoaW5cIixcbiAgICAgIFwiY29kZVwiOiA1OTQyMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmNDQ0NWZlYjU1NTIxMjgzNTcyZWU4OGJjMzA0ZjkyOFwiLFxuICAgICAgXCJjc3NcIjogXCJmbG9wcHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzZTY3NDk5NWNhY2MyYjA5NjkyYzA5NmVhN2ViNjE2NVwiLFxuICAgICAgXCJjc3NcIjogXCJtZWdhcGhvbmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzMCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3OTVlZmQwN2NkNTIwNWI1ODljODgzOTE2YTc2Y2ZmMFwiLFxuICAgICAgXCJjc3NcIjogXCJoZGRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4YWE5OWJjNjBmMzU1M2JiM2UzMWI3M2RkNmU3NDRjOFwiLFxuICAgICAgXCJjc3NcIjogXCJyb2NrZXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3NDMyMDc3ZTZhMmQ2YWExOTk4NGNhODIxYmI2YmJkYVwiLFxuICAgICAgXCJjc3NcIjogXCJidWdcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI0MTA5YzQ3NGZmOTljYWQyOGZkNWEyYzM4YWYyZWM2ZlwiLFxuICAgICAgXCJjc3NcIjogXCJmaWx0ZXJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2ZmU5NWZmYzNjODA3ZTYyNjQ3ZDRmODE0YTk2ZTBkN1wiLFxuICAgICAgXCJjc3NcIjogXCJzaXRlbWFwXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZmExMDc3N2IyZDg4Y2M2NGNkNmU0ZjI2ZWYwZTUyNjRcIixcbiAgICAgIFwiY3NzXCI6IFwidGVybWluYWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1ZjBmMTgzZTI0MWQxNWNiZTQ4NmJmZjg4YjE4OGRmZlwiLFxuICAgICAgXCJjc3NcIjogXCJwdXp6bGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjOTJhZDMwMjhhY2NlOWQ1MWJhZTBhYzgyZjVkZThhMlwiLFxuICAgICAgXCJjc3NcIjogXCJidWxsc2V5ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjRmYzliOGMxMjJkMWI1Y2EzZGY0MmExMDRhNjU1ZThiXCIsXG4gICAgICBcImNzc1wiOiBcImxhbmd1YWdlXCIsXG4gICAgICBcImNvZGVcIjogNTk1MDEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTU2MDVjYTc5YTY1ZGVmMWE5YzMwMDAzN2ZmMWQwZDVcIixcbiAgICAgIFwiY3NzXCI6IFwicGF3XCIsXG4gICAgICBcImNvZGVcIjogNTk0MjAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZmJlZGUzYzU1ODQyODJhMGU5YjEzMTkyNmRmZjcxZGFcIixcbiAgICAgIFwiY3NzXCI6IFwiY3ViZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImViZmZhNGU3MzRjODM3OWZmZWU0ZmJmZTQ5MjY0ZDk0XCIsXG4gICAgICBcImNzc1wiOiBcImxpZmVidW95XCIsXG4gICAgICBcImNvZGVcIjogNTk0ODIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYzUzNDE1ZmJkMjY5NTAzM2JkNzE4MGQ3YTllZDQ5MzRcIixcbiAgICAgIFwiY3NzXCI6IFwicmViZWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2NjMyY2UxMDE5ZjkxMTU4NDIzMzU2MjJjYjU1ZjRlN1wiLFxuICAgICAgXCJjc3NcIjogXCJlbXBpcmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyMixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4OGU2ZmFhMGY2MzNlZTIzNjY3ZjgxNTY4OWU4MmFmM1wiLFxuICAgICAgXCJjc3NcIjogXCJleWVkcm9wcGVyXCIsXG4gICAgICBcImNvZGVcIjogNTk0ODYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZmE5YTBiN2U3ODhjMmQ3OGUyNGNlZjFkZTZiNzBlODBcIixcbiAgICAgIFwiY3NzXCI6IFwiYnJ1c2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxNjlmNTFiN2U0MDVkZThjMDNjZjg1YTZlOGM3NDBhYlwiLFxuICAgICAgXCJjc3NcIjogXCJiaXRidWNrZXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3NjY3NTAxMWU5MDZkNTBhZjQwNDE4NmI0ODlmYzc2ZlwiLFxuICAgICAgXCJjc3NcIjogXCJjb2Rlb3BlblwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDg0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjllMzRhMDQ3ZmVlOTQ5ZWFlOWI2ZTYxM2Q3OTBkNmNmXCIsXG4gICAgICBcImNzc1wiOiBcImRyb3Bib3hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlN2NiNzJhMTdmM2IyMWUzNTc2ZjM1YzNmMGE3NjM5YlwiLFxuICAgICAgXCJjc3NcIjogXCJnaXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwNixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1ZTBhMzc0NzI4ZmZhOGQwYWUxZjMzMWE4ZjY0ODIzMVwiLFxuICAgICAgXCJjc3NcIjogXCJnaXRodWJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4NSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmMDZmZTdmZjE4ZDFjNTkxYmMxMTgzY2IzYWIxMDVlOVwiLFxuICAgICAgXCJjc3NcIjogXCJnb29nbGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyYzJjYThhOTZiMzE3ODFjOWM4MDU2ZDA1YzBhODk4MFwiLFxuICAgICAgXCJjc3NcIjogXCJibGFua1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjM0YmE1MGZlOGU0Zjk1ZTdmM2Q3NmM2NTM0ODE0YTcwXCIsXG4gICAgICBcImNzc1wiOiBcImluZmluaXR5XCIsXG4gICAgICBcImNvZGVcIjogNTk1MDYsXG4gICAgICBcInNyY1wiOiBcImVudHlwb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjcxODRkODE3MWI2YTliMThlYWJiYWNlOTRjY2EyMWRiXCIsXG4gICAgICBcImNzc1wiOiBcImNoYXJ0LWxpbmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3OCxcbiAgICAgIFwic3JjXCI6IFwiZW50eXBvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNmNlYTQwYWE2Y2M1MDA1NzA4M2U0ZjBhNWI5MjQxMGNcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxvdy1saW5lXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjcsXG4gICAgICBcInNyY1wiOiBcImVudHlwb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjVmODgwOTVkYzVlNjM4ODYzYTBjNzMzZTk5YzMyNTY4XCIsXG4gICAgICBcImNzc1wiOiBcImZsb3ctcGFyYWxsZWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2OCxcbiAgICAgIFwic3JjXCI6IFwiZW50eXBvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZTUzNmM4MGUwMTEzNjYwNDYzNjBmNWZmZTY2OWRiZmRcIixcbiAgICAgIFwiY3NzXCI6IFwiZm9sZGVyLWFkZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDAyLFxuICAgICAgXCJzcmNcIjogXCJ0eXBpY29uc1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImUyYWJhOTU2NWJlNTFjYTcwMjI0YzA3MjgyYWZiYmE2XCIsXG4gICAgICBcImNzc1wiOiBcImN1cnNvclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQ5LFxuICAgICAgXCJzcmNcIjogXCJpY29uaWNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3NzkyOGM4NDlhYzJhZTZlNzdkNGVhZTlmMjkyN2MwMFwiLFxuICAgICAgXCJjc3NcIjogXCJmbGFzaFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDY2LFxuICAgICAgXCJzcmNcIjogXCJtZmdsYWJzXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMzNhZmEwZjYyNGNlNWRhZTczZjYyYTNmMjFhNjdmODNcIixcbiAgICAgIFwiY3NzXCI6IFwidmVjdG9yXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTUsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxMzRhZjdmMzllNDkxNTE1Y2MxYTZkMWViOTRkOWQ4YVwiLFxuICAgICAgXCJjc3NcIjogXCJ2ZWN0b3ItcGVuY2lsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTYsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkYTcyYWI2NGIwMmQ5OTdmZjA1MjEzMzlmMjk5NzIzM1wiLFxuICAgICAgXCJjc3NcIjogXCJoYXNoXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjUsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzNjY1MTBlY2ZiMDhjZDAxMTAxMzRiMWVhOTA3ZmI4MVwiLFxuICAgICAgXCJjc3NcIjogXCJldmVybm90ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDEwLFxuICAgICAgXCJzcmNcIjogXCJ6b2NpYWxcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyNzJlMDhlMGUxNjIyNmFhZGY5NGRjYmYzM2FhYjJiMlwiLFxuICAgICAgXCJjc3NcIjogXCJrZXlcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5MixcbiAgICAgIFwic3JjXCI6IFwiZWx1c2l2ZVwiXG4gICAgfVxuICBdXG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdhbWd1aSc7XFxuICBzcmM6IHVybCgnLi4vZm9udC9hbWd1aS5lb3Q/Nzk3NzQwNTEnKTtcXG4gIHNyYzogdXJsKCcuLi9mb250L2FtZ3VpLmVvdD83OTc3NDA1MSNpZWZpeCcpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLndvZmY/Nzk3NzQwNTEnKSBmb3JtYXQoJ3dvZmYnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLnR0Zj83OTc3NDA1MScpIGZvcm1hdCgndHJ1ZXR5cGUnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLnN2Zz83OTc3NDA1MSNhbWd1aScpIGZvcm1hdCgnc3ZnJyk7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbn1cXG4vKiBDaHJvbWUgaGFjazogU1ZHIGlzIHJlbmRlcmVkIG1vcmUgc21vb3RoIGluIFdpbmRvenplLiAxMDAlIG1hZ2ljLCB1bmNvbW1lbnQgaWYgeW91IG5lZWQgaXQuICovXFxuLyogTm90ZSwgdGhhdCB3aWxsIGJyZWFrIGhpbnRpbmchIEluIG90aGVyIE9TLWVzIGZvbnQgd2lsbCBiZSBub3QgYXMgc2hhcnAgYXMgaXQgY291bGQgYmUgKi9cXG4vKlxcbkBtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MCkge1xcbiAgQGZvbnQtZmFjZSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnYW1ndWknO1xcbiAgICBzcmM6IHVybCgnLi4vZm9udC9hbWd1aS5zdmc/Nzk3NzQwNTEjYW1ndWknKSBmb3JtYXQoJ3N2ZycpO1xcbiAgfVxcbn1cXG4qL1xcbiBcXG4gW2NsYXNzXj1cXFwiaWNvbi1cXFwiXTpiZWZvcmUsIFtjbGFzcyo9XFxcIiBpY29uLVxcXCJdOmJlZm9yZSB7XFxuICBmb250LWZhbWlseTogXFxcImFtZ3VpXFxcIjtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBzcGVhazogbm9uZTtcXG4gXFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XFxuICB3aWR0aDogMWVtO1xcbiAgbWFyZ2luLXJpZ2h0OiAuMmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgLyogb3BhY2l0eTogLjg7ICovXFxuIFxcbiAgLyogRm9yIHNhZmV0eSAtIHJlc2V0IHBhcmVudCBzdHlsZXMsIHRoYXQgY2FuIGJyZWFrIGdseXBoIGNvZGVzKi9cXG4gIGZvbnQtdmFyaWFudDogbm9ybWFsO1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxuICAgICBcXG4gIC8qIGZpeCBidXR0b25zIGhlaWdodCwgZm9yIHR3aXR0ZXIgYm9vdHN0cmFwICovXFxuICBsaW5lLWhlaWdodDogMWVtO1xcbiBcXG4gIC8qIEFuaW1hdGlvbiBjZW50ZXIgY29tcGVuc2F0aW9uIC0gbWFyZ2lucyBzaG91bGQgYmUgc3ltbWV0cmljICovXFxuICAvKiByZW1vdmUgaWYgbm90IG5lZWRlZCAqL1xcbiAgbWFyZ2luLWxlZnQ6IC4yZW07XFxuIFxcbiAgLyogeW91IGNhbiBiZSBtb3JlIGNvbWZvcnRhYmxlIHdpdGggaW5jcmVhc2VkIGljb25zIHNpemUgKi9cXG4gIC8qIGZvbnQtc2l6ZTogMTIwJTsgKi9cXG4gXFxuICAvKiBVbmNvbW1lbnQgZm9yIDNEIGVmZmVjdCAqL1xcbiAgLyogdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMTI3LCAxMjcsIDEyNywgMC4zKTsgKi9cXG59XFxuIFxcbi5pY29uLWRvd25sb2FkLWNsb3VkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcNzMnOyB9IC8qICdzJyAqL1xcbi5pY29uLXVwbG9hZC1jbG91ZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXDc1JzsgfSAvKiAndScgKi9cXG4uaWNvbi1rZXk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAwJzsgfSAvKiAn7qCAJyAqL1xcbi5pY29uLWNvZzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDEnOyB9IC8qICfuoIEnICovXFxuLmljb24tYW5nbGUtcmlnaHQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAyJzsgfSAvKiAn7qCCJyAqL1xcbi5pY29uLWFuZ2xlLWRvd246YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAzJzsgfSAvKiAn7qCDJyAqL1xcbi5pY29uLXRyYXNoOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNCc7IH0gLyogJ+6ghCcgKi9cXG4uaWNvbi1wbGF5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNSc7IH0gLyogJ+6ghScgKi9cXG4uaWNvbi1wbHVzLXNxdWFyZWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA2JzsgfSAvKiAn7qCGJyAqL1xcbi5pY29uLXBhdXNlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNyc7IH0gLyogJ+6ghycgKi9cXG4uaWNvbi1maWxlLWNvZGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA4JzsgfSAvKiAn7qCIJyAqL1xcbi5pY29uLWZsb3BweTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDknOyB9IC8qICfuoIknICovXFxuLmljb24tZm9sZGVyLWFkZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MGEnOyB9IC8qICfuoIonICovXFxuLmljb24tZm9sZGVyLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwYic7IH0gLyogJ+6giycgKi9cXG4uaWNvbi1mb2xkZXItb3Blbi1lbXB0eTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MGMnOyB9IC8qICfuoIwnICovXFxuLmljb24tZG9jOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwZCc7IH0gLyogJ+6gjScgKi9cXG4uaWNvbi1naXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODBlJzsgfSAvKiAn7qCOJyAqL1xcbi5pY29uLWJsYW5rOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwZic7IH0gLyogJ+6gjycgKi9cXG4uaWNvbi1idWxsc2V5ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTAnOyB9IC8qICfuoJAnICovXFxuLmljb24tZHJvcGJveDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTEnOyB9IC8qICfuoJEnICovXFxuLmljb24tZXZlcm5vdGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODEyJzsgfSAvKiAn7qCSJyAqL1xcbi5pY29uLWhkZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTMnOyB9IC8qICfuoJMnICovXFxuLmljb24tZW1vLXVuaGFwcHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE0JzsgfSAvKiAn7qCUJyAqL1xcbi5pY29uLW1hcnF1ZWU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE1JzsgfSAvKiAn7qCVJyAqL1xcbi5pY29uLWRvd25sb2FkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxNic7IH0gLyogJ+6glicgKi9cXG4uaWNvbi13cmVuY2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE3JzsgfSAvKiAn7qCXJyAqL1xcbi5pY29uLXNsaWRlcnM6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE4JzsgfSAvKiAn7qCYJyAqL1xcbi5pY29uLWNvZGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE5JzsgfSAvKiAn7qCZJyAqL1xcbi5pY29uLWhpc3Rvcnk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFhJzsgfSAvKiAn7qCaJyAqL1xcbi5pY29uLWRvd24tZGlyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxYic7IH0gLyogJ+6gmycgKi9cXG4uaWNvbi1wYXc6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFjJzsgfSAvKiAn7qCcJyAqL1xcbi5pY29uLXJlYmVsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxZCc7IH0gLyogJ+6gnScgKi9cXG4uaWNvbi1lbXBpcmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFlJzsgfSAvKiAn7qCeJyAqL1xcbi5pY29uLWNpcmNsZS10aGluOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxZic7IH0gLyogJ+6gnycgKi9cXG4uaWNvbi1zY2lzc29yczpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjAnOyB9IC8qICfuoKAnICovXFxuLmljb24tY3c6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODIxJzsgfSAvKiAn7qChJyAqL1xcbi5pY29uLWNjdzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjInOyB9IC8qICfuoKInICovXFxuLmljb24tY2FuY2VsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyMyc7IH0gLyogJ+6goycgKi9cXG4uaWNvbi1jdWJlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyNCc7IH0gLyogJ+6gpCcgKi9cXG4uaWNvbi10ZXJtaW5hbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjUnOyB9IC8qICfuoKUnICovXFxuLmljb24tbWVnYXBob25lOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyNic7IH0gLyogJ+6gpicgKi9cXG4uaWNvbi1wbHVzOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyNyc7IH0gLyogJ+6gpycgKi9cXG4uaWNvbi1lbW8tc3VycHJpc2VkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyOCc7IH0gLyogJ+6gqCcgKi9cXG4uaWNvbi1kb3duLWNpcmNsZWQyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyOSc7IH0gLyogJ+6gqScgKi9cXG4uaWNvbi1hbmdsZS1sZWZ0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyYSc7IH0gLyogJ+6gqicgKi9cXG4uaWNvbi1hbmdsZS11cDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmInOyB9IC8qICfuoKsnICovXFxuLmljb24tcmVzaXplLXNtYWxsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyYyc7IH0gLyogJ+6grCcgKi9cXG4uaWNvbi1yZXNpemUtZnVsbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmQnOyB9IC8qICfuoK0nICovXFxuLmljb24tZXllOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyZSc7IH0gLyogJ+6gricgKi9cXG4uaWNvbi1leWUtb2ZmOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyZic7IH0gLyogJ+6grycgKi9cXG4uaWNvbi1tZW51OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzMCc7IH0gLyogJ+6gsCcgKi9cXG4uaWNvbi1jaXJjbGUtZW1wdHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODMxJzsgfSAvKiAn7qCxJyAqL1xcbi5pY29uLWNpcmNsZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzInOyB9IC8qICfuoLInICovXFxuLmljb24tZWxsaXBzaXMtdmVydDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzMnOyB9IC8qICfuoLMnICovXFxuLmljb24tZWxsaXBzaXM6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM0JzsgfSAvKiAn7qC0JyAqL1xcbi5pY29uLXNpdGVtYXA6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM1JzsgfSAvKiAn7qC1JyAqL1xcbi5pY29uLWV4cGFuZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzYnOyB9IC8qICfuoLYnICovXFxuLmljb24tY29sbGFwc2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM3JzsgfSAvKiAn7qC3JyAqL1xcbi5pY29uLXBlbmNpbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzgnOyB9IC8qICfuoLgnICovXFxuLmljb24tY3Vyc29yOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzOSc7IH0gLyogJ+6guScgKi9cXG4uaWNvbi1yZXNpemUtaG9yaXpvbnRhbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2EnOyB9IC8qICfuoLonICovXFxuLmljb24tbW92ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2InOyB9IC8qICfuoLsnICovXFxuLmljb24tcmVzaXplLXZlcnRpY2FsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzYyc7IH0gLyogJ+6gvCcgKi9cXG4uaWNvbi1nb29nbGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNkJzsgfSAvKiAn7qC9JyAqL1xcbi5pY29uLWNoZWNrOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzZSc7IH0gLyogJ+6gvicgKi9cXG4uaWNvbi12ZWN0b3I6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNmJzsgfSAvKiAn7qC/JyAqL1xcbi5pY29uLXZlY3Rvci1wZW5jaWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQwJzsgfSAvKiAn7qGAJyAqL1xcbi5pY29uLXRhcmdldDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDEnOyB9IC8qICfuoYEnICovXFxuLmljb24tY2xvY2s6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQyJzsgfSAvKiAn7qGCJyAqL1xcbi5pY29uLWFqdXN0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0Myc7IH0gLyogJ+6hgycgKi9cXG4uaWNvbi1saW5rOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0NCc7IH0gLyogJ+6hhCcgKi9cXG4uaWNvbi11bmxpbms6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ1JzsgfSAvKiAn7qGFJyAqL1xcbi5pY29uLWNoZWNrLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0Nic7IH0gLyogJ+6hhicgKi9cXG4uaWNvbi10b2dnbGUtb246YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ3JzsgfSAvKiAn7qGHJyAqL1xcbi5pY29uLXRvZ2dsZS1vZmY6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ4JzsgfSAvKiAn7qGIJyAqL1xcbi5pY29uLWhhc2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ5JzsgfSAvKiAn7qGJJyAqL1xcbi5pY29uLWZsYXNoOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0YSc7IH0gLyogJ+6hiicgKi9cXG4uaWNvbi1mbG93LWxpbmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRiJzsgfSAvKiAn7qGLJyAqL1xcbi5pY29uLWZsb3ctcGFyYWxsZWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRjJzsgfSAvKiAn7qGMJyAqL1xcbi5pY29uLXNodWZmbGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRkJzsgfSAvKiAn7qGNJyAqL1xcbi5pY29uLWV4Y2hhbmdlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0ZSc7IH0gLyogJ+6hjicgKi9cXG4uaWNvbi1leHBhbmQtcmlnaHQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRmJzsgfSAvKiAn7qGPJyAqL1xcbi5pY29uLWNvbGxhcHNlLWxlZnQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODUwJzsgfSAvKiAn7qGQJyAqL1xcbi5pY29uLWZsYWctY2hlY2tlcmVkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1MSc7IH0gLyogJ+6hkScgKi9cXG4uaWNvbi1wYXBlci1wbGFuZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTInOyB9IC8qICfuoZInICovXFxuLmljb24tZmxhc2gtMTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTMnOyB9IC8qICfuoZMnICovXFxuLmljb24tYnVnOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1NCc7IH0gLyogJ+6hlCcgKi9cXG4uaWNvbi1yb2NrZXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODU1JzsgfSAvKiAn7qGVJyAqL1xcbi5pY29uLWNoYXJ0LWxpbmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODU2JzsgfSAvKiAn7qGWJyAqL1xcbi5pY29uLWVtby10b25ndWU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODU3JzsgfSAvKiAn7qGXJyAqL1xcbi5pY29uLWVtby1zaG9vdDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTgnOyB9IC8qICfuoZgnICovXFxuLmljb24tZW1vLWxhdWdoOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1OSc7IH0gLyogJ+6hmScgKi9cXG4uaWNvbi1saWZlYnVveTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NWEnOyB9IC8qICfuoZonICovXFxuLmljb24tYml0YnVja2V0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1Yic7IH0gLyogJ+6hmycgKi9cXG4uaWNvbi1jb2Rlb3BlbjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NWMnOyB9IC8qICfuoZwnICovXFxuLmljb24tZ2l0aHViOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1ZCc7IH0gLyogJ+6hnScgKi9cXG4uaWNvbi1leWVkcm9wcGVyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1ZSc7IH0gLyogJ+6hnicgKi9cXG4uaWNvbi1icnVzaDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NWYnOyB9IC8qICfuoZ8nICovXFxuLmljb24tZmlsdGVyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2MCc7IH0gLyogJ+6hoCcgKi9cXG4uaWNvbi1jcm9wOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2MSc7IH0gLyogJ+6hoScgKi9cXG4uaWNvbi10aW50OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2Mic7IH0gLyogJ+6hoicgKi9cXG4uaWNvbi1yaWdodC1kaXI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODYzJzsgfSAvKiAn7qGjJyAqL1xcbi5pY29uLWxlZnQtZGlyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2NCc7IH0gLyogJ+6hpCcgKi9cXG4uaWNvbi1wdXp6bGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODY1JzsgfSAvKiAn7qGlJyAqL1xcbi5pY29uLXVwLWRpcjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjYnOyB9IC8qICfuoaYnICovXFxuLmljb24tZ2FtZXBhZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjcnOyB9IC8qICfuoacnICovXFxuLmljb24tZmxhZy1lbXB0eTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjgnOyB9IC8qICfuoagnICovXFxuLmljb24tZmxhZzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjknOyB9IC8qICfuoaknICovXFxuLmljb24tcmVzaXplLWZ1bGwtYWx0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2YSc7IH0gLyogJ+6hqicgKi9cXG4uaWNvbi1saXN0LWJ1bGxldDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NmInOyB9IC8qICfuoasnICovXFxuLmljb24tYmxvY2s6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODZjJzsgfSAvKiAn7qGsJyAqL1xcbi5pY29uLWxhbmd1YWdlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2ZCc7IH0gLyogJ+6hrScgKi9cXG4uaWNvbi1saWdodGJ1bGI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODZlJzsgfSAvKiAn7qGuJyAqL1xcbi5pY29uLXpvb20taW46YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODZmJzsgfSAvKiAn7qGvJyAqL1xcbi5pY29uLXpvb20tb3V0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3MCc7IH0gLyogJ+6hsCcgKi9cXG4uaWNvbi11cC1jaXJjbGVkMjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NzEnOyB9IC8qICfuobEnICovXFxuLmljb24taW5maW5pdHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODcyJzsgfSAvKiAn7qGyJyAqL1xcbi5pY29uLWJhcmNvZGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODczJzsgfSAvKiAn7qGzJyAqL1xcbi5pY29uLXNoYXJlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3NCc7IH0gLyogJ+6htCcgKi9cXG4uaWNvbi1pbmZvOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3NSc7IH0gLyogJ+6htScgKi9cXG4uaWNvbi1oZWxwOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3Nic7IH0gLyogJ+6hticgKi9cXG4uaWNvbi1maWxlLXZpZGVvOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3Nyc7IH0gLyogJ+6htycgKi9cXG4uaWNvbi1maWxlLWF1ZGlvOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3OCc7IH0gLyogJ+6huCcgKi9cXG4uaWNvbi1maWxlLWltYWdlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3OSc7IH0gLyogJ+6huScgKi9cIjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiBDaHJvbmljbGVyKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9zdGFjayA9IFtdLFxuICAgIHRoaXMuX3BvaW50ZXIgPSAtMTtcbiAgICB0aGlzLl9jaGFpbnMgPSBbXTtcbiAgICB0aGlzLl9ibG9ja3MgPSBuZXcgU2V0KCk7XG59XG5cbmluaGVyaXRzKENocm9uaWNsZXIsIEV2ZW50RW1pdHRlcik7XG5tb2R1bGUuZXhwb3J0cyA9IENocm9uaWNsZXI7XG52YXIgcCA9IENocm9uaWNsZXIucHJvdG90eXBlO1xuXG5wLnVuZG8gPSBmdW5jdGlvbigpIHtcblxuICAgIGlmICh0aGlzLl9wb2ludGVyIDwgMCkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcmVjID0gdGhpcy5fc3RhY2tbdGhpcy5fcG9pbnRlci0tXTtcblxuICAgIGlmIChyZWMgaW5zdGFuY2VvZiBGbGFnKSB7XG5cbiAgICAgICAgdmFyIHN0YXJ0RmxhZ0lkeCA9IHRoaXMuX3N0YWNrLmluZGV4T2YocmVjLnBhaXIpO1xuXG4gICAgICAgIGlmIChzdGFydEZsYWdJZHggIT09IC0xKSB7XG5cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9wb2ludGVyICE9PSBzdGFydEZsYWdJZHgpIHtcblxuICAgICAgICAgICAgICAgIGxldCBfcmVjID0gdGhpcy5fc3RhY2tbdGhpcy5fcG9pbnRlci0tXTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9yZWMgaW5zdGFuY2VvZiBGbGFnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsKF9yZWMudW5kbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9wb2ludGVyLS07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2NhbGwocmVjLnVuZG8pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLnJlZG8gPSBmdW5jdGlvbigpIHtcblxuICAgIGlmICh0aGlzLl9wb2ludGVyID49IHRoaXMuX3N0YWNrLmxlbmd0aCAtIDEpIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHJlYyA9IHRoaXMuX3N0YWNrWysrdGhpcy5fcG9pbnRlcl07XG5cbiAgICBpZiAocmVjIGluc3RhbmNlb2YgRmxhZykge1xuXG4gICAgICAgIHZhciBlbmRGbGFnSWR4ID0gdGhpcy5fc3RhY2suaW5kZXhPZihyZWMucGFpcik7XG5cbiAgICAgICAgaWYgKGVuZEZsYWdJZHggIT09IC0xKSB7XG5cbiAgICAgICAgICAgIHdoaWxlICgrK3RoaXMuX3BvaW50ZXIgIT09IGVuZEZsYWdJZHgpIHtcblxuICAgICAgICAgICAgICAgIGxldCBfcmVjID0gdGhpcy5fc3RhY2tbdGhpcy5fcG9pbnRlcl07XG5cbiAgICAgICAgICAgICAgICBpZiAoIShfcmVjIGluc3RhbmNlb2YgRmxhZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbChfcmVjLnJlZG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fY2FsbChyZWMucmVkbyk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuX2NhbGwgPSBmdW5jdGlvbiAocmVnKSB7XG5cbiAgICB2YXIgYmxvY2sgPSB0aGlzLmJsb2NrU2F2aW5nKCk7XG5cbiAgICBpZiAodHlwZW9mIHJlZyA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgIHJlZygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVnWzBdLmFwcGx5KHJlZ1sxXSwgcmVnLnNsaWNlKDIpKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbGVhc2VCbG9jayhibG9jayk7XG59O1xuXG5wLnNhdmUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuXG4gICAgaWYgKHRoaXMuaXNCbG9ja2VkKSByZXR1cm47XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHRocm93IEVycm9yO1xuXG4gICAgdmFyIHJlZyA9IGFyZ3NbMF07XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpIHtcblxuICAgICAgICByZWcgPSB7XG4gICAgICAgICAgICB1bmRvOiBhcmdzWzBdLFxuICAgICAgICAgICAgcmVkbzogYXJnc1sxXSxcbiAgICAgICAgICAgIG5hbWU6IGFyZ3NbMl0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5fc2F2ZVJlZyhyZWcpO1xuXG4gICAgcmV0dXJuIHJlZztcbn07XG5cblxucC5fc2F2ZVJlZyA9IGZ1bmN0aW9uIChyZWcpIHtcblxuICAgIGlmICh0aGlzLmlzQmxvY2tlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fc3RhY2suc3BsaWNlKCsrdGhpcy5fcG9pbnRlciwgdGhpcy5fc3RhY2subGVuZ3RoLCByZWcpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cblxuXG5wLmdldFJlY29yZHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaXRlbXMgPSBbXSwgY3VyckZsYWcsIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuXG4gICAgdGhpcy5fc3RhY2suZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG5cbiAgICAgICAgaWYgKGN1cnJGbGFnKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBjdXJyRmxhZy5wYWlyKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBGbGFnKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IGl0ZW07XG4gICAgICAgICAgICAgICAgYWRkKGl0ZW0ubmFtZSwgdGhpcy5fc3RhY2suaW5kZXhPZihpdGVtLnBhaXIpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGQoaXRlbS5uYW1lLCBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gaXRlbXM7XG5cblxuICAgIGZ1bmN0aW9uIGFkZChuYW1lLCBpZHgpIHtcblxuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgfHwgJ3VubmFtZWQgcmVjb3JkJyxcbiAgICAgICAgICAgIGlkeDogaWR4LFxuICAgICAgICAgICAgZXhlY3V0ZWQ6IGlkeCA8PSBwb2ludGVyXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnAuZ290byA9IGZ1bmN0aW9uIChpZHgpIHtcblxuICAgIGlkeCA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbih0aGlzLl9zdGFjay5sZW5ndGgtMSwgcGFyc2VJbnQoaWR4KSkpO1xuXG4gICAgaWYgKGlkeCA8IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICB3aGlsZSAoaWR4IDwgdGhpcy5fcG9pbnRlcikge1xuXG4gICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpZHggPiB0aGlzLl9wb2ludGVyKSB7XG5cbiAgICAgICAgd2hpbGUgKGlkeCA+IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICAgICAgdGhpcy5yZWRvKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocCwgJ2lzQmxvY2tlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5zaXplICE9PSAwO1xuICAgIH1cbn0pO1xuXG5wLmJsb2NrU2F2aW5nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJsb2NrID0gU3ltYm9sKCk7XG4gICAgdGhpcy5fYmxvY2tzLmFkZChibG9jayk7XG5cbiAgICByZXR1cm4gYmxvY2s7XG59O1xuXG5wLnJlbGVhc2VCbG9jayA9IGZ1bmN0aW9uIChibG9jaykge1xuXG4gICAgdGhpcy5fYmxvY2tzLmRlbGV0ZShibG9jayk7XG59O1xuXG5wLmRvbnRTYXZlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgYmxvY2sgPSB0aGlzLmJsb2NrU2F2aW5nKCk7XG4gICAgZm4oKTtcbiAgICB0aGlzLnJlbGVhc2VCbG9jayhibG9jayk7XG59O1xuXG5cblxuXG5cblxuZnVuY3Rpb24gRmxhZyhuYW1lLCBwYWlyKSB7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucGFpciA9IHBhaXIgfHwgbmV3IEZsYWcobmFtZSwgdGhpcyk7XG5cbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xufVxuXG5wLnN0YXJ0RmxhZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgZmxhZyA9IG5ldyBGbGFnKG5hbWUpO1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcblxuICAgIHJldHVybiBmbGFnLnBhaXI7XG59O1xuXG5wLmVuZEZsYWcgPSBmdW5jdGlvbiAoZmxhZykge1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcbn07XG5cbnAud3JhcCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBoaXN0b3J5ID0gdGhpcyxcbiAgICAgICAgZm4gPSBvcHQuZm4sXG4gICAgICAgIGRlbGF5ID0gb3B0LmRlbGF5LFxuICAgICAgICBuYW1lID0gb3B0Lm5hbWU7XG5cbiAgICBpZiAoZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGxldCBlbmRGbGFnID0gaGlzdG9yeS5zdGFydEZsYWcobmFtZSk7XG5cbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGhpc3RvcnkuZW5kRmxhZyhlbmRGbGFnKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBjbG9zZUZsYWdTZXRULFxuICAgICAgICAgICAgZW5kRmxhZyxcbiAgICAgICAgICAgIGZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmVuZEZsYWcoZW5kRmxhZyk7XG4gICAgICAgICAgICAgICAgZW5kRmxhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNhbGxlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVuZEZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kRmxhZyA9IGFtLmhpc3Rvcnkuc3RhcnRGbGFnKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2xvc2VGbGFnU2V0VCk7XG4gICAgICAgICAgICAgICAgY2xvc2VGbGFnU2V0VCA9IHNldFRpbWVvdXQoZmluaXNoLCBkZWxheSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG9uQ2FsbGVkKCk7XG5cbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5wLnNhdmVDaGFpbiA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmICh0aGlzLmlzQmxvY2tlZCkgcmV0dXJuO1xuXG4gICAgdmFyIGNoYWluID0gdGhpcy5nZXRDaGFpbihvcHQuaWQpO1xuXG4gICAgaWYgKGNoYWluKSB7XG5cbiAgICAgICAgY2hhaW4ucmVnLnJlZG8gPSBvcHQucmVkbztcbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgICAgY2hhaW4gPSB7XG4gICAgICAgICAgICBpZDogb3B0LmlkLFxuICAgICAgICAgICAgcmVnOiB0aGlzLnNhdmUob3B0LnVuZG8sIG9wdC5yZWRvLCBvcHQubmFtZSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2hhaW5zLnB1c2goY2hhaW4pO1xuICAgIH1cblxuICAgIGlmIChvcHQuZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHQuZGVsYXkgPSAzMTI7XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KGNoYWluLnRpZCk7XG4gICAgY2hhaW4udGlkID0gc2V0VGltZW91dCh0aGlzLmNsb3NlQ2hhaW4uYmluZCh0aGlzLCBvcHQuaWQpLCBvcHQuZGVsYXkpO1xufTtcblxucC5jbG9zZUNoYWluID0gZnVuY3Rpb24gKGlkKSB7XG5cbiAgICB2YXIgY2hhaW4gPSB0aGlzLmdldENoYWluKGlkKTtcblxuICAgIGlmICghY2hhaW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChjaGFpbi50aWQpO1xuICAgIHRoaXMuX2NoYWlucy5zcGxpY2UodGhpcy5fY2hhaW5zLmluZGV4T2YoY2hhaW4pLCAxKTtcbn07XG5cbnAuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB3aGlsZSAodGhpcy5fY2hhaW5zLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNsb3NlQ2hhaW4odGhpcy5fY2hhaW5zWzBdLmlkKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFjay5sZW5ndGggPSAwLFxuICAgIHRoaXMuX3BvaW50ZXIgPSAtMTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLmdldENoYWluID0gZnVuY3Rpb24gKGlkKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fY2hhaW5zLmZpbmQoZnVuY3Rpb24gKGNoYWluKSB7XG5cbiAgICAgICAgcmV0dXJuIGNoYWluLmlkID09PSBpZDtcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cbi8vVE9ET1xuLy8gcC53cmFwRnVuY3Rpb25QYWlycyhvcHQpIHtcblxuLy8gICAgIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbi8vICAgICAgICAgb3JpVW5kb0ZuID0gb3B0LnVuZG9Sb290W29wdC51bmRvRm5OYW1lXSxcbi8vICAgICAgICAgaGlzdG9yeSA9IHRoaXMsXG4vLyAgICAgICAgIGR1bW15SGlzdG9yeSA9IHtcbi8vICAgICAgICAgICAgIHNhdmU6IGZ1bmN0aW9uICgpIHt9LFxuLy8gICAgICAgICAgICAgZmxhZzogZnVuY3Rpb24gKCkge30sXG4vLyAgICAgICAgICAgICBlbmRGbGFnOiBmdW5jdGlvbiAoKSB7fSxcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgdW5kb0hpc3RvcnkgPSBPYmplY3QuY3JlYXRlKGR1bW15SGlzdG9yeSksXG4vLyAgICAgICAgIHJlZG9IaXN0b3J5ID0gT2JqZWN0LmNyZWF0ZShkdW1teUhpc3RvcnkpO1xuXG4vLyAgICAgdW5kb0hpc3Rvcnkuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuLy8gICAgICAgICBoaXN0b3J5LnNhdmUoW29wdC51bmRvLmFkZFBhcmFtLCB0aGlzLCBwYXJhbSwgdHJ1ZV0sXG4vLyAgICAgICAgICAgICBbdGhpcy5yZW1vdmVQYXJhbSwgdGhpcywgcGFyYW0sIHRydWVdLCAncmVtb3ZlIHBhcmFtICcgKyBvcHQubmFtZSk7XG4vLyAgICAgfVxuXG4vLyAgICAgb3B0LnVuZG8ucGFyZW50W29wdC51bmRvLmZuTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG5cbi8vICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4vLyAgICAgICAgIGFyZ3MucHVzaCh1bmRvSGlzdG9yeSk7XG5cbi8vICAgICAgICAgb3JpVW5kb0ZuLmFwcGx5KG9wdC51bmRvLnRoaXNBcmcsIGFyZ3MpXG4vLyAgICAgfVxuLy8gfVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbHMvRGlhbG9nJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG52YXIgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgdGl0bGU6ICdGZWVkYmFjaycsXG59KTtcblxuZGlhbG9nLmFkZEJ1dHRvbignb2snLCAnaGlkZScpO1xuXG5jcmVhdGVDb250ZW50KCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHRleHQ6ICdIaSEgVGhpcyBwcm9ncmFtIGlzIGluIGFscGhhIHN0YXRlLCBzbyBtb3N0IG9mIHRoZSB0aGluZ3Mgd2lsbCBjaGFuZ2UgYW5kIG1vc3Qgb2YgdGhlIGJ1Z3MgYXJlIGtub3duLiBCdXQgaWYgeW91IGhhdmUgYW55IHF1ZXN0aW9uLCBmZWVkYmFjaywgZmVhdHVyZSByZXF1ZXN0LCBidWcgcmVwb3J0IG9yIGp1c3QgZmVlbCB0aGUgbmVlZCBmb3IgY29udGFjdCwgeW91IGNhbiB1c2UgdGhlIGF6YXpkZWF6QGdtYWlsLmNvbSBvciB0aGUgPGEgc3R5bGU9XCJjb2xvcjp3aGl0ZTtcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2FuaW1hY2hpbmUvYW5pbWFjaGluZS9pc3N1ZXNcIj5naXRodWIgaXNzdWVzPC9hPi4nLFxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkaWFsb2c7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHtcbiAgICB0aXRsZTogJ1dvcmsgaW4gcHJvZ3Jlc3MnLFxufSk7XG5cbmRpYWxvZy5hZGRCdXR0b24oJ29rJywgJ2hpZGUnKTtcblxuYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgIHRleHQ6IGBUaGlzIGZlYXR1cmUgaXNuJ3QgcmVhZHkgeWV0LiAoYnV0IGl0J3Mgb24gdGhlIHdheSEpPGJyPlxuVG8gZ2V0IG5vdGlmaWVkIGFib3V0IHRoZSBsYXRlc3QgY2hhbmdlcyBmb2xsb3cgdXMgb24gPGEgaHJlZj1cIi8vZ2l0aHViLmNvbS9hbmltYWNoaW5lL2FuaW1hY2hpbmVcIj5HaXRodWIhPC9hPmAsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi4vaTE4bicpO1xuXG52YXIgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgdGl0bGU6ICdIaSEnLFxufSk7XG5cbmRpYWxvZy5hZGRCdXR0b24oJ2Nsb3NlJywgJ2hpZGUnKTtcblxuY29uc3QgQ0hFQ0tGTEFHID0gJ19fYW1fZG9udHNob3d3ZWxjb21lbXNnYWdhaW4nLFxuICAgIENIRUNLRkxBR1ZBTCA9ICd2MSc7XG5cbmRpYWxvZy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnNTcwcHgnO1xuXG52YXIgZGVUZXh0ID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgIHRleHQ6IGkxOG4ud2VsY29tZU1zZyxcbiAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgIGhlaWdodDogJ2F1dG8nLFxuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50XG59KTtcbmRlVGV4dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTJweCc7XG5cblxudmFyIGNiID0gYW1ndWkuY3JlYXRlQ2hlY2tib3goe1xuICAgIHRleHQ6ICdkb25cXCd0IHNob3cgdGhpcyBhZ2FpbicsXG4gICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxufSk7XG5cbmRpYWxvZy5vbignaGlkZScsICgpID0+IHtcblxuICAgIGFtLnNldFZhcihDSEVDS0ZMQUcsIGNiLmNoZWNrZWQgPyBDSEVDS0ZMQUdWQUwgOiBmYWxzZSk7XG59KTtcblxudmFyIF9vcmlTaG93ID0gZGlhbG9nLnNob3c7XG5kaWFsb2cuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGRpYWxvZy5pc0NoZWNrZWQoeWVzID0+IHtcblxuICAgICAgICBpZiAoIXllcykgX29yaVNob3cuY2FsbChkaWFsb2cpO1xuICAgIH0pO1xufTtcblxuZGlhbG9nLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uIChjYikge1xuXG4gICAgYW0uZ2V0VmFyKENIRUNLRkxBRywgdiA9PiBjYih2ID09PSBDSEVDS0ZMQUdWQUwpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIERvbVBpY2tlcigpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faXNNb3VzZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9jcnVtYnMgPSBbXTtcblxuICAgIHRoaXMuX29uTU1vdmUgPSB0aGlzLl9vbk1Nb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyID0gdGhpcy5fcmVuZGVyLmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTU1vdmUpO1xuXG4gICAgYW0ub24oJ3NlbGVjdERvbUVsZW0nLCB0aGlzLl9vblNlbGVjdERvbUVsZW0sIHRoaXMpO1xuICAgIGFtLm9uKCdjaGFuZ2UuY3VyclRyYWNrJywgdGhpcy5oaWRlLCB0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuc2V0UmlnaHRMZWZ0QnRuKHtcbiAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICB0b29sdGlwOiAnY3JlYXRlIGEgbmV3IGNzcyB0cmFjayB3aXRoIHRoaXMgZWxlbWVudCcsXG4gICAgICAgIG9uQ2xpY2s6ICAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZhciB3aW5uZXIsIHdpbm5lclByaW9yLCBkb25lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYWRkJywge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fZGVUYXJnZXQsXG4gICAgICAgICAgICAgICAgZGVtYW5kOiBwcmlvciA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHJldHVybiByZWplY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbm5lclByaW9yID09PSB1bmRlZmluZWQgfHwgcHJpb3IgPCB3aW5uZXJQcmlvcikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyUHJpb3IgPSBwcmlvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lubmVyKSB3aW5uZXIucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyID0ge3Jlc29sdmUsIHJlamVjdH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHdpbm5lcikgd2lubmVyLnJlc29sdmUoKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuaW5oZXJpdHMoRG9tUGlja2VyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEb21QaWNrZXIucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvbVBpY2tlcjtcblxucC5mb2N1c0VsZW0gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cbiAgICBpZiAodGFyZ2V0ID09PSB0aGlzLl9kZVRhcmdldCkgcmV0dXJuO1xuXG4gICAgdmFyIG9sZFRhcmdldCA9IHRoaXMuX2RlVGFyZ2V0LFxuICAgICAgICBjcnVtYnMgPSB0aGlzLl9jcnVtYnMsXG4gICAgICAgIGxhc3RDcnVtYiA9IGNydW1ic1tjcnVtYnMubGVuZ3RoLTFdO1xuXG4gICAgaWYgKG9sZFRhcmdldCAmJiBvbGRUYXJnZXQucGFyZW50RWxlbWVudCA9PT0gdGFyZ2V0KSB7XG5cbiAgICAgICAgY3J1bWJzLnB1c2gob2xkVGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0ID09PSBsYXN0Q3J1bWIpIHtcblxuICAgICAgICBjcnVtYnMucG9wKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldC5wYXJlbnRFbGVtZW50ID09PSBsYXN0Q3J1bWIpIHtcblxuICAgICAgICBjcnVtYnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLl9kZVRhcmdldCA9IHRhcmdldDtcblxuXG4gICAgdmFyIHAgPSBhbS5pc1BpY2thYmxlRG9tRWxlbSxcbiAgICAgICAgdG9wID0gcCh0YXJnZXQucGFyZW50RWxlbWVudCksXG4gICAgICAgIHJpZ2h0ID0gcCh0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nKSxcbiAgICAgICAgYm90dG9tID0gcCh0YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQpLFxuICAgICAgICBsZWZ0ID0gcCh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG5cbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUuZGlzcGxheSA9IHRvcCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUuZGlzcGxheSA9IHJpZ2h0ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUuZGlzcGxheSA9IGJvdHRvbSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5kaXNwbGF5ID0gbGVmdCA/ICdibG9jaycgOiAnbm9uZSc7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgIHRoaXMuX3JlcmVuZGVyU2V0SSA9IHNldEludGVydmFsKHRoaXMuX3JlbmRlciwgMTIzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVuZGVyKTtcblxuICAgIHRoaXMuZW1pdCgncGljaycsIHRhcmdldCk7XG59O1xuXG5wLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZVRhcmdldCA9IHVuZGVmaW5lZDtcblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVyZW5kZXJTZXRJKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVuZGVyKTtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxucC5zZXRSaWdodExlZnRCdG4gPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLl9idG5SaWdodExlZnQuc2V0SWNvbihvcHQuaWNvbilcblxuICAgIC8vVE9ETyByZW1vdmUgdGhlIHByZXZpb3VzXG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0Lm9uQ2xpY2spO1xuXG4gICAgdmFyIHRvb2x0aXAgPSBhbWd1aS5nZXRUb29sdGlwKHRoaXMuX2J0blJpZ2h0TGVmdCk7XG4gICAgdG9vbHRpcC5zZXRDb250ZW50KG9wdC50b29sdGlwKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9kZVRhcmdldCkgcmV0dXJuO1xuXG4gICAgdmFyIGJyID0gdGhpcy5fZGVUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9IGJyLmxlZnQgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSBici50b3AgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IGJyLndpZHRoICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gYnIuaGVpZ2h0ICsgJ3B4JztcblxuICAgIHRoaXMuX2FsaWduQnRuQ29udCgpO1xufTtcblxucC5fYWxpZ25CdG5Db250ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHt0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHR9ID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBbb1RvcCwgb0xlZnQsIG9XaWR0aCwgb0hlaWdodF0gPSBbdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0XSxcbiAgICAgICAgd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIHdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgIGJ0blNpemUgPSAyMTtcblxuICAgIHdpZHRoID0gTWF0aC5tYXgoYnRuU2l6ZSwgTWF0aC5taW4od1dpZHRoLCBvV2lkdGgpKTtcbiAgICBoZWlnaHQgPSBNYXRoLm1heChidG5TaXplLCBNYXRoLm1pbih3SGVpZ2h0LCBvSGVpZ2h0KSk7XG5cbiAgICBsZWZ0ID0gKG9XaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgdG9wID0gKG9IZWlnaHQgLSBoZWlnaHQpIC8gMjtcblxuICAgIGlmIChvTGVmdCArIGxlZnQgPCAwKSBsZWZ0ID0gYnRuU2l6ZSAtIG9MZWZ0O1xuICAgIGlmIChvVG9wICsgdG9wIDwgMCkgdG9wID0gYnRuU2l6ZSAtIG9Ub3A7XG4gICAgaWYgKG9MZWZ0ICsgbGVmdCArIHdpZHRoID4gd1dpZHRoKSBsZWZ0ID0gYnRuU2l6ZTtcbiAgICBpZiAob1RvcCArIHRvcCArIGhlaWdodCA+IHdIZWlnaHQpIHRvcCA9IGJ0blNpemU7XG5cbiAgICB0aGlzLl9idG5Db250LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICB0aGlzLl9idG5Db250LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XG4gICAgdGhpcy5fYnRuQ29udC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICB0aGlzLl9idG5Db250LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG59XG5cbnAuX29uTU1vdmUgPSAgZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBiciA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgbXggPSBlLmNsaWVudFgsXG4gICAgICAgIG15ID0gZS5jbGllbnRZLFxuICAgICAgICBzID0gdGhpcy5faXNNb3VzZU92ZXIgPyAyMSA6IDAsXG4gICAgICAgIG92ZXIgPSBteCA+PSBici5sZWZ0LXMgJiYgbXggPD0gYnIucmlnaHQrcyAmJlxuICAgICAgICAgICAgbXkgPj0gYnIudG9wLXMgJiYgbXkgPD0gYnIuYm90dG9tK3M7XG5cbiAgICBpZiAob3ZlciAhPT0gdGhpcy5faXNNb3VzZU92ZXIpIHtcblxuICAgICAgICB0aGlzLl9pc01vdXNlT3ZlciA9IG92ZXI7XG5cbiAgICAgICAgdGhpcy5fYnRuQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gb3ZlciA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xuICAgIH1cbn07XG5cbnAuX29uU2VsZWN0RG9tRWxlbSA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgdGhpcy5mb2N1c0VsZW0oZGUpO1xufVxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJ0blNpemUgPSAyMSwgYm9yZGVyU2l6ZSA9ICcycHgnO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuYm9yZGVyID0gJ3NvbGlkICNlZWUgJyArIGJvcmRlclNpemU7XG4gICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHZhciBkZURhc2hlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlRGFzaGVkLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlRGFzaGVkLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBkZURhc2hlZC5zdHlsZS5ib3JkZXIgPSAnZGFzaGVkICM0NDQgJyArIGJvcmRlclNpemU7XG4gICAgZGVEYXNoZWQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtJytib3JkZXJTaXplKycsLScrYm9yZGVyU2l6ZSsnKSc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVEYXNoZWQpO1xuXG4gICAgdGhpcy5fYnRuQ29udCA9IGFtZ3VpLmNyZWF0ZURpdih7cGFyZW50OiBkZX0pO1xuXG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX29uTUVudGVyKTtcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25NTGVhdmUpO1xuXG4gICAgdGhpcy5kb21FbGVtID0gZGU7XG5cblxuICAgIHZhciBjcmVhdGVCdG4gPSAoaWNvbiwgdG9vbHRpcCwgb25DbGljaykgPT4ge1xuXG4gICAgICAgIHZhciBkZUljb24gPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIGljb246IGljb24sXG4gICAgICAgICAgICBzaXplOiBidG5TaXplLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9idG5Db250LFxuICAgICAgICB9KTtcblxuICAgICAgICBkZUljb24uc3R5bGUudGV4dFNoYWRvdyA9ICcwIDAgNHB4ICMwMDAnO1xuXG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG5cbiAgICAgICAgICAgIGRlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIG9uQ2xpY2soKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBhbWd1aS5hZGRUb29sdGlwKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBkZUljb24sXG4gICAgICAgICAgICB0ZXh0OiB0b29sdGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlSWNvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlSWNvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgICAgIHJldHVybiBkZUljb247XG4gICAgfVxuXG4gICAgdGhpcy5fYnRuVG9wID0gY3JlYXRlQnRuKCdhbmdsZS11cCcsICd1cCBvbmUgbGV2ZWwnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUudG9wID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS5yaWdodCA9ICcwJztcbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUubWFyZ2luID0gJzAgYXV0byc7XG5cblxuICAgIHRoaXMuX2J0blJpZ2h0ID0gY3JlYXRlQnRuKCdhbmdsZS1yaWdodCcsICduZXh0IHNpYmxpbmcnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2J0blJpZ2h0LnN0eWxlLnJpZ2h0ID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blJpZ2h0LnN0eWxlLnRvcCA9ICcwJztcbiAgICB0aGlzLl9idG5SaWdodC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUubWFyZ2luID0gJ2F1dG8gMCc7XG5cbiAgICB0aGlzLl9idG5Cb3R0b20gPSBjcmVhdGVCdG4oJ2FuZ2xlLWRvd24nLCAnZG93biBvbmUgbGV2ZWwnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fY3J1bWJzW3RoaXMuX2NydW1icy5sZW5ndGgtMV0gfHwgdGhpcy5fZGVUYXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQpO1xuXG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUuYm90dG9tID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5yaWdodCA9ICcwJztcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUubWFyZ2luID0gJzAgYXV0byc7XG5cbiAgICB0aGlzLl9idG5MZWZ0ID0gY3JlYXRlQnRuKCdhbmdsZS1sZWZ0JywgJ3ByZXZpb3VzIHNpYmxpbmcnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5MZWZ0LnN0eWxlLmxlZnQgPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS50b3AgPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5tYXJnaW4gPSAnYXV0byAwJztcblxuICAgIHRoaXMuX2J0bkNsb3NlID0gY3JlYXRlQnRuKCdjYW5jZWwnLCAnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS5yaWdodCA9IC1idG5TaXplICsgJ3B4JztcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS50b3AgPSAtYnRuU2l6ZSArICdweCc7XG5cbiAgICB0aGlzLl9idG5SaWdodExlZnQgPSBjcmVhdGVCdG4oJ3BsdXMnLCAnJyk7XG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LnN0eWxlLnJpZ2h0ID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blJpZ2h0TGVmdC5zdHlsZS5ib3R0b20gPSAtYnRuU2l6ZSArICdweCc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcclxudmFyIEl0ZW0gPSByZXF1aXJlKCcuL0l0ZW0nKTtcclxuXHJcbmZ1bmN0aW9uIEhpc3RvcnlUYWIoKSB7XHJcblxyXG4gICAgdGhpcy5fb25IaXN0b3J5Q2hhZ2UgPSB0aGlzLl9vbkhpc3RvcnlDaGFnZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xyXG5cclxuICAgIGFtLmhpc3Rvcnkub24oJ2NoYW5nZScsIHRoaXMuX29uSGlzdG9yeUNoYWdlKTtcclxufVxyXG5cclxudmFyIHAgPSBIaXN0b3J5VGFiLnByb3RvdHlwZTtcclxubW9kdWxlLmV4cG9ydHMgPSBIaXN0b3J5VGFiO1xyXG5cclxucC5fYWRkSXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCk7XHJcbiAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgIHRoaXMuX3Njcm9sbENvbnQuYXBwZW5kQ2hpbGQoaXRlbS5kb21FbGVtKTtcclxufTtcclxuXHJcbnAuX3JlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cclxuICAgIHZhciBpZHggPSB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgXHJcbiAgICBpZiAoaXRlbSAhPT0gLTEpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKGlkeCwgMSk7XHJcblxyXG4gICAgICAgIGlmIChpdGVtLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xyXG5cclxuICAgICAgICAgICAgaXRlbS5kb21FbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbS5kb21FbGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5wLl9vbkhpc3RvcnlDaGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgcmVjb3JkcyA9IGFtLmhpc3RvcnkuZ2V0UmVjb3JkcygpO1xyXG5cclxuICAgIHJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAocmVjLCBpZHgpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtc1tpZHhdKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9hZGRJdGVtKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1tpZHhdLnNldHVwKHJlYyk7XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICB3aGlsZSAodGhpcy5faXRlbXMubGVuZ3RoID4gcmVjb3Jkcy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlSXRlbSh0aGlzLl9pdGVtc1tyZWNvcmRzLmxlbmd0aF0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcclxuXHJcbiAgICB0aGlzLl9zY3JvbGxDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLl9zY3JvbGxDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3Njcm9sbENvbnQpO1xyXG5cclxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcclxuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcclxuICAgICAgICBkZVRhcmdldDogdGhpcy5fc2Nyb2xsQ29udFxyXG4gICAgfSk7XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBJdGVtKCkge1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9yZWMuZXhlY3V0ZWQgPyB0aGlzLl9yZWMuaWR4IC0gMSA6IHRoaXMuX3JlYy5pZHg7XG4gICAgICAgIGFtLmhpc3RvcnkuZ290byhpZHgpO1xuXG4gICAgfS5iaW5kKHRoaXMpKTtcbn1cblxudmFyIHAgPSBJdGVtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcblxudmFyIGN1cnNvcnMgPSB7XG4gICAgdW5kbzogJ2F1dG8nLFxuICAgIHJlZG86ICdhdXRvJyxcbn07XG5cbmFtZ3VpLm9uKCdmb250TG9hZGVkJywgKCkgPT4ge1xuXG4gICAgY3Vyc29ycy51bmRvID0gY3JlYXRlSWNvbignY2N3Jyk7XG4gICAgY3Vyc29ycy5yZWRvID0gY3JlYXRlSWNvbignY3cnKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvbikge1xuXG4gICAgICAgIHJldHVybiBhbWd1aS5jcmVhdGVDdXJzb3JGcm9tVGV4dCh7XG4gICAgICAgICAgICBpY29uOiBpY29uLFxuICAgICAgICAgICAgY29sb3I6IGFtZ3VpLmNvbG9yLnRleHQsXG4gICAgICAgICAgICB3aWR0aDogMTYsXG4gICAgICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICAgICAgaG90c3BvdFg6IDgsXG4gICAgICAgICAgICBob3RzcG90WTogOCxcbiAgICAgICAgICAgIHRleHRYOiAyLFxuICAgICAgICAgICAgc3Ryb2tlOiB7Y29sb3I6J2JsYWNrJywgd2lkdGg6IDJ9LFxuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICB9KVxuICAgIH1cbn0pO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKHJlY29yZCkge1xuXG4gICAgdGhpcy5fcmVjID0gcmVjb3JkO1xuXG4gICAgdGhpcy5fbGFiZWwuaW5uZXJIVE1MID0gcmVjb3JkLm5hbWU7XG4gICAgdGhpcy5fdG9nZ2xlU3RhdGUuc2V0VG9nZ2xlKHJlY29yZC5leGVjdXRlZCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmN1cnNvciA9IGN1cnNvcnNbcmVjb3JkLmV4ZWN1dGVkID8gJ3VuZG8nIDogJ3JlZG8nXTtcbn07XG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMTtcblxuICAgIHRoaXMuX3RvZ2dsZVN0YXRlID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBpY29uT246ICdjaXJjbGUnLFxuICAgICAgICBpY29uT2ZmOiAnY2lyY2xlLXRoaW4nLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxXG4gICAgfSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNzc01vZHVsZToge1xuICAgICAgICBub1RyYWNrU2VsZWN0ZWQ6ICdObyB0cmFjayBzZWxlY3RlZC4nLFxuICAgIH0sXG4gICAgd2VsY29tZU1zZzpgSXQncyBhbmltYXRpb24gZWRpdG9yIHRvb2wgZm9yIGRlc2lnbmluZyA8YSBocmVmPVwiLy9ncmVlbnNvY2suY29tL1wiIHN0eWxlPVwiY29sb3I6Izg4Y2UwMjtmb250LXdlaWdodDo4MDA7XCI+R1NBUDwvYT4gYmFzZWQgYW5pbWF0aW9ucyBmb3IgYW55IGtpbmQgb2Ygd2ViIHByb2plY3QuPGJyPjxicj5cbkFsdGhvdWdoIGl0J3MgaW4gYWxwaGEgc3RhdGUsIChzbyBtYW55IG9mIHRoZSBmZWF0dXJlcyBhcmUganVzdCBkcmFmdCBvciBidWdneSBhbmQgdGhlIFVJIGlzbid0IHRoYXQgZnJpZW5kbHkpIHlvdSdyZSB3ZWxjb21lZCB0byBjaGVjayB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBwcm9ncmFtIGFuZCBwbGF5IHdpdGggaXQgOik8YnI+PGJyPlxuSWYgeW91IGhhdmUgYW55IGtpbmQgb2YgcXVlc3Rpb24sIG9waW5pb24sIGZlYXR1cmUgcmVxdWVzdCBvciBqdXN0IHdhbnQgdG8gY29udGFjdCwgb3BlbiBhbiBpc3N1ZSBvbiA8YSBocmVmPVwiLy9naXRodWIuY29tL2FuaW1hY2hpbmUvYW5pbWFjaGluZS9pc3N1ZXNcIj5HaXRodWI8L2E+IG9yIHNlbmQgYSBtYWlsIHRvIGZlZWRiYWNrQGFuaW1hY2hpbmUub3JnPGJyPjxicj5cbkZvciBtb3JlIGRldGFpbGVzIGNoZWNrIDxhIGhyZWY9XCIvL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lXCI+R2l0aHViPC9hPjxicj48YnI+XG48YSBocmVmPVwiLy90d2l0dGVyLmNvbS9hbmltYWNoaW5lanNcIj5AYW5pbWFjaGluZWpzPC9hPjxicj5cbmBcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBtaW5lO1xuXG5mdW5jdGlvbiBtaW5lKHN0cikge1xuXG4gICAgaWYgKHR5cGVvZihzdHIpID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHJ4ID0gL1xcL1xcKlxcKltcXHNcXFNdKkBhbXNhdmVbXFxzXFxTXSpcXCpcXC9bXFxzXFxTXS4qdmFyXFxzLipTQVZFSlNPTlxccy4qPShbXFxzXFxTXS4qKS8sXG4gICAgICAgIG0gPSByeC5leGVjKHN0ciksXG4gICAgICAgIGpzb247XG5cbiAgICBpZiAobSAmJiBtWzFdKSB7XG5cbiAgICAgICAganNvbiA9IGV4dHJhY3RKU09OKG1bMV0pWzBdO1xuXG4gICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDU3NDU0Ni8zNjE1Mjg4XG5mdW5jdGlvbiBleHRyYWN0SlNPTihzdHIpIHtcbiAgICB2YXIgZmlyc3RPcGVuLCBmaXJzdENsb3NlLCBjYW5kaWRhdGU7XG4gICAgZmlyc3RPcGVuID0gc3RyLmluZGV4T2YoJ3snLCBmaXJzdE9wZW4gKyAxKTtcbiAgICBkbyB7XG4gICAgICAgIGZpcnN0Q2xvc2UgPSBzdHIubGFzdEluZGV4T2YoJ30nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZpcnN0T3BlbjogJyArIGZpcnN0T3BlbiwgJ2ZpcnN0Q2xvc2U6ICcgKyBmaXJzdENsb3NlKTtcbiAgICAgICAgaWYoZmlyc3RDbG9zZSA8PSBmaXJzdE9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZSA9IHN0ci5zdWJzdHJpbmcoZmlyc3RPcGVuLCBmaXJzdENsb3NlICsgMSk7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2FuZGlkYXRlOiAnICsgY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IEpTT04ucGFyc2UoY2FuZGlkYXRlKTtcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi4uZm91bmQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3JlcywgZmlyc3RPcGVuLCBmaXJzdENsb3NlICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKSB7XG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy4uLmZhaWxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RDbG9zZSA9IHN0ci5zdWJzdHIoMCwgZmlyc3RDbG9zZSkubGFzdEluZGV4T2YoJ30nKTtcbiAgICAgICAgfSB3aGlsZShmaXJzdENsb3NlID4gZmlyc3RPcGVuKTtcbiAgICAgICAgZmlyc3RPcGVuID0gc3RyLmluZGV4T2YoJ3snLCBmaXJzdE9wZW4gKyAxKTtcbiAgICB9IHdoaWxlKGZpcnN0T3BlbiAhPT0gLTEpO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBxc2dlbiA9IHJlcXVpcmUoJy4uLy4uL3FzZ2VuJyk7XG5cbmZ1bmN0aW9uIEJyYW5jaCgpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fb25DbGljayA9IHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcbn1cblxuaW5oZXJpdHMoQnJhbmNoLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBCcmFuY2gucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBCcmFuY2g7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgcXMgPSBxc2dlbihvcHQuZG9tRWxlbSk7XG5cbiAgICB0aGlzLnZhbHVlID0gb3B0LmRvbUVsZW07XG4gICAgXG4gICAgdGhpcy5fbGFiZWwuaW5uZXJIVE1MID0gcXM7XG4gICAgdGhpcy5fbGFiZWwuc3R5bGUubWFyZ2luTGVmdCA9IChvcHQuaW5kZW50ICogNikgKyAncHgnO1xufTtcblxuXG5cblxucC5fb25DbGljayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgdGhpcyk7XG59XG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQ7XG5cbiAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5kb21FbGVtfSk7XG5cbiAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcblxuICAgIHRoaXMuX2xhYmVsID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZmxleDogMVxuICAgIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgQnJhbmNoID0gcmVxdWlyZSgnLi9CcmFuY2gnKTtcbnZhciBxc2dlbiA9IHJlcXVpcmUoJy4uLy4uL3FzZ2VuJyk7XG5cbmZ1bmN0aW9uIERvbVRyZWVUYWIoKSB7XG5cbiAgICB0aGlzLl9icmFuY2hlcyA9IFtdO1xuICAgIHRoaXMuX2J1ZmZCcmFuY2ggPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuX29uU2VsZWN0QnJhbmNoID0gdGhpcy5fb25TZWxlY3RCcmFuY2guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblNlbGVjdENydW1iID0gdGhpcy5fb25TZWxlY3RDcnVtYi5iaW5kKHRoaXMpO1xufVxuXG52YXIgcCA9IERvbVRyZWVUYWIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBEb21UcmVlVGFiO1xuXG5wLl9hZGRCcmFuY2ggPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgYnJhbmNoID0gdGhpcy5fYnVmZkJyYW5jaC5wb3AoKSB8fCBuZXcgQnJhbmNoKCk7XG4gICAgdGhpcy5fYnJhbmNoZXMucHVzaChicmFuY2gpO1xuXG4gICAgYnJhbmNoLnNldHVwKG9wdCk7XG5cbiAgICBicmFuY2gub24oJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0QnJhbmNoKTtcblxuICAgIHRoaXMuX3Njcm9sbENvbnQuYXBwZW5kQ2hpbGQoYnJhbmNoLmRvbUVsZW0pO1xufVxuXG5wLl9yZW1vdmVCcmFuY2ggPSBmdW5jdGlvbiAoYnJhbmNoKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fYnJhbmNoZXMuaW5kZXhPZihicmFuY2gpO1xuICAgIFxuICAgIGlmIChicmFuY2ggIT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5fYnJhbmNoZXMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgaWYgKGJyYW5jaC5kb21FbGVtLnBhcmVudE5vZGUpIHtcblxuICAgICAgICAgICAgYnJhbmNoLmRvbUVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChicmFuY2guZG9tRWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmQnJhbmNoLnB1c2goYnJhbmNoKTtcbiAgICB9XG5cbiAgICBicmFuY2gucmVtb3ZlTGlzdGVuZXIoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0QnJhbmNoKTtcbn1cblxucC5mb2N1c0VsZW0gPSBmdW5jdGlvbiAoZGUpIHtcblxuICAgIHZhciBwYXRoID0gW10sIGRlU3RlcCA9IGRlLCBtYXhEZWVwID0gMztcblxuICAgIHdoaWxlICh0aGlzLl9icmFuY2hlcy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLl9yZW1vdmVCcmFuY2godGhpcy5fYnJhbmNoZXNbMF0pO1xuICAgIH1cblxuICAgIHdoaWxlIChkZVN0ZXAucGFyZW50Tm9kZSAmJiBkZVN0ZXAubm9kZU5hbWUgIT09ICdIVE1MJykge1xuXG4gICAgICAgIHZhciBkZVN0ZXAgPSBkZVN0ZXAucGFyZW50Tm9kZTtcblxuICAgICAgICBwYXRoLnVuc2hpZnQoe1xuICAgICAgICAgICAgbmFtZTogcXNnZW4oZGVTdGVwKSB8fCBkZVN0ZXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHZhbHVlOiBkZVN0ZXBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fYnJlYWRjcnVtYnMuc2V0SXRlbXMocGF0aCk7XG5cbiAgICB2YXIgc3RlcCA9IChkZSwgZGVlcCkgPT4ge1xuXG4gICAgICAgIHRoaXMuX2FkZEJyYW5jaCh7XG4gICAgICAgICAgICBkb21FbGVtOiBkZSxcbiAgICAgICAgICAgIGluZGVudDogZGVlcFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGVlcCA8IG1heERlZXApIHtcblxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGUuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICBzdGVwKGNoaWxkcmVuW2ldLCBkZWVwICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgc3RlcChkZSwgMCk7XG59O1xuXG5cblxuXG5cblxucC5fb25TZWxlY3RCcmFuY2ggPSBmdW5jdGlvbiAoYnJhbmNoKSB7XG5cbiAgICBhbS5zZWxlY3REb21FbGVtKGJyYW5jaC52YWx1ZSk7XG59O1xuXG5wLl9vblNlbGVjdENydW1iID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGFtLnNlbGVjdERvbUVsZW0oZS5kZXRhaWwuc2VsZWN0aW9uLnZhbHVlKTtcbn07XG5cblxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB0aGlzLl9zY3JvbGxDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fc2Nyb2xsQ29udC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fc2Nyb2xsQ29udCk7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogdGhpcy5kb21FbGVtLFxuICAgICAgICBkZVRhcmdldDogdGhpcy5fc2Nyb2xsQ29udFxuICAgIH0pO1xuXG4gICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBhbWd1aS5jcmVhdGVCcmVhZGNydW1icyh7XG4gICAgICAgIHBhcmVudDogdGhpcy5fc2Nyb2xsQ29udCxcbiAgICAgICAgb25TZWxlY3Q6IHRoaXMuX29uU2VsZWN0Q3J1bWJcbiAgICB9KTtcbiAgICB0aGlzLl9icmVhZGNydW1icy5zdHlsZS5oZWlnaHQgPSAnMjJweCc7XG4gICAgdGhpcy5fYnJlYWRjcnVtYnMuc3R5bGUubWluV2lkdGggPSAnMTAwJSc7XG4gICAgLy8gdGhpcy5fYnJlYWRjcnVtYnMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIERvbVRyZWVUYWIgPSByZXF1aXJlKCcuL0RvbVRyZWVUYWInKTtcblxudmFyIGRvbVRyZWVUYWI7XG5cbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGRvbVRyZWVUYWIgPSBuZXcgRG9tVHJlZVRhYigpO1xuXG4gICAgYW0ub24oJ3NlbGVjdERvbUVsZW0nLCBvblNlbGVjdERvbUVsZW0pO1xuXG4gICAgYW0ud29ya3NwYWNlLmZpbGxUYWIoJ0RvbSBUcmVlJywgZG9tVHJlZVRhYi5kb21FbGVtKTtcbn07XG5cbmZ1bmN0aW9uIG9uU2VsZWN0RG9tRWxlbShkZSkge1xuXG4gICAgZG9tVHJlZVRhYi5mb2N1c0VsZW0oZGUpO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBDc3NQYXJhbSA9IHJlcXVpcmUoJy4vQ3NzUGFyYW0nKTtcbnZhciBLZXkgPSByZXF1aXJlKCcuLi8uLi90cmFjay9LZXknKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgVHJhbnNoYW5kID0gcmVxdWlyZSgndHJhbnNoYW5kJyk7XG5cbmZ1bmN0aW9uIEJlemllckNzc1BhcmFtIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7b3B0aW9uTGluZToge319O1xuXG4gICAgb3B0Lm9wdGlvbkxpbmUuaW5wdXRzID0gW1xuICAgICAgICB7bmFtZTogJ3gnLCB0eXBlOiAndW5pdCd9LFxuICAgICAgICB7bmFtZTogJ3knLCB0eXBlOiAndW5pdCd9LFxuICAgICAgICB7bmFtZTogJ2F1dG9Sb3RhdGUnLCB0eXBlOiAnY2hlY2tib3gnLCB0ZXh0OiAncm90YXRlJ30sXG4gICAgXTtcblxuICAgIHRoaXMuX2NoZWNrVGltZWxpbmUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fY2hlY2tPYmogPSB7eDogMCwgeTogMH07XG5cbiAgICBDc3NQYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5vcHRpb25MaW5lLmlucHV0cy5hdXRvUm90YXRlLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fcmVmcmVzaENoZWNrVGltZWxpbmUsIHRoaXMpO1xuICAgIHRoaXMuX3JlZnJlc2hDaGVja1RpbWVsaW5lKCk7XG5cbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSB7eDogMCwgeTogMH07XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUuYWRkQnV0dG9uKHtcbiAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiAnY2hhcnQtbGluZScsXG4gICAgICAgICAgICB0b29sdGlwOiAnY29udmVydCB0byBwbGFpbiB0cmFuc2xhdGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5lbWl0KCdiZXppZXJUb1RyYW5zbGF0ZScpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgIGNoaWxkSWR4OiAwLFxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignY2hhbmdlLmhpZGRlbicsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9ibHVyVHJhbnNmb3JtZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5pbmhlcml0cyhCZXppZXJDc3NQYXJhbSwgQ3NzUGFyYW0pO1xudmFyIHAgPSBCZXppZXJDc3NQYXJhbS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEJlemllckNzc1BhcmFtO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBwYXJlbnRUcmFjazoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnRUcmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9mZignZm9jdXNUcmFuc2Zvcm1lcicsIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9mZignYmx1clRyYW5zZm9ybWVyJywgdGhpcy5fYmx1clRyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50VHJhY2sgPSB2O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50VHJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRUcmFjay5vbignZm9jdXNUcmFuc2Zvcm1lcicsIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9uKCdibHVyVHJhbnNmb3JtZXInLCB0aGlzLl9ibHVyVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudFRyYWNrO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxuXG5cbnAuZ2V0U2NyaXB0S2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXSxcbiAgICAgICAgICAgIGsgPSB7XG4gICAgICAgICAgICAgICAgdGltZToga2V5LnRpbWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBiZXppZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdWJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZToga2V5LmVhc2UuZ2V0RWFzZXIoKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldktleSA9IGtleS5nZXRQcmV2S2V5KCk7XG5cbiAgICAgICAgdmFsdWVzLnB1c2gocHJldktleSA/IF8ubGFzdChwcmV2S2V5LnZhbHVlKS5hbmNob3IgOiBrZXkudmFsdWVbMF0uYW5jaG9yKTtcbiAgICAgICAgdmFsdWVzLnB1c2gocHJldktleSA/IF8ubGFzdChwcmV2S2V5LnZhbHVlKS5oYW5kbGVSaWdodCA6IGtleS52YWx1ZVswXS5hbmNob3IpO1xuXG4gICAgICAgIGtleS52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCwgaWR4LCBhcnIpIHtcblxuICAgICAgICAgICAgdmFsdWVzLnB1c2gocG9pbnQuaGFuZGxlTGVmdCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChwb2ludC5hbmNob3IpO1xuICAgICAgICAgICAgaWYgKGlkeCAhPT0gYXJyLmxlbmd0aCAtIDEpIHZhbHVlcy5wdXNoKHBvaW50LmhhbmRsZVJpZ2h0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9vcHRpbWlzZSBhbmQgZml4IEdTQVAgYnVnXG4gICAgICAgIGlmICh2YWx1ZXMuZXZlcnkodiA9PiB2LnggPT09IHZhbHVlc1swXS54ICYmIHYueSA9PT0gdmFsdWVzWzBdLnkpKSB7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBrLm9wdGlvbnMuYmV6aWVyO1xuICAgICAgICAgICAgay5vcHRpb25zLnggPSB2YWx1ZXNbMF0ueDtcbiAgICAgICAgICAgIGsub3B0aW9ucy55ID0gdmFsdWVzWzBdLnk7XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gXy5zb3J0Qnkoa2V5cywgJ3RpbWUnKTtcbn07XG5cbnAuX3JlZnJlc2hDaGVja1RpbWVsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRpbWUgPSAwLFxuICAgICAgICB0bCA9IG5ldyB3aW5kb3cuVGltZWxpbmVNYXgoKTtcblxuICAgIGlmICh0aGlzLl9jaGVja1RpbWVsaW5lKSB0aGlzLl9jaGVja1RpbWVsaW5lLmtpbGwoKTtcbiAgICB0aGlzLl9jaGVja1RpbWVsaW5lID0gdGw7XG5cbiAgICB0aGlzLmdldFNjcmlwdEtleXModHJ1ZSkuZm9yRWFjaChrZXkgPT4ge1xuXG4gICAgICAgIHRsLnRvKHRoaXMuX2NoZWNrT2JqLCAoa2V5LnRpbWUgLSB0aW1lKSAvIDEwMDAsIGtleS5vcHRpb25zKTtcblxuICAgICAgICB0aW1lID0ga2V5LnRpbWU7XG4gICAgfSk7XG59O1xuXG5wLmdldFZhbHVlID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIGlmICghXy5pc051bWJlcih0aW1lKSkge1xuICAgICAgICB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2NoZWNrVGltZWxpbmUpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaENoZWNrVGltZWxpbmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jaGVja1RpbWVsaW5lLnRpbWUodGltZS8xMDAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB0aGlzLl9jaGVja09iai54LFxuICAgICAgICB5OiB0aGlzLl9jaGVja09iai55LFxuICAgIH07XG59O1xuXG5wLmFkZEtleSA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleShvcHQudGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIGtleS52YWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgW10ucHVzaC5hcHBseShrZXkudmFsdWUsIG9wdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgICAgaWYgKCFvcHQudmFsdWUpIHtcblxuICAgICAgICAgICAgbGV0IHt4LCB5fSA9IHRoaXMuZ2V0VmFsdWUob3B0LnRpbWUpO1xuXG4gICAgICAgICAgICBvcHQudmFsdWUgPSBbe1xuICAgICAgICAgICAgICAgIGFuY2hvcjoge3gsIHl9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUxlZnQ6IHt4LCB5fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3gsIHl9LFxuICAgICAgICAgICAgfV07XG4gICAgICAgIH1cblxuICAgICAgICBrZXkgPSBuZXcgS2V5KG9wdCwgdGhpcy50aW1lbGluZSk7XG5cbiAgICAgICAga2V5Lm9uKCdwcmVyZW5kZXInLCB0aGlzLl9vbktleVByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5rZXlMaW5lLmFkZEtleShrZXkpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkS2V5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaElucHV0cygpO1xuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xuXG4gICAgcmV0dXJuIGtleTtcbn07XG5cbi8vVE9ETyByZW1vdmVLZXkgLT4ga2V5Lm9mZigncHJlcmVuZGVyJywgdGhpcy5fb25LZXlQcmVyZW5kZXIsIHRoaXMpO1xuXG5cblxucC5fY2FsY0Vhc2UgPSBmdW5jdGlvbiAocCwgcG9zKSB7XG5cbiAgICB2YXIgbCA9IHAubGVuZ3RoIC8gMjtcblxuICAgIHdoaWxlICgtLWwgPiAwKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGNvdW50KGkqMik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge3g6IHBbMF0sIHk6IHBbMV19O1xuXG4gICAgZnVuY3Rpb24gY291bnQoaSkge1xuXG4gICAgICAgIHBbaSswXSA9IHBbaSswXSArIChwW2krMl0gLSBwW2krMF0pICogcG9zO1xuICAgICAgICBwW2krMV0gPSBwW2krMV0gKyAocFtpKzNdIC0gcFtpKzFdKSAqIHBvcztcbiAgICB9XG59O1xuXG5wLl9mb2N1c1RyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICBkZSA9IGRlIHx8IHRoaXMucGFyZW50VHJhY2suX2N1cnJIYW5kbGVkRGU7XG4gICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IGRlO1xuXG4gICAgaWYgKCF0aGlzLl9jdXJySGFuZGxlZERlIHx8IHRoaXMuaGlkZGVuKSByZXR1cm4gdGhpcy5fYmx1clRyYW5zZm9ybWVyKCk7XG5cbiAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IFRyYW5zaGFuZCgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lci5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUcmFuc2Zvcm1lciwgdGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zZm9ybVNhdmU7XG4gICAgaWYgKGRlLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1TYXZlID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9XG5cbiAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGRlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVNhdmU7XG5cbiAgICB2YXIgcG9pbnRzID0gW107XG5cbiAgICBfLnNvcnRCeSh0aGlzLmtleUxpbmUuX2tleXMsICd0aW1lJykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAga2V5LnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpZHgsIGFycikge1xuXG4gICAgICAgICAgICB2YXIgc3JjS2V5ID0ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiBwb2ludC5hbmNob3IueCwgeTogcG9pbnQuYW5jaG9yLnl9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogcG9pbnQuaGFuZGxlTGVmdC54LCB5OiBwb2ludC5oYW5kbGVMZWZ0Lnl9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3g6IHBvaW50LmhhbmRsZVJpZ2h0LngsIHk6IHBvaW50LmhhbmRsZVJpZ2h0Lnl9LFxuICAgICAgICAgICAgICAgICAgICBsaW5rZWQ6IHBvaW50LmxpbmtlZCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSBhcnIubGVuZ3RoIC0gMSkge1xuXG4gICAgICAgICAgICAgICAgc3JjS2V5LnN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JGaWxsOiAnbmF2YWpvd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JTdHJva2U6ICdkZWVwc2t5Ymx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbGw6ICduYXZham93aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN0cm9rZTogJ2RlZXBza3libHVlJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludHMucHVzaChzcmNLZXkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RyYW5zZm9ybWVyLnNldHVwKHtcbiAgICAgICAgaGFuZDoge1xuICAgICAgICAgICAgdHlwZTogJ2N1cnZlcicsXG4gICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIHg6IGJyLmxlZnQgKyBici53aWR0aC8yLFxuICAgICAgICAgICAgICAgIHk6IGJyLnRvcCArIGJyLmhlaWdodC8yLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuX3RyYW5zZm9ybWVyLmFjdGl2YXRlKCk7XG5cbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0pO1xufTtcblxucC5fYmx1clRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyKSB7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIuZGVhY3RpdmF0ZSgpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcblxuICAgIHZhciBjaGFuZ2VkS2V5cyA9IFtdO1xuXG4gICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7XG5cbiAgICAgICAgdmFyIGlkeCA9IGNoYW5nZS5pZHgsXG4gICAgICAgICAgICBrZXlzID0gXy5zb3J0QnkodGhpcy5rZXlMaW5lLl9rZXlzLCAndGltZScpLFxuICAgICAgICAgICAga2V5O1xuXG4gICAgICAgIC8vZmluZCB0aGUga2V5IGFjY29yZGluZyB0byB0aGUgY2hhbmdlXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcblxuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgaWYgKGtleS52YWx1ZS5sZW5ndGggPD0gaWR4KSB7XG5cbiAgICAgICAgICAgICAgICBpZHggLT0ga2V5LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSAnYWRkJykge1xuXG4gICAgICAgICAgICBrZXkudmFsdWUuc3BsaWNlKGlkeCwgMCwge1xuICAgICAgICAgICAgICAgIGFuY2hvcjoge3g6IGNoYW5nZS5wb2ludC5hbmNob3IueCwgeTogY2hhbmdlLnBvaW50LmFuY2hvci55fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueCwgeTogY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueX0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiBjaGFuZ2UucG9pbnQuaGFuZGxlUmlnaHQueCwgeTogY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lnl9LFxuICAgICAgICAgICAgICAgIGxpbmtlZDogY2hhbmdlLnBvaW50LmxpbmtlZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBrZXkuZW1pdCgnbmVlZC5yZW5kZXInKTsvL2ZvciByZW5kZXIgdGhlIGV4dHJhIGtleSBtYXJrZXJzIGJ0dyBrZXlzXG4gICAgICAgICAgICBjaGFuZ2VkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09ICdyZW1vdmUnKSB7XG5cbiAgICAgICAgICAgIGtleS52YWx1ZS5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgICAgICAgaWYgKGtleS52YWx1ZS5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMua2V5TGluZS5yZW1vdmVLZXkoa2V5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAga2V5LmVtaXQoJ25lZWQucmVuZGVyJyk7Ly9mb3IgcmVuZGVyIHRoZSBleHRyYSBrZXkgbWFya2VycyBidHcga2V5c1xuICAgICAgICAgICAgY2hhbmdlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSAnZWRpdCcpIHtcblxuICAgICAgICAgICAgdmFyIHBvaW50ID0ga2V5LnZhbHVlW2lkeF07XG4gICAgICAgICAgICBwb2ludC5hbmNob3IueCA9IGNoYW5nZS5wb2ludC5hbmNob3IueDtcbiAgICAgICAgICAgIHBvaW50LmFuY2hvci55ID0gY2hhbmdlLnBvaW50LmFuY2hvci55O1xuICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC54ID0gY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueDtcbiAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IGNoYW5nZS5wb2ludC5oYW5kbGVMZWZ0Lnk7XG4gICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lng7XG4gICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC55ID0gY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lnk7XG4gICAgICAgICAgICBwb2ludC5saW5rZWQgPSBjaGFuZ2UucG9pbnQubGlua2VkO1xuXG4gICAgICAgICAgICBjaGFuZ2VkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvL3RoZSBrZXkudmFsdWUgb2JqZWN0IGRvZXNuJ3QgY2hhbmdlIHNvIHdlIG5lZWQgdG8gdGhyb3cgdGhlIGNoYW5nZSBldmVudCBtYW51YWxseVxuICAgIGNoYW5nZWRLZXlzLmZvckVhY2goa2V5ID0+IGtleS5lbWl0KCdjaGFuZ2UudmFsdWUnKSk7XG59O1xuXG5wLl9vbktleVByZXJlbmRlciA9IGZ1bmN0aW9uIChjdHgsIGtleSkge1xuXG4gICAgdmFyIHByZXZLZXkgPSBrZXkuZ2V0UHJldktleSgpLFxuICAgICAgICBzdGFydCA9IHRoaXMudGltZWxpbmUudGltZVRvUmVuZGVyUG9zKHByZXZLZXkgPyBwcmV2S2V5LnRpbWUgOiAwKSxcbiAgICAgICAgd2lkdGggPSB0aGlzLnRpbWVsaW5lLnRpbWVUb1JlbmRlclBvcyhrZXkudGltZSkgLSBzdGFydCxcbiAgICAgICAgc3RlcCA9IHdpZHRoIC8ga2V5LnZhbHVlLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5LnZhbHVlLmxlbmd0aCAtIDE7ICsraSkge1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2RlZXBza3libHVlJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC5hcmMoc3RhcnQgKyAoc3RlcCAqIChpKzEpKSwga2V5Ll9oZWlnaHQvMiwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFBhcmFtID0gcmVxdWlyZSgnLi4vLi4vdHJhY2svUGFyYW0nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtIChvcHQ9e30pIHtcblxuICAgIFBhcmFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXRzKENzc1BhcmFtLCBQYXJhbSk7XG52YXIgcCA9IENzc1BhcmFtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ3NzUGFyYW07IiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgUGFyYW1GYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdHJhY2svUGFyYW1GYWN0b3J5Jyk7XG52YXIgQ3NzUGFyYW0gPSByZXF1aXJlKCcuL0Nzc1BhcmFtJyk7XG52YXIgQmV6aWVyQ3NzUGFyYW0gPSByZXF1aXJlKCcuL0JlemllckNzc1BhcmFtJyk7XG52YXIgQ3NzUGFyYW1Hcm91cCA9IHJlcXVpcmUoJy4vQ3NzUGFyYW1Hcm91cCcpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcblxudmFyIGRlZmF1bHRIaWRkZW4gPSAneixyb3RhdGlvblgscm90YXRpb25ZLHNjYWxlWixwZXJzcGVjdGl2ZU9yaWdpblgsdHJhbnNmb3JtT3JpZ2luWicuc3BsaXQoJywnKTtcblxuZnVuY3Rpb24gQ3NzUGFyYW1GYWN0b3J5KCkge1xuXG4gICAgUGFyYW1GYWN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLmdyb3VwcyA9IHtcbiAgICAgICAgcGFkZGluZzogWydwYWRkaW5nVG9wJywgICdwYWRkaW5nUmlnaHQnLCAgJ3BhZGRpbmdCb3R0b20nLCAgJ3BhZGRpbmdMZWZ0J10sXG4gICAgICAgIG1hcmdpbjogWydtYXJnaW5Ub3AnLCAgJ21hcmdpblJpZ2h0JywgICdtYXJnaW5Cb3R0b20nLCAgJ21hcmdpbkxlZnQnXSxcbiAgICAgICAgYm9yZGVyV2lkdGg6IFsnYm9yZGVyVG9wV2lkdGgnLCAgJ2JvcmRlclJpZ2h0V2lkdGgnLCAgJ2JvcmRlckJvdHRvbVdpZHRoJywgICdib3JkZXJMZWZ0V2lkdGgnXSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBbJ2JvcmRlclRvcExlZnRSYWRpdXMnLCAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnLCAnYm9yZGVyQm90dG9tTGVmdFJhZGl1cycsICdib3JkZXJCb3R0b21SaWdodFJhZGl1cyddLFxuICAgICAgICBib3JkZXJDb2xvcjogWydib3JkZXJUb3BDb2xvcicsICdib3JkZXJSaWdodENvbG9yJywgJ2JvcmRlckJvdHRvbUNvbG9yJywgJ2JvcmRlckxlZnRDb2xvciddLFxuICAgICAgICBib3JkZXJTdHlsZTogWydib3JkZXJUb3BTdHlsZScsICdib3JkZXJSaWdodFN0eWxlJywgJ2JvcmRlckJvdHRvbVN0eWxlJywgJ2JvcmRlckxlZnRTdHlsZSddLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFsnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJ10sXG4gICAgICAgIHRleHRTaGFkb3c6IFsndGV4dFNoYWRvd1gnLCAndGV4dFNoYWRvd1knLCAndGV4dFNoYWRvd0JsdXInXSxcbiAgICAgICAgdHJhbnNsYXRlOiBbJ3gnLCAneScsICd6J10sXG4gICAgICAgIHNjYWxlOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJ10sXG4gICAgICAgIHJvdGF0aW9uOiBbJ3JvdGF0aW9uWCcsICdyb3RhdGlvblknLCAncm90YXRpb25aJ10sXG4gICAgICAgIHNrZWV3OiBbJ3NrZWV3WCcsICdza2Vld1knXSxcbiAgICAgICAgcGVyc3BlY3RpdmVPcmlnaW46IFsncGVyc3BlY3RpdmVPcmlnaW5YJywgJ3BlcnNwZWN0aXZlT3JpZ2luWScsICdwZXJzcGVjdGl2ZU9yaWdpblonXSxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBbJ3RyYW5zZm9ybU9yaWdpblgnLCAndHJhbnNmb3JtT3JpZ2luWSddLFxuICAgICAgICBib3hTaGFkb3c6IFsnYm94U2hhZG93WCcsICdib3hTaGFkb3dZJywgJ2JveFNoYWRvd0JsdXInXSxcbiAgICB9O1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gQ3NzUGFyYW1GYWN0b3J5O1xuaW5oZXJpdHMoQ3NzUGFyYW1GYWN0b3J5LCBQYXJhbUZhY3RvcnkpO1xudmFyIHAgPSBDc3NQYXJhbUZhY3RvcnkucHJvdG90eXBlO1xuXG5cbnAuX2Fzc2VtYmxlUGFyYW0gPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICBpZiAoIV8uaGFzKG9wdCwgJ2hpZGRlbicpICYmIF8uaW5jbHVkZShkZWZhdWx0SGlkZGVuLCBvcHQubmFtZSkpIG9wdC5oaWRkZW4gPSB0cnVlO1xuICAgIGlmICghXy5oYXMob3B0LCdvcHRpb25MaW5lJykpIG9wdC5vcHRpb25MaW5lID0ge307XG4gICAgaWYgKCFfLmhhcyhvcHQub3B0aW9uTGluZSwnaW5wdXRzJykpIG9wdC5vcHRpb25MaW5lLmlucHV0cyA9IFtdO1xuICAgIGlmIChfLmlzRW1wdHkob3B0Lm9wdGlvbkxpbmUuaW5wdXRzKSkgb3B0Lm9wdGlvbkxpbmUuaW5wdXRzLnB1c2goe25hbWU6ICdpbnB1dCd9KTtcblxuICAgIHZhciBpbnB1dCA9IG9wdC5vcHRpb25MaW5lLmlucHV0c1swXTtcblxuICAgIHRoaXMuaWZpdChvcHQubmFtZSlcbiAgICAgICAgLmlzKCd4LHkseix0cmFuc2Zvcm1PcmlnaW5aJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQuZGVmYXVsdFZhbHVlID0gJzBweCc7XG4gICAgICAgICAgICBpbnB1dC51bml0cyA9IFsncHgnXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmlzKCdzY2FsZVgsc2NhbGVZLHNjYWxlWicsICgpID0+IHtcblxuICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICAgICAgICAgIG9wdC5kZWZhdWx0VmFsdWUgPSAxO1xuICAgICAgICAgICAgaW5wdXQuZHJhZ1NwZWVkID0gMC4wMTtcbiAgICAgICAgICAgIGlucHV0LnByZWNpc2lvbiA9IDI7XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygncm90YXRpb25YLHJvdGF0aW9uWSxyb3RhdGlvblonLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIG9wdC5kZWZhdWx0VmFsdWUgPSAnMGRlZyc7XG4gICAgICAgICAgICBpbnB1dC51bml0cyA9IFsnZGVnJywgJ3JhZCddO1xuICAgICAgICAgICAgaW5wdXQucHJlY2lzaW9uID0gMTtcbiAgICAgICAgICAgIGlucHV0LmNvbnZlcnRlcnMgPSB7XG4gICAgICAgICAgICAgICAgZGVnMnJhZDogZnVuY3Rpb24gKGRlZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVnIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJhZDJkZWc6IGZ1bmN0aW9uIChyYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhZCAvIE1hdGguUEkgKiAxODA7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygndHJhbnNmb3JtT3JpZ2luWCx0cmFuc2Zvcm1PcmlnaW5ZJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQuZGVmYXVsdFZhbHVlID0gJzUwJSc7XG4gICAgICAgICAgICBpbnB1dC51bml0cyA9IFsnJSddO1xuICAgICAgICAgICAgaW5wdXQuZHJhZ1NwZWVkID0gMC4wMTtcbiAgICAgICAgICAgIGlucHV0LnByZWNpc2lvbiA9IDI7XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygneFBlcmNlbnQseVBlcmNlbnQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlucHV0LnVuaXRzID0gW107XG4gICAgICAgICAgICBpbnB1dC5kcmFnU3BlZWQgPSAxO1xuICAgICAgICAgICAgaW5wdXQucHJlY2lzaW9uID0gMTtcbiAgICAgICAgfSlcbiAgICAgICAgLmlzKCdjb2xvcixib3JkZXJDb2xvclRvcCxib3JkZXJDb2xvclJpZ2h0LGJvcmRlckNvbG9yQm90dG9tLGJvcmRlckNvbG9yTGVmdCxiYWNrZ3JvdW5kQ29sb3InLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSAnY29sb3InO1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ2JvcmRlcldpZHRoLHRvcCxyaWdodCxib3R0b20sbGVmdCx3aWR0aCxoZWlnaHQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlucHV0LnVuaXRzID0gWydweCddO1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ29wYWNpdHknLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIG9wdC5kZWZhdWx0VmFsdWUgPSAxO1xuICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICAgICAgICAgIGlucHV0LmRyYWdTcGVlZCA9IDAuMDE7XG4gICAgICAgICAgICBpbnB1dC5wcmVjaXNpb24gPSAyO1xuICAgICAgICAgICAgaW5wdXQubWluID0gMDtcbiAgICAgICAgICAgIGlucHV0Lm1heCA9IDE7XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygnYm9yZGVyVG9wV2lkdGgsYm9yZGVyVG9wTGVmdFJhZGl1cyxib3JkZXJUb3BDb2xvcixib3JkZXJUb3BTdHlsZScsICgpID0+IG9wdC50aXRsZSA9ICd0b3AnKVxuICAgICAgICAuaXMoJ2JvcmRlclJpZ2h0V2lkdGgsYm9yZGVyVG9wUmlnaHRSYWRpdXMsYm9yZGVyUmlnaHRDb2xvcixib3JkZXJSaWdodFN0eWxlJywgKCkgPT4gb3B0LnRpdGxlID0gJ3JpZ2h0JylcbiAgICAgICAgLmlzKCdib3JkZXJCb3R0b21XaWR0aCxib3JkZXJCb3R0b21MZWZ0UmFkaXVzLGJvcmRlckJvdHRvbUNvbG9yLGJvcmRlckJvdHRvbVN0eWxlJywgKCkgPT4gb3B0LnRpdGxlID0gJ2JvdHRvbScpXG4gICAgICAgIC5pcygnYm9yZGVyTGVmdFdpZHRoLGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLGJvcmRlckxlZnRDb2xvcixib3JkZXJMZWZ0U3R5bGUnLCAoKSA9PiBvcHQudGl0bGUgPSAnbGVmdCcpXG4gICAgICAgIC5pcygndHJhbnNmb3JtT3JpZ2luWCxwZXJzcGVjdGl2ZU9yaWdpblgsc2NhbGVYLHJvdGF0ZVgsdGV4dFNoYWRvd1gsYm94U2hhZG93WCxza2Vld1gnLCAoKSA9PiBvcHQudGl0bGUgPSAneCcpXG4gICAgICAgIC5pcygndHJhbnNmb3JtT3JpZ2luWSxwZXJzcGVjdGl2ZU9yaWdpblksc2NhbGVZLHJvdGF0ZVksdGV4dFNoYWRvd1ksYm94U2hhZG93WSxza2Vld1knLCAoKSA9PiBvcHQudGl0bGUgPSAneScpXG4gICAgICAgIC5pcygndHJhbnNmb3JtT3JpZ2luWixwZXJzcGVjdGl2ZU9yaWdpblosc2NhbGVaLHJvdGF0ZVonLCAoKSA9PiBvcHQudGl0bGUgPSAneicpXG4gICAgICAgIC5pcygnYmV6aWVyJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQub3B0aW9uTGluZS5pbnB1dHMgPSBbXTtcbiAgICAgICAgfSk7XG5cbiAgICBpZiAoaW5wdXQudW5pdHMpIHtcbiAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICB9XG5cbiAgICB2YXIgcGFyYW07XG5cbiAgICBpZiAob3B0Lm5hbWUgPT09ICdiZXppZXInKSB7XG5cbiAgICAgICAgcGFyYW0gPSBuZXcgQmV6aWVyQ3NzUGFyYW0ob3B0LCB0aGlzLnRpbWVsaW5lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmFtID0gbmV3IENzc1BhcmFtKG9wdCwgdGhpcy50aW1lbGluZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtO1xufTtcblxucC5fYXNzZW1ibGVHcm91cCA9IGZ1bmN0aW9uIChvcHQ9e30pIHtcblxuICAgIF8uZGVmYXVsdHMob3B0LCB7XG4gICAgICAgIGNvbGxhcHNlZDogZmFsc2UsXG4gICAgICAgIG1lcmdlZDogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiBmYWxzZSxcbiAgICAgICAgYm9ycm93Q2hpbGRJbnB1dHNPbkNvbGxhcHNlOiB0cnVlLFxuICAgICAgICBvcHRpb25MaW5lOiB7XG4gICAgICAgICAgICBpbnB1dHM6IFtdLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIHBhcmFtR3JvdXAgPSBuZXcgQ3NzUGFyYW1Hcm91cChvcHQsIHRoaXMudGltZWxpbmUpO1xuXG4gICAgaWYgKG9wdC5uYW1lID09PSAndHJhbnNsYXRlJykge1xuXG4gICAgICAgIHBhcmFtR3JvdXAub3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICAgICAgaWNvbjogJ3ZlY3RvcicsXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ2NvbnZlcnQgdG8gYmV6aWVyIHBhdGgnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHBhcmFtR3JvdXAuZW1pdCgndHJhbnNsYXRlVG9CZXppZXInKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgICAgICBjaGlsZElkeDogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtR3JvdXA7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUGFyYW1Hcm91cCA9IHJlcXVpcmUoJy4uLy4uL3RyYWNrL1BhcmFtR3JvdXAnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtR3JvdXAgKG9wdD17fSkge1xuXG4gICAgUGFyYW1Hcm91cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0cyhDc3NQYXJhbUdyb3VwLCBQYXJhbUdyb3VwKTtcbnZhciBwID0gQ3NzUGFyYW1Hcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1BhcmFtR3JvdXA7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxuZnVuY3Rpb24gQ3NzUGFyYW1zVGFiKCkge1xuXG4gICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcyA9IFtdO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgYW0ub24oJ2NoYW5nZS5jdXJyVHJhY2snLCB0aGlzLl9vbkNoYW5nZUN1cnJUcmFjaywgdGhpcyk7XG59XG5cbnZhciBwID0gQ3NzUGFyYW1zVGFiLnByb3RvdHlwZTtcblxuXG5cblxuXG5wLl9vbkNoYW5nZUN1cnJUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgdGhpcy5fdW5saXN0ZW4oKTtcblxuICAgIHRoaXMuX2N1cnJUcmFjayA9IHRyYWNrO1xuXG4gICAgdGhpcy5fbGlzdGVuKCk7XG59O1xuXG5cbnAuX29uSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAocGFyYW1OYW1lLCB2YWx1ZSkge1xuXG4gICAgaWYgKCF0aGlzLl9jdXJyVHJhY2spIHJldHVybjtcblxuICAgIHZhciBwYXJhbSA9IHRoaXMuX2N1cnJUcmFjay5nZXRQYXJhbShwYXJhbU5hbWUpO1xuXG4gICAgaWYgKCFwYXJhbSkge1xuXG4gICAgICAgIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmFkZFBhcmFtKHtuYW1lOiBwYXJhbU5hbWV9KTtcbiAgICAgICAgcGFyYW0uYWRkS2V5KHt2YWx1ZTogdmFsdWV9KTtcbiAgICB9XG59O1xuXG5wLl9vblRyYWNrQWRkUGFyYW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9saXN0ZW4oKTtcbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hLZXlCdXR0b25zKCk7XG59O1xuXG5wLl9vbkNoYW5nZVBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaEtleUJ1dHRvbnMoKTtcbn07XG5cblxuXG5cblxuXG5wLl91bmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fY3VyclRyYWNrKSByZXR1cm47XG5cbiAgICB0aGlzLl9zaG93SGlkZU5vVHJhY2tNc2codHJ1ZSk7XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sucGFyYW1Hcm91cC5vZmYoJ2NoYW5nZS5zdHJ1Y3R1cmUnLCB0aGlzLl9vblRyYWNrQWRkUGFyYW0sIHRoaXMpO1xuICAgIHRoaXMuX2N1cnJUcmFjay50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZm9yRWFjaElucHV0KGZ1bmN0aW9uIChpbnB1dCwgcGFyYW1OYW1lKSB7XG5cbiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmdldFBhcmFtKHBhcmFtTmFtZSk7XG5cbiAgICAgICAgaWYgKHBhcmFtKSB7XG5cbiAgICAgICAgICAgIHBhcmFtLm9mZignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZVBhcmFtLCB0aGlzKTtcbiAgICAgICAgICAgIHBhcmFtLmRldGFjaElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIGlucHV0LnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX2xpc3RlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fY3VyclRyYWNrKSByZXR1cm47XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sucGFyYW1Hcm91cC5vbignY2hhbmdlLnN0cnVjdHVyZScsIHRoaXMuX29uVHJhY2tBZGRQYXJhbSwgdGhpcyk7XG4gICAgdGhpcy5fY3VyclRyYWNrLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lLCB0aGlzKTtcblxuICAgIHRoaXMuX3Nob3dIaWRlTm9UcmFja01zZyhmYWxzZSk7XG5cbiAgICB0aGlzLl9mb3JFYWNoSW5wdXQoZnVuY3Rpb24gKGlucHV0LCBwYXJhbU5hbWUpIHtcblxuICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suZ2V0UGFyYW0ocGFyYW1OYW1lKTtcblxuICAgICAgICBpZiAocGFyYW0pIHtcblxuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBwYXJhbS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgcGFyYW0uYXR0YWNoSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgcGFyYW0ub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fb25DaGFuZ2VQYXJhbSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX3Nob3dIaWRlTm9UcmFja01zZyA9IGZ1bmN0aW9uIChzaG93KSB7XG5cbiAgICB0aGlzLl9kZU1zZ05vVHJhY2suc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9kZVNjcm9sbENvbnQuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnbm9uZScgOiAnJztcbn07XG5cbnAuX2ZvckVhY2hJbnB1dCA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuXG4gICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25MaW5lKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9uTGluZS5pbnB1dHMpLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXNBcmcsIG9wdGlvbkxpbmUuaW5wdXRzW3BhcmFtTmFtZV0sIHBhcmFtTmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaEtleUJ1dHRvbnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25MaW5lKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbkxpbmUucmVmcmVzaEtleSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB0aGlzLl9kZU1zZ05vVHJhY2sgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBjb2xvcjogYW1ndWkuY29sb3IudGV4dEluYWN0aXZlLFxuICAgICAgICB0ZXh0OiBhbS5pMThuLmNzc01vZHVsZS5ub1RyYWNrU2VsZWN0ZWQsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZVNjcm9sbENvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgIH0pO1xuXG4gICAgYW1ndWkubWFrZVNjcm9sbGFibGUoe1xuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlU2Nyb2xsQ29udFxuICAgIH0pO1xuXG4gICAgdmFyIGJvZGVyU3R5bGVPcHRpb25zID0gJ25vbmUsaGlkZGVuLGRvdHRlZCxkYXNoZWQsc29saWQsZG91YmxlLGdyb292ZSxyaWRnZSxpbnNldCxvdXRzZXQsaW5pdGlhbCxpbmhlcml0Jy5zcGxpdCgnLCcpO1xuXG4gICAgdmFyIHBhcmFtVHJlZSA9IFtcblxuICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ2ZvbnQnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LWZhbWlseScsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC1zaXplJywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LXdlaWdodCcsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC1zdHlsZScsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC12YXJpYW50JywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd0ZXh0LXRyYW5zZm9ybScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6ICdub25lLGNhcGl0YWxpemUsdXBwZXJjYXNlLGxvd2VyY2FzZSxmdWxsLXdpZHRoJy5zcGxpdCgnLCcpfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAndGV4dC1kZWNvcmF0aW9uJywgaW5wdXQ6IHt0eXBlOiAnc3RyaW5nJywgZGVmYXVsdFZhbHVlOiAnbm9uZSd9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdjb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHt0aXRsZTogJ2JvcmRlcicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJDb2xvcicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyVG9wQ29sb3InLCBpbnB1dDogJ2NvbG9yJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRDb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJCb3R0b21Db2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJMZWZ0Q29sb3InLCBpbnB1dDogJ2NvbG9yJ30sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlcldpZHRoJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJUb3BXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyQm90dG9tV2lkdGgnLCBpbnB1dDoge3R5cGU6ICd1bml0JywgdW5pdHM6IFsncHgnXX19LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckxlZnRXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlclN0eWxlJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJUb3BTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyQm90dG9tU3R5bGUnLCBpbnB1dDoge3R5cGU6ICdzZWxlY3QnLCBvcHRpb25zOiBib2RlclN0eWxlT3B0aW9uc319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckxlZnRTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgXX0sXG4gICAgICAgIHt0aXRsZTogJ2JhY2tncm91bmQnLCBjaGlsZHJlbjogW119LFxuICAgICAgICB7dGl0bGU6ICd0cmFuc2Zvcm0nLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAge3RpdGxlOiAndHJhbnNsYXRlJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd4JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd5JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd6JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICAgICAge3RpdGxlOiAnc2NhbGUnLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3NjYWxlWCcsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnc2NhbGVZJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdzY2FsZVonLCBpbnB1dDoge319LFxuICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICB7dGl0bGU6ICdyb3RhdGlvbicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAncm90YXRpb25YJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdyb3RhdGlvblknLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3JvdGF0aW9uWicsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgXX0sXG4gICAgICAgIHt0aXRsZTogJ2xheW91dCcsIGNoaWxkcmVuOiBbXX0sXG4gICAgXTtcbiAgICB2YXIgYnVpbGQgPSBmdW5jdGlvbiAobm9kZUxpc3QsIHBhcmVudCwgaW5kZW50KSB7XG5cbiAgICAgICAgbm9kZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuXG4gICAgICAgICAgICB2YXIgb3B0aW9uTGluZSxcbiAgICAgICAgICAgICAgICBpc0NoaWxkcmVuVmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIG5vZGUuaW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgbm9kZS5rZWVwU3BhY2VGb3JUZ2dsQ2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAobm9kZS5pbnB1dCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihub2RlLmlucHV0KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnB1dCA9IHt0eXBlOiBub2RlLmlucHV0fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlLmlucHV0Lm5hbWUgPSBub2RlLnRpdGxlO1xuXG4gICAgICAgICAgICAgICAgbm9kZS5pbnB1dHMgPSBbbm9kZS5pbnB1dF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5vZGUuaW5wdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlucHV0cykge1xuXG4gICAgICAgICAgICAgICAgbm9kZS5idG5LZXkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJUcmFjaykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmFkZFBhcmFtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbm9kZS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS50b2dnbGVLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgICAgICBub2RlLnRnZ2xDaGlsZHJlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogb25Ub2dnbGVDaGlsZHJlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2NyZWF0ZVxuICAgICAgICAgICAgb3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5wdXNoKG9wdGlvbkxpbmUpO1xuXG4gICAgICAgICAgICAvL2xpc3RlbiB0byBpbnB1dHNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbkxpbmUuaW5wdXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dE5hbWUpIHtcblxuICAgICAgICAgICAgICAgIG9wdGlvbkxpbmUuaW5wdXRzW2lucHV0TmFtZV0ucmVzZXQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VIYW5kbGVyID0gdGhpcy5fb25JbnB1dENoYW5nZS5iaW5kKHRoaXMsIGlucHV0TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lLmlucHV0c1tpbnB1dE5hbWVdLm9uKCdjaGFuZ2UnLCBjaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG5cbiAgICAgICAgICAgIC8vYWRkIHBhcmFtIGJ1dHRvblxuICAgICAgICAgICAgdmFyIHBhcmFtTmFtZXMgPSBjb2xsZWN0UGFyYW1OYW1lcyhub2RlKTtcblxuICAgICAgICAgICAgb3B0aW9uTGluZS5yZWZyZXNoS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25MaW5lLmJ1dHRvbnMua2V5KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB0aGlzLl9jdXJyVHJhY2sudGltZWxpbmUuY3VyclRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suZ2V0UGFyYW0ocGFyYW1OYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtICYmIHBhcmFtLmdldEtleSh0aW1lKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzS2V5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3B0aW9uTGluZS5idXR0b25zLmtleS5zZXRIaWdobGlnaHQoISFoYXNLZXkpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG5cbiAgICAgICAgICAgIC8vYXBwZW5kIHRvIHBhcmVudFxuICAgICAgICAgICAgaWYgKHBhcmVudC5hZGRPcHRpb25MaW5lKSB7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkT3B0aW9uTGluZShvcHRpb25MaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChvcHRpb25MaW5lLmRvbUVsZW0pO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgICAgICBvblRvZ2dsZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICBidWlsZChub2RlLmNoaWxkcmVuLCBvcHRpb25MaW5lLCBpbmRlbnQgKyAxKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvblRvZ2dsZUNoaWxkcmVuKCkge1xuXG4gICAgICAgICAgICAgICAgaXNDaGlsZHJlblZpc2libGUgPSAhaXNDaGlsZHJlblZpc2libGU7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lLmJ1dHRvbnMudGdnbENoaWxkcmVuLnNldFRvZ2dsZShpc0NoaWxkcmVuVmlzaWJsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDaGlsZHJlblZpc2libGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25MaW5lLnNob3dTdWJsaW5lcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGluZS5oaWRlU3VibGluZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBidWlsZChwYXJhbVRyZWUsIHRoaXMuX2RlU2Nyb2xsQ29udCwgMCk7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UGFyYW1OYW1lcyhub2RlKSB7XG5cbiAgICAgICAgdmFyIHJldCA9IFtdO1xuXG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQobm9kZS5jaGlsZHJlbi5mb3JFYWNoKGNvbGxlY3RQYXJhbU5hbWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXQucHVzaChub2RlLnRpdGxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDc3NQYXJhbXNUYWI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUcmFjayA9IHJlcXVpcmUoJy4uLy4uL3RyYWNrL1RyYWNrJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBDc3NQYXJhbUZhY3RvcnkgPSByZXF1aXJlKCcuL0Nzc1BhcmFtRmFjdG9yeScpO1xuXG5mdW5jdGlvbiBDc3NUcmFjayAob3B0PXt9LCB0aW1lbGluZSkge1xuXG4gICAgdGhpcy5fcGFyYW1GYWN0b3J5ID0gbmV3IENzc1BhcmFtRmFjdG9yeSh7fSwgdGltZWxpbmUpO1xuXG4gICAgVHJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbk9uOiAnZXllJyxcbiAgICAgICAgICAgIGljb25PZmY6ICdleWUtb2ZmJyxcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5fb25DbGlja1RnZ2xIaWRlKCksXG4gICAgICAgIH0pLFxuICAgICAgICBuYW1lOiAndGdnbEhpZGUnLFxuICAgICAgICBjaGlsZElkeDogMSxcbiAgICB9KTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgdG9vbHRpcDogJ2VuYWJsZS9kaXNhYmxlIDNkJyxcbiAgICAgICAgICAgIGljb246ICdjdWJlJyxcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ3RnZ2wzZCcsXG4gICAgICAgIGNoaWxkSWR4OiAxLFxuICAgIH0pO1xuXG4gICAgLy9UT0RPIGRvIHRoaXMgc29tZWhvdyBlbHNlXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9uKCdhZGRQYXJhbScsIHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0ubmFtZSA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIHBhcmFtLm9uKCd0cmFuc2xhdGVUb0JlemllcicsIHRoaXMuX3N3aXRjaEZyb21UcmFuc2xhdGVUb0JlemllciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW0ubmFtZSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgICAgIHBhcmFtLnBhcmVudFRyYWNrID0gdGhpczsvL2hhY2shXG4gICAgICAgICAgICBwYXJhbS5vbignYmV6aWVyVG9UcmFuc2xhdGUnLCB0aGlzLl9zd2l0Y2hGcm9tQmV6aWVyVG9UcmFuc2xhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wYXJhbUdyb3VwLmdldFBhcmFtKCd0cmFuc2xhdGUnKSkge1xuICAgICAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ3RyYW5zbGF0ZScpLm9uKCd0cmFuc2xhdGVUb0JlemllcicsIHRoaXMuX3N3aXRjaEZyb21UcmFuc2xhdGVUb0JlemllciwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1Hcm91cC5nZXRQYXJhbSgnYmV6aWVyJykpIHtcbiAgICAgICAgdGhpcy5wYXJhbUdyb3VwLmdldFBhcmFtKCdiZXppZXInKS5wYXJlbnRUcmFjayA9IHRoaXM7Ly9oYWNrIVxuICAgICAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ2JlemllcicpLm9uKCdiZXppZXJUb1RyYW5zbGF0ZScsIHRoaXMuX3N3aXRjaEZyb21CZXppZXJUb1RyYW5zbGF0ZSwgdGhpcyk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhDc3NUcmFjaywgVHJhY2spO1xudmFyIHAgPSBDc3NUcmFjay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1RyYWNrO1xuXG5wLnR5cGUgPSAnY3NzX3RyYWNrX3R5cGUnO1xuXG5cbnAuZm9jdXNUcmFuc2Zvcm1lciA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgaWYgKCF0aGlzLl90cmFuc2Zvcm1lcikgcmV0dXJuOy8vVE9ETyBjbGVhbiB1cFxuXG4gICAgZGUgPSBkZSB8fCB0aGlzLl9jdXJySGFuZGxlZERlO1xuICAgIHRoaXMuX2N1cnJIYW5kbGVkRGUgPSBkZTtcblxuICAgIGlmICghdGhpcy5fY3VyckhhbmRsZWREZSkgcmV0dXJuIHRoaXMuX2JsdXJUcmFuc2Zvcm1lcigpO1xuXG4gICAgdGhpcy5lbWl0KCdmb2N1c1RyYW5zZm9ybWVyJyk7XG5cbiAgICB2YXIgaGFuZE9wdCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2Zvcm1lcicsXG4gICAgICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICB9LFxuICAgICAgICB4UGVyY2VudCA9IDAsXG4gICAgICAgIHlQZXJjZW50ID0gMDtcblxuICAgIHZhciBwID0gaGFuZE9wdC5wYXJhbXM7XG4gICAgdGhpcy5fZW5kUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgaWYgKHBhcmFtLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgIHN3aXRjaCAocGFyYW0ubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAneCc6IHAudHggPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3knOiBwLnR5ID0gcGFyc2VGbG9hdChwYXJhbS5nZXRWYWx1ZSgpKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzY2FsZVgnOiBwLnN4ID0gcGFyc2VGbG9hdChwYXJhbS5nZXRWYWx1ZSgpKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzY2FsZVknOiBwLnN5ID0gcGFyc2VGbG9hdChwYXJhbS5nZXRWYWx1ZSgpKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb3RhdGlvblonOiBwLnJ6ID0gcGFyc2VGbG9hdChwYXJhbS5nZXRWYWx1ZSgpKSAvIDE4MCAqIE1hdGguUEk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNmb3JtT3JpZ2luWCc6IHAub3ggPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpIC8gMTAwOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zZm9ybU9yaWdpblknOiBwLm95ID0gcGFyc2VGbG9hdChwYXJhbS5nZXRWYWx1ZSgpKSAvIDEwMDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdiZXppZXInOlxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcC50eCA9IHBhcnNlRmxvYXQodmFsdWUueCk7XG4gICAgICAgICAgICAgICAgcC50eSA9IHBhcnNlRmxvYXQodmFsdWUueSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3hQZXJjZW50JzogeFBlcmNlbnQgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3lQZXJjZW50JzogeVBlcmNlbnQgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICBoYW5kT3B0LmJhc2UgPSB0aGlzLl90cmFuc2Zvcm1lci5zZXRMb2NhbFJvb3QoZGUucGFyZW50Tm9kZSwgZGUpO1xuXG4gICAgdGhpcy5fdHJhbnNmb3JtZXIuc2V0dXAoe1xuICAgICAgICBoYW5kOiBoYW5kT3B0LFxuICAgIH0pO1xuICAgIHRoaXMuX3RyYW5zZm9ybWVyLmFjdGl2YXRlKCk7XG5cbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0pO1xufTtcblxucC5fYmx1clRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZW1pdCgnYmx1clRyYW5zZm9ybWVyJyk7XG5cbiAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgJiYgdGhpcy5fdHJhbnNmb3JtZXIuZG9tRWxlbSAmJiB0aGlzLl90cmFuc2Zvcm1lci5kb21FbGVtLnBhcmVudE5vZGUpIHtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lci5kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl90cmFuc2Zvcm1lci5kb21FbGVtKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX3N3aXRjaEZyb21UcmFuc2xhdGVUb0JlemllciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB4UGFyYW0gPSB0aGlzLmdldFBhcmFtKCd4JyksXG4gICAgICAgIHlQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ3knKSxcbiAgICAgICAgeFBhcmFtU2F2ZSA9IHhQYXJhbS5nZXRTYXZlKCksXG4gICAgICAgIHlQYXJhbVNhdmUgPSB5UGFyYW0uZ2V0U2F2ZSgpLFxuICAgICAgICB4S2V5cyA9IHhQYXJhbVNhdmUua2V5cyxcbiAgICAgICAgeUtleXMgPSB5UGFyYW1TYXZlLmtleXMsXG4gICAgICAgIGJlemllcktleXMgPSBbXSxcbiAgICAgICAgdGltZXMgPSBfLnNvcnRCeShfLnVuaXEoXy5wbHVjayh4S2V5cywgJ3RpbWUnKS5jb25jYXQoXy5wbHVjayh5S2V5cywgJ3RpbWUnKSkpKSxcbiAgICAgICAgb2xkQmV6aWVyS2V5cyA9IHRoaXMuX19iZXppZXJQYXJhbVNhdmUgPyB0aGlzLl9fYmV6aWVyUGFyYW1TYXZlLmtleXMgOiBbXTtcblxuICAgIHRpbWVzLmZvckVhY2goZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoeFBhcmFtLmdldFZhbHVlKHRpbWUpKSxcbiAgICAgICAgICAgIHkgPSBwYXJzZUZsb2F0KHlQYXJhbS5nZXRWYWx1ZSh0aW1lKSksXG4gICAgICAgICAgICB4S2V5ID0geFBhcmFtLmdldEtleSh0aW1lKSxcbiAgICAgICAgICAgIHlLZXkgPSB5UGFyYW0uZ2V0S2V5KHRpbWUpLFxuICAgICAgICAgICAgb2xkS2V5ID0gXy5maW5kKG9sZEJlemllcktleXMsIHt0aW1lOiB0aW1lLCBhbmNob3I6IHt4OngsIHk6eX19KTtcblxuICAgICAgICBiZXppZXJLZXlzLnB1c2gob2xkS2V5IHx8IHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICBlYXNlOiAoeEtleSAmJiB4S2V5LmVhc2UpIHx8ICh5S2V5ICYmIHlLZXkuZWFzZSksXG4gICAgICAgICAgICB2YWx1ZTogW3tcbiAgICAgICAgICAgICAgICBhbmNob3I6IHt4LCB5fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eCwgeX0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4LCB5fSxcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGJlemllclBhcmFtID0gdGhpcy5hZGRQYXJhbSh7XG4gICAgICAgIG5hbWU6ICdiZXppZXInLFxuICAgICAgICBrZXlzOiBiZXppZXJLZXlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fX3hQYXJhbVNhdmUgPSB4UGFyYW1TYXZlO1xuICAgIHRoaXMuX195UGFyYW1TYXZlID0geVBhcmFtU2F2ZTtcbiAgICBiZXppZXJQYXJhbS5vbmNlKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9feFBhcmFtU2F2ZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX195UGFyYW1TYXZlO1xuICAgIH0pO1xuXG4gICAgeFBhcmFtLmhpZGRlbiA9IHRydWU7XG4gICAgeVBhcmFtLmhpZGRlbiA9IHRydWU7XG4gICAgdGhpcy5wYXJhbUdyb3VwLmdldFBhcmFtKCd0cmFuc2xhdGUnKS5oaWRkZW4gPSB0cnVlO1xuICAgIGJlemllclBhcmFtLmhpZGRlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5mb2N1c1RyYW5zZm9ybWVyKCk7Ly9mb3IgcmVkcmF3IHRoZSB0cmFuc2Zvcm1lcnMod2l0aCBjdXJ2ZXIpXG59O1xuXG5wLl9zd2l0Y2hGcm9tQmV6aWVyVG9UcmFuc2xhdGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE8gcmVzdG9yZSBvcmlnaW5hbCB4LCB5IGtleXMgd2hlbiBiZXppZXIgd2Fzbid0IGNoYW5nZWRcblxuICAgIHZhciBiZXppZXJQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ2JlemllcicpLFxuICAgICAgICBiZXppZXJQYXJhbVNhdmUgPSBiZXppZXJQYXJhbS5nZXRTYXZlKCksXG4gICAgICAgIHhLZXlzID0gW10sXG4gICAgICAgIHlLZXlzID0gW107XG5cbiAgICBiZXppZXJQYXJhbVNhdmUua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChiZXppZXJLZXkpIHtcblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gXy5sYXN0KGJlemllcktleS52YWx1ZSk7XG5cbiAgICAgICAgeEtleXMucHVzaCh7XG4gICAgICAgICAgICB0aW1lOiBiZXppZXJLZXkudGltZSxcbiAgICAgICAgICAgIHZhbHVlOiBsYXN0UG9pbnQuYW5jaG9yLnggKyAncHgnLFxuICAgICAgICB9KTtcbiAgICAgICAgeUtleXMucHVzaCh7XG4gICAgICAgICAgICB0aW1lOiBiZXppZXJLZXkudGltZSxcbiAgICAgICAgICAgIHZhbHVlOiBsYXN0UG9pbnQuYW5jaG9yLnkgKyAncHgnLFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciB4UGFyYW0gPSB0aGlzLmFkZFBhcmFtKHRoaXMuX194UGFyYW1TYXZlIHx8IHtcbiAgICAgICAgbmFtZTogJ3gnLFxuICAgICAgICBrZXlzOiB4S2V5cyxcbiAgICB9KTtcbiAgICB2YXIgeVBhcmFtID0gdGhpcy5hZGRQYXJhbSh0aGlzLl9feVBhcmFtU2F2ZSB8fCB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAga2V5czogeUtleXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9fYmV6aWVyUGFyYW1TYXZlID0gYmV6aWVyUGFyYW1TYXZlO1xuXG4gICAgeFBhcmFtLmhpZGRlbiA9IGZhbHNlO1xuICAgIHlQYXJhbS5oaWRkZW4gPSBmYWxzZTtcbiAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ3RyYW5zbGF0ZScpLmhpZGRlbiA9IGZhbHNlO1xuICAgIGJlemllclBhcmFtLmhpZGRlbiA9IHRydWU7XG5cbiAgICB0aGlzLmZvY3VzVHJhbnNmb3JtZXIoKTsvL2ZvciByZWRyYXcgdGhlIHRyYW5zZm9ybWVycyh3aXRob3V0IGN1cnZlcilcbn07XG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkNsaWNrVGdnbEhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zKSB7XG4gICAgICAgIHRoaXMuX3Nob3dTZWxlY3RlZEVsZW1zKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRlU2VsZWN0ZWRFbGVtcygpO1xuICAgIH1cbn07XG5cbnAuX2hpZGVTZWxlY3RlZEVsZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcykgcmV0dXJuO1xuICAgIHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcyA9IHRydWU7XG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5idXR0b25zLnRnZ2xIaWRlLnNldFRvZ2dsZSh0cnVlKTtcblxuICAgIHRoaXMuX3NlbGVjdGVkRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGUpIHtcblxuICAgICAgICBkZS5fYW1WaXNpYmlsaXR5U2F2ZSA9IGRlLnN0eWxlLnZpc2liaWxpdHk7XG4gICAgICAgIGRlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9KTtcbn07XG5cbnAuX3Nob3dTZWxlY3RlZEVsZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMpIHJldHVybjtcbiAgICB0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMgPSBmYWxzZTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmJ1dHRvbnMudGdnbEhpZGUuc2V0VG9nZ2xlKGZhbHNlKTtcblxuICAgIHRoaXMuX3NlbGVjdGVkRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGUpIHtcblxuICAgICAgICBkZS5zdHlsZS52aXNpYmlsaXR5ID0gZGUuX2FtVmlzaWJpbGl0eVNhdmU7XG4gICAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ3NzVHJhY2sgPSByZXF1aXJlKCcuL0Nzc1RyYWNrJyk7XG52YXIgUGFyYW1zVGFiID0gcmVxdWlyZSgnLi9Dc3NQYXJhbXNUYWInKTtcbnZhciBxc2dlbiA9IHJlcXVpcmUoJy4uLy4uL3FzZ2VuJyk7XG5cbnZhciBwYXJhbXNUYWI7XG5cbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHBhcmFtc1RhYiA9IG5ldyBQYXJhbXNUYWIoKTtcblxuICAgIGFtLnJlZ2lzdGVyVHJhY2tUeXBlKENzc1RyYWNrLCBDc3NUcmFjay5wcm90b3R5cGUudHlwZSk7XG5cbiAgICBhbS5vbignc2VsZWN0RG9tRWxlbScsIG9uU2VsZWN0RG9tRWxlbSk7XG5cbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYignQ3NzIFN0eWxlJywgcGFyYW1zVGFiLmRvbUVsZW0pO1xuXG4gICAgYW0uZG9tUGlja2VyLm9uKCdhZGQnLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIGUuZGVtYW5kKDEwKS50aGVuKCgpID0+IHtcblxuICAgICAgICAgICAgYW0uZG9tUGlja2VyLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gcXNnZW4oZS50YXJnZXQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdG9yOicsIHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIHRyYWNrID0gbmV3IENzc1RyYWNrKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnM6IFt7dHlwZTogJ2NzcycsIHZhbHVlOiBzZWxlY3Rvcn1dLFxuICAgICAgICAgICAgICAgIHBhcmFtVHJlZToge25hbWU6IHNlbGVjdG9yfSxcbiAgICAgICAgICAgIH0sIGFtLmN1cnJUaW1lbGluZSk7XG5cbiAgICAgICAgICAgIGFtLmN1cnJUaW1lbGluZS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICB0cmFjay5zZWxlY3QoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBvblNlbGVjdERvbUVsZW0oZGUpIHtcblxuICAgIGFtLmN1cnJUaW1lbGluZS50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICBpZiAodHJhY2sgaW5zdGFuY2VvZiBDc3NUcmFjaykge1xuXG4gICAgICAgICAgICBpZiAodHJhY2suaXNPd25lZERvbUVsZW0oZGUpKSB7XG5cbiAgICAgICAgICAgICAgICB0cmFjay5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB0cmFjay5mb2N1c1RyYW5zZm9ybWVyKGRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWNrLmlzU2VsZWN0ZWQoKSkge1xuXG4gICAgICAgICAgICAgICAgdHJhY2suZGVzZWxlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIE1vdXNlKCkge1xuXG4gICAgdGhpcy5zY3JlZW5YID0gMDtcbiAgICB0aGlzLnNjcmVlblkgPSAwO1xuXG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbn1cblxuaW5oZXJpdHMoTW91c2UsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IE1vdXNlLnByb3RvdHlwZTtcblxucC5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdGhpcy5zY3JlZW5YID0gZS5zY3JlZW5YO1xuICAgIHRoaXMuc2NyZWVuWSA9IGUuc2NyZWVuWTtcbn0gXG5cblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgVGltZWxpbmUgPSByZXF1aXJlKCcuLi90aW1lbGluZScpO1xudmFyIGRlZmluZUNvbXBhY3RQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3V0aWxzL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xudmFyIG1zdFNjcmlwdCA9IHJlcXVpcmUoJy4vc2NyaXB0LnByb2plY3QubXN0Jyk7XG5cbmZ1bmN0aW9uIFByb2plY3Qoc2F2ZSA9IHt9KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3RpbWVsaW5lcyA9IFtdO1xuICAgIHRoaXMuaW5wdXRzID0ge307XG5cbiAgICB0aGlzLnVzZVNhdmUoc2F2ZSk7XG59XG5cbmluaGVyaXRzKFByb2plY3QsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFByb2plY3QucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBQcm9qZWN0O1xuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICduYW1lJywgdHlwZTogJ3N0cmluZycsIHN0YXJ0VmFsdWU6ICduZXcgcHJvamVjdCd9KTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUgPSB7fSkge1xuXG4gICAgdmFyIGJsb2NrID0gYW0uaGlzdG9yeS5ibG9ja1NhdmluZygpO1xuXG4gICAgaWYgKF8uaGFzKHNhdmUsICduYW1lJykpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gc2F2ZS5uYW1lO1xuICAgIH1cblxuICAgIGlmIChfLmlzQXJyYXkoc2F2ZS50aW1lbGluZXMpKSB7XG5cbiAgICAgICAgc2F2ZS50aW1lbGluZXMuZm9yRWFjaCh0bCA9PiB0aGlzLmFkZFRpbWVsaW5lKHRsKSk7XG4gICAgfVxuXG4gICAgaWYgKF8uaGFzKHNhdmUsICdjdXJyVGltZWxpbmVJZHgnKSkge1xuICAgICAgICB0aGlzLnNlbGVjdFRpbWVsaW5lKHNhdmUuY3VyclRpbWVsaW5lSWR4KTtcbiAgICB9XG5cbiAgICBhbS5oaXN0b3J5LnJlbGVhc2VCbG9jayhibG9jayk7XG59O1xuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2F2ZSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB0aW1lbGluZXM6IHRoaXMuX3RpbWVsaW5lcy5tYXAodGwgPT4gdGwuZ2V0U2F2ZSgpKSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY3VyclRpbWVsaW5lKSB7XG4gICAgICAgIHNhdmUuY3VyclRpbWVsaW5lSWR4ID0gdGhpcy5fdGltZWxpbmVzLmluZGV4T2YodGhpcy5jdXJyVGltZWxpbmUpO1xuICAgIH1cblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC5nZXRTY3JpcHQgPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICB2YXIgdGltZWxpbmVzID0gW107XG5cbiAgICB0aGlzLl90aW1lbGluZXMuZm9yRWFjaCh0aW1lbGluZSA9PiB7XG4gICAgICAgIHRpbWVsaW5lcy5wdXNoKHRpbWVsaW5lLm5hbWUgKyAnOicgKyB0aW1lbGluZS5nZXRTY3JpcHQoKSk7XG4gICAgfSk7XG5cbiAgICB2YXIgc2NyaXB0ID0gTXVzdGFjaGUucmVuZGVyKG1zdFNjcmlwdCwge1xuICAgICAgICBwcm9qZWN0TmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB0aW1lbGluZXM6ICd7JyArIHRpbWVsaW5lcy5qb2luKCdcXG4nKSArICd9JyxcbiAgICAgICAgc2F2ZUpzb246IG9wdC5pbmNsdWRlU2F2ZSAmJiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFNhdmUoKSksXG4gICAgfSk7XG5cbiAgICBpZiAob3B0Lm1pbmlmeSkge1xuXG4gICAgICAgIHNjcmlwdCA9IG1pbmlmeShzY3JpcHQpO1xuICAgIH1cblxuICAgIHJldHVybiBzY3JpcHQ7XG5cbiAgICBmdW5jdGlvbiBtaW5pZnkoY29kZSkge1xuXG4gICAgICAgIHJldHVybiBjb2RlOy8vVE9ET1xuXG4gICAgICAgIC8vIHZhciByZXN1bHQgPSBVZ2xpZnlKUy5taW5pZnkoY29kZSwge1xuICAgICAgICAvLyAgICAgZnJvbVN0cmluZzogdHJ1ZSxcbiAgICAgICAgLy8gICAgIG1hbmdsZTogZmFsc2UsXG4gICAgICAgIC8vICAgICBvdXRwdXQ6IHtcbiAgICAgICAgLy8gICAgICAgICBjb21tZW50czogL0BhbXNhdmUvLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIGNvbXByZXNzOiB7XG4gICAgICAgIC8vICAgICAgICAgLy8gcmVzZXJ2ZWQ6ICdKU09OX1NBVkUnLFxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gcmV0dXJuIHJlc3VsdC5jb2RlO1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgdG9wbGV2ZWwgPSBudWxsO1xuICAgICAgICAvLyB0b3BsZXZlbCA9IFVnbGlmeUpTLnBhcnNlKGNvZGUsIHtcbiAgICAgICAgLy8gICAgIGZpbGVuYW1lOiAnc2F2ZScsXG4gICAgICAgIC8vICAgICB0b3BsZXZlbDogdG9wbGV2ZWxcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRvcGxldmVsLmZpZ3VyZV9vdXRfc2NvcGUoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdmFyIGNvbXByZXNzb3IgPSBVZ2xpZnlKUy5Db21wcmVzc29yKHttYW5nbGU6IGZhbHNlfSk7XG4gICAgICAgIC8vIHZhciBjb21wcmVzc2VkX2FzdCA9IHRvcGxldmVsLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gY29tcHJlc3NlZF9hc3QuZmlndXJlX291dF9zY29wZSgpO1xuICAgICAgICAvLyBjb21wcmVzc2VkX2FzdC5jb21wdXRlX2NoYXJfZnJlcXVlbmN5KCk7XG4gICAgICAgIC8vIGNvbXByZXNzZWRfYXN0Lm1hbmdsZV9uYW1lcygpO1xuICAgICAgICAvL1xuICAgICAgICAvLyByZXR1cm4gY29tcHJlc3NlZF9hc3QucHJpbnRfdG9fc3RyaW5nKHtjb21tZW50czogJ2FsbCd9KTtcbiAgICB9XG59O1xuXG5wLmFkZFRpbWVsaW5lID0gZnVuY3Rpb24gKHRpbWVsaW5lKSB7XG5cbiAgICAvL2NyZWF0ZSB0aGUgaW5zdGFuY2UgaWYgdGhlIHBhcmFtZXRlciBpcyBhIHNhdmUgb2JqZWN0XG4gICAgaWYgKCEodGltZWxpbmUgaW5zdGFuY2VvZiBUaW1lbGluZSkpIHtcblxuICAgICAgICB0aW1lbGluZSA9IG5ldyBUaW1lbGluZSh0aW1lbGluZSwgdGhpcyk7XG4gICAgfVxuICAgIC8vcmVtb3ZlIHRoZSB0aW1lbGluZSBpZiBpdCdzIGFscmVhZHkgYWRkZWQgdG8gYW4gb3RoZXIgcHJvamVjdFxuICAgIGVsc2UgaWYgKHRpbWVsaW5lLnByb2plY3QgJiYgdGltZWxpbmUucHJvamVjdCAhPT0gdGhpcykge1xuXG4gICAgICAgIHRpbWVsaW5lLnByb2plY3QucmVtb3ZlVGltZWxpbmUodGltZWxpbmUpO1xuICAgICAgICB0aW1lbGluZS5wcm9qZWN0ID0gdGhpcztcbiAgICB9XG5cblxuXG4gICAgdGltZWxpbmUubmFtZSA9IG1ha2VVbmlxdWUodGltZWxpbmUubmFtZSwgXy5wbHVjayh0aGlzLl90aW1lbGluZXMsICduYW1lJykpO1xuXG4gICAgLy9hdm9pZCB0byBhZGQgdHdpY2VcbiAgICBpZiAoXy5pbmNsdWRlKHRoaXMuX3RpbWVsaW5lcywgdGltZWxpbmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhbS5oaXN0b3J5LnNhdmUoe1xuICAgICAgICB1bmRvOiAoKSA9PiB0aGlzLnJlbW92ZVRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5hZGRUaW1lbGluZSh0aW1lbGluZSksXG4gICAgICAgIG5hbWU6ICdhZGQgdGltZWxpbmUnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fdGltZWxpbmVzLnB1c2godGltZWxpbmUpO1xuXG4gICAgdGhpcy5lbWl0KCdhZGRUaW1lbGluZScpO1xufTtcblxucC5yZW1vdmVUaW1lbGluZSA9IGZ1bmN0aW9uICh0aW1lbGluZSkge1xuXG4gICAgaWYgKCFfLmluY2x1ZGUodGhpcy5fdGltZWxpbmVzLCB0aW1lbGluZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVsaW5lLnByb2plY3QgPSB1bmRlZmluZWQ7XG5cbiAgICBhbS5oaXN0b3J5LnNhdmUoe1xuICAgICAgICB1bmRvOiAoKSA9PiB0aGlzLmFkZFRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5yZW1vdmVUaW1lbGluZSh0aW1lbGluZSksXG4gICAgICAgIG5hbWU6ICdyZW1vdmUgdGltZWxpbmUnLFxuICAgIH0pO1xuXG4gICAgXy5wdWxsKHRoaXMuX3RpbWVsaW5lcywgdGltZWxpbmUpO1xuXG4gICAgLy9UT0RPIHdyYXAgdG8gdGhlIHJlbW92aW5nIHNhdmVcbiAgICBpZiAodGhpcy5jdXJyVGltZWxpbmUgPT09IHRpbWVsaW5lKSB7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RUaW1lbGluZSh0aGlzLl90aW1lbGluZXNbMF0pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgncmVtb3ZlVGltZWxpbmUnKTtcbn07XG5cbnAuc2VsZWN0VGltZWxpbmUgPSBmdW5jdGlvbiAodGltZWxpbmUpIHtcblxuICAgIGlmIChfLmlzTnVtYmVyKHRpbWVsaW5lKSkge1xuXG4gICAgICAgIHRpbWVsaW5lID0gdGhpcy5fdGltZWxpbmVzW3RpbWVsaW5lXTtcbiAgICB9XG5cbiAgICBpZiAodGltZWxpbmUgPT09IHRoaXMuY3VyclRpbWVsaW5lKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5jdXJyVGltZWxpbmUpIHtcblxuICAgICAgICB0aGlzLmN1cnJUaW1lbGluZS5ibHVyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyVGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuY3VyclRpbWVsaW5lLmZvY3VzKCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5jdXJyVGltZWxpbmUnLCB0aGlzLmN1cnJUaW1lbGluZSk7XG59O1xuXG5wLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLmN1cnJUaW1lbGluZSAmJiAhXy5pc0VtcHR5KHRoaXMuX3RpbWVsaW5lcykpIHtcblxuICAgICAgICB0aGlzLnNlbGVjdFRpbWVsaW5lKHRoaXMuX3RpbWVsaW5lc1swXSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3VyclRpbWVsaW5lKSB7XG5cbiAgICAgICAgdGhpcy5jdXJyVGltZWxpbmUuZm9jdXMoKTtcbiAgICB9XG59O1xuXG5wLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5jdXJyVGltZWxpbmUpIHtcblxuICAgICAgICB0aGlzLmN1cnJUaW1lbGluZS5ibHVyKCk7XG4gICAgfVxufTtcblxuXG5cblxucC5hZGRJbnB1dCA9IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZSkge1xuXG4gICAgdmFyIG9iaiA9IHRoaXMuaW5wdXRzO1xuXG4gICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy9UT0RPOiB0aHJvdyBhIGRldGFpbGVkIGVycm9yXG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgfVxuXG4gICAgcGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcblxuICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaWR4LCBhcnIpIHtcblxuICAgICAgICBpZiAoaWR4ID09PSBhcnIubGVuZ3RoLTEpIHtcblxuICAgICAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBfLmlzUGxhaW5PYmplY3Qob2JqW25hbWVdKSA/IG9ialtuYW1lXSA6IHt9O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5pbnB1dHMnKTtcbn07XG5cbnAuc2V0SW5wdXRzID0gZnVuY3Rpb24gKGlucHV0cykge1xuXG4gICAgaWYgKCFfLmlzUGxhaW5PYmplY3QoaW5wdXRzKSkge1xuICAgICAgICAvL1RPRE86IHRocm93IGEgZGV0YWlsZWQgZXJyb3JcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlLmlucHV0cycpO1xufTtcblxucC5nZXRJbnB1dFBhdGhzID0gZnVuY3Rpb24gKG1heExldmVsID0gNCkge1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgdmFyIHN0ZXAgPSAob2JqLCBwYXRoLCBsZXZlbCkgPT4ge1xuXG4gICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xuXG4gICAgICAgICAgICByZXQucHVzaChwYXRoICsga2V5KTtcblxuICAgICAgICAgICAgaWYgKF8uaXNQbGFpbk9iamVjdChvYmpba2V5XSkgJiYgbGV2ZWwgPD0gbWF4TGV2ZWwpIHtcblxuICAgICAgICAgICAgICAgIHN0ZXAob2JqW2tleV0sIHBhdGggKyBrZXkgKyAnLicsIGxldmVsICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzdGVwKHRoaXMuaW5wdXRzLCAnJywgMCk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxuLy9UT0RPIG91dHNvdXJjZSB0aGlzXG4vKipvcHQge1xuICAgIHNlcGFyYXRvcjogJy0nLFxuICAgIG1vZGU6ICdzdWZmaXgnLFxuICAgIGZpbGxIb2xlczogJ2ZhbHNlJyxcbiAgICBmaXhlZERpZ2l0Q291bnQ6IGZhbHNlXG59Ki9cbmZ1bmN0aW9uIG1ha2VVbmlxdWUgKG5hbWUsIGxpc3QpIHtcblxuICAgIGlmIChsaXN0LmluZGV4T2YobmFtZSkgPT09IC0xKSByZXR1cm4gbmFtZTtcblxuICAgIHZhciBoaWdoZXN0ID0gMCxcbiAgICAgICAgYmFzZSA9IG5hbWUucmVwbGFjZSgvLVxcZCskLywgXCJcIiksXG4gICAgICAgIHJ4ID0gbmV3IFJlZ0V4cChiYXNlICsgJy0oXFxcXGQrKSQnKTtcblxuICAgIGxpc3QuZm9yRWFjaChuID0+IHtcblxuICAgICAgICB2YXIgbWF0Y2ggPSByeC5leGVjKG4pO1xuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gPiBoaWdoZXN0KSB7XG5cbiAgICAgICAgICAgIGhpZ2hlc3QgPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJhc2UgKyAnLScgKyAocGFyc2VJbnQoaGlnaGVzdCkgKyAxKTtcbn1cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBfLmludm9rZSh0aGlzLl90aW1lbGluZXMsICdkaXNwb3NlJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgUHJvamVjdFRhYiA9IHJlcXVpcmUoJy4vUHJvamVjdFRhYicpO1xudmFyIFByb2plY3QgPSByZXF1aXJlKCcuL1Byb2plY3QnKTtcblxuZnVuY3Rpb24gUHJvamVjdE1hcCgpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fcHJvamVjdHMgPSBbXTtcblxuICAgIHRoaXMucHJvamVjdFRhYiA9IG5ldyBQcm9qZWN0VGFiKHRoaXMpO1xuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCdQcm9qZWN0JywgdGhpcy5wcm9qZWN0VGFiLmRvbUVsZW0pO1xufVxuXG5pbmhlcml0cyhQcm9qZWN0TWFwLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBQcm9qZWN0TWFwLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gUHJvamVjdE1hcDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuICAgIGN1cnJQcm9qZWN0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gIHRoaXMuZ2V0Q3VyclByb2plY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5wLmxvYWQgPSBmdW5jdGlvbiAocHJvamVjdCkge1xuXG4gICAgaWYgKCEocHJvamVjdCBpbnN0YW5jZW9mIFByb2plY3QpKSB7XG5cbiAgICAgICAgcHJvamVjdCA9IG5ldyBQcm9qZWN0KHByb2plY3QpO1xuICAgIH1cblxuICAgIGlmICghXy5pbmNsdWRlKHRoaXMuX3Byb2plY3RzLCBwcm9qZWN0KSkge1xuXG4gICAgICAgIHRoaXMuX3Byb2plY3RzLnB1c2gocHJvamVjdCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdsb2FkJywgcHJvamVjdCk7XG5cbiAgICByZXR1cm4gcHJvamVjdDtcbn07XG5cbnAudW5sb2FkID0gZnVuY3Rpb24gKHByb2plY3QpIHtcblxuICAgIF8ucHVsbCh0aGlzLl9wcm9qZWN0cywgcHJvamVjdCk7XG5cbiAgICBwcm9qZWN0LmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuZW1pdCgndW5sb2FkJywgcHJvamVjdCk7XG59O1xuXG5wLmZvY3VzID0gZnVuY3Rpb24gKHByb2plY3QpIHtcblxuICAgIHByb2plY3QgPSB0aGlzLmxvYWQocHJvamVjdCk7XG5cbiAgICBpZiAodGhpcy5fY3VyclByb2plY3QpIHtcblxuICAgICAgICB0aGlzLl9jdXJyUHJvamVjdC5ibHVyKCk7XG4gICAgICAgIHRoaXMuX2N1cnJQcm9qZWN0Lm9mZignY2hhbmdlLmN1cnJUaW1lbGluZScsIGFtLnNldFRpbWVsaW5lLCBhbSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VyclByb2plY3QgPSBwcm9qZWN0O1xuICAgIHRoaXMuX2N1cnJQcm9qZWN0LmZvY3VzKCk7XG5cbiAgICBhbS5zZXRUaW1lbGluZSh0aGlzLl9jdXJyUHJvamVjdC5jdXJyVGltZWxpbmUpO1xuICAgIHRoaXMuX2N1cnJQcm9qZWN0Lm9uKCdjaGFuZ2UuY3VyclRpbWVsaW5lJywgYW0uc2V0VGltZWxpbmUsIGFtKTtcblxuICAgIHRoaXMuZW1pdCgnZm9jdXMnLCB0aGlzLl9jdXJyUHJvamVjdCk7XG59O1xuXG5wLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbnAuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9wcm9qZWN0cy5zbGljZSgpLmZvckVhY2gocCA9PiB0aGlzLmNsb3NlUHJvamVjdChwKSk7XG59O1xuXG5wLmdldEN1cnJQcm9qZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJQcm9qZWN0O1xufTtcblxucC5nZXRQcm9qZWN0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLl9wcm9qZWN0cztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxuZnVuY3Rpb24gUHJvamVjdFRhYihwcm9qZWN0TWFwKSB7XG5cbiAgICB0aGlzLl9wcm9qZWN0TWFwID0gcHJvamVjdE1hcDtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHByb2plY3RNYXAub24oJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cywgdGhpcyk7XG59XG5cbnZhciBwID0gUHJvamVjdFRhYi5wcm90b3R5cGU7XG5cbnAuX29uRm9jdXMgPSBmdW5jdGlvbiAocHJvamVjdCkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJQcm9qZWN0KSB7XG5cbiAgICAgICAgdGhpcy5fY3VyclByb2plY3Qub2ZmKFsnYWRkVGltZWxpbmUnLCAncmVtb3ZlVGltZWxpbmUnXSwgdGhpcy5fcmVmcmVzaExpYnJhcnksIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJQcm9qZWN0ID0gcHJvamVjdDtcblxuICAgIHRoaXMuX2RlU2VsZWN0ZWQudGV4dCA9IHRoaXMuX2N1cnJQcm9qZWN0Lm5hbWU7XG5cbiAgICB0aGlzLl9yZWZyZXNoTGlicmFyeSgpO1xuICAgIHRoaXMuX2N1cnJQcm9qZWN0Lm9uKFsnYWRkVGltZWxpbmUnLCAncmVtb3ZlVGltZWxpbmUnXSwgdGhpcy5fcmVmcmVzaExpYnJhcnksIHRoaXMpO1xufTtcblxuXG5cblxuXG5cblxucC5fcmVmcmVzaExpYnJhcnkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9vcHRMaWJyYXJ5LnJlbW92ZUFsbE9wdGlvbkxpbmVzKCk7XG5cbiAgICB0aGlzLl9jdXJyUHJvamVjdC5fdGltZWxpbmVzLmZvckVhY2godGltZWxpbmUgPT4ge1xuXG4gICAgICAgIHZhciBvcHRpb25MaW5lID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICAgICAgdGl0bGU6IHRpbWVsaW5lLm5hbWUgfHwgJ3VubmFtZWQgdGltZWxpbmUnLFxuICAgICAgICAgICAgb25EYmxjbGljazogKCkgPT4gdGhpcy5fcHJvamVjdE1hcC5jdXJyUHJvamVjdC5zZWxlY3RUaW1lbGluZSh0aW1lbGluZSksXG4gICAgICAgICAgICBrZWVwU3BhY2VGb3JUZ2dsQ2hpbGRyZW46IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RpbWVsaW5lJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGltZWxpbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgICAgICBkb21FbGVtOiBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgICAgICBpY29uOiAnY2FuY2VsJyxcbiAgICAgICAgICAgICAgICBob3ZlTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLl9wcm9qZWN0TWFwLmN1cnJQcm9qZWN0LnJlbW92ZVRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9vcHRMaWJyYXJ5LmFkZE9wdGlvbkxpbmUob3B0aW9uTGluZSk7XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcblxuICAgIHRoaXMuX3Njcm9sbENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9zY3JvbGxDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9zY3JvbGxDb250KTtcblxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcbiAgICAgICAgZGVDb250OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9zY3JvbGxDb250LFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY3JlYXRlUHJvamVjdEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fY3JlYXRlTGlicmFyeSgpO1xufTtcblxucC5fY3JlYXRlUHJvamVjdEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGRlSGVhZCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIHBhcmVudDogdGhpcy5fc2Nyb2xsQ29udCxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSlcblxuICAgIHZhciByZWZyZXNoU2VsZWN0SW5wdXQgPSAoKSA9PiB7XG5cbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5fcHJvamVjdE1hcC5nZXRQcm9qZWN0cygpLm1hcChwcm9qZWN0ID0+IHtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBwcm9qZWN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5fcHJvamVjdE1hcC5mb2N1cyhwcm9qZWN0KSxcbiAgICAgICAgICAgICAgICBpY29uUmlnaHQ6IHByb2plY3QgPT09IHRoaXMuX3Byb2plY3RNYXAuY3VyclByb2plY3QgPyAncGF3JyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZFNlbGVjdC5zZXRJdGVtcyhpdGVtcyk7XG4gICAgfTtcblxuICAgIHRoaXMuX2RlU2VsZWN0ZWQgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgaWNvblJpZ2h0OiAnZG93bi1kaXInLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGRTZWxlY3QgPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7fSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fZGVTZWxlY3RlZCxcbiAgICAgICAgZGVEcm9wZG93bjogdGhpcy5fZGRTZWxlY3QsXG4gICAgfSk7XG5cbiAgICByZWZyZXNoU2VsZWN0SW5wdXQoKTtcbiAgICB0aGlzLl9wcm9qZWN0TWFwLm9uKFsnbG9hZCcsICd1bmxvYWQnLCAnZm9jdXMnXSwgcmVmcmVzaFNlbGVjdElucHV0KTtcblxuICAgIGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICBmbGV4OiAxLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgcGFyZW50OiBkZUhlYWQsXG4gICAgICAgICAgICBpY29uOiAnZWxsaXBzaXMtdmVydCcsXG4gICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgICAgIHNpemU6IDE4LFxuICAgICAgICB9KSxcbiAgICAgICAgZGVEcm9wZG93bjogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogW3tcbiAgICAgICAgICAgICAgICB0ZXh0OiAnbmV3IHByb2plY3QnLFxuICAgICAgICAgICAgICAgIGljb246ICdwbHVzJyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ID0gdGhpcy5fcHJvamVjdE1hcC5sb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICduZXcgcHJvamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lbGluZXM6IFt7fV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9qZWN0TWFwLmZvY3VzKHByb2plY3QpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ2Nsb3NlIHRoaXMgcHJvamVjdCcsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2NhbmNlbCcsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgICAgICAgICAgfV0sXG4gICAgICAgIH0pLFxuICAgIH0pXG59O1xuXG5wLl9jcmVhdGVMaWJyYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fb3B0TGlicmFyeSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdMaWJyYXJ5JyxcbiAgICAgICAgcGFyZW50OiB0aGlzLl9zY3JvbGxDb250LFxuICAgICAgICB0Z2dsQ2hpbGRyZW46IHRydWUsXG4gICAgfSk7XG5cbiAgICB2YXIgYnRuTmV3ID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdwbHVzJ1xuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IGJ0bk5ldyxcbiAgICAgICAgZGVEcm9wZG93bjogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHt0ZXh0OiAndGltZWxpbmUnLCBpY29uOiAnYmFyY29kZScsIG9uQ2xpY2s6ICgpID0+IHRoaXMuX2N1cnJQcm9qZWN0LmFkZFRpbWVsaW5lKCl9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnZm9sZGVyJywgaWNvbjogJ2ZvbGRlci1lbXB0eScsIG9uQ2xpY2s6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdpbWFnZScsIGljb246ICdmaWxlLWltYWdlJywgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ2N1c3RvbSBhc3NldCcsIGljb246ICdkb2MnLCBvbkNsaWNrOiAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCl9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcHRMaWJyYXJ5LmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGJ0bk5ldyxcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvamVjdFRhYjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI7KGZ1bmN0aW9uIChyb290KSB7XFxuICAgICd1c2Ugc3RyaWN0JztcXG5cXG4gICAge3sjc2F2ZUpzb259fVxcbiAgICAvKipAYW1zYXZlKi9cXG4gICAgdmFyIFNBVkVKU09OID0gJ3t7e3NhdmVKc29ufX19JztcXG4gICAge3svc2F2ZUpzb259fVxcblxcbiAgICB2YXIgcHJvamVjdFJlZyA9IHtcXG4gICAgICAgIHRpbWVsaW5lczoge3t7dGltZWxpbmVzfX19LFxcbiAgICAgICAge3sjc2F2ZUpzb259fVxcbiAgICAgICAgc2F2ZUpzb246IFNBVkVKU09OLFxcbiAgICAgICAge3svc2F2ZUpzb259fVxcbiAgICB9O1xcblxcbiAgICByb290LmFtID0gcm9vdC5hbSB8fCB7fTtcXG4gICAgcm9vdC5hbS5wcm9qZWN0cyA9IHJvb3QuYW0ucHJvamVjdHMgfHwge307XFxuICAgIHJvb3QuYW0ucHJvamVjdHMue3twcm9qZWN0TmFtZX19ID0gcHJvamVjdFJlZztcXG5cXG5cXG5cXG4gICAgLy8tLSBDSlMgLS0vL1xcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XFxuXFxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHByb2plY3RSZWc7XFxuICAgIH1cXG5cXG4gICAgLy8tLSBBTUQgLS0vL1xcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XFxuXFxuICAgICAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0UmVnO1xcbiAgICAgICAgfSk7XFxuICAgIH1cXG5cXG4gICAgLy91dGlsc1xcbiAgICBmdW5jdGlvbiBnZXRBbmltVGFyZ2V0cyhzZWxlY3RvcnMsIGlucHV0cykge1xcblxcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcXG5cXG4gICAgICAgIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xcblxcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvci50eXBlID09PSAnY3NzJykge1xcblxcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goc2VsZWN0b3IudmFsdWUpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBlbHNlIGlmIChpbnB1dHMgJiYgc2VsZWN0b3IudHlwZSA9PT0gJ2lucHV0Jykge1xcblxcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gaW5wdXRzO1xcblxcbiAgICAgICAgICAgICAgICBzZWxlY3Rvci52YWx1ZS5zcGxpdCgnLicpLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lKSB7XFxuXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50ID0gcGFyZW50W25hbWVdO1xcbiAgICAgICAgICAgICAgICB9KTtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHBhcmVudCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG5cXG4gICAgICAgIHJldHVybiBsaXN0O1xcbiAgICB9O1xcblxcbn0odGhpcykpO1xcblxcblxcblxcblxcblxcblxcblxcblxcblxcbi8qKlxcbiAqIEJlemllckVhc2luZyAtIHVzZSBiZXppZXIgY3VydmUgZm9yIHRyYW5zaXRpb24gZWFzaW5nIGZ1bmN0aW9uXFxuICogYnkgR2HDq3RhbiBSZW5hdWRlYXUgMjAxNCDigJMgTUlUIExpY2Vuc2VcXG4gKlxcbiAqIENyZWRpdHM6IGlzIGJhc2VkIG9uIEZpcmVmb3gncyBuc1NNSUxLZXlTcGxpbmUuY3BwXFxuICogVXNhZ2U6XFxuICogdmFyIHNwbGluZSA9IEJlemllckVhc2luZygwLjI1LCAwLjEsIDAuMjUsIDEuMClcXG4gKiBzcGxpbmUoeCkgPT4gcmV0dXJucyB0aGUgZWFzaW5nIHZhbHVlIHwgeCBtdXN0IGJlIGluIFswLCAxXSByYW5nZVxcbiAqXFxuICovXFxuIWZ1bmN0aW9uKGEpe3dpbmRvdy5CZXppZXJFYXNpbmc9YSgpfShmdW5jdGlvbigpe2Z1bmN0aW9uIGkoYSxpLGosayl7ZnVuY3Rpb24gbihhLGIpe3JldHVybiAxLTMqYiszKmF9ZnVuY3Rpb24gbyhhLGIpe3JldHVybiAzKmItNiphfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIDMqYX1mdW5jdGlvbiBxKGEsYixjKXtyZXR1cm4oKG4oYixjKSphK28oYixjKSkqYStwKGIpKSphfWZ1bmN0aW9uIHIoYSxiLGMpe3JldHVybiAzKm4oYixjKSphKmErMipvKGIsYykqYStwKGIpfWZ1bmN0aW9uIHMoYyxkKXtmb3IodmFyIGU9MDtiPmU7KytlKXt2YXIgZj1yKGQsYSxqKTtpZigwPT09ZilyZXR1cm4gZDt2YXIgZz1xKGQsYSxqKS1jO2QtPWcvZn1yZXR1cm4gZH1mdW5jdGlvbiB0KCl7Zm9yKHZhciBiPTA7Zj5iOysrYiltW2JdPXEoYipnLGEsail9ZnVuY3Rpb24gdShiLGMsZil7dmFyIGcsaCxpPTA7ZG8gaD1jKyhmLWMpLzIsZz1xKGgsYSxqKS1iLGc+MD9mPWg6Yz1oO3doaWxlKE1hdGguYWJzKGcpPmQmJisraTxlKTtyZXR1cm4gaH1mdW5jdGlvbiB2KGIpe2Zvcih2YXIgZD0wLGU9MSxoPWYtMTtlIT1oJiZtW2VdPD1iOysrZSlkKz1nOy0tZTt2YXIgaT0oYi1tW2VdKS8obVtlKzFdLW1bZV0pLGs9ZCtpKmcsbD1yKGssYSxqKTtyZXR1cm4gbD49Yz9zKGIsayk6MD09PWw/azp1KGIsZCxkK2cpfWZ1bmN0aW9uIHgoKXt3PSEwLChhIT1pfHxqIT1rKSYmdCgpfWlmKDQhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIHJlcXVpcmVzIDQgYXJndW1lbnRzLlxcXCIpO2Zvcih2YXIgbD0wOzQ+bDsrK2wpaWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhcmd1bWVudHNbbF18fGlzTmFOKGFyZ3VtZW50c1tsXSl8fCFpc0Zpbml0ZShhcmd1bWVudHNbbF0pKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIGFyZ3VtZW50cyBzaG91bGQgYmUgaW50ZWdlcnMuXFxcIik7aWYoMD5hfHxhPjF8fDA+anx8aj4xKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIHggdmFsdWVzIG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlLlxcXCIpO3ZhciBtPWg/bmV3IEZsb2F0MzJBcnJheShmKTpuZXcgQXJyYXkoZiksdz0hMSx5PWZ1bmN0aW9uKGIpe3JldHVybiB3fHx4KCksYT09PWkmJmo9PT1rP2I6MD09PWI/MDoxPT09Yj8xOnEodihiKSxpLGspfTt5LmdldENvbnRyb2xQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm5be3g6YSx5Oml9LHt4OmoseTprfV19O3ZhciB6PVthLGksaixrXSxBPVxcXCJCZXppZXJFYXNpbmcoXFxcIit6K1xcXCIpXFxcIjt5LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEF9O3ZhciBCPVxcXCJjdWJpYy1iZXppZXIoXFxcIit6K1xcXCIpXFxcIjtyZXR1cm4geS50b0NTUz1mdW5jdGlvbigpe3JldHVybiBCfSx5fXZhciBhPXRoaXMsYj00LGM9LjAwMSxkPTFlLTcsZT0xMCxmPTExLGc9MS8oZi0xKSxoPVxcXCJGbG9hdDMyQXJyYXlcXFwiaW4gYTtyZXR1cm4gaS5jc3M9e2Vhc2U6aSguMjUsLjEsLjI1LDEpLGxpbmVhcjppKDAsMCwxLDEpLFxcXCJlYXNlLWluXFxcIjppKC40MiwwLDEsMSksXFxcImVhc2Utb3V0XFxcIjppKDAsMCwuNTgsMSksXFxcImVhc2UtaW4tb3V0XFxcIjppKC40MiwwLC41OCwxKX0saX0pO1xcblwiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRVhBVFRSID0gWydpZCcsICdjbGFzcycsICdzdHlsZSddO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZShkZSwgcm9vdCkge1xuXG4gICAgcm9vdCA9IHJvb3QgfHwgZG9jdW1lbnQ7XG5cbiAgICB2YXIgZGVDdXJyID0gZGUsXG4gICAgICAgIHJvb3RDdXJyID0gcm9vdCwgXG4gICAgICAgIHFzQ3VyciwgcXNQYXJlbnQgPSAnJztcblxuICAgIHdoaWxlICh0cnVlKSB7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcXNDdXJyID0gZ2VuKGRlQ3Vyciwgcm9vdEN1cnIpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlKCFxc0N1cnIgJiYgZGVDdXJyLnBhcmVudE5vZGUgJiZcbiAgICAgICAgICAgIGRlQ3Vyci5wYXJlbnROb2RlICE9PSByb290Q3VyciAmJlxuICAgICAgICAgICAgKGRlQ3VyciA9IGRlQ3Vyci5wYXJlbnROb2RlKSk7XG5cbiAgICAgICAgaWYgKCFxc0N1cnIpIHtcblxuICAgICAgICAgICAgaWYgKGRlQ3Vyci5wYXJlbnROb2RlID09PSByb290Q3Vycikge1xuXG4gICAgICAgICAgICAgICAgcXNDdXJyID0gJz4gOm50aC1jaGlsZCgnICtcbiAgICAgICAgICAgICAgICAgICAgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocm9vdEN1cnIuY2hpbGRyZW4sIGRlQ3VycikgKyAxKSArICcpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy9jYW4ndCBmaW5kIHVuaXF1ZSBxdWVyeSBzZWxlY3RvclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcXNQYXJlbnQgKz0gKHFzUGFyZW50ID8gJyAnIDogJycpICsgcXNDdXJyO1xuXG4gICAgICAgIGlmIChkZUN1cnIgPT09IGRlKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBxc1BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHFzQ3VyciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJvb3RDdXJyID0gZGVDdXJyO1xuICAgICAgICAgICAgZGVDdXJyID0gZGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbihkZSwgcm9vdCkge1xuXG5cbiAgICB2YXIgc2luZ2xlcywgc2VsZWN0b3JzLCBtYXRjaGVzID0gW107XG5cbiAgICBzaW5nbGVzID0gc2VsZWN0b3JzID0gcG9zc2libGVJZHMoZGUpLmNvbmNhdChcbiAgICAgICAgW2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0sXG4gICAgICAgIHBvc3NpYmxlQ2xhc3NlcyhkZSwgaSksXG4gICAgICAgIHBvc3NpYmxlQXR0cmlidXRlcyhkZSwgaSlcbiAgICApO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyArK2kpIHtcblxuICAgICAgICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcblxuICAgICAgICAgICAgaWYgKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0b3JzID0gY29tYmluZShzZWxlY3RvcnMsIHNpbmdsZXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3NzaWJsZUlkcyhkZSkge1xuXG4gICAgcmV0dXJuIGRlLmlkID8gWycjJyArIENTUy5lc2NhcGUoZGUuaWQpXSA6IFtdO1xufVxuXG5mdW5jdGlvbiBwb3NzaWJsZUNsYXNzZXMoZGUsIG1heCkge1xuXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRlLmNsYXNzTGlzdCwgMClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nICsgQ1NTLmVzY2FwZShjbGFzc05hbWUpO1xuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gcG9zc2libGVBdHRyaWJ1dGVzKGRlKSB7XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGUuYXR0cmlidXRlcywgMClcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gRVhBVFRSLmluZGV4T2YoYXR0ci5uYW1lKSA9PT0gLTE7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiAnWycgKyBDU1MuZXNjYXBlKGF0dHIubmFtZSkgKyAoYXR0ci52YWx1ZSA/ICc9XCInK2F0dHIudmFsdWUrJ1wiJzogJycpICsgJ10nO1xuICAgICAgICB9KTtcbn1cblxuLy8gZnVuY3Rpb24gdmFyaWF0ZShfbGlzdCwgbGVuZ3RoKSB7XG5cbi8vICAgICByZXR1cm4gc3RlcChfbGlzdCwgMik7XG5cbi8vICAgICBmdW5jdGlvbiBzdGVwKGxpc3QsIGJhY2spIHtcblxuLy8gICAgICAgICB2YXIgY29tYmluZWQgPSBjb21iaW5lKGF0dHJpYnV0ZXMsIGxpc3QpO1xuLy8gICAgICAgICByZXR1cm4gbGlzdC5jb25jYXQoYmFjayA9PT0gMCA/IGNvbWJpbmVkIDogc3RlcChjb21iaW5lZCwgLS1iYWNrKSk7XG4vLyAgICAgfVxuLy8gfVxuXG5mdW5jdGlvbiBjb21iaW5lKHNvdXJjZUEsIHNvdXJjZUIpIHtcblxuICAgIHZhciBjb21iaW5lZCA9IFtdO1xuXG4gICAgc291cmNlQS5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHNvdXJjZUIuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgaWYgKGEuaW5kZXhPZihiKSA9PT0gLTEgJiYgYi5pbmRleE9mKGEpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICcjLls6Jy5pbmRleE9mKGIuY2hhckF0KDApKSAhPT0gLTEpIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbWJpbmVkLnB1c2goYSArIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb21iaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZTtcbiIsInZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHtcblxuICAgIGNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgZGVTY3JvbGxDb250ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZGVDb250ZW50LFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRlTGVmdCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgICAgICBwYXJlbnQ6IGRlU2Nyb2xsQ29udCxcbiAgICAgICAgICAgIHdpZHRoOiAnMjM0cHgnLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVSaWdodCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgICAgICBwYXJlbnQ6IGRlU2Nyb2xsQ29udCxcbiAgICAgICAgICAgIGZsZXg6ICcxJyxcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNob3J0Y3V0TGFiZWwodmFsdWUpIHtcblxuICAgIHZhciBkZUxhYmVsID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBcbiAgICB9KVxufSIsInZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGRpYWxvZ1NldHRpbmdzID0gcmVxdWlyZSgnLi9kaWFsb2dTZXR0aW5ncycpO1xuXG52YXIgc2hvcnRjdXRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xubW9kdWxlLmV4cG9ydHMgPSBzaG9ydGN1dHM7XG5cbnZhciBtYXAgPSB7XG4gICAgJ2VudGVyJzogWydlbnRlciddLFxuICAgICdjb3B5JzogWydjdHJsK2MnXSxcbiAgICAnY3V0JzogWydjdHJsK3gnXSxcbiAgICAnZGVsZXRlJzogWydkZWwnLCAnYmFja3NwYWNlJ10sXG4gICAgJ2R1cGxpY2F0ZSc6IFsnY3RybCtkJ10sXG4gICAgJ2tleWJvYXJkU2hvcnRjdXRzJzogWydjdHJsK2snXSxcbiAgICAncGFzdGUnOiBbJ2N0cmwrdiddLFxuICAgICd1bmRvJzogWydjdHJsK3onXSxcbiAgICAncmVkbyc6IFsnY3RybCt5JywgJ2N0cmwrc2hpZnQreiddLFxuICAgICdzZWxlY3RBbGwnOiBbJ2N0cmwrYyddLFxuICAgICdzYXZlJzogWydjdHJsK3MnXSxcbiAgICAnc2F2ZUFzJzogWydjdHJsK3NoaWZ0K3MnXSxcbiAgICAncGxheS9wYXVzZSc6IFsnc3BhY2UnXSxcbiAgICAnZ3JvdXBFbGVtZW50cyc6IFsnY3RybCtnJ10sXG4gICAgJ3Nob3cvaGlkZVBhbmVscyc6IFsndGFiJ10sXG59O1xuXG5zaG9ydGN1dHMucmVhZE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcblxuICAgIE1vdXNldHJhcC5yZXNldCgpO1xuXG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBtYXBba2V5XS5mb3JFYWNoKGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgICAgIC8vIE1vdXNldHJhcC5iaW5kKHN0cm9rZSwgdGhpcy5lbWl0LmJpbmQodGhpcywga2V5KSk7XG4gICAgICAgICAgICBNb3VzZXRyYXAuYmluZChzdHJva2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXksIHN0cm9rZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGtleSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cbnNob3J0Y3V0cy5yZWFkTWFwKG1hcCk7XG5cbnNob3J0Y3V0cy5nZXRTaG9ydGN1dCA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIHJldHVybiBtYXBba2V5XS5qb2luKCcsICcpO1xufVxuXG5Nb3VzZXRyYXAucmVjb3JkKGZ1bmN0aW9uKHN0cm9rZXMpIHtcblxuICAgIHZhciBzdHJva2UgPSBzdHJva2VzW3N0cm9rZXMubGVuZ3RoLTFdO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gRWFzZU1hcChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fbWFwID0ge307XG59XG5cbmluaGVyaXRzKEVhc2VNYXAsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEVhc2VNYXAucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBFYXNlTWFwO1xuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gXy5jbG9uZURlZXAodGhpcy5fbWFwKTtcbn1cblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICghc2F2ZSkgdGhyb3cgRXJyb3I7XG5cbiAgICB0aGlzLl9tYXAgPSBfLmNsb25lRGVlcCh0aGlzLl9tYXApO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn1cblxucC5zZXQgPSBmdW5jdGlvbiAobmFtZSwgZWFzZSkge1xuXG4gICAgdGhpcy5fbWFwW25hbWVdID0gZWFzZTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLnNob3dTZXREaWFsb2cgPSBmdW5jdGlvbiAobmFtZSwgZWFzZSkge1xuXG4gICAgLy9UT0RPXG59O1xuXG5wLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fbWFwW25hbWVdO1xufTtcblxucC5saXN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX21hcCk7XG59O1xuXG5wLnJlbW92ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICAgIGRlbGV0ZSB0aGlzLl9tYXBbbmFtZV07XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIElubGluZUVhc2VFZGl0b3Iob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX29uQ2xpY2tXaW5kb3cgPSB0aGlzLl9vbkNsaWNrV2luZG93LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcbiAgICB0aGlzLl9jb2xvciA9ICcjMDBCRkZGJztcblxuICAgIHRoaXMudGltZWxpbmUgPSBvcHQudGltZWxpbmU7XG5cbiAgICB0aGlzLl9wb2ludHMgPSBbMCwgMCwgMSwgMV07XG5cbiAgICB0aGlzLl9yZW5kZXIgPSBhbWd1aS5kZWxheVdpdGhSQUYodGhpcy5fcmVuZGVyLCB0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcbiAgICB0aGlzLmhpZGUoKTtcbn1cblxuaW5oZXJpdHMoSW5saW5lRWFzZUVkaXRvciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gSW5saW5lRWFzZUVkaXRvci5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IElubGluZUVhc2VFZGl0b3I7XG5cblxuXG5cbnAuc2hvdyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmICghb3B0LmtleSB8fCAoIW9wdC5rZXkuZWFzZSAmJiAhb3B0LmVhc2VzKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fa2V5ID0gb3B0LmtleTtcbiAgICB0aGlzLl9lYXNlcyA9IG9wdC5lYXNlcyA/IG9wdC5lYXNlcy5zbGljZSgpIDogW29wdC5rZXkuZWFzZV07XG5cbiAgICB0aGlzLl9wb2ludHNbMF0gPSB0aGlzLl9lYXNlc1swXS5wb2ludHNbMF07XG4gICAgdGhpcy5fcG9pbnRzWzFdID0gdGhpcy5fZWFzZXNbMF0ucG9pbnRzWzFdO1xuICAgIHRoaXMuX3BvaW50c1syXSA9IHRoaXMuX2Vhc2VzWzBdLnBvaW50c1syXTtcbiAgICB0aGlzLl9wb2ludHNbM10gPSB0aGlzLl9lYXNlc1swXS5wb2ludHNbM107XG5cbiAgICB0aGlzLl9lYXNlcy5mb3JFYWNoKGVhc2UgPT4ge1xuXG4gICAgICAgIGVhc2Uub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRWFzZSwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgIHRoaXMuX3N0YXJ0QXV0b1JlZnJlc2goKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tXaW5kb3cpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnJztcbn07XG5cbnAuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9lYXNlcykge1xuXG4gICAgICAgIHRoaXMuX2Vhc2VzLmZvckVhY2goZWFzZSA9PiB7XG5cbiAgICAgICAgICAgIGVhc2Uub2ZmKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUVhc2UsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdG9wQXV0b1JlZnJlc2goKTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tXaW5kb3cpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5cblxuXG5wLl9zdGFydEF1dG9SZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJlZnJlc2ggPSAoKSA9PiB7XG5cbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX19yYWZJZEF1dG9SZWZyZXNoKTtcblxuICAgICAgICB0aGlzLl9fcmFmSWRBdXRvUmVmcmVzaCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVmcmVzaCk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfTtcblxuICAgIHJlZnJlc2goKTtcbn07XG5cbnAuX3N0b3BBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9fcmFmSWRBdXRvUmVmcmVzaCk7XG59O1xuXG5wLl9yZW5kZXIgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLl9rZXksXG4gICAgICAgIHByZXZLZXkgPSBrZXkuZ2V0UHJldktleSgpLFxuICAgICAgICBicktleUxpbmUgPSBrZXkucGFyZW50S2V5TGluZS5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBiclBhcmVudCA9IHRoaXMuZG9tRWxlbS5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBwID0gdGhpcy5fcG9pbnRzLFxuICAgICAgICB4ID0gdGhpcy50aW1lbGluZS50aW1lVG9TY3JlZW5YKHByZXZLZXkgPyBwcmV2S2V5LnRpbWUgOiAwKSxcbiAgICAgICAgdyA9IHRoaXMudGltZWxpbmUudGltZVRvU2NyZWVuWChrZXkudGltZSkgLSB4LFxuICAgICAgICBoID0gdGhpcy5faGVpZ2h0LFxuICAgICAgICBkID0gJycsXG4gICAgICAgIGVhc2UgPSB0aGlzLl9lYXNlc1swXTtcblxuICAgIHRoaXMuX3dpZHRoID0gdztcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnRvcCA9IChicktleUxpbmUudG9wIC0gYnJQYXJlbnQudG9wICsgaCkgKyAncHgnO1xuXG4gICAgZCArPSAnTScgKyAodypwWzBdKSArICcsJyArIChoKnBbMV0pICsgJyAnO1xuICAgIGQgKz0gJ0wwLDAgJztcbiAgICBkICs9ICdDJyArICh3KnBbMF0pICsgJywnICsgKGgqcFsxXSkgKyAnICc7XG4gICAgZCArPSAodypwWzJdKSArICcsJyArIChoKnBbM10pICsgJyAnO1xuICAgIGQgKz0gdyArICcsJyArIGggKyAnICc7XG4gICAgZCArPSAnTCcgKyAodypwWzJdKSArICcsJyArIChoKnBbM10pO1xuXG4gICAgaWYgKGVhc2UpIHtcblxuICAgICAgICBkICs9ICdNMCwwICc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyArK2kpIHtcblxuICAgICAgICAgICAgZCArPSAnTCcgKyBpICsgJywnICsgKGgqZWFzZS5nZXRSYXRpbyhpL3cpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdkJywgZCk7XG5cbiAgICB0aGlzLl9kZUNwMC5yZWZyZXNoUG9zaXRpb24oKTtcbiAgICB0aGlzLl9kZUNwMS5yZWZyZXNoUG9zaXRpb24oKTtcbn07XG5cbnAuX3NldFBvaW50ID0gZnVuY3Rpb24gKHBpZHgsIHgsIHkpIHtcblxuICAgIHRoaXMuX3BvaW50c1twaWR4XSA9IHg7XG4gICAgdGhpcy5fcG9pbnRzW3BpZHgrMV0gPSB5O1xuXG4gICAgdGhpcy5fZWFzZXMuZm9yRWFjaChlYXNlID0+IGVhc2UucG9pbnRzID0gdGhpcy5fcG9pbnRzKTtcbn07XG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcbn07XG5cbnAuX29uQ2xpY2tXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmhpZGUoKTtcbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVZKC0xKSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cbiAgICB0aGlzLl9zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgIC8vIHRoaXMuX3N2Zy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XG4gICAgdGhpcy5fc3ZnLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9zdmcuc3R5bGUudG9wID0gJzBweCc7XG4gICAgdGhpcy5fc3ZnLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICB0aGlzLl9zdmcuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3N2Zyk7XG5cbiAgICB0aGlzLl9wYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgdGhpcy5fcGF0aC5zdHlsZS5zdHJva2UgPSB0aGlzLl9jb2xvcjtcbiAgICB0aGlzLl9wYXRoLnN0eWxlLmZpbGwgPSAnbm9uZSc7XG4gICAgdGhpcy5fc3ZnLmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpO1xuXG4gICAgdGhpcy5fZGVDcDAgPSB0aGlzLl9jcmVhdGVDcCgwKTtcbiAgICB0aGlzLl9kZUNwMSA9IHRoaXMuX2NyZWF0ZUNwKDIpO1xufTtcblxucC5fY3JlYXRlQ3AgPSBmdW5jdGlvbihwb2ludElkeCkge1xuXG4gICAgdmFyIHIgPSAzO1xuXG4gICAgdmFyIGRlQ3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZUNwLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZUNwLnN0eWxlLmN1cnNvciA9ICdncmFiJztcbiAgICBkZUNwLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICBkZUNwLnN0eWxlLndpZHRoID0gcioyICsgJ3B4JztcbiAgICBkZUNwLnN0eWxlLmhlaWdodCA9IHIqMiArICdweCc7XG4gICAgZGVDcC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC0nK3IrJ3B4LC0nK3IrJ3B4KSc7XG4gICAgZGVDcC5zdHlsZS5ib3JkZXJSYWRpdXMgPSByICsgJ3B4JztcbiAgICBkZUNwLnN0eWxlLmJhY2tncm91bmQgPSB0aGlzLl9jb2xvcjtcbiAgICBkZUNwLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKGRlQ3ApO1xuXG4gICAgZGVDcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7Ly9wcmV2ZW50IGNhbGxpbmcgX29uQ2xpY2tXaW5kb3coKTtcbiAgICB9KTtcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogZGVDcCxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14LCBteSkge1xuXG4gICAgICAgICAgICB2YXIgYnIgPSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFBvaW50KHBvaW50SWR4LFxuICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChteCAtIGJyLmxlZnQpIC8gdGhpcy5fd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAoYnIudG9wIC0gbXkpIC8gdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVDcC5yZWZyZXNoUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgZGVDcC5zdHlsZS5sZWZ0ID0gKHRoaXMuX3BvaW50c1twb2ludElkeF0gKiB0aGlzLl93aWR0aCkgKyAncHgnO1xuICAgICAgICBkZUNwLnN0eWxlLnRvcCA9ICh0aGlzLl9wb2ludHNbcG9pbnRJZHgrMV0gKiB0aGlzLl9oZWlnaHQpICsgJ3B4JztcbiAgICB9LmJpbmQodGhpcyk7XG4gICAgZGVDcC5yZWZyZXNoUG9zaXRpb24oKTtcblxuICAgIHJldHVybiBkZUNwO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWNvclRpbWViYXJOYXZpZ2F0b3IgPSByZXF1aXJlKCcuL2RlY29yVGltZWJhck5hdmlnYXRvcicpO1xuXG5mdW5jdGlvbiBUaW1lYmFyKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9zdGFydCA9IG9wdC5zdGFydCB8fCAwO1xuICAgIHRoaXMuX3dpZHRoID0gb3B0LndpZHRoIHx8IDA7XG4gICAgdGhpcy5faGVpZ2h0ID0gb3B0LmhlaWdodCB8fCAyMTtcbiAgICB0aGlzLl90aW1lc2NhbGUgPSBvcHQudGltZXNjYWxlIHx8IDA7XG4gICAgdGhpcy5fY3VyclRpbWUgPSBvcHQuY3VyclRpbWUgfHwgMDtcbiAgICB0aGlzLl9sZW5ndGggPSBvcHQubGVuZ3RoIHx8IDYwMDAwO1xuXG4gICAgdGhpcy5fbWFnbmV0UG9pbnRzID0gW107XG4gICAgdGhpcy5fbWFnbmV0RGlzdGFuY2VQeCA9IDIuNTA7XG4gICAgdGhpcy5fc3RhcnRNYXJnaW4gPSAoJ3N0YXJ0TWFyZ2luJyBpbiBvcHQpID8gb3B0LnN0YXJ0TWFyZ2luIDogNjtcblxuICAgIHRoaXMuX29uTURvd24gPSBvbk1Eb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25NTW92ZSA9IG9uTU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1VcCA9IG9uTVVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9zdGVwcyA9IGdldFN0ZXBzKCk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgdGhpcy5fY3JlYXRlUG9pbnRlcigpO1xuICAgIHRoaXMuX2NyZWF0ZUVuZFNoYWRvdygpO1xuXG4gICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuLy9UT0RPIHVzZSBhbWd1aS5tYWtlRHJhZ2dhYmxlKClcbiAgICB0aGlzLl9jYW52YXNUYXBlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTURvd24pO1xuXG4gICAgZGVjb3JUaW1lYmFyTmF2aWdhdG9yKHRoaXMpO1xuXG4gICAgdGhpcy5zZWVrVG9aZXJvKCk7XG59XG5cbmluaGVyaXRzKFRpbWViYXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRpbWViYXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUaW1lYmFyO1xuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICAvKiogcHgvbXMgKi9cbiAgICB0aW1lc2NhbGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl90aW1lc2NhbGUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdGltZXNjYWxlID0gTWF0aC5taW4oMywgTWF0aC5tYXgoMC4wMDAxLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlVGltZXNjYWxlJyk7XG4gICAgICAgICAgICAvL3ByZXZlbnQgdG8gZ2V0IGJpZ2dlciBzdGFydCBtYXJnaW4gdGhhbiBcIl9zdGFydE1hcmdpblwiXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZXNjYWxlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IE1hdGgubWluKHRoaXMuX3N0YXJ0TWFyZ2luIC8gdGhpcy50aW1lc2NhbGUsIHBhcnNlSW50KHYpKTtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fc3RhcnQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fc3RhcnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKnB4Ki9cbiAgICB3aWR0aDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUludCh2KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fd2lkdGggPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2O1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGVuZDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydCArICh0aGlzLl93aWR0aCAvIHRoaXMuX3RpbWVzY2FsZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKm1zKi9cbiAgICB2aXNpYmxlVGltZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVzY2FsZSA9IHRoaXMuX3dpZHRoIC8gdjtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCAvIHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjdXJyVGltZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBNYXRoLm1heCgwLCBwYXJzZUludCh2KSk7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX2N1cnJUaW1lID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJUaW1lID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaFBvaW50ZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUaW1lJywgdGhpcy5fY3VyclRpbWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyVGltZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBtYWduZXRQb2ludHM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fbWFnbmV0UG9pbnRzID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFnbmV0UG9pbnRzO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGxlbmd0aDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUludCh2KTtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fbGVuZ3RoID09PSB2KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGggPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0TWFyZ2luOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlSW50KHYpO1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl9zdGFydE1hcmdpbiA9PT0gdikgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRNYXJnaW4gPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRNYXJnaW47XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5cblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9UT0RPXG59XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL1RPRE9cbn1cblxucC5zY3JlZW5YVG9UaW1lID0gZnVuY3Rpb24gKHNjcmVlblgpIHtcblxuICAgIHZhciBsZWZ0ID0gdGhpcy5fY2FudmFzVGFwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxuICAgICAgICBtb3VzZVggPSBzY3JlZW5YIC0gbGVmdCxcbiAgICAgICAgdGltZSA9IChtb3VzZVggLyB0aGlzLndpZHRoKSAqIHRoaXMudmlzaWJsZVRpbWU7XG5cbiAgICB0aW1lIC09IHRoaXMuc3RhcnQ7XG5cbiAgICByZXR1cm4gdGltZTtcbn07XG5cbnAubWFnbmV0aXplVGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgbWFnbmV0UG9pbnQsIG1hZ25ldFBvaW50RGlmZiA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuX21hZ25ldFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtcCkge1xuXG4gICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMobXAgLSB0aW1lKTtcblxuICAgICAgICBpZiAoZGlmZiA8IG1hZ25ldFBvaW50RGlmZiB8fCBtYWduZXRQb2ludERpZmYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWFnbmV0UG9pbnQgPSBtcDtcbiAgICAgICAgICAgIG1hZ25ldFBvaW50RGlmZiA9IGRpZmY7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICgobWFnbmV0UG9pbnREaWZmICogdGhpcy5fdGltZXNjYWxlKSA8IHRoaXMuX21hZ25ldERpc3RhbmNlUHgpIHtcblxuICAgICAgICB0aW1lID0gbWFnbmV0UG9pbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbWU7XG59O1xuXG5wLnNlZWtUb1plcm8gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5fc3RhcnRNYXJnaW4gLyB0aGlzLnRpbWVzY2FsZTtcbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZW5kZXJUYXBlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fc3RhcnQsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgdmlzaWJsZVRpbWUgPSB0aGlzLnZpc2libGVUaW1lLFxuICAgICAgICBoZWlnaHQgPSB0aGlzLl9oZWlnaHQsXG4gICAgICAgIHNjYWxlID0gdGhpcy50aW1lc2NhbGUsXG4gICAgICAgIHdpZHRoID0gdGhpcy5fd2lkdGgsXG4gICAgICAgIG1heE1hcmtlcnMgPSB3aWR0aCAvIDQsXG4gICAgICAgIHN0ZXAsIGksIHRleHQsIHRleHRXLFxuICAgICAgICBjdHggPSB0aGlzLl9jdHhUYXBlO1xuXG4gICAgdGhpcy5fY2FudmFzVGFwZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuX2NhbnZhc1RhcGUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5fc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuXG4gICAgICAgIGlmICgodGhpcy52aXNpYmxlVGltZSAvIHMuc21hbGwpIDwgbWF4TWFya2VycyAmJiAoIXN0ZXAgfHwgc3RlcC5zbWFsbCA+IHMuc21hbGwpKSB7XG5cbiAgICAgICAgICAgIHN0ZXAgPSBzO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoc3RlcCkge1xuXG4gICAgICAgIGN0eC5saW53ZWlkdGggPSAwLjU7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICAgICAgY3R4LmZvbnQgPSB+fih0aGlzLl9oZWlnaHQgKiAwLjUpICsgJ3B4IFwiT3BlbiBTYW5zXCInO1xuXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0ICUgc3RlcC5zbWFsbDsgaSA8IHZpc2libGVUaW1lOyBpICs9IHN0ZXAuc21hbGwpIHtcblxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh+fihpICogc2NhbGUpICsgMC41LCBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh+fihpICogc2NhbGUpICsgMC41LCBoZWlnaHQgKiAwLjc1KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgZm9yIChpID0gc3RhcnQgJSBzdGVwLmJpZzsgaSA8IHZpc2libGVUaW1lOyBpICs9IHN0ZXAuYmlnKSB7XG5cbiAgICAgICAgICAgIGN0eC5tb3ZlVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0ICogMC42Mik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0ICUgc3RlcC50aW1lOyBpIDwgdmlzaWJsZVRpbWU7IGkgKz0gc3RlcC50aW1lKSB7XG5cbiAgICAgICAgICAgIHRleHQgPSBzdGVwLmZvcm1hdChpIC0gc3RhcnQpO1xuICAgICAgICAgICAgdGV4dFcgPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGggLyAyO1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIGkgKiBzY2FsZSAtIHRleHRXLCAxMik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hQb2ludGVyKCk7XG5cbiAgICB2YXIgZW5kV2lkdGggPSAoKHZpc2libGVUaW1lIC0gKHN0YXJ0ICsgbGVuZ3RoKSkgKiBzY2FsZSk7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUud2lkdGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih3aWR0aCwgZW5kV2lkdGgpKSArICdweCc7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gb25NRG93bihlKSB7XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChlLnNoaWZ0S2V5KSB0aGlzLl9kcmFnTW9kZSA9ICd0cmFuc2xhdGUnO1xuICAgIGVsc2UgaWYgKGUuY3RybEtleSkgdGhpcy5fZHJhZ01vZGUgPSAnc2NhbGUnO1xuICAgIGVsc2UgdGhpcy5fZHJhZ01vZGUgPSAnc2Vlayc7XG5cbiAgICB0aGlzLl9tZFggPSBlLnBhZ2VYO1xuICAgIHRoaXMuX21kU3RhcnQgPSB0aGlzLl9zdGFydDtcbiAgICB0aGlzLl9tZFRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcblxuICAgIHRoaXMuX29uTU1vdmUoZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25NTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1VcCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1VcCk7XG59XG5cbmZ1bmN0aW9uIG9uTU1vdmUoZSkge1xuXG4gICAgdmFyIG1vdmUgPSBlLnNjcmVlblggLSB0aGlzLl9tZFgsXG4gICAgICAgIHRpbWUsIG1hZ25ldFBvaW50LCBtYWduZXRQb2ludERpZmY7XG5cbiAgICBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICdzZWVrJykge1xuXG4gICAgICAgIHRpbWUgPSB0aGlzLnNjcmVlblhUb1RpbWUoZS5zY3JlZW5YKTtcbiAgICAgICAgdGltZSA9IHRoaXMubWFnbmV0aXplVGltZSh0aW1lKTtcblxuICAgICAgICB0aGlzLmN1cnJUaW1lID0gdGltZTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3NlZWsnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICd0cmFuc2xhdGUnKSB7XG5cbiAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMuX21kU3RhcnQgKyAobW92ZSAvIHRoaXMudGltZXNjYWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICdzY2FsZScpIHtcblxuICAgICAgICB0aGlzLnRpbWVzY2FsZSA9IHRoaXMuX21kVGltZXNjYWxlICsgKG1vdmUvMTAwMCk7XG5cbiAgICAgICAgdmFyIG1kUG9zID0gKHRoaXMuX21kU3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAqIHRoaXMuX21kVGltZXNjYWxlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gLSgodGhpcy5jdXJyVGltZSAqIHRoaXMudGltZXNjYWxlKSAtIG1kUG9zKSAvIHRoaXMudGltZXNjYWxlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25NVXAoKSB7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25NTW92ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1VcCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1VcCk7XG59XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hQb2ludGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHBvcyA9ICgodGhpcy5zdGFydCArIHRoaXMuY3VyclRpbWUpIC8gdGhpcy52aXNpYmxlVGltZSkgKiB0aGlzLndpZHRoO1xuXG4gICAgdGhpcy5fZGVQb2ludGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIHBvcyArICdweCknO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGFtZ3VpLmNyZWF0ZVNlcGFyYXRvcih7cGFyZW50OiB0aGlzLmRvbUVsZW19KTtcblxuICAgIHRoaXMuX2NhbnZhc1RhcGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jdHhUYXBlID0gdGhpcy5fY2FudmFzVGFwZS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuX2NhbnZhc1RhcGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhc1RhcGUpO1xufTtcblxucC5fY3JlYXRlUG9pbnRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByYWRpdXMgPSA1O1xuICAgIHRoaXMuX2RlUG9pbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlUG9pbnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5fZGVQb2ludGVyLnN0eWxlLmJvdHRvbSA9IDIqcmFkaXVzICsgJ3B4JztcbiAgICB2YXIgcG9pbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBvaW50ZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIHBvaW50ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBwb2ludGVyLnN0eWxlLmxlZnQgPSAtcmFkaXVzICsgJ3B4JztcbiAgICBwb2ludGVyLnN0eWxlLndpZHRoID0gMipyYWRpdXMgKyAncHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuaGVpZ2h0ID0gMipyYWRpdXMgKyAncHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm9yZGVyID0gJ3NvbGlkICcrYW1ndWkuY29sb3IucmVkKycgMXB4JztcbiAgICBwb2ludGVyLnN0eWxlLmJvcmRlclJhZGl1cyA9IHJhZGl1cyArICdweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyLmFwcGVuZENoaWxkKHBvaW50ZXIpO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXIpO1xufTtcblxucC5fY3JlYXRlRW5kU2hhZG93ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVFbmRTaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUudG9wID0gJzBweCc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUucmlnaHQgPSAnMHB4JztcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUud2lkdGggPSAnMHB4JztcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDgzLDgzLDgzLDAuNzMpJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVFbmRTaGFkb3cpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoYW5kbGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBoYW5kbGVyLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIGhhbmRsZXIuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIGhhbmRsZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGhhbmRsZXIuc3R5bGUud2lkdGggPSAnM3B4JztcbiAgICBoYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgIGhhbmRsZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5hcHBlbmRDaGlsZChoYW5kbGVyKTtcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogaGFuZGxlcixcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLmxlbmd0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCkge1xuXG4gICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMuc2NyZWVuWFRvVGltZShteCk7XG4gICAgICAgICAgICB0aW1lID0gdGhpcy5tYWduZXRpemVUaW1lKHRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cblxuLy9TdGVwc1xuZnVuY3Rpb24gZ2V0U3RlcHMoKSB7XG5cbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogNSxcbiAgICAgICAgICAgIGJpZzogNTAsXG4gICAgICAgICAgICB0aW1lOiA1MCxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbXMgKyAnbXMnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAsXG4gICAgICAgICAgICBiaWc6IDEwMCxcbiAgICAgICAgICAgIHRpbWU6IDEwMCxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbXMgKyAnbXMnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAwLFxuICAgICAgICAgICAgYmlnOiAxMDAwLFxuICAgICAgICAgICAgdGltZTogMTAwMCxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQobXMvMTAwMCkgJSA2MDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAobWluID8gbWluKyc6Jyt0d28oc2VjKSA6IHNlYykgKyAncyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNtYWxsOiA1MDAsXG4gICAgICAgICAgICBiaWc6IDUwMDAsXG4gICAgICAgICAgICB0aW1lOiA1MDAwLFxuICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluID0gcGFyc2VJbnQobXMvNjAwMDApO1xuICAgICAgICAgICAgICAgIHZhciBzZWMgPSBwYXJzZUludChtcy8xMDAwKSAlIDYwO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChtaW4gPyBtaW4rJzonK3R3byhzZWMpIDogc2VjKSArICdzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDEwMDAwLFxuICAgICAgICAgICAgYmlnOiA2MDAwMCxcbiAgICAgICAgICAgIHRpbWU6IDYwMDAwLFxuICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluID0gcGFyc2VJbnQobXMvNjAwMDApICUgNjA7XG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSBwYXJzZUludChtcy8zNjAwMDAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoaG91ciA/IGhvdXIrJzonK3R3byhtaW4pIDogbWluKSArICdtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDYwMDAwLFxuICAgICAgICAgICAgYmlnOiA1KjYwMDAwLFxuICAgICAgICAgICAgdGltZTogNSo2MDAwMCxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKSAlIDYwO1xuICAgICAgICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQobXMvMzYwMDAwMCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKGhvdXIgPyBob3VyKyc6Jyt0d28obWluKSA6IG1pbikgKyAnbSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gdHdvKG51bSkge1xuXG4gICAgICAgIHJldHVybiAoJzAwJyArIG51bSkuc3Vic3RyKC0yKTtcbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBUaW1lYmFyID0gcmVxdWlyZSgnLi9UaW1lYmFyJyk7XG52YXIgRWFzZU1hcCA9IHJlcXVpcmUoJy4vRWFzZU1hcCcpO1xudmFyIFRyaWdnZXJNYXAgPSByZXF1aXJlKCcuL1RyaWdnZXJNYXAnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgbXN0U2NyaXB0ID0gcmVxdWlyZSgnLi9zY3JpcHQudGltZWxpbmUubXN0Jyk7XG52YXIgSW5saW5lRWFzZUVkaXRvciA9IHJlcXVpcmUoJy4vSW5saW5lRWFzZUVkaXRvcicpO1xudmFyIFRvb2xiYXIgPSByZXF1aXJlKCcuLi90b29sYmFyJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIFRpbWVsaW5lKG9wdCwgcHJvamVjdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMTExMTEpO1xuXG4gICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcblxuICAgIHRoaXMuX2hlYWRlckggPSAyMztcblxuICAgIHRoaXMuX29uU2VsZWN0VHJhY2sgPSB0aGlzLl9vblNlbGVjdFRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUcmFja0tleXMgPSB0aGlzLl9vbkNoYW5nZVRyYWNrS2V5cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVHJhY2tOZWVkUmVtb3ZlID0gdGhpcy5fb25UcmFja05lZWRSZW1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdmVUcmFjayA9IHRoaXMuX29uTW92ZVRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUaW1lID0gdGhpcy5fb25DaGFuZ2VUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUYXBlID0gdGhpcy5fb25DaGFuZ2VUYXBlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25XaW5kb3dSZXNpemUgPSB0aGlzLl9vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0TmV3VHJhY2sgPSB0aGlzLl9vblNlbGVjdE5ld1RyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Ub2dnbGVQbGF5UGF1c2UgPSB0aGlzLl9vblRvZ2dsZVBsYXlQYXVzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVGltZWJhclNlZWsgPSB0aGlzLl9vblRpbWViYXJTZWVrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUcmFja0hlaWdodCA9IHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblN0YXJ0RWRpdEN1cnJUaW1lID0gdGhpcy5fb25TdGFydEVkaXRDdXJyVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRmluaXNoRWRpdEN1cnJUaW1lID0gdGhpcy5fb25GaW5pc2hFZGl0Q3VyclRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZUlucEN1cnJUaW1lID0gdGhpcy5fb25DaGFuZ2VJbnBDdXJyVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2FuaW1QbGF5ID0gdGhpcy5fYW5pbVBsYXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3RpbWViYXIgPSBuZXcgVGltZWJhcih7XG4gICAgICAgIGhlaWdodDogdGhpcy5faGVhZGVySCxcbiAgICAgICAgdGltZXNjYWxlOiAwLjEyLFxuICAgICAgICBsZW5ndGg6IDYwMDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih7XG4gICAgICAgIGhlaWdodDogdGhpcy5faGVhZGVySCxcbiAgICAgICAgYmdDb2xvcjogJ25vbmUnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuICAgIHRoaXMuX2NyZWF0ZVBvaW50ZXJMaW5lKCk7XG5cbiAgICB0aGlzLmlubGluZUVhc2VFZGl0b3IgPSBuZXcgSW5saW5lRWFzZUVkaXRvcih7dGltZWxpbmU6IHRoaXN9KTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5pbmxpbmVFYXNlRWRpdG9yLmRvbUVsZW0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaFRpbWViYXJXaWR0aCgpO1xuICAgIHRoaXMuX3JlZnJlc2hEZUN1cnJUaW1lKCk7XG5cbiAgICB0aGlzLl90cmFja3MgPSBbXTtcbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzID0gbmV3IFdlYWtNYXAoKTtcblxuICAgIHRoaXMuZWFzZU1hcCA9IG5ldyBFYXNlTWFwKCk7XG4gICAgdGhpcy50cmlnZ2VyTWFwID0gbmV3IFRyaWdnZXJNYXAoKTtcblxuICAgIC8vVE9ETyB0aGlzLl90aW1lYmFyLmZvcndhcmQoWydjaGFuZ2VUaW1lJywgJ2NoYW5nZVRhcGUnLCBjaGFuZ2VUaW1lc2NhbGVdLCB0aGlzKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5lbWl0LmJpbmQodGhpcywgJ2NoYW5nZVRpbWUnKSk7XG4gICAgdGhpcy5fdGltZWJhci5vbignY2hhbmdlVGFwZScsIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjaGFuZ2VUYXBlJykpO1xuICAgIHRoaXMuX3RpbWViYXIub24oJ2NoYW5nZVRpbWVzY2FsZScsIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjaGFuZ2VUaW1lc2NhbGUnKSk7XG4gICAgdGhpcy5fdGltZWJhci5vbignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZSk7XG4gICAgdGhpcy5fdGltZWJhci5vbignY2hhbmdlVGFwZScsIHRoaXMuX29uQ2hhbmdlVGFwZSk7XG4gICAgdGhpcy5fdGltZWJhci5vbignc2VlaycsIHRoaXMuX29uVGltZWJhclNlZWspO1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5kb21FbGVtLCB0aGlzLl9yZWZyZXNoVGltZWJhcldpZHRoLCB0aGlzKTtcbiAgICB0aGlzLl9yZWZyZXNoUG9pbnRlckxpbmUgPSBhbWd1aS5kZWxheVdpdGhSQUYodGhpcy5fcmVmcmVzaFBvaW50ZXJMaW5lLCB0aGlzKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSk7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICAgIHRoaXMudXNlU2F2ZShvcHQpO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoVGltZWxpbmUsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRpbWVsaW5lLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVGltZWxpbmU7XG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBjdXJyVGltZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lYmFyLmN1cnJUaW1lID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci5jdXJyVGltZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGltZXNjYWxlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWViYXIudGltZXNjYWxlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0cmFja3M6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tzO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHdpZHRoOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWViYXIud2lkdGg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN0YXJ0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWViYXIuc3RhcnQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIFtcbiAgICB7bmFtZTogJ3Byb2plY3QnLCBldmVudDogJ2FkZGVkJ30sXG4gICAge25hbWU6ICduYW1lJywgdHlwZTogJ3N0cmluZycsIHN0YXJ0VmFsdWU6ICd0aW1lbGluZSd9LFxuXSk7XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICBzYXZlID0gXy5leHRlbmQoe1xuICAgICAgICB0aW1lYmFyOiB7fSxcbiAgICAgICAgdHJhY2tzOiBbXVxuICAgIH0sIHNhdmUpO1xuXG4gICAgdGhpcy5fdGltZWJhci5jdXJyVGltZSA9IHNhdmUudGltZWJhci5jdXJyVGltZTtcbiAgICB0aGlzLl90aW1lYmFyLnRpbWVzY2FsZSA9IHNhdmUudGltZWJhci50aW1lc2NhbGU7XG4gICAgdGhpcy5fdGltZWJhci5sZW5ndGggPSBzYXZlLnRpbWViYXIubGVuZ3RoO1xuXG4gICAgaWYgKCdlYXNlTWFwJyBpbiBzYXZlKSB0aGlzLmVhc2VNYXAudXNlU2F2ZShzYXZlLmVhc2VNYXApO1xuICAgIGlmICgndHJpZ2dlck1hcCcgaW4gc2F2ZSkgdGhpcy50cmlnZ2VyTWFwLnVzZVNhdmUoc2F2ZS50cmlnZ2VyTWFwKTtcblxuICAgIHNhdmUudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrRGF0YSkge1xuXG4gICAgICAgIHZhciBUcmFja0NsYXNzID0gYW0udHJhY2tUeXBlc1t0cmFja0RhdGEudHlwZV0sXG4gICAgICAgICAgICB0cmFjayA9IG5ldyBUcmFja0NsYXNzKHRyYWNrRGF0YS5kYXRhLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmFkZFRyYWNrKHRyYWNrKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIF8uaW52b2tlKHRoaXMuX3RyYWNrcywgJ3JlbmRlclRpbWUnLCB0aGlzLmN1cnJUaW1lKTtcblxuICAgIHRoaXMuX3JlZnJlc2hNYWduZXRQb2ludHMoKTtcblxuICAgIGlmIChfLmhhcyhzYXZlLCAnY3VyclRyYWNrSWR4JykpIHtcblxuICAgICAgICB0aGlzLl90cmFja3Nbc2F2ZS5jdXJyVHJhY2tJZHhdLnNlbGVjdCgpO1xuICAgIH1cblxuICAgIGFtLmhpc3RvcnkuY2xlYXIoKTtcbn07XG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzYXZlID0ge1xuICAgICAgICB0aW1lYmFyOiB7XG4gICAgICAgICAgICBjdXJyVGltZTogdGhpcy5fdGltZWJhci5jdXJyVGltZSxcbiAgICAgICAgICAgIHRpbWVzY2FsZTogdGhpcy5fdGltZWJhci50aW1lc2NhbGUsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX3RpbWViYXIubGVuZ3RoLFxuICAgICAgICB9LFxuICAgICAgICB0cmFja3M6IFtdLFxuICAgICAgICBlYXNlTWFwOiB0aGlzLmVhc2VNYXAuZ2V0U2F2ZSgpLFxuICAgICAgICB0cmlnZ2VyTWFwOiB0aGlzLnRyaWdnZXJNYXAuZ2V0U2F2ZSgpLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgc2F2ZS5jdXJyVHJhY2tJZHggPSB0aGlzLl90cmFja3MuaW5kZXhPZih0aGlzLl9jdXJyVHJhY2spO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIHNhdmUudHJhY2tzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdHJhY2sudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHRyYWNrLmdldFNhdmUoKVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC5nZXRTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2NyaXB0LCBwbGF5ZXJTY3JpcHRzID0gW107XG5cbiAgICB0aGlzLl90cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcGxheWVyU2NyaXB0cy5wdXNoKHRyYWNrLmdldFNjcmlwdCgpKTtcbiAgICB9KTtcblxuICAgIHNjcmlwdCA9IE11c3RhY2hlLnJlbmRlcihtc3RTY3JpcHQsIHtcbiAgICAgICAgdHJhY2tQbGF5ZXJHZW5zOiBwbGF5ZXJTY3JpcHRzLmpvaW4oJyxcXG4nKSxcbiAgICAgICAgdHJpZ2dlclNjcmlwdDogdGhpcy50cmlnZ2VyTWFwLmdldFNjcmlwdCgpLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNjcmlwdDtcbn07XG5cbnAuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgXG59O1xuXG5wLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnBhdXNlKCk7XG59O1xuXG5wLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgd2hpbGUgKHRoaXMuX3RyYWNrcy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLnJlbW92ZVRyYWNrKHRoaXMuX3RyYWNrc1swXSk7XG4gICAgfVxufTtcblxucC5hZGRUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgaWYgKF8uaW5jbHVkZSh0aGlzLl90cmFja3MsIHRyYWNrKSkgcmV0dXJuO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5yZW1vdmVUcmFjayh0cmFjayksXG4gICAgICAgIHJlZG86ICgpID0+IHRoaXMuYWRkVHJhY2sodHJhY2spLFxuICAgICAgICBuYW1lOiAnYWRkIHRyYWNrJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX3RyYWNrcy5wdXNoKHRyYWNrKTtcblxuICAgIHRyYWNrLnBhcmVudFRpbWVsaW5lID0gdGhpcztcbiAgICB0cmFjay53YWtlKCk7XG5cbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzLnNldCh0cmFjaywge1xuICAgICAgICBkZUNvbnRPcHQ6IGNyZWF0ZUNvbnQodHJhY2suZGVPcHRpb25MaW5lLCB0aGlzLl9kZU9wdGlvbkxpbmVDb250KSxcbiAgICAgICAgZGVDb250S2Y6IGNyZWF0ZUNvbnQodHJhY2suZGVLZXlMaW5lLCB0aGlzLl9kZUtleUxpbmVDb250KSxcbiAgICB9KTtcblxuICAgIHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQodHJhY2spO1xuXG4gICAgdHJhY2sub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fb25DaGFuZ2VUcmFja0tleXMsIHRoaXMpO1xuICAgIHRyYWNrLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdFRyYWNrLCB0aGlzKTtcbiAgICB0cmFjay5vbignbmVlZC5yZW1vdmUnLCB0aGlzLl9vblRyYWNrTmVlZFJlbW92ZSwgdGhpcyk7XG4gICAgdHJhY2sub24oJ21vdmUnLCB0aGlzLl9vbk1vdmVUcmFjaywgdGhpcyk7XG4gICAgdHJhY2sub24oJ2NoYW5nZS5oZWlnaHQnLCB0aGlzLl9vbkNoYW5nZVRyYWNrSGVpZ2h0LCB0aGlzKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbnQoY29udGVudCwgcGFyZW50KSB7XG5cbiAgICAgICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkZS5zdHlsZS5oZWlnaHQgPSB0cmFjay5oZWlnaHQgKyAncHgnO1xuICAgICAgICBkZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICBkZS5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRlKTtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxufTtcblxucC5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgaWYgKCFfLmluY2x1ZGUodGhpcy5fdHJhY2tzLCB0cmFjaykpIHJldHVybjtcblxuICAgIGFtLmhpc3Rvcnkuc2F2ZSh7XG4gICAgICAgIHVuZG86ICgpID0+IHRoaXMuYWRkVHJhY2sodHJhY2spLFxuICAgICAgICByZWRvOiAoKSA9PiB0aGlzLnJlbW92ZVRyYWNrKHRyYWNrKSxcbiAgICAgICAgbmFtZTogJ3JlbW92ZSB0cmFjaycsXG4gICAgfSk7XG5cbiAgICB0cmFjay5zbGVlcCgpO1xuICAgIHRyYWNrLnBhcmVudFRpbWVsaW5lID0gdW5kZWZpbmVkO1xuXG4gICAgXy5wdWxsKHRoaXMuX3RyYWNrcywgdHJhY2spO1xuXG4gICAgdmFyIHRyYWNrRGF0YSA9IHRoaXMuX21hcFRyYWNrRGF0YXMuZ2V0KHRyYWNrKTtcbiAgICAkKHRyYWNrRGF0YS5kZUNvbnRPcHQpLnJlbW92ZSgpO1xuICAgICQodHJhY2tEYXRhLmRlQ29udEtmKS5yZW1vdmUoKTtcbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzLmRlbGV0ZSh0cmFjayk7XG5cbiAgICB0cmFjay5vZmYoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0VHJhY2ssIHRoaXMpO1xuICAgIHRyYWNrLm9mZignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZVRyYWNrS2V5cywgdGhpcyk7XG4gICAgdHJhY2sub2ZmKCduZWVkLnJlbW92ZScsIHRoaXMuX29uVHJhY2tOZWVkUmVtb3ZlLCB0aGlzKTtcbiAgICB0cmFjay5vZmYoJ21vdmUnLCB0aGlzLl9vbk1vdmVUcmFjaywgdGhpcyk7XG4gICAgdHJhY2sub2ZmKCdjaGFuZ2UuaGVpZ2h0JywgdGhpcy5fb25DaGFuZ2VUcmFja0hlaWdodCwgdGhpcyk7XG59O1xuXG5wLm1vdmVUcmFjayA9IGZ1bmN0aW9uICh0cmFjaywgd2F5KSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fdHJhY2tzLmluZGV4T2YodHJhY2spO1xuXG4gICAgdGhpcy5fdHJhY2tzLnNwbGljZShpZHgsIDEpO1xuICAgIGlkeCA9IE1hdGgubWluKHRoaXMuX3RyYWNrcy5sZW5ndGgsIE1hdGgubWF4KDAsIGlkeCArIHdheSkpO1xuICAgIHRoaXMuX3RyYWNrcy5zcGxpY2UoaWR4LCAwLCB0cmFjayk7XG5cbiAgICB0aGlzLl9yZWZyZXNoVHJhY2tPcmRlcmluZygpO1xufTtcblxucC5wbGF5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzUGxheWluZykgcmV0dXJuO1xuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9idG5Ub2dnbGVQbGF5LnNldFRvZ2dsZSh0cnVlKTtcblxuICAgIF8uaW52b2tlKHRoaXMuX3RyYWNrcywgJ3BsYXknLCB0aGlzLmN1cnJUaW1lKTtcblxuICAgIHRoaXMuX3BsYXlTdGFydFRpbWVTdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMuX3BsYXlTdGFydEN1cnJUaW1lID0gdGhpcy5jdXJyVGltZTtcbiAgICB0aGlzLl9hbmltUGxheSgpO1xufTtcblxucC5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5faXNQbGF5aW5nKSByZXR1cm47XG4gICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9idG5Ub2dnbGVQbGF5LnNldFRvZ2dsZShmYWxzZSk7XG5cbiAgICBfLmludm9rZSh0aGlzLl90cmFja3MsICdwYXVzZScpO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5UmFmaWQpO1xufTtcblxucC5zY3JlZW5YVG9UaW1lID0gZnVuY3Rpb24gKHNjcmVlblgpIHtcblxuICAgIHJldHVybiB0aGlzLl90aW1lYmFyLnNjcmVlblhUb1RpbWUoc2NyZWVuWCk7XG59O1xuXG5wLnRpbWVUb1JlbmRlclBvcyA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gKHRpbWUgKyB0aGlzLnN0YXJ0KSAqIHRoaXMudGltZXNjYWxlO1xufTtcblxucC50aW1lVG9TY3JlZW5YID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHRoaXMudGltZVRvUmVuZGVyUG9zKHRpbWUpO1xufTtcblxuXG5cblxuXG5cblxucC5fYW5pbVBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9hbmltUGxheVJhZmlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltUGxheSk7XG5cbiAgICB2YXIgdCA9IE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9wbGF5U3RhcnRUaW1lU3RhbXApO1xuICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSAodGhpcy5fcGxheVN0YXJ0Q3VyclRpbWUgKyB0KSAlIHRoaXMuX3RpbWViYXIubGVuZ3RoO1xufTtcblxucC5fb25UaW1lYmFyU2VlayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMucGF1c2UoKTtcbn07XG5cbnAuX29uU2VsZWN0VHJhY2sgPSBmdW5jdGlvbih0cmFjaykge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJUcmFjayA9PT0gdHJhY2spXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0aGlzLl9jdXJyVHJhY2spIHtcblxuICAgICAgICB0aGlzLl9jdXJyVHJhY2suZGVzZWxlY3QoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sgPSB0cmFjaztcblxuICAgIGFtLnNldEN1cnJUcmFjayh0cmFjayk7XG59O1xuXG5wLl9vbkNoYW5nZVRyYWNrS2V5cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaE1hZ25ldFBvaW50cygpO1xufTtcblxucC5fb25UcmFja05lZWRSZW1vdmUgPSBmdW5jdGlvbiAodHJhY2spIHtcblxuICAgIHRoaXMucmVtb3ZlVHJhY2sodHJhY2spO1xufTtcblxucC5fb25Nb3ZlVHJhY2sgPSBmdW5jdGlvbiAodHJhY2ssIHdheSkge1xuXG4gICAgdGhpcy5tb3ZlVHJhY2sodHJhY2ssIHdheSk7XG59O1xuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoUG9pbnRlckxpbmUoKTtcblxuICAgIHRoaXMuX3JlZnJlc2hEZUN1cnJUaW1lKCk7XG59O1xuXG5wLl9vbkNoYW5nZVRhcGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyB2YXIgbGVmdCA9ICh0aGlzLl90aW1lYmFyLnN0YXJ0ICogdGhpcy50aW1lc2NhbGUpO1xuXG4gICAgLy8gdGhpcy5fZGVLZXlMaW5lQ29udC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgLy8gdGhpcy5fZGVLZXlMaW5lQ29udC5zdHlsZS53aWR0aCA9ICdjYWxjKDEwMCUgKyAnICsgKC1sZWZ0KSArICdweCknO1xuXG4gICAgdGhpcy5fcmVmcmVzaFBvaW50ZXJMaW5lKCk7XG59O1xuXG5wLl9vbkNoYW5nZVRyYWNrSGVpZ2h0ID0gZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICB2YXIgaCA9IHRyYWNrLmhlaWdodCxcbiAgICAgICAgdHJhY2tEYXRhID0gdGhpcy5fbWFwVHJhY2tEYXRhcy5nZXQodHJhY2spO1xuXG4gICAgdHJhY2tEYXRhLmRlQ29udE9wdC5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICB0cmFja0RhdGEuZGVDb250S2Yuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG59O1xuXG5wLl9vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hUaW1lYmFyV2lkdGgoKTtcbn07XG5cbnAuX29uVG9nZ2xlUGxheVBhdXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0ucmVwb3J0KHtldnROYW1lOiAnX29uVG9nZ2xlUGxheVBhdXNlJywgdmFsdWU6IDJ9KTtcblxuICAgIGlmICh0aGlzLl9pc1BsYXlpbmcpIHtcblxuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG59O1xuXG5wLl9vblNlbGVjdE5ld1RyYWNrID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBhZGRUcmFjayA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cbiAgICAgICAgdmFyIFRyYWNrQ2xhc3MgPSBhbS50cmFja1R5cGVzW3R5cGVdO1xuXG4gICAgICAgIHRoaXMuYWRkVHJhY2sobmV3IFRyYWNrQ2xhc3Moe30sIHRoaXMpKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBzd2l0Y2ggKGUuZGV0YWlsLnNlbGVjdGlvbikge1xuXG4gICAgICAgIGNhc2UgJ2Nzcyc6XG4gICAgICAgICAgICBhZGRUcmFjaygnY3NzX3RyYWNrX3R5cGUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG5cbiAgICB9XG59O1xuXG5wLl9vblN0YXJ0RWRpdEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUudmFsdWUgPSB0aGlzLmN1cnJUaW1lO1xuXG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUuZm9jdXMoKTtcbn07XG5cbnAuX29uRmluaXNoRWRpdEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufTtcblxucC5fb25DaGFuZ2VJbnBDdXJyVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSB0aGlzLl9pbnBDdXJyVGltZS52YWx1ZTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaFRyYWNrT3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl90cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICB2YXIgdHJhY2tEYXRhID0gdGhpcy5fbWFwVHJhY2tEYXRhcy5nZXQodHJhY2spO1xuXG4gICAgICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQuYXBwZW5kQ2hpbGQodHJhY2tEYXRhLmRlQ29udE9wdCk7XG4gICAgICAgIHRoaXMuX2RlS2V5TGluZUNvbnQuYXBwZW5kQ2hpbGQodHJhY2tEYXRhLmRlQ29udEtmKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX3JlZnJlc2hNYWduZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgbWFnbmV0UG9pbnRzID0gW107XG5cbiAgICB0aGlzLl90cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICBpZiAodHlwZW9mIHRyYWNrLmdldE1hZ25ldFBvaW50cyA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICBtYWduZXRQb2ludHMgPSBtYWduZXRQb2ludHMuY29uY2F0KHRyYWNrLmdldE1hZ25ldFBvaW50cygpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWFnbmV0UG9pbnRzID0gXy51bmlxKG1hZ25ldFBvaW50cyk7XG5cbiAgICB0aGlzLl90aW1lYmFyLm1hZ25ldFBvaW50cyA9IG1hZ25ldFBvaW50cztcbn07XG5cbnAuX3JlZnJlc2hUaW1lYmFyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl90aW1lYmFyLndpZHRoID0gdGhpcy5fZGVSaWdodC5vZmZzZXRXaWR0aDtcbn07XG5cbnAuX3JlZnJlc2hQb2ludGVyTGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBjYW52YXMgPSB0aGlzLl9kZVBvaW50ZXJMaW5lLFxuICAgICAgICBjdHggPSB0aGlzLl9kZVBvaW50ZXJMaW5lQ3R4O1xuXG4gICAgY2FudmFzLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIHZhciBsZWZ0ID0gKHRoaXMuX3RpbWViYXIuc3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAqIHRoaXMudGltZXNjYWxlO1xuICAgIGxlZnQgPSBwYXJzZUludChsZWZ0KSArIDAuNTtcblxuICAgIGN0eC5zdHJva2VTdHlsZSA9IGFtZ3VpLmNvbG9yLnJlZDtcbiAgICBjdHgubW92ZVRvKGxlZnQsIDApO1xuICAgIGN0eC5saW5lVG8obGVmdCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgLy8gdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgbGVmdCArICdweCknO1xuICAgIC8vIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudmlzaWJpbGl0eSA9IGxlZnQgPCAwID8gJ2hpZGRlbicgOiAnJztcbn07XG5cbnAuX3JlZnJlc2hEZUN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRpbWUgPSB0aGlzLmN1cnJUaW1lLFxuICAgICAgICBtaW4sIHNlYywgbXMsIHN0ciAgPSAnJztcblxuICAgIG1pbiA9IH5+KHRpbWUgLyA2MDAwMCk7XG4gICAgdGltZSAlPSA2MDAwMDtcbiAgICBzZWMgPSB+fih0aW1lIC8gMTAwMCk7XG4gICAgdGltZSAlPSAxMDAwO1xuICAgIG1zID0gfn50aW1lO1xuXG4gICAgaWYgKG1pbikge1xuICAgICAgICBzdHIgKz0gbWluICsgJzonO1xuICAgICAgICBzZWMgPSAoJzAwJyArIHNlYykuc3Vic3RyKC0yKTtcbiAgICB9XG4gICAgaWYgKHNlYykge1xuICAgICAgICBzdHIgKz0gc2VjICsgJy4nO1xuICAgICAgICBtcyA9ICgnMDAwJyArIG1zKS5zdWJzdHIoLTMpO1xuICAgIH1cbiAgICBzdHIgKz0gbXM7XG4gICAgdGhpcy5fZGVDdXJyVGltZS50ZXh0Q29udGVudCA9IHN0cjtcbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgdGhpcy5fZGVMZWZ0ID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5fZGVMZWZ0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgIHRoaXMuX2RlTGVmdC5zdHlsZS53aWR0aCA9ICczMDBweCc7XG4gICAgdGhpcy5fZGVMZWZ0LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVMZWZ0KTtcblxuICAgIHRoaXMuX2NyZWF0ZVNldHRpbmdzSGVhZCgpO1xuXG4gICAgdGhpcy5fZGVEaXZpZGVyID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5fZGVEaXZpZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICB0aGlzLl9kZURpdmlkZXIuc3R5bGUud2lkdGggPSAnMXB4JztcbiAgICB0aGlzLl9kZURpdmlkZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZURpdmlkZXIpO1xuXG4gICAgdGhpcy5fZGVSaWdodCA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5fZGVSaWdodC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlUmlnaHQpO1xuXG4gICAgdGhpcy5fdGltZWJhci5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcyM3B4JztcbiAgICB0aGlzLl9kZVJpZ2h0LmFwcGVuZENoaWxkKHRoaXMuX3RpbWViYXIuZG9tRWxlbSk7XG5cbiAgICAvL2tlZXBzIHRoZSBzY3JvbGwgYmFyIGFuZCB0aGUgc2Nyb2xsIGNvbnRhaW5lcihfZGVLZXlMaW5lQ29udDIpXG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDMgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMuX2RlUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fZGVLZXlMaW5lQ29udDMpO1xuXG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB0aGlzLl9kZUxlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVPcHRpb25MaW5lQ29udDIpO1xuXG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDIgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250Mi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDIuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5hcHBlbmRDaGlsZCh0aGlzLl9kZUtleUxpbmVDb250Mik7XG5cbiAgICAvL3RoaXMgY29udGFpbmVyIGlzIG1vdmluZyB3aXRoIHRoZSB0aW1lbGluZVxuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQyLmFwcGVuZENoaWxkKHRoaXMuX2RlS2V5TGluZUNvbnQpO1xuXG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udCA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQyLmFwcGVuZENoaWxkKHRoaXMuX2RlT3B0aW9uTGluZUNvbnQpO1xuXG4gICAgdGhpcy5fZGVSYW5nZSA9IGFtZ3VpLmNyZWF0ZVJhbmdlKHtcbiAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVLZXlMaW5lQ29udDMsXG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogW3RoaXMuX2RlT3B0aW9uTGluZUNvbnQyLCB0aGlzLl9kZUtleUxpbmVDb250M10sXG4gICAgICAgIGRlVGFyZ2V0OiBbdGhpcy5fZGVPcHRpb25MaW5lQ29udCwgdGhpcy5fZGVLZXlMaW5lQ29udF0sXG4gICAgICAgIGRlUmFuZ2U6IHRoaXMuX2RlUmFuZ2VcbiAgICB9KTtcblxuICAgIHRoaXMuX2NyZWF0ZURpdmlkZXJIYW5kbGVyKCk7XG59O1xuXG5cbnAuX2NyZWF0ZVNldHRpbmdzSGVhZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2RhcmtncmVleSc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVMZWZ0LmFwcGVuZENoaWxkKHRoaXMuX2RlU2V0dGluZ3NIZWFkKTtcbiAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5fZGVTZXR0aW5nc0hlYWR9KTtcblxuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhci5kb21FbGVtKTtcblxuICAgIHRoaXMuX2J0bk5ld1RyYWNrID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdhZGQgbmV3IHRyYWNrJyxcbiAgICAgICAgaWNvbjogJ3BsdXMtc3F1YXJlZCcsXG4gICAgICAgIHNpemU6IHRoaXMuX2hlYWRlckgsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIH0pO1xuICAgIHRoaXMudG9vbGJhci5hZGRJY29uKHtkZUljb246IHRoaXMuX2J0bk5ld1RyYWNrfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fYnRuTmV3VHJhY2ssXG4gICAgICAgIGRlTWVudTogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogWydjc3MnLCAnanMnLCAnYXR0cmlidXRlJywgJ21lZGlhJywgJ3RpbWVsaW5lJywgJ3RocmVlLmpzJywgJ3BpeGkuanMnLCAnZWFzZWwuanMnLCAna2luZXRpYy5qcycsICdyYXBoYWVsLmpzJywgJ3NuYXAuanMnXSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLl9vblNlbGVjdE5ld1RyYWNrLFxuICAgICAgICB9KSxcbiAgICB9KTtcblxuXG4gICAgdGhpcy5fYnRuRWRpdFRyaWdnZXJzID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdzZXQgdGltZWxpbmUgdHJpZ2dlcnMnLFxuICAgICAgICBpY29uOiAnZ2FtZXBhZCcsXG4gICAgICAgIHNpemU6IHRoaXMuX2hlYWRlckgsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnRyaWdnZXJNYXAuc2hvd0VkaXRvcigpLFxuICAgIH0pO1xuICAgIHRoaXMudG9vbGJhci5hZGRJY29uKHtcbiAgICAgICAgZGVJY29uOiB0aGlzLl9idG5FZGl0VHJpZ2dlcnMsXG4gICAgfSk7XG5cblxuICAgIHRoaXMuX2J0blRvZ2dsZVBsYXkgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3BsYXkvcGF1c2UgcHJldmlldycsXG4gICAgICAgIGljb25PbjogJ3BhdXNlJyxcbiAgICAgICAgaWNvbk9mZjogJ3BsYXknLFxuICAgICAgICBzaXplOiB0aGlzLl9oZWFkZXJILFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25Ub2dnbGVQbGF5UGF1c2VcbiAgICB9KTtcbiAgICB0aGlzLnRvb2xiYXIuYWRkSWNvbih7XG4gICAgICAgIGRlSWNvbjogdGhpcy5fYnRuVG9nZ2xlUGxheSxcbiAgICAgICAgc2VwYXJhdG9yOiAnY29udHJvbGxzJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlQ3VyclRpbWUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU2V0dGluZ3NIZWFkXG4gICAgfSk7XG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUubWFyZ2luUmlnaHQgPSAnMnB4JztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IuYmczO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblN0YXJ0RWRpdEN1cnJUaW1lKTtcblxuICAgIHRoaXMuX2lucEN1cnJUaW1lID0gYW1ndWkuY3JlYXRlSW5wdXQoe1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZVNldHRpbmdzSGVhZFxuICAgIH0pO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzJweCc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uRmluaXNoRWRpdEN1cnJUaW1lKTtcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUlucEN1cnJUaW1lKTtcbn07XG5cbnAuX2NyZWF0ZURpdmlkZXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUudG9wID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlci5zdHlsZS5sZWZ0ID0gdGhpcy5fZGVMZWZ0LnN0eWxlLndpZHRoO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUud2lkdGggPSAnMXB4JztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmhlaWdodCA9ICdjYWxjKDEwMCUgLSAnICsgdGhpcy5faGVhZGVySCArICdweCknO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMXB4KSBzY2FsZVgoMyknO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRGl2aWRlckhhbmRsZXIpO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG5cbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlRGl2aWRlckhhbmRsZXIsXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG5cbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBsZWZ0ID0gbXggLSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICdweCc7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlTGVmdC5zdHlsZS53aWR0aCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmxlZnQgPSBsZWZ0O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoVGltZWJhcldpZHRoKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbnAuX2NyZWF0ZVBvaW50ZXJMaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVQb2ludGVyTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudG9wID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5fZGVSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXJMaW5lKTtcblxuICAgIHRoaXMuX2RlUG9pbnRlckxpbmVDdHggPSB0aGlzLl9kZVBvaW50ZXJMaW5lLmdldENvbnRleHQoJzJkJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbHMvRGlhbG9nJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBBQ1RJT05TID0gW3tcbiAgICBtZXRob2Q6ICdwbGF5JyxcbiAgICBhcmd1bWVudHM6IFt7dHlwZTogJ251bWJlcid9LCB7fV0sXG59XTtcblxuZnVuY3Rpb24gVHJpZ2dlck1hcCgpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fdHJpZ2dlcnMgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZUVkaXREaWFsb2coKTtcbn1cblxuaW5oZXJpdHMoVHJpZ2dlck1hcCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVHJpZ2dlck1hcC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRyaWdnZXJNYXA7XG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLl90cmlnZ2Vycyk7XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCFzYXZlKSB0aHJvdyBFcnJvcjtcblxuICAgIHRoaXMuX3RyaWdnZXJzID0gXy5jbG9uZURlZXAodGhpcy5fdHJpZ2dlcnMpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuZ2V0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgXy5mb3JFYWNoKHRoaXMuX3RyaWdnZXJzLCB0cmlnZ2VyID0+IHtcblxuICAgICAgICBsZXQgYWRkLFxuICAgICAgICAgICAgYXJncyA9IF8ucGx1Y2sodHJpZ2dlci5hY3Rpb24uYXJndW1lbnQsICd2YWx1ZScpLmpvaW4oJywgJyksXG4gICAgICAgICAgICBhY3Rpb24gPSBgZnVuY3Rpb24gKCkge3RsLiR7dHJpZ2dlci5hY3Rpb24ubWV0aG9kfSgke2FyZ3N9KX1gO1xuXG4gICAgICAgIGlmICh0cmlnZ2VyLnR5cGUgPT09ICdqUXVlcnknKSB7XG5cbiAgICAgICAgICAgIGFkZCA9IGAkKCR7dHJpZ2dlci50YXJnZXRzfSkub25gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyaWdnZXIudHlwZSA9PT0gJ1JldmVhbC5qcycpIHtcblxuICAgICAgICAgICAgYWRkID0gJ1JldmVhbC5hZGRFdmVudExpc3RlbmVyJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldC5wdXNoKGAke2FkZH0oJHt0cmlnZ2VyLmV2ZW50c30sICR7YWN0aW9ufSk7YCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0LmpvaW4oJ1xcbicpO1xufTtcblxucC5zaG93RWRpdG9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZWRpdERpYWxvZy5zaG93KCk7XG59O1xuXG5wLmFkZFRyaWdnZXIgPSBmdW5jdGlvbiAodHJpZ2dlcikge1xuXG4gICAgdHJpZ2dlciA9IHRyaWdnZXIgfHwgdGhpcy5fY3JlYXRlVHJpZ2dlcigpO1xuXG4gICAgdGhpcy5fdHJpZ2dlcnMucHVzaCh0cmlnZ2VyKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG5cbiAgICByZXR1cm4gdHJpZ2dlcjtcbn07XG5cbnAucmVtb3ZlVHJpZ2dlciA9IGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fdHJpZ2dlcnMuaW5kZXhPZih0cmlnZ2VyKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuICAgIHRoaXMudHJpZ2dlcnMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5fY3JlYXRlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdqUXVlcnknLFxuICAgICAgICBuYW1lOiAnbXlUcmlnZ2VyJyxcbiAgICAgICAgZXZlbnRzOiBbJ2NsaWNrJ10sXG4gICAgICAgIHRhcmdldHM6IFsnI3NlbGVjdG9yJ10sXG4gICAgICAgIGFjdGlvbnM6IFt7bWV0aG9kOiAncGxheScsIGFyZ3VtZW50czogW119XSxcbiAgICB9O1xufTtcblxucC5fY3JlYXRlRWRpdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHt0aXRsZTogJ1RyaWdnZXJNYXAgKFdJUCknfSlcbiAgICAgICAgICAgIC5hZGRCdXR0b24oJ29rJywgJ2hpZGUnKSxcbiAgICAgICAgZGVDb250ID0gZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgY3VyclRyaWdnZXI7XG5cbiAgICB0aGlzLl9lZGl0RGlhbG9nID0gZGlhbG9nO1xuXG4gICAgdmFyIHNlbGVjdFRyaWdnZXIgPSB0cmlnZ2VyID0+IHtcblxuICAgICAgICBpZiAoIXRyaWdnZXIpIHJldHVybjtcblxuICAgICAgICBjdXJyVHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIG9wdE5hbWUuaW5wdXRzLmlucHV0LnZhbHVlID0gY3VyclRyaWdnZXIubmFtZTtcbiAgICAgICAgb3B0VHlwZS5pbnB1dHMuaW5wdXQudmFsdWUgPSBjdXJyVHJpZ2dlci5ldmVudHNbMF07XG4gICAgICAgIG9wdEV2ZW50LmlucHV0cy5pbnB1dC52YWx1ZSA9IGN1cnJUcmlnZ2VyLmV2ZW50c1swXTtcbiAgICAgICAgb3B0U2VsZWN0b3IuaW5wdXRzLmlucHV0LnZhbHVlID0gY3VyclRyaWdnZXIuc2VsZWN0b3JzWzBdO1xuICAgICAgICBvcHRNZXRob2QuaW5wdXRzLm1ldGhvZC52YWx1ZSA9IGN1cnJUcmlnZ2VyLmFjdGlvbnNbMF0ubWV0aG9kO1xuICAgICAgICBvcHRNZXRob2QuaW5wdXRzLmFyZ3VtZW50cy52YWx1ZSA9IGN1cnJUcmlnZ2VyLmFjdGlvbnNbMF0uYXJndW1lbnRzWzBdO1xuICAgIH07XG5cbiAgICBhbWd1aS5jcmVhdGVCdG4oe1xuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgdGV4dDogJ25ldyB0cmlnZ2VyJyxcbiAgICAgICAgb25DbGljazogKCkgPT4gc2VsZWN0VHJpZ2dlcih0aGlzLmFkZFRyaWdnZXIoKSksXG4gICAgfSk7XG5cbiAgICB2YXIgcmVmcmVzaFRyaWdnZXJMaXN0ID0gKCkgPT4gZGVUcmlnZ2VyTGlzdC5zZXRJdGVtcyhfLnBsdWNrKHRoaXMuX3RyaWdnZXJzLCBuYW1lKSk7XG4gICAgdmFyIGRlVHJpZ2dlckxpc3QgPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIHBhcmVudDogZGVDb250LFxuICAgICAgICBvblNlbGVjdDogZSA9PiBzZWxlY3RUcmlnZ2VyKF8uZmluZCh0aGlzLl90cmlnZ2Vycywge25hbWU6IGUuZGV0YWlsLnNlbGVjdGlvbn0pKSxcbiAgICB9KTtcbiAgICByZWZyZXNoVHJpZ2dlckxpc3QoKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZWZyZXNoVHJpZ2dlckxpc3QpO1xuXG4gICAgdmFyIG9wdE5hbWUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnbmFtZTonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICd0aGUgbmFtZSBvZiB0aGUgdHJpZ2dlcicsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdteVRyaWdnZXInLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIubmFtZSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdFR5cGUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAndHlwZTonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIudHlwZSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFsnalF1ZXJ5JywgJ3JldmVhbC5qcyddLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICB2YXIgb3B0RXZlbnQgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnZXZlbnQ6JyxcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAndGhlIG5hbWUgb2YgdGhlIGV2ZW50JyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ2NsaWNrJyxcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiAnY2xpY2ssbW91c2Vkb3duLG1vdXNldXAsbW91c2VvdmVyLG1vdXNlb3V0LHJlYWR5LG1vdXNlZW50ZXIsbW91c2VsZWF2ZSxjaGFuZ2UnLnNwbGl0KCcsJyksXG4gICAgICAgICAgICBvbkNoYW5nZTogdiA9PiBjdXJyVHJpZ2dlci5ldmVudHNbMF0gPSB2LFxuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIHZhciBvcHRTZWxlY3RvciA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdzZWxlY3RvcjonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICd0aGUgR1NBUCBUaW1lbGluZU1heCBtZXRob2QgbmFtZScsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcjc2VsZWN0b3InLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIudGFyZ2V0c1swXSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdE1ldGhvZCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdhY3Rpb246JyxcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAndGhlIEdTQVAgVGltZWxpbmVNYXggbWV0aG9kIG5hbWUnLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAncGxheScsXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogXy5wbHVjayhBQ1RJT05TLCAnbWV0aG9kJyksXG4gICAgICAgICAgICBvbkNoYW5nZTogdiA9PiBjdXJyVHJpZ2dlci5hY3Rpb25zWzBdLm1ldGhvZCA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdtZXRob2QnLFxuICAgICAgICB9LHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnY29tbWEgc2VsZWN0ZWQgYXJndW1lbnRzJyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJzAnLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIuYWN0aW9uc1swXS5hcmd1bWVudHNbMF0gPSB2LFxuICAgICAgICAgICAgbmFtZTogJ2FyZ3VtZW50cycsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY3JlYXRlQnRuKHtcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIHRleHQ6ICdyZW1vdmUgdHJpZ2dlcicsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVHJpZ2dlcihjdXJyVHJpZ2dlcik7XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5cbmZ1bmN0aW9uIGRlY29yVGltZWJhck5hdmlnYXRvciAodGltZWJhcikge1xuXG4gICAgdmFyIGRlTmF2LCBkZUNvbG9yLCBkZUxlZnRIYW5kLCBkZVJpZ2h0SGFuZCwgZHJhZ01vZGU7XG4gICAgXG4gICAgY3JlYXRlQmFzZSgpO1xuICAgIHRpbWViYXIuZG9tRWxlbS5hcHBlbmRDaGlsZChkZU5hdik7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlTmF2LFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVMZWZ0SGFuZCkgZHJhZ01vZGUgPSAnc3RhcnQnO1xuICAgICAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQgPT09IGRlUmlnaHRIYW5kKSBkcmFnTW9kZSA9ICdlbmQnO1xuICAgICAgICAgICAgZWxzZSBkcmFnTW9kZSA9ICdtb3ZlJztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGltZWJhci5zdGFydCxcbiAgICAgICAgICAgICAgICB2aXNpYmxlVGltZTogdGltZWJhci52aXNpYmxlVGltZSxcbiAgICAgICAgICAgICAgICB0aW1lc2NhbGU6IHRpbWViYXIudGltZXNjYWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBzY2FsZSA9IHRpbWViYXIud2lkdGggLyB0aW1lYmFyLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtb3ZlID0gKG14IC0gbWQubXgpIC8gc2NhbGUsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBtZC5zdGFydCAtIG1vdmU7XG5cbiAgICAgICAgICAgIGlmIChkcmFnTW9kZSA9PT0gJ21vdmUnKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ3N0YXJ0Jykge1xuXG4gICAgICAgICAgICAgICAgdGltZWJhci5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSAtIG1vdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ2VuZCcpIHtcblxuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSArIG1vdmU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWRQb3MgPSAobWQuc3RhcnQgKyB0aW1lYmFyLmN1cnJUaW1lKSAqIG1kLnRpbWVzY2FsZTtcbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gLSgodGltZWJhci5jdXJyVGltZSAqIHRpbWViYXIudGltZXNjYWxlKSAtIG1kUG9zKSAvIHRpbWViYXIudGltZXNjYWxlO1xuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9LFxuICAgICAgICBvblVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRyYWdNb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25NTGVhdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBkZUNvbG9yLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVkoMSknO1xuICAgICAgICAgICAgZGVDb2xvci5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iuc2VsZWN0ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTGVhdmU6IG9uTUxlYXZlXG4gICAgfSk7XG5cbiAgICB0aW1lYmFyLm9uKCdjaGFuZ2VUYXBlJywgb25DaGFuZ2VUYXBlKTtcblxuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VUYXBlKCkge1xuXG4gICAgICAgIHZhciBzY2FsZSA9IHRpbWViYXIud2lkdGggLyB0aW1lYmFyLmxlbmd0aDtcblxuICAgICAgICBkZU5hdi5zdHlsZS5sZWZ0ID0gKCgtdGltZWJhci5zdGFydCAqIHNjYWxlKSArIHRpbWViYXIuX3N0YXJ0TWFyZ2luKSArICdweCc7XG4gICAgICAgIGRlTmF2LnN0eWxlLndpZHRoID0gKHRpbWViYXIudmlzaWJsZVRpbWUgKiBzY2FsZSkgKyAncHgnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTUxlYXZlKCkge1xuXG4gICAgICAgIGlmICghZHJhZ01vZGUpIHtcbiAgICAgICAgICAgIGRlQ29sb3Iuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWSgwLjQpJztcbiAgICAgICAgICAgIGRlQ29sb3Iuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2UgKCkge1xuXG4gICAgICAgIGRlTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlTmF2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVOYXYuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIGRlTmF2LnN0eWxlLmhlaWdodCA9ICc3cHgnO1xuICAgICAgICBkZU5hdi5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG5cbiAgICAgICAgZGVDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZUNvbG9yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVDb2xvci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZGVDb2xvci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIGRlQ29sb3Iuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRlQ29sb3Iuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkZUNvbG9yLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdjZW50ZXIgdG9wJztcbiAgICAgICAgZGVOYXYuYXBwZW5kQ2hpbGQoZGVDb2xvcik7XG5cbiAgICAgICAgZGVSaWdodEhhbmQgPSBjcmVhdGVIYW5kbGVyKCdyaWdodCcpO1xuICAgICAgICBkZUxlZnRIYW5kID0gY3JlYXRlSGFuZGxlcignbGVmdCcpO1xuICAgICAgICBvbk1MZWF2ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXIoc2lkZSkge1xuXG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlLnN0eWxlW3NpZGVdID0gJzBweCc7XG4gICAgICAgIGRlLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICBkZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzglJztcbiAgICAgICAgZGUuc3R5bGUubWluV2lkdGggPSAnMXB4JztcbiAgICAgICAgZGUuc3R5bGUubWF4V2lkdGggPSAnN3B4JztcbiAgICAgICAgZGUuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgICAgIGRlTmF2LmFwcGVuZENoaWxkKGRlKTtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29yVGltZWJhck5hdmlnYXRvcjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiKGZ1bmN0aW9uICgpIHtcXG4gICAgdmFyIHRyYWNrUGxheWVyR2VucyA9IFt7e3t0cmFja1BsYXllckdlbnN9fX1dO1xcblxcbiAgICB2YXIgcmVnID0ge1xcblxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoaW5wdXRzKSB7XFxuXFxuICAgICAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KHtwYXVzZWQ6IHRydWV9KTtcXG5cXG4gICAgICAgICAgICB0cmFja1BsYXllckdlbnMuZm9yRWFjaChmdW5jdGlvbiAoY3JlYXRlKSB7XFxuXFxuICAgICAgICAgICAgICAgIHRsLmFkZChjcmVhdGUoaW5wdXRzKSwgMCk7XFxuICAgICAgICAgICAgfSk7XFxuXFxuICAgICAgICAgICAgcmV0dXJuIHRsO1xcbiAgICAgICAgfSxcXG4gICAgfTtcXG5cXG4gICAge3sjdHJpZ2dlclNjcmlwdH19XFxuICAgIChmdW5jdGlvbiAoKSB7XFxuXFxuICAgICAgICB2YXIgdGwgPSByZWcuY3JlYXRlKCk7XFxuXFxuICAgICAgICB7e3RyaWdnZXJTY3JpcHR9fVxcbiAgICB9KVxcbiAgICB7ey90cmlnZ2VyU2NyaXB0fX0vL1xcblxcbiAgICByZXR1cm4gcmVnO1xcbn0oKSlcXG5cIjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gVG9vbGJhcihvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5faGVpZ2h0ID0gb3B0LmhlaWdodCB8fCAyNDtcbiAgICB0aGlzLl9pY29ucyA9IFtdO1xuICAgIHRoaXMuX3NlcGFyYXRvcnMgPSB7fTtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG9wdC5iZ0NvbG9yIHx8IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gdGhpcy5faGVpZ2h0ICsgJ3B4JztcblxuICAgIHRoaXMuYWRkU2VwYXJhdG9yKHtuYW1lOiAnZmlyc3QnfSk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3Ioe25hbWU6ICd0b29scyd9KTtcbiAgICB0aGlzLmFkZFNlcGFyYXRvcih7bmFtZTogJ2hhbmRsZXInfSk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3Ioe25hbWU6ICdnbG9iYWwnfSk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3Ioe25hbWU6ICdyZXN0J30pO1xuICAgIHRoaXMuYWRkU2VwYXJhdG9yKHtuYW1lOiAnY29udHJvbHMnLCBmbGV4OiAxfSk7XG59XG5cbmluaGVyaXRzKFRvb2xiYXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRvb2xiYXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUb29sYmFyO1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuICAgIGhlaWdodDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5wLmFkZEljb24gPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoXy5pc0FycmF5KG9wdCkpIHtcblxuICAgICAgICByZXR1cm4gb3B0LmZvckVhY2gobyA9PiB0aGlzLmFkZEljb24obykpO1xuICAgIH1cblxuICAgIHZhciBkZUljb247XG5cbiAgICBpZiAoXy5pc0VsZW1lbnQob3B0KSkge1xuXG4gICAgICAgIGRlSWNvbiA9IG9wdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoXy5pc0VsZW1lbnQob3B0LmRlSWNvbikpIHtcblxuICAgICAgICBkZUljb24gPSBvcHQuZGVJY29uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVJY29uID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBzaXplOiB0aGlzLl9oZWlnaHQsXG4gICAgICAgICAgICBpY29uOiBvcHQuaWNvbixcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9wdC5vbkNsaWNrXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQudG9vbHRpcCkge1xuXG4gICAgICAgIGFtZ3VpLmFkZFRvb2x0aXAoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IGRlSWNvbixcbiAgICAgICAgICAgIHRleHQ6IG9wdC50b29sdGlwLFxuICAgICAgICAgICAgc2lkZTogJ2JvdHRvbSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVJY29uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICB0aGlzLmRvbUVsZW0uaW5zZXJ0QmVmb3JlKGRlSWNvbiwgdGhpcy5fc2VwYXJhdG9yc1tvcHQuc2VwYXJhdG9yIHx8ICdyZXN0J10pO1xuXG4gICAgcmV0dXJuIGRlSWNvbjtcbn07XG5cbnAucmVtb3ZlSWNvbiA9IGZ1bmN0aW9uIChkZUljb24pIHtcblxuICAgIGRlSWNvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlSWNvbik7XG59O1xuXG5wLmFkZFNlcGFyYXRvciA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoZGUpO1xuICAgIHRoaXMuX3NlcGFyYXRvcnNbb3B0Lm5hbWVdID0gZGU7XG5cbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkge1xuICAgICAgICBkZS5zdHlsZS5mbGV4ID0gb3B0LmZsZXg7XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBDaGVja2JveElucHV0ID0gcmVxdWlyZSgnLi4vdXRpbHMvQ2hlY2tib3hJbnB1dCcpO1xuXG52YXIgY3NzQW1ndWkgPSByZXF1aXJlKCcuLi9hc3NldHMvZm9udGVsbG8vY3NzL2FtZ3VpLmNzcycpO1xuXG5mdW5jdGlvbiBUb3VyKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbn1cblxuaW5oZXJpdHMoVG91ciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVG91ci5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRvdXI7XG5cbnAuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbml0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pbml0ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fY2FsbFJ1bm5pbmdMb29wID0gdGhpcy5fY2FsbFJ1bm5pbmdMb29wLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9zdGVwcyA9IFtdO1xuICAgIHRoaXMuX2RlUG9pbnRlcnMgPSBbXTtcbiAgICB0aGlzLl9kZUNoZWNrYm94ZXMgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYigndG91cicsIHRoaXMuZG9tRWxlbSk7XG5cbiAgICB0aGlzLnByZXYgPSB0aGlzLnByZXYuYmluZCh0aGlzKTtcbiAgICB0aGlzLm5leHQgPSB0aGlzLm5leHQuYmluZCh0aGlzKTtcbn1cblxucC5zZXR1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cblxuICAgIHZhciBjcmVhdGVDaGVjayA9ICh0b29sdGlwKSA9PiB7XG5cbiAgICAgICAgdmFyIGNiID0gbmV3IENoZWNrYm94SW5wdXQoe1xuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUNoZWNrYm94Q29udCxcbiAgICAgICAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNiLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgY2IuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICdhdXRvJztcblxuICAgICAgICByZXR1cm4gY2I7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0KCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jYWxsUnVubmluZ0xvb3ApO1xuXG5cbiAgICBkYXRhLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcblxuICAgICAgICBzdGVwLmRvbUVsZW0gPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICAgICAgc3RlcC5kb21FbGVtLmlubmVySFRNTCA9IHN0ZXAuY29udGVudDtcbiAgICAgICAgc3RlcC5jaGVja2xpc3QgPSBzdGVwLmNoZWNrbGlzdCA/IHN0ZXAuY2hlY2tsaXN0Lm1hcChjcmVhdGVDaGVjaykgOiBbXTtcblxuICAgICAgICB0aGlzLl9zdGVwcy5wdXNoKHN0ZXApO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5nb3RvKDApO1xufTtcblxucC5uZXh0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX3N0ZXBzLmluZGV4T2YodGhpcy5fY3VyclN0ZXApICsgMTtcbiAgICB0aGlzLmdvdG8oaWR4KTtcbn07XG5cbnAucHJldiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9zdGVwcy5pbmRleE9mKHRoaXMuX2N1cnJTdGVwKSAtIDE7XG4gICAgdGhpcy5nb3RvKGlkeCk7XG59O1xuXG5wLmdvdG8gPSBmdW5jdGlvbiAoaWR4KSB7XG5cbiAgICBpZHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLl9zdGVwcy5sZW5ndGgtMSwgaWR4KSk7XG5cbiAgICB0aGlzLnJlbW92ZUFsbFBvaW50ZXIoKTtcblxuICAgIGlmICh0aGlzLl9jdXJyU3RlcCkge1xuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcnVubmluZ0xvb3BTZXRJKTtcblxuICAgICAgICBpZiAodHlwZW9mKHRoaXMuX2N1cnJTdGVwLm9uQ2xvc2UpID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJTdGVwLm9uQ2xvc2UodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVTdGVwQ29udGVudC5yZW1vdmVDaGlsZCh0aGlzLl9jdXJyU3RlcC5kb21FbGVtKTtcbiAgICAgICAgdGhpcy5fY3VyclN0ZXAuY2hlY2tsaXN0LmZvckVhY2goY2IgPT4gY2IuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jdXJyU3RlcCA9IHRoaXMuX3N0ZXBzW2lkeF07XG5cbiAgICB0aGlzLl9kZVN0ZXBDb250ZW50LmFwcGVuZENoaWxkKHRoaXMuX2N1cnJTdGVwLmRvbUVsZW0pO1xuICAgIHRoaXMuX2N1cnJTdGVwLmNoZWNrbGlzdC5mb3JFYWNoKGNiID0+IGNiLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snKTtcblxuICAgIGlmICh0eXBlb2YodGhpcy5fY3VyclN0ZXAub25SZWFkeSkgPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICB0aGlzLl9jdXJyU3RlcC5vblJlYWR5KHRoaXMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YodGhpcy5fY3VyclN0ZXAucnVubmluZ0xvb3ApID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgdGhpcy5fcnVubmluZ0xvb3BTZXRJID0gc2V0SW50ZXJ2YWwodGhpcy5fY2FsbFJ1bm5pbmdMb29wLCAzMTIpO1xuICAgIH1cblxuICAgIHRoaXMuX2RlU3RhdGUudGV4dENvbnRlbnQgPSAoaWR4KzEpKycvJyt0aGlzLl9zdGVwcy5sZW5ndGgrJyAnKyh0aGlzLl9jdXJyU3RlcC50aXRsZSB8fCAnJyk7XG5cbiAgICB0aGlzLl9yZWZyZXNoQ2hlY2tsaXN0KCk7XG59O1xuXG5wLmNoZWNrSW4gPSBmdW5jdGlvbiAoaWR4LCBzdGVwKSB7XG5cbiAgICB0aGlzLl9jaGVjayhpZHgsIHN0ZXAsIHRydWUpXG59O1xuXG5wLmNoZWNrT3V0ID0gZnVuY3Rpb24gKGlkeCwgc3RlcCkge1xuXG4gICAgdGhpcy5fY2hlY2soaWR4LCBzdGVwLCBmYWxzZSlcbn07XG5cbnAuX2NoZWNrID0gZnVuY3Rpb24gKGlkeCwgc3RlcCwgdmFsKSB7XG5cbiAgICBzdGVwID0gc3RlcCB8fCB0aGlzLl9jdXJyU3RlcDtcbiAgICBpZiAoIXN0ZXApIHJldHVybjtcblxuICAgIHN0ZXAuY2hlY2tsaXN0W2lkeF0udmFsdWUgPSAhIXZhbDtcblxuICAgIHRoaXMuX3JlZnJlc2hDaGVja2xpc3QoKTtcbn07XG5cbnAuaXNDaGVja2VkID0gZnVuY3Rpb24gKGlkeCwgc3RlcCkge1xuXG4gICAgc3RlcCA9IHN0ZXAgfHwgdGhpcy5fY3VyclN0ZXA7XG4gICAgaWYgKCFzdGVwKSByZXR1cm47XG5cbiAgICByZXR1cm4gc3RlcC5jaGVja2xpc3RbaWR4XS52YWx1ZTtcbn07XG5cbnAuYWRkUG9pbnRlciA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBkZVBvaW50ZXIgPSB0aGlzLl9jcmVhdGVUcmlhbmdsZSgpO1xuICAgIHRoaXMuX2RlUG9pbnRlcnMucHVzaChkZVBvaW50ZXIpO1xuXG4gICAgdmFyIHgsIHksIHIsIGJydCA9IG9wdC5kZVRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHN3aXRjaCAob3B0LnNpZGUpIHtcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgeCA9IGJydC5yaWdodDtcbiAgICAgICAgICAgIHkgPSBicnQudG9wICsgYnJ0LmhlaWdodC8yO1xuICAgICAgICAgICAgciA9IDA7XG5cbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHggPSBicnQubGVmdCArIGJydC53aWR0aC8yO1xuICAgICAgICAgICAgeSA9IGJydC5ib3R0b207XG4gICAgICAgICAgICByID0gOTA7XG5cbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB4ID0gYnJ0LmxlZnQ7XG4gICAgICAgICAgICB5ID0gYnJ0LnRvcCArIGJydC5oZWlnaHQvMjtcbiAgICAgICAgICAgIHIgPSAxODA7XG5cbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHggPSBicnQubGVmdCArIGJydC53aWR0aC8yO1xuICAgICAgICAgICAgeSA9IGJydC50b3A7XG4gICAgICAgICAgICByID0gLTkwO1xuICAgIH1cblxuICAgIGRlUG9pbnRlci5zdHlsZS5sZWZ0ID0geCArICdweCdcbiAgICBkZVBvaW50ZXIuc3R5bGUudG9wID0geSArICdweCdcbiAgICBkZVBvaW50ZXIucm90YXRlKHIpO1xuXG4gICAgcmV0dXJuIGRlUG9pbnRlcjtcbn07XG5cbnAucmVtb3ZlUG9pbnRlciA9IGZ1bmN0aW9uIChkZVBvaW50ZXIpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9kZVBvaW50ZXJzLmluZGV4T2YoZGVQb2ludGVyKTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5fZGVQb2ludGVycy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgICBpZiAoZGVQb2ludGVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGRlUG9pbnRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlUG9pbnRlcik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLnJlbW92ZUFsbFBvaW50ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB3aGlsZSAodGhpcy5fZGVQb2ludGVycy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLnJlbW92ZVBvaW50ZXIodGhpcy5fZGVQb2ludGVyc1swXSk7XG4gICAgfVxufTtcblxucC5fY2FsbFJ1bm5pbmdMb29wID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJTdGVwICYmIHRoaXMuX2N1cnJTdGVwLnJ1bm5pbmdMb29wKSB7XG5cbiAgICAgICAgdGhpcy5fY3VyclN0ZXAucnVubmluZ0xvb3AodGhpcyk7XG4gICAgfVxufVxuXG5cblxuXG5cbnAuX3JlZnJlc2hDaGVja2xpc3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2N1cnJTdGVwKSByZXR1cm47XG5cbiAgICB2YXIgYWxsQ2hlY2tlZCA9ICBfLmV2ZXJ5KHRoaXMuX2N1cnJTdGVwLmNoZWNrbGlzdCwgJ3ZhbHVlJyksXG4gICAgICAgIGlzTGFzdCA9IF8ubGFzdCh0aGlzLl9zdGVwcykgPT09IHRoaXMuX2N1cnJTdGVwO1xuXG4gICAgdGhpcy5fYnRuRG9uZS5zdHlsZS52aXNpYmlsaXR5ID0gYWxsQ2hlY2tlZCAmJiAhaXNMYXN0ID8gJycgOiAnaGlkZGVuJztcbn1cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB0aGlzLl9kZUhlYWQgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZUhlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZUhlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVIZWFkLnN0eWxlLmhlaWdodCA9ICcyM3B4JztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVIZWFkKTtcblxuICAgIHRoaXMuX2RlU3RlcENvbnRTY3JvbGwgPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlU3RlcENvbnRTY3JvbGwpO1xuXG4gICAgdGhpcy5fc3JTdGVwQ29udFNjcm9sbCA9IHRoaXMuX2RlU3RlcENvbnRTY3JvbGwuY3JlYXRlU2hhZG93Um9vdCgpO1xuXG4gICAgdGhpcy5fZGVTdGVwQ29udCA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIHRoaXMuX2RlU3RlcENvbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlU3RlcENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fc3JTdGVwQ29udFNjcm9sbC5hcHBlbmRDaGlsZCh0aGlzLl9kZVN0ZXBDb250KTtcblxuICAgIHRoaXMuX2RlU3RlcENvbnRlbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU3RlcENvbnQsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9idG5Eb25lID0gYW1ndWkuY3JlYXRlQnRuKHtcbiAgICAgICAgJ3RleHQnOiAnbmV4dCcsXG4gICAgICAgIGNvbG9yOiBhbWd1aS5jb2xvci5iZzAsXG4gICAgICAgIGJhY2tncm91bmQ6IGFtZ3VpLmNvbG9yLmdyZWVuLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU3RlcENvbnQsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMubmV4dCgpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fYnRuRG9uZS5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG4gICAgdGhpcy5fYnRuRG9uZS5zdHlsZS5tYXJnaW5SaWdodCA9ICcycHgnO1xuXG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS5pbm5lckhUTUwgPSBjc3NBbWd1aTtcbiAgICB0aGlzLl9zclN0ZXBDb250U2Nyb2xsLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuXG4gICAgdGhpcy5fc2Nyb2xsUmFuZ2UgPSBhbWd1aS5jcmVhdGVSYW5nZSh7XG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVTdGVwQ29udFNjcm9sbCxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLl9zY3JvbGxSYW5nZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5fc2Nyb2xsUmFuZ2Uuc3R5bGUudG9wID0gJzBweCc7XG4gICAgdGhpcy5fc2Nyb2xsUmFuZ2Uuc3R5bGUucmlnaHQgPSAnMHB4JztcblxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcbiAgICAgICAgZGVDb250OiB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLFxuICAgICAgICBkZVRhcmdldDogdGhpcy5fZGVTdGVwQ29udCxcbiAgICAgICAgZGVSYW5nZTogdGhpcy5fc2Nyb2xsUmFuZ2VcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlU3RhdGUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVIZWFkLFxuICAgIH0pO1xuICAgIHRoaXMuX2RlU3RhdGUuc3R5bGUuZmxleCA9IDE7XG5cbiAgICB0aGlzLl9kZUNoZWNrYm94Q29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLl9kZUhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fZGVDaGVja2JveENvbnQpO1xuXG4gICAgdGhpcy5fYnRuUHJldiA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZCxcbiAgICAgICAgaWNvbjogJ2FuZ2xlLWxlZnQnLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXYuYmluZCh0aGlzKVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYnRuTmV4dCA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZCxcbiAgICAgICAgaWNvbjogJ2FuZ2xlLXJpZ2h0JyxcbiAgICAgICAgb25DbGljazogdGhpcy5uZXh0LmJpbmQodGhpcylcbiAgICB9KTtcbn1cblxucC5fY3JlYXRlVHJpYW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2l6ZSA9IDEyO1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgYW0uZGVEaWFsb2dDb250LmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHZhciBkZVRyaWFuZ2xlID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS53aWR0aCA9ICcwJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdsZWZ0IGNlbnRlcic7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5ib3JkZXJXaWR0aCA9IHNpemUrJ3B4ICcrKDIqc2l6ZSkrJ3B4ICcrc2l6ZSsncHggMCc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5ib3JkZXJDb2xvciA9ICd0cmFuc3BhcmVudCAjZmYwMDBkIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50JztcblxuICAgIGRlLmFwcGVuZENoaWxkKGRlVHJpYW5nbGUpO1xuXG5cbiAgICBkZS5yb3RhdGUgPSBmdW5jdGlvbiAocikge1xuXG4gICAgICAgIGRlVHJpYW5nbGUuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgnICsgciArICdkZWcpJztcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQmV6aWVyRWFzaW5nID0gcmVxdWlyZSgnYmV6aWVyLWVhc2luZycpO1xudmFyIGRlZmluZUNvbXBhY3RQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3V0aWxzL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xudmFyIGRpYWxvZ0Vhc2VPcHRpb25zID0gcmVxdWlyZSgnLi9kaWFsb2dFYXNlT3B0aW9ucycpO1xudmFyIGRlYnVnSWQgPSAwXG5mdW5jdGlvbiBFYXNlKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5fYWFhRGVidWdJZCA9ICsrZGVidWdJZDtcbiAgICB0aGlzLl90eXBlID0gICdiZXppZXInO1xuICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIHRoaXMucG9pbnRzID0gWzAsIDAsIDEsIDFdO1xuICAgIHRoaXMuX2Vhc2VyO1xuXG4gICAgdGhpcy5vbignY2hhbmdlLnJvdWdoJywgdGhpcy5fcmVmcmVzaEVhc2VyLCB0aGlzKTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgdGhpcy51c2VTYXZlKG9wdCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhFYXNlLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBFYXNlLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRWFzZTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdHlwZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy9jdXJyZW50bHkgdGhlIG9ubHkgc3VwcHJvdGVkIHR5cGUgaXMgYmV6aWVyXG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBvaW50czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5fcG9pbnRzO1xuXG4gICAgICAgICAgICBpZiAocC5sZW5ndGggPT09IHYubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgcC5ldmVyeShmdW5jdGlvbiAocCwgaWR4KSB7cmV0dXJuIHAgPT09IHZbaWR4XTt9KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHAucHVzaC5hcHBseSh0aGlzLl9wb2ludHMsIHYpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoRWFzZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludHM7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hFYXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5lYXNlJ30pO1xuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hTdHJlbmd0aCcsIHR5cGU6ICdmbG9hdCcsIHN0YXJ0VmFsdWU6IDEsIGV2dE5hbWU6ICdjaGFuZ2Uucm91Z2guc3RyZW5ndGgnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaFBvaW50cycsIHR5cGU6ICdpbnQnLCBzdGFydFZhbHVlOiAyMCwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5wb2ludHMnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaENsYW1wJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5jbGFtcCd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoUmFuZG9taXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiB0cnVlLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnJhbmRvbWlzZSd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoVGFwZXInLCB0eXBlOiAnc3RyaW5nJywgc3RhcnRWYWx1ZTogJ25vbmUnLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnRhcGVyJ30pO1xuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgcG9pbnRzOiB0aGlzLnBvaW50cyxcbiAgICAgICAgcm91Z2hFYXNlOiB0aGlzLnJvdWdoRWFzZSxcbiAgICAgICAgcm91Z2hTdHJlbmd0aDogdGhpcy5yb3VnaFN0cmVuZ3RoLFxuICAgICAgICByb3VnaFBvaW50czogdGhpcy5yb3VnaFBvaW50cyxcbiAgICAgICAgcm91Z2hDbGFtcDogdGhpcy5yb3VnaENsYW1wLFxuICAgICAgICByb3VnaFJhbmRvbWlzZTogdGhpcy5yb3VnaFJhbmRvbWlzZSxcbiAgICAgICAgcm91Z2hUYXBlcjogdGhpcy5yb3VnaFRhcGVyLFxuICAgIH07XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCFzYXZlKSByZXR1cm47XG5cbiAgICBpZiAoJ3R5cGUnIGluIHNhdmUpIHRoaXMudHlwZSA9IHNhdmUudHlwZTtcbiAgICBpZiAoJ3BvaW50cycgaW4gc2F2ZSkgdGhpcy5wb2ludHMgPSBzYXZlLnBvaW50cztcbiAgICBpZiAoJ3JvdWdoRWFzZScgaW4gc2F2ZSkgdGhpcy5yb3VnaEVhc2UgPSBzYXZlLnJvdWdoRWFzZTtcbiAgICBpZiAoJ3JvdWdoU3RyZW5ndGgnIGluIHNhdmUpIHRoaXMucm91Z2hTdHJlbmd0aCA9IHNhdmUucm91Z2hTdHJlbmd0aDtcbiAgICBpZiAoJ3JvdWdoUG9pbnRzJyBpbiBzYXZlKSB0aGlzLnJvdWdoUG9pbnRzID0gc2F2ZS5yb3VnaFBvaW50cztcbiAgICBpZiAoJ3JvdWdoQ2xhbXAnIGluIHNhdmUpIHRoaXMucm91Z2hDbGFtcCA9IHNhdmUucm91Z2hDbGFtcDtcbiAgICBpZiAoJ3JvdWdoUmFuZG9taXNlJyBpbiBzYXZlKSB0aGlzLnJvdWdoUmFuZG9taXNlID0gc2F2ZS5yb3VnaFJhbmRvbWlzZTtcbiAgICBpZiAoJ3JvdWdoVGFwZXInIGluIHNhdmUpIHRoaXMucm91Z2hUYXBlciA9IHNhdmUucm91Z2hUYXBlcjtcbn07XG5cbnAuZ2V0UmF0aW8gPSBmdW5jdGlvbiAocCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2Vhc2VyLmdldFJhdGlvKHApO1xufTtcblxucC5nZXRFYXNlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLl9lYXNlcjtcbn07XG5cbnAuZ2V0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJhc2UgPSAnbmV3IEVhc2UoQmV6aWVyRWFzaW5nKCcrdGhpcy5wb2ludHMuam9pbigpKycpKSc7XG5cbiAgICBpZiAodGhpcy5yb3VnaEVhc2UpIHtcblxuICAgICAgICB2YXIgcm91Z2hPcHQgPSB7XG4gICAgICAgICAgICBlYXNlOiAne3tlYXNlfX0nLFxuICAgICAgICAgICAgc3RyZW5ndGg6IHRoaXMucm91Z2hTdHJlbmd0aCxcbiAgICAgICAgICAgIHBvaW50czogdGhpcy5yb3VnaFBvaW50cyxcbiAgICAgICAgICAgIGNsYW1wOiB0aGlzLnJvdWdoQ2xhbXAsXG4gICAgICAgICAgICByYW5kb21pc2U6IHRoaXMucm91Z2hSYW5kb21pc2UsXG4gICAgICAgICAgICB0YXBlcjogdGhpcy5yb3VnaFRhcGVyLFxuICAgICAgICB9O1xuICAgICAgICByb3VnaE9wdCA9IEpTT04uc3RyaW5naWZ5KHJvdWdoT3B0KTtcbiAgICAgICAgLy90aGlzIGlzIGZvciBhdm9pZCB0aGUgcXVvdGVzIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgY2FsbFxuICAgICAgICByb3VnaE9wdCA9IHJvdWdoT3B0LnJlcGxhY2UoJ1wie3tlYXNlfX1cIicsIGJhc2UpO1xuXG4gICAgICAgIHJldHVybiAnbmV3IFJvdWdoRWFzZSgnK3JvdWdoT3B0KycpJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cbn07XG5cbnAuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gbmV3IEVhc2UodGhpcyk7XG59O1xuXG5wLm1hdGNoID0gZnVuY3Rpb24gKGVhc2UpIHtcblxuICAgIHJldHVybiBlYXNlLnR5cGUgPT09IHRoaXMudHlwZSAmJlxuICAgICAgICBlYXNlLnBvaW50c1swXSA9PT0gdGhpcy5wb2ludHNbMF0gJiZcbiAgICAgICAgZWFzZS5wb2ludHNbMV0gPT09IHRoaXMucG9pbnRzWzFdICYmXG4gICAgICAgIGVhc2UucG9pbnRzWzJdID09PSB0aGlzLnBvaW50c1syXSAmJlxuICAgICAgICBlYXNlLnBvaW50c1szXSA9PT0gdGhpcy5wb2ludHNbM10gJiZcbiAgICAgICAgZWFzZS5yb3VnaEVhc2UgPT09IHRoaXMucm91Z2hFYXNlICYmXG4gICAgICAgIGVhc2Uucm91Z2hTdHJlbmd0aCA9PT0gdGhpcy5yb3VnaFN0cmVuZ3RoICYmXG4gICAgICAgIGVhc2Uucm91Z2hQb2ludHMgPT09IHRoaXMucm91Z2hQb2ludHMgJiZcbiAgICAgICAgZWFzZS5yb3VnaENsYW1wID09PSB0aGlzLnJvdWdoQ2xhbXAgJiZcbiAgICAgICAgZWFzZS5yb3VnaFJhbmRvbWlzZSA9PT0gdGhpcy5yb3VnaFJhbmRvbWlzZSAmJlxuICAgICAgICBlYXNlLnJvdWdoVGFwZXIgPT09IHRoaXMucm91Z2hUYXBlcjtcbn07XG5cblxucC5zaG93T3B0aW9uc0RpYWxvZyA9IGZ1bmN0aW9uIChvcHQ9e30pIHtcblxuICAgIGRpYWxvZ0Vhc2VPcHRpb25zLnNob3coe1xuICAgICAgICBlYXNlOiB0aGlzLFxuICAgICAgICB0d2luRWFzZXM6IG9wdC50d2luRWFzZXMsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgICAnY2hhbmdlLnJvdWdoRWFzZSc6IHYgPT4gdGhpcy5yb3VnaEVhc2UgPSB2LFxuICAgICAgICAgICAgJ2NoYW5nZS5yb3VnaFN0cmVuZ3RoJzogdiA9PiB0aGlzLnJvdWdoU3RyZW5ndGggPSB2LFxuICAgICAgICAgICAgJ2NoYW5nZS5yb3VnaFBvaW50cyc6IHYgPT4gdGhpcy5yb3VnaFBvaW50cyA9IHYsXG4gICAgICAgICAgICAnY2hhbmdlLnJvdWdoQ2xhbXAnOiB2ID0+IHRoaXMucm91Z2hDbGFtcCA9IHYsXG4gICAgICAgICAgICAnY2hhbmdlLnJvdWdoUmFuZG9taXNlJzogdiA9PiB0aGlzLnJvdWdoUmFuZG9taXNlID0gdixcbiAgICAgICAgICAgICdjaGFuZ2Uucm91Z2hUYXBlcic6IHYgPT4gdGhpcy5yb3VnaFRhcGVyID0gdixcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuXG5cblxuXG5wLl9yZWZyZXNoRWFzZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9lYXNlciA9IG5ldyBHcmVlblNvY2tHbG9iYWxzLkVhc2UoQmV6aWVyRWFzaW5nKC4uLnRoaXMuX3BvaW50cykpO1xuXG4gICAgaWYgKHRoaXMucm91Z2hFYXNlKSB7XG5cbiAgICAgICAgdGhpcy5fZWFzZXIgPSBuZXcgUm91Z2hFYXNlKHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLl9lYXNlcixcbiAgICAgICAgICAgIHN0cmVuZ3RoOiB0aGlzLnJvdWdoU3RyZW5ndGgsXG4gICAgICAgICAgICBwb2ludHM6IHRoaXMucm91Z2hQb2ludHMsXG4gICAgICAgICAgICBjbGFtcDogdGhpcy5yb3VnaENsYW1wLFxuICAgICAgICAgICAgcmFuZG9taXNlOiB0aGlzLnJvdWdoUmFuZG9taXNlLFxuICAgICAgICAgICAgdGFwZXI6IHRoaXMucm91Z2hUYXBlcixcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBFYXNlID0gcmVxdWlyZSgnLi9FYXNlJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIEtleShvcHQsIHRpbWVsaW5lKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuX2NyZWF0ZUVhc2UoKTtcblxuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcblxuXG4gICAgdGhpcy5sb29rcyA9IG9wdC5sb29rcztcblxuICAgIHRoaXMuX2RlRHJvcGRvd24gPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIG9wdGlvbnM6IFsnZWFzZScsICdkZWxldGUnLCAncmFuZG9taXNlJ10sXG4gICAgICAgIG9uU2VsZWN0OiBlID0+IHRoaXMuX29uU2VsZWN0RHJvcGRvd24oZSksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kcmFnZ2VyID0gYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG4gICAgICAgIG9uRG93bjogZSA9PiB7XG5cbiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lbGluZS5lbWl0KCdkZXNlbGVjdEFsbEtleXMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9UT0RPIHNoaWZ0K3NlbGVjdCAoaWYgYW4gb3RoZXIga2V5KHMpIHNlbGVjdGVkIGluIHRoaXMgbGluZSBpdHMgc2hvdWxkIHNlbGVjdCB0aG9lcyBhcmUgYmV0d2VlbiB0aGVtKVxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRyYWdnZWQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdmU6IG1kID0+IHtcblxuICAgICAgICAgICAgdmFyIGRpZmZUaW1lID0gKG1kLmR4IC8gdGhpcy50aW1lbGluZS50aW1lc2NhbGUpIC0gbWQuZHJhZ2dlZDtcblxuICAgICAgICAgICAgbWQuZHJhZ2dlZCArPSBkaWZmVGltZTtcblxuICAgICAgICAgICAgdGhpcy50aW1lbGluZS5lbWl0KCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCBkaWZmVGltZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgYW0uaGlzdG9yeS5kb250U2F2ZSgoKSA9PiB0aGlzLnVzZVNhdmUob3B0KSk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhLZXksIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEtleS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleTtcblxuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwgW1xuICAgIHtuYW1lOiAndGltZScsIHR5cGU6ICdpbnQnLCBoaXN0b3J5OiB0cnVlfSxcbiAgICB7bmFtZTogJ3ZhbHVlJywgaGlzdG9yeTogdHJ1ZX0sXG4gICAge25hbWU6ICdwYXJlbnRLZXlMaW5lJywgZXZlbnQ6ICdhZGRlZCd9LFxuXSk7XG5cbnAud2FrZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudGltZWxpbmUub24oJ2Rlc2VsZWN0QWxsS2V5cycsIHRoaXMuX29uRGVzZWxlY3RBbGxLZXlzLCB0aGlzKTtcbiAgICB0aGlzLnRpbWVsaW5lLm9uKCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCB0aGlzLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cywgdGhpcyk7XG4gICAgLy8gdGhpcy50aW1lbGluZS5vbignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZWxpbmVUaW1lLCB0aGlzKTtcbn07XG5cbnAuc2xlZXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9mZignZGVzZWxlY3RBbGxLZXlzJywgdGhpcy5fb25EZXNlbGVjdEFsbEtleXMsIHRoaXMpO1xuICAgIHRoaXMudGltZWxpbmUub2ZmKCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCB0aGlzLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cywgdGhpcyk7XG4gICAgLy8gdGhpcy50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWVsaW5lVGltZSwgdGhpcyk7XG59O1xuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBfLmNsb25lRGVlcCh0aGlzLnZhbHVlKSxcbiAgICAgICAgdGltZTogdGhpcy50aW1lLFxuICAgICAgICBlYXNlOiB0aGlzLmVhc2UuZ2V0U2F2ZSgpLFxuICAgIH07XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gc2F2ZSkgdGhpcy52YWx1ZSA9IHNhdmUudmFsdWU7XG4gICAgaWYgKCd0aW1lJyBpbiBzYXZlKSB0aGlzLnRpbWUgPSBzYXZlLnRpbWU7XG4gICAgaWYgKCdlYXNlJyBpbiBzYXZlKSB0aGlzLmVhc2UudXNlU2F2ZShzYXZlLmVhc2UpO1xufTtcblxucC5zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IHRydWU7XG5cbiAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xufTtcblxucC5kZXNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5lbWl0KCdkZXNlbGVjdCcpO1xufTtcblxucC5ncmFiID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHRoaXMuX2RyYWdnZXIuZW1pdERvd24oZSk7XG59O1xuXG5wLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZW1pdCgnbmVlZC5yZW1vdmUnLCB0aGlzKTtcbn07XG5cbnAuZ2V0UHJldktleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLnBhcmVudEtleUxpbmUuZ2V0UHJldktleSh0aGlzLnRpbWUpO1xufTtcblxucC5nZXROZXh0S2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMucGFyZW50S2V5TGluZS5nZXROZXh0S2V5KHRoaXMudGltZSk7XG59O1xuXG5wLnJlbmRlclRvTGluZSA9IGZ1bmN0aW9uIChjdHgpIHtcbiAgICBcbiAgICB2YXIgbG9va3MgPSB0aGlzLmxvb2tzIHx8IHRoaXMucGFyZW50S2V5TGluZS5rZXlMb29rcyxcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0LFxuICAgICAgICBrZXlQb3MgPSBwYXJzZUludCh0aGlzLnRpbWVsaW5lLnRpbWVUb1JlbmRlclBvcyh0aGlzLnRpbWUpKSArIDAuNSxcbiAgICAgICAgbGluZSA9IGxvb2tzLmxpbmUsXG4gICAgICAgIGNpcmNsZSA9IGxvb2tzLmNpcmNsZSxcbiAgICAgICAgciA9IDIsXG4gICAgICAgIGlzU2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkO1xuXG4gICAgdGhpcy5yZW5kZXJFYXNlVG9MaW5lKGN0eCk7XG5cbiAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicsIGN0eCwgdGhpcyk7XG5cbiAgICBpZiAobGluZSkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGlzU2VsZWN0ZWQgPyBhbWd1aS5jb2xvci5zZWxlY3RlZCA6IChsaW5lLmNvbG9yIHx8ICcjZWVlJyk7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lLndpZHRoIHx8IDE7XG4gICAgICAgIGN0eC5tb3ZlVG8oa2V5UG9zLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyhrZXlQb3MsIGhlaWdodCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBpZiAoY2lyY2xlKSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gaXNTZWxlY3RlZCA/IGFtZ3VpLmNvbG9yLnNlbGVjdGVkIDogKGNpcmNsZS5jb2xvciB8fCAnI2VlZScpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNTZWxlY3RlZCA/IGFtZ3VpLmNvbG9yLnNlbGVjdGVkIDogKGNpcmNsZS5maWxsQ29sb3IgfHwgJyNlZWUnKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGNpcmNsZS53aWR0aCB8fCAxO1xuICAgICAgICBjdHguYXJjKGtleVBvcywgaGVpZ2h0LzIsXG4gICAgICAgICAgICAncicgaW4gY2lyY2xlID8gY2lyY2xlLnIgOiByLFxuICAgICAgICAgICAgJ2FyY1N0YXJ0JyBpbiBjaXJjbGUgPyBjaXJjbGUuYXJjU3RhcnQgOiAwLFxuICAgICAgICAgICAgJ2FyY0VuZCcgaW4gY2lyY2xlID8gY2lyY2xlLmFyY0VuZCA6IDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICAvL1RPRE9cbiAgICAvLyBpZiAodGhpcy50aW1lbGluZS5jdXJyVGltZSA9PT0gdGhpcy50aW1lKSB7XG4gICAgLy8gICAgIGN0eC5zYXZlKCk7XG4gICAgLy8gICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAvLyAgICAgY3R4LnN0cm9rZVN0eWxlID0gYW1ndWkuY29sb3IucmVkO1xuICAgIC8vICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAvLyAgICAgY3R4LmFyYyhrZXlQb3MsIGhlaWdodC8yLCA2LCAwLCAyICogTWF0aC5QSSk7XG4gICAgLy8gICAgIGN0eC5zdHJva2UoKTtcbiAgICAvLyAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAvLyB9XG5cbiAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInLCBjdHgsIHRoaXMpO1xufTtcblxucC5yZW5kZXJFYXNlVG9MaW5lID0gZnVuY3Rpb24gKGN0eCkge1xuXG4gICAgaWYgKCF0aGlzLmVhc2UpIHJldHVybjtcblxuICAgIHZhciBsb29rcyA9IHRoaXMubG9va3MgfHwgdGhpcy5wYXJlbnRLZXlMaW5lLmtleUxvb2tzO1xuXG4gICAgdmFyIGVhc2UgPSB0aGlzLmVhc2UsXG4gICAgICAgIGNvbG9yID0gKGxvb2tzLmVhc2UgJiYgbG9va3MuZWFzZS5jb2xvcikgfHwgJ3JnYmEoMjI1LDIyNSwyMjUsLjIzKScsXG4gICAgICAgIGhlaWdodCA9IHRoaXMuX2hlaWdodCxcbiAgICAgICAga2V5UG9zID0gdGhpcy50aW1lbGluZS50aW1lVG9SZW5kZXJQb3ModGhpcy50aW1lKSxcbiAgICAgICAgcHJldktleSA9IHRoaXMuZ2V0UHJldktleSgpLFxuICAgICAgICBwcmV2S2V5UG9zID0gdGhpcy50aW1lbGluZS50aW1lVG9SZW5kZXJQb3MocHJldktleSA/IHByZXZLZXkudGltZSA6IDApLFxuICAgICAgICB3aWR0aCA9IGtleVBvcyAtIHByZXZLZXlQb3M7XG5cbiAgICBpZiAod2lkdGggPT09IDApIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSAxLjI7XG4gICAgY3R4Lm1vdmVUbyhwcmV2S2V5UG9zLCBoZWlnaHQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgKytpKSB7XG5cbiAgICAgICAgY3R4LmxpbmVUbyhwcmV2S2V5UG9zICsgaSwgaGVpZ2h0IC0gaGVpZ2h0ICogZWFzZS5nZXRSYXRpbyhpL3dpZHRoKSk7XG4gICAgfVxuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59O1xuXG5wLmdldERyb3Bkb3duID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2RlRHJvcGRvd247XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uU2VsZWN0RHJvcGRvd24gPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IGUuZGV0YWlsLnNlbGVjdGlvbjtcblxuICAgIGlmIChzZWxlY3Rpb24gPT09ICdlYXNlJykge1xuXG4gICAgICAgIHRoaXMuZWFzZS5zaG93T3B0aW9uc0RpYWxvZygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxlY3Rpb24gPT09ICdkZWxldGUnKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2VsZWN0aW9uID09PSAncmFuZG9taXNlJykge1xuXG4gICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICB9XG59O1xuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5lYXNlJyk7XG59O1xuXG5wLl9vbkRlc2VsZWN0QWxsS2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZGVzZWxlY3QoKTtcbn07XG5cbnAuX29uVHJhbnNsYXRlU2VsZWN0ZWRLZXlzID0gZnVuY3Rpb24gKG9mZnNldCkge1xuXG4gICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcblxuICAgICAgICB0aGlzLnRpbWUgKz0gb2Zmc2V0O1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlVGltZWxpbmVUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGlzSW5UaW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZSA9PT0gdGhpcy50aW1lO1xuXG4gICAgaWYgKGlzSW5UaW1lICE9PSB0aGlzLl9pc0luVGltZSkge1xuXG4gICAgICAgIHRoaXMuZW1pdCgnbmVlZC5yZW5kZXInKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVhc2UgPSBuZXcgRWFzZSgpO1xuICAgIHRoaXMuZWFzZS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VFYXNlLCB0aGlzKTtcbn07XG5cblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlRHJvcGRvd24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25TZWxlY3REcm9wZG93bik7XG4gICAgdGhpcy50aW1lbGluZS5vZmYoJ2Rlc2VsZWN0QWxsS2V5cycsIHRoaXMuX29uRGVzZWxlY3RBbGxLZXlzLCB0aGlzKTtcbiAgICB0aGlzLnRpbWVsaW5lLm9mZigndHJhbnNsYXRlU2VsZWN0ZWRLZXlzJywgdGhpcy5fb25UcmFuc2xhdGVTZWxlY3RlZEtleSwgdGhpcyk7XG4gICAgdGhpcy50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWVsaW5lVGltZSwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5fZGVEcm9wZG93bi5wYXJlbnROb2RlKSB0aGlzLl9kZURyb3Bkb3duLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZGVEcm9wZG93bik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgS2V5ID0gcmVxdWlyZSgnLi9LZXknKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIEtleUdyb3VwKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5fc3Via2V5cyA9IFtdO1xuXG4gICAgS2V5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXRzKEtleUdyb3VwLCBLZXkpO1xudmFyIHAgPSBLZXlHcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleUdyb3VwO1xuXG5cblxuLy9vdmVyd3JpdGUgbGlzdGVuaW5nIGZvciB0aW1lbG5lOmRlc2VsZWN0QWxsS2V5cyAmIHRyYW5zbGF0ZVNlbGVjdGVkS2V5cyBldmVudFxucC53YWtlID0gZnVuY3Rpb24gKCkge307XG5cbnAuc2xlZXAgPSBmdW5jdGlvbiAoKSB7fTtcblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBlYXNlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKGVhc2UpIHtcblxuICAgICAgICAgICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICAgICAgICAgIGtleS5lYXNlLnVzZVNhdmUoZWFzZS5nZXRTYXZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIFtcbiAgICB7bmFtZTogJ3RpbWUnLCB0eXBlOiAnaW50JywgaGlzdG9yeTogZmFsc2V9LFxuICAgIHtuYW1lOiAndmFsdWUnLCBoaXN0b3J5OiBmYWxzZX0sXG5dKTtcblxuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7fTtcbn07XG5cbnAuc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkuc2VsZWN0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWQoKTtcbn07XG5cbnAuZGVzZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9zdWJrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGtleS5kZXNlbGVjdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkKCk7XG59O1xuXG5wLnNldFN1YmtleXMgPSBmdW5jdGlvbiAobmV3U3Via2V5cykge1xuXG4gICAgdGhpcy5fc3Via2V5cy5sZW5ndGggPSAwO1xuXG4gICAgbmV3U3Via2V5cy5mb3JFYWNoKGtleSA9PiB7XG5cbiAgICAgICAgdGhpcy5fc3Via2V5cy5wdXNoKGtleSk7XG4gICAgICAgIGtleS5vbihbJ25lZWQucmVuZGVyJywgJ2NoYW5nZS5lYXNlJ10sIHRoaXMuX29uU3Via2V5TmVlZFJlbmRlciwgdGhpcyk7Ly9UT0RPIHVzZSBlbWl0dGVyLmZvcndhcmQoKSBpbnN0ZWFkXG4gICAgfSk7XG4gICAgdGhpcy5fc3Via2V5cy5wdXNoLmFwcGx5KHRoaXMuX3N1YmtleXMsIG5ld1N1YmtleXMpO1xuXG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkKCk7XG59O1xuXG5wLnJlbW92ZVN1YmtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIGlmICghXy5pbmNsdWRlKHRoaXMuX3N1YmtleXMsIGtleSkpIHJldHVybjtcblxuICAgIF8ucHVsbCh0aGlzLl9zdWJrZXlzLCBrZXkpO1xuXG4gICAga2V5Lm9mZihbJ25lZWQucmVuZGVyJywgJ2NoYW5nZS5lYXNlJ10sIHRoaXMuX29uU3Via2V5TmVlZFJlbmRlciwgdGhpcyk7XG59O1xuXG5wLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3N1YmtleXMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkucmVtb3ZlKCk7XG4gICAgfSk7XG59O1xuXG5wLnJlbmRlckVhc2VUb0xpbmUgPSBmdW5jdGlvbiAoY3R4KSB7XG5cbiAgICB0aGlzLl9zdWJrZXlzLmZvckVhY2goa2V5ID0+IGtleS5yZW5kZXJFYXNlVG9MaW5lKGN0eCkpO1xufTtcblxucC5nZXRFYXNlcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByZXQgPSBbXTtcblxuICAgIHRoaXMuX3N1YmtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKGtleSBpbnN0YW5jZW9mIEtleUdyb3VwKSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoLmFwcGx5KHJldCwga2V5LmdldEVhc2VzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0LnB1c2goa2V5LmVhc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxuXG5cblxucC5fb25TdWJrZXlOZWVkUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCduZWVkLnJlbmRlcicpO1xufTtcblxucC5fb25TZWxlY3REcm9wZG93biA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgc2VsZWN0aW9uID0gZS5kZXRhaWwuc2VsZWN0aW9uO1xuXG4gICAgaWYgKHNlbGVjdGlvbiA9PT0gJ2Vhc2UnKSB7XG5cbiAgICAgICAgbGV0IGVhc2VzID0gdGhpcy5nZXRFYXNlcygpLFxuICAgICAgICAgICAgZWFzZSA9IGVhc2VzLnNwbGljZSgwLCAxKVswXTtcblxuICAgICAgICBpZiAoZWFzZSkge1xuICAgICAgICAgICAgZWFzZS5zaG93T3B0aW9uc0RpYWxvZyh7dHdpbkVhc2VzOiBlYXNlc30pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGVjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcblxuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlRWFzZSA9IGZ1bmN0aW9uIChlYXNlKSB7XG5cbiAgICB0aGlzLmVhc2UgPSBlYXNlO1xufTtcblxuXG5cblxuXG5cblxucC5fcmVmcmVzaFNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNlbGVjdGVkID0gdGhpcy5fc3Via2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgcmV0dXJuIGtleS5faXNTZWxlY3RlZDtcbiAgICB9KTtcblxuICAgIGlmIChzZWxlY3RlZCAhPT0gdGhpcy5faXNTZWxlY3RlZCkge1xuXG4gICAgICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBzZWxlY3RlZDtcblxuICAgICAgICB0aGlzLmVtaXQodGhpcy5faXNTZWxlY3RlZCA/ICdzZWxlY3QnIDogJ2Rlc2VsZWN0Jyk7XG4gICAgfVxufTtcblxuXG5cblxuXG5wLl9jcmVhdGVFYXNlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vb3ZlcnJpZGUsIEtleUdyb3VwIGlzbid0IG5lZWQgaXRzIG93biBFYXNlXG59O1xuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuLi91dGlscy9kZWZpbmVDb21wYWN0UHJvcGVydHknKTtcblxuZnVuY3Rpb24gS2V5TGluZSAob3B0LCB0aW1lbGluZSkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLl9rZXlzID0gW107XG4gICAgdGhpcy5faGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5faGlkZGVuID0gZmFsc2U7XG5cbiAgICB0aGlzLmtleUxvb2tzID0ge1xuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICBjb2xvcjogJyNlZWUnXG4gICAgICAgIH0sXG4gICAgICAgIGNpcmNsZToge31cbiAgICB9O1xuXG4gICAgdGhpcy5fb25EYmxDbGljayA9IHRoaXMuX29uRGJsQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdXNlRG93biA9IHRoaXMuX29uTW91c2VEb3duLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9yZW5kZXIgPSBhbWd1aS5kZWxheVdpdGhSQUYodGhpcy5fcmVuZGVyLCB0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHZhciBkcm9wZG93bkJpbmRpbmcgPSBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fY2FudmFzLFxuICAgICAgICBhc0NvbnRleHRNZW51OiB0cnVlLFxuICAgICAgICBvbk9wZW5pbmc6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLmdldEtleVVuZGVyUG9zKGUueCksXG4gICAgICAgICAgICAgICAgZHJvcGRvd24gPSBrZXkgJiYga2V5LmdldERyb3Bkb3duKCk7XG5cbiAgICAgICAgICAgIGlmIChkcm9wZG93bikge1xuXG4gICAgICAgICAgICAgICAgZHJvcGRvd25CaW5kaW5nLnNldERyb3Bkb3duKGRyb3Bkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5kb21FbGVtLCAoKSA9PiB0aGlzLl9yZW5kZXIoKSk7XG59XG5cbmluaGVyaXRzKEtleUxpbmUsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEtleUxpbmUucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBLZXlMaW5lO1xuXG5cbnAud2FrZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudGltZWxpbmUub24oWydjaGFuZ2VUYXBlJ10sIHRoaXMuX3JlbmRlciwgdGhpcyk7XG5cbiAgICBfLmludm9rZSh0aGlzLl9rZXlzLCAnd2FrZScpO1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG59O1xuXG5wLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy50aW1lbGluZS5vZmYoWydjaGFuZ2VUYXBlJ10sIHRoaXMuX3JlbmRlciwgdGhpcyk7XG5cbiAgICBfLmludm9rZSh0aGlzLl9rZXlzLCAnc2xlZXAnKTtcbn07XG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGtleUNvdW50OiB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGlkZGVuOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2hpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9oaWRkZW4gPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnbm9uZScgOiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwgW1xuICAgIHtuYW1lOiAnYmdIaWdobGlnaHQnLCB0eXBlOiAnYm9vbGVhbicsIG9uQ2hhbmdlOiBmdW5jdGlvbiAodikge1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdiA/IGFtZ3VpLmNvbG9yLmJnMSA6IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB9fVxuXSk7XG5cblxuXG5wLmFkZEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIHRoaXMuX2tleXMucHVzaChrZXkpO1xuICAgIGtleS5wYXJlbnRLZXlMaW5lID0gdGhpcztcbiAgICBrZXkud2FrZSgpO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5yZW1vdmVLZXkoa2V5KSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5hZGRLZXkoa2V5KSxcbiAgICAgICAgbmFtZTogJ2FkZCBrZXknLFxuICAgIH0pO1xuXG4gICAga2V5Lm9uKFsnY2hhbmdlLnZhbHVlJywgJ2NoYW5nZS50aW1lJ10sIHRoaXMuX29uQ2hhbmdlS2V5VmFsdWUsIHRoaXMpO1xuICAgIGtleS5vbihbJ25lZWQucmVuZGVyJywgJ3NlbGVjdCcsICdkZXNlbGVjdCcsICdjaGFuZ2UudGltZScsICdjaGFuZ2UuZWFzZSddLCB0aGlzLl9vbktleU5lZWRSZW5kZXIsIHRoaXMpO1xuICAgIGtleS5vbignbmVlZC5yZW1vdmUnLCB0aGlzLl9vbktleU5lZWRSZW1vdmUsIHRoaXMpO1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5yZW1vdmVLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICBpZighXy5pbmNsdWRlKHRoaXMuX2tleXMsIGtleSkpIHJldHVybiBmYWxzZTtcblxuICAgIF8ucHVsbCh0aGlzLl9rZXlzLCBrZXkpO1xuICAgIGtleS5zbGVlcCgpO1xuICAgIGtleS5wYXJlbnRLZXlMaW5lID0gdW5kZWZpbmVkO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5hZGRLZXkoa2V5KSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5yZW1vdmVLZXkoa2V5KSxcbiAgICAgICAgbmFtZTogJ3JlbW92ZSBrZXknLFxuICAgIH0pO1xuXG4gICAga2V5Lm9mZihbJ2NoYW5nZS52YWx1ZScsICdjaGFuZ2UudGltZSddLCB0aGlzLl9vbkNoYW5nZUtleVZhbHVlLCB0aGlzKTtcbiAgICBrZXkub2ZmKFsnbmVlZC5yZW5kZXInLCAnc2VsZWN0JywgJ2Rlc2VsZWN0JywgJ2NoYW5nZS50aW1lJywgJ2NoYW5nZS5lYXNlJ10sIHRoaXMuX29uS2V5TmVlZFJlbmRlciwgdGhpcyk7XG4gICAga2V5Lm9mZignbmVlZC5yZW1vdmUnLCB0aGlzLl9vbktleU5lZWRSZW1vdmUsIHRoaXMpO1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5wLmZvckVhY2hLZXlzID0gZnVuY3Rpb24gKGZuLCB0aGlzQXJnKSB7XG5cbiAgICB0aGlzLl9rZXlzLmZvckVhY2goZm4sIHRoaXNBcmcpO1xufTtcblxucC5nZXRLZXlCeVRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2tleXMuZmluZChrZXkgPT4ga2V5LnRpbWUgPT09IHRpbWUpO1xufTtcblxucC5nZXRQcmV2S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHZhciByZXRLZXk7XG5cbiAgICB0aGlzLl9rZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cbiAgICAgICAgaWYgKGtleS50aW1lIDwgdGltZSAmJiAoIXJldEtleSB8fCByZXRLZXkudGltZSA8IGtleS50aW1lKSkge1xuXG4gICAgICAgICAgICByZXRLZXkgPSBrZXk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXRLZXk7XG59O1xuXG5wLmdldE5leHRLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdmFyIHJldEtleTtcblxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPiB0aW1lICYmICghcmV0S2V5IHx8IHJldEtleS50aW1lID4ga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIHJldEtleSA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldEtleTtcbn07XG5cbnAuZ2V0Q2xvc2VzdEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgcmV0S2V5LCByZXREaXN0O1xuXG4gICAgdGhpcy5fa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICAgIHZhciBkaXN0ID0gTWF0aC5hYnModGltZSAtIGtleS50aW1lKTtcblxuICAgICAgICBpZiAoIXJldEtleSB8fCByZXREaXN0ID4gZGlzdCkge1xuXG4gICAgICAgICAgICByZXREaXN0ID0gZGlzdDtcbiAgICAgICAgICAgIHJldEtleSA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldEtleTtcbn07XG5cbnAuZ2V0S2V5VW5kZXJQb3MgPSBmdW5jdGlvbiAoeCkge1xuXG4gICAgdmFyIHRpbWUgPSB0aGlzLnRpbWVsaW5lLnNjcmVlblhUb1RpbWUoeCksXG4gICAgICAgIGtleSA9IHRoaXMuZ2V0Q2xvc2VzdEtleSh0aW1lKTtcblxuICAgIGlmIChrZXkgJiYgKE1hdGguYWJzKHRpbWUgLSBrZXkudGltZSkgKiB0aGlzLnRpbWVsaW5lLnRpbWVzY2FsZSkgPCA0KSB7XG5cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG59O1xuXG5wLmdldEtleVRpbWVzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIF8ucGx1Y2sodGhpcy5fa2V5cywgJ3RpbWUnKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5wLl9yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5fc2tpcFJlbmRlciB8fCB0aGlzLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcyxcbiAgICAgICAgY3R4ID0gdGhpcy5fY3R4O1xuXG4gICAgY2FudmFzLndpZHRoID0gdGhpcy50aW1lbGluZS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuXG4gICAgXy5zb3J0QnkodGhpcy5fa2V5cywgJ3RpbWUnKS5mb3JFYWNoKGtleSA9PiBrZXkucmVuZGVyVG9MaW5lKGN0eCkpO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUtleVZhbHVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5fb25LZXlOZWVkUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG59O1xuXG5wLl9vbktleU5lZWRSZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB0aGlzLnJlbW92ZUtleShrZXkpO1xufTtcblxucC5fb25EYmxDbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuc2NyZWVuWFRvVGltZShlLnNjcmVlblgpLFxuICAgICAgICBrZXkgPSB0aGlzLmdldE5leHRLZXkodGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIHRoaXMudGltZWxpbmUuaW5saW5lRWFzZUVkaXRvci5zaG93KHtrZXl9KTtcbiAgICB9XG59O1xuXG5wLl9vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXlVbmRlclBvcyhlLnNjcmVlblgpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgICBrZXkuZ3JhYihlKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uIGNyZWF0ZUtleWxpbmUoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLmRvbUVsZW0uc2V0QXR0cmlidXRlKCdkZWJ1Zy1rZXlsaW5lJywgMSk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cblxuICAgIC8vVE9ETyByZW1vdmUgX2RlTGluZSBpZiBpdCdzIGRvZXNuJ3QgbmVlZGVkO1xuICAgIHRoaXMuX2RlTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlTGluZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVMaW5lLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlTGluZS5zdHlsZS5oZWlnaHQgPSB0aGlzLl9oZWlnaHQgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUxpbmUpO1xuXG4gICAgdGhpcy5fY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZUxpbmUuYXBwZW5kQ2hpbGQodGhpcy5fY2FudmFzKTtcbiAgICB0aGlzLl9jdHggPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGFtZ3VpLmNyZWF0ZVNlcGFyYXRvcih7cGFyZW50OiB0aGlzLl9kZUxpbmV9KTtcblxuICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuX29uRGJsQ2xpY2spO1xuICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG59O1xuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9UT0RPXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIEtleUxpbmUgPSByZXF1aXJlKCcuL0tleUxpbmUnKTtcbnZhciBLZXlHcm91cCA9IHJlcXVpcmUoJy4vS2V5R3JvdXAnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIEtleUxpbmVHcm91cCAoKSB7XG5cbiAgICBLZXlMaW5lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl9rZXlMaW5lcyA9IFtdO1xuXG4gICAgdGhpcy5fcmVmcmVzaEhlYWRLZXlsaW5lID0gYW1ndWkuZGVsYXlXaXRoUkFGKHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZSwgdGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVTdWJjb250KCk7XG59XG5cbmluaGVyaXRzKEtleUxpbmVHcm91cCwgS2V5TGluZSk7XG52YXIgcCA9IEtleUxpbmVHcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleUxpbmVHcm91cDtcblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBrZXlDb3VudDoge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxucC5hZGRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICBpZighKGtleSBpbnN0YW5jZW9mIEtleUdyb3VwKSkgdGhyb3cgRXJyb3I7XG5cbiAgICBhbS5oaXN0b3J5LmRvbnRTYXZlKCgpID0+IEtleUxpbmUucHJvdG90eXBlLmFkZEtleS5jYWxsKHRoaXMsIGtleSkpO1xufTtcblxuXG5wLnJlbW92ZUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIGFtLmhpc3RvcnkuZG9udFNhdmUoKCkgPT4gS2V5TGluZS5wcm90b3R5cGUucmVtb3ZlS2V5LmNhbGwodGhpcywga2V5KSk7XG59O1xuXG5cbnAuYWRkS2V5TGluZSA9IGZ1bmN0aW9uIChrZXlMaW5lKSB7XG5cbiAgICBpZiAodGhpcy5fa2V5TGluZXMuaW5kZXhPZihrZXlMaW5lKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGtleUxpbmUub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fb25DaGFuZ2VLZXlMaW5lS2V5cywgdGhpcyk7XG5cbiAgICB0aGlzLl9rZXlMaW5lcy5wdXNoKGtleUxpbmUpO1xuXG4gICAgdGhpcy5fZGVTdWJjb250LmFwcGVuZENoaWxkKGtleUxpbmUuZG9tRWxlbSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmUoKTtcbn07XG5cbnAucmVtb3ZlS2V5bGluZSA9IGZ1bmN0aW9uIChrZXlMaW5lKSB7XG5cbiAgICBpZiAoIV8uaW5jbHVkZSh0aGlzLl9rZXlMaW5lcywga2V5TGluZSkpIHJldHVybjtcblxuICAgIGtleUxpbmUub2ZmKCdjaGFuZ2Uua2V5cycsIHRoaXMuX29uQ2hhbmdlS2V5TGluZUtleXMsIHRoaXMpO1xuXG4gICAgXy5wdWxsKHRoaXMuX2tleUxpbmVzLCBrZXlMaW5lKTtcblxuICAgIGlmIChrZXlMaW5lLmRvbUVsZW0ucGFyZW50Tm9kZSA9PT0gdGhpcy5fZGVTdWJjb250KSB7XG4gICAgICAgIHRoaXMuX2RlU3ViY29udC5yZW1vdmVDaGlsZChrZXlMaW5lLmRvbUVsZW0pO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZSgpO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fb25DaGFuZ2VLZXlMaW5lS2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZSgpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5fb25EYmxDbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuc2NyZWVuWFRvVGltZShlLnNjcmVlblgpLFxuICAgICAgICBrZXkgPSB0aGlzLmdldE5leHRLZXkodGltZSksXG4gICAgICAgIGVhc2VzID0ga2V5ICYmIGtleS5nZXRFYXNlcygpO1xuXG5cbiAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgdGhpcy50aW1lbGluZS5pbmxpbmVFYXNlRWRpdG9yLnNob3coe2tleSwgZWFzZXN9KTtcbiAgICB9XG5cblxuICAgIC8vIGZ1bmN0aW9uIGNvbGxlY3RFYXNlcyhrZXkpIHtcbiAgICAvL1xuICAgIC8vICAgICBrZXkuX3N1YmtleXMuZm9yRWFjaChzdWJLZXkgPT4ge1xuICAgIC8vXG4gICAgLy8gICAgICAgICBpZiAoc3ViS2V5IGluc3RhbmNlb2YgS2V5R3JvdXApIHtcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgIGNvbGxlY3RFYXNlcyhzdWJLZXkpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgZWFzZXMucHVzaChzdWJLZXkuZWFzZSk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cbn07XG5cblxuXG5cblxuXG5wLl9yZWZyZXNoSGVhZEtleWxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9za2lwUmVuZGVyID0gdHJ1ZTtcblxuICAgIHZhciB0aW1lcyA9IFtdLCBrZXlzT25UaW1lcyA9IFtdO1xuXG4gICAgdGhpcy5fa2V5TGluZXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5TGluZSkge1xuXG4gICAgICAgIGlmIChrZXlMaW5lLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgIGtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgICAgICB2YXIgdGlkeCA9IHRpbWVzLmluZGV4T2Yoa2V5LnRpbWUpO1xuXG4gICAgICAgICAgICBpZiAodGlkeCA9PT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIHRpbWVzLnB1c2goa2V5LnRpbWUpO1xuICAgICAgICAgICAgICAgIGtleXNPblRpbWVzLnB1c2goW10pO1xuICAgICAgICAgICAgICAgIHRpZHggPSB0aW1lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBrZXlzT25UaW1lc1t0aWR4XS5wdXNoKGtleSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH0sIHRoaXMpO1xuXG5cbiAgICB3aGlsZSAodGltZXMubGVuZ3RoIDwgdGhpcy5fa2V5cy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLnJlbW92ZUtleSh0aGlzLl9rZXlzW3RoaXMuX2tleXMubGVuZ3RoLTFdKTtcbiAgICB9XG5cbiAgICB3aGlsZSAodGltZXMubGVuZ3RoID4gdGhpcy5fa2V5cy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLmFkZEtleShuZXcgS2V5R3JvdXAoe30sIHRoaXMudGltZWxpbmUpKTtcbiAgICB9XG5cblxuICAgIHRpbWVzLmZvckVhY2goZnVuY3Rpb24gKHRpbWUsIGlkeCkge1xuXG4gICAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlzW2lkeF07XG5cbiAgICAgICAga2V5LnRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGtleS5zZXRTdWJrZXlzKGtleXNPblRpbWVzW2lkeF0pO1xuXG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9za2lwUmVuZGVyID0gZmFsc2U7XG4gICAgdGhpcy5fcmVuZGVyKCk7XG59O1xuXG5cblxuXG5wLl9jcmVhdGVTdWJjb250ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVTdWJjb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVTdWJjb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVN1YmNvbnQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGRlZmluZUNvbXBhY3RQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3V0aWxzL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi91dGlscy9PcHRpb25MaW5lJyk7XG52YXIgS2V5ID0gcmVxdWlyZSgnLi9LZXknKTtcbnZhciBLZXlMaW5lID0gcmVxdWlyZSgnLi9LZXlMaW5lJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBQYXJhbSAob3B0PXt9LCB0aW1lbGluZSkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLl9saW5lSCA9ICBhbWd1aS5MSU5FX0hFSUdIVDtcbiAgICB0aGlzLl9pbnB1dHMgPSBbXTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8IDA7XG5cbiAgICB0aGlzLl9vbkNoYW5nZUlucHV0ID0gdGhpcy5fb25DaGFuZ2VJbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tUZ2dsS2V5ID0gdGhpcy5fb25DbGlja1RnZ2xLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUtleWxpbmUob3B0LmtleUxpbmUpO1xuICAgIHRoaXMuX2NyZWF0ZU9wdGlvbnMob3B0Lm9wdGlvbkxpbmUpO1xuXG4gICAgdGhpcy5rZXlMaW5lLnBhcmVudFBhcmFtID0gdGhpcztcblxuICAgIHRoaXMuZGVPcHRpb25MaW5lID0gdGhpcy5vcHRpb25MaW5lLmRvbUVsZW07XG4gICAgdGhpcy5kZUtleUxpbmUgPSB0aGlzLmtleUxpbmUuZG9tRWxlbTtcblxuICAgIHRoaXMua2V5TGluZS5vbignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZUtleUxpbmVLZXlzLCB0aGlzKTtcblxuICAgIC8vaGFjayFcbiAgICAkKFt0aGlzLm9wdGlvbkxpbmUuZG9tRWxlbSwgdGhpcy5rZXlMaW5lLmRvbUVsZW1dKVxuICAgICAgICAub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbkxpbmUuYmdIaWdobGlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5rZXlMaW5lLmJnSGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLmJnSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmtleUxpbmUuYmdIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB0aGlzLnNldE1heExpc3RlbmVycygxMjM0KTtcblxuXG4gICAgdGhpcy51c2VTYXZlKG9wdCk7XG59XG5cbmluaGVyaXRzKFBhcmFtLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBQYXJhbS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFBhcmFtO1xuXG5wLndha2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lLCB0aGlzKTtcblxuICAgIHRoaXMua2V5TGluZS53YWtlKCk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZVRpbWUoKTtcbn07XG5cbnAuc2xlZXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9mZignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZSwgdGhpcyk7XG5cbiAgICB0aGlzLmtleUxpbmUuc2xlZXAoKTtcbn07XG5cblxuXG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGhlaWdodDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZGVuID8gMCA6IHRoaXMuX2xpbmVIO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCBbXG4gICAge25hbWU6ICduYW1lJywgdHlwZTogJ3N0cmluZyd9LFxuICAgIHtuYW1lOiAndGl0bGUnLCB0eXBlOiAnc3RyaW5nJywgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHRoaXMub3B0aW9uTGluZS50aXRsZSA9IHY7XG4gICAgfX0sXG4gICAge25hbWU6ICdoaWRkZW4nLCB0eXBlOiAnYm9vbGVhbicsIHN0YXJ0VmFsdWU6IGZhbHNlLCBvbkNoYW5nZTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdGhpcy5rZXlMaW5lLmhpZGRlbiA9IHY7XG4gICAgICAgIHRoaXMub3B0aW9uTGluZS5oaWRkZW4gPSB2O1xuICAgIH19LFxuICAgIHtuYW1lOiAnc3RhdGljJywgdHlwZTogJ2Jvb2xlYW4nfSxcbl0pO1xuXG5cblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICAgIGhpZGRlbjogdGhpcy5oaWRkZW4sXG4gICAgICAgIHN0YXRpYzogdGhpcy5zdGF0aWMsXG4gICAgICAgIGtleXM6IFtdLFxuICAgIH07XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHNhdmUua2V5cy5wdXNoKGtleS5nZXRTYXZlKCkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNhdmU7XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbihzYXZlKSB7XG5cbiAgICB0aGlzLm5hbWUgPSBzYXZlLm5hbWU7XG4gICAgdGhpcy50aXRsZSA9IHNhdmUudGl0bGUgfHwgc2F2ZS5uYW1lO1xuICAgIHRoaXMuaGlkZGVuID0gc2F2ZS5oaWRkZW47XG4gICAgdGhpcy5zdGF0aWMgPSBzYXZlLnN0YXRpYztcblxuICAgIGlmIChzYXZlLmtleXMpIHtcblxuICAgICAgICBzYXZlLmtleXMuZm9yRWFjaCh0aGlzLmFkZEtleSwgdGhpcyk7XG4gICAgfVxufTtcblxucC5nZXRTY3JpcHRLZXlzID0gZnVuY3Rpb24gKG9wdCA9IHt9KSB7XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgdGhpcy5rZXlMaW5lLmZvckVhY2hLZXlzKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICB2YXIgayA9IHtcbiAgICAgICAgICAgIHRpbWU6IGtleS50aW1lLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGVhc2U6IG9wdC5ydW5uYWJsZSA/IGtleS5lYXNlLmdldEVhc2VyKCkgOiBrZXkuZWFzZS5nZXRTY3JpcHQoKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgay5vcHRpb25zW3RoaXMubmFtZV0gPSBrZXkudmFsdWU7XG4gICAgICAgIGtleXMucHVzaChrKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHJldHVybiBfLnNvcnRCeShrZXlzLCAndGltZScpO1xufTtcblxucC5nZXRWYWx1ZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICBpZiAoIV8uaXNOdW1iZXIodGltZSkpIHtcbiAgICAgICAgdGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG4gICAgfVxuXG4gICAgdmFyIHJldCwgYmVmb3JlLCBhZnRlciwgc2FtZTtcblxuICAgIHRoaXMua2V5TGluZS5mb3JFYWNoS2V5cyhmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKGtleS50aW1lID09PSB0aW1lKSB7XG5cbiAgICAgICAgICAgIHNhbWUgPSBrZXk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5LnRpbWUgPCB0aW1lICYmICghYmVmb3JlIHx8IGJlZm9yZS50aW1lIDwga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIGJlZm9yZSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkudGltZSA+IHRpbWUgJiYgKCFhZnRlciB8fCBhZnRlci50aW1lID4ga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIGFmdGVyID0ga2V5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc2FtZSkge1xuXG4gICAgICAgIHJldCA9IHNhbWUudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuXG4gICAgICAgIGlmIChhZnRlciAmJiBiZWZvcmUpIHtcblxuICAgICAgICAgICAgdmFyIHAgPSAodGltZSAtIGJlZm9yZS50aW1lKSAvIChhZnRlci50aW1lIC0gYmVmb3JlLnRpbWUpLFxuICAgICAgICAgICAgICAgIGF2ID0gYWZ0ZXIudmFsdWUsIGJ2ID0gYmVmb3JlLnZhbHVlO1xuXG4gICAgICAgICAgICBwID0gYWZ0ZXIuZWFzZS5nZXRSYXRpbyhwKTtcblxuICAgICAgICAgICAgcmV0ID0gY3JlYXRlQ2FsYyhhdiwgYnYsIHApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJlZm9yZSkge1xuXG4gICAgICAgICAgICByZXQgPSBiZWZvcmUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWZ0ZXIpIHtcblxuICAgICAgICAgICAgcmV0ID0gYWZ0ZXIudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0ID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiByZXQ7XG5cblxuXG5cbiAgICAvL1RPRE8gZG9udCB0aGluayBpcyBpdCdzIG5lZWRlZCBhbnltb3JlXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FsYyhhdiwgYnYsIHApIHtcblxuICAgICAgICBpZiAoIWlzTmFOKGF2KSAmJiAhaXNOYU4oYnYpKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGJ2KSArICgoYXYgLSBidikgKiBwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhVW5pdCA9IGdldFVuaXQoYXYpO1xuICAgICAgICB2YXIgYlVuaXQgPSBnZXRVbml0KGJ2KTtcblxuICAgICAgICBpZiAoYVVuaXQgPT09IGJVbml0KSB7XG5cbiAgICAgICAgICAgIGF2ID0gcGFyc2VGbG9hdChhdik7XG4gICAgICAgICAgICBidiA9IHBhcnNlRmxvYXQoYnYpO1xuXG4gICAgICAgICAgICByZXR1cm4gKGJ2ICsgKChhdiAtIGJ2KSAqIHApKSArIGFVbml0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGF2cyA9IF8uY29tcGFjdChhdi5zcGxpdCgnICcpKSxcbiAgICAgICAgICAgIGJ2cyA9IF8uY29tcGFjdChidi5zcGxpdCgnICcpKSxcbiAgICAgICAgICAgIGF2bCA9IGF2cy5sZW5ndGgsXG4gICAgICAgICAgICBidmwgPSBidnMubGVuZ3RoLFxuICAgICAgICAgICAgcmV0ID0gW107XG5cbiAgICAgICAgaWYgKGF2bCAhPT0gYnZsKSB7XG5cbiAgICAgICAgICAgIGlmIChhdmwgPCBidmwpIHtcblxuICAgICAgICAgICAgICAgIGF2cyA9IGF2cy5jb25jYXQoYnZzLnNsaWNlKGF2bCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnZzID0gYnZzLmNvbmNhdChhdnMuc2xpY2UoYnZsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhdnMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoKGNhbGMoYSwgYnZzW2lkeF0pKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJldC5qb2luKCcgJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsYyhhLCBiKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAnY2FsYygnICsgYiArICcgKyAoJyArIGEgKyAnIC0gJyArIGIgKyAnKSonICsgcCArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFVuaXQodikge1xuXG4gICAgICAgICAgICB2YXIgbSA9IC8oW2EteiVdKykkLy5leGVjKHYpO1xuXG4gICAgICAgICAgICByZXR1cm4gbSAmJiBtWzFdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5hZGRLZXkgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLnBhdXNlKCk7XG5cbiAgICBpZiAoIV8uaGFzKG9wdCwgJ3RpbWUnKSkge1xuXG4gICAgICAgIG9wdC50aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZTtcbiAgICB9XG5cbiAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXkob3B0LnRpbWUpO1xuXG4gICAgaWYgKGtleSkge1xuXG4gICAgICAgIGlmICgndmFsdWUnIGluIG9wdCkge1xuXG4gICAgICAgICAgICBrZXkudmFsdWUgPSBvcHQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGtleSA9IG5ldyBLZXkob3B0LCB0aGlzLnRpbWVsaW5lKTtcbiAgICAgICAga2V5LnZhbHVlID0gJ3ZhbHVlJyBpbiBvcHQgPyBvcHQudmFsdWUgOiB0aGlzLmdldFZhbHVlKG9wdC50aW1lKTtcblxuICAgICAgICB0aGlzLmtleUxpbmUuYWRkS2V5KGtleSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdhZGRLZXknLCBrZXksIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hJbnB1dHMoKTtcblxuICAgIHJldHVybiBrZXk7XG59O1xuXG5wLnJlbW92ZUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIGlmICghdGhpcy5rZXlMaW5lLnJlbW92ZUtleShrZXkpKSB7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn07XG5cbnAuZ2V0S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLmtleUxpbmUuZ2V0S2V5QnlUaW1lKHRpbWUpO1xufTtcblxucC5nZXRQcmV2S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLmtleUxpbmUuZ2V0UHJldktleSh0aW1lKTtcbn07XG5cbnAuZ2V0TmV4dEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldE5leHRLZXkodGltZSk7XG59O1xuXG5wLmdvdG9QcmV2S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIGlmICh0aW1lID09PSB1bmRlZmluZWQpIHRpbWUgPSB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lO1xuXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0UHJldktleSh0aW1lKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgICAgdGhpcy50aW1lbGluZS5jdXJyVGltZSA9IGtleS50aW1lO1xuICAgIH1cbn07XG5cbnAuZ290b05leHRLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKHRpbWUgPT09IHVuZGVmaW5lZCkgdGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG5cbiAgICB2YXIga2V5ID0gdGhpcy5nZXROZXh0S2V5KHRpbWUpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgICB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lID0ga2V5LnRpbWU7XG4gICAgfVxufTtcblxucC5nZXRLZXlUaW1lcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLmtleUxpbmUuZ2V0S2V5VGltZXMoKTtcbn07XG5cbnAudG9nZ2xlS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KHRoaXMudGltZWxpbmUuY3VyclRpbWUpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgICB0aGlzLnJlbW92ZUtleShrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRLZXkoe3RpbWU6IHRoaXMudGltZWxpbmUuY3VyclRpbWV9KTtcbiAgICB9XG59O1xuXG5wLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmtleUNvdW50ICE9PSAwO1xufTtcblxucC5hdHRhY2hJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgdGhpcy5kZXRhY2hJbnB1dChpbnB1dCk7XG5cbiAgICBpbnB1dC5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VJbnB1dCk7XG5cbiAgICB0aGlzLl9pbnB1dHMucHVzaChpbnB1dCk7XG59O1xuXG5wLmRldGFjaElucHV0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5faW5wdXRzLmluZGV4T2YoaW5wdXQpO1xuXG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlucHV0LnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUlucHV0KTtcblxuICAgIHRoaXMuX2lucHV0cy5zcGxpY2UoaWR4LCAxKTtcbn07XG5cbnAuX2lzS2V5U2V0ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiAhIXRoaXMuZ2V0S2V5KHRpbWUpO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUlucHV0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG5cbiAgICBpZiAoU3RyaW5nKHZhbHVlKSA9PT0gU3RyaW5nKG9sZFZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hZGRLZXkoe1xuICAgICAgICB0aW1lOiB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcbn07XG5cbnAuX29uQ2hhbmdlS2V5TGluZUtleXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoVGdnbEtleSgpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlLmtleXMnKTtcbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hJbnB1dHMoKTtcbiAgICB0aGlzLl9yZWZyZXNoVGdnbEtleSgpO1xufTtcblxucC5fb25DbGlja1RnZ2xLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRvZ2dsZUtleSgpO1xufTtcblxucC5fb25DbGlja1N0ZXBQcmV2S2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5nb3RvUHJldktleSgpO1xufTtcblxucC5fb25DbGlja1N0ZXBOZXh0S2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5nb3RvTmV4dEtleSgpO1xufTtcblxuXG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hJbnB1dHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5nZXRWYWx1ZSgpICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHtcblxuICAgICAgICAgICAgLy9nZXQgdGhlIHZhbHVlIGFnYWluLCBiZWNhdXNlIGl0IGNhbiBjaGFuZ2Ugb3ZlciB0aGUgaXRlcmF0aW9uXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxucC5fcmVmcmVzaFRnZ2xLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG4gICAgXG4gICAgdGhpcy5vcHRpb25MaW5lLmJ1dHRvbnMua2V5LnNldEhpZ2hsaWdodCh0aGlzLl9pc0tleVNldCh0aW1lKSk7XG4gICAgdGhpcy5vcHRpb25MaW5lLmJ1dHRvbnMua2V5LnNldFN0ZXBwZXJzKCEhdGhpcy5nZXRQcmV2S2V5KHRpbWUpLCAhIXRoaXMuZ2V0TmV4dEtleSh0aW1lKSk7XG59O1xuXG5cblxuXG5cblxucC5fY3JlYXRlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHRoaXMub3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKF8uYXNzaWduKHtcbiAgICAgICAga2VlcFNwYWNlRm9yVGdnbENoaWxkcmVuOiB0cnVlLFxuICAgICAgICBjb250ZXh0TWVudU9wdGlvbnM6IFtcbiAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSB1cCcsIG9uU2VsZWN0OiAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCl9LFxuICAgICAgICAgICAge3RleHQ6ICdtb3ZlIGRvd24nLCBvblNlbGVjdDogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpfSxcbiAgICAgICAgICAgIHt0ZXh0OiAnZGVsZXRlJywgb25TZWxlY3Q6ICgpID0+IHRoaXMuZW1pdCgnbmVlZC5yZW1vdmUnLCB0aGlzKX0sXG4gICAgICAgIF0sXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIGJ0bktleToge1xuICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1RnZ2xLZXksXG4gICAgICAgICAgICBvbkNsaWNrUHJldjogdGhpcy5fb25DbGlja1N0ZXBQcmV2S2V5LFxuICAgICAgICAgICAgb25DbGlja05leHQ6IHRoaXMuX29uQ2xpY2tTdGVwTmV4dEtleSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgdW5pdHM6IFtdLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0J1xuICAgICAgICB9XSxcbiAgICAgICAgaW5kZW50OiAwLFxuICAgIH0sIG9wdCkpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uTGluZS5pbnB1dHMuaW5wdXQpe1xuXG4gICAgICAgIHRoaXMuYXR0YWNoSW5wdXQodGhpcy5vcHRpb25MaW5lLmlucHV0cy5pbnB1dCk7XG4gICAgfVxufTtcblxucC5fY3JlYXRlS2V5bGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMua2V5TGluZSA9IG5ldyBLZXlMaW5lKHt9LCB0aGlzLnRpbWVsaW5lKTtcbn07XG5cblxuXG5cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQYXJhbSA9IHJlcXVpcmUoJy4vUGFyYW0nKTtcbnZhciBQYXJhbUdyb3VwID0gcmVxdWlyZSgnLi9QYXJhbUdyb3VwJyk7XG5cbmZ1bmN0aW9uIFBhcmFtRmFjdG9yeShvcHQsIHRpbWVsaW5lKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLmdyb3VwcyA9IHtcbiAgICAgICAgLy8gZ3JvdXBuYW1lOiB7c3ViZ291cG5hbWU6IFsnbWVtYmVycyddfVxuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFyYW1GYWN0b3J5O1xudmFyIHAgPSBQYXJhbUZhY3RvcnkucHJvdG90eXBlO1xuXG5cbnAuY3JlYXRlID0gZnVuY3Rpb24gKG9wdD17fSkge1xuXG4gICAgaWYgKCFfLmhhcyhvcHQsICd0aXRsZScpKSBvcHQudGl0bGUgPSBvcHQubmFtZTtcblxuICAgIGlmIChvcHQuY2hpbGRyZW4gfHwgb3B0LmlzR3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR3JvdXAob3B0KTtcbiAgICB9XG5cbiAgICBpZighb3B0LmRvbnRCdWlsZEZyb21Sb290KSB7XG5cbiAgICAgICAgdmFyIHJwZ05hbWUgPSB0aGlzLmdldFJvb3RQYXJhbUdyb3VwTmFtZShvcHQubmFtZSk7XG5cbiAgICAgICAgaWYgKHJwZ05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUdyb3VwKHtuYW1lOiBycGdOYW1lfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fYXNzZW1ibGVQYXJhbShvcHQpO1xufTtcblxucC5jcmVhdGVHcm91cCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdC5wYXJhbUZhY3RvcnkgPSB0aGlzO1xuXG4gICAgaWYgKCFvcHQucGF0aCAmJiAhb3B0Lm5hbWUpIHRocm93IEVycm9yO1xuXG4gICAgb3B0LnBhdGggPSBvcHQucGF0aCB8fCBbb3B0Lm5hbWVdO1xuICAgIG9wdC5uYW1lID0gb3B0Lm5hbWUgfHwgXy5sYXN0KG9wdC5wYXRoKTtcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZ2V0R3JvdXBNZW1iZXJOYW1lcyhvcHQucGF0aCk7XG4gICAgb3B0LnN0YXRpYyA9IF8uaGFzKG9wdCwgJ3N0YXRpYycpID8gb3B0LnN0YXRpYyA6IGNoaWxkcmVuLmxlbmd0aCAhPT0gMDtcblxuICAgIHZhciBncm91cCA9ICB0aGlzLl9hc3NlbWJsZUdyb3VwKG9wdCk7XG5cbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG5cbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZE5hbWUgPT4ge1xuXG4gICAgICAgICAgICBpZiAoZ3JvdXAuZ2V0UGFyYW0oY2hpbGROYW1lKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgc3RhdGljOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGNoaWxkTmFtZSxcbiAgICAgICAgICAgICAgICBwYXRoOiBvcHQucGF0aC5jb25jYXQoY2hpbGROYW1lKSxcbiAgICAgICAgICAgICAgICBkb250QnVpbGRGcm9tUm9vdDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBncm91cC5hZGRQYXJhbShjaGlsZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBncm91cDtcbn07XG5cbnAuX2Fzc2VtYmxlUGFyYW0gPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgLy9mb3Igb3ZlcndyaXRpbmdcbiAgICByZXR1cm4gbmV3IFBhcmFtKG9wdCwgdGhpcy50aW1lbGluZSk7XG59O1xuXG5wLl9hc3NlbWJsZUdyb3VwID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIC8vZm9yIG92ZXJ3cml0aW5nXG4gICAgcmV0dXJuIG5ldyBQYXJhbUdyb3VwKG9wdCwgdGhpcy50aW1lbGluZSk7XG59O1xuXG5wLmdldFJvb3RQYXJhbUdyb3VwTmFtZSA9IGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmdyb3VwcykuZmluZChyb290S2V5ID0+IHtcblxuICAgICAgICByZXR1cm4gc2VhcmNoKHRoaXMuZ3JvdXBzW3Jvb3RLZXldLCByb290S2V5KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNlYXJjaChncm91cCwgZ3JvdXBOYW1lKSB7XG5cbiAgICAgICAgaWYgKGdyb3VwTmFtZSA9PT0gcGFyYW1OYW1lKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8uaXNBcnJheShncm91cCkpIHtcblxuICAgICAgICAgICAgaWYgKGdyb3VwLmluZGV4T2YocGFyYW1OYW1lKSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGdyb3VwKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoKGdyb3VwW2tleV0sIGtleSkpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLmdldEdyb3VwTWVtYmVyTmFtZXMgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHM7XG5cbiAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuXG4gICAgd2hpbGUgKHBhdGgubGVuZ3RoKSB7XG5cbiAgICAgICAgZ3JvdXAgPSBncm91cFtwYXRoLnNoaWZ0KCldO1xuICAgIH1cblxuICAgIGlmIChfLmlzUGxhaW5PYmplY3QoZ3JvdXApKSBncm91cCA9IE9iamVjdC5rZXlzKGdyb3VwKTtcblxuICAgIHJldHVybiBncm91cCB8fCBbXTtcbn07XG5cbnAuaWZpdCA9IGZ1bmN0aW9uIChzdHIpIHtcblxuICAgIHZhciByeCA9IG5ldyBSZWdFeHAoJyhefCwpJytzdHIrJygsfCQpJyk7XG5cbiAgICB2YXIgcmV0ID0ge1xuICAgICAgICBpczogKGNhc2VzLCBjYikgPT4ge1xuXG4gICAgICAgICAgICBpZiAoY2FzZXMubWF0Y2gocngpKSB7XG5cbiAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gcmV0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi4vdXRpbHMvT3B0aW9uTGluZScpO1xudmFyIEtleUxpbmVHcm91cCA9IHJlcXVpcmUoJy4vS2V5TGluZUdyb3VwJyk7XG52YXIgUGFyYW0gPSByZXF1aXJlKCcuL1BhcmFtJyk7XG5cbmZ1bmN0aW9uIFBhcmFtR3JvdXAgKG9wdD17fSkge1xuXG4gICAgdGhpcy5wYXJhbUZhY3RvcnkgPSBvcHQucGFyYW1GYWN0b3J5O1xuXG4gICAgdGhpcy5fcGFyYW1zID0gW107XG4gICAgdGhpcy5fbWVyZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5fY29sbGFwc2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmJvcnJvd0NoaWxkSW5wdXRzT25Db2xsYXBzZSA9IG9wdC5ib3Jyb3dDaGlsZElucHV0c09uQ29sbGFwc2U7XG5cbiAgICBQYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5rZXlMaW5lLmtleUxvb2tzLmNpcmNsZSA9IHVuZGVmaW5lZDtcblxuXG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcblxuICAgIHRoaXMub24oJ2NoYW5nZS5oaWRkZW4nLCAoKSA9PiB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpKTtcbn1cblxuaW5oZXJpdHMoUGFyYW1Hcm91cCwgUGFyYW0pO1xudmFyIHAgPSBQYXJhbUdyb3VwLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gUGFyYW1Hcm91cDtcblxuXG5wLndha2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBQYXJhbS5wcm90b3R5cGUud2FrZS5jYWxsKHRoaXMpO1xuXG4gICAgXy5pbnZva2UodGhpcy5fcGFyYW1zLCAnd2FrZScpO1xufTtcblxucC5zbGVlcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIFBhcmFtLnByb3RvdHlwZS5zbGVlcC5jYWxsKHRoaXMpO1xuXG4gICAgXy5pbnZva2UodGhpcy5fcGFyYW1zLCAnc2xlZXAnKTtcbn07XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMuaGlkZGVuID8gMCA6IHRoaXMuX2xpbmVIO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyYW1zLmZvckVhY2gocGFyYW0gPT4gcmV0ICs9IHBhcmFtLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1lcmdlZDoge1xuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9tZXJnZWQpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fbWVyZ2VkID0gdjtcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLmJ1dHRvbnMudGdnbE1lcmdlLnNldFRvZ2dsZSh2KTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5pbmFjdGl2ZSA9IHY7XG4gICAgICAgICAgICB0aGlzLmtleUxpbmUua2V5TG9va3MuY2lyY2xlID0gdiA/IHt9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5rZXlMaW5lLl9yZW5kZXIoKTsvL1RPRE86IGRvIHRoaXMga2V5TG9va3MgdGhpbmcgc29tZWhvdyBiZXR0ZXJcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2VkID0gdjtcblxuICAgICAgICAgICAgaWYgKHYpIHRoaXMuX21ha2VLZXlMaW5lc1N5bW1ldHJpYygpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29sbGFwc2VkOiB7XG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2NvbGxhcHNlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWQgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy50Z2dsQ2hpbGRyZW4uc2V0VG9nZ2xlKCF2KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlLmhlaWdodCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYm9ycm93Q2hpbGRJbnB1dHNPbkNvbGxhcHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLmJvcnJvd0NoaWxkSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkxpbmUucmV0dXJuQ2hpbGRJbnB1dHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sbGFwc2VkO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSBQYXJhbS5wcm90b3R5cGUuZ2V0U2F2ZS5jYWxsKHRoaXMpO1xuICAgIGRlbGV0ZSBzYXZlLmtleXM7XG5cbiAgICBzYXZlLm1lcmdlZCA9IHRoaXMubWVyZ2VkO1xuICAgIHNhdmUuY29sbGFwc2VkID0gdGhpcy5jb2xsYXBzZWQ7XG4gICAgc2F2ZS5jaGlsZHJlbiA9IHRoaXMuX3BhcmFtcy5tYXAocCA9PiBwLmdldFNhdmUoKSk7XG5cbiAgICByZXR1cm4gc2F2ZTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBQYXJhbS5wcm90b3R5cGUudXNlU2F2ZS5jYWxsKHRoaXMsIHNhdmUpO1xuXG4gICAgaWYgKCdjb2xsYXBzZWQnIGluIHNhdmUpIHRoaXMuY29sbGFwc2VkID0gc2F2ZS5jb2xsYXBzZWQ7XG4gICAgaWYgKCdtZXJnZWQnIGluIHNhdmUpIHRoaXMubWVyZ2VkID0gc2F2ZS5tZXJnZWQ7XG4gICAgaWYgKCdjaGlsZHJlbicgaW4gc2F2ZSkgc2F2ZS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkT3B0ID0+IHtcblxuICAgICAgICBjaGlsZE9wdC5kb250QnVpbGRGcm9tUm9vdCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkUGFyYW0oY2hpbGRPcHQpO1xuICAgIH0pO1xufTtcblxucC5hZGRQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgaWYgKHBhcmFtID09PSB0aGlzKSB0aHJvdyBFcnJvcjtcblxuICAgIGlmICghKHBhcmFtIGluc3RhbmNlb2YgUGFyYW0pKSB7XG5cbiAgICAgICAgcGFyYW0gPSB0aGlzLnBhcmFtRmFjdG9yeS5jcmVhdGUocGFyYW0pO1xuICAgIH1cblxuICAgIGlmIChwYXJhbS5wYXJlbnRHcm91cCkge1xuXG4gICAgICAgIHBhcmFtLnBhcmVudEdyb3VwLnJlbW92ZVBhcmFtKHBhcmFtKTtcbiAgICB9XG4gICAgcGFyYW0ucGFyZW50R3JvdXAgPSB0aGlzO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5yZW1vdmVQYXJhbShwYXJhbSksXG4gICAgICAgIHJlZG86ICgpID0+IHRoaXMuYWRkUGFyYW0ocGFyYW0pLFxuICAgICAgICBuYW1lOiAnYWRkIHBhcmFtICcgKyBwYXJhbS5uYW1lLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fcGFyYW1zLnB1c2gocGFyYW0pO1xuICAgIHRoaXMub3B0aW9uTGluZS5hZGRPcHRpb25MaW5lKHBhcmFtLm9wdGlvbkxpbmUpO1xuICAgIHRoaXMua2V5TGluZS5hZGRLZXlMaW5lKHBhcmFtLmtleUxpbmUpO1xuICAgIHBhcmFtLndha2UoKTtcblxuICAgIHBhcmFtLm9wdGlvbkxpbmUuaW5kZW50ID0gdGhpcy5vcHRpb25MaW5lLmluZGVudCArIDE7XG5cbiAgICBwYXJhbS5vbignY2hhbmdlLmtleXMnLCAoLi4uYXJncykgPT4gdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycsIC4uLmFyZ3MpKTsvL1RPRE8gcGFyYW0uZm9yd2FyZCgnY2hhbmdlLmtleXMnLCB0aGlzKTtcbiAgICBwYXJhbS5vbignY2hhbmdlLmhlaWdodCcsIHRoaXMuX29uQ2hhbmdlU3VicGFyYW1IZWlnaHQsIHRoaXMpO1xuICAgIHBhcmFtLm9uKCdhZGRLZXknLCB0aGlzLl9vbkFkZEtleVN1YnBhcmFtLCB0aGlzKTtcbiAgICBwYXJhbS5vbignbmVlZC5yZW1vdmUnLCB0aGlzLl9vblN1YnBhcmFtTmVlZFJlbW92ZSwgdGhpcyk7XG5cbiAgICBpZiAocGFyYW0ubmFtZSBpbiB0aGlzLm9wdGlvbkxpbmUuaW5wdXRzKSB7XG5cbiAgICAgICAgcGFyYW0uYXR0YWNoSW5wdXQodGhpcy5vcHRpb25MaW5lLmlucHV0c1twYXJhbS5uYW1lXSk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdhZGRQYXJhbScsIHBhcmFtLCB0aGlzKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5zdHJ1Y3R1cmUnKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5oZWlnaHQnKTtcbiAgICB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpO1xuXG4gICAgcmV0dXJuIHBhcmFtO1xufTtcblxucC5yZW1vdmVQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgaWYgKCFfLmluY2x1ZGUodGhpcy5fcGFyYW1zLCBwYXJhbSkpIHJldHVybjtcblxuICAgIGFtLmhpc3Rvcnkuc2F2ZSh7XG4gICAgICAgIHVuZG86ICgpID0+IHRoaXMuYWRkUGFyYW0ocGFyYW0pLFxuICAgICAgICByZWRvOiAoKSA9PiB0aGlzLnJlbW92ZVBhcmFtKHBhcmFtKSxcbiAgICAgICAgbmFtZTogJ3JlbW92ZSBwYXJhbSAnICsgcGFyYW0ubmFtZSxcbiAgICB9KTtcblxuICAgIHBhcmFtLnNsZWVwKCk7XG4gICAgcGFyZW50LnBhcmVudEdyb3VwID0gdW5kZWZpbmVkO1xuXG4gICAgLy9UT0RPIHBhcmFtLmZvcndhcmRPZmYoJ2NoYW5nZS5rZXlzJywgdGhpcyk7XG4gICAgcGFyYW0ub2ZmKCdjaGFuZ2UuaGVpZ2h0JywgdGhpcy5fb25DaGFuZ2VTdWJwYXJhbUhlaWdodCwgdGhpcyk7XG4gICAgcGFyYW0ub2ZmKCdhZGRLZXknLCB0aGlzLl9vbkFkZEtleVN1YnBhcmFtLCB0aGlzKTtcbiAgICBwYXJhbS5vZmYoJ25lZWQucmVtb3ZlJywgdGhpcy5fb25TdWJwYXJhbU5lZWRSZW1vdmUsIHRoaXMpO1xuXG4gICAgXy5wdWxsKHRoaXMuX3BhcmFtcywgcGFyYW0pO1xuICAgIHRoaXMub3B0aW9uTGluZS5yZW1vdmVPcHRpb25MaW5lKHBhcmFtLm9wdGlvbkxpbmUpO1xuICAgIHRoaXMua2V5TGluZS5yZW1vdmVLZXlsaW5lKHBhcmFtLmtleUxpbmUpO1xuXG4gICAgdGhpcy5lbWl0KCdyZW1vdmVQYXJhbScsIHBhcmFtLCB0aGlzKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5zdHJ1Y3R1cmUnLCB0aGlzKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5oZWlnaHQnKTtcbiAgICB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpO1xufTtcblxucC5nZXRQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9wYXJhbXMuZmluZChwYXJhbSA9PiBwYXJhbS5uYW1lID09PSBwYXJhbU5hbWUpO1xufTtcblxucC5nZXRQYXJhbU5hbWVzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIF8ucGx1Y2sodGhpcy5fcGFyYW1zLCAnbmFtZScpO1xufTtcblxucC5nZXRFbmRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChwYXJhbSA9PiB7XG5cbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgUGFyYW1Hcm91cCkge1xuXG4gICAgICAgICAgICByZXQucHVzaC5hcHBseShyZXQsIHBhcmFtLmdldEVuZFBhcmFtcygpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldC5wdXNoKHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbnAubW92ZVBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG5cbn07XG5cbnAudG9nZ2xlS2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHRpbWUgPSB0aW1lIHx8IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG5cbiAgICB2YXIgaGFzS2V5ID0gdGhpcy5fcGFyYW1zLnNvbWUoZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtLmdldEtleSh0aW1lKTtcbiAgICB9KTtcblxuICAgIGlmIChoYXNLZXkpIHtcblxuICAgICAgICB0aGlzLnJlbW92ZUtleUFsbCh0aW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkS2V5QWxsKHRpbWUpO1xuICAgIH1cbn07XG5cbnAuX21ha2VLZXlMaW5lc1N5bW1ldHJpYyA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICBjb25zb2xlLnRpbWUoJ19tYWtlS2V5TGluZXNTeW1tZXRyaWMnKTtcbiAgICB2YXIgdGltZXMgPSBbXTtcblxuICAgIHRoaXMuX3BhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgW10ucHVzaC5hcHBseSh0aW1lcywgcGFyYW0uZ2V0S2V5VGltZXMoKSk7XG4gICAgfSk7XG5cbiAgICBfLnVuaXEodGltZXMpLmZvckVhY2godGltZSA9PiB0aGlzLmFkZEtleUFsbCh0aW1lKSk7XG4vLyAgICAgY29uc29sZS50aW1lRW5kKCdfbWFrZUtleUxpbmVzU3ltbWV0cmljJyk7XG59O1xuXG5cbnAuYWRkS2V5QWxsID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lIDogdGltZTtcblxuICAgIHRoaXMuX3BhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgUGFyYW1Hcm91cCkge1xuXG4gICAgICAgICAgICBwYXJhbS5hZGRLZXlBbGwodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJhbS5hZGRLZXkoe3RpbWU6IHRpbWV9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxucC5yZW1vdmVLZXlBbGwgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHRoaXMuX3BhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGtleSA9IHBhcmFtLmdldEtleSh0aW1lKTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgcGFyYW0ucmVtb3ZlS2V5KGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuXG5cbnAuX2lzS2V5U2V0ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIC8vZW1wdHkgZ3JvdXBzIHJldHVybnMgdHJ1ZSBleGNlcHQgaWYgdGhpcyBpcyB0aGUgcm9vdCBwYXJhbUdyb3VwXG4gICAgcmV0dXJuICh0aGlzLl9wYXJhbXMubGVuZ3RoID09PSAwICYmIHRoaXMucGFyZW50R3JvdXApIHx8XG4gICAgICAgIHRoaXMuX3BhcmFtcy5ldmVyeShwID0+IHAuaGlkZGVuIHx8IHAuX2lzS2V5U2V0KHRpbWUpKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fb25TdWJwYXJhbU5lZWRSZW1vdmUgPSBmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgIGlmICh0aGlzLnN0YXRpYykge1xuXG4gICAgICAgIHRoaXMuZW1pdCgnbmVlZC5yZW1vdmUnLCB0aGlzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUGFyYW0ocGFyYW0pO1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5jb2xsYXBzZWQgPSAhdGhpcy5jb2xsYXBzZWQ7XG59O1xuXG5wLl9vbkNsaWNrVGdnbE1lcmdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5tZXJnZWQgPSAhdGhpcy5tZXJnZWQ7XG59O1xuXG5wLl9vbkNoYW5nZVN1YnBhcmFtSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UuaGVpZ2h0JywgdGhpcyk7XG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcbn07XG5cbnAuX29uQWRkS2V5U3VicGFyYW0gPSBmdW5jdGlvbiAoa2V5LCBwYXJhbSkge1xuXG4gICAgaWYgKHRoaXMuX21lcmdlZCAmJiAhcGFyYW0uaGlkZGVuKSB7XG5cbiAgICAgICAgdGhpcy5hZGRLZXlBbGwoa2V5LnRpbWUpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hIZWlnaHRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGggPSB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmtleUxpbmUuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICB0aGlzLm9wdGlvbkxpbmUuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4Jztcbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUgPSBuZXcgT3B0aW9uTGluZShfLm1lcmdlKHtcbiAgICAgICAgdGdnbENoaWxkcmVuOiB7XG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLl9vbkNsaWNrVGdnbENoaWxkcmVuKCksXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRleHRNZW51T3B0aW9uczogW1xuICAgICAgICAgICAge3RleHQ6ICdtb3ZlIHVwJywgb25TZWxlY3Q6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICB7dGV4dDogJ21vdmUgZG93bicsIG9uU2VsZWN0OiAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCl9LFxuICAgICAgICAgICAge3RleHQ6ICdkZWxldGUnLCBvblNlbGVjdDogKCkgPT4gdGhpcy5lbWl0KCduZWVkLnJlbW92ZScsIHRoaXMpfSxcbiAgICAgICAgXSxcbiAgICAgICAgdGdnbE1lcmdlOiB7XG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLl9vbkNsaWNrVGdnbE1lcmdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIGJ0bktleToge1xuICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1RnZ2xLZXksXG4gICAgICAgICAgICBvbkNsaWNrUHJldjogdGhpcy5fb25DbGlja1N0ZXBQcmV2S2V5LFxuICAgICAgICAgICAgb25DbGlja05leHQ6IHRoaXMuX29uQ2xpY2tTdGVwTmV4dEtleSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZW50OiAwLFxuICAgICAgICBoYXNTdWJjb250YWluZXI6IHRydWUsXG4gICAgfSwgb3B0KSk7XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy50Z2dsQ2hpbGRyZW4uc2V0VG9nZ2xlKHRydWUpO1xufTtcblxucC5fY3JlYXRlS2V5bGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMua2V5TGluZSA9IG5ldyBLZXlMaW5lR3JvdXAoe30sIHRoaXMudGltZWxpbmUpO1xufTtcblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vVE9ET1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBQYXJhbUZhY3RvcnkgPSByZXF1aXJlKCcuL1BhcmFtRmFjdG9yeScpO1xudmFyIFRyYW5zaGFuZCA9IHJlcXVpcmUoJ3RyYW5zaGFuZCcpO1xudmFyIFBhcmFtR3JvdXAgPSByZXF1aXJlKCcuL1BhcmFtR3JvdXAnKTtcbnZhciBkaWFsb2dUcmFja09wdGlvbnMgPSByZXF1aXJlKCcuL2RpYWxvZ1RyYWNrT3B0aW9ucycpO1xudmFyIGRpYWxvZ05ld1BhcmFtID0gcmVxdWlyZSgnLi9kaWFsb2dOZXdQYXJhbScpO1xudmFyIG1zdFBsYXllciA9IHJlcXVpcmUoJy4vc2NyaXB0LnBsYXllci5tc3QnKTtcblxuXG5mdW5jdGlvbiBUcmFjayhvcHQsIHRpbWVsaW5lKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuX3NlbGVjdG9ycyA9IFtdO1xuICAgIHRoaXMuX2VuZFBhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgaWYgKCF0aGlzLl9wYXJhbUZhY3RvcnkpIHRoaXMuX3BhcmFtRmFjdG9yeSA9IG5ldyBQYXJhbUZhY3Rvcnkoe30sIHRoaXMudGltZWxpbmUpO1xuXG4gICAgdGhpcy5fb25TZWxlY3RDbGljayA9IHRoaXMuX29uU2VsZWN0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVNlbGVjdG9ycyA9IHRoaXMuX29uQ2hhbmdlU2VsZWN0b3JzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25XaW5kb3dSZXNpemUgPSB0aGlzLl9vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uV2luZG93U2Nyb2xsID0gdGhpcy5fb25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9hbmltUGxheSA9IHRoaXMuX2FuaW1QbGF5LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gYW0uaGlzdG9yeS53cmFwKHtcbiAgICAgICAgZm46IHRoaXMuX29uQ2hhbmdlVHJhbnNmb3JtZXIsXG4gICAgICAgIG5hbWU6ICd0cmFuc2Zvcm0nLFxuICAgICAgICBkZWxheTogMzEyLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwID0gbmV3IFBhcmFtR3JvdXAoe1xuICAgICAgICBuYW1lOiAnbmV3IHRyYWNrJyxcbiAgICAgICAgcGFyYW1GYWN0b3J5OiB0aGlzLl9wYXJhbUZhY3RvcnksXG4gICAgICAgIG9wdGlvbkxpbmU6IHtcbiAgICAgICAgICAgIHRnZ2xNZXJnZTogZmFsc2UsXG4gICAgICAgICAgICB0aXRsZTogJy0nLFxuICAgICAgICAgICAgY29udGV4dE1lbnVPcHRpb25zOiBbXG4gICAgICAgICAgICAgICAge3RleHQ6ICdvcHRpb25zJywgb25TZWxlY3Q6ICgpID0+IHRoaXMuX3Nob3dTZXR0aW5ncygpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ21vdmUgdXAnLCBvblNlbGVjdDogKCkgPT4gdGhpcy5lbWl0KCdtb3ZlJywgdGhpcywgLTEpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ21vdmUgZG93bicsIG9uU2VsZWN0OiAoKSA9PiB0aGlzLmVtaXQoJ21vdmUnLCB0aGlzLCAxKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdkZWxldGUnLCBvblNlbGVjdDogKCkgPT4gdGhpcy5lbWl0KCduZWVkLnJlbW92ZScsIHRoaXMpfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvbkRibGNsaWNrOiAoKSA9PiB0aGlzLl9zaG93U2V0dGluZ3MoKSxcbiAgICAgICAgfSxcbiAgICB9LCB0aGlzLnRpbWVsaW5lKTtcbiAgICB0aGlzLnBhcmFtR3JvdXAud2FrZSgpO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9uKCdjaGFuZ2Uuc3RydWN0dXJlJywgdGhpcy5fb25DaGFuZ2VQYXJhbUdyb3VwU3RydWN0dXJlLCB0aGlzKTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vbignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZUtleXMsIHRoaXMpO1xuXG4gICAgLy90ZXN0IGhhY2tcbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5fZGVUaXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICBkb21FbGVtOiBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgICAgIHRvb2x0aXA6ICdhZGQgbmV3IHBhcmFtZXRlcicsXG4gICAgICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBkaWFsb2dOZXdQYXJhbS5zaG93KHt0cmFjazogdGhpc30pLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ25ld1BhcmFtJyxcbiAgICAgICAgY2hpbGRJZHg6IDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLmRlT3B0aW9uTGluZSA9IHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmRvbUVsZW07XG4gICAgdGhpcy5kZUtleUxpbmUgPSB0aGlzLnBhcmFtR3JvdXAua2V5TGluZS5kb21FbGVtO1xuXG4gICAgdGhpcy5kZU9wdGlvbkxpbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblNlbGVjdENsaWNrKTtcbiAgICB0aGlzLmRlS2V5TGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU2VsZWN0Q2xpY2spO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9uKCdjaGFuZ2UuaGVpZ2h0JywgdGhpcy5fb25DaGFuZ2VIZWlnaHQsIHRoaXMpO1xuXG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMTIzNCk7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICAgIHRoaXMudXNlU2F2ZShvcHQpO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoVHJhY2ssIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRyYWNrLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVHJhY2s7XG5cbnAudHlwZSA9ICdwbGFpbl90cmFja190eXBlJztcblxuXG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGhlaWdodDoge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJhbUdyb3VwLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5wLndha2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lLCB0aGlzKTtcbiAgICB0aGlzLnRpbWVsaW5lLnByb2plY3Qub24oJ2NoYW5nZS5pbnB1dHMnLCB0aGlzLl9vbkNoYW5nZVNlbGVjdG9ycywgdGhpcyk7XG5cbiAgICBfLmludm9rZSh0aGlzLl9wYXJhbXMsICd3YWtlJyk7XG59O1xuXG5wLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUsIHRoaXMpO1xuICAgIHRoaXMudGltZWxpbmUucHJvamVjdC5vZmYoJ2NoYW5nZS5pbnB1dHMnLCB0aGlzLl9vbkNoYW5nZVNlbGVjdG9ycywgdGhpcyk7XG5cbiAgICBfLmludm9rZSh0aGlzLl9wYXJhbXMsICdzbGVlcCcpO1xufTtcblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzYXZlID0ge1xuICAgICAgICBzZWxlY3RvcnM6IF8uY2xvbmUodGhpcy5fc2VsZWN0b3JzKSxcbiAgICAgICAgcGFyYW1UcmVlOiB0aGlzLnBhcmFtR3JvdXAuZ2V0U2F2ZSgpLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBpZiAoIXNhdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NlbGVjdG9ycyA9IHNhdmUuc2VsZWN0b3JzIHx8IFtdO1xuICAgIGlmIChzYXZlLnBhcmFtVHJlZSkgdGhpcy5wYXJhbUdyb3VwLnVzZVNhdmUoc2F2ZS5wYXJhbVRyZWUpO1xuXG4gICAgdGhpcy5fcmVmcmVzaEVuZFBhcmFtcygpO1xuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZEVsZW1zKCk7XG4gICAgdGhpcy5fcmVmcmVzaFBsYXllcigpO1xufTtcblxucC5fZ2V0U2NyaXB0UGFyYW1zID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5fZW5kUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgaWYgKHBhcmFtLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsYXN0VGltZSA9IDA7XG5cbiAgICAgICAgcGFyYW0gPSBwYXJhbS5nZXRTY3JpcHRLZXlzKHtydW5uYWJsZTogb3B0LnJ1bm5hYmxlfSkubWFwKGtleSA9PiB7XG5cbiAgICAgICAgICAgIGtleS5kdXJhdGlvbiA9IChrZXkudGltZSAtIGxhc3RUaW1lKS8xMDAwO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBrZXkudGltZTtcbiAgICAgICAgICAgIGRlbGV0ZSBrZXkudGltZTtcblxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHBhcmFtLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJhbSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGhhbmRsZVRyYW5zZm9ybU9yaWdpbigpO1xuXG4gICAgcmV0dXJuIHBhcmFtcztcblxuXG5cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRyYW5zZm9ybU9yaWdpbigpIHtcblxuICAgICAgICB2YXIgdG94ID0gXy5maW5kKHBhcmFtcywgcGFyYW0gPT4gJ3RyYW5zZm9ybU9yaWdpblgnIGluIHBhcmFtWzBdLm9wdGlvbnMpO1xuICAgICAgICB2YXIgdG95ID0gXy5maW5kKHBhcmFtcywgcGFyYW0gPT4gJ3RyYW5zZm9ybU9yaWdpblknIGluIHBhcmFtWzBdLm9wdGlvbnMpO1xuICAgICAgICB2YXIgdG96ID0gXy5maW5kKHBhcmFtcywgcGFyYW0gPT4gJ3RyYW5zZm9ybU9yaWdpblonIGluIHBhcmFtWzBdLm9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghdG94KSByZXR1cm47XG5cbiAgICAgICAgdmFyIHRvID0gW107XG4gICAgICAgIHRveC5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGlkeCkge1xuXG4gICAgICAgICAgICB0by5wdXNoKHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjoga2V5LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZWFzZToga2V5Lm9wdGlvbnMuZWFzZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodG94ICYmIHRveFtpZHhdID8gdG94W2lkeF0ub3B0aW9ucy50cmFuc2Zvcm1PcmlnaW5YIDogJzUwJScpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICh0b3kgJiYgdG95W2lkeF0gPyB0b3lbaWR4XS5vcHRpb25zLnRyYW5zZm9ybU9yaWdpblkgOiAnNTAlJykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHRveiAmJiB0b3pbaWR4XSA/ICh0b3pbaWR4XS5vcHRpb25zLnRyYW5zZm9ybU9yaWdpblogfHwgJzBweCcpIDogJycpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG94KSBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveCksIDEpO1xuICAgICAgICBpZiAodG95KSBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveSksIDEpO1xuICAgICAgICBpZiAodG96KSBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveiksIDEpO1xuICAgICAgICBwYXJhbXMucHVzaCh0byk7XG4gICAgfVxufTtcblxucC5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcm9vdFRsID0gbmV3IFRpbWVsaW5lTWF4KCkucGF1c2UoKSxcbiAgICAgICAgc2NyaXB0UGFyYW1zID0gdGhpcy5fZ2V0U2NyaXB0UGFyYW1zKHtydW5uYWJsZTogdHJ1ZX0pLFxuICAgICAgICBzZWxlY3RlZEVsZW1zID0gdGhpcy5fc2VsZWN0ZWRFbGVtcztcblxuICAgIHNjcmlwdFBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZU1heCgpO1xuICAgICAgICByb290VGwuYWRkKHRsLCAwKTtcblxuICAgICAgICBwYXJhbS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICAgICAgdGwudG8oc2VsZWN0ZWRFbGVtcywga2V5LmR1cmF0aW9uLCBrZXkub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJvb3RUbDtcbn07XG5cbnAuZ2V0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGNvZGUgPSAnJywgc2VsZWN0b3JzLFxuICAgICAgICB0aW1lbGluZXMgPSB0aGlzLl9nZXRTY3JpcHRQYXJhbXMoe3J1bm5hYmxlOiBmYWxzZX0pO1xuXG5cbiAgICAvL1RPRE86IG1lcmdlIHRpbWVsaW5lcyBpZiBpdCdzIHBvc3NpYmxlXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAvLyAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aW1lbGluZXMubGVuZ3RoOyArK2opIHtcblxuICAgIC8vICAgICAgICAgaWYgKGkgIT09IGogJiYgdGltZWxpbmVzW2ldLmxlbmd0aCA9PT0gdGltZWxpbmVzW2pdLmxlbmd0aCkge1xuXG4gICAgLy8gICAgICAgICAgICAgdmFyIG1hdGNoID0gdGltZWxpbmVzW2ldLmV2ZXJ5KGZ1bmN0aW9uIChpS2V5LCBpZHgpIHtcblxuICAgIC8vICAgICAgICAgICAgICAgICB2YXIgaktleSA9IHRpbWVsaW5lc1tqXVtpZHhdO1xuXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBpS2V5LnRpbWUgPT09IGpLZXkudGltZSAmJiBpS2V5LmVhc2UubWF0Y2goaktleS5lYXNlKTtcbiAgICAvLyAgICAgICAgICAgICB9KTtcblxuICAgIC8vICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuXG4gICAgLy8gICAgICAgICAgICAgICAgIHRpbWVsaW5lc1tpXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGlkeCkge1xuXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBfLmFzc2lnbihrZXksIHRpbWVsaW5lc1tqXVtpZHhdKTtcblxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVzLnNwbGljZShqLCBpZHgpO1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaWYgKC0taiA8IGkpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIHNlbGVjdG9ycyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuX3NlbGVjdG9ycyk7XG4gICAgdGltZWxpbmVzID0gSlNPTi5zdHJpbmdpZnkodGltZWxpbmVzKTtcbiAgICAvL3JlbW92ZSBxdW90ZXMgYXJvdW5kIHRoZSBFYXNlIGNvbnN0cnVjdG9yIGNhbGxzXG4gICAgLy9UT0RPOiBkbyB0aGlzIHNvbWVob3cgbmljZXJcbiAgICB0aW1lbGluZXMgPSB0aW1lbGluZXMucmVwbGFjZSgvXCJlYXNlXCI6XCIoLio/KVwiL2csICdcImVhc2VcIjokMScpO1xuXG4gICAgY29kZSA9IE11c3RhY2hlLnJlbmRlcihtc3RQbGF5ZXIsIHtcbiAgICAgICAgdGltZWxpbmVzOiB0aW1lbGluZXMsXG4gICAgICAgIHNlbGVjdG9yczogc2VsZWN0b3JzLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvZGU7XG59O1xuXG5wLmFkZFBhcmFtID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIHBhcmFtID0gdGhpcy5nZXRQYXJhbShvcHQubmFtZSk7XG5cbiAgICBpZiAocGFyYW0pIHtcblxuICAgICAgICBpZiAob3B0LmtleXMpIHtcblxuICAgICAgICAgICAgb3B0LmtleXMuZm9yRWFjaChwYXJhbS5hZGRLZXksIHBhcmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnaGlkZGVuJyBpbiBvcHQpIHtcblxuICAgICAgICAgICAgcGFyYW0uaGlkZGVuID0gb3B0LmhpZGRlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5wYXJhbUdyb3VwLmFkZFBhcmFtKG9wdCk7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hFbmRQYXJhbXMoKTtcbiAgICAgICAgcGFyYW0gPSBfLmZpbmQodGhpcy5fZW5kUGFyYW1zLCB7bmFtZTogb3B0Lm5hbWV9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW07XG59O1xuXG5wLmdldFBhcmFtID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9lbmRQYXJhbXMuZmluZChmdW5jdGlvbihwYXJhbSkge1xuXG4gICAgICAgIHJldHVybiBwYXJhbS5uYW1lID09PSBuYW1lO1xuICAgIH0pO1xufTtcblxucC5zZWxlY3QgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB0cnVlO1xuXG5cbiAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IFRyYW5zaGFuZCgpO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYW5zZm9ybWVyLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZVRyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbldpbmRvd1Njcm9sbCk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWRFbGVtcygpO1xuXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkRWxlbXMubGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c1RyYW5zZm9ybWVyKG9wdC5mb2N1c0VsZW0gfHwgdGhpcy5fc2VsZWN0ZWRFbGVtc1swXSk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9wdGlvbkxpbmUuaGlnaGxpZ2h0ID0gdHJ1ZTtcblxuICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgdGhpcyk7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYmx1clRyYW5zZm9ybWVyKCk7XG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5oaWdobGlnaHQgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uV2luZG93U2Nyb2xsKTtcblxuICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lcikge1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyLm9mZignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUcmFuc2Zvcm1lciwgdGhpcyk7XG4gICAgfVxufTtcblxucC5pc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2lzU2VsZWN0ZWQ7XG59O1xuXG5wLnJlbmRlclRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKHRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aW1lID0gdGhpcy50aW1lbGluZSA/IHRoaXMudGltZWxpbmUuY3VyclRpbWUgOiAwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zZWxlY3RvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wbGF5ZXIudGltZSh0aW1lLzEwMDApO1xuICAgIHJldHVybjtcbn07XG5cbnAucGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9hbmltUGxheSgpO1xufTtcblxucC5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5UmFmaWQpO1xufTtcblxucC5nZXRNYWduZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5wYXJhbUdyb3VwLmtleUxpbmUuZ2V0S2V5VGltZXMoKTtcbn07XG5cbnAuX3Nob3dTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGRpYWxvZ1RyYWNrT3B0aW9ucy5zaG93KHtcbiAgICAgICAgbmFtZTogdGhpcy5wYXJhbUdyb3VwLnRpdGxlLFxuICAgICAgICBzZWxlY3RvcnM6IHRoaXMuX3NlbGVjdG9ycyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAgICdjaGFuZ2UubmFtZSc6IG5hbWUgPT4gdGhpcy5wYXJhbUdyb3VwLnRpdGxlID0gbmFtZSxcbiAgICAgICAgICAgICdjaGFuZ2Uuc2VsZWN0b3JzJzogdGhpcy5fb25DaGFuZ2VTZWxlY3RvcnMsXG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuXG5wLl9hbmltUGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2FuaW1QbGF5UmFmaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5KTtcblxuICAgIHRoaXMucmVuZGVyVGltZSh0aGlzLnRpbWVsaW5lLmN1cnJUaW1lKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fb25TZWxlY3RDbGljayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuc2VsZWN0KCk7XG59O1xuXG5wLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gZnVuY3Rpb24ocGFyYW1zLCB0eXBlKSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG5cbiAgICB2YXIgYWRkID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICd4JyB8fCBuYW1lID09PSAneScpIHtcblxuICAgICAgICAgICAgbGV0IGJlemllclBhcmFtID0gdGhpcy5nZXRQYXJhbSgnYmV6aWVyJyk7XG5cbiAgICAgICAgICAgIGlmIChiZXppZXJQYXJhbSAmJiAhYmV6aWVyUGFyYW0uaGlkZGVuKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gYmV6aWVyUGFyYW0uZ2V0S2V5KHRpbWUpLFxuICAgICAgICAgICAgICAgICAgICBrZXlPcHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAga2V5T3B0ID0ga2V5LmdldFNhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7eCwgeX0gPSBiZXppZXJQYXJhbS5nZXRWYWx1ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPIGJlemllclBhcmFtLmluemVydFBvaW50KHRpbWUsIC4uLilcbiAgICAgICAgICAgICAgICAgICAga2V5T3B0ID0ge3RpbWUsIHZhbHVlOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiB7eCwgeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eCwgeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3gsIHl9LFxuICAgICAgICAgICAgICAgICAgICB9XX07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFBvaW50ID0gXy5sYXN0KGtleU9wdC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpZmYgPSB2YWx1ZSAtIGxhc3RQb2ludC5hbmNob3JbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQuYW5jaG9yW25hbWVdICs9IGRpZmY7XG4gICAgICAgICAgICAgICAgbGFzdFBvaW50LmhhbmRsZUxlZnRbbmFtZV0gKz0gZGlmZjtcbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQuaGFuZGxlUmlnaHRbbmFtZV0gKz0gZGlmZjtcblxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBiZXppZXJQYXJhbS5hZGRLZXkoa2V5T3B0KTtcbiAgICAgICAgICAgICAgICBrZXkuZW1pdCgnY2hhbmdlLnZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLmFkZFBhcmFtKHtuYW1lOiBuYW1lfSk7XG5cbiAgICAgICAgcGFyYW0uYWRkS2V5KHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIGlmICh0eXBlID09PSAndHJhbnNmb3JtJykge1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0eCc6IGFkZCgneCcsIHBhcmFtc1tuYW1lXSArICdweCcpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0eSc6IGFkZCgneScsIHBhcmFtc1tuYW1lXSArICdweCcpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzeCc6IGFkZCgnc2NhbGVYJywgcGFyYW1zW25hbWVdKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3knOiBhZGQoJ3NjYWxlWScsIHBhcmFtc1tuYW1lXSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3J6JzogYWRkKCdyb3RhdGlvblonLCAocGFyYW1zW25hbWVdIC8gTWF0aC5QSSAqIDE4MCkgKyAnZGVnJyk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ294JzogYWRkKCd0cmFuc2Zvcm1PcmlnaW5YJywgKHBhcmFtc1tuYW1lXSAqIDEwMCkgKyAnJScpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdveSc6IGFkZCgndHJhbnNmb3JtT3JpZ2luWScsIChwYXJhbXNbbmFtZV0gKiAxMDApICsgJyUnKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlUGFyYW1Hcm91cFN0cnVjdHVyZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hFbmRQYXJhbXMoKTtcbiAgICB0aGlzLl9yZWZyZXNoUGxheWVyKCk7XG4gICAgdGhpcy5yZW5kZXJUaW1lKCk7XG59O1xuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKHRoaXMuX2lzUGxheWluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJUaW1lKHRpbWUpO1xuICAgIHRoaXMuZm9jdXNUcmFuc2Zvcm1lcigpO1xufTtcblxucC5fb25DaGFuZ2VLZXlzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaFBsYXllcigpO1xuICAgIHRoaXMucmVuZGVyVGltZSgpO1xuICAgIHRoaXMuZm9jdXNUcmFuc2Zvcm1lcigpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5fb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZvY3VzVHJhbnNmb3JtZXIoKTtcbn07XG5cbnAuX29uV2luZG93U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mb2N1c1RyYW5zZm9ybWVyKCk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZSxcbiAgICAgICAgYWxsSGF2ZUtleSA9IHRoaXMuX2lzQWxsUGFyYW1zSGF2ZUtleSh0aW1lKSxcbiAgICAgICAgZmxhZyA9IGFtLmhpc3Rvcnkuc3RhcnRGbGFnKCd0b2dnbGUga2V5cycpO1xuXG4gICAgdGhpcy5fZW5kUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgaWYgKHBhcmFtLmlzVmFsaWQoKSkge1xuXG4gICAgICAgICAgICBpZiAoYWxsSGF2ZUtleSkge1xuICAgICAgICAgICAgICAgIHBhcmFtLnJlbW92ZUtleShwYXJhbS5nZXRLZXkodGltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uYWRkS2V5KHt0aW1lOiB0aW1lfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFtLmhpc3RvcnkuZW5kRmxhZyhmbGFnKTtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsSGlkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMpIHtcbiAgICAgICAgdGhpcy5fc2hvd1NlbGVjdGVkRWxlbXMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2hpZGVTZWxlY3RlZEVsZW1zKCk7XG4gICAgfVxufTtcblxucC5fb25DaGFuZ2VTZWxlY3RvcnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL3RhcmdldHNJbnB1dCBlZGl0cyB0aGUgdGhpcy5fc2VsZWN0ZWRFbGVtcyBhcnJheSBzbyB0aGVyZSBpcyBubyBuZWVkIHRvIHJlZnJlc2ggaXRcblxuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZEVsZW1zKCk7XG4gICAgdGhpcy5fcmVmcmVzaFBsYXllcigpO1xuXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkRWxlbXMuaW5kZXhPZih0aGlzLl9jdXJySGFuZGxlZERlKSA9PT0gLTEpIHtcblxuICAgICAgICB0aGlzLl9jdXJySGFuZGxlZERlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRoaXMuZm9jdXNUcmFuc2Zvcm1lcih0aGlzLl9jdXJySGFuZGxlZERlIHx8IHRoaXMuX3NlbGVjdGVkRWxlbXNbMF0pO1xufTtcblxucC5fb25DaGFuZ2VIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5oZWlnaHQnLCB0aGlzKTtcbn07XG5cbnAuX2lzQWxsUGFyYW1zSGF2ZUtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fZW5kUGFyYW1zLmV2ZXJ5KGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIHJldHVybiBwYXJhbS5nZXRLZXkodGltZSkgfHwgIXBhcmFtLmlzVmFsaWQoKTtcbiAgICB9KTtcbn07XG5cbnAuaXNPd25lZERvbUVsZW0gPSBmdW5jdGlvbiAoZGUpIHtcblxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEVsZW1zLmluZGV4T2YoZGUpICE9PSAtMTtcbn07XG5cblxuXG5cblxuXG5wLl9yZWZyZXNoUGxheWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX3BsYXllcikgdGhpcy5fcGxheWVyLmtpbGwoKTtcblxuICAgIHRoaXMuX3BsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XG59O1xuXG5wLl9yZWZyZXNoRW5kUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZW5kUGFyYW1zID0gdGhpcy5wYXJhbUdyb3VwLmdldEVuZFBhcmFtcygpO1xufTtcblxucC5fcmVmcmVzaFNlbGVjdGVkRWxlbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgbGlzdCA9IFtdO1xuXG4gICAgdGhpcy5fc2VsZWN0b3JzLmZvckVhY2goc2VsZWN0b3IgPT4ge1xuXG4gICAgICAgIGlmIChzZWxlY3Rvci50eXBlID09PSAnY3NzJykge1xuXG4gICAgICAgICAgICBhZGQoc2VsZWN0b3IudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlbGVjdG9yLnR5cGUgPT09ICdpbnB1dCcpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMudGltZWxpbmUucHJvamVjdC5pbnB1dHM7XG5cbiAgICAgICAgICAgIHNlbGVjdG9yLnZhbHVlLnNwbGl0KCcuJykuZXZlcnkoZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudFtuYW1lXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGFkZChwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1zID0gbGlzdDtcblxuICAgIGZ1bmN0aW9uIGFkZChpdGVtKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpdGVtKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vaXQncyBlYXN5IHRvIGdldCBhbiBpbnZhbGlkIHNlbGVjdG9yIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGFtLmRlUm9vdC5xdWVyeVNlbGVjdG9yQWxsKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbXMpO1xuICAgICAgICAgICAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChpdGVtcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdpbmRvdy5qUXVlcnkgJiYgaXRlbSBpbnN0YW5jZW9mIHdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChpdGVtLnRvQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi91dGlscy9PcHRpb25MaW5lJyk7XG5cbnZhciBjdXJyRWFzZSxcbiAgICB0d2luRWFzZXMgPSBbXSxcbiAgICBiZWl6ZXJFZGl0b3IsXG4gICAgb3B0Um91Z2hFYXNlLFxuICAgIG9wdFJvdWdoU3RyZW5ndGgsXG4gICAgb3B0Um91Z2hQb2ludHMsXG4gICAgb3B0Um91Z2hDbGFtcCxcbiAgICBvcHRSb3VnaFJhbmRvbWlzZSxcbiAgICBvcHRSb3VnaFRhcGVyLFxuICAgIG9wdFJvdWdoU3RyZW5ndGgsXG4gICAgZGlhbG9nICA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogJ0tleScsXG4gICAgfSk7XG5cbmNyZWF0ZUNvbnRlbnQoKTtcblxuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hFYXNlJywgaW5wdXQ6IG9wdFJvdWdoRWFzZS5pbnB1dHMuaW5wdXR9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3JvdWdoU3RyZW5ndGgnLCBpbnB1dDogb3B0Um91Z2hTdHJlbmd0aC5pbnB1dHMuaW5wdXR9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3JvdWdoUG9pbnRzJywgaW5wdXQ6IG9wdFJvdWdoUG9pbnRzLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hDbGFtcCcsIGlucHV0OiBvcHRSb3VnaENsYW1wLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hSYW5kb21pc2UnLCBpbnB1dDogb3B0Um91Z2hSYW5kb21pc2UuaW5wdXRzLmlucHV0fSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaFRhcGVyJywgaW5wdXQ6IG9wdFJvdWdoVGFwZXIuaW5wdXRzLmlucHV0fSk7XG5cblxuXG5cbmRpYWxvZy5zaG93ID0gZnVuY3Rpb24gKG9wdD17fSkge1xuXG4gICAgb3B0LnJvdWdoRWFzZSA9IG9wdC5lYXNlLnJvdWdoRWFzZTtcbiAgICBvcHQucm91Z2hTdHJlbmd0aCA9IG9wdC5lYXNlLnJvdWdoU3RyZW5ndGg7XG4gICAgb3B0LnJvdWdoUG9pbnRzID0gb3B0LmVhc2Uucm91Z2hQb2ludHM7XG4gICAgb3B0LnJvdWdoQ2xhbXAgPSBvcHQuZWFzZS5yb3VnaENsYW1wO1xuICAgIG9wdC5yb3VnaFJhbmRvbWlzZSA9IG9wdC5lYXNlLnJvdWdoUmFuZG9taXNlO1xuICAgIG9wdC5yb3VnaFRhcGVyID0gb3B0LmVhc2Uucm91Z2hUYXBlcjtcblxuICAgIERpYWxvZy5wcm90b3R5cGUuc2hvdy5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICBpZiAoISgnZWFzZScgaW4gb3B0KSkgdGhyb3coJ29wdC5lYXNlIG11c3QgYmUgc2V0Jyk7XG5cbiAgICBjdXJyRWFzZSA9IG9wdC5lYXNlO1xuICAgIHR3aW5FYXNlcyA9IG9wdC50d2luRWFzZXMgfHwgW107XG5cbiAgICBiZWl6ZXJFZGl0b3Iuc2V0RWFzZShjdXJyRWFzZSk7XG59O1xuXG5kaWFsb2cuaGlkZSA9IGZ1bmN0aW9uIChvcHQ9e30pIHtcblxuICAgIGlmIChjdXJyRWFzZSkge1xuXG4gICAgICAgIGxldCBzYXZlID0gY3VyckVhc2UuZ2V0U2F2ZSgpXG4gICAgICAgIHR3aW5FYXNlcy5mb3JFYWNoKGUgPT4gZS51c2VTYXZlKHNhdmUpKTtcbiAgICB9XG5cbiAgICBEaWFsb2cucHJvdG90eXBlLmhpZGUuY2FsbCh0aGlzLCBvcHQpO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcblxuICAgIGRpYWxvZy5hZGRCdXR0b24oJ29rJywgJ2hpZGUnKTtcblxuICAgIGFtZ3VpLmNyZWF0ZUJ0bih7XG4gICAgICAgIHRleHQ6ICdzYXZlL2xvYWQgZWFzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgIH0pO1xuXG4gICAgYmVpemVyRWRpdG9yID0gYW1ndWkuY3JlYXRlQmV6aWVyRWRpdG9yKHtcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgIH0pO1xuXG5cbiAgICBvcHRSb3VnaEVhc2UgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAncm91Z2ggZWFzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB2ID0+IHNldFJvdWdoT3B0aW9uc1Zpc2liaWxpdHkodiksXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hTdHJlbmd0aCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdzdHJlbmd0aCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMC4wMixcbiAgICAgICAgICAgIHByZWNpc2lvbjogMlxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIG9wdFJvdWdoUG9pbnRzID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3BvaW50cycsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMSxcbiAgICAgICAgICAgIHByZWNpc2lvbjogMCxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICBvcHRSb3VnaENsYW1wID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ2NsYW1wJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0J1xuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIG9wdFJvdWdoUmFuZG9taXNlID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3JhbmRvbWlzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCdcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICBvcHRSb3VnaFRhcGVyID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3RhcGVyJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgICAgICBvcHRpb25zOiBbJ25vbmUnLCAnaW4nLCAnb3V0JywgJ2JvdGgnXVxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNldFJvdWdoT3B0aW9uc1Zpc2liaWxpdHkodikge1xuXG4gICAgICAgIG9wdFJvdWdoU3RyZW5ndGguZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gdiA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIG9wdFJvdWdoUG9pbnRzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICBvcHRSb3VnaENsYW1wLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICBvcHRSb3VnaFJhbmRvbWlzZS5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgb3B0Um91Z2hUYXBlci5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9XG4gICAgc2V0Um91Z2hPcHRpb25zVmlzaWJpbGl0eShmYWxzZSk7XG59XG5cbi8vIHAuX29uU2VsZWN0RWFzZSA9IGZ1bmN0aW9uIChlKSB7XG5cbi8vICAgICB0aGlzLmVhc2UgPSBlLmRldGFpbC5zZWxlY3Rpb247XG4vLyB9O1xuXG4vLyBwLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbi8vICAgICB0aGlzLmVhc2UgPSB0aGlzLl9pbnBFYXNlLnZhbHVlO1xuLy8gfTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIFN0cmluZ0lucHV0ID0gcmVxdWlyZSgnLi4vdXRpbHMvU3RyaW5nSW5wdXQnKTtcbnZhciBzaG9ydGN1dHMgPSByZXF1aXJlKCcuLi9zaG9ydGN1dHMnKTtcblxudmFyIEdTQVBTcGVjUHJvcHMgPSAnV2Via2l0VXNlclNlbGVjdCxhbHBoYSxhdXRvQWxwaGEsYXV0b1JvdW5kLGJhY2tmYWNlVmlzaWJpbGl0eSxiYWNrZ3JvdW5kUG9zaXRpb24sYmFja2dyb3VuZFNpemUsYmV6aWVyLGJvcmRlcixib3JkZXJSYWRpdXMsYm9yZGVyV2lkdGgsYm94U2hhZG93LGNsYXNzTmFtZSxjbGVhclByb3BzLGNsaXAsY3NzRmxvYXQsZGlyZWN0aW9uYWxSb3RhdGlvbixmbG9hdCxmb3JjZTNELG1hcmdpbixvcGFjaXR5LHBhZGRpbmcscGFyc2VUcmFuc2Zvcm0scGVyc3BlY3RpdmUscGVyc3BlY3RpdmVPcmlnaW4scGh5c2ljczJELHBoeXNpY3NQcm9wcyxyb3RhdGlvbixyb3RhdGlvblgscm90YXRpb25ZLHJvdGF0aW9uWixzY2FsZSxzY2FsZVgsc2NhbGVZLHNjYWxlWixzaG9ydFJvdGF0aW9uLHNob3J0Um90YXRpb25YLHNob3J0Um90YXRpb25ZLHNob3J0Um90YXRpb25aLHNrZXdYLHNrZXdZLHN0cmljdFVuaXRzLHN0eWxlRmxvYXQsdGV4dFNoYWRvdyx0aHJvd1Byb3BzLHRyYW5zZm9ybSx0cmFuc2Zvcm1PcmlnaW4sdHJhbnNmb3JtUGVyc3BlY3RpdmUsdHJhbnNmb3JtU3R5bGUsdXNlclNlbGVjdCx4LHkseic7XG52YXIgQU1DU1NNb2R1bGVQcm9wcyA9ICd0cmFuc2xhdGUnO1xudmFyIE1ETkNTU1Byb3BzID0gJ2FuaW1hdGlvbixhbmltYXRpb25EZWxheSxhbmltYXRpb25EaXJlY3Rpb24sYW5pbWF0aW9uRHVyYXRpb24sYW5pbWF0aW9uRmlsbE1vZGUsYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsYW5pbWF0aW9uTmFtZSxhbmltYXRpb25QbGF5U3RhdGUsYW5pbWF0aW9uVGltaW5nRnVuY3Rpb24sdHJhbnNpdGlvbix0cmFuc2l0aW9uRGVsYXksdHJhbnNpdGlvbkR1cmF0aW9uLHRyYW5zaXRpb25Qcm9wZXJ0eSx0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sdHJhbnNmb3JtLHRyYW5zZm9ybU9yaWdpbix0cmFuc2Zvcm1TdHlsZSxwZXJzcGVjdGl2ZSxwZXJzcGVjdGl2ZU9yaWdpbixiYWNrZmFjZVZpc2liaWxpdHksY29sb3Isb3BhY2l0eSxjb2x1bW5zLGNvbHVtbldpZHRoLGNvbHVtbkNvdW50LGNvbHVtbkdhcCxjb2x1bW5SdWxlLGNvbHVtblJ1bGVDb2xvcixjb2x1bW5SdWxlU3R5bGUsY29sdW1uUnVsZVdpZHRoLGJyZWFrQmVmb3JlLGJyZWFrQWZ0ZXIsYnJlYWtJbnNpZGUsY29sdW1uU3Bhbixjb2x1bW5GaWxsLGh5cGhlbnMsbGV0dGVyU3BhY2luZyx3b3JkV3JhcCxvdmVyZmxvd1dyYXAsdGV4dFRyYW5zZm9ybSx0YWJTaXplLHRleHRBbGlnbix0ZXh0QWxpZ25MYXN0LHRleHRJbmRlbnQsd2hpdGVTcGFjZSx3b3JkQnJlYWssd29yZFNwYWNpbmcsbGluZUJyZWFrLHRleHREZWNvcmF0aW9uLHRleHREZWNvcmF0aW9uQ29sb3IsdGV4dERlY29yYXRpb25TdHlsZSx0ZXh0RGVjb3JhdGlvbkxpbmUsdGV4dERlY29yYXRpb25Ta2lwLHRleHRTaGFkb3csdGV4dFVuZGVybGluZVBvc2l0aW9uLGRpcmVjdGlvbix1bmljb2RlQmlkaSx3cml0aW5nTW9kZSx0ZXh0T3JpZW50YXRpb24sYWxpZ25Db250ZW50LGFsaWduSXRlbXMsYWxpZ25TZWxmLGZsZXhCYXNpcyxmbGV4RGlyZWN0aW9uLGZsZXhGbG93LGZsZXhHcm93LGZsZXhTaHJpbmssZmxleCxmbGV4V3JhcCxqdXN0aWZ5Q29udGVudCxvcmRlcixiYWNrZ3JvdW5kLGJhY2tncm91bmRBdHRhY2htZW50LGJhY2tncm91bmRDbGlwLGJhY2tncm91bmRDb2xvcixiYWNrZ3JvdW5kSW1hZ2UsYmFja2dyb3VuZE9yaWdpbixiYWNrZ3JvdW5kUG9zaXRpb24sYmFja2dyb3VuZFJlcGVhdCxiYWNrZ3JvdW5kU2l6ZSxib3JkZXIsYm9yZGVyQm90dG9tLGJvcmRlckJvdHRvbUNvbG9yLGJvcmRlckJvdHRvbUxlZnRSYWRpdXMsYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsYm9yZGVyQm90dG9tU3R5bGUsYm9yZGVyQm90dG9tV2lkdGgsYm9yZGVyQ29sb3IsYm9yZGVySW1hZ2UsYm9yZGVySW1hZ2VPdXRzZXQsYm9yZGVySW1hZ2VSZXBlYXQsYm9yZGVySW1hZ2VTbGljZSxib3JkZXJJbWFnZVNvdXJjZSxib3JkZXJJbWFnZVdpZHRoLGJvcmRlckxlZnQsYm9yZGVyTGVmdENvbG9yLGJvcmRlckxlZnRTdHlsZSxib3JkZXJMZWZ0V2lkdGgsYm9yZGVyUmFkaXVzLGJvcmRlclJpZ2h0LGJvcmRlclJpZ2h0Q29sb3IsYm9yZGVyUmlnaHRTdHlsZSxib3JkZXJSaWdodFdpZHRoLGJvcmRlclN0eWxlLGJvcmRlclRvcCxib3JkZXJUb3BDb2xvcixib3JkZXJUb3BMZWZ0UmFkaXVzLGJvcmRlclRvcFJpZ2h0UmFkaXVzLGJvcmRlclRvcFN0eWxlLGJvcmRlclRvcFdpZHRoLGJvcmRlcldpZHRoLGJveERlY29yYXRpb25CcmVhayxib3hTaGFkb3csbWFyZ2luLG1hcmdpbkJvdHRvbSxtYXJnaW5MZWZ0LG1hcmdpblJpZ2h0LG1hcmdpblRvcCxwYWRkaW5nLHBhZGRpbmdCb3R0b20scGFkZGluZ0xlZnQscGFkZGluZ1JpZ2h0LHBhZGRpbmdUb3AsYm94U2l6aW5nLG1heEhlaWdodCxtaW5IZWlnaHQsaGVpZ2h0LG1heFdpZHRoLG1pbldpZHRoLHdpZHRoLG92ZXJmbG93LG92ZXJmbG93WCxvdmVyZmxvd1ksdmlzaWJpbGl0eSxib3JkZXJDb2xsYXBzZSxib3JkZXJTcGFjaW5nLGNhcHRpb25TaWRlLGVtcHR5Q2VsbHMsdGFibGVMYXlvdXQsdmVydGljYWxBbGlnbixib3R0b20sbGVmdCxyaWdodCx0b3AsZmxvYXQsY2xlYXIscG9zaXRpb24sekluZGV4LGZvbnQsZm9udEZhbWlseSxmb250VmFyaWFudCxmb250V2VpZ2h0LGZvbnRTdHJldGNoLGZvbnRTaXplLGxpbmVIZWlnaHQsZm9udEZlYXR1cmVTZXR0aW5ncyxmb250TGFuZ3VhZ2VPdmVycmlkZSxmb250U2l6ZUFkanVzdCxmb250U3R5bGUsZm9udFN5bnRoZXNpcyxmb250S2VybmluZyxmb250VmFyaWFudExpZ2F0dXJlcyxmb250VmFyaWFudFBvc2l0aW9uLGZvbnRWYXJpYW50Q2Fwcyxmb250VmFyaWFudE51bWVyaWMsZm9udFZhcmlhbnRFYXN0QXNpYW4sZm9udFZhcmlhbnRBbHRlcm5hdGVzLG9iamVjdEZpdCxvYmplY3RQb3NpdGlvbixpbWFnZVJlbmRlcmluZyxpbWFnZU9yaWVudGF0aW9uLGNvdW50ZXJJbmNyZW1lbnQsY291bnRlclJlc2V0LGxpc3RTdHlsZSxsaXN0U3R5bGVJbWFnZSxsaXN0U3R5bGVQb3NpdGlvbixsaXN0U3R5bGVUeXBlLG9ycGhhbnMscGFnZUJyZWFrQWZ0ZXIscGFnZUJyZWFrQmVmb3JlLHBhZ2VCcmVha0luc2lkZSx3aWRvd3Msb3V0bGluZSxvdXRsaW5lQ29sb3Isb3V0bGluZVdpZHRoLG91dGxpbmVTdHlsZSxvdXRsaW5lT2Zmc2V0LGN1cnNvcixyZXNpemUsdGV4dE92ZXJmbG93LGNvbnRlbnQscXVvdGVzLGJveERlY29yYXRpb25CcmVhayxjbGlwLGRpc3BsYXksaW1lTW9kZSxhbGwsd2lsbENoYW5nZSxiYWNrZ3JvdW5kQmxlbmRNb2RlLG1peEJsZW5kTW9kZSxpc29sYXRpb24sc2hhcGVPdXRzaWRlLHNoYXBlTWFyZ2luLHNoYXBlSW1hZ2VUaHJlc2hvbGQsdG91Y2hBY3Rpb24saW5pdGlhbExldHRlcixpbml0aWFsTGV0dGVyQWxpZ24sZGlzcGxheUluc2lkZSxkaXNwbGF5T3V0c2lkZSxkaXNwbGF5TGlzdCxib3hTdXBwcmVzcyxzY3JvbGxCZWhhdmlvcixibG9ja1NpemUsaW5saW5lU2l6ZSxtaW5CbG9ja1NpemUsbWluSW5saW5lU2l6ZSxtYXhCbG9ja1NpemUsbWF4SW5saW5lU2l6ZSxtYXJnaW5CbG9ja1N0YXJ0LG1hcmdpbkJsb2NrRW5kLG1hcmdpbklubGluZVN0YXJ0LG1hcmdpbklubGluZUVuZCxvZmZzZXRCbG9ja1N0YXJ0LG9mZnNldEJsb2NrRW5kLG9mZnNldElubGluZVN0YXJ0LG9mZnNldElubGluZUVuZCxwYWRkaW5nQmxvY2tTdGFydCxwYWRkaW5nQmxvY2tFbmQscGFkZGluZ0lubGluZVN0YXJ0LHBhZGRpbmdJbmxpbmVFbmQsYm9yZGVyQmxvY2tTdGFydFdpZHRoLGJvcmRlckJsb2NrRW5kV2lkdGgsYm9yZGVySW5saW5lU3RhcnRXaWR0aCxib3JkZXJJbmxpbmVFbmRXaWR0aCxib3JkZXJCbG9ja1N0YXJ0U3R5bGUsYm9yZGVyQmxvY2tFbmRTdHlsZSxib3JkZXJJbmxpbmVTdGFydFN0eWxlLGJvcmRlcklubGluZUVuZFN0eWxlLGJvcmRlckJsb2NrU3RhcnRDb2xvcixib3JkZXJCbG9ja0VuZENvbG9yLGJvcmRlcklubGluZVN0YXJ0Q29sb3IsYm9yZGVySW5saW5lRW5kQ29sb3IsYm9yZGVyQmxvY2tTdGFydCxib3JkZXJCbG9ja0VuZCxib3JkZXJJbmxpbmVTdGFydCxib3JkZXJJbmxpbmVFbmQnO1xuXG52YXIgaW5pdGVkID0gZmFsc2UsXG4gICAgaW5wUGFyYW1OYW1lLFxuICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogJ05ldyBwYXJhbScsXG4gICAgfSk7XG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcblxuZGlhbG9nLmFkZEJ1dHRvbignYWRkJywgYWRkKTtcbmRpYWxvZy5hZGRCdXR0b24oJ2Nsb3NlJywgJ2hpZGUnKTtcblxuZGlhbG9nLm9uKCdzaG93JywgZnVuY3Rpb24gKCkge1xuXG4gICAgY3JlYXRlQ29udGVudCgpO1xuXG4gICAgc2hvcnRjdXRzLm9uKCdlbnRlcicsIGFkZCk7XG5cbiAgICBpbnBQYXJhbU5hbWUudmFsdWUgPSAnJztcbn0pO1xuXG5kaWFsb2cub24oJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICBzaG9ydGN1dHMub2ZmKCdlbnRlcicsIGFkZCk7XG59KTtcblxuXG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICd0cmFjaycsIGlucHV0OiBpbnBQYXJhbU5hbWV9KTtcblxuXG5mdW5jdGlvbiBhZGQoKSB7XG5cbiAgICBpZiAoaW5wUGFyYW1OYW1lLnZhbHVlKSB7XG5cbiAgICAgICAgZGlhbG9nLnRyYWNrLmFkZFBhcmFtKHtuYW1lOiBpbnBQYXJhbU5hbWUudmFsdWV9KTtcbiAgICB9XG5cbiAgICBkaWFsb2cuaGlkZSgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuXG4gICAgaWYgKGluaXRlZCkgcmV0dXJuO1xuICAgIGluaXRlZCA9IHRydWU7XG5cbiAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbQU1DU1NNb2R1bGVQcm9wcyxHU0FQU3BlY1Byb3BzLE1ETkNTU1Byb3BzXS5qb2luKCkuc3BsaXQoJywnKTtcblxuICAgIGlucFBhcmFtTmFtZSA9IG5ldyBTdHJpbmdJbnB1dCh7XG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdjc3MgcGFyYW1ldGVyIG5hbWUnLFxuICAgICAgICBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnMsXG4gICAgICAgIHZhbHVlOiAncmVmJ1xuICAgIH0pO1xufVxuXG5cblxuXG5cblxuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvQ1NTX3ZhbHVlc19zeW50YXhcblxuLy8gdmFyIG1kbkNzc1N5bnRheCA9IFtdO1xuLy8gJCgndGJvZHkgdHInKS5lYWNoKGZ1bmN0aW9uICgpIHtcbi8vXG4vLyAgICAgdmFyIGNoaWxkcmVuID0gJCh0aGlzKS5jaGlsZHJlbigpO1xuLy9cbi8vICAgICB2YXIgaW5mbyA9IHtcbi8vICAgICAgICAgcHJvcGVydHk6ICQoY2hpbGRyZW5bMF0pLnRleHQoKSxcbi8vICAgICAgICAgc3ludGF4OiAkKGNoaWxkcmVuWzFdKS50ZXh0KCksXG4vLyAgICAgICAgIGluaXRpYWxWYWx1ZTogJChjaGlsZHJlblsyXSkudGV4dCgpLFxuLy8gICAgICAgICBpbmhlcml0ZWQ6ICQoY2hpbGRyZW5bM10pLnRleHQoKSxcbi8vICAgICAgICAgbWVkaWE6ICQoY2hpbGRyZW5bNF0pLnRleHQoKSxcbi8vICAgICB9O1xuLy9cbi8vICAgICBpZiAoIWluZm8ucHJvcGVydHkubWF0Y2goL1tAXFwvXS8pKSB7XG4vL1xuLy8gICAgICAgICBtZG5Dc3NTeW50YXgucHVzaChjYW1lbENhc2UoaW5mby5wcm9wZXJ0eSkpO1xuLy8gICAgIH1cbi8vIH0pO1xuLy9cbi8vIGZ1bmN0aW9uIGNhbWVsQ2FzZShpbnB1dCkge1xuLy8gICByZXR1cm4gaW5wdXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBncm91cDEpIHtcbi8vICAgICAgIHJldHVybiBncm91cDEudG9VcHBlckNhc2UoKTtcbi8vICAgfSk7XG4vLyB9XG4vL1xuLy8gY29weShtZG5Dc3NTeW50YXguam9pbignLCcpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBVbml0SW5wdXQgPSByZXF1aXJlKCcuLi91dGlscy9Vbml0SW5wdXQnKTtcbnZhciBUYXJnZXRzSW5wdXQgPSByZXF1aXJlKCcuLi91dGlscy9UYXJnZXRzSW5wdXQnKTtcbnZhciBTdHJpbmdJbnB1dCA9IHJlcXVpcmUoJy4uL3V0aWxzL1N0cmluZ0lucHV0Jyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxudmFyIHRhcmdldHNJbnB1dCxcbiAgICBkZVNlbGVjdG9yQ29udCxcbiAgICBkZVNlbGVjdG9ycyA9IFtdLFxuICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogJ1RyYWNrJyxcbiAgICB9KTtcbm1vZHVsZS5leHBvcnRzID0gZGlhbG9nO1xuXG5jcmVhdGVDb250ZW50KCk7XG5kaWFsb2cuYWRkQnV0dG9uKCdvaycsICdoaWRlJyk7XG5cblxuZGlhbG9nLm9uKCdjaGFuZ2UubmFtZScsIG5hbWUgPT4gZGlhbG9nLnRpdGxlID0gbmFtZSk7XG5cblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcblxuICAgIHZhciBvcHROYW1lID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ25hbWU6JyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICB0YXJnZXRzSW5wdXQgPSBuZXcgVGFyZ2V0c0lucHV0KHtcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICB0aXRsZTogJ1NlbGVjdG9ycycsXG4gICAgICAgIG9uQ2hhbmdlOiAoKSA9PiBkaWFsb2cuZW1pdCgnY2hhbmdlU2VsZWN0b3JzJywgdGFyZ2V0c0lucHV0LnZhbHVlKSxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmNyZWF0ZUxpbmVicmVhayh7cGFyZW50OiBkaWFsb2cuZGVDb250ZW50fSk7XG5cbiAgICB2YXIgb3B0UmVwZWF0ID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3JlcGVhdCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ3JlcGVhdCcsXG4gICAgICAgICAgICBtaW46IC0xLFxuICAgICAgICAgICAgdW5pdHM6IFsneCddLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIHZhciBvcHRSZXBlYXREZWxheSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdyZXBlYXQgZGVsYXknLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdyZXBlYXREZWxheScsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBwcmVjaXNpb246IDMsXG4gICAgICAgICAgICBkcmFnU3BlZWQ6IDAuMDAxLFxuICAgICAgICAgICAgdW5pdHM6IFsnc2VjJ10sXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdEtleVN0cmV0Y2ggPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAna2V5IHN0cmV0Y2gnLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdrZXlTdHJldGNoJyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMC4wMSxcbiAgICAgICAgICAgIHByZWNpc2lvbjogMyxcbiAgICAgICAgICAgIHVuaXRzOiBbJ3gnXSxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICB2YXIgb3B0WW95byA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICd5b3lvJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ3lveW8nLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuXG4gICAgJChvcHRSZXBlYXQuZG9tRWxlbSkub25lKCdtb3VzZWRvd24nLCAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCkpO1xuICAgICQob3B0UmVwZWF0RGVsYXkuZG9tRWxlbSkub25lKCdtb3VzZWRvd24nLCAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCkpO1xuICAgICQob3B0S2V5U3RyZXRjaC5kb21FbGVtKS5vbmUoJ21vdXNlZG93bicsICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKSk7XG4gICAgJChvcHRZb3lvLmRvbUVsZW0pLm9uZSgnbW91c2Vkb3duJywgKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpKTtcblxuICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgc3RhcnRWYWx1ZTogJ1RyYWNrJyxcbiAgICAgICAgaW5wdXQ6IG9wdE5hbWUuaW5wdXRzLm5hbWVcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAnc2VsZWN0b3JzJyxcbiAgICAgICAgc3RhcnRWYWx1ZTogW10sXG4gICAgICAgIGlucHV0OiB0YXJnZXRzSW5wdXQsXG4gICAgfSk7XG4gICAgZGlhbG9nLmFkZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ3JlcGVhdCcsXG4gICAgICAgIHN0YXJ0VmFsdWU6IDAsXG4gICAgICAgIGlucHV0OiBvcHRSZXBlYXQuaW5wdXRzLnJlcGVhdCxcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAncmVwZWF0RGVsYXknLFxuICAgICAgICBzdGFydFZhbHVlOiAwLFxuICAgICAgICBpbnB1dDogb3B0UmVwZWF0RGVsYXkuaW5wdXRzLnJlcGVhdERlbGF5LFxuICAgIH0pO1xuICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdrZXlTdHJldGNoJyxcbiAgICAgICAgc3RhcnRWYWx1ZTogMSxcbiAgICAgICAgaW5wdXQ6IG9wdEtleVN0cmV0Y2guaW5wdXRzLmtleVN0cmV0Y2gsXG4gICAgfSk7XG4gICAgZGlhbG9nLmFkZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ3lveW8nLFxuICAgICAgICBzdGFydFZhbHVlOiBmYWxzZSxcbiAgICAgICAgaW5wdXQ6IG9wdFlveW8uaW5wdXRzLnlveW8sXG4gICAgfSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZnVuY3Rpb24gKGlucHV0cykge1xcbiAgICBcXG4gICAgdmFyIHRpbWVsaW5lcyA9IHt7e3RpbWVsaW5lc319fSxcXG4gICAgICAgIHNlbGVjdG9ycyA9IHt7e3NlbGVjdG9yc319fSxcXG4gICAgICAgIGFuaW1UYXJnZXRzID0gZ2V0QW5pbVRhcmdldHMoc2VsZWN0b3JzLCBpbnB1dHMpLFxcbiAgICAgICAgcm9vdFRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XFxuXFxuICAgIHRpbWVsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lbGluZSkge1xcblxcbiAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XFxuICAgICAgICByb290VGwuYWRkKHRsLCAwKTtcXG4gICAgICAgIFxcbiAgICAgICAgdGltZWxpbmUuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpZHgpIHtcXG5cXG4gICAgICAgICAgICB0bC50byhhbmltVGFyZ2V0cywga2V5LmR1cmF0aW9uLCBrZXkub3B0aW9ucyk7XFxuICAgICAgICB9KTtcXG4gICAgfSk7XFxuXFxuICAgIHJldHVybiByb290VGw7XFxufVxcblwiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSW5wdXQgPSByZXF1aXJlKCcuL0lucHV0Jyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xuXG5mdW5jdGlvbiBDaGVja2JveElucHV0KG9wdD17fSkge1xuXG4gICAgSW5wdXQuY2FsbCh0aGlzLCBvcHQpO1xuXG4gICAgaWYgKF8uaGFzKG9wdCwgJ3RleHQnKSkgdGhpcy50ZXh0ID0gb3B0LnRleHQ7XG59XG5cbmluaGVyaXRzKENoZWNrYm94SW5wdXQsIElucHV0KTtcbnZhciBwID0gQ2hlY2tib3hJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrYm94SW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3RleHQnLCB0eXBlOiAnc3RyaW5nJywgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgdGhpcy5faW5wdXQudGV4dCA9IHY7XG59fSk7XG5cblxuXG5cblxucC5fb25DaGFuZ2VJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9pbnB1dC5jaGVja2VkO1xufTtcblxuXG5cbnAuX3JlZnJlc2hJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbnB1dC5jaGVja2VkICE9PSB0aGlzLl92YWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2lucHV0LmNoZWNrZWQgPSB0aGlzLl92YWx1ZTtcbiAgICB9XG59O1xuXG5cblxuXG5wLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lucHV0ID0gYW1ndWkuY3JlYXRlQ2hlY2tib3goe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgb25DaGFuZ2U6ICgpID0+IHRoaXMuX29uQ2hhbmdlSW5wdXQoKSxcbiAgICAgICAgZmxleDogMSxcbiAgICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBJbnB1dCA9IHJlcXVpcmUoJy4vSW5wdXQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG52YXIgY29sb3JQaWNrZXI7XG5cbmZ1bmN0aW9uIENvbG9ySW5wdXQob3B0PXt9KSB7XG5cbiAgICBJbnB1dC5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCAnJztcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8ICcjMDAwMDAwJztcbn1cblxuaW5oZXJpdHMoQ29sb3JJbnB1dCwgSW5wdXQpO1xudmFyIHAgPSBDb2xvcklucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ29sb3JJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ICs9ICcnO1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fdmFsdWUpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoSW5wdXQoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxucC5fb25DaGFuZ2VQaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnZhbHVlID0gY29sb3JQaWNrZXIuZ2V0Q29sb3IoKTtcbn07XG5cbnAuX29uQ2xpY2tTaG93UGlja2VyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgIC8vIHZhciBiciA9IHRoaXMuX2J0blNob3dQaWNrZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gY29sb3JQaWNrZXIuc2hvdyhici5sZWZ0LCBici5ib3R0b20sXG4gICAgLy8gICAgIHRoaXMudmFsdWUgfHwgdGhpcy5fZGVmYXVsdFZhbHVlLFxuICAgIC8vICAgICB0aGlzLl9vbkNoYW5nZVBpY2tlcik7XG59O1xuXG5cblxucC5fcmVmcmVzaElucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lucHV0LnZhbHVlICE9PSB0aGlzLl92YWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gdGhpcy5fdmFsdWU7XG4gICAgfVxufTtcblxuXG5cblxucC5fY3JlYXRlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGFtZ3VpLmNyZWF0ZUlucHV0KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiB2ID0+IHRoaXMuX29uQ2hhbmdlSW5wdXQodiksXG4gICAgICAgIGZsZXg6IDEsXG4gICAgfSk7XG4gICAgdGhpcy5faW5wdXQuc3R5bGUudGV4dEFsaWduID0gICdyaWdodCc7XG4gICAgdGhpcy5faW5wdXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gICcycHgnO1xuXG4gICAgdGhpcy5fYnRuU2hvd1BpY2tlciA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgaWNvbjogJ2FqdXN0JyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1Nob3dQaWNrZXIsXG4gICAgfSk7XG59O1xuXG4vLyBDb2xvcklucHV0LmluaXRDb2xvclBpY2tlciA9IGZ1bmN0aW9uICgpIHtcblxuXG4vLyAgICAgaWYgKGNvbG9yUGlja2VyKSByZXR1cm47XG5cbi8vICAgICB2YXIgb25DaGFuZ2UsXG4vLyAgICAgICAgIGRlID0gYW1ndWkuY3JlYXRlRGl2KHtcbi8vICAgICAgICAgICAgIC8vIHBhcmVudDogYW0uZGVEaWFsb2dDb250LFxuLy8gICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5ib2R5LFxuLy8gICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuLy8gICAgICAgICAgICAgd2lkdGg6ICczNDVweCcsXG4vLyAgICAgICAgICAgICBoZWlnaHQ6ICczNDVweCcsXG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgZGUuc2V0QXR0cmlidXRlKCdkYXRhLWFtLW5vcGljaycsIDEpO1xuLy8gICAgIGRlLnN0eWxlLnpJbmRleCA9IDk5OTk5OTtcblxuLy8gICAgIGNvbG9yUGlja2VyID0gbmV3IENvbG9yUGlja2VyKHtcbi8vICAgICAgICAgc2l6ZTogMixcbi8vICAgICAgICAgYXBwZW5UbzogZGUsXG4vLyAgICAgICAgIGFjdGlvbkNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG5cbi8vICAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGNvbG9yUGlja2VyLmdldENvbG9yKCkpO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG5cbi8vICAgICBjb2xvclBpY2tlci5kb21FbGVtID0gZGU7XG5cbi8vICAgICAkKCcuY3AtYXBwJykuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpXG5cbi8vICAgICBjb2xvclBpY2tlci5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcblxuLy8gICAgICAgICBpZiAoY29sb3JQaWNrZXIuY29sb3IuYWxwaGEgPT09IDEpIHtcblxuLy8gICAgICAgICAgICAgcmV0dXJuICcjJyArIGNvbG9yUGlja2VyLmNvbG9yLkhFWDtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIHJldHVybiAncmdiYSgnICtcbi8vICAgICAgICAgICAgICAgICB+fihjb2xvclBpY2tlci5jb2xvci5jb2xvcnMuUk5ELnJnYi5yKSsnLCcrXG4vLyAgICAgICAgICAgICAgICAgfn4oY29sb3JQaWNrZXIuY29sb3IuY29sb3JzLlJORC5yZ2IuZykrJywnK1xuLy8gICAgICAgICAgICAgICAgIH5+KGNvbG9yUGlja2VyLmNvbG9yLmNvbG9ycy5STkQucmdiLmIpKycsJytcbi8vICAgICAgICAgICAgICAgICBjb2xvclBpY2tlci5jb2xvci5jb2xvcnMuYWxwaGEgKyAnKSc7XG4vLyAgICAgICAgIH1cbi8vICAgICB9O1xuXG4vLyAgICAgY29sb3JQaWNrZXIuc2hvdyA9IGZ1bmN0aW9uICh4LCB5LCBjb2xvciwgX29uQ2hhbmdlKSB7XG5cbi8vICAgICAgICAgZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4vLyAgICAgICAgIGFtZ3VpLnBsYWNlVG9Qb2ludChkZSwgeCwgeSk7XG5cbi8vICAgICAgICAgY29sb3JQaWNrZXIuc2V0Q29sb3IoY29sb3IsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTtcblxuLy8gICAgICAgICBvbkNoYW5nZSA9IF9vbkNoYW5nZTtcbi8vICAgICB9XG5cbi8vICAgICBjb2xvclBpY2tlci5oaWRlID0gZnVuY3Rpb24gKHgsIHkpIHtcblxuLy8gICAgICAgICBvbkNoYW5nZSA9IHVuZGVmaW5lZDtcblxuLy8gICAgICAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuLy8gICAgIH1cbi8vICAgICAkKCcuY3AtZXhpdCcpLmNsaWNrKGNvbG9yUGlja2VyLmhpZGUpXG4vLyB9XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xuXG5mdW5jdGlvbiBEaWFsb2cgKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9zZXR1cFByb3BlcnRpZXMgPSBbXTtcbiAgICB0aGlzLl9vZmZzZXRYID0gMDtcbiAgICB0aGlzLl9vZmZzZXRZID0gMDtcbiAgICB0aGlzLl9vZmZPbkhpZGVMaXN0ZW5lcnMgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgIGRlQ29udGVudDogdGhpcy5kZUNvbnRlbnQsXG4gICAgICAgIGJ1dHRvbnM6IFtdLFxuICAgICAgICB0aXRsZTogb3B0LnRpdGxlIHx8ICdEaWFsb2cnLFxuICAgICAgICBvbkhpZGU6ICgpID0+IHRoaXMuX29uSGlkZSgpLFxuICAgIH07XG59XG5cbmluaGVyaXRzKERpYWxvZywgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRGlhbG9nLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRGlhbG9nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB0aXRsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghdiB8fCB0aGlzLl9vcHRpb25zLnRpdGxlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMudGl0bGUgPSB2O1xuXG4gICAgICAgICAgICBhbS53b3Jrc3BhY2UuZGlhbG9ncy5zZXRUaXRsZSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLl90aXRsZTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGlzT3BlbmVkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNPcGVuZWQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5wLnNob3cgPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICBpZiAodGhpcy5faXNPcGVuZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc09wZW5lZCA9IHRydWU7XG5cbiAgICBpZiAob3B0Lm9uKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0Lm9uKS5mb3JFYWNoKGV2dE5hbWUgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLm9uKGV2dE5hbWUsIG9wdC5vbltldnROYW1lXSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZk9uSGlkZUxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBldnROYW1lOiBldnROYW1lLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBvcHQub25bZXZ0TmFtZV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0dXBQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BEYXRhKSB7XG5cbiAgICAgICAgaWYgKHByb3BEYXRhLm5hbWUgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIHRoaXNbcHJvcERhdGEubmFtZV0gPSBvcHRbcHJvcERhdGEubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb25PcHQgPSAnb24nICsgcHJvcERhdGEuZXZ0TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BEYXRhLmV2dE5hbWUuc2xpY2UoMSk7XG5cbiAgICAgICAgaWYgKG9uT3B0IGluIG9wdCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdkZXByZWNhdGVkLCB1c2Ugb3B0Lm9uIHRvIGJpbmQgbGlzdGVuZXJzIScpO1xuICAgICAgICAgICAgdGhpcy5fb2ZmT25IaWRlTGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2dE5hbWU6IHByb3BEYXRhLmV2dE5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IG9wdFtvbk9wdF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24ocHJvcERhdGEuZXZ0TmFtZSwgb3B0W29uT3B0XSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZW1pdCgnc2hvdycpO1xuXG4gICAgYW0ud29ya3NwYWNlLmRpYWxvZ3Muc2hvd0RpYWxvZyh0aGlzLl9vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0ud29ya3NwYWNlLmRpYWxvZ3MuaGlkZURpYWxvZyh0aGlzLl9vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5fb25IaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc09wZW5lZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzT3BlbmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9vZmZPbkhpZGVMaXN0ZW5lcnMuZm9yRWFjaChyZWcgPT4ge1xuICAgICAgICB0aGlzLm9mZihyZWcuZXZ0TmFtZSwgcmVnLmNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW1pdCgnaGlkZScpO1xufTtcblxucC5hZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciByZWcgPSBkZWZpbmVDb21wYWN0UHJvcGVydHkodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3NldHVwUHJvcGVydGllcy5wdXNoKHJlZyk7XG5cbiAgICBpZiAob3B0LmlucHV0KSB7XG5cbiAgICAgICAgb3B0LmlucHV0LnZhbHVlID0gdGhpc1tyZWcubmFtZV07XG4gICAgICAgIG9wdC5pbnB1dC5vbignY2hhbmdlJywgdiA9PiB0aGlzW3JlZy5uYW1lXSA9IHYpO1xuICAgICAgICB0aGlzLm9uKHJlZy5ldnROYW1lLCB2ID0+IG9wdC5pbnB1dC52YWx1ZSA9IHYpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5hZGRCdXR0b24gPSBmdW5jdGlvbiAodGV4dCwgb25DbGljaykge1xuXG4gICAgaWYgKG9uQ2xpY2sgPT09ICdoaWRlJykge1xuICAgICAgICBvbkNsaWNrID0gKCkgPT4gdGhpcy5oaWRlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3B0aW9ucy5idXR0b25zLnB1c2goe3RleHQsIG9uQ2xpY2t9KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5oaWRlQnV0dG9uID0gZnVuY3Rpb24gKHRleHQpIHtcblxuICAgIHZhciBidG4gPSBfLmZpbmQodGhpcy5fb3B0aW9ucy5idXR0b25zLCB7dGV4dH0pO1xuXG4gICAgaWYgKGJ0bikgYnRuLmhpZGRlbiA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbnAuc2hvd0J1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cbiAgICB2YXIgYnRuID0gXy5maW5kKHRoaXMuX29wdGlvbnMuYnV0dG9ucywge3RleHR9KTtcblxuICAgIGlmIChidG4pIGJ0bi5oaWRkZW4gPSBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCA9IHRydWU7XG5cbiAgICB0aGlzLmRlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZGVDb250ZW50LnN0eWxlLndpZHRoID0gJzMzMHB4JztcbiAgICB0aGlzLmRlQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzMwcHggMTJweCc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBJbnB1dChvcHQ9e30pIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAnJztcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCB0aGlzLl9kZWZhdWx0VmFsdWU7XG5cbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgaWYgKG9wdC5vbkNoYW5nZSkgdGhpcy5vbignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbn1cblxuaW5oZXJpdHMoSW5wdXQsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IElucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gSW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxucC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG59O1xuXG5wLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiAkKHRoaXMuX2lucHV0KS5mb2N1cygpLDEyMyk7XG59O1xuXG5wLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+ICQodGhpcy5faW5wdXQpLmJsdXIoKSwxMjMpO1xufTtcblxuXG5cblxuXG5cblxucC5fb25DaGFuZ2VJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9pbnB1dC52YWx1ZTtcbn07XG5cblxuXG5wLl9yZWZyZXNoSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG59O1xuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXG4gICAgdGhpcy5fY3JlYXRlSW5wdXQoKTtcbn07XG5cbnAuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gdGhpcy5faW5wdXQgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgLy8gICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgIC8vICAgICBmbGV4OiAxLFxuICAgIC8vICAgICBvbkNoYW5nZTogdiA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KHYpLFxuICAgIC8vIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBVbml0SW5wdXQgPSByZXF1aXJlKCcuL1VuaXRJbnB1dCcpO1xudmFyIFN0cmluZ0lucHV0ID0gcmVxdWlyZSgnLi9TdHJpbmdJbnB1dCcpO1xudmFyIFNlbGVjdElucHV0ID0gcmVxdWlyZSgnLi9TZWxlY3RJbnB1dCcpO1xudmFyIENvbG9ySW5wdXQgPSByZXF1aXJlKCcuL0NvbG9ySW5wdXQnKTtcbnZhciBDaGVja2JveElucHV0ID0gcmVxdWlyZSgnLi9DaGVja2JveElucHV0Jyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi9kZWZpbmVDb21wYWN0UHJvcGVydHknKTtcblxuZnVuY3Rpb24gT3B0aW9uTGluZShvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5pbnB1dHMgPSB7fTtcbiAgICB0aGlzLmJ1dHRvbnMgPSB7fTtcbiAgICB0aGlzLl9pbmRlbnQgPSAwO1xuICAgIHRoaXMuX2xpbmVIID0gYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5faGlkZGVuID0gZmFsc2U7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5fY3JlYXRlSGlnaGxpZ2h0KCk7XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcyA9IFtdO1xuXG4gICAgaWYgKG9wdC5zZXBhcmF0b3IpIHtcblxuICAgICAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5fZGVIZWFkQ29udH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQucGFyZW50KSB7XG5cbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW0pO1xuICAgIH1cblxuICAgIGlmIChvcHQuY29udGV4dE1lbnVPcHRpb25zKSB7XG5cbiAgICAgICAgdGhpcy5kcm9wZG93biA9IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdC5jb250ZXh0TWVudU9wdGlvbnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgICAgICBhc0NvbnRleHRNZW51OiB0cnVlLFxuICAgICAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlSGVhZENvbnQsXG4gICAgICAgICAgICBkZU1lbnU6IHRoaXMuZHJvcGRvd24sXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgaWYgKG9wdC50Z2dsQ2hpbGRyZW4pIHtcblxuICAgICAgICB0aGlzLmJ1dHRvbnMudGdnbENoaWxkcmVuID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uT246ICdhbmdsZS1kb3duJyxcbiAgICAgICAgICAgIGljb25PZmY6ICdhbmdsZS1yaWdodCcsXG4gICAgICAgICAgICBvbkNsaWNrOiBvcHQudGdnbENoaWxkcmVuLm9uQ2xpY2ssXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdC5rZWVwU3BhY2VGb3JUZ2dsQ2hpbGRyZW4pIHtcblxuICAgICAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5tYXJnaW5SaWdodCA9ICcxNnB4JztcbiAgICB9XG5cbiAgICB0aGlzLl9jcmVhdGVJbmRlbnQoKTtcblxuICAgIGlmIChvcHQuaW5kZW50KSB7XG5cbiAgICAgICAgdGhpcy5pbmRlbnQgPSBvcHQuaW5kZW50O1xuICAgIH1cblxuICAgIGlmIChvcHQudGl0bGUpIHtcblxuICAgICAgICB0aGlzLl9kZVRpdGxlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICAgICAgdGV4dDogdHlwZW9mIG9wdC50aXRsZSA9PT0gJ3N0cmluZycgPyBvcHQudGl0bGUgOiAob3B0LnRpdGxlLnRleHQgfHwgJycpLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9kZVRpdGxlLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzNweCc7XG4gICAgfVxuXG4gICAgdGhpcy5faW5wdXRDb250ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXg6ICcxJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2J0bkNvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnQsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSk7XG5cbiAgICBpZiAob3B0LmlucHV0cykge1xuXG4gICAgICAgIG9wdC5pbnB1dHMuZm9yRWFjaCh0aGlzLmFkZElucHV0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0LnRnZ2xNZXJnZSkge1xuXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgICAgIGljb25PbjogJ2Zsb3ctbGluZScsXG4gICAgICAgICAgICAgICAgaWNvbk9mZjogJ2Zsb3ctcGFyYWxsZWwnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9wdC50Z2dsTWVyZ2Uub25DbGljayxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmFtZTogJ3RnZ2xNZXJnZScsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQuYnRuS2V5KSB7XG5cbiAgICAgICAgdGhpcy5hZGRCdXR0b24oe1xuICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlU3RlcHBlcktleSh7XG4gICAgICAgICAgICAgICAgb25DbGljazogb3B0LmJ0bktleS5vbkNsaWNrLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2tQcmV2OiBvcHQuYnRuS2V5Lm9uQ2xpY2tQcmV2LFxuICAgICAgICAgICAgICAgIG9uQ2xpY2tOZXh0OiBvcHQuYnRuS2V5Lm9uQ2xpY2tOZXh0LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBuYW1lOiAna2V5JyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5vbkRibGNsaWNrKSB7XG5cbiAgICAgICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgb3B0Lm9uRGJsY2xpY2spO1xuICAgIH1cblxuICAgIGlmIChvcHQuZGF0YSkge1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IG9wdC5kYXRhO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoT3B0aW9uTGluZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gT3B0aW9uTGluZS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbkxpbmU7XG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdGl0bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fZGVUaXRsZS50ZXh0ID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9kZVRpdGxlLnRleHQ7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUub3BhY2l0eSA9IHYgPyAxIDogMDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgaW5kZW50OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlSW50KHYpO1xuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2luZGVudCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9pbmRlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5fZGVJbmRlbnQuc3R5bGUud2lkdGggPSB0aGlzLl9pbmRlbnQgKiA2ICsgJ3B4JztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5kZW50O1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgaGlkZGVuOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2hpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9oaWRkZW4gPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnbm9uZScgOiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIFtcbiAgICB7bmFtZTogJ2JnSGlnaGxpZ2h0JywgdHlwZTogJ2Jvb2xlYW4nLCBvbkNoYW5nZTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2ID8gYW1ndWkuY29sb3IuYmcxIDogYW1ndWkuY29sb3IudHJhbnNwYXJlbnQ7XG4gICAgfX1cbl0pO1xuXG5cbnAuYWRkSW5wdXQgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgaW5wdXQ7XG5cbiAgICBvcHQgPSBfLmFzc2lnbih7XG4gICAgICAgIG9uQ2hhbmdlOiBvcHQub25DaGFuZ2UsXG4gICAgICAgIGZsZXg6ICcxJyxcbiAgICB9LCBvcHQpO1xuXG4gICAgc3dpdGNoIChvcHQudHlwZSkge1xuXG4gICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgVW5pdElucHV0KG9wdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgU2VsZWN0SW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IENvbG9ySW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IENoZWNrYm94SW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBTdHJpbmdJbnB1dChvcHQpO1xuICAgIH1cblxuICAgIGlmIChvcHQubmFtZSkge1xuXG4gICAgICAgIHRoaXMuaW5wdXRzW29wdC5uYW1lXSA9IGlucHV0O1xuICAgIH1cblxuICAgIHRoaXMuX2lucHV0Q29udC5hcHBlbmRDaGlsZChpbnB1dC5kb21FbGVtKTtcbn07XG5cbnAuYWRkQnV0dG9uID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgaWYgKCdjaGlsZElkeCcgaW4gb3B0ICYmIHRoaXMuX2J0bkNvbnQuY2hpbGRyZW5bb3B0LmNoaWxkSWR4XSkge1xuXG4gICAgICAgIHRoaXMuX2J0bkNvbnQuaW5zZXJ0QmVmb3JlKG9wdC5kb21FbGVtLCB0aGlzLl9idG5Db250LmNoaWxkcmVuW29wdC5jaGlsZElkeF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYnRuQ29udC5hcHBlbmRDaGlsZChvcHQuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgb3B0LmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIG9wdC5kb21FbGVtLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAndG9wJztcblxuICAgIGlmIChvcHQubmFtZSkge1xuXG4gICAgICAgIHRoaXMuYnV0dG9uc1tvcHQubmFtZV0gPSBvcHQuZG9tRWxlbTtcbiAgICB9XG5cbiAgICBpZiAob3B0LmhvdmVyTW9kZSkge1xuXG4gICAgICAgIG9wdC5kb21FbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblxuICAgICAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgICAgICAgIG9wdC5kb21FbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsKCkgPT4ge1xuICAgICAgICAgICAgb3B0LmRvbUVsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5wLmFkZE9wdGlvbkxpbmUgPSBmdW5jdGlvbiAob3B0aW9uTGluZSkge1xuXG4gICAgdGhpcy5fc3ViT3B0aW9uTGluZXMucHVzaChvcHRpb25MaW5lKTtcbiAgICB0aGlzLl9kZVN1YmNvbnQuYXBwZW5kQ2hpbGQob3B0aW9uTGluZS5kb21FbGVtKTtcblxuICAgIG9wdGlvbkxpbmUuaW5kZW50ID0gdGhpcy5pbmRlbnQgKyAxO1xuXG4gICAgaWYgKHRoaXMuX2lzQm9ycm93aW5nQ2hpbGRJbnB1dHMpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5DaGlsZElucHV0cygpO1xuICAgICAgICB0aGlzLmJvcnJvd0NoaWxkSW5wdXRzKCk7XG4gICAgfVxufTtcblxucC5yZW1vdmVPcHRpb25MaW5lID0gZnVuY3Rpb24gKG9wdGlvbkxpbmUpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9zdWJPcHRpb25MaW5lcy5pbmRleE9mKG9wdGlvbkxpbmUpO1xuICAgIGlmIChpZHggPT09IC0xKSByZXR1cm47XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcy5zcGxpY2UoaWR4LCAxKTtcbiAgICB0aGlzLl9kZVN1YmNvbnQucmVtb3ZlQ2hpbGQob3B0aW9uTGluZS5kb21FbGVtKTtcblxuICAgIGlmICh0aGlzLl9pc0JvcnJvd2luZ0NoaWxkSW5wdXRzKSB7XG4gICAgICAgIHRoaXMucmV0dXJuQ2hpbGRJbnB1dHMoKTtcbiAgICAgICAgdGhpcy5ib3Jyb3dDaGlsZElucHV0cygpO1xuICAgIH1cbn07XG5cbnAucmVtb3ZlQWxsT3B0aW9uTGluZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcy5zbGljZSgpLmZvckVhY2gob2wgPT4gdGhpcy5yZW1vdmVPcHRpb25MaW5lKG9sKSk7XG59O1xuXG5wLnNob3dTdWJsaW5lcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU3ViY29udC5zdHlsZS5kaXNwbGF5ID0gJyc7XG59O1xuXG5wLmhpZGVTdWJsaW5lcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU3ViY29udC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxucC53YWxrQ2hpbGRyZW4gPSBmdW5jdGlvbiAoZm4pIHtcblxuICAgIHRoaXMuX3N1Yk9wdGlvbkxpbmVzLmZvckVhY2goc3ViT3B0aW9uTGluZSA9PiB7XG5cbiAgICAgICAgZm4oc3ViT3B0aW9uTGluZSwgdGhpcyk7XG5cbiAgICAgICAgc3ViT3B0aW9uTGluZS53YWxrQ2hpbGRyZW4oZm4pO1xuICAgIH0pO1xufTtcblxucC5ib3Jyb3dDaGlsZElucHV0cyA9IGZ1bmN0aW9uICgpIHtcbi8vVE9ETzogZG8gdGhpcyB0d28gc29tZWhvdyBiZXR0ZXJcblxuICAgIHRoaXMuX2lzQm9ycm93aW5nQ2hpbGRJbnB1dHMgPSB0cnVlO1xuXG4gICAgdGhpcy5fc3ViT3B0aW9uTGluZXMuZm9yRWFjaChsaW5lID0+IHtcblxuICAgICAgICBpZiAobGluZS5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICBPYmplY3Qua2V5cyhsaW5lLmlucHV0cykuZm9yRWFjaChpbnBOYW1lID0+IHtcblxuICAgICAgICAgICAgdGhpcy5faW5wdXRDb250LmFwcGVuZENoaWxkKGxpbmUuaW5wdXRzW2lucE5hbWVdLmRvbUVsZW0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbnAucmV0dXJuQ2hpbGRJbnB1dHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pc0JvcnJvd2luZ0NoaWxkSW5wdXRzID0gZmFsc2U7XG5cbiAgICB2YXIgZGVJbnB1dHMgPSBfLnRvQXJyYXkodGhpcy5faW5wdXRDb250LmNoaWxkcmVuKTtcblxuICAgIHRoaXMuX3N1Yk9wdGlvbkxpbmVzLmZvckVhY2gobGluZSA9PiB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMobGluZS5pbnB1dHMpLmZvckVhY2goaW5wTmFtZSA9PiB7XG5cbiAgICAgICAgICAgIHZhciBpZHggPSBkZUlucHV0cy5pbmRleE9mKGxpbmUuaW5wdXRzW2lucE5hbWVdLmRvbUVsZW0pO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgICAgIGxpbmUuX2lucHV0Q29udC5hcHBlbmRDaGlsZChkZUlucHV0c1tpZHhdKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGl2KCk7O1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIHRoaXMuX2RlSGVhZENvbnQgPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9saW5lSCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlSGVhZENvbnQpO1xuXG4gICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnR9KTtcblxuICAgIHRoaXMuX2RlU3ViY29udCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH0pO1xufTtcblxucC5fY3JlYXRlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVIaWdobGlnaHQgPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gJzJweCc7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5fbGluZUggKyAncHgnO1xuICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5zZWxlY3RlZDtcbiAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB0aGlzLl9kZUhlYWRDb250LmFwcGVuZENoaWxkKHRoaXMuX2RlSGlnaGxpZ2h0KTtcbn07XG5cbnAuX2NyZWF0ZUluZGVudCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlSW5kZW50ID0gYW1ndWkuY3JlYXRlRGl2KCk7O1xuICAgIHRoaXMuX2RlSW5kZW50LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICB0aGlzLl9kZUluZGVudC5zdHlsZS53aWR0aCA9ICcwcHgnO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVJbmRlbnQpO1xufTtcblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vVE9ET1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFNlbGVjdElucHV0KG9wdD17fSkge1xuXG4gICAgSW5wdXQuY2FsbCh0aGlzLCBvcHQpO1xuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdC5vcHRpb25zIHx8IFtdO1xuICAgIHRoaXMuX3ZhbHVlID0gb3B0LnZhbHVlIHx8IHRoaXMuX29wdGlvbnNbMF0gfHwgJyc7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCB0aGlzLl9vcHRpb25zWzBdIHx8ICcnO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xufVxuXG5pbmhlcml0cyhTZWxlY3RJbnB1dCwgSW5wdXQpO1xudmFyIHAgPSBTZWxlY3RJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFNlbGVjdElucHV0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgKz0gJyc7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl92YWx1ZSB8fCB0aGlzLl9vcHRpb25zLmluZGV4T2YodikgPT09IC0xKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fZGVWYWx1ZS50ZXh0ID0gdjtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5cbnAuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICB0aGlzLl9kZURyb3Bkb3duLnNldEl0ZW1zKG9wdGlvbnMpO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlVmFsdWUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICB0ZXh0OiB0aGlzLnZhbHVlLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBpY29uOiAnZG93bi1kaXInLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVEcm9wZG93biA9IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgb3B0aW9uczogdGhpcy5fb3B0aW9ucyxcbiAgICAgICAgb25TZWxlY3Q6IGUgPT4gdGhpcy52YWx1ZSA9IGUuZGV0YWlsLnNlbGVjdGlvbixcbiAgICB9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIGRlRHJvcGRvd246IHRoaXMuX2RlRHJvcGRvd24sXG4gICAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSW5wdXQgPSByZXF1aXJlKCcuL0lucHV0Jyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gU3RyaW5nSW5wdXQob3B0PXt9KSB7XG5cbiAgICBJbnB1dC5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICBpZiAob3B0LnBsYWNlaG9sZGVyKSB7XG5cbiAgICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSBvcHQucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5zdWdnZXN0aW9ucykge1xuXG4gICAgICAgIHRoaXMuc2V0U3VnZ2VzdGlvbnMob3B0LnN1Z2dlc3Rpb25zKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZyZXNoSW5wdXQoKTtcbn1cblxuaW5oZXJpdHMoU3RyaW5nSW5wdXQsIElucHV0KTtcbnZhciBwID0gU3RyaW5nSW5wdXQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmdJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ICs9ICcnO1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fdmFsdWUpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoSW5wdXQoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbG9yOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnN0eWxlLmNvbG9yID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5wdXQuc3R5bGUuY29sb3I7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxucC5zZXRTdWdnZXN0aW9ucyA9IGZ1bmN0aW9uIChzdWdnZXN0aW9ucykge1xuXG4gICAgc3VnZ2VzdGlvbnMgPSBzdWdnZXN0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdWdnZXN0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogc3VnZ2VzdGlvbn07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUpIHtcblxuICAgICAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUubG9jYWwgPSBzdWdnZXN0aW9ucztcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGlvbkVuZ2luZS5pbml0aWFsaXplKHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJlcGFyZVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX2lucHV0LnZhbHVlO1xufTtcblxuXG5cbnAuX3JlZnJlc2hJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbnB1dC52YWx1ZSAhPT0gdGhpcy5fdmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgIH1cbn07XG5cblxuXG5cbnAuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wdXQgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxLFxuICAgICAgICBvbkNoYW5nZTogdiA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KHYpLFxuICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5jb2xvciA9IHRoaXMuX2lucHV0LnN0eWxlLmNvbG9yO1xuICAgIHRoaXMuX2lucHV0LnN0eWxlLmNvbG9yID0gJ2luaGVyaXQnO1xuXG4gICAgLy8gdGhpcy5faW5wdXQuc3R5bGUudGV4dEFsaWduID0gICdyaWdodCc7XG4gICAgdGhpcy5faW5wdXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gICcycHgnO1xufTtcblxucC5fcHJlcGFyZVN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKHN1Z2dlc3Rpb25zKSB7XG5cbiAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lID0gbmV3IEJsb29kaG91bmQoe1xuICAgICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKCd2YWx1ZScpLFxuICAgICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgICAgIC8vIGBzdGF0ZXNgIGlzIGFuIGFycmF5IG9mIHN0YXRlIG5hbWVzIGRlZmluZWQgaW4gXCJUaGUgQmFzaWNzXCJcbiAgICAgICAgbG9jYWw6IHN1Z2dlc3Rpb25zLFxuICAgIH0pO1xuXG4gICAgLy8ga2lja3Mgb2ZmIHRoZSBsb2FkaW5nL3Byb2Nlc3Npbmcgb2YgYGxvY2FsYCBhbmQgYHByZWZldGNoYFxuICAgIHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUuaW5pdGlhbGl6ZSgpO1xuXG4gICAgdmFyIHRlbXBsYXRlID0gYDxkaXYgY2xhc3M9XCJndWVzc1wiXG4gICAgICAgICAgICBzdHlsZT1cInBhZGRpbmc6IDJweDtcbiAgICAgICAgICAgICAgICBjb2xvcjoke2FtZ3VpLmNvbG9yLnRleHRDb2xvcn07XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjoke2FtZ3VpLmNvbG9yLmJnMX07XG4gICAgICAgICAgICBcIj5cbiAgICAgICAgICA8c3Bhbj57e3t2YWx1ZX19fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+YFxuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5faW5wdXQsICgpID0+IHtcblxuICAgICAgICAkKHRoaXMuX2lucHV0KS50eXBlYWhlYWQoe1xuICAgICAgICAgICAgICAgIGhpbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgIH0se1xuICAgICAgICAgICAgICAgIG5hbWU6ICdzdGF0ZXMnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlLZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICAgICAgLy8gYHR0QWRhcHRlcmAgd3JhcHMgdGhlIHN1Z2dlc3Rpb24gZW5naW5lIGluIGFuIGFkYXB0ZXIgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgdHlwZWFoZWFkIGpRdWVyeSBwbHVnaW5cbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUudHRBZGFwdGVyKCksXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb246IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ3R5cGVhaGVhZDpvcGVuZWQnLCAoKSA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KCkpXG4gICAgICAgICAgICAub24oJ3R5cGVhaGVhZDphdXRvY29tcGxldGVkJywgKCkgPT4gdGhpcy5fb25DaGFuZ2VJbnB1dCgpKVxuICAgICAgICAgICAgLm9uKCd0eXBlYWhlYWQ6c2VsZWN0ZWQnLCAoKSA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KCkpO1xuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4vT3B0aW9uTGluZScpO1xuXG5mdW5jdGlvbiBUYXJnZXRzSW5wdXQob3B0PXt9KSB7XG5cbiAgICBJbnB1dC5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgdGhpcy5fYnVmZlRhcmdldHMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCBbXTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8IFtdO1xuXG4gICAgaWYgKF8uaGFzKG9wdCwgJ3RpdGxlJykpIHRoaXMudGl0bGUgPSBvcHQudGl0bGU7XG59XG5cbmluaGVyaXRzKFRhcmdldHNJbnB1dCwgSW5wdXQpO1xudmFyIHAgPSBUYXJnZXRzSW5wdXQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUYXJnZXRzSW5wdXQ7XG5cbi8vVE9ETyBjbGVlbiB1cFxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2KSkgdGhyb3cgRXJyb3I7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2Lmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGFyZ2V0cy5sZW5ndGggPD0gaSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRhcmdldCh2W2ldLnR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2W2ldLnR5cGUgPT09IHRoaXMuX3RhcmdldHNbaV0udHlwZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldHNbaV0ucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlVGFyZ2V0KHRoaXMuX3RhcmdldHNbaS0tXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90YXJnZXRzLnNsaWNlKGkpLmZvckVhY2godGFyZ2V0ID0+IHRoaXMuX3JlbW92ZVRhcmdldCh0YXJnZXQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB0aGlzLl9yb290T3B0aW9uTGluZS50aXRsZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm9vdE9wdGlvbkxpbmUudGl0bGU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5cbnAuX2FkZFRhcmdldCA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cbiAgICB2YXIgdGFyZ2V0ID0gXy5maW5kKHRoaXMuX2J1ZmZUYXJnZXRzLCB7dHlwZX0pO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICBfLnB1bGwodGhpcy5fYnVmZlRhcmdldHMsIHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSB0aGlzLl9jcmVhdGVUYXJnZXQodHlwZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGFyZ2V0cy5wdXNoKHRhcmdldCk7XG4gICAgdGFyZ2V0LnJlZnJlc2goKTtcbiAgICB0aGlzLl9yb290T3B0aW9uTGluZS5hZGRPcHRpb25MaW5lKHRhcmdldC5vcHRpb25MaW5lKTtcbn07XG5cbnAuX3JlbW92ZVRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcblxuICAgIGlmIChfLmluY2x1ZGUodGhpcy5fdGFyZ2V0cywgdGFyZ2V0KSkge1xuXG4gICAgICAgIF8ucHVsbCh0aGlzLl90YXJnZXRzLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9idWZmVGFyZ2V0cy5wdXNoKHRhcmdldCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcm9vdE9wdGlvbkxpbmUucmVtb3ZlT3B0aW9uTGluZSh0YXJnZXQub3B0aW9uTGluZSk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcm9vdE9wdGlvbkxpbmUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnVGFyZ2V0cycsXG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fcm9vdE9wdGlvbkxpbmUuYWRkQnV0dG9uKHtcbiAgICAgICAgbmFtZTogJ2FkZCcsXG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICAgICAgdG9vbHRpcDogJ2FkZCBuZXcgaW5wdXQnXG4gICAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX3Jvb3RPcHRpb25MaW5lLmJ1dHRvbnMuYWRkLFxuICAgICAgICBkZURyb3Bkb3duOiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgIGljb246ICdoYXNoJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnY3NzIHNlbGVjdG9yJyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUucHVzaCh7dHlwZTogJ2NzcycsIHZhbHVlOiAnJ30pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICduZXcgY3NzIHNlbGVjdG9yIGlucHV0J1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGljb246ICdjb2RlJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnanMgaW5wdXQnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5wdXNoKHt0eXBlOiAnaW5wdXQnLCB2YWx1ZTogJyd9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiAnbmV3IGpzIGlucHV0J1xuXG4gICAgICAgICAgICB9XVxuICAgICAgICB9KVxuICAgIH0pO1xufTtcblxucC5fY3JlYXRlVGFyZ2V0ID0gZnVuY3Rpb24gKHR5cGUpIHtcblxuICAgIHZhciB0YXJnZXQgPSB7dHlwZX0sIGlucHV0UGF0aHMgPSBbXSwgdW5kZXJTZXR0aW5nID0gZmFsc2U7XG5cbiAgICB2YXIgZGF0YSA9ICgpID0+IHtcblxuICAgICAgICB2YXIgaWR4ID0gdGhpcy5fdGFyZ2V0cy5pbmRleE9mKHRhcmdldCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlW2lkeF0gfHwge307XG4gICAgfTtcblxuICAgIHRhcmdldC5vcHRpb25MaW5lID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ3R5cGUgaGVyZScsXG4gICAgICAgICAgICB2YWx1ZTogZGF0YSgpLnZhbHVlLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHZhbHVlID0+IHtcblxuICAgICAgICAgICAgICAgIGRhdGEoKS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hTcGVsbGluZ0ZlZWRiYWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF1bmRlclNldHRpbmcpIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdGFyZ2V0LnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdW5kZXJTZXR0aW5nID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBkYXRhKCkudmFsdWU7XG4gICAgICAgIHVuZGVyU2V0dGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgaW5wdXQgPSB0YXJnZXQub3B0aW9uTGluZS5pbnB1dHMuaW5wdXQ7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgICBpbnB1dC5kb21FbGVtLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgdGFyZ2V0Lm9wdGlvbkxpbmUuaGlnaGxpZ2h0ID0gdHlwZSA9PT0gJ2lucHV0JyA/IGFtZ3VpLmNvbG9yLmJsdWUgOiBhbWd1aS5jb2xvci5wdXJwbGU7XG5cbiAgICB2YXIgcmVmcmVzaFNwZWxsaW5nRmVlZGJhY2sgPSAoKSA9PiB7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdpbnB1dCcpIHtcblxuICAgICAgICAgICAgbGV0IG1hdGNoID0gaW5wdXRQYXRocy5pbmRleE9mKGlucHV0LnZhbHVlKSA9PT0gLTEsXG4gICAgICAgICAgICAgICAgY29sb3IgPSBtYXRjaCA/IGFtZ3VpLmNvbG9yLnRleHQgOiBhbWd1aS5jb2xvci5hcXVhO1xuXG4gICAgICAgICAgICBpbnB1dC5kb21FbGVtLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2NzcycpIHtcblxuICAgICAgICAgICAgbGV0IGNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuICAgICAgICAgICAgdHJ5IHsvL3F1ZXJ5U2VsZWN0b3IgYnJlYWtzIG9uIGludmFsaWQgc2VsZWN0b3JzXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXQudmFsdWUpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBhbWd1aS5jb2xvci5wdXJwbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgICAgICAgaW5wdXQuZG9tRWxlbS5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlZnJlc2hTcGVsbGluZ0ZlZWRiYWNrKCk7XG5cblxuICAgIHZhciByZWZyZXNoU3VnZ2VzdGlvbnMgPSAoKSA9PiB7XG5cbiAgICAgICAgaW5wdXRQYXRocyA9IGFtLnByb2plY3RNYXAuZ2V0Q3VyclByb2plY3QoKS5nZXRJbnB1dFBhdGhzKCk7XG4gICAgICAgIGlucHV0LnNldFN1Z2dlc3Rpb25zKGlucHV0UGF0aHMpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xuXG4gICAgICAgIHJlZnJlc2hTdWdnZXN0aW9ucygpO1xuICAgICAgICAvL1RPRE8gPy50aW1lbGluZS5wcm9qZWN0Lm9uKCdjaGFuZ2UuaW5wdXRzJywgcmVmcmVzaFN1Z2dlc3Rpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2NzcycpIHtcblxuICAgICAgICB2YXIgYnRuUGljayA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbjogJ3RhcmdldCcsXG4gICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKSxcbiAgICAgICAgICAgIHRvb2x0aXA6ICdwaWNrIERPTSBlbGVtZW50J1xuICAgICAgICB9KTtcbiAgICAgICAgdGFyZ2V0Lm9wdGlvbkxpbmUuYWRkQnV0dG9uKHtkb21FbGVtOiBidG5QaWNrLCBob3Zlck1vZGU6IHRydWV9KTtcbiAgICB9XG5cbiAgICB2YXIgYnRuRGVsID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdjYW5jZWwnLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgXy5wdWxsKHRoaXMudmFsdWUsIGRhdGEoKSk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICB0YXJnZXQub3B0aW9uTGluZS5hZGRCdXR0b24oe2RvbUVsZW06IGJ0bkRlbCwgaG92ZXJNb2RlOiB0cnVlfSk7XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFVuaXRJbnB1dChvcHQ9e30pIHtcblxuICAgIElucHV0LmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3J4QW1vdW50ID0gL15cXHMqKFtcXCstXT9cXGQqXFwuP1xcZCopLztcbiAgICB0aGlzLl9yeFVuaXQ7XG5cbiAgICB0aGlzLnVuaXRzID0gb3B0LnVuaXRzICYmIG9wdC51bml0cy5sZW5ndGggPyBvcHQudW5pdHMgOiBbJyddO1xuICAgIHRoaXMubWluID0gb3B0Lm1pbjtcbiAgICB0aGlzLm1heCA9IG9wdC5tYXg7XG4gICAgdGhpcy5fYW1vdW50ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3VuaXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcHJlY2lzb24gPSBvcHQucHJlY2lzaW9uIHx8IDA7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAwO1xuICAgIHRoaXMuX2RyYWdTcGVlZCA9IG9wdC5kcmFnU3BlZWQgfHwgMTtcblxuICAgIHRoaXMuX3NldFZhbHVlUGFydHMob3B0LmFtb3VudCB8fCAwLCB0aGlzLl91bml0c1swXSk7XG5cbiAgICB0aGlzLmNvbnZlcnRlcnMgPSBvcHQuY29udmVydGVycztcbn1cblxuaW5oZXJpdHMoVW5pdElucHV0LCBJbnB1dCk7XG52YXIgcCA9IFVuaXRJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFVuaXRJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ICs9ICcnO1xuXG4gICAgICAgICAgICB2YXIgbUFtb3VudCA9IHRoaXMuX3J4QW1vdW50LmV4ZWModiksXG4gICAgICAgICAgICAgICAgbVVuaXQgPSB0aGlzLl9yeFVuaXQuZXhlYyh2KSxcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBtQW1vdW50ID8gbUFtb3VudFsxXSA6ICcwJyxcbiAgICAgICAgICAgICAgICB1bml0ID0gbVVuaXQgPyBtVW5pdFsxXSA6ICcnO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRWYWx1ZVBhcnRzKGFtb3VudCwgdW5pdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gIHRoaXMuX2Ftb3VudCArIHRoaXMuX3VuaXQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHByZWNpc2lvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgID0gcGFyc2VJbnQodilcbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9wcmVjaXNvbiB8fCB0aGlzLl9wcmVjaXNvbi5pbmRleE9mKHYpID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmVjaXNvbiA9IHY7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAgdGhpcy5fcHJlY2lzb247XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVuaXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKCEodiBpbnN0YW5jZW9mIEFycmF5KSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl91bml0cyA9IHYuc2xpY2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fcnhVbml0ID0gbmV3IFJlZ0V4cCgnKCcgKyB0aGlzLl91bml0cy5qb2luKCd8JykgKyAnKStcXFxccyokJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuXG4gICAgICAgICAgICBpZiAoIV8uaXNGaW5pdGUodikgfHwgdGhpcy5fbWluID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX21pbiA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWluO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXg6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VGbG9hdCh2KTtcblxuICAgICAgICAgICAgaWYgKCFfLmlzRmluaXRlKHYpIHx8IHRoaXMuX21heCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXggPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5cblxucC5fc2V0VmFsdWVQYXJ0cyA9IGZ1bmN0aW9uIChhbW91bnQsIHVuaXQpIHtcblxuICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KSB8fCAwO1xuICAgIHVuaXQgPSBTdHJpbmcodW5pdCkgfHwgJyc7XG5cbiAgICBpZiAodGhpcy5fYW1vdW50ID09PSBhbW91bnQgJiYgdGhpcy5fdW5pdCA9PT0gdW5pdCkgcmV0dXJuO1xuXG4gICAgaWYgKF8uaXNGaW5pdGUodGhpcy5taW4pKSBhbW91bnQgPSBNYXRoLm1heCh0aGlzLm1pbiwgYW1vdW50KTtcbiAgICBpZiAoXy5pc0Zpbml0ZSh0aGlzLm1heCkpIGFtb3VudCA9IE1hdGgubWluKHRoaXMubWF4LCBhbW91bnQpO1xuXG4gICAgdGhpcy5fYW1vdW50ID0gYW1vdW50O1xuICAgIHZhciBmaXhBbW91bnQgPSB0aGlzLl90b0ZpeGVkQW1vdW50KGFtb3VudCk7XG5cbiAgICBpZiAodGhpcy5faW5wQW1vdW50LnZhbHVlICE9PSBmaXhBbW91bnQpIHtcblxuICAgICAgICB0aGlzLl9pbnBBbW91bnQudmFsdWUgPSBmaXhBbW91bnQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3VuaXQgIT09IHVuaXQgJiYgdGhpcy5fdW5pdHMuaW5kZXhPZih1bml0KSAhPT0gLTEpIHtcblxuICAgICAgICB0aGlzLl91bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5fZGVVbml0LnRleHQgPSB1bml0O1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZSk7XG59O1xuXG5wLl90b0ZpeGVkQW1vdW50ID0gZnVuY3Rpb24gKGFtb3VudCkge1xuXG4gICAgdmFyIGZpeEFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KS50b0ZpeGVkKHRoaXMuX3ByZWNpc29uKTtcblxuICAgIGlmIChmaXhBbW91bnQuaW5kZXhPZignLicpICE9PSAtMSkge1xuXG4gICAgICAgIGZpeEFtb3VudCA9IGZpeEFtb3VudC5yZXBsYWNlKC9cXC4/MCokLywgJycpO1xuICAgIH1cblxuICAgIHJldHVybiBmaXhBbW91bnQ7XG59O1xuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXRBbW91bnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZml4QW1vdW50ID0gdGhpcy5fdG9GaXhlZEFtb3VudCh0aGlzLl9hbW91bnQpLFxuICAgICAgICB2YWx1ZSA9IHRoaXMuX2lucEFtb3VudC52YWx1ZTtcblxuICAgIGlmIChmaXhBbW91bnQgIT09IHZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5fc2V0VmFsdWVQYXJ0cyh2YWx1ZSwgdGhpcy5fdW5pdCk7XG4gICAgfVxufTtcblxuXG5cblxuXG5wLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lucEFtb3VudCA9IGFtZ3VpLmNyZWF0ZUlucHV0KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiAoKSA9PiB0aGlzLl9vbkNoYW5nZUlucHV0QW1vdW50KCksXG4gICAgICAgIGZsZXg6IDEsXG4gICAgfSk7XG4gICAgdGhpcy5faW5wQW1vdW50LnN0eWxlLnRleHRBbGlnbiA9ICAncmlnaHQnO1xuICAgIHRoaXMuX2lucEFtb3VudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAgJzJweCc7XG4gICAgdGhpcy5faW5wQW1vdW50LnN0eWxlLmN1cnNvciA9ICAnZXctcmVzaXplJztcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5faW5wQW1vdW50LFxuICAgICAgICB0aGlzQXJnOiB0aGlzLFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHRoaXMuX2Ftb3VudCxcbiAgICAgICAgICAgICAgICBtb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIChtZCwgbXgpIHtcblxuICAgICAgICAgICAgbWQubW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB2YXIgZHggPSBteCAtIG1kLm14O1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRWYWx1ZVBhcnRzKG1kLmFtb3VudCArIHRoaXMuX2RyYWdTcGVlZCAqIGR4KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25VcDogZnVuY3Rpb24gKG1kKSB7XG4gICAgICAgICAgICBpZiAoIW1kLm1vdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5wQW1vdW50LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2RlVW5pdCA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIHRleHQ6ICcnLFxuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVDb21wYWN0UHJvcGVydHkocHJvdG8sIG9wdCkge1xuXG4gICAgaWYgKF8uaXNBcnJheShvcHQpKSB7XG5cbiAgICAgICAgb3B0LmZvckVhY2gobyA9PiBkZWZpbmVDb21wYWN0UHJvcGVydHkocHJvdG8sIG8pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghXy5oYXMob3B0LCAnbmFtZScpKSB0aHJvdyBFcnJvcjtcbiAgICBpZiAoXy5oYXMob3B0LCAnZXZlbnROYW1lJykpIHRocm93IEVycm9yO1xuXG4gICAgdmFyIHZhbE1hcCA9IG5ldyBXZWFrTWFwKCksXG4gICAgICAgIG5hbWUgPSBvcHQubmFtZSxcbiAgICAgICAgaGlzdG9yeSA9IG9wdC5oaXN0b3J5LFxuICAgICAgICBzdGFydFZhbHVlID0gb3B0LnN0YXJ0VmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlID0gb3B0Lm9uQ2hhbmdlLFxuICAgICAgICBldnROYW1lID0gb3B0LmV2ZW50IHx8IG9wdC5ldnROYW1lIHx8ICdjaGFuZ2UuJyArIG5hbWU7XG5cbiAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgICBpZiAodHlwZW9mKGhpc3RvcnkpICE9PSAnb2JqZWN0JykgaGlzdG9yeSA9IHt9O1xuICAgICAgICBpZiAoIWhpc3RvcnkuaGFzT3duUHJvcGVydHkoJ3RhZycpKSBoaXN0b3J5LnRhZyA9ICdjaGFuZ2UgJyArIG5hbWU7XG4gICAgICAgIGlmICghaGlzdG9yeS5oYXNPd25Qcm9wZXJ0eSgnY2hhaW5JZCcpKSBoaXN0b3J5LmNoYWluSWQgPSBTeW1ib2woKTsvL1RPRE8gbWFrZSB0aGlzIHVuaXF1ZSBwZXIgaW5zdGFuY2VcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIHtzZXQ6IHNldCwgZ2V0OiBnZXR9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGV2dE5hbWU6IGV2dE5hbWUsXG4gICAgfTtcblxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB2YWxNYXAuaGFzKHRoaXMpID8gdmFsTWFwLmdldCh0aGlzKSA6IHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KHYpIHtcblxuICAgICAgICB2ID0gZml4VHlwZSh2KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHYgPT09IHZhbHVlIHx8IGlzSW52YWxpZFZhbHVlKHYpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNhdmUuY2FsbCh0aGlzLCB2YWx1ZSwgdik7XG5cbiAgICAgICAgdmFsdWUgPSB2O1xuXG4gICAgICAgIHZhbE1hcC5zZXQodGhpcywgdmFsdWUpO1xuXG4gICAgICAgIGlmIChvbkNoYW5nZSkgb25DaGFuZ2UuY2FsbCh0aGlzLCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KGV2dE5hbWUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYXZlKG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXG4gICAgICAgIGlmICghaGlzdG9yeSkgcmV0dXJuO1xuXG4gICAgICAgIGFtLmhpc3Rvcnkuc2F2ZUNoYWluKHtcbiAgICAgICAgICAgIGlkOiBoaXN0b3J5LmNoYWluSWQsIFxuICAgICAgICAgICAgdW5kbzogW3NldCwgdGhpcywgb2xkVmFsdWVdLCBcbiAgICAgICAgICAgIHJlZG86IFtzZXQsIHRoaXMsIG5ld1ZhbHVlXSwgXG4gICAgICAgICAgICBuYW1lOiBoaXN0b3J5LnRhZywgXG4gICAgICAgICAgICBkZWxheTogMzEyLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhUeXBlKHYpIHtcblxuICAgICAgICBzd2l0Y2ggKG9wdC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdmbG9hdCc6IHYgPSBwYXJzZUZsb2F0KHYpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ludCc6IHYgPSBwYXJzZUludCh2KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzogdiA9ICEhdjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOiB2ID0gJycgKyB2OyBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSW52YWxpZFZhbHVlKHYpIHtcblxuICAgICAgICByZXR1cm4gKChvcHQudHlwZSA9PT0gJ2Zsb2F0JyB8fCBvcHQudHlwZSA9PT0gJ2ludCcpICYmICFfLmlzRmluaXRlKHYpKTtcbiAgICB9XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIFdlYlN0b3JhZ2VtYW4gPSByZXF1aXJlKCcuL3N0b3JhZ2VzL1dlYlN0b3JhZ2VtYW4nKTtcbnZhciBQYWdlU2NyaXB0ID0gcmVxdWlyZSgnLi9zdG9yYWdlcy9QYWdlU2NyaXB0Jyk7XG52YXIgRG93bmxvYWQgPSByZXF1aXJlKCcuL3N0b3JhZ2VzL0Rvd25sb2FkJyk7XG52YXIgZGVjb3JEaWFsb2cgPSByZXF1aXJlKCcuL2RlY29yRGlhbG9nJyk7XG5cbmZ1bmN0aW9uIFdhcmVob3VzZWVtYW4ob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIGRlY29yRGlhbG9nKHRoaXMpO1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5fc3RvcmFnZXMgPSBbXTtcbiAgICB0aGlzLmFkZFN0b3JhZ2UobmV3IFBhZ2VTY3JpcHQoKSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKG5ldyBXZWJTdG9yYWdlbWFuKCkpO1xuICAgIHRoaXMuYWRkU3RvcmFnZShuZXcgRG93bmxvYWQoKSk7XG4gICAgLy8gdGhpcy5hZGRTdG9yYWdlKG5ldyBDb3B5KCkpO1xuICAgIHRoaXMuYWRkU3RvcmFnZSh7aWNvbjogJ2hkZCcsIHRvb2x0aXA6ICdsb2NhbCBmaWxlIHN5c3RlbSd9KTtcbiAgICB0aGlzLmFkZFN0b3JhZ2Uoe2ljb246ICdnaXQnLCB0b29sdGlwOiAnR2l0J30pO1xuICAgIHRoaXMuYWRkU3RvcmFnZSh7aWNvbjogJ2dvb2dsZScsIHRvb2x0aXA6ICdHb29nbGUgRHJpdmUnfSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKHtpY29uOiAnZHJvcGJveCcsIHRvb2x0aXA6ICdEcm9wYm94J30pO1xuICAgIHRoaXMuYWRkU3RvcmFnZSh7aWNvbjogJ2hpc3RvcnknLCB0b29sdGlwOiAnYXV0byBzYXZlJ30pO1xuXG4gICAgdGhpcy5zZWxlY3RTdG9yYWdlKHRoaXMuX3N0b3JhZ2VzWzJdKTtcbn1cblxuaW5oZXJpdHMoV2FyZWhvdXNlZW1hbiwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gV2FyZWhvdXNlZW1hbi5wcm90b3R5cGU7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHNlbGVjdGVkU3RvcmFnZVR5cGU6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyU3RvcmFnZSAmJiB0aGlzLmN1cnJTdG9yYWdlLnR5cGU7XG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5wLmFkZFN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZSkge1xuXG4gICAgc3RvcmFnZS5mZWF0dXJlcyA9IHN0b3JhZ2UuZmVhdHVyZXMgfHwge1xuICAgICAgICBwbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICB9O1xuXG4gICAgdGhpcy5fc3RvcmFnZXMucHVzaChzdG9yYWdlKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZVN0b3JhZ2VzJyk7XG59O1xuXG5wLnNlbGVjdFN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZSkge1xuXG4gICAgaWYgKHRoaXMuY3VyclN0b3JhZ2UgPT09IHN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY3VyclN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gICAgaWYgKHN0b3JhZ2UuZmVhdHVyZXMucGxhY2Vob2xkZXIpIHtcblxuICAgICAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VTZWxlY3RlZFN0b3JhZ2UnKTtcbn07XG5cbnAuc2F2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBwYXRoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5jdXJyU3RvcmFnZS5zYXZlKG5hbWUsIGRhdGEsIHBhdGgpO1xufTtcblxucC5sb2FkID0gZnVuY3Rpb24gKG5hbWUsIHBhdGggICApIHtcblxuICAgIHJldHVybiB0aGlzLmN1cnJTdG9yYWdlLmxvYWQobmFtZSwgcGF0aCk7XG59O1xuXG5wLm1rZGlyID0gZnVuY3Rpb24gKHBhdGgpIHtcblxuICAgIHJldHVybiB0aGlzLmN1cnJTdG9yYWdlLm1rZGlyKHBhdGgpO1xufTtcblxucC5kaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgcmV0dXJuIHRoaXMuY3VyclN0b3JhZ2UuZGlyKHBhdGgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBXYXJlaG91c2VlbWFuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIFN0cmluZ0lucHV0ID0gcmVxdWlyZSgnLi4vdXRpbHMvU3RyaW5nSW5wdXQnKTtcblxuZnVuY3Rpb24gZGVjb3JEaWFsb2cod2htKSB7XG5cbiAgICB2YXIgZGlhbG9nLCBkZUxlZnQsIGRlSGVhZCwgZGVCcmVhZGNydW1icywgaW5wTmFtZSxcbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IsIGRlRGlyZWN0b3J5LCBidG5OZXdGb2xkZXIsIGlzSW5pdGVkLCBkZU9wdGlvbnMsXG4gICAgICAgIG9wZW5PcHRpb25zID0ge30sIG1vZGU7XG5cblxuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgICAgICBpZiAoaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc0luaXRlZCA9IHRydWU7XG5cbiAgICAgICAgZGlhbG9nID0gbmV3IERpYWxvZygpO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZE5hbWUnLCBzdGFydFZhbHVlOiAnJ30pO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZERhdGEnLCBzdGFydFZhbHVlOiAnJ30pO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZFBhdGgnLCBzdGFydFZhbHVlOiAnJ30pO1xuXG4gICAgICAgIGNyZWF0ZURpYWxvZygpO1xuICAgICAgICBjcmVhdGVTdG9yYWdlU2VsZWN0b3IoKTtcbiAgICAgICAgY3JlYXRlQnJlYWRjcnVtYnMoKTtcbiAgICAgICAgY3JlYXRlQnRuTmV3Rm9sZGVyKCk7XG4gICAgICAgIGNyZWF0ZUJ0blNldHRpbmdzKCk7XG4gICAgICAgIGNyZWF0ZU5hbWVJbnB1dCgpO1xuICAgICAgICBjcmVhdGVEaXJlY3RvcnkoKTtcbiAgICAgICAgY3JlYXRlT3B0aW9ucygpO1xuXG4gICAgICAgIHdobS5kaWFsb2cgPSBkaWFsb2c7XG4gICAgfVxuXG4gICAgd2htLnNob3dTYXZlRGlhbG9nID0gZnVuY3Rpb24ob3B0KSB7XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIG9wZW5PcHRpb25zID0gb3B0O1xuICAgICAgICBtb2RlID0gJ3NhdmUnO1xuXG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBvcHQubmFtZSB8fCAnJztcbiAgICAgICAgZGlhbG9nLnNlbGVjdGVkRGF0YSA9IG9wdC5kYXRhIHx8ICcnO1xuICAgICAgICBkaWFsb2cuc2VsZWN0ZWRQYXRoID0gb3B0LnBhdGggfHwgJyc7XG5cbiAgICAgICAgaW5wTmFtZS5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIGRpYWxvZy50aXRsZSA9ICdTYXZlJztcbiAgICAgICAgZGlhbG9nLnNob3dCdXR0b24oJ3NhdmUnKTtcbiAgICAgICAgZGlhbG9nLmhpZGVCdXR0b24oJ29wZW4nKTtcblxuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5yZWZyZXNoKCk7XG4gICAgICAgIGRlRGlyZWN0b3J5LnJlZnJlc2goKTtcbiAgICAgICAgc2V0dXBNb2R1bGVzKCk7XG4gICAgICAgIGRpYWxvZy5zaG93KCk7XG4gICAgfTtcblxuICAgIHdobS5zaG93T3BlbkRpYWxvZyA9IGZ1bmN0aW9uKG9wdCkge1xuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICBvcGVuT3B0aW9ucyA9IG9wdDtcbiAgICAgICAgbW9kZSA9ICdvcGVuJztcblxuICAgICAgICBkaWFsb2cuc2VsZWN0ZWROYW1lID0gb3B0Lm5hbWUgfHwgJyc7XG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZFBhdGggPSBvcHQucGF0aCB8fCAnJztcblxuICAgICAgICBpbnBOYW1lLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBkaWFsb2cudGl0bGUgPSAnT3Blbic7XG4gICAgICAgIGRpYWxvZy5zaG93QnV0dG9uKCdvcGVuJyk7XG4gICAgICAgIGRpYWxvZy5oaWRlQnV0dG9uKCdzYXZlJyk7XG5cbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IucmVmcmVzaCgpO1xuICAgICAgICBkZURpcmVjdG9yeS5yZWZyZXNoKCk7XG4gICAgICAgIHNldHVwTW9kdWxlcygpO1xuICAgICAgICBkaWFsb2cuc2hvdygpO1xuICAgIH07XG5cbiAgICB3aG0uc2V0U2F2ZU90aW9ucyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgICAgICBkZU9wdGlvbnMuc2V0T3B0aW9ucyhvcHQpO1xuICAgIH07XG5cbiAgICB3aG0uZ2V0U2F2ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIGRlT3B0aW9ucy5nZXRPcHRpb25zKCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZlYXR1cmUobmFtZSkge1xuXG4gICAgICAgIHJldHVybiB3aG0uY3VyclN0b3JhZ2UuZmVhdHVyZXMgJiZcbiAgICAgICAgICAgIHdobS5jdXJyU3RvcmFnZS5mZWF0dXJlc1tuYW1lXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cE1vZHVsZXMoKSB7XG5cbiAgICAgICAgc2hvd0hpZGUoZGVEaXJlY3RvcnksIGZlYXR1cmUoJ2Jyb3dzZScpKTtcbiAgICAgICAgc2hvd0hpZGUoZGVCcmVhZGNydW1icywgZmVhdHVyZSgnYnJvd3NlJykpO1xuICAgICAgICBzaG93SGlkZShidG5OZXdGb2xkZXIsIGZlYXR1cmUoJ21rZGlyJykpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNob3dIaWRlKGRlLCBzaG93KSB7XG5cbiAgICAgICAgICAgIGRlLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gJ2Jsb2NrJyB8fCBkZS5iYXNlRGlzcGxheSA6ICdoaWRkZW4nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TYXZlKCkge1xuXG4gICAgICAgIHZhciBzYXZlID0gb3Blbk9wdGlvbnMuZ2V0U2F2ZSgpLFxuICAgICAgICAgICAgbmFtZSA9IGRpYWxvZy5zZWxlY3RlZE5hbWUgfHwgJ2FuaW0uYW0uanMnO1xuXG4gICAgICAgIHdobS5zYXZlKG5hbWUsIHNhdmUsIGRpYWxvZy5zZWxlY3RlZFBhdGgpO1xuXG4gICAgICAgIGRpYWxvZy5oaWRlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25PcGVuKCkge1xuXG4gICAgICAgIHZhciBzYXZlID0gd2htLmxvYWQoZGlhbG9nLnNlbGVjdGVkTmFtZSwgZGlhbG9nLnNlbGVjdGVkUGF0aCk7XG5cbiAgICAgICAgaWYgKG9wZW5PcHRpb25zLm9uT3Blbikge1xuXG4gICAgICAgICAgICBvcGVuT3B0aW9ucy5vbk9wZW4oc2F2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkaWFsb2cuaGlkZSgpO1xuICAgIH1cblxuXG5cblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2cgKCkge1xuXG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnNzAwcHgnO1xuICAgICAgICBkaWFsb2cuZGVDb250ZW50LnN0eWxlLmhlaWdodCA9ICc0MDBweCc7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG5cbiAgICAgICAgZGVMZWZ0ID0gYW1ndWkuY3JlYXRlRGl2KCk7O1xuICAgICAgICBkZUxlZnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkZUxlZnQuc3R5bGUuZmxleCA9ICcxJztcbiAgICAgICAgZGVMZWZ0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRlTGVmdC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuYXBwZW5kQ2hpbGQoZGVMZWZ0KTtcblxuICAgICAgICBkZUhlYWQgPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgICAgIGRlSGVhZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgZGVIZWFkLnN0eWxlLmhlaWdodCA9ICcyMXB4JztcbiAgICAgICAgZGVIZWFkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRlTGVmdC5hcHBlbmRDaGlsZChkZUhlYWQpO1xuXG4gICAgICAgIGRpYWxvZy5hZGRCdXR0b24oJ3NhdmUnLCBvblNhdmUpO1xuICAgICAgICBkaWFsb2cuYWRkQnV0dG9uKCdvcGVuJywgb25PcGVuKTtcbiAgICAgICAgZGlhbG9nLmFkZEJ1dHRvbignY2xvc2UnLCAnaGlkZScpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQnJlYWRjcnVtYnMoKSB7XG5cbiAgICAgICAgZGVCcmVhZGNydW1icyA9IGFtZ3VpLmNyZWF0ZUJyZWFkY3J1bWJzKHtcbiAgICAgICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICB9KTtcbiAgICAgICAgZGVCcmVhZGNydW1icy5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIGRlQnJlYWRjcnVtYnMuc3R5bGUuZmxleCA9ICcxJztcblxuICAgICAgICBkZUJyZWFkY3J1bWJzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHdobS5jZChlLmRldGFpbC5zZWxlY3Rpb24udmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaWFsb2cub24oJ2NoYW5nZS5zZWxlY3RlZFBhdGgnLCByZWZyZXNoKTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoICgpIHtcblxuICAgICAgICAgICAgdmFyIG5hbWVzID0gZGlhbG9nLnNlbGVjdGVkUGF0aC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnLFxuICAgICAgICAgICAgICAgIGNydW1icyA9IFtdO1xuXG4gICAgICAgICAgICBjcnVtYnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogKHdobS5jdXJyU3RvcmFnZS5yb290TmFtZSB8fCAncm9vdCcpICsgJzovLycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoY3J1bWJOYW1lKSB7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBjcnVtYk5hbWUgKyAnLyc7XG5cbiAgICAgICAgICAgICAgICBjcnVtYnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNydW1iTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVCcmVhZGNydW1icy5zZXRJdGVtcyhjcnVtYnMpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCdG5TZXR0aW5ncygpIHtcblxuICAgICAgICBidG5OZXdGb2xkZXIgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICAgICAgaWNvbjogJ3dyZW5jaCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVPcHRpb25zLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQnRuTmV3Rm9sZGVyKCkge1xuXG4gICAgICAgIGJ0bk5ld0ZvbGRlciA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgcGFyZW50OiBkZUhlYWQsXG4gICAgICAgICAgICBpY29uOiAnZm9sZGVyLWFkZCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVOYW1lSW5wdXQoKSB7XG5cbiAgICAgICAgaW5wTmFtZSA9IG5ldyBTdHJpbmdJbnB1dCh7XG4gICAgICAgICAgICBwYXJlbnQ6IGRlTGVmdCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRmlsZSBuYW1lIChleC4gYW5pbS5hbS5qcyknLFxuICAgICAgICB9KTtcblxuICAgICAgICBpbnBOYW1lLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBpbnBOYW1lLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaWFsb2cub24oJ2NoYW5nZS5zZWxlY3RlZE5hbWUnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmIChpbnBOYW1lLnZhbHVlICE9PSBkaWFsb2cuc2VsZWN0ZWROYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBpbnBOYW1lLnZhbHVlID0gZGlhbG9nLnNlbGVjdGVkTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEaXJlY3RvcnkoKSB7XG5cbiAgICAgICAgZGVEaXJlY3RvcnkgPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgICAgIGRlRGlyZWN0b3J5LnN0eWxlLmxpc3RTdHlsZSA9ICdub25lJztcbiAgICAgICAgZGVEaXJlY3Rvcnkuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBkZURpcmVjdG9yeS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgZGVEaXJlY3Rvcnkuc3R5bGUuZmxleCA9ICcxJztcbiAgICAgICAgZGVMZWZ0LmFwcGVuZENoaWxkKGRlRGlyZWN0b3J5KTtcblxuICAgICAgICB2YXIgZGVJdGVtcyA9IFtdLCBvdmVySXRlbSwgY3Vyckl0ZW07XG5cbiAgICAgICAgZGlhbG9nLm9uKCdjaGFuZ2Uuc2VsZWN0ZWRQYXRoJywgcmVmcmVzaCk7XG4gICAgICAgIHdobS5vbignY2hhbmdlU2VsZWN0ZWRTdG9yYWdlJywgcmVmcmVzaCk7XG4gICAgICAgIGRpYWxvZy5vbignY2hhbmdlLnNlbGVjdGVkTmFtZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgY3Vyckl0ZW0gPSBfLmZpbmQoZGVJdGVtcywge25hbWU6IGRpYWxvZy5zZWxlY3RlZE5hbWV9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaCgpIHtcblxuICAgICAgICAgICAgd2hpbGUgKGRlSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgJChkZUl0ZW1zLnBvcCgpKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmZWF0dXJlKCdicm93c2UnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxpc3QgPSB3aG0uZGlyKCk7XG5cbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgICAgICAgICAgY3JlYXRlSXRlbShpdGVtLm5hbWUsIGl0ZW0udHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlRGlyZWN0b3J5LnJlZnJlc2ggPSByZWZyZXNoO1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXG4gICAgICAgICAgICBkaWFsb2cuc2VsZWN0ZWROYW1lID0gdGhpcy5uYW1lO1xuXG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSAnZGJsY2xpY2snKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3NhdmUnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb25TYXZlKGRpYWxvZy5zZWxlY3RlZFBhdGgsIGRpYWxvZy5zZWxlY3RlZE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25PcGVuKGRpYWxvZy5zZWxlY3RlZFBhdGgsIGRpYWxvZy5zZWxlY3RlZE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGRlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGVJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVJdGVtID09PSBvdmVySXRlbSB8fCBkZUl0ZW0gPT09IGN1cnJJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZ0hvdmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdmVyKCkge1xuXG4gICAgICAgICAgICBvdmVySXRlbSA9IHRoaXM7XG4gICAgICAgICAgICByZWZyZXNoU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdXQoKSB7XG5cbiAgICAgICAgICAgIGlmIChvdmVySXRlbSA9PT0gdGhpcykge1xuXG4gICAgICAgICAgICAgICAgb3Zlckl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSXRlbShuYW1lLCB0eXBlKSB7XG5cbiAgICAgICAgICAgIHZhciBkZUl0ZW0gPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgICAgICAgICBkZUl0ZW0ubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgICAgIGFtZ3VpLmNyZWF0ZUljb24oe1xuICAgICAgICAgICAgICAgIGljb246IHR5cGUgPT09ICdmb2xkZXInID8gJ2ZvbGRlci1lbXB0eScgOiAnZG9jJyxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGRlSXRlbSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZGVOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgZGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgICAgIGRlSXRlbS5hcHBlbmRDaGlsZChkZU5hbWUpO1xuXG4gICAgICAgICAgICBkZURpcmVjdG9yeS5hcHBlbmRDaGlsZChkZUl0ZW0pO1xuXG4gICAgICAgICAgICBkZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIGRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIG9uQ2xpY2spO1xuICAgICAgICAgICAgZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG9uTU92ZXIpO1xuICAgICAgICAgICAgZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0Jywgb25NT3V0KTtcblxuICAgICAgICAgICAgZGVJdGVtcy5wdXNoKGRlSXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gZGVJdGVtO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU3RvcmFnZVNlbGVjdG9yKCkge1xuXG4gICAgICAgIHZhciBidG5TaXplID0gMzMsIGJ1dHRvbnMgPSBbXTtcblxuICAgICAgICBkZVN0b3JhZ2VTZWxlY3RvciA9IGFtZ3VpLmNyZWF0ZURpdigpOztcbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3Iuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS53aWR0aCA9IGJ0blNpemUgKyAncHgnO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzEycHgnO1xuICAgICAgICBkaWFsb2cuZGVDb250ZW50Lmluc2VydEJlZm9yZShkZVN0b3JhZ2VTZWxlY3RvciwgZGVMZWZ0KTtcblxuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHZhciBpZHggPSBlLnRhcmdldC5fc3RvcmFnZUlkeDtcblxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICB3aG0uc2VsZWN0U3RvcmFnZSh3aG0uX3N0b3JhZ2VzW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aG0ub24oJ2NoYW5nZVNlbGVjdGVkU3RvcmFnZScsIHJlZnJlc2hTZWxlY3Rpb24pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUJ1dHRvbnMoKSB7XG5cbiAgICAgICAgICAgIGJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoYnRuLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBidG4uZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJ0bi5kb21FbGVtKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBidG4uZG9tRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tCdG4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZW1vdmVCdXR0b25zKCk7XG5cbiAgICAgICAgICAgIHdobS5fc3RvcmFnZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmFnZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2UuZmVhdHVyZXMucGxhY2Vob2xkZXIgfHwgc3RvcmFnZS5mZWF0dXJlc1ttb2RlXSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUl0ZW0oc3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlZnJlc2hTZWxlY3Rpb24oKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBmYWxzZTtcblxuICAgICAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XG5cbiAgICAgICAgICAgICAgICB2YXIgX20gPSBidG4uc3RvcmFnZSA9PT0gd2htLmN1cnJTdG9yYWdlO1xuICAgICAgICAgICAgICAgIGJ0bi5kb21FbGVtLmZpeGVkSGlnaGxpZ2h0ID0gX207XG4gICAgICAgICAgICAgICAgaWYgKF9tKSBtYXRjaCA9IF9tO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB3aG0uc2VsZWN0U3RvcmFnZShfLmZpbmQoYnV0dG9ucywgYiA9PiAhYi5zdG9yYWdlLmZlYXR1cmVzLnBsYWNlaG9sZGVyKS5zdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBvbkNsaWNrQnRuKGUpIHtcblxuICAgICAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcblxuICAgICAgICAgICAgICAgIGlmIChidG4uZG9tRWxlbSA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgd2htLnNlbGVjdFN0b3JhZ2UoYnRuLnN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSXRlbShzdG9yYWdlKSB7XG5cbiAgICAgICAgICAgIHZhciBidG4gPSB7XG4gICAgICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICAgICAgICAgIGljb246IHN0b3JhZ2UuaWNvbixcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBkZVN0b3JhZ2VTZWxlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGJ0blNpemUsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogYnRuU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tCdG4sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogc3RvcmFnZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYW1ndWkuYWRkVG9vbHRpcCh7XG4gICAgICAgICAgICAgICAgZGVUYXJnZXQ6IGJ0bi5kb21FbGVtLFxuICAgICAgICAgICAgICAgIHRleHQ6IHN0b3JhZ2UudG9vbHRpcFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChidG4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlT3B0aW9ucygpIHtcblxuICAgICAgICB2YXIgaXNPcGVuZWQgPSBmYWxzZTtcblxuICAgICAgICBkZU9wdGlvbnMgPSBhbWd1aS5jcmVhdGVEaXYoKTs7XG4gICAgICAgIGRlT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkZU9wdGlvbnMuc3R5bGUud2lkdGggPSAnMTM4cHgnO1xuICAgICAgICBkZU9wdGlvbnMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkaWFsb2cuZGVDb250ZW50LmFwcGVuZENoaWxkKGRlT3B0aW9ucyk7XG5cbiAgICAgICAgYW1ndWkuY3JlYXRlQnRuKHtcbiAgICAgICAgICAgIHRleHQ6ICdhZGQgdHJpZ2dlcicsXG4gICAgICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7YW0uZGlhbG9ncy5XSVAuc2hvdygpfSxcbiAgICAgICAgICAgIHBhcmVudDogZGVPcHRpb25zLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY2hlY2tTYXZlID0gY3JlYXRlQ2hlY2tib3goJ2luY2x1ZGUgc2F2ZScsIHRydWUpO1xuICAgICAgICB2YXIgY2hlY2tNaW5pZnkgPSBjcmVhdGVDaGVja2JveCgnbWluaWZ5Jyk7XG4gICAgICAgIHZhciBjaGVja0F1dG8gPSBjcmVhdGVDaGVja2JveCgnYXV0byBwbGF5JywgdHJ1ZSk7XG4gICAgICAgIHZhciBjaGVja0RlYnVnID0gY3JlYXRlQ2hlY2tib3goJ2RlYnVnJywgdHJ1ZSk7XG5cbiAgICAgICAgZGVPcHRpb25zLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZVNhdmU6IGNoZWNrU2F2ZS5jaGVja2VkLFxuICAgICAgICAgICAgICAgIG1pbmlmeTogY2hlY2tNaW5pZnkuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICBhdXRvUGxheTogY2hlY2tBdXRvLmNoZWNrZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgZGVPcHRpb25zLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICAgICAgICAgIGNoZWNrU2F2ZS5jaGVja2VkID0gb3B0LmluY2x1ZGVTYXZlO1xuICAgICAgICAgICAgY2hlY2tNaW5pZnkuY2hlY2tlZCA9IG9wdC5taW5pZnk7XG4gICAgICAgICAgICBjaGVja0F1dG8uY2hlY2tlZCA9IG9wdC5hdXRvUGxheTtcbiAgICAgICAgICAgIGNoZWNrRGVidWcuY2hlY2tlZCA9IG9wdC5kZWJ1ZztcbiAgICAgICAgfTtcblxuICAgICAgICBkZU9wdGlvbnMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpc09wZW5lZCA9ICFpc09wZW5lZDtcblxuICAgICAgICAgICAgZGVPcHRpb25zLnN0eWxlLmRpc3BsYXkgPSBpc09wZW5lZCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3gobmFtZSwgY2hlY2tlZCkge1xuXG4gICAgICAgICAgICB2YXIgY2IgPSBhbWd1aS5jcmVhdGVDaGVja2JveCh7XG4gICAgICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgIHBhcmVudDogZGVPcHRpb25zLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoY2IpLm9uZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7YW0uZGlhbG9ncy5XSVAuc2hvdygpfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29yRGlhbG9nO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIERvd25sb2FkKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9yb290ID0gb3B0LnJvb3QgfHwgJ19Eb3dubG9hZC8nO1xuXG4gICAgdGhpcy5pY29uID0gJ2Rvd25sb2FkJztcbiAgICB0aGlzLnRvb2x0aXAgPSAnRG93bmxvYWQnO1xufVxuXG5pbmhlcml0cyhEb3dubG9hZCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRG93bmxvYWQucHJvdG90eXBlO1xuXG5wLmZlYXR1cmVzID0ge1xuICAgIHNhdmU6IHRydWUsXG59O1xuXG5wLnNhdmUgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xuXG4gICAgZGF0YSA9ICdkYXRhOmFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgICQoJzxhIGRvd25sb2FkPVwiJyArIG5hbWUgKyAnXCIgaHJlZj1cIicgKyBkYXRhICsgJ1wiPjwvYT4nKVswXS5jbGljaygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZDsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxudmFyIEZPTERFUlMgPSAnPGZvbGRlcnM+JztcblxuZnVuY3Rpb24gUGFnZVNjcmlwdChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5fcm9vdCA9IG9wdC5yb290IHx8ICdfUGFnZVNjcmlwdC8nO1xuXG4gICAgdGhpcy5pY29uID0gJ2NvZGUnO1xuICAgIHRoaXMudG9vbHRpcCA9ICdydW5uaW5nIEFuaW1hY2hpbmUgcGFnZXNjcmlwdHMnO1xuXG4gICAgdGhpcy5fZm9sZGVycyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9yb290ICsgRk9MREVSUyk7XG4gICAgXG4gICAgdHJ5IHsgXG4gICAgICAgIHRoaXMuZm9sZGVycyA9IEpTT04ucGFyc2UodGhpcy5fZm9sZGVycyk7IFxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLl9mb2xkZXJzID0gW107XG4gICAgfVxufVxuXG5pbmhlcml0cyhQYWdlU2NyaXB0LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBQYWdlU2NyaXB0LnByb3RvdHlwZTtcblxucC5zYXZlID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsIHBhdGgpIHtcblxuICAgIG5hbWUgPSB0aGlzLl92YWxpZE5hbWUobmFtZSk7XG4gICAgXG4gICAgdGhpcy5ta2RpcihwYXRoKTtcbiAgICB0aGlzLl9zZXQocGF0aCArIG5hbWUsIGRhdGEpO1xuXG4gICAgcmV0dXJuIG5hbWU7XG59O1xuXG5wLm9wZW4gPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgaWYgKG5hbWUgaW4gcGFnZVNjcmlwdHMoKSkge1xuXG4gICAgICAgIHJldHVybiBwYWdlU2NyaXB0cygpW25hbWVdO1xuICAgIH1cbn07XG5cbnAuZGlyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMocGFnZVNjcmlwdHMoKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIHBhZ2VTY3JpcHRzKCkge1xuXG4gICAgcmV0dXJuICh3aW5kb3cuYW0gJiYgd2luZG93LmFtLnBhZ2VTY3JpcHRzKSB8fCBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlU2NyaXB0OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG52YXIgUk9PVCA9ICdfd2Vic3RvcmFnZW1hbi8nLCBcbiAgICBGT0xERVJTID0gJzxmb2xkZXJzPic7XG5cbmZ1bmN0aW9uIFdlYlN0b3JhZ2VtYW4ob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuaWNvbiA9ICdidWxsc2V5ZSc7XG4gICAgdGhpcy5yb290TmFtZSA9ICd3ZWJzdG9yYWdlJztcbiAgICB0aGlzLnR5cGUgPSAnd2Vic3RvcmFnZSc7XG4gICAgdGhpcy50b29sdGlwID0gJ3dlYnN0b3JhZ2UsIHN0b3JlIGRhdGEgaW4geW91ciBicm93c2VyJztcblxuICAgIHRoaXMuX2ZvbGRlcnMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oUk9PVCArIEZPTERFUlMpO1xuICAgIFxuICAgIHRyeSB7IFxuICAgICAgICB0aGlzLl9mb2xkZXJzID0gSlNPTi5wYXJzZSh0aGlzLl9mb2xkZXJzKTsgXG4gICAgfVxuICAgIGNhdGNoIChlKSB7fVxuXG4gICAgaWYgKCEodGhpcy5fZm9sZGVycyBpbnN0YW5jZW9mIEFycmF5KSkge1xuXG4gICAgICAgIHRoaXMuX2ZvbGRlcnMgPSBbXTtcbiAgICB9IFxufVxuXG5pbmhlcml0cyhXZWJTdG9yYWdlbWFuLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBXZWJTdG9yYWdlbWFuLnByb3RvdHlwZTtcblxucC5mZWF0dXJlcyA9IHtcbiAgICBzYXZlOiB0cnVlLFxuICAgIG9wZW46IHRydWUsXG4gICAgYnJvd3NlOiB0cnVlLFxufTtcblxuXG5wLnNhdmUgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgcGF0aCkge1xuXG4gICAgbmFtZSA9IHRoaXMuX3ZhbGlkTmFtZShuYW1lKTtcbiAgICBwYXRoID0gdGhpcy5fdmFsaWRQYXRoKHBhdGgpO1xuICAgIFxuICAgIHRoaXMubWtkaXIocGF0aCk7XG4gICAgdGhpcy5fc2V0KHBhdGggKyBuYW1lLCBkYXRhKTtcblxuICAgIHJldHVybiBuYW1lO1xufTtcblxucC5sb2FkID0gZnVuY3Rpb24gKG5hbWUsIHBhdGgpIHtcblxuICAgIG5hbWUgPSB0aGlzLl92YWxpZE5hbWUobmFtZSk7XG4gICAgcGF0aCA9IHRoaXMuX3ZhbGlkUGF0aChwYXRoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5fZ2V0KHBhdGggKyBuYW1lKTtcbn07XG5cbnAubWtkaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgcGF0aCA9IHRoaXMuX3ZhbGlkUGF0aChwYXRoKS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcblxuICAgIHZhciBmb2xkZXJQYXRoID0gJyc7XG5cbiAgICBwYXRoLmZvckVhY2goZnVuY3Rpb24gKGZvbGRlcikge1xuXG4gICAgICAgIHRoaXMuX2FkZEZvbGRlcihmb2xkZXIgKyAnLycpO1xuXG4gICAgfSwgdGhpcyk7XG59O1xuXG5wLmRpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICBwYXRoID0gUk9PVCArIHRoaXMuX3ZhbGlkUGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSBbXTtcblxuICAgIE9iamVjdC5rZXlzKHdpbmRvdy5sb2NhbFN0b3JhZ2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihGT0xERVJTKSA9PT0gLTEpIHtcblxuICAgICAgICAgICAgdGVzdEtleShrZXksICdmaWxlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2ZvbGRlcnMuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgICAgIHRlc3RLZXkoUk9PVCArIHBhdGguc2xpY2UoMCwgLTEpLCAnZm9sZGVyJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xuXG4gICAgZnVuY3Rpb24gdGVzdEtleShrZXksIHR5cGUpIHtcblxuICAgICAgICBpZiAoa2V5LmluZGV4T2YocGF0aCkgPT09IDApIHtcblxuICAgICAgICAgICAga2V5ID0ga2V5LnN1YnN0cihwYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignLycpID09PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnAuX2FkZEZvbGRlciA9IGZ1bmN0aW9uKHBhdGgpIHtcblxuICAgIGlmICh0aGlzLl9mb2xkZXJzLmluZGV4T2YocGF0aCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9mb2xkZXJzLnB1c2gocGF0aCk7XG5cbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oUk9PVCArIEZPTERFUlMsIEpTT04uc3RyaW5naWZ5KHRoaXMuX2ZvbGRlcnMpKTtcbn07XG5cbnAuX3NldCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEpIHtcblxuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oUk9PVCArIHBhdGgsIGRhdGEpO1xufTtcblxucC5fZ2V0ID0gZnVuY3Rpb24ocGF0aCkge1xuXG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShST09UICsgcGF0aCk7XG59O1xuXG5wLl92YWxpZFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgcGF0aCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICBpZiAocGF0aC5jaGFyQXQocGF0aC5sZW5ndGgtMSkgIT09ICcvJyAmJiBwYXRoLmxlbmd0aCkge1xuICAgICAgICBwYXRoICs9ICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbnAuX3ZhbGlkTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICAgIHJldHVybiBuYW1lLnJlcGxhY2UoLzx8XFwvL2csICdfJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlN0b3JhZ2VtYW47IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIEJsb2NrKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG5cbiAgICB0aGlzLnNpemUgPSBvcHQuc2l6ZSB8fCAxO1xuICAgIHRoaXMuc2NhbGVNb2RlID0gb3B0LnNjYWxlTW9kZSB8fCAnZmxleCc7XG59XG5cbmluaGVyaXRzKEJsb2NrLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBCbG9jay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEJsb2NrO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBzaXplOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ251bWJlcicgfHwgdGhpcy5fc2l6ZSA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gdjtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuYnViYmxlUmVzaXplKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2NhbGVNb2RlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ3N0cmluZycgfHwgdGhpcy5fc2NhbGVNb2RlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3NjYWxlTW9kZSA9IHY7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLmJ1YmJsZVJlc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlTW9kZTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5wLmJ1YmJsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZvciBvdmVycmlkZVxufTtcblxucC5fcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBmbGV4ID0gJycsIHdpZHRoID0gJycsIGhlaWdodCA9ICcnO1xuXG4gICAgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZml4Jykge1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyb3cnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5zaXplICsgJ3B4JztcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnNpemUgKyAncHgnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZmxleCcpIHtcblxuICAgICAgICBmbGV4ID0gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBmbGV4O1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmFsaWduU2VsZiA9ICdzdHJldGNoJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHRoaXMuZG9tRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAnYmxvY2snKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrJyk7XG52YXIgUGFuZWwgPSByZXF1aXJlKCcuL1BhbmVsJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gQ29udGFpbmVyKG9wdCkge1xuICAgIFxuICAgIEJsb2NrLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgdGhpcy5fZGVIYW5kbGVycyA9IFtdO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBvcHQuZGlyZWN0aW9uIHx8ICdyb3cnO1xuXG4gICAgb3B0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNEYXRhKSB7XG5cbiAgICAgICAgaWYgKGNEYXRhLnR5cGUgPT09ICdjb250YWluZXInKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IENvbnRhaW5lcihjRGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNEYXRhLnR5cGUgPT09ICdwYW5lbCcpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgUGFuZWwoY0RhdGEpKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5kb21FbGVtLCB0aGlzLl9yZWZyZXNoSGFuZGxlcnMuYmluZCh0aGlzKSk7XG59XG5cbmluaGVyaXRzKENvbnRhaW5lciwgQmxvY2spO1xudmFyIHAgPSBDb250YWluZXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDb250YWluZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGRpcmVjdGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHY7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZmxleERpcmVjdGlvbiA9IHRoaXMuX2RpcmVjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5hZGRDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXG4gICAgdGhpcy5hZGRDaGlsZEF0KGNoaWxkLCB0aGlzLl9jaGlsZHJlbi5sZW5ndGgpO1xufTtcblxucC5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpZHgpIHtcblxuICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpZHgsIDAsIGNoaWxkKTtcbiAgICB0aGlzLl9yZWZyZXNoQ2hpbGRyZW4oKTtcbiAgICB0aGlzLl9yZWZyZXNoSGFuZGxlcnMoKTtcbn07XG5cbnAuZmluZFRhYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgdGFiO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICB0YWIgPSBjaGlsZC5maW5kVGFiKG5hbWUpO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhYjtcbn07XG5cbnAuYnViYmxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9jaGlsZHJlbiB8fCAhdGhpcy5fZGVIYW5kbGVycykgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICBjaGlsZC5idWJibGVSZXNpemUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufTtcblxuXG5cblxuXG5cbnAuX2dldEZsZXhQZXJQeCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiciA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgZnVsbFB4ID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gYnIud2lkdGggOiBici5oZWlnaHQsXG4gICAgICAgIGZ1bGxGbGV4ID0gMDtcblxuICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG5cbiAgICAgICAgaWYgKGNoaWxkLnNjYWxlTW9kZSA9PT0gJ2ZpeCcpIHtcblxuICAgICAgICAgICAgZnVsbFB4IC09IGNoaWxkLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmdWxsRmxleCArPSBjaGlsZC5zaXplO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVsbEZsZXggLyBmdWxsUHg7XG59O1xuXG5wLl9yZWZyZXNoQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKGNoaWxkLmRvbUVsZW0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5fcmVmcmVzaEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGksIGRlSGFuZGxlciwgbmNCciwgXG4gICAgICAgIHRoaWNrbmVzcyA9IDQsXG4gICAgICAgIGJyID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCAtIDE7ICsraSkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZGVIYW5kbGVyc1tpXSkge1xuICAgICAgICAgICAgdGhpcy5fZGVIYW5kbGVycy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZXIoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIG5jQnIgPSB0aGlzLl9jaGlsZHJlbltpKzFdLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGRlSGFuZGxlciA9IHRoaXMuX2RlSGFuZGxlcnNbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncm93Jykge1xuXG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUubGVmdCA9IChuY0JyLmxlZnQgLSBici5sZWZ0IC0gdGhpY2tuZXNzLzIpICsgJ3B4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS53aWR0aCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAobmNCci50b3AgLSBici50b3AgLSB0aGlja25lc3MvMikgKyAncHgnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmhlaWdodCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ25zLXJlc2l6ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9kZUhhbmRsZXJzLnNwbGljZShpKS5mb3JFYWNoKGZ1bmN0aW9uIChkZUhhbmRsZXIpIHtcblxuICAgICAgICBkZUhhbmRsZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZUhhbmRsZXIpO1xuICAgIH0pXG59O1xuXG5cblxuXG5cblxuXG5wLl9vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5wLl9vbkRyYWdIYW5kbGVyID0gZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgIHZhciBtb3ZlID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gbXggLSBtZC5teCA6IG15IC0gbWQubXksXG4gICAgICAgIG1vdmVGbGV4ID0gbW92ZSAqIHRoaXMuX2dldEZsZXhQZXJQeCgpLFxuICAgICAgICBwcmV2Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHhdLFxuICAgICAgICBuZXh0Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHggKyAxXTtcblxuICAgIHByZXZDaGlsZC5zaXplID0gbWQucHJldkNoaWxkU2l6ZSArIChwcmV2Q2hpbGQuc2NhbGVNb2RlID09PSAnZml4JyA/IG1vdmUgOiBtb3ZlRmxleCk7XG4gICAgbmV4dENoaWxkLnNpemUgPSBtZC5uZXh0Q2hpbGRTaXplIC0gKG5leHRDaGlsZC5zY2FsZU1vZGUgPT09ICdmaXgnID8gbW92ZSA6IG1vdmVGbGV4KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGVIYW5kbGVycy5pbmRleE9mKGRlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWR4OiBpZHgsXG4gICAgICAgICAgICAgICAgcHJldkNoaWxkU2l6ZTogdGhpcy5fY2hpbGRyZW5baWR4XS5zaXplLFxuICAgICAgICAgICAgICAgIG5leHRDaGlsZFNpemU6IHRoaXMuX2NoaWxkcmVuW2lkeCArIDFdLnNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiB0aGlzLl9vbkRyYWdIYW5kbGVyLFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgICAgICB9LFxuICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZSk7XG5cbiAgICByZXR1cm4gZGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIERpYWxvZ3MoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcbiAgICB0aGlzLl9jcmVhdGVGcmFtZSgpO1xuXG4gICAgdGhpcy5fZGlhbG9nU3RhY2sgPSBbXTtcblxuICAgIHRoaXMuX29mZnNldFggPSAwO1xuICAgIHRoaXMuX29mZnNldFkgPSAwO1xufVxuXG5pbmhlcml0cyhEaWFsb2dzLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEaWFsb2dzLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRGlhbG9ncztcblxucC5zaG93RGlhbG9nID0gZnVuY3Rpb24gKHBvcHVwKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclBvcHVwKSB7XG5cbiAgICAgICAgdGhpcy5fZGlhbG9nU3RhY2sucHVzaCh0aGlzLl9jdXJyUG9wdXApO1xuICAgIH1cblxuICAgIHRoaXMubW92ZSgwLCAwKTtcblxuICAgIHRoaXMuX2N1cnJQb3B1cCA9IHBvcHVwO1xuXG4gICAgdGhpcy5fZGVGcmFtZS5zZXRUaXRsZShwb3B1cC50aXRsZSk7XG4gICAgdGhpcy5fZGVGcmFtZS5zZXRDb250ZW50KHBvcHVwLmRlQ29udGVudCk7XG4gICAgdGhpcy5fZGVGcmFtZS5zZXRCdXR0b25zKHBvcHVwLmJ1dHRvbnMpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgaWYgKHBvcHVwLm9uU2hvdykgcG9wdXAub25TaG93KCk7XG59O1xuXG5wLmhpZGVEaWFsb2cgPSBmdW5jdGlvbiAocG9wdXApIHtcblxuICAgIHBvcHVwID0gcG9wdXAgfHwgdGhpcy5fY3VyclBvcHVwO1xuXG4gICAgaWYgKCFwb3B1cCkgcmV0dXJuO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICBpZiAocG9wdXAub25IaWRlKSBwb3B1cC5vbkhpZGUoKTtcblxuICAgIGlmIChfLmhhcyh0aGlzLl9kaWxhb2dTdGFjaywgcG9wdXApKSB7XG5cbiAgICAgICAgXy5wdWxsKHRoaXMuX2RpbGFvZ1N0YWNrLCBwb3B1cCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcHVwID09PSB0aGlzLl9jdXJyUG9wdXApIHtcblxuICAgICAgICB0aGlzLl9jdXJyUG9wdXAgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RpYWxvZ1N0YWNrLmxlbmd0aCkge1xuXG4gICAgICAgICAgICB0aGlzLnNob3dEaWFsb2codGhpcy5fZGlhbG9nU3RhY2sucG9wKCkpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5tb3ZlID0gZnVuY3Rpb24gKHgsIHkpIHtcblxuICAgIHRoaXMuX29mZnNldFggPSB4O1xuICAgIHRoaXMuX29mZnNldFkgPSB5O1xuXG4gICAgdGhpcy5fZGVGcmFtZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKCcreCsncHgsJyt5KydweCknO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5wLnNldFRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclBvcHVwKSB7XG4gICAgICAgIHRoaXMuX2N1cnJQb3B1cC50aXRsZSA9IHRpdGxlO1xuICAgIH1cblxuICAgIHRoaXMuX2RlRnJhbWUuc2V0VGl0bGUodGl0bGUpO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZURvbUVsZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMjU1LDI1NSwyNTUsLjMpJztcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB0aGlzLmhpZGVEaWFsb2coKTtcbiAgICB9KTtcbn07XG5cbnAuX2NyZWF0ZUZyYW1lID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZGUsIGRlVGl0bGUsIGRlVGl0bGVUZXh0LCBkZVRpdGxlSWNvbixcbiAgICAgICAgZGVDb250ZW50Q29udCwgZGVCdXR0b25zQ29udCwgYnV0dG9ucyA9IFtdO1xuXG4gICAgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGUuc3R5bGUubGVmdCA9ICcwJztcbiAgICBkZS5zdHlsZS5yaWdodCA9ICcwJztcbiAgICBkZS5zdHlsZS50b3AgPSAnMCc7XG4gICAgZGUuc3R5bGUuYm90dG9tID0gJzAnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJy13ZWJraXQtZml0LWNvbnRlbnQnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICctd2Via2l0LWZpdC1jb250ZW50JztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICctbW96LWZpdC1jb250ZW50JztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAnLW1vei1maXQtY29udGVudCc7XG4gICAgZGUuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICdmaXQtY29udGVudCc7XG4gICAgZGUuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuICAgIHRoaXMuX2RlRnJhbWUgPSBkZTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVGcmFtZSk7XG5cblxuICAgIGRlVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZVRpdGxlLnN0eWxlLnBhZGRpbmcgPSAnMCAxOHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmhlaWdodCA9ICczNHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmZvbnRTaXplID0gJzIzcHgnO1xuICAgIGRlVGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICc3MDAnO1xuICAgIGRlVGl0bGUuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVUaXRsZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVUaXRsZSk7XG5cbiAgICBkZVRpdGxlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkZVRpdGxlLmFwcGVuZENoaWxkKGRlVGl0bGVUZXh0KTtcblxuICAgIGRlVGl0bGVJY29uID0gYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgIHBhcmVudDogZGVUaXRsZSxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgfSk7XG5cblxuXG4gICAgZGVDb250ZW50Q29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQ29udGVudENvbnQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVDb250ZW50Q29udCk7XG5cbiAgICBkZUJ1dHRvbnNDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheTtcbiAgICBkZUJ1dHRvbnNDb250LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZUJ1dHRvbnNDb250LnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICBkZS5hcHBlbmRDaGlsZChkZUJ1dHRvbnNDb250KTtcblxuXG4gICAgZGUuc2V0VGl0bGUgPSBmdW5jdGlvbiAodGl0bGUpIHtcblxuICAgICAgICBpZiAodHlwZW9mKHRpdGxlKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRpdGxlID0ge3RleHQ6IHRpdGxlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlVGl0bGVUZXh0LnRleHRDb250ZW50ID0gdGl0bGUudGV4dCB8fCAnRGlhbG9nJztcblxuICAgICAgICBpZiAodGl0bGUuaWNvbikge1xuXG4gICAgICAgICAgICBkZVRpdGxlSWNvbi5zZXRJY29uKHRpdGxlLmljb24pO1xuICAgICAgICAgICAgZGVUaXRsZUljb24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVUaXRsZUljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGRlQ29udGVudCkge1xuXG4gICAgICAgIGlmICghZGVDb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZUNvbnRlbnRDb250LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBkZUNvbnRlbnRDb250LmFwcGVuZENoaWxkKGRlQ29udGVudCk7XG4gICAgfTtcblxuICAgIGRlLnNldEJ1dHRvbnMgPSBmdW5jdGlvbiAoYnRuRGF0YUxpc3QpIHtcblxuICAgICAgICBpZiAoIWJ1dHRvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbnMubGVuZ3RoID0gMDtcbiAgICAgICAgZGVCdXR0b25zQ29udC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICBidG5EYXRhTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChidG5EYXRhKSB7XG5cbiAgICAgICAgICAgIGlmIChidG5EYXRhLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKGJ0bkRhdGEpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhLnRleHQsIGJ0bkRhdGEub25DbGljayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5hZGRCdXR0b24gPSBmdW5jdGlvbiAodGV4dCwgaGFuZGxlcikge1xuXG4gICAgICAgIHZhciBidG4gPSBhbWd1aS5jcmVhdGVCdG4oe1xuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsMCknLFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgYnRuLnN0eWxlLmZvbnRXZWlnaHQgPSAnNzAwJztcbiAgICAgICAgYnRuLnN0eWxlLmZvbnRTaXplID0gJzE4cHgnO1xuICAgICAgICBkZUJ1dHRvbnNDb250LmFwcGVuZENoaWxkKGJ0bik7XG5cbiAgICAgICAgYnV0dG9ucy5wdXNoKGJ0bik7XG5cbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikgaGFuZGxlcigpO1xuXG4gICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2tfJyArIHRleHQudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG4gICAgICAgIG9uRG93bjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9mZnNldFg6IHRoaXMuX29mZnNldFgsXG4gICAgICAgICAgICAgICAgb2Zmc2V0WTogdGhpcy5fb2Zmc2V0WSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAobWQpIHtcblxuICAgICAgICAgICAgdGhpcy5tb3ZlKG1kLm9mZnNldFggKyBtZC5keCwgbWQub2Zmc2V0WSArIG1kLmR5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVGFiID0gcmVxdWlyZSgnLi9UYWInKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiBQYW5lbChvcHQpIHtcblxuICAgIEJsb2NrLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3RhYnMgPSBbXTtcblxuICAgIHRoaXMuX29uVG9nZ2xlQ29sbGFwc2VkID0gdGhpcy5fb25Ub2dnbGVDb2xsYXBzZWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZVRhYkJhc2UoKTtcblxuICAgIHRoaXMuX2VtcHR5ID0gZmFsc2U7XG4gICAgdGhpcy5fY29sbGFwc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fbm9IZWFkID0gZmFsc2U7XG5cbiAgICBpZiAoJ2VtcHR5JyBpbiBvcHQpIHRoaXMuZW1wdHkgPSBvcHQuZW1wdHk7XG4gICAgaWYgKCdjb2xsYXBzZWQnIGluIG9wdCkgdGhpcy5jb2xsYXBzZWQgPSBvcHQuY29sbGFwc2VkO1xuICAgIGlmICgnbm9IZWFkJyBpbiBvcHQpIHRoaXMubm9IZWFkID0gb3B0Lm5vSGVhZDtcblxuICAgIGlmIChvcHQudGFicykge1xuICAgICAgICBvcHQudGFicy5mb3JFYWNoKHRoaXMuYWRkVGFiLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3RhYnMuc29tZShmdW5jdGlvbiAodGFiKSB7cmV0dXJuIHRhYi5zZWxlY3RlZDt9KSAmJlxuICAgICAgICB0aGlzLl90YWJzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RhYnNbMF0uc2VsZWN0KCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhQYW5lbCwgQmxvY2spO1xudmFyIHAgPSBQYW5lbC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFBhbmVsO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBlbXB0eToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW1wdHkgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fZW1wdHkgPSB2O1xuICAgICAgICAgICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSB0aGlzLl9lbXB0eSA/ICdub25lJyA6ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fZW1wdHkgPyAnaGlkZGVuJyA6ICd2aXNpYmlsZSc7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtcHR5O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbGxhcHNlZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29sbGFwc2VkID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9kZVRhYkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9IHRoaXMuX2NvbGxhcHNlZCA/ICdub25lJyA6ICdmbGV4JztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sbGFwc2VkO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG5vSGVhZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodGhpcy5fbm9IZWFkID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25vSGVhZCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuZGlzcGxheSA9IHRoaXMuX25vSGVhZCA/ICdub25lJyA6ICdmbGV4JztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9IZWFkO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnAuYWRkVGFiID0gZnVuY3Rpb24gKHREYXRhKSB7XG5cbiAgICB2YXIgdGFiID0gbmV3IFRhYih0RGF0YSk7XG4gICAgdGhpcy5fZGVUYWJIZWFkLmFwcGVuZENoaWxkKHRhYi5kZUVhcik7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LmFwcGVuZENoaWxkKHRhYi5kb21FbGVtKTtcbiAgICB0aGlzLl90YWJzLnB1c2godGFiKTtcblxuICAgIHRhYi5kZUVhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd1RhYi5iaW5kKHRoaXMsIHRhYikpO1xufTtcblxuXG5wLmZpbmRUYWIgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgdmFyIHRhYjtcblxuICAgIHRoaXMuX3RhYnMuc29tZShmdW5jdGlvbiAodCkge1xuXG4gICAgICAgIGlmICh0Lm5hbWUgPT09IG5hbWUpIHtcblxuICAgICAgICAgICAgcmV0dXJuICh0YWIgPSB0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhYjtcbn07XG5cbnAuc2hvd1RhYiA9IGZ1bmN0aW9uICh0YWIpIHtcblxuICAgIHRoaXMuX3RhYnMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXG4gICAgICAgIGlmICh0YWIgPT09IHQpIHtcbiAgICAgICAgICAgIHQuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0LmRlc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbnAuYnViYmxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl90YWJzKSByZXR1cm47XG5cbiAgICB0aGlzLl90YWJzLmZvckVhY2goZnVuY3Rpb24gKHRhYikge1xuXG4gICAgICAgIHRhYi5idWJibGVSZXNpemUoKTtcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cbnAuX29uVG9nZ2xlQ29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5jb2xsYXBzZWQgPSAhdGhpcy5jb2xsYXBzZWQ7XG5cbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQuc2V0VG9nZ2xlKHRoaXMuY29sbGFwc2VkKTtcbn07XG5cblxuXG5cblxuXG5wLl9jcmVhdGVUYWJCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVUYWJCYXNlID0gYW1ndWkuY3JlYXRlRGl2KCk7O1xuICAgIHRoaXMuX2RlVGFiQmFzZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlVGFiQmFzZS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgdGhpcy5fZGVUYWJCYXNlLnN0eWxlLmFsaWduU2VsZiA9ICdzdHJldGNoJztcbiAgICB0aGlzLl9kZVRhYkJhc2Uuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVUYWJCYXNlKTtcblxuICAgIHRoaXMuX2RlVGFiSGVhZCA9IGFtZ3VpLmNyZWF0ZURpdigpOztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVUYWJIZWFkLnN0eWxlLmhlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuYWxpZ25JdGVtcyA9ICdzdHJldGNoJztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgJ3RhYmhlYWQnKVxuICAgIHRoaXMuX2RlVGFiQmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9kZVRhYkhlYWQpO1xuXG4gICAgdGhpcy5fZGVUYWJDb250ZW50ID0gYW1ndWkuY3JlYXRlRGl2KCk7O1xuICAgIHRoaXMuX2RlVGFiQ29udGVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlVGFiQ29udGVudC5zdHlsZS5mbGV4ID0gMTtcbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgJ3RhYmNvbnRlbnQnKVxuICAgIHRoaXMuX2RlVGFiQmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9kZVRhYkNvbnRlbnQpO1xuXG4gICAgdGhpcy5fYnRuVG9nZ2xlQ29sbGFwc2VkID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdzaG93L2hpZGUgdGFicycsXG4gICAgICAgIGljb25PbjogJ2NvbGxhcHNlJyxcbiAgICAgICAgaWNvbk9mZjogJ2V4cGFuZCcsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVUYWJIZWFkLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25Ub2dnbGVDb2xsYXBzZWRcbiAgICB9KTtcbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQuc3R5bGUub3JkZXIgPSAxO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gVGFiKG9wdCkge1xuXG4gICAgdGhpcy5uYW1lID0gb3B0Lm5hbWU7XG4gICAgdGhpcy5zZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcbiAgICB0aGlzLmRlRWFyID0gdGhpcy5fY3JlYXRlVGFiRWFyKCk7XG5cbiAgICB0aGlzW3RoaXMuc2VsZWN0ZWQgPyAnc2VsZWN0JyA6ICdkZXNlbGVjdCddKCk7XG59XG5cbnZhciBwID0gVGFiLnByb3RvdHlwZTtcblxucC5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGRlQ29udGVudCkge1xuXG4gICAgdGhpcy5kb21FbGVtLmlubmVySFRNTCA9ICcnO1xuXG4gICAgaWYgKGRlQ29udGVudCkge1xuXG4gICAgICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZUNvbnRlbnQpO1xuICAgICAgICBkZUNvbnRlbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIH1cbn07XG5cbnAuYnViYmxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG59O1xuXG5cblxucC5zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5kZUVhci5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aCA9ICcxcHgnO1xuICAgIHRoaXMuZGVFYXIuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xufTtcblxucC5kZXNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuZGVFYXIuc3R5bGUuYm9yZGVyQm90dG9tV2lkdGggPSAnMHB4JztcbiAgICB0aGlzLmRlRWFyLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dEluYWN0aXZlO1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWFsdGl2ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgdGhpcy5kb21FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1kZWJ1ZycsICd0YWIgLSAnICsgdGhpcy5uYW1lKTtcbn07XG5cbnAuX2NyZWF0ZVRhYkVhciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogdGhpcy5uYW1lLFxuICAgICAgICBmbGV4OiAxLFxuICAgIH0pO1xuICAgIGRlLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgZGUuc3R5bGUuYm9yZGVyQm90dG9tID0gJ3NvbGlkIDFweCB3aGl0ZSc7XG4gICAgZGUuc3R5bGUuYWxpZ25TZWxmID0gJ3N0cmV0Y2gnO1xuICAgIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgZGUuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cbiAgICByZXR1cm4gZGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhYjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENvbnRhaW5lciA9IHJlcXVpcmUoJy4vQ29udGFpbmVyJyk7XG52YXIgRGlhbG9ncyA9IHJlcXVpcmUoJy4vRGlhbG9ncycpO1xuXG5mdW5jdGlvbiBXaW5kb29tYW4oKSB7XG5cbiAgICB0aGlzLl90YWJNYXAgPSB7fTtcbiAgICB0aGlzLl93b3Jrc3BhY2VzID0ge307XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5faW5pdFJlc2l6ZSgpO1xuXG4gICAgdGhpcy5kaWFsb2dzID0gbmV3IERpYWxvZ3MoKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5kaWFsb2dzLmRvbUVsZW0pO1xufVxuXG52YXIgcCA9IFdpbmRvb21hbi5wcm90b3R5cGU7XG5cbnAubG9hZFdvcmtzcGFjZSA9IGZ1bmN0aW9uIChuYW1lLCB3b3Jrc3BhY2UpIHtcblxuICAgIHRoaXMuX3dvcmtzcGFjZXNbbmFtZV0gPSB3b3Jrc3BhY2U7XG59O1xuXG5wLmdldFdvcmtzcGFjZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICByZXR1cm4gXy5jbG9uZURlZXAodGhpcy5fd29ya3NwYWNlc1tuYW1lXSk7XG59O1xuXG5wLmxvYWQgPSBmdW5jdGlvbiAobmFtZSwgd29ya3NwYWNlKSB7XG5cbiAgICBpZiAod29ya3NwYWNlKSB7XG4gICAgICAgIHRoaXMubG9hZFdvcmtzcGFjZShuYW1lLCB3b3Jrc3BhY2UpO1xuICAgIH1cblxuICAgIHZhciBtYXAgPSB0aGlzLl93b3Jrc3BhY2VzW25hbWVdO1xuXG4gICAgaWYgKCFtYXAgfHwgbWFwLnR5cGUgIT09ICdjb250YWluZXInKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdjYW5cXCd0IGxvYWQgJyArIG1hcCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcm9vdCA9IG5ldyBDb250YWluZXIobWFwKTtcblxuICAgIHRoaXMuX2RlQ29udC5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLl9kZUNvbnQuYXBwZW5kQ2hpbGQodGhpcy5fcm9vdC5kb21FbGVtKTtcblxuICAgIE9iamVjdC5rZXlzKHRoaXMuX3RhYk1hcCkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgIHRoaXMuZmlsbFRhYihuYW1lLCB0aGlzLl90YWJNYXBbbmFtZV0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5maW5kVGFiID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIGlmICh0aGlzLl9yb290KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuZmluZFRhYihuYW1lKTtcbiAgICB9XG59O1xuXG5wLmZpbGxUYWIgPSBmdW5jdGlvbiAobmFtZSwgY29udGVudCkge1xuXG4gICAgdGhpcy5fdGFiTWFwW25hbWVdID0gY29udGVudDtcblxuICAgIHZhciB0YWIgPSB0aGlzLmZpbmRUYWIobmFtZSk7XG5cbiAgICBpZiAodGFiKSB7XG4gICAgICAgIHRhYi5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy9UT0RPIG9wZW4gaW4gYSBuZXcgd2luZG93XG4gICAgfVxufTtcblxucC5faW5pdFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpc1dhaXRpbmcgPSBmYWxzZTtcblxuICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5fcm9vdCkge1xuXG4gICAgICAgICAgICB0aGlzLl9yb290LmJ1YmJsZVJlc2l6ZSgpO1xuICAgICAgICAgICAgaXNXYWl0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghaXNXYWl0aW5nKSB7XG5cbiAgICAgICAgICAgIGlzV2FpdGluZyA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXG4gICAgdGhpcy5fZGVDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlQ29udC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVDb250LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlQ29udCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdpbmRvb21hbjtcbiJdfQ==

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/editor/main.js":[function(require,module,exports){
"use strict";

var bowser = require("bowser").browser;

if (!bowser.chrome && !bowser.opera) {
  alertUnsupportedBrowsers();
  throw Error("unsupported browser");
}

window.am = require("./am/am");

function alertUnsupportedBrowsers() {
  var deSorry = document.createElement("div");
  deSorry.textContent = "Sorry, this demo is currently only supported by the newest chrome and opera.";
  deSorry.style.display = "fixed";
  deSorry.style.margin = "auto";
  deSorry.style.fontFamily = "Open Sans";
  deSorry.style.fontSize = "21px";
  deSorry.style.color = "white";
  deSorry.style.background = "rgba(0,0,0,0.3)";
  deSorry.style.top = 0;
  deSorry.style.right = 0;
  deSorry.style.bottom = 0;
  deSorry.style.left = 0;
  document.body.innerHTML = "";
  var emo = document.createElement("span");
  emo.className = "icon-emo-unhappy";
  deSorry.appendChild(emo);
  // amgui.createIcon({icon: 'emo-unhappy', parent: deSorry, display: 'inline'});
  document.body.appendChild(deSorry);
}

},{"./am/am":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.js","bowser":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bowser\\bowser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bezier-easing\\index.js":[function(require,module,exports){
/**
 * BezierEasing - use bezier curve for transition easing function
 * by Gaëtan Renaudeau 2014 – MIT License
 *
 * Credits: is based on Firefox's nsSMILKeySpline.cpp
 * Usage:
 * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)
 * spline(x) => returns the easing value | x must be in [0, 1] range
 *
 */
(function (definition) {
  if (typeof exports === "object") {
    module.exports = definition();
  } else if (typeof define === 'function' && define.amd) {
    define([], definition);
  } else {
    window.BezierEasing = definition();
  }
}(function () {
  var global = this;

  // These values are established by empiricism with tests (tradeoff: performance VS precision)
  var NEWTON_ITERATIONS = 4;
  var NEWTON_MIN_SLOPE = 0.001;
  var SUBDIVISION_PRECISION = 0.0000001;
  var SUBDIVISION_MAX_ITERATIONS = 10;

  var kSplineTableSize = 11;
  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);

  var float32ArraySupported = 'Float32Array' in global;

  function BezierEasing (mX1, mY1, mX2, mY2) {
    // Validate arguments
    if (arguments.length !== 4) {
      throw new Error("BezierEasing requires 4 arguments.");
    }
    for (var i=0; i<4; ++i) {
      if (typeof arguments[i] !== "number" || isNaN(arguments[i]) || !isFinite(arguments[i])) {
        throw new Error("BezierEasing arguments should be integers.");
      } 
    }
    if (mX1 < 0 || mX1 > 1 || mX2 < 0 || mX2 > 1) {
      throw new Error("BezierEasing x values must be in [0, 1] range.");
    }

    var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
   
    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }
    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }
    function C (aA1)      { return 3.0 * aA1; }
   
    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.
    function calcBezier (aT, aA1, aA2) {
      return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;
    }
   
    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.
    function getSlope (aT, aA1, aA2) {
      return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);
    }

    function newtonRaphsonIterate (aX, aGuessT) {
      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {
        var currentSlope = getSlope(aGuessT, mX1, mX2);
        if (currentSlope === 0.0) return aGuessT;
        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
        aGuessT -= currentX / currentSlope;
      }
      return aGuessT;
    }

    function calcSampleValues () {
      for (var i = 0; i < kSplineTableSize; ++i) {
        mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
      }
    }

    function binarySubdivide (aX, aA, aB) {
      var currentX, currentT, i = 0;
      do {
        currentT = aA + (aB - aA) / 2.0;
        currentX = calcBezier(currentT, mX1, mX2) - aX;
        if (currentX > 0.0) {
          aB = currentT;
        } else {
          aA = currentT;
        }
      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);
      return currentT;
    }

    function getTForX (aX) {
      var intervalStart = 0.0;
      var currentSample = 1;
      var lastSample = kSplineTableSize - 1;

      for (; currentSample != lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {
        intervalStart += kSampleStepSize;
      }
      --currentSample;

      // Interpolate to provide an initial guess for t
      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);
      var guessForT = intervalStart + dist * kSampleStepSize;

      var initialSlope = getSlope(guessForT, mX1, mX2);
      if (initialSlope >= NEWTON_MIN_SLOPE) {
        return newtonRaphsonIterate(aX, guessForT);
      } else if (initialSlope === 0.0) {
        return guessForT;
      } else {
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);
      }
    }

    var _precomputed = false;
    function precompute() {
      _precomputed = true;
      if (mX1 != mY1 || mX2 != mY2)
        calcSampleValues();
    }

    var f = function (aX) {
      if (!_precomputed) precompute();
      if (mX1 === mY1 && mX2 === mY2) return aX; // linear
      // Because JavaScript number are imprecise, we should guarantee the extremes are right.
      if (aX === 0) return 0;
      if (aX === 1) return 1;
      return calcBezier(getTForX(aX), mY1, mY2);
    };

    f.getControlPoints = function() { return [{ x: mX1, y: mY1 }, { x: mX2, y: mY2 }]; };

    var args = [mX1, mY1, mX2, mY2];
    var str = "BezierEasing("+args+")";
    f.toString = function () { return str; };

    var css = "cubic-bezier("+args+")";
    f.toCSS = function () { return css; };

    return f;
  }

  // CSS mapping
  BezierEasing.css = {
    "ease":        BezierEasing(0.25, 0.1, 0.25, 1.0),
    "linear":      BezierEasing(0.00, 0.0, 1.00, 1.0),
    "ease-in":     BezierEasing(0.42, 0.0, 1.00, 1.0),
    "ease-out":    BezierEasing(0.00, 0.0, 0.58, 1.0),
    "ease-in-out": BezierEasing(0.42, 0.0, 0.58, 1.0)
  };

  return BezierEasing;

}));

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bowser\\bowser.js":[function(require,module,exports){
/*!
  * Bowser - a browser detector
  * https://github.com/ded/bowser
  * MIT License | (c) Dustin Diaz 2014
  */

!function (name, definition) {
  if (typeof module != 'undefined' && module.exports) module.exports['browser'] = definition()
  else if (typeof define == 'function' && define.amd) define(definition)
  else this[name] = definition()
}('bowser', function () {
  /**
    * See useragents.js for examples of navigator.userAgent
    */

  var t = true

  function detect(ua) {

    function getFirstMatch(regex) {
      var match = ua.match(regex);
      return (match && match.length > 1 && match[1]) || '';
    }

    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()
      , likeAndroid = /like android/i.test(ua)
      , android = !likeAndroid && /android/i.test(ua)
      , versionIdentifier = getFirstMatch(/version\/(\d+(\.\d+)?)/i)
      , tablet = /tablet/i.test(ua)
      , mobile = !tablet && /[^-]mobi/i.test(ua)
      , result

    if (/opera|opr/i.test(ua)) {
      result = {
        name: 'Opera'
      , opera: t
      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)
      }
    }
    else if (/windows phone/i.test(ua)) {
      result = {
        name: 'Windows Phone'
      , windowsphone: t
      , msie: t
      , version: getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/msie|trident/i.test(ua)) {
      result = {
        name: 'Internet Explorer'
      , msie: t
      , version: getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)
      }
    }
    else if (/chrome|crios|crmo/i.test(ua)) {
      result = {
        name: 'Chrome'
      , chrome: t
      , version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
      }
    }
    else if (iosdevice) {
      result = {
        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'
      }
      // WTF: version is not part of user agent in web apps
      if (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    else if (/sailfish/i.test(ua)) {
      result = {
        name: 'Sailfish'
      , sailfish: t
      , version: getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/seamonkey\//i.test(ua)) {
      result = {
        name: 'SeaMonkey'
      , seamonkey: t
      , version: getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/firefox|iceweasel/i.test(ua)) {
      result = {
        name: 'Firefox'
      , firefox: t
      , version: getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)
      }
      if (/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)) {
        result.firefoxos = t
      }
    }
    else if (/silk/i.test(ua)) {
      result =  {
        name: 'Amazon Silk'
      , silk: t
      , version : getFirstMatch(/silk\/(\d+(\.\d+)?)/i)
      }
    }
    else if (android) {
      result = {
        name: 'Android'
      , version: versionIdentifier
      }
    }
    else if (/phantom/i.test(ua)) {
      result = {
        name: 'PhantomJS'
      , phantom: t
      , version: getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/blackberry|\bbb\d+/i.test(ua) || /rim\stablet/i.test(ua)) {
      result = {
        name: 'BlackBerry'
      , blackberry: t
      , version: versionIdentifier || getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/(web|hpw)os/i.test(ua)) {
      result = {
        name: 'WebOS'
      , webos: t
      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)
      };
      /touchpad\//i.test(ua) && (result.touchpad = t)
    }
    else if (/bada/i.test(ua)) {
      result = {
        name: 'Bada'
      , bada: t
      , version: getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)
      };
    }
    else if (/tizen/i.test(ua)) {
      result = {
        name: 'Tizen'
      , tizen: t
      , version: getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i) || versionIdentifier
      };
    }
    else if (/safari/i.test(ua)) {
      result = {
        name: 'Safari'
      , safari: t
      , version: versionIdentifier
      }
    }
    else result = {}

    // set webkit or gecko flag for browsers based on these engines
    if (/(apple)?webkit/i.test(ua)) {
      result.name = result.name || "Webkit"
      result.webkit = t
      if (!result.version && versionIdentifier) {
        result.version = versionIdentifier
      }
    } else if (!result.opera && /gecko\//i.test(ua)) {
      result.name = result.name || "Gecko"
      result.gecko = t
      result.version = result.version || getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)
    }

    // set OS flags for platforms that have multiple browsers
    if (android || result.silk) {
      result.android = t
    } else if (iosdevice) {
      result[iosdevice] = t
      result.ios = t
    }

    // OS version extraction
    var osVersion = '';
    if (iosdevice) {
      osVersion = getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);
      osVersion = osVersion.replace(/[_\s]/g, '.');
    } else if (android) {
      osVersion = getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i);
    } else if (result.windowsphone) {
      osVersion = getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);
    } else if (result.webos) {
      osVersion = getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);
    } else if (result.blackberry) {
      osVersion = getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i);
    } else if (result.bada) {
      osVersion = getFirstMatch(/bada\/(\d+(\.\d+)*)/i);
    } else if (result.tizen) {
      osVersion = getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i);
    }
    if (osVersion) {
      result.osversion = osVersion;
    }

    // device type extraction
    var osMajorVersion = osVersion.split('.')[0];
    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {
      result.tablet = t
    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {
      result.mobile = t
    }

    // Graded Browser Support
    // http://developer.yahoo.com/yui/articles/gbs
    if ((result.msie && result.version >= 10) ||
        (result.chrome && result.version >= 20) ||
        (result.firefox && result.version >= 20.0) ||
        (result.safari && result.version >= 6) ||
        (result.opera && result.version >= 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] >= 6) ||
        (result.blackberry && result.version >= 10.1)
        ) {
      result.a = t;
    }
    else if ((result.msie && result.version < 10) ||
        (result.chrome && result.version < 20) ||
        (result.firefox && result.version < 20.0) ||
        (result.safari && result.version < 6) ||
        (result.opera && result.version < 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] < 6)
        ) {
      result.c = t
    } else result.x = t

    return result
  }

  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')


  /*
   * Set our detect method to the main bowser object so we can
   * reuse it to test other user agents.
   * This is needed to implement future tests.
   */
  bowser._detect = detect;

  return bowser
});

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\path-browserify\\index.js":[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\process\\browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\process\\browser.js":[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\util\\support\\isBufferBrowser.js":[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\util\\util.js":[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\util\\support\\isBufferBrowser.js","_process":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\process\\browser.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\domready\\ready.js":[function(require,module,exports){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function (name, definition) {

  if (typeof module != 'undefined') module.exports = definition()
  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)
  else this[name] = definition()

}('domready', function () {

  var fns = [], listener
    , doc = document
    , hack = doc.documentElement.doScroll
    , domContentLoaded = 'DOMContentLoaded'
    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)


  if (!loaded)
  doc.addEventListener(domContentLoaded, listener = function () {
    doc.removeEventListener(domContentLoaded, listener)
    loaded = 1
    while (listener = fns.shift()) listener()
  })

  return function (fn) {
    loaded ? fn() : fns.push(fn)
  }

});

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js":[function(require,module,exports){
'use strict';

function EventMan () {

    this._listenerCount = 0;
    this._maxListeners = 10;
    this._events = Object.create(null);
    this._flags = Object.create(null);
}

module.exports = EventMan;
var p = EventMan.prototype;

p.addListener = function (evtName, cb, scope) {

    if (evtName instanceof Array) {

        for (var i = 0; i < evtName.length; ++i) {

            this.addListener(evtName[i], cb, scope);
        }
        return;
    }

    if (!(evtName in this._events)) {

        this._events[evtName] = [];
    }

    if (typeof evtName !== 'string') throw 'event name must be a string';
    if (typeof cb !== 'function') throw 'Callback must be a function!';

    this.removeListener(evtName, cb, scope);

    var listeners = this._events[evtName],
        reg = scope ? [cb, scope] : cb;

    if (this._maxListeners > 0 && listeners.length > this._maxListeners) {

        throw Error('(node) warning: possible EventEmitter memory ' +
            'leak detected. %d listeners added. ' +
            'Use emitter.setMaxListeners() to increase limit.',
            listeners.length);
    }

    listeners.push(reg);

    if (evtName in this._flags) {

        return this._call(reg, this._flags[evtName]);
    }
};

p.removeListener = function (evtName, cb, scope) {

    if (evtName instanceof Array) {

        for (var i = 0; i < evtName.length; ++i) {

            this.removeListener(evtName[i], cb, scope);
        }
        return;
    }

    var reg, listeners = this._events[evtName];

    if (listeners) {

        for (var i = 0; i < listeners.length; ++i) {

            reg = listeners[i];

            if (typeof(reg) === 'function') {

                if (cb === reg && !scope) {

                    listeners.splice(i--, 1);
                }
            }
            else {
                if (reg[0] === cb && reg[1] === scope) {

                    listeners.splice(i--, 1);
                }
            }
        }
    }
};

p.once = function (evtName, cb, scope) {

    this.addListener(evtName, onceCb);

    function onceCb() {

        this.removeListener(evtName, onceCb);

        this._call([cb, scope], arguments);
    }
};

p.emit = function (evtName) {

    var args = Array.prototype.slice.call(arguments, 1),
        listeners = this.listeners(evtName);

    for (var i = 0, l = listeners.length; i < l; ++i) {

        this._call(listeners[i], args);
    }
};

p.flag = function (evtName) {

    var args = Array.prototype.slice.call(arguments, 1);

    this._flags[evtName] = args;
};

p._call = function (reg, args) {

    if (typeof (reg) === 'function') {

        reg.apply(this, args);
    }
    else {
        reg[0].apply(reg[1], args);
    }
};

p.listeners = function (evtName) {

    var listeners, ret = [];

    do {
        listeners = this._events[evtName];

        if (listeners) {

            ret.push.apply(ret, listeners);
        }

        evtName = evtName.slice(0, Math.max(0, evtName.lastIndexOf('.')));
    }
    while (evtName);

    return ret;
};

p.setMaxListeners = function (maxListeners) {

    this._maxListeners = parseInt(maxListeners) || 0;
};

p.removeAllListeners = function (evtName) {

    this.listeners(evtName).forEach(function (reg) {

        if (typeof (reg) === 'function') {

            this.removeListener(evtName, reg);
        }
        else {
            this.removeListener(evtName, reg[0], reg[1]);
        }
    }, this);
};

//aliases
p.on = p.addListener;
p.off = p.removeListener;

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js":[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js":[function(require,module,exports){
(function (global){
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
;(function() {

  /** Used as a safe reference for `undefined` in pre ES5 environments */
  var undefined;

  /** Used to pool arrays and objects used internally */
  var arrayPool = [],
      objectPool = [];

  /** Used to generate unique IDs */
  var idCounter = 0;

  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */
  var keyPrefix = +new Date + '';

  /** Used as the size when optimizations are enabled for large arrays */
  var largeArraySize = 75;

  /** Used as the max size of the `arrayPool` and `objectPool` */
  var maxPoolSize = 40;

  /** Used to detect and test whitespace */
  var whitespace = (
    // whitespace
    ' \t\x0B\f\xA0\ufeff' +

    // line terminators
    '\n\r\u2028\u2029' +

    // unicode category "Zs" space separators
    '\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000'
  );

  /** Used to match empty string literals in compiled template source */
  var reEmptyStringLeading = /\b__p \+= '';/g,
      reEmptyStringMiddle = /\b(__p \+=) '' \+/g,
      reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;

  /**
   * Used to match ES6 template delimiters
   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals
   */
  var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;

  /** Used to match regexp flags from their coerced string values */
  var reFlags = /\w*$/;

  /** Used to detected named functions */
  var reFuncName = /^\s*function[ \n\r\t]+\w/;

  /** Used to match "interpolate" template delimiters */
  var reInterpolate = /<%=([\s\S]+?)%>/g;

  /** Used to match leading whitespace and zeros to be removed */
  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');

  /** Used to ensure capturing order of template delimiters */
  var reNoMatch = /($^)/;

  /** Used to detect functions containing a `this` reference */
  var reThis = /\bthis\b/;

  /** Used to match unescaped characters in compiled string literals */
  var reUnescapedString = /['\n\r\t\u2028\u2029\\]/g;

  /** Used to assign default `context` object properties */
  var contextProps = [
    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',
    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',
    'parseInt', 'setTimeout'
  ];

  /** Used to make template sourceURLs easier to identify */
  var templateCounter = 0;

  /** `Object#toString` result shortcuts */
  var argsClass = '[object Arguments]',
      arrayClass = '[object Array]',
      boolClass = '[object Boolean]',
      dateClass = '[object Date]',
      funcClass = '[object Function]',
      numberClass = '[object Number]',
      objectClass = '[object Object]',
      regexpClass = '[object RegExp]',
      stringClass = '[object String]';

  /** Used to identify object classifications that `_.clone` supports */
  var cloneableClasses = {};
  cloneableClasses[funcClass] = false;
  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =
  cloneableClasses[boolClass] = cloneableClasses[dateClass] =
  cloneableClasses[numberClass] = cloneableClasses[objectClass] =
  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;

  /** Used as an internal `_.debounce` options object */
  var debounceOptions = {
    'leading': false,
    'maxWait': 0,
    'trailing': false
  };

  /** Used as the property descriptor for `__bindData__` */
  var descriptor = {
    'configurable': false,
    'enumerable': false,
    'value': null,
    'writable': false
  };

  /** Used to determine if values are of the language type Object */
  var objectTypes = {
    'boolean': false,
    'function': true,
    'object': true,
    'number': false,
    'string': false,
    'undefined': false
  };

  /** Used to escape characters for inclusion in compiled string literals */
  var stringEscapes = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\t': 't',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  /** Used as a reference to the global object */
  var root = (objectTypes[typeof window] && window) || this;

  /** Detect free variable `exports` */
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  /** Detect free variable `module` */
  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports` */
  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;

  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */
  var freeGlobal = objectTypes[typeof global] && global;
  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {
    root = freeGlobal;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * The base implementation of `_.indexOf` without support for binary searches
   * or `fromIndex` constraints.
   *
   * @private
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {number} Returns the index of the matched value or `-1`.
   */
  function baseIndexOf(array, value, fromIndex) {
    var index = (fromIndex || 0) - 1,
        length = array ? array.length : 0;

    while (++index < length) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * An implementation of `_.contains` for cache objects that mimics the return
   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.
   *
   * @private
   * @param {Object} cache The cache object to inspect.
   * @param {*} value The value to search for.
   * @returns {number} Returns `0` if `value` is found, else `-1`.
   */
  function cacheIndexOf(cache, value) {
    var type = typeof value;
    cache = cache.cache;

    if (type == 'boolean' || value == null) {
      return cache[value] ? 0 : -1;
    }
    if (type != 'number' && type != 'string') {
      type = 'object';
    }
    var key = type == 'number' ? value : keyPrefix + value;
    cache = (cache = cache[type]) && cache[key];

    return type == 'object'
      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)
      : (cache ? 0 : -1);
  }

  /**
   * Adds a given value to the corresponding cache object.
   *
   * @private
   * @param {*} value The value to add to the cache.
   */
  function cachePush(value) {
    var cache = this.cache,
        type = typeof value;

    if (type == 'boolean' || value == null) {
      cache[value] = true;
    } else {
      if (type != 'number' && type != 'string') {
        type = 'object';
      }
      var key = type == 'number' ? value : keyPrefix + value,
          typeCache = cache[type] || (cache[type] = {});

      if (type == 'object') {
        (typeCache[key] || (typeCache[key] = [])).push(value);
      } else {
        typeCache[key] = true;
      }
    }
  }

  /**
   * Used by `_.max` and `_.min` as the default callback when a given
   * collection is a string value.
   *
   * @private
   * @param {string} value The character to inspect.
   * @returns {number} Returns the code unit of given character.
   */
  function charAtCallback(value) {
    return value.charCodeAt(0);
  }

  /**
   * Used by `sortBy` to compare transformed `collection` elements, stable sorting
   * them in ascending order.
   *
   * @private
   * @param {Object} a The object to compare to `b`.
   * @param {Object} b The object to compare to `a`.
   * @returns {number} Returns the sort order indicator of `1` or `-1`.
   */
  function compareAscending(a, b) {
    var ac = a.criteria,
        bc = b.criteria,
        index = -1,
        length = ac.length;

    while (++index < length) {
      var value = ac[index],
          other = bc[index];

      if (value !== other) {
        if (value > other || typeof value == 'undefined') {
          return 1;
        }
        if (value < other || typeof other == 'undefined') {
          return -1;
        }
      }
    }
    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
    // that causes it, under certain circumstances, to return the same value for
    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247
    //
    // This also ensures a stable sort in V8 and other engines.
    // See http://code.google.com/p/v8/issues/detail?id=90
    return a.index - b.index;
  }

  /**
   * Creates a cache object to optimize linear searches of large arrays.
   *
   * @private
   * @param {Array} [array=[]] The array to search.
   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.
   */
  function createCache(array) {
    var index = -1,
        length = array.length,
        first = array[0],
        mid = array[(length / 2) | 0],
        last = array[length - 1];

    if (first && typeof first == 'object' &&
        mid && typeof mid == 'object' && last && typeof last == 'object') {
      return false;
    }
    var cache = getObject();
    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;

    var result = getObject();
    result.array = array;
    result.cache = cache;
    result.push = cachePush;

    while (++index < length) {
      result.push(array[index]);
    }
    return result;
  }

  /**
   * Used by `template` to escape characters for inclusion in compiled
   * string literals.
   *
   * @private
   * @param {string} match The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeStringChar(match) {
    return '\\' + stringEscapes[match];
  }

  /**
   * Gets an array from the array pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Array} The array from the pool.
   */
  function getArray() {
    return arrayPool.pop() || [];
  }

  /**
   * Gets an object from the object pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Object} The object from the pool.
   */
  function getObject() {
    return objectPool.pop() || {
      'array': null,
      'cache': null,
      'criteria': null,
      'false': false,
      'index': 0,
      'null': false,
      'number': null,
      'object': null,
      'push': null,
      'string': null,
      'true': false,
      'undefined': false,
      'value': null
    };
  }

  /**
   * Releases the given array back to the array pool.
   *
   * @private
   * @param {Array} [array] The array to release.
   */
  function releaseArray(array) {
    array.length = 0;
    if (arrayPool.length < maxPoolSize) {
      arrayPool.push(array);
    }
  }

  /**
   * Releases the given object back to the object pool.
   *
   * @private
   * @param {Object} [object] The object to release.
   */
  function releaseObject(object) {
    var cache = object.cache;
    if (cache) {
      releaseObject(cache);
    }
    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;
    if (objectPool.length < maxPoolSize) {
      objectPool.push(object);
    }
  }

  /**
   * Slices the `collection` from the `start` index up to, but not including,
   * the `end` index.
   *
   * Note: This function is used instead of `Array#slice` to support node lists
   * in IE < 9 and to ensure dense arrays are returned.
   *
   * @private
   * @param {Array|Object|string} collection The collection to slice.
   * @param {number} start The start index.
   * @param {number} end The end index.
   * @returns {Array} Returns the new array.
   */
  function slice(array, start, end) {
    start || (start = 0);
    if (typeof end == 'undefined') {
      end = array ? array.length : 0;
    }
    var index = -1,
        length = end - start || 0,
        result = Array(length < 0 ? 0 : length);

    while (++index < length) {
      result[index] = array[start + index];
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Create a new `lodash` function using the given context object.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns the `lodash` function.
   */
  function runInContext(context) {
    // Avoid issues with some ES3 environments that attempt to use values, named
    // after built-in constructors like `Object`, for the creation of literals.
    // ES5 clears this up by stating that literals must use built-in constructors.
    // See http://es5.github.io/#x11.1.5.
    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;

    /** Native constructor references */
    var Array = context.Array,
        Boolean = context.Boolean,
        Date = context.Date,
        Function = context.Function,
        Math = context.Math,
        Number = context.Number,
        Object = context.Object,
        RegExp = context.RegExp,
        String = context.String,
        TypeError = context.TypeError;

    /**
     * Used for `Array` method references.
     *
     * Normally `Array.prototype` would suffice, however, using an array literal
     * avoids issues in Narwhal.
     */
    var arrayRef = [];

    /** Used for native method references */
    var objectProto = Object.prototype;

    /** Used to restore the original `_` reference in `noConflict` */
    var oldDash = context._;

    /** Used to resolve the internal [[Class]] of values */
    var toString = objectProto.toString;

    /** Used to detect if a method is native */
    var reNative = RegExp('^' +
      String(toString)
        .replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
        .replace(/toString| for [^\]]+/g, '.*?') + '$'
    );

    /** Native method shortcuts */
    var ceil = Math.ceil,
        clearTimeout = context.clearTimeout,
        floor = Math.floor,
        fnToString = Function.prototype.toString,
        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,
        hasOwnProperty = objectProto.hasOwnProperty,
        push = arrayRef.push,
        setTimeout = context.setTimeout,
        splice = arrayRef.splice,
        unshift = arrayRef.unshift;

    /** Used to set meta data on functions */
    var defineProperty = (function() {
      // IE 8 only accepts DOM elements
      try {
        var o = {},
            func = isNative(func = Object.defineProperty) && func,
            result = func(o, o, o) && func;
      } catch(e) { }
      return result;
    }());

    /* Native method shortcuts for methods with the same name as other `lodash` methods */
    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,
        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,
        nativeIsFinite = context.isFinite,
        nativeIsNaN = context.isNaN,
        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,
        nativeMax = Math.max,
        nativeMin = Math.min,
        nativeParseInt = context.parseInt,
        nativeRandom = Math.random;

    /** Used to lookup a built-in constructor by [[Class]] */
    var ctorByClass = {};
    ctorByClass[arrayClass] = Array;
    ctorByClass[boolClass] = Boolean;
    ctorByClass[dateClass] = Date;
    ctorByClass[funcClass] = Function;
    ctorByClass[objectClass] = Object;
    ctorByClass[numberClass] = Number;
    ctorByClass[regexpClass] = RegExp;
    ctorByClass[stringClass] = String;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object which wraps the given value to enable intuitive
     * method chaining.
     *
     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:
     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,
     * and `unshift`
     *
     * Chaining is supported in custom builds as long as the `value` method is
     * implicitly or explicitly included in the build.
     *
     * The chainable wrapper functions are:
     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,
     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,
     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,
     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,
     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,
     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,
     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,
     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,
     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,
     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,
     * and `zip`
     *
     * The non-chainable wrapper functions are:
     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,
     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,
     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,
     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,
     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,
     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,
     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,
     * `template`, `unescape`, `uniqueId`, and `value`
     *
     * The wrapper functions `first` and `last` return wrapped values when `n` is
     * provided, otherwise they return unwrapped values.
     *
     * Explicit chaining can be enabled by using the `_.chain` method.
     *
     * @name _
     * @constructor
     * @category Chaining
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns a `lodash` instance.
     * @example
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // returns an unwrapped value
     * wrapped.reduce(function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * // returns a wrapped value
     * var squares = wrapped.map(function(num) {
     *   return num * num;
     * });
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */
    function lodash(value) {
      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor
      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))
       ? value
       : new lodashWrapper(value);
    }

    /**
     * A fast path for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap in a `lodash` instance.
     * @param {boolean} chainAll A flag to enable chaining for all methods
     * @returns {Object} Returns a `lodash` instance.
     */
    function lodashWrapper(value, chainAll) {
      this.__chain__ = !!chainAll;
      this.__wrapped__ = value;
    }
    // ensure `new lodashWrapper` is an instance of `lodash`
    lodashWrapper.prototype = lodash.prototype;

    /**
     * An object used to flag environments features.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    var support = lodash.support = {};

    /**
     * Detect if functions can be decompiled by `Function#toString`
     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);

    /**
     * Detect if `Function#name` is supported (all but IE).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcNames = typeof Function.name == 'string';

    /**
     * By default, the template delimiters used by Lo-Dash are similar to those in
     * embedded Ruby (ERB). Change the following template settings to use alternative
     * delimiters.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    lodash.templateSettings = {

      /**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'escape': /<%-([\s\S]+?)%>/g,

      /**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'evaluate': /<%([\s\S]+?)%>/g,

      /**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'interpolate': reInterpolate,

      /**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type string
       */
      'variable': '',

      /**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type Object
       */
      'imports': {

        /**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type Function
         */
        '_': lodash
      }
    };

    /*--------------------------------------------------------------------------*/

    /**
     * The base implementation of `_.bind` that creates the bound function and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new bound function.
     */
    function baseBind(bindData) {
      var func = bindData[0],
          partialArgs = bindData[2],
          thisArg = bindData[4];

      function bound() {
        // `Function#bind` spec
        // http://es5.github.io/#x15.3.4.5
        if (partialArgs) {
          // avoid `arguments` object deoptimizations by using `slice` instead
          // of `Array.prototype.slice.call` and not assigning `arguments` to a
          // variable as a ternary expression
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        // mimic the constructor's `return` behavior
        // http://es5.github.io/#x13.2.2
        if (this instanceof bound) {
          // ensure `new bound` is an instance of `func`
          var thisBinding = baseCreate(func.prototype),
              result = func.apply(thisBinding, args || arguments);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisArg, args || arguments);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.clone` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates clones with source counterparts.
     * @returns {*} Returns the cloned value.
     */
    function baseClone(value, isDeep, callback, stackA, stackB) {
      if (callback) {
        var result = callback(value);
        if (typeof result != 'undefined') {
          return result;
        }
      }
      // inspect [[Class]]
      var isObj = isObject(value);
      if (isObj) {
        var className = toString.call(value);
        if (!cloneableClasses[className]) {
          return value;
        }
        var ctor = ctorByClass[className];
        switch (className) {
          case boolClass:
          case dateClass:
            return new ctor(+value);

          case numberClass:
          case stringClass:
            return new ctor(value);

          case regexpClass:
            result = ctor(value.source, reFlags.exec(value));
            result.lastIndex = value.lastIndex;
            return result;
        }
      } else {
        return value;
      }
      var isArr = isArray(value);
      if (isDeep) {
        // check for circular references and return corresponding clone
        var initedStack = !stackA;
        stackA || (stackA = getArray());
        stackB || (stackB = getArray());

        var length = stackA.length;
        while (length--) {
          if (stackA[length] == value) {
            return stackB[length];
          }
        }
        result = isArr ? ctor(value.length) : {};
      }
      else {
        result = isArr ? slice(value) : assign({}, value);
      }
      // add array properties assigned by `RegExp#exec`
      if (isArr) {
        if (hasOwnProperty.call(value, 'index')) {
          result.index = value.index;
        }
        if (hasOwnProperty.call(value, 'input')) {
          result.input = value.input;
        }
      }
      // exit for shallow clone
      if (!isDeep) {
        return result;
      }
      // add the source value to the stack of traversed objects
      // and associate it with its clone
      stackA.push(value);
      stackB.push(result);

      // recursively populate clone (susceptible to call stack limits)
      (isArr ? forEach : forOwn)(value, function(objValue, key) {
        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);
      });

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} prototype The object to inherit from.
     * @returns {Object} Returns the new object.
     */
    function baseCreate(prototype, properties) {
      return isObject(prototype) ? nativeCreate(prototype) : {};
    }
    // fallback for browsers without `Object.create`
    if (!nativeCreate) {
      baseCreate = (function() {
        function Object() {}
        return function(prototype) {
          if (isObject(prototype)) {
            Object.prototype = prototype;
            var result = new Object;
            Object.prototype = null;
          }
          return result || context.Object();
        };
      }());
    }

    /**
     * The base implementation of `_.createCallback` without support for creating
     * "_.pluck" or "_.where" style callbacks.
     *
     * @private
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     */
    function baseCreateCallback(func, thisArg, argCount) {
      if (typeof func != 'function') {
        return identity;
      }
      // exit early for no `thisArg` or already bound by `Function#bind`
      if (typeof thisArg == 'undefined' || !('prototype' in func)) {
        return func;
      }
      var bindData = func.__bindData__;
      if (typeof bindData == 'undefined') {
        if (support.funcNames) {
          bindData = !func.name;
        }
        bindData = bindData || !support.funcDecomp;
        if (!bindData) {
          var source = fnToString.call(func);
          if (!support.funcNames) {
            bindData = !reFuncName.test(source);
          }
          if (!bindData) {
            // checks if `func` references the `this` keyword and stores the result
            bindData = reThis.test(source);
            setBindData(func, bindData);
          }
        }
      }
      // exit early if there are no `this` references or `func` is bound
      if (bindData === false || (bindData !== true && bindData[1] & 1)) {
        return func;
      }
      switch (argCount) {
        case 1: return function(value) {
          return func.call(thisArg, value);
        };
        case 2: return function(a, b) {
          return func.call(thisArg, a, b);
        };
        case 3: return function(value, index, collection) {
          return func.call(thisArg, value, index, collection);
        };
        case 4: return function(accumulator, value, index, collection) {
          return func.call(thisArg, accumulator, value, index, collection);
        };
      }
      return bind(func, thisArg);
    }

    /**
     * The base implementation of `createWrapper` that creates the wrapper and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new function.
     */
    function baseCreateWrapper(bindData) {
      var func = bindData[0],
          bitmask = bindData[1],
          partialArgs = bindData[2],
          partialRightArgs = bindData[3],
          thisArg = bindData[4],
          arity = bindData[5];

      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          key = func;

      function bound() {
        var thisBinding = isBind ? thisArg : this;
        if (partialArgs) {
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        if (partialRightArgs || isCurry) {
          args || (args = slice(arguments));
          if (partialRightArgs) {
            push.apply(args, partialRightArgs);
          }
          if (isCurry && args.length < arity) {
            bitmask |= 16 & ~32;
            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);
          }
        }
        args || (args = arguments);
        if (isBindKey) {
          func = thisBinding[key];
        }
        if (this instanceof bound) {
          thisBinding = baseCreate(func.prototype);
          var result = func.apply(thisBinding, args);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisBinding, args);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.difference` that accepts a single array
     * of values to exclude.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {Array} [values] The array of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     */
    function baseDifference(array, values) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          isLarge = length >= largeArraySize && indexOf === baseIndexOf,
          result = [];

      if (isLarge) {
        var cache = createCache(values);
        if (cache) {
          indexOf = cacheIndexOf;
          values = cache;
        } else {
          isLarge = false;
        }
      }
      while (++index < length) {
        var value = array[index];
        if (indexOf(values, value) < 0) {
          result.push(value);
        }
      }
      if (isLarge) {
        releaseObject(values);
      }
      return result;
    }

    /**
     * The base implementation of `_.flatten` without support for callback
     * shorthands or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.
     * @param {number} [fromIndex=0] The index to start from.
     * @returns {Array} Returns a new flattened array.
     */
    function baseFlatten(array, isShallow, isStrict, fromIndex) {
      var index = (fromIndex || 0) - 1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];

        if (value && typeof value == 'object' && typeof value.length == 'number'
            && (isArray(value) || isArguments(value))) {
          // recursively flatten arrays (susceptible to call stack limits)
          if (!isShallow) {
            value = baseFlatten(value, isShallow, isStrict);
          }
          var valIndex = -1,
              valLength = value.length,
              resIndex = result.length;

          result.length += valLength;
          while (++valIndex < valLength) {
            result[resIndex++] = value[valIndex];
          }
        } else if (!isStrict) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.isEqual`, without support for `thisArg` binding,
     * that allows partial "_.where" style comparisons.
     *
     * @private
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.
     * @param {Array} [stackA=[]] Tracks traversed `a` objects.
     * @param {Array} [stackB=[]] Tracks traversed `b` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {
      // used to indicate that when comparing objects, `a` has at least the properties of `b`
      if (callback) {
        var result = callback(a, b);
        if (typeof result != 'undefined') {
          return !!result;
        }
      }
      // exit early for identical values
      if (a === b) {
        // treat `+0` vs. `-0` as not equal
        return a !== 0 || (1 / a == 1 / b);
      }
      var type = typeof a,
          otherType = typeof b;

      // exit early for unlike primitive values
      if (a === a &&
          !(a && objectTypes[type]) &&
          !(b && objectTypes[otherType])) {
        return false;
      }
      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior
      // http://es5.github.io/#x15.3.4.4
      if (a == null || b == null) {
        return a === b;
      }
      // compare [[Class]] names
      var className = toString.call(a),
          otherClass = toString.call(b);

      if (className == argsClass) {
        className = objectClass;
      }
      if (otherClass == argsClass) {
        otherClass = objectClass;
      }
      if (className != otherClass) {
        return false;
      }
      switch (className) {
        case boolClass:
        case dateClass:
          // coerce dates and booleans to numbers, dates to milliseconds and booleans
          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal
          return +a == +b;

        case numberClass:
          // treat `NaN` vs. `NaN` as equal
          return (a != +a)
            ? b != +b
            // but treat `+0` vs. `-0` as not equal
            : (a == 0 ? (1 / a == 1 / b) : a == +b);

        case regexpClass:
        case stringClass:
          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)
          // treat string primitives and their corresponding object instances as equal
          return a == String(b);
      }
      var isArr = className == arrayClass;
      if (!isArr) {
        // unwrap any `lodash` wrapped values
        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),
            bWrapped = hasOwnProperty.call(b, '__wrapped__');

        if (aWrapped || bWrapped) {
          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);
        }
        // exit for functions and DOM nodes
        if (className != objectClass) {
          return false;
        }
        // in older versions of Opera, `arguments` objects have `Array` constructors
        var ctorA = a.constructor,
            ctorB = b.constructor;

        // non `Object` object instances with different constructors are not equal
        if (ctorA != ctorB &&
              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&
              ('constructor' in a && 'constructor' in b)
            ) {
          return false;
        }
      }
      // assume cyclic structures are equal
      // the algorithm for detecting cyclic structures is adapted from ES 5.1
      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)
      var initedStack = !stackA;
      stackA || (stackA = getArray());
      stackB || (stackB = getArray());

      var length = stackA.length;
      while (length--) {
        if (stackA[length] == a) {
          return stackB[length] == b;
        }
      }
      var size = 0;
      result = true;

      // add `a` and `b` to the stack of traversed objects
      stackA.push(a);
      stackB.push(b);

      // recursively compare objects and arrays (susceptible to call stack limits)
      if (isArr) {
        // compare lengths to determine if a deep comparison is necessary
        length = a.length;
        size = b.length;
        result = size == length;

        if (result || isWhere) {
          // deep compare the contents, ignoring non-numeric properties
          while (size--) {
            var index = length,
                value = b[size];

            if (isWhere) {
              while (index--) {
                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {
                  break;
                }
              }
            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {
              break;
            }
          }
        }
      }
      else {
        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`
        // which, in this case, is more costly
        forIn(b, function(value, key, b) {
          if (hasOwnProperty.call(b, key)) {
            // count the number of properties.
            size++;
            // deep compare each property value.
            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));
          }
        });

        if (result && !isWhere) {
          // ensure both objects have the same number of properties
          forIn(a, function(value, key, a) {
            if (hasOwnProperty.call(a, key)) {
              // `size` will be `-1` if `a` has more properties than `b`
              return (result = --size > -1);
            }
          });
        }
      }
      stackA.pop();
      stackB.pop();

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.merge` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates values with source counterparts.
     */
    function baseMerge(object, source, callback, stackA, stackB) {
      (isArray(source) ? forEach : forOwn)(source, function(source, key) {
        var found,
            isArr,
            result = source,
            value = object[key];

        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {
          // avoid merging previously merged cyclic sources
          var stackLength = stackA.length;
          while (stackLength--) {
            if ((found = stackA[stackLength] == source)) {
              value = stackB[stackLength];
              break;
            }
          }
          if (!found) {
            var isShallow;
            if (callback) {
              result = callback(value, source);
              if ((isShallow = typeof result != 'undefined')) {
                value = result;
              }
            }
            if (!isShallow) {
              value = isArr
                ? (isArray(value) ? value : [])
                : (isPlainObject(value) ? value : {});
            }
            // add `source` and associated `value` to the stack of traversed objects
            stackA.push(source);
            stackB.push(value);

            // recursively merge objects and arrays (susceptible to call stack limits)
            if (!isShallow) {
              baseMerge(value, source, callback, stackA, stackB);
            }
          }
        }
        else {
          if (callback) {
            result = callback(value, source);
            if (typeof result == 'undefined') {
              result = source;
            }
          }
          if (typeof result != 'undefined') {
            value = result;
          }
        }
        object[key] = value;
      });
    }

    /**
     * The base implementation of `_.random` without argument juggling or support
     * for returning floating-point numbers.
     *
     * @private
     * @param {number} min The minimum possible value.
     * @param {number} max The maximum possible value.
     * @returns {number} Returns a random number.
     */
    function baseRandom(min, max) {
      return min + floor(nativeRandom() * (max - min + 1));
    }

    /**
     * The base implementation of `_.uniq` without support for callback shorthands
     * or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function} [callback] The function called per iteration.
     * @returns {Array} Returns a duplicate-value-free array.
     */
    function baseUniq(array, isSorted, callback) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          result = [];

      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,
          seen = (callback || isLarge) ? getArray() : result;

      if (isLarge) {
        var cache = createCache(seen);
        indexOf = cacheIndexOf;
        seen = cache;
      }
      while (++index < length) {
        var value = array[index],
            computed = callback ? callback(value, index, array) : value;

        if (isSorted
              ? !index || seen[seen.length - 1] !== computed
              : indexOf(seen, computed) < 0
            ) {
          if (callback || isLarge) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
      if (isLarge) {
        releaseArray(seen.array);
        releaseObject(seen);
      } else if (callback) {
        releaseArray(seen);
      }
      return result;
    }

    /**
     * Creates a function that aggregates a collection, creating an object composed
     * of keys generated from the results of running each element of the collection
     * through a callback. The given `setter` function sets the keys and values
     * of the composed object.
     *
     * @private
     * @param {Function} setter The setter function.
     * @returns {Function} Returns the new aggregator function.
     */
    function createAggregator(setter) {
      return function(collection, callback, thisArg) {
        var result = {};
        callback = lodash.createCallback(callback, thisArg, 3);

        var index = -1,
            length = collection ? collection.length : 0;

        if (typeof length == 'number') {
          while (++index < length) {
            var value = collection[index];
            setter(result, value, callback(value, index, collection), collection);
          }
        } else {
          forOwn(collection, function(value, key, collection) {
            setter(result, value, callback(value, key, collection), collection);
          });
        }
        return result;
      };
    }

    /**
     * Creates a function that, when called, either curries or invokes `func`
     * with an optional `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to reference.
     * @param {number} bitmask The bitmask of method flags to compose.
     *  The bitmask may be composed of the following flags:
     *  1 - `_.bind`
     *  2 - `_.bindKey`
     *  4 - `_.curry`
     *  8 - `_.curry` (bound)
     *  16 - `_.partial`
     *  32 - `_.partialRight`
     * @param {Array} [partialArgs] An array of arguments to prepend to those
     *  provided to the new function.
     * @param {Array} [partialRightArgs] An array of arguments to append to those
     *  provided to the new function.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new function.
     */
    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {
      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          isPartial = bitmask & 16,
          isPartialRight = bitmask & 32;

      if (!isBindKey && !isFunction(func)) {
        throw new TypeError;
      }
      if (isPartial && !partialArgs.length) {
        bitmask &= ~16;
        isPartial = partialArgs = false;
      }
      if (isPartialRight && !partialRightArgs.length) {
        bitmask &= ~32;
        isPartialRight = partialRightArgs = false;
      }
      var bindData = func && func.__bindData__;
      if (bindData && bindData !== true) {
        // clone `bindData`
        bindData = slice(bindData);
        if (bindData[2]) {
          bindData[2] = slice(bindData[2]);
        }
        if (bindData[3]) {
          bindData[3] = slice(bindData[3]);
        }
        // set `thisBinding` is not previously bound
        if (isBind && !(bindData[1] & 1)) {
          bindData[4] = thisArg;
        }
        // set if previously bound but not currently (subsequent curried functions)
        if (!isBind && bindData[1] & 1) {
          bitmask |= 8;
        }
        // set curried arity if not yet set
        if (isCurry && !(bindData[1] & 4)) {
          bindData[5] = arity;
        }
        // append partial left arguments
        if (isPartial) {
          push.apply(bindData[2] || (bindData[2] = []), partialArgs);
        }
        // append partial right arguments
        if (isPartialRight) {
          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);
        }
        // merge flags
        bindData[1] |= bitmask;
        return createWrapper.apply(null, bindData);
      }
      // fast path for `_.bind`
      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;
      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);
    }

    /**
     * Used by `escape` to convert characters to HTML entities.
     *
     * @private
     * @param {string} match The matched character to escape.
     * @returns {string} Returns the escaped character.
     */
    function escapeHtmlChar(match) {
      return htmlEscapes[match];
    }

    /**
     * Gets the appropriate "indexOf" function. If the `_.indexOf` method is
     * customized, this method returns the custom method, otherwise it returns
     * the `baseIndexOf` function.
     *
     * @private
     * @returns {Function} Returns the "indexOf" function.
     */
    function getIndexOf() {
      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;
      return result;
    }

    /**
     * Checks if `value` is a native function.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.
     */
    function isNative(value) {
      return typeof value == 'function' && reNative.test(value);
    }

    /**
     * Sets `this` binding data on a given function.
     *
     * @private
     * @param {Function} func The function to set data on.
     * @param {Array} value The data array to set.
     */
    var setBindData = !defineProperty ? noop : function(func, value) {
      descriptor.value = value;
      defineProperty(func, '__bindData__', descriptor);
    };

    /**
     * A fallback implementation of `isPlainObject` which checks if a given value
     * is an object created by the `Object` constructor, assuming objects created
     * by the `Object` constructor have no inherited enumerable properties and that
     * there are no `Object.prototype` extensions.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     */
    function shimIsPlainObject(value) {
      var ctor,
          result;

      // avoid non Object objects, `arguments` objects, and DOM elements
      if (!(value && toString.call(value) == objectClass) ||
          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {
        return false;
      }
      // In most environments an object's own properties are iterated before
      // its inherited properties. If the last iterated property is an object's
      // own property then there are no inherited enumerable properties.
      forIn(value, function(value, key) {
        result = key;
      });
      return typeof result == 'undefined' || hasOwnProperty.call(value, result);
    }

    /**
     * Used by `unescape` to convert HTML entities to characters.
     *
     * @private
     * @param {string} match The matched character to unescape.
     * @returns {string} Returns the unescaped character.
     */
    function unescapeHtmlChar(match) {
      return htmlUnescapes[match];
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Checks if `value` is an `arguments` object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.
     * @example
     *
     * (function() { return _.isArguments(arguments); })(1, 2, 3);
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    function isArguments(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == argsClass || false;
    }

    /**
     * Checks if `value` is an array.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.
     * @example
     *
     * (function() { return _.isArray(arguments); })();
     * // => false
     *
     * _.isArray([1, 2, 3]);
     * // => true
     */
    var isArray = nativeIsArray || function(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == arrayClass || false;
    };

    /**
     * A fallback implementation of `Object.keys` which produces an array of the
     * given object's own enumerable property names.
     *
     * @private
     * @type Function
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     */
    var shimKeys = function(object) {
      var index, iterable = object, result = [];
      if (!iterable) return result;
      if (!(objectTypes[typeof object])) return result;
        for (index in iterable) {
          if (hasOwnProperty.call(iterable, index)) {
            result.push(index);
          }
        }
      return result
    };

    /**
     * Creates an array composed of the own enumerable property names of an object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     * @example
     *
     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });
     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)
     */
    var keys = !nativeKeys ? shimKeys : function(object) {
      if (!isObject(object)) {
        return [];
      }
      return nativeKeys(object);
    };

    /**
     * Used to convert characters to HTML entities:
     *
     * Though the `>` character is escaped for symmetry, characters like `>` and `/`
     * don't require escaping in HTML and have no special meaning unless they're part
     * of a tag or an unquoted attribute value.
     * http://mathiasbynens.be/notes/ambiguous-ampersands (under "semi-related fun fact")
     */
    var htmlEscapes = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };

    /** Used to convert HTML entities to characters */
    var htmlUnescapes = invert(htmlEscapes);

    /** Used to match HTML entities and HTML characters */
    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),
        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');

    /*--------------------------------------------------------------------------*/

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object. Subsequent sources will overwrite property assignments of previous
     * sources. If a callback is provided it will be executed to produce the
     * assigned values. The callback is bound to `thisArg` and invoked with two
     * arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @type Function
     * @alias extend
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize assigning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });
     * // => { 'name': 'fred', 'employer': 'slate' }
     *
     * var defaults = _.partialRight(_.assign, function(a, b) {
     *   return typeof a == 'undefined' ? b : a;
     * });
     *
     * var object = { 'name': 'barney' };
     * defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var assign = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {
        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);
      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {
        callback = args[--argsLength];
      }
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];
        }
        }
      }
      return result
    };

    /**
     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also
     * be cloned, otherwise they will be assigned by reference. If a callback
     * is provided it will be executed to produce the cloned values. If the
     * callback returns `undefined` cloning will be handled by the method instead.
     * The callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var shallow = _.clone(characters);
     * shallow[0] === characters[0];
     * // => true
     *
     * var deep = _.clone(characters, true);
     * deep[0] === characters[0];
     * // => false
     *
     * _.mixin({
     *   'clone': _.partialRight(_.clone, function(value) {
     *     return _.isElement(value) ? value.cloneNode(false) : undefined;
     *   })
     * });
     *
     * var clone = _.clone(document.body);
     * clone.childNodes.length;
     * // => 0
     */
    function clone(value, isDeep, callback, thisArg) {
      // allows working with "Collections" methods without using their `index`
      // and `collection` arguments for `isDeep` and `callback`
      if (typeof isDeep != 'boolean' && isDeep != null) {
        thisArg = callback;
        callback = isDeep;
        isDeep = false;
      }
      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates a deep clone of `value`. If a callback is provided it will be
     * executed to produce the cloned values. If the callback returns `undefined`
     * cloning will be handled by the method instead. The callback is bound to
     * `thisArg` and invoked with one argument; (value).
     *
     * Note: This method is loosely based on the structured clone algorithm. Functions
     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and
     * objects created by constructors other than `Object` are cloned to plain `Object` objects.
     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the deep cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var deep = _.cloneDeep(characters);
     * deep[0] === characters[0];
     * // => false
     *
     * var view = {
     *   'label': 'docs',
     *   'node': element
     * };
     *
     * var clone = _.cloneDeep(view, function(value) {
     *   return _.isElement(value) ? value.cloneNode(true) : undefined;
     * });
     *
     * clone.node == view.node;
     * // => false
     */
    function cloneDeep(value, callback, thisArg) {
      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates an object that inherits from the given `prototype` object. If a
     * `properties` object is provided its own enumerable properties are assigned
     * to the created object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */
    function create(prototype, properties) {
      var result = baseCreate(prototype);
      return properties ? assign(result, properties) : result;
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object for all destination properties that resolve to `undefined`. Once a
     * property is set, additional defaults of the same property will be ignored.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param- {Object} [guard] Allows working with `_.reduce` without using its
     *  `key` and `object` arguments as sources.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var object = { 'name': 'barney' };
     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var defaults = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (typeof result[index] == 'undefined') result[index] = iterable[index];
        }
        }
      }
      return result
    };

    /**
     * This method is like `_.findIndex` except that it returns the key of the
     * first element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': false },
     *   'fred': {    'age': 40, 'blocked': true },
     *   'pebbles': { 'age': 1,  'blocked': false }
     * };
     *
     * _.findKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => 'barney' (property order is not guaranteed across environments)
     *
     * // using "_.where" callback shorthand
     * _.findKey(characters, { 'age': 1 });
     * // => 'pebbles'
     *
     * // using "_.pluck" callback shorthand
     * _.findKey(characters, 'blocked');
     * // => 'fred'
     */
    function findKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwn(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * This method is like `_.findKey` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': true },
     *   'fred': {    'age': 40, 'blocked': false },
     *   'pebbles': { 'age': 1,  'blocked': true }
     * };
     *
     * _.findLastKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => returns `pebbles`, assuming `_.findKey` returns `barney`
     *
     * // using "_.where" callback shorthand
     * _.findLastKey(characters, { 'age': 40 });
     * // => 'fred'
     *
     * // using "_.pluck" callback shorthand
     * _.findLastKey(characters, 'blocked');
     * // => 'pebbles'
     */
    function findLastKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwnRight(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over own and inherited enumerable properties of an object,
     * executing the callback for each property. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, key, object). Callbacks may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forIn(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)
     */
    var forIn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        for (index in iterable) {
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forIn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forInRight(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'
     */
    function forInRight(object, callback, thisArg) {
      var pairs = [];

      forIn(object, function(value, key) {
        pairs.push(key, value);
      });

      var length = pairs.length;
      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(pairs[length--], pairs[length], object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Iterates over own enumerable properties of an object, executing the callback
     * for each property. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, key, object). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)
     */
    var forOwn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forOwn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'
     */
    function forOwnRight(object, callback, thisArg) {
      var props = keys(object),
          length = props.length;

      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        var key = props[length];
        if (callback(object[key], key, object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Creates a sorted array of property names of all enumerable properties,
     * own and inherited, of `object` that have function values.
     *
     * @static
     * @memberOf _
     * @alias methods
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names that have function values.
     * @example
     *
     * _.functions(_);
     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]
     */
    function functions(object) {
      var result = [];
      forIn(object, function(value, key) {
        if (isFunction(value)) {
          result.push(key);
        }
      });
      return result.sort();
    }

    /**
     * Checks if the specified property name exists as a direct property of `object`,
     * instead of an inherited property.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to check.
     * @returns {boolean} Returns `true` if key is a direct property, else `false`.
     * @example
     *
     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');
     * // => true
     */
    function has(object, key) {
      return object ? hasOwnProperty.call(object, key) : false;
    }

    /**
     * Creates an object composed of the inverted keys and values of the given object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the created inverted object.
     * @example
     *
     * _.invert({ 'first': 'fred', 'second': 'barney' });
     * // => { 'fred': 'first', 'barney': 'second' }
     */
    function invert(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = {};

      while (++index < length) {
        var key = props[index];
        result[object[key]] = key;
      }
      return result;
    }

    /**
     * Checks if `value` is a boolean value.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.
     * @example
     *
     * _.isBoolean(null);
     * // => false
     */
    function isBoolean(value) {
      return value === true || value === false ||
        value && typeof value == 'object' && toString.call(value) == boolClass || false;
    }

    /**
     * Checks if `value` is a date.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     */
    function isDate(value) {
      return value && typeof value == 'object' && toString.call(value) == dateClass || false;
    }

    /**
     * Checks if `value` is a DOM element.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     */
    function isElement(value) {
      return value && value.nodeType === 1 || false;
    }

    /**
     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a
     * length of `0` and objects with no own enumerable properties are considered
     * "empty".
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object|string} value The value to inspect.
     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({});
     * // => true
     *
     * _.isEmpty('');
     * // => true
     */
    function isEmpty(value) {
      var result = true;
      if (!value) {
        return result;
      }
      var className = toString.call(value),
          length = value.length;

      if ((className == arrayClass || className == stringClass || className == argsClass ) ||
          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {
        return !length;
      }
      forOwn(value, function() {
        return (result = false);
      });
      return result;
    }

    /**
     * Performs a deep comparison between two values to determine if they are
     * equivalent to each other. If a callback is provided it will be executed
     * to compare values. If the callback returns `undefined` comparisons will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (a, b).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var copy = { 'name': 'fred' };
     *
     * object == copy;
     * // => false
     *
     * _.isEqual(object, copy);
     * // => true
     *
     * var words = ['hello', 'goodbye'];
     * var otherWords = ['hi', 'goodbye'];
     *
     * _.isEqual(words, otherWords, function(a, b) {
     *   var reGreet = /^(?:hello|hi)$/i,
     *       aGreet = _.isString(a) && reGreet.test(a),
     *       bGreet = _.isString(b) && reGreet.test(b);
     *
     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;
     * });
     * // => true
     */
    function isEqual(a, b, callback, thisArg) {
      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));
    }

    /**
     * Checks if `value` is, or can be coerced to, a finite number.
     *
     * Note: This is not the same as native `isFinite` which will return true for
     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.
     * @example
     *
     * _.isFinite(-101);
     * // => true
     *
     * _.isFinite('10');
     * // => true
     *
     * _.isFinite(true);
     * // => false
     *
     * _.isFinite('');
     * // => false
     *
     * _.isFinite(Infinity);
     * // => false
     */
    function isFinite(value) {
      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));
    }

    /**
     * Checks if `value` is a function.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     */
    function isFunction(value) {
      return typeof value == 'function';
    }

    /**
     * Checks if `value` is the language type of Object.
     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(1);
     * // => false
     */
    function isObject(value) {
      // check if the value is the ECMAScript language type of Object
      // http://es5.github.io/#x8
      // and avoid a V8 bug
      // http://code.google.com/p/v8/issues/detail?id=2291
      return !!(value && objectTypes[typeof value]);
    }

    /**
     * Checks if `value` is `NaN`.
     *
     * Note: This is not the same as native `isNaN` which will return `true` for
     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */
    function isNaN(value) {
      // `NaN` as a primitive is the only value that is not equal to itself
      // (perform the [[Class]] check first to avoid errors with some host objects in IE)
      return isNumber(value) && value != +value;
    }

    /**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(undefined);
     * // => false
     */
    function isNull(value) {
      return value === null;
    }

    /**
     * Checks if `value` is a number.
     *
     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(8.4 * 5);
     * // => true
     */
    function isNumber(value) {
      return typeof value == 'number' ||
        value && typeof value == 'object' && toString.call(value) == numberClass || false;
    }

    /**
     * Checks if `value` is an object created by the `Object` constructor.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * _.isPlainObject(new Shape);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     */
    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {
      if (!(value && toString.call(value) == objectClass)) {
        return false;
      }
      var valueOf = value.valueOf,
          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);

      return objProto
        ? (value == objProto || getPrototypeOf(value) == objProto)
        : shimIsPlainObject(value);
    };

    /**
     * Checks if `value` is a regular expression.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.
     * @example
     *
     * _.isRegExp(/fred/);
     * // => true
     */
    function isRegExp(value) {
      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;
    }

    /**
     * Checks if `value` is a string.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.
     * @example
     *
     * _.isString('fred');
     * // => true
     */
    function isString(value) {
      return typeof value == 'string' ||
        value && typeof value == 'object' && toString.call(value) == stringClass || false;
    }

    /**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     */
    function isUndefined(value) {
      return typeof value == 'undefined';
    }

    /**
     * Creates an object with the same keys as `object` and values generated by
     * running each own enumerable property of `object` through the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new object with values of the results of each `callback` execution.
     * @example
     *
     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     *
     * var characters = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // using "_.pluck" callback shorthand
     * _.mapValues(characters, 'age');
     * // => { 'fred': 40, 'pebbles': 1 }
     */
    function mapValues(object, callback, thisArg) {
      var result = {};
      callback = lodash.createCallback(callback, thisArg, 3);

      forOwn(object, function(value, key, object) {
        result[key] = callback(value, key, object);
      });
      return result;
    }

    /**
     * Recursively merges own enumerable properties of the source object(s), that
     * don't resolve to `undefined` into the destination object. Subsequent sources
     * will overwrite property assignments of previous sources. If a callback is
     * provided it will be executed to produce the merged values of the destination
     * and source properties. If the callback returns `undefined` merging will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var names = {
     *   'characters': [
     *     { 'name': 'barney' },
     *     { 'name': 'fred' }
     *   ]
     * };
     *
     * var ages = {
     *   'characters': [
     *     { 'age': 36 },
     *     { 'age': 40 }
     *   ]
     * };
     *
     * _.merge(names, ages);
     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }
     *
     * var food = {
     *   'fruits': ['apple'],
     *   'vegetables': ['beet']
     * };
     *
     * var otherFood = {
     *   'fruits': ['banana'],
     *   'vegetables': ['carrot']
     * };
     *
     * _.merge(food, otherFood, function(a, b) {
     *   return _.isArray(a) ? a.concat(b) : undefined;
     * });
     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }
     */
    function merge(object) {
      var args = arguments,
          length = 2;

      if (!isObject(object)) {
        return object;
      }
      // allows working with `_.reduce` and `_.reduceRight` without using
      // their `index` and `collection` arguments
      if (typeof args[2] != 'number') {
        length = args.length;
      }
      if (length > 3 && typeof args[length - 2] == 'function') {
        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);
      } else if (length > 2 && typeof args[length - 1] == 'function') {
        callback = args[--length];
      }
      var sources = slice(arguments, 1, length),
          index = -1,
          stackA = getArray(),
          stackB = getArray();

      while (++index < length) {
        baseMerge(object, sources[index], callback, stackA, stackB);
      }
      releaseArray(stackA);
      releaseArray(stackB);
      return object;
    }

    /**
     * Creates a shallow clone of `object` excluding the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` omitting the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The properties to omit or the
     *  function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object without the omitted properties.
     * @example
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');
     * // => { 'name': 'fred' }
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {
     *   return typeof value == 'number';
     * });
     * // => { 'name': 'fred' }
     */
    function omit(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var props = [];
        forIn(object, function(value, key) {
          props.push(key);
        });
        props = baseDifference(props, baseFlatten(arguments, true, false, 1));

        var index = -1,
            length = props.length;

        while (++index < length) {
          var key = props[index];
          result[key] = object[key];
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (!callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * Creates a two dimensional array of an object's key-value pairs,
     * i.e. `[[key1, value1], [key2, value2]]`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns new array of key-value pairs.
     * @example
     *
     * _.pairs({ 'barney': 36, 'fred': 40 });
     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)
     */
    function pairs(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        var key = props[index];
        result[index] = [key, object[key]];
      }
      return result;
    }

    /**
     * Creates a shallow clone of `object` composed of the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` picking the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The function called per
     *  iteration or property names to pick, specified as individual property
     *  names or arrays of property names.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object composed of the picked properties.
     * @example
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');
     * // => { 'name': 'fred' }
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {
     *   return key.charAt(0) != '_';
     * });
     * // => { 'name': 'fred' }
     */
    function pick(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var index = -1,
            props = baseFlatten(arguments, true, false, 1),
            length = isObject(object) ? props.length : 0;

        while (++index < length) {
          var key = props[index];
          if (key in object) {
            result[key] = object[key];
          }
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * An alternative to `_.reduce` this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable properties through a callback, with each callback execution
     * potentially mutating the `accumulator` object. The callback is bound to
     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).
     * Callbacks may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {
     *   num *= num;
     *   if (num % 2) {
     *     return result.push(num) < 3;
     *   }
     * });
     * // => [1, 9, 25]
     *
     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     * });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function transform(object, callback, accumulator, thisArg) {
      var isArr = isArray(object);
      if (accumulator == null) {
        if (isArr) {
          accumulator = [];
        } else {
          var ctor = object && object.constructor,
              proto = ctor && ctor.prototype;

          accumulator = baseCreate(proto);
        }
      }
      if (callback) {
        callback = lodash.createCallback(callback, thisArg, 4);
        (isArr ? forEach : forOwn)(object, function(value, index, object) {
          return callback(accumulator, value, index, object);
        });
      }
      return accumulator;
    }

    /**
     * Creates an array composed of the own enumerable property values of `object`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property values.
     * @example
     *
     * _.values({ 'one': 1, 'two': 2, 'three': 3 });
     * // => [1, 2, 3] (property order is not guaranteed across environments)
     */
    function values(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        result[index] = object[props[index]];
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array of elements from the specified indexes, or keys, of the
     * `collection`. Indexes may be specified as individual arguments or as arrays
     * of indexes.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`
     *   to retrieve, specified as individual indexes or arrays of indexes.
     * @returns {Array} Returns a new array of elements corresponding to the
     *  provided indexes.
     * @example
     *
     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);
     * // => ['a', 'c', 'e']
     *
     * _.at(['fred', 'barney', 'pebbles'], 0, 2);
     * // => ['fred', 'pebbles']
     */
    function at(collection) {
      var args = arguments,
          index = -1,
          props = baseFlatten(args, true, false, 1),
          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,
          result = Array(length);

      while(++index < length) {
        result[index] = collection[props[index]];
      }
      return result;
    }

    /**
     * Checks if a given value is present in a collection using strict equality
     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the
     * offset from the end of the collection.
     *
     * @static
     * @memberOf _
     * @alias include
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {*} target The value to check for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.
     * @example
     *
     * _.contains([1, 2, 3], 1);
     * // => true
     *
     * _.contains([1, 2, 3], 1, 2);
     * // => false
     *
     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');
     * // => true
     *
     * _.contains('pebbles', 'eb');
     * // => true
     */
    function contains(collection, target, fromIndex) {
      var index = -1,
          indexOf = getIndexOf(),
          length = collection ? collection.length : 0,
          result = false;

      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;
      if (isArray(collection)) {
        result = indexOf(collection, target, fromIndex) > -1;
      } else if (typeof length == 'number') {
        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;
      } else {
        forOwn(collection, function(value) {
          if (++index >= fromIndex) {
            return !(result = value === target);
          }
        });
      }
      return result;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` through the callback. The corresponding value
     * of each key is the number of times the key was returned by the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */
    var countBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);
    });

    /**
     * Checks if the given callback returns truey value for **all** elements of
     * a collection. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias all
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if all elements passed the callback check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes']);
     * // => false
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.every(characters, 'age');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.every(characters, { 'age': 36 });
     * // => false
     */
    function every(collection, callback, thisArg) {
      var result = true;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if (!(result = !!callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return (result = !!callback(value, index, collection));
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning an array of all elements
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias select
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that passed the callback check.
     * @example
     *
     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [2, 4, 6]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.filter(characters, 'blocked');
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     *
     * // using "_.where" callback shorthand
     * _.filter(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     */
    function filter(collection, callback, thisArg) {
      var result = [];
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            result.push(value);
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result.push(value);
          }
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning the first element that
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias detect, findWhere
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.find(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => { 'name': 'barney', 'age': 36, 'blocked': false }
     *
     * // using "_.where" callback shorthand
     * _.find(characters, { 'age': 1 });
     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }
     *
     * // using "_.pluck" callback shorthand
     * _.find(characters, 'blocked');
     * // => { 'name': 'fred', 'age': 40, 'blocked': true }
     */
    function find(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            return value;
          }
        }
      } else {
        var result;
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result = value;
            return false;
          }
        });
        return result;
      }
    }

    /**
     * This method is like `_.find` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(num) {
     *   return num % 2 == 1;
     * });
     * // => 3
     */
    function findLast(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forEachRight(collection, function(value, index, collection) {
        if (callback(value, index, collection)) {
          result = value;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over elements of a collection, executing the callback for each
     * element. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * Note: As with other "Collections" methods, objects with a `length` property
     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`
     * may be used for object iteration.
     *
     * @static
     * @memberOf _
     * @alias each
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');
     * // => logs each number and returns '1,2,3'
     *
     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });
     * // => logs each number and returns the object (property order is not guaranteed across environments)
     */
    function forEach(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (++index < length) {
          if (callback(collection[index], index, collection) === false) {
            break;
          }
        }
      } else {
        forOwn(collection, callback);
      }
      return collection;
    }

    /**
     * This method is like `_.forEach` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias eachRight
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');
     * // => logs each number from right to left and returns '3,2,1'
     */
    function forEachRight(collection, callback, thisArg) {
      var length = collection ? collection.length : 0;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (length--) {
          if (callback(collection[length], length, collection) === false) {
            break;
          }
        }
      } else {
        var props = keys(collection);
        length = props.length;
        forOwn(collection, function(value, key, collection) {
          key = props ? props[--length] : --length;
          return callback(collection[key], key, collection);
        });
      }
      return collection;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of a collection through the callback. The corresponding value
     * of each key is an array of the elements responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * // using "_.pluck" callback shorthand
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */
    var groupBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);
    });

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of the collection through the given callback. The corresponding
     * value of each key is the last element responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var keys = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.indexBy(keys, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     */
    var indexBy = createAggregator(function(result, value, key) {
      result[key] = value;
    });

    /**
     * Invokes the method named by `methodName` on each element in the `collection`
     * returning an array of the results of each invoked method. Additional arguments
     * will be provided to each invoked method. If `methodName` is a function it
     * will be invoked for, and `this` bound to, each element in the `collection`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|string} methodName The name of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [arg] Arguments to invoke the method with.
     * @returns {Array} Returns a new array of the results of each invoked method.
     * @example
     *
     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invoke([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */
    function invoke(collection, methodName) {
      var args = slice(arguments, 2),
          index = -1,
          isFunc = typeof methodName == 'function',
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);
      });
      return result;
    }

    /**
     * Creates an array of values by running each element in the collection
     * through the callback. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias collect
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of the results of each `callback` execution.
     * @example
     *
     * _.map([1, 2, 3], function(num) { return num * 3; });
     * // => [3, 6, 9]
     *
     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });
     * // => [3, 6, 9] (property order is not guaranteed across environments)
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(characters, 'name');
     * // => ['barney', 'fred']
     */
    function map(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        var result = Array(length);
        while (++index < length) {
          result[index] = callback(collection[index], index, collection);
        }
      } else {
        result = [];
        forOwn(collection, function(value, key, collection) {
          result[++index] = callback(value, key, collection);
        });
      }
      return result;
    }

    /**
     * Retrieves the maximum value of a collection. If the collection is empty or
     * falsey `-Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.max(characters, function(chr) { return chr.age; });
     * // => { 'name': 'fred', 'age': 40 };
     *
     * // using "_.pluck" callback shorthand
     * _.max(characters, 'age');
     * // => { 'name': 'fred', 'age': 40 };
     */
    function max(collection, callback, thisArg) {
      var computed = -Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value > result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current > computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the minimum value of a collection. If the collection is empty or
     * falsey `Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.min(characters, function(chr) { return chr.age; });
     * // => { 'name': 'barney', 'age': 36 };
     *
     * // using "_.pluck" callback shorthand
     * _.min(characters, 'age');
     * // => { 'name': 'barney', 'age': 36 };
     */
    function min(collection, callback, thisArg) {
      var computed = Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value < result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current < computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the value of a specified property from all elements in the collection.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {string} property The name of the property to pluck.
     * @returns {Array} Returns a new array of property values.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.pluck(characters, 'name');
     * // => ['barney', 'fred']
     */
    var pluck = map;

    /**
     * Reduces a collection to a value which is the accumulated result of running
     * each element in the collection through the callback, where each successive
     * callback execution consumes the return value of the previous execution. If
     * `accumulator` is not provided the first element of the collection will be
     * used as the initial `accumulator` value. The callback is bound to `thisArg`
     * and invoked with four arguments; (accumulator, value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @alias foldl, inject
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var sum = _.reduce([1, 2, 3], function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     *   return result;
     * }, {});
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function reduce(collection, callback, accumulator, thisArg) {
      if (!collection) return accumulator;
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);

      var index = -1,
          length = collection.length;

      if (typeof length == 'number') {
        if (noaccum) {
          accumulator = collection[++index];
        }
        while (++index < length) {
          accumulator = callback(accumulator, collection[index], index, collection);
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          accumulator = noaccum
            ? (noaccum = false, value)
            : callback(accumulator, value, index, collection)
        });
      }
      return accumulator;
    }

    /**
     * This method is like `_.reduce` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias foldr
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var list = [[0, 1], [2, 3], [4, 5]];
     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */
    function reduceRight(collection, callback, accumulator, thisArg) {
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);
      forEachRight(collection, function(value, index, collection) {
        accumulator = noaccum
          ? (noaccum = false, value)
          : callback(accumulator, value, index, collection);
      });
      return accumulator;
    }

    /**
     * The opposite of `_.filter` this method returns the elements of a
     * collection that the callback does **not** return truey for.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that failed the callback check.
     * @example
     *
     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [1, 3, 5]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.reject(characters, 'blocked');
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     *
     * // using "_.where" callback shorthand
     * _.reject(characters, { 'age': 36 });
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     */
    function reject(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);
      return filter(collection, function(value, index, collection) {
        return !callback(value, index, collection);
      });
    }

    /**
     * Retrieves a random element or `n` random elements from a collection.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to sample.
     * @param {number} [n] The number of elements to sample.
     * @param- {Object} [guard] Allows working with functions like `_.map`
     *  without using their `index` arguments as `n`.
     * @returns {Array} Returns the random sample(s) of `collection`.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     *
     * _.sample([1, 2, 3, 4], 2);
     * // => [3, 1]
     */
    function sample(collection, n, guard) {
      if (collection && typeof collection.length != 'number') {
        collection = values(collection);
      }
      if (n == null || guard) {
        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;
      }
      var result = shuffle(collection);
      result.length = nativeMin(nativeMax(0, n), result.length);
      return result;
    }

    /**
     * Creates an array of shuffled values, using a version of the Fisher-Yates
     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to shuffle.
     * @returns {Array} Returns a new shuffled collection.
     * @example
     *
     * _.shuffle([1, 2, 3, 4, 5, 6]);
     * // => [4, 1, 6, 3, 5, 2]
     */
    function shuffle(collection) {
      var index = -1,
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        var rand = baseRandom(0, ++index);
        result[index] = result[rand];
        result[rand] = value;
      });
      return result;
    }

    /**
     * Gets the size of the `collection` by returning `collection.length` for arrays
     * and array-like objects or the number of own enumerable properties for objects.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns `collection.length` or number of own enumerable properties.
     * @example
     *
     * _.size([1, 2]);
     * // => 2
     *
     * _.size({ 'one': 1, 'two': 2, 'three': 3 });
     * // => 3
     *
     * _.size('pebbles');
     * // => 7
     */
    function size(collection) {
      var length = collection ? collection.length : 0;
      return typeof length == 'number' ? length : keys(collection).length;
    }

    /**
     * Checks if the callback returns a truey value for **any** element of a
     * collection. The function returns as soon as it finds a passing value and
     * does not iterate over the entire collection. The callback is bound to
     * `thisArg` and invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias any
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if any element passed the callback check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.some(characters, 'blocked');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.some(characters, { 'age': 1 });
     * // => false
     */
    function some(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if ((result = callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return !(result = callback(value, index, collection));
        });
      }
      return !!result;
    }

    /**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection through the callback. This method
     * performs a stable sort, that is, it will preserve the original sort order
     * of equal elements. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an array of property names is provided for `callback` the collection
     * will be sorted by each property value.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Array|Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of sorted elements.
     * @example
     *
     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });
     * // => [3, 1, 2]
     *
     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);
     * // => [3, 1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'barney',  'age': 26 },
     *   { 'name': 'fred',    'age': 30 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(_.sortBy(characters, 'age'), _.values);
     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]
     *
     * // sorting by multiple properties
     * _.map(_.sortBy(characters, ['name', 'age']), _.values);
     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]
     */
    function sortBy(collection, callback, thisArg) {
      var index = -1,
          isArr = isArray(callback),
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      if (!isArr) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      forEach(collection, function(value, key, collection) {
        var object = result[++index] = getObject();
        if (isArr) {
          object.criteria = map(callback, function(key) { return value[key]; });
        } else {
          (object.criteria = getArray())[0] = callback(value, key, collection);
        }
        object.index = index;
        object.value = value;
      });

      length = result.length;
      result.sort(compareAscending);
      while (length--) {
        var object = result[length];
        result[length] = object.value;
        if (!isArr) {
          releaseArray(object.criteria);
        }
        releaseObject(object);
      }
      return result;
    }

    /**
     * Converts the `collection` to an array.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to convert.
     * @returns {Array} Returns the new converted array.
     * @example
     *
     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
     * // => [2, 3, 4]
     */
    function toArray(collection) {
      if (collection && typeof collection.length == 'number') {
        return slice(collection);
      }
      return values(collection);
    }

    /**
     * Performs a deep comparison of each element in a `collection` to the given
     * `properties` object, returning an array of all elements that have equivalent
     * property values.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Object} props The object of property values to filter by.
     * @returns {Array} Returns a new array of elements that have the given properties.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * _.where(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]
     *
     * _.where(characters, { 'pets': ['dino'] });
     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]
     */
    var where = filter;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are all falsey.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to compact.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */
    function compact(array) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];
        if (value) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * Creates an array excluding all values of the provided arrays using strict
     * equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {...Array} [values] The arrays of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);
     * // => [1, 3, 4]
     */
    function difference(array) {
      return baseDifference(array, baseFlatten(arguments, true, true, 1));
    }

    /**
     * This method is like `_.find` except that it returns the index of the first
     * element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.findIndex(characters, function(chr) {
     *   return chr.age < 20;
     * });
     * // => 2
     *
     * // using "_.where" callback shorthand
     * _.findIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findIndex(characters, 'blocked');
     * // => 1
     */
    function findIndex(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        if (callback(array[index], index, array)) {
          return index;
        }
      }
      return -1;
    }

    /**
     * This method is like `_.findIndex` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': true },
     *   { 'name': 'fred',    'age': 40, 'blocked': false },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }
     * ];
     *
     * _.findLastIndex(characters, function(chr) {
     *   return chr.age > 30;
     * });
     * // => 1
     *
     * // using "_.where" callback shorthand
     * _.findLastIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findLastIndex(characters, 'blocked');
     * // => 2
     */
    function findLastIndex(array, callback, thisArg) {
      var length = array ? array.length : 0;
      callback = lodash.createCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(array[length], length, array)) {
          return length;
        }
      }
      return -1;
    }

    /**
     * Gets the first element or first `n` elements of an array. If a callback
     * is provided elements at the beginning of the array are returned as long
     * as the callback returns truey. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias head, take
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the first element(s) of `array`.
     * @example
     *
     * _.first([1, 2, 3]);
     * // => 1
     *
     * _.first([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.first([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.first(characters, 'blocked');
     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');
     * // => ['barney', 'fred']
     */
    function first(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = -1;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[0] : undefined;
        }
      }
      return slice(array, 0, nativeMin(nativeMax(0, n), length));
    }

    /**
     * Flattens a nested array (the nesting can be to any depth). If `isShallow`
     * is truey, the array will only be flattened a single level. If a callback
     * is provided each element of the array is passed through the callback before
     * flattening. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new flattened array.
     * @example
     *
     * _.flatten([1, [2], [3, [[4]]]]);
     * // => [1, 2, 3, 4];
     *
     * _.flatten([1, [2], [3, [[4]]]], true);
     * // => [1, 2, 3, [[4]]];
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.flatten(characters, 'pets');
     * // => ['hoppy', 'baby puss', 'dino']
     */
    function flatten(array, isShallow, callback, thisArg) {
      // juggle arguments
      if (typeof isShallow != 'boolean' && isShallow != null) {
        thisArg = callback;
        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;
        isShallow = false;
      }
      if (callback != null) {
        array = map(array, callback, thisArg);
      }
      return baseFlatten(array, isShallow);
    }

    /**
     * Gets the index at which the first occurrence of `value` is found using
     * strict equality for comparisons, i.e. `===`. If the array is already sorted
     * providing `true` for `fromIndex` will run a faster binary search.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {boolean|number} [fromIndex=0] The index to search from or `true`
     *  to perform a binary search on a sorted array.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 1
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 4
     *
     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);
     * // => 2
     */
    function indexOf(array, value, fromIndex) {
      if (typeof fromIndex == 'number') {
        var length = array ? array.length : 0;
        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);
      } else if (fromIndex) {
        var index = sortedIndex(array, value);
        return array[index] === value ? index : -1;
      }
      return baseIndexOf(array, value, fromIndex);
    }

    /**
     * Gets all but the last element or last `n` elements of an array. If a
     * callback is provided elements at the end of the array are excluded from
     * the result as long as the callback returns truey. The callback is bound
     * to `thisArg` and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     *
     * _.initial([1, 2, 3], 2);
     * // => [1]
     *
     * _.initial([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [1]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.initial(characters, 'blocked');
     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');
     * // => ['barney', 'fred']
     */
    function initial(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : callback || n;
      }
      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));
    }

    /**
     * Creates an array of unique values present in all provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of shared values.
     * @example
     *
     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2]
     */
    function intersection() {
      var args = [],
          argsIndex = -1,
          argsLength = arguments.length,
          caches = getArray(),
          indexOf = getIndexOf(),
          trustIndexOf = indexOf === baseIndexOf,
          seen = getArray();

      while (++argsIndex < argsLength) {
        var value = arguments[argsIndex];
        if (isArray(value) || isArguments(value)) {
          args.push(value);
          caches.push(trustIndexOf && value.length >= largeArraySize &&
            createCache(argsIndex ? args[argsIndex] : seen));
        }
      }
      var array = args[0],
          index = -1,
          length = array ? array.length : 0,
          result = [];

      outer:
      while (++index < length) {
        var cache = caches[0];
        value = array[index];

        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {
          argsIndex = argsLength;
          (cache || seen).push(value);
          while (--argsIndex) {
            cache = caches[argsIndex];
            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {
              continue outer;
            }
          }
          result.push(value);
        }
      }
      while (argsLength--) {
        cache = caches[argsLength];
        if (cache) {
          releaseObject(cache);
        }
      }
      releaseArray(caches);
      releaseArray(seen);
      return result;
    }

    /**
     * Gets the last element or last `n` elements of an array. If a callback is
     * provided elements at the end of the array are returned as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the last element(s) of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     *
     * _.last([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.last([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [2, 3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.last(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.last(characters, { 'employer': 'na' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function last(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[length - 1] : undefined;
        }
      }
      return slice(array, nativeMax(0, length - n));
    }

    /**
     * Gets the index at which the last occurrence of `value` is found using strict
     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used
     * as the offset from the end of the collection.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 4
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 1
     */
    function lastIndexOf(array, value, fromIndex) {
      var index = array ? array.length : 0;
      if (typeof fromIndex == 'number') {
        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;
      }
      while (index--) {
        if (array[index] === value) {
          return index;
        }
      }
      return -1;
    }

    /**
     * Removes all provided values from the given array using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {...*} [value] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3, 1, 2, 3];
     * _.pull(array, 2, 3);
     * console.log(array);
     * // => [1, 1]
     */
    function pull(array) {
      var args = arguments,
          argsIndex = 0,
          argsLength = args.length,
          length = array ? array.length : 0;

      while (++argsIndex < argsLength) {
        var index = -1,
            value = args[argsIndex];
        while (++index < length) {
          if (array[index] === value) {
            splice.call(array, index--, 1);
            length--;
          }
        }
      }
      return array;
    }

    /**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to but not including `end`. If `start` is less than `stop` a
     * zero-length range is created unless a negative `step` is specified.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns a new range array.
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */
    function range(start, end, step) {
      start = +start || 0;
      step = typeof step == 'number' ? step : (+step || 1);

      if (end == null) {
        end = start;
        start = 0;
      }
      // use `Array(length)` so engines like Chakra and V8 avoid slower modes
      // http://youtu.be/XAqIpGU8ZZk#t=17m25s
      var index = -1,
          length = nativeMax(0, ceil((end - start) / (step || 1))),
          result = Array(length);

      while (++index < length) {
        result[index] = start;
        start += step;
      }
      return result;
    }

    /**
     * Removes all elements from an array that the callback returns truey for
     * and returns an array of removed elements. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4, 5, 6];
     * var evens = _.remove(array, function(num) { return num % 2 == 0; });
     *
     * console.log(array);
     * // => [1, 3, 5]
     *
     * console.log(evens);
     * // => [2, 4, 6]
     */
    function remove(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        var value = array[index];
        if (callback(value, index, array)) {
          result.push(value);
          splice.call(array, index--, 1);
          length--;
        }
      }
      return result;
    }

    /**
     * The opposite of `_.initial` this method gets all but the first element or
     * first `n` elements of an array. If a callback function is provided elements
     * at the beginning of the array are excluded from the result as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias drop, tail
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.rest([1, 2, 3]);
     * // => [2, 3]
     *
     * _.rest([1, 2, 3], 2);
     * // => [3]
     *
     * _.rest([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.rest(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.rest(characters, { 'employer': 'slate' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function rest(array, callback, thisArg) {
      if (typeof callback != 'number' && callback != null) {
        var n = 0,
            index = -1,
            length = array ? array.length : 0;

        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);
      }
      return slice(array, n);
    }

    /**
     * Uses a binary search to determine the smallest index at which a value
     * should be inserted into a given sorted array in order to maintain the sort
     * order of the array. If a callback is provided it will be executed for
     * `value` and each element of `array` to compute their sort ranking. The
     * callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([20, 30, 50], 40);
     * // => 2
     *
     * // using "_.pluck" callback shorthand
     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');
     * // => 2
     *
     * var dict = {
     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }
     * };
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return dict.wordToNumber[word];
     * });
     * // => 2
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return this.wordToNumber[word];
     * }, dict);
     * // => 2
     */
    function sortedIndex(array, value, callback, thisArg) {
      var low = 0,
          high = array ? array.length : low;

      // explicitly reference `identity` for better inlining in Firefox
      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;
      value = callback(value);

      while (low < high) {
        var mid = (low + high) >>> 1;
        (callback(array[mid]) < value)
          ? low = mid + 1
          : high = mid;
      }
      return low;
    }

    /**
     * Creates an array of unique values, in order, of the provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of combined values.
     * @example
     *
     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2, 3, 5, 4]
     */
    function union() {
      return baseUniq(baseFlatten(arguments, true, true));
    }

    /**
     * Creates a duplicate-value-free version of an array using strict equality
     * for comparisons, i.e. `===`. If the array is sorted, providing
     * `true` for `isSorted` will use a faster algorithm. If a callback is provided
     * each element of `array` is passed through the callback before uniqueness
     * is computed. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias unique
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a duplicate-value-free array.
     * @example
     *
     * _.uniq([1, 2, 1, 3, 1]);
     * // => [1, 2, 3]
     *
     * _.uniq([1, 1, 2, 2, 3], true);
     * // => [1, 2, 3]
     *
     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });
     * // => ['A', 'b', 'C']
     *
     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);
     * // => [1, 2.5, 3]
     *
     * // using "_.pluck" callback shorthand
     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */
    function uniq(array, isSorted, callback, thisArg) {
      // juggle arguments
      if (typeof isSorted != 'boolean' && isSorted != null) {
        thisArg = callback;
        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;
        isSorted = false;
      }
      if (callback != null) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      return baseUniq(array, isSorted, callback);
    }

    /**
     * Creates an array excluding all provided values using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to filter.
     * @param {...*} [value] The values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);
     * // => [2, 3, 4]
     */
    function without(array) {
      return baseDifference(array, slice(arguments, 1));
    }

    /**
     * Creates an array that is the symmetric difference of the provided arrays.
     * See http://en.wikipedia.org/wiki/Symmetric_difference.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of values.
     * @example
     *
     * _.xor([1, 2, 3], [5, 2, 1, 4]);
     * // => [3, 5, 4]
     *
     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);
     * // => [1, 4, 5]
     */
    function xor() {
      var index = -1,
          length = arguments.length;

      while (++index < length) {
        var array = arguments[index];
        if (isArray(array) || isArguments(array)) {
          var result = result
            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))
            : array;
        }
      }
      return result || [];
    }

    /**
     * Creates an array of grouped elements, the first of which contains the first
     * elements of the given arrays, the second of which contains the second
     * elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @alias unzip
     * @category Arrays
     * @param {...Array} [array] Arrays to process.
     * @returns {Array} Returns a new array of grouped elements.
     * @example
     *
     * _.zip(['fred', 'barney'], [30, 40], [true, false]);
     * // => [['fred', 30, true], ['barney', 40, false]]
     */
    function zip() {
      var array = arguments.length > 1 ? arguments : arguments[0],
          index = -1,
          length = array ? max(pluck(array, 'length')) : 0,
          result = Array(length < 0 ? 0 : length);

      while (++index < length) {
        result[index] = pluck(array, index);
      }
      return result;
    }

    /**
     * Creates an object composed from arrays of `keys` and `values`. Provide
     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`
     * or two arrays, one of `keys` and one of corresponding `values`.
     *
     * @static
     * @memberOf _
     * @alias object
     * @category Arrays
     * @param {Array} keys The array of keys.
     * @param {Array} [values=[]] The array of values.
     * @returns {Object} Returns an object composed of the given keys and
     *  corresponding values.
     * @example
     *
     * _.zipObject(['fred', 'barney'], [30, 40]);
     * // => { 'fred': 30, 'barney': 40 }
     */
    function zipObject(keys, values) {
      var index = -1,
          length = keys ? keys.length : 0,
          result = {};

      if (!values && length && !isArray(keys[0])) {
        values = [];
      }
      while (++index < length) {
        var key = keys[index];
        if (values) {
          result[key] = values[index];
        } else if (key) {
          result[key[0]] = key[1];
        }
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that executes `func`, with  the `this` binding and
     * arguments of the created function, only after being called `n` times.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {number} n The number of times the function must be called before
     *  `func` is executed.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('Done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => logs 'Done saving!', after all saves have completed
     */
    function after(n, func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (--n < 1) {
          return func.apply(this, arguments);
        }
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with the `this`
     * binding of `thisArg` and prepends any additional `bind` arguments to those
     * provided to the bound function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to bind.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var func = function(greeting) {
     *   return greeting + ' ' + this.name;
     * };
     *
     * func = _.bind(func, { 'name': 'fred' }, 'hi');
     * func();
     * // => 'hi fred'
     */
    function bind(func, thisArg) {
      return arguments.length > 2
        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)
        : createWrapper(func, 1, null, null, thisArg);
    }

    /**
     * Binds methods of an object to the object itself, overwriting the existing
     * method. Method names may be specified as individual arguments or as arrays
     * of method names. If no method names are provided all the function properties
     * of `object` will be bound.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...string} [methodName] The object method names to
     *  bind, specified as individual method names or arrays of method names.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'onClick': function() { console.log('clicked ' + this.label); }
     * };
     *
     * _.bindAll(view);
     * jQuery('#docs').on('click', view.onClick);
     * // => logs 'clicked docs', when the button is clicked
     */
    function bindAll(object) {
      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),
          index = -1,
          length = funcs.length;

      while (++index < length) {
        var key = funcs[index];
        object[key] = createWrapper(object[key], 1, null, null, object);
      }
      return object;
    }

    /**
     * Creates a function that, when called, invokes the method at `object[key]`
     * and prepends any additional `bindKey` arguments to those provided to the bound
     * function. This method differs from `_.bind` by allowing bound functions to
     * reference methods that will be redefined or don't yet exist.
     * See http://michaux.ca/articles/lazy-function-definition-pattern.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object the method belongs to.
     * @param {string} key The key of the method.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'name': 'fred',
     *   'greet': function(greeting) {
     *     return greeting + ' ' + this.name;
     *   }
     * };
     *
     * var func = _.bindKey(object, 'greet', 'hi');
     * func();
     * // => 'hi fred'
     *
     * object.greet = function(greeting) {
     *   return greeting + 'ya ' + this.name + '!';
     * };
     *
     * func();
     * // => 'hiya fred!'
     */
    function bindKey(object, key) {
      return arguments.length > 2
        ? createWrapper(key, 19, slice(arguments, 2), null, object)
        : createWrapper(key, 3, null, null, object);
    }

    /**
     * Creates a function that is the composition of the provided functions,
     * where each function consumes the return value of the function that follows.
     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.
     * Each function is executed with the `this` binding of the composed function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {...Function} [func] Functions to compose.
     * @returns {Function} Returns the new composed function.
     * @example
     *
     * var realNameMap = {
     *   'pebbles': 'penelope'
     * };
     *
     * var format = function(name) {
     *   name = realNameMap[name.toLowerCase()] || name;
     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
     * };
     *
     * var greet = function(formatted) {
     *   return 'Hiya ' + formatted + '!';
     * };
     *
     * var welcome = _.compose(greet, format);
     * welcome('pebbles');
     * // => 'Hiya Penelope!'
     */
    function compose() {
      var funcs = arguments,
          length = funcs.length;

      while (length--) {
        if (!isFunction(funcs[length])) {
          throw new TypeError;
        }
      }
      return function() {
        var args = arguments,
            length = funcs.length;

        while (length--) {
          args = [funcs[length].apply(this, args)];
        }
        return args[0];
      };
    }

    /**
     * Creates a function which accepts one or more arguments of `func` that when
     * invoked either executes `func` returning its result, if all `func` arguments
     * have been provided, or returns a function that accepts one or more of the
     * remaining `func` arguments, and so on. The arity of `func` can be specified
     * if `func.length` is not sufficient.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var curried = _.curry(function(a, b, c) {
     *   console.log(a + b + c);
     * });
     *
     * curried(1)(2)(3);
     * // => 6
     *
     * curried(1, 2)(3);
     * // => 6
     *
     * curried(1, 2, 3);
     * // => 6
     */
    function curry(func, arity) {
      arity = typeof arity == 'number' ? arity : (+arity || func.length);
      return createWrapper(func, 4, null, null, null, arity);
    }

    /**
     * Creates a function that will delay the execution of `func` until after
     * `wait` milliseconds have elapsed since the last time it was invoked.
     * Provide an options object to indicate that `func` should be invoked on
     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls
     * to the debounced function will return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the debounced function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to debounce.
     * @param {number} wait The number of milliseconds to delay.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.
     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // avoid costly calculations while the window size is in flux
     * var lazyLayout = _.debounce(calculateLayout, 150);
     * jQuery(window).on('resize', lazyLayout);
     *
     * // execute `sendMail` when the click event is fired, debouncing subsequent calls
     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * });
     *
     * // ensure `batchLog` is executed once after 1 second of debounced calls
     * var source = new EventSource('/stream');
     * source.addEventListener('message', _.debounce(batchLog, 250, {
     *   'maxWait': 1000
     * }, false);
     */
    function debounce(func, wait, options) {
      var args,
          maxTimeoutId,
          result,
          stamp,
          thisArg,
          timeoutId,
          trailingCall,
          lastCalled = 0,
          maxWait = false,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      wait = nativeMax(0, wait) || 0;
      if (options === true) {
        var leading = true;
        trailing = false;
      } else if (isObject(options)) {
        leading = options.leading;
        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      var delayed = function() {
        var remaining = wait - (now() - stamp);
        if (remaining <= 0) {
          if (maxTimeoutId) {
            clearTimeout(maxTimeoutId);
          }
          var isCalled = trailingCall;
          maxTimeoutId = timeoutId = trailingCall = undefined;
          if (isCalled) {
            lastCalled = now();
            result = func.apply(thisArg, args);
            if (!timeoutId && !maxTimeoutId) {
              args = thisArg = null;
            }
          }
        } else {
          timeoutId = setTimeout(delayed, remaining);
        }
      };

      var maxDelayed = function() {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        maxTimeoutId = timeoutId = trailingCall = undefined;
        if (trailing || (maxWait !== wait)) {
          lastCalled = now();
          result = func.apply(thisArg, args);
          if (!timeoutId && !maxTimeoutId) {
            args = thisArg = null;
          }
        }
      };

      return function() {
        args = arguments;
        stamp = now();
        thisArg = this;
        trailingCall = trailing && (timeoutId || !leading);

        if (maxWait === false) {
          var leadingCall = leading && !timeoutId;
        } else {
          if (!maxTimeoutId && !leading) {
            lastCalled = stamp;
          }
          var remaining = maxWait - (stamp - lastCalled),
              isCalled = remaining <= 0;

          if (isCalled) {
            if (maxTimeoutId) {
              maxTimeoutId = clearTimeout(maxTimeoutId);
            }
            lastCalled = stamp;
            result = func.apply(thisArg, args);
          }
          else if (!maxTimeoutId) {
            maxTimeoutId = setTimeout(maxDelayed, remaining);
          }
        }
        if (isCalled && timeoutId) {
          timeoutId = clearTimeout(timeoutId);
        }
        else if (!timeoutId && wait !== maxWait) {
          timeoutId = setTimeout(delayed, wait);
        }
        if (leadingCall) {
          isCalled = true;
          result = func.apply(thisArg, args);
        }
        if (isCalled && !timeoutId && !maxTimeoutId) {
          args = thisArg = null;
        }
        return result;
      };
    }

    /**
     * Defers executing the `func` function until the current call stack has cleared.
     * Additional arguments will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to defer.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) { console.log(text); }, 'deferred');
     * // logs 'deferred' after one or more milliseconds
     */
    function defer(func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 1);
      return setTimeout(function() { func.apply(undefined, args); }, 1);
    }

    /**
     * Executes the `func` function after `wait` milliseconds. Additional arguments
     * will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay execution.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) { console.log(text); }, 1000, 'later');
     * // => logs 'later' after one second
     */
    function delay(func, wait) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 2);
      return setTimeout(function() { func.apply(undefined, args); }, wait);
    }

    /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided it will be used to determine the cache key for storing the result
     * based on the arguments provided to the memoized function. By default, the
     * first argument provided to the memoized function is used as the cache key.
     * The `func` is executed with the `this` binding of the memoized function.
     * The result cache is exposed as the `cache` property on the memoized function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] A function used to resolve the cache key.
     * @returns {Function} Returns the new memoizing function.
     * @example
     *
     * var fibonacci = _.memoize(function(n) {
     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
     * });
     *
     * fibonacci(9)
     * // => 34
     *
     * var data = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // modifying the result cache
     * var get = _.memoize(function(name) { return data[name]; }, _.identity);
     * get('pebbles');
     * // => { 'name': 'pebbles', 'age': 1 }
     *
     * get.cache.pebbles.name = 'penelope';
     * get('pebbles');
     * // => { 'name': 'penelope', 'age': 1 }
     */
    function memoize(func, resolver) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var memoized = function() {
        var cache = memoized.cache,
            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];

        return hasOwnProperty.call(cache, key)
          ? cache[key]
          : (cache[key] = func.apply(this, arguments));
      }
      memoized.cache = {};
      return memoized;
    }

    /**
     * Creates a function that is restricted to execute `func` once. Repeat calls to
     * the function will return the value of the first call. The `func` is executed
     * with the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // `initialize` executes `createApplication` once
     */
    function once(func) {
      var ran,
          result;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (ran) {
          return result;
        }
        ran = true;
        result = func.apply(this, arguments);

        // clear the `func` variable so the function may be garbage collected
        func = null;
        return result;
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with any additional
     * `partial` arguments prepended to those provided to the new function. This
     * method is similar to `_.bind` except it does **not** alter the `this` binding.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var greet = function(greeting, name) { return greeting + ' ' + name; };
     * var hi = _.partial(greet, 'hi');
     * hi('fred');
     * // => 'hi fred'
     */
    function partial(func) {
      return createWrapper(func, 16, slice(arguments, 1));
    }

    /**
     * This method is like `_.partial` except that `partial` arguments are
     * appended to those provided to the new function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var defaultsDeep = _.partialRight(_.merge, _.defaults);
     *
     * var options = {
     *   'variable': 'data',
     *   'imports': { 'jq': $ }
     * };
     *
     * defaultsDeep(options, _.templateSettings);
     *
     * options.variable
     * // => 'data'
     *
     * options.imports
     * // => { '_': _, 'jq': $ }
     */
    function partialRight(func) {
      return createWrapper(func, 32, null, slice(arguments, 1));
    }

    /**
     * Creates a function that, when executed, will only call the `func` function
     * at most once per every `wait` milliseconds. Provide an options object to
     * indicate that `func` should be invoked on the leading and/or trailing edge
     * of the `wait` timeout. Subsequent calls to the throttled function will
     * return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the throttled function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to throttle.
     * @param {number} wait The number of milliseconds to throttle executions to.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // avoid excessively updating the position while scrolling
     * var throttled = _.throttle(updatePosition, 100);
     * jQuery(window).on('scroll', throttled);
     *
     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes
     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {
     *   'trailing': false
     * }));
     */
    function throttle(func, wait, options) {
      var leading = true,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      if (options === false) {
        leading = false;
      } else if (isObject(options)) {
        leading = 'leading' in options ? options.leading : leading;
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      debounceOptions.leading = leading;
      debounceOptions.maxWait = wait;
      debounceOptions.trailing = trailing;

      return debounce(func, wait, debounceOptions);
    }

    /**
     * Creates a function that provides `value` to the wrapper function as its
     * first argument. Additional arguments provided to the function are appended
     * to those provided to the wrapper function. The wrapper is executed with
     * the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {*} value The value to wrap.
     * @param {Function} wrapper The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('Fred, Wilma, & Pebbles');
     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'
     */
    function wrap(value, wrapper) {
      return createWrapper(wrapper, 16, [value]);
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var getter = _.constant(object);
     * getter() === object;
     * // => true
     */
    function constant(value) {
      return function() {
        return value;
      };
    }

    /**
     * Produces a callback bound to an optional `thisArg`. If `func` is a property
     * name the created callback will return the property value for a given element.
     * If `func` is an object the created callback will return `true` for elements
     * that contain the equivalent object properties, otherwise it will return `false`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // wrap to create custom callback shorthands
     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {
     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);
     *   return !match ? func(callback, thisArg) : function(object) {
     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];
     *   };
     * });
     *
     * _.filter(characters, 'age__gt38');
     * // => [{ 'name': 'fred', 'age': 40 }]
     */
    function createCallback(func, thisArg, argCount) {
      var type = typeof func;
      if (func == null || type == 'function') {
        return baseCreateCallback(func, thisArg, argCount);
      }
      // handle "_.pluck" style callback shorthands
      if (type != 'object') {
        return property(func);
      }
      var props = keys(func),
          key = props[0],
          a = func[key];

      // handle "_.where" style callback shorthands
      if (props.length == 1 && a === a && !isObject(a)) {
        // fast path the common case of providing an object with a single
        // property containing a primitive value
        return function(object) {
          var b = object[key];
          return a === b && (a !== 0 || (1 / a == 1 / b));
        };
      }
      return function(object) {
        var length = props.length,
            result = false;

        while (length--) {
          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {
            break;
          }
        }
        return result;
      };
    }

    /**
     * Converts the characters `&`, `<`, `>`, `"`, and `'` in `string` to their
     * corresponding HTML entities.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('Fred, Wilma, & Pebbles');
     * // => 'Fred, Wilma, &amp; Pebbles'
     */
    function escape(string) {
      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);
    }

    /**
     * This method returns the first argument provided to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.identity(object) === object;
     * // => true
     */
    function identity(value) {
      return value;
    }

    /**
     * Adds function properties of a source object to the destination object.
     * If `object` is a function methods will be added to its prototype as well.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Function|Object} [object=lodash] object The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.
     * @example
     *
     * function capitalize(string) {
     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
     * }
     *
     * _.mixin({ 'capitalize': capitalize });
     * _.capitalize('fred');
     * // => 'Fred'
     *
     * _('fred').capitalize().value();
     * // => 'Fred'
     *
     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });
     * _('fred').capitalize();
     * // => 'Fred'
     */
    function mixin(object, source, options) {
      var chain = true,
          methodNames = source && functions(source);

      if (!source || (!options && !methodNames.length)) {
        if (options == null) {
          options = source;
        }
        ctor = lodashWrapper;
        source = object;
        object = lodash;
        methodNames = functions(source);
      }
      if (options === false) {
        chain = false;
      } else if (isObject(options) && 'chain' in options) {
        chain = options.chain;
      }
      var ctor = object,
          isFunc = isFunction(ctor);

      forEach(methodNames, function(methodName) {
        var func = object[methodName] = source[methodName];
        if (isFunc) {
          ctor.prototype[methodName] = function() {
            var chainAll = this.__chain__,
                value = this.__wrapped__,
                args = [value];

            push.apply(args, arguments);
            var result = func.apply(object, args);
            if (chain || chainAll) {
              if (value === result && isObject(result)) {
                return this;
              }
              result = new ctor(result);
              result.__chain__ = chainAll;
            }
            return result;
          };
        }
      });
    }

    /**
     * Reverts the '_' variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */
    function noConflict() {
      context._ = oldDash;
      return this;
    }

    /**
     * A no-operation function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.noop(object) === undefined;
     * // => true
     */
    function noop() {
      // no operation performed
    }

    /**
     * Gets the number of milliseconds that have elapsed since the Unix epoch
     * (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var stamp = _.now();
     * _.defer(function() { console.log(_.now() - stamp); });
     * // => logs the number of milliseconds it took for the deferred function to be called
     */
    var now = isNative(now = Date.now) && now || function() {
      return new Date().getTime();
    };

    /**
     * Converts the given value into an integer of the specified radix.
     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the
     * `value` is a hexadecimal, in which case a `radix` of `16` is used.
     *
     * Note: This method avoids differences in native ES3 and ES5 `parseInt`
     * implementations. See http://es5.github.io/#E.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} value The value to parse.
     * @param {number} [radix] The radix used to interpret the value to parse.
     * @returns {number} Returns the new integer value.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     */
    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {
      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`
      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);
    };

    /**
     * Creates a "_.pluck" style function, which returns the `key` value of a
     * given object.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} key The name of the property to retrieve.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var characters = [
     *   { 'name': 'fred',   'age': 40 },
     *   { 'name': 'barney', 'age': 36 }
     * ];
     *
     * var getName = _.property('name');
     *
     * _.map(characters, getName);
     * // => ['barney', 'fred']
     *
     * _.sortBy(characters, getName);
     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]
     */
    function property(key) {
      return function(object) {
        return object[key];
      };
    }

    /**
     * Produces a random number between `min` and `max` (inclusive). If only one
     * argument is provided a number between `0` and the given number will be
     * returned. If `floating` is truey or either `min` or `max` are floats a
     * floating-point number will be returned instead of an integer.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} [min=0] The minimum possible value.
     * @param {number} [max=1] The maximum possible value.
     * @param {boolean} [floating=false] Specify returning a floating-point number.
     * @returns {number} Returns a random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */
    function random(min, max, floating) {
      var noMin = min == null,
          noMax = max == null;

      if (floating == null) {
        if (typeof min == 'boolean' && noMax) {
          floating = min;
          min = 1;
        }
        else if (!noMax && typeof max == 'boolean') {
          floating = max;
          noMax = true;
        }
      }
      if (noMin && noMax) {
        max = 1;
      }
      min = +min || 0;
      if (noMax) {
        max = min;
        min = 0;
      } else {
        max = +max || 0;
      }
      if (floating || min % 1 || max % 1) {
        var rand = nativeRandom();
        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);
      }
      return baseRandom(min, max);
    }

    /**
     * Resolves the value of property `key` on `object`. If `key` is a function
     * it will be invoked with the `this` binding of `object` and its result returned,
     * else the property value is returned. If `object` is falsey then `undefined`
     * is returned.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to resolve.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = {
     *   'cheese': 'crumpets',
     *   'stuff': function() {
     *     return 'nonsense';
     *   }
     * };
     *
     * _.result(object, 'cheese');
     * // => 'crumpets'
     *
     * _.result(object, 'stuff');
     * // => 'nonsense'
     */
    function result(object, key) {
      if (object) {
        var value = object[key];
        return isFunction(value) ? object[key]() : value;
      }
    }

    /**
     * A micro-templating method that handles arbitrary delimiters, preserves
     * whitespace, and correctly escapes quotes within interpolated code.
     *
     * Note: In the development build, `_.template` utilizes sourceURLs for easier
     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
     *
     * For more information on precompiling templates see:
     * http://lodash.com/custom-builds
     *
     * For more information on Chrome extension sandboxes see:
     * http://developer.chrome.com/stable/extensions/sandboxingEval.html
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} text The template text.
     * @param {Object} data The data object used to populate the text.
     * @param {Object} [options] The options object.
     * @param {RegExp} [options.escape] The "escape" delimiter.
     * @param {RegExp} [options.evaluate] The "evaluate" delimiter.
     * @param {Object} [options.imports] An object to import into the template as local variables.
     * @param {RegExp} [options.interpolate] The "interpolate" delimiter.
     * @param {string} [sourceURL] The sourceURL of the template's compiled source.
     * @param {string} [variable] The data object variable name.
     * @returns {Function|string} Returns a compiled function when no `data` object
     *  is given, else it returns the interpolated text.
     * @example
     *
     * // using the "interpolate" delimiter to create a compiled template
     * var compiled = _.template('hello <%= name %>');
     * compiled({ 'name': 'fred' });
     * // => 'hello fred'
     *
     * // using the "escape" delimiter to escape HTML in data property values
     * _.template('<b><%- value %></b>', { 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // using the "evaluate" delimiter to generate HTML
     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the ES6 delimiter as an alternative to the default "interpolate" delimiter
     * _.template('hello ${ name }', { 'name': 'pebbles' });
     * // => 'hello pebbles'
     *
     * // using the internal `print` function in "evaluate" delimiters
     * _.template('<% print("hello " + name); %>!', { 'name': 'barney' });
     * // => 'hello barney!'
     *
     * // using a custom template delimiters
     * _.templateSettings = {
     *   'interpolate': /{{([\s\S]+?)}}/g
     * };
     *
     * _.template('hello {{ name }}!', { 'name': 'mustache' });
     * // => 'hello mustache!'
     *
     * // using the `imports` option to import jQuery
     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the `sourceURL` option to specify a custom sourceURL for the template
     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector
     *
     * // using the `variable` option to ensure a with-statement isn't used in the compiled template
     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     *   var __t, __p = '', __e = _.escape;
     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';
     *   return __p;
     * }
     *
     * // using the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and a stack trace
     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */
    function template(text, data, options) {
      // based on John Resig's `tmpl` implementation
      // http://ejohn.org/blog/javascript-micro-templating/
      // and Laura Doktorova's doT.js
      // https://github.com/olado/doT
      var settings = lodash.templateSettings;
      text = String(text || '');

      // avoid missing dependencies when `iteratorTemplate` is not defined
      options = defaults({}, options, settings);

      var imports = defaults({}, options.imports, settings.imports),
          importsKeys = keys(imports),
          importsValues = values(imports);

      var isEvaluating,
          index = 0,
          interpolate = options.interpolate || reNoMatch,
          source = "__p += '";

      // compile the regexp to match each delimiter
      var reDelimiters = RegExp(
        (options.escape || reNoMatch).source + '|' +
        interpolate.source + '|' +
        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +
        (options.evaluate || reNoMatch).source + '|$'
      , 'g');

      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
        interpolateValue || (interpolateValue = esTemplateValue);

        // escape characters that cannot be included in string literals
        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);

        // replace delimiters with snippets
        if (escapeValue) {
          source += "' +\n__e(" + escapeValue + ") +\n'";
        }
        if (evaluateValue) {
          isEvaluating = true;
          source += "';\n" + evaluateValue + ";\n__p += '";
        }
        if (interpolateValue) {
          source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
        }
        index = offset + match.length;

        // the JS engine embedded in Adobe products requires returning the `match`
        // string in order to produce the correct `offset` value
        return match;
      });

      source += "';\n";

      // if `variable` is not specified, wrap a with-statement around the generated
      // code to add the data object to the top of the scope chain
      var variable = options.variable,
          hasVariable = variable;

      if (!hasVariable) {
        variable = 'obj';
        source = 'with (' + variable + ') {\n' + source + '\n}\n';
      }
      // cleanup code by stripping empty strings
      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)
        .replace(reEmptyStringMiddle, '$1')
        .replace(reEmptyStringTrailing, '$1;');

      // frame code as the function body
      source = 'function(' + variable + ') {\n' +
        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\n') +
        "var __t, __p = '', __e = _.escape" +
        (isEvaluating
          ? ', __j = Array.prototype.join;\n' +
            "function print() { __p += __j.call(arguments, '') }\n"
          : ';\n'
        ) +
        source +
        'return __p\n}';

      // Use a sourceURL for easier debugging.
      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
      var sourceURL = '\n/*\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\n*/';

      try {
        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);
      } catch(e) {
        e.source = source;
        throw e;
      }
      if (data) {
        return result(data);
      }
      // provide the compiled function's source by its `toString` method, in
      // supported environments, or the `source` property as a convenience for
      // inlining compiled templates during the build process
      result.source = source;
      return result;
    }

    /**
     * Executes the callback `n` times, returning an array of the results
     * of each callback execution. The callback is bound to `thisArg` and invoked
     * with one argument; (index).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} n The number of times to execute the callback.
     * @param {Function} callback The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns an array of the results of each `callback` execution.
     * @example
     *
     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));
     * // => [3, 6, 4]
     *
     * _.times(3, function(n) { mage.castSpell(n); });
     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively
     *
     * _.times(3, function(n) { this.cast(n); }, mage);
     * // => also calls `mage.castSpell(n)` three times
     */
    function times(n, callback, thisArg) {
      n = (n = +n) > -1 ? n : 0;
      var index = -1,
          result = Array(n);

      callback = baseCreateCallback(callback, thisArg, 1);
      while (++index < n) {
        result[index] = callback(index);
      }
      return result;
    }

    /**
     * The inverse of `_.escape` this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their
     * corresponding characters.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('Fred, Barney &amp; Pebbles');
     * // => 'Fred, Barney & Pebbles'
     */
    function unescape(string) {
      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);
    }

    /**
     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} [prefix] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */
    function uniqueId(prefix) {
      var id = ++idCounter;
      return String(prefix == null ? '' : prefix) + id;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object that wraps the given value with explicit
     * method chaining enabled.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _.chain(characters)
     *     .sortBy('age')
     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })
     *     .first()
     *     .value();
     * // => 'pebbles is 1'
     */
    function chain(value) {
      value = new lodashWrapper(value);
      value.__chain__ = true;
      return value;
    }

    /**
     * Invokes `interceptor` with the `value` as the first argument and then
     * returns `value`. The purpose of this method is to "tap into" a method
     * chain in order to perform operations on intermediate results within
     * the chain.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3, 4])
     *  .tap(function(array) { array.pop(); })
     *  .reverse()
     *  .value();
     * // => [3, 2, 1]
     */
    function tap(value, interceptor) {
      interceptor(value);
      return value;
    }

    /**
     * Enables explicit method chaining on the wrapper object.
     *
     * @name chain
     * @memberOf _
     * @category Chaining
     * @returns {*} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // without explicit chaining
     * _(characters).first();
     * // => { 'name': 'barney', 'age': 36 }
     *
     * // with explicit chaining
     * _(characters).chain()
     *   .first()
     *   .pick('age')
     *   .value();
     * // => { 'age': 36 }
     */
    function wrapperChain() {
      this.__chain__ = true;
      return this;
    }

    /**
     * Produces the `toString` result of the wrapped value.
     *
     * @name toString
     * @memberOf _
     * @category Chaining
     * @returns {string} Returns the string result.
     * @example
     *
     * _([1, 2, 3]).toString();
     * // => '1,2,3'
     */
    function wrapperToString() {
      return String(this.__wrapped__);
    }

    /**
     * Extracts the wrapped value.
     *
     * @name valueOf
     * @memberOf _
     * @alias value
     * @category Chaining
     * @returns {*} Returns the wrapped value.
     * @example
     *
     * _([1, 2, 3]).valueOf();
     * // => [1, 2, 3]
     */
    function wrapperValueOf() {
      return this.__wrapped__;
    }

    /*--------------------------------------------------------------------------*/

    // add functions that return wrapped values when chaining
    lodash.after = after;
    lodash.assign = assign;
    lodash.at = at;
    lodash.bind = bind;
    lodash.bindAll = bindAll;
    lodash.bindKey = bindKey;
    lodash.chain = chain;
    lodash.compact = compact;
    lodash.compose = compose;
    lodash.constant = constant;
    lodash.countBy = countBy;
    lodash.create = create;
    lodash.createCallback = createCallback;
    lodash.curry = curry;
    lodash.debounce = debounce;
    lodash.defaults = defaults;
    lodash.defer = defer;
    lodash.delay = delay;
    lodash.difference = difference;
    lodash.filter = filter;
    lodash.flatten = flatten;
    lodash.forEach = forEach;
    lodash.forEachRight = forEachRight;
    lodash.forIn = forIn;
    lodash.forInRight = forInRight;
    lodash.forOwn = forOwn;
    lodash.forOwnRight = forOwnRight;
    lodash.functions = functions;
    lodash.groupBy = groupBy;
    lodash.indexBy = indexBy;
    lodash.initial = initial;
    lodash.intersection = intersection;
    lodash.invert = invert;
    lodash.invoke = invoke;
    lodash.keys = keys;
    lodash.map = map;
    lodash.mapValues = mapValues;
    lodash.max = max;
    lodash.memoize = memoize;
    lodash.merge = merge;
    lodash.min = min;
    lodash.omit = omit;
    lodash.once = once;
    lodash.pairs = pairs;
    lodash.partial = partial;
    lodash.partialRight = partialRight;
    lodash.pick = pick;
    lodash.pluck = pluck;
    lodash.property = property;
    lodash.pull = pull;
    lodash.range = range;
    lodash.reject = reject;
    lodash.remove = remove;
    lodash.rest = rest;
    lodash.shuffle = shuffle;
    lodash.sortBy = sortBy;
    lodash.tap = tap;
    lodash.throttle = throttle;
    lodash.times = times;
    lodash.toArray = toArray;
    lodash.transform = transform;
    lodash.union = union;
    lodash.uniq = uniq;
    lodash.values = values;
    lodash.where = where;
    lodash.without = without;
    lodash.wrap = wrap;
    lodash.xor = xor;
    lodash.zip = zip;
    lodash.zipObject = zipObject;

    // add aliases
    lodash.collect = map;
    lodash.drop = rest;
    lodash.each = forEach;
    lodash.eachRight = forEachRight;
    lodash.extend = assign;
    lodash.methods = functions;
    lodash.object = zipObject;
    lodash.select = filter;
    lodash.tail = rest;
    lodash.unique = uniq;
    lodash.unzip = zip;

    // add functions to `lodash.prototype`
    mixin(lodash);

    /*--------------------------------------------------------------------------*/

    // add functions that return unwrapped values when chaining
    lodash.clone = clone;
    lodash.cloneDeep = cloneDeep;
    lodash.contains = contains;
    lodash.escape = escape;
    lodash.every = every;
    lodash.find = find;
    lodash.findIndex = findIndex;
    lodash.findKey = findKey;
    lodash.findLast = findLast;
    lodash.findLastIndex = findLastIndex;
    lodash.findLastKey = findLastKey;
    lodash.has = has;
    lodash.identity = identity;
    lodash.indexOf = indexOf;
    lodash.isArguments = isArguments;
    lodash.isArray = isArray;
    lodash.isBoolean = isBoolean;
    lodash.isDate = isDate;
    lodash.isElement = isElement;
    lodash.isEmpty = isEmpty;
    lodash.isEqual = isEqual;
    lodash.isFinite = isFinite;
    lodash.isFunction = isFunction;
    lodash.isNaN = isNaN;
    lodash.isNull = isNull;
    lodash.isNumber = isNumber;
    lodash.isObject = isObject;
    lodash.isPlainObject = isPlainObject;
    lodash.isRegExp = isRegExp;
    lodash.isString = isString;
    lodash.isUndefined = isUndefined;
    lodash.lastIndexOf = lastIndexOf;
    lodash.mixin = mixin;
    lodash.noConflict = noConflict;
    lodash.noop = noop;
    lodash.now = now;
    lodash.parseInt = parseInt;
    lodash.random = random;
    lodash.reduce = reduce;
    lodash.reduceRight = reduceRight;
    lodash.result = result;
    lodash.runInContext = runInContext;
    lodash.size = size;
    lodash.some = some;
    lodash.sortedIndex = sortedIndex;
    lodash.template = template;
    lodash.unescape = unescape;
    lodash.uniqueId = uniqueId;

    // add aliases
    lodash.all = every;
    lodash.any = some;
    lodash.detect = find;
    lodash.findWhere = find;
    lodash.foldl = reduce;
    lodash.foldr = reduceRight;
    lodash.include = contains;
    lodash.inject = reduce;

    mixin(function() {
      var source = {}
      forOwn(lodash, function(func, methodName) {
        if (!lodash.prototype[methodName]) {
          source[methodName] = func;
        }
      });
      return source;
    }(), false);

    /*--------------------------------------------------------------------------*/

    // add functions capable of returning wrapped and unwrapped values when chaining
    lodash.first = first;
    lodash.last = last;
    lodash.sample = sample;

    // add aliases
    lodash.take = first;
    lodash.head = first;

    forOwn(lodash, function(func, methodName) {
      var callbackable = methodName !== 'sample';
      if (!lodash.prototype[methodName]) {
        lodash.prototype[methodName]= function(n, guard) {
          var chainAll = this.__chain__,
              result = func(this.__wrapped__, n, guard);

          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))
            ? result
            : new lodashWrapper(result, chainAll);
        };
      }
    });

    /*--------------------------------------------------------------------------*/

    /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type string
     */
    lodash.VERSION = '2.4.1';

    // add "Chaining" functions to the wrapper
    lodash.prototype.chain = wrapperChain;
    lodash.prototype.toString = wrapperToString;
    lodash.prototype.value = wrapperValueOf;
    lodash.prototype.valueOf = wrapperValueOf;

    // add `Array` functions that return unwrapped values
    forEach(['join', 'pop', 'shift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        var chainAll = this.__chain__,
            result = func.apply(this.__wrapped__, arguments);

        return chainAll
          ? new lodashWrapper(result, chainAll)
          : result;
      };
    });

    // add `Array` functions that return the existing wrapped value
    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        func.apply(this.__wrapped__, arguments);
        return this;
      };
    });

    // add `Array` functions that return new wrapped values
    forEach(['concat', 'slice', 'splice'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);
      };
    });

    return lodash;
  }

  /*--------------------------------------------------------------------------*/

  // expose Lo-Dash
  var _ = runInContext();

  // some AMD build optimizers like r.js check for condition patterns like the following:
  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
    // Expose Lo-Dash to the global object even when an AMD loader is present in
    // case Lo-Dash is loaded with a RequireJS shim config.
    // See http://requirejs.org/docs/api.html#config-shim
    root._ = _;

    // define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module
    define(function() {
      return _;
    });
  }
  // check for `exports` after `define` in case a build optimizer adds an `exports` object
  else if (freeExports && freeModule) {
    // in Node.js or RingoJS
    if (moduleExports) {
      (freeModule.exports = _)._ = _;
    }
    // in Narwhal or Rhino -require
    else {
      freeExports._ = _;
    }
  }
  else {
    // in a browser or Rhino
    root._ = _;
  }
}.call(this));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\CursorHint.js":[function(require,module,exports){
"use strict";

var _ = require("lodash");

function CursorHint() {
    this._createBase();

    this._onMove = this._createOnMove().bind(this);
}

var p = CursorHint.prototype;
module.exports = CursorHint;

p.setHints = function (hints) {
    var _this = this;


    this.domElem.innerHTML = "";

    if (_.isArray(hints)) {
        hints.forEach(function (itemOpt) {
            _this._createItem(itemOpt);
        });

        this._active = true;
        this._onMove();
        window.addEventListener("mousemove", this._onMove);
    } else {
        this._active = false;
        this._onMove();
        window.removeEventListener("mousemove", this._onMove);
    }
};

p._createOnMove = function () {
    var _this = this;


    var showSetT,
        delay = 879,
        showing = false,
        x = 0,
        y = 0;

    var show = function () {
        if (!_this._active) return;

        showing = true;

        _this.domElem.style.left = x + 7 + "px";
        _this.domElem.style.top = y + 7 + "px";
        document.body.appendChild(_this.domElem);
    };

    var hide = function () {
        showing = false;

        document.body.removeChild(_this.domElem);
    };

    return function (e) {
        if (showing) hide();

        if (e) {
            x = e.x;
            y = e.y;
        }

        clearTimeout(showSetT);
        showSetT = setTimeout(show, delay);
    };
};

p._createBase = function () {
    this.domElem = document.createElement("ul");
    this.domElem.style.position = "fixed";
    this.domElem.style.listStyleType = "none";
    this.domElem.style.margin = 0;
    this.domElem.style.padding = 0;
    this.domElem.style.pointerEvents = "none";
};

p._createItem = function (opt) {
    if (typeof opt === "string") {
        opt = { text: opt };
    }

    var li = document.createElement("li");
    li.style.textAlign = "left";
    li.style.fontFamily = "\"Open Sans\", sans-serif";
    li.style.fontSize = "14px";
    li.style.padding = "0 3px";
    li.style.cursor = "pointer";
    li.style.color = "#000";
    li.style.background = "rgba(222,232,222,.785)";
    li.innerHTML = opt.text;


    this.domElem.appendChild(li);
};
},{"lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js":[function(require,module,exports){
"use strict";

var Transformer = require("./hands/Transformer");
var Boxer = require("./hands/Boxer");
var Curver = require("./hands/curver/Curver");
var CursorHint = require("./CursorHint");
var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

function Transhand() {
    EventEmitter.call(this);

    this._hands = {};

    this._buffMockDiv = [];

    this._createDomElem();

    this.cursorHint = new CursorHint();

    Object.defineProperty(this.domElem, "renderLevel", {
        get: (function () {
            return this._currHand && this._currHand.renderLevel || 0;
        }).bind(this) });


    // [Transformer, Boxer, Curver].forEach(function (Hand) {

    //     var hand = new Hand(this);

    //     hand.on('change', this.emit.bind(this, 'change'));

    //     this.hands[Hand.id] = hand;
    // }, this);
}

inherits(Transhand, EventEmitter);
var p = Transhand.prototype;
module.exports = Transhand;

p.setup = function (opt) {
    var hand = this._getHand(opt.hand.type);

    if (this._currHand && this._currHand !== hand) {
        this.deactivate();
    }

    if (hand) {
        hand.setup(opt.hand);
        this._currHand = hand;
    } else {
        throw "Unknown hand type: " + opt.hand.type;
    }

    if (typeof opt.on === "object") {
        Object.keys(opt.on).forEach(function (eventType) {
            this.on(eventType, opt.on[eventType]);
        }, this);
    }
};

p.activate = function () {
    if (this._currHand) {
        this._currHand.activate();

        this.domElem.appendChild(this._currHand.domElem);
    }
};

p.deactivate = function () {
    if (this._currHand) {
        this._currHand.deactivate();

        if (this._currHand.domElem.parentNode === this.domElem) {
            this.domElem.removeChild(this._currHand.domElem);
        }
    }
};

p._getHand = function (type) {
    if (type in this._hands) {
        return this._hands[type];
    }

    var Hand = _.find([Transformer, Boxer, Curver], { id: type });

    if (!Hand) throw Error;

    var hand = new Hand(this);
    hand.on("change", this.emit.bind(this, "change"));
    this._hands[Hand.id] = hand;

    return hand;
};

p._createDomElem = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.position = "fixed";
    this.domElem.style.pointerEvents = "none";
    this.domElem.style.left = "0px";
    this.domElem.style.top = "0px";
    this.domElem.style.width = "100%";
    this.domElem.style.height = "100%";
};



















p.L2G = function (p) {
    if (!this._deLocalRootPicker) {
        return p;
    }

    this._deLocalRootPicker.style.left = p.x + "px";
    this._deLocalRootPicker.style.top = p.y + "px";

    document.body.appendChild(this._deLocalRoot);
    var br = this._deLocalRootPicker.getBoundingClientRect();
    document.body.removeChild(this._deLocalRoot);

    return {
        x: br.left,
        y: br.top };
};

p.G2L = function (p) {
    if (!this._deLocalRootPicker) {
        return p;
    }

    document.body.appendChild(this._deLocalRoot);
    var ret = nastyLocal2Global(p, this._deLocalRootPicker);
    document.body.removeChild(this._deLocalRoot);

    return ret;
};

var tProps = ["transform", "transformOrigin", "prespective", "prespectiveOrigin", "transformStyle"];

p.setLocalRoot = function (de) {
    var that = this,
        deRoot = getDiv(),
        deTop = deRoot,
        dePicker = getDiv(),
        transformeds = [],
        parentPos = { left: -window.scrollX, top: -window.scrollY },
        assembleIdx = 0;

    if (this._deLocalRoot) {
        disassemble(this._deLocalRoot);
    }

    walkBack(de);
    assemble();

    deTop.appendChild(dePicker);

    this._deLocalRoot = deRoot;
    this._deLocalRootPicker = dePicker;
    this._deLocalRootPicker.setAttribute("picker", 1); //debug
    // document.body.appendChild(this._deLocalRoot);


    function walkBack(de) {
        if (de.nodeName === "BODY") return;

        var computedStyle = window.getComputedStyle(de),
            reg,
            pv;

        tProps.forEach(function (propName) {
            var value = computedStyle.getPropertyValue(propName);
            if (value) set(propName, value);
        });

        walkBack(de.parentNode);

        function set(propName, value) {
            if (!reg) {
                reg = {
                    de: de,
                    inlineTransform: de.style.transform,
                    style: {}
                };

                transformeds.unshift(reg);
            }

            de.style.transform = "none";

            reg.style[propName] = value;
        }
    }

    function assemble() {
        var transformReg = transformeds[assembleIdx++],
            deNext = transformReg ? transformReg.de : de,
            nextPos = deNext.getBoundingClientRect();

        var deNew = getDiv();
        deTop.appendChild(deNew);
        deTop = deNew;

        deNew.style.left = nextPos.left - parentPos.left + "px";
        deNew.style.top = nextPos.top - parentPos.top + "px";

        parentPos = nextPos;

        if (transformReg) {
            //for the transform and perspective origin
            deNew.style.width = nextPos.width + "px";
            deNew.style.height = nextPos.height + "px";

            Object.keys(transformReg.style).forEach(function (propName) {
                deNew.style[propName] = transformReg.style[propName];
            });

            assemble();
        }
    }

    transformeds.forEach(function (reg) {
        reg.de.style.transform = reg.inlineTransform;
    });
    transformeds.length = 0;

    function disassemble(de) {
        de.removeAttribute("style");
        de.removeAttribute("picker"); //debug
        that._buffMockDiv.push(de);

        var child = de.firstChild;
        if (child) {
            de.removeChild(child);
            disassemble(child);
        }
    }

    function getDiv() {
        var de = that._buffMockDiv.pop() || document.createElement("div");
        de.style.position = "absolute";
        de.style.left = "0px";
        de.style.top = "0px";
        de.setAttribute("mock", 1); //debug

        return de;
    }

    // function assemble(de) {

    //     if (de.nodeName === 'BODY') return;

    //     var transformed,
    //         computedStyle = window.getComputedStyle(de, null),
    //         position = $(de).position();

    //     if (de.offsetLeft) {
    //         deRoot.style.left = (parseInt(deRoot.style.left || 0))
    //             + position.left
    //             /*+ parseInt(computedStyle.getPropertyValue('margin-left'))*/ + 'px';
    //     }
    //     if (de.offsetTop) {
    //         deRoot.style.top = (parseInt(deRoot.style.top || 0))
    //             + position.top
    //             /*+ parseInt(computedStyle.getPropertyValue('margin-top'))*/ + 'px';
    //     }

    //     if (de.style.transform) {
    //         transformed = true;
    //         deRoot.style.transform = de.style.transform;
    //         //for the transform-origin
    //         deRoot.style.width = (parseInt(deRoot.style.width || 0) + de.offsetWidth) + 'px';
    //         deRoot.style.height = (parseInt(deRoot.style.height || 0) + de.offsetHeight) + 'px';

    //         if (de.style.transformOrigin) {
    //             deRoot.style.transformOrigin = de.style.transformOrigin;
    //         }
    //     }
    //     if (de.style.prespective) {
    //         transformed = true;
    //         deRoot.style.prespective = de.style.prespective;

    //         if (de.style.prespectiveOrigin) {
    //             deRoot.style.prespectiveOrigin = de.style.prespectiveOrigin;
    //         }
    //     }
    //     if (de.style.transformStyle) {
    //         transformed = true;
    //         deRoot.style.transformStyle = de.style.transformStyle;
    //     }

    //     if (transformed) {

    //         var parent = getDiv();
    //         parent.appendChild(deRoot);
    //         deRoot = parent;
    //     }

    //     assemble(de.parentNode);
    // }
};














function nastyLocal2Global(mPos, dePicker) {
    var tweakDist = 128,
        tweakDistStep = 0,
        tweakRad = Math.PI / 2,
        dist = tweakDist * 2,
        rad = 0,
        nullPos = { x: 0, y: 0 },
        globalNullPos = L2G(nullPos),
        globalRad = getRad(globalNullPos, mPos),
        globalDist = posDist(globalNullPos, mPos);

    while (tweakRad > 0.000001) {
        var globalTestRad = getRad(mPos, L2G(Rad2Pos(rad, tweakDist)));

        if (radDiff(globalRad, globalTestRad) < 0) {
            rad += tweakRad;
        } else {
            rad -= tweakRad;
        }

        tweakRad /= 2;
    }


    while (posDist(globalNullPos, L2G(Rad2Pos(rad, dist + 2 * tweakDist))) < globalDist && dist < tweakDist * 64) {
        dist += 4 * tweakDist;
    }

    while (tweakDist > 1) {
        if (posDist(globalNullPos, L2G(Rad2Pos(rad, dist))) < globalDist) {
            dist += tweakDist;
        } else {
            dist -= tweakDist;
        }

        tweakDist /= 2;
    }

    return Rad2Pos(rad, dist);




    function closestRad(aRad, bRad) {
        var aPos = L2G(Rad2Pos(aRad, tweakDist)),
            bPos = L2G(Rad2Pos(bRad, tweakDist)),
            gARad = getRad(globalNullPos, aPos),
            gBRad = getRad(globalNullPos, bPos);


        $("#s0").css("left", aPos.x);
        $("#s0").css("top", aPos.y);
        $("#s1").css("left", bPos.x);
        $("#s1").css("top", bPos.y);

        return radDiff(gARad, globalRad) < radDiff(gBRad, globalRad) ? aRad : bRad;
    }

    function getRad(aPos, bPos) {
        return Math.atan2(bPos.y - aPos.y, bPos.x - aPos.x);
    }

    function Rad2Pos(rad, dist) {
        return {
            x: Math.cos(rad) * dist,
            y: Math.sin(rad) * dist };
    }

    function L2G(pos) {
        dePicker.style.left = pos.x + "px";
        dePicker.style.top = pos.y + "px";

        var br = dePicker.getBoundingClientRect();

        return { x: br.left, y: br.top };
    }

    function radDiff(aRad, bRad) {
        bRad -= aRad;
        bRad %= Math.PI * 2;

        if (bRad > Math.PI) bRad -= 2 * Math.PI;else if (bRad < -Math.PI) bRad += 2 * Math.PI;

        return bRad;
    }

    function posDist(aP, bP) {
        var dx = aP.x - bP.x,
            dy = aP.y - bP.y;

        return Math.sqrt(dx * dx + dy * dy);
    }
}
},{"./CursorHint":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\CursorHint.js","./hands/Boxer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Boxer.js","./hands/Transformer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Transformer.js","./hands/curver/Curver":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\curver\\Curver.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Boxer.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

var MOUSESTATES = {
    move: "move",
    "1000": "ns-resize",
    "1100": "nesw-resize",
    "0100": "ew-resize",
    "0110": "nwse-resize",
    "0010": "ns-resize",
    "0011": "nesw-resize",
    "0001": "ew-resize",
    "1001": "nwse-resize" };

var INIT_PARAMS = {
    x: 0,
    y: 0,
    w: 0,
    h: 0 };


function Boxer() {
    EventEmitter.call(this);

    this._params = _.clone(INIT_PARAMS);

    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}

Boxer.id = "boxer";

inherits(Boxer, EventEmitter);
var p = Boxer.prototype;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    this._renderHandler();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener("mousemove", this._onMouseMove);
    this._deBox.addEventListener("mousedown", this._onMouseDown);
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;

    window.removeEventListener("mousemove", this._onMouseMove);
    this._deBox.removeEventListener("mousedown", this._onMouseDown);
};





p._onMouseDown = function (e) {
    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = "auto";

    this._mdPos = {
        mx: e.clientX,
        my: e.clientY,
        params: _.clone(this._params) };

    window.addEventListener("mouseup", this._onMouseUp);
    window.addEventListener("mouseleave", this._onMouseUp);
    window.addEventListener("mousemove", this._onDrag);
};

p._onMouseMove = function (e) {
    if (!this._isHandle && this._isOverHitbox) {
        this._setFinger(e);
    }
};

p._onMouseUp = function () {
    window.removeEventListener("mouseup", this._onMouseUp);
    window.removeEventListener("mouseleave", this._onMouseUp);
    window.removeEventListener("mousemove", this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }

    this._isHandle = false;

    this._deFullHit.style.pointerEvents = "none";
};

p._onOverHitbox = function () {
    this._isOverHitbox = true;
};

p._onOutHitbox = function () {
    this._isOverHitbox = false;
};











p._renderHandler = function () {
    var params = this._params;

    this._deBox.style.left = params.x + "px";
    this._deBox.style.top = params.y + "px";
    this._deBox.style.width = params.w + "px";
    this._deBox.style.height = params.h + "px";
};










p._onDrag = function (e) {
    this._onDragMe = e;

    if (!this._rafOnDragRafId) {
        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {
    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        md = this._mdPos,
        finger = this._finger,
        mx = e.clientX,
        my = e.clientY,
        dx = mx - md.mx,
        dy = my - md.my,
        change = {};



    if (finger === "move") {
        change.x = md.params.x + dx;
        change.y = md.params.y + dy;
    }

    if (finger.charAt(0) === "1") {
        change.y = md.params.y + dy;
        change.h = md.params.h - dy;
    }

    if (finger.charAt(1) === "1") {
        change.w = md.params.w + dx;
    }

    if (finger.charAt(2) === "1") {
        change.h = md.params.h + dy;
    }

    if (finger.charAt(3) === "1") {
        change.x = md.params.x + dx;
        change.w = md.params.w - dx;
    }



    this.emit("change", change, "transform");
};














p._setFinger = function (e) {
    var params = this._params,
        mx = e.clientX,
        my = e.clientY,
        diff = 6,
        dTop = Math.abs(params.y - my),
        dRight = Math.abs(params.x + params.w - mx),
        dBottom = Math.abs(params.y + params.h - my),
        dLeft = Math.abs(params.x - mx),
        top = dTop < diff,
        right = dRight < diff,
        bottom = dBottom < diff,
        left = dLeft < diff,
        inside = mx > params.x && mx < params.x + params.w && my > params.y && my < params.y + params.h;

    if (params.w * params.sx < diff * 2 && inside) {
        left = false;
        right = false;
    }

    if (params.h * params.sy < diff * 2 && inside) {
        top = false;
        bottom = false;
    }

    if (top || right || bottom || left) {
        this._finger = ("000" + (top * 1000 + right * 100 + bottom * 10 + left * 1)).substr(-4);
    } else if (inside) {
        this._finger = "move";
    }

    if (this._finger) {
        this._setCursor(MOUSESTATES[this._finger]);
    } else {
        this._setCursor("auto");
    }
};










p._setCursor = function (cursor) {
    this._deBox.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor;
};







p.createGraphics = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.pointerEvents = "none";

    this._deFullHit = document.createElement("div");
    this._deFullHit.style.position = "absolute";
    this._deFullHit.style.pointerEvents = "none";
    this._deFullHit.style.width = "100%";
    this._deFullHit.style.height = "100%";
    this.domElem.appendChild(this._deFullHit);

    this._deBox = document.createElement("div");
    this._deBox.style.position = "absolute";
    this._deBox.style.boxSizing = "border-box";
    this._deBox.style.border = "solid 1px red";
    this._deBox.addEventListener("mouseenter", this._onOverHitbox);
    this._deBox.addEventListener("mouseleave", this._onOutHitbox);
    this.domElem.style.pointerEvents = "auto";
    this.domElem.appendChild(this._deBox);


    var onFitstMove = (function () {
        this._onOverHitbox();
        this._deBox.removeEventListener("mousemove", onFitstMove);
    }).bind(this);
};


module.exports = Boxer;
},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\Transformer.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var _ = require("lodash");

var MOUSESTATES = {
    move: "move",
    rotate: "-webkit-grab",
    origin: "crosshair",
    "1000": "ns-resize",
    "1100": "nesw-resize",
    "0100": "ew-resize",
    "0110": "nwse-resize",
    "0010": "ns-resize",
    "0011": "nesw-resize",
    "0001": "ew-resize",
    "1001": "nwse-resize" };

var INIT_PARAMS = {
    tx: 0, ty: 0,
    sx: 1, sy: 1,
    rz: 0,
    ox: 0.5, oy: 0.5 };

var INIT_BASE = {
    x: 0,
    y: 0,
    w: 0,
    h: 0 };

var hints = {
    scale: ["shift - keep proportion", "alt - from the opposite side"],
    rotate: ["shift - 15° steps"],
    move: ["shift - move in one dimension"] };


function Transformer(transhand) {
    EventEmitter.call(this);

    this._th = transhand;
    this._params = _.clone(INIT_PARAMS);
    this._base = _.clone(INIT_BASE);
    this._points = [{}, {}, {}, {}];
    this._pOrigin = {};
    this._originRadius = 6;
    this._rotateFingerDist = 16;


    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}


inherits(Transformer, EventEmitter);
var p = Transformer.prototype;

Transformer.id = "transformer";
p.renderLevel = 1;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    _.extend(this._base, INIT_BASE, opt.base);
    this._refreshPoints();
    this._renderHandler();
    this._refreshHitbox();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener("mousemove", this._onMouseMove);
    this._deHitbox.addEventListener("mousedown", this._onMouseDown);
    this._deOriginHit.addEventListener("mousedown", this._onMouseDown);
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;

    window.removeEventListener("mousemove", this._onMouseMove);
    this._deHitbox.removeEventListener("mousedown", this._onMouseDown);
    this._deOriginHit.removeEventListener("mousedown", this._onMouseDown);
};





p._onMouseDown = function (e) {
    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = "auto";

    this._mdPos = {
        m: this._th.G2L({ x: e.clientX, y: e.clientY }),
        params: _.cloneDeep(this._params),
        points: _.cloneDeep(this._points),
        pOrigin: _.cloneDeep(this._pOrigin)
    };

    window.addEventListener("mouseup", this._onMouseUp);
    window.addEventListener("mouseleave", this._onMouseUp);
    window.addEventListener("mousemove", this._onDrag);
};

p._onMouseMove = function (e) {
    if (!this._isHandle && this._isOverHitbox) {
        this._setFinger(e);
    }

    if (this._cursorFunc) {
        this._setCursor(this._cursorFunc(e.clientX, e.clientY));
    }
};

p._onMouseUp = function () {
    window.removeEventListener("mouseup", this._onMouseUp);
    window.removeEventListener("mouseleave", this._onMouseUp);
    window.removeEventListener("mousemove", this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }

    this._isHandle = false;

    this._deFullHit.style.pointerEvents = "none";
};

p._onOverHitbox = function () {
    this._isOverHitbox = true;
};

p._onOutHitbox = function () {
    this._isOverHitbox = false;
};








p._refreshPoints = function () {
    var base = _.clone(this._base),
        params = this._params,
        p = this._points,
        po = this._pOrigin;

    base.x += params.tx;
    base.y += params.ty;

    po.x = base.x + base.w * params.ox;
    po.y = base.y + base.h * params.oy;

    var tox = base.x + params.ox * base.w,
        toy = base.y + params.oy * base.h;

    t(p[0], base.x, base.y);
    t(p[1], base.x + base.w, base.y);
    t(p[2], base.x + base.w, base.y + base.h);
    t(p[3], base.x, base.y + base.h);

    function t(p, x, y) {
        var dx = (x - tox) * params.sx,
            dy = (y - toy) * params.sy,
            d = Math.sqrt(dx * dx + dy * dy),
            rad = Math.atan2(dy, dx) + params.rz,
            nx = Math.cos(rad),
            ny = Math.sin(rad),
            rx = d * nx,
            ry = d * ny,
            px = tox + rx,
            py = toy + ry;

        p.x = px;
        p.y = py;
    }
};



p._renderHandler = function () {
    var p = this._points.map(this._th.L2G, this._th),
        po = this._th.L2G(this._pOrigin),
        c = this._deCanvas,
        or = this._originRadius,
        ctx = c.getContext("2d"),
        margin = 7,
        minX = Math.min(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        maxX = Math.max(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        minY = Math.min(p[0].y, p[1].y, p[2].y, p[3].y, po.y),
        maxY = Math.max(p[0].y, p[1].y, p[2].y, p[3].y, po.y);

    c.style.left = minX - margin + "px";
    c.style.top = minY - margin + "px";
    c.width = maxX - minX + margin * 2;
    c.height = maxY - minY + margin * 2;

    ctx.save();
    ctx.translate(margin - minX, margin - minY);
    ctx.beginPath();
    ctx.moveTo(p[0].x, p[0].y);
    ctx.lineTo(p[1].x, p[1].y);
    ctx.lineTo(p[2].x, p[2].y);
    ctx.lineTo(p[3].x, p[3].y);
    ctx.closePath();

    ctx.moveTo(po.x - or, po.y);
    ctx.lineTo(po.x + or, po.y);
    ctx.moveTo(po.x, po.y - or);
    ctx.lineTo(po.x, po.y + or);


    // ctx.shadowColor = '#f00';
    // ctx.shadowBlur = 3;
    // ctx.shadowOffsetX = 0;
    // ctx.shadowOffsetY = 0;

    ctx.strokeStyle = "#4f2";
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.restore();



    //hitboxes

    this._deOriginHit.style.left = po.x - this._rotateFingerDist + "px";
    this._deOriginHit.style.top = po.y - this._rotateFingerDist + "px";

    var hbp = "";
    hbp += p[0].x + "," + p[0].y + " ";
    hbp += p[1].x + "," + p[1].y + " ";
    hbp += p[2].x + "," + p[2].y + " ";
    hbp += p[3].x + "," + p[3].y;
    this._deHitbox.setAttribute("points", hbp);
};

p._refreshHitbox = function () {};


















p._onDrag = function (e) {
    this._onDragMe = e;

    if (!this._rafOnDragRafId) {
        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {
    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        base = this._base,
        pOrigin = this._pOrigin,
        md = this._mdPos,
        finger = this._finger,
        m = this._th.G2L({ x: e.clientX, y: e.clientY }),
        dx = m.x - md.m.x,
        dy = m.y - md.m.y,
        alt = e.altKey,
        shift = e.shiftKey,
        change = {};

    if (finger === "origin") {
        setOrigin();
    }

    if (finger === "move") {
        setTransform();
    }

    if (finger.charAt(0) === "1") {
        setScale(-Math.PI / 2, "sy", -1);
    }

    if (finger.charAt(1) === "1") {
        setScale(0, "sx", 1);
    }

    if (finger.charAt(2) === "1") {
        setScale(Math.PI / 2, "sy", 1);
    }

    if (finger.charAt(3) === "1") {
        setScale(Math.PI, "sx", -1);
    }

    if (finger === "rotate") {
        setRotation();
    }

    if (shift && "sx" in change && "sy" in change) {
        fixProportion();
    }


    this.emit("change", change, "transform");





    function setScale(r, sN, way) {
        var rad = r + md.params.rz,
            mdDist = distToPointInAngle(md.pOrigin, md.m, rad),
            dragDist = distToPointInAngle(md.pOrigin, m, rad),
            scale = dragDist / mdDist * md.params[sN];

        if (alt) {
            var es = (scale - md.params[sN]) / 2,
                tN = "t" + sN.charAt(1),
                dN = sN.charAt(1) === "x" ? "w" : "h";

            scale -= es;
            change[tN] = params[tN] = md.params[tN] + base[dN] * es / 2 * way;
        }

        change[sN] = params[sN] = scale;
    }

    function fixProportion() {
        var mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.abs(radDiff(params.rz, Math.atan2(my, mx))),
            isVertical = mr > Math.PI / 4 && mr < Math.PI / 4 * 3,
            spx = params.sx / md.params.sx,
            spy = params.sy / md.params.sy;

        spx *= spx < 0 ? -1 : 1;
        spy *= spy < 0 ? -1 : 1;

        var sp = isVertical ? spy : spx;

        change.sx = params.sx = md.params.sx * sp;
        change.sy = params.sy = md.params.sy * sp;
    }

    function setRotation() {
        var mdx = md.m.x - pOrigin.x,
            mdy = md.m.y - pOrigin.y,
            mdr = Math.atan2(mdy, mdx),
            mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.atan2(my, mx),
            r = mr - mdr;

        if (shift) {
            r = Math.floor(r / (Math.PI / 12)) * (Math.PI / 12);
        }

        change.rz = params.rz = md.params.rz + r;
    }

    function setTransform() {
        if (shift) {
            if (Math.abs(dx) > Math.abs(dy)) {
                change.tx = params.tx = md.params.tx + dx;
                change.ty = params.ty = md.params.ty;
            } else {
                change.tx = params.tx = md.params.tx;
                change.ty = params.ty = md.params.ty + dy;
            }
        } else {
            change.tx = params.tx = md.params.tx + dx;
            change.ty = params.ty = md.params.ty + dy;
        }
    }

    function setOrigin() {
        var mx = m.x - md.pOrigin.x,
            my = m.y - md.pOrigin.y,
            dist = Math.sqrt(mx * mx + my * my),
            r = Math.atan2(my, mx) - params.rz,
            x = Math.cos(r) * dist / params.sx,
            y = Math.sin(r) * dist / params.sy;

        x = parseInt(x * 1000) / 1000; //?hack??
        y = parseInt(y * 1000) / 1000;

        change.ox = params.ox = md.params.ox + x / base.w;
        change.oy = params.oy = md.params.oy + y / base.h;
        change.tx = params.tx = md.params.tx + (mx - x);
        change.ty = params.ty = md.params.ty + (my - y);
    }
};














p._setFinger = function (e) {
    var base = this._base,
        params = this._params,
        p = this._points,
        po = this._pOrigin,
        diff = 3,
        rDiff = 16,
        m = this._th.G2L({ x: e.clientX, y: e.clientY }),
        dox = po.x - m.x,
        doy = po.y - m.y,
        dOrigin = Math.sqrt(dox * dox + doy * doy),
        dTop = distToSegment(m, p[0], p[1]),
        dLeft = distToSegment(m, p[1], p[2]),
        dBottom = distToSegment(m, p[2], p[3]),
        dRight = distToSegment(m, p[3], p[0]),
        top = dTop < diff,
        left = dLeft < diff,
        bottom = dBottom < diff,
        right = dRight < diff,
        inside = isInside(m, p),
        cursorScale;

    if (base.w * params.sx < diff * 2 && inside) {
        left = false;
        right = false;
    }

    if (base.h * params.sy < diff * 2 && inside) {
        top = false;
        bottom = false;
    }

    if (dOrigin < this._originRadius) {
        this._finger = "origin";
    } else if (top || right || bottom || left) {
        //TODO its sould be top-right-bottom-left
        this._finger = ("000" + (top * 1000 + left * 100 + bottom * 10 + right * 1)).substr(-4);
        cursorScale = true;
        this._th.cursorHint.setHints(hints.scale);
    } else if (inside) {
        this._finger = "move";
        this._th.cursorHint.setHints(hints.move);
    } else if (dTop < rDiff || dRight < rDiff || dBottom < rDiff || dLeft < rDiff || dOrigin < rDiff) {
        this._finger = "rotate";
        this._th.cursorHint.setHints(hints.rotate);
    } else {
        this._finger = false;
    }

    if (this._finger === "rotate") {
        this._cursorFunc = this._getRotateCursor;
    } else if (cursorScale) {
        this._cursorFunc = this._getScaleCursor;
    } else {
        this._cursorFunc = undefined;

        if (this._finger) {
            this._setCursor(MOUSESTATES[this._finger]);
        } else {
            this._setCursor("auto");
        }
    }
};










p._setCursor = function (cursor) {
    this._deHitbox.style.cursor = cursor;
    this._deOriginHit.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor;
};

p._getRotateCursor = function (mx, my) {
    var po = this._th.L2G(this._pOrigin),
        r = Math.atan2(my - po.y, mx - po.x) / Math.PI * 180;

    return "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" ><path transform=\"rotate(" + r + ", 16, 16)\" d=\"M18.907 3.238l-7.54-2.104s8.35 3.9 8.428 15.367c.08 11.794-7.807 14.49-7.807 14.49l7.363-1.725\" stroke=\"#000\" stroke-width=\"2.054\" fill=\"none\"/></svg>') 16 16, auto";
};

p._getScaleCursor = (function () {
    var FINGERS = ["0100", "0110", "0010", "0011", "0001", "1001", "1000", "1100"];

    return function () {
        var sideDeg = FINGERS.indexOf(this._finger) * 45,
            po = this._th.L2G(this._pOrigin),
            oTweak = { x: this._pOrigin.x + 1234, y: this._pOrigin.y },
            pot = this._th.L2G(oTweak),
            baseRad = Math.atan2(pot.y - po.y, pot.x - po.x) + this._params.rz,
            r = sideDeg + baseRad / Math.PI * 180;


        return "url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\"><path transform=\"rotate(" + r + ", 16, 16)\" d=\"M22.406 12.552l5.88 4.18H3.677l5.728 4.36\" stroke=\"#000\" stroke-width=\"2.254\" fill=\"none\"/></svg>') 16 16, auto";
    };
})();







p.createGraphics = function () {
    this.domElem = document.createElement("div");
    this.domElem.style.pointerEvents = "none";

    this._deCanvas = document.createElement("canvas");
    this._deCanvas.style.position = "absolute";
    this.domElem.appendChild(this._deCanvas);

    this._deFullHit = document.createElement("div");
    this._deFullHit.style.position = "absolute";
    this._deFullHit.style.pointerEvents = "none";
    this._deFullHit.style.width = "100%";
    this._deFullHit.style.height = "100%";
    this.domElem.appendChild(this._deFullHit);

    var onFirstMove = (function () {
        this._onOverHitbox();
        this._deHitbox.removeEventListener("mousemove", onFirstMove);
        this._deOriginHit.removeEventListener("mousemove", onFirstMove);
    }).bind(this);

    var addHitboxEvents = (function (de) {
        de.style.pointerEvents = "auto";
        de.addEventListener("mouseenter", this._onOverHitbox);
        de.addEventListener("mouseleave", this._onOutHitbox);
        de.addEventListener("mousemove", onFirstMove);

        return de;
    }).bind(this);

    this._deOriginHit = addHitboxEvents(document.createElement("div"));
    this._deOriginHit.style.position = "absolute";
    this._deOriginHit.style.border = this._rotateFingerDist + "px solid rgba(234,0,0,0)";
    this._deOriginHit.style.borderRadius = this._rotateFingerDist + "px";
    this.domElem.appendChild(this._deOriginHit);

    this._svgRoot = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    this._svgRoot.style.overflow = "visible";
    this.domElem.appendChild(this._svgRoot);

    this._deHitbox = addHitboxEvents(document.createElementNS("http://www.w3.org/2000/svg", "polygon"));
    this._deHitbox.style.strokeWidth = this._rotateFingerDist * 2;
    this._deHitbox.style.stroke = "rgba(0,0,0,0)";
    this._deHitbox.style.fill = "rgba(0,0,0,0)";
    this._deHitbox.style.strokeLinejoin = "round";
    this._svgRoot.appendChild(this._deHitbox);
};

module.exports = Transformer;












//utils/////////////////////////////////////////////////////

function radDiff(r0, r1) {
    r0 %= Math.PI;
    r1 %= Math.PI;
    r0 += Math.PI;
    r1 += Math.PI;

    return r1 - r0;
}

function sqr(x) {
    return x * x;
}

function dist2(v, w) {
    return sqr(v.x - w.x) + sqr(v.y - w.y);
}

function distToSegmentSquared(p, v, w) {
    var l2 = dist2(v, w);

    if (l2 === 0) return dist2(p, v);

    var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;

    if (t < 0) return dist2(p, v);
    if (t > 1) return dist2(p, w);

    return dist2(p, { x: v.x + t * (w.x - v.x), y: v.y + t * (w.y - v.y) });
}

function distToSegment(p, v, w) {
    return Math.sqrt(distToSegmentSquared(p, v, w));
}

function distToPointInAngle(p0, p1, rad) {
    var dx = p1.x - p0.x,
        dy = p1.y - p0.y,
        d = Math.sqrt(dx * dx + dy * dy),
        mRad = Math.atan2(dy, dx);

    rad = mRad - rad;

    // console.log('dx', dx, 'dy', dy, 'd', d, 'mRad', mRad, 'rad', rad, 'return', Math.cos(rad) * d)

    return Math.cos(rad) * d;
}

function isInside(point, vs) {
    // ray-casting algorithm based on
    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html

    var x = point.x,
        y = point.y;

    var inside = false;
    for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
        var xi = vs[i].x,
            yi = vs[i].y;
        var xj = vs[j].x,
            yj = vs[j].y;

        var intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;
        if (intersect) inside = !inside;
    }

    return inside;
}


// var base = this._base,
//     params = this._params,
//     po = this._pOrigin,
//     leftScale = (base.w * params.ox * (params.sx-1)),
//     topScale = (base.h * params.oy * (params.sy-1)),
//     w = (base.w * params.sx),
//     h = (base.h * params.sy),
//     ox = rfd + (w * params.ox),
//     oy = rfd + (h * params.oy);


// this._deHitbox.style.left = (-rfd + base.x + params.tx - leftScale) + 'px';
// this._deHitbox.style.top = (-rfd + base.y + params.ty - topScale) + 'px';
// this._deHitbox.style.width = w + 'px';
// this._deHitbox.style.height = h + 'px';
// this._deHitbox.style.transformOrigin = ox + 'px ' + oy + 'px';
// this._deHitbox.style.transform = 'rotate(' + this._params.rz + 'rad)';
},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\hands\\curver\\Curver.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var makeDraggable = require("../../make-draggable");
var _ = require("lodash");


var BASE_POINT_STYLE = {
    anchorFill: "deepskyblue",
    anchorRadius: 3,
    anchorStroke: "none",
    anchorStrokeWidth: 1,
    handleFill: "deepskyblue",
    handleRadius: 3,
    handleStroke: "none",
    handleStrokeWidth: 1,
    handleLineStroke: "deepskyblue",
    handleLineStrokeWidth: 1,
    pathStroke: "deepskyblue",
    pathStrokeWidth: 2 };

var CURSORS = {

    pencil: "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACKUlEQVQ4T2NkIB0oALX4A/FEkFZGEvQ7GJhYdIVEJ5puXrOM4c6ta21vX7+uJsaABGdP346kzCJ+Ewsb9vyUCEZ9Y3OGPds27jt78qgzTgN4eHia/cJiMlKyiznlFVW4//379zcnMZTZxNL2p5a2PnO0v5Mr0PUHsBqgrKa+cvH6fd7iklLcIC+CNGcnhDCbWtn9TMooYM+ICXy1e9sGcVxhoNDcO+NmVGI6269fv36vXjKX9eCe7Qzmto4/kzML2Z8+fvjZ0Ug57+/fvwtwGZBw7MqTKeJS0twTOuoZJnc1CRqbW81ftf1oAEhDXXHW96Xzp3PBAh/dCwJOHr6nZy/bpAJScPr44R+VBSmLAsNi47KLazi+fP78w1ZPtvfTx4812AwQcPH0O337xlWVPadv/WMCAvQontjZwDCps1EQKP4B3QABv5Cos70zFsufOLz/16LZkzmnL17/l5GRkRmq8P++nVu+A11T8Obly9nIBoO8IOAfGn2uZ/oiOaClYA0H9mz/M623laWqpffLmiXzfhw9uGftowf3VoCk0F3F6Okf+mXyvJUcSLaB1Rzet/NPQojHVCCzAF9qZdy478wXHQNjcHzDwMcP778nhXvtuHD6RBA+zeBoBIb6nVlLNyoBXQCOkU8fP3yPCXC6fPXieXNCmsEGALGBX0j00a6p81l/fP/2J8rX/uG1yxctkUMarxegkgKyCoozWFhYGe/fuZVOrGaQXgDe5tcRUOCRFgAAAABJRU5ErkJggg==) 15 0, auto" };

// point: {
//     anchor: {x: 0, y: 0},
//     handleLeft: {x: 0, y: 0},
//     handleRight: {x: 0, y: 0},
//     linked: false,
//     close: false,
// }


function Curver(transhand) {
    EventEmitter.call(this);

    this._th = transhand;

    this._points = [];
    this._buffPoints = [];

    this._selectedPoints = [];

    this._offset = {
        x: 0,
        y: 0 };

    this._clickActions = [{ target: "anchor", action: "move_anchor" }, { target: "anchor", action: "remove_point", ctrl: true }, { target: "anchor", action: "reset_anchor", alt: true }, { target: "handle", action: "move_handle" }, { target: "handle", action: "unlink_handle", alt: true }, { target: "curve", action: "add_point" }, { target: "curve", action: "drag_path", ctrl: true }, { target: "curve", action: "rotate_path", alt: true }, { target: "curve", action: "scale_path", ctrl: true, alt: true }];
}

var hints = {
    anchor: ["drag anchor", "remove anchor - ctrl", "reset anchor - alt"],
    handle: ["drag hanle", "unlink handle - alt"],
    curve: ["add point"] };

inherits(Curver, EventEmitter);
var p = Curver.prototype;
module.exports = Curver;

Curver.id = "curver";
p.renderLevel = 2;

p.setup = function (opt) {
    if (!this.domElem) {
        this.createGraphics();
    }

    while (this._points.length < opt.points.length) {
        this._addPoint();
    }
    while (this._points.length > opt.points.length) {
        this._splicePoint(this._points.length - 1);
    }

    opt.points.forEach(function (srcPoint, idx) {
        this._setupPoint(this._points[idx], srcPoint);
    }, this);

    this._offset.x = opt.offset && opt.offset.x || 0;
    this._offset.y = opt.offset && opt.offset.y || 0;

    this.render();
};

p.activate = function () {
    if (this._isActivated) return;
    this._isActivated = true;
};

p.deactivate = function () {
    if (!this._isActivated) return;
    this._isActivated = false;
};

p.selectPoints = function (points) {
    var _this = this;


    this._selectedPoints.length = 0;
    this._selectedPoints.push.apply(this._selectedPoints, points);

    this._points.forEach(function (point) {
        point.selected = _this._selectedPoints.indexOf(point) !== -1;
    });
};



p._emitChange = (function () {
    return function (detailesList) {
        if (!_.isArray(detailesList)) {
            detailesList = [detailesList];
        }

        detailesList = detailesList.map(function (detailes) {
            detailes = _.assign({
                type: "",
                point: undefined,
                idx: undefined,
                points: this._points,
                flatPoints: flatPoints,
                flat: flat,
                svgPath: svgPath,
                clone: clone }, detailes);

            if (detailes.idx === undefined && detailes.point) {
                detailes.idx = this._points.indexOf(detailes.point);
            }

            return detailes;
        }, this);


        this.emit("change", detailesList);
    };

    function flatPoints() {
        var ret = [];

        this.points.forEach(function (point) {
            ret.push({
                x: point.handleLeft.x,
                y: point.handleLeft.y
            });
            ret.push({
                x: point.anchor.x,
                y: point.anchor.y
            });
            ret.push({
                x: point.handleRight.x,
                y: point.handleRight.y
            });
        });

        return ret;
    }
    function flat() {}
    function svgPath() {}
    function clone() {}
})();

p._getClickAction = function (target, e) {
    var ctrl = e.ctrlKey,
        shift = e.shiftKey,
        alt = e.altKey,
        ret;

    this._clickActions.some(function (clickAction) {
        if (clickAction.target === target && !!clickAction.ctrl === ctrl && !!clickAction.shift === shift && !!clickAction.alt === alt) {
            ret = clickAction.action;
            return true;
        }
    });

    return ret;
};







p.render = function () {
    var i, l, point, pointB, cmd;

    for (i = 0, l = this._points.length; i < l; ++i) {
        point = this._points[i];

        if (i !== l - 1) {
            pointB = this._points[i + 1];

            cmd = "M" + point.anchor.x + "," + point.anchor.y + " ";
            cmd += "C" + point.handleRight.x + "," + point.handleRight.y + " ";
            cmd += pointB.handleLeft.x + "," + pointB.handleLeft.y + " ";
            cmd += pointB.anchor.x + "," + pointB.anchor.y + " ";
            point._de.setAttribute("d", cmd);
        }

        moveCircle(point.anchor);

        moveCircle(point.handleLeft);
        moveLine(point.handleLeft, point.anchor);

        moveCircle(point.handleRight);
        moveLine(point.handleRight, point.anchor);

        this.domElem.style.left = this._offset.x + "px";
        this.domElem.style.top = this._offset.y + "px";
    }

    function moveCircle(pt) {
        pt._de.setAttribute("cx", pt.x);
        pt._de.setAttribute("cy", pt.y);
    }

    function moveLine(pt1, pt2) {
        pt1._deLine.setAttribute("x1", pt1.x);
        pt1._deLine.setAttribute("y1", pt1.y);
        pt1._deLine.setAttribute("x2", pt2.x);
        pt1._deLine.setAttribute("y2", pt2.y);
    }
};

p._addPoint = function (idx) {
    var that = this,
        point = Object.defineProperties({
        anchor: { x: 0, y: 0 },
        handleLeft: { x: 0, y: 0 },
        handleRight: { x: 0, y: 0 },
        style: {},
        linked: false }, {
        selected: {
            set: function (v) {
                this._selected = v;
                var display = this._selected ? "" : "none";
                this.handleLeft._de.style.display = display;
                this.handleLeft._deLine.style.display = display;
                this.handleRight._de.style.display = display;
                this.handleRight._deLine.style.display = display;
            },
            get: function () {
                return this._selected;
            },
            enumerable: true,
            configurable: true
        }
    });
    //TODO use _buffPoints[]
    this._points.splice(idx, 0, point);

    createPath();
    createAnchor();
    createHandle(point.handleLeft);
    createHandle(point.handleRight);

    point.selected = false;

    return point;
    //TODO cleanup this
    function createPath() {
        point._de = document.createElementNS("http://www.w3.org/2000/svg", "path");
        point._de.style.fill = "none";
        point._de.style.pointerEvents = "auto";
        point._de.style.cursor = CURSORS.pencil;
        that._dePathCont.appendChild(point._de);

        point._de.addEventListener("mousedown", (function (e) {
            var idx = this._points.indexOf(point),
                pLeft = this._points[idx],
                pRight = this._points[idx + 1],
                srcPoint = this._splitCurve(pLeft, pRight, e.x - this._offset.x, e.y - this._offset.y);

            var newPoint = this._addPoint(idx + 1);
            this._setupPoint(newPoint, srcPoint);

            this._emitChange([{ type: "edit", point: pLeft }, { type: "add", point: newPoint }, { type: "edit", point: pRight }]);

            this.render();

            newPoint.anchor._dragger.emitDown(e);
        }).bind(that));


        point._de.addEventListener("mouseenter", function () {
            that._th.cursorHint.setHints(hints.curve);
        });
        point._de.addEventListener("mouseleave", function () {
            that._th.cursorHint.setHints(null);
        });
    }

    function createAnchor() {
        point.anchor._de = createCircle();
        that._deAnchorCont.appendChild(point.anchor._de);

        point.anchor._dragger = makeDraggable({
            deTarget: point.anchor._de,
            thisArg: that,
            onDown: function (e) {
                var action = this._getClickAction("anchor", e);

                this.selectPoints([point]);

                if (action === "reset_anchor") {
                    point.handleLeft.x = point.anchor.x;
                    point.handleLeft.y = point.anchor.y;
                    point.handleRight.x = point.anchor.x;
                    point.handleRight.y = point.anchor.y;
                    point.linked = true;

                    this.render();

                    e = Object.create(e);
                    e.syncronSize = true;

                    this._emitChange({ type: "edit", point: point });

                    point.handleRight._dragger.emitDown(e);

                    return false;
                } else if (action === "remove_point") {
                    this.selectPoints([]);

                    var idx = this._points.indexOf(point);

                    this._splicePoint(idx);

                    this._emitChange({ type: "remove", idx: idx });

                    return false;
                }

                return {
                    axStart: point.anchor.x,
                    ayStart: point.anchor.y,
                    hlxStart: point.handleLeft.x,
                    hlyStart: point.handleLeft.y,
                    hrxStart: point.handleRight.x,
                    hryStart: point.handleRight.y };
            },
            onDrag: function (md) {
                point.anchor.x = md.axStart + md.dx;
                point.anchor.y = md.ayStart + md.dy;
                point.handleLeft.x = md.hlxStart + md.dx;
                point.handleLeft.y = md.hlyStart + md.dy;
                point.handleRight.x = md.hrxStart + md.dx;
                point.handleRight.y = md.hryStart + md.dy;

                this._emitChange({ type: "edit", point: point });
                this.render();
            },
            onEnter: function () {
                this._th.cursorHint.setHints(hints.anchor);
            },
            onLeave: function () {
                this._th.cursorHint.setHints(null);
            } });
    }

    function createHandle(handle) {
        var oppositeHandle = point.handleLeft === handle ? point.handleRight : point.handleLeft;

        handle._deLine = createLine();
        that._deHandleCont.appendChild(handle._deLine);

        handle._de = createCircle();
        that._deHandleCont.appendChild(handle._de);

        handle._dragger = makeDraggable({
            deTarget: handle._de,
            thisArg: that,
            onDown: function (e) {
                var action = this._getClickAction("handle", e);

                if (!e.syncronSize && action === "unlink_handle" && point.linked) {
                    point.linked = false;

                    this._emitChange({ type: "edit", point: point });
                }

                return {
                    xStart: handle.x,
                    yStart: handle.y,
                    oppositeLength: dist(oppositeHandle, point.anchor),
                    syncronSize: e.syncronSize };
            },
            onDrag: function (md) {
                handle.x = md.xStart + md.dx;
                handle.y = md.yStart + md.dy;

                if (point.linked) {
                    var dx = handle.x - point.anchor.x,
                        dy = handle.y - point.anchor.y,
                        rad = Math.atan2(dy, dx),
                        length = md.syncronSize ? dist(handle, point.anchor) : md.oppositeLength;

                    oppositeHandle.x = point.anchor.x - length * Math.cos(rad);
                    oppositeHandle.y = point.anchor.y - length * Math.sin(rad);
                }

                this._emitChange({ type: "edit", point: point });
                this.render();
            },
            onEnter: function () {
                this._th.cursorHint.setHints(hints.handle);
            },
            onLeave: function () {
                this._th.cursorHint.setHints(null);
            } });
    }

    function createCircle() {
        var de = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        de.style.cursor = "pointer";
        de.style.pointerEvents = "auto";

        return de;
    }

    function createLine() {
        var de = document.createElementNS("http://www.w3.org/2000/svg", "line");
        de.style.pointerEvents = "none";

        return de;
    }

    function dist(pa, pb) {
        var ox = pa.x - pb.x,
            oy = pa.y - pb.y;

        return Math.sqrt(ox * ox + oy * oy);
    }
};

p._setupPoint = function (point, src) {
    point.anchor.x = src.anchor.x;
    point.anchor.y = src.anchor.y;
    point.handleLeft.x = src.handleLeft.x;
    point.handleLeft.y = src.handleLeft.y;
    point.handleRight.x = src.handleRight.x;
    point.handleRight.y = src.handleRight.y;
    point.linked = !!src.linked;

    var s = point.style = _.defaults({}, src.style, BASE_POINT_STYLE);

    point._de.style.stroke = s.pathStroke;
    point._de.style.strokeWidth = s.pathStrokeWidth;

    point.anchor._de.setAttribute("r", s.anchorRadius);
    point.anchor._de.style.fill = s.anchorFill;
    point.anchor._de.style.stroke = s.anchorStroke;
    point.anchor._de.style.strokeWidth = s.anchorStrokeWidth;

    point.handleLeft._deLine.style.stroke = s.handleLineStroke;
    point.handleLeft._deLine.style.strokeWidth = s.handleLineStrokeWidth;
    point.handleRight._deLine.style.stroke = s.handleLineStroke;
    point.handleRight._deLine.style.strokeWidth = s.handleLineStrokeWidth;

    point.handleLeft._de.setAttribute("r", s.handleRadius);
    point.handleLeft._de.style.fill = s.handleFill;
    point.handleLeft._de.style.stroke = s.handleStroke;
    point.handleLeft._de.style.strokeWidth = s.handleStrokeWidth;
    point.handleRight._de.setAttribute("r", s.handleRadius);
    point.handleRight._de.style.fill = s.handleFill;
    point.handleRight._de.style.stroke = s.handleStroke;
    point.handleRight._de.style.strokeWidth = s.handleStrokeWidth;

    return point;
};


p._splicePoint = function (idx) {
    if (typeof idx === "object") {
        idx = this._points.indexOf(idx);
    }

    var removedPoint = this._points.splice(idx, 1)[0];

    this._emitChange({ type: "splice", idx: idx });

    this.render();

    removedPoint._de.parentNode.removeChild(removedPoint._de);
    removedPoint.anchor._de.parentNode.removeChild(removedPoint.anchor._de);
    removedPoint.handleLeft._de.parentNode.removeChild(removedPoint.handleLeft._de);
    removedPoint.handleLeft._deLine.parentNode.removeChild(removedPoint.handleLeft._deLine);
    removedPoint.handleRight._de.parentNode.removeChild(removedPoint.handleRight._de);
    removedPoint.handleRight._deLine.parentNode.removeChild(removedPoint.handleRight._deLine);

    this._buffPoints.push(removedPoint);
};

p._splitCurve = function (pa, pb, x, y) {
    var curve = [pa.anchor.x, pa.anchor.y, pa.handleRight.x, pa.handleRight.y, pb.handleLeft.x, pb.handleLeft.y, pb.anchor.x, pb.anchor.y],
        mPos = { x: x, y: y },
        p = {
        anchor: { x: 0, y: 0 }, //jsBezier.pointOnCurve(curve, loc),
        handleLeft: { x: 0, y: 0 },
        handleRight: { x: 0, y: 0 },
        linked: true },
        pm = {},
        dl = dist(pa.anchor, pa.handleRight) + dist(pa.handleRight, pb.handleLeft) + dist(pb.handleLeft, pb.anchor),
        minDist,
        pos,
        loc;

    for (var di = 0; di < dl; ++di) {
        var _loc = di / dl,
            _pos = calcPos(_loc),
            _dist = dist(_pos, mPos);

        if (minDist === undefined || minDist > _dist) {
            minDist = _dist;
            loc = _loc;
            pos = _pos;
        }
    }

    p.anchor = pos;

    pm.x = pa.handleRight.x + (pb.handleLeft.x - pa.handleRight.x) * loc;
    pm.y = pa.handleRight.y + (pb.handleLeft.y - pa.handleRight.y) * loc;
    pa.handleRight.x = pa.anchor.x + (pa.handleRight.x - pa.anchor.x) * loc;
    pa.handleRight.y = pa.anchor.y + (pa.handleRight.y - pa.anchor.y) * loc;
    pb.handleLeft.x = pb.handleLeft.x + (pb.anchor.x - pb.handleLeft.x) * loc;
    pb.handleLeft.y = pb.handleLeft.y + (pb.anchor.y - pb.handleLeft.y) * loc;
    p.handleLeft.x = pa.handleRight.x + (pm.x - pa.handleRight.x) * loc;
    p.handleLeft.y = pa.handleRight.y + (pm.y - pa.handleRight.y) * loc;
    p.handleRight.x = pm.x + (pb.handleLeft.x - pm.x) * loc;
    p.handleRight.y = pm.y + (pb.handleLeft.y - pm.y) * loc;

    function calcPos(pos) {
        var p = curve.slice(),
            l = p.length / 2;

        while (--l > 0) {
            for (var i = 0; i < l; ++i) {
                count(i * 2);
            }
        }

        return { x: p[0], y: p[1] };

        function count(i) {
            p[i + 0] = p[i + 0] + (p[i + 2] - p[i + 0]) * pos;
            p[i + 1] = p[i + 1] + (p[i + 3] - p[i + 1]) * pos;
        }
    }

    function dist(pa, pb) {
        var dx = pb.x - pa.x,
            dy = pb.y - pa.y;

        return Math.sqrt(dx * dx + dy * dy);
    }

    return p;
};


p.createGraphics = function () {
    this.domElem = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    this.domElem.style.position = "absolute";
    this.domElem.style.overflow = "visible";
    this.domElem.style.width = "100%";
    this.domElem.style.height = "100%";

    this._dePathCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._dePathCont);

    this._deHandleCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._deHandleCont);

    this._deAnchorCont = document.createElementNS("http://www.w3.org/2000/svg", "g");
    this.domElem.appendChild(this._deAnchorCont);
};
// amgui.createCursorFromText({
//     icon: 'vector-pencil',
//     color: '#def',
//     width: 16,
//     height: 16,
//     hotspotX: 15,
//     hotspotY: 0,
//     rotateOriginX: 8,
//     rotateOriginY: 8,
//     backgroundColor: '#123',
//     rotate: 0,
//     stroke: {color:'black', width: 2},
//     debug: false,
// })
/*TODO*/ /*TODO*/ /*TODO*/
},{"../../make-draggable":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\make-draggable.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","lodash":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\lodash\\dist\\lodash.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\make-draggable.js":[function(require,module,exports){
"use strict";

module.exports = function makeDraggable(opt) {
    opt = opt || {};

    var md, isOver, isDrag, waitingMoveEvent, waitingMoveRaf;

    if (opt.deTarget) {
        opt.deTarget.addEventListener("mousedown", onDown);
        opt.deTarget.addEventListener("mouseover", onEnter);
        opt.deTarget.addEventListener("mouseleave", onLeave);
    }

    return {
        emitDown: function (e) {
            onDown(e);
        },
        destroy: function () {}
    };

    function onDown(e) {
        if (e.button !== 0) {
            return;
        }

        // e.stopPropagation();
        // e.preventDefault();

        isDrag = true;

        var custom = call("onDown", [e]);

        if (custom === false) {
            //prevent dragging

            return;
        }

        md = custom || {};

        md.mx = e.clientX;
        md.my = e.clientY;
        md.dx = 0;
        md.dy = 0;

        window.addEventListener("mousemove", onMove);
        window.addEventListener("mouseup", onUp);
        window.addEventListener("mouseleave", onUp);
    }

    function onMove(e) {
        waitingMoveEvent = e;

        if (!waitingMoveRaf) {
            waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
        }
    }

    function rafOnMove() {
        window.cancelAnimationFrame(waitingMoveRaf);

        var wme = waitingMoveEvent;
        waitingMoveRaf = undefined;
        waitingMoveEvent = undefined;

        var mx = wme.clientX,
            my = wme.clientY;

        md.dx = mx - md.mx;
        md.dy = my - md.my;

        call(["onMove", "onDrag"], [md, mx, my]);
    }

    function onUp(e) {
        window.removeEventListener("mousemove", onMove);
        window.removeEventListener("mouseup", onUp);
        window.removeEventListener("mouseleave", onUp);

        if (waitingMoveEvent) {
            rafOnMove();
        }

        isDrag = false;
        if (!isOver) {
            onLeave();
        }

        call("onUp", [md, e.clientX, e.clientY, e]);
    }

    function onEnter() {
        isOver = true;

        if (!isDrag) {
            call("onEnter");
        }
    }

    function onLeave() {
        isOver = false;

        if (!isDrag) {
            call("onLeave");
        }
    }

    function call(name, args) {
        if (name instanceof Array) {
            name.forEach(function (name) {
                call(name, args);
            });

            return;
        }

        if (name in opt) {
            return opt[name].apply(opt.thisArg, args);
        }
    }
};
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map.js":[function(require,module,exports){
/*
 * Copyright 2009-2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE.txt or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
exports.SourceMapGenerator = require('./source-map/source-map-generator').SourceMapGenerator;
exports.SourceMapConsumer = require('./source-map/source-map-consumer').SourceMapConsumer;
exports.SourceNode = require('./source-map/source-node').SourceNode;

},{"./source-map/source-map-consumer":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-map-consumer.js","./source-map/source-map-generator":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-map-generator.js","./source-map/source-node":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-node.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\array-set.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var util = require('./util');

  /**
   * A data structure which is a combination of an array and a set. Adding a new
   * member is O(1), testing for membership is O(1), and finding the index of an
   * element is O(1). Removing elements from the set is not supported. Only
   * strings are supported for membership.
   */
  function ArraySet() {
    this._array = [];
    this._set = {};
  }

  /**
   * Static method for creating ArraySet instances from an existing array.
   */
  ArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {
    var set = new ArraySet();
    for (var i = 0, len = aArray.length; i < len; i++) {
      set.add(aArray[i], aAllowDuplicates);
    }
    return set;
  };

  /**
   * Add the given string to this set.
   *
   * @param String aStr
   */
  ArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {
    var isDuplicate = this.has(aStr);
    var idx = this._array.length;
    if (!isDuplicate || aAllowDuplicates) {
      this._array.push(aStr);
    }
    if (!isDuplicate) {
      this._set[util.toSetString(aStr)] = idx;
    }
  };

  /**
   * Is the given string a member of this set?
   *
   * @param String aStr
   */
  ArraySet.prototype.has = function ArraySet_has(aStr) {
    return Object.prototype.hasOwnProperty.call(this._set,
                                                util.toSetString(aStr));
  };

  /**
   * What is the index of the given string in the array?
   *
   * @param String aStr
   */
  ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {
    if (this.has(aStr)) {
      return this._set[util.toSetString(aStr)];
    }
    throw new Error('"' + aStr + '" is not in the set.');
  };

  /**
   * What is the element at the given index?
   *
   * @param Number aIdx
   */
  ArraySet.prototype.at = function ArraySet_at(aIdx) {
    if (aIdx >= 0 && aIdx < this._array.length) {
      return this._array[aIdx];
    }
    throw new Error('No element indexed by ' + aIdx);
  };

  /**
   * Returns the array representation of this set (which has the proper indices
   * indicated by indexOf). Note that this is a copy of the internal array used
   * for storing the members so that no one can mess with internal state.
   */
  ArraySet.prototype.toArray = function ArraySet_toArray() {
    return this._array.slice();
  };

  exports.ArraySet = ArraySet;

});

},{"./util":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\util.js","amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\base64-vlq.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * Based on the Base 64 VLQ implementation in Closure Compiler:
 * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
 *
 * Copyright 2011 The Closure Compiler Authors. All rights reserved.
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *  * Neither the name of Google Inc. nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var base64 = require('./base64');

  // A single base 64 digit can contain 6 bits of data. For the base 64 variable
  // length quantities we use in the source map spec, the first bit is the sign,
  // the next four bits are the actual value, and the 6th bit is the
  // continuation bit. The continuation bit tells us whether there are more
  // digits in this value following this digit.
  //
  //   Continuation
  //   |    Sign
  //   |    |
  //   V    V
  //   101011

  var VLQ_BASE_SHIFT = 5;

  // binary: 100000
  var VLQ_BASE = 1 << VLQ_BASE_SHIFT;

  // binary: 011111
  var VLQ_BASE_MASK = VLQ_BASE - 1;

  // binary: 100000
  var VLQ_CONTINUATION_BIT = VLQ_BASE;

  /**
   * Converts from a two-complement value to a value where the sign bit is
   * is placed in the least significant bit.  For example, as decimals:
   *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)
   *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)
   */
  function toVLQSigned(aValue) {
    return aValue < 0
      ? ((-aValue) << 1) + 1
      : (aValue << 1) + 0;
  }

  /**
   * Converts to a two-complement value from a value where the sign bit is
   * is placed in the least significant bit.  For example, as decimals:
   *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1
   *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2
   */
  function fromVLQSigned(aValue) {
    var isNegative = (aValue & 1) === 1;
    var shifted = aValue >> 1;
    return isNegative
      ? -shifted
      : shifted;
  }

  /**
   * Returns the base 64 VLQ encoded value.
   */
  exports.encode = function base64VLQ_encode(aValue) {
    var encoded = "";
    var digit;

    var vlq = toVLQSigned(aValue);

    do {
      digit = vlq & VLQ_BASE_MASK;
      vlq >>>= VLQ_BASE_SHIFT;
      if (vlq > 0) {
        // There are still more digits in this value, so we must make sure the
        // continuation bit is marked.
        digit |= VLQ_CONTINUATION_BIT;
      }
      encoded += base64.encode(digit);
    } while (vlq > 0);

    return encoded;
  };

  /**
   * Decodes the next base 64 VLQ value from the given string and returns the
   * value and the rest of the string.
   */
  exports.decode = function base64VLQ_decode(aStr) {
    var i = 0;
    var strLen = aStr.length;
    var result = 0;
    var shift = 0;
    var continuation, digit;

    do {
      if (i >= strLen) {
        throw new Error("Expected more digits in base 64 VLQ value.");
      }
      digit = base64.decode(aStr.charAt(i++));
      continuation = !!(digit & VLQ_CONTINUATION_BIT);
      digit &= VLQ_BASE_MASK;
      result = result + (digit << shift);
      shift += VLQ_BASE_SHIFT;
    } while (continuation);

    return {
      value: fromVLQSigned(result),
      rest: aStr.slice(i)
    };
  };

});

},{"./base64":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\base64.js","amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\base64.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var charToIntMap = {};
  var intToCharMap = {};

  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    .split('')
    .forEach(function (ch, index) {
      charToIntMap[ch] = index;
      intToCharMap[index] = ch;
    });

  /**
   * Encode an integer in the range of 0 to 63 to a single base 64 digit.
   */
  exports.encode = function base64_encode(aNumber) {
    if (aNumber in intToCharMap) {
      return intToCharMap[aNumber];
    }
    throw new TypeError("Must be between 0 and 63: " + aNumber);
  };

  /**
   * Decode a single base 64 digit to an integer.
   */
  exports.decode = function base64_decode(aChar) {
    if (aChar in charToIntMap) {
      return charToIntMap[aChar];
    }
    throw new TypeError("Not a valid base 64 digit: " + aChar);
  };

});

},{"amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\binary-search.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  /**
   * Recursive implementation of binary search.
   *
   * @param aLow Indices here and lower do not contain the needle.
   * @param aHigh Indices here and higher do not contain the needle.
   * @param aNeedle The element being searched for.
   * @param aHaystack The non-empty array being searched.
   * @param aCompare Function which takes two elements and returns -1, 0, or 1.
   */
  function recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare) {
    // This function terminates when one of the following is true:
    //
    //   1. We find the exact element we are looking for.
    //
    //   2. We did not find the exact element, but we can return the next
    //      closest element that is less than that element.
    //
    //   3. We did not find the exact element, and there is no next-closest
    //      element which is less than the one we are searching for, so we
    //      return null.
    var mid = Math.floor((aHigh - aLow) / 2) + aLow;
    var cmp = aCompare(aNeedle, aHaystack[mid], true);
    if (cmp === 0) {
      // Found the element we are looking for.
      return aHaystack[mid];
    }
    else if (cmp > 0) {
      // aHaystack[mid] is greater than our needle.
      if (aHigh - mid > 1) {
        // The element is in the upper half.
        return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare);
      }
      // We did not find an exact match, return the next closest one
      // (termination case 2).
      return aHaystack[mid];
    }
    else {
      // aHaystack[mid] is less than our needle.
      if (mid - aLow > 1) {
        // The element is in the lower half.
        return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare);
      }
      // The exact needle element was not found in this haystack. Determine if
      // we are in termination case (2) or (3) and return the appropriate thing.
      return aLow < 0
        ? null
        : aHaystack[aLow];
    }
  }

  /**
   * This is an implementation of binary search which will always try and return
   * the next lowest value checked if there is no exact hit. This is because
   * mappings between original and generated line/col pairs are single points,
   * and there is an implicit region between each of them, so a miss just means
   * that you aren't on the very start of a region.
   *
   * @param aNeedle The element you are looking for.
   * @param aHaystack The array that is being searched.
   * @param aCompare A function which takes the needle and an element in the
   *     array and returns -1, 0, or 1 depending on whether the needle is less
   *     than, equal to, or greater than the element, respectively.
   */
  exports.search = function search(aNeedle, aHaystack, aCompare) {
    return aHaystack.length > 0
      ? recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare)
      : null;
  };

});

},{"amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-map-consumer.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var util = require('./util');
  var binarySearch = require('./binary-search');
  var ArraySet = require('./array-set').ArraySet;
  var base64VLQ = require('./base64-vlq');

  /**
   * A SourceMapConsumer instance represents a parsed source map which we can
   * query for information about the original file positions by giving it a file
   * position in the generated source.
   *
   * The only parameter is the raw source map (either as a JSON string, or
   * already parsed to an object). According to the spec, source maps have the
   * following attributes:
   *
   *   - version: Which version of the source map spec this map is following.
   *   - sources: An array of URLs to the original source files.
   *   - names: An array of identifiers which can be referrenced by individual mappings.
   *   - sourceRoot: Optional. The URL root from which all sources are relative.
   *   - sourcesContent: Optional. An array of contents of the original source files.
   *   - mappings: A string of base64 VLQs which contain the actual mappings.
   *   - file: Optional. The generated file this source map is associated with.
   *
   * Here is an example source map, taken from the source map spec[0]:
   *
   *     {
   *       version : 3,
   *       file: "out.js",
   *       sourceRoot : "",
   *       sources: ["foo.js", "bar.js"],
   *       names: ["src", "maps", "are", "fun"],
   *       mappings: "AA,AB;;ABCDE;"
   *     }
   *
   * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#
   */
  function SourceMapConsumer(aSourceMap) {
    var sourceMap = aSourceMap;
    if (typeof aSourceMap === 'string') {
      sourceMap = JSON.parse(aSourceMap.replace(/^\)\]\}'/, ''));
    }

    var version = util.getArg(sourceMap, 'version');
    var sources = util.getArg(sourceMap, 'sources');
    // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which
    // requires the array) to play nice here.
    var names = util.getArg(sourceMap, 'names', []);
    var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);
    var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);
    var mappings = util.getArg(sourceMap, 'mappings');
    var file = util.getArg(sourceMap, 'file', null);

    // Once again, Sass deviates from the spec and supplies the version as a
    // string rather than a number, so we use loose equality checking here.
    if (version != this._version) {
      throw new Error('Unsupported version: ' + version);
    }

    // Pass `true` below to allow duplicate names and sources. While source maps
    // are intended to be compressed and deduplicated, the TypeScript compiler
    // sometimes generates source maps with duplicates in them. See Github issue
    // #72 and bugzil.la/889492.
    this._names = ArraySet.fromArray(names, true);
    this._sources = ArraySet.fromArray(sources, true);

    this.sourceRoot = sourceRoot;
    this.sourcesContent = sourcesContent;
    this._mappings = mappings;
    this.file = file;
  }

  /**
   * Create a SourceMapConsumer from a SourceMapGenerator.
   *
   * @param SourceMapGenerator aSourceMap
   *        The source map that will be consumed.
   * @returns SourceMapConsumer
   */
  SourceMapConsumer.fromSourceMap =
    function SourceMapConsumer_fromSourceMap(aSourceMap) {
      var smc = Object.create(SourceMapConsumer.prototype);

      smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);
      smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);
      smc.sourceRoot = aSourceMap._sourceRoot;
      smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),
                                                              smc.sourceRoot);
      smc.file = aSourceMap._file;

      smc.__generatedMappings = aSourceMap._mappings.slice()
        .sort(util.compareByGeneratedPositions);
      smc.__originalMappings = aSourceMap._mappings.slice()
        .sort(util.compareByOriginalPositions);

      return smc;
    };

  /**
   * The version of the source mapping spec that we are consuming.
   */
  SourceMapConsumer.prototype._version = 3;

  /**
   * The list of original sources.
   */
  Object.defineProperty(SourceMapConsumer.prototype, 'sources', {
    get: function () {
      return this._sources.toArray().map(function (s) {
        return this.sourceRoot ? util.join(this.sourceRoot, s) : s;
      }, this);
    }
  });

  // `__generatedMappings` and `__originalMappings` are arrays that hold the
  // parsed mapping coordinates from the source map's "mappings" attribute. They
  // are lazily instantiated, accessed via the `_generatedMappings` and
  // `_originalMappings` getters respectively, and we only parse the mappings
  // and create these arrays once queried for a source location. We jump through
  // these hoops because there can be many thousands of mappings, and parsing
  // them is expensive, so we only want to do it if we must.
  //
  // Each object in the arrays is of the form:
  //
  //     {
  //       generatedLine: The line number in the generated code,
  //       generatedColumn: The column number in the generated code,
  //       source: The path to the original source file that generated this
  //               chunk of code,
  //       originalLine: The line number in the original source that
  //                     corresponds to this chunk of generated code,
  //       originalColumn: The column number in the original source that
  //                       corresponds to this chunk of generated code,
  //       name: The name of the original symbol which generated this chunk of
  //             code.
  //     }
  //
  // All properties except for `generatedLine` and `generatedColumn` can be
  // `null`.
  //
  // `_generatedMappings` is ordered by the generated positions.
  //
  // `_originalMappings` is ordered by the original positions.

  SourceMapConsumer.prototype.__generatedMappings = null;
  Object.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {
    get: function () {
      if (!this.__generatedMappings) {
        this.__generatedMappings = [];
        this.__originalMappings = [];
        this._parseMappings(this._mappings, this.sourceRoot);
      }

      return this.__generatedMappings;
    }
  });

  SourceMapConsumer.prototype.__originalMappings = null;
  Object.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {
    get: function () {
      if (!this.__originalMappings) {
        this.__generatedMappings = [];
        this.__originalMappings = [];
        this._parseMappings(this._mappings, this.sourceRoot);
      }

      return this.__originalMappings;
    }
  });

  /**
   * Parse the mappings in a string in to a data structure which we can easily
   * query (the ordered arrays in the `this.__generatedMappings` and
   * `this.__originalMappings` properties).
   */
  SourceMapConsumer.prototype._parseMappings =
    function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
      var generatedLine = 1;
      var previousGeneratedColumn = 0;
      var previousOriginalLine = 0;
      var previousOriginalColumn = 0;
      var previousSource = 0;
      var previousName = 0;
      var mappingSeparator = /^[,;]/;
      var str = aStr;
      var mapping;
      var temp;

      while (str.length > 0) {
        if (str.charAt(0) === ';') {
          generatedLine++;
          str = str.slice(1);
          previousGeneratedColumn = 0;
        }
        else if (str.charAt(0) === ',') {
          str = str.slice(1);
        }
        else {
          mapping = {};
          mapping.generatedLine = generatedLine;

          // Generated column.
          temp = base64VLQ.decode(str);
          mapping.generatedColumn = previousGeneratedColumn + temp.value;
          previousGeneratedColumn = mapping.generatedColumn;
          str = temp.rest;

          if (str.length > 0 && !mappingSeparator.test(str.charAt(0))) {
            // Original source.
            temp = base64VLQ.decode(str);
            mapping.source = this._sources.at(previousSource + temp.value);
            previousSource += temp.value;
            str = temp.rest;
            if (str.length === 0 || mappingSeparator.test(str.charAt(0))) {
              throw new Error('Found a source, but no line and column');
            }

            // Original line.
            temp = base64VLQ.decode(str);
            mapping.originalLine = previousOriginalLine + temp.value;
            previousOriginalLine = mapping.originalLine;
            // Lines are stored 0-based
            mapping.originalLine += 1;
            str = temp.rest;
            if (str.length === 0 || mappingSeparator.test(str.charAt(0))) {
              throw new Error('Found a source and line, but no column');
            }

            // Original column.
            temp = base64VLQ.decode(str);
            mapping.originalColumn = previousOriginalColumn + temp.value;
            previousOriginalColumn = mapping.originalColumn;
            str = temp.rest;

            if (str.length > 0 && !mappingSeparator.test(str.charAt(0))) {
              // Original name.
              temp = base64VLQ.decode(str);
              mapping.name = this._names.at(previousName + temp.value);
              previousName += temp.value;
              str = temp.rest;
            }
          }

          this.__generatedMappings.push(mapping);
          if (typeof mapping.originalLine === 'number') {
            this.__originalMappings.push(mapping);
          }
        }
      }

      this.__generatedMappings.sort(util.compareByGeneratedPositions);
      this.__originalMappings.sort(util.compareByOriginalPositions);
    };

  /**
   * Find the mapping that best matches the hypothetical "needle" mapping that
   * we are searching for in the given "haystack" of mappings.
   */
  SourceMapConsumer.prototype._findMapping =
    function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,
                                           aColumnName, aComparator) {
      // To return the position we are searching for, we must first find the
      // mapping for the given position and then return the opposite position it
      // points to. Because the mappings are sorted, we can use binary search to
      // find the best mapping.

      if (aNeedle[aLineName] <= 0) {
        throw new TypeError('Line must be greater than or equal to 1, got '
                            + aNeedle[aLineName]);
      }
      if (aNeedle[aColumnName] < 0) {
        throw new TypeError('Column must be greater than or equal to 0, got '
                            + aNeedle[aColumnName]);
      }

      return binarySearch.search(aNeedle, aMappings, aComparator);
    };

  /**
   * Returns the original source, line, and column information for the generated
   * source's line and column positions provided. The only argument is an object
   * with the following properties:
   *
   *   - line: The line number in the generated source.
   *   - column: The column number in the generated source.
   *
   * and an object is returned with the following properties:
   *
   *   - source: The original source file, or null.
   *   - line: The line number in the original source, or null.
   *   - column: The column number in the original source, or null.
   *   - name: The original identifier, or null.
   */
  SourceMapConsumer.prototype.originalPositionFor =
    function SourceMapConsumer_originalPositionFor(aArgs) {
      var needle = {
        generatedLine: util.getArg(aArgs, 'line'),
        generatedColumn: util.getArg(aArgs, 'column')
      };

      var mapping = this._findMapping(needle,
                                      this._generatedMappings,
                                      "generatedLine",
                                      "generatedColumn",
                                      util.compareByGeneratedPositions);

      if (mapping && mapping.generatedLine === needle.generatedLine) {
        var source = util.getArg(mapping, 'source', null);
        if (source && this.sourceRoot) {
          source = util.join(this.sourceRoot, source);
        }
        return {
          source: source,
          line: util.getArg(mapping, 'originalLine', null),
          column: util.getArg(mapping, 'originalColumn', null),
          name: util.getArg(mapping, 'name', null)
        };
      }

      return {
        source: null,
        line: null,
        column: null,
        name: null
      };
    };

  /**
   * Returns the original source content. The only argument is the url of the
   * original source file. Returns null if no original source content is
   * availible.
   */
  SourceMapConsumer.prototype.sourceContentFor =
    function SourceMapConsumer_sourceContentFor(aSource) {
      if (!this.sourcesContent) {
        return null;
      }

      if (this.sourceRoot) {
        aSource = util.relative(this.sourceRoot, aSource);
      }

      if (this._sources.has(aSource)) {
        return this.sourcesContent[this._sources.indexOf(aSource)];
      }

      var url;
      if (this.sourceRoot
          && (url = util.urlParse(this.sourceRoot))) {
        // XXX: file:// URIs and absolute paths lead to unexpected behavior for
        // many users. We can help them out when they expect file:// URIs to
        // behave like it would if they were running a local HTTP server. See
        // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.
        var fileUriAbsPath = aSource.replace(/^file:\/\//, "");
        if (url.scheme == "file"
            && this._sources.has(fileUriAbsPath)) {
          return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]
        }

        if ((!url.path || url.path == "/")
            && this._sources.has("/" + aSource)) {
          return this.sourcesContent[this._sources.indexOf("/" + aSource)];
        }
      }

      throw new Error('"' + aSource + '" is not in the SourceMap.');
    };

  /**
   * Returns the generated line and column information for the original source,
   * line, and column positions provided. The only argument is an object with
   * the following properties:
   *
   *   - source: The filename of the original source.
   *   - line: The line number in the original source.
   *   - column: The column number in the original source.
   *
   * and an object is returned with the following properties:
   *
   *   - line: The line number in the generated source, or null.
   *   - column: The column number in the generated source, or null.
   */
  SourceMapConsumer.prototype.generatedPositionFor =
    function SourceMapConsumer_generatedPositionFor(aArgs) {
      var needle = {
        source: util.getArg(aArgs, 'source'),
        originalLine: util.getArg(aArgs, 'line'),
        originalColumn: util.getArg(aArgs, 'column')
      };

      if (this.sourceRoot) {
        needle.source = util.relative(this.sourceRoot, needle.source);
      }

      var mapping = this._findMapping(needle,
                                      this._originalMappings,
                                      "originalLine",
                                      "originalColumn",
                                      util.compareByOriginalPositions);

      if (mapping) {
        return {
          line: util.getArg(mapping, 'generatedLine', null),
          column: util.getArg(mapping, 'generatedColumn', null)
        };
      }

      return {
        line: null,
        column: null
      };
    };

  SourceMapConsumer.GENERATED_ORDER = 1;
  SourceMapConsumer.ORIGINAL_ORDER = 2;

  /**
   * Iterate over each mapping between an original source/line/column and a
   * generated line/column in this source map.
   *
   * @param Function aCallback
   *        The function that is called with each mapping.
   * @param Object aContext
   *        Optional. If specified, this object will be the value of `this` every
   *        time that `aCallback` is called.
   * @param aOrder
   *        Either `SourceMapConsumer.GENERATED_ORDER` or
   *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to
   *        iterate over the mappings sorted by the generated file's line/column
   *        order or the original's source/line/column order, respectively. Defaults to
   *        `SourceMapConsumer.GENERATED_ORDER`.
   */
  SourceMapConsumer.prototype.eachMapping =
    function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {
      var context = aContext || null;
      var order = aOrder || SourceMapConsumer.GENERATED_ORDER;

      var mappings;
      switch (order) {
      case SourceMapConsumer.GENERATED_ORDER:
        mappings = this._generatedMappings;
        break;
      case SourceMapConsumer.ORIGINAL_ORDER:
        mappings = this._originalMappings;
        break;
      default:
        throw new Error("Unknown order of iteration.");
      }

      var sourceRoot = this.sourceRoot;
      mappings.map(function (mapping) {
        var source = mapping.source;
        if (source && sourceRoot) {
          source = util.join(sourceRoot, source);
        }
        return {
          source: source,
          generatedLine: mapping.generatedLine,
          generatedColumn: mapping.generatedColumn,
          originalLine: mapping.originalLine,
          originalColumn: mapping.originalColumn,
          name: mapping.name
        };
      }).forEach(aCallback, context);
    };

  exports.SourceMapConsumer = SourceMapConsumer;

});

},{"./array-set":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\array-set.js","./base64-vlq":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\base64-vlq.js","./binary-search":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\binary-search.js","./util":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\util.js","amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-map-generator.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var base64VLQ = require('./base64-vlq');
  var util = require('./util');
  var ArraySet = require('./array-set').ArraySet;

  /**
   * An instance of the SourceMapGenerator represents a source map which is
   * being built incrementally. You may pass an object with the following
   * properties:
   *
   *   - file: The filename of the generated source.
   *   - sourceRoot: A root for all relative URLs in this source map.
   */
  function SourceMapGenerator(aArgs) {
    if (!aArgs) {
      aArgs = {};
    }
    this._file = util.getArg(aArgs, 'file', null);
    this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);
    this._sources = new ArraySet();
    this._names = new ArraySet();
    this._mappings = [];
    this._sourcesContents = null;
  }

  SourceMapGenerator.prototype._version = 3;

  /**
   * Creates a new SourceMapGenerator based on a SourceMapConsumer
   *
   * @param aSourceMapConsumer The SourceMap.
   */
  SourceMapGenerator.fromSourceMap =
    function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {
      var sourceRoot = aSourceMapConsumer.sourceRoot;
      var generator = new SourceMapGenerator({
        file: aSourceMapConsumer.file,
        sourceRoot: sourceRoot
      });
      aSourceMapConsumer.eachMapping(function (mapping) {
        var newMapping = {
          generated: {
            line: mapping.generatedLine,
            column: mapping.generatedColumn
          }
        };

        if (mapping.source) {
          newMapping.source = mapping.source;
          if (sourceRoot) {
            newMapping.source = util.relative(sourceRoot, newMapping.source);
          }

          newMapping.original = {
            line: mapping.originalLine,
            column: mapping.originalColumn
          };

          if (mapping.name) {
            newMapping.name = mapping.name;
          }
        }

        generator.addMapping(newMapping);
      });
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          generator.setSourceContent(sourceFile, content);
        }
      });
      return generator;
    };

  /**
   * Add a single mapping from original source line and column to the generated
   * source's line and column for this source map being created. The mapping
   * object should have the following properties:
   *
   *   - generated: An object with the generated line and column positions.
   *   - original: An object with the original line and column positions.
   *   - source: The original source file (relative to the sourceRoot).
   *   - name: An optional original token name for this mapping.
   */
  SourceMapGenerator.prototype.addMapping =
    function SourceMapGenerator_addMapping(aArgs) {
      var generated = util.getArg(aArgs, 'generated');
      var original = util.getArg(aArgs, 'original', null);
      var source = util.getArg(aArgs, 'source', null);
      var name = util.getArg(aArgs, 'name', null);

      this._validateMapping(generated, original, source, name);

      if (source && !this._sources.has(source)) {
        this._sources.add(source);
      }

      if (name && !this._names.has(name)) {
        this._names.add(name);
      }

      this._mappings.push({
        generatedLine: generated.line,
        generatedColumn: generated.column,
        originalLine: original != null && original.line,
        originalColumn: original != null && original.column,
        source: source,
        name: name
      });
    };

  /**
   * Set the source content for a source file.
   */
  SourceMapGenerator.prototype.setSourceContent =
    function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {
      var source = aSourceFile;
      if (this._sourceRoot) {
        source = util.relative(this._sourceRoot, source);
      }

      if (aSourceContent !== null) {
        // Add the source content to the _sourcesContents map.
        // Create a new _sourcesContents map if the property is null.
        if (!this._sourcesContents) {
          this._sourcesContents = {};
        }
        this._sourcesContents[util.toSetString(source)] = aSourceContent;
      } else {
        // Remove the source file from the _sourcesContents map.
        // If the _sourcesContents map is empty, set the property to null.
        delete this._sourcesContents[util.toSetString(source)];
        if (Object.keys(this._sourcesContents).length === 0) {
          this._sourcesContents = null;
        }
      }
    };

  /**
   * Applies the mappings of a sub-source-map for a specific source file to the
   * source map being generated. Each mapping to the supplied source file is
   * rewritten using the supplied source map. Note: The resolution for the
   * resulting mappings is the minimium of this map and the supplied map.
   *
   * @param aSourceMapConsumer The source map to be applied.
   * @param aSourceFile Optional. The filename of the source file.
   *        If omitted, SourceMapConsumer's file property will be used.
   * @param aSourceMapPath Optional. The dirname of the path to the source map
   *        to be applied. If relative, it is relative to the SourceMapConsumer.
   *        This parameter is needed when the two source maps aren't in the same
   *        directory, and the source map to be applied contains relative source
   *        paths. If so, those relative source paths need to be rewritten
   *        relative to the SourceMapGenerator.
   */
  SourceMapGenerator.prototype.applySourceMap =
    function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
      // If aSourceFile is omitted, we will use the file property of the SourceMap
      if (!aSourceFile) {
        if (!aSourceMapConsumer.file) {
          throw new Error(
            'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +
            'or the source map\'s "file" property. Both were omitted.'
          );
        }
        aSourceFile = aSourceMapConsumer.file;
      }
      var sourceRoot = this._sourceRoot;
      // Make "aSourceFile" relative if an absolute Url is passed.
      if (sourceRoot) {
        aSourceFile = util.relative(sourceRoot, aSourceFile);
      }
      // Applying the SourceMap can add and remove items from the sources and
      // the names array.
      var newSources = new ArraySet();
      var newNames = new ArraySet();

      // Find mappings for the "aSourceFile"
      this._mappings.forEach(function (mapping) {
        if (mapping.source === aSourceFile && mapping.originalLine) {
          // Check if it can be mapped by the source map, then update the mapping.
          var original = aSourceMapConsumer.originalPositionFor({
            line: mapping.originalLine,
            column: mapping.originalColumn
          });
          if (original.source !== null) {
            // Copy mapping
            mapping.source = original.source;
            if (aSourceMapPath) {
              mapping.source = util.join(aSourceMapPath, mapping.source)
            }
            if (sourceRoot) {
              mapping.source = util.relative(sourceRoot, mapping.source);
            }
            mapping.originalLine = original.line;
            mapping.originalColumn = original.column;
            if (original.name !== null && mapping.name !== null) {
              // Only use the identifier name if it's an identifier
              // in both SourceMaps
              mapping.name = original.name;
            }
          }
        }

        var source = mapping.source;
        if (source && !newSources.has(source)) {
          newSources.add(source);
        }

        var name = mapping.name;
        if (name && !newNames.has(name)) {
          newNames.add(name);
        }

      }, this);
      this._sources = newSources;
      this._names = newNames;

      // Copy sourcesContents of applied map.
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          if (aSourceMapPath) {
            sourceFile = util.join(aSourceMapPath, sourceFile);
          }
          if (sourceRoot) {
            sourceFile = util.relative(sourceRoot, sourceFile);
          }
          this.setSourceContent(sourceFile, content);
        }
      }, this);
    };

  /**
   * A mapping can have one of the three levels of data:
   *
   *   1. Just the generated position.
   *   2. The Generated position, original position, and original source.
   *   3. Generated and original position, original source, as well as a name
   *      token.
   *
   * To maintain consistency, we validate that any new mapping being added falls
   * in to one of these categories.
   */
  SourceMapGenerator.prototype._validateMapping =
    function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,
                                                aName) {
      if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
          && aGenerated.line > 0 && aGenerated.column >= 0
          && !aOriginal && !aSource && !aName) {
        // Case 1.
        return;
      }
      else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
               && aOriginal && 'line' in aOriginal && 'column' in aOriginal
               && aGenerated.line > 0 && aGenerated.column >= 0
               && aOriginal.line > 0 && aOriginal.column >= 0
               && aSource) {
        // Cases 2 and 3.
        return;
      }
      else {
        throw new Error('Invalid mapping: ' + JSON.stringify({
          generated: aGenerated,
          source: aSource,
          original: aOriginal,
          name: aName
        }));
      }
    };

  /**
   * Serialize the accumulated mappings in to the stream of base 64 VLQs
   * specified by the source map format.
   */
  SourceMapGenerator.prototype._serializeMappings =
    function SourceMapGenerator_serializeMappings() {
      var previousGeneratedColumn = 0;
      var previousGeneratedLine = 1;
      var previousOriginalColumn = 0;
      var previousOriginalLine = 0;
      var previousName = 0;
      var previousSource = 0;
      var result = '';
      var mapping;

      // The mappings must be guaranteed to be in sorted order before we start
      // serializing them or else the generated line numbers (which are defined
      // via the ';' separators) will be all messed up. Note: it might be more
      // performant to maintain the sorting as we insert them, rather than as we
      // serialize them, but the big O is the same either way.
      this._mappings.sort(util.compareByGeneratedPositions);

      for (var i = 0, len = this._mappings.length; i < len; i++) {
        mapping = this._mappings[i];

        if (mapping.generatedLine !== previousGeneratedLine) {
          previousGeneratedColumn = 0;
          while (mapping.generatedLine !== previousGeneratedLine) {
            result += ';';
            previousGeneratedLine++;
          }
        }
        else {
          if (i > 0) {
            if (!util.compareByGeneratedPositions(mapping, this._mappings[i - 1])) {
              continue;
            }
            result += ',';
          }
        }

        result += base64VLQ.encode(mapping.generatedColumn
                                   - previousGeneratedColumn);
        previousGeneratedColumn = mapping.generatedColumn;

        if (mapping.source) {
          result += base64VLQ.encode(this._sources.indexOf(mapping.source)
                                     - previousSource);
          previousSource = this._sources.indexOf(mapping.source);

          // lines are stored 0-based in SourceMap spec version 3
          result += base64VLQ.encode(mapping.originalLine - 1
                                     - previousOriginalLine);
          previousOriginalLine = mapping.originalLine - 1;

          result += base64VLQ.encode(mapping.originalColumn
                                     - previousOriginalColumn);
          previousOriginalColumn = mapping.originalColumn;

          if (mapping.name) {
            result += base64VLQ.encode(this._names.indexOf(mapping.name)
                                       - previousName);
            previousName = this._names.indexOf(mapping.name);
          }
        }
      }

      return result;
    };

  SourceMapGenerator.prototype._generateSourcesContent =
    function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {
      return aSources.map(function (source) {
        if (!this._sourcesContents) {
          return null;
        }
        if (aSourceRoot) {
          source = util.relative(aSourceRoot, source);
        }
        var key = util.toSetString(source);
        return Object.prototype.hasOwnProperty.call(this._sourcesContents,
                                                    key)
          ? this._sourcesContents[key]
          : null;
      }, this);
    };

  /**
   * Externalize the source map.
   */
  SourceMapGenerator.prototype.toJSON =
    function SourceMapGenerator_toJSON() {
      var map = {
        version: this._version,
        file: this._file,
        sources: this._sources.toArray(),
        names: this._names.toArray(),
        mappings: this._serializeMappings()
      };
      if (this._sourceRoot) {
        map.sourceRoot = this._sourceRoot;
      }
      if (this._sourcesContents) {
        map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
      }

      return map;
    };

  /**
   * Render the source map being generated to a string.
   */
  SourceMapGenerator.prototype.toString =
    function SourceMapGenerator_toString() {
      return JSON.stringify(this);
    };

  exports.SourceMapGenerator = SourceMapGenerator;

});

},{"./array-set":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\array-set.js","./base64-vlq":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\base64-vlq.js","./util":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\util.js","amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-node.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;
  var util = require('./util');

  // Matches a Windows-style `\r\n` newline or a `\n` newline used by all other
  // operating systems these days (capturing the result).
  var REGEX_NEWLINE = /(\r?\n)/g;

  // Matches a Windows-style newline, or any character.
  var REGEX_CHARACTER = /\r\n|[\s\S]/g;

  /**
   * SourceNodes provide a way to abstract over interpolating/concatenating
   * snippets of generated JavaScript source code while maintaining the line and
   * column information associated with the original source code.
   *
   * @param aLine The original line number.
   * @param aColumn The original column number.
   * @param aSource The original source's filename.
   * @param aChunks Optional. An array of strings which are snippets of
   *        generated JS, or other SourceNodes.
   * @param aName The original identifier.
   */
  function SourceNode(aLine, aColumn, aSource, aChunks, aName) {
    this.children = [];
    this.sourceContents = {};
    this.line = aLine === undefined ? null : aLine;
    this.column = aColumn === undefined ? null : aColumn;
    this.source = aSource === undefined ? null : aSource;
    this.name = aName === undefined ? null : aName;
    if (aChunks != null) this.add(aChunks);
  }

  /**
   * Creates a SourceNode from generated code and a SourceMapConsumer.
   *
   * @param aGeneratedCode The generated code
   * @param aSourceMapConsumer The SourceMap for the generated code
   */
  SourceNode.fromStringWithSourceMap =
    function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer) {
      // The SourceNode we want to fill with the generated code
      // and the SourceMap
      var node = new SourceNode();

      // All even indices of this array are one line of the generated code,
      // while all odd indices are the newlines between two adjacent lines
      // (since `REGEX_NEWLINE` captures its match).
      // Processed fragments are removed from this array, by calling `shiftNextLine`.
      var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
      var shiftNextLine = function() {
        var lineContents = remainingLines.shift();
        // The last line of a file might not have a newline.
        var newLine = remainingLines.shift() || "";
        return lineContents + newLine;
      };

      // We need to remember the position of "remainingLines"
      var lastGeneratedLine = 1, lastGeneratedColumn = 0;

      // The generate SourceNodes we need a code range.
      // To extract it current and last mapping is used.
      // Here we store the last mapping.
      var lastMapping = null;

      aSourceMapConsumer.eachMapping(function (mapping) {
        if (lastMapping !== null) {
          // We add the code from "lastMapping" to "mapping":
          // First check if there is a new line in between.
          if (lastGeneratedLine < mapping.generatedLine) {
            var code = "";
            // Associate first line with "lastMapping"
            addMappingWithCode(lastMapping, shiftNextLine());
            lastGeneratedLine++;
            lastGeneratedColumn = 0;
            // The remaining code is added without mapping
          } else {
            // There is no new line in between.
            // Associate the code between "lastGeneratedColumn" and
            // "mapping.generatedColumn" with "lastMapping"
            var nextLine = remainingLines[0];
            var code = nextLine.substr(0, mapping.generatedColumn -
                                          lastGeneratedColumn);
            remainingLines[0] = nextLine.substr(mapping.generatedColumn -
                                                lastGeneratedColumn);
            lastGeneratedColumn = mapping.generatedColumn;
            addMappingWithCode(lastMapping, code);
            // No more remaining code, continue
            lastMapping = mapping;
            return;
          }
        }
        // We add the generated code until the first mapping
        // to the SourceNode without any mapping.
        // Each line is added as separate string.
        while (lastGeneratedLine < mapping.generatedLine) {
          node.add(shiftNextLine());
          lastGeneratedLine++;
        }
        if (lastGeneratedColumn < mapping.generatedColumn) {
          var nextLine = remainingLines[0];
          node.add(nextLine.substr(0, mapping.generatedColumn));
          remainingLines[0] = nextLine.substr(mapping.generatedColumn);
          lastGeneratedColumn = mapping.generatedColumn;
        }
        lastMapping = mapping;
      }, this);
      // We have processed all mappings.
      if (remainingLines.length > 0) {
        if (lastMapping) {
          // Associate the remaining code in the current line with "lastMapping"
          addMappingWithCode(lastMapping, shiftNextLine());
        }
        // and add the remaining lines without any mapping
        node.add(remainingLines.join(""));
      }

      // Copy sourcesContent into SourceNode
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          node.setSourceContent(sourceFile, content);
        }
      });

      return node;

      function addMappingWithCode(mapping, code) {
        if (mapping === null || mapping.source === undefined) {
          node.add(code);
        } else {
          node.add(new SourceNode(mapping.originalLine,
                                  mapping.originalColumn,
                                  mapping.source,
                                  code,
                                  mapping.name));
        }
      }
    };

  /**
   * Add a chunk of generated JS to this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */
  SourceNode.prototype.add = function SourceNode_add(aChunk) {
    if (Array.isArray(aChunk)) {
      aChunk.forEach(function (chunk) {
        this.add(chunk);
      }, this);
    }
    else if (aChunk instanceof SourceNode || typeof aChunk === "string") {
      if (aChunk) {
        this.children.push(aChunk);
      }
    }
    else {
      throw new TypeError(
        "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
      );
    }
    return this;
  };

  /**
   * Add a chunk of generated JS to the beginning of this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */
  SourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {
    if (Array.isArray(aChunk)) {
      for (var i = aChunk.length-1; i >= 0; i--) {
        this.prepend(aChunk[i]);
      }
    }
    else if (aChunk instanceof SourceNode || typeof aChunk === "string") {
      this.children.unshift(aChunk);
    }
    else {
      throw new TypeError(
        "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
      );
    }
    return this;
  };

  /**
   * Walk over the tree of JS snippets in this node and its children. The
   * walking function is called once for each snippet of JS and is passed that
   * snippet and the its original associated source's line/column location.
   *
   * @param aFn The traversal function.
   */
  SourceNode.prototype.walk = function SourceNode_walk(aFn) {
    var chunk;
    for (var i = 0, len = this.children.length; i < len; i++) {
      chunk = this.children[i];
      if (chunk instanceof SourceNode) {
        chunk.walk(aFn);
      }
      else {
        if (chunk !== '') {
          aFn(chunk, { source: this.source,
                       line: this.line,
                       column: this.column,
                       name: this.name });
        }
      }
    }
  };

  /**
   * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between
   * each of `this.children`.
   *
   * @param aSep The separator.
   */
  SourceNode.prototype.join = function SourceNode_join(aSep) {
    var newChildren;
    var i;
    var len = this.children.length;
    if (len > 0) {
      newChildren = [];
      for (i = 0; i < len-1; i++) {
        newChildren.push(this.children[i]);
        newChildren.push(aSep);
      }
      newChildren.push(this.children[i]);
      this.children = newChildren;
    }
    return this;
  };

  /**
   * Call String.prototype.replace on the very right-most source snippet. Useful
   * for trimming whitespace from the end of a source node, etc.
   *
   * @param aPattern The pattern to replace.
   * @param aReplacement The thing to replace the pattern with.
   */
  SourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {
    var lastChild = this.children[this.children.length - 1];
    if (lastChild instanceof SourceNode) {
      lastChild.replaceRight(aPattern, aReplacement);
    }
    else if (typeof lastChild === 'string') {
      this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
    }
    else {
      this.children.push(''.replace(aPattern, aReplacement));
    }
    return this;
  };

  /**
   * Set the source content for a source file. This will be added to the SourceMapGenerator
   * in the sourcesContent field.
   *
   * @param aSourceFile The filename of the source file
   * @param aSourceContent The content of the source file
   */
  SourceNode.prototype.setSourceContent =
    function SourceNode_setSourceContent(aSourceFile, aSourceContent) {
      this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
    };

  /**
   * Walk over the tree of SourceNodes. The walking function is called for each
   * source file content and is passed the filename and source content.
   *
   * @param aFn The traversal function.
   */
  SourceNode.prototype.walkSourceContents =
    function SourceNode_walkSourceContents(aFn) {
      for (var i = 0, len = this.children.length; i < len; i++) {
        if (this.children[i] instanceof SourceNode) {
          this.children[i].walkSourceContents(aFn);
        }
      }

      var sources = Object.keys(this.sourceContents);
      for (var i = 0, len = sources.length; i < len; i++) {
        aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);
      }
    };

  /**
   * Return the string representation of this source node. Walks over the tree
   * and concatenates all the various snippets together to one string.
   */
  SourceNode.prototype.toString = function SourceNode_toString() {
    var str = "";
    this.walk(function (chunk) {
      str += chunk;
    });
    return str;
  };

  /**
   * Returns the string representation of this source node along with a source
   * map.
   */
  SourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {
    var generated = {
      code: "",
      line: 1,
      column: 0
    };
    var map = new SourceMapGenerator(aArgs);
    var sourceMappingActive = false;
    var lastOriginalSource = null;
    var lastOriginalLine = null;
    var lastOriginalColumn = null;
    var lastOriginalName = null;
    this.walk(function (chunk, original) {
      generated.code += chunk;
      if (original.source !== null
          && original.line !== null
          && original.column !== null) {
        if(lastOriginalSource !== original.source
           || lastOriginalLine !== original.line
           || lastOriginalColumn !== original.column
           || lastOriginalName !== original.name) {
          map.addMapping({
            source: original.source,
            original: {
              line: original.line,
              column: original.column
            },
            generated: {
              line: generated.line,
              column: generated.column
            },
            name: original.name
          });
        }
        lastOriginalSource = original.source;
        lastOriginalLine = original.line;
        lastOriginalColumn = original.column;
        lastOriginalName = original.name;
        sourceMappingActive = true;
      } else if (sourceMappingActive) {
        map.addMapping({
          generated: {
            line: generated.line,
            column: generated.column
          }
        });
        lastOriginalSource = null;
        sourceMappingActive = false;
      }
      chunk.match(REGEX_CHARACTER).forEach(function (ch, idx, array) {
        if (REGEX_NEWLINE.test(ch)) {
          generated.line++;
          generated.column = 0;
          // Mappings end at eol
          if (idx + 1 === array.length) {
            lastOriginalSource = null;
            sourceMappingActive = false;
          } else if (sourceMappingActive) {
            map.addMapping({
              source: original.source,
              original: {
                line: original.line,
                column: original.column
              },
              generated: {
                line: generated.line,
                column: generated.column
              },
              name: original.name
            });
          }
        } else {
          generated.column += ch.length;
        }
      });
    });
    this.walkSourceContents(function (sourceFile, sourceContent) {
      map.setSourceContent(sourceFile, sourceContent);
    });

    return { code: generated.code, map: map };
  };

  exports.SourceNode = SourceNode;

});

},{"./source-map-generator":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\source-map-generator.js","./util":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\util.js","amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map\\util.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  /**
   * This is a helper function for getting values from parameter/options
   * objects.
   *
   * @param args The object we are extracting values from
   * @param name The name of the property we are getting.
   * @param defaultValue An optional value to return if the property is missing
   * from the object. If this is not specified and the property is missing, an
   * error will be thrown.
   */
  function getArg(aArgs, aName, aDefaultValue) {
    if (aName in aArgs) {
      return aArgs[aName];
    } else if (arguments.length === 3) {
      return aDefaultValue;
    } else {
      throw new Error('"' + aName + '" is a required argument.');
    }
  }
  exports.getArg = getArg;

  var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;
  var dataUrlRegexp = /^data:.+\,.+$/;

  function urlParse(aUrl) {
    var match = aUrl.match(urlRegexp);
    if (!match) {
      return null;
    }
    return {
      scheme: match[1],
      auth: match[2],
      host: match[3],
      port: match[4],
      path: match[5]
    };
  }
  exports.urlParse = urlParse;

  function urlGenerate(aParsedUrl) {
    var url = '';
    if (aParsedUrl.scheme) {
      url += aParsedUrl.scheme + ':';
    }
    url += '//';
    if (aParsedUrl.auth) {
      url += aParsedUrl.auth + '@';
    }
    if (aParsedUrl.host) {
      url += aParsedUrl.host;
    }
    if (aParsedUrl.port) {
      url += ":" + aParsedUrl.port
    }
    if (aParsedUrl.path) {
      url += aParsedUrl.path;
    }
    return url;
  }
  exports.urlGenerate = urlGenerate;

  /**
   * Normalizes a path, or the path portion of a URL:
   *
   * - Replaces consequtive slashes with one slash.
   * - Removes unnecessary '.' parts.
   * - Removes unnecessary '<dir>/..' parts.
   *
   * Based on code in the Node.js 'path' core module.
   *
   * @param aPath The path or url to normalize.
   */
  function normalize(aPath) {
    var path = aPath;
    var url = urlParse(aPath);
    if (url) {
      if (!url.path) {
        return aPath;
      }
      path = url.path;
    }
    var isAbsolute = (path.charAt(0) === '/');

    var parts = path.split(/\/+/);
    for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {
      part = parts[i];
      if (part === '.') {
        parts.splice(i, 1);
      } else if (part === '..') {
        up++;
      } else if (up > 0) {
        if (part === '') {
          // The first part is blank if the path is absolute. Trying to go
          // above the root is a no-op. Therefore we can remove all '..' parts
          // directly after the root.
          parts.splice(i + 1, up);
          up = 0;
        } else {
          parts.splice(i, 2);
          up--;
        }
      }
    }
    path = parts.join('/');

    if (path === '') {
      path = isAbsolute ? '/' : '.';
    }

    if (url) {
      url.path = path;
      return urlGenerate(url);
    }
    return path;
  }
  exports.normalize = normalize;

  /**
   * Joins two paths/URLs.
   *
   * @param aRoot The root path or URL.
   * @param aPath The path or URL to be joined with the root.
   *
   * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a
   *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended
   *   first.
   * - Otherwise aPath is a path. If aRoot is a URL, then its path portion
   *   is updated with the result and aRoot is returned. Otherwise the result
   *   is returned.
   *   - If aPath is absolute, the result is aPath.
   *   - Otherwise the two paths are joined with a slash.
   * - Joining for example 'http://' and 'www.example.com' is also supported.
   */
  function join(aRoot, aPath) {
    var aPathUrl = urlParse(aPath);
    var aRootUrl = urlParse(aRoot);
    if (aRootUrl) {
      aRoot = aRootUrl.path || '/';
    }

    // `join(foo, '//www.example.org')`
    if (aPathUrl && !aPathUrl.scheme) {
      if (aRootUrl) {
        aPathUrl.scheme = aRootUrl.scheme;
      }
      return urlGenerate(aPathUrl);
    }

    if (aPathUrl || aPath.match(dataUrlRegexp)) {
      return aPath;
    }

    // `join('http://', 'www.example.com')`
    if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
      aRootUrl.host = aPath;
      return urlGenerate(aRootUrl);
    }

    var joined = aPath.charAt(0) === '/'
      ? aPath
      : normalize(aRoot.replace(/\/+$/, '') + '/' + aPath);

    if (aRootUrl) {
      aRootUrl.path = joined;
      return urlGenerate(aRootUrl);
    }
    return joined;
  }
  exports.join = join;

  /**
   * Because behavior goes wacky when you set `__proto__` on objects, we
   * have to prefix all the strings in our set with an arbitrary character.
   *
   * See https://github.com/mozilla/source-map/pull/31 and
   * https://github.com/mozilla/source-map/issues/30
   *
   * @param String aStr
   */
  function toSetString(aStr) {
    return '$' + aStr;
  }
  exports.toSetString = toSetString;

  function fromSetString(aStr) {
    return aStr.substr(1);
  }
  exports.fromSetString = fromSetString;

  function relative(aRoot, aPath) {
    aRoot = aRoot.replace(/\/$/, '');

    var url = urlParse(aRoot);
    if (aPath.charAt(0) == "/" && url && url.path == "/") {
      return aPath.slice(1);
    }

    return aPath.indexOf(aRoot + '/') === 0
      ? aPath.substr(aRoot.length + 1)
      : aPath;
  }
  exports.relative = relative;

  function strcmp(aStr1, aStr2) {
    var s1 = aStr1 || "";
    var s2 = aStr2 || "";
    return (s1 > s2) - (s1 < s2);
  }

  /**
   * Comparator between two mappings where the original positions are compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same original source/line/column, but different generated
   * line and column the same. Useful when searching for a mapping with a
   * stubbed out mapping.
   */
  function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {
    var cmp;

    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp || onlyCompareOriginal) {
      return cmp;
    }

    cmp = strcmp(mappingA.name, mappingB.name);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp) {
      return cmp;
    }

    return mappingA.generatedColumn - mappingB.generatedColumn;
  };
  exports.compareByOriginalPositions = compareByOriginalPositions;

  /**
   * Comparator between two mappings where the generated positions are
   * compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same generated line and column, but different
   * source/name/original line and column the same. Useful when searching for a
   * mapping with a stubbed out mapping.
   */
  function compareByGeneratedPositions(mappingA, mappingB, onlyCompareGenerated) {
    var cmp;

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    if (cmp || onlyCompareGenerated) {
      return cmp;
    }

    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp) {
      return cmp;
    }

    return strcmp(mappingA.name, mappingB.name);
  };
  exports.compareByGeneratedPositions = compareByGeneratedPositions;

});

},{"amdefine":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js":[function(require,module,exports){
(function (process,__filename){
/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 0.1.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */

/*jslint node: true */
/*global module, process */
'use strict';

/**
 * Creates a define for node.
 * @param {Object} module the "module" object that is defined by Node for the
 * current module.
 * @param {Function} [requireFn]. Node's require function for the current module.
 * It only needs to be passed in Node versions before 0.5, when module.require
 * did not exist.
 * @returns {Function} a define function that is usable for the current node
 * module.
 */
function amdefine(module, requireFn) {
    'use strict';
    var defineCache = {},
        loaderCache = {},
        alreadyCalled = false,
        path = require('path'),
        makeRequire, stringRequire;

    /**
     * Trims the . and .. from an array of path segments.
     * It will keep a leading path segment if a .. will become
     * the first path segment, to help with module name lookups,
     * which act like paths, but can be remapped. But the end result,
     * all paths that use this function should look normalized.
     * NOTE: this method MODIFIES the input array.
     * @param {Array} ary the array of path segments.
     */
    function trimDots(ary) {
        var i, part;
        for (i = 0; ary[i]; i+= 1) {
            part = ary[i];
            if (part === '.') {
                ary.splice(i, 1);
                i -= 1;
            } else if (part === '..') {
                if (i === 1 && (ary[2] === '..' || ary[0] === '..')) {
                    //End of the line. Keep at least one non-dot
                    //path segment at the front so it can be mapped
                    //correctly to disk. Otherwise, there is likely
                    //no path mapping for a path starting with '..'.
                    //This can still fail, but catches the most reasonable
                    //uses of ..
                    break;
                } else if (i > 0) {
                    ary.splice(i - 1, 2);
                    i -= 2;
                }
            }
        }
    }

    function normalize(name, baseName) {
        var baseParts;

        //Adjust any relative paths.
        if (name && name.charAt(0) === '.') {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                baseParts = baseName.split('/');
                baseParts = baseParts.slice(0, baseParts.length - 1);
                baseParts = baseParts.concat(name.split('/'));
                trimDots(baseParts);
                name = baseParts.join('/');
            }
        }

        return name;
    }

    /**
     * Create the normalize() function passed to a loader plugin's
     * normalize method.
     */
    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(id) {
        function load(value) {
            loaderCache[id] = value;
        }

        load.fromText = function (id, text) {
            //This one is difficult because the text can/probably uses
            //define, and any relative paths and requires should be relative
            //to that id was it would be found on disk. But this would require
            //bootstrapping a module/require fairly deeply from node core.
            //Not sure how best to go about that yet.
            throw new Error('amdefine does not implement load.fromText');
        };

        return load;
    }

    makeRequire = function (systemRequire, exports, module, relId) {
        function amdRequire(deps, callback) {
            if (typeof deps === 'string') {
                //Synchronous, single module require('')
                return stringRequire(systemRequire, exports, module, deps, relId);
            } else {
                //Array of dependencies with a callback.

                //Convert the dependencies to modules.
                deps = deps.map(function (depName) {
                    return stringRequire(systemRequire, exports, module, depName, relId);
                });

                //Wait for next tick to call back the require call.
                process.nextTick(function () {
                    callback.apply(null, deps);
                });
            }
        }

        amdRequire.toUrl = function (filePath) {
            if (filePath.indexOf('.') === 0) {
                return normalize(filePath, path.dirname(module.filename));
            } else {
                return filePath;
            }
        };

        return amdRequire;
    };

    //Favor explicit value, passed in if the module wants to support Node 0.4.
    requireFn = requireFn || function req() {
        return module.require.apply(module, arguments);
    };

    function runFactory(id, deps, factory) {
        var r, e, m, result;

        if (id) {
            e = loaderCache[id] = {};
            m = {
                id: id,
                uri: __filename,
                exports: e
            };
            r = makeRequire(requireFn, e, m, id);
        } else {
            //Only support one define call per file
            if (alreadyCalled) {
                throw new Error('amdefine with no module ID cannot be called more than once per file.');
            }
            alreadyCalled = true;

            //Use the real variables from node
            //Use module.exports for exports, since
            //the exports in here is amdefine exports.
            e = module.exports;
            m = module;
            r = makeRequire(requireFn, e, m, module.id);
        }

        //If there are dependencies, they are strings, so need
        //to convert them to dependency values.
        if (deps) {
            deps = deps.map(function (depName) {
                return r(depName);
            });
        }

        //Call the factory with the right dependencies.
        if (typeof factory === 'function') {
            result = factory.apply(m.exports, deps);
        } else {
            result = factory;
        }

        if (result !== undefined) {
            m.exports = result;
            if (id) {
                loaderCache[id] = m.exports;
            }
        }
    }

    stringRequire = function (systemRequire, exports, module, id, relId) {
        //Split the ID by a ! so that
        var index = id.indexOf('!'),
            originalId = id,
            prefix, plugin;

        if (index === -1) {
            id = normalize(id, relId);

            //Straight module lookup. If it is one of the special dependencies,
            //deal with it, otherwise, delegate to node.
            if (id === 'require') {
                return makeRequire(systemRequire, exports, module, relId);
            } else if (id === 'exports') {
                return exports;
            } else if (id === 'module') {
                return module;
            } else if (loaderCache.hasOwnProperty(id)) {
                return loaderCache[id];
            } else if (defineCache[id]) {
                runFactory.apply(null, defineCache[id]);
                return loaderCache[id];
            } else {
                if(systemRequire) {
                    return systemRequire(originalId);
                } else {
                    throw new Error('No module with ID: ' + id);
                }
            }
        } else {
            //There is a plugin in play.
            prefix = id.substring(0, index);
            id = id.substring(index + 1, id.length);

            plugin = stringRequire(systemRequire, exports, module, prefix, relId);

            if (plugin.normalize) {
                id = plugin.normalize(id, makeNormalize(relId));
            } else {
                //Normalize the ID normally.
                id = normalize(id, relId);
            }

            if (loaderCache[id]) {
                return loaderCache[id];
            } else {
                plugin.load(id, makeRequire(systemRequire, exports, module, relId), makeLoad(id), {});

                return loaderCache[id];
            }
        }
    };

    //Create a define function specific to the module asking for amdefine.
    function define(id, deps, factory) {
        if (Array.isArray(id)) {
            factory = deps;
            deps = id;
            id = undefined;
        } else if (typeof id !== 'string') {
            factory = id;
            id = deps = undefined;
        }

        if (deps && !Array.isArray(deps)) {
            factory = deps;
            deps = undefined;
        }

        if (!deps) {
            deps = ['require', 'exports', 'module'];
        }

        //Set up properties for this module. If an ID, then use
        //internal cache. If no ID, then use the external variables
        //for this node module.
        if (id) {
            //Put the module in deep freeze until there is a
            //require call for it.
            defineCache[id] = [id, deps, factory];
        } else {
            runFactory(id, deps, factory);
        }
    }

    //define.require, which has access to all the values in the
    //cache. Useful for AMD modules that all have IDs in the file,
    //but need to finally export a value to node based on one of those
    //IDs.
    define.require = function (id) {
        if (loaderCache[id]) {
            return loaderCache[id];
        }

        if (defineCache[id]) {
            runFactory.apply(null, defineCache[id]);
            return loaderCache[id];
        }
    };

    define.amd = {};

    return define;
}

module.exports = amdefine;

}).call(this,require('_process'),"/node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js")

},{"_process":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\process\\browser.js","path":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\path-browserify\\index.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\tools\\node.js":[function(require,module,exports){
var sys = require("util");
var MOZ_SourceMap = require("source-map");
var UglifyJS = exports;
/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function array_to_hash(a) {
    var ret = Object.create(null);
    for (var i = 0; i < a.length; ++i)
        ret[a[i]] = true;
    return ret;
};

function slice(a, start) {
    return Array.prototype.slice.call(a, start || 0);
};

function characters(str) {
    return str.split("");
};

function member(name, array) {
    for (var i = array.length; --i >= 0;)
        if (array[i] == name)
            return true;
    return false;
};

function find_if(func, array) {
    for (var i = 0, n = array.length; i < n; ++i) {
        if (func(array[i]))
            return array[i];
    }
};

function repeat_string(str, i) {
    if (i <= 0) return "";
    if (i == 1) return str;
    var d = repeat_string(str, i >> 1);
    d += d;
    if (i & 1) d += str;
    return d;
};

function DefaultsError(msg, defs) {
    Error.call(this, msg);
    this.msg = msg;
    this.defs = defs;
};
DefaultsError.prototype = Object.create(Error.prototype);
DefaultsError.prototype.constructor = DefaultsError;

DefaultsError.croak = function(msg, defs) {
    throw new DefaultsError(msg, defs);
};

function defaults(args, defs, croak) {
    if (args === true)
        args = {};
    var ret = args || {};
    if (croak) for (var i in ret) if (ret.hasOwnProperty(i) && !defs.hasOwnProperty(i))
        DefaultsError.croak("`" + i + "` is not a supported option", defs);
    for (var i in defs) if (defs.hasOwnProperty(i)) {
        ret[i] = (args && args.hasOwnProperty(i)) ? args[i] : defs[i];
    }
    return ret;
};

function merge(obj, ext) {
    for (var i in ext) if (ext.hasOwnProperty(i)) {
        obj[i] = ext[i];
    }
    return obj;
};

function noop() {};

var MAP = (function(){
    function MAP(a, f, backwards) {
        var ret = [], top = [], i;
        function doit() {
            var val = f(a[i], i);
            var is_last = val instanceof Last;
            if (is_last) val = val.v;
            if (val instanceof AtTop) {
                val = val.v;
                if (val instanceof Splice) {
                    top.push.apply(top, backwards ? val.v.slice().reverse() : val.v);
                } else {
                    top.push(val);
                }
            }
            else if (val !== skip) {
                if (val instanceof Splice) {
                    ret.push.apply(ret, backwards ? val.v.slice().reverse() : val.v);
                } else {
                    ret.push(val);
                }
            }
            return is_last;
        };
        if (a instanceof Array) {
            if (backwards) {
                for (i = a.length; --i >= 0;) if (doit()) break;
                ret.reverse();
                top.reverse();
            } else {
                for (i = 0; i < a.length; ++i) if (doit()) break;
            }
        }
        else {
            for (i in a) if (a.hasOwnProperty(i)) if (doit()) break;
        }
        return top.concat(ret);
    };
    MAP.at_top = function(val) { return new AtTop(val) };
    MAP.splice = function(val) { return new Splice(val) };
    MAP.last = function(val) { return new Last(val) };
    var skip = MAP.skip = {};
    function AtTop(val) { this.v = val };
    function Splice(val) { this.v = val };
    function Last(val) { this.v = val };
    return MAP;
})();

function push_uniq(array, el) {
    if (array.indexOf(el) < 0)
        array.push(el);
};

function string_template(text, props) {
    return text.replace(/\{(.+?)\}/g, function(str, p){
        return props[p];
    });
};

function remove(array, el) {
    for (var i = array.length; --i >= 0;) {
        if (array[i] === el) array.splice(i, 1);
    }
};

function mergeSort(array, cmp) {
    if (array.length < 2) return array.slice();
    function merge(a, b) {
        var r = [], ai = 0, bi = 0, i = 0;
        while (ai < a.length && bi < b.length) {
            cmp(a[ai], b[bi]) <= 0
                ? r[i++] = a[ai++]
                : r[i++] = b[bi++];
        }
        if (ai < a.length) r.push.apply(r, a.slice(ai));
        if (bi < b.length) r.push.apply(r, b.slice(bi));
        return r;
    };
    function _ms(a) {
        if (a.length <= 1)
            return a;
        var m = Math.floor(a.length / 2), left = a.slice(0, m), right = a.slice(m);
        left = _ms(left);
        right = _ms(right);
        return merge(left, right);
    };
    return _ms(array);
};

function set_difference(a, b) {
    return a.filter(function(el){
        return b.indexOf(el) < 0;
    });
};

function set_intersection(a, b) {
    return a.filter(function(el){
        return b.indexOf(el) >= 0;
    });
};

// this function is taken from Acorn [1], written by Marijn Haverbeke
// [1] https://github.com/marijnh/acorn
function makePredicate(words) {
    if (!(words instanceof Array)) words = words.split(" ");
    var f = "", cats = [];
    out: for (var i = 0; i < words.length; ++i) {
        for (var j = 0; j < cats.length; ++j)
            if (cats[j][0].length == words[i].length) {
                cats[j].push(words[i]);
                continue out;
            }
        cats.push([words[i]]);
    }
    function compareTo(arr) {
        if (arr.length == 1) return f += "return str === " + JSON.stringify(arr[0]) + ";";
        f += "switch(str){";
        for (var i = 0; i < arr.length; ++i) f += "case " + JSON.stringify(arr[i]) + ":";
        f += "return true}return false;";
    }
    // When there are more than three length categories, an outer
    // switch first dispatches on the lengths, to save on comparisons.
    if (cats.length > 3) {
        cats.sort(function(a, b) {return b.length - a.length;});
        f += "switch(str.length){";
        for (var i = 0; i < cats.length; ++i) {
            var cat = cats[i];
            f += "case " + cat[0].length + ":";
            compareTo(cat);
        }
        f += "}";
        // Otherwise, simply generate a flat `switch` statement.
    } else {
        compareTo(words);
    }
    return new Function("str", f);
};

function all(array, predicate) {
    for (var i = array.length; --i >= 0;)
        if (!predicate(array[i]))
            return false;
    return true;
};

function Dictionary() {
    this._values = Object.create(null);
    this._size = 0;
};
Dictionary.prototype = {
    set: function(key, val) {
        if (!this.has(key)) ++this._size;
        this._values["$" + key] = val;
        return this;
    },
    add: function(key, val) {
        if (this.has(key)) {
            this.get(key).push(val);
        } else {
            this.set(key, [ val ]);
        }
        return this;
    },
    get: function(key) { return this._values["$" + key] },
    del: function(key) {
        if (this.has(key)) {
            --this._size;
            delete this._values["$" + key];
        }
        return this;
    },
    has: function(key) { return ("$" + key) in this._values },
    each: function(f) {
        for (var i in this._values)
            f(this._values[i], i.substr(1));
    },
    size: function() {
        return this._size;
    },
    map: function(f) {
        var ret = [];
        for (var i in this._values)
            ret.push(f(this._values[i], i.substr(1)));
        return ret;
    }
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function DEFNODE(type, props, methods, base) {
    if (arguments.length < 4) base = AST_Node;
    if (!props) props = [];
    else props = props.split(/\s+/);
    var self_props = props;
    if (base && base.PROPS)
        props = props.concat(base.PROPS);
    var code = "return function AST_" + type + "(props){ if (props) { ";
    for (var i = props.length; --i >= 0;) {
        code += "this." + props[i] + " = props." + props[i] + ";";
    }
    var proto = base && new base;
    if (proto && proto.initialize || (methods && methods.initialize))
        code += "this.initialize();";
    code += "}}";
    var ctor = new Function(code)();
    if (proto) {
        ctor.prototype = proto;
        ctor.BASE = base;
    }
    if (base) base.SUBCLASSES.push(ctor);
    ctor.prototype.CTOR = ctor;
    ctor.PROPS = props || null;
    ctor.SELF_PROPS = self_props;
    ctor.SUBCLASSES = [];
    if (type) {
        ctor.prototype.TYPE = ctor.TYPE = type;
    }
    if (methods) for (i in methods) if (methods.hasOwnProperty(i)) {
        if (/^\$/.test(i)) {
            ctor[i.substr(1)] = methods[i];
        } else {
            ctor.prototype[i] = methods[i];
        }
    }
    ctor.DEFMETHOD = function(name, method) {
        this.prototype[name] = method;
    };
    return ctor;
};

var AST_Token = DEFNODE("Token", "type value line col pos endpos nlb comments_before file", {
}, null);

var AST_Node = DEFNODE("Node", "start end", {
    clone: function() {
        return new this.CTOR(this);
    },
    $documentation: "Base class of all AST nodes",
    $propdoc: {
        start: "[AST_Token] The first token of this node",
        end: "[AST_Token] The last token of this node"
    },
    _walk: function(visitor) {
        return visitor._visit(this);
    },
    walk: function(visitor) {
        return this._walk(visitor); // not sure the indirection will be any help
    }
}, null);

AST_Node.warn_function = null;
AST_Node.warn = function(txt, props) {
    if (AST_Node.warn_function)
        AST_Node.warn_function(string_template(txt, props));
};

/* -----[ statements ]----- */

var AST_Statement = DEFNODE("Statement", null, {
    $documentation: "Base class of all statements",
});

var AST_Debugger = DEFNODE("Debugger", null, {
    $documentation: "Represents a debugger statement",
}, AST_Statement);

var AST_Directive = DEFNODE("Directive", "value scope", {
    $documentation: "Represents a directive, like \"use strict\";",
    $propdoc: {
        value: "[string] The value of this directive as a plain string (it's not an AST_String!)",
        scope: "[AST_Scope/S] The scope that this directive affects"
    },
}, AST_Statement);

var AST_SimpleStatement = DEFNODE("SimpleStatement", "body", {
    $documentation: "A statement consisting of an expression, i.e. a = 1 + 2",
    $propdoc: {
        body: "[AST_Node] an expression node (should not be instanceof AST_Statement)"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.body._walk(visitor);
        });
    }
}, AST_Statement);

function walk_body(node, visitor) {
    if (node.body instanceof AST_Statement) {
        node.body._walk(visitor);
    }
    else node.body.forEach(function(stat){
        stat._walk(visitor);
    });
};

var AST_Block = DEFNODE("Block", "body", {
    $documentation: "A body of statements (usually bracketed)",
    $propdoc: {
        body: "[AST_Statement*] an array of statements"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            walk_body(this, visitor);
        });
    }
}, AST_Statement);

var AST_BlockStatement = DEFNODE("BlockStatement", null, {
    $documentation: "A block statement",
}, AST_Block);

var AST_EmptyStatement = DEFNODE("EmptyStatement", null, {
    $documentation: "The empty statement (empty block or simply a semicolon)",
    _walk: function(visitor) {
        return visitor._visit(this);
    }
}, AST_Statement);

var AST_StatementWithBody = DEFNODE("StatementWithBody", "body", {
    $documentation: "Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",
    $propdoc: {
        body: "[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.body._walk(visitor);
        });
    }
}, AST_Statement);

var AST_LabeledStatement = DEFNODE("LabeledStatement", "label", {
    $documentation: "Statement with a label",
    $propdoc: {
        label: "[AST_Label] a label definition"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.label._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_StatementWithBody);

var AST_IterationStatement = DEFNODE("IterationStatement", null, {
    $documentation: "Internal class.  All loops inherit from it."
}, AST_StatementWithBody);

var AST_DWLoop = DEFNODE("DWLoop", "condition", {
    $documentation: "Base class for do/while statements",
    $propdoc: {
        condition: "[AST_Node] the loop condition.  Should not be instanceof AST_Statement"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_Do = DEFNODE("Do", null, {
    $documentation: "A `do` statement",
}, AST_DWLoop);

var AST_While = DEFNODE("While", null, {
    $documentation: "A `while` statement",
}, AST_DWLoop);

var AST_For = DEFNODE("For", "init condition step", {
    $documentation: "A `for` statement",
    $propdoc: {
        init: "[AST_Node?] the `for` initialization code, or null if empty",
        condition: "[AST_Node?] the `for` termination clause, or null if empty",
        step: "[AST_Node?] the `for` update clause, or null if empty"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            if (this.init) this.init._walk(visitor);
            if (this.condition) this.condition._walk(visitor);
            if (this.step) this.step._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_ForIn = DEFNODE("ForIn", "init name object", {
    $documentation: "A `for ... in` statement",
    $propdoc: {
        init: "[AST_Node] the `for/in` initialization code",
        name: "[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",
        object: "[AST_Node] the object that we're looping through"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.init._walk(visitor);
            this.object._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_With = DEFNODE("With", "expression", {
    $documentation: "A `with` statement",
    $propdoc: {
        expression: "[AST_Node] the `with` expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_StatementWithBody);

/* -----[ scope and functions ]----- */

var AST_Scope = DEFNODE("Scope", "directives variables functions uses_with uses_eval parent_scope enclosed cname", {
    $documentation: "Base class for all statements introducing a lexical scope",
    $propdoc: {
        directives: "[string*/S] an array of directives declared in this scope",
        variables: "[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",
        functions: "[Object/S] like `variables`, but only lists function declarations",
        uses_with: "[boolean/S] tells whether this scope uses the `with` statement",
        uses_eval: "[boolean/S] tells whether this scope contains a direct call to the global `eval`",
        parent_scope: "[AST_Scope?/S] link to the parent scope",
        enclosed: "[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",
        cname: "[integer/S] current index for mangling variables (used internally by the mangler)",
    },
}, AST_Block);

var AST_Toplevel = DEFNODE("Toplevel", "globals", {
    $documentation: "The toplevel scope",
    $propdoc: {
        globals: "[Object/S] a map of name -> SymbolDef for all undeclared names",
    },
    wrap_enclose: function(arg_parameter_pairs) {
        var self = this;
        var args = [];
        var parameters = [];

        arg_parameter_pairs.forEach(function(pair) {
            var splitAt = pair.lastIndexOf(":");

            args.push(pair.substr(0, splitAt));
            parameters.push(pair.substr(splitAt + 1));
        });

        var wrapped_tl = "(function(" + parameters.join(",") + "){ '$ORIG'; })(" + args.join(",") + ")";
        wrapped_tl = parse(wrapped_tl);
        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node){
            if (node instanceof AST_Directive && node.value == "$ORIG") {
                return MAP.splice(self.body);
            }
        }));
        return wrapped_tl;
    },
    wrap_commonjs: function(name, export_all) {
        var self = this;
        var to_export = [];
        if (export_all) {
            self.figure_out_scope();
            self.walk(new TreeWalker(function(node){
                if (node instanceof AST_SymbolDeclaration && node.definition().global) {
                    if (!find_if(function(n){ return n.name == node.name }, to_export))
                        to_export.push(node);
                }
            }));
        }
        var wrapped_tl = "(function(exports, global){ global['" + name + "'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";
        wrapped_tl = parse(wrapped_tl);
        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node){
            if (node instanceof AST_SimpleStatement) {
                node = node.body;
                if (node instanceof AST_String) switch (node.getValue()) {
                  case "$ORIG":
                    return MAP.splice(self.body);
                  case "$EXPORTS":
                    var body = [];
                    to_export.forEach(function(sym){
                        body.push(new AST_SimpleStatement({
                            body: new AST_Assign({
                                left: new AST_Sub({
                                    expression: new AST_SymbolRef({ name: "exports" }),
                                    property: new AST_String({ value: sym.name }),
                                }),
                                operator: "=",
                                right: new AST_SymbolRef(sym),
                            }),
                        }));
                    });
                    return MAP.splice(body);
                }
            }
        }));
        return wrapped_tl;
    }
}, AST_Scope);

var AST_Lambda = DEFNODE("Lambda", "name argnames uses_arguments", {
    $documentation: "Base class for functions",
    $propdoc: {
        name: "[AST_SymbolDeclaration?] the name of this function",
        argnames: "[AST_SymbolFunarg*] array of function arguments",
        uses_arguments: "[boolean/S] tells whether this function accesses the arguments array"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            if (this.name) this.name._walk(visitor);
            this.argnames.forEach(function(arg){
                arg._walk(visitor);
            });
            walk_body(this, visitor);
        });
    }
}, AST_Scope);

var AST_Accessor = DEFNODE("Accessor", null, {
    $documentation: "A setter/getter function.  The `name` property is always null."
}, AST_Lambda);

var AST_Function = DEFNODE("Function", null, {
    $documentation: "A function expression"
}, AST_Lambda);

var AST_Defun = DEFNODE("Defun", null, {
    $documentation: "A function definition"
}, AST_Lambda);

/* -----[ JUMPS ]----- */

var AST_Jump = DEFNODE("Jump", null, {
    $documentation: "Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"
}, AST_Statement);

var AST_Exit = DEFNODE("Exit", "value", {
    $documentation: "Base class for “exits” (`return` and `throw`)",
    $propdoc: {
        value: "[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"
    },
    _walk: function(visitor) {
        return visitor._visit(this, this.value && function(){
            this.value._walk(visitor);
        });
    }
}, AST_Jump);

var AST_Return = DEFNODE("Return", null, {
    $documentation: "A `return` statement"
}, AST_Exit);

var AST_Throw = DEFNODE("Throw", null, {
    $documentation: "A `throw` statement"
}, AST_Exit);

var AST_LoopControl = DEFNODE("LoopControl", "label", {
    $documentation: "Base class for loop control statements (`break` and `continue`)",
    $propdoc: {
        label: "[AST_LabelRef?] the label, or null if none",
    },
    _walk: function(visitor) {
        return visitor._visit(this, this.label && function(){
            this.label._walk(visitor);
        });
    }
}, AST_Jump);

var AST_Break = DEFNODE("Break", null, {
    $documentation: "A `break` statement"
}, AST_LoopControl);

var AST_Continue = DEFNODE("Continue", null, {
    $documentation: "A `continue` statement"
}, AST_LoopControl);

/* -----[ IF ]----- */

var AST_If = DEFNODE("If", "condition alternative", {
    $documentation: "A `if` statement",
    $propdoc: {
        condition: "[AST_Node] the `if` condition",
        alternative: "[AST_Statement?] the `else` part, or null if not present"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.body._walk(visitor);
            if (this.alternative) this.alternative._walk(visitor);
        });
    }
}, AST_StatementWithBody);

/* -----[ SWITCH ]----- */

var AST_Switch = DEFNODE("Switch", "expression", {
    $documentation: "A `switch` statement",
    $propdoc: {
        expression: "[AST_Node] the `switch` “discriminant”"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_Block);

var AST_SwitchBranch = DEFNODE("SwitchBranch", null, {
    $documentation: "Base class for `switch` branches",
}, AST_Block);

var AST_Default = DEFNODE("Default", null, {
    $documentation: "A `default` switch branch",
}, AST_SwitchBranch);

var AST_Case = DEFNODE("Case", "expression", {
    $documentation: "A `case` switch branch",
    $propdoc: {
        expression: "[AST_Node] the `case` expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_SwitchBranch);

/* -----[ EXCEPTIONS ]----- */

var AST_Try = DEFNODE("Try", "bcatch bfinally", {
    $documentation: "A `try` statement",
    $propdoc: {
        bcatch: "[AST_Catch?] the catch block, or null if not present",
        bfinally: "[AST_Finally?] the finally block, or null if not present"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            walk_body(this, visitor);
            if (this.bcatch) this.bcatch._walk(visitor);
            if (this.bfinally) this.bfinally._walk(visitor);
        });
    }
}, AST_Block);

var AST_Catch = DEFNODE("Catch", "argname", {
    $documentation: "A `catch` node; only makes sense as part of a `try` statement",
    $propdoc: {
        argname: "[AST_SymbolCatch] symbol for the exception"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.argname._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_Block);

var AST_Finally = DEFNODE("Finally", null, {
    $documentation: "A `finally` node; only makes sense as part of a `try` statement"
}, AST_Block);

/* -----[ VAR/CONST ]----- */

var AST_Definitions = DEFNODE("Definitions", "definitions", {
    $documentation: "Base class for `var` or `const` nodes (variable declarations/initializations)",
    $propdoc: {
        definitions: "[AST_VarDef*] array of variable definitions"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.definitions.forEach(function(def){
                def._walk(visitor);
            });
        });
    }
}, AST_Statement);

var AST_Var = DEFNODE("Var", null, {
    $documentation: "A `var` statement"
}, AST_Definitions);

var AST_Const = DEFNODE("Const", null, {
    $documentation: "A `const` statement"
}, AST_Definitions);

var AST_VarDef = DEFNODE("VarDef", "name value", {
    $documentation: "A variable declaration; only appears in a AST_Definitions node",
    $propdoc: {
        name: "[AST_SymbolVar|AST_SymbolConst] name of the variable",
        value: "[AST_Node?] initializer, or null of there's no initializer"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.name._walk(visitor);
            if (this.value) this.value._walk(visitor);
        });
    }
});

/* -----[ OTHER ]----- */

var AST_Call = DEFNODE("Call", "expression args", {
    $documentation: "A function call expression",
    $propdoc: {
        expression: "[AST_Node] expression to invoke as function",
        args: "[AST_Node*] array of arguments"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.args.forEach(function(arg){
                arg._walk(visitor);
            });
        });
    }
});

var AST_New = DEFNODE("New", null, {
    $documentation: "An object instantiation.  Derives from a function call since it has exactly the same properties"
}, AST_Call);

var AST_Seq = DEFNODE("Seq", "car cdr", {
    $documentation: "A sequence expression (two comma-separated expressions)",
    $propdoc: {
        car: "[AST_Node] first element in sequence",
        cdr: "[AST_Node] second element in sequence"
    },
    $cons: function(x, y) {
        var seq = new AST_Seq(x);
        seq.car = x;
        seq.cdr = y;
        return seq;
    },
    $from_array: function(array) {
        if (array.length == 0) return null;
        if (array.length == 1) return array[0].clone();
        var list = null;
        for (var i = array.length; --i >= 0;) {
            list = AST_Seq.cons(array[i], list);
        }
        var p = list;
        while (p) {
            if (p.cdr && !p.cdr.cdr) {
                p.cdr = p.cdr.car;
                break;
            }
            p = p.cdr;
        }
        return list;
    },
    to_array: function() {
        var p = this, a = [];
        while (p) {
            a.push(p.car);
            if (p.cdr && !(p.cdr instanceof AST_Seq)) {
                a.push(p.cdr);
                break;
            }
            p = p.cdr;
        }
        return a;
    },
    add: function(node) {
        var p = this;
        while (p) {
            if (!(p.cdr instanceof AST_Seq)) {
                var cell = AST_Seq.cons(p.cdr, node);
                return p.cdr = cell;
            }
            p = p.cdr;
        }
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.car._walk(visitor);
            if (this.cdr) this.cdr._walk(visitor);
        });
    }
});

var AST_PropAccess = DEFNODE("PropAccess", "expression property", {
    $documentation: "Base class for property access expressions, i.e. `a.foo` or `a[\"foo\"]`",
    $propdoc: {
        expression: "[AST_Node] the “container” expression",
        property: "[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"
    }
});

var AST_Dot = DEFNODE("Dot", null, {
    $documentation: "A dotted property access expression",
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
        });
    }
}, AST_PropAccess);

var AST_Sub = DEFNODE("Sub", null, {
    $documentation: "Index-style property access, i.e. `a[\"foo\"]`",
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.property._walk(visitor);
        });
    }
}, AST_PropAccess);

var AST_Unary = DEFNODE("Unary", "operator expression", {
    $documentation: "Base class for unary expressions",
    $propdoc: {
        operator: "[string] the operator",
        expression: "[AST_Node] expression that this unary operator applies to"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
        });
    }
});

var AST_UnaryPrefix = DEFNODE("UnaryPrefix", null, {
    $documentation: "Unary prefix expression, i.e. `typeof i` or `++i`"
}, AST_Unary);

var AST_UnaryPostfix = DEFNODE("UnaryPostfix", null, {
    $documentation: "Unary postfix expression, i.e. `i++`"
}, AST_Unary);

var AST_Binary = DEFNODE("Binary", "left operator right", {
    $documentation: "Binary expression, i.e. `a + b`",
    $propdoc: {
        left: "[AST_Node] left-hand side expression",
        operator: "[string] the operator",
        right: "[AST_Node] right-hand side expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.left._walk(visitor);
            this.right._walk(visitor);
        });
    }
});

var AST_Conditional = DEFNODE("Conditional", "condition consequent alternative", {
    $documentation: "Conditional expression using the ternary operator, i.e. `a ? b : c`",
    $propdoc: {
        condition: "[AST_Node]",
        consequent: "[AST_Node]",
        alternative: "[AST_Node]"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.consequent._walk(visitor);
            this.alternative._walk(visitor);
        });
    }
});

var AST_Assign = DEFNODE("Assign", null, {
    $documentation: "An assignment expression — `a = b + 5`",
}, AST_Binary);

/* -----[ LITERALS ]----- */

var AST_Array = DEFNODE("Array", "elements", {
    $documentation: "An array literal",
    $propdoc: {
        elements: "[AST_Node*] array of elements"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.elements.forEach(function(el){
                el._walk(visitor);
            });
        });
    }
});

var AST_Object = DEFNODE("Object", "properties", {
    $documentation: "An object literal",
    $propdoc: {
        properties: "[AST_ObjectProperty*] array of properties"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.properties.forEach(function(prop){
                prop._walk(visitor);
            });
        });
    }
});

var AST_ObjectProperty = DEFNODE("ObjectProperty", "key value", {
    $documentation: "Base class for literal object properties",
    $propdoc: {
        key: "[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",
        value: "[AST_Node] property value.  For setters and getters this is an AST_Function."
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.value._walk(visitor);
        });
    }
});

var AST_ObjectKeyVal = DEFNODE("ObjectKeyVal", null, {
    $documentation: "A key: value object property",
}, AST_ObjectProperty);

var AST_ObjectSetter = DEFNODE("ObjectSetter", null, {
    $documentation: "An object setter property",
}, AST_ObjectProperty);

var AST_ObjectGetter = DEFNODE("ObjectGetter", null, {
    $documentation: "An object getter property",
}, AST_ObjectProperty);

var AST_Symbol = DEFNODE("Symbol", "scope name thedef", {
    $propdoc: {
        name: "[string] name of this symbol",
        scope: "[AST_Scope/S] the current scope (not necessarily the definition scope)",
        thedef: "[SymbolDef/S] the definition of this symbol"
    },
    $documentation: "Base class for all symbols",
});

var AST_SymbolAccessor = DEFNODE("SymbolAccessor", null, {
    $documentation: "The name of a property accessor (setter/getter function)"
}, AST_Symbol);

var AST_SymbolDeclaration = DEFNODE("SymbolDeclaration", "init", {
    $documentation: "A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",
    $propdoc: {
        init: "[AST_Node*/S] array of initializers for this declaration."
    }
}, AST_Symbol);

var AST_SymbolVar = DEFNODE("SymbolVar", null, {
    $documentation: "Symbol defining a variable",
}, AST_SymbolDeclaration);

var AST_SymbolConst = DEFNODE("SymbolConst", null, {
    $documentation: "A constant declaration"
}, AST_SymbolDeclaration);

var AST_SymbolFunarg = DEFNODE("SymbolFunarg", null, {
    $documentation: "Symbol naming a function argument",
}, AST_SymbolVar);

var AST_SymbolDefun = DEFNODE("SymbolDefun", null, {
    $documentation: "Symbol defining a function",
}, AST_SymbolDeclaration);

var AST_SymbolLambda = DEFNODE("SymbolLambda", null, {
    $documentation: "Symbol naming a function expression",
}, AST_SymbolDeclaration);

var AST_SymbolCatch = DEFNODE("SymbolCatch", null, {
    $documentation: "Symbol naming the exception in catch",
}, AST_SymbolDeclaration);

var AST_Label = DEFNODE("Label", "references", {
    $documentation: "Symbol naming a label (declaration)",
    $propdoc: {
        references: "[AST_LoopControl*] a list of nodes referring to this label"
    },
    initialize: function() {
        this.references = [];
        this.thedef = this;
    }
}, AST_Symbol);

var AST_SymbolRef = DEFNODE("SymbolRef", null, {
    $documentation: "Reference to some symbol (not definition/declaration)",
}, AST_Symbol);

var AST_LabelRef = DEFNODE("LabelRef", null, {
    $documentation: "Reference to a label symbol",
}, AST_Symbol);

var AST_This = DEFNODE("This", null, {
    $documentation: "The `this` symbol",
}, AST_Symbol);

var AST_Constant = DEFNODE("Constant", null, {
    $documentation: "Base class for all constants",
    getValue: function() {
        return this.value;
    }
});

var AST_String = DEFNODE("String", "value", {
    $documentation: "A string literal",
    $propdoc: {
        value: "[string] the contents of this string"
    }
}, AST_Constant);

var AST_Number = DEFNODE("Number", "value", {
    $documentation: "A number literal",
    $propdoc: {
        value: "[number] the numeric value"
    }
}, AST_Constant);

var AST_RegExp = DEFNODE("RegExp", "value", {
    $documentation: "A regexp literal",
    $propdoc: {
        value: "[RegExp] the actual regexp"
    }
}, AST_Constant);

var AST_Atom = DEFNODE("Atom", null, {
    $documentation: "Base class for atoms",
}, AST_Constant);

var AST_Null = DEFNODE("Null", null, {
    $documentation: "The `null` atom",
    value: null
}, AST_Atom);

var AST_NaN = DEFNODE("NaN", null, {
    $documentation: "The impossible value",
    value: 0/0
}, AST_Atom);

var AST_Undefined = DEFNODE("Undefined", null, {
    $documentation: "The `undefined` value",
    value: (function(){}())
}, AST_Atom);

var AST_Hole = DEFNODE("Hole", null, {
    $documentation: "A hole in an array",
    value: (function(){}())
}, AST_Atom);

var AST_Infinity = DEFNODE("Infinity", null, {
    $documentation: "The `Infinity` value",
    value: 1/0
}, AST_Atom);

var AST_Boolean = DEFNODE("Boolean", null, {
    $documentation: "Base class for booleans",
}, AST_Atom);

var AST_False = DEFNODE("False", null, {
    $documentation: "The `false` atom",
    value: false
}, AST_Boolean);

var AST_True = DEFNODE("True", null, {
    $documentation: "The `true` atom",
    value: true
}, AST_Boolean);

/* -----[ TreeWalker ]----- */

function TreeWalker(callback) {
    this.visit = callback;
    this.stack = [];
};
TreeWalker.prototype = {
    _visit: function(node, descend) {
        this.stack.push(node);
        var ret = this.visit(node, descend ? function(){
            descend.call(node);
        } : noop);
        if (!ret && descend) {
            descend.call(node);
        }
        this.stack.pop();
        return ret;
    },
    parent: function(n) {
        return this.stack[this.stack.length - 2 - (n || 0)];
    },
    push: function (node) {
        this.stack.push(node);
    },
    pop: function() {
        return this.stack.pop();
    },
    self: function() {
        return this.stack[this.stack.length - 1];
    },
    find_parent: function(type) {
        var stack = this.stack;
        for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof type) return x;
        }
    },
    has_directive: function(type) {
        return this.find_parent(AST_Scope).has_directive(type);
    },
    in_boolean_context: function() {
        var stack = this.stack;
        var i = stack.length, self = stack[--i];
        while (i > 0) {
            var p = stack[--i];
            if ((p instanceof AST_If           && p.condition === self) ||
                (p instanceof AST_Conditional  && p.condition === self) ||
                (p instanceof AST_DWLoop       && p.condition === self) ||
                (p instanceof AST_For          && p.condition === self) ||
                (p instanceof AST_UnaryPrefix  && p.operator == "!" && p.expression === self))
            {
                return true;
            }
            if (!(p instanceof AST_Binary && (p.operator == "&&" || p.operator == "||")))
                return false;
            self = p;
        }
    },
    loopcontrol_target: function(label) {
        var stack = this.stack;
        if (label) for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof AST_LabeledStatement && x.label.name == label.name) {
                return x.body;
            }
        } else for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof AST_Switch || x instanceof AST_IterationStatement)
                return x;
        }
    }
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>
    Parser based on parse-js (http://marijn.haverbeke.nl/parse-js/).

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

var KEYWORDS = 'break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with';
var KEYWORDS_ATOM = 'false null true';
var RESERVED_WORDS = 'abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield'
    + " " + KEYWORDS_ATOM + " " + KEYWORDS;
var KEYWORDS_BEFORE_EXPRESSION = 'return new delete throw else case';

KEYWORDS = makePredicate(KEYWORDS);
RESERVED_WORDS = makePredicate(RESERVED_WORDS);
KEYWORDS_BEFORE_EXPRESSION = makePredicate(KEYWORDS_BEFORE_EXPRESSION);
KEYWORDS_ATOM = makePredicate(KEYWORDS_ATOM);

var OPERATOR_CHARS = makePredicate(characters("+-*&%=<>!?|~^"));

var RE_HEX_NUMBER = /^0x[0-9a-f]+$/i;
var RE_OCT_NUMBER = /^0[0-7]+$/;
var RE_DEC_NUMBER = /^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i;

var OPERATORS = makePredicate([
    "in",
    "instanceof",
    "typeof",
    "new",
    "void",
    "delete",
    "++",
    "--",
    "+",
    "-",
    "!",
    "~",
    "&",
    "|",
    "^",
    "*",
    "/",
    "%",
    ">>",
    "<<",
    ">>>",
    "<",
    ">",
    "<=",
    ">=",
    "==",
    "===",
    "!=",
    "!==",
    "?",
    "=",
    "+=",
    "-=",
    "/=",
    "*=",
    "%=",
    ">>=",
    "<<=",
    ">>>=",
    "|=",
    "^=",
    "&=",
    "&&",
    "||"
]);

var WHITESPACE_CHARS = makePredicate(characters(" \u00a0\n\r\t\f\u000b\u200b\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000"));

var PUNC_BEFORE_EXPRESSION = makePredicate(characters("[{(,.;:"));

var PUNC_CHARS = makePredicate(characters("[]{}(),;:"));

var REGEXP_MODIFIERS = makePredicate(characters("gmsiy"));

/* -----[ Tokenizer ]----- */

// regexps adapted from http://xregexp.com/plugins/#unicode
var UNICODE = {
    letter: new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
    non_spacing_mark: new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),
    space_combining_mark: new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),
    connector_punctuation: new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")
};

function is_letter(code) {
    return (code >= 97 && code <= 122)
        || (code >= 65 && code <= 90)
        || (code >= 0xaa && UNICODE.letter.test(String.fromCharCode(code)));
};

function is_digit(code) {
    return code >= 48 && code <= 57; //XXX: find out if "UnicodeDigit" means something else than 0..9
};

function is_alphanumeric_char(code) {
    return is_digit(code) || is_letter(code);
};

function is_unicode_combining_mark(ch) {
    return UNICODE.non_spacing_mark.test(ch) || UNICODE.space_combining_mark.test(ch);
};

function is_unicode_connector_punctuation(ch) {
    return UNICODE.connector_punctuation.test(ch);
};

function is_identifier(name) {
    return !RESERVED_WORDS(name) && /^[a-z_$][a-z0-9_$]*$/i.test(name);
};

function is_identifier_start(code) {
    return code == 36 || code == 95 || is_letter(code);
};

function is_identifier_char(ch) {
    var code = ch.charCodeAt(0);
    return is_identifier_start(code)
        || is_digit(code)
        || code == 8204 // \u200c: zero-width non-joiner <ZWNJ>
        || code == 8205 // \u200d: zero-width joiner <ZWJ> (in my ECMA-262 PDF, this is also 200c)
        || is_unicode_combining_mark(ch)
        || is_unicode_connector_punctuation(ch)
    ;
};

function is_identifier_string(str){
    return /^[a-z_$][a-z0-9_$]*$/i.test(str);
};

function parse_js_number(num) {
    if (RE_HEX_NUMBER.test(num)) {
        return parseInt(num.substr(2), 16);
    } else if (RE_OCT_NUMBER.test(num)) {
        return parseInt(num.substr(1), 8);
    } else if (RE_DEC_NUMBER.test(num)) {
        return parseFloat(num);
    }
};

function JS_Parse_Error(message, line, col, pos) {
    this.message = message;
    this.line = line;
    this.col = col;
    this.pos = pos;
    this.stack = new Error().stack;
};

JS_Parse_Error.prototype.toString = function() {
    return this.message + " (line: " + this.line + ", col: " + this.col + ", pos: " + this.pos + ")" + "\n\n" + this.stack;
};

function js_error(message, filename, line, col, pos) {
    throw new JS_Parse_Error(message, line, col, pos);
};

function is_token(token, type, val) {
    return token.type == type && (val == null || token.value == val);
};

var EX_EOF = {};

function tokenizer($TEXT, filename, html5_comments) {

    var S = {
        text            : $TEXT.replace(/\r\n?|[\n\u2028\u2029]/g, "\n").replace(/\uFEFF/g, ''),
        filename        : filename,
        pos             : 0,
        tokpos          : 0,
        line            : 1,
        tokline         : 0,
        col             : 0,
        tokcol          : 0,
        newline_before  : false,
        regex_allowed   : false,
        comments_before : []
    };

    function peek() { return S.text.charAt(S.pos); };

    function next(signal_eof, in_string) {
        var ch = S.text.charAt(S.pos++);
        if (signal_eof && !ch)
            throw EX_EOF;
        if (ch == "\n") {
            S.newline_before = S.newline_before || !in_string;
            ++S.line;
            S.col = 0;
        } else {
            ++S.col;
        }
        return ch;
    };

    function forward(i) {
        while (i-- > 0) next();
    };

    function looking_at(str) {
        return S.text.substr(S.pos, str.length) == str;
    };

    function find(what, signal_eof) {
        var pos = S.text.indexOf(what, S.pos);
        if (signal_eof && pos == -1) throw EX_EOF;
        return pos;
    };

    function start_token() {
        S.tokline = S.line;
        S.tokcol = S.col;
        S.tokpos = S.pos;
    };

    var prev_was_dot = false;
    function token(type, value, is_comment) {
        S.regex_allowed = ((type == "operator" && !UNARY_POSTFIX(value)) ||
                           (type == "keyword" && KEYWORDS_BEFORE_EXPRESSION(value)) ||
                           (type == "punc" && PUNC_BEFORE_EXPRESSION(value)));
        prev_was_dot = (type == "punc" && value == ".");
        var ret = {
            type   : type,
            value  : value,
            line   : S.tokline,
            col    : S.tokcol,
            pos    : S.tokpos,
            endpos : S.pos,
            nlb    : S.newline_before,
            file   : filename
        };
        if (!is_comment) {
            ret.comments_before = S.comments_before;
            S.comments_before = [];
            // make note of any newlines in the comments that came before
            for (var i = 0, len = ret.comments_before.length; i < len; i++) {
                ret.nlb = ret.nlb || ret.comments_before[i].nlb;
            }
        }
        S.newline_before = false;
        return new AST_Token(ret);
    };

    function skip_whitespace() {
        while (WHITESPACE_CHARS(peek()))
            next();
    };

    function read_while(pred) {
        var ret = "", ch, i = 0;
        while ((ch = peek()) && pred(ch, i++))
            ret += next();
        return ret;
    };

    function parse_error(err) {
        js_error(err, filename, S.tokline, S.tokcol, S.tokpos);
    };

    function read_num(prefix) {
        var has_e = false, after_e = false, has_x = false, has_dot = prefix == ".";
        var num = read_while(function(ch, i){
            var code = ch.charCodeAt(0);
            switch (code) {
              case 120: case 88: // xX
                return has_x ? false : (has_x = true);
              case 101: case 69: // eE
                return has_x ? true : has_e ? false : (has_e = after_e = true);
              case 45: // -
                return after_e || (i == 0 && !prefix);
              case 43: // +
                return after_e;
              case (after_e = false, 46): // .
                return (!has_dot && !has_x && !has_e) ? (has_dot = true) : false;
            }
            return is_alphanumeric_char(code);
        });
        if (prefix) num = prefix + num;
        var valid = parse_js_number(num);
        if (!isNaN(valid)) {
            return token("num", valid);
        } else {
            parse_error("Invalid syntax: " + num);
        }
    };

    function read_escaped_char(in_string) {
        var ch = next(true, in_string);
        switch (ch.charCodeAt(0)) {
          case 110 : return "\n";
          case 114 : return "\r";
          case 116 : return "\t";
          case 98  : return "\b";
          case 118 : return "\u000b"; // \v
          case 102 : return "\f";
          case 48  : return "\0";
          case 120 : return String.fromCharCode(hex_bytes(2)); // \x
          case 117 : return String.fromCharCode(hex_bytes(4)); // \u
          case 10  : return ""; // newline
          default  : return ch;
        }
    };

    function hex_bytes(n) {
        var num = 0;
        for (; n > 0; --n) {
            var digit = parseInt(next(true), 16);
            if (isNaN(digit))
                parse_error("Invalid hex-character pattern in string");
            num = (num << 4) | digit;
        }
        return num;
    };

    var read_string = with_eof_error("Unterminated string constant", function(){
        var quote = next(), ret = "";
        for (;;) {
            var ch = next(true);
            if (ch == "\\") {
                // read OctalEscapeSequence (XXX: deprecated if "strict mode")
                // https://github.com/mishoo/UglifyJS/issues/178
                var octal_len = 0, first = null;
                ch = read_while(function(ch){
                    if (ch >= "0" && ch <= "7") {
                        if (!first) {
                            first = ch;
                            return ++octal_len;
                        }
                        else if (first <= "3" && octal_len <= 2) return ++octal_len;
                        else if (first >= "4" && octal_len <= 1) return ++octal_len;
                    }
                    return false;
                });
                if (octal_len > 0) ch = String.fromCharCode(parseInt(ch, 8));
                else ch = read_escaped_char(true);
            }
            else if (ch == quote) break;
            ret += ch;
        }
        return token("string", ret);
    });

    function skip_line_comment(type) {
        var regex_allowed = S.regex_allowed;
        var i = find("\n"), ret;
        if (i == -1) {
            ret = S.text.substr(S.pos);
            S.pos = S.text.length;
        } else {
            ret = S.text.substring(S.pos, i);
            S.pos = i;
        }
        S.comments_before.push(token(type, ret, true));
        S.regex_allowed = regex_allowed;
        return next_token();
    };

    var skip_multiline_comment = with_eof_error("Unterminated multiline comment", function(){
        var regex_allowed = S.regex_allowed;
        var i = find("*/", true);
        var text = S.text.substring(S.pos, i);
        var a = text.split("\n"), n = a.length;
        // update stream position
        S.pos = i + 2;
        S.line += n - 1;
        if (n > 1) S.col = a[n - 1].length;
        else S.col += a[n - 1].length;
        S.col += 2;
        var nlb = S.newline_before = S.newline_before || text.indexOf("\n") >= 0;
        S.comments_before.push(token("comment2", text, true));
        S.regex_allowed = regex_allowed;
        S.newline_before = nlb;
        return next_token();
    });

    function read_name() {
        var backslash = false, name = "", ch, escaped = false, hex;
        while ((ch = peek()) != null) {
            if (!backslash) {
                if (ch == "\\") escaped = backslash = true, next();
                else if (is_identifier_char(ch)) name += next();
                else break;
            }
            else {
                if (ch != "u") parse_error("Expecting UnicodeEscapeSequence -- uXXXX");
                ch = read_escaped_char();
                if (!is_identifier_char(ch)) parse_error("Unicode char: " + ch.charCodeAt(0) + " is not valid in identifier");
                name += ch;
                backslash = false;
            }
        }
        if (KEYWORDS(name) && escaped) {
            hex = name.charCodeAt(0).toString(16).toUpperCase();
            name = "\\u" + "0000".substr(hex.length) + hex + name.slice(1);
        }
        return name;
    };

    var read_regexp = with_eof_error("Unterminated regular expression", function(regexp){
        var prev_backslash = false, ch, in_class = false;
        while ((ch = next(true))) if (prev_backslash) {
            regexp += "\\" + ch;
            prev_backslash = false;
        } else if (ch == "[") {
            in_class = true;
            regexp += ch;
        } else if (ch == "]" && in_class) {
            in_class = false;
            regexp += ch;
        } else if (ch == "/" && !in_class) {
            break;
        } else if (ch == "\\") {
            prev_backslash = true;
        } else {
            regexp += ch;
        }
        var mods = read_name();
        return token("regexp", new RegExp(regexp, mods));
    });

    function read_operator(prefix) {
        function grow(op) {
            if (!peek()) return op;
            var bigger = op + peek();
            if (OPERATORS(bigger)) {
                next();
                return grow(bigger);
            } else {
                return op;
            }
        };
        return token("operator", grow(prefix || next()));
    };

    function handle_slash() {
        next();
        switch (peek()) {
          case "/":
            next();
            return skip_line_comment("comment1");
          case "*":
            next();
            return skip_multiline_comment();
        }
        return S.regex_allowed ? read_regexp("") : read_operator("/");
    };

    function handle_dot() {
        next();
        return is_digit(peek().charCodeAt(0))
            ? read_num(".")
            : token("punc", ".");
    };

    function read_word() {
        var word = read_name();
        if (prev_was_dot) return token("name", word);
        return KEYWORDS_ATOM(word) ? token("atom", word)
            : !KEYWORDS(word) ? token("name", word)
            : OPERATORS(word) ? token("operator", word)
            : token("keyword", word);
    };

    function with_eof_error(eof_error, cont) {
        return function(x) {
            try {
                return cont(x);
            } catch(ex) {
                if (ex === EX_EOF) parse_error(eof_error);
                else throw ex;
            }
        };
    };

    function next_token(force_regexp) {
        if (force_regexp != null)
            return read_regexp(force_regexp);
        skip_whitespace();
        start_token();
        if (html5_comments) {
            if (looking_at("<!--")) {
                forward(4);
                return skip_line_comment("comment3");
            }
            if (looking_at("-->") && S.newline_before) {
                forward(3);
                return skip_line_comment("comment4");
            }
        }
        var ch = peek();
        if (!ch) return token("eof");
        var code = ch.charCodeAt(0);
        switch (code) {
          case 34: case 39: return read_string();
          case 46: return handle_dot();
          case 47: return handle_slash();
        }
        if (is_digit(code)) return read_num();
        if (PUNC_CHARS(ch)) return token("punc", next());
        if (OPERATOR_CHARS(ch)) return read_operator();
        if (code == 92 || is_identifier_start(code)) return read_word();
        parse_error("Unexpected character '" + ch + "'");
    };

    next_token.context = function(nc) {
        if (nc) S = nc;
        return S;
    };

    return next_token;

};

/* -----[ Parser (constants) ]----- */

var UNARY_PREFIX = makePredicate([
    "typeof",
    "void",
    "delete",
    "--",
    "++",
    "!",
    "~",
    "-",
    "+"
]);

var UNARY_POSTFIX = makePredicate([ "--", "++" ]);

var ASSIGNMENT = makePredicate([ "=", "+=", "-=", "/=", "*=", "%=", ">>=", "<<=", ">>>=", "|=", "^=", "&=" ]);

var PRECEDENCE = (function(a, ret){
    for (var i = 0; i < a.length; ++i) {
        var b = a[i];
        for (var j = 0; j < b.length; ++j) {
            ret[b[j]] = i + 1;
        }
    }
    return ret;
})(
    [
        ["||"],
        ["&&"],
        ["|"],
        ["^"],
        ["&"],
        ["==", "===", "!=", "!=="],
        ["<", ">", "<=", ">=", "in", "instanceof"],
        [">>", "<<", ">>>"],
        ["+", "-"],
        ["*", "/", "%"]
    ],
    {}
);

var STATEMENTS_WITH_LABELS = array_to_hash([ "fo" + "r", "do", "while", "switch" ]);

var ATOMIC_START_TOKEN = array_to_hash([ "atom", "num", "string", "regexp", "name" ]);

/* -----[ Parser ]----- */

function parse($TEXT, options) {

    options = defaults(options, {
        strict         : false,
        filename       : null,
        toplevel       : null,
        expression     : false,
        html5_comments : true,
        bare_returns   : false,
    });

    var S = {
        input         : (typeof $TEXT == "string"
                         ? tokenizer($TEXT, options.filename,
                                     options.html5_comments)
                         : $TEXT),
        token         : null,
        prev          : null,
        peeked        : null,
        in_function   : 0,
        in_directives : true,
        in_loop       : 0,
        labels        : []
    };

    S.token = next();

    function is(type, value) {
        return is_token(S.token, type, value);
    };

    function peek() { return S.peeked || (S.peeked = S.input()); };

    function next() {
        S.prev = S.token;
        if (S.peeked) {
            S.token = S.peeked;
            S.peeked = null;
        } else {
            S.token = S.input();
        }
        S.in_directives = S.in_directives && (
            S.token.type == "string" || is("punc", ";")
        );
        return S.token;
    };

    function prev() {
        return S.prev;
    };

    function croak(msg, line, col, pos) {
        var ctx = S.input.context();
        js_error(msg,
                 ctx.filename,
                 line != null ? line : ctx.tokline,
                 col != null ? col : ctx.tokcol,
                 pos != null ? pos : ctx.tokpos);
    };

    function token_error(token, msg) {
        croak(msg, token.line, token.col);
    };

    function unexpected(token) {
        if (token == null)
            token = S.token;
        token_error(token, "Unexpected token: " + token.type + " (" + token.value + ")");
    };

    function expect_token(type, val) {
        if (is(type, val)) {
            return next();
        }
        token_error(S.token, "Unexpected token " + S.token.type + " «" + S.token.value + "»" + ", expected " + type + " «" + val + "»");
    };

    function expect(punc) { return expect_token("punc", punc); };

    function can_insert_semicolon() {
        return !options.strict && (
            S.token.nlb || is("eof") || is("punc", "}")
        );
    };

    function semicolon() {
        if (is("punc", ";")) next();
        else if (!can_insert_semicolon()) unexpected();
    };

    function parenthesised() {
        expect("(");
        var exp = expression(true);
        expect(")");
        return exp;
    };

    function embed_tokens(parser) {
        return function() {
            var start = S.token;
            var expr = parser();
            var end = prev();
            expr.start = start;
            expr.end = end;
            return expr;
        };
    };

    function handle_regexp() {
        if (is("operator", "/") || is("operator", "/=")) {
            S.peeked = null;
            S.token = S.input(S.token.value.substr(1)); // force regexp
        }
    };

    var statement = embed_tokens(function() {
        var tmp;
        handle_regexp();
        switch (S.token.type) {
          case "string":
            var dir = S.in_directives, stat = simple_statement();
            // XXXv2: decide how to fix directives
            if (dir && stat.body instanceof AST_String && !is("punc", ","))
                return new AST_Directive({ value: stat.body.value });
            return stat;
          case "num":
          case "regexp":
          case "operator":
          case "atom":
            return simple_statement();

          case "name":
            return is_token(peek(), "punc", ":")
                ? labeled_statement()
                : simple_statement();

          case "punc":
            switch (S.token.value) {
              case "{":
                return new AST_BlockStatement({
                    start : S.token,
                    body  : block_(),
                    end   : prev()
                });
              case "[":
              case "(":
                return simple_statement();
              case ";":
                next();
                return new AST_EmptyStatement();
              default:
                unexpected();
            }

          case "keyword":
            switch (tmp = S.token.value, next(), tmp) {
              case "break":
                return break_cont(AST_Break);

              case "continue":
                return break_cont(AST_Continue);

              case "debugger":
                semicolon();
                return new AST_Debugger();

              case "do":
                return new AST_Do({
                    body      : in_loop(statement),
                    condition : (expect_token("keyword", "while"), tmp = parenthesised(), semicolon(), tmp)
                });

              case "while":
                return new AST_While({
                    condition : parenthesised(),
                    body      : in_loop(statement)
                });

              case "fo" + "r":
                return for_();

              case "function":
                return function_(AST_Defun);

              case "if":
                return if_();

              case "return":
                if (S.in_function == 0 && !options.bare_returns)
                    croak("'return' outside of function");
                return new AST_Return({
                    value: ( is("punc", ";")
                             ? (next(), null)
                             : can_insert_semicolon()
                             ? null
                             : (tmp = expression(true), semicolon(), tmp) )
                });

              case "switch":
                return new AST_Switch({
                    expression : parenthesised(),
                    body       : in_loop(switch_body_)
                });

              case "throw":
                if (S.token.nlb)
                    croak("Illegal newline after 'throw'");
                return new AST_Throw({
                    value: (tmp = expression(true), semicolon(), tmp)
                });

              case "try":
                return try_();

              case "var":
                return tmp = var_(), semicolon(), tmp;

              case "const":
                return tmp = const_(), semicolon(), tmp;

              case "with":
                return new AST_With({
                    expression : parenthesised(),
                    body       : statement()
                });

              default:
                unexpected();
            }
        }
    });

    function labeled_statement() {
        var label = as_symbol(AST_Label);
        if (find_if(function(l){ return l.name == label.name }, S.labels)) {
            // ECMA-262, 12.12: An ECMAScript program is considered
            // syntactically incorrect if it contains a
            // LabelledStatement that is enclosed by a
            // LabelledStatement with the same Identifier as label.
            croak("Label " + label.name + " defined twice");
        }
        expect(":");
        S.labels.push(label);
        var stat = statement();
        S.labels.pop();
        if (!(stat instanceof AST_IterationStatement)) {
            // check for `continue` that refers to this label.
            // those should be reported as syntax errors.
            // https://github.com/mishoo/UglifyJS2/issues/287
            label.references.forEach(function(ref){
                if (ref instanceof AST_Continue) {
                    ref = ref.label.start;
                    croak("Continue label `" + label.name + "` refers to non-IterationStatement.",
                          ref.line, ref.col, ref.pos);
                }
            });
        }
        return new AST_LabeledStatement({ body: stat, label: label });
    };

    function simple_statement(tmp) {
        return new AST_SimpleStatement({ body: (tmp = expression(true), semicolon(), tmp) });
    };

    function break_cont(type) {
        var label = null, ldef;
        if (!can_insert_semicolon()) {
            label = as_symbol(AST_LabelRef, true);
        }
        if (label != null) {
            ldef = find_if(function(l){ return l.name == label.name }, S.labels);
            if (!ldef)
                croak("Undefined label " + label.name);
            label.thedef = ldef;
        }
        else if (S.in_loop == 0)
            croak(type.TYPE + " not inside a loop or switch");
        semicolon();
        var stat = new type({ label: label });
        if (ldef) ldef.references.push(stat);
        return stat;
    };

    function for_() {
        expect("(");
        var init = null;
        if (!is("punc", ";")) {
            init = is("keyword", "var")
                ? (next(), var_(true))
                : expression(true, true);
            if (is("operator", "in")) {
                if (init instanceof AST_Var && init.definitions.length > 1)
                    croak("Only one variable declaration allowed in for..in loop");
                next();
                return for_in(init);
            }
        }
        return regular_for(init);
    };

    function regular_for(init) {
        expect(";");
        var test = is("punc", ";") ? null : expression(true);
        expect(";");
        var step = is("punc", ")") ? null : expression(true);
        expect(")");
        return new AST_For({
            init      : init,
            condition : test,
            step      : step,
            body      : in_loop(statement)
        });
    };

    function for_in(init) {
        var lhs = init instanceof AST_Var ? init.definitions[0].name : null;
        var obj = expression(true);
        expect(")");
        return new AST_ForIn({
            init   : init,
            name   : lhs,
            object : obj,
            body   : in_loop(statement)
        });
    };

    var function_ = function(ctor) {
        var in_statement = ctor === AST_Defun;
        var name = is("name") ? as_symbol(in_statement ? AST_SymbolDefun : AST_SymbolLambda) : null;
        if (in_statement && !name)
            unexpected();
        expect("(");
        return new ctor({
            name: name,
            argnames: (function(first, a){
                while (!is("punc", ")")) {
                    if (first) first = false; else expect(",");
                    a.push(as_symbol(AST_SymbolFunarg));
                }
                next();
                return a;
            })(true, []),
            body: (function(loop, labels){
                ++S.in_function;
                S.in_directives = true;
                S.in_loop = 0;
                S.labels = [];
                var a = block_();
                --S.in_function;
                S.in_loop = loop;
                S.labels = labels;
                return a;
            })(S.in_loop, S.labels)
        });
    };

    function if_() {
        var cond = parenthesised(), body = statement(), belse = null;
        if (is("keyword", "else")) {
            next();
            belse = statement();
        }
        return new AST_If({
            condition   : cond,
            body        : body,
            alternative : belse
        });
    };

    function block_() {
        expect("{");
        var a = [];
        while (!is("punc", "}")) {
            if (is("eof")) unexpected();
            a.push(statement());
        }
        next();
        return a;
    };

    function switch_body_() {
        expect("{");
        var a = [], cur = null, branch = null, tmp;
        while (!is("punc", "}")) {
            if (is("eof")) unexpected();
            if (is("keyword", "case")) {
                if (branch) branch.end = prev();
                cur = [];
                branch = new AST_Case({
                    start      : (tmp = S.token, next(), tmp),
                    expression : expression(true),
                    body       : cur
                });
                a.push(branch);
                expect(":");
            }
            else if (is("keyword", "default")) {
                if (branch) branch.end = prev();
                cur = [];
                branch = new AST_Default({
                    start : (tmp = S.token, next(), expect(":"), tmp),
                    body  : cur
                });
                a.push(branch);
            }
            else {
                if (!cur) unexpected();
                cur.push(statement());
            }
        }
        if (branch) branch.end = prev();
        next();
        return a;
    };

    function try_() {
        var body = block_(), bcatch = null, bfinally = null;
        if (is("keyword", "catch")) {
            var start = S.token;
            next();
            expect("(");
            var name = as_symbol(AST_SymbolCatch);
            expect(")");
            bcatch = new AST_Catch({
                start   : start,
                argname : name,
                body    : block_(),
                end     : prev()
            });
        }
        if (is("keyword", "finally")) {
            var start = S.token;
            next();
            bfinally = new AST_Finally({
                start : start,
                body  : block_(),
                end   : prev()
            });
        }
        if (!bcatch && !bfinally)
            croak("Missing catch/finally blocks");
        return new AST_Try({
            body     : body,
            bcatch   : bcatch,
            bfinally : bfinally
        });
    };

    function vardefs(no_in, in_const) {
        var a = [];
        for (;;) {
            a.push(new AST_VarDef({
                start : S.token,
                name  : as_symbol(in_const ? AST_SymbolConst : AST_SymbolVar),
                value : is("operator", "=") ? (next(), expression(false, no_in)) : null,
                end   : prev()
            }));
            if (!is("punc", ","))
                break;
            next();
        }
        return a;
    };

    var var_ = function(no_in) {
        return new AST_Var({
            start       : prev(),
            definitions : vardefs(no_in, false),
            end         : prev()
        });
    };

    var const_ = function() {
        return new AST_Const({
            start       : prev(),
            definitions : vardefs(false, true),
            end         : prev()
        });
    };

    var new_ = function() {
        var start = S.token;
        expect_token("operator", "new");
        var newexp = expr_atom(false), args;
        if (is("punc", "(")) {
            next();
            args = expr_list(")");
        } else {
            args = [];
        }
        return subscripts(new AST_New({
            start      : start,
            expression : newexp,
            args       : args,
            end        : prev()
        }), true);
    };

    function as_atom_node() {
        var tok = S.token, ret;
        switch (tok.type) {
          case "name":
          case "keyword":
            ret = _make_symbol(AST_SymbolRef);
            break;
          case "num":
            ret = new AST_Number({ start: tok, end: tok, value: tok.value });
            break;
          case "string":
            ret = new AST_String({ start: tok, end: tok, value: tok.value });
            break;
          case "regexp":
            ret = new AST_RegExp({ start: tok, end: tok, value: tok.value });
            break;
          case "atom":
            switch (tok.value) {
              case "false":
                ret = new AST_False({ start: tok, end: tok });
                break;
              case "true":
                ret = new AST_True({ start: tok, end: tok });
                break;
              case "null":
                ret = new AST_Null({ start: tok, end: tok });
                break;
            }
            break;
        }
        next();
        return ret;
    };

    var expr_atom = function(allow_calls) {
        if (is("operator", "new")) {
            return new_();
        }
        var start = S.token;
        if (is("punc")) {
            switch (start.value) {
              case "(":
                next();
                var ex = expression(true);
                ex.start = start;
                ex.end = S.token;
                expect(")");
                return subscripts(ex, allow_calls);
              case "[":
                return subscripts(array_(), allow_calls);
              case "{":
                return subscripts(object_(), allow_calls);
            }
            unexpected();
        }
        if (is("keyword", "function")) {
            next();
            var func = function_(AST_Function);
            func.start = start;
            func.end = prev();
            return subscripts(func, allow_calls);
        }
        if (ATOMIC_START_TOKEN[S.token.type]) {
            return subscripts(as_atom_node(), allow_calls);
        }
        unexpected();
    };

    function expr_list(closing, allow_trailing_comma, allow_empty) {
        var first = true, a = [];
        while (!is("punc", closing)) {
            if (first) first = false; else expect(",");
            if (allow_trailing_comma && is("punc", closing)) break;
            if (is("punc", ",") && allow_empty) {
                a.push(new AST_Hole({ start: S.token, end: S.token }));
            } else {
                a.push(expression(false));
            }
        }
        next();
        return a;
    };

    var array_ = embed_tokens(function() {
        expect("[");
        return new AST_Array({
            elements: expr_list("]", !options.strict, true)
        });
    });

    var object_ = embed_tokens(function() {
        expect("{");
        var first = true, a = [];
        while (!is("punc", "}")) {
            if (first) first = false; else expect(",");
            if (!options.strict && is("punc", "}"))
                // allow trailing comma
                break;
            var start = S.token;
            var type = start.type;
            var name = as_property_name();
            if (type == "name" && !is("punc", ":")) {
                if (name == "get") {
                    a.push(new AST_ObjectGetter({
                        start : start,
                        key   : as_atom_node(),
                        value : function_(AST_Accessor),
                        end   : prev()
                    }));
                    continue;
                }
                if (name == "set") {
                    a.push(new AST_ObjectSetter({
                        start : start,
                        key   : as_atom_node(),
                        value : function_(AST_Accessor),
                        end   : prev()
                    }));
                    continue;
                }
            }
            expect(":");
            a.push(new AST_ObjectKeyVal({
                start : start,
                key   : name,
                value : expression(false),
                end   : prev()
            }));
        }
        next();
        return new AST_Object({ properties: a });
    });

    function as_property_name() {
        var tmp = S.token;
        next();
        switch (tmp.type) {
          case "num":
          case "string":
          case "name":
          case "operator":
          case "keyword":
          case "atom":
            return tmp.value;
          default:
            unexpected();
        }
    };

    function as_name() {
        var tmp = S.token;
        next();
        switch (tmp.type) {
          case "name":
          case "operator":
          case "keyword":
          case "atom":
            return tmp.value;
          default:
            unexpected();
        }
    };

    function _make_symbol(type) {
        var name = S.token.value;
        return new (name == "this" ? AST_This : type)({
            name  : String(name),
            start : S.token,
            end   : S.token
        });
    };

    function as_symbol(type, noerror) {
        if (!is("name")) {
            if (!noerror) croak("Name expected");
            return null;
        }
        var sym = _make_symbol(type);
        next();
        return sym;
    };

    var subscripts = function(expr, allow_calls) {
        var start = expr.start;
        if (is("punc", ".")) {
            next();
            return subscripts(new AST_Dot({
                start      : start,
                expression : expr,
                property   : as_name(),
                end        : prev()
            }), allow_calls);
        }
        if (is("punc", "[")) {
            next();
            var prop = expression(true);
            expect("]");
            return subscripts(new AST_Sub({
                start      : start,
                expression : expr,
                property   : prop,
                end        : prev()
            }), allow_calls);
        }
        if (allow_calls && is("punc", "(")) {
            next();
            return subscripts(new AST_Call({
                start      : start,
                expression : expr,
                args       : expr_list(")"),
                end        : prev()
            }), true);
        }
        return expr;
    };

    var maybe_unary = function(allow_calls) {
        var start = S.token;
        if (is("operator") && UNARY_PREFIX(start.value)) {
            next();
            handle_regexp();
            var ex = make_unary(AST_UnaryPrefix, start.value, maybe_unary(allow_calls));
            ex.start = start;
            ex.end = prev();
            return ex;
        }
        var val = expr_atom(allow_calls);
        while (is("operator") && UNARY_POSTFIX(S.token.value) && !S.token.nlb) {
            val = make_unary(AST_UnaryPostfix, S.token.value, val);
            val.start = start;
            val.end = S.token;
            next();
        }
        return val;
    };

    function make_unary(ctor, op, expr) {
        if ((op == "++" || op == "--") && !is_assignable(expr))
            croak("Invalid use of " + op + " operator");
        return new ctor({ operator: op, expression: expr });
    };

    var expr_op = function(left, min_prec, no_in) {
        var op = is("operator") ? S.token.value : null;
        if (op == "in" && no_in) op = null;
        var prec = op != null ? PRECEDENCE[op] : null;
        if (prec != null && prec > min_prec) {
            next();
            var right = expr_op(maybe_unary(true), prec, no_in);
            return expr_op(new AST_Binary({
                start    : left.start,
                left     : left,
                operator : op,
                right    : right,
                end      : right.end
            }), min_prec, no_in);
        }
        return left;
    };

    function expr_ops(no_in) {
        return expr_op(maybe_unary(true), 0, no_in);
    };

    var maybe_conditional = function(no_in) {
        var start = S.token;
        var expr = expr_ops(no_in);
        if (is("operator", "?")) {
            next();
            var yes = expression(false);
            expect(":");
            return new AST_Conditional({
                start       : start,
                condition   : expr,
                consequent  : yes,
                alternative : expression(false, no_in),
                end         : prev()
            });
        }
        return expr;
    };

    function is_assignable(expr) {
        if (!options.strict) return true;
        if (expr instanceof AST_This) return false;
        return (expr instanceof AST_PropAccess || expr instanceof AST_Symbol);
    };

    var maybe_assign = function(no_in) {
        var start = S.token;
        var left = maybe_conditional(no_in), val = S.token.value;
        if (is("operator") && ASSIGNMENT(val)) {
            if (is_assignable(left)) {
                next();
                return new AST_Assign({
                    start    : start,
                    left     : left,
                    operator : val,
                    right    : maybe_assign(no_in),
                    end      : prev()
                });
            }
            croak("Invalid assignment");
        }
        return left;
    };

    var expression = function(commas, no_in) {
        var start = S.token;
        var expr = maybe_assign(no_in);
        if (commas && is("punc", ",")) {
            next();
            return new AST_Seq({
                start  : start,
                car    : expr,
                cdr    : expression(true, no_in),
                end    : peek()
            });
        }
        return expr;
    };

    function in_loop(cont) {
        ++S.in_loop;
        var ret = cont();
        --S.in_loop;
        return ret;
    };

    if (options.expression) {
        return expression(true);
    }

    return (function(){
        var start = S.token;
        var body = [];
        while (!is("eof"))
            body.push(statement());
        var end = prev();
        var toplevel = options.toplevel;
        if (toplevel) {
            toplevel.body = toplevel.body.concat(body);
            toplevel.end = end;
        } else {
            toplevel = new AST_Toplevel({ start: start, body: body, end: end });
        }
        return toplevel;
    })();

};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

// Tree transformer helpers.

function TreeTransformer(before, after) {
    TreeWalker.call(this);
    this.before = before;
    this.after = after;
}
TreeTransformer.prototype = new TreeWalker;

(function(undefined){

    function _(node, descend) {
        node.DEFMETHOD("transform", function(tw, in_list){
            var x, y;
            tw.push(this);
            if (tw.before) x = tw.before(this, descend, in_list);
            if (x === undefined) {
                if (!tw.after) {
                    x = this;
                    descend(x, tw);
                } else {
                    tw.stack[tw.stack.length - 1] = x = this.clone();
                    descend(x, tw);
                    y = tw.after(x, in_list);
                    if (y !== undefined) x = y;
                }
            }
            tw.pop();
            return x;
        });
    };

    function do_list(list, tw) {
        return MAP(list, function(node){
            return node.transform(tw, true);
        });
    };

    _(AST_Node, noop);

    _(AST_LabeledStatement, function(self, tw){
        self.label = self.label.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_SimpleStatement, function(self, tw){
        self.body = self.body.transform(tw);
    });

    _(AST_Block, function(self, tw){
        self.body = do_list(self.body, tw);
    });

    _(AST_DWLoop, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_For, function(self, tw){
        if (self.init) self.init = self.init.transform(tw);
        if (self.condition) self.condition = self.condition.transform(tw);
        if (self.step) self.step = self.step.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_ForIn, function(self, tw){
        self.init = self.init.transform(tw);
        self.object = self.object.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_With, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_Exit, function(self, tw){
        if (self.value) self.value = self.value.transform(tw);
    });

    _(AST_LoopControl, function(self, tw){
        if (self.label) self.label = self.label.transform(tw);
    });

    _(AST_If, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.body = self.body.transform(tw);
        if (self.alternative) self.alternative = self.alternative.transform(tw);
    });

    _(AST_Switch, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Case, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Try, function(self, tw){
        self.body = do_list(self.body, tw);
        if (self.bcatch) self.bcatch = self.bcatch.transform(tw);
        if (self.bfinally) self.bfinally = self.bfinally.transform(tw);
    });

    _(AST_Catch, function(self, tw){
        self.argname = self.argname.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Definitions, function(self, tw){
        self.definitions = do_list(self.definitions, tw);
    });

    _(AST_VarDef, function(self, tw){
        self.name = self.name.transform(tw);
        if (self.value) self.value = self.value.transform(tw);
    });

    _(AST_Lambda, function(self, tw){
        if (self.name) self.name = self.name.transform(tw);
        self.argnames = do_list(self.argnames, tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Call, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.args = do_list(self.args, tw);
    });

    _(AST_Seq, function(self, tw){
        self.car = self.car.transform(tw);
        self.cdr = self.cdr.transform(tw);
    });

    _(AST_Dot, function(self, tw){
        self.expression = self.expression.transform(tw);
    });

    _(AST_Sub, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.property = self.property.transform(tw);
    });

    _(AST_Unary, function(self, tw){
        self.expression = self.expression.transform(tw);
    });

    _(AST_Binary, function(self, tw){
        self.left = self.left.transform(tw);
        self.right = self.right.transform(tw);
    });

    _(AST_Conditional, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.consequent = self.consequent.transform(tw);
        self.alternative = self.alternative.transform(tw);
    });

    _(AST_Array, function(self, tw){
        self.elements = do_list(self.elements, tw);
    });

    _(AST_Object, function(self, tw){
        self.properties = do_list(self.properties, tw);
    });

    _(AST_ObjectProperty, function(self, tw){
        self.value = self.value.transform(tw);
    });

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function SymbolDef(scope, index, orig) {
    this.name = orig.name;
    this.orig = [ orig ];
    this.scope = scope;
    this.references = [];
    this.global = false;
    this.mangled_name = null;
    this.undeclared = false;
    this.constant = false;
    this.index = index;
};

SymbolDef.prototype = {
    unmangleable: function(options) {
        return (this.global && !(options && options.toplevel))
            || this.undeclared
            || (!(options && options.eval) && (this.scope.uses_eval || this.scope.uses_with));
    },
    mangle: function(options) {
        if (!this.mangled_name && !this.unmangleable(options)) {
            var s = this.scope;
            if (!options.screw_ie8 && this.orig[0] instanceof AST_SymbolLambda)
                s = s.parent_scope;
            this.mangled_name = s.next_mangled(options, this);
        }
    }
};

AST_Toplevel.DEFMETHOD("figure_out_scope", function(options){
    options = defaults(options, {
        screw_ie8: false
    });

    // pass 1: setup scope chaining and handle definitions
    var self = this;
    var scope = self.parent_scope = null;
    var defun = null;
    var nesting = 0;
    var tw = new TreeWalker(function(node, descend){
        if (options.screw_ie8 && node instanceof AST_Catch) {
            var save_scope = scope;
            scope = new AST_Scope(node);
            scope.init_scope_vars(nesting);
            scope.parent_scope = save_scope;
            descend();
            scope = save_scope;
            return true;
        }
        if (node instanceof AST_Scope) {
            node.init_scope_vars(nesting);
            var save_scope = node.parent_scope = scope;
            var save_defun = defun;
            defun = scope = node;
            ++nesting; descend(); --nesting;
            scope = save_scope;
            defun = save_defun;
            return true;        // don't descend again in TreeWalker
        }
        if (node instanceof AST_Directive) {
            node.scope = scope;
            push_uniq(scope.directives, node.value);
            return true;
        }
        if (node instanceof AST_With) {
            for (var s = scope; s; s = s.parent_scope)
                s.uses_with = true;
            return;
        }
        if (node instanceof AST_Symbol) {
            node.scope = scope;
        }
        if (node instanceof AST_SymbolLambda) {
            defun.def_function(node);
        }
        else if (node instanceof AST_SymbolDefun) {
            // Careful here, the scope where this should be defined is
            // the parent scope.  The reason is that we enter a new
            // scope when we encounter the AST_Defun node (which is
            // instanceof AST_Scope) but we get to the symbol a bit
            // later.
            (node.scope = defun.parent_scope).def_function(node);
        }
        else if (node instanceof AST_SymbolVar
                 || node instanceof AST_SymbolConst) {
            var def = defun.def_variable(node);
            def.constant = node instanceof AST_SymbolConst;
            def.init = tw.parent().value;
        }
        else if (node instanceof AST_SymbolCatch) {
            (options.screw_ie8 ? scope : defun)
                .def_variable(node);
        }
    });
    self.walk(tw);

    // pass 2: find back references and eval
    var func = null;
    var globals = self.globals = new Dictionary();
    var tw = new TreeWalker(function(node, descend){
        if (node instanceof AST_Lambda) {
            var prev_func = func;
            func = node;
            descend();
            func = prev_func;
            return true;
        }
        if (node instanceof AST_SymbolRef) {
            var name = node.name;
            var sym = node.scope.find_variable(name);
            if (!sym) {
                var g;
                if (globals.has(name)) {
                    g = globals.get(name);
                } else {
                    g = new SymbolDef(self, globals.size(), node);
                    g.undeclared = true;
                    g.global = true;
                    globals.set(name, g);
                }
                node.thedef = g;
                if (name == "eval" && tw.parent() instanceof AST_Call) {
                    for (var s = node.scope; s && !s.uses_eval; s = s.parent_scope)
                        s.uses_eval = true;
                }
                if (func && name == "arguments") {
                    func.uses_arguments = true;
                }
            } else {
                node.thedef = sym;
            }
            node.reference();
            return true;
        }
    });
    self.walk(tw);
});

AST_Scope.DEFMETHOD("init_scope_vars", function(nesting){
    this.directives = [];     // contains the directives defined in this scope, i.e. "use strict"
    this.variables = new Dictionary(); // map name to AST_SymbolVar (variables defined in this scope; includes functions)
    this.functions = new Dictionary(); // map name to AST_SymbolDefun (functions defined in this scope)
    this.uses_with = false;   // will be set to true if this or some nested scope uses the `with` statement
    this.uses_eval = false;   // will be set to true if this or nested scope uses the global `eval`
    this.parent_scope = null; // the parent scope
    this.enclosed = [];       // a list of variables from this or outer scope(s) that are referenced from this or inner scopes
    this.cname = -1;          // the current index for mangling functions/variables
    this.nesting = nesting;   // the nesting level of this scope (0 means toplevel)
});

AST_Scope.DEFMETHOD("strict", function(){
    return this.has_directive("use strict");
});

AST_Lambda.DEFMETHOD("init_scope_vars", function(){
    AST_Scope.prototype.init_scope_vars.apply(this, arguments);
    this.uses_arguments = false;
});

AST_SymbolRef.DEFMETHOD("reference", function() {
    var def = this.definition();
    def.references.push(this);
    var s = this.scope;
    while (s) {
        push_uniq(s.enclosed, def);
        if (s === def.scope) break;
        s = s.parent_scope;
    }
    this.frame = this.scope.nesting - def.scope.nesting;
});

AST_Scope.DEFMETHOD("find_variable", function(name){
    if (name instanceof AST_Symbol) name = name.name;
    return this.variables.get(name)
        || (this.parent_scope && this.parent_scope.find_variable(name));
});

AST_Scope.DEFMETHOD("has_directive", function(value){
    return this.parent_scope && this.parent_scope.has_directive(value)
        || (this.directives.indexOf(value) >= 0 ? this : null);
});

AST_Scope.DEFMETHOD("def_function", function(symbol){
    this.functions.set(symbol.name, this.def_variable(symbol));
});

AST_Scope.DEFMETHOD("def_variable", function(symbol){
    var def;
    if (!this.variables.has(symbol.name)) {
        def = new SymbolDef(this, this.variables.size(), symbol);
        this.variables.set(symbol.name, def);
        def.global = !this.parent_scope;
    } else {
        def = this.variables.get(symbol.name);
        def.orig.push(symbol);
    }
    return symbol.thedef = def;
});

AST_Scope.DEFMETHOD("next_mangled", function(options){
    var ext = this.enclosed;
    out: while (true) {
        var m = base54(++this.cname);
        if (!is_identifier(m)) continue; // skip over "do"

        // https://github.com/mishoo/UglifyJS2/issues/242 -- do not
        // shadow a name excepted from mangling.
        if (options.except.indexOf(m) >= 0) continue;

        // we must ensure that the mangled name does not shadow a name
        // from some parent scope that is referenced in this or in
        // inner scopes.
        for (var i = ext.length; --i >= 0;) {
            var sym = ext[i];
            var name = sym.mangled_name || (sym.unmangleable(options) && sym.name);
            if (m == name) continue out;
        }
        return m;
    }
});

AST_Function.DEFMETHOD("next_mangled", function(options, def){
    // #179, #326
    // in Safari strict mode, something like (function x(x){...}) is a syntax error;
    // a function expression's argument cannot shadow the function expression's name

    var tricky_def = def.orig[0] instanceof AST_SymbolFunarg && this.name && this.name.definition();
    while (true) {
        var name = AST_Lambda.prototype.next_mangled.call(this, options, def);
        if (!(tricky_def && tricky_def.mangled_name == name))
            return name;
    }
});

AST_Scope.DEFMETHOD("references", function(sym){
    if (sym instanceof AST_Symbol) sym = sym.definition();
    return this.enclosed.indexOf(sym) < 0 ? null : sym;
});

AST_Symbol.DEFMETHOD("unmangleable", function(options){
    return this.definition().unmangleable(options);
});

// property accessors are not mangleable
AST_SymbolAccessor.DEFMETHOD("unmangleable", function(){
    return true;
});

// labels are always mangleable
AST_Label.DEFMETHOD("unmangleable", function(){
    return false;
});

AST_Symbol.DEFMETHOD("unreferenced", function(){
    return this.definition().references.length == 0
        && !(this.scope.uses_eval || this.scope.uses_with);
});

AST_Symbol.DEFMETHOD("undeclared", function(){
    return this.definition().undeclared;
});

AST_LabelRef.DEFMETHOD("undeclared", function(){
    return false;
});

AST_Label.DEFMETHOD("undeclared", function(){
    return false;
});

AST_Symbol.DEFMETHOD("definition", function(){
    return this.thedef;
});

AST_Symbol.DEFMETHOD("global", function(){
    return this.definition().global;
});

AST_Toplevel.DEFMETHOD("_default_mangler_options", function(options){
    return defaults(options, {
        except   : [],
        eval     : false,
        sort     : false,
        toplevel : false,
        screw_ie8 : false
    });
});

AST_Toplevel.DEFMETHOD("mangle_names", function(options){
    options = this._default_mangler_options(options);
    // We only need to mangle declaration nodes.  Special logic wired
    // into the code generator will display the mangled name if it's
    // present (and for AST_SymbolRef-s it'll use the mangled name of
    // the AST_SymbolDeclaration that it points to).
    var lname = -1;
    var to_mangle = [];
    var tw = new TreeWalker(function(node, descend){
        if (node instanceof AST_LabeledStatement) {
            // lname is incremented when we get to the AST_Label
            var save_nesting = lname;
            descend();
            lname = save_nesting;
            return true;        // don't descend again in TreeWalker
        }
        if (node instanceof AST_Scope) {
            var p = tw.parent(), a = [];
            node.variables.each(function(symbol){
                if (options.except.indexOf(symbol.name) < 0) {
                    a.push(symbol);
                }
            });
            if (options.sort) a.sort(function(a, b){
                return b.references.length - a.references.length;
            });
            to_mangle.push.apply(to_mangle, a);
            return;
        }
        if (node instanceof AST_Label) {
            var name;
            do name = base54(++lname); while (!is_identifier(name));
            node.mangled_name = name;
            return true;
        }
        if (options.screw_ie8 && node instanceof AST_SymbolCatch) {
            to_mangle.push(node.definition());
            return;
        }
    });
    this.walk(tw);
    to_mangle.forEach(function(def){ def.mangle(options) });
});

AST_Toplevel.DEFMETHOD("compute_char_frequency", function(options){
    options = this._default_mangler_options(options);
    var tw = new TreeWalker(function(node){
        if (node instanceof AST_Constant)
            base54.consider(node.print_to_string());
        else if (node instanceof AST_Return)
            base54.consider("return");
        else if (node instanceof AST_Throw)
            base54.consider("throw");
        else if (node instanceof AST_Continue)
            base54.consider("continue");
        else if (node instanceof AST_Break)
            base54.consider("break");
        else if (node instanceof AST_Debugger)
            base54.consider("debugger");
        else if (node instanceof AST_Directive)
            base54.consider(node.value);
        else if (node instanceof AST_While)
            base54.consider("while");
        else if (node instanceof AST_Do)
            base54.consider("do while");
        else if (node instanceof AST_If) {
            base54.consider("if");
            if (node.alternative) base54.consider("else");
        }
        else if (node instanceof AST_Var)
            base54.consider("var");
        else if (node instanceof AST_Const)
            base54.consider("const");
        else if (node instanceof AST_Lambda)
            base54.consider("function");
        else if (node instanceof AST_For)
            base54.consider("fo" + "r");
        else if (node instanceof AST_ForIn)
            base54.consider("for in");
        else if (node instanceof AST_Switch)
            base54.consider("switch");
        else if (node instanceof AST_Case)
            base54.consider("case");
        else if (node instanceof AST_Default)
            base54.consider("default");
        else if (node instanceof AST_With)
            base54.consider("with");
        else if (node instanceof AST_ObjectSetter)
            base54.consider("set" + node.key);
        else if (node instanceof AST_ObjectGetter)
            base54.consider("get" + node.key);
        else if (node instanceof AST_ObjectKeyVal)
            base54.consider(node.key);
        else if (node instanceof AST_New)
            base54.consider("new");
        else if (node instanceof AST_This)
            base54.consider("this");
        else if (node instanceof AST_Try)
            base54.consider("try");
        else if (node instanceof AST_Catch)
            base54.consider("catch");
        else if (node instanceof AST_Finally)
            base54.consider("finally");
        else if (node instanceof AST_Symbol && node.unmangleable(options))
            base54.consider(node.name);
        else if (node instanceof AST_Unary || node instanceof AST_Binary)
            base54.consider(node.operator);
        else if (node instanceof AST_Dot)
            base54.consider(node.property);
    });
    this.walk(tw);
    base54.sort();
});

var base54 = (function() {
    var string = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";
    var chars, frequency;
    function reset() {
        frequency = Object.create(null);
        chars = string.split("").map(function(ch){ return ch.charCodeAt(0) });
        chars.forEach(function(ch){ frequency[ch] = 0 });
    }
    base54.consider = function(str){
        for (var i = str.length; --i >= 0;) {
            var code = str.charCodeAt(i);
            if (code in frequency) ++frequency[code];
        }
    };
    base54.sort = function() {
        chars = mergeSort(chars, function(a, b){
            if (is_digit(a) && !is_digit(b)) return 1;
            if (is_digit(b) && !is_digit(a)) return -1;
            return frequency[b] - frequency[a];
        });
    };
    base54.reset = reset;
    reset();
    base54.get = function(){ return chars };
    base54.freq = function(){ return frequency };
    function base54(num) {
        var ret = "", base = 54;
        do {
            ret += String.fromCharCode(chars[num % base]);
            num = Math.floor(num / base);
            base = 64;
        } while (num > 0);
        return ret;
    };
    return base54;
})();

AST_Toplevel.DEFMETHOD("scope_warnings", function(options){
    options = defaults(options, {
        undeclared       : false, // this makes a lot of noise
        unreferenced     : true,
        assign_to_global : true,
        func_arguments   : true,
        nested_defuns    : true,
        eval             : true
    });
    var tw = new TreeWalker(function(node){
        if (options.undeclared
            && node instanceof AST_SymbolRef
            && node.undeclared())
        {
            // XXX: this also warns about JS standard names,
            // i.e. Object, Array, parseInt etc.  Should add a list of
            // exceptions.
            AST_Node.warn("Undeclared symbol: {name} [{file}:{line},{col}]", {
                name: node.name,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.assign_to_global)
        {
            var sym = null;
            if (node instanceof AST_Assign && node.left instanceof AST_SymbolRef)
                sym = node.left;
            else if (node instanceof AST_ForIn && node.init instanceof AST_SymbolRef)
                sym = node.init;
            if (sym
                && (sym.undeclared()
                    || (sym.global() && sym.scope !== sym.definition().scope))) {
                AST_Node.warn("{msg}: {name} [{file}:{line},{col}]", {
                    msg: sym.undeclared() ? "Accidental global?" : "Assignment to global",
                    name: sym.name,
                    file: sym.start.file,
                    line: sym.start.line,
                    col: sym.start.col
                });
            }
        }
        if (options.eval
            && node instanceof AST_SymbolRef
            && node.undeclared()
            && node.name == "eval") {
            AST_Node.warn("Eval is used [{file}:{line},{col}]", node.start);
        }
        if (options.unreferenced
            && (node instanceof AST_SymbolDeclaration || node instanceof AST_Label)
            && !(node instanceof AST_SymbolCatch)
            && node.unreferenced()) {
            AST_Node.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]", {
                type: node instanceof AST_Label ? "Label" : "Symbol",
                name: node.name,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.func_arguments
            && node instanceof AST_Lambda
            && node.uses_arguments) {
            AST_Node.warn("arguments used in function {name} [{file}:{line},{col}]", {
                name: node.name ? node.name.name : "anonymous",
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.nested_defuns
            && node instanceof AST_Defun
            && !(tw.parent() instanceof AST_Scope)) {
            AST_Node.warn("Function {name} declared in nested statement \"{type}\" [{file}:{line},{col}]", {
                name: node.name.name,
                type: tw.parent().TYPE,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
    });
    this.walk(tw);
});

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function OutputStream(options) {

    options = defaults(options, {
        indent_start     : 0,
        indent_level     : 4,
        quote_keys       : false,
        space_colon      : true,
        ascii_only       : false,
        unescape_regexps : false,
        inline_script    : false,
        width            : 80,
        max_line_len     : 32000,
        beautify         : false,
        source_map       : null,
        bracketize       : false,
        semicolons       : true,
        comments         : false,
        preserve_line    : false,
        screw_ie8        : false,
        preamble         : null,
    }, true);

    var indentation = 0;
    var current_col = 0;
    var current_line = 1;
    var current_pos = 0;
    var OUTPUT = "";

    function to_ascii(str, identifier) {
        return str.replace(/[\u0080-\uffff]/g, function(ch) {
            var code = ch.charCodeAt(0).toString(16);
            if (code.length <= 2 && !identifier) {
                while (code.length < 2) code = "0" + code;
                return "\\x" + code;
            } else {
                while (code.length < 4) code = "0" + code;
                return "\\u" + code;
            }
        });
    };

    function make_string(str) {
        var dq = 0, sq = 0;
        str = str.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g, function(s){
            switch (s) {
              case "\\": return "\\\\";
              case "\b": return "\\b";
              case "\f": return "\\f";
              case "\n": return "\\n";
              case "\r": return "\\r";
              case "\u2028": return "\\u2028";
              case "\u2029": return "\\u2029";
              case '"': ++dq; return '"';
              case "'": ++sq; return "'";
              case "\0": return "\\x00";
            }
            return s;
        });
        if (options.ascii_only) str = to_ascii(str);
        if (dq > sq) return "'" + str.replace(/\x27/g, "\\'") + "'";
        else return '"' + str.replace(/\x22/g, '\\"') + '"';
    };

    function encode_string(str) {
        var ret = make_string(str);
        if (options.inline_script)
            ret = ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi, "<\\/script$1");
        return ret;
    };

    function make_name(name) {
        name = name.toString();
        if (options.ascii_only)
            name = to_ascii(name, true);
        return name;
    };

    function make_indent(back) {
        return repeat_string(" ", options.indent_start + indentation - back * options.indent_level);
    };

    /* -----[ beautification/minification ]----- */

    var might_need_space = false;
    var might_need_semicolon = false;
    var last = null;

    function last_char() {
        return last.charAt(last.length - 1);
    };

    function maybe_newline() {
        if (options.max_line_len && current_col > options.max_line_len)
            print("\n");
    };

    var requireSemicolonChars = makePredicate("( [ + * / - , .");

    function print(str) {
        str = String(str);
        var ch = str.charAt(0);
        if (might_need_semicolon) {
            if ((!ch || ";}".indexOf(ch) < 0) && !/[;]$/.test(last)) {
                if (options.semicolons || requireSemicolonChars(ch)) {
                    OUTPUT += ";";
                    current_col++;
                    current_pos++;
                } else {
                    OUTPUT += "\n";
                    current_pos++;
                    current_line++;
                    current_col = 0;
                }
                if (!options.beautify)
                    might_need_space = false;
            }
            might_need_semicolon = false;
            maybe_newline();
        }

        if (!options.beautify && options.preserve_line && stack[stack.length - 1]) {
            var target_line = stack[stack.length - 1].start.line;
            while (current_line < target_line) {
                OUTPUT += "\n";
                current_pos++;
                current_line++;
                current_col = 0;
                might_need_space = false;
            }
        }

        if (might_need_space) {
            var prev = last_char();
            if ((is_identifier_char(prev)
                 && (is_identifier_char(ch) || ch == "\\"))
                || (/^[\+\-\/]$/.test(ch) && ch == prev))
            {
                OUTPUT += " ";
                current_col++;
                current_pos++;
            }
            might_need_space = false;
        }
        var a = str.split(/\r?\n/), n = a.length - 1;
        current_line += n;
        if (n == 0) {
            current_col += a[n].length;
        } else {
            current_col = a[n].length;
        }
        current_pos += str.length;
        last = str;
        OUTPUT += str;
    };

    var space = options.beautify ? function() {
        print(" ");
    } : function() {
        might_need_space = true;
    };

    var indent = options.beautify ? function(half) {
        if (options.beautify) {
            print(make_indent(half ? 0.5 : 0));
        }
    } : noop;

    var with_indent = options.beautify ? function(col, cont) {
        if (col === true) col = next_indent();
        var save_indentation = indentation;
        indentation = col;
        var ret = cont();
        indentation = save_indentation;
        return ret;
    } : function(col, cont) { return cont() };

    var newline = options.beautify ? function() {
        print("\n");
    } : noop;

    var semicolon = options.beautify ? function() {
        print(";");
    } : function() {
        might_need_semicolon = true;
    };

    function force_semicolon() {
        might_need_semicolon = false;
        print(";");
    };

    function next_indent() {
        return indentation + options.indent_level;
    };

    function with_block(cont) {
        var ret;
        print("{");
        newline();
        with_indent(next_indent(), function(){
            ret = cont();
        });
        indent();
        print("}");
        return ret;
    };

    function with_parens(cont) {
        print("(");
        //XXX: still nice to have that for argument lists
        //var ret = with_indent(current_col, cont);
        var ret = cont();
        print(")");
        return ret;
    };

    function with_square(cont) {
        print("[");
        //var ret = with_indent(current_col, cont);
        var ret = cont();
        print("]");
        return ret;
    };

    function comma() {
        print(",");
        space();
    };

    function colon() {
        print(":");
        if (options.space_colon) space();
    };

    var add_mapping = options.source_map ? function(token, name) {
        try {
            if (token) options.source_map.add(
                token.file || "?",
                current_line, current_col,
                token.line, token.col,
                (!name && token.type == "name") ? token.value : name
            );
        } catch(ex) {
            AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]", {
                file: token.file,
                line: token.line,
                col: token.col,
                cline: current_line,
                ccol: current_col,
                name: name || ""
            })
        }
    } : noop;

    function get() {
        return OUTPUT;
    };

    if (options.preamble) {
        print(options.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g, "\n"));
    }

    var stack = [];
    return {
        get             : get,
        toString        : get,
        indent          : indent,
        indentation     : function() { return indentation },
        current_width   : function() { return current_col - indentation },
        should_break    : function() { return options.width && this.current_width() >= options.width },
        newline         : newline,
        print           : print,
        space           : space,
        comma           : comma,
        colon           : colon,
        last            : function() { return last },
        semicolon       : semicolon,
        force_semicolon : force_semicolon,
        to_ascii        : to_ascii,
        print_name      : function(name) { print(make_name(name)) },
        print_string    : function(str) { print(encode_string(str)) },
        next_indent     : next_indent,
        with_indent     : with_indent,
        with_block      : with_block,
        with_parens     : with_parens,
        with_square     : with_square,
        add_mapping     : add_mapping,
        option          : function(opt) { return options[opt] },
        line            : function() { return current_line },
        col             : function() { return current_col },
        pos             : function() { return current_pos },
        push_node       : function(node) { stack.push(node) },
        pop_node        : function() { return stack.pop() },
        stack           : function() { return stack },
        parent          : function(n) {
            return stack[stack.length - 2 - (n || 0)];
        }
    };

};

/* -----[ code generators ]----- */

(function(){

    /* -----[ utils ]----- */

    function DEFPRINT(nodetype, generator) {
        nodetype.DEFMETHOD("_codegen", generator);
    };

    AST_Node.DEFMETHOD("print", function(stream, force_parens){
        var self = this, generator = self._codegen;
        function doit() {
            self.add_comments(stream);
            self.add_source_map(stream);
            generator(self, stream);
        }
        stream.push_node(self);
        if (force_parens || self.needs_parens(stream)) {
            stream.with_parens(doit);
        } else {
            doit();
        }
        stream.pop_node();
    });

    AST_Node.DEFMETHOD("print_to_string", function(options){
        var s = OutputStream(options);
        this.print(s);
        return s.get();
    });

    /* -----[ comments ]----- */

    AST_Node.DEFMETHOD("add_comments", function(output){
        var c = output.option("comments"), self = this;
        if (c) {
            var start = self.start;
            if (start && !start._comments_dumped) {
                start._comments_dumped = true;
                var comments = start.comments_before || [];

                // XXX: ugly fix for https://github.com/mishoo/UglifyJS2/issues/112
                //               and https://github.com/mishoo/UglifyJS2/issues/372
                if (self instanceof AST_Exit && self.value) {
                    self.value.walk(new TreeWalker(function(node){
                        if (node.start && node.start.comments_before) {
                            comments = comments.concat(node.start.comments_before);
                            node.start.comments_before = [];
                        }
                        if (node instanceof AST_Function ||
                            node instanceof AST_Array ||
                            node instanceof AST_Object)
                        {
                            return true; // don't go inside.
                        }
                    }));
                }

                if (c.test) {
                    comments = comments.filter(function(comment){
                        return c.test(comment.value);
                    });
                } else if (typeof c == "function") {
                    comments = comments.filter(function(comment){
                        return c(self, comment);
                    });
                }
                comments.forEach(function(c){
                    if (/comment[134]/.test(c.type)) {
                        output.print("//" + c.value + "\n");
                        output.indent();
                    }
                    else if (c.type == "comment2") {
                        output.print("/*" + c.value + "*/");
                        if (start.nlb) {
                            output.print("\n");
                            output.indent();
                        } else {
                            output.space();
                        }
                    }
                });
            }
        }
    });

    /* -----[ PARENTHESES ]----- */

    function PARENS(nodetype, func) {
        if (Array.isArray(nodetype)) {
            nodetype.forEach(function(nodetype){
                PARENS(nodetype, func);
            });
        } else {
            nodetype.DEFMETHOD("needs_parens", func);
        }
    };

    PARENS(AST_Node, function(){
        return false;
    });

    // a function expression needs parens around it when it's provably
    // the first token to appear in a statement.
    PARENS(AST_Function, function(output){
        return first_in_statement(output);
    });

    // same goes for an object literal, because otherwise it would be
    // interpreted as a block of code.
    PARENS(AST_Object, function(output){
        return first_in_statement(output);
    });

    PARENS([ AST_Unary, AST_Undefined ], function(output){
        var p = output.parent();
        return p instanceof AST_PropAccess && p.expression === this;
    });

    PARENS(AST_Seq, function(output){
        var p = output.parent();
        return p instanceof AST_Call             // (foo, bar)() or foo(1, (2, 3), 4)
            || p instanceof AST_Unary            // !(foo, bar, baz)
            || p instanceof AST_Binary           // 1 + (2, 3) + 4 ==> 8
            || p instanceof AST_VarDef           // var a = (1, 2), b = a + a; ==> b == 4
            || p instanceof AST_PropAccess       // (1, {foo:2}).foo or (1, {foo:2})["foo"] ==> 2
            || p instanceof AST_Array            // [ 1, (2, 3), 4 ] ==> [ 1, 3, 4 ]
            || p instanceof AST_ObjectProperty   // { foo: (1, 2) }.foo ==> 2
            || p instanceof AST_Conditional      /* (false, true) ? (a = 10, b = 20) : (c = 30)
                                                  * ==> 20 (side effect, set a := 10 and b := 20) */
        ;
    });

    PARENS(AST_Binary, function(output){
        var p = output.parent();
        // (foo && bar)()
        if (p instanceof AST_Call && p.expression === this)
            return true;
        // typeof (foo && bar)
        if (p instanceof AST_Unary)
            return true;
        // (foo && bar)["prop"], (foo && bar).prop
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
        // this deals with precedence: 3 * (2 + 1)
        if (p instanceof AST_Binary) {
            var po = p.operator, pp = PRECEDENCE[po];
            var so = this.operator, sp = PRECEDENCE[so];
            if (pp > sp
                || (pp == sp
                    && this === p.right)) {
                return true;
            }
        }
    });

    PARENS(AST_PropAccess, function(output){
        var p = output.parent();
        if (p instanceof AST_New && p.expression === this) {
            // i.e. new (foo.bar().baz)
            //
            // if there's one call into this subtree, then we need
            // parens around it too, otherwise the call will be
            // interpreted as passing the arguments to the upper New
            // expression.
            try {
                this.walk(new TreeWalker(function(node){
                    if (node instanceof AST_Call) throw p;
                }));
            } catch(ex) {
                if (ex !== p) throw ex;
                return true;
            }
        }
    });

    PARENS(AST_Call, function(output){
        var p = output.parent(), p1;
        if (p instanceof AST_New && p.expression === this)
            return true;

        // workaround for Safari bug.
        // https://bugs.webkit.org/show_bug.cgi?id=123506
        return this.expression instanceof AST_Function
            && p instanceof AST_PropAccess
            && p.expression === this
            && (p1 = output.parent(1)) instanceof AST_Assign
            && p1.left === p;
    });

    PARENS(AST_New, function(output){
        var p = output.parent();
        if (no_constructor_parens(this, output)
            && (p instanceof AST_PropAccess // (new Date).getTime(), (new Date)["getTime"]()
                || p instanceof AST_Call && p.expression === this)) // (new foo)(bar)
            return true;
    });

    PARENS(AST_Number, function(output){
        var p = output.parent();
        if (this.getValue() < 0 && p instanceof AST_PropAccess && p.expression === this)
            return true;
    });

    PARENS(AST_NaN, function(output){
        var p = output.parent();
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
    });

    PARENS([ AST_Assign, AST_Conditional ], function (output){
        var p = output.parent();
        // !(a = false) → true
        if (p instanceof AST_Unary)
            return true;
        // 1 + (a = 2) + 3 → 6, side effect setting a = 2
        if (p instanceof AST_Binary && !(p instanceof AST_Assign))
            return true;
        // (a = func)() —or— new (a = Object)()
        if (p instanceof AST_Call && p.expression === this)
            return true;
        // (a = foo) ? bar : baz
        if (p instanceof AST_Conditional && p.condition === this)
            return true;
        // (a = foo)["prop"] —or— (a = foo).prop
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
    });

    /* -----[ PRINTERS ]----- */

    DEFPRINT(AST_Directive, function(self, output){
        output.print_string(self.value);
        output.semicolon();
    });
    DEFPRINT(AST_Debugger, function(self, output){
        output.print("debugger");
        output.semicolon();
    });

    /* -----[ statements ]----- */

    function display_body(body, is_toplevel, output) {
        var last = body.length - 1;
        body.forEach(function(stmt, i){
            if (!(stmt instanceof AST_EmptyStatement)) {
                output.indent();
                stmt.print(output);
                if (!(i == last && is_toplevel)) {
                    output.newline();
                    if (is_toplevel) output.newline();
                }
            }
        });
    };

    AST_StatementWithBody.DEFMETHOD("_do_print_body", function(output){
        force_statement(this.body, output);
    });

    DEFPRINT(AST_Statement, function(self, output){
        self.body.print(output);
        output.semicolon();
    });
    DEFPRINT(AST_Toplevel, function(self, output){
        display_body(self.body, true, output);
        output.print("");
    });
    DEFPRINT(AST_LabeledStatement, function(self, output){
        self.label.print(output);
        output.colon();
        self.body.print(output);
    });
    DEFPRINT(AST_SimpleStatement, function(self, output){
        self.body.print(output);
        output.semicolon();
    });
    function print_bracketed(body, output) {
        if (body.length > 0) output.with_block(function(){
            display_body(body, false, output);
        });
        else output.print("{}");
    };
    DEFPRINT(AST_BlockStatement, function(self, output){
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_EmptyStatement, function(self, output){
        output.semicolon();
    });
    DEFPRINT(AST_Do, function(self, output){
        output.print("do");
        output.space();
        self._do_print_body(output);
        output.space();
        output.print("while");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.semicolon();
    });
    DEFPRINT(AST_While, function(self, output){
        output.print("while");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_For, function(self, output){
        output.print("fo" + "r");
        output.space();
        output.with_parens(function(){
            if (self.init && !(self.init instanceof AST_EmptyStatement)) {
                if (self.init instanceof AST_Definitions) {
                    self.init.print(output);
                } else {
                    parenthesize_for_noin(self.init, output, true);
                }
                output.print(";");
                output.space();
            } else {
                output.print(";");
            }
            if (self.condition) {
                self.condition.print(output);
                output.print(";");
                output.space();
            } else {
                output.print(";");
            }
            if (self.step) {
                self.step.print(output);
            }
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_ForIn, function(self, output){
        output.print("fo" + "r");
        output.space();
        output.with_parens(function(){
            self.init.print(output);
            output.space();
            output.print("in");
            output.space();
            self.object.print(output);
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_With, function(self, output){
        output.print("with");
        output.space();
        output.with_parens(function(){
            self.expression.print(output);
        });
        output.space();
        self._do_print_body(output);
    });

    /* -----[ functions ]----- */
    AST_Lambda.DEFMETHOD("_do_print", function(output, nokeyword){
        var self = this;
        if (!nokeyword) {
            output.print("function");
        }
        if (self.name) {
            output.space();
            self.name.print(output);
        }
        output.with_parens(function(){
            self.argnames.forEach(function(arg, i){
                if (i) output.comma();
                arg.print(output);
            });
        });
        output.space();
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_Lambda, function(self, output){
        self._do_print(output);
    });

    /* -----[ exits ]----- */
    AST_Exit.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        if (this.value) {
            output.space();
            this.value.print(output);
        }
        output.semicolon();
    });
    DEFPRINT(AST_Return, function(self, output){
        self._do_print(output, "return");
    });
    DEFPRINT(AST_Throw, function(self, output){
        self._do_print(output, "throw");
    });

    /* -----[ loop control ]----- */
    AST_LoopControl.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        if (this.label) {
            output.space();
            this.label.print(output);
        }
        output.semicolon();
    });
    DEFPRINT(AST_Break, function(self, output){
        self._do_print(output, "break");
    });
    DEFPRINT(AST_Continue, function(self, output){
        self._do_print(output, "continue");
    });

    /* -----[ if ]----- */
    function make_then(self, output) {
        if (output.option("bracketize")) {
            make_block(self.body, output);
            return;
        }
        // The squeezer replaces "block"-s that contain only a single
        // statement with the statement itself; technically, the AST
        // is correct, but this can create problems when we output an
        // IF having an ELSE clause where the THEN clause ends in an
        // IF *without* an ELSE block (then the outer ELSE would refer
        // to the inner IF).  This function checks for this case and
        // adds the block brackets if needed.
        if (!self.body)
            return output.force_semicolon();
        if (self.body instanceof AST_Do
            && !output.option("screw_ie8")) {
            // https://github.com/mishoo/UglifyJS/issues/#issue/57 IE
            // croaks with "syntax error" on code like this: if (foo)
            // do ... while(cond); else ...  we need block brackets
            // around do/while
            make_block(self.body, output);
            return;
        }
        var b = self.body;
        while (true) {
            if (b instanceof AST_If) {
                if (!b.alternative) {
                    make_block(self.body, output);
                    return;
                }
                b = b.alternative;
            }
            else if (b instanceof AST_StatementWithBody) {
                b = b.body;
            }
            else break;
        }
        force_statement(self.body, output);
    };
    DEFPRINT(AST_If, function(self, output){
        output.print("if");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.space();
        if (self.alternative) {
            make_then(self, output);
            output.space();
            output.print("else");
            output.space();
            force_statement(self.alternative, output);
        } else {
            self._do_print_body(output);
        }
    });

    /* -----[ switch ]----- */
    DEFPRINT(AST_Switch, function(self, output){
        output.print("switch");
        output.space();
        output.with_parens(function(){
            self.expression.print(output);
        });
        output.space();
        if (self.body.length > 0) output.with_block(function(){
            self.body.forEach(function(stmt, i){
                if (i) output.newline();
                output.indent(true);
                stmt.print(output);
            });
        });
        else output.print("{}");
    });
    AST_SwitchBranch.DEFMETHOD("_do_print_body", function(output){
        if (this.body.length > 0) {
            output.newline();
            this.body.forEach(function(stmt){
                output.indent();
                stmt.print(output);
                output.newline();
            });
        }
    });
    DEFPRINT(AST_Default, function(self, output){
        output.print("default:");
        self._do_print_body(output);
    });
    DEFPRINT(AST_Case, function(self, output){
        output.print("case");
        output.space();
        self.expression.print(output);
        output.print(":");
        self._do_print_body(output);
    });

    /* -----[ exceptions ]----- */
    DEFPRINT(AST_Try, function(self, output){
        output.print("try");
        output.space();
        print_bracketed(self.body, output);
        if (self.bcatch) {
            output.space();
            self.bcatch.print(output);
        }
        if (self.bfinally) {
            output.space();
            self.bfinally.print(output);
        }
    });
    DEFPRINT(AST_Catch, function(self, output){
        output.print("catch");
        output.space();
        output.with_parens(function(){
            self.argname.print(output);
        });
        output.space();
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_Finally, function(self, output){
        output.print("finally");
        output.space();
        print_bracketed(self.body, output);
    });

    /* -----[ var/const ]----- */
    AST_Definitions.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        output.space();
        this.definitions.forEach(function(def, i){
            if (i) output.comma();
            def.print(output);
        });
        var p = output.parent();
        var in_for = p instanceof AST_For || p instanceof AST_ForIn;
        var avoid_semicolon = in_for && p.init === this;
        if (!avoid_semicolon)
            output.semicolon();
    });
    DEFPRINT(AST_Var, function(self, output){
        self._do_print(output, "var");
    });
    DEFPRINT(AST_Const, function(self, output){
        self._do_print(output, "const");
    });

    function parenthesize_for_noin(node, output, noin) {
        if (!noin) node.print(output);
        else try {
            // need to take some precautions here:
            //    https://github.com/mishoo/UglifyJS2/issues/60
            node.walk(new TreeWalker(function(node){
                if (node instanceof AST_Binary && node.operator == "in")
                    throw output;
            }));
            node.print(output);
        } catch(ex) {
            if (ex !== output) throw ex;
            node.print(output, true);
        }
    };

    DEFPRINT(AST_VarDef, function(self, output){
        self.name.print(output);
        if (self.value) {
            output.space();
            output.print("=");
            output.space();
            var p = output.parent(1);
            var noin = p instanceof AST_For || p instanceof AST_ForIn;
            parenthesize_for_noin(self.value, output, noin);
        }
    });

    /* -----[ other expressions ]----- */
    DEFPRINT(AST_Call, function(self, output){
        self.expression.print(output);
        if (self instanceof AST_New && no_constructor_parens(self, output))
            return;
        output.with_parens(function(){
            self.args.forEach(function(expr, i){
                if (i) output.comma();
                expr.print(output);
            });
        });
    });
    DEFPRINT(AST_New, function(self, output){
        output.print("new");
        output.space();
        AST_Call.prototype._codegen(self, output);
    });

    AST_Seq.DEFMETHOD("_do_print", function(output){
        this.car.print(output);
        if (this.cdr) {
            output.comma();
            if (output.should_break()) {
                output.newline();
                output.indent();
            }
            this.cdr.print(output);
        }
    });
    DEFPRINT(AST_Seq, function(self, output){
        self._do_print(output);
        // var p = output.parent();
        // if (p instanceof AST_Statement) {
        //     output.with_indent(output.next_indent(), function(){
        //         self._do_print(output);
        //     });
        // } else {
        //     self._do_print(output);
        // }
    });
    DEFPRINT(AST_Dot, function(self, output){
        var expr = self.expression;
        expr.print(output);
        if (expr instanceof AST_Number && expr.getValue() >= 0) {
            if (!/[xa-f.]/i.test(output.last())) {
                output.print(".");
            }
        }
        output.print(".");
        // the name after dot would be mapped about here.
        output.add_mapping(self.end);
        output.print_name(self.property);
    });
    DEFPRINT(AST_Sub, function(self, output){
        self.expression.print(output);
        output.print("[");
        self.property.print(output);
        output.print("]");
    });
    DEFPRINT(AST_UnaryPrefix, function(self, output){
        var op = self.operator;
        output.print(op);
        if (/^[a-z]/i.test(op)
            || (/[+-]$/.test(op)
                && self.expression instanceof AST_UnaryPrefix
                && /^[+-]/.test(self.expression.operator))) {
            output.space();
        }
        self.expression.print(output);
    });
    DEFPRINT(AST_UnaryPostfix, function(self, output){
        self.expression.print(output);
        output.print(self.operator);
    });
    DEFPRINT(AST_Binary, function(self, output){
        self.left.print(output);
        output.space();
        output.print(self.operator);
        if (self.operator == "<"
            && self.right instanceof AST_UnaryPrefix
            && self.right.operator == "!"
            && self.right.expression instanceof AST_UnaryPrefix
            && self.right.expression.operator == "--") {
            // space is mandatory to avoid outputting <!--
            // http://javascript.spec.whatwg.org/#comment-syntax
            output.print(" ");
        } else {
            // the space is optional depending on "beautify"
            output.space();
        }
        self.right.print(output);
    });
    DEFPRINT(AST_Conditional, function(self, output){
        self.condition.print(output);
        output.space();
        output.print("?");
        output.space();
        self.consequent.print(output);
        output.space();
        output.colon();
        self.alternative.print(output);
    });

    /* -----[ literals ]----- */
    DEFPRINT(AST_Array, function(self, output){
        output.with_square(function(){
            var a = self.elements, len = a.length;
            if (len > 0) output.space();
            a.forEach(function(exp, i){
                if (i) output.comma();
                exp.print(output);
                // If the final element is a hole, we need to make sure it
                // doesn't look like a trailing comma, by inserting an actual
                // trailing comma.
                if (i === len - 1 && exp instanceof AST_Hole)
                  output.comma();
            });
            if (len > 0) output.space();
        });
    });
    DEFPRINT(AST_Object, function(self, output){
        if (self.properties.length > 0) output.with_block(function(){
            self.properties.forEach(function(prop, i){
                if (i) {
                    output.print(",");
                    output.newline();
                }
                output.indent();
                prop.print(output);
            });
            output.newline();
        });
        else output.print("{}");
    });
    DEFPRINT(AST_ObjectKeyVal, function(self, output){
        var key = self.key;
        if (output.option("quote_keys")) {
            output.print_string(key + "");
        } else if ((typeof key == "number"
                    || !output.option("beautify")
                    && +key + "" == key)
                   && parseFloat(key) >= 0) {
            output.print(make_num(key));
        } else if (RESERVED_WORDS(key) ? output.option("screw_ie8") : is_identifier_string(key)) {
            output.print_name(key);
        } else {
            output.print_string(key);
        }
        output.colon();
        self.value.print(output);
    });
    DEFPRINT(AST_ObjectSetter, function(self, output){
        output.print("set");
        output.space();
        self.key.print(output);
        self.value._do_print(output, true);
    });
    DEFPRINT(AST_ObjectGetter, function(self, output){
        output.print("get");
        output.space();
        self.key.print(output);
        self.value._do_print(output, true);
    });
    DEFPRINT(AST_Symbol, function(self, output){
        var def = self.definition();
        output.print_name(def ? def.mangled_name || def.name : self.name);
    });
    DEFPRINT(AST_Undefined, function(self, output){
        output.print("void 0");
    });
    DEFPRINT(AST_Hole, noop);
    DEFPRINT(AST_Infinity, function(self, output){
        output.print("1/0");
    });
    DEFPRINT(AST_NaN, function(self, output){
        output.print("0/0");
    });
    DEFPRINT(AST_This, function(self, output){
        output.print("this");
    });
    DEFPRINT(AST_Constant, function(self, output){
        output.print(self.getValue());
    });
    DEFPRINT(AST_String, function(self, output){
        output.print_string(self.getValue());
    });
    DEFPRINT(AST_Number, function(self, output){
        output.print(make_num(self.getValue()));
    });

    function regexp_safe_literal(code) {
        return [
            0x5c   , // \
            0x2f   , // /
            0x2e   , // .
            0x2b   , // +
            0x2a   , // *
            0x3f   , // ?
            0x28   , // (
            0x29   , // )
            0x5b   , // [
            0x5d   , // ]
            0x7b   , // {
            0x7d   , // }
            0x24   , // $
            0x5e   , // ^
            0x3a   , // :
            0x7c   , // |
            0x21   , // !
            0x0a   , // \n
            0x0d   , // \r
            0x00   , // \0
            0xfeff , // Unicode BOM
            0x2028 , // unicode "line separator"
            0x2029 , // unicode "paragraph separator"
        ].indexOf(code) < 0;
    };

    DEFPRINT(AST_RegExp, function(self, output){
        var str = self.getValue().toString();
        if (output.option("ascii_only")) {
            str = output.to_ascii(str);
        } else if (output.option("unescape_regexps")) {
            str = str.split("\\\\").map(function(str){
                return str.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g, function(s){
                    var code = parseInt(s.substr(2), 16);
                    return regexp_safe_literal(code) ? String.fromCharCode(code) : s;
                });
            }).join("\\\\");
        }
        output.print(str);
        var p = output.parent();
        if (p instanceof AST_Binary && /^in/.test(p.operator) && p.left === self)
            output.print(" ");
    });

    function force_statement(stat, output) {
        if (output.option("bracketize")) {
            if (!stat || stat instanceof AST_EmptyStatement)
                output.print("{}");
            else if (stat instanceof AST_BlockStatement)
                stat.print(output);
            else output.with_block(function(){
                output.indent();
                stat.print(output);
                output.newline();
            });
        } else {
            if (!stat || stat instanceof AST_EmptyStatement)
                output.force_semicolon();
            else
                stat.print(output);
        }
    };

    // return true if the node at the top of the stack (that means the
    // innermost node in the current output) is lexically the first in
    // a statement.
    function first_in_statement(output) {
        var a = output.stack(), i = a.length, node = a[--i], p = a[--i];
        while (i > 0) {
            if (p instanceof AST_Statement && p.body === node)
                return true;
            if ((p instanceof AST_Seq           && p.car === node        ) ||
                (p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||
                (p instanceof AST_Dot           && p.expression === node ) ||
                (p instanceof AST_Sub           && p.expression === node ) ||
                (p instanceof AST_Conditional   && p.condition === node  ) ||
                (p instanceof AST_Binary        && p.left === node       ) ||
                (p instanceof AST_UnaryPostfix  && p.expression === node ))
            {
                node = p;
                p = a[--i];
            } else {
                return false;
            }
        }
    };

    // self should be AST_New.  decide if we want to show parens or not.
    function no_constructor_parens(self, output) {
        return self.args.length == 0 && !output.option("beautify");
    };

    function best_of(a) {
        var best = a[0], len = best.length;
        for (var i = 1; i < a.length; ++i) {
            if (a[i].length < len) {
                best = a[i];
                len = best.length;
            }
        }
        return best;
    };

    function make_num(num) {
        var str = num.toString(10), a = [ str.replace(/^0\./, ".").replace('e+', 'e') ], m;
        if (Math.floor(num) === num) {
            if (num >= 0) {
                a.push("0x" + num.toString(16).toLowerCase(), // probably pointless
                       "0" + num.toString(8)); // same.
            } else {
                a.push("-0x" + (-num).toString(16).toLowerCase(), // probably pointless
                       "-0" + (-num).toString(8)); // same.
            }
            if ((m = /^(.*?)(0+)$/.exec(num))) {
                a.push(m[1] + "e" + m[2].length);
            }
        } else if ((m = /^0?\.(0+)(.*)$/.exec(num))) {
            a.push(m[2] + "e-" + (m[1].length + m[2].length),
                   str.substr(str.indexOf(".")));
        }
        return best_of(a);
    };

    function make_block(stmt, output) {
        if (stmt instanceof AST_BlockStatement) {
            stmt.print(output);
            return;
        }
        output.with_block(function(){
            output.indent();
            stmt.print(output);
            output.newline();
        });
    };

    /* -----[ source map generators ]----- */

    function DEFMAP(nodetype, generator) {
        nodetype.DEFMETHOD("add_source_map", function(stream){
            generator(this, stream);
        });
    };

    // We could easily add info for ALL nodes, but it seems to me that
    // would be quite wasteful, hence this noop in the base class.
    DEFMAP(AST_Node, noop);

    function basic_sourcemap_gen(self, output) {
        output.add_mapping(self.start);
    };

    // XXX: I'm not exactly sure if we need it for all of these nodes,
    // or if we should add even more.

    DEFMAP(AST_Directive, basic_sourcemap_gen);
    DEFMAP(AST_Debugger, basic_sourcemap_gen);
    DEFMAP(AST_Symbol, basic_sourcemap_gen);
    DEFMAP(AST_Jump, basic_sourcemap_gen);
    DEFMAP(AST_StatementWithBody, basic_sourcemap_gen);
    DEFMAP(AST_LabeledStatement, noop); // since the label symbol will mark it
    DEFMAP(AST_Lambda, basic_sourcemap_gen);
    DEFMAP(AST_Switch, basic_sourcemap_gen);
    DEFMAP(AST_SwitchBranch, basic_sourcemap_gen);
    DEFMAP(AST_BlockStatement, basic_sourcemap_gen);
    DEFMAP(AST_Toplevel, noop);
    DEFMAP(AST_New, basic_sourcemap_gen);
    DEFMAP(AST_Try, basic_sourcemap_gen);
    DEFMAP(AST_Catch, basic_sourcemap_gen);
    DEFMAP(AST_Finally, basic_sourcemap_gen);
    DEFMAP(AST_Definitions, basic_sourcemap_gen);
    DEFMAP(AST_Constant, basic_sourcemap_gen);
    DEFMAP(AST_ObjectProperty, function(self, output){
        output.add_mapping(self.start, self.key);
    });

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function Compressor(options, false_by_default) {
    if (!(this instanceof Compressor))
        return new Compressor(options, false_by_default);
    TreeTransformer.call(this, this.before, this.after);
    this.options = defaults(options, {
        sequences     : !false_by_default,
        properties    : !false_by_default,
        dead_code     : !false_by_default,
        drop_debugger : !false_by_default,
        unsafe        : false,
        unsafe_comps  : false,
        conditionals  : !false_by_default,
        comparisons   : !false_by_default,
        evaluate      : !false_by_default,
        booleans      : !false_by_default,
        loops         : !false_by_default,
        unused        : !false_by_default,
        hoist_funs    : !false_by_default,
        keep_fargs    : false,
        hoist_vars    : false,
        if_return     : !false_by_default,
        join_vars     : !false_by_default,
        cascade       : !false_by_default,
        side_effects  : !false_by_default,
        pure_getters  : false,
        pure_funcs    : null,
        negate_iife   : !false_by_default,
        screw_ie8     : false,
        drop_console  : false,
        angular       : false,

        warnings      : true,
        global_defs   : {}
    }, true);
};

Compressor.prototype = new TreeTransformer;
merge(Compressor.prototype, {
    option: function(key) { return this.options[key] },
    warn: function() {
        if (this.options.warnings)
            AST_Node.warn.apply(AST_Node, arguments);
    },
    before: function(node, descend, in_list) {
        if (node._squeezed) return node;
        var was_scope = false;
        if (node instanceof AST_Scope) {
            node = node.hoist_declarations(this);
            was_scope = true;
        }
        descend(node, this);
        node = node.optimize(this);
        if (was_scope && node instanceof AST_Scope) {
            node.drop_unused(this);
            descend(node, this);
        }
        node._squeezed = true;
        return node;
    }
});

(function(){

    function OPT(node, optimizer) {
        node.DEFMETHOD("optimize", function(compressor){
            var self = this;
            if (self._optimized) return self;
            var opt = optimizer(self, compressor);
            opt._optimized = true;
            if (opt === self) return opt;
            return opt.transform(compressor);
        });
    };

    OPT(AST_Node, function(self, compressor){
        return self;
    });

    AST_Node.DEFMETHOD("equivalent_to", function(node){
        // XXX: this is a rather expensive way to test two node's equivalence:
        return this.print_to_string() == node.print_to_string();
    });

    function make_node(ctor, orig, props) {
        if (!props) props = {};
        if (orig) {
            if (!props.start) props.start = orig.start;
            if (!props.end) props.end = orig.end;
        }
        return new ctor(props);
    };

    function make_node_from_constant(compressor, val, orig) {
        // XXX: WIP.
        // if (val instanceof AST_Node) return val.transform(new TreeTransformer(null, function(node){
        //     if (node instanceof AST_SymbolRef) {
        //         var scope = compressor.find_parent(AST_Scope);
        //         var def = scope.find_variable(node);
        //         node.thedef = def;
        //         return node;
        //     }
        // })).transform(compressor);

        if (val instanceof AST_Node) return val.transform(compressor);
        switch (typeof val) {
          case "string":
            return make_node(AST_String, orig, {
                value: val
            }).optimize(compressor);
          case "number":
            return make_node(isNaN(val) ? AST_NaN : AST_Number, orig, {
                value: val
            }).optimize(compressor);
          case "boolean":
            return make_node(val ? AST_True : AST_False, orig).optimize(compressor);
          case "undefined":
            return make_node(AST_Undefined, orig).optimize(compressor);
          default:
            if (val === null) {
                return make_node(AST_Null, orig).optimize(compressor);
            }
            if (val instanceof RegExp) {
                return make_node(AST_RegExp, orig).optimize(compressor);
            }
            throw new Error(string_template("Can't handle constant of type: {type}", {
                type: typeof val
            }));
        }
    };

    function as_statement_array(thing) {
        if (thing === null) return [];
        if (thing instanceof AST_BlockStatement) return thing.body;
        if (thing instanceof AST_EmptyStatement) return [];
        if (thing instanceof AST_Statement) return [ thing ];
        throw new Error("Can't convert thing to statement array");
    };

    function is_empty(thing) {
        if (thing === null) return true;
        if (thing instanceof AST_EmptyStatement) return true;
        if (thing instanceof AST_BlockStatement) return thing.body.length == 0;
        return false;
    };

    function loop_body(x) {
        if (x instanceof AST_Switch) return x;
        if (x instanceof AST_For || x instanceof AST_ForIn || x instanceof AST_DWLoop) {
            return (x.body instanceof AST_BlockStatement ? x.body : x);
        }
        return x;
    };

    function tighten_body(statements, compressor) {
        var CHANGED;
        do {
            CHANGED = false;
            if (compressor.option("angular")) {
                statements = process_for_angular(statements);
            }
            statements = eliminate_spurious_blocks(statements);
            if (compressor.option("dead_code")) {
                statements = eliminate_dead_code(statements, compressor);
            }
            if (compressor.option("if_return")) {
                statements = handle_if_return(statements, compressor);
            }
            if (compressor.option("sequences")) {
                statements = sequencesize(statements, compressor);
            }
            if (compressor.option("join_vars")) {
                statements = join_consecutive_vars(statements, compressor);
            }
        } while (CHANGED);

        if (compressor.option("negate_iife")) {
            negate_iifes(statements, compressor);
        }

        return statements;

        function process_for_angular(statements) {
            function make_injector(func, name) {
                return make_node(AST_SimpleStatement, func, {
                    body: make_node(AST_Assign, func, {
                        operator: "=",
                        left: make_node(AST_Dot, name, {
                            expression: make_node(AST_SymbolRef, name, name),
                            property: "$inject"
                        }),
                        right: make_node(AST_Array, func, {
                            elements: func.argnames.map(function(sym){
                                return make_node(AST_String, sym, { value: sym.name });
                            })
                        })
                    })
                });
            }
            return statements.reduce(function(a, stat){
                a.push(stat);
                var token = stat.start;
                var comments = token.comments_before;
                if (comments && comments.length > 0) {
                    var last = comments.pop();
                    if (/@ngInject/.test(last.value)) {
                        // case 1: defun
                        if (stat instanceof AST_Defun) {
                            a.push(make_injector(stat, stat.name));
                        }
                        else if (stat instanceof AST_Definitions) {
                            stat.definitions.forEach(function(def){
                                if (def.value && def.value instanceof AST_Lambda) {
                                    a.push(make_injector(def.value, def.name));
                                }
                            });
                        }
                        else {
                            compressor.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]", token);
                        }
                    }
                }
                return a;
            }, []);
        }

        function eliminate_spurious_blocks(statements) {
            var seen_dirs = [];
            return statements.reduce(function(a, stat){
                if (stat instanceof AST_BlockStatement) {
                    CHANGED = true;
                    a.push.apply(a, eliminate_spurious_blocks(stat.body));
                } else if (stat instanceof AST_EmptyStatement) {
                    CHANGED = true;
                } else if (stat instanceof AST_Directive) {
                    if (seen_dirs.indexOf(stat.value) < 0) {
                        a.push(stat);
                        seen_dirs.push(stat.value);
                    } else {
                        CHANGED = true;
                    }
                } else {
                    a.push(stat);
                }
                return a;
            }, []);
        };

        function handle_if_return(statements, compressor) {
            var self = compressor.self();
            var in_lambda = self instanceof AST_Lambda;
            var ret = [];
            loop: for (var i = statements.length; --i >= 0;) {
                var stat = statements[i];
                switch (true) {
                  case (in_lambda && stat instanceof AST_Return && !stat.value && ret.length == 0):
                    CHANGED = true;
                    // note, ret.length is probably always zero
                    // because we drop unreachable code before this
                    // step.  nevertheless, it's good to check.
                    continue loop;
                  case stat instanceof AST_If:
                    if (stat.body instanceof AST_Return) {
                        //---
                        // pretty silly case, but:
                        // if (foo()) return; return; ==> foo(); return;
                        if (((in_lambda && ret.length == 0)
                             || (ret[0] instanceof AST_Return && !ret[0].value))
                            && !stat.body.value && !stat.alternative) {
                            CHANGED = true;
                            var cond = make_node(AST_SimpleStatement, stat.condition, {
                                body: stat.condition
                            });
                            ret.unshift(cond);
                            continue loop;
                        }
                        //---
                        // if (foo()) return x; return y; ==> return foo() ? x : y;
                        if (ret[0] instanceof AST_Return && stat.body.value && ret[0].value && !stat.alternative) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.alternative = ret[0];
                            ret[0] = stat.transform(compressor);
                            continue loop;
                        }
                        //---
                        // if (foo()) return x; [ return ; ] ==> return foo() ? x : undefined;
                        if ((ret.length == 0 || ret[0] instanceof AST_Return) && stat.body.value && !stat.alternative && in_lambda) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.alternative = ret[0] || make_node(AST_Return, stat, {
                                value: make_node(AST_Undefined, stat)
                            });
                            ret[0] = stat.transform(compressor);
                            continue loop;
                        }
                        //---
                        // if (foo()) return; [ else x... ]; y... ==> if (!foo()) { x...; y... }
                        if (!stat.body.value && in_lambda) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.condition = stat.condition.negate(compressor);
                            stat.body = make_node(AST_BlockStatement, stat, {
                                body: as_statement_array(stat.alternative).concat(ret)
                            });
                            stat.alternative = null;
                            ret = [ stat.transform(compressor) ];
                            continue loop;
                        }
                        //---
                        if (ret.length == 1 && in_lambda && ret[0] instanceof AST_SimpleStatement
                            && (!stat.alternative || stat.alternative instanceof AST_SimpleStatement)) {
                            CHANGED = true;
                            ret.push(make_node(AST_Return, ret[0], {
                                value: make_node(AST_Undefined, ret[0])
                            }).transform(compressor));
                            ret = as_statement_array(stat.alternative).concat(ret);
                            ret.unshift(stat);
                            continue loop;
                        }
                    }

                    var ab = aborts(stat.body);
                    var lct = ab instanceof AST_LoopControl ? compressor.loopcontrol_target(ab.label) : null;
                    if (ab && ((ab instanceof AST_Return && !ab.value && in_lambda)
                               || (ab instanceof AST_Continue && self === loop_body(lct))
                               || (ab instanceof AST_Break && lct instanceof AST_BlockStatement && self === lct))) {
                        if (ab.label) {
                            remove(ab.label.thedef.references, ab);
                        }
                        CHANGED = true;
                        var body = as_statement_array(stat.body).slice(0, -1);
                        stat = stat.clone();
                        stat.condition = stat.condition.negate(compressor);
                        stat.body = make_node(AST_BlockStatement, stat, {
                            body: as_statement_array(stat.alternative).concat(ret)
                        });
                        stat.alternative = make_node(AST_BlockStatement, stat, {
                            body: body
                        });
                        ret = [ stat.transform(compressor) ];
                        continue loop;
                    }

                    var ab = aborts(stat.alternative);
                    var lct = ab instanceof AST_LoopControl ? compressor.loopcontrol_target(ab.label) : null;
                    if (ab && ((ab instanceof AST_Return && !ab.value && in_lambda)
                               || (ab instanceof AST_Continue && self === loop_body(lct))
                               || (ab instanceof AST_Break && lct instanceof AST_BlockStatement && self === lct))) {
                        if (ab.label) {
                            remove(ab.label.thedef.references, ab);
                        }
                        CHANGED = true;
                        stat = stat.clone();
                        stat.body = make_node(AST_BlockStatement, stat.body, {
                            body: as_statement_array(stat.body).concat(ret)
                        });
                        stat.alternative = make_node(AST_BlockStatement, stat.alternative, {
                            body: as_statement_array(stat.alternative).slice(0, -1)
                        });
                        ret = [ stat.transform(compressor) ];
                        continue loop;
                    }

                    ret.unshift(stat);
                    break;
                  default:
                    ret.unshift(stat);
                    break;
                }
            }
            return ret;
        };

        function eliminate_dead_code(statements, compressor) {
            var has_quit = false;
            var orig = statements.length;
            var self = compressor.self();
            statements = statements.reduce(function(a, stat){
                if (has_quit) {
                    extract_declarations_from_unreachable_code(compressor, stat, a);
                } else {
                    if (stat instanceof AST_LoopControl) {
                        var lct = compressor.loopcontrol_target(stat.label);
                        if ((stat instanceof AST_Break
                             && lct instanceof AST_BlockStatement
                             && loop_body(lct) === self) || (stat instanceof AST_Continue
                                                             && loop_body(lct) === self)) {
                            if (stat.label) {
                                remove(stat.label.thedef.references, stat);
                            }
                        } else {
                            a.push(stat);
                        }
                    } else {
                        a.push(stat);
                    }
                    if (aborts(stat)) has_quit = true;
                }
                return a;
            }, []);
            CHANGED = statements.length != orig;
            return statements;
        };

        function sequencesize(statements, compressor) {
            if (statements.length < 2) return statements;
            var seq = [], ret = [];
            function push_seq() {
                seq = AST_Seq.from_array(seq);
                if (seq) ret.push(make_node(AST_SimpleStatement, seq, {
                    body: seq
                }));
                seq = [];
            };
            statements.forEach(function(stat){
                if (stat instanceof AST_SimpleStatement) seq.push(stat.body);
                else push_seq(), ret.push(stat);
            });
            push_seq();
            ret = sequencesize_2(ret, compressor);
            CHANGED = ret.length != statements.length;
            return ret;
        };

        function sequencesize_2(statements, compressor) {
            function cons_seq(right) {
                ret.pop();
                var left = prev.body;
                if (left instanceof AST_Seq) {
                    left.add(right);
                } else {
                    left = AST_Seq.cons(left, right);
                }
                return left.transform(compressor);
            };
            var ret = [], prev = null;
            statements.forEach(function(stat){
                if (prev) {
                    if (stat instanceof AST_For) {
                        var opera = {};
                        try {
                            prev.body.walk(new TreeWalker(function(node){
                                if (node instanceof AST_Binary && node.operator == "in")
                                    throw opera;
                            }));
                            if (stat.init && !(stat.init instanceof AST_Definitions)) {
                                stat.init = cons_seq(stat.init);
                            }
                            else if (!stat.init) {
                                stat.init = prev.body;
                                ret.pop();
                            }
                        } catch(ex) {
                            if (ex !== opera) throw ex;
                        }
                    }
                    else if (stat instanceof AST_If) {
                        stat.condition = cons_seq(stat.condition);
                    }
                    else if (stat instanceof AST_With) {
                        stat.expression = cons_seq(stat.expression);
                    }
                    else if (stat instanceof AST_Exit && stat.value) {
                        stat.value = cons_seq(stat.value);
                    }
                    else if (stat instanceof AST_Exit) {
                        stat.value = cons_seq(make_node(AST_Undefined, stat));
                    }
                    else if (stat instanceof AST_Switch) {
                        stat.expression = cons_seq(stat.expression);
                    }
                }
                ret.push(stat);
                prev = stat instanceof AST_SimpleStatement ? stat : null;
            });
            return ret;
        };

        function join_consecutive_vars(statements, compressor) {
            var prev = null;
            return statements.reduce(function(a, stat){
                if (stat instanceof AST_Definitions && prev && prev.TYPE == stat.TYPE) {
                    prev.definitions = prev.definitions.concat(stat.definitions);
                    CHANGED = true;
                }
                else if (stat instanceof AST_For
                         && prev instanceof AST_Definitions
                         && (!stat.init || stat.init.TYPE == prev.TYPE)) {
                    CHANGED = true;
                    a.pop();
                    if (stat.init) {
                        stat.init.definitions = prev.definitions.concat(stat.init.definitions);
                    } else {
                        stat.init = prev;
                    }
                    a.push(stat);
                    prev = stat;
                }
                else {
                    prev = stat;
                    a.push(stat);
                }
                return a;
            }, []);
        };

        function negate_iifes(statements, compressor) {
            statements.forEach(function(stat){
                if (stat instanceof AST_SimpleStatement) {
                    stat.body = (function transform(thing) {
                        return thing.transform(new TreeTransformer(function(node){
                            if (node instanceof AST_Call && node.expression instanceof AST_Function) {
                                return make_node(AST_UnaryPrefix, node, {
                                    operator: "!",
                                    expression: node
                                });
                            }
                            else if (node instanceof AST_Call) {
                                node.expression = transform(node.expression);
                            }
                            else if (node instanceof AST_Seq) {
                                node.car = transform(node.car);
                            }
                            else if (node instanceof AST_Conditional) {
                                var expr = transform(node.condition);
                                if (expr !== node.condition) {
                                    // it has been negated, reverse
                                    node.condition = expr;
                                    var tmp = node.consequent;
                                    node.consequent = node.alternative;
                                    node.alternative = tmp;
                                }
                            }
                            return node;
                        }));
                    })(stat.body);
                }
            });
        };

    };

    function extract_declarations_from_unreachable_code(compressor, stat, target) {
        compressor.warn("Dropping unreachable code [{file}:{line},{col}]", stat.start);
        stat.walk(new TreeWalker(function(node){
            if (node instanceof AST_Definitions) {
                compressor.warn("Declarations in unreachable code! [{file}:{line},{col}]", node.start);
                node.remove_initializers();
                target.push(node);
                return true;
            }
            if (node instanceof AST_Defun) {
                target.push(node);
                return true;
            }
            if (node instanceof AST_Scope) {
                return true;
            }
        }));
    };

    /* -----[ boolean/negation helpers ]----- */

    // methods to determine whether an expression has a boolean result type
    (function (def){
        var unary_bool = [ "!", "delete" ];
        var binary_bool = [ "in", "instanceof", "==", "!=", "===", "!==", "<", "<=", ">=", ">" ];
        def(AST_Node, function(){ return false });
        def(AST_UnaryPrefix, function(){
            return member(this.operator, unary_bool);
        });
        def(AST_Binary, function(){
            return member(this.operator, binary_bool) ||
                ( (this.operator == "&&" || this.operator == "||") &&
                  this.left.is_boolean() && this.right.is_boolean() );
        });
        def(AST_Conditional, function(){
            return this.consequent.is_boolean() && this.alternative.is_boolean();
        });
        def(AST_Assign, function(){
            return this.operator == "=" && this.right.is_boolean();
        });
        def(AST_Seq, function(){
            return this.cdr.is_boolean();
        });
        def(AST_True, function(){ return true });
        def(AST_False, function(){ return true });
    })(function(node, func){
        node.DEFMETHOD("is_boolean", func);
    });

    // methods to determine if an expression has a string result type
    (function (def){
        def(AST_Node, function(){ return false });
        def(AST_String, function(){ return true });
        def(AST_UnaryPrefix, function(){
            return this.operator == "typeof";
        });
        def(AST_Binary, function(compressor){
            return this.operator == "+" &&
                (this.left.is_string(compressor) || this.right.is_string(compressor));
        });
        def(AST_Assign, function(compressor){
            return (this.operator == "=" || this.operator == "+=") && this.right.is_string(compressor);
        });
        def(AST_Seq, function(compressor){
            return this.cdr.is_string(compressor);
        });
        def(AST_Conditional, function(compressor){
            return this.consequent.is_string(compressor) && this.alternative.is_string(compressor);
        });
        def(AST_Call, function(compressor){
            return compressor.option("unsafe")
                && this.expression instanceof AST_SymbolRef
                && this.expression.name == "String"
                && this.expression.undeclared();
        });
    })(function(node, func){
        node.DEFMETHOD("is_string", func);
    });

    function best_of(ast1, ast2) {
        return ast1.print_to_string().length >
            ast2.print_to_string().length
            ? ast2 : ast1;
    };

    // methods to evaluate a constant expression
    (function (def){
        // The evaluate method returns an array with one or two
        // elements.  If the node has been successfully reduced to a
        // constant, then the second element tells us the value;
        // otherwise the second element is missing.  The first element
        // of the array is always an AST_Node descendant; if
        // evaluation was successful it's a node that represents the
        // constant; otherwise it's the original or a replacement node.
        AST_Node.DEFMETHOD("evaluate", function(compressor){
            if (!compressor.option("evaluate")) return [ this ];
            try {
                var val = this._eval(compressor);
                return [ best_of(make_node_from_constant(compressor, val, this), this), val ];
            } catch(ex) {
                if (ex !== def) throw ex;
                return [ this ];
            }
        });
        def(AST_Statement, function(){
            throw new Error(string_template("Cannot evaluate a statement [{file}:{line},{col}]", this.start));
        });
        def(AST_Function, function(){
            // XXX: AST_Function inherits from AST_Scope, which itself
            // inherits from AST_Statement; however, an AST_Function
            // isn't really a statement.  This could byte in other
            // places too. :-( Wish JS had multiple inheritance.
            throw def;
        });
        function ev(node, compressor) {
            if (!compressor) throw new Error("Compressor must be passed");

            return node._eval(compressor);
        };
        def(AST_Node, function(){
            throw def;          // not constant
        });
        def(AST_Constant, function(){
            return this.getValue();
        });
        def(AST_UnaryPrefix, function(compressor){
            var e = this.expression;
            switch (this.operator) {
              case "!": return !ev(e, compressor);
              case "typeof":
                // Function would be evaluated to an array and so typeof would
                // incorrectly return 'object'. Hence making is a special case.
                if (e instanceof AST_Function) return typeof function(){};

                e = ev(e, compressor);

                // typeof <RegExp> returns "object" or "function" on different platforms
                // so cannot evaluate reliably
                if (e instanceof RegExp) throw def;

                return typeof e;
              case "void": return void ev(e, compressor);
              case "~": return ~ev(e, compressor);
              case "-":
                e = ev(e, compressor);
                if (e === 0) throw def;
                return -e;
              case "+": return +ev(e, compressor);
            }
            throw def;
        });
        def(AST_Binary, function(c){
            var left = this.left, right = this.right;
            switch (this.operator) {
              case "&&"         : return ev(left, c) &&         ev(right, c);
              case "||"         : return ev(left, c) ||         ev(right, c);
              case "|"          : return ev(left, c) |          ev(right, c);
              case "&"          : return ev(left, c) &          ev(right, c);
              case "^"          : return ev(left, c) ^          ev(right, c);
              case "+"          : return ev(left, c) +          ev(right, c);
              case "*"          : return ev(left, c) *          ev(right, c);
              case "/"          : return ev(left, c) /          ev(right, c);
              case "%"          : return ev(left, c) %          ev(right, c);
              case "-"          : return ev(left, c) -          ev(right, c);
              case "<<"         : return ev(left, c) <<         ev(right, c);
              case ">>"         : return ev(left, c) >>         ev(right, c);
              case ">>>"        : return ev(left, c) >>>        ev(right, c);
              case "=="         : return ev(left, c) ==         ev(right, c);
              case "==="        : return ev(left, c) ===        ev(right, c);
              case "!="         : return ev(left, c) !=         ev(right, c);
              case "!=="        : return ev(left, c) !==        ev(right, c);
              case "<"          : return ev(left, c) <          ev(right, c);
              case "<="         : return ev(left, c) <=         ev(right, c);
              case ">"          : return ev(left, c) >          ev(right, c);
              case ">="         : return ev(left, c) >=         ev(right, c);
              case "in"         : return ev(left, c) in         ev(right, c);
              case "instanceof" : return ev(left, c) instanceof ev(right, c);
            }
            throw def;
        });
        def(AST_Conditional, function(compressor){
            return ev(this.condition, compressor)
                ? ev(this.consequent, compressor)
                : ev(this.alternative, compressor);
        });
        def(AST_SymbolRef, function(compressor){
            var d = this.definition();
            if (d && d.constant && d.init) return ev(d.init, compressor);
            throw def;
        });
        def(AST_Dot, function(compressor){
            if (compressor.option("unsafe") && this.property == "length") {
                var str = ev(this.expression, compressor);
                if (typeof str == "string")
                    return str.length;
            }
            throw def;
        });
    })(function(node, func){
        node.DEFMETHOD("_eval", func);
    });

    // method to negate an expression
    (function(def){
        function basic_negation(exp) {
            return make_node(AST_UnaryPrefix, exp, {
                operator: "!",
                expression: exp
            });
        };
        def(AST_Node, function(){
            return basic_negation(this);
        });
        def(AST_Statement, function(){
            throw new Error("Cannot negate a statement");
        });
        def(AST_Function, function(){
            return basic_negation(this);
        });
        def(AST_UnaryPrefix, function(){
            if (this.operator == "!")
                return this.expression;
            return basic_negation(this);
        });
        def(AST_Seq, function(compressor){
            var self = this.clone();
            self.cdr = self.cdr.negate(compressor);
            return self;
        });
        def(AST_Conditional, function(compressor){
            var self = this.clone();
            self.consequent = self.consequent.negate(compressor);
            self.alternative = self.alternative.negate(compressor);
            return best_of(basic_negation(this), self);
        });
        def(AST_Binary, function(compressor){
            var self = this.clone(), op = this.operator;
            if (compressor.option("unsafe_comps")) {
                switch (op) {
                  case "<=" : self.operator = ">"  ; return self;
                  case "<"  : self.operator = ">=" ; return self;
                  case ">=" : self.operator = "<"  ; return self;
                  case ">"  : self.operator = "<=" ; return self;
                }
            }
            switch (op) {
              case "==" : self.operator = "!="; return self;
              case "!=" : self.operator = "=="; return self;
              case "===": self.operator = "!=="; return self;
              case "!==": self.operator = "==="; return self;
              case "&&":
                self.operator = "||";
                self.left = self.left.negate(compressor);
                self.right = self.right.negate(compressor);
                return best_of(basic_negation(this), self);
              case "||":
                self.operator = "&&";
                self.left = self.left.negate(compressor);
                self.right = self.right.negate(compressor);
                return best_of(basic_negation(this), self);
            }
            return basic_negation(this);
        });
    })(function(node, func){
        node.DEFMETHOD("negate", function(compressor){
            return func.call(this, compressor);
        });
    });

    // determine if expression has side effects
    (function(def){
        def(AST_Node, function(compressor){ return true });

        def(AST_EmptyStatement, function(compressor){ return false });
        def(AST_Constant, function(compressor){ return false });
        def(AST_This, function(compressor){ return false });

        def(AST_Call, function(compressor){
            var pure = compressor.option("pure_funcs");
            if (!pure) return true;
            return pure.indexOf(this.expression.print_to_string()) < 0;
        });

        def(AST_Block, function(compressor){
            for (var i = this.body.length; --i >= 0;) {
                if (this.body[i].has_side_effects(compressor))
                    return true;
            }
            return false;
        });

        def(AST_SimpleStatement, function(compressor){
            return this.body.has_side_effects(compressor);
        });
        def(AST_Defun, function(compressor){ return true });
        def(AST_Function, function(compressor){ return false });
        def(AST_Binary, function(compressor){
            return this.left.has_side_effects(compressor)
                || this.right.has_side_effects(compressor);
        });
        def(AST_Assign, function(compressor){ return true });
        def(AST_Conditional, function(compressor){
            return this.condition.has_side_effects(compressor)
                || this.consequent.has_side_effects(compressor)
                || this.alternative.has_side_effects(compressor);
        });
        def(AST_Unary, function(compressor){
            return this.operator == "delete"
                || this.operator == "++"
                || this.operator == "--"
                || this.expression.has_side_effects(compressor);
        });
        def(AST_SymbolRef, function(compressor){
            return this.global() && this.undeclared();
        });
        def(AST_Object, function(compressor){
            for (var i = this.properties.length; --i >= 0;)
                if (this.properties[i].has_side_effects(compressor))
                    return true;
            return false;
        });
        def(AST_ObjectProperty, function(compressor){
            return this.value.has_side_effects(compressor);
        });
        def(AST_Array, function(compressor){
            for (var i = this.elements.length; --i >= 0;)
                if (this.elements[i].has_side_effects(compressor))
                    return true;
            return false;
        });
        def(AST_Dot, function(compressor){
            if (!compressor.option("pure_getters")) return true;
            return this.expression.has_side_effects(compressor);
        });
        def(AST_Sub, function(compressor){
            if (!compressor.option("pure_getters")) return true;
            return this.expression.has_side_effects(compressor)
                || this.property.has_side_effects(compressor);
        });
        def(AST_PropAccess, function(compressor){
            return !compressor.option("pure_getters");
        });
        def(AST_Seq, function(compressor){
            return this.car.has_side_effects(compressor)
                || this.cdr.has_side_effects(compressor);
        });
    })(function(node, func){
        node.DEFMETHOD("has_side_effects", func);
    });

    // tell me if a statement aborts
    function aborts(thing) {
        return thing && thing.aborts();
    };
    (function(def){
        def(AST_Statement, function(){ return null });
        def(AST_Jump, function(){ return this });
        function block_aborts(){
            var n = this.body.length;
            return n > 0 && aborts(this.body[n - 1]);
        };
        def(AST_BlockStatement, block_aborts);
        def(AST_SwitchBranch, block_aborts);
        def(AST_If, function(){
            return this.alternative && aborts(this.body) && aborts(this.alternative);
        });
    })(function(node, func){
        node.DEFMETHOD("aborts", func);
    });

    /* -----[ optimizers ]----- */

    OPT(AST_Directive, function(self, compressor){
        if (self.scope.has_directive(self.value) !== self.scope) {
            return make_node(AST_EmptyStatement, self);
        }
        return self;
    });

    OPT(AST_Debugger, function(self, compressor){
        if (compressor.option("drop_debugger"))
            return make_node(AST_EmptyStatement, self);
        return self;
    });

    OPT(AST_LabeledStatement, function(self, compressor){
        if (self.body instanceof AST_Break
            && compressor.loopcontrol_target(self.body.label) === self.body) {
            return make_node(AST_EmptyStatement, self);
        }
        return self.label.references.length == 0 ? self.body : self;
    });

    OPT(AST_Block, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    OPT(AST_BlockStatement, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        switch (self.body.length) {
          case 1: return self.body[0];
          case 0: return make_node(AST_EmptyStatement, self);
        }
        return self;
    });

    AST_Scope.DEFMETHOD("drop_unused", function(compressor){
        var self = this;
        if (compressor.option("unused")
            && !(self instanceof AST_Toplevel)
            && !self.uses_eval
           ) {
            var in_use = [];
            var initializations = new Dictionary();
            // pass 1: find out which symbols are directly used in
            // this scope (not in nested scopes).
            var scope = this;
            var tw = new TreeWalker(function(node, descend){
                if (node !== self) {
                    if (node instanceof AST_Defun) {
                        initializations.add(node.name.name, node);
                        return true; // don't go in nested scopes
                    }
                    if (node instanceof AST_Definitions && scope === self) {
                        node.definitions.forEach(function(def){
                            if (def.value) {
                                initializations.add(def.name.name, def.value);
                                if (def.value.has_side_effects(compressor)) {
                                    def.value.walk(tw);
                                }
                            }
                        });
                        return true;
                    }
                    if (node instanceof AST_SymbolRef) {
                        push_uniq(in_use, node.definition());
                        return true;
                    }
                    if (node instanceof AST_Scope) {
                        var save_scope = scope;
                        scope = node;
                        descend();
                        scope = save_scope;
                        return true;
                    }
                }
            });
            self.walk(tw);
            // pass 2: for every used symbol we need to walk its
            // initialization code to figure out if it uses other
            // symbols (that may not be in_use).
            for (var i = 0; i < in_use.length; ++i) {
                in_use[i].orig.forEach(function(decl){
                    // undeclared globals will be instanceof AST_SymbolRef
                    var init = initializations.get(decl.name);
                    if (init) init.forEach(function(init){
                        var tw = new TreeWalker(function(node){
                            if (node instanceof AST_SymbolRef) {
                                push_uniq(in_use, node.definition());
                            }
                        });
                        init.walk(tw);
                    });
                });
            }
            // pass 3: we should drop declarations not in_use
            var tt = new TreeTransformer(
                function before(node, descend, in_list) {
                    if (node instanceof AST_Lambda && !(node instanceof AST_Accessor)) {
                        if (!compressor.option("keep_fargs")) {
                            for (var a = node.argnames, i = a.length; --i >= 0;) {
                                var sym = a[i];
                                if (sym.unreferenced()) {
                                    a.pop();
                                    compressor.warn("Dropping unused function argument {name} [{file}:{line},{col}]", {
                                        name : sym.name,
                                        file : sym.start.file,
                                        line : sym.start.line,
                                        col  : sym.start.col
                                    });
                                }
                                else break;
                            }
                        }
                    }
                    if (node instanceof AST_Defun && node !== self) {
                        if (!member(node.name.definition(), in_use)) {
                            compressor.warn("Dropping unused function {name} [{file}:{line},{col}]", {
                                name : node.name.name,
                                file : node.name.start.file,
                                line : node.name.start.line,
                                col  : node.name.start.col
                            });
                            return make_node(AST_EmptyStatement, node);
                        }
                        return node;
                    }
                    if (node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn)) {
                        var def = node.definitions.filter(function(def){
                            if (member(def.name.definition(), in_use)) return true;
                            var w = {
                                name : def.name.name,
                                file : def.name.start.file,
                                line : def.name.start.line,
                                col  : def.name.start.col
                            };
                            if (def.value && def.value.has_side_effects(compressor)) {
                                def._unused_side_effects = true;
                                compressor.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]", w);
                                return true;
                            }
                            compressor.warn("Dropping unused variable {name} [{file}:{line},{col}]", w);
                            return false;
                        });
                        // place uninitialized names at the start
                        def = mergeSort(def, function(a, b){
                            if (!a.value && b.value) return -1;
                            if (!b.value && a.value) return 1;
                            return 0;
                        });
                        // for unused names whose initialization has
                        // side effects, we can cascade the init. code
                        // into the next one, or next statement.
                        var side_effects = [];
                        for (var i = 0; i < def.length;) {
                            var x = def[i];
                            if (x._unused_side_effects) {
                                side_effects.push(x.value);
                                def.splice(i, 1);
                            } else {
                                if (side_effects.length > 0) {
                                    side_effects.push(x.value);
                                    x.value = AST_Seq.from_array(side_effects);
                                    side_effects = [];
                                }
                                ++i;
                            }
                        }
                        if (side_effects.length > 0) {
                            side_effects = make_node(AST_BlockStatement, node, {
                                body: [ make_node(AST_SimpleStatement, node, {
                                    body: AST_Seq.from_array(side_effects)
                                }) ]
                            });
                        } else {
                            side_effects = null;
                        }
                        if (def.length == 0 && !side_effects) {
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (def.length == 0) {
                            return side_effects;
                        }
                        node.definitions = def;
                        if (side_effects) {
                            side_effects.body.unshift(node);
                            node = side_effects;
                        }
                        return node;
                    }
                    if (node instanceof AST_For) {
                        descend(node, this);

                        if (node.init instanceof AST_BlockStatement) {
                            // certain combination of unused name + side effect leads to:
                            //    https://github.com/mishoo/UglifyJS2/issues/44
                            // that's an invalid AST.
                            // We fix it at this stage by moving the `var` outside the `for`.

                            var body = node.init.body.slice(0, -1);
                            node.init = node.init.body.slice(-1)[0].body;
                            body.push(node);

                            return in_list ? MAP.splice(body) : make_node(AST_BlockStatement, node, {
                                body: body
                            });
                        }
                    }
                    if (node instanceof AST_Scope && node !== self)
                        return node;
                }
            );
            self.transform(tt);
        }
    });

    AST_Scope.DEFMETHOD("hoist_declarations", function(compressor){
        var hoist_funs = compressor.option("hoist_funs");
        var hoist_vars = compressor.option("hoist_vars");
        var self = this;
        if (hoist_funs || hoist_vars) {
            var dirs = [];
            var hoisted = [];
            var vars = new Dictionary(), vars_found = 0, var_decl = 0;
            // let's count var_decl first, we seem to waste a lot of
            // space if we hoist `var` when there's only one.
            self.walk(new TreeWalker(function(node){
                if (node instanceof AST_Scope && node !== self)
                    return true;
                if (node instanceof AST_Var) {
                    ++var_decl;
                    return true;
                }
            }));
            hoist_vars = hoist_vars && var_decl > 1;
            var tt = new TreeTransformer(
                function before(node) {
                    if (node !== self) {
                        if (node instanceof AST_Directive) {
                            dirs.push(node);
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (node instanceof AST_Defun && hoist_funs) {
                            hoisted.push(node);
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (node instanceof AST_Var && hoist_vars) {
                            node.definitions.forEach(function(def){
                                vars.set(def.name.name, def);
                                ++vars_found;
                            });
                            var seq = node.to_assignments();
                            var p = tt.parent();
                            if (p instanceof AST_ForIn && p.init === node) {
                                if (seq == null) return node.definitions[0].name;
                                return seq;
                            }
                            if (p instanceof AST_For && p.init === node) {
                                return seq;
                            }
                            if (!seq) return make_node(AST_EmptyStatement, node);
                            return make_node(AST_SimpleStatement, node, {
                                body: seq
                            });
                        }
                        if (node instanceof AST_Scope)
                            return node; // to avoid descending in nested scopes
                    }
                }
            );
            self = self.transform(tt);
            if (vars_found > 0) {
                // collect only vars which don't show up in self's arguments list
                var defs = [];
                vars.each(function(def, name){
                    if (self instanceof AST_Lambda
                        && find_if(function(x){ return x.name == def.name.name },
                                   self.argnames)) {
                        vars.del(name);
                    } else {
                        def = def.clone();
                        def.value = null;
                        defs.push(def);
                        vars.set(name, def);
                    }
                });
                if (defs.length > 0) {
                    // try to merge in assignments
                    for (var i = 0; i < self.body.length;) {
                        if (self.body[i] instanceof AST_SimpleStatement) {
                            var expr = self.body[i].body, sym, assign;
                            if (expr instanceof AST_Assign
                                && expr.operator == "="
                                && (sym = expr.left) instanceof AST_Symbol
                                && vars.has(sym.name))
                            {
                                var def = vars.get(sym.name);
                                if (def.value) break;
                                def.value = expr.right;
                                remove(defs, def);
                                defs.push(def);
                                self.body.splice(i, 1);
                                continue;
                            }
                            if (expr instanceof AST_Seq
                                && (assign = expr.car) instanceof AST_Assign
                                && assign.operator == "="
                                && (sym = assign.left) instanceof AST_Symbol
                                && vars.has(sym.name))
                            {
                                var def = vars.get(sym.name);
                                if (def.value) break;
                                def.value = assign.right;
                                remove(defs, def);
                                defs.push(def);
                                self.body[i].body = expr.cdr;
                                continue;
                            }
                        }
                        if (self.body[i] instanceof AST_EmptyStatement) {
                            self.body.splice(i, 1);
                            continue;
                        }
                        if (self.body[i] instanceof AST_BlockStatement) {
                            var tmp = [ i, 1 ].concat(self.body[i].body);
                            self.body.splice.apply(self.body, tmp);
                            continue;
                        }
                        break;
                    }
                    defs = make_node(AST_Var, self, {
                        definitions: defs
                    });
                    hoisted.push(defs);
                };
            }
            self.body = dirs.concat(hoisted, self.body);
        }
        return self;
    });

    OPT(AST_SimpleStatement, function(self, compressor){
        if (compressor.option("side_effects")) {
            if (!self.body.has_side_effects(compressor)) {
                compressor.warn("Dropping side-effect-free statement [{file}:{line},{col}]", self.start);
                return make_node(AST_EmptyStatement, self);
            }
        }
        return self;
    });

    OPT(AST_DWLoop, function(self, compressor){
        var cond = self.condition.evaluate(compressor);
        self.condition = cond[0];
        if (!compressor.option("loops")) return self;
        if (cond.length > 1) {
            if (cond[1]) {
                return make_node(AST_For, self, {
                    body: self.body
                });
            } else if (self instanceof AST_While) {
                if (compressor.option("dead_code")) {
                    var a = [];
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    return make_node(AST_BlockStatement, self, { body: a });
                }
            }
        }
        return self;
    });

    function if_break_in_loop(self, compressor) {
        function drop_it(rest) {
            rest = as_statement_array(rest);
            if (self.body instanceof AST_BlockStatement) {
                self.body = self.body.clone();
                self.body.body = rest.concat(self.body.body.slice(1));
                self.body = self.body.transform(compressor);
            } else {
                self.body = make_node(AST_BlockStatement, self.body, {
                    body: rest
                }).transform(compressor);
            }
            if_break_in_loop(self, compressor);
        }
        var first = self.body instanceof AST_BlockStatement ? self.body.body[0] : self.body;
        if (first instanceof AST_If) {
            if (first.body instanceof AST_Break
                && compressor.loopcontrol_target(first.body.label) === self) {
                if (self.condition) {
                    self.condition = make_node(AST_Binary, self.condition, {
                        left: self.condition,
                        operator: "&&",
                        right: first.condition.negate(compressor),
                    });
                } else {
                    self.condition = first.condition.negate(compressor);
                }
                drop_it(first.alternative);
            }
            else if (first.alternative instanceof AST_Break
                     && compressor.loopcontrol_target(first.alternative.label) === self) {
                if (self.condition) {
                    self.condition = make_node(AST_Binary, self.condition, {
                        left: self.condition,
                        operator: "&&",
                        right: first.condition,
                    });
                } else {
                    self.condition = first.condition;
                }
                drop_it(first.body);
            }
        }
    };

    OPT(AST_While, function(self, compressor) {
        if (!compressor.option("loops")) return self;
        self = AST_DWLoop.prototype.optimize.call(self, compressor);
        if (self instanceof AST_While) {
            if_break_in_loop(self, compressor);
            self = make_node(AST_For, self, self).transform(compressor);
        }
        return self;
    });

    OPT(AST_For, function(self, compressor){
        var cond = self.condition;
        if (cond) {
            cond = cond.evaluate(compressor);
            self.condition = cond[0];
        }
        if (!compressor.option("loops")) return self;
        if (cond) {
            if (cond.length > 1 && !cond[1]) {
                if (compressor.option("dead_code")) {
                    var a = [];
                    if (self.init instanceof AST_Statement) {
                        a.push(self.init);
                    }
                    else if (self.init) {
                        a.push(make_node(AST_SimpleStatement, self.init, {
                            body: self.init
                        }));
                    }
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    return make_node(AST_BlockStatement, self, { body: a });
                }
            }
        }
        if_break_in_loop(self, compressor);
        return self;
    });

    OPT(AST_If, function(self, compressor){
        if (!compressor.option("conditionals")) return self;
        // if condition can be statically determined, warn and drop
        // one of the blocks.  note, statically determined implies
        // “has no side effects”; also it doesn't work for cases like
        // `x && true`, though it probably should.
        var cond = self.condition.evaluate(compressor);
        self.condition = cond[0];
        if (cond.length > 1) {
            if (cond[1]) {
                compressor.warn("Condition always true [{file}:{line},{col}]", self.condition.start);
                if (compressor.option("dead_code")) {
                    var a = [];
                    if (self.alternative) {
                        extract_declarations_from_unreachable_code(compressor, self.alternative, a);
                    }
                    a.push(self.body);
                    return make_node(AST_BlockStatement, self, { body: a }).transform(compressor);
                }
            } else {
                compressor.warn("Condition always false [{file}:{line},{col}]", self.condition.start);
                if (compressor.option("dead_code")) {
                    var a = [];
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    if (self.alternative) a.push(self.alternative);
                    return make_node(AST_BlockStatement, self, { body: a }).transform(compressor);
                }
            }
        }
        if (is_empty(self.alternative)) self.alternative = null;
        var negated = self.condition.negate(compressor);
        var negated_is_best = best_of(self.condition, negated) === negated;
        if (self.alternative && negated_is_best) {
            negated_is_best = false; // because we already do the switch here.
            self.condition = negated;
            var tmp = self.body;
            self.body = self.alternative || make_node(AST_EmptyStatement);
            self.alternative = tmp;
        }
        if (is_empty(self.body) && is_empty(self.alternative)) {
            return make_node(AST_SimpleStatement, self.condition, {
                body: self.condition
            }).transform(compressor);
        }
        if (self.body instanceof AST_SimpleStatement
            && self.alternative instanceof AST_SimpleStatement) {
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Conditional, self, {
                    condition   : self.condition,
                    consequent  : self.body.body,
                    alternative : self.alternative.body
                })
            }).transform(compressor);
        }
        if (is_empty(self.alternative) && self.body instanceof AST_SimpleStatement) {
            if (negated_is_best) return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "||",
                    left     : negated,
                    right    : self.body.body
                })
            }).transform(compressor);
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "&&",
                    left     : self.condition,
                    right    : self.body.body
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_EmptyStatement
            && self.alternative
            && self.alternative instanceof AST_SimpleStatement) {
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "||",
                    left     : self.condition,
                    right    : self.alternative.body
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_Exit
            && self.alternative instanceof AST_Exit
            && self.body.TYPE == self.alternative.TYPE) {
            return make_node(self.body.CTOR, self, {
                value: make_node(AST_Conditional, self, {
                    condition   : self.condition,
                    consequent  : self.body.value || make_node(AST_Undefined, self.body).optimize(compressor),
                    alternative : self.alternative.value || make_node(AST_Undefined, self.alternative).optimize(compressor)
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_If
            && !self.body.alternative
            && !self.alternative) {
            self.condition = make_node(AST_Binary, self.condition, {
                operator: "&&",
                left: self.condition,
                right: self.body.condition
            }).transform(compressor);
            self.body = self.body.body;
        }
        if (aborts(self.body)) {
            if (self.alternative) {
                var alt = self.alternative;
                self.alternative = null;
                return make_node(AST_BlockStatement, self, {
                    body: [ self, alt ]
                }).transform(compressor);
            }
        }
        if (aborts(self.alternative)) {
            var body = self.body;
            self.body = self.alternative;
            self.condition = negated_is_best ? negated : self.condition.negate(compressor);
            self.alternative = null;
            return make_node(AST_BlockStatement, self, {
                body: [ self, body ]
            }).transform(compressor);
        }
        return self;
    });

    OPT(AST_Switch, function(self, compressor){
        if (self.body.length == 0 && compressor.option("conditionals")) {
            return make_node(AST_SimpleStatement, self, {
                body: self.expression
            }).transform(compressor);
        }
        for(;;) {
            var last_branch = self.body[self.body.length - 1];
            if (last_branch) {
                var stat = last_branch.body[last_branch.body.length - 1]; // last statement
                if (stat instanceof AST_Break && loop_body(compressor.loopcontrol_target(stat.label)) === self)
                    last_branch.body.pop();
                if (last_branch instanceof AST_Default && last_branch.body.length == 0) {
                    self.body.pop();
                    continue;
                }
            }
            break;
        }
        var exp = self.expression.evaluate(compressor);
        out: if (exp.length == 2) try {
            // constant expression
            self.expression = exp[0];
            if (!compressor.option("dead_code")) break out;
            var value = exp[1];
            var in_if = false;
            var in_block = false;
            var started = false;
            var stopped = false;
            var ruined = false;
            var tt = new TreeTransformer(function(node, descend, in_list){
                if (node instanceof AST_Lambda || node instanceof AST_SimpleStatement) {
                    // no need to descend these node types
                    return node;
                }
                else if (node instanceof AST_Switch && node === self) {
                    node = node.clone();
                    descend(node, this);
                    return ruined ? node : make_node(AST_BlockStatement, node, {
                        body: node.body.reduce(function(a, branch){
                            return a.concat(branch.body);
                        }, [])
                    }).transform(compressor);
                }
                else if (node instanceof AST_If || node instanceof AST_Try) {
                    var save = in_if;
                    in_if = !in_block;
                    descend(node, this);
                    in_if = save;
                    return node;
                }
                else if (node instanceof AST_StatementWithBody || node instanceof AST_Switch) {
                    var save = in_block;
                    in_block = true;
                    descend(node, this);
                    in_block = save;
                    return node;
                }
                else if (node instanceof AST_Break && this.loopcontrol_target(node.label) === self) {
                    if (in_if) {
                        ruined = true;
                        return node;
                    }
                    if (in_block) return node;
                    stopped = true;
                    return in_list ? MAP.skip : make_node(AST_EmptyStatement, node);
                }
                else if (node instanceof AST_SwitchBranch && this.parent() === self) {
                    if (stopped) return MAP.skip;
                    if (node instanceof AST_Case) {
                        var exp = node.expression.evaluate(compressor);
                        if (exp.length < 2) {
                            // got a case with non-constant expression, baling out
                            throw self;
                        }
                        if (exp[1] === value || started) {
                            started = true;
                            if (aborts(node)) stopped = true;
                            descend(node, this);
                            return node;
                        }
                        return MAP.skip;
                    }
                    descend(node, this);
                    return node;
                }
            });
            tt.stack = compressor.stack.slice(); // so that's able to see parent nodes
            self = self.transform(tt);
        } catch(ex) {
            if (ex !== self) throw ex;
        }
        return self;
    });

    OPT(AST_Case, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    OPT(AST_Try, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    AST_Definitions.DEFMETHOD("remove_initializers", function(){
        this.definitions.forEach(function(def){ def.value = null });
    });

    AST_Definitions.DEFMETHOD("to_assignments", function(){
        var assignments = this.definitions.reduce(function(a, def){
            if (def.value) {
                var name = make_node(AST_SymbolRef, def.name, def.name);
                a.push(make_node(AST_Assign, def, {
                    operator : "=",
                    left     : name,
                    right    : def.value
                }));
            }
            return a;
        }, []);
        if (assignments.length == 0) return null;
        return AST_Seq.from_array(assignments);
    });

    OPT(AST_Definitions, function(self, compressor){
        if (self.definitions.length == 0)
            return make_node(AST_EmptyStatement, self);
        return self;
    });

    OPT(AST_Function, function(self, compressor){
        self = AST_Lambda.prototype.optimize.call(self, compressor);
        if (compressor.option("unused")) {
            if (self.name && self.name.unreferenced()) {
                self.name = null;
            }
        }
        return self;
    });

    OPT(AST_Call, function(self, compressor){
        if (compressor.option("unsafe")) {
            var exp = self.expression;
            if (exp instanceof AST_SymbolRef && exp.undeclared()) {
                switch (exp.name) {
                  case "Array":
                    if (self.args.length != 1) {
                        return make_node(AST_Array, self, {
                            elements: self.args
                        }).transform(compressor);
                    }
                    break;
                  case "Object":
                    if (self.args.length == 0) {
                        return make_node(AST_Object, self, {
                            properties: []
                        });
                    }
                    break;
                  case "String":
                    if (self.args.length == 0) return make_node(AST_String, self, {
                        value: ""
                    });
                    if (self.args.length <= 1) return make_node(AST_Binary, self, {
                        left: self.args[0],
                        operator: "+",
                        right: make_node(AST_String, self, { value: "" })
                    }).transform(compressor);
                    break;
                  case "Number":
                    if (self.args.length == 0) return make_node(AST_Number, self, {
                        value: 0
                    });
                    if (self.args.length == 1) return make_node(AST_UnaryPrefix, self, {
                        expression: self.args[0],
                        operator: "+"
                    }).transform(compressor);
                  case "Boolean":
                    if (self.args.length == 0) return make_node(AST_False, self);
                    if (self.args.length == 1) return make_node(AST_UnaryPrefix, self, {
                        expression: make_node(AST_UnaryPrefix, null, {
                            expression: self.args[0],
                            operator: "!"
                        }),
                        operator: "!"
                    }).transform(compressor);
                    break;
                  case "Function":
                    if (all(self.args, function(x){ return x instanceof AST_String })) {
                        // quite a corner-case, but we can handle it:
                        //   https://github.com/mishoo/UglifyJS2/issues/203
                        // if the code argument is a constant, then we can minify it.
                        try {
                            var code = "(function(" + self.args.slice(0, -1).map(function(arg){
                                return arg.value;
                            }).join(",") + "){" + self.args[self.args.length - 1].value + "})()";
                            var ast = parse(code);
                            ast.figure_out_scope({ screw_ie8: compressor.option("screw_ie8") });
                            var comp = new Compressor(compressor.options);
                            ast = ast.transform(comp);
                            ast.figure_out_scope({ screw_ie8: compressor.option("screw_ie8") });
                            ast.mangle_names();
                            var fun;
                            try {
                                ast.walk(new TreeWalker(function(node){
                                    if (node instanceof AST_Lambda) {
                                        fun = node;
                                        throw ast;
                                    }
                                }));
                            } catch(ex) {
                                if (ex !== ast) throw ex;
                            };
                            if (!fun) return self;
                            var args = fun.argnames.map(function(arg, i){
                                return make_node(AST_String, self.args[i], {
                                    value: arg.print_to_string()
                                });
                            });
                            var code = OutputStream();
                            AST_BlockStatement.prototype._codegen.call(fun, fun, code);
                            code = code.toString().replace(/^\{|\}$/g, "");
                            args.push(make_node(AST_String, self.args[self.args.length - 1], {
                                value: code
                            }));
                            self.args = args;
                            return self;
                        } catch(ex) {
                            if (ex instanceof JS_Parse_Error) {
                                compressor.warn("Error parsing code passed to new Function [{file}:{line},{col}]", self.args[self.args.length - 1].start);
                                compressor.warn(ex.toString());
                            } else {
                                console.log(ex);
                                throw ex;
                            }
                        }
                    }
                    break;
                }
            }
            else if (exp instanceof AST_Dot && exp.property == "toString" && self.args.length == 0) {
                return make_node(AST_Binary, self, {
                    left: make_node(AST_String, self, { value: "" }),
                    operator: "+",
                    right: exp.expression
                }).transform(compressor);
            }
            else if (exp instanceof AST_Dot && exp.expression instanceof AST_Array && exp.property == "join") EXIT: {
                var separator = self.args.length == 0 ? "," : self.args[0].evaluate(compressor)[1];
                if (separator == null) break EXIT; // not a constant
                var elements = exp.expression.elements.reduce(function(a, el){
                    el = el.evaluate(compressor);
                    if (a.length == 0 || el.length == 1) {
                        a.push(el);
                    } else {
                        var last = a[a.length - 1];
                        if (last.length == 2) {
                            // it's a constant
                            var val = "" + last[1] + separator + el[1];
                            a[a.length - 1] = [ make_node_from_constant(compressor, val, last[0]), val ];
                        } else {
                            a.push(el);
                        }
                    }
                    return a;
                }, []);
                if (elements.length == 0) return make_node(AST_String, self, { value: "" });
                if (elements.length == 1) return elements[0][0];
                if (separator == "") {
                    var first;
                    if (elements[0][0] instanceof AST_String
                        || elements[1][0] instanceof AST_String) {
                        first = elements.shift()[0];
                    } else {
                        first = make_node(AST_String, self, { value: "" });
                    }
                    return elements.reduce(function(prev, el){
                        return make_node(AST_Binary, el[0], {
                            operator : "+",
                            left     : prev,
                            right    : el[0],
                        });
                    }, first).transform(compressor);
                }
                // need this awkward cloning to not affect original element
                // best_of will decide which one to get through.
                var node = self.clone();
                node.expression = node.expression.clone();
                node.expression.expression = node.expression.expression.clone();
                node.expression.expression.elements = elements.map(function(el){
                    return el[0];
                });
                return best_of(self, node);
            }
        }
        if (compressor.option("side_effects")) {
            if (self.expression instanceof AST_Function
                && self.args.length == 0
                && !AST_Block.prototype.has_side_effects.call(self.expression, compressor)) {
                return make_node(AST_Undefined, self).transform(compressor);
            }
        }
        if (compressor.option("drop_console")) {
            if (self.expression instanceof AST_PropAccess &&
                self.expression.expression instanceof AST_SymbolRef &&
                self.expression.expression.name == "console" &&
                self.expression.expression.undeclared()) {
                return make_node(AST_Undefined, self).transform(compressor);
            }
        }
        return self.evaluate(compressor)[0];
    });

    OPT(AST_New, function(self, compressor){
        if (compressor.option("unsafe")) {
            var exp = self.expression;
            if (exp instanceof AST_SymbolRef && exp.undeclared()) {
                switch (exp.name) {
                  case "Object":
                  case "RegExp":
                  case "Function":
                  case "Error":
                  case "Array":
                    return make_node(AST_Call, self, self).transform(compressor);
                }
            }
        }
        return self;
    });

    OPT(AST_Seq, function(self, compressor){
        if (!compressor.option("side_effects"))
            return self;
        if (!self.car.has_side_effects(compressor)) {
            // we shouldn't compress (1,eval)(something) to
            // eval(something) because that changes the meaning of
            // eval (becomes lexical instead of global).
            var p;
            if (!(self.cdr instanceof AST_SymbolRef
                  && self.cdr.name == "eval"
                  && self.cdr.undeclared()
                  && (p = compressor.parent()) instanceof AST_Call
                  && p.expression === self)) {
                return self.cdr;
            }
        }
        if (compressor.option("cascade")) {
            if (self.car instanceof AST_Assign
                && !self.car.left.has_side_effects(compressor)) {
                if (self.car.left.equivalent_to(self.cdr)) {
                    return self.car;
                }
                if (self.cdr instanceof AST_Call
                    && self.cdr.expression.equivalent_to(self.car.left)) {
                    self.cdr.expression = self.car;
                    return self.cdr;
                }
            }
            if (!self.car.has_side_effects(compressor)
                && !self.cdr.has_side_effects(compressor)
                && self.car.equivalent_to(self.cdr)) {
                return self.car;
            }
        }
        if (self.cdr instanceof AST_UnaryPrefix
            && self.cdr.operator == "void"
            && !self.cdr.expression.has_side_effects(compressor)) {
            self.cdr.operator = self.car;
            return self.cdr;
        }
        if (self.cdr instanceof AST_Undefined) {
            return make_node(AST_UnaryPrefix, self, {
                operator   : "void",
                expression : self.car
            });
        }
        return self;
    });

    AST_Unary.DEFMETHOD("lift_sequences", function(compressor){
        if (compressor.option("sequences")) {
            if (this.expression instanceof AST_Seq) {
                var seq = this.expression;
                var x = seq.to_array();
                this.expression = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
        }
        return this;
    });

    OPT(AST_UnaryPostfix, function(self, compressor){
        return self.lift_sequences(compressor);
    });

    OPT(AST_UnaryPrefix, function(self, compressor){
        self = self.lift_sequences(compressor);
        var e = self.expression;
        if (compressor.option("booleans") && compressor.in_boolean_context()) {
            switch (self.operator) {
              case "!":
                if (e instanceof AST_UnaryPrefix && e.operator == "!") {
                    // !!foo ==> foo, if we're in boolean context
                    return e.expression;
                }
                break;
              case "typeof":
                // typeof always returns a non-empty string, thus it's
                // always true in booleans
                compressor.warn("Boolean expression always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            if (e instanceof AST_Binary && self.operator == "!") {
                self = best_of(self, e.negate(compressor));
            }
        }
        return self.evaluate(compressor)[0];
    });

    function has_side_effects_or_prop_access(node, compressor) {
        var save_pure_getters = compressor.option("pure_getters");
        compressor.options.pure_getters = false;
        var ret = node.has_side_effects(compressor);
        compressor.options.pure_getters = save_pure_getters;
        return ret;
    }

    AST_Binary.DEFMETHOD("lift_sequences", function(compressor){
        if (compressor.option("sequences")) {
            if (this.left instanceof AST_Seq) {
                var seq = this.left;
                var x = seq.to_array();
                this.left = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
            if (this.right instanceof AST_Seq
                && this instanceof AST_Assign
                && !has_side_effects_or_prop_access(this.left, compressor)) {
                var seq = this.right;
                var x = seq.to_array();
                this.right = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
        }
        return this;
    });

    var commutativeOperators = makePredicate("== === != !== * & | ^");

    OPT(AST_Binary, function(self, compressor){
        var reverse = compressor.has_directive("use asm") ? noop
            : function(op, force) {
                if (force || !(self.left.has_side_effects(compressor) || self.right.has_side_effects(compressor))) {
                    if (op) self.operator = op;
                    var tmp = self.left;
                    self.left = self.right;
                    self.right = tmp;
                }
            };
        if (commutativeOperators(self.operator)) {
            if (self.right instanceof AST_Constant
                && !(self.left instanceof AST_Constant)) {
                // if right is a constant, whatever side effects the
                // left side might have could not influence the
                // result.  hence, force switch.

                if (!(self.left instanceof AST_Binary
                      && PRECEDENCE[self.left.operator] >= PRECEDENCE[self.operator])) {
                    reverse(null, true);
                }
            }
            if (/^[!=]==?$/.test(self.operator)) {
                if (self.left instanceof AST_SymbolRef && self.right instanceof AST_Conditional) {
                    if (self.right.consequent instanceof AST_SymbolRef
                        && self.right.consequent.definition() === self.left.definition()) {
                        if (/^==/.test(self.operator)) return self.right.condition;
                        if (/^!=/.test(self.operator)) return self.right.condition.negate(compressor);
                    }
                    if (self.right.alternative instanceof AST_SymbolRef
                        && self.right.alternative.definition() === self.left.definition()) {
                        if (/^==/.test(self.operator)) return self.right.condition.negate(compressor);
                        if (/^!=/.test(self.operator)) return self.right.condition;
                    }
                }
                if (self.right instanceof AST_SymbolRef && self.left instanceof AST_Conditional) {
                    if (self.left.consequent instanceof AST_SymbolRef
                        && self.left.consequent.definition() === self.right.definition()) {
                        if (/^==/.test(self.operator)) return self.left.condition;
                        if (/^!=/.test(self.operator)) return self.left.condition.negate(compressor);
                    }
                    if (self.left.alternative instanceof AST_SymbolRef
                        && self.left.alternative.definition() === self.right.definition()) {
                        if (/^==/.test(self.operator)) return self.left.condition.negate(compressor);
                        if (/^!=/.test(self.operator)) return self.left.condition;
                    }
                }
            }
        }
        self = self.lift_sequences(compressor);
        if (compressor.option("comparisons")) switch (self.operator) {
          case "===":
          case "!==":
            if ((self.left.is_string(compressor) && self.right.is_string(compressor)) ||
                (self.left.is_boolean() && self.right.is_boolean())) {
                self.operator = self.operator.substr(0, 2);
            }
            // XXX: intentionally falling down to the next case
          case "==":
          case "!=":
            if (self.left instanceof AST_String
                && self.left.value == "undefined"
                && self.right instanceof AST_UnaryPrefix
                && self.right.operator == "typeof"
                && compressor.option("unsafe")) {
                if (!(self.right.expression instanceof AST_SymbolRef)
                    || !self.right.expression.undeclared()) {
                    self.right = self.right.expression;
                    self.left = make_node(AST_Undefined, self.left).optimize(compressor);
                    if (self.operator.length == 2) self.operator += "=";
                }
            }
            break;
        }
        if (compressor.option("booleans") && compressor.in_boolean_context()) switch (self.operator) {
          case "&&":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && !ll[1]) || (rr.length > 1 && !rr[1])) {
                compressor.warn("Boolean && always false [{file}:{line},{col}]", self.start);
                return make_node(AST_False, self);
            }
            if (ll.length > 1 && ll[1]) {
                return rr[0];
            }
            if (rr.length > 1 && rr[1]) {
                return ll[0];
            }
            break;
          case "||":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && ll[1]) || (rr.length > 1 && rr[1])) {
                compressor.warn("Boolean || always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            if (ll.length > 1 && !ll[1]) {
                return rr[0];
            }
            if (rr.length > 1 && !rr[1]) {
                return ll[0];
            }
            break;
          case "+":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && ll[0] instanceof AST_String && ll[1]) ||
                (rr.length > 1 && rr[0] instanceof AST_String && rr[1])) {
                compressor.warn("+ in boolean context always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            break;
        }
        if (compressor.option("comparisons")) {
            if (!(compressor.parent() instanceof AST_Binary)
                || compressor.parent() instanceof AST_Assign) {
                var negated = make_node(AST_UnaryPrefix, self, {
                    operator: "!",
                    expression: self.negate(compressor)
                });
                self = best_of(self, negated);
            }
            switch (self.operator) {
              case "<": reverse(">"); break;
              case "<=": reverse(">="); break;
            }
        }
        if (self.operator == "+" && self.right instanceof AST_String
            && self.right.getValue() === "" && self.left instanceof AST_Binary
            && self.left.operator == "+" && self.left.is_string(compressor)) {
            return self.left;
        }
        if (compressor.option("evaluate")) {
            if (self.operator == "+") {
                if (self.left instanceof AST_Constant
                    && self.right instanceof AST_Binary
                    && self.right.operator == "+"
                    && self.right.left instanceof AST_Constant
                    && self.right.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: make_node(AST_String, null, {
                            value: "" + self.left.getValue() + self.right.left.getValue(),
                            start: self.left.start,
                            end: self.right.left.end
                        }),
                        right: self.right.right
                    });
                }
                if (self.right instanceof AST_Constant
                    && self.left instanceof AST_Binary
                    && self.left.operator == "+"
                    && self.left.right instanceof AST_Constant
                    && self.left.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: self.left.left,
                        right: make_node(AST_String, null, {
                            value: "" + self.left.right.getValue() + self.right.getValue(),
                            start: self.left.right.start,
                            end: self.right.end
                        })
                    });
                }
                if (self.left instanceof AST_Binary
                    && self.left.operator == "+"
                    && self.left.is_string(compressor)
                    && self.left.right instanceof AST_Constant
                    && self.right instanceof AST_Binary
                    && self.right.operator == "+"
                    && self.right.left instanceof AST_Constant
                    && self.right.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: make_node(AST_Binary, self.left, {
                            operator: "+",
                            left: self.left.left,
                            right: make_node(AST_String, null, {
                                value: "" + self.left.right.getValue() + self.right.left.getValue(),
                                start: self.left.right.start,
                                end: self.right.left.end
                            })
                        }),
                        right: self.right.right
                    });
                }
            }
        }
        // x * (y * z)  ==>  x * y * z
        if (self.right instanceof AST_Binary
            && self.right.operator == self.operator
            && (self.operator == "*" || self.operator == "&&" || self.operator == "||"))
        {
            self.left = make_node(AST_Binary, self.left, {
                operator : self.operator,
                left     : self.left,
                right    : self.right.left
            });
            self.right = self.right.right;
            return self.transform(compressor);
        }
        return self.evaluate(compressor)[0];
    });

    OPT(AST_SymbolRef, function(self, compressor){
        if (self.undeclared()) {
            var defines = compressor.option("global_defs");
            if (defines && defines.hasOwnProperty(self.name)) {
                return make_node_from_constant(compressor, defines[self.name], self);
            }
            switch (self.name) {
              case "undefined":
                return make_node(AST_Undefined, self);
              case "NaN":
                return make_node(AST_NaN, self);
              case "Infinity":
                return make_node(AST_Infinity, self);
            }
        }
        return self;
    });

    OPT(AST_Undefined, function(self, compressor){
        if (compressor.option("unsafe")) {
            var scope = compressor.find_parent(AST_Scope);
            var undef = scope.find_variable("undefined");
            if (undef) {
                var ref = make_node(AST_SymbolRef, self, {
                    name   : "undefined",
                    scope  : scope,
                    thedef : undef
                });
                ref.reference();
                return ref;
            }
        }
        return self;
    });

    var ASSIGN_OPS = [ '+', '-', '/', '*', '%', '>>', '<<', '>>>', '|', '^', '&' ];
    OPT(AST_Assign, function(self, compressor){
        self = self.lift_sequences(compressor);
        if (self.operator == "="
            && self.left instanceof AST_SymbolRef
            && self.right instanceof AST_Binary
            && self.right.left instanceof AST_SymbolRef
            && self.right.left.name == self.left.name
            && member(self.right.operator, ASSIGN_OPS)) {
            self.operator = self.right.operator + "=";
            self.right = self.right.right;
        }
        return self;
    });

    OPT(AST_Conditional, function(self, compressor){
        if (!compressor.option("conditionals")) return self;
        if (self.condition instanceof AST_Seq) {
            var car = self.condition.car;
            self.condition = self.condition.cdr;
            return AST_Seq.cons(car, self);
        }
        var cond = self.condition.evaluate(compressor);
        if (cond.length > 1) {
            if (cond[1]) {
                compressor.warn("Condition always true [{file}:{line},{col}]", self.start);
                return self.consequent;
            } else {
                compressor.warn("Condition always false [{file}:{line},{col}]", self.start);
                return self.alternative;
            }
        }
        var negated = cond[0].negate(compressor);
        if (best_of(cond[0], negated) === negated) {
            self = make_node(AST_Conditional, self, {
                condition: negated,
                consequent: self.alternative,
                alternative: self.consequent
            });
        }
        var consequent = self.consequent;
        var alternative = self.alternative;
        if (consequent instanceof AST_Assign
            && alternative instanceof AST_Assign
            && consequent.operator == alternative.operator
            && consequent.left.equivalent_to(alternative.left)
           ) {
            /*
             * Stuff like this:
             * if (foo) exp = something; else exp = something_else;
             * ==>
             * exp = foo ? something : something_else;
             */
            return make_node(AST_Assign, self, {
                operator: consequent.operator,
                left: consequent.left,
                right: make_node(AST_Conditional, self, {
                    condition: self.condition,
                    consequent: consequent.right,
                    alternative: alternative.right
                })
            });
        }
        if (consequent instanceof AST_Call
            && alternative.TYPE === consequent.TYPE
            && consequent.args.length == alternative.args.length
            && consequent.expression.equivalent_to(alternative.expression)) {
            if (consequent.args.length == 0) {
                return make_node(AST_Seq, self, {
                    car: self.condition,
                    cdr: consequent
                });
            }
            if (consequent.args.length == 1) {
                consequent.args[0] = make_node(AST_Conditional, self, {
                    condition: self.condition,
                    consequent: consequent.args[0],
                    alternative: alternative.args[0]
                });
                return consequent;
            }
        }
        // x?y?z:a:a --> x&&y?z:a
        if (consequent instanceof AST_Conditional
            && consequent.alternative.equivalent_to(alternative)) {
            return make_node(AST_Conditional, self, {
                condition: make_node(AST_Binary, self, {
                    left: self.condition,
                    operator: "&&",
                    right: consequent.condition
                }),
                consequent: consequent.consequent,
                alternative: alternative
            });
        }
        // x=y?1:1 --> x=1
        if (consequent instanceof AST_Constant
            && alternative instanceof AST_Constant
            && consequent.equivalent_to(alternative)) {
            if (self.condition.has_side_effects(compressor)) {
                return AST_Seq.from_array([self.condition, make_node_from_constant(compressor, consequent.value, self)]);
            } else {
                return make_node_from_constant(compressor, consequent.value, self);

            }
        }
        return self;
    });

    OPT(AST_Boolean, function(self, compressor){
        if (compressor.option("booleans")) {
            var p = compressor.parent();
            if (p instanceof AST_Binary && (p.operator == "=="
                                            || p.operator == "!=")) {
                compressor.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]", {
                    operator : p.operator,
                    value    : self.value,
                    file     : p.start.file,
                    line     : p.start.line,
                    col      : p.start.col,
                });
                return make_node(AST_Number, self, {
                    value: +self.value
                });
            }
            return make_node(AST_UnaryPrefix, self, {
                operator: "!",
                expression: make_node(AST_Number, self, {
                    value: 1 - self.value
                })
            });
        }
        return self;
    });

    OPT(AST_Sub, function(self, compressor){
        var prop = self.property;
        if (prop instanceof AST_String && compressor.option("properties")) {
            prop = prop.getValue();
            if (RESERVED_WORDS(prop) ? compressor.option("screw_ie8") : is_identifier_string(prop)) {
                return make_node(AST_Dot, self, {
                    expression : self.expression,
                    property   : prop
                }).optimize(compressor);
            }
            var v = parseFloat(prop);
            if (!isNaN(v) && v.toString() == prop) {
                self.property = make_node(AST_Number, self.property, {
                    value: v
                });
            }
        }
        return self;
    });

    OPT(AST_Dot, function(self, compressor){
        var prop = self.property;
        if (RESERVED_WORDS(prop) && !compressor.option("screw_ie8")) {
            return make_node(AST_Sub, self, {
                expression : self.expression,
                property   : make_node(AST_String, self, {
                    value: prop
                })
            }).optimize(compressor);
        }
        return self.evaluate(compressor)[0];
    });

    function literals_in_boolean_context(self, compressor) {
        if (compressor.option("booleans") && compressor.in_boolean_context()) {
            return make_node(AST_True, self);
        }
        return self;
    };
    OPT(AST_Array, literals_in_boolean_context);
    OPT(AST_Object, literals_in_boolean_context);
    OPT(AST_RegExp, literals_in_boolean_context);

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

// a small wrapper around fitzgen's source-map library
function SourceMap(options) {
    options = defaults(options, {
        file : null,
        root : null,
        orig : null,

        orig_line_diff : 0,
        dest_line_diff : 0,
    });
    var generator = new MOZ_SourceMap.SourceMapGenerator({
        file       : options.file,
        sourceRoot : options.root
    });
    var orig_map = options.orig && new MOZ_SourceMap.SourceMapConsumer(options.orig);
    function add(source, gen_line, gen_col, orig_line, orig_col, name) {
        if (orig_map) {
            var info = orig_map.originalPositionFor({
                line: orig_line,
                column: orig_col
            });
            if (info.source === null) {
                return;
            }
            source = info.source;
            orig_line = info.line;
            orig_col = info.column;
            name = info.name || name;
        }
        generator.addMapping({
            generated : { line: gen_line + options.dest_line_diff, column: gen_col },
            original  : { line: orig_line + options.orig_line_diff, column: orig_col },
            source    : source,
            name      : name
        });
    };
    return {
        add        : add,
        get        : function() { return generator },
        toString   : function() { return generator.toString() }
    };
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

(function(){

    var MOZ_TO_ME = {
        ExpressionStatement: function(M) {
            var expr = M.expression;
            if (expr.type === "Literal" && typeof expr.value === "string") {
                return new AST_Directive({
                    start: my_start_token(M),
                    end: my_end_token(M),
                    value: expr.value
                });
            }
            return new AST_SimpleStatement({
                start: my_start_token(M),
                end: my_end_token(M),
                body: from_moz(expr)
            });
        },
        TryStatement: function(M) {
            var handlers = M.handlers || [M.handler];
            if (handlers.length > 1 || M.guardedHandlers && M.guardedHandlers.length) {
                throw new Error("Multiple catch clauses are not supported.");
            }
            return new AST_Try({
                start    : my_start_token(M),
                end      : my_end_token(M),
                body     : from_moz(M.block).body,
                bcatch   : from_moz(handlers[0]),
                bfinally : M.finalizer ? new AST_Finally(from_moz(M.finalizer)) : null
            });
        },
        Property: function(M) {
            var key = M.key;
            var name = key.type == "Identifier" ? key.name : key.value;
            var args = {
                start    : my_start_token(key),
                end      : my_end_token(M.value),
                key      : name,
                value    : from_moz(M.value)
            };
            switch (M.kind) {
              case "init":
                return new AST_ObjectKeyVal(args);
              case "set":
                args.value.name = from_moz(key);
                return new AST_ObjectSetter(args);
              case "get":
                args.value.name = from_moz(key);
                return new AST_ObjectGetter(args);
            }
        },
        ObjectExpression: function(M) {
            return new AST_Object({
                start      : my_start_token(M),
                end        : my_end_token(M),
                properties : M.properties.map(function(prop){
                    prop.type = "Property";
                    return from_moz(prop)
                })
            });
        },
        SequenceExpression: function(M) {
            return AST_Seq.from_array(M.expressions.map(from_moz));
        },
        MemberExpression: function(M) {
            return new (M.computed ? AST_Sub : AST_Dot)({
                start      : my_start_token(M),
                end        : my_end_token(M),
                property   : M.computed ? from_moz(M.property) : M.property.name,
                expression : from_moz(M.object)
            });
        },
        SwitchCase: function(M) {
            return new (M.test ? AST_Case : AST_Default)({
                start      : my_start_token(M),
                end        : my_end_token(M),
                expression : from_moz(M.test),
                body       : M.consequent.map(from_moz)
            });
        },
        VariableDeclaration: function(M) {
            return new (M.kind === "const" ? AST_Const : AST_Var)({
                start       : my_start_token(M),
                end         : my_end_token(M),
                definitions : M.declarations.map(from_moz)
            });
        },
        Literal: function(M) {
            var val = M.value, args = {
                start  : my_start_token(M),
                end    : my_end_token(M)
            };
            if (val === null) return new AST_Null(args);
            switch (typeof val) {
              case "string":
                args.value = val;
                return new AST_String(args);
              case "number":
                args.value = val;
                return new AST_Number(args);
              case "boolean":
                return new (val ? AST_True : AST_False)(args);
              default:
                args.value = val;
                return new AST_RegExp(args);
            }
        },
        Identifier: function(M) {
            var p = FROM_MOZ_STACK[FROM_MOZ_STACK.length - 2];
            return new (  p.type == "LabeledStatement" ? AST_Label
                        : p.type == "VariableDeclarator" && p.id === M ? (p.kind == "const" ? AST_SymbolConst : AST_SymbolVar)
                        : p.type == "FunctionExpression" ? (p.id === M ? AST_SymbolLambda : AST_SymbolFunarg)
                        : p.type == "FunctionDeclaration" ? (p.id === M ? AST_SymbolDefun : AST_SymbolFunarg)
                        : p.type == "CatchClause" ? AST_SymbolCatch
                        : p.type == "BreakStatement" || p.type == "ContinueStatement" ? AST_LabelRef
                        : AST_SymbolRef)({
                            start : my_start_token(M),
                            end   : my_end_token(M),
                            name  : M.name
                        });
        }
    };

    MOZ_TO_ME.UpdateExpression =
    MOZ_TO_ME.UnaryExpression = function To_Moz_Unary(M) {
        var prefix = "prefix" in M ? M.prefix
            : M.type == "UnaryExpression" ? true : false;
        return new (prefix ? AST_UnaryPrefix : AST_UnaryPostfix)({
            start      : my_start_token(M),
            end        : my_end_token(M),
            operator   : M.operator,
            expression : from_moz(M.argument)
        });
    };

    map("Program", AST_Toplevel, "body@body");
    map("EmptyStatement", AST_EmptyStatement);
    map("BlockStatement", AST_BlockStatement, "body@body");
    map("IfStatement", AST_If, "test>condition, consequent>body, alternate>alternative");
    map("LabeledStatement", AST_LabeledStatement, "label>label, body>body");
    map("BreakStatement", AST_Break, "label>label");
    map("ContinueStatement", AST_Continue, "label>label");
    map("WithStatement", AST_With, "object>expression, body>body");
    map("SwitchStatement", AST_Switch, "discriminant>expression, cases@body");
    map("ReturnStatement", AST_Return, "argument>value");
    map("ThrowStatement", AST_Throw, "argument>value");
    map("WhileStatement", AST_While, "test>condition, body>body");
    map("DoWhileStatement", AST_Do, "test>condition, body>body");
    map("ForStatement", AST_For, "init>init, test>condition, update>step, body>body");
    map("ForInStatement", AST_ForIn, "left>init, right>object, body>body");
    map("DebuggerStatement", AST_Debugger);
    map("FunctionDeclaration", AST_Defun, "id>name, params@argnames, body%body");
    map("VariableDeclarator", AST_VarDef, "id>name, init>value");
    map("CatchClause", AST_Catch, "param>argname, body%body");

    map("ThisExpression", AST_This);
    map("ArrayExpression", AST_Array, "elements@elements");
    map("FunctionExpression", AST_Function, "id>name, params@argnames, body%body");
    map("BinaryExpression", AST_Binary, "operator=operator, left>left, right>right");
    map("LogicalExpression", AST_Binary, "operator=operator, left>left, right>right");
    map("AssignmentExpression", AST_Assign, "operator=operator, left>left, right>right");
    map("ConditionalExpression", AST_Conditional, "test>condition, consequent>consequent, alternate>alternative");
    map("NewExpression", AST_New, "callee>expression, arguments@args");
    map("CallExpression", AST_Call, "callee>expression, arguments@args");

    def_to_moz(AST_Directive, function To_Moz_Directive(M) {
        return {
            type: "ExpressionStatement",
            expression: {
                type: "Literal",
                value: M.value
            }
        };
    });

    def_to_moz(AST_SimpleStatement, function To_Moz_ExpressionStatement(M) {
        return {
            type: "ExpressionStatement",
            expression: to_moz(M.body)
        };
    });

    def_to_moz(AST_SwitchBranch, function To_Moz_SwitchCase(M) {
        return {
            type: "SwitchCase",
            test: to_moz(M.expression),
            consequent: M.body.map(to_moz)
        };
    });

    def_to_moz(AST_Try, function To_Moz_TryStatement(M) {
        return {
            type: "TryStatement",
            block: to_moz_block(M),
            handler: to_moz(M.bcatch),
            guardedHandlers: [],
            finalizer: to_moz(M.bfinally)
        };
    });

    def_to_moz(AST_Catch, function To_Moz_CatchClause(M) {
        return {
            type: "CatchClause",
            param: to_moz(M.argname),
            guard: null,
            body: to_moz_block(M)
        };
    });

    def_to_moz(AST_Definitions, function To_Moz_VariableDeclaration(M) {
        return {
            type: "VariableDeclaration",
            kind: M instanceof AST_Const ? "const" : "var",
            declarations: M.definitions.map(to_moz)
        };
    });

    def_to_moz(AST_Seq, function To_Moz_SequenceExpression(M) {
        return {
            type: "SequenceExpression",
            expressions: M.to_array().map(to_moz)
        };
    });

    def_to_moz(AST_PropAccess, function To_Moz_MemberExpression(M) {
        var isComputed = M instanceof AST_Sub;
        return {
            type: "MemberExpression",
            object: to_moz(M.expression),
            computed: isComputed,
            property: isComputed ? to_moz(M.property) : {type: "Identifier", name: M.property}
        };
    });

    def_to_moz(AST_Unary, function To_Moz_Unary(M) {
        return {
            type: M.operator == "++" || M.operator == "--" ? "UpdateExpression" : "UnaryExpression",
            operator: M.operator,
            prefix: M instanceof AST_UnaryPrefix,
            argument: to_moz(M.expression)
        };
    });

    def_to_moz(AST_Binary, function To_Moz_BinaryExpression(M) {
        return {
            type: M.operator == "&&" || M.operator == "||" ? "LogicalExpression" : "BinaryExpression",
            left: to_moz(M.left),
            operator: M.operator,
            right: to_moz(M.right)
        };
    });

    def_to_moz(AST_Object, function To_Moz_ObjectExpression(M) {
        return {
            type: "ObjectExpression",
            properties: M.properties.map(to_moz)
        };
    });

    def_to_moz(AST_ObjectProperty, function To_Moz_Property(M) {
        var key = (
            is_identifier(M.key)
            ? {type: "Identifier", name: M.key}
            : {type: "Literal", value: M.key}
        );
        var kind;
        if (M instanceof AST_ObjectKeyVal) {
            kind = "init";
        } else
        if (M instanceof AST_ObjectGetter) {
            kind = "get";
        } else
        if (M instanceof AST_ObjectSetter) {
            kind = "set";
        }
        return {
            type: "Property",
            kind: kind,
            key: key,
            value: to_moz(M.value)
        };
    });

    def_to_moz(AST_Symbol, function To_Moz_Identifier(M) {
        var def = M.definition();
        return {
            type: "Identifier",
            name: def ? def.mangled_name || def.name : M.name
        };
    });

    def_to_moz(AST_Constant, function To_Moz_Literal(M) {
        var value = M.value;
        if (typeof value === 'number' && (value < 0 || (value === 0 && 1 / value < 0))) {
            return {
                type: "UnaryExpression",
                operator: "-",
                prefix: true,
                argument: {
                    type: "Literal",
                    value: -value
                }
            };
        }
        return {
            type: "Literal",
            value: value
        };
    });

    def_to_moz(AST_Atom, function To_Moz_Atom(M) {
        return {
            type: "Identifier",
            name: String(M.value)
        };
    });

    AST_Boolean.DEFMETHOD("to_mozilla_ast", AST_Constant.prototype.to_mozilla_ast);
    AST_Null.DEFMETHOD("to_mozilla_ast", AST_Constant.prototype.to_mozilla_ast);
    AST_Hole.DEFMETHOD("to_mozilla_ast", function To_Moz_ArrayHole() { return null });

    AST_Block.DEFMETHOD("to_mozilla_ast", AST_BlockStatement.prototype.to_mozilla_ast);
    AST_Lambda.DEFMETHOD("to_mozilla_ast", AST_Function.prototype.to_mozilla_ast);

    /* -----[ tools ]----- */

    function my_start_token(moznode) {
        var loc = moznode.loc;
        var range = moznode.range;
        return new AST_Token({
            file   : loc && loc.source,
            line   : loc && loc.start.line,
            col    : loc && loc.start.column,
            pos    : range ? range[0] : moznode.start,
            endpos : range ? range[0] : moznode.start
        });
    };

    function my_end_token(moznode) {
        var loc = moznode.loc;
        var range = moznode.range;
        return new AST_Token({
            file   : loc && loc.source,
            line   : loc && loc.end.line,
            col    : loc && loc.end.column,
            pos    : range ? range[1] : moznode.end,
            endpos : range ? range[1] : moznode.end
        });
    };

    function map(moztype, mytype, propmap) {
        var moz_to_me = "function From_Moz_" + moztype + "(M){\n";
        moz_to_me += "return new " + mytype.name + "({\n" +
            "start: my_start_token(M),\n" +
            "end: my_end_token(M)";

        var me_to_moz = "function To_Moz_" + moztype + "(M){\n";
        me_to_moz += "return {\n" +
            "type: " + JSON.stringify(moztype);

        if (propmap) propmap.split(/\s*,\s*/).forEach(function(prop){
            var m = /([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(prop);
            if (!m) throw new Error("Can't understand property map: " + prop);
            var moz = m[1], how = m[2], my = m[3];
            moz_to_me += ",\n" + my + ": ";
            me_to_moz += ",\n" + moz + ": ";
            switch (how) {
                case "@":
                    moz_to_me += "M." + moz + ".map(from_moz)";
                    me_to_moz += "M." +  my + ".map(to_moz)";
                    break;
                case ">":
                    moz_to_me += "from_moz(M." + moz + ")";
                    me_to_moz += "to_moz(M." + my + ")";
                    break;
                case "=":
                    moz_to_me += "M." + moz;
                    me_to_moz += "M." + my;
                    break;
                case "%":
                    moz_to_me += "from_moz(M." + moz + ").body";
                    me_to_moz += "to_moz_block(M)";
                    break;
                default:
                    throw new Error("Can't understand operator in propmap: " + prop);
            }
        });

        moz_to_me += "\n})\n}";
        me_to_moz += "\n}\n}";

        //moz_to_me = parse(moz_to_me).print_to_string({ beautify: true });
        //me_to_moz = parse(me_to_moz).print_to_string({ beautify: true });
        //console.log(moz_to_me);

        moz_to_me = new Function("my_start_token", "my_end_token", "from_moz", "return(" + moz_to_me + ")")(
            my_start_token, my_end_token, from_moz
        );
        me_to_moz = new Function("to_moz", "to_moz_block", "return(" + me_to_moz + ")")(
            to_moz, to_moz_block
        );
        MOZ_TO_ME[moztype] = moz_to_me;
        def_to_moz(mytype, me_to_moz);
    };

    var FROM_MOZ_STACK = null;

    function from_moz(node) {
        FROM_MOZ_STACK.push(node);
        var ret = node != null ? MOZ_TO_ME[node.type](node) : null;
        FROM_MOZ_STACK.pop();
        return ret;
    };

    AST_Node.from_mozilla_ast = function(node){
        var save_stack = FROM_MOZ_STACK;
        FROM_MOZ_STACK = [];
        var ast = from_moz(node);
        FROM_MOZ_STACK = save_stack;
        return ast;
    };

    function moz_sub_loc(token) {
        return token.line ? {
            line: token.line,
            column: token.col
        } : null;
    };

    function set_moz_loc(mynode, moznode) {
        var start = mynode.start;
        var end = mynode.end;
        if (start.pos != null && end.pos != null) {
            moznode.range = [start.pos, end.pos];
        }
        if (start.line) {
            moznode.loc = {
                start: moz_sub_loc(start),
                end: moz_sub_loc(end)
            };
            if (start.file) {
                moznode.loc.source = start.file;
            }
        }
        return moznode;
    };

    function def_to_moz(mytype, handler) {
        mytype.DEFMETHOD("to_mozilla_ast", function() {
            return set_moz_loc(this, handler(this));
        });
    };

    function to_moz(node) {
        return node != null ? node.to_mozilla_ast() : null;
    };

    function to_moz_block(node) {
        return {
            type: "BlockStatement",
            body: node.body.map(to_moz)
        };
    };

})();


exports.sys = sys;
exports.MOZ_SourceMap = MOZ_SourceMap;
exports.UglifyJS = UglifyJS;
exports.array_to_hash = array_to_hash;
exports.slice = slice;
exports.characters = characters;
exports.member = member;
exports.find_if = find_if;
exports.repeat_string = repeat_string;
exports.DefaultsError = DefaultsError;
exports.defaults = defaults;
exports.merge = merge;
exports.noop = noop;
exports.MAP = MAP;
exports.push_uniq = push_uniq;
exports.string_template = string_template;
exports.remove = remove;
exports.mergeSort = mergeSort;
exports.set_difference = set_difference;
exports.set_intersection = set_intersection;
exports.makePredicate = makePredicate;
exports.all = all;
exports.Dictionary = Dictionary;
exports.DEFNODE = DEFNODE;
exports.AST_Token = AST_Token;
exports.AST_Node = AST_Node;
exports.AST_Statement = AST_Statement;
exports.AST_Debugger = AST_Debugger;
exports.AST_Directive = AST_Directive;
exports.AST_SimpleStatement = AST_SimpleStatement;
exports.walk_body = walk_body;
exports.AST_Block = AST_Block;
exports.AST_BlockStatement = AST_BlockStatement;
exports.AST_EmptyStatement = AST_EmptyStatement;
exports.AST_StatementWithBody = AST_StatementWithBody;
exports.AST_LabeledStatement = AST_LabeledStatement;
exports.AST_IterationStatement = AST_IterationStatement;
exports.AST_DWLoop = AST_DWLoop;
exports.AST_Do = AST_Do;
exports.AST_While = AST_While;
exports.AST_For = AST_For;
exports.AST_ForIn = AST_ForIn;
exports.AST_With = AST_With;
exports.AST_Scope = AST_Scope;
exports.AST_Toplevel = AST_Toplevel;
exports.AST_Lambda = AST_Lambda;
exports.AST_Accessor = AST_Accessor;
exports.AST_Function = AST_Function;
exports.AST_Defun = AST_Defun;
exports.AST_Jump = AST_Jump;
exports.AST_Exit = AST_Exit;
exports.AST_Return = AST_Return;
exports.AST_Throw = AST_Throw;
exports.AST_LoopControl = AST_LoopControl;
exports.AST_Break = AST_Break;
exports.AST_Continue = AST_Continue;
exports.AST_If = AST_If;
exports.AST_Switch = AST_Switch;
exports.AST_SwitchBranch = AST_SwitchBranch;
exports.AST_Default = AST_Default;
exports.AST_Case = AST_Case;
exports.AST_Try = AST_Try;
exports.AST_Catch = AST_Catch;
exports.AST_Finally = AST_Finally;
exports.AST_Definitions = AST_Definitions;
exports.AST_Var = AST_Var;
exports.AST_Const = AST_Const;
exports.AST_VarDef = AST_VarDef;
exports.AST_Call = AST_Call;
exports.AST_New = AST_New;
exports.AST_Seq = AST_Seq;
exports.AST_PropAccess = AST_PropAccess;
exports.AST_Dot = AST_Dot;
exports.AST_Sub = AST_Sub;
exports.AST_Unary = AST_Unary;
exports.AST_UnaryPrefix = AST_UnaryPrefix;
exports.AST_UnaryPostfix = AST_UnaryPostfix;
exports.AST_Binary = AST_Binary;
exports.AST_Conditional = AST_Conditional;
exports.AST_Assign = AST_Assign;
exports.AST_Array = AST_Array;
exports.AST_Object = AST_Object;
exports.AST_ObjectProperty = AST_ObjectProperty;
exports.AST_ObjectKeyVal = AST_ObjectKeyVal;
exports.AST_ObjectSetter = AST_ObjectSetter;
exports.AST_ObjectGetter = AST_ObjectGetter;
exports.AST_Symbol = AST_Symbol;
exports.AST_SymbolAccessor = AST_SymbolAccessor;
exports.AST_SymbolDeclaration = AST_SymbolDeclaration;
exports.AST_SymbolVar = AST_SymbolVar;
exports.AST_SymbolConst = AST_SymbolConst;
exports.AST_SymbolFunarg = AST_SymbolFunarg;
exports.AST_SymbolDefun = AST_SymbolDefun;
exports.AST_SymbolLambda = AST_SymbolLambda;
exports.AST_SymbolCatch = AST_SymbolCatch;
exports.AST_Label = AST_Label;
exports.AST_SymbolRef = AST_SymbolRef;
exports.AST_LabelRef = AST_LabelRef;
exports.AST_This = AST_This;
exports.AST_Constant = AST_Constant;
exports.AST_String = AST_String;
exports.AST_Number = AST_Number;
exports.AST_RegExp = AST_RegExp;
exports.AST_Atom = AST_Atom;
exports.AST_Null = AST_Null;
exports.AST_NaN = AST_NaN;
exports.AST_Undefined = AST_Undefined;
exports.AST_Hole = AST_Hole;
exports.AST_Infinity = AST_Infinity;
exports.AST_Boolean = AST_Boolean;
exports.AST_False = AST_False;
exports.AST_True = AST_True;
exports.TreeWalker = TreeWalker;
exports.KEYWORDS = KEYWORDS;
exports.KEYWORDS_ATOM = KEYWORDS_ATOM;
exports.RESERVED_WORDS = RESERVED_WORDS;
exports.KEYWORDS_BEFORE_EXPRESSION = KEYWORDS_BEFORE_EXPRESSION;
exports.OPERATOR_CHARS = OPERATOR_CHARS;
exports.RE_HEX_NUMBER = RE_HEX_NUMBER;
exports.RE_OCT_NUMBER = RE_OCT_NUMBER;
exports.RE_DEC_NUMBER = RE_DEC_NUMBER;
exports.OPERATORS = OPERATORS;
exports.WHITESPACE_CHARS = WHITESPACE_CHARS;
exports.PUNC_BEFORE_EXPRESSION = PUNC_BEFORE_EXPRESSION;
exports.PUNC_CHARS = PUNC_CHARS;
exports.REGEXP_MODIFIERS = REGEXP_MODIFIERS;
exports.UNICODE = UNICODE;
exports.is_letter = is_letter;
exports.is_digit = is_digit;
exports.is_alphanumeric_char = is_alphanumeric_char;
exports.is_unicode_combining_mark = is_unicode_combining_mark;
exports.is_unicode_connector_punctuation = is_unicode_connector_punctuation;
exports.is_identifier = is_identifier;
exports.is_identifier_start = is_identifier_start;
exports.is_identifier_char = is_identifier_char;
exports.is_identifier_string = is_identifier_string;
exports.parse_js_number = parse_js_number;
exports.JS_Parse_Error = JS_Parse_Error;
exports.js_error = js_error;
exports.is_token = is_token;
exports.EX_EOF = EX_EOF;
exports.tokenizer = tokenizer;
exports.UNARY_PREFIX = UNARY_PREFIX;
exports.UNARY_POSTFIX = UNARY_POSTFIX;
exports.ASSIGNMENT = ASSIGNMENT;
exports.PRECEDENCE = PRECEDENCE;
exports.STATEMENTS_WITH_LABELS = STATEMENTS_WITH_LABELS;
exports.ATOMIC_START_TOKEN = ATOMIC_START_TOKEN;
exports.parse = parse;
exports.TreeTransformer = TreeTransformer;
exports.SymbolDef = SymbolDef;
exports.base54 = base54;
exports.OutputStream = OutputStream;
exports.Compressor = Compressor;
exports.SourceMap = SourceMap;

exports.AST_Node.warn_function = function (txt) { if (typeof console != "undefined" && typeof console.warn === "function") console.warn(txt) }

exports.minify = function (files, options) {
    options = UglifyJS.defaults(options, {
        spidermonkey : false,
        outSourceMap : null,
        sourceRoot   : null,
        inSourceMap  : null,
        fromString   : false,
        warnings     : false,
        mangle       : {},
        output       : null,
        compress     : {}
    });
    UglifyJS.base54.reset();

    // 1. parse
    var toplevel = null,
        sourcesContent = {};

    if (options.spidermonkey) {
        toplevel = UglifyJS.AST_Node.from_mozilla_ast(files);
    } else {
        if (typeof files == "string")
            files = [ files ];
        files.forEach(function(file){
            var code = options.fromString
                ? file
                : fs.readFileSync(file, "utf8");
            sourcesContent[file] = code;
            toplevel = UglifyJS.parse(code, {
                filename: options.fromString ? "?" : file,
                toplevel: toplevel
            });
        });
    }

    // 2. compress
    if (options.compress) {
        var compress = { warnings: options.warnings };
        UglifyJS.merge(compress, options.compress);
        toplevel.figure_out_scope();
        var sq = UglifyJS.Compressor(compress);
        toplevel = toplevel.transform(sq);
    }

    // 3. mangle
    if (options.mangle) {
        toplevel.figure_out_scope();
        toplevel.compute_char_frequency();
        toplevel.mangle_names(options.mangle);
    }

    // 4. output
    var inMap = options.inSourceMap;
    var output = {};
    if (typeof options.inSourceMap == "string") {
        inMap = fs.readFileSync(options.inSourceMap, "utf8");
    }
    if (options.outSourceMap) {
        output.source_map = UglifyJS.SourceMap({
            file: options.outSourceMap,
            orig: inMap,
            root: options.sourceRoot
        });
        if (options.sourceMapIncludeSources) {
            for (var file in sourcesContent) {
                if (sourcesContent.hasOwnProperty(file)) {
                    output.source_map.get().setSourceContent(file, sourcesContent[file]);
                }
            }
        }

    }
    if (options.output) {
        UglifyJS.merge(output, options.output);
    }
    var stream = UglifyJS.OutputStream(output);
    toplevel.print(stream);

    if(options.outSourceMap){
        stream += "\n//# sourceMappingURL=" + options.outSourceMap;
    }

    return {
        code : stream + "",
        map  : output.source_map + ""
    };
};

exports.describe_ast = function () {
    var out = UglifyJS.OutputStream({ beautify: true });
    function doitem(ctor) {
        out.print("AST_" + ctor.TYPE);
        var props = ctor.SELF_PROPS.filter(function(prop){
            return !/^\$/.test(prop);
        });
        if (props.length > 0) {
            out.space();
            out.with_parens(function(){
                props.forEach(function(prop, i){
                    if (i) out.space();
                    out.print(prop);
                });
            });
        }
        if (ctor.documentation) {
            out.space();
            out.print_string(ctor.documentation);
        }
        if (ctor.SUBCLASSES.length > 0) {
            out.space();
            out.with_block(function(){
                ctor.SUBCLASSES.forEach(function(ctor, i){
                    out.indent();
                    doitem(ctor);
                    out.newline();
                });
            });
        }
    };
    doitem(UglifyJS.AST_Node);
    return out + "";
};
},{"source-map":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\node_modules\\source-map\\lib\\source-map.js","util":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\browserify\\node_modules\\util\\util.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am.css":[function(require,module,exports){
module.exports = "/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n}\n.CodeMirror-scroll {\n  /* Set scrolling behaviour here */\n  overflow: auto;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror div.CodeMirror-cursor {\n  border-left: 1px solid black;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor {\n  width: auto;\n  border: 0;\n  background: #7e7;\n}\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n@-moz-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@-webkit-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\ndiv.CodeMirror-overwrite div.CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  line-height: 1;\n  position: relative;\n  overflow: hidden;\n  background: white;\n  color: black;\n}\n\n.CodeMirror-scroll {\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actuall scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  padding-bottom: 30px;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  padding-bottom: 30px;\n  margin-bottom: -32px;\n  display: inline-block;\n  /* Hack to make IE7 behave */\n  *zoom:1;\n  *display:inline;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-wrap .CodeMirror-scroll {\n  overflow-x: hidden;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-measure pre { position: static; }\n\n.CodeMirror div.CodeMirror-cursor {\n  position: absolute;\n  border-right: none;\n  width: 0;\n}\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n.CodeMirror span { *vertical-align: text-bottom; }\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n\n/**\n * Pastel On Dark theme ported from ACE editor\n * @license MIT\n * @copyright AtomicPages LLC 2014\n * @author Dennis Thompson, AtomicPages LLC\n * @version 1.1\n * @source https://github.com/atomicpages/codemirror-pastel-on-dark-theme\n */\n\n.cm-s-pastel-on-dark.CodeMirror {\n\tbackground: #2c2827;\n\tcolor: #8F938F;\n\tline-height: 1.5;\n\tfont-size: 14px;\n}\n.cm-s-pastel-on-dark div.CodeMirror-selected { background: rgba(221,240,255,0.2) !important; }\n.cm-s-pastel-on-dark .CodeMirror-gutters {\n\tbackground: #34302f;\n\tborder-right: 0px;\n\tpadding: 0 3px;\n}\n.cm-s-pastel-on-dark .CodeMirror-guttermarker { color: white; }\n.cm-s-pastel-on-dark .CodeMirror-guttermarker-subtle { color: #8F938F; }\n.cm-s-pastel-on-dark .CodeMirror-linenumber { color: #8F938F; }\n.cm-s-pastel-on-dark .CodeMirror-cursor { border-left: 1px solid #A7A7A7 !important; }\n.cm-s-pastel-on-dark span.cm-comment { color: #A6C6FF; }\n.cm-s-pastel-on-dark span.cm-atom { color: #DE8E30; }\n.cm-s-pastel-on-dark span.cm-number { color: #CCCCCC; }\n.cm-s-pastel-on-dark span.cm-property { color: #8F938F; }\n.cm-s-pastel-on-dark span.cm-attribute { color: #a6e22e; }\n.cm-s-pastel-on-dark span.cm-keyword { color: #AEB2F8; }\n.cm-s-pastel-on-dark span.cm-string { color: #66A968; }\n.cm-s-pastel-on-dark span.cm-variable { color: #AEB2F8; }\n.cm-s-pastel-on-dark span.cm-variable-2 { color: #BEBF55; }\n.cm-s-pastel-on-dark span.cm-variable-3 { color: #DE8E30; }\n.cm-s-pastel-on-dark span.cm-def { color: #757aD8; }\n.cm-s-pastel-on-dark span.cm-bracket { color: #f8f8f2; }\n.cm-s-pastel-on-dark span.cm-tag { color: #C1C144; }\n.cm-s-pastel-on-dark span.cm-link { color: #ae81ff; }\n.cm-s-pastel-on-dark span.cm-qualifier,.cm-s-pastel-on-dark span.cm-builtin { color: #C1C144; }\n.cm-s-pastel-on-dark span.cm-error {\n\tbackground: #757aD8;\n\tcolor: #f8f8f0;\n}\n.cm-s-pastel-on-dark .CodeMirror-activeline-background { background: rgba(255, 255, 255, 0.031) !important; }\n.cm-s-pastel-on-dark .CodeMirror-matchingbracket {\n\tborder: 1px solid rgba(255,255,255,0.25);\n\tcolor: #8F938F !important;\n\tmargin: -1px -1px 0 -1px;\n}\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.js":[function(require,module,exports){
"use strict";

var amTools = require("./am.tools");
var amMenu = require("./am.menu");
var baseWorkspace = require("./baseWorkspace");

var EventEmitter = require("eventman");
var amgui = require("../amgui");
var Windooman = require("../windooman");
var HistoryTab = require("../historyTab");
var Warehouseman = require("../warehouseman");
var shortcuts = require("../shortcuts");
var Chronicler = require("../chronicler");
var DomPicker = require("../dom-picker");
var i18n = require("../i18n");
var Tour = require("../tour");
var Mouse = require("../mouse");
var ProjectMap = require("../project/ProjectMap");
var dialogWIP = require("../commonDialogs/dialogWIP");
var dialogFeedback = require("../commonDialogs/dialogFeedback");
var dialogWelcome = require("../commonDialogs/dialogWelcome");
var mineSave = require("../mineSave");
var modules = {
  css: require("../modules/css"),
  // js: require('./modules/javascript'),
  domTree: require("../modules/am-domtree") };
var externalStylesheets = [
// require('./assets/fontello/css/amgui.css'),
require("../am.css")];

var isInited = false, handlerBuff = [];


var am = window.am = module.exports = _.extend(new EventEmitter(), window.am, {
  trackTypes: {},

  _staticToolbarIcons: [],

  selectedDomElem: undefined,
  selectedTrack: undefined,

  registerTrackType: function (Track, type) {
    this.trackTypes[type] = Track;
  }
});
am.setMaxListeners(1234);

am.throwHandler = function (handler) {
  handlerBuff.push(handler);
};

am.open = function (save) {
  am.report({ evtName: "open", value: 1 });

  var promiseBody = function (fulfill, reject) {
    am._init();

    if (save) {
      if (typeof (save) === "object") {
        useSave(save);
      } else if (typeof (save) === "string") {
        if (save.indexOf("{") === -1) {
          fetch(save).then(function (response) {
            return response.text();
          }, reject).then(function (response) {
            return useSave(response);
          }, reject);
        } else {
          useSave(save);
        }
      }
    } else {
      am.openNewProject();
    }

    function useSave(save) {
      if (typeof (save) === "string") {
        try {
          save = JSON.parse(save);
        } catch (e) {
          save = mineSave(save);
        }
      }

      if (!save) {
        throw Error("Can't use this save");
      }

      am.projectMap.focus(save);
      fulfill();
    }
  };

  if (false) {
    console.warn("am.open is in debug mode!");
    promiseBody(); //debug
    return;
  }

  var promise = new Promise(promiseBody).then(function () {
    am.report({ evtName: "open", value: 1 });

    am.dialogs.welcome.show();
  })["catch"](function (err) {
    console.log(err.stack);
  });

  return promise;
};

am._init = function () {
  if (isInited) return;

  am.deRoot = document.body;

  createAmRoot();
  am.dePickLayer = createAmLayer();
  am.deHandlerCont = createAmLayer();
  am.deGuiCont = createAmLayer();
  am.deDialogCont = createAmLayer();

  amgui.deOverlayCont = am.deDialogCont;

  am.i18n = i18n;

  am.workspace = new Windooman();
  am.deGuiCont.appendChild(am.workspace.domElem);
  am.workspace.loadWorkspace("base", baseWorkspace);
  am.workspace.load("base");

  am.projectMap = new ProjectMap();

  am.mouse = new Mouse();

  am.storage = new Warehouseman();

  am.tour = new Tour();

  am.history = new Chronicler();
  shortcuts.on("undo", function () {
    return am.history.undo();
  });
  shortcuts.on("redo", function () {
    return am.history.redo();
  });

  am.historyTab = new HistoryTab();
  am.workspace.fillTab("History", am.historyTab.domElem);

  am.domPicker = new DomPicker();
  am.deHandlerCont.appendChild(am.domPicker.domElem);
  am.domPicker.on("pick", function (de) {
    return am.selectDomElem(de);
  });

  amMenu(am);
  inspectHandlerCont(am.deHandlerCont);
  addToggleGui();
  amTools(am);
  createStatusLabel();

  am.dialogs = {
    WIP: dialogWIP,
    feedback: dialogFeedback,
    welcome: dialogWelcome };

  Object.keys(modules).forEach(function (moduleName) {
    console.log("init", moduleName, "module...");

    modules[moduleName].init(am);
  });
};

am.openNewProject = function () {
  am.projectMap.focus({
    name: "new project",
    timelines: [{}] });
};

am.setTimeline = function (timeline) {
  if (!timeline) return;

  timeline.toolbar.addIcon(am._staticToolbarIcons);

  am.currTimeline = timeline;

  am.workspace.fillTab("timeline", timeline.domElem);
};

am.setCurrTrack = function (track) {
  if (am.currTrack === track) return;

  am.currTrack = track;

  am.emit("change.currTrack", am.currTrack);
};

am.selectDomElem = function (de) {
  if (!de) throw Error;
  if (am.selectedDomElem === de) return;

  am.selectedDomElem = de;
  am.emit("selectDomElem", am.selectedDomElem);
};

am.deselectDomElem = function () {
  if (!am.selectedDomElem) return;

  am.selectedDomElem = undefined;
  am.emit("deselectDomElem");
};

am.isPickableDomElem = function (deTest) {
  //TODO use .compareDocumentPosition()
  if (!deTest) {
    return false;
  }

  return step(deTest);

  function step(de) {
    if (!de) {
      return false;
    } else if (de.nodeType === 9) {
      return false;
    } else if (de.hasAttribute("data-am-pick")) {
      return true;
    } else if (de.hasAttribute("data-am-nopick")) {
      return false;
    } else if (de === document.body) {
      return de !== deTest;
    } else if (de) {
      return step(de.parentNode);
    }
  }
};





am.report = function (opt) {
  if (am.isExtension()) {
    chrome.runtime.sendMessage({
      subject: "track",
      evtName: opt.evtName,
      value: opt.value }, function (response) {
      console.log(response.farewell);
    });
  }
};

am.isExtension = function () {
  return chrome && chrome.storage;
};

am.setVar = function (name, value, cb) {
  if (am.isExtension()) {
    chrome.storage.sync.set((function (_ref) {
      _ref[name] = value;
      return _ref;
    })({}), function (response) {
      if (cb) cb(response);
    });
  } else {
    window.localStorage.setItem("__animachine_var_" + name, value);
    if (cb) cb();
  }
};

am.getVar = function (name, cb) {
  if (am.isExtension()) {
    chrome.storage.sync.get(name, function (value) {
      if (cb) cb(value);
    });
  } else {
    var value = window.localStorage.getItem("__animachine_var_" + name);
    cb(value);
  }
};











function inspectHandlerCont(deCont) {
  var config = { childList: true }, observer = new MutationObserver(function () {
    observer.disconnect();

    _(deCont.children).toArray().sortBy("renderLevel").forEach(function (de) {
      return deCont.appendChild(de);
    });

    observer.observe(deCont, config);
  });

  observer.observe(deCont, config);
}

function addToggleGui() {
  var isHidden = false;

  am._staticToolbarIcons.push({
    tooltip: "show/hide editor",
    icon: "resize-small",
    separator: "first",
    onClick: hide });

  var btnFull = amgui.createIconBtn({
    size: 24,
    icon: "resize-full",
    tooltip: "show editor",
    onClick: show });

  shortcuts.on("show/hidePanels", toggle);

  function toggle() {
    if (isHidden) {
      show();
    } else {
      hide();
    }
  }

  function hide() {
    if (isHidden) return;
    isHidden = true;

    am.deGuiCont.style.display = "none";

    document.body.appendChild(btnFull);

    var zIndex = getMaxZIndex();
    if (zIndex) {
      btnFull.style.zIndex = zIndex + 1000;
    }
  }

  function show() {
    if (!isHidden) return;
    isHidden = false;

    am.deGuiCont.style.display = "block";
    btnFull.parentElement.removeChild(btnFull);
  }

  btnFull.style.top = "0px";
  btnFull.style.left = "0px";
  btnFull.style.position = "fixed";
}




function getMaxZIndex() {
  var zIndex = 0, els, x, xLen, el, val;

  els = document.querySelectorAll("*");
  for (x = 0, xLen = els.length; x < xLen; x += 1) {
    el = els[x];
    if (window.getComputedStyle(el).getPropertyValue("position") !== "static") {
      val = window.getComputedStyle(el).getPropertyValue("z-index");
      if (val) {
        val = +val;
        if (val > zIndex) {
          zIndex = val;
        }
      }
    }
  }
  return zIndex;
}





















function createAmRoot() {
  // $('body').css('opacity', 0)
  // .mouseenter(function () {$('body').css('opacity', 1)})
  // .mouseleave(function () {$('body').css('opacity', .23)});

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.left = "0px";
  de.style.top = "0px";
  de.style.width = "100%";
  de.style.height = "100%";
  de.style.pointerEvents = "none";
  de.style.userSelect = "none";
  de.style.webktUserSelect = "none";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;

  de.setAttribute("data-am-nopick", "");

  var zIndex = getMaxZIndex();
  if (zIndex) {
    de.style.zIndex = zIndex + 1000;
  }

  document.body.appendChild(de);

  var sr = de.createShadowRoot();

  sr.appendChild(amgui.getStyleSheet());

  externalStylesheets.forEach(function (css) {
    var style = document.createElement("style");
    style.innerHTML = css;
    sr.appendChild(style);
    // document.head.appendChild(style);
  });

  am.rootElem = de;
  am.rootShadow = sr;
  // return de;
}

function createAmLayer() {
  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.width = "100%";
  de.style.height = "100%";
  de.setAttribute("data-am-nopick", "");
  am.rootShadow.appendChild(de);
  return de;
}





function createStatusLabel() {
  var deTitle = amgui.createLabel({
    text: "Animachine (alpha)",
    parent: am.deDialogCont,
    position: "fixed",
    fontSize: "18px"
  });

  deTitle.style.pointerEvents = "none";
  deTitle.style.width = "100%";
  deTitle.style.textAlign = "center";
  deTitle.style.opacity = "0.23";
  deTitle.style.fontWeight = "bold";
}

},{"../am.css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am.css","../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../chronicler":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\chronicler\\Chronicler.js","../commonDialogs/dialogFeedback":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogFeedback.js","../commonDialogs/dialogWIP":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWIP.js","../commonDialogs/dialogWelcome":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWelcome.js","../dom-picker":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\dom-picker\\DomPicker.js","../historyTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\HistoryTab.js","../i18n":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js","../mineSave":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mineSave.js","../modules/am-domtree":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\am-domtree.js","../modules/css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\cssModule.js","../mouse":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mouse\\Mouse.js","../project/ProjectMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectMap.js","../shortcuts":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\shortcuts.js","../tour":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\tour\\Tour.js","../warehouseman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\Warehouseman.js","../windooman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Windooman.js","./am.menu":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.menu.js","./am.tools":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.tools.js","./baseWorkspace":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\baseWorkspace.json","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.menu.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

module.exports = function createMenu(am) {
  var deMenuIcon = amgui.createIconBtn({
    tooltip: "menu",
    icon: "menu",
    size: 24 });

  am._staticToolbarIcons.push({
    deIcon: deMenuIcon,
    separator: "tools" });

  am.menuDropdown = amgui.createDropdown({
    options: [{
      text: "file",
      icon: "floppy",
      children: [{ text: "new", onSelect: function () {
          return am.openNewProject();
        }, icon: "doc" }, { text: "save", onSelect: onSelectSave, icon: "upload-cloud" },
      // {text: 'saveAs', onSelect: onSelectSave},
      { text: "open", onSelect: onSelectOpen, icon: "download-cloud" }]
    }, {
      text: "undo",
      icon: "ccw",
      onClick: function () {
        return am.history.undo();
      } }, {
      text: "redo",
      icon: "cw",
      onClick: function () {
        return am.history.redo();
      } }, {
      text: "feedback",
      icon: "megaphone",
      separator: "rest",
      onClick: function () {
        return am.dialogs.feedback.show();
      } }, {
      text: "view on github",
      icon: "github",
      separator: "rest",
      onClick: function () {
        return window.open("https://github.com/animachine/animachine");
      } }]
  });

  amgui.bindDropdown({
    deTarget: deMenuIcon,
    deDropdown: am.menuDropdown });

  function onSelectSave() {
    am.storage.showSaveDialog({
      getSave: function () {
        var opt = am.storage.getSaveOptions();

        return am.projectMap.getCurrentProject().getScript(opt);
      }
    });
  }

  function onSelectOpen() {
    am.storage.showOpenDialog({
      onOpen: function (save) {
        am.projectMap.open(save.project);
      }
    });
  }
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\am.tools.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

module.exports = function tools(am) {
  am.dePickLayer.style.pointerEvents = "auto";

  var mode = "pick";

  var cursors = {
    interact: "auto",
    pick: "auto",
    move: "-webkit-grab" };

  var currMode, modes = [{
    type: "interact",
    text: "normal page interact",
    icon: "cursor",
    cursor: "auto" }, {
    type: "pick",
    text: "dom picking mode",
    icon: "target",
    cursor: "auto" }, {
    type: "move",
    text: "drag ",
    icon: "move",
    cursor: "-webkit-grab" }, {
    type: "zoom",
    text: "zoom ",
    icon: "zoom-in",
    cursor: "-webkit-zoom-in" }];

  function selectMode(m) {
    if (m === currMode) return;

    if (m.type === "zoom") {
      am.dialogs.WIP.show();
      return;
    }

    currMode = m;

    btn.setIcon(currMode.icon);

    am.dePickLayer.style.pointerEvents = currMode.type === "interacy" ? "none" : "auto";
    am.dePickLayer.style.cursor = currMode.cursor;
  }

  var btn = amgui.createIconBtn({
    tooltip: "toggle dom picking mode",
    icon: "target",
    defaultToggle: true,
    size: 24,
    display: "inline-block"
  });

  am._staticToolbarIcons.push(btn);

  selectMode(_.find(modes, { type: "pick" }));

  var dropdown = amgui.createDropdown({
    options: modes.map(function (m, idx) {
      return {
        text: m.text,
        icon: m.icon,
        onClick: function () {
          return selectMode(modes[idx]);
        } };
    }) });

  amgui.bindDropdown({ deTarget: btn, deDropdown: dropdown });

  amgui.on("fontLoaded", function () {
    var pickMode = _.find(modes, { type: "pick" });

    pickMode.cursor = amgui.createCursorFromText({
      icon: "target",
      color: amgui.color.text,
      width: 22,
      height: 22,
      hotspotX: 11,
      hotspotY: 11,
      textX: 2,
      stroke: { color: "black", width: 2 },
      debug: false });
  });

  am.dePickLayer.addEventListener("click", function (e) {
    if (currMode.type !== "pick") return;

    am.dePickLayer.style.pointerEvents = "none";
    var de = document.elementFromPoint(e.x, e.y);
    am.dePickLayer.style.pointerEvents = "auto";

    if (am.isPickableDomElem(de)) {
      if (de !== am.selectedDomElem) {
        //hack!

        am.domPicker.focusElem(de);
      }
    } else if (de === document.body || de.parentNode === document) {
      am.deselectDomElem();
    }
  });

  amgui.makeDraggable({
    deTarget: am.dePickLayer,
    onDown: function (e) {
      if (currMode.type !== "move") return false;
    },
    onDrag: function (e) {
      document.body.style.transform = "translate(" + e.dx + "px, " + e.dy + "px)";
      am.rootElem.style.transform = "translate(" + -e.dx + "px, " + -e.dy + "px)";
    }
  });



  am.toPickingMode = function (opt) {
    am.deGuiCont.style.display = "none";
    am.deDialogCont.style.display = "none";

    am.domPicker.on("add", function (e) {
      e.demand(-1).then(function () {
        if (opt.onPick) opt.onPick(e.target);

        close();
      });
    });

    shortcuts.on("esc", close);

    function close() {
      if (opt.onClose) opt.onClose();

      shortcuts.off("esc", close);
    }
  };
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\am\\baseWorkspace.json":[function(require,module,exports){
module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={
    "type": "container",
    "direction": "column",
    "children": [{
        "type": "container",
        "direction": "row",
        "size": 2.7,
        "scaleMode": "flex",
        "children": [{
            "type": "panel",
            "size": 1,
            "scaleMode": "flex",
            "tabs": [
                {"name": "Css Style"}, 
                {"name": "Dom Tree"}, 
                {"name": "History"},
                {"name": "Project"} 
            ]
        }, {
            "type": "panel",
            "empty": true,
            "size": 2.7,
            "scaleMode": "flex"
        }]
    }, {
        "type": "panel",
        "size": 1,
        "scaleMode": "flex",
        "noHead": true,
        "tabs": [{"name": "timeline"}]
    }]
}
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.bezierEditor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBezierEditor: createBezierEditor };
};


function createBezierEditor(opt) {
  opt = opt || {};

  var p0 = { x: 0.3, y: 0.3 }, p1 = { x: 0.7, y: 0.7 }, w = opt.width || 312, h = opt.height || 312, currEase;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = w + "px";
  de.style.height = h + "px";

  var c = document.createElement("canvas");
  c.width = w;
  c.height = h;
  de.appendChild(c);

  var ctx = c.getContext("2d");

  var deCp0 = createCp(p0);
  var deCp1 = createCp(p1);

  de.getValue = function () {
    return [p0.x, p0.y, p1.x, p1.y];
  };

  function setPoints(points) {
    p0.x = points[0];
    p0.y = points[1];
    p1.x = points[2];
    p1.y = points[3];

    render();
  };

  de.setEase = function (ease) {
    if (currEase) {
      ease.off("change", onChangeEase);
    }

    currEase = ease;

    if (currEase) {
      ease.on("change", onChangeEase);
      onChangeEase();
    }
  };

  render();

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;



  function onChangeEase() {
    setPoints(currEase.points);

    render();
  }

  function render() {
    ctx.clearRect(0, 0, w, h);

    renderEase();
    renderGuides();

    deCp0.refreshPosition();
    deCp1.refreshPosition();
  }

  function renderEase() {
    if (!currEase) return;

    ctx.beginPath();
    ctx.moveTo(x(0), y(currEase.getRatio(0)));

    for (var i = 0; i < w; ++i) {
      var _x = x(i / w), _y = y(currEase.getRatio(i / w)), _r = currEase.getRatio(i / w);
      ctx.lineTo(x(i / w), y(currEase.getRatio(i / w)));
    }

    ctx.strokeStyle = amgui.color.aqua;
    ctx.lineWidth = 1;
    ctx.stroke();
  }

  function renderGuides() {
    ctx.beginPath();
    ctx.moveTo(x(p0.x), y(p0.y));
    ctx.lineTo(0, y(0));
    ctx.bezierCurveTo(x(p0.x), y(p0.y), x(p1.x), y(p1.y), x(1), y(1));
    ctx.lineTo(x(p1.x), y(p1.y));

    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.beginPath();
    ctx.rect(x(0), y(0), x(1), y(1) - y(0));
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 1;
    ctx.stroke();
  }

  function x(p) {
    return p * w;
  }

  function y(p) {
    var min = minY(), max = maxY(), full = max - min;

    return h - (((p - min) / full) * h);
  }

  function minY() {
    return Math.min(0, p0.y, p1.y);
  }

  function maxY() {
    return Math.max(1, p0.y, p1.y);
  }

  function refreshEase() {
    if (!currEase) return;

    currEase.points = de.getValue();
  }

  function createCp(point) {
    var r = 6;

    var deCp = document.createElement("div");
    deCp.style.position = "absolute";
    deCp.style.cursor = "grab";
    deCp.style.boxSizing = "border-box";
    deCp.style.width = r * 2 + "px";
    deCp.style.height = r * 2 + "px";
    deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
    deCp.style.borderRadius = r + "px";
    deCp.style.background = "rgba(256, 256, 256, 1)";
    de.appendChild(deCp);

    amgui.makeDraggable({
      deTarget: deCp,
      onDown: function (e) {
        deCp.style.cursor = "grabbing";

        var md = {};
        md.minY = minY();
        md.fullY = maxY() - md.minY;
        return md;
      },
      onMove: function (md, mx, my) {
        var br = de.getBoundingClientRect();

        point.x = Math.max(0, Math.min(1, (mx - br.left) / w));
        point.y = (((br.bottom - my) / h) * md.fullY) - md.minY;

        var fix = 1000;
        point.x = parseInt(point.x * fix) / fix;
        point.y = parseInt(point.y * fix) / fix;

        render();

        refreshEase();
      },
      onUp: function () {
        deCp.style.cursor = "grab";
      }
    });

    deCp.refreshPosition = function () {
      deCp.style.left = x(point.x) + "px";
      deCp.style.top = y(point.y) + "px";
    };
    deCp.refreshPosition();

    return deCp;
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.breadcrumbs.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBreadcrumbs: createBreadcrumbs };
};


function createBreadcrumbs(opt) {
  var de = document.createElement("div"), crumbs = [];

  // de.style.overflow = 'hidden';
  de.style.position = "relative";
  // de.style.display = 'inline-block';
  de.style.whiteSpace = "nowrap";

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.addEventListener("click", function (e) {
    var crumb = getCrumbByDe(e.target);

    if (crumb) {
      if (crumb.onSelect) {
        crumb.onSelect();
      }

      de.dispatchEvent(new CustomEvent("select", { detail: { selection: crumb } }));
    }
  });

  if (opt.onSelect) {
    de.addEventListener("select", opt.onSelect);
  }

  de.setItems = function (_crumbs) {
    removeItems();

    _crumbs.forEach(function (crumb) {
      crumb.domElem = createCrumb(crumb.name, crumb.value);
      crumb.deSlash = createSlash();
      crumbs.push(crumb);
    });
  };

  return de;





  function removeItems() {
    var crumb;

    while (crumbs.length) {
      crumb = crumbs.pop();

      crumb.domElem.parentNode.removeChild(crumb.domElem);
      crumb.deSlash.parentNode.removeChild(crumb.deSlash);
    }
  }

  function getCrumbByDe(deCrumb) {
    return crumbs.find(function (crumb) {
      return crumb.domElem === deCrumb;
    });
  }

  function createCrumb(name, value) {
    var deChrumb = createLi(name);

    return deChrumb;
  }

  function createSlash() {
    var deSlash = createLi(" / ");
    deSlash.style.pointerEvents = "none";

    return deSlash;
  }

  function createLi(content) {
    return amgui.createLabel({
      text: content,
      parent: de });
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.button.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createIcon: createIcon,
    createLabel: createLabel,
    createBtn: createBtn,
    createIconBtn: createIconBtn,
    createToggleIconBtn: createToggleIconBtn,
    createLinebreak: createLinebreak };
};


function createLinebreak(opt) {
  var de = document.createElement("br");

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createLabel(opt) {
  var de = amgui.createDiv(opt), deIconLeft, deIconRight, deText = amgui.createDiv({
    parent: de,
    display: "inline"
  });

  de.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  de.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  de.style.display = opt.display || "inline-block";
  if ("flex" in opt) de.style.flex = opt.flex;
  if ("position" in opt) de.style.position = opt.position;
  if ("color" in opt) de.style.color = opt.color;
  if ("fontWeight" in opt) de.style.fontWeight = opt.fontWeight;


  Object.defineProperties(de, {
    text: {
      set: function (v) {
        deText.innerHTML = v || "";
      },
      get: function () {
        return deText.innerHTML;
      }
    },
    icon: {
      set: function (v) {
        this.iconLeft = v;
      }
    },
    iconLeft: {
      set: function (v) {
        if (!v && !deIconLeft) return;
        if (!deIconLeft) {
          deIconLeft = amgui.createIcon({
            color: opt.color });
          deIconLeft.style.marginRight = "3px";
          de.insertBefore(deIconLeft, deText);
        }
        deIconLeft.setIcon(v);
        deIconLeft.style.display = v ? "inline" : "none";
      }
    },
    iconRight: {
      set: function (v) {
        if (!v && !deIconRight) return;
        if (!deIconRight) {
          deIconRight = amgui.createIcon({
            color: opt.color });
          deIconRight.style.marginLeft = "3px";
          de.appendChild(deIconRight);
        }
        deIconRight.setIcon(v);
        deIconRight.style.display = v ? "inline" : "none";
      }
    }
  });

  de.text = opt.text;
  de.iconLeft = opt.iconLeft || opt.icon;
  de.iconRight = opt.iconRight;

  return de;
}

function createBtn(opt) {
  opt.background = opt.background || amgui.color.bg1;

  var de = amgui.createDiv(opt);
  de.style.height = (opt.height || amgui.LINE_HEIGHT) + "px";
  de.style.fontSize = (opt.fontSize || amgui.FONT_SIZE);
  de.style.display = opt.display || "inline-block";
  de.style.padding = "0 5px";
  de.style.color = amgui.color.text;

  Object.defineProperties(de, {
    text: {
      set: function (v) {
        de.textContent = v;
      },
      get: function () {
        return de.textContent;
      }
    }
  });

  de.text = opt.text || opt.caption || "button";

  behaviorBtn(de, opt);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createIconBtn(opt) {
  var de = amgui.createIcon(opt);
  de.style.overflow = "hidden";

  behaviorBtn(de, opt);

  return de;
}

function behaviorBtn(de, opt) {
  var _inactive = false, _fixedHighlight = false, _mouseOver = false, background = opt.background || "none", backgroundHover = opt.backgroundHover || amgui.color.bgHover;

  de.style.cursor = "pointer";

  de.addEventListener("mouseenter", onMOver);
  de.addEventListener("mouseleave", onMOut);

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  Object.defineProperties(de, {
    inactive: {
      set: function (v) {
        v = !!v;
        if (_inactive === v) return;

        _inactive = v;
        refreshDe();
      },
      get: function () {
        return _inactive;
      }
    },
    fixedHighlight: {
      set: function (v) {
        v = !!v;
        if (_fixedHighlight === v) return;

        _fixedHighlight = v;
        refreshDe();
      },
      get: function () {
        return _fixedHighlight;
      }
    } });

  refreshDe();

  function onMOver() {
    _mouseOver = true;
    refreshDe();
  }

  function onMOut() {
    _mouseOver = false;
    refreshDe();
  }

  function refreshDe() {
    de.style.opacity = _inactive ? 0.43 : 1;
    de.style.pointerEvents = _inactive ? "none" : "auto";
    de.style.background = (_mouseOver || _fixedHighlight) ? backgroundHover : background;
  }
}

function createToggleIconBtn(opt) {
  opt.iconOn = opt.iconOn || opt.icon;
  opt.iconOff = opt.iconOff || opt.icon;
  opt.onColor = opt.onColor || opt.color || amgui.color.text;
  opt.offColor = opt.offColor || opt.color || amgui.color.textInactive;

  var isOn = opt.defaultToggle || false;
  var de = amgui.createIconBtn(opt);
  setIcon();

  if ("autoToggle" in opt ? opt.autoToggle : !opt.onClick) {
    de.addEventListener("click", onToggleClick);
  }

  if ("onToggle" in opt) {
    de.addEventListener("toggle", opt.onToggle);
  }

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  de.setToggle = function (on) {
    on = !!on;
    if (on === isOn) {
      return;
    }

    isOn = on;
    setIcon();

    de.dispatchEvent(new CustomEvent("toggle", { detail: { state: isOn } }));
    de.dispatchEvent(new Event(isOn ? "toggleOn" : "toggleOff"));
  };

  de.state = function () {
    return isOn;
  };


  function onToggleClick() {
    de.setToggle(!isOn);
  }

  function setIcon() {
    de.setIcon(isOn ? opt.iconOn : opt.iconOff);

    if (opt.changeColor) {
      de.style.color = isOn ? opt.onColor : opt.offColor;
    }
  }

  return de;
}

function createIcon(opt) {
  opt = opt || {};
  opt.size = opt.size || opt.height || amgui.LINE_HEIGHT;

  var de = amgui.createDiv();
  de.style.color = opt.color || amgui.color.text;
  de.style.width = (opt.width || opt.size) + "px";
  de.style.height = (opt.height || opt.size) + "px";
  de.style.lineHeight = opt.size + "px";
  de.style.textAlign = "center";
  de.style.fontFamily = "amgui";
  de.style.fontSize = Math.round(opt.size * 0.72) + "px";
  de.style.display = opt.display || "block";

  var textNode = document.createTextNode("");
  de.appendChild(textNode);

  de.setIcon = function (icon) {
    textNode.textContent = amgui.getIconChar(icon);
  };

  de.setIcon(opt.icon);

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: de,
      text: opt.tooltip
    });
  }

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.checkbox.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCheckbox: createCheckbox };
};



function createCheckbox(opt) {
  var de = amgui.createDiv({
    display: "flex",
    parent: opt.parent }), isChecked = false;

  Object.defineProperties(de, {
    checked: {
      set: function (v) {
        v = !!v;

        if (isChecked === v) return;

        isChecked = v;

        cb.setToggle(isChecked);

        de.dispatchEvent(new CustomEvent("change", { checked: isChecked }));
      },
      get: function () {
        return isChecked;
      }
    },
    text: {
      set: function (v) {
        label.text = v;
      },
      get: function () {
        return label.text;
      }
    }
  });

  var cb = amgui.createToggleIconBtn({
    iconOn: "check",
    iconOff: "check-empty",
    parent: de,
    display: "inline-block" });

  var label = amgui.createLabel({
    text: opt.text,
    parent: de });

  de.addEventListener("click", function () {
    de.checked = !de.checked;
  });

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  de.checked = opt.checked;

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.cursor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCursorFromText: createCursorFromText };
};

var buff = [];

function createCursorFromText(opt) {
  opt = opt || {};
  opt.width = opt.width || 24;
  opt.height = opt.height || 24;
  opt.hotspotX = "hotspotX" in opt ? opt.hotspotX : opt.width / 2;
  opt.hotspotY = "hotspotY" in opt ? opt.hotspotY : opt.height / 2;
  opt.textX = opt.textX || 0;
  opt.textY = opt.textY || 0;
  opt.fontFamily = opt.fontFamily || "amgui";
  opt.fontSize = opt.fontSize || opt.height + "px";
  opt.color = opt.color || "#000";
  opt.rotate = opt.rotate || 0;
  opt.rotateOriginX = opt.rotateOriginX || 0;
  opt.rotateOriginY = opt.rotateOriginY || 0;
  opt.text = opt.text || (opt.icon && amgui.getIconChar(opt.icon)) || "A";

  var buffered = buff.find(function (b) {
    if (b.opt.width === opt.width && b.opt.height === opt.height && b.opt.hotspotX === opt.hotspotX && b.opt.hotspotY === opt.hotspotY && b.opt.textX === opt.textX && b.opt.textY === opt.textY && b.opt.fontFamily === opt.fontFamily && b.opt.fontSize === opt.fontSize && b.opt.color === opt.color && b.opt.rotate === opt.rotate && b.opt.rotateOriginX === opt.rotateOriginX && b.opt.rotateOriginY === opt.rotateOriginY && b.opt.text === opt.text) {
      return true;
    }
  });

  if (buffered) {
    return buffered.url;
  }

  var canvas = document.createElement("canvas"), ctx = canvas.getContext("2d");

  canvas.width = opt.width;
  canvas.height = opt.height;

  ctx.translate(opt.rotateOriginX, opt.rotateOriginY);
  ctx.rotate(opt.rotate);
  ctx.translate(-opt.rotateOriginX, -opt.rotateOriginY);

  ctx.font = opt.fontSize + " " + opt.fontFamily;
  ctx.textBaseline = "top";

  if (opt.stroke) {
    ctx.strokeStyle = opt.stroke.color;
    ctx.lineWidth = opt.stroke.width;
    ctx.strokeText(opt.text, opt.textX, opt.textY);
  }

  ctx.fillStyle = opt.color;
  ctx.fillText(opt.text, opt.textX, opt.textY);

  if (opt.debug) {
    ctx.strokeStyle = "lime";
    ctx.lineWidth = "3";
    ctx.rect(0, 0, opt.width, opt.height);
    ctx.stroke();

    ctx.fillStyle = "red";
    ctx.fillRect(opt.hotspotX, opt.hotspotY, 1, 1);
  }

  var uri = canvas.toDataURL(), url = "url('" + uri + "') " + opt.hotspotX + " " + opt.hotspotY + ", auto";

  buff.push({
    opt: opt,
    url: url });

  return url;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dialog.js":[function(require,module,exports){
"use strict";

var domready = require("domready");

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDialog: createDialog };
};



function createDialog(opt) {
  var de, deTitle, deTitleText, deTitleIcon, deTitleEnd, deContentCont, deButtonsCont, deButtonsEnd, buttons = [];

  de = document.createElement("dialog");

  domready(function () {
    return (opt.parent || document.body).appendChild(de);
  });

  de.style.background = "none";
  de.style.border = "none";
  de.style.pointerEvents = "auto";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;


  deTitle = document.createElement("div");
  deTitle.style.display = "inline-block";
  deTitle.style.padding = "0 18px";
  deTitle.style.height = "34px";
  deTitle.style.fontSize = "23px";
  deTitle.style.fontWeight = "700";
  deTitle.style.background = amgui.color.overlay;
  deTitle.style.color = amgui.color.text;
  de.appendChild(deTitle);

  deTitleText = document.createElement("span");
  deTitle.appendChild(deTitleText);

  if (opt.titleIcon) {
    deTitleIcon = amgui.createIcon({
      icon: opt.titleIcon,
      parent: deTitle,
      display: "inline-block" });
  }

  deTitleEnd = document.createElement("div");
  deTitleEnd.style.display = "inline-block";
  deTitleEnd.style.width = "0";
  deTitleEnd.style.height = "0";
  deTitleEnd.style.verticalAlign = "bottom";
  deTitleEnd.style.borderStyle = "solid";
  deTitleEnd.style.borderWidth = "34px 0 0 8px";
  deTitleEnd.style.borderColor = "transparent transparent transparent " + amgui.color.overlay;
  de.appendChild(deTitleEnd);



  deContentCont = document.createElement("div");
  deContentCont.style.background = amgui.color.overlay;
  de.appendChild(deContentCont);

  deButtonsCont = document.createElement("div");
  deButtonsCont.style.background = amgui.color.overlay;
  deButtonsCont.style.display = "inline-block";
  deButtonsCont.style.float = "right";
  de.appendChild(deButtonsCont);


  de.setTitle = function (title) {
    deTitleText.textContent = title || "Dialog";
  };

  de.setContent = function (content) {
    if (!content) {
      return;
    }

    deContentCont.innerHTML = "";
    deContentCont.appendChild(content);
  };

  de.setButtons = function (buttons) {
    if (!buttons) {
      return;
    }

    buttons.length = [];
    deButtonsCont.innerHTML = "";

    buttons.forEach(function (btnData) {
      if (typeof (btnData) === "string") {
        de.addButton(btnData);
      } else {
        de.addButton(btnData.text, btnData.onClick);
      }
    });
  };

  de.addButton = function (text, handler) {
    var btn = amgui.createBtn({
      text: text,
      height: "100%",
      background: "rgba(0,0,0,0)" });
    btn.style.display = "inline-block";
    btn.style.fontWeight = "700";
    btn.style.fontSize = "18px";
    deButtonsCont.appendChild(btn);

    buttons.push(btn);

    btn.addEventListener("click", function () {
      if (handler) handler();

      de.dispatchEvent(new Event("click_" + text.toLowerCase()));
    });
  };

  de.hideButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "none";
      }
    });
  };

  de.showButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "inline-block";
      }
    });
  };

  de.setTitle(opt.title);
  de.setContent(opt.content);
  de.setButtons(opt.buttons);

  deButtonsEnd = document.createElement("div");
  deButtonsEnd.style.display = "inline-block";
  deButtonsEnd.style.float = "right";
  deButtonsEnd.style.width = "0";
  deButtonsEnd.style.height = "0";
  deButtonsEnd.style.verticalAlign = "top";
  deButtonsEnd.style.borderStyle = "solid";
  deButtonsEnd.style.borderWidth = "0 6px 21px 0";
  deButtonsEnd.style.borderColor = "transparent " + amgui.color.overlay + " transparent transparent";
  de.appendChild(deButtonsEnd);

  return de;
}

},{"domready":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\domready\\ready.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.drawer.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDrawer: createDrawer };
};


function createDrawer(opt) {
  opt = opt || {};

  var isOpened = false;

  var de = document.createElement("div");

  de.deHead = document.createElement("div");
  de.deHead.style.height = amgui.LINE_HEIGHT + "px";
  de.deHead.style.display = "flex";
  de.appendChild(de.deHead);

  de.deContent = document.createElement("div");
  de.appendChild(de.deContent);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  var toggleBtn = amgui.createToggleIconBtn({
    iconOn: "angle-down",
    iconOff: "angle-right",
    onClick: onToggleClick,
    parent: de.deHead,
    display: "inline-block"
  });

  var labelTitle = amgui.createLabel({
    text: opt.text || "drawer",
    parent: de.deHead,
    display: "inline-block"
  });






  de.toggle = function () {
    isOpened ? de.close() : de.open();
  };

  de.open = function () {
    if (isOpened) return;
    isOpened = true;

    refreshOpen();
  };

  de.close = function () {
    if (!isOpened) return;
    isOpened = false;

    refreshOpen();
  };

  refreshOpen();
  return de;







  function onToggleClick() {
    de.toggle();
  }

  function refreshOpen() {
    toggleBtn.setToggle(isOpened);
    de.deContent.style.display = isOpened ? "block" : "none";
  }

  return inp;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dropdown.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDropdown: createDropdown,
    bindDropdown: bindDropdown };
};



function createDropdown(opt) {
  opt = opt || {};

  var de = document.createElement("ul");
  de.style.listStyleType = "none";
  de.style.margin = 0;
  de.style.padding = 0;

  var items = [];

  de.addItem = function (optItem) {
    if (typeof (optItem) === "string") {
      optItem = { text: optItem };
    }

    var li = document.createElement("li");
    li.style.textAlign = "left";
    li.style.fontFamily = amgui.FONT_FAMILY;
    li.style.fontSize = "14px";
    li.style.padding = "0 3px";
    li.style.cursor = "pointer";
    li.style.background = amgui.color.overlayInverse;

    optItem.label = amgui.createLabel(_.assign({
      parent: li,
      color: amgui.color.textInverse }, optItem));

    li.addEventListener("click", function (e) {
      e.stopPropagation();

      if (optItem.onSelect) optItem.onSelect(); //deprecated
      if (optItem.onClick) optItem.onClick();

      onLeave();

      de.dispatchEvent(new CustomEvent("select", { detail: { selection: optItem.text } }));
    });
    de.appendChild(li);

    var onEnter = function () {
      return li.style.background = amgui.color.bgInverse;
    }, onLeave = function () {
      return li.style.background = amgui.color.overlayInverse;
    };

    li.addEventListener("mouseenter", onEnter);
    li.addEventListener("mouseleave", onLeave);

    items.push(li);

    if (optItem.children) {
      optItem.label.iconRight = "right-dir";

      bindDropdown({
        deTarget: li,
        deDropdown: createDropdown({ options: optItem.children }) });
    }

    return li;
  };

  de.removeItem = function (li) {
    var idx = items.indexOf(li);
    if (idx === -1) return;
    items.splice(idx, 1);

    if (li.parentNode) {
      li.parentNode.removeChild(li);
    }
  };

  de.setItems = function (newItems) {
    while (items.length) de.removeItem(items[0]);

    newItems.forEach(function (optItem) {
      return de.addItem(optItem);
    });
  };

  if (opt.options) {
    de.setItems(opt.options);
  }

  if (opt.onSelect) {
    de.addEventListener("select", opt.onSelect);
  }

  return de;
}

function bindDropdown(opt) {
  var isOpened = false;
  var deBtn = opt.deTarget;
  var deDropdown = opt.deDropdown || opt.deMenu;

  if (opt.asContextMenu) {
    deBtn.addEventListener("contextmenu", function (e) {
      // e.stopPropagation();
      e.preventDefault();
      if (!isOpened) open(e);
    });
  } else {
    deBtn.addEventListener("click", function (e) {
      // e.stopPropagation();
      if (!isOpened) open(e);
    });
  }



  return {
    setDropdown: function (dd) {
      deDropdown = dd;
    }
  };

  function open(e) {
    if (opt.onOpening && opt.onOpening(e) === false) {
      return;
    }

    if (isOpened) return;
    isOpened = true;

    var deCont = opt.menuParent || amgui.deOverlayCont || deBtn;

    deDropdown.style.position = "fixed";
    deDropdown.style.pointerEvents = "auto";
    deCont.appendChild(deDropdown);

    amgui.placeToPoint(deDropdown, e.clientX, e.clientY, opt.side);

    deDropdown.addEventListener("select", close);
    setTimeout(function () {
      window.addEventListener("click", close);
      window.addEventListener("contextmenu", close);
    });
  }

  function close(e) {
    if (!isOpened) return;
    isOpened = false;

    if (deDropdown.parentElement) {
      deDropdown.parentElement.removeChild(deDropdown);
    }
    deDropdown.removeEventListener("select", close);
    window.removeEventListener("click", close);
    window.removeEventListener("contextmenu", close);
  }
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.input.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createInput: createInput };
};


function createInput(opt) {
  opt = opt || {};

  var inp = document.createElement("input");
  inp.type = opt.type || "text";
  inp.style.width = opt.width || "245px";
  inp.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  inp.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  inp.style.fontFamily = amgui.FONT_FAMILY;
  inp.style.color = amgui.color.text;
  inp.style.background = "none";
  inp.style.border = "none";
  inp.style.padding = "0";

  if ("palceholder" in opt) inp.palceholder = opt.palceholder;
  if ("value" in opt) inp.value = opt.value;
  if ("flex" in opt) inp.style.flex = opt.flex;

  if (opt.onChange) {
    inp.addEventListener("input", opt.onChange);
  }

  inp.addEventListener("mousedown", function (e) {
    return e.stopPropagation();
  });

  if (opt.parent) {
    opt.parent.appendChild(inp);
  }

  inp.setValue = function (v) {
    if (v === inp.value) return;

    inp.value = v;
  };

  return inp;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var fontelloConf = require("../assets/fontello/config.json");

var amgui = window.amgui = new EventEmitter();

WebFont.load({
  google: {
    families: ["Open+Sans:300,400,600,700,800:latin,latin-ext"]
  },
  custom: {
    families: ["amgui"] },
  fontactive: (function () {
    var variants = ["amgui:n4", "Open Sans:n3", "Open Sans:n4", "Open Sans:n6", "Open Sans:n7", "Open Sans:n8"];

    return function (familyName, fvd) {
      var variant = familyName + ":" + fvd;

      if (variants.indexOf(variant) !== -1) {
        variants.splice(variants.indexOf(variant), 1);

        if (variants.length === 0) {
          amgui.flag("fontLoaded");
          amgui.emit("fontLoaded");
        }
      }
    };
  })() });

_.extend(amgui, require("./amgui.bezierEditor")(amgui), require("./amgui.breadcrumbs")(amgui), require("./amgui.button")(amgui), require("./amgui.checkbox")(amgui), require("./amgui.cursor")(amgui), require("./amgui.dialog")(amgui), require("./amgui.drawer")(amgui), require("./amgui.dropdown")(amgui), require("./amgui.input")(amgui), require("./amgui.keyValueInput")(amgui), require("./amgui.makeDraggable")(amgui), require("./amgui.scroll")(amgui), require("./amgui.stepperKey")(amgui), require("./amgui.tooltip")(amgui), require("./amgui.utils")(amgui), {
  FONT_FAMILY: "\"Open Sans\", sans-serif",
  FONT_SIZE: "12px",
  LINE_HEIGHT: 16,

  deOverlayCont: undefined, //am._init() fill this

  color: {
    bg0: "#222425",
    bg1: "#303030",
    bg2: "#3f4040",
    bg3: "#393b3f",
    bgInverse: "#eee",
    text: "#eee",
    textMinor: "#aaa",
    textInverse: "#111",
    textInactive: "rgba(255,255,255,.23)",
    overlay: "rgba(0,0,0,.785)",
    overlayInverse: "rgba(222,232,222,.785)",
    bgHover: "rgba(255,255,255,0.12)",
    selected: "#01FF70",
    transparent: "rgba(0,0,0,0)",
    //https://github.com/mrmrs/colors
    aqua: "#7FDBFF",
    blue: "#0074D9",
    lime: "#01FF70",
    navy: "#001F3F",
    teal: "#39CCCC",
    olive: "#3D9970",
    green: "#2ECC40",
    red: "#FF4136",
    maroon: "#85144B",
    orange: "#FF851B",
    purple: "#B10DC9",
    yellow: "#FFDC00",
    fuchsia: "#F012BE",
    gray: "#aaa",
    white: "#fff",
    black: "#111",
    silver: "#ddd" },

  getStyleSheet: function () {
    var style = document.createElement("style");

    style.innerHTML = "a{color: " + amgui.color.aqua + ";text-decoration:none;}";

    return style;
  },

  createDiv: function (opt) {
    var de = document.createElement("div");
    de.style.webkitUserSelect = "none";
    de.style.mozUserSelect = "none";
    de.style.msUserSelect = "none";
    de.style.userSelect = "none";

    if (typeof (opt) === "object") {
      if ("display" in opt) de.style.display = opt.display;
      if ("flex" in opt) de.style.flex = opt.flex;
      if ("position" in opt) de.style.position = opt.position;
      if ("parent" in opt) opt.parent.appendChild(de);
      if ("width" in opt) de.style.width = opt.width;
      if ("height" in opt) de.style.height = opt.height;
      if ("debug" in opt) de.setAttribute("data-debug", opt.debug);
    }

    return de;
  },

  createSeparator: function (opt) {
    var de = amgui.createDiv(opt);
    de.style.width = "100%";
    de.style.height = "0px";
    de.style.bottom = "0px";
    de.style.position = "absolute";
    de.style.borderBottom = "solid 1px rgba(255,255,255,.11)";
  },

  getIconChar: function (iconName) {
    var glyph = fontelloConf.glyphs.find(function (glyph) {
      return glyph.css === iconName;
    });

    var code = glyph ? glyph.code : 59407;

    return String.fromCharCode(code);
  }
});


amgui.setMaxListeners(0);

module.exports = amgui;

},{"../assets/fontello/config.json":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\config.json","./amgui.bezierEditor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.bezierEditor.js","./amgui.breadcrumbs":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.breadcrumbs.js","./amgui.button":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.button.js","./amgui.checkbox":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.checkbox.js","./amgui.cursor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.cursor.js","./amgui.dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dialog.js","./amgui.drawer":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.drawer.js","./amgui.dropdown":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.dropdown.js","./amgui.input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.input.js","./amgui.keyValueInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.keyValueInput.js","./amgui.makeDraggable":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.makeDraggable.js","./amgui.scroll":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.scroll.js","./amgui.stepperKey":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.stepperKey.js","./amgui.tooltip":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.tooltip.js","./amgui.utils":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.utils.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.keyValueInput.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createKeyValueInput: createKeyValueInput };
};



function createKeyValueInput(opt) {
  opt = opt || {};

  var de = document.createElement("div");
  de.style.margin = "0 1px";
  de.style.height = amgui.LINE_HEIGHT + "px";
  de.style.position = "relative";

  var keyOn = false;

  var oldKey, oldValue;

  var inpKey = createInput("parameter name");
  inpKey.addEventListener("keypress", onKeyPress);

  var divider = createDivider();

  var inpValue = createInput("value");
  // inpValue.style.color = 'lightblue';
  inpValue.style.textAlign = "right";
  inpValue.style.right = "0px";

  showHideValue(keyOn);

  de.getKey = function () {
    return inpKey.value;
  };

  de.setKey = function (v) {
    if (v === oldKey) return;

    oldKey = v;
    inpKey.value = v;
    checkKeyOn();
  };

  de.getValue = function () {
    return inpValue.value;
  };

  de.setValue = function (v) {
    if (v === oldValue) return;

    oldValue = v;
    inpValue.value = v;
  };

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  if (opt.key) {
    de.setKey(opt.key);
  }

  if (opt.value) {
    de.setValue(opt.value);
  }

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  function onChange(e) {
    e.preventDefault();
    e.stopPropagation();

    checkKeyOn();

    var detail = {};

    if (de.getKey() !== oldKey) {
      oldKey = detail.key = de.getKey();
    }
    if (de.getValue() !== oldValue) {
      oldValue = detail.value = de.getValue();
    }

    if ("value" in detail || "key" in detail) {
      de.dispatchEvent(new CustomEvent("change", { detail: detail }));
    }
  }

  function onKeyPress(e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      e.stopPropagation();

      inpValue.focus();
    }
  }

  function checkKeyOn() {
    var on = !!inpKey.value;

    if (on !== keyOn) {
      keyOn = on;
      showHideValue(keyOn);
    }
  }

  function showHideValue(show) {
    divider.style.display = show ? "inline" : "none";
    inpValue.style.display = show ? "inline-block" : "none";
    inpKey.style.width = show ? "calc(50% - 5px)" : "100%";
  }

  function createInput(placeholder) {
    var inp = document.createElement("input");
    inp.type = "text";
    inp.placeholder = placeholder;
    inp.style.width = "50%";
    inp.style.height = "100%";
    inp.style.fontSize = amgui.FONT_SIZE;
    inp.style.fontFamily = amgui.FONT_FAMILY;
    inp.style.background = "none";
    inp.style.border = "none";
    inp.style.color = amgui.color.text;
    inp.addEventListener("change", onChange);
    inp.addEventListener("keyup", onChange);
    // $(inp).autosizeInput({space: 0});
    de.appendChild(inp);
    return inp;
  }

  function createDivider() {
    var divider = document.createElement("span");
    divider.textContent = ":";
    divider.style.color = amgui.color.text;
    divider.style.width = "2px";
    divider.style.fontSize = amgui.FONT_SIZE;
    divider.style.fontFamily = amgui.FONT_FAMILY;
    de.appendChild(divider);

    return divider;
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.makeDraggable.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    makeDraggable: makeDraggable };
};

function makeDraggable(opt) {
  opt = opt || {};

  var md, isOver, isDrag, waitingMoveEvent, waitingMoveRaf;

  if (opt.deTarget) {
    opt.deTarget.addEventListener("mousedown", onDown);
    opt.deTarget.addEventListener("mouseover", onEnter);
    opt.deTarget.addEventListener("mouseleave", onLeave);
  }

  return {
    emitDown: function (e) {
      onDown(e);
    },
    destroy: function () {}
  };

  function onDown(e) {
    if (e.button !== 0) {
      return;
    }

    e.stopPropagation(); //ex. prevent to drag the parent if that's draggable too
    e.preventDefault(); //ex. prevent selecting text

    isDrag = true;

    var custom = call("onDown", [e]);

    if (custom === false) {
      //prevent dragging

      return;
    }

    md = custom || {};

    md.mx = e.clientX;
    md.my = e.clientY;
    md.dx = 0;
    md.dy = 0;

    window.addEventListener("mousemove", onMove);
    window.addEventListener("mouseup", onUp);
    window.addEventListener("mouseleave", onUp);
  }

  function onMove(e) {
    waitingMoveEvent = e;

    if (!waitingMoveRaf) {
      waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
    }
  }

  function rafOnMove() {
    window.cancelAnimationFrame(waitingMoveRaf);

    var wme = waitingMoveEvent;
    waitingMoveRaf = undefined;
    waitingMoveEvent = undefined;

    var mx = wme.clientX, my = wme.clientY;

    md.dx = mx - md.mx;
    md.dy = my - md.my;

    call(["onMove", "onDrag"], [md, mx, my]);
  }

  function onUp(e) {
    window.removeEventListener("mousemove", onMove);
    window.removeEventListener("mouseup", onUp);
    window.removeEventListener("mouseleave", onUp);

    if (waitingMoveEvent) {
      rafOnMove();
    }

    isDrag = false;
    if (!isOver) {
      onLeave();
    }

    call("onUp", [md, e.clientX, e.clientY, e]);
  }

  function onEnter() {
    isOver = true;

    if (!isDrag) {
      call("onEnter");
    }
  }

  function onLeave() {
    isOver = false;

    if (!isDrag) {
      call("onLeave");
    }
  }

  function call(name, args) {
    if (name instanceof Array) {
      name.forEach(function (name) {
        call(name, args);
      });

      return;
    }

    if (name in opt) {
      return opt[name].apply(opt.thisArg, args);
    }
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.scroll.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createRange: createRange,
    makeScrollable: makeScrollable };
};



function makeScrollable(opt) {
  var pos = 0, deConts = opt.deCont, deTargets = opt.deTarget, deRange = opt.deRange, ret = { dispose: dispose };

  if (!Array.isArray(deConts)) deConts = [deConts];
  if (!Array.isArray(deTargets)) deTargets = [deTargets];

  deConts.forEach(function (cont) {
    if (!cont) throw "false contaiter";
  });
  deTargets.forEach(function (target) {
    if (!target) throw "false target";
  });

  deConts.forEach(function (deC) {
    deC.addEventListener("wheel", onWheel);
  });
  deTargets.forEach(function (deT) {
    var pos = deT.style.position;
    if (pos !== "absolute" && pos !== "fixed" && pos !== "relative") {
      deT.style.position = "relative";
    };
  });


  //create a basic scroll bar if it is not set at all
  if (!("deRange" in opt)) {
    deRange = this._scrollRange = amgui.createRange({
      parent: deConts[0],
      height: "100%",
      vertical: true
    });

    deRange.style.position = "absolute";
    deRange.style.top = "0px";
    deRange.style.right = "0px";
  }

  if (deRange) {
    initRange();
  }


  return ret;





  function onWheel(e) {
    var way = e.deltaY / 3, maxH = getTargetMaxH();

    pos = Math.max(0, Math.min(maxH, pos + way));

    if (deRange) {
      deRange.setValue(pos / maxH);
    }

    scroll();
  }

  function onChangeRange(e) {
    pos = getTargetMaxH() * e.detail.value;
    scroll();
  }

  function scroll() {
    deTargets.forEach(function (deT) {
      deT.style.top = -pos + "px";
    });
  }

  function getTargetMaxH() {
    var contH = Math.max.apply(null, deConts.slice().map(getH)), targetH = Math.max.apply(null, deTargets.slice().map(getH));

    return targetH - contH;
  }

  function getH(de) {
    return de.getBoundingClientRect().height;
  }

  function initRange() {
    var saveDisplay = deRange.style.display, isShowing = false, refreshSetI;

    deRange.style.display = "none";

    deRange.addEventListener("change", onChangeRange);

    refreshSetI = setInterval(function () {
      var needsRange = getTargetMaxH() > 0;

      if (isShowing !== needsRange) {
        isShowing = needsRange;

        deRange.style.display = isShowing ? saveDisplay : "none";
      }
    }, 312);

    var saveDispose = ret.dispose;
    ret.dispose = function dispose() {
      saveDispose();

      clearInterval(refreshSetI);

      deRange.removeEventListener("change", onChangeRange);
    };
  }

  function dispose() {
    deConts.forEach(function (deC) {
      deC.removeEventListener("wheel", onWheel);
    });
  }
}




function createRange(opt) {
  opt = opt || {};

  var value = 0, cursorWidth = 0, isVertical = !!opt.vertical;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = opt.width || "6px";
  de.style.height = opt.height || "140px";
  de.style.background = amgui.color.bg1;
  de.style.cursor = "pointer";

  var deCursor = document.createElement("div");
  deCursor.style.position = "absolute";
  deCursor.style[d("left", "top")] = "0";
  deCursor.style[d("right", "bottom")] = "0";
  deCursor.style.margin = d("auto 0", "0 auto");
  deCursor.style.background = amgui.color.bg3;
  deCursor.style[d("width", "height")] = opt.cursorHeight || "100%";
  de.appendChild(deCursor);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.setCursorWidth = function (w) {
    deCursor.style[d("height", "width")] = w + "px";
    cursorWidth = w;
  };
  de.setCursorWidth(opt.cursorWidth || 12);

  amgui.makeDraggable({
    deTarget: de,
    onMove: function (md, mx, my) {
      var br = de.getBoundingClientRect(), p = d(my, mx) - (d(br.top, br.left) + cursorWidth / 2), fw = d(br.height, br.width) - cursorWidth, pos = Math.max(0, Math.min(1, p / fw));

      de.setValue(pos);
    }
  });

  de.setValue = function (v) {
    if (v === value) return;

    value = v;

    var width = de.getBoundingClientRect()[d("height", "width")];
    deCursor.style[d("top", "left")] = ((width - cursorWidth) * value) + "px";

    de.dispatchEvent(new CustomEvent("change", { detail: { value: value } }));
  };

  de.getValue = function () {
    return value;
  };

  function d(vertical, horisontal) {
    return isVertical ? vertical : horisontal;
  }

  return de;
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.stepperKey.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createStepperKey: createStepperKey };
};


function createStepperKey(opt) {
  opt = opt || {};

  opt.height = opt.height || amgui.LINE_HEIGHT;

  var hasPrev = false, hasNext = false, isShowingSteppers = false, isMOverKey = false, isMOverStepper = false, stepperW = 8;

  var de = amgui.createToggleIconBtn({
    icon: "key",
    height: opt.height,
    onClick: opt.onClick,
    changeColor: true,
    parent: opt.parent
  });
  de.style.position = "relative";
  de.style.overflow = "";

  de.addEventListener("mouseenter", onMOverKey);
  de.addEventListener("mouseleave", onMOutKey);

  var dePrev = createStepper(true);
  var deNext = createStepper(false);

  de.setSteppers = function (_hasPrev, _hasNext) {
    hasPrev = _hasPrev;
    hasNext = _hasNext;

    if (isShowingSteppers) {
      hideSteppers();
      showSteppers();
    }
  };

  de.setHighlight = function (on) {
    de.style.color = on ? amgui.color.text : amgui.color.textInactive;
  };

  return de;

  function onMOverKey() {
    isMOverKey = true;onChangeOver();
  }
  function onMOutKey() {
    isMOverKey = false;onChangeOver();
  }
  function onMOverStepper() {
    isMOverStepper = true;onChangeOver();
  }
  function onMOutStepper() {
    isMOverStepper = false;onChangeOver();
  }

  function onChangeOver() {
    if (isMOverKey || isMOverStepper) {
      if (!isShowingSteppers) {
        showSteppers();
      }
    } else if (!isMOverKey && !isMOverStepper) {
      if (isShowingSteppers) {
        hideSteppers();
      }
    }
  };

  function showSteppers() {
    isShowingSteppers = true;

    var br = de.getBoundingClientRect();

    if (hasPrev) {
      amgui.deOverlayCont.appendChild(dePrev);
      dePrev.style.left = (br.left - stepperW) + "px";
      dePrev.style.top = br.top + "px";
    }

    if (hasNext) {
      amgui.deOverlayCont.appendChild(deNext);
      deNext.style.left = br.right + "px";
      deNext.style.top = br.top + "px";
    }
  }

  function hideSteppers() {
    isShowingSteppers = false;

    if (dePrev.parentNode) {
      dePrev.parentNode.removeChild(dePrev);
    }

    if (deNext.parentNode) {
      deNext.parentNode.removeChild(deNext);
    }
  }

  function createStepper(isLeft) {
    var deStepper = amgui.createIconBtn({
      color: amgui.color.textInverse,
      background: amgui.color.overlayInverse,
      backgroundHover: amgui.color.bgInverse,
      icon: isLeft ? "angle-left" : "angle-right",
      height: opt.height,
      width: stepperW,
      onClick: isLeft ? opt.onClickPrev : opt.onClickNext
    });
    deStepper.style.position = "absolute";
    deStepper.style.pointerEvents = "auto";
    deStepper.addEventListener("mouseenter", onMOverStepper);
    deStepper.addEventListener("mouseleave", onMOutStepper);

    return deStepper;
  }
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.tooltip.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    addTooltip: addTooltip,
    removeTooltip: removeTooltip,
    getTooltip: getTooltip };
};

var tooltipMap = new Map();



function addTooltip(opt) {
  var showSetT, delay = 423, mx = 0, my = 0;

  var de = document.createElement("div");
  de.textContent = opt.text;
  de.style.position = "fixed";
  de.style.padding = "12px";
  de.style.display = "inline-block";
  de.style.background = amgui.color.overlayInverse;
  de.style.color = amgui.color.textInverse;

  de.remove = function () {
    opt.deTarget.removeEventListener("mouseenter", onMEnter);
    onMLeave();
  };

  de.setContent = function (content) {
    de.textContent = content;
  };

  tooltipMap.set(opt.deTarget, de);

  opt.deTarget.addEventListener("mouseenter", onMEnter);

  function onMEnter(e) {
    opt.deTarget.addEventListener("mousemove", onMMove);
    opt.deTarget.addEventListener("mouseleave", onMLeave);
    opt.deTarget.addEventListener("mousedown", onMLeave);

    onMMove(e);
  }

  function onMLeave() {
    opt.deTarget.removeEventListener("mousemove", onMMove);
    opt.deTarget.removeEventListener("mouseleave", onMLeave);
    opt.deTarget.removeEventListener("mousedown", onMLeave);

    hide();
    clearShowSetT();
  }

  function onMMove(e) {
    hide();
    refreshShowSetT();
    mx = e.clientX;
    my = e.clientY;
  }

  function refreshShowSetT() {
    clearShowSetT();
    showSetT = setTimeout(show, delay);
  }

  function clearShowSetT() {
    clearTimeout(showSetT);
  }

  function show() {
    amgui.deOverlayCont.appendChild(de);
    amgui.placeToPoint(de, mx, my, opt.side);
  }

  function hide() {
    if (de.parentElement) {
      de.parentElement.removeChild(de);
    }
  }
};

function removeTooltip(deTarget) {
  var tooltip = amgui.getTooltip(deTarget);

  if (tooltip) {
    tooltip.remove();
  }
};

function getTooltip(deTarget) {
  return tooltipMap.get(deTarget);
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.utils.js":[function(require,module,exports){
"use strict";

var amgui;


function placeToPoint(de, mx, my, way) {
  amgui.callOnAdded(de, function () {
    var px = 0, py = 0, br = de.getBoundingClientRect(), w = br.width, h = br.height, ww = window.innerWidth, wh = window.innerHeight;

    way = way || "left";

    switch (way) {
      case "top":
        px = mx - (w / 2);
        py = my - h;
        break;

      case "right":
        px = mx;
        py = my - (h / 2);
        break;

      case "bottom":
        px = mx - (w / 2);
        py = my;
        break;

      default:
      case "left":
        px = mx - w;
        py = my - (h / 2);
    }

    if (py < 0) py = 0;
    if (px + w > ww) px -= (px + w) - ww;
    if (py + h > wh) py -= (py + h) - wh;
    if (px < 0) px = 0;

    de.style.left = px + "px";
    de.style.top = py + "px";
  });
}

function callOnAdded(de, cb, thisArg) {
  if (de instanceof Array) {
    var deRest = de;
    de = deRest.shift();

    if (deRest.length !== 0) {
      cb = callOnAdded.bind(this, deRest, cb, thisArg);
    }
  }


  var setT, setTTime = 1;
  checkLoop();

  function checkLoop() {
    if (check(de)) {
      cb.call(thisArg);
    } else {
      if (setTTime < 256) {
        setTTime *= 2;
      }

      clearTimeout(setT);
      setT = setTimeout(checkLoop, setTTime);
    }
  }

  function check(node) {
    while (node.parentNode) {
      node = node.parentNode;

      if (node.nodeType === 9 || node.nodeType === 11) {
        return true;
      }
    }
  }
}



var delayWithRAF = (function () {
  var stack = new Map(), waiting = undefined;

  var onRaf = function () {
    stack.forEach(function (reg, fn) {
      fn.apply(reg.ctx, reg.args);
    });

    stack.clear();
    waiting = undefined;
  };

  return function (fn) {
    function wrapper() {
      fn.apply(this, arguments);
    };

    return function () {
      stack.set(wrapper, { ctx: this, args: arguments });

      if (waiting === undefined) {
        waiting = window.requestAnimationFrame(onRaf);
      }
    };
  };
})();



module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    placeToPoint: placeToPoint,
    callOnAdded: callOnAdded,
    delayWithRAF: delayWithRAF };
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\config.json":[function(require,module,exports){
module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={
  "name": "amgui",
  "css_prefix_text": "icon-",
  "css_use_suffix": false,
  "hinting": true,
  "units_per_em": 1000,
  "ascent": 850,
  "glyphs": [
    {
      "uid": "53ed8570225581269cd7eff5795e8bea",
      "css": "emo-unhappy",
      "code": 59412,
      "src": "fontelico"
    },
    {
      "uid": "68e298ff2d8b25dd7f647ed64f5ae690",
      "css": "emo-surprised",
      "code": 59432,
      "src": "fontelico"
    },
    {
      "uid": "bb68a13a3574b087d4350eff0b8d48e3",
      "css": "emo-tongue",
      "code": 59479,
      "src": "fontelico"
    },
    {
      "uid": "4843d0d6050dd508d4c101a334f46db2",
      "css": "emo-shoot",
      "code": 59480,
      "src": "fontelico"
    },
    {
      "uid": "2bd5f98482d86649958312ea2ab5bb40",
      "css": "emo-laugh",
      "code": 59481,
      "src": "fontelico"
    },
    {
      "uid": "8ce732688587909ad0a9d8323eaca8ad",
      "css": "marquee",
      "code": 59413,
      "src": "fontelico"
    },
    {
      "uid": "5211af474d3a9848f67f945e2ccaf143",
      "css": "cancel",
      "code": 59427,
      "src": "fontawesome"
    },
    {
      "uid": "44e04715aecbca7f266a17d5a7863c68",
      "css": "plus",
      "code": 59431,
      "src": "fontawesome"
    },
    {
      "uid": "1a5cfa186647e8c929c2b17b9fc4dac1",
      "css": "plus-squared",
      "code": 59398,
      "src": "fontawesome"
    },
    {
      "uid": "ce3cf091d6ebd004dd0b52d24074e6e3",
      "css": "help",
      "code": 59510,
      "src": "fontawesome"
    },
    {
      "uid": "3d4ea8a78dc34efe891f3a0f3d961274",
      "css": "info",
      "code": 59509,
      "src": "fontawesome"
    },
    {
      "uid": "0ddd3e8201ccc7d41f7b7c9d27eca6c1",
      "css": "link",
      "code": 59460,
      "src": "fontawesome"
    },
    {
      "uid": "1dcd2b2148b7f086a4eb47f6a746bdee",
      "css": "unlink",
      "code": 59461,
      "src": "fontawesome"
    },
    {
      "uid": "c5fd349cbd3d23e4ade333789c29c729",
      "css": "eye",
      "code": 59438,
      "src": "fontawesome"
    },
    {
      "uid": "7fd683b2c518ceb9e5fa6757f2276faa",
      "css": "eye-off",
      "code": 59439,
      "src": "fontawesome"
    },
    {
      "uid": "57a0ac800df728aad61a7cf9e12f5fef",
      "css": "flag",
      "code": 59497,
      "src": "fontawesome"
    },
    {
      "uid": "6c83092421441296f5c4e8074b0cf32c",
      "css": "flag-empty",
      "code": 59496,
      "src": "fontawesome"
    },
    {
      "uid": "d7a614bd701f6712e8e3b2be124899e1",
      "css": "flag-checkered",
      "code": 59473,
      "src": "fontawesome"
    },
    {
      "uid": "9a76bc135eac17d2c8b8ad4a5774fc87",
      "css": "download",
      "code": 59414,
      "src": "fontawesome"
    },
    {
      "uid": "f5999a012fc3752386635ec02a858447",
      "css": "download-cloud",
      "code": 115,
      "src": "fontawesome"
    },
    {
      "uid": "de2fc7a5c986ab8c622f63455d7cf814",
      "css": "upload-cloud",
      "code": 117,
      "src": "fontawesome"
    },
    {
      "uid": "7034e4d22866af82bef811f52fb1ba46",
      "css": "code",
      "code": 59417,
      "src": "fontawesome"
    },
    {
      "uid": "4aad6bb50b02c18508aae9cbe14e784e",
      "css": "share",
      "code": 59508,
      "src": "fontawesome"
    },
    {
      "uid": "d35a1d35efeb784d1dc9ac18b9b6c2b6",
      "css": "pencil",
      "code": 59448,
      "src": "fontawesome"
    },
    {
      "uid": "0133387f2069a1b3168942b84d81dd3a",
      "css": "gamepad",
      "code": 59495,
      "src": "fontawesome"
    },
    {
      "uid": "f48ae54adfb27d8ada53d0fd9e34ee10",
      "css": "trash",
      "code": 59396,
      "src": "fontawesome"
    },
    {
      "uid": "1b5a5d7b7e3c71437f5a26befdd045ed",
      "css": "doc",
      "code": 59405,
      "src": "fontawesome"
    },
    {
      "uid": "3c961c1a8d874815856fc6637dc5a13c",
      "css": "file-image",
      "code": 59513,
      "src": "fontawesome"
    },
    {
      "uid": "81db033e704eb7c586a365559d7c0f36",
      "css": "file-audio",
      "code": 59512,
      "src": "fontawesome"
    },
    {
      "uid": "dd69d9aa589ea7bc0a82a3fe67039f4b",
      "css": "file-video",
      "code": 59511,
      "src": "fontawesome"
    },
    {
      "uid": "26613a2e6bc41593c54bead46f8c8ee3",
      "css": "file-code",
      "code": 59400,
      "src": "fontawesome"
    },
    {
      "uid": "b091a8bd0fdade174951f17d936f51e4",
      "css": "folder-empty",
      "code": 59403,
      "src": "fontawesome"
    },
    {
      "uid": "6533bdc16ab201eb3f3b27ce989cab33",
      "css": "folder-open-empty",
      "code": 59404,
      "src": "fontawesome"
    },
    {
      "uid": "559647a6f430b3aeadbecd67194451dd",
      "css": "menu",
      "code": 59440,
      "src": "fontawesome"
    },
    {
      "uid": "e99461abfef3923546da8d745372c995",
      "css": "cog",
      "code": 59393,
      "src": "fontawesome"
    },
    {
      "uid": "5bb103cd29de77e0e06a52638527b575",
      "css": "wrench",
      "code": 59415,
      "src": "fontawesome"
    },
    {
      "uid": "21b42d3c3e6be44c3cc3d73042faa216",
      "css": "sliders",
      "code": 59416,
      "src": "fontawesome"
    },
    {
      "uid": "598a5f2bcf3521d1615de8e1881ccd17",
      "css": "clock",
      "code": 59458,
      "src": "fontawesome"
    },
    {
      "uid": "5278ef7773e948d56c4d442c8c8c98cf",
      "css": "lightbulb",
      "code": 59502,
      "src": "fontawesome"
    },
    {
      "uid": "98d9c83c1ee7c2c25af784b518c522c5",
      "css": "block",
      "code": 59500,
      "src": "fontawesome"
    },
    {
      "uid": "e594fc6e5870b4ab7e49f52571d52577",
      "css": "resize-full",
      "code": 59437,
      "src": "fontawesome"
    },
    {
      "uid": "b013f6403e5ab0326614e68d1850fd6b",
      "css": "resize-full-alt",
      "code": 59498,
      "src": "fontawesome"
    },
    {
      "uid": "3c24ee33c9487bbf18796ca6dffa1905",
      "css": "resize-small",
      "code": 59436,
      "src": "fontawesome"
    },
    {
      "uid": "d3b3f17bc3eb7cd809a07bbd4d178bee",
      "css": "resize-vertical",
      "code": 59452,
      "src": "fontawesome"
    },
    {
      "uid": "3c73d058e4589b65a8d959c0fc8f153d",
      "css": "resize-horizontal",
      "code": 59450,
      "src": "fontawesome"
    },
    {
      "uid": "6605ee6441bf499ffa3c63d3c7409471",
      "css": "move",
      "code": 59451,
      "src": "fontawesome"
    },
    {
      "uid": "0b2b66e526028a6972d51a6f10281b4b",
      "css": "zoom-in",
      "code": 59503,
      "src": "fontawesome"
    },
    {
      "uid": "d25d10efa900f529ad1d275657cfd30e",
      "css": "zoom-out",
      "code": 59504,
      "src": "fontawesome"
    },
    {
      "uid": "c53068fe21c8410b0a098b4c52c3d37e",
      "css": "down-circled2",
      "code": 59433,
      "src": "fontawesome"
    },
    {
      "uid": "128d63150a41800e0beff55235269542",
      "css": "up-circled2",
      "code": 59505,
      "src": "fontawesome"
    },
    {
      "uid": "2d6150442079cbda7df64522dc24f482",
      "css": "down-dir",
      "code": 59419,
      "src": "fontawesome"
    },
    {
      "uid": "80cd1022bd9ea151d554bec1fa05f2de",
      "css": "up-dir",
      "code": 59494,
      "src": "fontawesome"
    },
    {
      "uid": "9dc654095085167524602c9acc0c5570",
      "css": "left-dir",
      "code": 59492,
      "src": "fontawesome"
    },
    {
      "uid": "fb1c799ffe5bf8fb7f8bcb647c8fe9e6",
      "css": "right-dir",
      "code": 59491,
      "src": "fontawesome"
    },
    {
      "uid": "f3f90c8c89795da30f7444634476ea4f",
      "css": "angle-left",
      "code": 59434,
      "src": "fontawesome"
    },
    {
      "uid": "7bf14281af5633a597f85b061ef1cfb9",
      "css": "angle-right",
      "code": 59394,
      "src": "fontawesome"
    },
    {
      "uid": "5de9370846a26947e03f63142a3f1c07",
      "css": "angle-up",
      "code": 59435,
      "src": "fontawesome"
    },
    {
      "uid": "e4dde1992f787163e2e2b534b8c8067d",
      "css": "angle-down",
      "code": 59395,
      "src": "fontawesome"
    },
    {
      "uid": "bc71f4c6e53394d5ba46b063040014f1",
      "css": "cw",
      "code": 59425,
      "src": "fontawesome"
    },
    {
      "uid": "f9c3205df26e7778abac86183aefdc99",
      "css": "ccw",
      "code": 59426,
      "src": "fontawesome"
    },
    {
      "uid": "37c5ab63f10d7ad0b84d0978dcd0c7a8",
      "css": "shuffle",
      "code": 59469,
      "src": "fontawesome"
    },
    {
      "uid": "6020aff067fc3c119cdd75daa5249220",
      "css": "exchange",
      "code": 59470,
      "src": "fontawesome"
    },
    {
      "uid": "d4816c0845aa43767213d45574b3b145",
      "css": "history",
      "code": 59418,
      "src": "fontawesome"
    },
    {
      "uid": "84bb9695b8662fa4783242f84c9e4682",
      "css": "expand",
      "code": 59446,
      "src": "fontawesome"
    },
    {
      "uid": "7960517a504e42aea0641f15bc55fbed",
      "css": "collapse",
      "code": 59447,
      "src": "fontawesome"
    },
    {
      "uid": "ed5a38704f0329e610ee1c92bec3ad3d",
      "css": "expand-right",
      "code": 59471,
      "src": "fontawesome"
    },
    {
      "uid": "ea2ec99fbce03864e593bbf4f302a79d",
      "css": "collapse-left",
      "code": 59472,
      "src": "fontawesome"
    },
    {
      "uid": "ce06b5805120d0c2f8d60cd3f1a4fdb5",
      "css": "play",
      "code": 59397,
      "src": "fontawesome"
    },
    {
      "uid": "0b28050bac9d3facf2f0226db643ece0",
      "css": "pause",
      "code": 59399,
      "src": "fontawesome"
    },
    {
      "uid": "e75c54c282c0bf22186c5c7ec4b03eac",
      "css": "target",
      "code": 59457,
      "src": "fontawesome"
    },
    {
      "uid": "3212f42c65d41ed91cb435d0490e29ed",
      "css": "flash-1",
      "code": 59475,
      "src": "fontawesome"
    },
    {
      "uid": "38575a803c4da31ce20d77e1e1236bcb",
      "css": "paper-plane",
      "code": 59474,
      "src": "fontawesome"
    },
    {
      "uid": "a2a74f5e7b7d9ba054897d8c795a326a",
      "css": "list-bullet",
      "code": 59499,
      "src": "fontawesome"
    },
    {
      "uid": "09bdae120f85e79f2db16145a9e1f6d8",
      "css": "crop",
      "code": 59489,
      "src": "fontawesome"
    },
    {
      "uid": "8772331a9fec983cdb5d72902a6f9e0e",
      "css": "scissors",
      "code": 59424,
      "src": "fontawesome"
    },
    {
      "uid": "107ce08c7231097c7447d8f4d059b55f",
      "css": "ellipsis",
      "code": 59444,
      "src": "fontawesome"
    },
    {
      "uid": "750058837a91edae64b03d60fc7e81a7",
      "css": "ellipsis-vert",
      "code": 59443,
      "src": "fontawesome"
    },
    {
      "uid": "aa991e8e66ac54b33f0a4b0555597b08",
      "css": "barcode",
      "code": 59507,
      "src": "fontawesome"
    },
    {
      "uid": "ca90da02d2c6a3183f2458e4dc416285",
      "css": "ajust",
      "code": 59459,
      "src": "fontawesome"
    },
    {
      "uid": "83458acd9f38d03ec0226ce82a83c0f4",
      "css": "tint",
      "code": 59490,
      "src": "fontawesome"
    },
    {
      "uid": "2a4e6c99b732a57da40e32fa2a7800a4",
      "css": "toggle-off",
      "code": 59464,
      "src": "fontawesome"
    },
    {
      "uid": "3256ef03b16e7ab51235bc7378b53bb5",
      "css": "toggle-on",
      "code": 59463,
      "src": "fontawesome"
    },
    {
      "uid": "dd6c6b221a1088ff8a9b9cd32d0b3dd5",
      "css": "check",
      "code": 59454,
      "src": "fontawesome"
    },
    {
      "uid": "4b900d04e8ab8c82f080c1cfbac5772c",
      "css": "check-empty",
      "code": 59462,
      "src": "fontawesome"
    },
    {
      "uid": "130380e481a7defc690dfb24123a1f0c",
      "css": "circle",
      "code": 59442,
      "src": "fontawesome"
    },
    {
      "uid": "422e07e5afb80258a9c4ed1706498f8a",
      "css": "circle-empty",
      "code": 59441,
      "src": "fontawesome"
    },
    {
      "uid": "5774d0a0e50f6eefc8be01bd761e5dd3",
      "css": "circle-thin",
      "code": 59423,
      "src": "fontawesome"
    },
    {
      "uid": "f4445feb55521283572ee88bc304f928",
      "css": "floppy",
      "code": 59401,
      "src": "fontawesome"
    },
    {
      "uid": "3e674995cacc2b09692c096ea7eb6165",
      "css": "megaphone",
      "code": 59430,
      "src": "fontawesome"
    },
    {
      "uid": "795efd07cd5205b589c883916a76cff0",
      "css": "hdd",
      "code": 59411,
      "src": "fontawesome"
    },
    {
      "uid": "8aa99bc60f3553bb3e31b73dd6e744c8",
      "css": "rocket",
      "code": 59477,
      "src": "fontawesome"
    },
    {
      "uid": "7432077e6a2d6aa19984ca821bb6bbda",
      "css": "bug",
      "code": 59476,
      "src": "fontawesome"
    },
    {
      "uid": "4109c474ff99cad28fd5a2c38af2ec6f",
      "css": "filter",
      "code": 59488,
      "src": "fontawesome"
    },
    {
      "uid": "6fe95ffc3c807e62647d4f814a96e0d7",
      "css": "sitemap",
      "code": 59445,
      "src": "fontawesome"
    },
    {
      "uid": "fa10777b2d88cc64cd6e4f26ef0e5264",
      "css": "terminal",
      "code": 59429,
      "src": "fontawesome"
    },
    {
      "uid": "5f0f183e241d15cbe486bff88b188dff",
      "css": "puzzle",
      "code": 59493,
      "src": "fontawesome"
    },
    {
      "uid": "c92ad3028acce9d51bae0ac82f5de8a2",
      "css": "bullseye",
      "code": 59408,
      "src": "fontawesome"
    },
    {
      "uid": "4fc9b8c122d1b5ca3df42a104a655e8b",
      "css": "language",
      "code": 59501,
      "src": "fontawesome"
    },
    {
      "uid": "55605ca79a65def1a9c300037ff1d0d5",
      "css": "paw",
      "code": 59420,
      "src": "fontawesome"
    },
    {
      "uid": "fbede3c5584282a0e9b131926dff71da",
      "css": "cube",
      "code": 59428,
      "src": "fontawesome"
    },
    {
      "uid": "ebffa4e734c8379ffee4fbfe49264d94",
      "css": "lifebuoy",
      "code": 59482,
      "src": "fontawesome"
    },
    {
      "uid": "c53415fbd2695033bd7180d7a9ed4934",
      "css": "rebel",
      "code": 59421,
      "src": "fontawesome"
    },
    {
      "uid": "6632ce1019f9115842335622cb55f4e7",
      "css": "empire",
      "code": 59422,
      "src": "fontawesome"
    },
    {
      "uid": "88e6faa0f633ee23667f815689e82af3",
      "css": "eyedropper",
      "code": 59486,
      "src": "fontawesome"
    },
    {
      "uid": "fa9a0b7e788c2d78e24cef1de6b70e80",
      "css": "brush",
      "code": 59487,
      "src": "fontawesome"
    },
    {
      "uid": "169f51b7e405de8c03cf85a6e8c740ab",
      "css": "bitbucket",
      "code": 59483,
      "src": "fontawesome"
    },
    {
      "uid": "76675011e906d50af404186b489fc76f",
      "css": "codeopen",
      "code": 59484,
      "src": "fontawesome"
    },
    {
      "uid": "9e34a047fee949eae9b6e613d790d6cf",
      "css": "dropbox",
      "code": 59409,
      "src": "fontawesome"
    },
    {
      "uid": "e7cb72a17f3b21e3576f35c3f0a7639b",
      "css": "git",
      "code": 59406,
      "src": "fontawesome"
    },
    {
      "uid": "5e0a374728ffa8d0ae1f331a8f648231",
      "css": "github",
      "code": 59485,
      "src": "fontawesome"
    },
    {
      "uid": "f06fe7ff18d1c591bc1183cb3ab105e9",
      "css": "google",
      "code": 59453,
      "src": "fontawesome"
    },
    {
      "uid": "2c2ca8a96b31781c9c8056d05c0a8980",
      "css": "blank",
      "code": 59407,
      "src": "fontawesome"
    },
    {
      "uid": "34ba50fe8e4f95e7f3d76c6534814a70",
      "css": "infinity",
      "code": 59506,
      "src": "entypo"
    },
    {
      "uid": "7184d8171b6a9b18eabbace94cca21db",
      "css": "chart-line",
      "code": 59478,
      "src": "entypo"
    },
    {
      "uid": "6cea40aa6cc50057083e4f0a5b92410c",
      "css": "flow-line",
      "code": 59467,
      "src": "entypo"
    },
    {
      "uid": "5f88095dc5e638863a0c733e99c32568",
      "css": "flow-parallel",
      "code": 59468,
      "src": "entypo"
    },
    {
      "uid": "e536c80e011366046360f5ffe669dbfd",
      "css": "folder-add",
      "code": 59402,
      "src": "typicons"
    },
    {
      "uid": "e2aba9565be51ca70224c07282afbba6",
      "css": "cursor",
      "code": 59449,
      "src": "iconic"
    },
    {
      "uid": "77928c849ac2ae6e77d4eae9f2927c00",
      "css": "flash",
      "code": 59466,
      "src": "mfglabs"
    },
    {
      "uid": "33afa0f624ce5dae73f62a3f21a67f83",
      "css": "vector",
      "code": 59455,
      "src": "mfglabs"
    },
    {
      "uid": "134af7f39e491515cc1a6d1eb94d9d8a",
      "css": "vector-pencil",
      "code": 59456,
      "src": "mfglabs"
    },
    {
      "uid": "da72ab64b02d997ff0521339f2997233",
      "css": "hash",
      "code": 59465,
      "src": "mfglabs"
    },
    {
      "uid": "366510ecfb08cd0110134b1ea907fb81",
      "css": "evernote",
      "code": 59410,
      "src": "zocial"
    },
    {
      "uid": "272e08e0e16226aadf94dcbf33aab2b2",
      "css": "key",
      "code": 59392,
      "src": "elusive"
    }
  ]
}
},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\css\\amgui.css":[function(require,module,exports){
module.exports = "@font-face {\n  font-family: 'amgui';\n  src: url('../font/amgui.eot?79774051');\n  src: url('../font/amgui.eot?79774051#iefix') format('embedded-opentype'),\n       url('../font/amgui.woff?79774051') format('woff'),\n       url('../font/amgui.ttf?79774051') format('truetype'),\n       url('../font/amgui.svg?79774051#amgui') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'amgui';\n    src: url('../font/amgui.svg?79774051#amgui') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"amgui\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n     \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-download-cloud:before { content: '\\73'; } /* 's' */\n.icon-upload-cloud:before { content: '\\75'; } /* 'u' */\n.icon-key:before { content: '\\e800'; } /* '' */\n.icon-cog:before { content: '\\e801'; } /* '' */\n.icon-angle-right:before { content: '\\e802'; } /* '' */\n.icon-angle-down:before { content: '\\e803'; } /* '' */\n.icon-trash:before { content: '\\e804'; } /* '' */\n.icon-play:before { content: '\\e805'; } /* '' */\n.icon-plus-squared:before { content: '\\e806'; } /* '' */\n.icon-pause:before { content: '\\e807'; } /* '' */\n.icon-file-code:before { content: '\\e808'; } /* '' */\n.icon-floppy:before { content: '\\e809'; } /* '' */\n.icon-folder-add:before { content: '\\e80a'; } /* '' */\n.icon-folder-empty:before { content: '\\e80b'; } /* '' */\n.icon-folder-open-empty:before { content: '\\e80c'; } /* '' */\n.icon-doc:before { content: '\\e80d'; } /* '' */\n.icon-git:before { content: '\\e80e'; } /* '' */\n.icon-blank:before { content: '\\e80f'; } /* '' */\n.icon-bullseye:before { content: '\\e810'; } /* '' */\n.icon-dropbox:before { content: '\\e811'; } /* '' */\n.icon-evernote:before { content: '\\e812'; } /* '' */\n.icon-hdd:before { content: '\\e813'; } /* '' */\n.icon-emo-unhappy:before { content: '\\e814'; } /* '' */\n.icon-marquee:before { content: '\\e815'; } /* '' */\n.icon-download:before { content: '\\e816'; } /* '' */\n.icon-wrench:before { content: '\\e817'; } /* '' */\n.icon-sliders:before { content: '\\e818'; } /* '' */\n.icon-code:before { content: '\\e819'; } /* '' */\n.icon-history:before { content: '\\e81a'; } /* '' */\n.icon-down-dir:before { content: '\\e81b'; } /* '' */\n.icon-paw:before { content: '\\e81c'; } /* '' */\n.icon-rebel:before { content: '\\e81d'; } /* '' */\n.icon-empire:before { content: '\\e81e'; } /* '' */\n.icon-circle-thin:before { content: '\\e81f'; } /* '' */\n.icon-scissors:before { content: '\\e820'; } /* '' */\n.icon-cw:before { content: '\\e821'; } /* '' */\n.icon-ccw:before { content: '\\e822'; } /* '' */\n.icon-cancel:before { content: '\\e823'; } /* '' */\n.icon-cube:before { content: '\\e824'; } /* '' */\n.icon-terminal:before { content: '\\e825'; } /* '' */\n.icon-megaphone:before { content: '\\e826'; } /* '' */\n.icon-plus:before { content: '\\e827'; } /* '' */\n.icon-emo-surprised:before { content: '\\e828'; } /* '' */\n.icon-down-circled2:before { content: '\\e829'; } /* '' */\n.icon-angle-left:before { content: '\\e82a'; } /* '' */\n.icon-angle-up:before { content: '\\e82b'; } /* '' */\n.icon-resize-small:before { content: '\\e82c'; } /* '' */\n.icon-resize-full:before { content: '\\e82d'; } /* '' */\n.icon-eye:before { content: '\\e82e'; } /* '' */\n.icon-eye-off:before { content: '\\e82f'; } /* '' */\n.icon-menu:before { content: '\\e830'; } /* '' */\n.icon-circle-empty:before { content: '\\e831'; } /* '' */\n.icon-circle:before { content: '\\e832'; } /* '' */\n.icon-ellipsis-vert:before { content: '\\e833'; } /* '' */\n.icon-ellipsis:before { content: '\\e834'; } /* '' */\n.icon-sitemap:before { content: '\\e835'; } /* '' */\n.icon-expand:before { content: '\\e836'; } /* '' */\n.icon-collapse:before { content: '\\e837'; } /* '' */\n.icon-pencil:before { content: '\\e838'; } /* '' */\n.icon-cursor:before { content: '\\e839'; } /* '' */\n.icon-resize-horizontal:before { content: '\\e83a'; } /* '' */\n.icon-move:before { content: '\\e83b'; } /* '' */\n.icon-resize-vertical:before { content: '\\e83c'; } /* '' */\n.icon-google:before { content: '\\e83d'; } /* '' */\n.icon-check:before { content: '\\e83e'; } /* '' */\n.icon-vector:before { content: '\\e83f'; } /* '' */\n.icon-vector-pencil:before { content: '\\e840'; } /* '' */\n.icon-target:before { content: '\\e841'; } /* '' */\n.icon-clock:before { content: '\\e842'; } /* '' */\n.icon-ajust:before { content: '\\e843'; } /* '' */\n.icon-link:before { content: '\\e844'; } /* '' */\n.icon-unlink:before { content: '\\e845'; } /* '' */\n.icon-check-empty:before { content: '\\e846'; } /* '' */\n.icon-toggle-on:before { content: '\\e847'; } /* '' */\n.icon-toggle-off:before { content: '\\e848'; } /* '' */\n.icon-hash:before { content: '\\e849'; } /* '' */\n.icon-flash:before { content: '\\e84a'; } /* '' */\n.icon-flow-line:before { content: '\\e84b'; } /* '' */\n.icon-flow-parallel:before { content: '\\e84c'; } /* '' */\n.icon-shuffle:before { content: '\\e84d'; } /* '' */\n.icon-exchange:before { content: '\\e84e'; } /* '' */\n.icon-expand-right:before { content: '\\e84f'; } /* '' */\n.icon-collapse-left:before { content: '\\e850'; } /* '' */\n.icon-flag-checkered:before { content: '\\e851'; } /* '' */\n.icon-paper-plane:before { content: '\\e852'; } /* '' */\n.icon-flash-1:before { content: '\\e853'; } /* '' */\n.icon-bug:before { content: '\\e854'; } /* '' */\n.icon-rocket:before { content: '\\e855'; } /* '' */\n.icon-chart-line:before { content: '\\e856'; } /* '' */\n.icon-emo-tongue:before { content: '\\e857'; } /* '' */\n.icon-emo-shoot:before { content: '\\e858'; } /* '' */\n.icon-emo-laugh:before { content: '\\e859'; } /* '' */\n.icon-lifebuoy:before { content: '\\e85a'; } /* '' */\n.icon-bitbucket:before { content: '\\e85b'; } /* '' */\n.icon-codeopen:before { content: '\\e85c'; } /* '' */\n.icon-github:before { content: '\\e85d'; } /* '' */\n.icon-eyedropper:before { content: '\\e85e'; } /* '' */\n.icon-brush:before { content: '\\e85f'; } /* '' */\n.icon-filter:before { content: '\\e860'; } /* '' */\n.icon-crop:before { content: '\\e861'; } /* '' */\n.icon-tint:before { content: '\\e862'; } /* '' */\n.icon-right-dir:before { content: '\\e863'; } /* '' */\n.icon-left-dir:before { content: '\\e864'; } /* '' */\n.icon-puzzle:before { content: '\\e865'; } /* '' */\n.icon-up-dir:before { content: '\\e866'; } /* '' */\n.icon-gamepad:before { content: '\\e867'; } /* '' */\n.icon-flag-empty:before { content: '\\e868'; } /* '' */\n.icon-flag:before { content: '\\e869'; } /* '' */\n.icon-resize-full-alt:before { content: '\\e86a'; } /* '' */\n.icon-list-bullet:before { content: '\\e86b'; } /* '' */\n.icon-block:before { content: '\\e86c'; } /* '' */\n.icon-language:before { content: '\\e86d'; } /* '' */\n.icon-lightbulb:before { content: '\\e86e'; } /* '' */\n.icon-zoom-in:before { content: '\\e86f'; } /* '' */\n.icon-zoom-out:before { content: '\\e870'; } /* '' */\n.icon-up-circled2:before { content: '\\e871'; } /* '' */\n.icon-infinity:before { content: '\\e872'; } /* '' */\n.icon-barcode:before { content: '\\e873'; } /* '' */\n.icon-share:before { content: '\\e874'; } /* '' */\n.icon-info:before { content: '\\e875'; } /* '' */\n.icon-help:before { content: '\\e876'; } /* '' */\n.icon-file-video:before { content: '\\e877'; } /* '' */\n.icon-file-audio:before { content: '\\e878'; } /* '' */\n.icon-file-image:before { content: '\\e879'; } /* '' */";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\chronicler\\Chronicler.js":[function(require,module,exports){
"use strict";

var _slice = Array.prototype.slice;
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Chronicler() {
  EventEmitter.call(this);

  this._stack = [], this._pointer = -1;
  this._chains = [];
  this._blocks = new Set();
}

inherits(Chronicler, EventEmitter);
module.exports = Chronicler;
var p = Chronicler.prototype;

p.undo = function () {
  if (this._pointer < 0) {
    return false;
  }

  var rec = this._stack[this._pointer--];

  if (rec instanceof Flag) {
    var startFlagIdx = this._stack.indexOf(rec.pair);

    if (startFlagIdx !== -1) {
      while (this._pointer !== startFlagIdx) {
        var _rec = this._stack[this._pointer--];

        if (!(_rec instanceof Flag)) {
          this._call(_rec.undo);
        }
      }

      this._pointer--;
    }
  } else {
    this._call(rec.undo);
  }

  this.emit("change");
};

p.redo = function () {
  if (this._pointer >= this._stack.length - 1) {
    return false;
  }

  var rec = this._stack[++this._pointer];

  if (rec instanceof Flag) {
    var endFlagIdx = this._stack.indexOf(rec.pair);

    if (endFlagIdx !== -1) {
      while (++this._pointer !== endFlagIdx) {
        var _rec = this._stack[this._pointer];

        if (!(_rec instanceof Flag)) {
          this._call(_rec.redo);
        }
      }
    }
  } else {
    this._call(rec.redo);
  }

  this.emit("change");
};

p._call = function (reg) {
  var block = this.blockSaving();

  if (typeof reg === "function") {
    reg();
  } else {
    reg[0].apply(reg[1], reg.slice(2));
  }

  this.releaseBlock(block);
};

p.save = function () {
  var args = _slice.call(arguments);

  if (this.isBlocked) return;

  console.log("save", args);

  if (args.length === 0) throw Error;

  var reg = args[0];

  if (args.length !== 1) {
    reg = {
      undo: args[0],
      redo: args[1],
      name: args[2] };
  }

  this._saveReg(reg);

  return reg;
};


p._saveReg = function (reg) {
  if (this.isBlocked) return;

  this._stack.splice(++this._pointer, this._stack.length, reg);

  this.emit("change");
};



p.getRecords = function () {
  var items = [], currFlag, pointer = this._pointer;

  this._stack.forEach(function (item, idx) {
    if (currFlag) {
      if (item === currFlag.pair) {
        currFlag = undefined;
      }
    } else {
      if (item instanceof Flag) {
        currFlag = item;
        add(item.name, this._stack.indexOf(item.pair) - 1);
      } else {
        add(item.name, idx);
      }
    }
  }, this);

  return items;


  function add(name, idx) {
    items.push({
      name: name || "unnamed record",
      idx: idx,
      executed: idx <= pointer
    });
  }
};

p.goto = function (idx) {
  idx = Math.max(-1, Math.min(this._stack.length - 1, parseInt(idx)));

  if (idx < this._pointer) {
    while (idx < this._pointer) {
      this.undo();
    }
  } else if (idx > this._pointer) {
    while (idx > this._pointer) {
      this.redo();
    }
  }
};




Object.defineProperty(p, "isBlocked", {
  get: function () {
    return this._blocks.size !== 0;
  }
});

p.blockSaving = function () {
  var block = Symbol();
  this._blocks.add(block);

  return block;
};

p.releaseBlock = function (block) {
  this._blocks["delete"](block);
};

p.dontSave = function (fn) {
  var block = this.blockSaving();
  fn();
  this.releaseBlock(block);
};






function Flag(name, pair) {
  this.name = name;
  this.pair = pair || new Flag(name, this);

  Object.freeze(this);
}

p.startFlag = function (name) {
  var flag = new Flag(name);

  this._saveReg(flag);

  return flag.pair;
};

p.endFlag = function (flag) {
  this._saveReg(flag);
};

p.wrap = function (opt) {
  var history = this, fn = opt.fn, delay = opt.delay, name = opt.name;

  if (delay === undefined) {
    return function () {
      var endFlag = history.startFlag(name);

      fn.apply(this, arguments);

      history.endFlag(endFlag);
    };
  } else {
    var _ret = (function () {
      var closeFlagSetT, endFlag, finish = function () {
        history.endFlag(endFlag);
        endFlag = undefined;
      }, onCalled = function () {
        if (!endFlag) {
          endFlag = am.history.startFlag(name);
        }
        clearTimeout(closeFlagSetT);
        closeFlagSetT = setTimeout(finish, delay);
      };

      return {
        v: function () {
          onCalled();

          fn.apply(this, arguments);
        }
      };
    })();

    if (typeof _ret === "object") return _ret.v;
  }
};








p.saveChain = function (opt) {
  if (this.isBlocked) return;
  console.log("saveChain", opt.name);

  var chain = this.getChain(opt.id);

  if (chain) {
    chain.reg.redo = opt.redo;
  } else {
    chain = {
      id: opt.id,
      reg: this.save(opt.undo, opt.redo, opt.name)
    };
    this._chains.push(chain);
  }

  if (opt.delay === undefined) {
    opt.delay = 312;
  }

  clearTimeout(chain.tid);
  chain.tid = setTimeout(this.closeChain.bind(this, opt.id), opt.delay);
};

p.closeChain = function (id) {
  var chain = this.getChain(id);

  if (!chain) {
    return;
  }

  clearTimeout(chain.tid);
  this._chains.splice(this._chains.indexOf(chain), 1);
};

p.clear = function () {
  while (this._chains.length) {
    this.closeChain(this._chains[0].id);
  }

  this._stack.length = 0, this._pointer = -1;

  this.emit("change");
};

p.getChain = function (id) {
  return this._chains.find(function (chain) {
    return chain.id === id;
  });
};







//TODO
// p.wrapFunctionPairs(opt) {
//     var slice = Array.prototype.slice,
//         oriUndoFn = opt.undoRoot[opt.undoFnName],
//         history = this,
//         dummyHistory = {
//             save: function () {},
//             flag: function () {},
//             endFlag: function () {},
//         },
//         undoHistory = Object.create(dummyHistory),
//         redoHistory = Object.create(dummyHistory);

//     undoHistory.save = function () {
//         history.save([opt.undo.addParam, this, param, true],
//             [this.removeParam, this, param, true], 'remove param ' + opt.name);
//     }

//     opt.undo.parent[opt.undo.fnName] = function () {
//         var args = slice.call(arguments);
//         args.push(undoHistory);

//         oriUndoFn.apply(opt.undo.thisArg, args)
//     }
// }

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogFeedback.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Feedback" });

dialog.addButton("ok", "hide");

createContent();

function createContent() {
  amgui.createLabel({
    text: "Hi! This program is in alpha state, so most of the things will change and most of the bugs are known. But if you have any question, feedback, feature request, bug report or just feel the need for contact, you can use the azazdeaz@gmail.com or the <a style=\"color:white;\" href=\"https://github.com/animachine/animachine/issues\">github issues</a>.",
    fontSize: "18px",
    height: "auto",
    display: "block",
    parent: dialog.deContent });
};

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWIP.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Work in progress" });

dialog.addButton("ok", "hide");

amgui.createLabel({
  text: "This feature doesn't ready yet. (but it's on the way!)<br>\nTo get notified about the latest changes follow us on <a href=\"//github.com/animachine/animachine\">Github</a>",
  fontSize: "16px",
  height: "auto",
  display: "block",
  parent: dialog.deContent });

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\commonDialogs\\dialogWelcome.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");
var i18n = require("../i18n");

var dialog = new Dialog({
  title: "Hi!" });

dialog.addButton("close", "hide");

var CHECKFLAG = "__am_dontshowwelcomemsgagain", CHECKFLAGVAL = "v1";

dialog.deContent.style.width = "570px";

var deText = amgui.createLabel({
  text: i18n.welcomeMsg,
  fontSize: "14px",
  height: "auto",
  display: "block",
  fontWeight: "600",
  parent: dialog.deContent
});
deText.style.marginBottom = "12px";


var cb = amgui.createCheckbox({
  text: "don't show this again",
  parent: dialog.deContent });

dialog.on("hide", function () {
  am.setVar(CHECKFLAG, cb.checked ? CHECKFLAGVAL : false);
});

var _oriShow = dialog.show;
dialog.show = function () {
  dialog.isChecked(function (yes) {
    if (!yes) _oriShow.call(dialog);
  });
};

dialog.isChecked = function (cb) {
  am.getVar(CHECKFLAG, function (v) {
    return cb(v === CHECKFLAGVAL);
  });
};

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../i18n":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\dom-picker\\DomPicker.js":[function(require,module,exports){
"use strict";

var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function DomPicker() {
  var _this = this;


  EventEmitter.call(this);

  this._isMouseOver = false;
  this._crumbs = [];

  this._onMMove = this._onMMove.bind(this);
  this._render = this._render.bind(this);
  window.addEventListener("mousemove", this._onMMove);

  am.on("selectDomElem", this._onSelectDomElem, this);
  am.on("change.currTrack", this.hide, this);

  this._createBase();

  this.setRightLeftBtn({
    icon: "plus",
    tooltip: "create a new css track with this element",
    onClick: function () {
      var winner, winnerPrior, done = false;

      _this.emit("add", {
        target: _this._deTarget,
        demand: function (prior) {
          return new Promise(function (resolve, reject) {
            if (done) return reject();

            if (winnerPrior === undefined || prior < winnerPrior) {
              winnerPrior = prior;
              if (winner) winner.reject();
              winner = { resolve: resolve, reject: reject };
            } else {
              reject();
            }
          });
        }
      });

      done = true;
      if (winner) winner.resolve();
    } });
}

inherits(DomPicker, EventEmitter);
var p = DomPicker.prototype;

module.exports = DomPicker;

p.focusElem = function (target) {
  if (target === this._deTarget) return;

  var oldTarget = this._deTarget, crumbs = this._crumbs, lastCrumb = crumbs[crumbs.length - 1];

  if (oldTarget && oldTarget.parentElement === target) {
    crumbs.push(oldTarget);
  } else if (target === lastCrumb) {
    crumbs.pop();
  } else if (target.parentElement === lastCrumb) {
    crumbs.length = 0;
  }

  this._deTarget = target;


  var p = am.isPickableDomElem, top = p(target.parentElement), right = p(target.nextElementSibling), bottom = p(target.firstElementChild), left = p(target.previousElementSibling);

  this._btnTop.style.display = top ? "block" : "none";
  this._btnRight.style.display = right ? "block" : "none";
  this._btnBottom.style.display = bottom ? "block" : "none";
  this._btnLeft.style.display = left ? "block" : "none";

  this.domElem.style.display = "block";

  this._render();

  this._rerenderSetI = setInterval(this._render, 123);
  window.addEventListener("resize", this._render);

  this.emit("pick", target);
};

p.hide = function () {
  this._deTarget = undefined;

  clearInterval(this._rerenderSetI);
  window.removeEventListener("resize", this._render);

  this.domElem.style.display = "none";
};

p.setRightLeftBtn = function (opt) {
  this._btnRightLeft.setIcon(opt.icon);

  //TODO remove the previous
  this._btnRightLeft.addEventListener("click", opt.onClick);

  var tooltip = amgui.getTooltip(this._btnRightLeft);
  tooltip.setContent(opt.tooltip);
};








p._render = function () {
  if (!this._deTarget) return;

  var br = this._deTarget.getBoundingClientRect();

  this.domElem.style.left = br.left + "px";
  this.domElem.style.top = br.top + "px";
  this.domElem.style.width = br.width + "px";
  this.domElem.style.height = br.height + "px";

  this._alignBtnCont();
};

p._alignBtnCont = function () {
  var _ref = this.domElem.getBoundingClientRect();

  var top = _ref.top;
  var left = _ref.left;
  var width = _ref.width;
  var height = _ref.height;
  var _ref2 = [top, left, width, height];
  var _ref3 = _toArray(_ref2);

  var oTop = _ref3[0];
  var oLeft = _ref3[1];
  var oWidth = _ref3[2];
  var oHeight = _ref3[3];
  var wWidth = window.innerWidth;
  var wHeight = window.innerHeight;
  var btnSize = 21;

  width = Math.max(btnSize, Math.min(wWidth, oWidth));
  height = Math.max(btnSize, Math.min(wHeight, oHeight));

  left = (oWidth - width) / 2;
  top = (oHeight - height) / 2;

  if (oLeft + left < 0) left = btnSize - oLeft;
  if (oTop + top < 0) top = btnSize - oTop;
  if (oLeft + left + width > wWidth) left = btnSize;
  if (oTop + top + height > wHeight) top = btnSize;

  this._btnCont.style.left = left + "px";
  this._btnCont.style.top = top + "px";
  this._btnCont.style.width = width + "px";
  this._btnCont.style.height = height + "px";
};

p._onMMove = function (e) {
  var br = this.domElem.getBoundingClientRect(), mx = e.clientX, my = e.clientY, s = this._isMouseOver ? 21 : 0, over = mx >= br.left - s && mx <= br.right + s && my >= br.top - s && my <= br.bottom + s;

  if (over !== this._isMouseOver) {
    this._isMouseOver = over;

    this._btnCont.style.visibility = over ? "visible" : "hidden";
  }
};

p._onSelectDomElem = function (de) {
  this.focusElem(de);
};

p._createBase = function () {
  var _this2 = this;


  var btnSize = 21, borderSize = "2px";

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.boxSizing = "border-box";
  de.style.display = "none";
  de.style.pointerEvents = "none";
  de.style.border = "solid #eee " + borderSize;
  de.style.pointerEvents = "none";
  am.deHandlerCont.appendChild(de);

  var deDashed = document.createElement("div");
  deDashed.style.width = "100%";
  deDashed.style.height = "100%";
  deDashed.style.border = "dashed #444 " + borderSize;
  deDashed.style.transform = "translate(-" + borderSize + ",-" + borderSize + ")";
  de.appendChild(deDashed);

  this._btnCont = amgui.createDiv({ parent: de });

  de.addEventListener("mouseenter", this._onMEnter);
  de.addEventListener("mouseleave", this._onMLeave);

  this.domElem = de;


  var createBtn = function (icon, tooltip, onClick) {
    var deIcon = amgui.createIconBtn({
      icon: icon,
      size: btnSize,
      parent: _this2._btnCont });

    deIcon.style.textShadow = "0 0 4px #000";

    if (onClick) {
      deIcon.addEventListener("click", function (e) {
        e.stopPropagation();
        onClick();
      });
    }

    amgui.addTooltip({
      deTarget: deIcon,
      text: tooltip
    });

    deIcon.style.position = "absolute";
    deIcon.style.pointerEvents = "auto";

    return deIcon;
  };

  this._btnTop = createBtn("angle-up", "up one level", function () {
    this.focusElem(this._deTarget.parentElement);
  }.bind(this));
  this._btnTop.style.top = -btnSize + "px";
  this._btnTop.style.left = "0";
  this._btnTop.style.right = "0";
  this._btnTop.style.margin = "0 auto";


  this._btnRight = createBtn("angle-right", "next sibling", function () {
    this.focusElem(this._deTarget.nextElementSibling);
  }.bind(this));
  this._btnRight.style.right = -btnSize + "px";
  this._btnRight.style.top = "0";
  this._btnRight.style.bottom = "0";
  this._btnRight.style.margin = "auto 0";

  this._btnBottom = createBtn("angle-down", "down one level", function () {
    this.focusElem(this._crumbs[this._crumbs.length - 1] || this._deTarget.firstElementChild);
  }.bind(this));
  this._btnBottom.style.bottom = -btnSize + "px";
  this._btnBottom.style.left = "0";
  this._btnBottom.style.right = "0";
  this._btnBottom.style.margin = "0 auto";

  this._btnLeft = createBtn("angle-left", "previous sibling", function () {
    this.focusElem(this._deTarget.previousElementSibling);
  }.bind(this));
  this._btnLeft.style.left = -btnSize + "px";
  this._btnLeft.style.top = "0";
  this._btnLeft.style.bottom = "0";
  this._btnLeft.style.margin = "auto 0";

  this._btnClose = createBtn("cancel", "close", function () {
    this.hide();
  }.bind(this));
  this._btnClose.style.right = -btnSize + "px";
  this._btnClose.style.top = -btnSize + "px";

  this._btnRightLeft = createBtn("plus", "");
  this._btnRightLeft.style.right = -btnSize + "px";
  this._btnRightLeft.style.bottom = -btnSize + "px";
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\HistoryTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Item = require("./Item");

function HistoryTab() {
  this._onHistoryChage = this._onHistoryChage.bind(this);

  this._items = [];

  this._createBase();

  am.history.on("change", this._onHistoryChage);
}

var p = HistoryTab.prototype;
module.exports = HistoryTab;

p._addItem = function () {
  var item = new Item();
  this._items.push(item);

  this._scrollCont.appendChild(item.domElem);
};

p._removeItem = function (item) {
  var idx = this._items.indexOf(item);

  if (item !== -1) {
    this._items.splice(idx, 1);

    if (item.domElem.parentNode) {
      item.domElem.parentNode.removeChild(item.domElem);
    }
  }
};

p._onHistoryChage = function () {
  var records = am.history.getRecords();

  records.forEach(function (rec, idx) {
    if (!this._items[idx]) {
      this._addItem();
    }

    this._items[idx].setup(rec);
  }, this);

  while (this._items.length > records.length) {
    this._removeItem(this._items[records.length]);
  }
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Item":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\Item.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\historyTab\\Item.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Item() {
  this._createBase();

  this.domElem.addEventListener("click", function () {
    var idx = this._rec.executed ? this._rec.idx - 1 : this._rec.idx;
    am.history.goto(idx);
  }.bind(this));
}

var p = Item.prototype;
module.exports = Item;

var cursors = {
  undo: "auto",
  redo: "auto" };

amgui.on("fontLoaded", function () {
  cursors.undo = createIcon("ccw");
  cursors.redo = createIcon("cw");

  function createIcon(icon) {
    return amgui.createCursorFromText({
      icon: icon,
      color: amgui.color.text,
      width: 16,
      height: 16,
      hotspotX: 8,
      hotspotY: 8,
      textX: 2,
      stroke: { color: "black", width: 2 },
      debug: false });
  }
});

p.setup = function (record) {
  this._rec = record;

  this._label.innerHTML = record.name;
  this._toggleState.setToggle(record.executed);
  this.domElem.style.cursor = cursors[record.executed ? "undo" : "redo"];
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = amgui.LINE_HEIGHT + "px";
  this.domElem.style.background = amgui.color.bg1;

  this._toggleState = amgui.createToggleIconBtn({
    parent: this.domElem,
    iconOn: "circle",
    iconOff: "circle-thin" });

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\i18n.js":[function(require,module,exports){
"use strict";

module.exports = {
  cssModule: {
    noTrackSelected: "No track selected." },
  welcomeMsg: "It's animation tool for designing <a href=\"//greensock.com/\" style=\"color:#88ce02;font-weight:800;\">GSAP</a> based animations for any kind of web project.<br><br>\nAlthough it's in alpha state, (so many of the features are just draft or buggy and the UI isn't that friendly) you're welcomed to check the current state of the program and play with it :)<br><br>\nIf you have any kind of question, opinion, feature request or just want to contact with us, we waiting for you on the <a href=\"//github.com/animachine/animachine/issues\">Github issues</a> or on feedback@animachine.org<br><br>\nFor more detailes check <a href=\"//github.com/animachine/animachine\">Github</a>"
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mineSave.js":[function(require,module,exports){
"use strict";

module.exports = mine;

function mine(str) {
  if (typeof (str) === "object") {
    return str;
  }

  var rx = /\/\*\*[\s\S]*@amsave[\s\S]*\*\/[\s\S].*var\s.*SAVEJSON\s.*=([\s\S].*)/, m = rx.exec(str), json;

  if (m && m[1]) {
    json = extractJSON(m[1])[0];

    if (json) {
      return json;
    }
  }
}

//http://stackoverflow.com/a/10574546/3615288
function extractJSON(str) {
  var firstOpen, firstClose, candidate;
  firstOpen = str.indexOf("{", firstOpen + 1);
  do {
    firstClose = str.lastIndexOf("}");
    console.log("firstOpen: " + firstOpen, "firstClose: " + firstClose);
    if (firstClose <= firstOpen) {
      return null;
    }
    do {
      candidate = str.substring(firstOpen, firstClose + 1);
      console.log("candidate: " + candidate);
      try {
        var res = JSON.parse(candidate);
        console.log("...found");
        return [res, firstOpen, firstClose + 1];
      } catch (e) {
        console.log("...failed");
      }
      firstClose = str.substr(0, firstClose).lastIndexOf("}");
    } while (firstClose > firstOpen);
    firstOpen = str.indexOf("{", firstOpen + 1);
  } while (firstOpen !== -1);
}

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\Branch.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");
var qsgen = require("../../qsgen");

function Branch() {
  EventEmitter.call(this);

  this._onClick = this._onClick.bind(this);

  this._createBase();
}

inherits(Branch, EventEmitter);
var p = Branch.prototype;
module.exports = Branch;

p.setup = function (opt) {
  var qs = qsgen(opt.domElem);

  this.value = opt.domElem;

  this._label.innerHTML = qs;
  this._label.style.marginLeft = (opt.indent * 6) + "px";
};




p._onClick = function () {
  this.emit("select", this);
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.position = "relative";
  this.domElem.style.width = "100%";
  this.domElem.style.height = amgui.LINE_HEIGHT;

  amgui.createSeparator({ parent: this.domElem });

  this.domElem.addEventListener("click", this._onClick);

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\DomTreeTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var Branch = require("./Branch");
var qsgen = require("../../qsgen");

function DomTreeTab() {
  this._branches = [];
  this._buffBranch = [];

  this._createBase();

  this._onSelectBranch = this._onSelectBranch.bind(this);
  this._onSelectCrumb = this._onSelectCrumb.bind(this);
}

var p = DomTreeTab.prototype;
module.exports = DomTreeTab;

p._addBranch = function (opt) {
  var branch = this._buffBranch.pop() || new Branch();
  this._branches.push(branch);

  branch.setup(opt);

  branch.on("select", this._onSelectBranch);

  this._scrollCont.appendChild(branch.domElem);
};

p._removeBranch = function (branch) {
  var idx = this._branches.indexOf(branch);

  if (branch !== -1) {
    this._branches.splice(idx, 1);

    if (branch.domElem.parentNode) {
      branch.domElem.parentNode.removeChild(branch.domElem);
    }

    this._buffBranch.push(branch);
  }

  branch.removeListener("select", this._onSelectBranch);
};

p.focusElem = function (de) {
  var _this = this;


  var path = [], deStep = de, maxDeep = 3;

  while (this._branches.length) {
    this._removeBranch(this._branches[0]);
  }

  while (deStep.parentNode && deStep.nodeName !== "HTML") {
    var deStep = deStep.parentNode;

    path.unshift({
      name: qsgen(deStep) || deStep.nodeName.toLowerCase(),
      value: deStep
    });
  }

  this._breadcrumbs.setItems(path);

  var step = function (de, deep) {
    _this._addBranch({
      domElem: de,
      indent: deep
    });

    if (deep < maxDeep) {
      var children = de.children;

      for (var i = 0, l = children.length; i < l; ++i) {
        step(children[i], deep + 1);
      }
    }
  };

  step(de, 0);
};






p._onSelectBranch = function (branch) {
  am.selectDomElem(branch.value);
};

p._onSelectCrumb = function (e) {
  am.selectDomElem(e.detail.selection.value);
};






p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });

  this._breadcrumbs = amgui.createBreadcrumbs({
    parent: this._scrollCont,
    onSelect: this._onSelectCrumb
  });
  this._breadcrumbs.style.height = "22px";
  this._breadcrumbs.style.minWidth = "100%";
  // this._breadcrumbs.style.position = 'absolute';
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","./Branch":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\Branch.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\am-domtree.js":[function(require,module,exports){
"use strict";

var DomTreeTab = require("./DomTreeTab");

var domTreeTab;

exports.init = function () {
  domTreeTab = new DomTreeTab();

  am.on("selectDomElem", onSelectDomElem);

  am.workspace.fillTab("Dom Tree", domTreeTab.domElem);
};

function onSelectDomElem(de) {
  domTreeTab.focusElem(de);
}

},{"./DomTreeTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\am-domtree\\DomTreeTab.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\BezierCssParam.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var CssParam = require("./CssParam");
var Key = require("../../track/Key");
var amgui = require("../../amgui");
var Transhand = require("transhand");

function BezierCssParam(opt) {
  var _this = this;


  opt = opt || { optionLine: {} };

  opt.optionLine.inputs = [{ name: "x", type: "unit" }, { name: "y", type: "unit" }, { name: "autoRotate", type: "checkbox" }];

  this._checkTimeline = undefined;
  this._checkObj = { x: 0, y: 0 };

  CssParam.apply(this, arguments);

  this.on("change.keys", this._refreshCheckTimeline, this);
  this._refreshCheckTimeline();

  this._defaultValue = { x: 0, y: 0 };

  this.optionLine.addButton({
    domElem: amgui.createIconBtn({
      icon: "chart-line",
      tooltip: "convert to plain translate",
      onClick: function () {
        return _this.emit("bezierToTranslate");
      } }),
    name: "bezier",
    childIdx: 0 });

  this.on("change.hidden", function () {
    if (_this.hidden) {
      _this._blurTransformer();
    } else {
      _this._focusTransformer();
    }
  });
}

inherits(BezierCssParam, CssParam);
var p = BezierCssParam.prototype;
module.exports = BezierCssParam;

Object.defineProperties(p, {
  parentTrack: {
    set: function (v) {
      if (this._parentTrack) {
        this._parentTrack.off("focusTransformer", this._focusTransformer, this);
        this._parentTrack.off("blurTransformer", this._blurTransformer, this);
      }

      this._parentTrack = v;

      if (this._parentTrack) {
        this._parentTrack.on("focusTransformer", this._focusTransformer, this);
        this._parentTrack.on("blurTransformer", this._blurTransformer, this);
      }
    },
    get: function () {
      return this._parentTrack;
    }
  }
});







p.getScriptKeys = function () {
  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var values = [], k = {
      time: key.time,
      options: {
        bezier: {
          type: "cubic",
          values: values },
        ease: key.ease.getEaser() }
    }, prevKey = key.getPrevKey();

    values.push(prevKey ? _.last(prevKey.value).anchor : key.value[0].anchor);
    values.push(prevKey ? _.last(prevKey.value).handleRight : key.value[0].anchor);

    key.value.forEach(function (point, idx, arr) {
      values.push(point.handleLeft);
      values.push(point.anchor);
      if (idx !== arr.length - 1) values.push(point.handleRight);
    });

    //optimise and fix GSAP bug
    if (values.every(function (v) {
      return v.x === values[0].x && v.y === values[0].y;
    })) {
      delete k.options.bezier;
      k.options.x = values[0].x;
      k.options.y = values[0].y;
    }

    keys.push(k);
  }, this);

  return _.sortBy(keys, "time");
};

p._refreshCheckTimeline = function () {
  var _this2 = this;


  var time = 0, tl = new window.TimelineMax();

  if (this._checkTimeline) this._checkTimeline.kill();
  this._checkTimeline = tl;

  this.getScriptKeys(true).forEach(function (key) {
    tl.to(_this2._checkObj, (key.time - time) / 1000, key.options);

    time = key.time;
  });
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = this.timeline.currTime;
  }

  if (!this._checkTimeline) {
    this._refreshCheckTimeline();
  }

  this._checkTimeline.time(time / 1000);
  return {
    x: this._checkObj.x,
    y: this._checkObj.y };
};

p.addKey = function (opt) {
  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      key.value.length = 0;
      [].push.apply(key.value, opt.value);
    }
  } else {
    if (!opt.value) {
      var _ref = this.getValue(opt.time);

      var x = _ref.x;
      var y = _ref.y;


      opt.value = [{
        anchor: { x: x, y: y },
        handleLeft: { x: x, y: y },
        handleRight: { x: x, y: y } }];
    }

    key = new Key(opt, this.timeline);

    key.on("prerender", this._onKeyPrerender, this);

    this.keyLine.addKey(key);

    this.emit("addKey");
  }

  this._refreshInputs();
  this._refreshTgglKey();

  this.emit("change");

  return key;
};

//TODO removeKey -> key.off('prerender', this._onKeyPrerender, this);



p._calcEase = function (p, pos) {
  var l = p.length / 2;

  while (--l > 0) {
    for (var i = 0; i < l; ++i) {
      count(i * 2);
    }
  }

  return { x: p[0], y: p[1] };

  function count(i) {
    p[i + 0] = p[i + 0] + (p[i + 2] - p[i + 0]) * pos;
    p[i + 1] = p[i + 1] + (p[i + 3] - p[i + 1]) * pos;
  }
};

p._focusTransformer = function (de) {
  de = de || this.parentTrack._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe || this.hidden) return this._blurTransformer();

  if (!this._transformer) {
    this._transformer = new Transhand();
    this._transformer.on("change", this._onChangeTransformer, this);
  }

  var transformSave;
  if (de.style.transform) {
    transformSave = de.style.transform;
    de.style.transform = "";
  }

  var br = de.getBoundingClientRect();

  de.style.transform = transformSave;

  var points = [];

  _.sortBy(this.keyLine._keys, "time").forEach(function (key) {
    key.value.forEach(function (point, idx, arr) {
      var srcKey = {
        anchor: { x: point.anchor.x, y: point.anchor.y },
        handleLeft: { x: point.handleLeft.x, y: point.handleLeft.y },
        handleRight: { x: point.handleRight.x, y: point.handleRight.y },
        linked: point.linked };

      if (idx !== arr.length - 1) {
        srcKey.style = {
          anchorFill: "navajowhite",
          anchorStroke: "deepskyblue",
          handleFill: "navajowhite",
          handleStroke: "deepskyblue" };
      }

      points.push(srcKey);
    });
  });

  this._transformer.setup({
    hand: {
      type: "curver",
      points: points,
      offset: {
        x: br.left + br.width / 2,
        y: br.top + br.height / 2 }
    } });
  this._transformer.activate();

  am.deHandlerCont.appendChild(this._transformer.domElem);
};

p._blurTransformer = function () {
  if (this._transformer) {
    this._transformer.deactivate();
  }
};






p._onChangeTransformer = function (changes) {
  var _this3 = this;


  var changedKeys = [];

  changes.forEach(function (change) {
    var idx = change.idx, keys = _.sortBy(_this3.keyLine._keys, "time"), key;

    //find the key according to the change
    for (var i = 0, l = keys.length; i < l; ++i) {
      key = keys[i];

      if (key.value.length <= idx) {
        idx -= key.value.length;
      } else {
        break;
      }
    }

    if (change.type === "add") {
      key.value.splice(idx, 0, {
        anchor: { x: change.point.anchor.x, y: change.point.anchor.y },
        handleLeft: { x: change.point.handleLeft.x, y: change.point.handleLeft.y },
        handleRight: { x: change.point.handleRight.x, y: change.point.handleRight.y },
        linked: change.point.linked });

      changedKeys.push(key);
    } else if (change.type === "remove") {
      key.value.splice(idx, 1);

      if (key.value.length === 0) {
        _this3.keyLine.removeKey(key);
      }

      changedKeys.push(key);
    } else if (change.type === "edit") {
      var point = key.value[idx];
      point.anchor.x = change.point.anchor.x;
      point.anchor.y = change.point.anchor.y;
      point.handleLeft.x = change.point.handleLeft.x;
      point.handleLeft.y = change.point.handleLeft.y;
      point.handleRight.x = change.point.handleRight.x;
      point.handleRight.y = change.point.handleRight.y;
      point.linked = change.point.linked;

      changedKeys.push(key);
    }
  });
  //the key.value object doesn't change so we need to throw the change event manually
  changedKeys.forEach(function (key) {
    return key.emit("change.value");
  });
};

p._onKeyPrerender = function (ctx, key) {
  var prevKey = key.getPrevKey(), start = this.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), width = this.timeline.timeToRenderPos(key.time) - start, step = width / key.value.length;

  for (var i = 0; i < key.value.length - 1; ++i) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = "deepskyblue";
    ctx.lineWidth = 1;
    ctx.arc(start + (step * (i + 1)), key._height / 2, 3, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.restore();
  }
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","./CssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","transhand":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js":[function(require,module,exports){
"use strict";

var Param = require("../../track/Param");
var inherits = require("inherits");

function CssParam(opt) {
  if (opt === undefined) opt = {};


  Param.apply(this, arguments);
}

inherits(CssParam, Param);
var p = CssParam.prototype;
module.exports = CssParam;

},{"../../track/Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamFactory.js":[function(require,module,exports){
"use strict";


var inherits = require("inherits");
var ParamFactory = require("../../track/ParamFactory");
var CssParam = require("./CssParam");
var BezierCssParam = require("./BezierCssParam");
var CssParamGroup = require("./CssParamGroup");
var amgui = require("../../amgui");

var defaultHidden = "z,rotationX,rotationY,scaleZ,perspectiveOriginX,transformOriginZ".split(",");

function CssParamFactory() {
  ParamFactory.apply(this, arguments);

  this.groups = {
    padding: ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"],
    margin: ["marginTop", "marginRight", "marginBottom", "marginLeft"],
    borderWidth: ["borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"],
    borderRadius: ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomLeftRadius", "borderBottomRightRadius"],
    borderColor: ["borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor"],
    borderStyle: ["borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle"],
    backgroundPosition: ["backgroundPositionX", "backgroundPositionY"],
    textShadow: ["textShadowX", "textShadowY", "textShadowBlur"],
    translate: ["x", "y", "z"],
    scale: ["scaleX", "scaleY", "scaleZ"],
    rotation: ["rotationX", "rotationY", "rotationZ"],
    skeew: ["skeewX", "skeewY"],
    perspectiveOrigin: ["perspectiveOriginX", "perspectiveOriginY", "perspectiveOriginZ"],
    transformOrigin: ["transformOriginX", "transformOriginY"],
    boxShadow: ["boxShadowX", "boxShadowY", "boxShadowBlur"],
    clip: ["clipTop", "clipRight", "clipBottom", "clipLeft"] };
}


module.exports = CssParamFactory;
inherits(CssParamFactory, ParamFactory);
var p = CssParamFactory.prototype;


p._assembleParam = function (opt) {
  if (opt === undefined) opt = {};


  if (!_.has(opt, "hidden") && _.include(defaultHidden, opt.name)) opt.hidden = true;
  if (!_.has(opt, "optionLine")) opt.optionLine = {};
  if (!_.has(opt.optionLine, "inputs")) opt.optionLine.inputs = [];
  if (_.isEmpty(opt.optionLine.inputs)) opt.optionLine.inputs.push({ name: "input" });

  var input = opt.optionLine.inputs[0];

  this.ifit(opt.name).is("x,y,z,transformOriginZ", function () {
    opt.defaultValue = "0px";
    input.units = ["px"];
  }).is("scaleX,scaleY,scaleZ", function () {
    input.type = "unit";
    opt.defaultValue = 1;
    input.dragSpeed = 0.01;
    input.precision = 2;
  }).is("rotationX,rotationY,rotationZ", function () {
    opt.defaultValue = "0deg";
    input.units = ["deg", "rad"];
    input.precision = 1;
    input.converters = {
      deg2rad: function (deg) {
        return deg / 180 * Math.PI;
      },
      rad2deg: function (rad) {
        return rad / Math.PI * 180;
      } };
  }).is("transformOriginX,transformOriginY", function () {
    opt.defaultValue = "50%";
    input.units = ["%"];
    input.dragSpeed = 0.01;
    input.precision = 2;
  }).is("xPercent,yPercent", function () {
    input.units = [];
    input.dragSpeed = 1;
    input.precision = 1;
  }).is("color,borderColorTop,borderColorRight,borderColorBottom,borderColorLeft,backgroundColor", function () {
    input.type = "color";
  }).is("borderWidth,top,right,bottom,left,width,height", function () {
    input.units = ["px"];
  }).is("opacity", function () {
    opt.defaultValue = 1;
    input.type = "unit";
    input.dragSpeed = 0.01;
    input.precision = 2;
    input.min = 0;
    input.max = 1;
  }).is("borderTopWidth,borderTopLeftRadius,borderTopColor,borderTopStyle", function () {
    return opt.title = "top";
  }).is("borderRightWidth,borderTopRightRadius,borderRightColor,borderRightStyle", function () {
    return opt.title = "right";
  }).is("borderBottomWidth,borderBottomLeftRadius,borderBottomColor,borderBottomStyle", function () {
    return opt.title = "bottom";
  }).is("borderLeftWidth,borderBottomRightRadius,borderLeftColor,borderLeftStyle", function () {
    return opt.title = "left";
  }).is("skeewX", function () {
    return opt.title = "x";
  }).is("skeewY", function () {
    return opt.title = "y";
  }).is("bezier", function () {
    opt.optionLine.inputs = [];
  });

  if (input.units) {
    input.type = "unit";
  }

  var param;

  if (opt.name === "bezier") {
    param = new BezierCssParam(opt, this.timeline);
  } else {
    param = new CssParam(opt, this.timeline);
  }

  return param;
};

p._assembleGroup = function (opt) {
  if (opt === undefined) opt = {};


  _.defaults(opt, {
    collapsed: false,
    merged: true,
    hidden: false,
    borrowChildInputsOnCollapse: true,
    optionLine: {
      inputs: [] } });

  var paramGroup = new CssParamGroup(opt, this.timeline);

  if (opt.name === "translate") {
    paramGroup.optionLine.addButton({
      domElem: amgui.createIconBtn({
        icon: "vector",
        tooltip: "convert to bezier path",
        onClick: function () {
          return paramGroup.emit("translateToBezier");
        } }),
      name: "bezier",
      childIdx: 0 });
  }

  return paramGroup;
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/ParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js","./BezierCssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\BezierCssParam.js","./CssParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParam.js","./CssParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamGroup.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamGroup.js":[function(require,module,exports){
"use strict";

var ParamGroup = require("../../track/ParamGroup");
var inherits = require("inherits");

function CssParamGroup(opt) {
  if (opt === undefined) opt = {};


  ParamGroup.apply(this, arguments);
}

inherits(CssParamGroup, ParamGroup);
var p = CssParamGroup.prototype;
module.exports = CssParamGroup;

},{"../../track/ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamsTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var OptionLine = require("../../utils/OptionLine");

function CssParamsTab() {
  this._paramOptionLines = [];

  this._createBase();

  am.on("change.currTrack", this._onChangeCurrTrack, this);
}

var p = CssParamsTab.prototype;





p._onChangeCurrTrack = function (track) {
  this._unlisten();

  this._currTrack = track;

  this._listen();
};


p._onInputChange = function (paramName, value) {
  if (!this._currTrack) return;

  var param = this._currTrack.getParam(paramName);

  if (!param) {
    param = this._currTrack.addParam({ name: paramName });
    param.addKey({ value: value });
  }
};

p._onTrackAddParam = function () {
  this._listen();
};

p._onChangeTime = function () {
  this._refreshKeyButtons();
};

p._onChangeParam = function () {
  this._refreshKeyButtons();
};






p._unlisten = function () {
  if (!this._currTrack) return;

  this._showHideNoTrackMsg(true);

  this._currTrack.paramGroup.off("change.structure", this._onTrackAddParam, this);
  this._currTrack.timeline.off("changeTime", this._onChangeTime, this);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      param.off("change.keys", this._onChangeParam, this);
      param.detachInput(input);
      input.reset();
    }
  }, this);
};

p._listen = function () {
  if (!this._currTrack) return;

  this._currTrack.paramGroup.on("change.structure", this._onTrackAddParam, this);
  this._currTrack.timeline.on("changeTime", this._onChangeTime, this);

  this._showHideNoTrackMsg(false);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      input.value = param.getValue();
      param.attachInput(input);
      param.on("change.keys", this._onChangeParam, this);
    }
  }, this);
};

p._showHideNoTrackMsg = function (show) {
  this._deMsgNoTrack.style.display = show ? "inline-block" : "none";
  this._deScrollCont.style.display = show ? "none" : "";
};

p._forEachInput = function (fn, thisArg) {
  this._paramOptionLines.forEach(function (optionLine) {
    Object.keys(optionLine.inputs).forEach(function (paramName) {
      fn.call(thisArg, optionLine.inputs[paramName], paramName);
    });
  }, this);
};










p._refreshKeyButtons = function () {
  if (this._currTrack) {
    this._paramOptionLines.forEach(function (optionLine) {
      optionLine.refreshKey();
    });
  }
};







p._createBase = function () {
  var that = this;

  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._deMsgNoTrack = amgui.createLabel({
    parent: this.domElem,
    color: amgui.color.textInactive,
    text: am.i18n.cssModule.noTrackSelected });

  this._deScrollCont = amgui.createDiv({
    display: "none",
    width: "100%",
    parent: this.domElem });

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._deScrollCont
  });

  var boderStyleOptions = "none,hidden,dotted,dashed,solid,double,groove,ridge,inset,outset,initial,inherit".split(",");

  var paramTree = [{
    title: "font",
    children: [{ title: "font-family", input: "string" }, { title: "font-size", input: "string" }, { title: "font-weight", input: "string" }, { title: "font-style", input: "string" }, { title: "font-variant", input: "string" }, { title: "text-transform", input: { type: "select", options: "none,capitalize,uppercase,lowercase,full-width".split(",") } }, { title: "text-decoration", input: { type: "string", defaultValue: "none" } }, { title: "color", input: "color" }] }, { title: "border", children: [{ title: "borderColor", children: [{ title: "borderTopColor", input: "color" }, { title: "borderRightColor", input: "color" }, { title: "borderBottomColor", input: "color" }, { title: "borderLeftColor", input: "color" }] }, { title: "borderWidth", children: [{ title: "borderTopWidth", input: { type: "unit", units: ["px"] } }, { title: "borderRightWidth", input: { type: "unit", units: ["px"] } }, { title: "borderBottomWidth", input: { type: "unit", units: ["px"] } }, { title: "borderLeftWidth", input: { type: "unit", units: ["px"] } }] }, { title: "borderStyle", children: [{ title: "borderTopStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderRightStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderBottomStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderLeftStyle", input: { type: "select", options: boderStyleOptions } }] }] }, { title: "background", children: [] }, { title: "transform", children: [{ title: "translate", children: [{ title: "x", input: {} }, { title: "y", input: {} }, { title: "z", input: {} }] }, { title: "scale", children: [{ title: "scaleX", input: {} }, { title: "scaleY", input: {} }, { title: "scaleZ", input: {} }] }, { title: "rotation", children: [{ title: "rotationX", input: {} }, { title: "rotationY", input: {} }, { title: "rotationZ", input: {} }] }] }, { title: "layout", children: [] }];
  var build = function (nodeList, parent, indent) {
    nodeList.forEach(function (node) {
      var optionLine, isChildrenVisible = true;

      node.indent = indent;
      node.keepSpaceForTgglChildren = true;

      if (node.input) {
        if (typeof (node.input) === "string") {
          node.input = { type: node.input };
        }

        node.input.name = node.title;

        node.inputs = [node.input];
        delete node.input;
      }

      if (node.inputs) {
        node.btnKey = {
          onClick: function () {
            if (this._currTrack) {
              var param = this._currTrack.addParam({
                name: node.title });
              param.toggleKey();
            }
          }.bind(this) };
      }

      if (node.children) {
        node.tgglChildren = {
          onClick: onToggleChildren };
      }

      //create
      optionLine = new OptionLine(node);
      this._paramOptionLines.push(optionLine);

      //listen to inputs
      Object.keys(optionLine.inputs).forEach(function (inputName) {
        optionLine.inputs[inputName].reset();

        var changeHandler = this._onInputChange.bind(this, inputName);

        optionLine.inputs[inputName].on("change", changeHandler);
      }, this);


      //add param button
      var paramNames = collectParamNames(node);

      optionLine.refreshKey = function () {
        if (!optionLine.buttons.key) return;

        var hasKey = false;

        if (this._currTrack) {
          paramNames.forEach(function (paramName) {
            var time = this._currTrack.timeline.currTime, param = this._currTrack.getParam(paramName);

            if (param && param.getKey(time)) {
              hasKey = true;
            }
          }, this);
        }

        optionLine.buttons.key.setHighlight(!!hasKey);
      }.bind(this);


      //append to parent
      if (parent.addOptionLine) {
        parent.addOptionLine(optionLine);
      } else {
        parent.appendChild(optionLine.domElem);
      }


      if (node.children) {
        onToggleChildren();

        build(node.children, optionLine, indent + 1);
      }


      function onToggleChildren() {
        isChildrenVisible = !isChildrenVisible;

        optionLine.buttons.tgglChildren.setToggle(isChildrenVisible);

        if (isChildrenVisible) {
          optionLine.showSublines();
        } else {
          optionLine.hideSublines();
        }
      }
    }, this);
  }.bind(this);

  build(paramTree, this._deScrollCont, 0);

  function collectParamNames(node) {
    var ret = [];

    if (node.children) {
      ret = ret.concat(node.children.forEach(collectParamNames));
    } else {
      ret.push(node.title);
    }

    return ret;
  }
};

module.exports = CssParamsTab;

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssTrack.js":[function(require,module,exports){
"use strict";

var Track = require("../../track/Track");
var inherits = require("inherits");
var amgui = require("../../amgui");
var CssParamFactory = require("./CssParamFactory");

function CssTrack(opt, timeline) {
  var _this = this;
  if (opt === undefined) opt = {};


  this._paramFactory = new CssParamFactory({}, timeline);

  Track.apply(this, arguments);

  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      iconOn: "eye",
      iconOff: "eye-off",
      changeColor: true,
      onClick: function () {
        return _this._onClickTgglHide();
      } }),
    name: "tgglHide",
    childIdx: 1 });

  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      tooltip: "enable/disable 3d",
      icon: "cube",
      changeColor: true,
      onClick: function () {
        return am.dialogs.WIP.show();
      } }),
    name: "tggl3d",
    childIdx: 1 });

  //TODO do this somehow else
  this.paramGroup.on("addParam", function (param) {
    if (param.name === "translate") {
      param.on("translateToBezier", _this._switchFromTranslateToBezier, _this);
    } else if (param.name === "bezier") {
      param.parentTrack = _this; //hack!
      param.on("bezierToTranslate", _this._switchFromBezierToTranslate, _this);
    }
  });

  if (this.paramGroup.getParam("translate")) {
    this.paramGroup.getParam("translate").on("translateToBezier", this._switchFromTranslateToBezier, this);
  }

  if (this.paramGroup.getParam("bezier")) {
    this.paramGroup.getParam("bezier").parentTrack = this; //hack!
    this.paramGroup.getParam("bezier").on("bezierToTranslate", this._switchFromBezierToTranslate, this);
  }
}

inherits(CssTrack, Track);
var p = CssTrack.prototype;
module.exports = CssTrack;

p.type = "css_track_type";


p.focusTransformer = function (de) {
  de = de || this._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe) return this._blurTransformer();

  this.emit("focusTransformer");

  var handOpt = {
    type: "transformer",
    base: {
      x: de.offsetLeft,
      y: de.offsetTop,
      w: de.offsetWidth,
      h: de.offsetHeight },
    params: {} }, xPercent = 0, yPercent = 0;

  var p = handOpt.params;
  this._endParams.forEach(function (param) {
    if (param.hidden) return;

    switch (param.name) {
      case "x": p.tx = parseFloat(param.getValue());break;
      case "y": p.ty = parseFloat(param.getValue());break;
      case "scaleX": p.sx = parseFloat(param.getValue());break;
      case "scaleY": p.sy = parseFloat(param.getValue());break;
      case "rotationZ": p.rz = parseFloat(param.getValue()) / 180 * Math.PI;break;
      case "transformOriginX": p.ox = parseFloat(param.getValue()) / 100;break;
      case "transformOriginY": p.oy = parseFloat(param.getValue()) / 100;break;
      case "bezier":
        var value = param.getValue();
        p.tx = parseFloat(value.x);
        p.ty = parseFloat(value.y);
        break;
      case "xPercent": xPercent = parseFloat(param.getValue());break;
      case "yPercent": yPercent = parseFloat(param.getValue());break;
    }
  });


  this._transformer.setLocalRoot(de.parentNode);
  this._transformer.setup({
    hand: handOpt });
  this._transformer.activate();

  am.deHandlerCont.appendChild(this._transformer.domElem);
};

p._blurTransformer = function () {
  this._currHandledDe = undefined;

  this.emit("blurTransformer");

  if (this._transformer && this._transformer.domElem && this._transformer.domElem.parentNode) {
    this._transformer.deactivate();
    this._transformer.domElem.parentNode.removeChild(this._transformer.domElem);
  }
};








p._switchFromTranslateToBezier = function () {
  var _this2 = this;


  var xParam = this.getParam("x"), yParam = this.getParam("y"), xParamSave = xParam.getSave(), yParamSave = yParam.getSave(), xKeys = xParamSave.keys, yKeys = yParamSave.keys, bezierKeys = [], times = _.sortBy(_.uniq(_.pluck(xKeys, "time").concat(_.pluck(yKeys, "time")))), oldBezierKeys = this.__bezierParamSave ? this.__bezierParamSave.keys : [];

  times.forEach(function (time) {
    var x = parseFloat(xParam.getValue(time)), y = parseFloat(yParam.getValue(time)), xKey = xParam.getKey(time), yKey = yParam.getKey(time), oldKey = _.find(oldBezierKeys, { time: time, anchor: { x: x, y: y } });

    bezierKeys.push(oldKey || {
      time: time,
      ease: (xKey && xKey.ease) || (yKey && yKey.ease),
      value: [{
        anchor: { x: x, y: y },
        handleLeft: { x: x, y: y },
        handleRight: { x: x, y: y } }]
    });
  });

  var bezierParam = this.addParam({
    name: "bezier",
    keys: bezierKeys });

  this.__xParamSave = xParamSave;
  this.__yParamSave = yParamSave;
  bezierParam.once("change", function () {
    delete _this2.__xParamSave;
    delete _this2.__yParamSave;
  });

  xParam.hidden = true;
  yParam.hidden = true;
  this.paramGroup.getParam("translate").hidden = true;
  bezierParam.hidden = false;
};

p._switchFromBezierToTranslate = function () {
  //TODO restore original x, y keys when bezier wasn't changed

  var bezierParam = this.getParam("bezier"), bezierParamSave = bezierParam.getSave(), xKeys = [], yKeys = [];

  bezierParamSave.keys.forEach(function (bezierKey) {
    var lastPoint = _.last(bezierKey.value);

    xKeys.push({
      time: bezierKey.time,
      value: lastPoint.anchor.x + "px" });
    yKeys.push({
      time: bezierKey.time,
      value: lastPoint.anchor.y + "px" });
  });

  var xParam = this.addParam(this.__xParamSave || {
    name: "x",
    keys: xKeys });
  var yParam = this.addParam(this.__yParamSave || {
    name: "y",
    keys: yKeys });

  this.__bezierParamSave = bezierParamSave;

  xParam.hidden = false;
  yParam.hidden = false;
  this.paramGroup.getParam("translate").hidden = false;
  bezierParam.hidden = true;
};









p._onClickTgglHide = function () {
  if (this._isHidingSelectedElems) {
    this._showSelectedElems();
  } else {
    this._hideSelectedElems();
  }
};

p._hideSelectedElems = function () {
  if (this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = true;

  this.paramGroup.optionLine.buttons.tgglHide.setToggle(true);

  this._selectedElems.forEach(function (de) {
    de._amVisibilitySave = de.style.visibility;
    de.style.visibility = "hidden";
  });
};

p._showSelectedElems = function () {
  if (!this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = false;

  this.paramGroup.optionLine.buttons.tgglHide.setToggle(false);

  this._selectedElems.forEach(function (de) {
    de.style.visibility = de._amVisibilitySave;
  });
};

},{"../../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../../track/Track":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Track.js","./CssParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamFactory.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\cssModule.js":[function(require,module,exports){
"use strict";

var CssTrack = require("./CssTrack");
var ParamsTab = require("./CssParamsTab");
var qsgen = require("../../qsgen");

var paramsTab;

exports.init = function () {
  paramsTab = new ParamsTab();

  am.registerTrackType(CssTrack, CssTrack.prototype.type);

  am.on("selectDomElem", onSelectDomElem);

  am.workspace.fillTab("Css Style", paramsTab.domElem);

  am.domPicker.on("add", function (e) {
    e.demand(10).then(function () {
      am.domPicker.hide();

      var selector = qsgen(e.target);
      console.log("selector:", selector);

      var track = new CssTrack({
        selectors: [{ type: "css", value: selector }],
        paramTree: { save: { name: selector } } }, am.currTimeline);

      am.currTimeline.addTrack(track);
      track.select();
    });
  });
};

function onSelectDomElem(de) {
  am.currTimeline.tracks.forEach(function (track) {
    if (track instanceof CssTrack) {
      if (track.isOwnedDomElem(de)) {
        track.select();
        track.focusTransformer(de);
      } else if (track.isSelected()) {
        track.deselect();
      }
    }
  });
}

},{"../../qsgen":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js","./CssParamsTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssParamsTab.js","./CssTrack":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\modules\\css\\CssTrack.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\mouse\\Mouse.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Mouse() {
  this.screenX = 0;
  this.screenY = 0;

  this._onMouseMove = this._onMouseMove.bind(this);

  window.addEventListener("mousemove", this._onMouseMove);
}

inherits(Mouse, EventEmitter);
var p = Mouse.prototype;

p._onMouseMove = function (e) {
  this.screenX = e.screenX;
  this.screenY = e.screenY;
};


module.exports = Mouse;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\Project.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Timeline = require("../timeline");
var defineCompactProperty = require("../utils/defineCompactProperty");
var mstScript = require("./script.project.mst");

function Project(save) {
  if (save === undefined) save = {};


  EventEmitter.call(this);

  this._timelines = [];
  this.inputs = {};

  this.useSave(save);
}

inherits(Project, EventEmitter);
var p = Project.prototype;
module.exports = Project;

defineCompactProperty(p, { name: "name", type: "string", startValue: "new project" });

p.useSave = function (save) {
  var _this = this;
  if (save === undefined) save = {};


  var block = am.history.blockSaving();

  if (_.has(save, "name")) {
    this.name = save.name;
  }

  if (_.isArray(save.timelines)) {
    save.timelines.forEach(function (tl) {
      return _this.addTimeline(tl);
    });
  }

  if (_.has(save, "currTimelineIdx")) {
    this.selectTimeline(save.currTimelineIdx);
  }

  am.history.releaseBlock(block);
};

p.getSave = function () {
  var save = {
    name: this.name,
    timelines: this._timelines.map(function (tl) {
      return tl.getSave();
    }) };

  if (this.currTimeline) {
    save.currTimelineIdx = this._timelines.indexOf(this.currTimeline);
  }

  return save;
};

p.getScript = function (opt) {
  if (opt === undefined) opt = {};


  var timelines = [];

  this._timelines.forEach(function (timeline) {
    timelines.push(timeline.name + ":" + timeline.getScript());
  });

  var script = Mustache.render(mstScript, {
    timelines: "{" + timelines.join("\n") + "}",
    saveJson: opt.includeSave && JSON.stringify(this.getSave()) });

  if (opt.minify) {
    script = minify(script);
  }

  return script;

  function minify(code) {
    return code; //TODO

    // var result = UglifyJS.minify(code, {
    //     fromString: true,
    //     mangle: false,
    //     output: {
    //         comments: /@amsave/,
    //     },
    //     compress: {
    //         // reserved: 'JSON_SAVE',
    //     }
    // });
    //
    // return result.code;
    //
    // var toplevel = null;
    // toplevel = UglifyJS.parse(code, {
    //     filename: 'save',
    //     toplevel: toplevel
    // });
    //
    // toplevel.figure_out_scope();
    //
    // var compressor = UglifyJS.Compressor({mangle: false});
    // var compressed_ast = toplevel.transform(compressor);
    //
    // compressed_ast.figure_out_scope();
    // compressed_ast.compute_char_frequency();
    // compressed_ast.mangle_names();
    //
    // return compressed_ast.print_to_string({comments: 'all'});
  }
};

p.addTimeline = function (timeline) {
  var _this2 = this;


  //create the instance if the parameter is a save object
  if (!(timeline instanceof Timeline)) {
    timeline = new Timeline(timeline);
  }
  //remove the timeline if it's already added to an other project
  else if (timeline.parentProject && timeline.parentProject !== this) {
    timeline.parentProject.removeTimeline(timeline);
  }

  timeline.parentProject = this;

  //avoid to add twice
  if (_.include(this._timelines, timeline)) {
    return;
  }

  am.history.save({
    undo: function () {
      return _this2.removeTimeline(timeline);
    },
    redo: function () {
      return _this2.addTimeline(timeline);
    },
    name: "add timeline" });

  this._timelines.push(timeline);

  this.emit("addTimeline");
};

p.removeTimeline = function (timeline) {
  var _this3 = this;


  if (!_.include(this._timelines, timeline)) {
    return;
  }

  timeline.parentProject = undefined;

  am.history.save({
    undo: function () {
      return _this3.addTimeline(timeline);
    },
    redo: function () {
      return _this3.removeTimeline(timeline);
    },
    name: "remove timeline" });

  _.pull(this._timelines, timeline);

  this.emit("removeTimeline");
};

p.selectTimeline = function (timeline) {
  if (_.isNumber(timeline)) {
    timeline = this._timelines[timeline];
  }

  if (!timeline || timeline === this.currTimeline) return;

  if (this.currTimeline) {
    this.currTimeline.pause();
  }

  this.currTimeline = timeline;

  this.emit("change.currTimeline", this.currTimeline);
};

p.focus = function () {
  if (!this.currTimeline && !_.isEmpty(this._timelines)) {
    this.selectTimeline(this._timelines[0]);
  }
};

p.blur = function () {
  if (this.currTimeline) {
    this.currTimeline.pause();
  }
};




p.addInput = function (path, value) {
  var obj = this.inputs;

  if (typeof (path) !== "string") {
    //TODO: throw a detailed error
    throw Error();
  }

  path = path.split(".");

  path.forEach(function (name, idx, arr) {
    if (idx === arr.length - 1) {
      obj[name] = value;
    } else {
      obj = _.isPlainObject(obj[name]) ? obj[name] : {};
    }
  });

  this.emit("change.inputs");
};

p.setInputs = function (inputs) {
  if (!_.isPlainObject(inputs)) {
    //TODO: throw a detailed error
    throw Error();
  }

  this.inputs = inputs;

  this.emit("change.inputs");
};

p.getInputPaths = function (maxLevel) {
  if (maxLevel === undefined) maxLevel = 4;


  var ret = [];

  var step = function (obj, path, level) {
    Object.keys(obj).forEach(function (key) {
      ret.push(path + key);

      if (_.isPlainObject(obj[key]) && level <= maxLevel) {
        step(obj[key], path + key + ".", level + 1);
      }
    });
  };

  step(this.inputs, "", 0);

  return ret;
};



p.dispose = function () {
  _.invoke(this._timelines, "dispose");
};

},{"../timeline":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timeline.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./script.project.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\script.project.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var ProjectTab = require("./ProjectTab");
var Project = require("./Project");

function ProjectMap() {
  EventEmitter.call(this);

  this._projects = [];

  this.projectTab = new ProjectTab(this);
  am.workspace.fillTab("Project", this.projectTab.domElem);
}

inherits(ProjectMap, EventEmitter);
var p = ProjectMap.prototype;
module.exports = ProjectMap;

Object.defineProperties(p, {
  currProject: {
    get: function () {
      return this.getCurrProject();
    }
  }
});

p.load = function (project) {
  if (!(project instanceof Project)) {
    project = new Project(project);
  }

  if (!_.include(this._projects, project)) {
    this._projects.push(project);
  }

  this.emit("load", project);

  return project;
};

p.unload = function (project) {
  _.pull(this._projects, project);

  project.dispose();

  this.emit("unload", project);
};

p.focus = function (project) {
  project = this.load(project);

  if (this._currProject) {
    this._currProject.blur();
    this._currProject.off("change.currTimeline", am.setTimeline, am);
  }

  this._currProject = project;
  this._currProject.focus();

  am.setTimeline(this._currProject.currTimeline);
  this._currProject.on("change.currTimeline", am.setTimeline, am);

  this.projectTab.focus(this._currProject);
};

p.blur = function () {};

p.clear = function () {
  var _this = this;


  this._projects.slice().forEach(function (p) {
    return _this.closeProject(p);
  });
};

p.getCurrProject = function () {
  return this._currProject;
};

p.getProjects = function () {
  return this._projects;
};

},{"./Project":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\Project.js","./ProjectTab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectTab.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\ProjectTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var OptionLine = require("../utils/OptionLine");

function ProjectTab(projectMap) {
  this._projectMap = projectMap;

  this._createBase();
}

var p = ProjectTab.prototype;

p.focus = function (project) {
  if (this._currProject) {
    this._currProject.off(["addTimeline", "removeTimeline"], this._refreshLibrary, this);
  }

  this._currProject = project;

  this._deSelected.text = this._currProject.name;

  this._refreshLibrary();
  this._currProject.off(["addTimeline", "removeTimeline"], this._refreshLibrary, this);
};







p._refreshLibrary = function () {
  var _this = this;


  this._optLibrary.removeAllOptionLines();

  this._currProject._timelines.forEach(function (timeline) {
    var optionLine = new OptionLine({
      title: timeline.name || "unnamed timeline",
      onDblclick: function () {
        return _this._currProject.selectTimeline(timeline);
      },
      keepSpaceForTgglChildren: true,
      data: {
        type: "timeline",
        value: timeline } });

    _this._optLibrary.addOptionLine(optionLine);
  });
};








p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont });

  this._createProjectHandlers();
  this._createLibrary();
};

p._createProjectHandlers = function () {
  var _this2 = this;


  var refreshSelectInput = function () {
    var items = _this2._projectMap.getProjects().map(function (project) {
      return {
        text: project.name,
        onClick: function () {
          return _this2._projectMap.focus(project);
        },
        iconRight: project === _this2._currProject ? "paw" : undefined };
    });
    _this2._ddSelect.setItems(items);
  };

  this._deSelected = amgui.createLabel({
    parent: this._scrollCont,
    fontSize: "14px",
    fontWeight: "600",
    iconRight: "down-dir" });

  this._ddSelect = amgui.createDropdown({});

  amgui.bindDropdown({
    deTarget: this._deSelected,
    deDropdown: this._ddSelect });

  refreshSelectInput();
  this._projectMap.on(["load", "unload"], refreshSelectInput);



  amgui.bindDropdown({
    deTarget: amgui.createIconBtn({
      parent: this._scrollCont,
      icon: "ellipsis",
      display: "inline-block" }),
    deDropdown: amgui.createDropdown({
      options: [{
        text: "new project",
        icon: "plus",
        onClick: function () {
          var project = _this2._projectMap.load({ name: "new project" });
          _this2._projectMap.focus(project);
        } }, {
        text: "close this project",
        icon: "cancel",
        onClick: function () {
          return am.dialogs.WIP.show();
        } }] }) });
};

p._createLibrary = function () {
  var _this3 = this;


  this._optLibrary = new OptionLine({
    title: "Library",
    parent: this._scrollCont,
    tgglChildren: true });

  var btnNew = amgui.createIconBtn({
    icon: "plus"
  });

  amgui.bindDropdown({
    deTarget: btnNew,
    deDropdown: amgui.createDropdown({
      options: [{ text: "timeline", icon: "barcode", onClick: function () {
          return _this3._currProject.addTimeline();
        } }, { text: "folder", icon: "folder-empty", onClick: function () {
          return am.dialogs.WIP.show();
        } }, { text: "image", icon: "file-image", onClick: function () {
          return am.dialogs.WIP.show();
        } }, { text: "custom asset", icon: "doc", onClick: function () {
          return am.dialogs.WIP.show();
        } }] }) });

  this._optLibrary.addButton({
    domElem: btnNew });
};

module.exports = ProjectTab;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\project\\script.project.mst":[function(require,module,exports){
module.exports = ";(function (root) {\n    'use strict';\n\n    {{#saveJson}}\n    /**@amsave*/\n    var SAVEJSON = '{{{saveJson}}}';\n    {{/saveJson}}\n\n    var projectReg = {\n        timelines: {{timelines}},\n        {{#saveJson}}\n        saveJson: SAVEJSON,\n        {{/saveJson}}\n    };\n\n    root.am = root.am || {};\n    root.am.projects = root.am.projects || {};\n    root.am.projects.{{projectName}} = projectReg;\n\n\n\n    //-- CJS --//\n    if (typeof exports === 'object') {\n\n        module.exports = projectReg;\n    }\n\n    //-- AMD --//\n    if (typeof define === 'function' && define.amd) {\n\n        define(function () {\n            return projectReg;\n        });\n    }\n\n    //utils\n    function getAnimTargets(selectors, inputs) {\n\n        var list = [];\n\n        selectors.forEach(function (selector) {\n\n            if (selector.type === 'css') {\n\n                list.push(selector.value);\n            }\n            else if (inputs && selector.type === 'input') {\n\n                var parent = inputs;\n\n                selector.value.split('.').every(function (name) {\n\n                    return parent = parent[name];\n                });\n\n                if (parent) {\n                    list.push(parent);\n                }\n            }\n        });\n\n        return list;\n    };\n\n}(this));\n\n\n\n\n\n\n\n\n\n/**\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 – MIT License\n *\n * Credits: is based on Firefox's nsSMILKeySpline.cpp\n * Usage:\n * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)\n * spline(x) => returns the easing value | x must be in [0, 1] range\n *\n */\n!function(a){window.BezierEasing=a()}(function(){function i(a,i,j,k){function n(a,b){return 1-3*b+3*a}function o(a,b){return 3*b-6*a}function p(a){return 3*a}function q(a,b,c){return((n(b,c)*a+o(b,c))*a+p(b))*a}function r(a,b,c){return 3*n(b,c)*a*a+2*o(b,c)*a+p(b)}function s(c,d){for(var e=0;b>e;++e){var f=r(d,a,j);if(0===f)return d;var g=q(d,a,j)-c;d-=g/f}return d}function t(){for(var b=0;f>b;++b)m[b]=q(b*g,a,j)}function u(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=q(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function v(b){for(var d=0,e=1,h=f-1;e!=h&&m[e]<=b;++e)d+=g;--e;var i=(b-m[e])/(m[e+1]-m[e]),k=d+i*g,l=r(k,a,j);return l>=c?s(b,k):0===l?k:u(b,d,d+g)}function x(){w=!0,(a!=i||j!=k)&&t()}if(4!==arguments.length)throw new Error(\"BezierEasing requires 4 arguments.\");for(var l=0;4>l;++l)if(\"number\"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))throw new Error(\"BezierEasing arguments should be integers.\");if(0>a||a>1||0>j||j>1)throw new Error(\"BezierEasing x values must be in [0, 1] range.\");var m=h?new Float32Array(f):new Array(f),w=!1,y=function(b){return w||x(),a===i&&j===k?b:0===b?0:1===b?1:q(v(b),i,k)};y.getControlPoints=function(){return[{x:a,y:i},{x:j,y:k}]};var z=[a,i,j,k],A=\"BezierEasing(\"+z+\")\";y.toString=function(){return A};var B=\"cubic-bezier(\"+z+\")\";return y.toCSS=function(){return B},y}var a=this,b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h=\"Float32Array\"in a;return i.css={ease:i(.25,.1,.25,1),linear:i(0,0,1,1),\"ease-in\":i(.42,0,1,1),\"ease-out\":i(0,0,.58,1),\"ease-in-out\":i(.42,0,.58,1)},i});\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\qsgen.js":[function(require,module,exports){
"use strict";

var EXATTR = ["id", "class", "style"];

function generate(de, root) {
  root = root || document;

  var deCurr = de, rootCurr = root, qsCurr, qsParent = "";

  while (true) {
    do {
      qsCurr = gen(deCurr, rootCurr);
    } while (!qsCurr && deCurr.parentNode && deCurr.parentNode !== rootCurr && (deCurr = deCurr.parentNode));

    if (!qsCurr) {
      if (deCurr.parentNode === rootCurr) {
        qsCurr = "> :nth-child(" + (Array.prototype.indexOf.call(rootCurr.children, deCurr) + 1) + ")";
      } else {
        return; //can't find unique query selector
      }
    }

    qsParent += (qsParent ? " " : "") + qsCurr;

    if (deCurr === de) {
      return qsParent;
    } else {
      qsCurr = undefined;
      rootCurr = deCurr;
      deCurr = de;
    }
  }
}

function gen(de, root) {
  var singles, selectors, matches = [];

  singles = selectors = possibleIds(de).concat([de.tagName.toLowerCase()], possibleClasses(de, i), possibleAttributes(de, i));

  for (var i = 0; i < 5; ++i) {
    selectors.forEach(function (selector) {
      if (root.querySelectorAll(selector).length === 1) {
        matches.push(selector);
      }
    });

    if (matches.length) {
      return matches[0];
    } else {
      selectors = combine(selectors, singles);
    }
  }
}

function possibleIds(de) {
  return de.id ? ["#" + CSS.escape(de.id)] : [];
}

function possibleClasses(de, max) {
  return Array.prototype.slice.call(de.classList, 0).map(function (className) {
    return "." + CSS.escape(className);
  });
}

function possibleAttributes(de) {
  return Array.prototype.slice.call(de.attributes, 0).filter(function (attr) {
    return EXATTR.indexOf(attr.name) === -1;
  }).map(function (attr) {
    return "[" + CSS.escape(attr.name) + (attr.value ? "=\"" + attr.value + "\"" : "") + "]";
  });
}

// function variate(_list, length) {
//     return step(_list, 2);

//     function step(list, back) {
//         var combined = combine(attributes, list);
//         return list.concat(back === 0 ? combined : step(combined, --back));
//     }
// }

function combine(sourceA, sourceB) {
  var combined = [];

  sourceA.forEach(function (a) {
    sourceB.forEach(function (b) {
      if (a.indexOf(b) === -1 && b.indexOf(a) === -1 && "#.[:".indexOf(b.charAt(0)) !== -1) {
        combined.push(a + b);
      }
    });
  });

  return combined;
}

module.exports = generate;

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\dialogSettings.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  createContent: function () {
    var deScrollCont = amgui.createDiv({
      parent: this._deContent,
      width: "100%",
      display: "flex" });

    var deLeft = amgui.createDiv({
      parent: deScrollCont,
      width: "234px" });

    var deRight = amgui.createDiv({
      parent: deScrollCont,
      flex: "1" });
  }
});

function createShortcutLabel(value) {
  var deLabel = amgui.createLabel({});
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\shortcuts.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var dialogSettings = require("./dialogSettings");

var shortcuts = new EventEmitter();
module.exports = shortcuts;

var map = {
  copy: ["ctrl+c"],
  cut: ["ctrl+x"],
  "delete": ["del", "backspace"],
  duplicate: ["ctrl+d"],
  keyboardShortcuts: ["ctrl+k"],
  paste: ["ctrl+v"],
  undo: ["ctrl+z"],
  redo: ["ctrl+y", "ctrl+shift+z"],
  selectAll: ["ctrl+c"],
  save: ["ctrl+s"],
  saveAs: ["ctrl+shift+s"],
  "play/pause": ["space"],
  groupElements: ["ctrl+g"],
  "show/hidePanels": ["tab"] };

shortcuts.readMap = function (map) {
  Mousetrap.reset();

  Object.keys(map).forEach(function (key) {
    map[key].forEach(function (stroke) {
      // Mousetrap.bind(stroke, this.emit.bind(this, key));
      Mousetrap.bind(stroke, function () {
        console.log(key, stroke);
        this.emit(key);
      }.bind(this));
    }, this);
  }, this);
};

shortcuts.readMap(map);

shortcuts.getShortcut = function (key) {
  return map[key].join(", ");
};

Mousetrap.record(function (strokes) {
  var stroke = strokes[strokes.length - 1];
});

},{"./dialogSettings":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\shortcuts\\dialogSettings.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\EaseMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function EaseMap(opt) {
  EventEmitter.call(this);

  this._map = {};
}

inherits(EaseMap, EventEmitter);
var p = EaseMap.prototype;
module.exports = EaseMap;

p.getSave = function () {
  return _.cloneDeep(this._map);
};

p.useSave = function (save) {
  if (!save) throw Error;

  this._map = _.cloneDeep(this._map);

  this.emit("change");
};

p.set = function (name, ease) {
  this._map[name] = ease;

  this.emit("change");
};

p.showSetDialog = function (name, ease) {};

p.get = function (name) {
  return this._map[name];
};

p.list = function () {
  return Object.keys(this._map);
};

p.remove = function (name) {
  delete this._map[name];

  this.emit("change");
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\InlineEaseEditor.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function InlineEaseEditor(opt) {
  EventEmitter.call(this);

  this._height = amgui.LINE_HEIGHT;
  this._color = "#00BFFF";

  this.timeline = opt.timeline;

  this._points = [0, 0, 1, 1];

  this._render = amgui.delayWithRAF(this._render, this);

  this._createBase();
  this.hide();
}

inherits(InlineEaseEditor, EventEmitter);
var p = InlineEaseEditor.prototype;
module.exports = InlineEaseEditor;




p.show = function (opt) {
  var _this = this;


  if (!opt.key || (!opt.key.ease && !opt.eases)) return;

  this._key = opt.key;
  this._eases = opt.eases ? opt.eases.slice() : [opt.key.ease];

  this._points[0] = this._eases[0].points[0];
  this._points[1] = this._eases[0].points[1];
  this._points[2] = this._eases[0].points[2];
  this._points[3] = this._eases[0].points[3];

  this._eases.forEach(function (ease) {
    ease.on("change", _this._onChangeEase, _this);
  });

  this._render();

  this._startAutoRefresh();

  window.addEventListener("click", this._onClickWindow, this);

  this.domElem.style.display = "";
};

p.hide = function () {
  var _this2 = this;


  if (this._eases) {
    this._eases.forEach(function (ease) {
      ease.off("change", _this2._onChangeEase, _this2);
    });
  }

  this._stopAutoRefresh();

  window.removeEventListener("click", this._onClickWindow, this);

  this.domElem.style.display = "none";
};




p._startAutoRefresh = function () {
  var _this3 = this;


  var refresh = function () {
    window.cancelAnimationFrame(_this3.__rafIdAutoRefresh);

    _this3.__rafIdAutoRefresh = window.requestAnimationFrame(refresh);

    _this3._render();
  };

  refresh();
};

p._stopAutoRefresh = function () {
  window.cancelAnimationFrame(this.__rafIdAutoRefresh);
};

p._render = function () {
  var key = this._key, prevKey = key.getPrevKey(), brKeyLine = key.parentKeyLine.domElem.getBoundingClientRect(), brParent = this.domElem.parentNode.getBoundingClientRect(), p = this._points, x = this.timeline.timeToScreenX(prevKey ? prevKey.time : 0), w = this.timeline.timeToScreenX(key.time) - x, h = this._height, d = "", ease = this._eases[0];

  this._width = w;

  this.domElem.style.left = x + "px";
  this.domElem.style.top = (brKeyLine.bottom - brParent.top) + "px";

  d += "M" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += "L0,0 ";
  d += "C" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += (w * p[2]) + "," + (h * p[3]) + " ";
  d += w + "," + h + " ";
  d += "L" + (w * p[2]) + "," + (h * p[3]);

  if (ease) {
    d += "M0,0 ";

    for (var i = 0; i < w; ++i) {
      d += "L" + i + "," + (h * ease.getRatio(i / w));
    }
  }

  this._path.setAttribute("d", d);

  this._deCp0.refreshPosition();
  this._deCp1.refreshPosition();
};

p._setPoint = function (pidx, x, y) {
  var _this4 = this;


  this._points[pidx] = x;
  this._points[pidx + 1] = y;

  this._eases.forEach(function (ease) {
    return ease.points = _this4._points;
  });
};






p._onChangeEase = function () {
  this._render();
};

p._onClickWindow = function () {
  this.hide();
};







p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "absolute";
  this.domElem.style.transform = "scaleY(-1)";
  this.domElem.style.pointerEvents = "none";

  this._svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  // this._svg.style.background = 'red';
  this._svg.style.position = "absolute";
  this._svg.style.top = "0px";
  this._svg.style.left = "0px";
  this._svg.style.overflow = "visible";
  this.domElem.appendChild(this._svg);

  this._path = document.createElementNS("http://www.w3.org/2000/svg", "path");
  this._path.style.stroke = this._color;
  this._path.style.fill = "none";
  this._svg.appendChild(this._path);

  this._deCp0 = this._createCp(0);
  this._deCp1 = this._createCp(2);
};

p._createCp = function (pointIdx) {
  var r = 3;

  var deCp = document.createElement("div");
  deCp.style.position = "absolute";
  deCp.style.cursor = "grab";
  deCp.style.boxSizing = "border-box";
  deCp.style.width = r * 2 + "px";
  deCp.style.height = r * 2 + "px";
  deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
  deCp.style.borderRadius = r + "px";
  deCp.style.background = this._color;
  deCp.style.pointerEvents = "auto";
  this.domElem.appendChild(deCp);

  deCp.addEventListener("click", function (e) {
    e.stopPropagation(); //prevent calling _onClickWindow();
  });

  amgui.makeDraggable({
    deTarget: deCp,
    thisArg: this,
    onMove: function (md, mx, my) {
      var br = this.domElem.getBoundingClientRect();

      this._setPoint(pointIdx, Math.max(0, Math.min(1, (mx - br.left) / this._width)), (br.top - my) / this._height);
    }
  });

  deCp.refreshPosition = function () {
    deCp.style.left = (this._points[pointIdx] * this._width) + "px";
    deCp.style.top = (this._points[pointIdx + 1] * this._height) + "px";
  }.bind(this);
  deCp.refreshPosition();

  return deCp;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timebar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var decorTimebarNavigator = require("./decorTimebarNavigator");

function Timebar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._start = opt.start || 0;
  this._width = opt.width || 0;
  this._height = opt.height || 21;
  this._timescale = opt.timescale || 0;
  this._currTime = opt.currTime || 0;
  this._length = opt.length || 60000;

  this._magnetPoints = [];
  this._magnetDistancePx = 2.5;
  this._startMargin = ("startMargin" in opt) ? opt.startMargin : 6;

  this._onMDown = onMDown.bind(this);
  this._onMMove = onMMove.bind(this);
  this._onMUp = onMUp.bind(this);

  this._steps = getSteps();

  this._createBase();
  this._createPointer();
  this._createEndShadow();

  this._renderTape();
  //TODO use amgui.makeDraggable()
  this._canvasTape.addEventListener("mousedown", this._onMDown);

  decorTimebarNavigator(this);

  this.seekToZero();
}

inherits(Timebar, EventEmitter);
var p = Timebar.prototype;
module.exports = Timebar;




Object.defineProperties(p, {
  /** px/ms */
  timescale: {
    set: function (v) {
      if (!Number.isFinite(v) || this._timescale === v) return;

      this._timescale = Math.min(3, Math.max(0.0001, v));
      this._renderTape();
      this.emit("changeTape");
      this.emit("changeTimescale");
      //prevent to get bigger start margin than "_startMargin"
      this.start = this.start;
    },
    get: function () {
      return this._timescale;
    }
  },

  start: {
    set: function (v) {
      v = Math.min(this._startMargin / this.timescale, parseInt(v));

      if (!Number.isFinite(v) || this._start === v) return;

      this._start = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._start;
    }
  },

  /**px*/
  width: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._width === v) return;

      this._width = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._width;
    }
  },

  end: {
    get: function () {
      return this._start + (this._width / this._timescale);
    }
  },
  /**ms*/
  visibleTime: {
    set: function (v) {
      this.timescale = this._width / v;
    },

    get: function () {
      return this._width / this._timescale;
    }
  },

  currTime: {
    set: function (v) {
      v = Math.max(0, parseInt(v));

      if (!Number.isFinite(v) || this._currTime === v) return;

      this._currTime = v;

      this._refreshPointer();

      this.emit("changeTime", this._currTime);
    },
    get: function () {
      return this._currTime;
    }
  },

  magnetPoints: {
    set: function (v) {
      this._magnetPoints = v;
    },
    get: function () {
      return this._magnetPoints;
    }
  },

  length: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._length === v) return;
      this._length = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._length;
    }
  },

  startMargin: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._startMargin === v) return;
      this._startMargin = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._startMargin;
    }
  } });









p.getSave = function () {};

p.useSave = function () {};

p.screenXToTime = function (screenX) {
  var left = this._canvasTape.getBoundingClientRect().left, mouseX = screenX - left, time = (mouseX / this.width) * this.visibleTime;

  time -= this.start;

  return time;
};

p.magnetizeTime = function (time) {
  var magnetPoint, magnetPointDiff = undefined;

  this._magnetPoints.forEach(function (mp) {
    var diff = Math.abs(mp - time);

    if (diff < magnetPointDiff || magnetPointDiff === undefined) {
      magnetPoint = mp;
      magnetPointDiff = diff;
    }
  });

  if ((magnetPointDiff * this._timescale) < this._magnetDistancePx) {
    time = magnetPoint;
  }

  return time;
};

p.seekToZero = function () {
  this.start = this._startMargin / this.timescale;
};











p._renderTape = function () {
  var start = this._start, length = this._length, visibleTime = this.visibleTime, height = this._height, scale = this.timescale, width = this._width, maxMarkers = width / 4, step, i, text, textW, ctx = this._ctxTape;

  this._canvasTape.width = width;
  this._canvasTape.height = height;

  this._steps.forEach(function (s) {
    if ((this.visibleTime / s.small) < maxMarkers && (!step || step.small > s.small)) {
      step = s;
    }
  }, this);

  if (step) {
    ctx.linweidth = 0.5;
    ctx.strokeStyle = amgui.color.bg3;
    ctx.fillStyle = amgui.color.bg3;
    ctx.font = ~ ~(this._height * 0.5) + "px \"Open Sans\"";

    for (i = start % step.small; i < visibleTime; i += step.small) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.75);
    }
    ctx.stroke();

    for (i = start % step.big; i < visibleTime; i += step.big) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.62);
    }
    ctx.stroke();

    for (i = start % step.time; i < visibleTime; i += step.time) {
      text = step.format(i - start);
      textW = ctx.measureText(text).width / 2;
      ctx.fillText(text, i * scale - textW, 12);
    }
    ctx.stroke();
  }

  this._refreshPointer();

  var endWidth = ((visibleTime - (start + length)) * scale);
  this._deEndShadow.style.width = Math.max(0, Math.min(width, endWidth)) + "px";
};












function onMDown(e) {
  e.stopPropagation();
  e.preventDefault();

  if (e.shiftKey) this._dragMode = "translate";else if (e.ctrlKey) this._dragMode = "scale";else this._dragMode = "seek";

  this._mdX = e.pageX;
  this._mdStart = this._start;
  this._mdTimescale = this._timescale;

  this._onMMove(e);

  window.addEventListener("mousemove", this._onMMove);
  window.addEventListener("mouseup", this._onMUp);
  window.addEventListener("mouseleave", this._onMUp);
}

function onMMove(e) {
  var move = e.screenX - this._mdX, time, magnetPoint, magnetPointDiff;

  if (this._dragMode === "seek") {
    time = this.screenXToTime(e.screenX);
    time = this.magnetizeTime(time);

    this.currTime = time;

    this.emit("seek");
  } else if (this._dragMode === "translate") {
    this.start = this._mdStart + (move / this.timescale);
  } else if (this._dragMode === "scale") {
    this.timescale = this._mdTimescale + (move / 1000);

    var mdPos = (this._mdStart + this.currTime) * this._mdTimescale;
    this.start = -((this.currTime * this.timescale) - mdPos) / this.timescale;
  }
}

function onMUp() {
  window.removeEventListener("mousemove", this._onMMove);
  window.removeEventListener("mouseup", this._onMUp);
  window.removeEventListener("mouseleave", this._onMUp);
}










p._refreshPointer = function () {
  var pos = ((this.start + this.currTime) / this.visibleTime) * this.width;

  this._dePointer.style.transform = "translate(" + pos + "px)";
};











p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.position = "relative";
  amgui.createSeparator({ parent: this.domElem });

  this._canvasTape = document.createElement("canvas");
  this._ctxTape = this._canvasTape.getContext("2d");
  this._canvasTape.style.display = "block";
  this.domElem.appendChild(this._canvasTape);
};

p._createPointer = function () {
  var radius = 5;
  this._dePointer = document.createElement("div");
  this._dePointer.style.position = "absolute";
  this._dePointer.style.bottom = 2 * radius + "px";
  var pointer = document.createElement("div");
  pointer.style.position = "absolute";
  pointer.style.boxSizing = "border-box";
  pointer.style.pointerEvents = "none";
  pointer.style.left = -radius + "px";
  pointer.style.width = 2 * radius + "px";
  pointer.style.height = 2 * radius + "px";
  pointer.style.border = "solid " + amgui.color.red + " 1px";
  pointer.style.borderRadius = radius + "px";
  this._dePointer.appendChild(pointer);
  this.domElem.appendChild(this._dePointer);
};

p._createEndShadow = function () {
  this._deEndShadow = document.createElement("div");
  this._deEndShadow.style.position = "absolute";
  this._deEndShadow.style.top = "0px";
  this._deEndShadow.style.right = "0px";
  this._deEndShadow.style.height = "100%";
  this._deEndShadow.style.width = "0px";
  this._deEndShadow.style.pointerEvents = "none";
  this._deEndShadow.style.backgroundColor = "rgba(83,83,83,0.73)";
  this.domElem.appendChild(this._deEndShadow);

  var handler = document.createElement("div");
  handler.style.position = "absolute";
  handler.style.top = "0px";
  handler.style.left = "0px";
  handler.style.height = "100%";
  handler.style.width = "3px";
  handler.style.cursor = "ew-resize";
  handler.style.pointerEvents = "auto";
  this._deEndShadow.appendChild(handler);

  amgui.makeDraggable({
    deTarget: handler,
    thisArg: this,
    onDown: function () {
      return {
        length: this.length };
    },
    onMove: function (md, mx) {
      var time = this.screenXToTime(mx);
      time = this.magnetizeTime(time);

      this.length = time;
    }
  });
};








//Steps
function getSteps() {
  return [{
    small: 5,
    big: 50,
    time: 50,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 10,
    big: 100,
    time: 100,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 100,
    big: 1000,
    time: 1000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 500,
    big: 5000,
    time: 5000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 10000,
    big: 60000,
    time: 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }, {
    small: 60000,
    big: 5 * 60000,
    time: 5 * 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }];

  function two(num) {
    return ("00" + num).substr(-2);
  }
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./decorTimebarNavigator":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\decorTimebarNavigator.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timeline.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Timebar = require("./Timebar");
var EaseMap = require("./EaseMap");
var TriggerMap = require("./TriggerMap");
var amgui = require("../amgui");
var UglifyJS = require("uglify-js");
var mstScript = require("./script.timeline.mst");
var InlineEaseEditor = require("./InlineEaseEditor");
var Toolbar = require("../toolbar");
var defineCompactProperty = require("../utils/defineCompactProperty");

function Timeline(opt) {
  EventEmitter.call(this);
  this.setMaxListeners(11111);

  this._headerH = 23;

  this._onSelectTrack = this._onSelectTrack.bind(this);
  this._onChangeTrackKeys = this._onChangeTrackKeys.bind(this);
  this._onRemoveTrack = this._onRemoveTrack.bind(this);
  this._onMoveTrack = this._onMoveTrack.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeTape = this._onChangeTape.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onSelectNewTrack = this._onSelectNewTrack.bind(this);
  this._onTogglePlayPause = this._onTogglePlayPause.bind(this);
  this._onTimebarSeek = this._onTimebarSeek.bind(this);
  this._onChangeTrackHeight = this._onChangeTrackHeight.bind(this);
  this._onStartEditCurrTime = this._onStartEditCurrTime.bind(this);
  this._onFinishEditCurrTime = this._onFinishEditCurrTime.bind(this);
  this._onChangeInpCurrTime = this._onChangeInpCurrTime.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._timebar = new Timebar({
    height: this._headerH,
    timescale: 0.12,
    length: 6000 });

  this.toolbar = new Toolbar({
    height: this._headerH,
    bgColor: "none" });

  this._createBase();
  this._createPointerLine();

  this.inlineEaseEditor = new InlineEaseEditor({ timeline: this });
  this.domElem.appendChild(this.inlineEaseEditor.domElem);

  this._refreshTimebarWidth();
  this._refreshDeCurrTime();

  this._tracks = [];
  this._mapTrackDatas = new WeakMap();

  this.easeMap = new EaseMap();
  this.triggerMap = new TriggerMap();

  this._timebar.on("changeTime", this.emit.bind(this, "changeTime"));
  this._timebar.on("changeTape", this.emit.bind(this, "changeTape"));
  this._timebar.on("changeTimescale", this.emit.bind(this, "changeTimescale"));
  this._timebar.on("changeTime", this._onChangeTime);
  this._timebar.on("changeTape", this._onChangeTape);
  this._timebar.on("seek", this._onTimebarSeek);

  amgui.callOnAdded(this.domElem, this._refreshTimebarWidth, this);
  this._refreshPointerLine = amgui.delayWithRAF(this._refreshPointerLine, this);

  window.addEventListener("resize", this._onWindowResize);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Timeline, EventEmitter);
var p = Timeline.prototype;
module.exports = Timeline;






Object.defineProperties(p, {
  currTime: {
    set: function (v) {
      this._timebar.currTime = v;
    },
    get: function () {
      return this._timebar.currTime;
    }
  },
  timescale: {
    get: function () {
      return this._timebar.timescale;
    }
  },
  tracks: {
    get: function () {
      return this._tracks;
    }
  },
  length: {
    get: function () {
      return this._timebar.length;
    }
  },
  width: {
    get: function () {
      return this._timebar.width;
    }
  },
  start: {
    get: function () {
      return this._timebar.start;
    }
  }
});

defineCompactProperty(p, { name: "parentProject", event: "added" });

p.useSave = function (save) {
  this.clear();

  save = _.extend({
    timebar: {},
    tracks: []
  }, save);

  this._timebar.currTime = save.timebar.currTime;
  this._timebar.timescale = save.timebar.timescale;
  this._timebar.length = save.timebar.length;

  if ("easeMap" in save) this.easeMap.useSave(save.easeMap);
  if ("triggerMap" in save) this.triggerMap.useSave(save.triggerMap);

  save.tracks.forEach(function (trackData) {
    var TrackClass = am.trackTypes[trackData.type], track = new TrackClass(trackData.data, this);

    this.addTrack(track);
  }, this);

  _.invoke(this._tracks, "renderTime", this.currTime);

  this._refreshMagnetPoints();

  if (_.has(save, "currTrackIdx")) {
    this._tracks[save.currTrackIdx].select();
  }

  am.history.clear();
};

p.getSave = function () {
  var save = {
    timebar: {
      currTime: this._timebar.currTime,
      timescale: this._timebar.timescale,
      length: this._timebar.length },
    tracks: [],
    easeMap: this.easeMap.getSave(),
    triggerMap: this.triggerMap.getSave() };

  if (this._currTrack) {
    save.currTrackIdx = this._tracks.indexOf(this._currTrack);
  }

  this._tracks.forEach(function (track) {
    save.tracks.push({
      type: track.type,
      data: track.getSave()
    });
  });

  return save;
};

p.getScript = function () {
  var script, playerScripts = [];

  this._tracks.forEach(function (track) {
    playerScripts.push(track.getScript());
  });

  script = Mustache.render(mstScript, {
    trackPlayerGens: playerScripts.join(",\n"),
    triggerScript: this.triggerMap.getScript() });

  return script;
};

p.clear = function () {
  while (this._tracks.length) {
    this.removeTrack(this._tracks[0]);
  }
};

p.addTrack = function (track) {
  var _this = this;


  if (_.include(this._tracks, track)) return;

  am.history.save({
    undo: function () {
      return _this.removeTrack(track);
    },
    redo: function () {
      return _this.addTrack(track);
    },
    name: "add track" });

  this._tracks.push(track);

  track.parentTimeline = this;

  this._mapTrackDatas.set(track, {
    deContOpt: createCont(track.deOptionLine, this._deOptionLineCont),
    deContKf: createCont(track.deKeyLine, this._deKeyLineCont) });

  this._onChangeTrackHeight(track);

  track.on("change.keys", this._onChangeTrackKeys, this);
  track.on("select", this._onSelectTrack, this);
  track.on("remove", this._onRemoveTrack, this);
  track.on("move", this._onMoveTrack, this);
  track.on("changeHeight", this._onChangeTrackHeight, this);

  function createCont(content, parent) {
    var de = document.createElement("div");
    de.style.width = "100%";
    de.style.height = track.height + "px";
    de.style.overflow = "hidden";
    de.appendChild(content);
    parent.appendChild(de);

    return de;
  }
};

p.removeTrack = function (track) {
  var _this2 = this;


  if (!_.include(this._tracks, track)) return;

  am.history.save({
    undo: function () {
      return _this2.addTrack(track);
    },
    redo: function () {
      return _this2.removeTrack(track);
    },
    name: "remove track" });

  track.parentTimeline = undefined;

  _.pull(this._tracks, track);

  var trackData = this._mapTrackDatas.get(track);
  $(trackData.deContOpt).remove();
  $(trackData.deContKf).remove();
  this._mapTrackDatas["delete"](track);

  track.off("select", this._onSelectTrack, this);
  track.off("change.keys", this._onChangeTrackKeys, this);
  track.off("remove", this._onRemoveTrack, this);
  track.off("move", this._onMoveTrack, this);
  track.off("changeHeight", this._onChangeTrackHeight, this);

  track.dispose();
};

p.moveTrack = function (track, way) {
  var idx = this._tracks.indexOf(track);

  this._tracks.splice(idx, 1);
  idx = Math.min(this._tracks.length, Math.max(0, idx + way));
  this._tracks.splice(idx, 0, track);

  this._refreshTrackOrdering();
};

p.play = function () {
  if (this._isPlaying) return;
  this._isPlaying = true;

  this._btnTogglePlay.setToggle(true);

  _.invoke(this._tracks, "play", this.currTime);

  this._playStartTimeStamp = performance.now();
  this._playStartCurrTime = this.currTime;
  this._animPlay();
};

p.pause = function () {
  if (!this._isPlaying) return;
  this._isPlaying = false;

  this._btnTogglePlay.setToggle(false);

  _.invoke(this._tracks, "pause");

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.screenXToTime = function (screenX) {
  return this._timebar.screenXToTime(screenX);
};

p.timeToRenderPos = function (time) {
  return (time + this.start) * this.timescale;
};

p.timeToScreenX = function (time) {
  return this._timebar.domElem.getBoundingClientRect().left + this.timeToRenderPos(time);
};







p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  var t = Math.round(performance.now() - this._playStartTimeStamp);
  this._timebar.currTime = (this._playStartCurrTime + t) % this._timebar.length;
};

p._onTimebarSeek = function () {
  this.pause();
};

p._onSelectTrack = function (track) {
  if (this._currTrack === track) return;

  if (this._currTrack) {
    this._currTrack.deselect();
  }

  this._currTrack = track;

  am.setCurrTrack(track);
};

p._onChangeTrackKeys = function () {
  this._refreshMagnetPoints();
};

p._onRemoveTrack = function (track) {
  this.removeTrack(track);
};

p._onMoveTrack = function (track, way) {
  this.moveTrack(track, way);
};

p._onChangeTime = function () {
  this._refreshPointerLine();

  this._refreshDeCurrTime();
};

p._onChangeTape = function () {
  // var left = (this._timebar.start * this.timescale);

  // this._deKeyLineCont.style.left = left + 'px';
  // this._deKeyLineCont.style.width = 'calc(100% + ' + (-left) + 'px)';

  this._refreshPointerLine();
};

p._onChangeTrackHeight = function (track) {
  var h = track.height, trackData = this._mapTrackDatas.get(track);

  trackData.deContOpt.style.height = h + "px";
  trackData.deContKf.style.height = h + "px";
};

p._onWindowResize = function () {
  this._refreshTimebarWidth();
};

p._onTogglePlayPause = function () {
  am.report({ evtName: "_onTogglePlayPause", value: 2 });

  if (this._isPlaying) {
    this.pause();
  } else {
    this.play();
  }
};

p._onSelectNewTrack = function (e) {
  var addTrack = function (type) {
    var TrackClass = am.trackTypes[type];

    this.addTrack(new TrackClass({}, this));
  }.bind(this);

  switch (e.detail.selection) {
    case "css":
      addTrack("css_track_type");
      break;

    default:
      am.dialogs.WIP.show();

  }
};

p._onStartEditCurrTime = function () {
  this._inpCurrTime.value = this.currTime;

  this._deCurrTime.style.display = "none";
  this._inpCurrTime.style.display = "block";

  this._inpCurrTime.focus();
};

p._onFinishEditCurrTime = function () {
  this._inpCurrTime.style.display = "none";
  this._deCurrTime.style.display = "block";
};

p._onChangeInpCurrTime = function () {
  this._timebar.currTime = this._inpCurrTime.value;
};








p._refreshTrackOrdering = function () {
  this._tracks.forEach(function (track) {
    var trackData = this._mapTrackDatas.get(track);

    this._deOptionLineCont.appendChild(trackData.deContOpt);
    this._deKeyLineCont.appendChild(trackData.deContKf);
  }, this);
};

p._refreshMagnetPoints = function () {
  var magnetPoints = [];

  this._tracks.forEach(function (track) {
    if (typeof track.getMagnetPoints === "function") {
      magnetPoints = magnetPoints.concat(track.getMagnetPoints());
    }
  });

  magnetPoints = _.uniq(magnetPoints);

  this._timebar.magnetPoints = magnetPoints;
};

p._refreshTimebarWidth = function () {
  this._timebar.width = this._deRight.offsetWidth;
};

p._refreshPointerLine = function () {
  var canvas = this._dePointerLine, ctx = this._dePointerLineCtx;

  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  var left = (this._timebar.start + this.currTime) * this.timescale;
  left = parseInt(left) + 0.5;

  ctx.strokeStyle = amgui.color.red;
  ctx.moveTo(left, 0);
  ctx.lineTo(left, canvas.height);
  ctx.stroke();

  // this._dePointerLine.style.transform = 'translateX(' + left + 'px)';
  // this._dePointerLine.style.visibility = left < 0 ? 'hidden' : '';
};

p._refreshDeCurrTime = function () {
  var time = this.currTime, min, sec, ms, str = "";

  min = ~ ~(time / 60000);
  time %= 60000;
  sec = ~ ~(time / 1000);
  time %= 1000;
  ms = ~ ~time;

  if (min) {
    str += min + ":";
    sec = ("00" + sec).substr(-2);
  }
  if (sec) {
    str += sec + ".";
    ms = ("000" + ms).substr(-3);
  }
  str += ms;
  this._deCurrTime.textContent = str;
};







p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.pointerEvents = "auto";

  this._deLeft = document.createElement("div");
  this._deLeft.style.backgroundColor = amgui.color.bg0;
  this._deLeft.style.display = "flex";
  this._deLeft.style.flexDirection = "column";
  this._deLeft.style.width = "300px";
  this._deLeft.style.height = "100%";
  this.domElem.appendChild(this._deLeft);

  this._createSettingsHead();

  this._deDivider = document.createElement("div");
  this._deDivider.style.backgroundColor = amgui.color.bg3;
  this._deDivider.style.width = "1px";
  this._deDivider.style.height = "100%";
  this.domElem.appendChild(this._deDivider);

  this._deRight = document.createElement("div");
  this._deRight.style.display = "flex";
  this._deRight.style.flexDirection = "column";
  this._deRight.style.position = "relative";
  this._deRight.style.backgroundColor = amgui.color.bg0;
  this._deRight.style.flex = "1";
  this._deRight.style.height = "100%";
  this.domElem.appendChild(this._deRight);

  this._timebar.domElem.style.height = "23px";
  this._deRight.appendChild(this._timebar.domElem);

  //keeps the scroll bar and the scroll container(_deKeyLineCont2)
  this._deKeyLineCont3 = document.createElement("div");
  this._deKeyLineCont3.style.position = "relative";
  this._deKeyLineCont3.style.display = "flex";
  this._deKeyLineCont3.style.flex = "1";
  this._deKeyLineCont3.style.height = "100%";
  this._deKeyLineCont3.style.width = "100%";
  this._deKeyLineCont3.style.overflow = "hidden";
  this._deRight.appendChild(this._deKeyLineCont3);

  this._deOptionLineCont2 = document.createElement("div");
  this._deOptionLineCont2.style.position = "relative";
  this._deOptionLineCont2.style.flex = "1";
  this._deOptionLineCont2.style.width = "100%";
  this._deOptionLineCont2.style.height = "100%";
  this._deOptionLineCont2.style.overflow = "hidden";
  this._deLeft.appendChild(this._deOptionLineCont2);

  this._deKeyLineCont2 = document.createElement("div");
  this._deKeyLineCont2.style.position = "relative";
  this._deKeyLineCont2.style.flex = "1";
  this._deKeyLineCont3.appendChild(this._deKeyLineCont2);

  //this container is moving with the timeline
  this._deKeyLineCont = document.createElement("div");
  this._deKeyLineCont.style.position = "relative";
  this._deKeyLineCont.style.width = "100%";
  this._deKeyLineCont2.appendChild(this._deKeyLineCont);

  this._deOptionLineCont = document.createElement("div");
  this._deOptionLineCont.style.position = "relative";
  this._deOptionLineCont2.appendChild(this._deOptionLineCont);

  this._deRange = amgui.createRange({
    height: "auto",
    parent: this._deKeyLineCont3,
    vertical: true
  });

  amgui.makeScrollable({
    deCont: [this._deOptionLineCont2, this._deKeyLineCont3],
    deTarget: [this._deOptionLineCont, this._deKeyLineCont],
    deRange: this._deRange
  });

  this._createDividerHandler();
};


p._createSettingsHead = function () {
  var _this3 = this;


  this._deSettingsHead = document.createElement("div");
  this._deSettingsHead.style.backgroundColor = "darkgreey";
  this._deSettingsHead.style.position = "relative";
  this._deSettingsHead.style.display = "flex";
  this._deSettingsHead.style.width = "100%";
  this._deSettingsHead.style.height = this._headerH + "px";
  this._deLeft.appendChild(this._deSettingsHead);
  amgui.createSeparator({ parent: this._deSettingsHead });

  this._deSettingsHead.appendChild(this.toolbar.domElem);

  this._btnNewTrack = amgui.createIconBtn({
    tooltip: "add new track",
    icon: "plus-squared",
    size: this._headerH,
    display: "inline-block" });
  this.toolbar.addIcon({ deIcon: this._btnNewTrack });

  amgui.bindDropdown({
    deTarget: this._btnNewTrack,
    deMenu: amgui.createDropdown({
      options: ["css", "js", "attribute", "media", "timeline", "three.js", "pixi.js", "easel.js", "kinetic.js", "raphael.js", "snap.js"],
      onSelect: this._onSelectNewTrack }) });


  this._btnEditTriggers = amgui.createIconBtn({
    tooltip: "set timeline triggers",
    icon: "gamepad",
    size: this._headerH,
    display: "inline-block",
    onClick: function () {
      return _this3.triggerMap.showEditor();
    } });
  this.toolbar.addIcon({
    deIcon: this._btnEditTriggers });


  this._btnTogglePlay = amgui.createToggleIconBtn({
    tooltip: "play/pause preview",
    iconOn: "pause",
    iconOff: "play",
    size: this._headerH,
    display: "inline-block",
    onClick: this._onTogglePlayPause
  });
  this.toolbar.addIcon({
    deIcon: this._btnTogglePlay,
    separator: "controlls" });

  this._deCurrTime = amgui.createLabel({
    text: "",
    parent: this._deSettingsHead
  });
  this._deCurrTime.style.flex = "1";
  this._deCurrTime.style.textAlign = "right";
  this._deCurrTime.style.fontSize = "12px";
  this._deCurrTime.style.marginRight = "2px";
  this._deCurrTime.style.color = amgui.color.bg3;
  this._deCurrTime.addEventListener("click", this._onStartEditCurrTime);

  this._inpCurrTime = amgui.createInput({
    type: "number",
    parent: this._deSettingsHead
  });
  this._inpCurrTime.style.display = "none";
  this._inpCurrTime.style.flex = "1";
  this._inpCurrTime.style.textAlign = "right";
  this._inpCurrTime.style.fontSize = "12px";
  this._inpCurrTime.style.marginRight = "2px";
  this._inpCurrTime.style.color = amgui.color.bg3;
  this._inpCurrTime.addEventListener("blur", this._onFinishEditCurrTime);
  this._inpCurrTime.addEventListener("change", this._onChangeInpCurrTime);
};

p._createDividerHandler = function () {
  this._deDividerHandler = document.createElement("div");
  this._deDividerHandler.style.top = this._headerH + "px";
  this._deDividerHandler.style.left = this._deLeft.style.width;
  this._deDividerHandler.style.width = "1px";
  this._deDividerHandler.style.position = "absolute";
  this._deDividerHandler.style.height = "calc(100% - " + this._headerH + "px)";
  this._deDividerHandler.style.transform = "translateX(1px) scaleX(3)";
  this._deDividerHandler.style.cursor = "ew-resize";
  this.domElem.appendChild(this._deDividerHandler);

  amgui.makeDraggable({
    deTarget: this._deDividerHandler,
    thisArg: this,

    onMove: function (md, mx) {
      var left = mx - this.domElem.getBoundingClientRect().left + "px";

      this._deLeft.style.width = left;
      this._deDividerHandler.style.left = left;

      this._refreshTimebarWidth();
    }
  });
};

p._createPointerLine = function () {
  this._dePointerLine = document.createElement("canvas");
  this._dePointerLine.style.top = this._headerH + "px";
  this._dePointerLine.style.left = "0px";
  this._dePointerLine.style.width = "100%";
  this._dePointerLine.style.height = "100%";
  this._dePointerLine.style.position = "absolute";
  this._dePointerLine.style.pointerEvents = "none";
  this._deRight.appendChild(this._dePointerLine);

  this._dePointerLineCtx = this._dePointerLine.getContext("2d");
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../toolbar":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\toolbar\\Toolbar.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./EaseMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\EaseMap.js","./InlineEaseEditor":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\InlineEaseEditor.js","./Timebar":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\Timebar.js","./TriggerMap":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\TriggerMap.js","./script.timeline.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\script.timeline.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","uglify-js":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\uglify-js\\tools\\node.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\TriggerMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Dialog = require("../utils/Dialog");
var OptionLine = require("../utils/OptionLine");
var amgui = require("../amgui");

var ACTIONS = [{
  method: "play",
  arguments: [{ type: "number" }, {}] }];

function TriggerMap() {
  EventEmitter.call(this);

  this._triggers = {};

  this._createEditDialog();
}

inherits(TriggerMap, EventEmitter);
var p = TriggerMap.prototype;
module.exports = TriggerMap;

p.getSave = function () {
  return _.cloneDeep(this._triggers);
};

p.useSave = function (save) {
  if (!save) throw Error;

  this._triggers = _.cloneDeep(this._triggers);

  this.emit("change");
};

p.getScript = function () {
  var ret = [];

  _.forEach(this._triggers, function (trigger) {
    var add, args = _.pluck(trigger.action.argument, "value").join(", "), action = "function () {tl." + trigger.action.method + "(" + args + ")}";

    if (trigger.type === "jQuery") {
      add = "$(" + trigger.targets + ").on";
    } else if (trigger.type === "Reveal.js") {
      add = "Reveal.addEventListener";
    }

    ret.push("" + add + "(" + trigger.events + ", " + action + ");");
  });

  return ret.join("\n");
};

p.showEditor = function () {
  this._editDialog.show();
};

p.addTrigger = function (trigger) {
  trigger = trigger || this._createTrigger();

  this._triggers.push(trigger);

  this.emit("change");

  return trigger;
};

p.removeTrigger = function (trigger) {
  var idx = this._triggers.indexOf(trigger);
  if (idx === -1) return;
  this.triggers.splice(idx, 1);

  this.emit("change");
};

p._createTrigger = function () {
  return {
    type: "jQuery",
    name: "myTrigger",
    events: ["click"],
    targets: ["#selector"],
    actions: [{ method: "play", arguments: [] }] };
};

p._createEditDialog = function () {
  var _this = this;


  var dialog = new Dialog({ title: "TriggerMap (WIP)" }).addButton("ok", "hide"), deCont = dialog.deContent, currTrigger;

  this._editDialog = dialog;

  var selectTrigger = function (trigger) {
    if (!trigger) return;

    currTrigger = trigger;
    optName.inputs.input.value = currTrigger.name;
    optType.inputs.input.value = currTrigger.events[0];
    optEvent.inputs.input.value = currTrigger.events[0];
    optSelector.inputs.input.value = currTrigger.selectors[0];
    optMethod.inputs.method.value = currTrigger.actions[0].method;
    optMethod.inputs.arguments.value = currTrigger.actions[0].arguments[0];
  };

  amgui.createBtn({
    parent: deCont,
    text: "new trigger",
    onClick: function () {
      return selectTrigger(_this.addTrigger());
    } });

  var refreshTriggerList = function () {
    return deTriggerList.setItems(_.pluck(_this._triggers, name));
  };
  var deTriggerList = amgui.createDropdown({
    parent: deCont,
    onSelect: function (e) {
      return selectTrigger(_.find(_this._triggers, { name: e.detail.selection }));
    } });
  refreshTriggerList();
  this.on("change", refreshTriggerList);

  var optName = new OptionLine({
    title: "name:",
    parent: deCont,
    inputs: [{
      placeholder: "the name of the trigger",
      defaultValue: "myTrigger",
      onChange: function (v) {
        return currTrigger.name = v;
      },
      type: "string",
      name: "input" }] });

  var optType = new OptionLine({
    title: "type:",
    parent: deCont,
    inputs: [{
      onChange: function (v) {
        return currTrigger.type = v;
      },
      type: "select",
      options: ["jQuery", "reveal.js"],
      name: "input" }] });

  var optEvent = new OptionLine({
    title: "event:",
    parent: deCont,
    inputs: [{
      placeholder: "the name of the event",
      defaultValue: "click",
      suggestions: "click,mousedown,mouseup,mouseover,mouseout,ready,mouseenter,mouseleave,change".split(","),
      onChange: function (v) {
        return currTrigger.events[0] = v;
      },
      type: "string",
      name: "input" }] });

  var optSelector = new OptionLine({
    title: "selector:",
    parent: deCont,
    inputs: [{
      placeholder: "the GSAP TimelineMax method name",
      defaultValue: "#selector",
      onChange: function (v) {
        return currTrigger.targets[0] = v;
      },
      type: "string",
      name: "input" }] });

  var optMethod = new OptionLine({
    title: "action:",
    parent: deCont,
    inputs: [{
      placeholder: "the GSAP TimelineMax method name",
      defaultValue: "play",
      suggestions: _.pluck(ACTIONS, "method"),
      onChange: function (v) {
        return currTrigger.actions[0].method = v;
      },
      type: "string",
      name: "method" }, {
      placeholder: "comma selected arguments",
      defaultValue: "0",
      onChange: function (v) {
        return currTrigger.actions[0].arguments[0] = v;
      },
      name: "arguments" }] });

  amgui.createBtn({
    parent: deCont,
    text: "remove trigger",
    onClick: function () {
      _this.removeTrigger(currTrigger);
    } });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\decorTimebarNavigator.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");


function decorTimebarNavigator(timebar) {
  var deNav, deColor, deLeftHand, deRightHand, dragMode;

  createBase();
  timebar.domElem.appendChild(deNav);

  amgui.makeDraggable({
    deTarget: deNav,
    onDown: function (e) {
      if (e.target === deLeftHand) dragMode = "start";else if (e.target === deRightHand) dragMode = "end";else dragMode = "move";

      return {
        start: timebar.start,
        visibleTime: timebar.visibleTime,
        timescale: timebar.timescale };
    },
    onMove: function (md, mx) {
      var scale = timebar.width / timebar.length, move = (mx - md.mx) / scale, start = md.start - move;

      if (dragMode === "move") {
        timebar.start = start;
      } else if (dragMode === "start") {
        timebar.start = start;
        timebar.visibleTime = md.visibleTime - move;
      } else if (dragMode === "end") {
        timebar.visibleTime = md.visibleTime + move;

        var mdPos = (md.start + timebar.currTime) * md.timescale;
        timebar.start = -((timebar.currTime * timebar.timescale) - mdPos) / timebar.timescale;
      }
    },
    onUp: function () {
      dragMode = undefined;
      onMLeave();
    },
    onEnter: function () {
      deColor.style.transform = "scaleY(1)";
      deColor.style.background = amgui.color.selected;
    },
    onLeave: onMLeave
  });

  timebar.on("changeTape", onChangeTape);


  function onChangeTape() {
    var scale = timebar.width / timebar.length;

    deNav.style.left = ((-timebar.start * scale) + timebar._startMargin) + "px";
    deNav.style.width = (timebar.visibleTime * scale) + "px";
  }

  function onMLeave() {
    if (!dragMode) {
      deColor.style.transform = "scaleY(0.4)";
      deColor.style.background = amgui.color.bg2;
    }
  }

  function createBase() {
    deNav = document.createElement("div");
    deNav.style.position = "absolute";
    deNav.style.top = "0px";
    deNav.style.height = "7px";
    deNav.style.cursor = "move";

    deColor = document.createElement("div");
    deColor.style.position = "absolute";
    deColor.style.top = "0px";
    deColor.style.left = "0px";
    deColor.style.width = "100%";
    deColor.style.height = "100%";
    deColor.style.transformOrigin = "center top";
    deNav.appendChild(deColor);

    deRightHand = createHandler("right");
    deLeftHand = createHandler("left");
    onMLeave();
  }

  function createHandler(side) {
    var de = document.createElement("div");
    de.style.position = "absolute";
    de.style[side] = "0px";
    de.style.top = "0px";
    de.style.height = "100%";
    de.style.width = "8%";
    de.style.minWidth = "1px";
    de.style.maxWidth = "7px";
    de.style.cursor = "ew-resize";
    deNav.appendChild(de);

    return de;
  }
}

module.exports = decorTimebarNavigator;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\timeline\\script.timeline.mst":[function(require,module,exports){
module.exports = "(function () {\n    var trackPlayerGens = [{{{trackPlayerGens}}}];\n\n    var reg = {\n\n        create: function (inputs) {\n\n            var tl = new TimelineMax({paused: true});\n\n            trackPlayerGens.forEach(function (create) {\n\n                tl.add(create(inputs), 0);\n            });\n\n            return tl;\n        },\n    };\n\n    {{#triggerScript}}\n    (function () {\n\n        var tl = reg.create();\n\n        {{triggerScript}}\n    })\n    {{/triggerScript}}//\n\n    return reg;\n}());\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\toolbar\\Toolbar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function Toolbar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._height = opt.height || 24;
  this._icons = [];
  this._separators = {};

  this.domElem = document.createElement("div");
  this.domElem.style.position = "fixed";
  this.domElem.style.display = "flex";
  this.domElem.style.backgroundColor = opt.bgColor || amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.style.height = this._height + "px";

  this.addSeparator({ name: "first" });
  this.addSeparator({ name: "tools" });
  this.addSeparator({ name: "handler" });
  this.addSeparator({ name: "global" });
  this.addSeparator({ name: "rest" });
  this.addSeparator({ name: "controls", flex: 1 });
}

inherits(Toolbar, EventEmitter);
var p = Toolbar.prototype;
module.exports = Toolbar;



Object.defineProperties(p, {
  height: {
    get: function () {
      return this._height;
    }
  }
});


p.addIcon = function (opt) {
  var _this = this;


  if (_.isArray(opt)) {
    return opt.map(function (o) {
      return _this.addIcon(o);
    });
  }

  var deIcon;

  if (_.isElement(opt)) {
    deIcon = opt;
  } else if (_.isElement(opt.deIcon)) {
    deIcon = opt.deIcon;
  } else {
    deIcon = amgui.createIconBtn({
      size: this._height,
      icon: opt.icon,
      onClick: opt.onClick
    });
  }

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: deIcon,
      text: opt.tooltip,
      side: "bottom"
    });
  }

  deIcon.style.display = "inline-block";

  this.domElem.insertBefore(deIcon, this._separators[opt.separator || "rest"]);

  return deIcon;
};

p.removeIcon = function (deIcon) {
  deIcon.parentNode.removeChild(deIcon);
};

p.addSeparator = function (opt) {
  var de = document.createElement("span");
  this.domElem.appendChild(de);
  this._separators[opt.name] = de;

  if ("flex" in opt) {
    de.style.flex = opt.flex;
  }
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\tour\\Tour.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var CheckboxInput = require("../utils/CheckboxInput");

var cssAmgui = require("../assets/fontello/css/amgui.css");

function Tour() {
  EventEmitter.call(this);
}

inherits(Tour, EventEmitter);
var p = Tour.prototype;
module.exports = Tour;

p.init = function () {
  if (this._inited) return;
  this._inited = true;

  this._callRunningLoop = this._callRunningLoop.bind(this);

  this._steps = [];
  this._dePointers = [];
  this._deCheckboxes = [];

  this._createBase();
  am.workspace.fillTab("tour", this.domElem);

  this.prev = this.prev.bind(this);
  this.next = this.next.bind(this);
};

p.setup = function (data) {
  var _this = this;



  var createCheck = function (tooltip) {
    var cb = new CheckboxInput({
      parent: _this._deCheckboxCont,
      tooltip: tooltip });

    cb.domElem.style.display = "none";

    return cb;
  };

  this.init();

  window.addEventListener("click", this._callRunningLoop);


  data.steps.forEach(function (step) {
    step.domElem = document.createElement("div");
    step.domElem.innerHTML = step.content;
    step.checklist = step.checklist ? step.checklist.map(createCheck) : [];

    this._steps.push(step);
  }, this);

  this.goto(0);
};

p.next = function () {
  var idx = this._steps.indexOf(this._currStep) + 1;
  this.goto(idx);
};

p.prev = function () {
  var idx = this._steps.indexOf(this._currStep) - 1;
  this.goto(idx);
};

p.goto = function (idx) {
  idx = Math.max(0, Math.min(this._steps.length - 1, idx));

  this.removeAllPointer();

  if (this._currStep) {
    clearInterval(this._runningLoopSetI);

    if (typeof (this._currStep.onClose) === "function") {
      this._currStep.onClose(this);
    }
    this._deStepContent.removeChild(this._currStep.domElem);
    this._currStep.checklist.forEach(function (cb) {
      return cb.domElem.style.display = "none";
    });
  }

  this._currStep = this._steps[idx];

  this._deStepContent.appendChild(this._currStep.domElem);
  this._currStep.checklist.forEach(function (cb) {
    return cb.domElem.style.display = "inline-block";
  });

  if (typeof (this._currStep.onReady) === "function") {
    this._currStep.onReady(this);
  }

  if (typeof (this._currStep.runningLoop) === "function") {
    this._runningLoopSetI = setInterval(this._callRunningLoop, 312);
  }

  this._deState.textContent = (idx + 1) + "/" + this._steps.length + " " + (this._currStep.title || "");

  this._refreshChecklist();
};

p.checkIn = function (idx, step) {
  this._check(idx, step, true);
};

p.checkOut = function (idx, step) {
  this._check(idx, step, false);
};

p._check = function (idx, step, val) {
  step = step || this._currStep;
  if (!step) return;

  step.checklist[idx].value = !!val;

  this._refreshChecklist();
};

p.isChecked = function (idx, step) {
  step = step || this._currStep;
  if (!step) return;

  return step.checklist[idx].value;
};

p.addPointer = function (opt) {
  var dePointer = this._createTriangle();
  this._dePointers.push(dePointer);

  var x, y, r, brt = opt.deTarget.getBoundingClientRect();

  switch (opt.side) {
    case "right":
      x = brt.right;
      y = brt.top + brt.height / 2;
      r = 0;

    case "bottom":
      x = brt.left + brt.width / 2;
      y = brt.bottom;
      r = 90;

    case "left":
      x = brt.left;
      y = brt.top + brt.height / 2;
      r = 180;

    case "top":
    default:
      x = brt.left + brt.width / 2;
      y = brt.top;
      r = -90;
  }

  dePointer.style.left = x + "px";
  dePointer.style.top = y + "px";
  dePointer.rotate(r);

  return dePointer;
};

p.removePointer = function (dePointer) {
  var idx = this._dePointers.indexOf(dePointer);

  if (idx !== -1) {
    this._dePointers.splice(idx, 1);

    if (dePointer.parentNode) {
      dePointer.parentNode.removeChild(dePointer);
    }
  }
};

p.removeAllPointer = function () {
  while (this._dePointers.length) {
    this.removePointer(this._dePointers[0]);
  }
};

p._callRunningLoop = function () {
  if (this._currStep && this._currStep.runningLoop) {
    this._currStep.runningLoop(this);
  }
};





p._refreshChecklist = function () {
  if (!this._currStep) return;

  var allChecked = _.every(this._currStep.checklist, "value"), isLast = _.last(this._steps) === this._currStep;

  this._btnDone.style.visibility = allChecked && !isLast ? "" : "hidden";
};




p._createBase = function () {
  var _this2 = this;


  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";
  this.domElem.style.flexDirection = "column";
  this.domElem.style.background = amgui.color.bg0;

  this._deHead = document.createElement("div");
  this._deHead.style.display = "flex";
  this._deHead.style.width = "100%";
  this._deHead.style.height = "23px";
  this.domElem.appendChild(this._deHead);

  this._deStepContScroll = document.createElement("div");
  this._deStepContScroll.style.position = "relative";
  this._deStepContScroll.style.flex = "1";
  this.domElem.appendChild(this._deStepContScroll);

  this._srStepContScroll = this._deStepContScroll.createShadowRoot();

  this._deStepCont = document.createElement("div");
  this._deStepCont.style.position = "absolute";
  this._deStepCont.style.width = "100%";
  this._srStepContScroll.appendChild(this._deStepCont);

  this._deStepContent = amgui.createDiv({
    parent: this._deStepCont });

  this._btnDone = amgui.createBtn({
    text: "next",
    color: amgui.color.bg0,
    background: amgui.color.green,
    parent: this._deStepCont,
    onClick: function () {
      return _this2.next();
    } });

  this._btnDone.style.float = "right";
  this._btnDone.style.marginRight = "2px";

  var style = document.createElement("style");
  style.innerHTML = cssAmgui;
  this._srStepContScroll.appendChild(style);


  this._scrollRange = amgui.createRange({
    parent: this._deStepContScroll,
    height: "100%",
    vertical: true
  });

  this._scrollRange.style.position = "absolute";
  this._scrollRange.style.top = "0px";
  this._scrollRange.style.right = "0px";

  amgui.makeScrollable({
    deCont: this._deStepContScroll,
    deTarget: this._deStepCont,
    deRange: this._scrollRange
  });

  this._deState = amgui.createLabel({
    parent: this._deHead });
  this._deState.style.flex = 1;

  this._deCheckboxCont = document.createElement("span");
  this._deHead.appendChild(this._deCheckboxCont);

  this._btnPrev = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-left",
    onClick: this.prev.bind(this)
  });

  this._btnNext = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-right",
    onClick: this.next.bind(this)
  });
};

p._createTriangle = function () {
  var size = 12;

  var de = document.createElement("div");
  de.style.position = "absolute";
  de.style.pointerEvents = "none";
  am.deDialogCont.appendChild(de);

  var deTriangle = document.createElement("div");
  deTriangle.style.position = "absolute";
  deTriangle.style.width = "0";
  deTriangle.style.height = "0";
  deTriangle.style.borderStyle = "solid";
  deTriangle.style.transformOrigin = "left center";
  deTriangle.style.borderWidth = size + "px " + (2 * size) + "px " + size + "px 0";
  deTriangle.style.borderColor = "transparent #ff000d transparent transparent";

  de.appendChild(deTriangle);


  de.rotate = function (r) {
    deTriangle.style.transform = "rotate(" + r + "deg)";
  };

  return de;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../assets/fontello/css/amgui.css":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\assets\\fontello\\css\\amgui.css","../utils/CheckboxInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Ease.js":[function(require,module,exports){
"use strict";

var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var BezierEasing = require("bezier-easing");
var defineCompactProperty = require("../utils/defineCompactProperty");
var dialogEaseOptions = require("./dialogEaseOptions");
var debugId = 0;
function Ease(opt) {
  EventEmitter.call(this);
  this._aaaDebugId = ++debugId;
  this._type = "bezier";
  this._points = [];
  this.points = [0, 0, 1, 1];
  this._easer;

  this.on("change.rough", this._refreshEaser, this);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Ease, EventEmitter);
var p = Ease.prototype;
module.exports = Ease;

Object.defineProperties(p, {
  type: {
    set: function (v) {},
    get: function () {
      return this._type;
    } },
  points: {
    set: function (v) {
      var p = this._points;

      if (p.length === v.length && p.every(function (p, idx) {
        return p === v[idx];
      })) {
        return;
      }

      p.length = 0;
      p.push.apply(this._points, v);

      this._refreshEaser();

      this.emit("change");
    },
    get: function () {
      return this._points;
    }
  }
});

defineCompactProperty(p, { name: "roughEase", type: "boolean", startValue: false, evtName: "change.rough.ease" });
defineCompactProperty(p, { name: "roughStrength", type: "float", startValue: 1, evtName: "change.rough.strength" });
defineCompactProperty(p, { name: "roughPoints", type: "int", startValue: 20, evtName: "change.rough.points" });
defineCompactProperty(p, { name: "roughClamp", type: "boolean", startValue: false, evtName: "change.rough.clamp" });
defineCompactProperty(p, { name: "roughRandomise", type: "boolean", startValue: true, evtName: "change.rough.randomise" });
defineCompactProperty(p, { name: "roughTaper", type: "string", startValue: "none", evtName: "change.rough.taper" });





p.getSave = function () {
  return {
    type: this.type,
    points: this.points };
};

p.useSave = function (save) {
  if (!save) return;

  if ("type" in save) this.type = save.type;
  if ("points" in save) this.points = save.points;
};

p.getRatio = function (p) {
  return this._easer.getRatio(p);
};

p.getEaser = function () {
  return this._easer;
};

p.getScript = function () {
  var base = "new Ease(BezierEasing(" + this.points.join() + "))";

  if (this.roughEase) {
    var roughOpt = {
      ease: "{{ease}}",
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper };
    roughOpt = JSON.stringify(roughOpt);
    //this is for avoid the quotes around the constructor call
    roughOpt = roughOpt.replace("\"{{ease}}\"", base);

    return "new RoughEase(" + roughOpt + ")";
  } else {
    return base;
  }
};

p.clone = function () {
  return new Ease(this);
};

p.match = function (ease) {
  return ease.type === this.type && ease.points[0] === this.points[0] && ease.points[1] === this.points[1] && ease.points[2] === this.points[2] && ease.points[3] === this.points[3] && ease.roughEase === this.roughEase && ease.roughStrength === this.roughStrength && ease.roughPoints === this.roughPoints && ease.roughClamp === this.roughClamp && ease.roughRandomise === this.roughRandomise && ease.roughTaper === this.roughTaper;
};


p.showOptionsDialog = function () {
  var _this = this;


  dialogEaseOptions.show({
    ease: this,
    on: {
      "change.roughEase": function (v) {
        return _this.roughEase = v;
      },
      "change.roughStrength": function (v) {
        return _this.roughStrength = v;
      },
      "change.roughPoints": function (v) {
        return _this.roughPoints = v;
      },
      "change.roughClamp": function (v) {
        return _this.roughClamp = v;
      },
      "change.roughRandomise": function (v) {
        return _this.roughRandomise = v;
      },
      "change.roughTaper": function (v) {
        return _this.roughTaper = v;
      } }
  });
};





p._refreshEaser = function () {
  this._easer = new GreenSockGlobals.Ease(BezierEasing.apply(null, _toArray(this._points)));

  if (this.roughEase) {
    this._easer = new RoughEase({
      template: this._easer,
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper });
  }
};

},{"../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./dialogEaseOptions":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogEaseOptions.js","bezier-easing":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\bezier-easing\\index.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var Ease = require("./Ease");
var defineCompactProperty = require("../utils/defineCompactProperty");

function Key(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._createEase();

  this._isSelected = false;
  this._height = amgui.LINE_HEIGHT;


  this.looks = opt.looks;

  this._deDropdown = amgui.createDropdown({
    options: ["ease", "delete", "randomise"],
    onSelect: function (e) {
      return _this._onSelectDropdown(e);
    } });

  this._dragger = amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function (e) {
      if (!e.shiftKey && !e.ctrlKey) {
        _this.timeline.emit("deselectAllKeys");
      }

      //TODO shift+select (if an other key(s) selected in this line its should select thoes are between them)
      if (e.shiftKey || e.ctrlKey) {
        if (_this._isSelected) {
          _this.select();
        } else {
          _this.deselect();
        }
      } else {
        _this.select();
      }

      return {
        dragged: 0 };
    },
    onMove: function (md) {
      var diffTime = (md.dx / _this.timeline.timescale) - md.dragged;

      md.dragged += diffTime;

      _this.timeline.emit("translateSelectedKeys", diffTime);
    }
  });

  if (opt) {
    am.history.dontSave(function () {
      return _this.useSave(opt);
    });
  }

  this.timeline.on("deselectAllKeys", this._onDeselectAllKeys, this);
  this.timeline.on("translateSelectedKeys", this._onTranslateSelectedKeys, this);
  // this.timeline.on('changeTime', this._onChangeTimelineTime, this);
}

inherits(Key, EventEmitter);
var p = Key.prototype;
module.exports = Key;


defineCompactProperty(p, [{ name: "time", type: "int", history: true }, { name: "value", history: true }, { name: "parentKeyLine", event: "added" }]);






p.getSave = function () {
  return {
    value: _.cloneDeep(this.value),
    time: this.time,
    ease: this.ease.getSave() };
};

p.useSave = function (save) {
  if ("value" in save) this.value = save.value;
  if ("time" in save) this.time = save.time;
  if ("ease" in save) this.ease.useSave(save.ease);
};

p.select = function () {
  if (this._isSelected) return;

  this._isSelected = true;

  this.emit("select");
};

p.deselect = function () {
  if (!this._isSelected) return;

  this._isSelected = false;

  this.emit("deselect");
};

p.grab = function (e) {
  this._dragger.emitDown(e);
};

p.remove = function () {
  this.emit("need.remove", this);
};

p.getPrevKey = function () {
  return this.parentKeyLine.getPrevKey(this.time);
};

p.getNextKey = function () {
  return this.parentKeyLine.getNextKey(this.time);
};

p.renderToLine = function (ctx) {
  var looks = this.looks || this.parentKeyLine.keyLooks, height = this._height, keyPos = ~ ~this.timeline.timeToRenderPos(this.time) + 0.5, line = looks.line, circle = looks.circle, r = 2, isSelected = this._isSelected;

  this.renderEaseToLine(ctx);

  this.emit("prerender", ctx, this);

  if (line) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? amgui.color.selected : (line.color || "#eee");
    ctx.lineWidth = line.width || 1;
    ctx.moveTo(keyPos, 0);
    ctx.lineTo(keyPos, height);
    ctx.stroke();
    ctx.restore();
  }

  if (circle) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? amgui.color.selected : (circle.color || "#eee");
    ctx.fillStyle = isSelected ? amgui.color.selected : (circle.fillColor || "#eee");
    ctx.lineWidth = circle.width || 1;
    ctx.arc(keyPos, height / 2, "r" in circle ? circle.r : r, "arcStart" in circle ? circle.arcStart : 0, "arcEnd" in circle ? circle.arcEnd : 2 * Math.PI);
    ctx.fill();
    ctx.stroke();
    ctx.restore();
  }

  if (this.timeline.currTime === this.time) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = amgui.color.red;
    ctx.lineWidth = 1;
    ctx.arc(keyPos, height / 2, 6, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.restore();
  }

  this.emit("postrender", ctx, this);
};

p.renderEaseToLine = function (ctx) {
  if (!this.ease) return;

  var looks = this.looks || this.parentKeyLine.keyLooks;

  var ease = this.ease, color = (looks.ease && looks.ease.color) || "rgba(225,225,225,.23)", height = this._height, keyPos = this.timeline.timeToRenderPos(this.time), prevKey = this.getPrevKey(), prevKeyPos = this.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), width = keyPos - prevKeyPos;

  if (width === 0) return;

  ctx.save();
  ctx.beginPath();
  ctx.strokeStyle = color;
  ctx.lineWidth = 1.2;
  ctx.moveTo(prevKeyPos, height);

  for (var i = 0; i < width; ++i) {
    ctx.lineTo(prevKeyPos + i, height - height * ease.getRatio(i / width));
  }

  ctx.stroke();
  ctx.restore();
};

p.getDropdown = function () {
  return this._deDropdown;
};








p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    this.ease.showOptionsDialog();
  } else if (selection === "delete") {
    this.remove();
  } else if (selection === "randomise") {
    am.dialogs.WIP.show();
  }
};

p._onChangeEase = function () {
  this.emit("change.ease");
};

p._onDeselectAllKeys = function () {
  this.deselect();
};

p._onTranslateSelectedKeys = function (offset) {
  if (this._isSelected) {
    this.time += offset;
  }
};

p._onChangeTimelineTime = function () {
  var isInTime = this.timeline.currTime === this.time;

  if (isInTime !== this._isInTime) {
    this.emit("need.render");
  }
};








p._createEase = function () {
  this.ease = new Ease();
  this.ease.on("change", this._onChangeEase, this);
};







p.dispose = function () {
  this._deDropdown.removeEventListener("select", this._onSelectDropdown);
  this.timeline.off("deselectAllKeys", this._onDeselectAllKeys, this);
  this.timeline.off("translateSelectedKeys", this._onTranslateSelectedKey, this);
  this.timeline.off("changeTime", this._onChangeTimelineTime, this);

  if (this._deDropdown.parentNode) this._deDropdown.parentNode.removeChild(this._deDropdown);
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Ease":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Ease.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyGroup.js":[function(require,module,exports){
"use strict";

var Key = require("./Key");
var inherits = require("inherits");
var defineCompactProperty = require("../utils/defineCompactProperty");

function KeyGroup(opt) {
  opt = opt || {};

  this._subkeys = [];

  Key.apply(this, arguments);

  this.timeline.removeListener("deselectAllKeys", this._onDeselectAllKeys);
  this.timeline.removeListener("translateSelectedKeys", this._onTranslateSelectedKeys);
}

inherits(KeyGroup, Key);
var p = KeyGroup.prototype;
module.exports = KeyGroup;




Object.defineProperties(p, {
  ease: {
    set: function (ease) {
      this._subkeys.forEach(function (key) {
        key.ease.useSave(ease.getSave());
      });
    }
  }
});

defineCompactProperty(p, [{ name: "time", type: "int", history: false }, { name: "value", history: false }]);






p.getSave = function () {
  return {};
};

p.select = function () {
  this._subkeys.forEach(function (key) {
    key.select();
  });

  this._refreshSelected();
};

p.deselect = function () {
  this._subkeys.forEach(function (key) {
    key.deselect();
  });

  this._refreshSelected();
};

p.setSubkeys = function (newSubkeys) {
  this._subkeys.length = 0;
  this._subkeys.push.apply(this._subkeys, newSubkeys);

  this._refreshSelected();
};

p.removeSubkey = function (key) {
  var idx = this._subkeys.indexOf(key);

  if (idx === -1) return;

  this._subkeys.splice(idx, 1);
};

p.remove = function () {
  this._subkeys.slice().forEach(function (key) {
    key.remove();
  });
};

p.renderEaseToLine = function (ctx) {
  this._subkeys.forEach(function (key) {
    return key.renderEaseToLine(ctx);
  });
};









p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    this.ease.showOptionsDialog();
  } else if (selection === "delete") {
    this.remove();
  }
};

p._onChangeEase = function (ease) {
  this.ease = ease;
};







p._refreshSelected = function () {
  var selected = this._subkeys.every(function (key) {
    return key._isSelected;
  });

  if (selected !== this._isSelected) {
    this._isSelected = selected;

    this.emit(this._isSelected ? "select" : "deselect");
  }
};





p._createEase = function () {};





p.dispose = function () {};

},{"../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var defineCompactProperty = require("../utils/defineCompactProperty");

function KeyLine(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._keys = [];
  this._height = amgui.LINE_HEIGHT;
  this._hidden = false;

  this.keyLooks = {
    line: {
      color: "#eee"
    },
    circle: {}
  };

  this._onDblClick = this._onDblClick.bind(this);
  this._onMouseDown = this._onMouseDown.bind(this);

  this._render = amgui.delayWithRAF(this._render, this);

  this._createDomElem();

  var dropdownBinding = amgui.bindDropdown({
    deTarget: this._canvas,
    asContextMenu: true,
    onOpening: function (e) {
      var key = this.getKeyUnderPos(e.x), dropdown = key && key.getDropdown();

      if (dropdown) {
        dropdownBinding.setDropdown(dropdown);
      } else {
        return false;
      }
    }.bind(this) });

  amgui.callOnAdded(this.domElem, function () {
    return _this._render();
  });

  this.timeline.on(["changeTimescale", "changeTape"], this._render, this);
}

inherits(KeyLine, EventEmitter);
var p = KeyLine.prototype;
module.exports = KeyLine;






Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  },
  hidden: {
    set: function (v) {
      v = !!v;

      if (v === this._hidden) return;

      this._hidden = v;

      this.domElem.style.display = v ? "none" : "";
    },
    get: function () {
      return this._hidden;
    }
  } });



defineCompactProperty(p, [{ name: "bgHighlight", type: "boolean", onChange: function (v) {
    this._canvas.style.backgroundColor = v ? amgui.color.bg1 : amgui.color.bg0;
  } }]);



p.addKey = function (key) {
  var _this2 = this;


  this._keys.push(key);
  key.parentKeyLine = this;

  am.history.save({
    undo: function () {
      return _this2.removeKey(key);
    },
    redo: function () {
      return _this2.addKey(key);
    },
    name: "add key" });

  key.on(["change.value", "change.time"], this._onChangeKeyValue, this);
  key.on(["need.render", "select", "deselect", "change.time"], this._onKeyNeedRender, this);
  key.on("need.remove", this._onKeyNeedRemove, this);

  this._render();
  this.emit("change.keys");
};

p.removeKey = function (key) {
  var _this3 = this;


  var idx = this._keys.indexOf(key);

  if (idx === -1) {
    return false;
  }

  this._keys.splice(idx, 1);
  key.parentKeyLine = undefined;

  am.history.save({
    undo: function () {
      return _this3.addKey(key);
    },
    redo: function () {
      return _this3.removeKey(key);
    },
    name: "remove key" });

  key.off(["change.value", "change.time"], this._onChangeKeyValue, this);
  key.off(["need.render", "select", "deselect", "change.time"], this._onKeyNeedRender, this);
  key.off("need.remove", this._onKeyNeedRemove, this);

  key.dispose();

  this._render();
  this.emit("change.keys");

  return true;
};

p.forEachKeys = function (fn, thisArg) {
  this._keys.forEach(fn, thisArg);
};

p.getKeyByTime = function (time) {
  return this._keys.find(function (key) {
    return key.time === time;
  });
};

p.getPrevKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time < time && (!retKey || retKey.time < key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getNextKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time > time && (!retKey || retKey.time > key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getClosestKey = function (time) {
  var retKey, retDist;

  this._keys.forEach(function (key) {
    var dist = Math.abs(time - key.time);

    if (!retKey || retDist > dist) {
      retDist = dist;
      retKey = key;
    }
  });

  return retKey;
};

p.getKeyUnderPos = function (x) {
  var time = this.timeline.screenXToTime(x), key = this.getClosestKey(time);

  if (key && (Math.abs(time - key.time) * this.timeline.timescale) < 4) {
    return key;
  }
};

p.getKeyTimes = function () {
  return _.pluck(this._keys, "time");
};









p._render = function () {
  if (this._skipRender || this.hidden) return;

  var canvas = this._canvas, ctx = this._ctx;

  canvas.width = this.timeline.width;
  canvas.height = this._height;

  _.sortBy(this._keys, "time").forEach(function (key) {
    return key.renderToLine(ctx);
  });
};








p._onChangeKeyValue = function () {
  this.emit("change.keys");
};

p._onKeyNeedRender = function () {
  this._render();
};

p._onKeyNeedRemove = function (key) {
  this.removeKey(key);
};

p._onDblClick = function (e) {
  var time = this.timeline.screenXToTime(e.screenX), key = this.getNextKey(time);

  if (key) {
    this.timeline.inlineEaseEditor.show({ key: key });
  }
};

p._onMouseDown = function (e) {
  var key = this.getKeyUnderPos(e.screenX);

  if (key) {
    key.grab(e);
  }
};












p._createDomElem = function createKeyline() {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.position = "relative";
  this.domElem.setAttribute("debug-keyline", 1);
  this.domElem.style.overflow = "hidden";


  //TODO remove _deLine if it's doesn't needed;
  this._deLine = document.createElement("div");
  this._deLine.style.position = "relative";
  this._deLine.style.width = "100%";
  this._deLine.style.height = this._height + "px";
  this.domElem.appendChild(this._deLine);

  this._canvas = document.createElement("canvas");
  this._canvas.style.position = "absolute";
  this._deLine.appendChild(this._canvas);
  this._ctx = this._canvas.getContext("2d");

  amgui.createSeparator({ parent: this._deLine });

  this._canvas.addEventListener("dblclick", this._onDblClick);
  this._canvas.addEventListener("mousedown", this._onMouseDown);
};

p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLineGroup.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var KeyLine = require("./KeyLine");
var KeyGroup = require("./KeyGroup");
var amgui = require("../amgui");

function KeyLineGroup() {
  KeyLine.apply(this, arguments);

  this._keyLines = [];

  this._refreshHeadKeyline = amgui.delayWithRAF(this._refreshHeadKeyline, this);

  this._createSubcont();
}

inherits(KeyLineGroup, KeyLine);
var p = KeyLineGroup.prototype;
module.exports = KeyLineGroup;








Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  }
});




p.addKey = function (key) {
  var _this = this;


  if (!(key instanceof KeyGroup)) throw Error;

  am.history.dontSave(function () {
    return KeyLine.prototype.addKey.call(_this, key);
  });
};


p.removeKey = function (key) {
  var _this2 = this;


  am.history.dontSave(function () {
    return KeyLine.prototype.removeKey.call(_this2, key);
  });
};


p.addKeyLine = function (keyLine) {
  if (this._keyLines.indexOf(keyLine) !== -1) {
    return;
  }

  keyLine.on("change.keys", this._onChangeKeyLineKeys, this);

  this._keyLines.push(keyLine);

  this._deSubcont.appendChild(keyLine.domElem);

  this._refreshHeadKeyline();
};

p.removeKeyline = function (keyLine) {
  var idx = this._keyLines.indexOf(keyLine);
  if (idx === -1) return;

  keyLine.off("change.keys", this._onChangeKeyLineKeys, this);

  this._keyLines.splice(idx, 1);

  if (keyLine.domElem.parentNode === this._deSubcont) {
    this._deSubcont.removeChild(keyLine.domElem);
  }

  this._refreshHeadKeyline();
};











p._onChangeKeyLineKeys = function () {
  this._refreshHeadKeyline();
};

p._onDblClick = function (e) {
  var time = this.timeline.screenXToTime(e.screenX), key = this.getNextKey(time), eases = [];

  collectEases(key);

  if (key) {
    this.timeline.inlineEaseEditor.show({ key: key, eases: eases });
  }


  function collectEases(key) {
    key._subkeys.forEach(function (subKey) {
      if (subKey instanceof KeyGroup) {
        collectEases(subKey);
      } else {
        eases.push(subKey.ease);
      }
    });
  }
};





p._refreshHeadKeyline = function () {
  this._skipRender = true;

  var times = [], keysOnTimes = [];

  this._keyLines.forEach(function (keyLine) {
    if (keyLine.hidden) return;

    keyLine.forEachKeys(function (key) {
      var tidx = times.indexOf(key.time);

      if (tidx === -1) {
        times.push(key.time);
        keysOnTimes.push([]);
        tidx = times.length - 1;
      }

      keysOnTimes[tidx].push(key);
    }, this);
  }, this);


  while (times.length < this._keys.length) {
    this.removeKey(this._keys[this._keys.length - 1]);
  }

  while (times.length > this._keys.length) {
    this.addKey(new KeyGroup({}, this.timeline));
  }


  times.forEach(function (time, idx) {
    var key = this._keys[idx];

    key.time = time;

    key.setSubkeys(keysOnTimes[idx]);
  }, this);

  this._skipRender = false;
  this._render();
};




p._createSubcont = function () {
  this._deSubcont = document.createElement("div");
  this._deSubcont.style.width = "100%";
  this.domElem.appendChild(this._deSubcont);
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./KeyGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyGroup.js","./KeyLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var defineCompactProperty = require("../utils/defineCompactProperty");
var OptionLine = require("../utils/OptionLine");
var Key = require("./Key");
var KeyLine = require("./KeyLine");
var amgui = require("../amgui");

function Param(opt, timeline) {
  var _this = this;
  if (opt === undefined) opt = {};


  EventEmitter.call(this);

  this.timeline = timeline;

  this._lineH = amgui.LINE_HEIGHT;
  this._inputs = [];
  this._defaultValue = opt.defaultValue || 0;

  this._onChangeInput = this._onChangeInput.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeKeyLineKeys = this._onChangeKeyLineKeys.bind(this);
  this._onClickTgglKey = this._onClickTgglKey.bind(this);
  this._onClickStepPrevKey = this._onClickStepPrevKey.bind(this);
  this._onClickStepNextKey = this._onClickStepNextKey.bind(this);

  this._createKeyline(opt.keyLine);
  this._createOptions(opt.optionLine);

  this.keyLine.parentParam = this;

  this.deOptionLine = this.optionLine.domElem;
  this.deKeyLine = this.keyLine.domElem;

  //hack!
  $([this.optionLine.domElem, this.keyLine.domElem]).on("mouseenter", function () {
    _this.optionLine.bgHighlight = true;
    _this.keyLine.bgHighlight = true;
  }).on("mouseleave", function () {
    _this.optionLine.bgHighlight = false;
    _this.keyLine.bgHighlight = false;
  });

  this.setMaxListeners(1234);


  this.useSave(opt);

  this.timeline.on("changeTime", this._onChangeTime);
}

inherits(Param, EventEmitter);
var p = Param.prototype;
module.exports = Param;









Object.defineProperties(p, {
  height: {
    get: function () {
      return this.hidden ? 0 : this._lineH;
    }
  }
});

defineCompactProperty(p, [{ name: "name", type: "string" }, { name: "title", type: "string", onChange: function (v) {
    this.optionLine.title = v;
  } }, { name: "hidden", type: "boolean", startValue: false, onChange: function (v) {
    this.keyLine.hidden = v;
    this.optionLine.hidden = v;
  } }, { name: "static", type: "boolean" }]);



p.getSave = function () {
  var save = {
    name: this.name,
    title: this.title,
    hidden: this.hidden,
    "static": this["static"],
    keys: [] };

  this.keyLine.forEachKeys(function (key) {
    save.keys.push(key.getSave());
  });

  return save;
};

p.useSave = function (save) {
  this.name = save.name;
  this.title = save.title || save.name;
  this.hidden = save.hidden;
  this["static"] = save["static"];

  if (save.keys) {
    save.keys.forEach(this.addKey, this);
  }
};

p.getScriptKeys = function (opt) {
  if (opt === undefined) opt = {};


  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var k = {
      time: key.time,
      options: {
        ease: opt.runnable ? key.ease.getEaser() : key.ease.getScript() }
    };
    k.options[this.name] = key.value;
    keys.push(k);
  }, this);

  return _.sortBy(keys, "time");
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = this.timeline.currTime;
  }

  var ret, before, after, same;

  this.keyLine.forEachKeys(function (key) {
    if (key.time === time) {
      same = key;
    }

    if (key.time < time && (!before || before.time < key.time)) {
      before = key;
    }

    if (key.time > time && (!after || after.time > key.time)) {
      after = key;
    }
  });

  if (same) {
    ret = same.value;
  } else {
    if (after && before) {
      var p = (time - before.time) / (after.time - before.time), av = after.value, bv = before.value;

      p = after.ease.getRatio(p);

      ret = createCalc(av, bv, p);
    } else if (before) {
      ret = before.value;
    } else if (after) {
      ret = after.value;
    }
  }

  return ret === undefined ? this._defaultValue : ret;




  //TODO dont think is it's needed anymore
  function createCalc(av, bv, p) {
    if (!isNaN(av) && !isNaN(bv)) {
      return parseFloat(bv) + ((av - bv) * p);
    }

    var aUnit = getUnit(av);
    var bUnit = getUnit(bv);

    if (aUnit === bUnit) {
      av = parseFloat(av);
      bv = parseFloat(bv);

      return (bv + ((av - bv) * p)) + aUnit;
    }

    var avs = _.compact(av.split(" ")), bvs = _.compact(bv.split(" ")), avl = avs.length, bvl = bvs.length, ret = [];

    if (avl !== bvl) {
      if (avl < bvl) {
        avs = avs.concat(bvs.slice(avl));
      } else {
        bvs = bvs.concat(avs.slice(bvl));
      }
    }

    avs.forEach(function (a, idx) {
      ret.push(calc(a, bvs[idx]));
    });

    return ret.join(" ");

    function calc(a, b) {
      return "calc(" + b + " + (" + a + " - " + b + ")*" + p + ")";
    }

    function getUnit(v) {
      var m = /([a-z%]+)$/.exec(v);

      return m && m[1];
    }
  }
};

p.addKey = function (opt) {
  this.timeline.pause();

  if (!_.has(opt, "time")) {
    opt.time = this.timeline.currTime;
  }

  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      key.value = opt.value;
    }
  } else {
    key = new Key(opt, this.timeline);
    key.value = "value" in opt ? opt.value : this.getValue(opt.time);

    this.keyLine.addKey(key);

    this.emit("addKey", key, this);
  }

  this._refreshInputs();
  this._refreshTgglKey();

  return key;
};

p.removeKey = function (key) {
  if (!this.keyLine.removeKey(key)) {
    return;
  }

  this._refreshTgglKey();
};

p.getKey = function (time) {
  return this.keyLine.getKeyByTime(time);
};

p.getPrevKey = function (time) {
  return this.keyLine.getPrevKey(time);
};

p.getNextKey = function (time) {
  return this.keyLine.getNextKey(time);
};

p.gotoPrevKey = function (time) {
  if (time === undefined) time = this.timeline.currTime;

  var key = this.getPrevKey(time);

  if (key) {
    this.timeline.currTime = key.time;
  }
};

p.gotoNextKey = function (time) {
  if (time === undefined) time = this.timeline.currTime;

  var key = this.getNextKey(time);

  if (key) {
    this.timeline.currTime = key.time;
  }
};

p.getKeyTimes = function () {
  return this.keyLine.getKeyTimes();
};

p.toggleKey = function () {
  var key = this.getKey(this.timeline.currTime);

  if (key) {
    this.removeKey(key);
  } else {
    this.addKey({ time: this.timeline.currTime });
  }
};

p.isValid = function () {
  return this.keyLine.keyCount !== 0;
};

p.attachInput = function (input) {
  this.detachInput(input);

  input.on("change", this._onChangeInput);

  this._inputs.push(input);
};

p.detachInput = function (input) {
  var idx = this._inputs.indexOf(input);

  if (idx === -1) {
    return;
  }

  input.removeListener("change", this._onChangeInput);

  this._inputs.splice(idx, 1);
};

p._isKeySet = function (time) {
  return !!this.getKey(time);
};








p._onChangeInput = function (value) {
  var oldValue = this.getValue();

  if (String(value) === String(oldValue)) {
    return;
  }

  this.addKey({
    time: this.timeline.currTime,
    value: value
  });
};

p._onChangeKeyLineKeys = function () {
  this.emit("change.keys");
};

p._onChangeTime = function () {
  this._refreshInputs();
  this._refreshTgglKey();
};

p._onClickTgglKey = function () {
  this.toggleKey();
};

p._onClickStepPrevKey = function () {
  this.gotoPrevKey();
};

p._onClickStepNextKey = function () {
  this.gotoNextKey();
};









p._refreshInputs = function () {
  if (this.getValue() !== undefined) {
    this._inputs.forEach(function (input) {
      //get the value again, because it can change over the iteration
      input.value = this.getValue();
    }, this);
  }
};

p._refreshTgglKey = function () {
  var time = this.timeline.currTime;

  this.optionLine.buttons.key.setHighlight(this._isKeySet(time));
  this.optionLine.buttons.key.setSteppers(!!this.getPrevKey(time), !!this.getNextKey(time));
};






p._createOptions = function (opt) {
  var _this2 = this;


  this.optionLine = new OptionLine(_.assign({
    keepSpaceForTgglChildren: true,
    contextMenuOptions: [{ text: "move up", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "move down", onSelect: function () {
        return am.dialogs.WIP.show();
      } }, { text: "delete", onSelect: function () {
        return _this2.emit("need.remove");
      } }],
    title: {
      text: this.name },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    inputs: [{
      type: "unit",
      units: [],
      name: "input"
    }],
    indent: 0 }, opt));

  if (this.optionLine.inputs.input) {
    this.attachInput(this.optionLine.inputs.input);
  }
};

p._createKeyline = function () {
  this.keyLine = new KeyLine({}, this.timeline);
  this.keyLine.on("change.keys", this._onChangeKeyLineKeys);
};






p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","../utils/defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","./Key":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Key.js","./KeyLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLine.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js":[function(require,module,exports){
"use strict";

var Param = require("./Param");
var ParamGroup = require("./ParamGroup");

function ParamFactory(opt, timeline) {
  this.timeline = timeline;

  this.groups = {};
}

module.exports = ParamFactory;
var p = ParamFactory.prototype;


p.create = function (opt) {
  if (opt === undefined) opt = {};


  if (!_.has(opt, "title")) opt.title = opt.name;

  if (opt.children || opt.isGroup) {
    return this.createGroup(opt);
  }

  if (!opt.dontBuildFromRoot) {
    var rpgName = this.getRootParamGroupName(opt.name);

    if (rpgName) {
      return this.createGroup({ name: rpgName });
    }
  }

  return this._assembleParam(opt);
};

p.createGroup = function (opt) {
  var _this = this;


  opt.paramFactory = this;

  if (!opt.path && !opt.name) throw Error;

  opt.path = opt.path || [opt.name];
  opt.name = opt.name || _.last(opt.path);

  var children = this.getGroupMemberNames(opt.path);
  opt["static"] = _.has(opt, "static") ? opt["static"] : children.length !== 0;

  var group = this._assembleGroup(opt);

  if (children.length) {
    children.forEach(function (childName) {
      if (group.getParam(childName)) return;

      var child = _this.create({
        "static": true,
        name: childName,
        path: opt.path.concat(childName),
        dontBuildFromRoot: true });

      group.addParam(child);
    });
  }

  return group;
};

p._assembleParam = function (opt) {
  //for overwriting
  return new Param(opt, this.timeline);
};

p._assembleGroup = function (opt) {
  //for overwriting
  return new ParamGroup(opt, this.timeline);
};

p.getRootParamGroupName = function (paramName) {
  var _this2 = this;


  return Object.keys(this.groups).find(function (rootKey) {
    return search(_this2.groups[rootKey]);
  });

  function search(group) {
    if (_.isArray(group)) {
      if (group.indexOf(paramName) !== -1) {
        return true;
      }
    } else {
      for (var key in group) {
        if (search(group[key])) {
          return true;
        }
      }
    }
  }
};

p.getGroupMemberNames = function (path) {
  var group = this.groups;

  path = path.slice();

  while (path.length) {
    group = group[path.shift()];
  }

  if (_.isPlainObject(group)) group = Object.keys(group);

  return group || [];
};

p.ifit = function (str) {
  var rx = new RegExp("(^|,)" + str + "(,|$)");

  var ret = {
    is: function (cases, cb) {
      if (cases.match(rx)) {
        cb();
      }

      return ret;
    } };

  return ret;
};

},{"./Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","./ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js":[function(require,module,exports){
"use strict";

var _slice = Array.prototype.slice;
var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var inherits = require("inherits");
var OptionLine = require("../utils/OptionLine");
var KeyLineGroup = require("./KeyLineGroup");
var Param = require("./Param");

function ParamGroup(opt) {
  var _this = this;
  if (opt === undefined) opt = {};


  this.paramFactory = opt.paramFactory;

  this._params = [];
  this._merged = false;
  this._collapsed = false;

  this.borrowChildInputsOnCollapse = opt.borrowChildInputsOnCollapse;

  Param.apply(this, arguments);

  this.keyLine.keyLooks.circle = undefined;


  this._refreshHeights();

  this.on("change.hidden", function () {
    return _this._refreshHeights();
  });
}

inherits(ParamGroup, Param);
var p = ParamGroup.prototype;
module.exports = ParamGroup;



Object.defineProperties(p, {
  height: {
    get: function () {
      var ret = this.hidden ? 0 : this._lineH;

      if (!this.collapsed) {
        this._params.forEach(function (param) {
          return ret += param.height;
        });
      }

      return ret;
    }
  },
  merged: {
    set: function (v) {
      v = !!v;
      if (v === this._merged) return;

      this._merged = v;

      this.optionLine.buttons.tgglMerge.setToggle(v);
      this.optionLine.buttons.tgglChildren.inactive = v;
      this.keyLine.keyLooks.circle = v ? {} : undefined;
      this.keyLine._render(); //TODO: do this keyLooks thing somehow better
      this.collapsed = v;

      if (v) this._makeKeyLinesSymmetric();
    },
    get: function () {
      return this._merged;
    }
  },
  collapsed: {
    set: function (v) {
      v = !!v;
      if (v === this._collapsed) return;

      this._collapsed = v;

      this.optionLine.buttons.tgglChildren.setToggle(!v);
      this.emit("", this);
      this._refreshHeights();

      if (this.borrowChildInputsOnCollapse) {
        if (v) {
          this.optionLine.borrowChildInputs();
        } else {
          this.optionLine.returnChildInputs();
        }
      }
    },
    get: function () {
      return this._collapsed;
    }
  }
});


p.getSave = function () {
  var save = Param.prototype.getSave.call(this);
  delete save.keys;

  save.merged = this.merged;
  save.collapsed = this.collapsed;
  save.children = this._params.map(function (p) {
    return p.getSave();
  });

  return save;
};

p.useSave = function (save) {
  var _this2 = this;


  Param.prototype.useSave.call(this, save);

  if ("collapsed" in save) this.collapsed = save.collapsed;
  if ("merged" in save) this.merged = save.merged;
  if ("children" in save) save.children.forEach(function (childOpt) {
    childOpt.dontBuildFromRoot = true;
    _this2.addParam(childOpt);
  });
};

p.addParam = function (param) {
  var _this3 = this;


  if (param === this) throw Error;

  if (!(param instanceof Param)) {
    param = this.paramFactory.create(param);
  }

  if (param.parentGroup) {
    param.parentGroup.removeParam(param);
  }
  param.parentGroup = this;

  am.history.save({
    undo: function () {
      return _this3.removeParam(param);
    },
    redo: function () {
      return _this3.addParam(param);
    },
    name: "add param " + param.name });

  this._params.push(param);
  this.optionLine.addOptionLine(param.optionLine);
  this.keyLine.addKeyLine(param.keyLine);

  param.optionLine.indent = this.optionLine.indent + 1;
  param.on("change.keys", function () {
    var args = _slice.call(arguments);

    return _this3.emit.apply(_this3, ["change.keys"].concat(_toArray(args)));
  });
  param.on("change.height", this._onChangeSubparamHeight, this);
  param.on("addKey", this._onAddKeySubparam, this);
  param.on("need.remove", this._onSubparamNeedRemove, this);

  if (param.name in this.optionLine.inputs) {
    param.attachInput(this.optionLine.inputs[param.name]);
  }

  this.emit("addParam", param, this);
  this.emit("change.structure");
  this.emit("change.height");
  this._refreshHeights();

  return param;
};

p.removeParam = function (param) {
  var _this4 = this;


  var idx = this._params.indexOf(param);

  if (idx === -1) {
    return;
  }

  am.history.save({
    undo: function () {
      return _this4.addParam(param);
    },
    redo: function () {
      return _this4.removeParam(param);
    },
    name: "remove param " + param.name });

  parent.parentGroup = undefined;

  param.off("", this._onChangeSubparamHeight, this);
  param.off("addKey", this._onAddKeySubparam, this);
  param.off("need.remove", this._onSubparamNeedRemove, this);

  this._params.splice(idx, 1);
  this.keyLine.removeKeyline(param.keyLine);

  this.emit("removeParam", param, this);
  this.emit("change.structure", this);
  this.emit("change.height");
  this._refreshHeights();
};

p.getParam = function (paramName) {
  return this._params.find(function (param) {
    return param.name === paramName;
  });
};

p.getParamNames = function () {
  return _.pluck(this._params, "name");
};

p.getEndParams = function () {
  var ret = [];

  this._params.forEach(function (param) {
    if (param instanceof ParamGroup) {
      ret.push.apply(ret, param.getEndParams());
    } else {
      ret.push(param);
    }
  });

  return ret;
};

p.moveParam = function () {};

p.toggleKey = function (time) {
  time = time || this.timeline.currTime;

  var hasKey = this._params.some(function (param) {
    return param.getKey(time);
  });

  if (hasKey) {
    this.removeKeyAll(time);
  } else {
    this.addKeyAll(time);
  }
};

p._makeKeyLinesSymmetric = function () {
  var _this5 = this;
  console.time("_makeKeyLinesSymmetric");
  var times = [];

  this._params.forEach(function (param) {
    if (param.hidden) return;

    [].push.apply(times, param.getKeyTimes());
  });

  _.uniq(times).forEach(function (time) {
    return _this5.addKeyAll(time);
  });
  console.timeEnd("_makeKeyLinesSymmetric");
};


p.addKeyAll = function (time) {
  time = time === undefined ? this.timeline.currTime : time;

  this._params.forEach(function (param) {
    if (param.hidden) return;

    if (param instanceof ParamGroup) {
      param.addKeyAll(time);
    } else {
      param.addKey({ time: time });
    }
  });
};

p.removeKeyAll = function (time) {
  time = time || this.timeline.currTime;

  this._params.forEach(function (param) {
    if (param.hidden) return;

    var key = param.getKey(time);
    if (key) {
      param.removeKey(key);
    }
  });
};




p._isKeySet = function (time) {
  //empty groups returns true except if this is the root paramGroup
  return (this.parentGroup || this._params.length !== 0) && this._params.every(function (p) {
    return p._isKeySet(time);
  });
};








p._onSubparamNeedRemove = function (param) {
  if (this["static"]) {
    this.emit("need.remove", this);
  } else {
    this.removeParam(param);
  }
};

p._onChangeTime = function () {
  this._refreshTgglKey();
};

p._onClickTgglChildren = function () {
  this.collapsed = !this.collapsed;
};

p._onClickTgglMerge = function () {
  this.merged = !this.merged;
};

p._onChangeSubparamHeight = function () {
  this.emit("", this);
  this._refreshHeights();
};

p._onAddKeySubparam = function (key, param) {
  if (this._merged && !param.hidden) {
    this.addKeyAll(key.time);
  }
};







p._refreshHeights = function () {
  var h = this.height;
  this.keyLine.domElem.style.height = h + "px";
  this.optionLine.domElem.style.height = h + "px";
};







p._createOptions = function (opt) {
  var _this6 = this;


  this.optionLine = new OptionLine(_.merge({
    tgglChildren: {
      onClick: function () {
        return _this6._onClickTgglChildren();
      } },
    contextMenuOptions: [{ text: "move up", onSelect: this.emit.bind(this, "move", this, -1) }, { text: "move down", onSelect: this.emit.bind(this, "move", this, 1) }, { text: "delete", onSelect: this.emit.bind(this, "delete", this) }],
    tgglMerge: {
      onClick: function () {
        return _this6._onClickTgglMerge();
      } },
    title: {
      text: this.name },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    indent: 0,
    hasSubcontainer: true }, opt));

  this.optionLine.buttons.tgglChildren.setToggle(true);
};

p._createKeyline = function () {
  this.keyLine = new KeyLineGroup({}, this.timeline);
};






p.dispose = function () {};

},{"../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","./KeyLineGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\KeyLineGroup.js","./Param":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Param.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\Track.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var ParamFactory = require("./ParamFactory");
var Transhand = require("transhand");
var ParamGroup = require("./ParamGroup");
var dialogTrackOptions = require("./dialogTrackOptions");
var dialogNewParam = require("./dialogNewParam");
var mstPlayer = require("./script.player.mst");


function Track(opt, timeline) {
  var _this = this;


  EventEmitter.call(this);

  this.timeline = timeline;

  this._selectors = [];
  this._endParams = [];

  this._selectedElems = [];
  this._isHidingSelectedElems = false;
  this._isPlaying = false;

  if (!this._paramFactory) this._paramFactory = new ParamFactory({}, this.timeline);

  this._onSelectClick = this._onSelectClick.bind(this);
  this._onChangeSelectors = this._onChangeSelectors.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onWindowScroll = this._onWindowScroll.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._onChangeTransformer = am.history.wrap({
    fn: this._onChangeTransformer,
    name: "transform",
    delay: 312 });

  this.paramGroup = new ParamGroup({
    name: "new track",
    paramFactory: this._paramFactory,
    optionLine: {
      tgglMerge: false,
      title: "-",
      contextMenuOptions: [{ text: "options", onSelect: function () {
          return _this._showSettings();
        } }, { text: "move up", onSelect: function () {
          return _this.emit("move", _this, -1);
        } }, { text: "move down", onSelect: function () {
          return _this.emit("move", _this, 1);
        } }, { text: "delete", onSelect: function () {
          return _this.emit("remove");
        } }],
      onDblclick: function () {
        return _this._showSettings();
      } } }, this.timeline);

  this.paramGroup.on("change.structure", this._refreshEndParams, this);

  this.paramGroup.on("change.keys", this._onChangeKeys, this);

  //test hack
  this.paramGroup.optionLine._deTitle.style.fontWeight = "bold";


  this.paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      tooltip: "add new parameter",
      icon: "plus",
      onClick: function () {
        return dialogNewParam.show({ track: _this });
      } }),
    name: "newParam",
    childIdx: 0 });

  this.deOptionLine = this.paramGroup.optionLine.domElem;
  this.deKeyLine = this.paramGroup.keyLine.domElem;

  this.deOptionLine.addEventListener("click", this._onSelectClick);
  this.deKeyLine.addEventListener("click", this._onSelectClick);

  this.paramGroup.on("changeHeight", this._onChangeHeight, this);

  this.setMaxListeners(1234);

  if (opt) {
    this.useSave(opt);
  }

  this.timeline.on("changeTime", this._onChangeTime, this);
}

inherits(Track, EventEmitter);
var p = Track.prototype;
module.exports = Track;

p.type = "plain_track_type";






Object.defineProperties(p, {
  height: {
    get: function () {
      return this.paramGroup.height;
    }
  }
});




p.getSave = function () {
  var save = {
    selectors: _.clone(this._selectors),
    paramTree: this.paramGroup.getSave() };

  return save;
};

p.useSave = function (save) {
  if (!save) {
    return;
  }

  this._selectors = save.selectors || [];
  if (save.paramTree) this.paramGroup.useSave(save.paramTree);

  this._refreshEndParams();
  this._refreshSelectedElems();
  this._refreshPlayer();
};

p._getScriptParams = function (opt) {
  var params = [];

  this._endParams.forEach(function (param) {
    if (param.hidden) return;

    var lastTime = 0;

    param = param.getScriptKeys({ runnable: opt.runnable }).map(function (key) {
      key.duration = (key.time - lastTime) / 1000;
      lastTime = key.time;
      delete key.time;

      return key;
    });

    if (param.length) {
      params.push(param);
    }
  });

  handleTransformOrigin();

  return params;




  function handleTransformOrigin() {
    var tox = _.find(params, function (param) {
      return "transformOriginX" in param[0].options;
    });
    var toy = _.find(params, function (param) {
      return "transformOriginY" in param[0].options;
    });
    var toz = _.find(params, function (param) {
      return "transformOriginZ" in param[0].options;
    });

    if (!tox) return;

    var to = [];
    tox.forEach(function (key, idx) {
      to.push({
        duration: key.duration,
        options: {
          ease: key.options.ease,
          transformOrigin: "" + (tox && tox[idx] ? tox[idx].options.transformOriginX : "50%") + " " + (toy && toy[idx] ? toy[idx].options.transformOriginY : "50%") + " " + (toz && toz[idx] ? (toz[idx].options.transformOriginZ || "0px") : "") }
      });
    });

    if (tox) params.splice(params.indexOf(tox), 1);
    if (toy) params.splice(params.indexOf(toy), 1);
    if (toz) params.splice(params.indexOf(toz), 1);
    params.push(to);
  }
};

p.getPlayer = function () {
  var rootTl = new TimelineMax().pause(), scriptParams = this._getScriptParams({ runnable: true }), selectedElems = this._selectedElems;

  scriptParams.forEach(function (param) {
    var tl = new TimelineMax();
    rootTl.add(tl, 0);

    param.forEach(function (key) {
      tl.to(selectedElems, key.duration, key.options);
    });
  });

  return rootTl;
};

p.getScript = function () {
  var code = "", selectors, timelines = this._getScriptParams({ runnable: false });


  //TODO: merge timelines if it's possible
  // for (var i = 0; i < timelines.length; ++i) {
  //     for (var j = 0; j < timelines.length; ++j) {
  //         if (i !== j && timelines[i].length === timelines[j].length) {
  //             var match = timelines[i].every(function (iKey, idx) {
  //                 var jKey = timelines[j][idx];

  //                 return iKey.time === jKey.time && iKey.ease.match(jKey.ease);
  //             });

  //             if (match) {
  //                 timelines[i].forEach(function (key, idx) {
  //                     _.assign(key, timelines[j][idx]);

  //                     timelines.splice(j, idx);
  //                     if (--j < i) {
  //                         --i;
  //                     }
  //                 });
  //             }
  //         }
  //     }
  // }

  selectors = JSON.stringify(this._selectors);
  timelines = JSON.stringify(timelines);
  //remove quotes around the Ease constructor calls
  //TODO: do this somehow nicer
  timelines = timelines.replace(/"ease":"(.*?)"/g, "\"ease\":$1");

  code = Mustache.render(mstPlayer, {
    timelines: timelines,
    selectors: selectors });

  return code;
};

p.addParam = function (opt) {
  opt = opt || {};

  var param = this.getParam(opt.name);

  if (param) {
    if (opt.keys) {
      opt.keys.forEach(param.addKey, param);
    }

    if ("hidden" in opt) {
      param.hidden = opt.hidden;
    }
  } else {
    this.paramGroup.addParam(opt);
    this._refreshEndParams();
    param = _.find(this._endParams, { name: opt.name });
  }

  return param;
};

p.getParam = function (name) {
  return this._endParams.find(function (param) {
    return param.name === name;
  });
};

p.select = function (opt) {
  opt = opt || {};

  if (this._isSelected) return;
  this._isSelected = true;


  if (!this._transformer) {
    this._transformer = new Transhand();
  }

  this._transformer.on("change", this._onChangeTransformer, this);
  window.addEventListener("resize", this._onWindowResize);
  window.addEventListener("scroll", this._onWindowScroll);

  this._refreshSelectedElems();

  if (this._selectedElems.length) {
    this.focusTransformer(opt.focusElem || this._selectedElems[0]);
  }

  this.paramGroup.optionLine.highlight = true;

  this.emit("select", this);
};

p.deselect = function () {
  if (!this._isSelected) return;
  this._isSelected = false;

  this._blurTransformer();

  this.paramGroup.optionLine.highlight = false;

  window.removeEventListener("resize", this._onWindowResize);
  window.removeEventListener("scroll", this._onWindowScroll);

  if (this._transformer) {
    this._transformer.off("change", this._onChangeTransformer, this);
  }
};

p.isSelected = function () {
  return this._isSelected;
};

p.renderTime = function (time) {
  if (time === undefined) {
    time = this.timeline ? this.timeline.currTime : 0;
  }

  if (this._selectors.length === 0) {
    return;
  }

  this._player.time(time / 1000);
  return;
};

p.play = function () {
  this._isPlaying = true;

  this._animPlay();
};

p.pause = function () {
  this._isPlaying = false;

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.getMagnetPoints = function () {
  return this.paramGroup.keyLine.getKeyTimes();
};

p._showSettings = function () {
  var _this2 = this;


  dialogTrackOptions.show({
    name: this.paramGroup.name,
    selectors: this._selectors,
    on: {
      "change.name": function (name) {
        return _this2.paramGroup.name = name;
      },
      "change.selectors": this._onChangeSelectors } });
};

p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  this.renderTime(this.timeline.currTime);
};











p._onSelectClick = function () {
  this.select();
};

p._onChangeTransformer = function (params, type) {
  var time = this.timeline.currTime;

  var add = function (name, value) {
    if (name === "x" || name === "y") {
      var bezierParam = this.getParam("bezier");

      if (bezierParam && !bezierParam.hidden) {
        var key = bezierParam.getKey(time), keyOpt;

        if (key) {
          keyOpt = key.getSave();
        } else {
          var _ref = bezierParam.getValue(time);

          var x = _ref.x;
          var y = _ref.y;
          //TODO bezierParam.inzertPoint(time, ...)
          keyOpt = { time: time, value: [{
              anchor: { x: x, y: y },
              handleLeft: { x: x, y: y },
              handleRight: { x: x, y: y } }] };
        }

        value = parseFloat(value);
        var lastPoint = _.last(keyOpt.value), diff = value - lastPoint.anchor[name];

        lastPoint.anchor[name] += diff;
        lastPoint.handleLeft[name] += diff;
        lastPoint.handleRight[name] += diff;

        bezierParam.addKey(keyOpt);

        return;
      }
    }

    var param = this.addParam({ name: name });

    param.addKey({
      time: time,
      value: value });
  }.bind(this);

  if (type === "transform") {
    Object.keys(params).forEach(function (name) {
      switch (name) {
        case "tx": add("x", params[name] + "px");break;
        case "ty": add("y", params[name] + "px");break;
        case "sx": add("scaleX", params[name]);break;
        case "sy": add("scaleY", params[name]);break;
        case "rz": add("rotationZ", (params[name] / Math.PI * 180) + "deg");break;
        case "ox": add("transformOriginX", (params[name] * 100) + "%");break;
        case "oy": add("transformOriginY", (params[name] * 100) + "%");break;
      }
    });
  }
};

p._onChangeTime = function (time) {
  if (this._isPlaying) {
    return;
  }

  this.renderTime(time);
  this.focusTransformer();
};

p._onChangeKeys = function () {
  this._refreshPlayer();
  this.renderTime();
  this.focusTransformer();

  this.emit("change.keys");
};

p._onWindowResize = function () {
  this.focusTransformer();
};

p._onWindowScroll = function () {
  this.focusTransformer();
};

p._onClickTgglKey = function () {
  var time = this.timeline.currTime, allHaveKey = this._isAllParamsHaveKey(time), flag = am.history.startFlag("toggle keys");

  this._endParams.forEach(function (param) {
    if (param.isValid()) {
      if (allHaveKey) {
        param.removeKey(param.getKey(time));
      } else {
        param.addKey({ time: time });
      }
    }
  });

  am.history.endFlag(flag);
};

p._onClickTgglHide = function () {
  if (this._isHidingSelectedElems) {
    this._showSelectedElems();
  } else {
    this._hideSelectedElems();
  }
};

p._onChangeSelectors = function (selectors) {
  this._selectors.length = 0;
  this._selectors = this._selectors.concat(selectors);

  this._refreshSelectedElems();
  this._refreshPlayer();

  if (this._selectedElems.indexOf(this._currHandledDe) === -1) {
    this._currHandledDe = undefined;
  }

  this.focusTransformer(this._currHandledDe || this._selectedElems[0]);
};

p._onChangeHeight = function () {
  this.emit("changeHeight", this);
};






p._refreshPlayer = function () {
  if (this._player) this._player.kill();

  this._player = this.getPlayer();
};






p._isAllParamsHaveKey = function (time) {
  return this._endParams.every(function (param) {
    return param.getKey(time) || !param.isValid();
  });
};






p.isOwnedDomElem = function (de) {
  return this._selectedElems.indexOf(de) !== -1;
};

p._refreshEndParams = function () {
  this._endParams = this.paramGroup.getEndParams();
};

p._refreshSelectedElems = function () {
  var list = [];

  this._selectors.forEach(function (selector) {
    if (selector.type === "css") {
      add(selector.value);
    } else if (selector.type === "input") {
      var parent = this.timeline.inputs;

      selector.value.split(".").every(function (name) {
        parent = parent[name];

        return parent;
      });

      if (parent) {
        add(parent);
      }
    }
  });

  this._selectedElems = list;

  function add(item) {
    if (typeof (item) === "string") {
      var items = am.deRoot.querySelectorAll(item);
      items = Array.prototype.slice.call(items);
      list = list.concat(items);
    } else if (window.jQuery && item instanceof window.jQuery) {
      list = list.concat(item.toArray());
    } else {
      list.push(item);
    }
  }
};

p.dispose = function () {
  this.timeline.off("changeTime", this._onChangeTime, this);

  //TODO
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./ParamFactory":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamFactory.js","./ParamGroup":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\ParamGroup.js","./dialogNewParam":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogNewParam.js","./dialogTrackOptions":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogTrackOptions.js","./script.player.mst":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\script.player.mst","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js","transhand":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\transhand\\es5\\Transhand.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogEaseOptions.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var OptionLine = require("../utils/OptionLine");

var currEase, beizerEditor, optRoughEase, optRoughStrength, optRoughPoints, optRoughClamp, optRoughRandomise, optRoughTaper, optRoughStrength, dialog = new Dialog({
  title: "Key" });

createContent();

dialog.addProperty({ name: "roughEase", input: optRoughEase.inputs.input });
dialog.addProperty({ name: "roughStrength", input: optRoughStrength.inputs.input });
dialog.addProperty({ name: "roughPoints", input: optRoughPoints.inputs.input });
dialog.addProperty({ name: "roughClamp", input: optRoughClamp.inputs.input });
dialog.addProperty({ name: "roughRandomise", input: optRoughRandomise.inputs.input });
dialog.addProperty({ name: "roughTaper", input: optRoughTaper.inputs.input });




dialog.show = function (opt) {
  if (opt === undefined) opt = {};


  opt.roughEase = opt.ease.roughEase;
  opt.roughStrength = opt.ease.roughStrength;
  opt.roughPoints = opt.ease.roughPoints;
  opt.roughClamp = opt.ease.roughClamp;
  opt.roughRandomise = opt.ease.roughRandomise;
  opt.roughTaper = opt.ease.roughTaper;

  Dialog.prototype.show.call(this, opt);

  if (!("ease" in opt)) throw ("opt.ease must be set");

  currEase = opt.ease;
  beizerEditor.setEase(currEase);
};

function createContent() {
  dialog.addButton("ok", "hide");

  amgui.createBtn({
    text: "save/load ease",
    parent: dialog.deContent,
    onClick: function () {
      return am.dialogs.WIP.show();
    } });

  beizerEditor = amgui.createBezierEditor({
    parent: dialog.deContent });


  optRoughEase = new OptionLine({
    title: "rough ease",
    parent: dialog.deContent,
    defaultValue: true,
    inputs: [{
      type: "checkbox",
      name: "input",
      onChange: function (v) {
        return setRoughOptionsVisibility(v);
      } }] });

  optRoughStrength = new OptionLine({
    title: "strength",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 0.02,
      precision: 2
    }] });

  optRoughPoints = new OptionLine({
    title: "points",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 1,
      precision: 0 }] });

  optRoughClamp = new OptionLine({
    title: "clamp",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughRandomise = new OptionLine({
    title: "randomise",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughTaper = new OptionLine({
    title: "taper",
    parent: dialog.deContent,
    inputs: [{
      type: "select",
      name: "input",
      options: ["none", "in", "out", "both"]
    }] });

  function setRoughOptionsVisibility(v) {
    optRoughStrength.domElem.style.display = v ? "block" : "none";
    optRoughPoints.domElem.style.display = v ? "block" : "none";
    optRoughClamp.domElem.style.display = v ? "block" : "none";
    optRoughRandomise.domElem.style.display = v ? "block" : "none";
    optRoughTaper.domElem.style.display = v ? "block" : "none";
  }
  setRoughOptionsVisibility(false);
};

// p._onSelectEase = function (e) {
//     this.ease = e.detail.selection;
// };

// p._onChangeEase = function () {
//     this.ease = this._inpEase.value;
// };

function onChangeBezier(e) {
  currEase.points = e.detail.points;
};

module.exports = dialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogNewParam.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var StringInput = require("../utils/StringInput");

var inited = false, inpParamName, dialog = new Dialog({
  title: "New param" });
module.exports = dialog;

dialog.addButton("add", function () {
  if (inpParamName.value) {
    dialog.track.addParam({ name: inpParamName.value });
  }

  dialog.hide();
});
dialog.addButton("close", "hide");

dialog.on("show", function () {
  createContent();

  inpParamName.value = "";
});



dialog.addProperty({ name: "track", input: inpParamName });


function createContent() {
  if (inited) return;
  inited = true;

  var suggestions = getCssParams().map(function (suggestion) {
    return { value: camelCase(suggestion.property) };
  });

  function camelCase(input) {
    return input.toLowerCase().replace(/-(.)/g, function (match, group1) {
      return group1.toUpperCase();
    });
  }

  inpParamName = new StringInput({
    parent: dialog.deContent,
    placeholder: "css parameter name",
    suggestions: suggestions
  });
}










// https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_values_syntax

// var mdnCssSyntax = [];
// $('tbody tr').each(function () {
//     var children = $(this).children();

//     mdnCssSyntax.push({
//         property: $(children[0]).text(),
//         syntax: $(children[1]).text(),
//         initialValue: $(children[2]).text(),
//         inherited: $(children[3]).text(),
//         media: $(children[4]).text(),
//     });
// });
// mdnCssSyntax;
// JSON.stringify(mdnCssSyntax, null, 2);

function getCssParams() {
  return [{
    property: "animation",
    syntax: "<single-animation-name> || <time> || <timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state>",
    initialValue: "the concatenation of the initial values of its longhand properties:animation-name: noneanimation-duration: 0sanimation-timing-function: easeanimation-delay: 0sanimation-iteration-count: 1animation-direction: normalanimation-fill-mode: noneanimation-play-state: running",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-delay",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-direction",
    syntax: "<single-animation-direction>#\n    where <single-animation-direction> = normal | reverse | alternate | alternate-reverse",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-duration",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-fill-mode",
    syntax: "<single-animation-fill-mode>#\n    where <single-animation-fill-mode> = none | forwards | backwards | both",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-iteration-count",
    syntax: "<single-animation-iteration-count>#\n    where <single-animation-iteration-count> = infinite | <number>",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-name",
    syntax: "<single-animation-name>#\n    where <single-animation-name> = none | IDENT",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-play-state",
    syntax: "<single-animation-play-state>#\n    where <single-animation-play-state> = running | paused",
    initialValue: "running",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-timing-function",
    syntax: "<timing-function>#",
    initialValue: "ease",
    inherited: "no",
    media: "visual"
  }, {
    property: "transition",
    syntax: "[ none | <single-transition-property> ] || <time> || <timing-function> || <time>",
    initialValue: "the concatenation of the initial values of its longhand properties:transition-delay: 0stransition-duration: 0stransition-property: alltransition-timing-function: ease",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-delay",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-duration",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-property",
    syntax: "none | <single-transition-property>#\u00a0 [ \u2018,\u2019 <single-transition-property># ]*\n    \n    where <single-transition-property> = all | IDENT",
    initialValue: "all",
    inherited: "no",
    media: "visual"
  }, {
    property: "transition-timing-function",
    syntax: "<timing-function>#",
    initialValue: "ease",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transform",
    syntax: "none | <transform-function>+",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "transform-origin",
    syntax: "[ <percentage> | <length> | left | center | right | top | bottom] | [ [ <percentage> | <length> | left | center | right ] && [ <percentage> | <length> | top | center | bottom ] ] <length>?",
    initialValue: "50% 50% 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "transform-style",
    syntax: "flat | preserve-3d",
    initialValue: "flat",
    inherited: "no",
    media: "visual"
  }, {
    property: "perspective",
    syntax: "none | <length>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "perspective-origin",
    syntax: "[ <percentage> | <length> | left | center | right | top | bottom] | [ [ <percentage> | <length> | left | center | right ] && [ <percentage> | <length> | top | center | bottom ] ]",
    initialValue: "50% 50%",
    inherited: "no",
    media: "visual"
  }, {
    property: "backface-visibility",
    syntax: "visible | hidden",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "color",
    syntax: "<color>",
    initialValue: "Varies from one browser to another",
    inherited: "yes",
    media: "visual"
  }, {
    property: "opacity",
    syntax: "<number>",
    initialValue: "1.0",
    inherited: "no",
    media: "visual"
  }, {
    property: "columns",
    syntax: "<'column-width'> || <'column-count'>",
    initialValue: "the concatenation of the initial values of its longhand properties:column-width: autocolumn-count: auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-width",
    syntax: "<length> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-count",
    syntax: "<number> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-gap",
    syntax: "<length> | normal",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule",
    syntax: "<'column-rule-width'> || <'column-rule-style'> || <'column-rule-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:column-rule-width: mediumcolumn-rule-style: nonecolumn-rule-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "break-before",
    syntax: "auto | always | avoid | left | right | page | column | avoid-page | avoid-colum",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "break-after",
    syntax: "auto | always | avoid | left | right | page | column | avoid-page | avoid-colum",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "break-inside",
    syntax: "auto | avoid | avoid-page | avoid-column",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "column-span",
    syntax: "none | all",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-fill",
    syntax: "auto | balance",
    initialValue: "balance",
    inherited: "no",
    media: "visual, but, in continuous media, has no effect in overflow columns"
  }, {
    property: "hyphens",
    syntax: "none | manual | auto",
    initialValue: "manual",
    inherited: "yes",
    media: "visual"
  }, {
    property: "letter-spacing",
    syntax: "normal | <length>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-wrap",
    syntax: "normal | break-word",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "overflow-wrap",
    syntax: "normal | break-word",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-transform",
    syntax: "none | capitalize | uppercase | lowercase | full-width",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "tab-size",
    syntax: "| <length\"><integer> | <length>",
    initialValue: "8",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-align",
    syntax: "start | end | left | right | center | justify | match-parent | start end",
    initialValue: "start, or a nameless value that acts as left if direction is ltr, right if direction is rtl if start is not supported by the browser.",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-align-last",
    syntax: "auto | start | end | left | right | center | justify",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-indent",
    syntax: "<length> | <percentage> && [ hanging || each-line ]",
    initialValue: "0",
    inherited: "yes",
    media: "visual"
  }, {
    property: "direction",
    syntax: "ltr | rtl",
    initialValue: "ltr",
    inherited: "yes",
    media: "visual"
  }, {
    property: "white-space",
    syntax: "normal | pre | nowrap | pre-wrap | pre-line",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-break",
    syntax: "normal | break-all | keep-all",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-spacing",
    syntax: "normal | <length>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "line-break",
    syntax: "auto | loose | normal | strict",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration",
    syntax: "<'text-decoration-line'> || <'text-decoration-style'> || <'text-decoration-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:text-decoration-color: currentColortext-decoration-style: solidtext-decoration-line: none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-style",
    syntax: "solid | double | dotted | dashed | wavy",
    initialValue: "solid",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-line",
    syntax: "none | [ underline || overline || line-through || blink ]",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-skip",
    syntax: "none | [ objects || spaces || ink || edges || box-decoration ]",
    initialValue: "objects",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-shadow",
    syntax: "none | <shadow-t>#\n    where <shadow-t> = [ <length>{2,3} && <color>? ]",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-underline-position",
    syntax: "auto | [ under || [ left | right ] ]",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "align-content",
    syntax: "flex-start | flex-end | center | space-between | space-around | stretch",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "align-items",
    syntax: "flex-start | flex-end | center | baseline | stretch",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "align-self",
    syntax: "auto | flex-start | flex-end | center | baseline | stretch",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-basis",
    syntax: "content | <'width'>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-direction",
    syntax: "row | row-reverse | column | column-reverse",
    initialValue: "row",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-flow",
    syntax: "<'flex-direction'> || <'flex-wrap'>",
    initialValue: "the concatenation of the initial values of its longhand properties:flex-direction: rowflex-wrap: nowrap",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-grow",
    syntax: "<number>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-shrink",
    syntax: "<number>",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex",
    syntax: "none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]",
    initialValue: "the concatenation of the initial values of its longhand properties:flex-grow: 0flex-shrink: 1flex-basis: auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-wrap",
    syntax: "nowrap | wrap | wrap-reverse",
    initialValue: "nowrap",
    inherited: "no",
    media: "visual"
  }, {
    property: "justify-content",
    syntax: "flex-start | flex-end | center | space-between | space-around",
    initialValue: "flex-start",
    inherited: "no",
    media: "visual"
  }, {
    property: "order",
    syntax: "<integer>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "background",
    syntax: "[ <bg-layer> , ]* <final-bg-layer>\n    where <bg-layer> = <bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2}\n    and <final-bg-layer> = <bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2} || <'background-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:background-image: nonebackground-position: 0% 0%background-size: auto autobackground-repeat: repeatbackground-origin: padding-boxbackground-style: is itself a shorthand, its initial value is the concatenation of its own longhand propertiesbackground-clip: border-boxbackground-color: transparent",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-attachment",
    syntax: "<attachment>#\n    where <attachment> = scroll | fixed | local",
    initialValue: "scroll",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-clip",
    syntax: "<box>#\n    where <box> = border-box | padding-box | content-box",
    initialValue: "border-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-color",
    syntax: "<color>",
    initialValue: "transparent",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-image",
    syntax: "<bg-image>#\n    where <bg-image> = none | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-origin",
    syntax: "<box>#",
    initialValue: "padding-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-position",
    syntax: "<position>#",
    initialValue: "0% 0%",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-repeat",
    syntax: "<repeat-style>#\n    where <repeat-style> = repeat-x | repeat-y | [repeat | space | round | no-repeat]{1,2}",
    initialValue: "repeat",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-size",
    syntax: "<bg-size>#\n    where <bg-size> = [ <length> | <percentage> | auto ]{1,2} | cover | contain",
    initialValue: "auto auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "border",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-width: the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-right-width: mediumborder-bottom-width: mediumborder-left-width: mediumborder-style: the concatenation of the initial values of its longhand properties:border-top-style: noneborder-right-style: noneborder-bottom-style: noneborder-left-style: noneborder-color: the concatenation of the initial values of its longhand properties:border-top-color: currentColorborder-right-color: currentColorborder-bottom-color: currentColorborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-bottom-width: mediumborder-bottom-style: noneborder-bottom-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-left-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-right-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-color",
    syntax: "<color>{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-color: currentColorborder-right-color: currentColorborder-bottom-color: currentColorborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image",
    syntax: "<'border-image-source'> || <'border-image-slice'> [ / <'border-image-width'> | / <'border-image-width'>? / <'border-image-outset'> ]? || <'border-image-repeat'>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-image-source: noneborder-image-slice: 100%border-image-width: 1border-image-outset: 0sborder-image-repeat: stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-outset",
    syntax: "[ <length> | <number> ]{1,4}",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-repeat",
    syntax: "[ stretch | repeat | round ]{1,2}",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-slice",
    syntax: "[<number> | <percentage>]{1,4} && fill?",
    initialValue: "100%",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-source",
    syntax: "none | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-width",
    syntax: "[ <length> | <percentage> | <number> | auto ]{1,4}",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-left-width: mediumborder-left-style: noneborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-radius",
    syntax: "[ <length> | <percentage> ]{1,4} [ / [ <length> | <percentage> ]{1,4} ]?",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-left-radius: 0border-top-right-radius: 0border-bottom-right-radius: 0border-bottom-left-radius: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-right-width: mediumborder-right-style: noneborder-right-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-style",
    syntax: "<br-style>{1,4}\n    where <br-style> = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-style: noneborder-right-style: noneborder-bottom-style: noneborder-left-style: none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-top-style: noneborder-top-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-left-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-right-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-width",
    syntax: "<br-width>{1,4}\n    where <br-width> = <length> | thin | medium | thick",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-right-width: mediumborder-bottom-width: mediumborder-left-width: medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-decoration-break",
    syntax: "slice | clone",
    initialValue: "slice",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-shadow",
    syntax: "none | <shadow>#\n    where <shadow> = inset? && [ <length>{2,4} && <color>? ]",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin",
    syntax: "[ <length> | <percentage> | auto ]{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:margin-bottom: 0margin-left: 0margin-right: 0margin-top: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-bottom",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-left",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-right",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-top",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding",
    syntax: "[ <length> | <percentage> ]{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:padding-bottom: 0padding-left: 0padding-right: 0padding-top: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-bottom",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-left",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-right",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-top",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-sizing",
    syntax: "content-box | padding-box | border-box",
    initialValue: "content-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "max-height",
    syntax: "<length> | <percentage> | none | max-content | min-content | fit-content | fill-available",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "min-height",
    syntax: "<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "height",
    syntax: "auto | <length> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "max-width",
    syntax: "<length> | <percentage> | none | max-content | min-content | fit-content | fill-available",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "min-width",
    syntax: "<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "width",
    syntax: "[<length> | <percentage>] && [border-box | content-box]? | available | min-content | max-content | fit-content | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow-x",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow-y",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "visibility",
    syntax: "visible | hidden | collapse",
    initialValue: "visible",
    inherited: "yes",
    media: "visual"
  }, {
    property: "border-collapse",
    syntax: "collapse | separate",
    initialValue: "separate",
    inherited: "yes",
    media: "visual"
  }, {
    property: "border-spacing",
    syntax: "<length> <length>?",
    initialValue: "0",
    inherited: "yes",
    media: "visual"
  }, {
    property: "caption-side",
    syntax: "top | bottom",
    initialValue: "top",
    inherited: "yes",
    media: "visual"
  }, {
    property: "empty-cells",
    syntax: "show | hide",
    initialValue: "show",
    inherited: "yes",
    media: "visual"
  }, {
    property: "table-layout",
    syntax: "auto | fixed",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "vertical-align",
    syntax: "baseline | sub | super | text-top | text-bottom | middle | top | bottom | <percentage> | <length>",
    initialValue: "baseline",
    inherited: "no",
    media: "visual"
  }, {
    property: "bottom",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "left",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "right",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "top",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "float",
    syntax: "left | right | none",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "clear",
    syntax: "none | left | right | both",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "position",
    syntax: "static | relative | absolute | sticky | fixed",
    initialValue: "static",
    inherited: "no",
    media: "visual"
  }, {
    property: "z-index",
    syntax: "auto | <integer>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "font",
    syntax: "[ [ <\u2018font-style\u2019> || <font-variant-css21> || <\u2018font-weight\u2019> || <\u2018font-stretch\u2019> ]? <\u2018font-size\u2019> [ / <\u2018line-height\u2019> ]? <\u2018font-family\u2019> ] | caption | icon | menu | message-box | small-caption | status-bar",
    initialValue: "the concatenation of the initial values of its longhand properties:font-style: normalfont-variant: normalfont-weight: normalfont-stretch: normalfont-size: mediumline-height: normalfont-family: depends on user agent",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-family",
    syntax: "[ <family-name> | <generic-family> ]#\n    where <family-name> = <string> | <IDENT>+\n    and <generic-name> = serif | sans-serif | cursive | fantasy | monospace",
    initialValue: "depends on user agent",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant",
    syntax: "normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> || stylistic(<feature-value-name>) || historical-forms || styleset(<feature-value-name> #) || character-variant(<feature-value-name> #) || swash(<feature-value-name>) || ornaments(<feature-value-name>) || annotation(<feature-value-name>) || [ small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps ] || <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero || <east-asian-variant-values> || <east-asian-width-values> || ruby ] ",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-weight",
    syntax: "normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-stretch",
    syntax: "normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-size",
    syntax: "<absolute-size> | <relative-size> | <length> | <percentage>\n    where <absolute-size> = xx-small | s-small | small | medium | large | x-large | xx-large\n    and <relative-size> = larger | smaller",
    initialValue: "medium",
    inherited: "yes",
    media: "visual"
  }, {
    property: "line-height",
    syntax: "normal | <number> | <length> | <percentage>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-feature-settings",
    syntax: "normal | <feature-tag-value>#\n    where <feature-tag-value> = <string> [ <integer> | on | off ]?",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-language-override",
    syntax: "normal | <string>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-size-adjust",
    syntax: "none | <number>",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-style",
    syntax: "normal | italic | oblique",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-synthesis",
    syntax: "none | [ weight || style ]",
    initialValue: "weight style",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-kerning",
    syntax: "auto | normal | none",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-ligatures",
    syntax: "normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> ]\n    where <common-lig-values> = [ common-ligatures | no-common-ligatures ]\n    and <discretionary-lig-values> = [ discretionary-ligatures | no-discretionary-ligatures ]\n    and <historical-lig-values> = [ historical-ligatures | no-historical-ligatures ]\n    and <contextual-alt-values> = [ contextual | no-contextual ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-position",
    syntax: "normal | sub | super",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-caps",
    syntax: "normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-numeric",
    syntax: "normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]\n    where <numeric-figure-values> = [ lining-nums | oldstyle-nums ]\n    and <numeric-spacing-values> = [ proportional-nums | tabular-nums ]\n    and <numeric-fraction-values> = [ diagonal-fractions | stacked-fractions ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-east-asian",
    syntax: "normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ] \n    where <east-asian-variant-values> = [ jis78 | jis83 | jis90 | jis04 | simplified | traditional ]\n    and <east-asian-width-values> = [ full-width | proportional-width ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-alternates",
    syntax: "normal | [ stylistic(<feature-value-name>) || historical-forms || styleset(<feature-value-name> #) || character-variant(<feature-value-name> #) || swash(<feature-value-name>) || ornaments(<feature-value-name>) || annotation(<feature-value-name>) ] \n    where <feature-value-name> = IDENT",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "object-fit",
    syntax: "fill | contain | cover | none | scale-down",
    initialValue: "fill",
    inherited: "yes",
    media: "visual"
  }, {
    property: "object-position",
    syntax: "<position>",
    initialValue: "50% 50%",
    inherited: "yes",
    media: "visual"
  }, {
    property: "image-rendering",
    syntax: "auto | crisp-edges | pixelated",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "image-orientation",
    syntax: "from-image | <angle> | [<angle>? flip]",
    initialValue: "0deg",
    inherited: "yes",
    media: "visual"
  }, {
    property: "counter-increment",
    syntax: "[<user-ident> <integer>?]+ | none",
    initialValue: "none",
    inherited: "no",
    media: "all"
  }, {
    property: "counter-reset",
    syntax: "[<user-ident> <integer>?]+ | none",
    initialValue: "none",
    inherited: "no",
    media: "all"
  }, {
    property: "list-style",
    syntax: "<'list-style-type'> || <'list-style-position'> || <'list-style-image'>",
    initialValue: "the concatenation of the initial values of its longhand properties:list-style-type: disclist-style-position: outsidelist-style-image: none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-image",
    syntax: "<uri> | none",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-position",
    syntax: "inside | outside",
    initialValue: "outside",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-type",
    syntax: "disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none",
    initialValue: "disc",
    inherited: "yes",
    media: "visual"
  }, {
    property: "orphans",
    syntax: "<integer>",
    initialValue: "2",
    inherited: "yes",
    media: "visual, paged"
  }, {
    property: "page-break-after",
    syntax: "auto | always | avoid | left | right",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "page-break-before",
    syntax: "auto | always | avoid | left | right",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "page-break-inside",
    syntax: "auto | avoid",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "widows",
    syntax: "<integer>",
    initialValue: "2",
    inherited: "yes",
    media: "visual, paged"
  }, {
    property: "outline",
    syntax: "<'outline-color'> || <'outline-style'> || <'outline-width'>",
    initialValue: "the concatenation of the initial values of its longhand properties:outline-color: invert, for browsers supporting it, currentColor for the otheroutline-style: noneoutline-width: medium",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-color",
    syntax: "<color> | invert",
    initialValue: "invert, for browsers supporting it, currentColor for the other",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-style",
    syntax: "auto | <br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-offset",
    syntax: "<length>",
    initialValue: "0",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "cursor",
    syntax: "[ [ <uri> [<x> <y>]?,]* [ auto | default | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out | grab | grabbing ] ]",
    initialValue: "auto",
    inherited: "yes",
    media: "visual, interactive"
  }, {
    property: "resize",
    syntax: "none | both | horizontal | vertical",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-overflow",
    syntax: "[ clip | ellipsis | <string> ]{1,2}",
    initialValue: "clip",
    inherited: "no",
    media: "visual"
  }, {
    property: "content",
    syntax: "normal | none | [ <string> | <uri> | <counter> | attr() | open-quote | close-quote | no-open-quote | no-close-quote ]+",
    initialValue: "normal",
    inherited: "no",
    media: "all"
  }, {
    property: "quotes",
    syntax: "[<string> <string>]+ | none",
    initialValue: "user agent specific",
    inherited: "yes",
    media: "visual"
  }, {
    property: "box-decoration-break",
    syntax: "slice | clone",
    initialValue: "slice",
    inherited: "no",
    media: "visual"
  }, {
    property: "clip",
    syntax: "<shape> | auto\n    where <shape> = rect(<top>, <right>, <bottom>, <left>)",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "display",
    syntax: "none | inline | block | list-item | inline-block | inline-table | table | table-cell | table-column | table-column-group | table-footer-group | table-header-group | table-row | table-row-group | flex | inline-flex | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents",
    initialValue: "inline",
    inherited: "no",
    media: "all"
  }, {
    property: "unicode-bidi",
    syntax: "normal | embed | isolate | bidi-override | isolate-override | plaintext",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-orientation",
    syntax: "mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation",
    initialValue: "mixed",
    inherited: "yes",
    media: "visual"
  }, {
    property: "ime-mode",
    syntax: "auto | normal | active | inactive | disabled",
    initialValue: "auto",
    inherited: "no",
    media: "interactive"
  }, {
    property: "all",
    syntax: "initial | inherit | unset",
    initialValue: "There is no practical initial value for it.",
    inherited: "no",
    media: "There is no practical media for it."
  }, {
    property: "will-change",
    syntax: "auto | <animateable-feature>#\n    where <animateable-feature> = scroll-position | contents | <custom-ident>",
    initialValue: "auto",
    inherited: "no",
    media: "all"
  }, {
    property: "background-blend-mode",
    syntax: "<blend-mode>#",
    initialValue: "normal",
    inherited: "no",
    media: "none"
  }, {
    property: "mix-blend-mode",
    syntax: "<blend-mode>",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "isolation",
    syntax: "auto | isolate",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-outside",
    syntax: "none | <shape-box> || <basic-shape> | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-margin",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-image-threshold",
    syntax: "<number>",
    initialValue: "0.0",
    inherited: "no",
    media: "visual"
  }, {
    property: "touch-action",
    syntax: "auto | none | [ pan-x || pan-y ] | manipulation",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "@viewport/min-width",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-width",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/width",
    syntax: "<viewport-length>{1,2}",
    initialValue: "the concatenation of the initial values of its longhand properties:@viewport/min-width: is itself a shorthand, its initial value is the concatenation of its own longhand properties@viewport/max-width: is itself a shorthand, its initial value is the concatenation of its own longhand properties",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/min-height",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-height",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/height",
    syntax: "<viewport-length>{1,2}",
    initialValue: "the concatenation of the initial values of its longhand properties:@viewport/min-height: is itself a shorthand, its initial value is the concatenation of its own longhand properties@viewport/max-height: is itself a shorthand, its initial value is the concatenation of its own longhand properties",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/min-zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/user-zoom",
    syntax: "zoom | fixed",
    initialValue: "zoom",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/orientation",
    syntax: "auto | portrait | landscape",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }];
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\dialogTrackOptions.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");
var UnitInput = require("../utils/UnitInput");
var TargetsInput = require("../utils/TargetsInput");
var StringInput = require("../utils/StringInput");
var OptionLine = require("../utils/OptionLine");

var targetsInput, deSelectorCont, deSelectors = [], dialog = new Dialog({
  title: "Track" });
module.exports = dialog;

createContent();
dialog.addButton("ok", "hide");


dialog.on("change.name", function (name) {
  return dialog.title = name;
});


function createContent() {
  var optName = new OptionLine({
    title: "name:",
    parent: dialog.deContent,
    inputs: [{
      type: "string",
      name: "name" }] });

  amgui.createLabel({
    text: "Selectors:",
    display: "block",
    parent: dialog.deContent });

  targetsInput = new TargetsInput({
    parent: dialog.deContent,
    onChange: function () {
      return dialog.emit("changeSelectors", targetsInput.value);
    } });

  amgui.createLinebreak({ parent: dialog.deContent });

  var optRepeat = new OptionLine({
    title: "repeat",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeat",
      min: -1,
      units: ["x"] }] });

  var optRepeatDelay = new OptionLine({
    title: "repeat delay",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeatDelay",
      min: 0,
      precision: 3,
      dragSpeed: 0.001,
      units: ["sec"] }] });

  var optKeyStretch = new OptionLine({
    title: "key stretch",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "keyStretch",
      min: 0,
      dragSpeed: 0.01,
      precision: 3,
      units: ["x"] }] });

  var optYoyo = new OptionLine({
    title: "yoyo",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "yoyo" }] });


  $(optRepeat.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optRepeatDelay.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optKeyStretch.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });
  $(optYoyo.domElem).one("mousedown", function () {
    return am.dialogs.WIP.show();
  });

  dialog.addProperty({
    name: "name",
    startValue: "Track",
    input: optName.inputs.name
  });
  dialog.addProperty({
    name: "selectors",
    startValue: [],
    input: targetsInput });
  dialog.addProperty({
    name: "repeat",
    startValue: 0,
    input: optRepeat.inputs.repeat });
  dialog.addProperty({
    name: "repeatDelay",
    startValue: 0,
    input: optRepeatDelay.inputs.repeatDelay });
  dialog.addProperty({
    name: "keyStretch",
    startValue: 1,
    input: optKeyStretch.inputs.keyStretch });
  dialog.addProperty({
    name: "yoyo",
    startValue: false,
    input: optYoyo.inputs.yoyo });
}

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js","../utils/OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","../utils/StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js","../utils/TargetsInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\TargetsInput.js","../utils/UnitInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\track\\script.player.mst":[function(require,module,exports){
module.exports = "function (inputs) {\n    \n    var timelines = {{{timelines}}},\n        selectors = {{{selectors}}},\n        animTargets = getAnimTargets(selectors, inputs),\n        rootTl = new TimelineMax();\n\n    timelines.forEach(function (timeline) {\n\n        var tl = new TimelineMax();\n        rootTl.add(tl, 0);\n        \n        timeline.forEach(function (key, idx) {\n\n            tl.to(animTargets, key.duration, key.options);\n        });\n    });\n\n    return rootTl;\n}\n";

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function CheckboxInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._onChangeInput = this._onChangeInput.bind(this);

  this._createBase();

  this._value = opt.value || false;
  this._defaultValue = opt.defaultValue || false;
}

inherits(CheckboxInput, Input);
var p = CheckboxInput.prototype;
module.exports = CheckboxInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v = !!v;

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });







p._onChangeInput = function () {
  this.value = this._input.checked;
};



p._refreshInput = function () {
  if (this._input.checked !== this._value) {
    this._input.checked = this._value;
  }
};




p._createInput = function () {
  this._input = amgui.createCheckbox({
    parent: this.domElem,
    onChange: this._onChangeInput,
    flex: 1 });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\ColorInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

var colorPicker;

function ColorInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._createBase();

  this._value = opt.value || "";
  this._defaultValue = opt.defaultValue || "#000000";
}

inherits(ColorInput, Input);
var p = ColorInput.prototype;
module.exports = ColorInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });


p._onChangePicker = function () {
  this.value = colorPicker.getColor();
};

p._onClickShowPicker = function () {
  am.dialogs.WIP.show();
  // var br = this._btnShowPicker.getBoundingClientRect();
  // colorPicker.show(br.left, br.bottom,
  //     this.value || this._defaultValue,
  //     this._onChangePicker);
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createInput = function () {
  var _this = this;


  this._input = amgui.createInput({
    parent: this.domElem,
    onChange: function (v) {
      return _this._onChangeInput(v);
    },
    flex: 1 });
  this._input.style.textAlign = "right";
  this._input.style.paddingRight = "2px";

  this._btnShowPicker = amgui.createIconBtn({
    parent: this.domElem,
    icon: "ajust",
    onClick: this._onClickShowPicker });
};

// ColorInput.initColorPicker = function () {
//     if (colorPicker) return;

//     var onChange,
//         de = amgui.createDiv({
//             // parent: am.deDialogCont,
//             parent: document.body,
//             display: 'none',
//             width: '345px',
//             height: '345px',
//         });

//     de.setAttribute('data-am-nopick', 1);
//     de.style.zIndex = 999999;

//     colorPicker = new ColorPicker({
//         size: 2,
//         appenTo: de,
//         actionCallback: function () {
//             if (onChange) {
//                 onChange(colorPicker.getColor());
//             }
//         }
//     });

//     colorPicker.domElem = de;

//     $('.cp-app').css('position', 'relative')

//     colorPicker.getColor = function () {
//         if (colorPicker.color.alpha === 1) {
//             return '#' + colorPicker.color.HEX;
//         }
//         else {
//             return 'rgba(' +
//                 ~~(colorPicker.color.colors.RND.rgb.r)+','+
//                 ~~(colorPicker.color.colors.RND.rgb.g)+','+
//                 ~~(colorPicker.color.colors.RND.rgb.b)+','+
//                 colorPicker.color.colors.alpha + ')';
//         }
//     };

//     colorPicker.show = function (x, y, color, _onChange) {
//         de.style.display = 'block';
//         amgui.placeToPoint(de, x, y);

//         colorPicker.setColor(color, undefined, undefined, true);

//         onChange = _onChange;
//     }

//     colorPicker.hide = function (x, y) {
//         onChange = undefined;

//         de.style.display = 'none';
//     }
//     $('.cp-exit').click(colorPicker.hide)
// }

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var defineCompactProperty = require("./defineCompactProperty");

function Dialog(opt) {
  var _this = this;


  EventEmitter.call(this);

  opt = opt || {};

  this._setupProperties = [];
  this._offsetX = 0;
  this._offsetY = 0;
  this._offOnHideListeners = [];

  this._createDomElem();

  this._options = {
    deContent: this.deContent,
    buttons: [],
    title: opt.title || "Dialog",
    onHide: function () {
      return _this._onHide();
    } };
}

inherits(Dialog, EventEmitter);
var p = Dialog.prototype;
module.exports = Dialog;

Object.defineProperties(p, {
  title: {
    set: function (v) {
      if (!v || this._options.title === v) return;

      this._options.title = v;

      am.workspace.dialogs.setTitle(v);
    },
    get: function () {
      return this._options._title;
    } },
  isOpened: {
    get: function () {
      return this._isOpened;
    }
  }
});


p.show = function (opt) {
  var _this2 = this;


  if (this._isOpened) return;
  this._isOpened = true;

  opt = opt || {};

  if (opt.on) {
    Object.keys(opt.on).forEach(function (evtName) {
      _this2.on(evtName, opt.on[evtName]);

      _this2._offOnHideListeners.push({
        evtName: evtName,
        callback: opt.on[evtName] });
    });
  }

  this._setupProperties.forEach(function (propData) {
    if (propData.name in opt) {
      this[propData.name] = opt[propData.name];
    }

    var onOpt = "on" + propData.evtName.charAt(0).toUpperCase() + propData.evtName.slice(1);

    if (onOpt in opt) {
      console.warn("deprecated, use opt.on to bind listeners!");
      this._offOnHideListeners.push({
        evtName: propData.evtName,
        callback: opt[onOpt] });
      this.on(propData.evtName, opt[onOpt]);
    }
  }, this);

  this.emit("show");

  am.workspace.dialogs.showDialog(this._options);

  return this;
};

p.hide = function () {
  am.workspace.dialogs.hideDialog(this._options);

  return this;
};

p._onHide = function () {
  var _this3 = this;


  if (!this._isOpened) return;
  this._isOpened = false;

  this._offOnHideListeners.forEach(function (reg) {
    _this3.off(reg.evtName, reg.callback);
  });

  this.emit("hide");
};

p.addProperty = function (opt) {
  var _this4 = this;


  var reg = defineCompactProperty(this, opt);

  this._setupProperties.push(reg);

  if (opt.input) {
    opt.input.value = this[reg.name];
    opt.input.on("change", function (v) {
      return _this4[reg.name] = v;
    });
    this.on(reg.evtName, function (v) {
      return opt.input.value = v;
    });
  }

  return this;
};

p.addButton = function (text, onClick) {
  var _this5 = this;


  if (onClick === "hide") {
    onClick = function () {
      return _this5.hide();
    };
  }

  this._options.buttons.push({ text: text, onClick: onClick });

  return this;
};

p.hideButton = function (text) {
  var btn = _.find(this._options.buttons, { text: text });

  if (btn) btn.hidden = true;

  return this;
};

p.showButton = function (text) {
  var btn = _.find(this._options.buttons, { text: text });

  if (btn) btn.hidden = false;

  return this;
};





p._createDomElem = function () {
  if (this._isDialogCreated) return;
  this._isDialogCreated = true;

  this.deContent = document.createElement("div");
  this.deContent.style.width = "330px";
  this.deContent.style.padding = "30px 12px";
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function Input(opt) {
  if (opt === undefined) opt = {};


  EventEmitter.call(this);

  this._createBase();

  this._defaultValue = opt.defaultValue || "";
  this._value = opt.value || this._defaultValue;

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(Input, EventEmitter);
var p = Input.prototype;
module.exports = Input;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};

p.focus = function () {
  var _this = this;


  setTimeout(function () {
    return $(_this._input).focus();
  }, 123);
};

p.blur = function () {
  var _this2 = this;


  setTimeout(function () {
    return $(_this2._input).blur();
  }, 123);
};







p._onChangeInput = function () {
  this.value = this._input.value;
};



p._refreshInput = function () {};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";

  this._createInput();
};

p._createInput = function () {
  var _this3 = this;


  this._input = amgui.createInput({
    parent: this.domElem,
    flex: 1,
    onChange: function (v) {
      return _this3._onChangeInput(v);
    } });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var UnitInput = require("./UnitInput");
var StringInput = require("./StringInput");
var SelectInput = require("./SelectInput");
var ColorInput = require("./ColorInput");
var CheckboxInput = require("./CheckboxInput");
var defineCompactProperty = require("./defineCompactProperty");

function OptionLine(opt) {
  EventEmitter.call(this);

  this.inputs = {};
  this.buttons = {};
  this._indent = 0;
  this._lineH = amgui.LINE_HEIGHT;
  this._hidden = false;

  this._createDomElem();
  this._createHighlight();

  this._subOptionLines = [];

  if (opt.separator) {
    amgui.createSeparator({ parent: this._deHeadCont });
  }

  if (opt.parent) {
    opt.parent.appendChild(this.domElem);
  }

  if (opt.contextMenuOptions) {
    this.dropdown = amgui.createDropdown({
      options: opt.contextMenuOptions });

    amgui.bindDropdown({
      asContextMenu: true,
      deTarget: this._deHeadCont,
      deMenu: this.dropdown });
  }


  if (opt.tgglChildren) {
    this.buttons.tgglChildren = amgui.createToggleIconBtn({
      iconOn: "angle-down",
      iconOff: "angle-right",
      onClick: opt.tgglChildren.onClick,
      parent: this._deHeadCont
    });
  } else if (opt.keepSpaceForTgglChildren) {
    this._deHighlight.style.marginRight = "16px";
  }

  this._createIndent();

  if (opt.indent) {
    this.indent = opt.indent;
  }

  if (opt.title) {
    this._deTitle = amgui.createLabel({
      text: typeof opt.title === "string" ? opt.title : (opt.title.text || ""),
      parent: this._deHeadCont });

    this._deTitle.style.marginRight = "3px";
  }

  this._inputCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "flex",
    flex: "1" });

  this._btnCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "inline-block"
  });

  if (opt.inputs) {
    opt.inputs.forEach(this.addInput, this);
  }

  if (opt.tgglMerge) {
    this.addButton({
      domElem: amgui.createToggleIconBtn({
        iconOn: "flow-line",
        iconOff: "flow-parallel",
        onClick: opt.tgglMerge.onClick }),
      name: "tgglMerge" });
  }

  if (opt.btnKey) {
    this.addButton({
      domElem: amgui.createStepperKey({
        onClick: opt.btnKey.onClick,
        onClickPrev: opt.btnKey.onClickPrev,
        onClickNext: opt.btnKey.onClickNext }),
      name: "key" });
  }

  if (opt.onDblclick) {
    this.domElem.addEventListener("dblclick", opt.onDblclick);
  }

  if (opt.data) {
    this.data = opt.data;
  }
}

inherits(OptionLine, EventEmitter);
var p = OptionLine.prototype;
module.exports = OptionLine;





Object.defineProperties(p, {
  title: {
    set: function (v) {
      this._deTitle.text = v;
    },
    get: function () {
      this._deTitle.text;
    } },
  highlight: {
    set: function (v) {
      this._deHighlight.style.opacity = v ? 1 : 0;

      if (typeof (v) === "string") {
        this._deHighlight.style.backgroundColor = v;
      }
    } },
  indent: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._indent) return;

      this._indent = v;
      this._deIndent.style.width = this._indent * 6 + "px";
    },
    get: function () {
      return this._indent;
    } },
  hidden: {
    set: function (v) {
      v = !!v;

      if (v === this._hidden) return;

      this._hidden = v;

      this.domElem.style.display = v ? "none" : "";
    },
    get: function () {
      return this._hidden;
    }
  }
});

defineCompactProperty(p, [{ name: "bgHighlight", type: "boolean", onChange: function (v) {
    this._deHeadCont.style.backgroundColor = v ? amgui.color.bg1 : amgui.color.transparent;
  } }]);


p.addInput = function (opt) {
  var input;

  opt = _.assign({
    onChange: opt.onChange,
    flex: "1" }, opt);

  switch (opt.type) {
    case "unit":
      input = new UnitInput(opt);
      break;

    case "select":
      input = new SelectInput(opt);
      break;

    case "color":
      input = new ColorInput(opt);
      break;

    case "checkbox":
      input = new CheckboxInput(opt);
      break;

    default:
    case "string":
      input = new StringInput(opt);
  }

  if (opt.name) {
    this.inputs[opt.name] = input;
  }

  this._inputCont.appendChild(input.domElem);
};

p.addButton = function (opt) {
  if ("childIdx" in opt && this._btnCont.children[opt.childIdx]) {
    this._btnCont.insertBefore(opt.domElem, this._btnCont.children[opt.childIdx]);
  } else {
    this._btnCont.appendChild(opt.domElem);
  }

  opt.domElem.style.display = "inline-block";
  opt.domElem.style.verticalAlign = "top";

  if (opt.name) {
    this.buttons[opt.name] = opt.domElem;
  }

  if (opt.hoverMode) {
    opt.domElem.style.visibility = "hidden";

    this.domElem.addEventListener("mouseenter", function () {
      opt.domElem.style.visibility = "visible";
    });
    this.domElem.addEventListener("mouseleave", function () {
      opt.domElem.style.visibility = "hidden";
    });
  }
};

p.addOptionLine = function (optionLine) {
  this._subOptionLines.push(optionLine);
  this._deSubcont.appendChild(optionLine.domElem);

  optionLine.indent = this.indent + 1;

  if (this._isBorrowingChildInputs) {
    this.returnChildInputs();
    this.borrowChildInputs();
  }
};

p.removeOptionLine = function (optionLine) {
  var idx = this._subOptionLines.indexOf(optionLine);
  if (idx === -1) return;

  this._subOptionLines.splice(idx, 1);
  $(optionLine).remove();

  if (this._isBorrowingChildInputs) {
    this.returnChildInputs();
    this.borrowChildInputs();
  }
};

p.removeAllOptionLines = function () {
  var _this = this;


  this._subOptionLines.slice().forEach(function (ol) {
    return _this.removeOptionLine(ol);
  });
};

p.showSublines = function () {
  this._deSubcont.style.display = "";
};

p.hideSublines = function () {
  this._deSubcont.style.display = "none";
};

p.walkChildren = function (fn) {
  var _this2 = this;


  this._subOptionLines.forEach(function (subOptionLine) {
    fn(subOptionLine, _this2);

    subOptionLine.walkChildren(fn);
  });
};

p.borrowChildInputs = function () {
  var _this3 = this;
  //TODO: do this two somehow better

  this._isBorrowingChildInputs = true;

  this._subOptionLines.forEach(function (line) {
    if (line.hidden) return;

    Object.keys(line.inputs).forEach(function (inpName) {
      _this3._inputCont.appendChild(line.inputs[inpName].domElem);
    });
  });
};

p.returnChildInputs = function () {
  this._isBorrowingChildInputs = false;

  var deInputs = _.toArray(this._inputCont.children);

  this._subOptionLines.forEach(function (line) {
    Object.keys(line.inputs).forEach(function (inpName) {
      var idx = deInputs.indexOf(line.inputs[inpName].domElem);
      if (idx === -1) return;
      line._inputCont.appendChild(deInputs[idx]);
    });
  });
};









p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.overflow = "hidden";

  this._deHeadCont = document.createElement("div");
  this._deHeadCont.style.position = "relative";
  this._deHeadCont.style.display = "flex";
  this._deHeadCont.style.width = "100%";
  this._deHeadCont.style.height = this._lineH + "px";
  this.domElem.appendChild(this._deHeadCont);

  amgui.createSeparator({ parent: this._deHeadCont });

  this._deSubcont = amgui.createDiv({
    parent: this.domElem,
    width: "100%" });
};

p._createHighlight = function () {
  this._deHighlight = document.createElement("div");
  this._deHighlight.style.display = "inline-block";
  this._deHighlight.style.width = "2px";
  this._deHighlight.style.height = this._lineH + "px";
  this._deHighlight.style.background = amgui.color.selected;
  this._deHighlight.style.opacity = 0;
  this._deHeadCont.appendChild(this._deHighlight);
};

p._createIndent = function () {
  this._deIndent = document.createElement("div");
  this._deIndent.style.display = "inline-block";
  this._deIndent.style.width = "0px";
  this._deHeadCont.appendChild(this._deIndent);
};

p.dispose = function () {};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./CheckboxInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\CheckboxInput.js","./ColorInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\ColorInput.js","./SelectInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\SelectInput.js","./StringInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js","./UnitInput":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js","./defineCompactProperty":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\SelectInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function SelectInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._options = opt.options || [];
  this._value = opt.value || this._options[0] || "";
  this._defaultValue = opt.defaultValue || this._options[0] || "";

  this._createBase();
}

inherits(SelectInput, Input);
var p = SelectInput.prototype;
module.exports = SelectInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value || this._options.indexOf(v) === -1) return;

      this._value = v;

      this._deValue.text = v;

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });




p.setOptions = function (options) {
  this._deDropdown.setItems(options);
};








p._createInput = function () {
  var _this = this;


  this._deValue = amgui.createLabel({
    parent: this.domElem,
    text: this.value });

  amgui.createIcon({
    parent: this.domElem,
    icon: "down-dir" });

  this._deDropdown = amgui.createDropdown({
    options: this._options,
    onSelect: function (e) {
      return _this.value = e.detail.selection;
    } });

  amgui.bindDropdown({
    deTarget: this.domElem,
    deDropdown: this._deDropdown });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\StringInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function StringInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._createBase();

  this._defaultValue = opt.defaultValue || "";
  this._value = opt.value || this._defaultValue;

  if (opt.placeholder) {
    this._input.placeholder = opt.placeholder;
  }

  if (opt.suggestions) {
    this._prepareSuggestions(opt.suggestions, opt.typeaheadOptions, opt.datasetOptions);
  };

  this._refreshInput();
}

inherits(StringInput, Input);
var p = StringInput.prototype;
module.exports = StringInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });




p.setSuggestions = function (suggestions) {
  suggestions = suggestions.map(function (suggestion, idx) {
    if (typeof suggestion !== "object") {
      return { value: suggestion };
    } else {
      return suggestion;
    }
  });

  if (this._suggestionEngine) {
    this._suggestionEngine.clear();
    this._suggestionEngine.local = suggestions;
    this._suggestionEngine.initialize(true);
  } else {
    this._prepareSuggestions(suggestions);
  }
};







p._onChangeInput = function () {
  this.value = this._input.value;
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createInput = function () {
  var _this = this;


  this._input = amgui.createInput({
    parent: this.domElem,
    flex: 1,
    onChange: function (v) {
      return _this._onChangeInput(v);
    } });

  this.domElem.style.color = this._input.style.color;
  this._input.style.color = "inherit";

  // this._input.style.textAlign =  'right';
  this._input.style.paddingRight = "2px";
};

p._prepareSuggestions = function (suggestions) {
  this._suggestionEngine = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace("value"),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    // `states` is an array of state names defined in "The Basics"
    local: suggestions });

  // kicks off the loading/processing of `local` and `prefetch`
  this._suggestionEngine.initialize();

  var template = ["<div class=\"guess\" style=\"padding: 2px;color:" + amgui.color.textColor + ";background-color:" + amgui.color.bg1 + ";\">", "<span>{{{value}}}</span>", "</div>"].join("");

  amgui.callOnAdded(this._input, function () {
    $(this._input).typeahead({
      hint: true,
      highlight: true,
      minLength: 0 }, {
      name: "states",
      displayKey: "value",
      // `ttAdapter` wraps the suggestion engine in an adapter that
      // is compatible with the typeahead jQuery plugin
      source: this._suggestionEngine.ttAdapter(),
      templates: {
        suggestion: function (context) {
          return Mustache.render(template, context);
        }
      }
    }).on("typeahead:opened", function () {
      console.log("onOpened");
    }).on("typeahead:autocompleted", function () {
      console.log("onAutocompleted");
    }).on("typeahead:selected", function () {
      console.log("onSelected");
    });
  }, this);
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\TargetsInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");
var OptionLine = require("./OptionLine");

function TargetsInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._targets = [];
  this._value = opt.value || [];
  this._defaultValue = opt.defaultValue || [];
}

inherits(TargetsInput, Input);
var p = TargetsInput.prototype;
module.exports = TargetsInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      var _this = this;


      if (!Array.isArray(v)) throw Error;

      this._targets.slice().forEach(function (target) {
        return _this.removeTarget(target);
      });

      v.forEach(function (i) {
        return _this.addTarget(i);
      });
    },
    get: function () {
      return _.pluck(this._targets, "data");
    }
  } });




p.addTarget = function (opt) {
  var target = this._createTarget(opt);

  this._targets.push(target);
  this._rootOptionLine.addOptionLine(target.optionLine);
};

p.removeTarget = function (target) {
  var idx = this._targets.indexOf(target);

  if (idx === -1) return;

  this._targets.splice(idx, 1);
  this._rootOptionLine.removeOptionLine(target.optionLine);
  target.dispose();
};








p._createInput = function () {
  var _this2 = this;


  this._rootOptionLine = new OptionLine({
    title: "Targets",
    parent: this.domElem });

  this._rootOptionLine.addButton({
    name: "add",
    domElem: amgui.createIconBtn({
      icon: "plus",
      tooltip: "add new input"
    }) });

  amgui.bindDropdown({
    deTarget: this._rootOptionLine.buttons.add,
    deDropdown: amgui.createDropdown({
      options: [{
        icon: "hash",
        text: "css selector",
        onClick: function () {
          return _this2.addTarget({ type: "css", value: "" });
        },
        tooltip: "new css selector input"
      }, {
        icon: "code",
        text: "js input",
        onClick: function () {
          return _this2.addTarget({ type: "input", value: "" });
        },
        tooltip: "new js input"

      }]
    })
  });
};

p._createTarget = function (data) {
  var _this3 = this;


  var target = { data: data }, inputPaths = [];

  target.optionLine = new OptionLine({
    inputs: [{
      name: "input",
      type: "string",
      placeholder: "type here",
      value: target.data.value,
      onChange: function (value) {
        target.data.value = value;
        _this3.emit("change");

        if (data.type === "input") {
          var match = inputPaths.indexOf(input.value) === -1, color = match ? amgui.color.text : amgui.color.aqua;

          input.style.color = color;
        }
      }
    }]
  });

  var input = target.optionLine.inputs.input;
  input.focus();

  target.optionLine.highlight = data.type === "input" ? amgui.color.blue : amgui.color.purple;



  var refreshSuggestions = function () {
    inputPaths = am.projectMap.getCurrProject().getInputPaths();
    input.setSuggestions(inputPaths);
  };

  if (target.data.type === "input") {
    refreshSuggestions();
    // this.timeline.on('change.inputs', refreshSuggestions);
  }

  if (target.data.type === "css") {
    var btnPick = amgui.createIconBtn({
      icon: "target",
      display: "inline-block",
      onClick: function () {
        return am.dialogs.WIP.show();
      },
      tooltip: "pick DOM element"
    });
    target.optionLine.addButton({ domElem: btnPick, hoverMode: true });
  }

  var btnDel = amgui.createIconBtn({
    icon: "cancel",
    display: "inline-block",
    onClick: function () {
      return _this3.removeTarget(target);
    } });
  target.optionLine.addButton({ domElem: btnDel, hoverMode: true });

  target.dispose = function () {
    //TODO
    target.optionLine.dispose();
  };

  return target;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","./OptionLine":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\OptionLine.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\UnitInput.js":[function(require,module,exports){
"use strict";

var Input = require("./Input");
var inherits = require("inherits");
var amgui = require("../amgui");

function UnitInput(opt) {
  if (opt === undefined) opt = {};


  Input.call(this, opt);

  this._rxAmount = /^\s*([\+-]?\d*\.?\d*)/;
  this._rxUnit;

  this._onChangeInputAmount = this._onChangeInputAmount.bind(this);

  this._createBase();

  this.units = opt.units && opt.units.length ? opt.units : [""];
  this.min = opt.min;
  this.max = opt.max;
  this._amount = undefined;
  this._unit = undefined;
  this._precison = opt.precision || 0;
  this._defaultValue = opt.defaultValue || 0;
  this._dragSpeed = opt.dragSpeed || 1;

  this._setValueParts(opt.amount || 0, this._units[0]);

  this.converters = opt.converters;
}

inherits(UnitInput, Input);
var p = UnitInput.prototype;
module.exports = UnitInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      var mAmount = this._rxAmount.exec(v), mUnit = this._rxUnit.exec(v), amount = mAmount ? mAmount[1] : "0", unit = mUnit ? mUnit[1] : "";

      this._setValueParts(amount, unit);
    },
    get: function () {
      return this._amount + this._unit;
    }
  },
  precision: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._precison || this._precison.indexOf(v) === -1) return;

      this._precison = v;
      this.value = this.value;
    },
    get: function () {
      return this._precison;
    }
  },
  units: {
    set: function (v) {
      if (!(v instanceof Array)) return;

      this._units = v.slice();

      this._rxUnit = new RegExp("(" + this._units.join("|") + ")+\\s*$");
    }
  },
  min: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._min === v) return;

      this._min = v;
    },
    get: function () {
      return this._min;
    }
  },
  max: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._max === v) return;

      this._max = v;
    },
    get: function () {
      return this._max;
    }
  }
});






p._setValueParts = function (amount, unit) {
  amount = parseFloat(amount) || 0;
  unit = String(unit) || "";

  if (this._amount === amount && this._unit === unit) return;

  if (_.isFinite(this.min)) amount = Math.max(this.min, amount);
  if (_.isFinite(this.max)) amount = Math.min(this.max, amount);

  this._amount = amount;
  var fixAmount = this._toFixedAmount(amount);

  if (this._inpAmount.value !== fixAmount) {
    this._inpAmount.value = fixAmount;
  }

  if (this._unit !== unit && this._units.indexOf(unit) !== -1) {
    this._unit = unit;
    this._deUnit.text = unit;
  }

  this.emit("change", this.value);
};

p._toFixedAmount = function (amount) {
  var fixAmount = parseFloat(amount).toFixed(this._precison);

  if (fixAmount.indexOf(".") !== -1) {
    fixAmount = fixAmount.replace(/\.?0*$/, "");
  }

  return fixAmount;
};





p._onChangeInputAmount = function () {
  var fixAmount = this._toFixedAmount(this._amount), value = this._inpAmount.value;

  if (fixAmount !== value) {
    this._setValueParts(value, this._unit);
  }
};





p._createInput = function () {
  this._inpAmount = amgui.createInput({
    parent: this.domElem,
    onChange: this._onChangeInputAmount,
    flex: 1 });
  this._inpAmount.style.textAlign = "right";
  this._inpAmount.style.paddingRight = "2px";
  this._inpAmount.style.cursor = "ew-resize";

  amgui.makeDraggable({
    deTarget: this._inpAmount,
    thisArg: this,
    onDown: function () {
      return {
        amount: this._amount,
        moved: false };
    },
    onMove: function (md, mx) {
      md.moved = true;

      var dx = mx - md.mx;

      this._setValueParts(md.amount + this._dragSpeed * dx);
    },
    onUp: function (md) {
      if (!md.moved) {
        this._inpAmount.focus();
      }
    }
  });

  this._deUnit = amgui.createLabel({
    parent: this.domElem,
    text: "" });
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Input":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Input.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\defineCompactProperty.js":[function(require,module,exports){
"use strict";

module.exports = function defineCompactProperty(proto, opt) {
  if (_.isArray(opt)) {
    opt.forEach(function (o) {
      return defineCompactProperty(proto, o);
    });
    return;
  }

  if (!_.has(opt, "name")) throw Error;
  if (_.has(opt, "eventName")) throw Error;

  var valMap = new WeakMap(), name = opt.name, history = opt.history, startValue = opt.startValue, onChange = opt.onChange, evtName = opt.event || opt.evtName || "change." + name;

  if (history) {
    if (typeof (history) !== "object") history = {};
    if (!history.hasOwnProperty("tag")) history.tag = "change " + name;
    if (!history.hasOwnProperty("chainId")) history.chainId = Symbol(); //TODO make this unique per instance
  }

  Object.defineProperty(proto, name, { set: set, get: get });

  return {
    name: name,
    evtName: evtName };


  ///////////////////////////////////////////////////////////////

  function get() {
    return valMap.has(this) ? valMap.get(this) : startValue;
  }

  function set(v) {
    v = fixType(v);
    var value = get.call(this);

    if (v === value || isInvalidValue(v)) {
      return;
    }

    save.call(this, value, v);

    value = v;

    valMap.set(this, value);

    if (onChange) onChange.call(this, value);

    this.emit(evtName, value);
  }

  function save(oldValue, newValue) {
    if (!history) return;

    am.history.saveChain({
      id: history.chainId,
      undo: [set, this, oldValue],
      redo: [set, this, newValue],
      name: history.tag,
      delay: 312 });
  }

  function fixType(v) {
    switch (opt.type) {
      case "float": v = parseFloat(v);break;
      case "int": v = parseInt(v);break;
      case "boolean": v = !!v;break;
      case "string": v = "" + v;break;
    }

    return v;
  }

  function isInvalidValue(v) {
    return ((opt.type === "float" || opt.type === "int") && !_.isFinite(v));
  }
};

},{}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\Warehouseman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var WebStorageman = require("./storages/WebStorageman");
var PageScript = require("./storages/PageScript");
var Download = require("./storages/Download");
var decorDialog = require("./decorDialog");

function Warehouseeman(opt) {
  EventEmitter.call(this);

  decorDialog(this);

  opt = opt || {};

  this._storages = [];
  this.addStorage(new PageScript());
  this.addStorage(new WebStorageman());
  this.addStorage(new Download());
  // this.addStorage(new Copy());
  this.addStorage({ icon: "hdd", tooltip: "local file system" });
  this.addStorage({ icon: "git", tooltip: "Git" });
  this.addStorage({ icon: "google", tooltip: "Google Drive" });
  this.addStorage({ icon: "dropbox", tooltip: "Dropbox" });
  this.addStorage({ icon: "history", tooltip: "auto save" });

  this.selectStorage(this._storages[2]);
}

inherits(Warehouseeman, EventEmitter);
var p = Warehouseeman.prototype;

Object.defineProperties(p, {
  selectedStorageType: {
    get: function () {
      return this._currStorage && this._currStorage.type;
    }
  }
});

p.addStorage = function (storage) {
  storage.features = storage.features || {
    placeholder: true };

  this._storages.push(storage);
  this.emit("changeStorages");
};

p.selectStorage = function (storage) {
  if (this._currStorage === storage) {
    return;
  }

  this._currStorage = storage;

  if (storage.features.placeholder) {
    am.dialogs.WIP.show();
  }

  this.emit("changeSelectedStorage");
};

p.save = function (name, data, path) {
  return this._currStorage.save(name, data, path);
};

p.load = function (name, path) {
  return this._currStorage.load(name, path);
};

p.mkdir = function (path) {
  return this._currStorage.mkdir(path);
};

p.dir = function (path) {
  return this._currStorage.dir(path);
};

module.exports = Warehouseeman;

},{"./decorDialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\decorDialog.js","./storages/Download":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\Download.js","./storages/PageScript":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\PageScript.js","./storages/WebStorageman":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\WebStorageman.js","eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\decorDialog.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");

function decorDialog(whm) {
  var dialog, deLeft, deHead, deBreadcrumbs, inpName, deStorageSelector, deDirectory, btnNewFolder, isInited, deOptions, openOptions = {}, mode;



  function init() {
    if (isInited) {
      return;
    }
    isInited = true;

    dialog = new Dialog();
    dialog.addProperty({ name: "selectedName", startValue: "" });
    dialog.addProperty({ name: "selectedData", startValue: "" });
    dialog.addProperty({ name: "selectedPath", startValue: "" });

    createDialog();
    createStorageSelector();
    createBreadcrumbs();
    createBtnNewFolder();
    createBtnSettings();
    createNameInput();
    createDirectory();
    createOptions();

    whm.dialog = dialog;
  }

  whm.showSaveDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "save";

    dialog.selectedName = opt.name || "anim.am.js";
    dialog.selectedData = opt.data || "";
    dialog.selectedPath = opt.path || "";

    inpName.style.display = "block";

    dialog.title = "Save";
    dialog.showButton("save");
    dialog.hideButton("open");

    deStorageSelector.refresh();
    setupModules();
    dialog.show();
  };

  whm.showOpenDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "open";

    dialog.selectedName = opt.name || "";
    dialog.selectedPath = opt.path || "";

    inpName.style.display = "none";

    dialog.title = "Open";
    dialog.showButton("open");
    dialog.hideButton("save");

    deStorageSelector.refresh();
    setupModules();
    dialog.show();
  };

  whm.setSaveOtions = function (opt) {
    deOptions.setOptions(opt);
  };

  whm.getSaveOptions = function () {
    return deOptions.getOptions();
  };

  function feature(name) {
    return whm._currStorage.features && whm._currStorage.features[name];
  }

  function setupModules() {
    showHide(deDirectory, feature("browse"));
    showHide(deBreadcrumbs, feature("browse"));
    showHide(btnNewFolder, feature("mkdir"));

    function showHide(de, show) {
      de.style.display = show ? "block" || de.baseDisplay : "hidden";
    }
  }

  function onSave() {
    var save = openOptions.getSave(), name = dialog.selectedName || "anim.am.js";

    whm.save(name, save, dialog.selectedPath);

    dialog.hide();
  }

  function onOpen() {
    var save = whm.load(dialog.selectedName, dialog.selectedPath);

    if (openOptions.onOpen) {
      openOptions.onOpen(save);
    }

    dialog.hide();
  }









  function createDialog() {
    dialog.deContent.style.width = "700px";
    dialog.deContent.style.height = "400px";
    dialog.deContent.style.display = "flex";
    dialog.deContent.style.color = "white";

    deLeft = document.createElement("div");
    deLeft.style.height = "100%";
    deLeft.style.flex = "1";
    deLeft.style.display = "flex";
    deLeft.style.flexDirection = "column";
    dialog.deContent.appendChild(deLeft);

    deHead = document.createElement("div");
    deHead.style.width = "100%";
    deHead.style.height = "21px";
    deHead.style.display = "flex";
    deLeft.appendChild(deHead);

    dialog.addButton("save", onSave);
    dialog.addButton("open", onOpen);
    dialog.addButton("close", "hide");
  }


  function createBreadcrumbs() {
    deBreadcrumbs = amgui.createBreadcrumbs({
      parent: deHead });
    deBreadcrumbs.style.display = "inline-block";
    deBreadcrumbs.style.flex = "1";

    deBreadcrumbs.addEventListener("select", function (e) {
      whm.cd(e.detail.selection.value);
    });

    dialog.on("change.selectedPath", refresh);

    function refresh() {
      var names = dialog.selectedPath.split("/").filter(Boolean), value = "", crumbs = [];

      crumbs.push({
        name: (whm._currStorage.rootName || "root") + "://",
        value: value
      });

      names.forEach(function (crumbName) {
        value += crumbName + "/";

        crumbs.push({
          name: crumbName,
          value: value
        });
      });

      deBreadcrumbs.setItems(crumbs);
    };
  }



  function createBtnSettings() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "wrench",
      width: 21,
      onClick: function () {
        deOptions.toggle();
      }
    });
  }



  function createBtnNewFolder() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "folder-add",
      width: 21,
      onClick: function () {
        am.dialogs.WIP.show();
      }
    });
  }

  function createNameInput() {
    inpName = document.createElement("input");
    inpName.type = "text";
    inpName.style.width = "100%";
    inpName.style.height = "21px";
    inpName.style.background = "none";
    inpName.style.border = "none";
    inpName.style.color = amgui.color.text;
    inpName.style.fontSize = amgui.FONT_SIZE;
    inpName.style.fontFamily = amgui.FONT_FAMILY;
    inpName.placeholder = "File name";
    deLeft.appendChild(inpName);

    inpName.addEventListener("change", function () {
      dialog.selectedName = inpName.value;
    });

    dialog.on("change.selectedName", function () {
      if (inpName.value !== dialog.selectedName) {
        inpName.value = dialog.selectedName;
      }
    });
  }


  function createDirectory() {
    deDirectory = document.createElement("div");
    deDirectory.style.listStyle = "none";
    deDirectory.style.display = "inline-block";
    deDirectory.style.width = "100%";
    deDirectory.style.flex = "1";
    deLeft.appendChild(deDirectory);

    var deItems = [], overItem, currItem;

    dialog.on("change.selectedPath", refresh);
    whm.on("changeSelectedStorage", refresh);
    dialog.on("change.selectedName", function () {
      currItem = _.find(deItems, { name: dialog.selectedName });
    });

    function refresh() {
      while (deItems.length) {
        $(deItems.pop()).remove();
      }

      if (!feature("browse")) {
        return;
      }

      var list = whm.dir();

      list.forEach(function (item) {
        createItem(item.name, item.type);
      });
    }

    function onClick(e) {
      dialog.selectedName = this.name;

      if (e.type === "dblclick") {
        onOpen(dialog.selectedPath, dialog.selectedName);
      }
    }

    function refreshSelection() {
      deItems.forEach(function (deItem) {
        if (deItem === overItem || deItem === currItem) {
          deItem.style.background = amgui.color.bgHover;
        } else {
          deItem.style.background = "none";
        }
      });
    }

    function onMOver() {
      overItem = this;
      refreshSelection();
    }

    function onMOut() {
      if (overItem === this) {
        overItem = undefined;
        refreshSelection();
      }
    }

    function createItem(name, type) {
      var deItem = document.createElement("div");
      deItem.name = name;

      amgui.createIcon({
        icon: type === "folder" ? "folder-empty" : "doc",
        parent: deItem,
        display: "inline-block" });

      var deName = document.createElement("span");
      deName.textContent = name;
      deItem.appendChild(deName);

      deDirectory.appendChild(deItem);

      deItem.addEventListener("click", onClick);
      deItem.addEventListener("dblclick", onClick);
      deItem.addEventListener("mouseover", onMOver);
      deItem.addEventListener("mouseout", onMOut);

      deItems.push(deItem);
      return deItem;
    }
  }




  function createStorageSelector() {
    var btnSize = 33, buttons = [];

    deStorageSelector = document.createElement("div");
    deStorageSelector.style.display = "inline-block";
    deStorageSelector.style.width = btnSize + "px";
    deStorageSelector.style.height = "100%";
    dialog.deContent.insertBefore(deStorageSelector, deLeft);

    deStorageSelector.addEventListener("click", function (e) {
      var idx = e.target._storageIdx;

      if (idx !== undefined) {
        whm.selectStorage(whm._storages[idx]);
      }
    });

    whm.on("changeSelectedStorage", refreshSelection);

    function removeButtons() {
      buttons.forEach(function (btn) {
        if (btn.domElem.parentNode) {
          btn.domElem.parentNode.removeChild(btn.domElem);
        }

        btn.domElem.removeEventListener("click", onClickBtn);
      });
    }

    deStorageSelector.refresh = function () {
      removeButtons();

      whm._storages.forEach(function (storage) {
        if (storage.features.placeholder || storage.features[mode]) {
          createItem(storage);
        }
      });
    };

    function refreshSelection() {
      buttons.forEach(function (btn) {
        btn.domElem.fixedHighlight = btn.storage === whm._currStorage;
      });
    };

    function onClickBtn(e) {
      buttons.forEach(function (btn) {
        if (btn.domElem === e.currentTarget) {
          whm.selectStorage(btn.storage);
        }
      });
    }

    function createItem(storage) {
      var btn = {
        domElem: amgui.createIconBtn({
          icon: storage.icon,
          parent: deStorageSelector,
          width: btnSize,
          height: btnSize,
          display: "inline-block",
          onClick: onClickBtn }),
        storage: storage
      };

      amgui.addTooltip({
        deTarget: btn.domElem,
        text: storage.tooltip
      });

      buttons.push(btn);
    }
  }

  function createOptions() {
    var isOpened = false;

    deOptions = document.createElement("div");
    deOptions.style.display = "none";
    deOptions.style.width = "138px";
    deOptions.style.height = "100%";
    dialog.deContent.appendChild(deOptions);

    amgui.createBtn({
      text: "add trigger",
      icon: "plus",
      onClick: function () {
        am.dialogs.WIP.show();
      },
      parent: deOptions });

    var checkSave = createCheckbox("include save", true);
    var checkMinify = createCheckbox("minify");
    var checkAuto = createCheckbox("auto play", true);
    var checkDebug = createCheckbox("debug", true);

    deOptions.getOptions = function () {
      return {
        includeSave: checkSave.checked,
        minify: checkMinify.checked,
        autoPlay: checkAuto.checked
      };
    };

    deOptions.setOptions = function (opt) {
      checkSave.checked = opt.includeSave;
      checkMinify.checked = opt.minify;
      checkAuto.checked = opt.autoPlay;
      checkDebug.checked = opt.debug;
    };

    deOptions.toggle = function () {
      isOpened = !isOpened;

      deOptions.style.display = isOpened ? "block" : "none";
    };

    function createCheckbox(name, checked) {
      var cb = amgui.createCheckbox({
        text: name,
        checked: checked,
        parent: deOptions });

      $(cb).one("click", function () {
        am.dialogs.WIP.show();
      });

      return cb;
    }
  }
}


module.exports = decorDialog;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","../utils/Dialog":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\utils\\Dialog.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\Download.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Download(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_Download/";

  this.icon = "download";
  this.tooltip = "Download";
}

inherits(Download, EventEmitter);
var p = Download.prototype;

p.features = {
  save: true };

p.save = function (name, data) {
  data = "data:application/javascript;charset=utf-8," + encodeURIComponent(data);
  $("<a download=\"" + name + "\" href=\"" + data + "\"></a>")[0].click();
};

module.exports = Download;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\PageScript.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var FOLDERS = "<folders>";

function PageScript(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_PageScript/";

  this.icon = "code";
  this.tooltip = "running Animachine pagescripts";

  this._folders = window.localStorage.getItem(this._root + FOLDERS);

  try {
    this.folders = JSON.parse(this._folders);
  } catch (e) {
    this._folders = [];
  }
}

inherits(PageScript, EventEmitter);
var p = PageScript.prototype;

p.save = function (name, data, path) {
  name = this._validName(name);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.open = function (name) {
  if (name in pageScripts()) {
    return pageScripts()[name];
  }
};

p.dir = function () {
  var ret = [];

  Object.keys(pageScripts()).forEach(function (key) {
    ret.push({
      name: key,
      type: "file"
    });
  });

  return ret;
};

function pageScripts() {
  return (window.am && window.am.pageScripts) || [];
}

module.exports = PageScript;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\warehouseman\\storages\\WebStorageman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var ROOT = "_webstorageman/", FOLDERS = "<folders>";

function WebStorageman(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this.icon = "bullseye";
  this.rootName = "webstorage";
  this.type = "webstorage";
  this.tooltip = "webstorage, store data in your browser";

  this._folders = window.localStorage.getItem(ROOT + FOLDERS);

  try {
    this._folders = JSON.parse(this._folders);
  } catch (e) {}

  if (!(this._folders instanceof Array)) {
    this._folders = [];
  }
}

inherits(WebStorageman, EventEmitter);
var p = WebStorageman.prototype;

p.features = {
  save: true,
  open: true,
  browse: true };


p.save = function (name, data, path) {
  name = this._validName(name);
  path = this._validPath(path);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.load = function (name, path) {
  name = this._validName(name);
  path = this._validPath(path);

  return this._get(path + name);
};

p.mkdir = function (path) {
  path = this._validPath(path).split("/").filter(Boolean);

  var folderPath = "";

  path.forEach(function (folder) {
    this._addFolder(folder + "/");
  }, this);
};

p.dir = function (path) {
  path = ROOT + this._validPath(path);

  var ret = [];

  Object.keys(window.localStorage).forEach(function (key) {
    if (key.indexOf(FOLDERS) === -1) {
      testKey(key, "file");
    }
  });

  this._folders.forEach(function (path) {
    testKey(ROOT + path.slice(0, -1), "folder");
  });

  return ret;

  function testKey(key, type) {
    if (key.indexOf(path) === 0) {
      key = key.substr(path.length);

      if (key.indexOf("/") === -1) {
        ret.push({
          name: key,
          type: type
        });
      }
    }
  }
};

p._addFolder = function (path) {
  if (this._folders.indexOf(path) !== -1) {
    return;
  }

  this._folders.push(path);

  window.localStorage.setItem(ROOT + FOLDERS, JSON.stringify(this._folders));
};

p._set = function (path, data) {
  return window.localStorage.setItem(ROOT + path, data);
};

p._get = function (path) {
  return window.localStorage.getItem(ROOT + path);
};

p._validPath = function (path) {
  if (!path) {
    path = "";
  }

  if (path.charAt(0) === "/") {
    path = path.substr(1);
  }

  if (path.charAt(path.length - 1) !== "/" && path.length) {
    path += "/";
  }

  return path;
};

p._validName = function (name) {
  return name.replace(/<|\//g, "_");
};

module.exports = WebStorageman;

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Block(opt) {
  EventEmitter.call(this);

  this._createDomElem();

  this.size = opt.size || 1;
  this.scaleMode = opt.scaleMode || "flex";
}

inherits(Block, EventEmitter);
var p = Block.prototype;
module.exports = Block;

Object.defineProperties(p, {
  size: {
    set: function (v) {
      if (typeof (v) !== "number" || this._size === v) return;

      this._size = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._size;
    }
  },
  scaleMode: {
    set: function (v) {
      if (typeof (v) !== "string" || this._scaleMode === v) return;

      this._scaleMode = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._scaleMode;
    }
  }
});

p.bubbleResize = function () {};

p._refresh = function () {
  var flex = "", width = "", height = "";

  if (this.scaleMode === "fix") {
    if (this._direction === "row") {
      width = this.size + "px";
    } else {
      height = this.size + "px";
    }
  } else if (this.scaleMode === "flex") {
    flex = this.size;
  }

  this.domElem.style.width = width;
  this.domElem.style.height = height;
  this.domElem.style.flex = flex;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "relative";
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.flex = "1";
  this.domElem.style.alignSelf = "stretch";
  this.domElem.style.pointerEvents = "none";

  this.domElem.setAttribute("data-debug", "block");
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Container.js":[function(require,module,exports){
"use strict";

var Block = require("./Block");
var Panel = require("./Panel");
var inherits = require("inherits");
var amgui = require("../amgui");

function Container(opt) {
  Block.call(this, opt);

  this._children = [];
  this._deHandlers = [];

  this.direction = opt.direction || "row";

  opt.children.forEach(function (cData) {
    if (cData.type === "container") {
      this.addChild(new Container(cData));
    } else if (cData.type === "panel") {
      this.addChild(new Panel(cData));
    }
  }, this);

  amgui.callOnAdded(this.domElem, this._refreshHandlers.bind(this));
}

inherits(Container, Block);
var p = Container.prototype;
module.exports = Container;

Object.defineProperties(p, {
  direction: {
    set: function (v) {
      this._direction = v;
      this.domElem.style.flexDirection = this._direction;
    },
    get: function () {
      return this._direction;
    }
  }
});

p.addChild = function (child) {
  this.addChildAt(child, this._children.length);
};

p.addChildAt = function (child, idx) {
  this._children.splice(idx, 0, child);
  this._refreshChildren();
  this._refreshHandlers();
};

p.findTab = function (name) {
  var tab;

  this._children.some(function (child) {
    tab = child.findTab(name);
    return tab;
  });

  return tab;
};

p.bubbleResize = function () {
  if (!this._children || !this._deHandlers) return;

  this._children.forEach(function (child) {
    child.bubbleResize();
  });

  this._refreshHandlers();
};






p._getFlexPerPx = function () {
  var br = this.domElem.getBoundingClientRect(), fullPx = this.direction === "row" ? br.width : br.height, fullFlex = 0;

  this._children.forEach(function (child) {
    if (child.scaleMode === "fix") {
      fullPx -= child.size;
    } else {
      fullFlex += child.size;
    }
  });

  return fullFlex / fullPx;
};

p._refreshChildren = function () {
  this._children.forEach(function (child) {
    this.domElem.appendChild(child.domElem);
  }, this);
};

p._refreshHandlers = function () {
  var i, deHandler, ncBr, thickness = 4, br = this.domElem.getBoundingClientRect();

  for (i = 0; i < this._children.length - 1; ++i) {
    if (!this._deHandlers[i]) {
      this._deHandlers.push(this._createHandler());
    }

    ncBr = this._children[i + 1].domElem.getBoundingClientRect();
    deHandler = this._deHandlers[i];

    if (this.direction === "row") {
      deHandler.style.left = (ncBr.left - br.left - thickness / 2) + "px";
      deHandler.style.top = "0px";
      deHandler.style.width = thickness + "px";
      deHandler.style.height = "100%";
      deHandler.style.cursor = "ew-resize";
    } else {
      deHandler.style.left = "0px";
      deHandler.style.top = (ncBr.top - br.top - thickness / 2) + "px";
      deHandler.style.width = "100%";
      deHandler.style.height = thickness + "px";
      deHandler.style.cursor = "ns-resize";
    }
  }

  this._deHandlers.splice(i).forEach(function (deHandler) {
    deHandler.parentNode.removeChild(deHandler);
  });
};







p._onResize = function () {
  this._refreshHandlers();
};

p._onDragHandler = function (md, mx, my) {
  var move = this.direction === "row" ? mx - md.mx : my - md.my, moveFlex = move * this._getFlexPerPx(), prevChild = this._children[md.idx], nextChild = this._children[md.idx + 1];

  prevChild.size = md.prevChildSize + (prevChild.scaleMode === "fix" ? move : moveFlex);
  nextChild.size = md.nextChildSize - (nextChild.scaleMode === "fix" ? move : moveFlex);

  this._refreshHandlers();
};









p._createHandler = function () {
  var de = document.createElement("div");
  de.style.position = "absolute";
  de.style.cursor = "crosshair";
  de.style.pointerEvents = "auto";

  amgui.makeDraggable({
    deTarget: de,
    thisArg: this,
    onDown: function () {
      var idx = this._deHandlers.indexOf(de);
      return {
        idx: idx,
        prevChildSize: this._children[idx].size,
        nextChildSize: this._children[idx + 1].size
      };
    },
    onMove: this._onDragHandler,
    onEnter: function () {
      de.style.background = "#fff";
    },
    onLeave: function () {
      de.style.background = "";
    }
  });

  this.domElem.appendChild(de);

  return de;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Block":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js","./Panel":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Panel.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Dialogs.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Dialogs() {
  EventEmitter.call(this);

  this._createDomElem();
  this._createFrame();

  this._dialogStack = [];

  this._offsetX = 0;
  this._offsetY = 0;
}

inherits(Dialogs, EventEmitter);
var p = Dialogs.prototype;
module.exports = Dialogs;

p.showDialog = function (popup) {
  if (this._currPopup) {
    this._dialogStack.push(this._currPopup);
  }

  this.move(0, 0);

  this._currPopup = popup;

  this._deFrame.setTitle(popup.title);
  this._deFrame.setContent(popup.deContent);
  this._deFrame.setButtons(popup.buttons);

  this.domElem.style.display = "block";

  if (popup.onShow) popup.onShow();
};

p.hideDialog = function (popup) {
  popup = popup || this._currPopup;

  if (!popup) return;

  this.domElem.style.display = "none";

  if (popup.onHide) popup.onHide();

  if (_.has(this._dilaogStack, popup)) {
    _.pull(this._dilaogStack, popup);
  } else if (popup === this._currPopup) {
    this._currPopup = undefined;

    if (this._dialogStack.length) {
      this.showDialog(this._dialogStack.pop());
    }
  }
};

p.move = function (x, y) {
  this._offsetX = x;
  this._offsetY = y;

  this._deFrame.style.transform = "translate(" + x + "px," + y + "px)";

  return this;
};

p.setTitle = function (title) {
  if (this._currPopup) {
    this._currPopup.title = title;
  }

  this._deFrame.setTitle(title);
};














p._createDomElem = function () {
  var _this = this;


  this.domElem = document.createElement("div");
  this.domElem.style.position = "absolute";
  this.domElem.style.display = "none";
  this.domElem.style.pointerEvents = "auto";
  this.domElem.style.top = "0px";
  this.domElem.style.left = "0px";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = "rgba(255,255,255,.3)";

  this.domElem.addEventListener("click", function (e) {
    if (e.target === e.currentTarget) _this.hideDialog();
  });
};

p._createFrame = function () {
  var de, deTitle, deTitleText, deTitleIcon, deContentCont, deButtonsCont, buttons = [];

  de = document.createElement("div");
  de.style.position = "absolute";
  de.style.left = "0";
  de.style.right = "0";
  de.style.top = "0";
  de.style.bottom = "0";
  de.style.width = "-webkit-fit-content";
  de.style.height = "-webkit-fit-content";
  de.style.width = "-moz-fit-content";
  de.style.height = "-moz-fit-content";
  de.style.width = "fit-content";
  de.style.height = "fit-content";
  de.style.margin = "auto";
  de.style.pointerEvents = "auto";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;

  this._deFrame = de;
  this.domElem.appendChild(this._deFrame);


  deTitle = document.createElement("div");
  deTitle.style.display = "inline-block";
  deTitle.style.padding = "0 18px";
  deTitle.style.height = "34px";
  deTitle.style.fontSize = "23px";
  deTitle.style.fontWeight = "700";
  deTitle.style.background = amgui.color.overlay;
  deTitle.style.color = amgui.color.text;
  de.appendChild(deTitle);

  deTitleText = document.createElement("span");
  deTitle.appendChild(deTitleText);

  deTitleIcon = amgui.createIcon({
    parent: deTitle,
    display: "inline-block" });



  deContentCont = document.createElement("div");
  deContentCont.style.background = amgui.color.overlay;
  de.appendChild(deContentCont);

  deButtonsCont = document.createElement("div");
  deButtonsCont.style.background = amgui.color.overlay;
  deButtonsCont.style.display = "inline-block";
  deButtonsCont.style.float = "right";
  de.appendChild(deButtonsCont);


  de.setTitle = function (title) {
    if (typeof (title) !== "object") {
      title = { text: title };
    }

    deTitleText.textContent = title.text || "Dialog";

    if (title.icon) {
      deTitleIcon.setIcon(title.icon);
      deTitleIcon.style.display = "inline-block";
    } else {
      deTitleIcon.style.display = "none";
    }
  };

  de.setContent = function (deContent) {
    if (!deContent) {
      return;
    }

    deContentCont.innerHTML = "";
    deContentCont.appendChild(deContent);
  };

  de.setButtons = function (btnDataList) {
    if (!buttons) {
      return;
    }

    buttons.length = 0;
    deButtonsCont.innerHTML = "";

    btnDataList.forEach(function (btnData) {
      if (typeof (btnData) === "string") {
        de.addButton(btnData);
      } else {
        de.addButton(btnData.text, btnData.onClick);
      }
    });
  };

  de.addButton = function (text, handler) {
    var btn = amgui.createBtn({
      text: text,
      height: "100%",
      background: "rgba(0,0,0,0)" });
    btn.style.display = "inline-block";
    btn.style.fontWeight = "700";
    btn.style.fontSize = "18px";
    deButtonsCont.appendChild(btn);

    buttons.push(btn);

    btn.addEventListener("click", function () {
      if (handler) handler();

      de.dispatchEvent(new Event("click_" + text.toLowerCase()));
    });
  };

  amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function () {
      return {
        offsetX: this._offsetX,
        offsetY: this._offsetY };
    },
    onDrag: function (md) {
      this.move(md.offsetX + md.dx, md.offsetY + md.dy);
    }
  });

  return de;
};

},{"eventman":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\eventman\\eventman.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Panel.js":[function(require,module,exports){
"use strict";

var Tab = require("./Tab");
var amgui = require("../amgui");
var Block = require("./Block");
var inherits = require("inherits");

function Panel(opt) {
  Block.call(this, opt);

  this._tabs = [];

  this._onToggleCollapsed = this._onToggleCollapsed.bind(this);

  this._createTabBase();

  this._empty = false;
  this._collapsed = false;
  this._noHead = false;

  if ("empty" in opt) this.empty = opt.empty;
  if ("collapsed" in opt) this.collapsed = opt.collapsed;
  if ("noHead" in opt) this.noHead = opt.noHead;

  if (opt.tabs) {
    opt.tabs.forEach(this.addTab, this);
  }

  if (!this._tabs.some(function (tab) {
    return tab.selected;
  }) && this._tabs.length) {
    this._tabs[0].select();
  }
}

inherits(Panel, Block);
var p = Panel.prototype;
module.exports = Panel;

Object.defineProperties(p, {
  empty: {
    set: function (v) {
      v = !!v;
      if (this._empty === v) return;

      this._empty = v;
      this.domElem.style.pointerEvents = this._empty ? "none" : "auto";
      this.domElem.style.visibility = this._empty ? "hidden" : "visibile";
    },
    get: function () {
      return this._empty;
    }
  },

  collapsed: {
    set: function (v) {
      v = !!v;
      if (this._collapsed === v) return;

      this._collapsed = v;
      this._deTabContent.style.display = this._collapsed ? "none" : "flex";
    },
    get: function () {
      return this._collapsed;
    }
  },

  noHead: {
    set: function (v) {
      v = !!v;
      if (this._noHead === v) return;

      this._noHead = v;
      this._deTabHead.style.display = this._noHead ? "none" : "flex";
    },
    get: function () {
      return this._noHead;
    }
  }
});

p.addTab = function (tData) {
  var tab = new Tab(tData);
  this._deTabHead.appendChild(tab.deEar);
  this._deTabContent.appendChild(tab.domElem);
  this._tabs.push(tab);

  tab.deEar.addEventListener("click", this.showTab.bind(this, tab));
};


p.findTab = function (name) {
  var tab;

  this._tabs.some(function (t) {
    if (t.name === name) {
      return (tab = t);
    }
  });

  return tab;
};

p.showTab = function (tab) {
  this._tabs.forEach(function (t) {
    if (tab === t) {
      t.select();
    } else {
      t.deselect();
    }
  });
};

p.bubbleResize = function () {
  if (!this._tabs) return;

  this._tabs.forEach(function (tab) {
    tab.bubbleResize();
  });
};







p._onToggleCollapsed = function () {
  this.collapsed = !this.collapsed;

  this._btnToggleCollapsed.setToggle(this.collapsed);
};






p._createTabBase = function () {
  this._deTabBase = document.createElement("div");
  this._deTabBase.style.display = "flex";
  this._deTabBase.style.flexDirection = "column";
  this._deTabBase.style.alignSelf = "stretch";
  this._deTabBase.style.flex = "1";
  this.domElem.appendChild(this._deTabBase);

  this._deTabHead = document.createElement("div");
  this._deTabHead.style.width = "100%";
  this._deTabHead.style.height = amgui.LINE_HEIGHT + "px";
  this._deTabHead.style.display = "flex";
  this._deTabHead.style.alignItems = "stretch";
  this._deTabHead.style.background = amgui.color.bg0;
  this._deTabHead.style.pointerEvents = "auto";
  this._deTabHead.setAttribute("data-debug", "tabhead");
  this._deTabBase.appendChild(this._deTabHead);

  this._deTabContent = document.createElement("div");
  this._deTabContent.style.position = "relative";
  this._deTabContent.style.overflow = "hidden";
  this._deTabContent.style.width = "100%";
  this._deTabContent.style.flex = 1;
  this._deTabContent.setAttribute("data-debug", "tabcontent");
  this._deTabBase.appendChild(this._deTabContent);

  this._btnToggleCollapsed = amgui.createToggleIconBtn({
    tooltip: "show/hide tabs",
    iconOn: "collapse",
    iconOff: "expand",
    parent: this._deTabHead,
    display: "inline-block",
    onClick: this._onToggleCollapsed
  });
  this._btnToggleCollapsed.style.order = 1;
};

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js","./Block":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Block.js","./Tab":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Tab.js","inherits":"c:\\Users\\Andras\\Downloads\\animachine\\node_modules\\inherits\\inherits_browser.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Tab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Tab(opt) {
  this.name = opt.name;
  this.selected = opt.selected;

  this._createDomElem();
  this.deEar = this._createTabEar();

  this[this.selected ? "select" : "deselect"]();
}

var p = Tab.prototype;

p.setContent = function (deContent) {
  this.domElem.innerHTML = "";
  this.domElem.appendChild(deContent);
  deContent.style.position = "absolute";
};

p.bubbleResize = function () {
  this.domElem.dispatchEvent(new Event("resize"));
};



p.select = function () {
  this.domElem.style.display = "block";
  this.deEar.style.borderBottomWidth = "1px";
  this.deEar.style.color = amgui.color.text;
};

p.deselect = function () {
  this.domElem.style.display = "none";
  this.deEar.style.borderBottomWidth = "0px";
  this.deEar.style.color = amgui.color.textInactive;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "realtive";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.setAttribute("data-debug", "tab - " + this.name);
};

p._createTabEar = function () {
  var de = amgui.createLabel({
    text: this.name,
    flex: 1 });
  de.style.boxSizing = "border-box";
  de.style.cursor = "default";
  de.style.borderBottom = "solid 1px white";
  de.style.alignSelf = "stretch";
  de.style.overflow = "hidden";
  de.style.textAlign = "center";

  return de;
};

module.exports = Tab;

},{"../amgui":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\amgui\\amgui.js"}],"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Windooman.js":[function(require,module,exports){
"use strict";

var Container = require("./Container");
var Dialogs = require("./Dialogs");

function Windooman() {
  this._tabMap = {};
  this._workspaces = {};

  this._createDomElem();
  this._initResize();

  this.dialogs = new Dialogs();
  this.domElem.appendChild(this.dialogs.domElem);
}

var p = Windooman.prototype;

p.loadWorkspace = function (name, workspace) {
  this._workspaces[name] = workspace;
};

p.getWorkspace = function (name) {
  return _.cloneDeep(this._workspaces[name]);
};

p.load = function (name, workspace) {
  if (workspace) {
    this.loadWorkspace(name, workspace);
  }

  var map = this._workspaces[name];

  if (!map || map.type !== "container") {
    throw Error("can't load " + map);
  }

  this._root = new Container(map);

  this._deCont.innerHTML = "";
  this._deCont.appendChild(this._root.domElem);

  Object.keys(this._tabMap).forEach(function (name) {
    this.fillTab(name, this._tabMap[name]);
  }, this);
};

p.findTab = function (name) {
  if (this._root) {
    return this._root.findTab(name);
  }
};

p.fillTab = function (name, content) {
  this._tabMap[name] = content;

  var tab = this.findTab(name);

  if (tab) {
    tab.setContent(content);
  } else {}
};

p._initResize = function () {
  var isWaiting = false;

  var cb = function () {
    if (this._root) {
      this._root.bubbleResize();
      isWaiting = false;
    }
  }.bind(this);

  window.addEventListener("resize", function () {
    if (!isWaiting) {
      isWaiting = true;
      window.requestAnimationFrame(cb);
    }
  });
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";

  this._deCont = document.createElement("div");
  this._deCont.style.width = "100%";
  this._deCont.style.height = "100%";
  this._deCont.style.display = "flex";
  this.domElem.appendChild(this._deCont);
};

module.exports = Windooman;

},{"./Container":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Container.js","./Dialogs":"c:\\Users\\Andras\\Downloads\\animachine\\src\\editor\\windooman\\Dialogs.js"}]},{},["./src/editor/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbWFpbi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvYmV6aWVyLWVhc2luZy9pbmRleC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvYm93c2VyL2Jvd3Nlci5qcyIsIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxwYXRoLWJyb3dzZXJpZnlcXGluZGV4LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJub2RlX21vZHVsZXNcXGJyb3dzZXJpZnlcXG5vZGVfbW9kdWxlc1xcdXRpbFxcdXRpbC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvZG9tcmVhZHkvcmVhZHkuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2V2ZW50bWFuL2V2ZW50bWFuLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzXFxsb2Rhc2hcXGRpc3RcXGxvZGFzaC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9DdXJzb3JIaW50LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvZXM1L1RyYW5zaGFuZC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9Cb3hlci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9UcmFuc2Zvcm1lci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL2VzNS9oYW5kcy9jdXJ2ZXIvQ3VydmVyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvZXM1L21ha2UtZHJhZ2dhYmxlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9hcnJheS1zZXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9iYXNlNjQtdmxxLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAvYmFzZTY0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAvYmluYXJ5LXNlYXJjaC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwL3NvdXJjZS1tYXAtY29uc3VtZXIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9zb3VyY2UtbWFwLWdlbmVyYXRvci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwL3NvdXJjZS1ub2RlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAvdXRpbC5qcyIsIm5vZGVfbW9kdWxlc1xcdWdsaWZ5LWpzXFxub2RlX21vZHVsZXNcXHNvdXJjZS1tYXBcXG5vZGVfbW9kdWxlc1xcYW1kZWZpbmVcXGFtZGVmaW5lLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvdG9vbHMvbm9kZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtLmNzcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtL2FtLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0vYW0ubWVudS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtL2FtLnRvb2xzLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0vYmFzZVdvcmtzcGFjZS5qc29uIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuYmV6aWVyRWRpdG9yLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuYnJlYWRjcnVtYnMuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5idXR0b24uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5jaGVja2JveC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmN1cnNvci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmRpYWxvZy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmRyYXdlci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmRyb3Bkb3duLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuaW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmtleVZhbHVlSW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5tYWtlRHJhZ2dhYmxlLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuc2Nyb2xsLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuc3RlcHBlcktleS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLnRvb2x0aXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS51dGlscy5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2Fzc2V0cy9mb250ZWxsby9jb25maWcuanNvbiIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2Fzc2V0cy9mb250ZWxsby9jc3MvYW1ndWkuY3NzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvY2hyb25pY2xlci9DaHJvbmljbGVyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvY29tbW9uRGlhbG9ncy9kaWFsb2dGZWVkYmFjay5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2NvbW1vbkRpYWxvZ3MvZGlhbG9nV0lQLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvY29tbW9uRGlhbG9ncy9kaWFsb2dXZWxjb21lLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvZG9tLXBpY2tlci9Eb21QaWNrZXIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9oaXN0b3J5VGFiL0hpc3RvcnlUYWIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9oaXN0b3J5VGFiL0l0ZW0uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9pMThuLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbWluZVNhdmUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2FtLWRvbXRyZWUvQnJhbmNoLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9hbS1kb210cmVlL0RvbVRyZWVUYWIuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2FtLWRvbXRyZWUvYW0tZG9tdHJlZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0JlemllckNzc1BhcmFtLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvQ3NzUGFyYW0uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9Dc3NQYXJhbUZhY3RvcnkuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9Dc3NQYXJhbUdyb3VwLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvQ3NzUGFyYW1zVGFiLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvQ3NzVHJhY2suanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9jc3NNb2R1bGUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb3VzZS9Nb3VzZS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Byb2plY3QvUHJvamVjdC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Byb2plY3QvUHJvamVjdE1hcC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Byb2plY3QvUHJvamVjdFRhYi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Byb2plY3Qvc2NyaXB0LnByb2plY3QubXN0IiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvcXNnZW4uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9zaG9ydGN1dHMvZGlhbG9nU2V0dGluZ3MuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9zaG9ydGN1dHMvc2hvcnRjdXRzLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvRWFzZU1hcC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RpbWVsaW5lL0lubGluZUVhc2VFZGl0b3IuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9UaW1lYmFyLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvVGltZWxpbmUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9UcmlnZ2VyTWFwLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvZGVjb3JUaW1lYmFyTmF2aWdhdG9yLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvc2NyaXB0LnRpbWVsaW5lLm1zdCIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Rvb2xiYXIvVG9vbGJhci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RvdXIvVG91ci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL0Vhc2UuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9LZXkuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9LZXlHcm91cC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL0tleUxpbmUuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9LZXlMaW5lR3JvdXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9QYXJhbS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL1BhcmFtRmFjdG9yeS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL1BhcmFtR3JvdXAuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9UcmFjay5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RyYWNrL2RpYWxvZ0Vhc2VPcHRpb25zLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdHJhY2svZGlhbG9nTmV3UGFyYW0uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9kaWFsb2dUcmFja09wdGlvbnMuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90cmFjay9zY3JpcHQucGxheWVyLm1zdCIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL0NoZWNrYm94SW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9Db2xvcklucHV0LmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvRGlhbG9nLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvSW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9PcHRpb25MaW5lLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvU2VsZWN0SW5wdXQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9TdHJpbmdJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1RhcmdldHNJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1VuaXRJbnB1dC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL2RlZmluZUNvbXBhY3RQcm9wZXJ0eS5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9XYXJlaG91c2VtYW4uanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93YXJlaG91c2VtYW4vZGVjb3JEaWFsb2cuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93YXJlaG91c2VtYW4vc3RvcmFnZXMvRG93bmxvYWQuanMiLCJjOi9Vc2Vycy9BbmRyYXMvRG93bmxvYWRzL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93YXJlaG91c2VtYW4vc3RvcmFnZXMvUGFnZVNjcmlwdC5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9zdG9yYWdlcy9XZWJTdG9yYWdlbWFuLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL0Jsb2NrLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL0NvbnRhaW5lci5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dpbmRvb21hbi9EaWFsb2dzLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL1BhbmVsLmpzIiwiYzovVXNlcnMvQW5kcmFzL0Rvd25sb2Fkcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2luZG9vbWFuL1RhYi5qcyIsImM6L1VzZXJzL0FuZHJhcy9Eb3dubG9hZHMvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dpbmRvb21hbi9XaW5kb29tYW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUM7O0FBRXZDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtBQUVqQywwQkFBd0IsRUFBRSxDQUFDO0FBQzNCLFFBQU0sS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7Q0FDdEM7O0FBRUQsTUFBTSxDQUFDLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRS9CLFNBQVMsd0JBQXdCLEdBQUc7QUFFaEMsTUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM1QyxTQUFPLENBQUMsV0FBVyxHQUFHLDhFQUE4RSxDQUFDO0FBQ3JHLFNBQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUNoQyxTQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDOUIsU0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0FBQ3ZDLFNBQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUNoQyxTQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7QUFDOUIsU0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsaUJBQWlCLENBQUM7QUFDN0MsU0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ3RCLFNBQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztBQUN4QixTQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDekIsU0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLFVBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUM3QixNQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pDLEtBQUcsQ0FBQyxTQUFTLEdBQUcsa0JBQWtCLENBQUM7QUFDbkMsU0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFekIsVUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7Ozs7QUM3QnZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaFBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2hPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDMWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2pvTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeHJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDamxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOWRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzNTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2g4UEE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3NCSSxLQUFHLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDOztBQUU5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TTs7QUFBQSxBQUVWLFdBQUssUUFBUTtBQUNULFVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbEIsVUFBRSxHQUFHLEVBQUUsQ0FBQztBQUNSLGNBQU07O0FBQUEsQUFFVixlQUFRO0FBQ1IsV0FBSyxNQUFNO0FBQ1AsVUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDWixVQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQUEsS0FDekI7O0FBRUQsUUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDbkIsUUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3JDLFFBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNyQyxRQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFbkIsTUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUMxQixNQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDO0dBQzVCLENBQUMsQ0FBQztDQUNOOztBQUVELFNBQVMsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFO0FBRWxDLE1BQUksRUFBRSxZQUFZLEtBQUssRUFBRTtBQUVyQixRQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDaEIsTUFBRSxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUVyQixRQUFFLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJ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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2p2QkE7QUFDQTs7Ozs7QUNEQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFbkMsU0FBUyxVQUFVLEdBQUc7QUFFbEIsY0FBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFeEIsTUFBSSxD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YSxHQUFHLFFBQVEsQ0FBQztBQUM3QyxNQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO0FBQzFDLE1BQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztBQUN0RCxNQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQy9CLE1BQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDcEMsTUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUV4QyxNQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUM1QyxNQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDOzs7QUFHakQsTUFBSSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JELE1BQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7QUFDakQsTUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUM1QyxNQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ3RDLE1BQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDM0MsTUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUMxQyxNQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQy9DLE1BQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUks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N0MsTUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUNsQyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ25DLE1BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0FBRXBDLE1BQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM3QyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDbkMsTUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUNwQyxNQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDMUMsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgYm93c2VyID0gcmVxdWlyZSgnYm93c2VyJykuYnJvd3NlcjtcblxuaWYgKCFib3dzZXIuY2hyb21lICYmICFib3dzZXIub3BlcmEpIHtcblxuICAgIGFsZXJ0VW5zdXBwb3J0ZWRCcm93c2VycygpO1xuICAgIHRocm93IEVycm9yKCd1bnN1cHBvcnRlZCBicm93c2VyJyk7XG59XG5cbndpbmRvdy5hbSA9IHJlcXVpcmUoJy4vYW0vYW0nKTtcblxuZnVuY3Rpb24gYWxlcnRVbnN1cHBvcnRlZEJyb3dzZXJzKCkge1xuXG4gICAgdmFyIGRlU29ycnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVNvcnJ5LnRleHRDb250ZW50ID0gJ1NvcnJ5LCB0aGlzIGRlbW8gaXMgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBuZXdlc3QgY2hyb21lIGFuZCBvcGVyYS4nO1xuICAgIGRlU29ycnkuc3R5bGUuZGlzcGxheSA9ICdmaXhlZCc7XG4gICAgZGVTb3JyeS5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gICAgZGVTb3JyeS5zdHlsZS5mb250RmFtaWx5ID0gJ09wZW4gU2Fucyc7XG4gICAgZGVTb3JyeS5zdHlsZS5mb250U2l6ZSA9ICcyMXB4JztcbiAgICBkZVNvcnJ5LnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICBkZVNvcnJ5LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLjMpJztcbiAgICBkZVNvcnJ5LnN0eWxlLnRvcCA9IDA7XG4gICAgZGVTb3JyeS5zdHlsZS5yaWdodCA9IDA7XG4gICAgZGVTb3JyeS5zdHlsZS5ib3R0b20gPSAwO1xuICAgIGRlU29ycnkuc3R5bGUubGVmdCA9IDA7XG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB2YXIgZW1vID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGVtby5jbGFzc05hbWUgPSAnaWNvbi1lbW8tdW5oYXBweSc7XG4gICAgZGVTb3JyeS5hcHBlbmRDaGlsZChlbW8pO1xuICAgIC8vIGFtZ3VpLmNyZWF0ZUljb24oe2ljb246ICdlbW8tdW5oYXBweScsIHBhcmVudDogZGVTb3JyeSwgZGlzcGxheTogJ2lubGluZSd9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRlU29ycnkpO1xufVxuIiwiLyoqXG4gKiBCZXppZXJFYXNpbmcgLSB1c2UgYmV6aWVyIGN1cnZlIGZvciB0cmFuc2l0aW9uIGVhc2luZyBmdW5jdGlvblxuICogYnkgR2HDq3RhbiBSZW5hdWRlYXUgMjAxNCDigJMgTUlUIExpY2Vuc2VcbiAqXG4gKiBDcmVkaXRzOiBpcyBiYXNlZCBvbiBGaXJlZm94J3MgbnNTTUlMS2V5U3BsaW5lLmNwcFxuICogVXNhZ2U6XG4gKiB2YXIgc3BsaW5lID0gQmV6aWVyRWFzaW5nKDAuMjUsIDAuMSwgMC4yNSwgMS4wKVxuICogc3BsaW5lKHgpID0+IHJldHVybnMgdGhlIGVhc2luZyB2YWx1ZSB8IHggbXVzdCBiZSBpbiBbMCwgMV0gcmFuZ2VcbiAqXG4gKi9cbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGRlZmluaXRpb24pO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5CZXppZXJFYXNpbmcgPSBkZWZpbml0aW9uKCk7XG4gIH1cbn0oZnVuY3Rpb24gKCkge1xuICB2YXIgZ2xvYmFsID0gdGhpcztcblxuICAvLyBUaGVzZSB2YWx1ZXMgYXJlIGVzdGFibGlzaGVkIGJ5IGVtcGlyaWNpc20gd2l0aCB0ZXN0cyAodHJhZGVvZmY6IHBlcmZvcm1hbmNlIFZTIHByZWNpc2lvbilcbiAgdmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNDtcbiAgdmFyIE5FV1RPTl9NSU5fU0xPUEUgPSAwLjAwMTtcbiAgdmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbiAgdmFyIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTA7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICB2YXIgZmxvYXQzMkFycmF5U3VwcG9ydGVkID0gJ0Zsb2F0MzJBcnJheScgaW4gZ2xvYmFsO1xuXG4gIGZ1bmN0aW9uIEJlemllckVhc2luZyAobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgLy8gVmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJlemllckVhc2luZyByZXF1aXJlcyA0IGFyZ3VtZW50cy5cIik7XG4gICAgfVxuICAgIGZvciAodmFyIGk9MDsgaTw0OyArK2kpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKGFyZ3VtZW50c1tpXSkgfHwgIWlzRmluaXRlKGFyZ3VtZW50c1tpXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmV6aWVyRWFzaW5nIGFyZ3VtZW50cyBzaG91bGQgYmUgaW50ZWdlcnMuXCIpO1xuICAgICAgfSBcbiAgICB9XG4gICAgaWYgKG1YMSA8IDAgfHwgbVgxID4gMSB8fCBtWDIgPCAwIHx8IG1YMiA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJlemllckVhc2luZyB4IHZhbHVlcyBtdXN0IGJlIGluIFswLCAxXSByYW5nZS5cIik7XG4gICAgfVxuXG4gICAgdmFyIG1TYW1wbGVWYWx1ZXMgPSBmbG9hdDMyQXJyYXlTdXBwb3J0ZWQgPyBuZXcgRmxvYXQzMkFycmF5KGtTcGxpbmVUYWJsZVNpemUpIDogbmV3IEFycmF5KGtTcGxpbmVUYWJsZVNpemUpO1xuICAgXG4gICAgZnVuY3Rpb24gQSAoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMTsgfVxuICAgIGZ1bmN0aW9uIEIgKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTE7IH1cbiAgICBmdW5jdGlvbiBDIChhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExOyB9XG4gICBcbiAgICAvLyBSZXR1cm5zIHgodCkgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgeSh0KSBnaXZlbiB0LCB5MSwgYW5kIHkyLlxuICAgIGZ1bmN0aW9uIGNhbGNCZXppZXIgKGFULCBhQTEsIGFBMikge1xuICAgICAgcmV0dXJuICgoQShhQTEsIGFBMikqYVQgKyBCKGFBMSwgYUEyKSkqYVQgKyBDKGFBMSkpKmFUO1xuICAgIH1cbiAgIFxuICAgIC8vIFJldHVybnMgZHgvZHQgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgZHkvZHQgZ2l2ZW4gdCwgeTEsIGFuZCB5Mi5cbiAgICBmdW5jdGlvbiBnZXRTbG9wZSAoYVQsIGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gMy4wICogQShhQTEsIGFBMikqYVQqYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlIChhWCwgYUd1ZXNzVCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkgcmV0dXJuIGFHdWVzc1Q7XG4gICAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjU2FtcGxlVmFsdWVzICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIG1TYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUgKGFYLCBhQSwgYUIpIHtcbiAgICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFBID0gY3VycmVudFQ7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IFNVQkRJVklTSU9OX1BSRUNJU0lPTiAmJiArK2kgPCBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyk7XG4gICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclggKGFYKSB7XG4gICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9IGxhc3RTYW1wbGUgJiYgbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuICAgICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgICAvLyBJbnRlcnBvbGF0ZSB0byBwcm92aWRlIGFuIGluaXRpYWwgZ3Vlc3MgZm9yIHRcbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAobVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlKzFdIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICB2YXIgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemU7XG5cbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX3ByZWNvbXB1dGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gcHJlY29tcHV0ZSgpIHtcbiAgICAgIF9wcmVjb21wdXRlZCA9IHRydWU7XG4gICAgICBpZiAobVgxICE9IG1ZMSB8fCBtWDIgIT0gbVkyKVxuICAgICAgICBjYWxjU2FtcGxlVmFsdWVzKCk7XG4gICAgfVxuXG4gICAgdmFyIGYgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgIGlmICghX3ByZWNvbXB1dGVkKSBwcmVjb21wdXRlKCk7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHJldHVybiBhWDsgLy8gbGluZWFyXG4gICAgICAvLyBCZWNhdXNlIEphdmFTY3JpcHQgbnVtYmVyIGFyZSBpbXByZWNpc2UsIHdlIHNob3VsZCBndWFyYW50ZWUgdGhlIGV4dHJlbWVzIGFyZSByaWdodC5cbiAgICAgIGlmIChhWCA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICBpZiAoYVggPT09IDEpIHJldHVybiAxO1xuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoYVgpLCBtWTEsIG1ZMik7XG4gICAgfTtcblxuICAgIGYuZ2V0Q29udHJvbFBvaW50cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gW3sgeDogbVgxLCB5OiBtWTEgfSwgeyB4OiBtWDIsIHk6IG1ZMiB9XTsgfTtcblxuICAgIHZhciBhcmdzID0gW21YMSwgbVkxLCBtWDIsIG1ZMl07XG4gICAgdmFyIHN0ciA9IFwiQmV6aWVyRWFzaW5nKFwiK2FyZ3MrXCIpXCI7XG4gICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cjsgfTtcblxuICAgIHZhciBjc3MgPSBcImN1YmljLWJlemllcihcIithcmdzK1wiKVwiO1xuICAgIGYudG9DU1MgPSBmdW5jdGlvbiAoKSB7wqByZXR1cm4gY3NzOyB9O1xuXG4gICAgcmV0dXJuIGY7XG4gIH1cblxuICAvLyBDU1MgbWFwcGluZ1xuICBCZXppZXJFYXNpbmcuY3NzID0ge1xuICAgIFwiZWFzZVwiOiAgICAgICAgQmV6aWVyRWFzaW5nKDAuMjUsIDAuMSwgMC4yNSwgMS4wKSxcbiAgICBcImxpbmVhclwiOiAgICAgIEJlemllckVhc2luZygwLjAwLCAwLjAsIDEuMDAsIDEuMCksXG4gICAgXCJlYXNlLWluXCI6ICAgICBCZXppZXJFYXNpbmcoMC40MiwgMC4wLCAxLjAwLCAxLjApLFxuICAgIFwiZWFzZS1vdXRcIjogICAgQmV6aWVyRWFzaW5nKDAuMDAsIDAuMCwgMC41OCwgMS4wKSxcbiAgICBcImVhc2UtaW4tb3V0XCI6IEJlemllckVhc2luZygwLjQyLCAwLjAsIDAuNTgsIDEuMClcbiAgfTtcblxuICByZXR1cm4gQmV6aWVyRWFzaW5nO1xuXG59KSk7XG4iLCIvKiFcbiAgKiBCb3dzZXIgLSBhIGJyb3dzZXIgZGV0ZWN0b3JcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL2Jvd3NlclxuICAqIE1JVCBMaWNlbnNlIHwgKGMpIER1c3RpbiBEaWF6IDIwMTRcbiAgKi9cblxuIWZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0c1snYnJvd3NlciddID0gZGVmaW5pdGlvbigpXG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoZGVmaW5pdGlvbilcbiAgZWxzZSB0aGlzW25hbWVdID0gZGVmaW5pdGlvbigpXG59KCdib3dzZXInLCBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgICogU2VlIHVzZXJhZ2VudHMuanMgZm9yIGV4YW1wbGVzIG9mIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAqL1xuXG4gIHZhciB0ID0gdHJ1ZVxuXG4gIGZ1bmN0aW9uIGRldGVjdCh1YSkge1xuXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RNYXRjaChyZWdleCkge1xuICAgICAgdmFyIG1hdGNoID0gdWEubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxICYmIG1hdGNoWzFdKSB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgaW9zZGV2aWNlID0gZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lfGlwYWQpL2kpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgbGlrZUFuZHJvaWQgPSAvbGlrZSBhbmRyb2lkL2kudGVzdCh1YSlcbiAgICAgICwgYW5kcm9pZCA9ICFsaWtlQW5kcm9pZCAmJiAvYW5kcm9pZC9pLnRlc3QodWEpXG4gICAgICAsIHZlcnNpb25JZGVudGlmaWVyID0gZ2V0Rmlyc3RNYXRjaCgvdmVyc2lvblxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgICwgdGFibGV0ID0gL3RhYmxldC9pLnRlc3QodWEpXG4gICAgICAsIG1vYmlsZSA9ICF0YWJsZXQgJiYgL1teLV1tb2JpL2kudGVzdCh1YSlcbiAgICAgICwgcmVzdWx0XG5cbiAgICBpZiAoL29wZXJhfG9wci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdPcGVyYSdcbiAgICAgICwgb3BlcmE6IHRcbiAgICAgICwgdmVyc2lvbjogdmVyc2lvbklkZW50aWZpZXIgfHwgZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmF8b3ByKVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvd2luZG93cyBwaG9uZS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdXaW5kb3dzIFBob25lJ1xuICAgICAgLCB3aW5kb3dzcGhvbmU6IHRcbiAgICAgICwgbXNpZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9pZW1vYmlsZVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL21zaWV8dHJpZGVudC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdJbnRlcm5ldCBFeHBsb3JlcidcbiAgICAgICwgbXNpZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvY2hyb21lfGNyaW9zfGNybW8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQ2hyb21lJ1xuICAgICAgLCBjaHJvbWU6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZSA6IGlvc2RldmljZSA9PSAnaXBob25lJyA/ICdpUGhvbmUnIDogaW9zZGV2aWNlID09ICdpcGFkJyA/ICdpUGFkJyA6ICdpUG9kJ1xuICAgICAgfVxuICAgICAgLy8gV1RGOiB2ZXJzaW9uIGlzIG5vdCBwYXJ0IG9mIHVzZXIgYWdlbnQgaW4gd2ViIGFwcHNcbiAgICAgIGlmICh2ZXJzaW9uSWRlbnRpZmllcikge1xuICAgICAgICByZXN1bHQudmVyc2lvbiA9IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zYWlsZmlzaC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYWlsZmlzaCdcbiAgICAgICwgc2FpbGZpc2g6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3NlYW1vbmtleVxcLy9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTZWFNb25rZXknXG4gICAgICAsIHNlYW1vbmtleTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9zZWFtb25rZXlcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9maXJlZm94fGljZXdlYXNlbC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdGaXJlZm94J1xuICAgICAgLCBmaXJlZm94OiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OmZpcmVmb3h8aWNld2Vhc2VsKVsgXFwvXShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICAgIGlmICgvXFwoKG1vYmlsZXx0YWJsZXQpO1teXFwpXSpydjpbXFxkXFwuXStcXCkvaS50ZXN0KHVhKSkge1xuICAgICAgICByZXN1bHQuZmlyZWZveG9zID0gdFxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvc2lsay9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSAge1xuICAgICAgICBuYW1lOiAnQW1hem9uIFNpbGsnXG4gICAgICAsIHNpbGs6IHRcbiAgICAgICwgdmVyc2lvbiA6IGdldEZpcnN0TWF0Y2goL3NpbGtcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFuZHJvaWQpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0FuZHJvaWQnXG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9waGFudG9tL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1BoYW50b21KUydcbiAgICAgICwgcGhhbnRvbTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9waGFudG9tanNcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLnRlc3QodWEpIHx8IC9yaW1cXHN0YWJsZXQvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQmxhY2tCZXJyeSdcbiAgICAgICwgYmxhY2tiZXJyeTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xcZF0rXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvKHdlYnxocHcpb3MvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnV2ViT1MnXG4gICAgICAsIHdlYm9zOiB0XG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goL3coPzplYik/b3Nicm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfTtcbiAgICAgIC90b3VjaHBhZFxcLy9pLnRlc3QodWEpICYmIChyZXN1bHQudG91Y2hwYWQgPSB0KVxuICAgIH1cbiAgICBlbHNlIGlmICgvYmFkYS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdCYWRhJ1xuICAgICAgLCBiYWRhOiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL2RvbGZpblxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKC90aXplbi9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdUaXplbidcbiAgICAgICwgdGl6ZW46IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86dGl6ZW5cXHM/KT9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoL3NhZmFyaS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYWZhcmknXG4gICAgICAsIHNhZmFyaTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHJlc3VsdCA9IHt9XG5cbiAgICAvLyBzZXQgd2Via2l0IG9yIGdlY2tvIGZsYWcgZm9yIGJyb3dzZXJzIGJhc2VkIG9uIHRoZXNlIGVuZ2luZXNcbiAgICBpZiAoLyhhcHBsZSk/d2Via2l0L2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUgfHwgXCJXZWJraXRcIlxuICAgICAgcmVzdWx0LndlYmtpdCA9IHRcbiAgICAgIGlmICghcmVzdWx0LnZlcnNpb24gJiYgdmVyc2lvbklkZW50aWZpZXIpIHtcbiAgICAgICAgcmVzdWx0LnZlcnNpb24gPSB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXJlc3VsdC5vcGVyYSAmJiAvZ2Vja29cXC8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZSB8fCBcIkdlY2tvXCJcbiAgICAgIHJlc3VsdC5nZWNrbyA9IHRcbiAgICAgIHJlc3VsdC52ZXJzaW9uID0gcmVzdWx0LnZlcnNpb24gfHwgZ2V0Rmlyc3RNYXRjaCgvZ2Vja29cXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgfVxuXG4gICAgLy8gc2V0IE9TIGZsYWdzIGZvciBwbGF0Zm9ybXMgdGhhdCBoYXZlIG11bHRpcGxlIGJyb3dzZXJzXG4gICAgaWYgKGFuZHJvaWQgfHwgcmVzdWx0LnNpbGspIHtcbiAgICAgIHJlc3VsdC5hbmRyb2lkID0gdFxuICAgIH0gZWxzZSBpZiAoaW9zZGV2aWNlKSB7XG4gICAgICByZXN1bHRbaW9zZGV2aWNlXSA9IHRcbiAgICAgIHJlc3VsdC5pb3MgPSB0XG4gICAgfVxuXG4gICAgLy8gT1MgdmVyc2lvbiBleHRyYWN0aW9uXG4gICAgdmFyIG9zVmVyc2lvbiA9ICcnO1xuICAgIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pKTtcbiAgICAgIG9zVmVyc2lvbiA9IG9zVmVyc2lvbi5yZXBsYWNlKC9bX1xcc10vZywgJy4nKTtcbiAgICB9IGVsc2UgaWYgKGFuZHJvaWQpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL2FuZHJvaWRbIFxcLy1dKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC53aW5kb3dzcGhvbmUpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL3dpbmRvd3MgcGhvbmUgKD86b3MpP1xccz8oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LndlYm9zKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KW9zXFwvKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5ibGFja2JlcnJ5KSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9yaW1cXHN0YWJsZXRcXHNvc1xccyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuYmFkYSkge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvYmFkYVxcLyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQudGl6ZW4pIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL3RpemVuW1xcL1xcc10oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH1cbiAgICBpZiAob3NWZXJzaW9uKSB7XG4gICAgICByZXN1bHQub3N2ZXJzaW9uID0gb3NWZXJzaW9uO1xuICAgIH1cblxuICAgIC8vIGRldmljZSB0eXBlIGV4dHJhY3Rpb25cbiAgICB2YXIgb3NNYWpvclZlcnNpb24gPSBvc1ZlcnNpb24uc3BsaXQoJy4nKVswXTtcbiAgICBpZiAodGFibGV0IHx8IGlvc2RldmljZSA9PSAnaXBhZCcgfHwgKGFuZHJvaWQgJiYgKG9zTWFqb3JWZXJzaW9uID09IDMgfHwgKG9zTWFqb3JWZXJzaW9uID09IDQgJiYgIW1vYmlsZSkpKSB8fCByZXN1bHQuc2lsaykge1xuICAgICAgcmVzdWx0LnRhYmxldCA9IHRcbiAgICB9IGVsc2UgaWYgKG1vYmlsZSB8fCBpb3NkZXZpY2UgPT0gJ2lwaG9uZScgfHwgaW9zZGV2aWNlID09ICdpcG9kJyB8fCBhbmRyb2lkIHx8IHJlc3VsdC5ibGFja2JlcnJ5IHx8IHJlc3VsdC53ZWJvcyB8fCByZXN1bHQuYmFkYSkge1xuICAgICAgcmVzdWx0Lm1vYmlsZSA9IHRcbiAgICB9XG5cbiAgICAvLyBHcmFkZWQgQnJvd3NlciBTdXBwb3J0XG4gICAgLy8gaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2FydGljbGVzL2dic1xuICAgIGlmICgocmVzdWx0Lm1zaWUgJiYgcmVzdWx0LnZlcnNpb24gPj0gMTApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uID49IDIwKSB8fFxuICAgICAgICAocmVzdWx0LmZpcmVmb3ggJiYgcmVzdWx0LnZlcnNpb24gPj0gMjAuMCkgfHxcbiAgICAgICAgKHJlc3VsdC5zYWZhcmkgJiYgcmVzdWx0LnZlcnNpb24gPj0gNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4wKSB8fFxuICAgICAgICAocmVzdWx0LmlvcyAmJiByZXN1bHQub3N2ZXJzaW9uICYmIHJlc3VsdC5vc3ZlcnNpb24uc3BsaXQoXCIuXCIpWzBdID49IDYpIHx8XG4gICAgICAgIChyZXN1bHQuYmxhY2tiZXJyeSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4xKVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5hID0gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHJlc3VsdC5tc2llICYmIHJlc3VsdC52ZXJzaW9uIDwgMTApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uIDwgMjApIHx8XG4gICAgICAgIChyZXN1bHQuZmlyZWZveCAmJiByZXN1bHQudmVyc2lvbiA8IDIwLjApIHx8XG4gICAgICAgIChyZXN1bHQuc2FmYXJpICYmIHJlc3VsdC52ZXJzaW9uIDwgNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA8IDEwLjApIHx8XG4gICAgICAgIChyZXN1bHQuaW9zICYmIHJlc3VsdC5vc3ZlcnNpb24gJiYgcmVzdWx0Lm9zdmVyc2lvbi5zcGxpdChcIi5cIilbMF0gPCA2KVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5jID0gdFxuICAgIH0gZWxzZSByZXN1bHQueCA9IHRcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHZhciBib3dzZXIgPSBkZXRlY3QodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50IDogJycpXG5cblxuICAvKlxuICAgKiBTZXQgb3VyIGRldGVjdCBtZXRob2QgdG8gdGhlIG1haW4gYm93c2VyIG9iamVjdCBzbyB3ZSBjYW5cbiAgICogcmV1c2UgaXQgdG8gdGVzdCBvdGhlciB1c2VyIGFnZW50cy5cbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gaW1wbGVtZW50IGZ1dHVyZSB0ZXN0cy5cbiAgICovXG4gIGJvd3Nlci5fZGV0ZWN0ID0gZGV0ZWN0O1xuXG4gIHJldHVybiBib3dzZXJcbn0pO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5wcm9jZXNzLm5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FuU2V0SW1tZWRpYXRlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cucG9zdE1lc3NhZ2UgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXJcbiAgICA7XG5cbiAgICBpZiAoY2FuU2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZikgeyByZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShmKSB9O1xuICAgIH1cblxuICAgIGlmIChjYW5Qb3N0KSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGV2LnNvdXJjZTtcbiAgICAgICAgICAgIGlmICgoc291cmNlID09PSB3aW5kb3cgfHwgc291cmNlID09PSBudWxsKSAmJiBldi5kYXRhID09PSAncHJvY2Vzcy10aWNrJykge1xuICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZm4pO1xuICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdwcm9jZXNzLXRpY2snLCAnKicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICB9O1xufSkoKTtcblxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG4iLCIvKiFcbiAgKiBkb21yZWFkeSAoYykgRHVzdGluIERpYXogMjAxNCAtIExpY2Vuc2UgTUlUXG4gICovXG4hZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24pIHtcblxuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJykgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKClcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnKSBkZWZpbmUoZGVmaW5pdGlvbilcbiAgZWxzZSB0aGlzW25hbWVdID0gZGVmaW5pdGlvbigpXG5cbn0oJ2RvbXJlYWR5JywgZnVuY3Rpb24gKCkge1xuXG4gIHZhciBmbnMgPSBbXSwgbGlzdGVuZXJcbiAgICAsIGRvYyA9IGRvY3VtZW50XG4gICAgLCBoYWNrID0gZG9jLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbFxuICAgICwgZG9tQ29udGVudExvYWRlZCA9ICdET01Db250ZW50TG9hZGVkJ1xuICAgICwgbG9hZGVkID0gKGhhY2sgPyAvXmxvYWRlZHxeYy8gOiAvXmxvYWRlZHxeaXxeYy8pLnRlc3QoZG9jLnJlYWR5U3RhdGUpXG5cblxuICBpZiAoIWxvYWRlZClcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoZG9tQ29udGVudExvYWRlZCwgbGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9tQ29udGVudExvYWRlZCwgbGlzdGVuZXIpXG4gICAgbG9hZGVkID0gMVxuICAgIHdoaWxlIChsaXN0ZW5lciA9IGZucy5zaGlmdCgpKSBsaXN0ZW5lcigpXG4gIH0pXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuICAgIGxvYWRlZCA/IGZuKCkgOiBmbnMucHVzaChmbilcbiAgfVxuXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gRXZlbnRNYW4gKCkge1xuXG4gICAgdGhpcy5fbGlzdGVuZXJDb3VudCA9IDA7XG4gICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gMTA7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9mbGFncyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRNYW47XG52YXIgcCA9IEV2ZW50TWFuLnByb3RvdHlwZTtcblxucC5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldnROYW1lLCBjYiwgc2NvcGUpIHtcblxuICAgIGlmIChldnROYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dE5hbWUubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihldnROYW1lW2ldLCBjYiwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIShldnROYW1lIGluIHRoaXMuX2V2ZW50cykpIHtcblxuICAgICAgICB0aGlzLl9ldmVudHNbZXZ0TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGV2dE5hbWUgIT09ICdzdHJpbmcnKSB0aHJvdyAnZXZlbnQgbmFtZSBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB0aHJvdyAnQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uISc7XG5cbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dE5hbWUsIGNiLCBzY29wZSk7XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdLFxuICAgICAgICByZWcgPSBzY29wZSA/IFtjYiwgc2NvcGVdIDogY2I7XG5cbiAgICBpZiAodGhpcy5fbWF4TGlzdGVuZXJzID4gMCAmJiBsaXN0ZW5lcnMubGVuZ3RoID4gdGhpcy5fbWF4TGlzdGVuZXJzKSB7XG5cbiAgICAgICAgdGhyb3cgRXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgIGxpc3RlbmVycy5sZW5ndGgpO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5wdXNoKHJlZyk7XG5cbiAgICBpZiAoZXZ0TmFtZSBpbiB0aGlzLl9mbGFncykge1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxsKHJlZywgdGhpcy5fZmxhZ3NbZXZ0TmFtZV0pO1xuICAgIH1cbn07XG5cbnAucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZ0TmFtZSwgY2IsIHNjb3BlKSB7XG5cbiAgICBpZiAoZXZ0TmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnROYW1lLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0TmFtZVtpXSwgY2IsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlZywgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dE5hbWVdO1xuXG4gICAgaWYgKGxpc3RlbmVycykge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIHJlZyA9IGxpc3RlbmVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihyZWcpID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2IgPT09IHJlZyAmJiAhc2NvcGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ1swXSA9PT0gY2IgJiYgcmVnWzFdID09PSBzY29wZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLm9uY2UgPSBmdW5jdGlvbiAoZXZ0TmFtZSwgY2IsIHNjb3BlKSB7XG5cbiAgICB0aGlzLmFkZExpc3RlbmVyKGV2dE5hbWUsIG9uY2VDYik7XG5cbiAgICBmdW5jdGlvbiBvbmNlQ2IoKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnROYW1lLCBvbmNlQ2IpO1xuXG4gICAgICAgIHRoaXMuX2NhbGwoW2NiLCBzY29wZV0sIGFyZ3VtZW50cyk7XG4gICAgfVxufTtcblxucC5lbWl0ID0gZnVuY3Rpb24gKGV2dE5hbWUpIHtcblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMoZXZ0TmFtZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcblxuICAgICAgICB0aGlzLl9jYWxsKGxpc3RlbmVyc1tpXSwgYXJncyk7XG4gICAgfVxufTtcblxucC5mbGFnID0gZnVuY3Rpb24gKGV2dE5hbWUpIHtcblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgIHRoaXMuX2ZsYWdzW2V2dE5hbWVdID0gYXJncztcbn07XG5cbnAuX2NhbGwgPSBmdW5jdGlvbiAocmVnLCBhcmdzKSB7XG5cbiAgICBpZiAodHlwZW9mIChyZWcpID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgcmVnLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVnWzBdLmFwcGx5KHJlZ1sxXSwgYXJncyk7XG4gICAgfVxufTtcblxucC5saXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZ0TmFtZSkge1xuXG4gICAgdmFyIGxpc3RlbmVycywgcmV0ID0gW107XG5cbiAgICBkbyB7XG4gICAgICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoLmFwcGx5KHJldCwgbGlzdGVuZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dE5hbWUgPSBldnROYW1lLnNsaWNlKDAsIE1hdGgubWF4KDAsIGV2dE5hbWUubGFzdEluZGV4T2YoJy4nKSkpO1xuICAgIH1cbiAgICB3aGlsZSAoZXZ0TmFtZSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxucC5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiAobWF4TGlzdGVuZXJzKSB7XG5cbiAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBwYXJzZUludChtYXhMaXN0ZW5lcnMpIHx8IDA7XG59O1xuXG5wLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldnROYW1lKSB7XG5cbiAgICB0aGlzLmxpc3RlbmVycyhldnROYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWcpIHtcblxuICAgICAgICBpZiAodHlwZW9mIChyZWcpID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0TmFtZSwgcmVnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0TmFtZSwgcmVnWzBdLCByZWdbMV0pO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG59O1xuXG4vL2FsaWFzZXNcbnAub24gPSBwLmFkZExpc3RlbmVyO1xucC5vZmYgPSBwLnJlbW92ZUxpc3RlbmVyO1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMby1EYXNoIDIuNC4xIChDdXN0b20gQnVpbGQpIDxodHRwOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gLW8gLi9kaXN0L2xvZGFzaC5qc2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTMgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuNS4yIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxMyBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZSBFUzUgZW52aXJvbm1lbnRzICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgdG8gcG9vbCBhcnJheXMgYW5kIG9iamVjdHMgdXNlZCBpbnRlcm5hbGx5ICovXG4gIHZhciBhcnJheVBvb2wgPSBbXSxcbiAgICAgIG9iamVjdFBvb2wgPSBbXTtcblxuICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzICovXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gIC8qKiBVc2VkIHRvIHByZWZpeCBrZXlzIHRvIGF2b2lkIGlzc3VlcyB3aXRoIGBfX3Byb3RvX19gIGFuZCBwcm9wZXJ0aWVzIG9uIGBPYmplY3QucHJvdG90eXBlYCAqL1xuICB2YXIga2V5UHJlZml4ID0gK25ldyBEYXRlICsgJyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgd2hlbiBvcHRpbWl6YXRpb25zIGFyZSBlbmFibGVkIGZvciBsYXJnZSBhcnJheXMgKi9cbiAgdmFyIGxhcmdlQXJyYXlTaXplID0gNzU7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heCBzaXplIG9mIHRoZSBgYXJyYXlQb29sYCBhbmQgYG9iamVjdFBvb2xgICovXG4gIHZhciBtYXhQb29sU2l6ZSA9IDQwO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBhbmQgdGVzdCB3aGl0ZXNwYWNlICovXG4gIHZhciB3aGl0ZXNwYWNlID0gKFxuICAgIC8vIHdoaXRlc3BhY2VcbiAgICAnIFxcdFxceDBCXFxmXFx4QTBcXHVmZWZmJyArXG5cbiAgICAvLyBsaW5lIHRlcm1pbmF0b3JzXG4gICAgJ1xcblxcclxcdTIwMjhcXHUyMDI5JyArXG5cbiAgICAvLyB1bmljb2RlIGNhdGVnb3J5IFwiWnNcIiBzcGFjZSBzZXBhcmF0b3JzXG4gICAgJ1xcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDAnXG4gICk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZSAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIEVTNiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXG4gICAqIGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWxpdGVyYWxzLXN0cmluZy1saXRlcmFsc1xuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCByZWdleHAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMgKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdGVkIG5hbWVkIGZ1bmN0aW9ucyAqL1xuICB2YXIgcmVGdW5jTmFtZSA9IC9eXFxzKmZ1bmN0aW9uWyBcXG5cXHJcXHRdK1xcdy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggXCJpbnRlcnBvbGF0ZVwiIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UgYW5kIHplcm9zIHRvIGJlIHJlbW92ZWQgKi9cbiAgdmFyIHJlTGVhZGluZ1NwYWNlc0FuZFplcm9zID0gUmVnRXhwKCdeWycgKyB3aGl0ZXNwYWNlICsgJ10qMCsoPz0uJCknKTtcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgZnVuY3Rpb25zIGNvbnRhaW5pbmcgYSBgdGhpc2AgcmVmZXJlbmNlICovXG4gIHZhciByZVRoaXMgPSAvXFxidGhpc1xcYi87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdFxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMgKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQm9vbGVhbicsICdEYXRlJywgJ0Z1bmN0aW9uJywgJ01hdGgnLCAnTnVtYmVyJywgJ09iamVjdCcsXG4gICAgJ1JlZ0V4cCcsICdTdHJpbmcnLCAnXycsICdhdHRhY2hFdmVudCcsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAnaXNOYU4nLFxuICAgICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkgKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IDA7XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCBzaG9ydGN1dHMgKi9cbiAgdmFyIGFyZ3NDbGFzcyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlDbGFzcyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBib29sQ2xhc3MgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlQ2xhc3MgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBmdW5jQ2xhc3MgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgbnVtYmVyQ2xhc3MgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG9iamVjdENsYXNzID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICByZWdleHBDbGFzcyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc3RyaW5nQ2xhc3MgPSAnW29iamVjdCBTdHJpbmddJztcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBvYmplY3QgY2xhc3NpZmljYXRpb25zIHRoYXQgYF8uY2xvbmVgIHN1cHBvcnRzICovXG4gIHZhciBjbG9uZWFibGVDbGFzc2VzID0ge307XG4gIGNsb25lYWJsZUNsYXNzZXNbZnVuY0NsYXNzXSA9IGZhbHNlO1xuICBjbG9uZWFibGVDbGFzc2VzW2FyZ3NDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW2FycmF5Q2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tib29sQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1tkYXRlQ2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tudW1iZXJDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW29iamVjdENsYXNzXSA9XG4gIGNsb25lYWJsZUNsYXNzZXNbcmVnZXhwQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1tzdHJpbmdDbGFzc10gPSB0cnVlO1xuXG4gIC8qKiBVc2VkIGFzIGFuIGludGVybmFsIGBfLmRlYm91bmNlYCBvcHRpb25zIG9iamVjdCAqL1xuICB2YXIgZGVib3VuY2VPcHRpb25zID0ge1xuICAgICdsZWFkaW5nJzogZmFsc2UsXG4gICAgJ21heFdhaXQnOiAwLFxuICAgICd0cmFpbGluZyc6IGZhbHNlXG4gIH07XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yIGBfX2JpbmREYXRhX19gICovXG4gIHZhciBkZXNjcmlwdG9yID0ge1xuICAgICdjb25maWd1cmFibGUnOiBmYWxzZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IG51bGwsXG4gICAgJ3dyaXRhYmxlJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCB0byBkZXRlcm1pbmUgaWYgdmFsdWVzIGFyZSBvZiB0aGUgbGFuZ3VhZ2UgdHlwZSBPYmplY3QgKi9cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgICdib29sZWFuJzogZmFsc2UsXG4gICAgJ2Z1bmN0aW9uJzogdHJ1ZSxcbiAgICAnb2JqZWN0JzogdHJ1ZSxcbiAgICAnbnVtYmVyJzogZmFsc2UsXG4gICAgJ3N0cmluZyc6IGZhbHNlLFxuICAgICd1bmRlZmluZWQnOiBmYWxzZVxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdCc6ICd0JyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgKi9cbiAgdmFyIHJvb3QgPSAob2JqZWN0VHlwZXNbdHlwZW9mIHdpbmRvd10gJiYgd2luZG93KSB8fCB0aGlzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AgKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGV4cG9ydHNdICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAgKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYCAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cyAmJiBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzIG9yIEJyb3dzZXJpZmllZCBjb2RlIGFuZCB1c2UgaXQgYXMgYHJvb3RgICovXG4gIHZhciBmcmVlR2xvYmFsID0gb2JqZWN0VHlwZXNbdHlwZW9mIGdsb2JhbF0gJiYgZ2xvYmFsO1xuICBpZiAoZnJlZUdsb2JhbCAmJiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwpKSB7XG4gICAgcm9vdCA9IGZyZWVHbG9iYWw7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBiaW5hcnkgc2VhcmNoZXNcbiAgICogb3IgYGZyb21JbmRleGAgY29uc3RyYWludHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb250YWluc2AgZm9yIGNhY2hlIG9iamVjdHMgdGhhdCBtaW1pY3MgdGhlIHJldHVyblxuICAgKiBzaWduYXR1cmUgb2YgYF8uaW5kZXhPZmAgYnkgcmV0dXJuaW5nIGAwYCBpZiB0aGUgdmFsdWUgaXMgZm91bmQsIGVsc2UgYC0xYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgMGAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGNhY2hlID0gY2FjaGUuY2FjaGU7XG5cbiAgICBpZiAodHlwZSA9PSAnYm9vbGVhbicgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNhY2hlW3ZhbHVlXSA/IDAgOiAtMTtcbiAgICB9XG4gICAgaWYgKHR5cGUgIT0gJ251bWJlcicgJiYgdHlwZSAhPSAnc3RyaW5nJykge1xuICAgICAgdHlwZSA9ICdvYmplY3QnO1xuICAgIH1cbiAgICB2YXIga2V5ID0gdHlwZSA9PSAnbnVtYmVyJyA/IHZhbHVlIDoga2V5UHJlZml4ICsgdmFsdWU7XG4gICAgY2FjaGUgPSAoY2FjaGUgPSBjYWNoZVt0eXBlXSkgJiYgY2FjaGVba2V5XTtcblxuICAgIHJldHVybiB0eXBlID09ICdvYmplY3QnXG4gICAgICA/IChjYWNoZSAmJiBiYXNlSW5kZXhPZihjYWNoZSwgdmFsdWUpID4gLTEgPyAwIDogLTEpXG4gICAgICA6IChjYWNoZSA/IDAgOiAtMSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGdpdmVuIHZhbHVlIHRvIHRoZSBjb3JyZXNwb25kaW5nIGNhY2hlIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlUHVzaCh2YWx1ZSkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuY2FjaGUsXG4gICAgICAgIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICBpZiAodHlwZSA9PSAnYm9vbGVhbicgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgY2FjaGVbdmFsdWVdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgIT0gJ251bWJlcicgJiYgdHlwZSAhPSAnc3RyaW5nJykge1xuICAgICAgICB0eXBlID0gJ29iamVjdCc7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdHlwZSA9PSAnbnVtYmVyJyA/IHZhbHVlIDoga2V5UHJlZml4ICsgdmFsdWUsXG4gICAgICAgICAgdHlwZUNhY2hlID0gY2FjaGVbdHlwZV0gfHwgKGNhY2hlW3R5cGVdID0ge30pO1xuXG4gICAgICBpZiAodHlwZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAodHlwZUNhY2hlW2tleV0gfHwgKHR5cGVDYWNoZVtrZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVDYWNoZVtrZXldID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5tYXhgIGFuZCBgXy5taW5gIGFzIHRoZSBkZWZhdWx0IGNhbGxiYWNrIHdoZW4gYSBnaXZlblxuICAgKiBjb2xsZWN0aW9uIGlzIGEgc3RyaW5nIHZhbHVlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIGNoYXJhY3RlciB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2RlIHVuaXQgb2YgZ2l2ZW4gY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhckF0Q2FsbGJhY2sodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBzb3J0QnlgIHRvIGNvbXBhcmUgdHJhbnNmb3JtZWQgYGNvbGxlY3Rpb25gIGVsZW1lbnRzLCBzdGFibGUgc29ydGluZ1xuICAgKiB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBjb21wYXJlIHRvIGBiYC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb21wYXJlIHRvIGBhYC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3Igb2YgYDFgIG9yIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKGEsIGIpIHtcbiAgICB2YXIgYWMgPSBhLmNyaXRlcmlhLFxuICAgICAgICBiYyA9IGIuY3JpdGVyaWEsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFjLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhY1tpbmRleF0sXG4gICAgICAgICAgb3RoZXIgPSBiY1tpbmRleF07XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgaWYgKHZhbHVlID4gb3RoZXIgfHwgdHlwZW9mIHZhbHVlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIDwgb3RoZXIgfHwgdHlwZW9mIG90aGVyID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byByZXR1cm4gdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgLy8gYGFgIGFuZCBgYmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgLy9cbiAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgIC8vIFNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MFxuICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FjaGUgb2JqZWN0IHRvIG9wdGltaXplIGxpbmVhciBzZWFyY2hlcyBvZiBsYXJnZSBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBvYmplY3Qgb3IgYG51bGxgIGlmIGNhY2hpbmcgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2FjaGUoYXJyYXkpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBmaXJzdCA9IGFycmF5WzBdLFxuICAgICAgICBtaWQgPSBhcnJheVsobGVuZ3RoIC8gMikgfCAwXSxcbiAgICAgICAgbGFzdCA9IGFycmF5W2xlbmd0aCAtIDFdO1xuXG4gICAgaWYgKGZpcnN0ICYmIHR5cGVvZiBmaXJzdCA9PSAnb2JqZWN0JyAmJlxuICAgICAgICBtaWQgJiYgdHlwZW9mIG1pZCA9PSAnb2JqZWN0JyAmJiBsYXN0ICYmIHR5cGVvZiBsYXN0ID09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjYWNoZSA9IGdldE9iamVjdCgpO1xuICAgIGNhY2hlWydmYWxzZSddID0gY2FjaGVbJ251bGwnXSA9IGNhY2hlWyd0cnVlJ10gPSBjYWNoZVsndW5kZWZpbmVkJ10gPSBmYWxzZTtcblxuICAgIHZhciByZXN1bHQgPSBnZXRPYmplY3QoKTtcbiAgICByZXN1bHQuYXJyYXkgPSBhcnJheTtcbiAgICByZXN1bHQuY2FjaGUgPSBjYWNoZTtcbiAgICByZXN1bHQucHVzaCA9IGNhY2hlUHVzaDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHQucHVzaChhcnJheVtpbmRleF0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYHRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkXG4gICAqIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihtYXRjaCkge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW21hdGNoXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGFycmF5IGZyb20gdGhlIGFycmF5IHBvb2wgb3IgY3JlYXRlcyBhIG5ldyBvbmUgaWYgdGhlIHBvb2wgaXMgZW1wdHkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGFycmF5IGZyb20gdGhlIHBvb2wuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRBcnJheSgpIHtcbiAgICByZXR1cm4gYXJyYXlQb29sLnBvcCgpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gb2JqZWN0IGZyb20gdGhlIG9iamVjdCBwb29sIG9yIGNyZWF0ZXMgYSBuZXcgb25lIGlmIHRoZSBwb29sIGlzIGVtcHR5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgb2JqZWN0IGZyb20gdGhlIHBvb2wuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRPYmplY3QoKSB7XG4gICAgcmV0dXJuIG9iamVjdFBvb2wucG9wKCkgfHwge1xuICAgICAgJ2FycmF5JzogbnVsbCxcbiAgICAgICdjYWNoZSc6IG51bGwsXG4gICAgICAnY3JpdGVyaWEnOiBudWxsLFxuICAgICAgJ2ZhbHNlJzogZmFsc2UsXG4gICAgICAnaW5kZXgnOiAwLFxuICAgICAgJ251bGwnOiBmYWxzZSxcbiAgICAgICdudW1iZXInOiBudWxsLFxuICAgICAgJ29iamVjdCc6IG51bGwsXG4gICAgICAncHVzaCc6IG51bGwsXG4gICAgICAnc3RyaW5nJzogbnVsbCxcbiAgICAgICd0cnVlJzogZmFsc2UsXG4gICAgICAndW5kZWZpbmVkJzogZmFsc2UsXG4gICAgICAndmFsdWUnOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgZ2l2ZW4gYXJyYXkgYmFjayB0byB0aGUgYXJyYXkgcG9vbC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gcmVsZWFzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlbGVhc2VBcnJheShhcnJheSkge1xuICAgIGFycmF5Lmxlbmd0aCA9IDA7XG4gICAgaWYgKGFycmF5UG9vbC5sZW5ndGggPCBtYXhQb29sU2l6ZSkge1xuICAgICAgYXJyYXlQb29sLnB1c2goYXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgZ2l2ZW4gb2JqZWN0IGJhY2sgdG8gdGhlIG9iamVjdCBwb29sLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byByZWxlYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVsZWFzZU9iamVjdChvYmplY3QpIHtcbiAgICB2YXIgY2FjaGUgPSBvYmplY3QuY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICByZWxlYXNlT2JqZWN0KGNhY2hlKTtcbiAgICB9XG4gICAgb2JqZWN0LmFycmF5ID0gb2JqZWN0LmNhY2hlID0gb2JqZWN0LmNyaXRlcmlhID0gb2JqZWN0Lm9iamVjdCA9IG9iamVjdC5udW1iZXIgPSBvYmplY3Quc3RyaW5nID0gb2JqZWN0LnZhbHVlID0gbnVsbDtcbiAgICBpZiAob2JqZWN0UG9vbC5sZW5ndGggPCBtYXhQb29sU2l6ZSkge1xuICAgICAgb2JqZWN0UG9vbC5wdXNoKG9iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNsaWNlcyB0aGUgYGNvbGxlY3Rpb25gIGZyb20gdGhlIGBzdGFydGAgaW5kZXggdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLFxuICAgKiB0aGUgYGVuZGAgaW5kZXguXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBpbnN0ZWFkIG9mIGBBcnJheSNzbGljZWAgdG8gc3VwcG9ydCBub2RlIGxpc3RzXG4gICAqIGluIElFIDwgOSBhbmQgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzbGljZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIGluZGV4LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgfHwgKHN0YXJ0ID0gMCk7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0IHx8IDAsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBnaXZlbiBjb250ZXh0IG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIC8vIEF2b2lkIGlzc3VlcyB3aXRoIHNvbWUgRVMzIGVudmlyb25tZW50cyB0aGF0IGF0dGVtcHQgdG8gdXNlIHZhbHVlcywgbmFtZWRcbiAgICAvLyBhZnRlciBidWlsdC1pbiBjb25zdHJ1Y3RvcnMgbGlrZSBgT2JqZWN0YCwgZm9yIHRoZSBjcmVhdGlvbiBvZiBsaXRlcmFscy5cbiAgICAvLyBFUzUgY2xlYXJzIHRoaXMgdXAgYnkgc3RhdGluZyB0aGF0IGxpdGVyYWxzIG11c3QgdXNlIGJ1aWx0LWluIGNvbnN0cnVjdG9ycy5cbiAgICAvLyBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3gxMS4xLjUuXG4gICAgY29udGV4dCA9IGNvbnRleHQgPyBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKSA6IHJvb3Q7XG5cbiAgICAvKiogTmF0aXZlIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMgKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBCb29sZWFuID0gY29udGV4dC5Cb29sZWFuLFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE51bWJlciA9IGNvbnRleHQuTnVtYmVyLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGBBcnJheWAgbWV0aG9kIHJlZmVyZW5jZXMuXG4gICAgICpcbiAgICAgKiBOb3JtYWxseSBgQXJyYXkucHJvdG90eXBlYCB3b3VsZCBzdWZmaWNlLCBob3dldmVyLCB1c2luZyBhbiBhcnJheSBsaXRlcmFsXG4gICAgICogYXZvaWRzIGlzc3VlcyBpbiBOYXJ3aGFsLlxuICAgICAqL1xuICAgIHZhciBhcnJheVJlZiA9IFtdO1xuXG4gICAgLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyAqL1xuICAgIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBub0NvbmZsaWN0YCAqL1xuICAgIHZhciBvbGREYXNoID0gY29udGV4dC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgaW50ZXJuYWwgW1tDbGFzc11dIG9mIHZhbHVlcyAqL1xuICAgIHZhciB0b1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZSAqL1xuICAgIHZhciByZU5hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgU3RyaW5nKHRvU3RyaW5nKVxuICAgICAgICAucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKVxuICAgICAgICAucmVwbGFjZSgvdG9TdHJpbmd8IGZvciBbXlxcXV0rL2csICcuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogTmF0aXZlIG1ldGhvZCBzaG9ydGN1dHMgKi9cbiAgICB2YXIgY2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgY2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgZm5Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgZ2V0UHJvdG90eXBlT2YgPSBpc05hdGl2ZShnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZikgJiYgZ2V0UHJvdG90eXBlT2YsXG4gICAgICAgIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHksXG4gICAgICAgIHB1c2ggPSBhcnJheVJlZi5wdXNoLFxuICAgICAgICBzZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0LFxuICAgICAgICBzcGxpY2UgPSBhcnJheVJlZi5zcGxpY2UsXG4gICAgICAgIHVuc2hpZnQgPSBhcnJheVJlZi51bnNoaWZ0O1xuXG4gICAgLyoqIFVzZWQgdG8gc2V0IG1ldGEgZGF0YSBvbiBmdW5jdGlvbnMgKi9cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAvLyBJRSA4IG9ubHkgYWNjZXB0cyBET00gZWxlbWVudHNcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBvID0ge30sXG4gICAgICAgICAgICBmdW5jID0gaXNOYXRpdmUoZnVuYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgJiYgZnVuYyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMobywgbywgbykgJiYgZnVuYztcbiAgICAgIH0gY2F0Y2goZSkgeyB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0oKSk7XG5cbiAgICAvKiBOYXRpdmUgbWV0aG9kIHNob3J0Y3V0cyBmb3IgbWV0aG9kcyB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcyAqL1xuICAgIHZhciBuYXRpdmVDcmVhdGUgPSBpc05hdGl2ZShuYXRpdmVDcmVhdGUgPSBPYmplY3QuY3JlYXRlKSAmJiBuYXRpdmVDcmVhdGUsXG4gICAgICAgIG5hdGl2ZUlzQXJyYXkgPSBpc05hdGl2ZShuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSkgJiYgbmF0aXZlSXNBcnJheSxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVJc05hTiA9IGNvbnRleHQuaXNOYU4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBpc05hdGl2ZShuYXRpdmVLZXlzID0gT2JqZWN0LmtleXMpICYmIG5hdGl2ZUtleXMsXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCBhIGJ1aWx0LWluIGNvbnN0cnVjdG9yIGJ5IFtbQ2xhc3NdXSAqL1xuICAgIHZhciBjdG9yQnlDbGFzcyA9IHt9O1xuICAgIGN0b3JCeUNsYXNzW2FycmF5Q2xhc3NdID0gQXJyYXk7XG4gICAgY3RvckJ5Q2xhc3NbYm9vbENsYXNzXSA9IEJvb2xlYW47XG4gICAgY3RvckJ5Q2xhc3NbZGF0ZUNsYXNzXSA9IERhdGU7XG4gICAgY3RvckJ5Q2xhc3NbZnVuY0NsYXNzXSA9IEZ1bmN0aW9uO1xuICAgIGN0b3JCeUNsYXNzW29iamVjdENsYXNzXSA9IE9iamVjdDtcbiAgICBjdG9yQnlDbGFzc1tudW1iZXJDbGFzc10gPSBOdW1iZXI7XG4gICAgY3RvckJ5Q2xhc3NbcmVnZXhwQ2xhc3NdID0gUmVnRXhwO1xuICAgIGN0b3JCeUNsYXNzW3N0cmluZ0NsYXNzXSA9IFN0cmluZztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gdmFsdWUgdG8gZW5hYmxlIGludHVpdGl2ZVxuICAgICAqIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIExvLURhc2ggbWV0aG9kcywgd3JhcHBlcnMgYWxzbyBoYXZlIHRoZSBmb2xsb3dpbmcgYEFycmF5YCBtZXRob2RzOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGByZXZlcnNlYCwgYHNoaWZ0YCwgYHNsaWNlYCwgYHNvcnRgLCBgc3BsaWNlYCxcbiAgICAgKiBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgZnVuY3Rpb25zIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXNzaWduYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNoYWluYCwgYGNvbXBhY3RgLFxuICAgICAqIGBjb21wb3NlYCwgYGNvbmNhdGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsIGBjcmVhdGVDYWxsYmFja2AsIGBjdXJyeWAsXG4gICAgICogYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmVyYCwgYGRlbGF5YCwgYGRpZmZlcmVuY2VgLCBgZmlsdGVyYCwgYGZsYXR0ZW5gLFxuICAgICAqIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsXG4gICAgICogYGZ1bmN0aW9uc2AsIGBncm91cEJ5YCwgYGluZGV4QnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW52ZXJ0YCxcbiAgICAgKiBgaW52b2tlYCwgYGtleXNgLCBgbWFwYCwgYG1heGAsIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1pbmAsIGBvYmplY3RgLCBgb21pdGAsXG4gICAgICogYG9uY2VgLCBgcGFpcnNgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGlja2AsIGBwbHVja2AsIGBwdWxsYCwgYHB1c2hgLFxuICAgICAqIGByYW5nZWAsIGByZWplY3RgLCBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzaHVmZmxlYCwgYHNsaWNlYCwgYHNvcnRgLFxuICAgICAqIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aW1lc2AsIGB0b0FycmF5YCwgYHRyYW5zZm9ybWAsXG4gICAgICogYHVuaW9uYCwgYHVuaXFgLCBgdW5zaGlmdGAsIGB1bnppcGAsIGB2YWx1ZXNgLCBgd2hlcmVgLCBgd2l0aG91dGAsIGB3cmFwYCxcbiAgICAgKiBhbmQgYHppcGBcbiAgICAgKlxuICAgICAqIFRoZSBub24tY2hhaW5hYmxlIHdyYXBwZXIgZnVuY3Rpb25zIGFyZTpcbiAgICAgKiBgY2xvbmVgLCBgY2xvbmVEZWVwYCwgYGNvbnRhaW5zYCwgYGVzY2FwZWAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsXG4gICAgICogYGZpbmRLZXlgLCBgZmluZExhc3RgLCBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBoYXNgLCBgaWRlbnRpdHlgLFxuICAgICAqIGBpbmRleE9mYCwgYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNCb29sZWFuYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLFxuICAgICAqIGBpc0VtcHR5YCwgYGlzRXF1YWxgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc05hTmAsIGBpc051bGxgLCBgaXNOdW1iZXJgLFxuICAgICAqIGBpc09iamVjdGAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGpvaW5gLFxuICAgICAqIGBsYXN0SW5kZXhPZmAsIGBtaXhpbmAsIGBub0NvbmZsaWN0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCxcbiAgICAgKiBgcmVkdWNlUmlnaHRgLCBgcmVzdWx0YCwgYHNoaWZ0YCwgYHNpemVgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBydW5JbkNvbnRleHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGFuZCBgdmFsdWVgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBmdW5jdGlvbnMgYGZpcnN0YCBhbmQgYGxhc3RgIHJldHVybiB3cmFwcGVkIHZhbHVlcyB3aGVuIGBuYCBpc1xuICAgICAqIHByb3ZpZGVkLCBvdGhlcndpc2UgdGhleSByZXR1cm4gdW53cmFwcGVkIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluaW5nIGNhbiBiZSBlbmFibGVkIGJ5IHVzaW5nIHRoZSBgXy5jaGFpbmAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gcmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWVcbiAgICAgKiB3cmFwcGVkLnJlZHVjZShmdW5jdGlvbihzdW0sIG51bSkge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG51bTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyByZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZVxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtICogbnVtO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICAvLyBkb24ndCB3cmFwIGlmIGFscmVhZHkgd3JhcHBlZCwgZXZlbiBpZiB3cmFwcGVkIGJ5IGEgZGlmZmVyZW50IGBsb2Rhc2hgIGNvbnN0cnVjdG9yXG4gICAgICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpXG4gICAgICAgPyB2YWx1ZVxuICAgICAgIDogbmV3IGxvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZmFzdCBwYXRoIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoYWluQWxsIEEgZmxhZyB0byBlbmFibGUgY2hhaW5pbmcgZm9yIGFsbCBtZXRob2RzXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgfVxuICAgIC8vIGVuc3VyZSBgbmV3IGxvZGFzaFdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBsb2Rhc2hgXG4gICAgbG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBsb2Rhc2gucHJvdG90eXBlO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHVzZWQgdG8gZmxhZyBlbnZpcm9ubWVudHMgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKi9cbiAgICB2YXIgc3VwcG9ydCA9IGxvZGFzaC5zdXBwb3J0ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgZnVuY3Rpb25zIGNhbiBiZSBkZWNvbXBpbGVkIGJ5IGBGdW5jdGlvbiN0b1N0cmluZ2BcbiAgICAgKiAoYWxsIGJ1dCBQUzMgYW5kIG9sZGVyIE9wZXJhIG1vYmlsZSBicm93c2VycyAmIGF2b2lkZWQgaW4gV2luZG93cyA4IGFwcHMpLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8uc3VwcG9ydFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKi9cbiAgICBzdXBwb3J0LmZ1bmNEZWNvbXAgPSAhaXNOYXRpdmUoY29udGV4dC5XaW5SVEVycm9yKSAmJiByZVRoaXMudGVzdChydW5JbkNvbnRleHQpO1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGBGdW5jdGlvbiNuYW1lYCBpcyBzdXBwb3J0ZWQgKGFsbCBidXQgSUUpLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIF8uc3VwcG9ydFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKi9cbiAgICBzdXBwb3J0LmZ1bmNOYW1lcyA9IHR5cGVvZiBGdW5jdGlvbi5uYW1lID09ICdzdHJpbmcnO1xuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBMby1EYXNoIGFyZSBzaW1pbGFyIHRvIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKS4gQ2hhbmdlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlXG4gICAgICogZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIFJlZ0V4cFxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogLzwlLShbXFxzXFxTXSs/KSU+L2csXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IC88JShbXFxzXFxTXSs/KSU+L2csXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5iaW5kYCB0aGF0IGNyZWF0ZXMgdGhlIGJvdW5kIGZ1bmN0aW9uIGFuZFxuICAgICAqIHNldHMgaXRzIG1ldGEgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYmluZERhdGEgVGhlIGJpbmQgZGF0YSBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQmluZChiaW5kRGF0YSkge1xuICAgICAgdmFyIGZ1bmMgPSBiaW5kRGF0YVswXSxcbiAgICAgICAgICBwYXJ0aWFsQXJncyA9IGJpbmREYXRhWzJdLFxuICAgICAgICAgIHRoaXNBcmcgPSBiaW5kRGF0YVs0XTtcblxuICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgIC8vIGBGdW5jdGlvbiNiaW5kYCBzcGVjXG4gICAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMy40LjVcbiAgICAgICAgaWYgKHBhcnRpYWxBcmdzKSB7XG4gICAgICAgICAgLy8gYXZvaWQgYGFyZ3VtZW50c2Agb2JqZWN0IGRlb3B0aW1pemF0aW9ucyBieSB1c2luZyBgc2xpY2VgIGluc3RlYWRcbiAgICAgICAgICAvLyBvZiBgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGxgIGFuZCBub3QgYXNzaWduaW5nIGBhcmd1bWVudHNgIHRvIGFcbiAgICAgICAgICAvLyB2YXJpYWJsZSBhcyBhIHRlcm5hcnkgZXhwcmVzc2lvblxuICAgICAgICAgIHZhciBhcmdzID0gc2xpY2UocGFydGlhbEFyZ3MpO1xuICAgICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvclxuICAgICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMlxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGBuZXcgYm91bmRgIGlzIGFuIGluc3RhbmNlIG9mIGBmdW5jYFxuICAgICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoZnVuYy5wcm90b3R5cGUpLFxuICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzIHx8IGFyZ3VtZW50cyk7XG4gICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzIHx8IGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBzZXRCaW5kRGF0YShib3VuZCwgYmluZERhdGEpO1xuICAgICAgcmV0dXJuIGJvdW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCB3aXRob3V0IGFyZ3VtZW50IGp1Z2dsaW5nIG9yIHN1cHBvcnRcbiAgICAgKiBmb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcD1mYWxzZV0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gQXNzb2NpYXRlcyBjbG9uZXMgd2l0aCBzb3VyY2UgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBpc0RlZXAsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaW5zcGVjdCBbW0NsYXNzXV1cbiAgICAgIHZhciBpc09iaiA9IGlzT2JqZWN0KHZhbHVlKTtcbiAgICAgIGlmIChpc09iaikge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICAgIGlmICghY2xvbmVhYmxlQ2xhc3Nlc1tjbGFzc05hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdG9yID0gY3RvckJ5Q2xhc3NbY2xhc3NOYW1lXTtcbiAgICAgICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgICAgICBjYXNlIGJvb2xDbGFzczpcbiAgICAgICAgICBjYXNlIGRhdGVDbGFzczpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcigrdmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSBudW1iZXJDbGFzczpcbiAgICAgICAgICBjYXNlIHN0cmluZ0NsYXNzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgcmVnZXhwQ2xhc3M6XG4gICAgICAgICAgICByZXN1bHQgPSBjdG9yKHZhbHVlLnNvdXJjZSwgcmVGbGFncy5leGVjKHZhbHVlKSk7XG4gICAgICAgICAgICByZXN1bHQubGFzdEluZGV4ID0gdmFsdWUubGFzdEluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gY29ycmVzcG9uZGluZyBjbG9uZVxuICAgICAgICB2YXIgaW5pdGVkU3RhY2sgPSAhc3RhY2tBO1xuICAgICAgICBzdGFja0EgfHwgKHN0YWNrQSA9IGdldEFycmF5KCkpO1xuICAgICAgICBzdGFja0IgfHwgKHN0YWNrQiA9IGdldEFycmF5KCkpO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSBzdGFja0EubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBpZiAoc3RhY2tBW2xlbmd0aF0gPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja0JbbGVuZ3RoXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gaXNBcnIgPyBjdG9yKHZhbHVlLmxlbmd0aCkgOiB7fTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBpc0FyciA/IHNsaWNlKHZhbHVlKSA6IGFzc2lnbih7fSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gYWRkIGFycmF5IHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYFxuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnaW5kZXgnKSkge1xuICAgICAgICAgIHJlc3VsdC5pbmRleCA9IHZhbHVlLmluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnaW5wdXQnKSkge1xuICAgICAgICAgIHJlc3VsdC5pbnB1dCA9IHZhbHVlLmlucHV0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBleGl0IGZvciBzaGFsbG93IGNsb25lXG4gICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gYWRkIHRoZSBzb3VyY2UgdmFsdWUgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzXG4gICAgICAvLyBhbmQgYXNzb2NpYXRlIGl0IHdpdGggaXRzIGNsb25lXG4gICAgICBzdGFja0EucHVzaCh2YWx1ZSk7XG4gICAgICBzdGFja0IucHVzaChyZXN1bHQpO1xuXG4gICAgICAvLyByZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpXG4gICAgICAoaXNBcnIgPyBmb3JFYWNoIDogZm9yT3duKSh2YWx1ZSwgZnVuY3Rpb24ob2JqVmFsdWUsIGtleSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGJhc2VDbG9uZShvYmpWYWx1ZSwgaXNEZWVwLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbml0ZWRTdGFjaykge1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tBKTtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3QocHJvdG90eXBlKSA/IG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpIDoge307XG4gICAgfVxuICAgIC8vIGZhbGxiYWNrIGZvciBicm93c2VycyB3aXRob3V0IGBPYmplY3QuY3JlYXRlYFxuICAgIGlmICghbmF0aXZlQ3JlYXRlKSB7XG4gICAgICBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBPYmplY3QoKSB7fVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0IHx8IGNvbnRleHQuT2JqZWN0KCk7XG4gICAgICAgIH07XG4gICAgICB9KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZUNhbGxiYWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNyZWF0aW5nXG4gICAgICogXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtmdW5jPWlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyZ0NvdW50XSBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGUgY2FsbGJhY2sgYWNjZXB0cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIG5vIGB0aGlzQXJnYCBvciBhbHJlYWR5IGJvdW5kIGJ5IGBGdW5jdGlvbiNiaW5kYFxuICAgICAgaWYgKHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnIHx8ICEoJ3Byb3RvdHlwZScgaW4gZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9XG4gICAgICB2YXIgYmluZERhdGEgPSBmdW5jLl9fYmluZERhdGFfXztcbiAgICAgIGlmICh0eXBlb2YgYmluZERhdGEgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHN1cHBvcnQuZnVuY05hbWVzKSB7XG4gICAgICAgICAgYmluZERhdGEgPSAhZnVuYy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGJpbmREYXRhID0gYmluZERhdGEgfHwgIXN1cHBvcnQuZnVuY0RlY29tcDtcbiAgICAgICAgaWYgKCFiaW5kRGF0YSkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBmblRvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgICAgaWYgKCFzdXBwb3J0LmZ1bmNOYW1lcykge1xuICAgICAgICAgICAgYmluZERhdGEgPSAhcmVGdW5jTmFtZS50ZXN0KHNvdXJjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghYmluZERhdGEpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiBgZnVuY2AgcmVmZXJlbmNlcyB0aGUgYHRoaXNgIGtleXdvcmQgYW5kIHN0b3JlcyB0aGUgcmVzdWx0XG4gICAgICAgICAgICBiaW5kRGF0YSA9IHJlVGhpcy50ZXN0KHNvdXJjZSk7XG4gICAgICAgICAgICBzZXRCaW5kRGF0YShmdW5jLCBiaW5kRGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBleGl0IGVhcmx5IGlmIHRoZXJlIGFyZSBubyBgdGhpc2AgcmVmZXJlbmNlcyBvciBgZnVuY2AgaXMgYm91bmRcbiAgICAgIGlmIChiaW5kRGF0YSA9PT0gZmFsc2UgfHwgKGJpbmREYXRhICE9PSB0cnVlICYmIGJpbmREYXRhWzFdICYgMSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGFyZ0NvdW50KSB7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGEsIGIpO1xuICAgICAgICB9O1xuICAgICAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJpbmQoZnVuYywgdGhpc0FyZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGNyZWF0ZVdyYXBwZXJgIHRoYXQgY3JlYXRlcyB0aGUgd3JhcHBlciBhbmRcbiAgICAgKiBzZXRzIGl0cyBtZXRhIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGJpbmREYXRhIFRoZSBiaW5kIGRhdGEgYXJyYXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNyZWF0ZVdyYXBwZXIoYmluZERhdGEpIHtcbiAgICAgIHZhciBmdW5jID0gYmluZERhdGFbMF0sXG4gICAgICAgICAgYml0bWFzayA9IGJpbmREYXRhWzFdLFxuICAgICAgICAgIHBhcnRpYWxBcmdzID0gYmluZERhdGFbMl0sXG4gICAgICAgICAgcGFydGlhbFJpZ2h0QXJncyA9IGJpbmREYXRhWzNdLFxuICAgICAgICAgIHRoaXNBcmcgPSBiaW5kRGF0YVs0XSxcbiAgICAgICAgICBhcml0eSA9IGJpbmREYXRhWzVdO1xuXG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIDEsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIDIsXG4gICAgICAgICAgaXNDdXJyeSA9IGJpdG1hc2sgJiA0LFxuICAgICAgICAgIGlzQ3VycnlCb3VuZCA9IGJpdG1hc2sgJiA4LFxuICAgICAgICAgIGtleSA9IGZ1bmM7XG5cbiAgICAgIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcztcbiAgICAgICAgaWYgKHBhcnRpYWxBcmdzKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZShwYXJ0aWFsQXJncyk7XG4gICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsUmlnaHRBcmdzIHx8IGlzQ3VycnkpIHtcbiAgICAgICAgICBhcmdzIHx8IChhcmdzID0gc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgICAgaWYgKHBhcnRpYWxSaWdodEFyZ3MpIHtcbiAgICAgICAgICAgIHB1c2guYXBwbHkoYXJncywgcGFydGlhbFJpZ2h0QXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0N1cnJ5ICYmIGFyZ3MubGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICAgIGJpdG1hc2sgfD0gMTYgJiB+MzI7XG4gICAgICAgICAgICByZXR1cm4gYmFzZUNyZWF0ZVdyYXBwZXIoW2Z1bmMsIChpc0N1cnJ5Qm91bmQgPyBiaXRtYXNrIDogYml0bWFzayAmIH4zKSwgYXJncywgbnVsbCwgdGhpc0FyZywgYXJpdHldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJncyB8fCAoYXJncyA9IGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChpc0JpbmRLZXkpIHtcbiAgICAgICAgICBmdW5jID0gdGhpc0JpbmRpbmdba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG4gICAgICAgICAgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICBzZXRCaW5kRGF0YShib3VuZCwgYmluZERhdGEpO1xuICAgICAgcmV0dXJuIGJvdW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRpZmZlcmVuY2VgIHRoYXQgYWNjZXB0cyBhIHNpbmdsZSBhcnJheVxuICAgICAqIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgYXJyYXkgb2YgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICBpc0xhcmdlID0gbGVuZ3RoID49IGxhcmdlQXJyYXlTaXplICYmIGluZGV4T2YgPT09IGJhc2VJbmRleE9mLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjcmVhdGVDYWNoZSh2YWx1ZXMpO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICBpbmRleE9mID0gY2FjaGVJbmRleE9mO1xuICAgICAgICAgIHZhbHVlcyA9IGNhY2hlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTGFyZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoaW5kZXhPZih2YWx1ZXMsIHZhbHVlKSA8IDApIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHJlbGVhc2VPYmplY3QodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICAgICAqIHNob3J0aGFuZHMgb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU2hhbGxvdz1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYSBzaW5nbGUgbGV2ZWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3Q9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGFycmF5cyBhbmQgYGFyZ3VtZW50c2Agb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc3RhcnQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBpc1NoYWxsb3csIGlzU3RyaWN0LCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBpbmRleCA9IChmcm9tSW5kZXggfHwgMCkgLSAxLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgJiYgKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgICAvLyByZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpXG4gICAgICAgICAgaWYgKCFpc1NoYWxsb3cpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUZsYXR0ZW4odmFsdWUsIGlzU2hhbGxvdywgaXNTdHJpY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdmFsSW5kZXggPSAtMSxcbiAgICAgICAgICAgICAgdmFsTGVuZ3RoID0gdmFsdWUubGVuZ3RoLFxuICAgICAgICAgICAgICByZXNJbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgICAgICByZXN1bHQubGVuZ3RoICs9IHZhbExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoKyt2YWxJbmRleCA8IHZhbExlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWVbdmFsSW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAsIHdpdGhvdXQgc3VwcG9ydCBmb3IgYHRoaXNBcmdgIGJpbmRpbmcsXG4gICAgICogdGhhdCBhbGxvd3MgcGFydGlhbCBcIl8ud2hlcmVcIiBzdHlsZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBhIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gYiBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXNXaGVyZT1mYWxzZV0gQSBmbGFnIHRvIGluZGljYXRlIHBlcmZvcm1pbmcgcGFydGlhbCBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tBPVtdXSBUcmFja3MgdHJhdmVyc2VkIGBhYCBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0I9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbChhLCBiLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgIC8vIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCB3aGVuIGNvbXBhcmluZyBvYmplY3RzLCBgYWAgaGFzIGF0IGxlYXN0IHRoZSBwcm9wZXJ0aWVzIG9mIGBiYFxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhhLCBiKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIGlkZW50aWNhbCB2YWx1ZXNcbiAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIC8vIHRyZWF0IGArMGAgdnMuIGAtMGAgYXMgbm90IGVxdWFsXG4gICAgICAgIHJldHVybiBhICE9PSAwIHx8ICgxIC8gYSA9PSAxIC8gYik7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBhLFxuICAgICAgICAgIG90aGVyVHlwZSA9IHR5cGVvZiBiO1xuXG4gICAgICAvLyBleGl0IGVhcmx5IGZvciB1bmxpa2UgcHJpbWl0aXZlIHZhbHVlc1xuICAgICAgaWYgKGEgPT09IGEgJiZcbiAgICAgICAgICAhKGEgJiYgb2JqZWN0VHlwZXNbdHlwZV0pICYmXG4gICAgICAgICAgIShiICYmIG9iamVjdFR5cGVzW290aGVyVHlwZV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgYXZvaWRpbmcgRVMzJ3MgRnVuY3Rpb24jY2FsbCBiZWhhdmlvclxuICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4zLjQuNFxuICAgICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICB9XG4gICAgICAvLyBjb21wYXJlIFtbQ2xhc3NdXSBuYW1lc1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSksXG4gICAgICAgICAgb3RoZXJDbGFzcyA9IHRvU3RyaW5nLmNhbGwoYik7XG5cbiAgICAgIGlmIChjbGFzc05hbWUgPT0gYXJnc0NsYXNzKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IG9iamVjdENsYXNzO1xuICAgICAgfVxuICAgICAgaWYgKG90aGVyQ2xhc3MgPT0gYXJnc0NsYXNzKSB7XG4gICAgICAgIG90aGVyQ2xhc3MgPSBvYmplY3RDbGFzcztcbiAgICAgIH1cbiAgICAgIGlmIChjbGFzc05hbWUgIT0gb3RoZXJDbGFzcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICBjYXNlIGJvb2xDbGFzczpcbiAgICAgICAgY2FzZSBkYXRlQ2xhc3M6XG4gICAgICAgICAgLy8gY29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1iZXJzLCBkYXRlcyB0byBtaWxsaXNlY29uZHMgYW5kIGJvb2xlYW5zXG4gICAgICAgICAgLy8gdG8gYDFgIG9yIGAwYCB0cmVhdGluZyBpbnZhbGlkIGRhdGVzIGNvZXJjZWQgdG8gYE5hTmAgYXMgbm90IGVxdWFsXG4gICAgICAgICAgcmV0dXJuICthID09ICtiO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyQ2xhc3M6XG4gICAgICAgICAgLy8gdHJlYXQgYE5hTmAgdnMuIGBOYU5gIGFzIGVxdWFsXG4gICAgICAgICAgcmV0dXJuIChhICE9ICthKVxuICAgICAgICAgICAgPyBiICE9ICtiXG4gICAgICAgICAgICAvLyBidXQgdHJlYXQgYCswYCB2cy4gYC0wYCBhcyBub3QgZXF1YWxcbiAgICAgICAgICAgIDogKGEgPT0gMCA/ICgxIC8gYSA9PSAxIC8gYikgOiBhID09ICtiKTtcblxuICAgICAgICBjYXNlIHJlZ2V4cENsYXNzOlxuICAgICAgICBjYXNlIHN0cmluZ0NsYXNzOlxuICAgICAgICAgIC8vIGNvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgKGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMTAuNi40KVxuICAgICAgICAgIC8vIHRyZWF0IHN0cmluZyBwcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCBpbnN0YW5jZXMgYXMgZXF1YWxcbiAgICAgICAgICByZXR1cm4gYSA9PSBTdHJpbmcoYik7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBjbGFzc05hbWUgPT0gYXJyYXlDbGFzcztcbiAgICAgIGlmICghaXNBcnIpIHtcbiAgICAgICAgLy8gdW53cmFwIGFueSBgbG9kYXNoYCB3cmFwcGVkIHZhbHVlc1xuICAgICAgICB2YXIgYVdyYXBwZWQgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgYldyYXBwZWQgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChhV3JhcHBlZCB8fCBiV3JhcHBlZCkge1xuICAgICAgICAgIHJldHVybiBiYXNlSXNFcXVhbChhV3JhcHBlZCA/IGEuX193cmFwcGVkX18gOiBhLCBiV3JhcHBlZCA/IGIuX193cmFwcGVkX18gOiBiLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4aXQgZm9yIGZ1bmN0aW9ucyBhbmQgRE9NIG5vZGVzXG4gICAgICAgIGlmIChjbGFzc05hbWUgIT0gb2JqZWN0Q2xhc3MpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gb2xkZXIgdmVyc2lvbnMgb2YgT3BlcmEsIGBhcmd1bWVudHNgIG9iamVjdHMgaGF2ZSBgQXJyYXlgIGNvbnN0cnVjdG9yc1xuICAgICAgICB2YXIgY3RvckEgPSBhLmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgY3RvckIgPSBiLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIG5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsXG4gICAgICAgIGlmIChjdG9yQSAhPSBjdG9yQiAmJlxuICAgICAgICAgICAgICAhKGlzRnVuY3Rpb24oY3RvckEpICYmIGN0b3JBIGluc3RhbmNlb2YgY3RvckEgJiYgaXNGdW5jdGlvbihjdG9yQikgJiYgY3RvckIgaW5zdGFuY2VvZiBjdG9yQikgJiZcbiAgICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gYSAmJiAnY29uc3RydWN0b3InIGluIGIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGFzc3VtZSBjeWNsaWMgc3RydWN0dXJlcyBhcmUgZXF1YWxcbiAgICAgIC8vIHRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWMgc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xXG4gICAgICAvLyBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gIChodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEyLjMpXG4gICAgICB2YXIgaW5pdGVkU3RhY2sgPSAhc3RhY2tBO1xuICAgICAgc3RhY2tBIHx8IChzdGFja0EgPSBnZXRBcnJheSgpKTtcbiAgICAgIHN0YWNrQiB8fCAoc3RhY2tCID0gZ2V0QXJyYXkoKSk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdGFja0EubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChzdGFja0FbbGVuZ3RoXSA9PSBhKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrQltsZW5ndGhdID09IGI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzaXplID0gMDtcbiAgICAgIHJlc3VsdCA9IHRydWU7XG5cbiAgICAgIC8vIGFkZCBgYWAgYW5kIGBiYCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHNcbiAgICAgIHN0YWNrQS5wdXNoKGEpO1xuICAgICAgc3RhY2tCLnB1c2goYik7XG5cbiAgICAgIC8vIHJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICAvLyBjb21wYXJlIGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeVxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgc2l6ZSA9IGIubGVuZ3RoO1xuICAgICAgICByZXN1bHQgPSBzaXplID09IGxlbmd0aDtcblxuICAgICAgICBpZiAocmVzdWx0IHx8IGlzV2hlcmUpIHtcbiAgICAgICAgICAvLyBkZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzXG4gICAgICAgICAgd2hpbGUgKHNpemUtLSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gYltzaXplXTtcblxuICAgICAgICAgICAgaWYgKGlzV2hlcmUpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9IGJhc2VJc0VxdWFsKGFbaW5kZXhdLCB2YWx1ZSwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSkpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghKHJlc3VsdCA9IGJhc2VJc0VxdWFsKGFbc2l6ZV0sIHZhbHVlLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBkZWVwIGNvbXBhcmUgb2JqZWN0cyB1c2luZyBgZm9ySW5gLCBpbnN0ZWFkIG9mIGBmb3JPd25gLCB0byBhdm9pZCBgT2JqZWN0LmtleXNgXG4gICAgICAgIC8vIHdoaWNoLCBpbiB0aGlzIGNhc2UsIGlzIG1vcmUgY29zdGx5XG4gICAgICAgIGZvckluKGIsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGIpIHtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXkpKSB7XG4gICAgICAgICAgICAvLyBjb3VudCB0aGUgbnVtYmVyIG9mIHByb3BlcnRpZXMuXG4gICAgICAgICAgICBzaXplKys7XG4gICAgICAgICAgICAvLyBkZWVwIGNvbXBhcmUgZWFjaCBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gaGFzT3duUHJvcGVydHkuY2FsbChhLCBrZXkpICYmIGJhc2VJc0VxdWFsKGFba2V5XSwgdmFsdWUsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCAmJiAhaXNXaGVyZSkge1xuICAgICAgICAgIC8vIGVuc3VyZSBib3RoIG9iamVjdHMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllc1xuICAgICAgICAgIGZvckluKGEsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGEpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgLy8gYHNpemVgIHdpbGwgYmUgYC0xYCBpZiBgYWAgaGFzIG1vcmUgcHJvcGVydGllcyB0aGFuIGBiYFxuICAgICAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9IC0tc2l6ZSA+IC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tBLnBvcCgpO1xuICAgICAgc3RhY2tCLnBvcCgpO1xuXG4gICAgICBpZiAoaW5pdGVkU3RhY2spIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQSk7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBhcmd1bWVudCBqdWdnbGluZyBvciBzdXBwb3J0XG4gICAgICogZm9yIGB0aGlzQXJnYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2luZyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gQXNzb2NpYXRlcyB2YWx1ZXMgd2l0aCBzb3VyY2UgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKSB7XG4gICAgICAoaXNBcnJheShzb3VyY2UpID8gZm9yRWFjaCA6IGZvck93bikoc291cmNlLCBmdW5jdGlvbihzb3VyY2UsIGtleSkge1xuICAgICAgICB2YXIgZm91bmQsXG4gICAgICAgICAgICBpc0FycixcbiAgICAgICAgICAgIHJlc3VsdCA9IHNvdXJjZSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKHNvdXJjZSAmJiAoKGlzQXJyID0gaXNBcnJheShzb3VyY2UpKSB8fCBpc1BsYWluT2JqZWN0KHNvdXJjZSkpKSB7XG4gICAgICAgICAgLy8gYXZvaWQgbWVyZ2luZyBwcmV2aW91c2x5IG1lcmdlZCBjeWNsaWMgc291cmNlc1xuICAgICAgICAgIHZhciBzdGFja0xlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHN0YWNrTGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGlmICgoZm91bmQgPSBzdGFja0Fbc3RhY2tMZW5ndGhdID09IHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzdGFja0Jbc3RhY2tMZW5ndGhdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgdmFyIGlzU2hhbGxvdztcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSwgc291cmNlKTtcbiAgICAgICAgICAgICAgaWYgKChpc1NoYWxsb3cgPSB0eXBlb2YgcmVzdWx0ICE9ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzU2hhbGxvdykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGlzQXJyXG4gICAgICAgICAgICAgICAgPyAoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdKVxuICAgICAgICAgICAgICAgIDogKGlzUGxhaW5PYmplY3QodmFsdWUpID8gdmFsdWUgOiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgYHNvdXJjZWAgYW5kIGFzc29jaWF0ZWQgYHZhbHVlYCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHNcbiAgICAgICAgICAgIHN0YWNrQS5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICBzdGFja0IucHVzaCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpXG4gICAgICAgICAgICBpZiAoIWlzU2hhbGxvdykge1xuICAgICAgICAgICAgICBiYXNlTWVyZ2UodmFsdWUsIHNvdXJjZSwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSwgc291cmNlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IHNvdXJjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IGFyZ3VtZW50IGp1Z2dsaW5nIG9yIHN1cHBvcnRcbiAgICAgKiBmb3IgcmV0dXJuaW5nIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIG1pbmltdW0gcG9zc2libGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgICByZXR1cm4gbWluICsgZmxvb3IobmF0aXZlUmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAqIG9yIGB0aGlzQXJnYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NvcnRlZD1mYWxzZV0gQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgYGFycmF5YCBpcyBzb3J0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgZHVwbGljYXRlLXZhbHVlLWZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGlzU29ydGVkLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHZhciBpc0xhcmdlID0gIWlzU29ydGVkICYmIGxlbmd0aCA+PSBsYXJnZUFycmF5U2l6ZSAmJiBpbmRleE9mID09PSBiYXNlSW5kZXhPZixcbiAgICAgICAgICBzZWVuID0gKGNhbGxiYWNrIHx8IGlzTGFyZ2UpID8gZ2V0QXJyYXkoKSA6IHJlc3VsdDtcblxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gY3JlYXRlQ2FjaGUoc2Vlbik7XG4gICAgICAgIGluZGV4T2YgPSBjYWNoZUluZGV4T2Y7XG4gICAgICAgIHNlZW4gPSBjYWNoZTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGFycmF5KSA6IHZhbHVlO1xuXG4gICAgICAgIGlmIChpc1NvcnRlZFxuICAgICAgICAgICAgICA/ICFpbmRleCB8fCBzZWVuW3NlZW4ubGVuZ3RoIC0gMV0gIT09IGNvbXB1dGVkXG4gICAgICAgICAgICAgIDogaW5kZXhPZihzZWVuLCBjb21wdXRlZCkgPCAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sgfHwgaXNMYXJnZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICByZWxlYXNlQXJyYXkoc2Vlbi5hcnJheSk7XG4gICAgICAgIHJlbGVhc2VPYmplY3Qoc2Vlbik7XG4gICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzZWVuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhIGNvbGxlY3Rpb24sIGNyZWF0aW5nIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB0aHJvdWdoIGEgY2FsbGJhY2suIFRoZSBnaXZlbiBgc2V0dGVyYCBmdW5jdGlvbiBzZXRzIHRoZSBrZXlzIGFuZCB2YWx1ZXNcbiAgICAgKiBvZiB0aGUgY29tcG9zZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIHNldHRlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgICAgc2V0dGVyKHJlc3VsdCwgdmFsdWUsIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbiksIGNvbGxlY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgICAgc2V0dGVyKHJlc3VsdCwgdmFsdWUsIGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgXG4gICAgICogd2l0aCBhbiBvcHRpb25hbCBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIG1ldGhvZCBmbGFncyB0byBjb21wb3NlLlxuICAgICAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcbiAgICAgKiAgMSAtIGBfLmJpbmRgXG4gICAgICogIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICA0IC0gYF8uY3VycnlgXG4gICAgICogIDggLSBgXy5jdXJyeWAgKGJvdW5kKVxuICAgICAqICAxNiAtIGBfLnBhcnRpYWxgXG4gICAgICogIDMyIC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsQXJnc10gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2VcbiAgICAgKiAgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbFJpZ2h0QXJnc10gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZVxuICAgICAqICBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwcGVyKGZ1bmMsIGJpdG1hc2ssIHBhcnRpYWxBcmdzLCBwYXJ0aWFsUmlnaHRBcmdzLCB0aGlzQXJnLCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiAxLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiAyLFxuICAgICAgICAgIGlzQ3VycnkgPSBiaXRtYXNrICYgNCxcbiAgICAgICAgICBpc0N1cnJ5Qm91bmQgPSBiaXRtYXNrICYgOCxcbiAgICAgICAgICBpc1BhcnRpYWwgPSBiaXRtYXNrICYgMTYsXG4gICAgICAgICAgaXNQYXJ0aWFsUmlnaHQgPSBiaXRtYXNrICYgMzI7XG5cbiAgICAgIGlmICghaXNCaW5kS2V5ICYmICFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICBpZiAoaXNQYXJ0aWFsICYmICFwYXJ0aWFsQXJncy5sZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+MTY7XG4gICAgICAgIGlzUGFydGlhbCA9IHBhcnRpYWxBcmdzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNQYXJ0aWFsUmlnaHQgJiYgIXBhcnRpYWxSaWdodEFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfjMyO1xuICAgICAgICBpc1BhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodEFyZ3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBiaW5kRGF0YSA9IGZ1bmMgJiYgZnVuYy5fX2JpbmREYXRhX187XG4gICAgICBpZiAoYmluZERhdGEgJiYgYmluZERhdGEgIT09IHRydWUpIHtcbiAgICAgICAgLy8gY2xvbmUgYGJpbmREYXRhYFxuICAgICAgICBiaW5kRGF0YSA9IHNsaWNlKGJpbmREYXRhKTtcbiAgICAgICAgaWYgKGJpbmREYXRhWzJdKSB7XG4gICAgICAgICAgYmluZERhdGFbMl0gPSBzbGljZShiaW5kRGF0YVsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJpbmREYXRhWzNdKSB7XG4gICAgICAgICAgYmluZERhdGFbM10gPSBzbGljZShiaW5kRGF0YVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGB0aGlzQmluZGluZ2AgaXMgbm90IHByZXZpb3VzbHkgYm91bmRcbiAgICAgICAgaWYgKGlzQmluZCAmJiAhKGJpbmREYXRhWzFdICYgMSkpIHtcbiAgICAgICAgICBiaW5kRGF0YVs0XSA9IHRoaXNBcmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGlmIHByZXZpb3VzbHkgYm91bmQgYnV0IG5vdCBjdXJyZW50bHkgKHN1YnNlcXVlbnQgY3VycmllZCBmdW5jdGlvbnMpXG4gICAgICAgIGlmICghaXNCaW5kICYmIGJpbmREYXRhWzFdICYgMSkge1xuICAgICAgICAgIGJpdG1hc2sgfD0gODtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgY3VycmllZCBhcml0eSBpZiBub3QgeWV0IHNldFxuICAgICAgICBpZiAoaXNDdXJyeSAmJiAhKGJpbmREYXRhWzFdICYgNCkpIHtcbiAgICAgICAgICBiaW5kRGF0YVs1XSA9IGFyaXR5O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGVuZCBwYXJ0aWFsIGxlZnQgYXJndW1lbnRzXG4gICAgICAgIGlmIChpc1BhcnRpYWwpIHtcbiAgICAgICAgICBwdXNoLmFwcGx5KGJpbmREYXRhWzJdIHx8IChiaW5kRGF0YVsyXSA9IFtdKSwgcGFydGlhbEFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGVuZCBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50c1xuICAgICAgICBpZiAoaXNQYXJ0aWFsUmlnaHQpIHtcbiAgICAgICAgICB1bnNoaWZ0LmFwcGx5KGJpbmREYXRhWzNdIHx8IChiaW5kRGF0YVszXSA9IFtdKSwgcGFydGlhbFJpZ2h0QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVyZ2UgZmxhZ3NcbiAgICAgICAgYmluZERhdGFbMV0gfD0gYml0bWFzaztcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIuYXBwbHkobnVsbCwgYmluZERhdGEpO1xuICAgICAgfVxuICAgICAgLy8gZmFzdCBwYXRoIGZvciBgXy5iaW5kYFxuICAgICAgdmFyIGNyZWF0ZXIgPSAoYml0bWFzayA9PSAxIHx8IGJpdG1hc2sgPT09IDE3KSA/IGJhc2VCaW5kIDogYmFzZUNyZWF0ZVdyYXBwZXI7XG4gICAgICByZXR1cm4gY3JlYXRlcihbZnVuYywgYml0bWFzaywgcGFydGlhbEFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MsIHRoaXNBcmcsIGFyaXR5XSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlSHRtbENoYXIobWF0Y2gpIHtcbiAgICAgIHJldHVybiBodG1sRXNjYXBlc1ttYXRjaF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpbmRleE9mXCIgZnVuY3Rpb24uIElmIHRoZSBgXy5pbmRleE9mYCBtZXRob2QgaXNcbiAgICAgKiBjdXN0b21pemVkLCB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJuc1xuICAgICAqIHRoZSBgYmFzZUluZGV4T2ZgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIFwiaW5kZXhPZlwiIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEluZGV4T2YoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKHJlc3VsdCA9IGxvZGFzaC5pbmRleE9mKSA9PT0gaW5kZXhPZiA/IGJhc2VJbmRleE9mIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyAmJiByZU5hdGl2ZS50ZXN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGB0aGlzYCBiaW5kaW5nIGRhdGEgb24gYSBnaXZlbiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc2V0IGRhdGEgb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWUgVGhlIGRhdGEgYXJyYXkgdG8gc2V0LlxuICAgICAqL1xuICAgIHZhciBzZXRCaW5kRGF0YSA9ICFkZWZpbmVQcm9wZXJ0eSA/IG5vb3AgOiBmdW5jdGlvbihmdW5jLCB2YWx1ZSkge1xuICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgZGVmaW5lUHJvcGVydHkoZnVuYywgJ19fYmluZERhdGFfXycsIGRlc2NyaXB0b3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGZhbGxiYWNrIGltcGxlbWVudGF0aW9uIG9mIGBpc1BsYWluT2JqZWN0YCB3aGljaCBjaGVja3MgaWYgYSBnaXZlbiB2YWx1ZVxuICAgICAqIGlzIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3RvciwgYXNzdW1pbmcgb2JqZWN0cyBjcmVhdGVkXG4gICAgICogYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yIGhhdmUgbm8gaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgdGhhdFxuICAgICAqIHRoZXJlIGFyZSBubyBgT2JqZWN0LnByb3RvdHlwZWAgZXh0ZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIGN0b3IsXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICAvLyBhdm9pZCBub24gT2JqZWN0IG9iamVjdHMsIGBhcmd1bWVudHNgIG9iamVjdHMsIGFuZCBET00gZWxlbWVudHNcbiAgICAgIGlmICghKHZhbHVlICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG9iamVjdENsYXNzKSB8fFxuICAgICAgICAgIChjdG9yID0gdmFsdWUuY29uc3RydWN0b3IsIGlzRnVuY3Rpb24oY3RvcikgJiYgIShjdG9yIGluc3RhbmNlb2YgY3RvcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEluIG1vc3QgZW52aXJvbm1lbnRzIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzIGFyZSBpdGVyYXRlZCBiZWZvcmVcbiAgICAgIC8vIGl0cyBpbmhlcml0ZWQgcHJvcGVydGllcy4gSWYgdGhlIGxhc3QgaXRlcmF0ZWQgcHJvcGVydHkgaXMgYW4gb2JqZWN0J3NcbiAgICAgIC8vIG93biBwcm9wZXJ0eSB0aGVuIHRoZXJlIGFyZSBubyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAgZm9ySW4odmFsdWUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCA9PSAndW5kZWZpbmVkJyB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYHVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlSHRtbENoYXIobWF0Y2gpIHtcbiAgICAgIHJldHVybiBodG1sVW5lc2NhcGVzW21hdGNoXTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAoZnVuY3Rpb24oKSB7IHJldHVybiBfLmlzQXJndW1lbnRzKGFyZ3VtZW50cyk7IH0pKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc0NsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAoZnVuY3Rpb24oKSB7IHJldHVybiBfLmlzQXJyYXkoYXJndW1lbnRzKTsgfSkoKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFycmF5Q2xhc3MgfHwgZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZmFsbGJhY2sgaW1wbGVtZW50YXRpb24gb2YgYE9iamVjdC5rZXlzYCB3aGljaCBwcm9kdWNlcyBhbiBhcnJheSBvZiB0aGVcbiAgICAgKiBnaXZlbiBvYmplY3QncyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgdmFyIHNoaW1LZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gb2JqZWN0LCByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICBpZiAoIShvYmplY3RUeXBlc1t0eXBlb2Ygb2JqZWN0XSkpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGZvciAoaW5kZXggaW4gaXRlcmFibGUpIHtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChpdGVyYWJsZSwgaW5kZXgpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY29tcG9zZWQgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtleXMoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gWydvbmUnLCAndHdvJywgJ3RocmVlJ10gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgdmFyIGtleXMgPSAhbmF0aXZlS2V5cyA/IHNoaW1LZXlzIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllczpcbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgYD5gIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlIGA+YCBhbmQgYC9gXG4gICAgICogZG9uJ3QgcmVxdWlyZSBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZyB1bmxlc3MgdGhleSdyZSBwYXJ0XG4gICAgICogb2YgYSB0YWcgb3IgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKVxuICAgICAqL1xuICAgIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgIFwiJ1wiOiAnJiMzOTsnXG4gICAgfTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzICovXG4gICAgdmFyIGh0bWxVbmVzY2FwZXMgPSBpbnZlcnQoaHRtbEVzY2FwZXMpO1xuXG4gICAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzICovXG4gICAgdmFyIHJlRXNjYXBlZEh0bWwgPSBSZWdFeHAoJygnICsga2V5cyhodG1sVW5lc2NhcGVzKS5qb2luKCd8JykgKyAnKScsICdnJyksXG4gICAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cCgnWycgKyBrZXlzKGh0bWxFc2NhcGVzKS5qb2luKCcnKSArICddJywgJ2cnKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3QocykgdG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogb2JqZWN0LiBTdWJzZXF1ZW50IHNvdXJjZXMgd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXNcbiAgICAgKiBzb3VyY2VzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiBhc3NpZ25lZCB2YWx1ZXMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM7IChvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ25hbWUnOiAnZnJlZCcgfSwgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ24sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHJldHVybiB0eXBlb2YgYSA9PSAndW5kZWZpbmVkJyA/IGIgOiBhO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnYmFybmV5JyB9O1xuICAgICAqIGRlZmF1bHRzKG9iamVjdCwgeyAnbmFtZSc6ICdmcmVkJywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBvYmplY3QsIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGFyZ3NJbmRleCA9IDAsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IHR5cGVvZiBndWFyZCA9PSAnbnVtYmVyJyA/IDIgOiBhcmdzLmxlbmd0aDtcbiAgICAgIGlmIChhcmdzTGVuZ3RoID4gMyAmJiB0eXBlb2YgYXJnc1thcmdzTGVuZ3RoIC0gMl0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soYXJnc1stLWFyZ3NMZW5ndGggLSAxXSwgYXJnc1thcmdzTGVuZ3RoLS1dLCAyKTtcbiAgICAgIH0gZWxzZSBpZiAoYXJnc0xlbmd0aCA+IDIgJiYgdHlwZW9mIGFyZ3NbYXJnc0xlbmd0aCAtIDFdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBhcmdzWy0tYXJnc0xlbmd0aF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhYmxlID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICBpZiAoaXRlcmFibGUgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkge1xuICAgICAgICB2YXIgb3duSW5kZXggPSAtMSxcbiAgICAgICAgICAgIG93blByb3BzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSAmJiBrZXlzKGl0ZXJhYmxlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG93blByb3BzID8gb3duUHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytvd25JbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGluZGV4ID0gb3duUHJvcHNbb3duSW5kZXhdO1xuICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBjYWxsYmFjayA/IGNhbGxiYWNrKHJlc3VsdFtpbmRleF0sIGl0ZXJhYmxlW2luZGV4XSkgOiBpdGVyYWJsZVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHZhbHVlYC4gSWYgYGlzRGVlcGAgaXMgYHRydWVgIG5lc3RlZCBvYmplY3RzIHdpbGwgYWxzb1xuICAgICAqIGJlIGNsb25lZCwgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSBhc3NpZ25lZCBieSByZWZlcmVuY2UuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZXMuIElmIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGAgY2xvbmluZyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcD1mYWxzZV0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKGNoYXJhY3RlcnMpO1xuICAgICAqIHNoYWxsb3dbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lKGNoYXJhY3RlcnMsIHRydWUpO1xuICAgICAqIGRlZXBbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubWl4aW4oe1xuICAgICAqICAgJ2Nsb25lJzogXy5wYXJ0aWFsUmlnaHQoXy5jbG9uZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICAgcmV0dXJuIF8uaXNFbGVtZW50KHZhbHVlKSA/IHZhbHVlLmNsb25lTm9kZShmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICogICB9KVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNsb25lID0gXy5jbG9uZShkb2N1bWVudC5ib2R5KTtcbiAgICAgKiBjbG9uZS5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMgd2l0aG91dCB1c2luZyB0aGVpciBgaW5kZXhgXG4gICAgICAvLyBhbmQgYGNvbGxlY3Rpb25gIGFyZ3VtZW50cyBmb3IgYGlzRGVlcGAgYW5kIGBjYWxsYmFja2BcbiAgICAgIGlmICh0eXBlb2YgaXNEZWVwICE9ICdib29sZWFuJyAmJiBpc0RlZXAgIT0gbnVsbCkge1xuICAgICAgICB0aGlzQXJnID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrID0gaXNEZWVwO1xuICAgICAgICBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgJiYgYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlZXAgY2xvbmUgb2YgYHZhbHVlYC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlXG4gICAgICogZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlcy4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBjbG9uaW5nIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlIHN0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtLiBGdW5jdGlvbnNcbiAgICAgKiBhbmQgRE9NIG5vZGVzIGFyZSAqKm5vdCoqIGNsb25lZC4gVGhlIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFuZFxuICAgICAqIG9iamVjdHMgY3JlYXRlZCBieSBjb25zdHJ1Y3RvcnMgb3RoZXIgdGhhbiBgT2JqZWN0YCBhcmUgY2xvbmVkIHRvIHBsYWluIGBPYmplY3RgIG9iamVjdHMuXG4gICAgICogU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjaW50ZXJuYWwtc3RydWN0dXJlZC1jbG9uaW5nLWFsZ29yaXRobS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAoY2hhcmFjdGVycyk7XG4gICAgICogZGVlcFswXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnbm9kZSc6IGVsZW1lbnRcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGNsb25lID0gXy5jbG9uZURlZXAodmlldywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzRWxlbWVudCh2YWx1ZSkgPyB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSkgOiB1bmRlZmluZWQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjbG9uZS5ub2RlID09IHZpZXcubm9kZTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIHRydWUsIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nICYmIGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBwcm92aWRlZCBpdHMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgYXNzaWduZWRcbiAgICAgKiB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwgeyAnY29uc3RydWN0b3InOiBDaXJjbGUgfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA/IGFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0KHMpIHRvIHRoZSBkZXN0aW5hdGlvblxuICAgICAqIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBPbmNlIGFcbiAgICAgKiBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgZGVmYXVsdHMgb2YgdGhlIHNhbWUgcHJvcGVydHkgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBBbGxvd3Mgd29ya2luZyB3aXRoIGBfLnJlZHVjZWAgd2l0aG91dCB1c2luZyBpdHNcbiAgICAgKiAgYGtleWAgYW5kIGBvYmplY3RgIGFyZ3VtZW50cyBhcyBzb3VyY2VzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnYmFybmV5JyB9O1xuICAgICAqIF8uZGVmYXVsdHMob2JqZWN0LCB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIGd1YXJkKSB7XG4gICAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gb2JqZWN0LCByZXN1bHQgPSBpdGVyYWJsZTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBhcmdzSW5kZXggPSAwLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSB0eXBlb2YgZ3VhcmQgPT0gJ251bWJlcicgPyAyIDogYXJncy5sZW5ndGg7XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhYmxlID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICBpZiAoaXRlcmFibGUgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkge1xuICAgICAgICB2YXIgb3duSW5kZXggPSAtMSxcbiAgICAgICAgICAgIG93blByb3BzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSAmJiBrZXlzKGl0ZXJhYmxlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG93blByb3BzID8gb3duUHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytvd25JbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGluZGV4ID0gb3duUHJvcHNbb3duSW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0W2luZGV4XSA9PSAndW5kZWZpbmVkJykgcmVzdWx0W2luZGV4XSA9IGl0ZXJhYmxlW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudCB0aGF0IHBhc3NlcyB0aGUgY2FsbGJhY2sgY2hlY2ssIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyXG4gICAgICogIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG9cbiAgICAgKiAgY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiB7ICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgICdmcmVkJzogeyAgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleShjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgNDA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRLZXkoY2hhcmFjdGVycywgeyAnYWdlJzogMSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEtleShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXJcbiAgICAgKiAgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0b1xuICAgICAqICBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6IHsgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6IHsgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zIGBwZWJibGVzYCwgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyBgYmFybmV5YFxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEtleShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiA0MCB9KTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RLZXkoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgZm9yT3duUmlnaHQob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LFxuICAgICAqIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBrZXksIG9iamVjdCkuIENhbGxiYWNrcyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBTaGFwZS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHRoaXMueCArPSB4O1xuICAgICAqICAgdGhpcy55ICs9IHk7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IFNoYXBlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ3gnLCAneScsIGFuZCAnbW92ZScgKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgdmFyIGZvckluID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBjb2xsZWN0aW9uLCByZXN1bHQgPSBpdGVyYWJsZTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICBpZiAoIW9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHJldHVybiByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICBmb3IgKGluZGV4IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogU2hhcGUucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICB0aGlzLnggKz0geDtcbiAgICAgKiAgIHRoaXMueSArPSB5O1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IFNoYXBlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ21vdmUnLCAneScsIGFuZCAneCcgYXNzdW1pbmcgYF8uZm9ySW4gYCBsb2dzICd4JywgJ3knLCBhbmQgJ21vdmUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcGFpcnMgPSBbXTtcblxuICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHBhaXJzLnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHBhaXJzLmxlbmd0aDtcbiAgICAgIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2socGFpcnNbbGVuZ3RoLS1dLCBwYWlyc1tsZW5ndGhdLCBvYmplY3QpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QsIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2tcbiAgICAgKiBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGtleSwgb2JqZWN0KS4gQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieVxuICAgICAqIGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvck93bih7ICcwJzogJ3plcm8nLCAnMSc6ICdvbmUnLCAnbGVuZ3RoJzogMiB9LCBmdW5jdGlvbihudW0sIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICcwJywgJzEnLCBhbmQgJ2xlbmd0aCcgKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgdmFyIGZvck93biA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gY29sbGVjdGlvbiwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgaWYgKCFvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSByZXR1cm4gcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgdmFyIG93bkluZGV4ID0gLTEsXG4gICAgICAgICAgICBvd25Qcm9wcyA9IG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0gJiYga2V5cyhpdGVyYWJsZSksXG4gICAgICAgICAgICBsZW5ndGggPSBvd25Qcm9wcyA/IG93blByb3BzLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgd2hpbGUgKCsrb3duSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpbmRleCA9IG93blByb3BzW293bkluZGV4XTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQoeyAnMCc6ICd6ZXJvJywgJzEnOiAnb25lJywgJ2xlbmd0aCc6IDIgfSwgZnVuY3Rpb24obnVtLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnbGVuZ3RoJywgJzEnLCBhbmQgJzAnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnMCcsICcxJywgYW5kICdsZW5ndGgnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdO1xuICAgICAgICBpZiAoY2FsbGJhY2sob2JqZWN0W2tleV0sIGtleSwgb2JqZWN0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc29ydGVkIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIG9mIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMsXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQsIG9mIGBvYmplY3RgIHRoYXQgaGF2ZSBmdW5jdGlvbiB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgbWV0aG9kc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIHRoYXQgaGF2ZSBmdW5jdGlvbiB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKF8pO1xuICAgICAqIC8vID0+IFsnYWxsJywgJ2FueScsICdiaW5kJywgJ2JpbmRBbGwnLCAnY2xvbmUnLCAnY29tcGFjdCcsICdjb21wb3NlJywgLi4uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG5hbWUgZXhpc3RzIGFzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLFxuICAgICAqIGluc3RlYWQgb2YgYW4gaW5oZXJpdGVkIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYga2V5IGlzIGEgZGlyZWN0IHByb3BlcnR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGFzKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCAnYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPyBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjcmVhdGVkIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZlcnQoeyAnZmlyc3QnOiAnZnJlZCcsICdzZWNvbmQnOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogJ2ZpcnN0JywgJ2Jhcm5leSc6ICdzZWNvbmQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnQob2JqZWN0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBwcm9wcyA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtvYmplY3Rba2V5XV0gPSBrZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgYm9vbGVhbiB2YWx1ZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYm9vbENsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZGF0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgZGF0ZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBkYXRlQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm5vZGVUeXBlID09PSAxIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGVtcHR5LiBBcnJheXMsIHN0cmluZ3MsIG9yIGBhcmd1bWVudHNgIG9iamVjdHMgd2l0aCBhXG4gICAgICogbGVuZ3RoIG9mIGAwYCBhbmQgb2JqZWN0cyB3aXRoIG5vIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYXJlIGNvbnNpZGVyZWRcbiAgICAgKiBcImVtcHR5XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgnJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwodmFsdWUpLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcblxuICAgICAgaWYgKChjbGFzc05hbWUgPT0gYXJyYXlDbGFzcyB8fCBjbGFzc05hbWUgPT0gc3RyaW5nQ2xhc3MgfHwgY2xhc3NOYW1lID09IGFyZ3NDbGFzcyApIHx8XG4gICAgICAgICAgKGNsYXNzTmFtZSA9PSBvYmplY3RDbGFzcyAmJiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGlzRnVuY3Rpb24odmFsdWUuc3BsaWNlKSkpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3JPd24odmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHJlc3VsdCA9IGZhbHNlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudCB0byBlYWNoIG90aGVyLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgKiB0byBjb21wYXJlIHZhbHVlcy4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGAgY29tcGFyaXNvbnMgd2lsbFxuICAgICAqIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOyAoYSwgYikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gYSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IGIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiB2YXIgY29weSA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PSBjb3B5O1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBjb3B5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgd29yZHMgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXJXb3JkcyA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKHdvcmRzLCBvdGhlcldvcmRzLCBmdW5jdGlvbihhLCBiKSB7XG4gICAgICogICB2YXIgcmVHcmVldCA9IC9eKD86aGVsbG98aGkpJC9pLFxuICAgICAqICAgICAgIGFHcmVldCA9IF8uaXNTdHJpbmcoYSkgJiYgcmVHcmVldC50ZXN0KGEpLFxuICAgICAqICAgICAgIGJHcmVldCA9IF8uaXNTdHJpbmcoYikgJiYgcmVHcmVldC50ZXN0KGIpO1xuICAgICAqXG4gICAgICogICByZXR1cm4gKGFHcmVldCB8fCBiR3JlZXQpID8gKGFHcmVldCA9PSBiR3JlZXQpIDogdW5kZWZpbmVkO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKGEsIGIsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwoYSwgYiwgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgJiYgYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMsIG9yIGNhbiBiZSBjb2VyY2VkIHRvLCBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBuYXRpdmUgYGlzRmluaXRlYCB3aGljaCB3aWxsIHJldHVybiB0cnVlIGZvclxuICAgICAqIGJvb2xlYW5zIGFuZCBlbXB0eSBzdHJpbmdzLiBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuNS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGZpbml0ZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKC0xMDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzEwJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSh0cnVlKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSkgJiYgIW5hdGl2ZUlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3QuXG4gICAgICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgLy8gY2hlY2sgaWYgdGhlIHZhbHVlIGlzIHRoZSBFQ01BU2NyaXB0IGxhbmd1YWdlIHR5cGUgb2YgT2JqZWN0XG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDhcbiAgICAgIC8vIGFuZCBhdm9pZCBhIFY4IGJ1Z1xuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MVxuICAgICAgcmV0dXJuICEhKHZhbHVlICYmIG9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgbmF0aXZlIGBpc05hTmAgd2hpY2ggd2lsbCByZXR1cm4gYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtZXJpYyB2YWx1ZXMuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi40LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBgTmFOYCBhcyBhIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGZcbiAgICAgIC8vIChwZXJmb3JtIHRoZSBbW0NsYXNzXV0gY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZSBob3N0IG9iamVjdHMgaW4gSUUpXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogTm90ZTogYE5hTmAgaXMgY29uc2lkZXJlZCBhIG51bWJlci4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4OC41LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcig4LjQgKiA1KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG51bWJlckNsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IFNoYXBlKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgaXNQbGFpbk9iamVjdCA9ICFnZXRQcm90b3R5cGVPZiA/IHNoaW1Jc1BsYWluT2JqZWN0IDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghKHZhbHVlICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG9iamVjdENsYXNzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YsXG4gICAgICAgICAgb2JqUHJvdG8gPSBpc05hdGl2ZSh2YWx1ZU9mKSAmJiAob2JqUHJvdG8gPSBnZXRQcm90b3R5cGVPZih2YWx1ZU9mKSkgJiYgZ2V0UHJvdG90eXBlT2Yob2JqUHJvdG8pO1xuXG4gICAgICByZXR1cm4gb2JqUHJvdG9cbiAgICAgICAgPyAodmFsdWUgPT0gb2JqUHJvdG8gfHwgZ2V0UHJvdG90eXBlT2YodmFsdWUpID09IG9ialByb3RvKVxuICAgICAgICA6IHNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9mcmVkLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IHJlZ2V4cENsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnZnJlZCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3RyaW5nQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZCBieVxuICAgICAqIHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJvdWdoIHRoZSBjYWxsYmFjay5cbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggdmFsdWVzIG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggYGNhbGxiYWNrYCBleGVjdXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogM30gLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAzLCAnYic6IDYsICdjJzogOSB9XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IHtcbiAgICAgKiAgICdmcmVkJzogeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5tYXBWYWx1ZXMoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICBmb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHRoZSBzb3VyY2Ugb2JqZWN0KHMpLCB0aGF0XG4gICAgICogZG9uJ3QgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBpbnRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIFN1YnNlcXVlbnQgc291cmNlc1xuICAgICAqIHdpbGwgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuIElmIGEgY2FsbGJhY2sgaXNcbiAgICAgKiBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uXG4gICAgICogYW5kIHNvdXJjZSBwcm9wZXJ0aWVzLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYCBtZXJnaW5nIHdpbGxcbiAgICAgKiBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czsgKG9iamVjdFZhbHVlLCBzb3VyY2VWYWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnaW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbmFtZXMgPSB7XG4gICAgICogICAnY2hhcmFjdGVycyc6IFtcbiAgICAgKiAgICAgeyAnbmFtZSc6ICdiYXJuZXknIH0sXG4gICAgICogICAgIHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYWdlcyA9IHtcbiAgICAgKiAgICdjaGFyYWN0ZXJzJzogW1xuICAgICAqICAgICB7ICdhZ2UnOiAzNiB9LFxuICAgICAqICAgICB7ICdhZ2UnOiA0MCB9XG4gICAgICogICBdXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2UobmFtZXMsIGFnZXMpO1xuICAgICAqIC8vID0+IHsgJ2NoYXJhY3RlcnMnOiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSwgeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH1dIH1cbiAgICAgKlxuICAgICAqIHZhciBmb29kID0ge1xuICAgICAqICAgJ2ZydWl0cyc6IFsnYXBwbGUnXSxcbiAgICAgKiAgICd2ZWdldGFibGVzJzogWydiZWV0J11cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyRm9vZCA9IHtcbiAgICAgKiAgICdmcnVpdHMnOiBbJ2JhbmFuYSddLFxuICAgICAqICAgJ3ZlZ2V0YWJsZXMnOiBbJ2NhcnJvdCddXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2UoZm9vZCwgb3RoZXJGb29kLCBmdW5jdGlvbihhLCBiKSB7XG4gICAgICogICByZXR1cm4gXy5pc0FycmF5KGEpID8gYS5jb25jYXQoYikgOiB1bmRlZmluZWQ7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZnJ1aXRzJzogWydhcHBsZScsICdiYW5hbmEnXSwgJ3ZlZ2V0YWJsZXMnOiBbJ2JlZXQnLCAnY2Fycm90XSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2Uob2JqZWN0KSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBsZW5ndGggPSAyO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgIHdpdGhvdXQgdXNpbmdcbiAgICAgIC8vIHRoZWlyIGBpbmRleGAgYW5kIGBjb2xsZWN0aW9uYCBhcmd1bWVudHNcbiAgICAgIGlmICh0eXBlb2YgYXJnc1syXSAhPSAnbnVtYmVyJykge1xuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPiAzICYmIHR5cGVvZiBhcmdzW2xlbmd0aCAtIDJdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGFyZ3NbLS1sZW5ndGggLSAxXSwgYXJnc1tsZW5ndGgtLV0sIDIpO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIHR5cGVvZiBhcmdzW2xlbmd0aCAtIDFdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBhcmdzWy0tbGVuZ3RoXTtcbiAgICAgIH1cbiAgICAgIHZhciBzb3VyY2VzID0gc2xpY2UoYXJndW1lbnRzLCAxLCBsZW5ndGgpLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgc3RhY2tBID0gZ2V0QXJyYXkoKSxcbiAgICAgICAgICBzdGFja0IgPSBnZXRBcnJheSgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2VzW2luZGV4XSwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKTtcbiAgICAgIH1cbiAgICAgIHJlbGVhc2VBcnJheShzdGFja0EpO1xuICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQik7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGBvYmplY3RgIGV4Y2x1ZGluZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICogUHJvcGVydHkgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXMgb2ZcbiAgICAgKiBwcm9wZXJ0eSBuYW1lcy4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoXG4gICAgICogcHJvcGVydHkgb2YgYG9iamVjdGAgb21pdHRpbmcgdGhlIHByb3BlcnRpZXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXlcbiAgICAgKiBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnwuLi5zdHJpbmd8c3RyaW5nW119IFtjYWxsYmFja10gVGhlIHByb3BlcnRpZXMgdG8gb21pdCBvciB0aGVcbiAgICAgKiAgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aG91dCB0aGUgb21pdHRlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm9taXQoeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKlxuICAgICAqIF8ub21pdCh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcic7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdChvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHByb3BzID0gW107XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHByb3BzLnB1c2goa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByb3BzID0gYmFzZURpZmZlcmVuY2UocHJvcHMsIGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgZmFsc2UsIDEpKTtcblxuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICAgIGlmICghY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdHdvIGRpbWVuc2lvbmFsIGFycmF5IG9mIGFuIG9iamVjdCdzIGtleS12YWx1ZSBwYWlycyxcbiAgICAgKiBpLmUuIGBbW2tleTEsIHZhbHVlMV0sIFtrZXkyLCB2YWx1ZTJdXWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBuZXcgYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhaXJzKHsgJ2Jhcm5leSc6IDM2LCAnZnJlZCc6IDQwIH0pO1xuICAgICAqIC8vID0+IFtbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdXSAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWlycyhvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgb2JqZWN0YCBjb21wb3NlZCBvZiB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gICAgICogUHJvcGVydHkgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXMgb2ZcbiAgICAgKiBwcm9wZXJ0eSBuYW1lcy4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoXG4gICAgICogcHJvcGVydHkgb2YgYG9iamVjdGAgcGlja2luZyB0aGUgcHJvcGVydGllcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleVxuICAgICAqIGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufC4uLnN0cmluZ3xzdHJpbmdbXX0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgICAqICBpdGVyYXRpb24gb3IgcHJvcGVydHkgbmFtZXMgdG8gcGljaywgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgcHJvcGVydHlcbiAgICAgKiAgbmFtZXMgb3IgYXJyYXlzIG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5waWNrKHsgJ25hbWUnOiAnZnJlZCcsICdfdXNlcmlkJzogJ2ZyZWQxJyB9LCAnbmFtZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqXG4gICAgICogXy5waWNrKHsgJ25hbWUnOiAnZnJlZCcsICdfdXNlcmlkJzogJ2ZyZWQxJyB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5LmNoYXJBdCgwKSAhPSAnXyc7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGljayhvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBwcm9wcyA9IGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgZmFsc2UsIDEpLFxuICAgICAgICAgICAgbGVuZ3RoID0gaXNPYmplY3Qob2JqZWN0KSA/IHByb3BzLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWAgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgdGhyb3VnaCBhIGNhbGxiYWNrLCB3aXRoIGVhY2ggY2FsbGJhY2sgZXhlY3V0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG9cbiAgICAgKiBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czsgKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIENhbGxiYWNrcyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzcXVhcmVzID0gXy50cmFuc2Zvcm0oWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXSwgZnVuY3Rpb24ocmVzdWx0LCBudW0pIHtcbiAgICAgKiAgIG51bSAqPSBudW07XG4gICAgICogICBpZiAobnVtICUgMikge1xuICAgICAqICAgICByZXR1cm4gcmVzdWx0LnB1c2gobnVtKSA8IDM7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzEsIDksIDI1XVxuICAgICAqXG4gICAgICogdmFyIG1hcHBlZCA9IF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCBmdW5jdGlvbihyZXN1bHQsIG51bSwga2V5KSB7XG4gICAgICogICByZXN1bHRba2V5XSA9IG51bSAqIDM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBjYWxsYmFjaywgYWNjdW11bGF0b3IsIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc0Fycikge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgICBwcm90byA9IGN0b3IgJiYgY3Rvci5wcm90b3R5cGU7XG5cbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGJhc2VDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDQpO1xuICAgICAgICAoaXNBcnIgPyBmb3JFYWNoIDogZm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY29tcG9zZWQgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gb2JqZWN0W3Byb3BzW2luZGV4XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXhlcywgb3Iga2V5cywgb2YgdGhlXG4gICAgICogYGNvbGxlY3Rpb25gLiBJbmRleGVzIG1heSBiZSBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMgb3IgYXMgYXJyYXlzXG4gICAgICogb2YgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdfHN0cmluZ3xzdHJpbmdbXSl9IFtpbmRleF0gVGhlIGluZGV4ZXMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogICB0byByZXRyaWV2ZSwgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgaW5kZXhlcyBvciBhcnJheXMgb2YgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGVcbiAgICAgKiAgcHJvdmlkZWQgaW5kZXhlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hdChbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddLCBbMCwgMiwgNF0pO1xuICAgICAqIC8vID0+IFsnYScsICdjJywgJ2UnXVxuICAgICAqXG4gICAgICogXy5hdChbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXSwgMCwgMik7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGF0KGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBiYXNlRmxhdHRlbihhcmdzLCB0cnVlLCBmYWxzZSwgMSksXG4gICAgICAgICAgbGVuZ3RoID0gKGFyZ3NbMl0gJiYgYXJnc1syXVthcmdzWzFdXSA9PT0gY29sbGVjdGlvbikgPyAxIDogcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNvbGxlY3Rpb25bcHJvcHNbaW5kZXhdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgcHJlc2VudCBpbiBhIGNvbGxlY3Rpb24gdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gICAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQgaXMgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGluY2x1ZGVcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBjaGVjayBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHRhcmdldGAgZWxlbWVudCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb250YWlucyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCAnZnJlZCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoJ3BlYmJsZXMnLCAnZWInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgbGVuZ3RoICsgZnJvbUluZGV4KSA6IGZyb21JbmRleCkgfHwgMDtcbiAgICAgIGlmIChpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGluZGV4T2YoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpID4gLTE7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmVzdWx0ID0gKGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbi5pbmRleE9mKHRhcmdldCwgZnJvbUluZGV4KSA6IGluZGV4T2YoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpKSA+IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCsraW5kZXggPj0gZnJvbUluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gIShyZXN1bHQgPSB2YWx1ZSA9PT0gdGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZVxuICAgICAqIG9mIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs0LjMsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBNYXRoLmZsb29yKG51bSk7IH0pO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs0LjMsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLmZsb29yKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpID8gcmVzdWx0W2tleV0rKyA6IHJlc3VsdFtrZXldID0gMSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgdmFsdWUgZm9yICoqYWxsKiogZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgYWxsXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZXZlcnkoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZXZlcnkoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gISFjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSAhIWNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleSBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgc2VsZWN0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IHBhc3NlZCB0aGUgY2FsbGJhY2sgY2hlY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBldmVucyA9IF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gJSAyID09IDA7IH0pO1xuICAgICAqIC8vID0+IFsyLCA0LCA2XVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0XG4gICAgICogdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGRldGVjdCwgZmluZFdoZXJlXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgNDA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDEgfSk7XG4gICAgICogLy8gPT4gIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxLCAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uLCBleGVjdXRpbmcgdGhlIGNhbGxiYWNrIGZvciBlYWNoXG4gICAgICogZWxlbWVudC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuIENhbGxiYWNrcyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnlcbiAgICAgKiBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogTm90ZTogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgYGxlbmd0aGAgcHJvcGVydHlcbiAgICAgKiBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgYF8uZm9ySW5gIG9yIGBfLmZvck93bmBcbiAgICAgKiBtYXkgYmUgdXNlZCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fHN0cmluZ30gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS5mb3JFYWNoKGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KS5qb2luKCcsJyk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBhbmQgcmV0dXJucyAnMSwyLDMnXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSwgZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pO1xuICAgICAqIC8vID0+IGxvZ3MgZWFjaCBudW1iZXIgYW5kIHJldHVybnMgdGhlIG9iamVjdCAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLmZvckVhY2hSaWdodChmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSkuam9pbignLCcpO1xuICAgICAqIC8vID0+IGxvZ3MgZWFjaCBudW1iZXIgZnJvbSByaWdodCB0byBsZWZ0IGFuZCByZXR1cm5zICczLDIsMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayhjb2xsZWN0aW9uW2xlbmd0aF0sIGxlbmd0aCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBrZXkgPSBwcm9wcyA/IHByb3BzWy0tbGVuZ3RoXSA6IC0tbGVuZ3RoO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhjb2xsZWN0aW9uW2tleV0sIGtleSwgY29sbGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGEgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVcbiAgICAgKiBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiB0aGUgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS5cbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs0LjIsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBNYXRoLmZsb29yKG51bSk7IH0pO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjRdIH1cbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNC4yLCA2LjEsIDYuNF0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5mbG9vcihudW0pOyB9LCBNYXRoKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi40XSB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSA6IHJlc3VsdFtrZXldID0gW10pLnB1c2godmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGdpdmVuIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS5cbiAgICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBrZXlzID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uaW5kZXhCeShrZXlzLCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8uaW5kZXhCeShrZXlzLCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5LmNvZGUpOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmluZGV4QnkoY2hhcmFjdGVycywgZnVuY3Rpb24oa2V5KSB7IHRoaXMuZnJvbUNoYXJDb2RlKGtleS5jb2RlKTsgfSwgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGluZGV4QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBuYW1lZCBieSBgbWV0aG9kTmFtZWAgb24gZWFjaCBlbGVtZW50IGluIHRoZSBgY29sbGVjdGlvbmBcbiAgICAgKiByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiB3aWxsIGJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBtZXRob2ROYW1lYCBpcyBhIGZ1bmN0aW9uIGl0XG4gICAgICogd2lsbCBiZSBpbnZva2VkIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIHRoZSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2UoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZShbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludm9rZShjb2xsZWN0aW9uLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMiksXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgbWV0aG9kTmFtZSA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IChpc0Z1bmMgPyBtZXRob2ROYW1lIDogdmFsdWVbbWV0aG9kTmFtZV0pLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiB0aGUgY29sbGVjdGlvblxuICAgICAqIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGNvbGxlY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggYGNhbGxiYWNrYCBleGVjdXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gKiAzOyB9KTtcbiAgICAgKiAvLyA9PiBbMywgNiwgOV1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAgICogLy8gPT4gWzMsIDYsIDldIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcChjaGFyYWN0ZXJzLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGEgY29sbGVjdGlvbi4gSWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3JcbiAgICAgKiBmYWxzZXkgYC1JbmZpbml0eWAgaXMgcmV0dXJuZWQuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgICAqIGZvciBlYWNoIHZhbHVlIGluIHRoZSBjb2xsZWN0aW9uIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2ggdGhlIHZhbHVlXG4gICAgICogaXMgcmFua2VkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1heChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9O1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5tYXgoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGNvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IGNvbXB1dGVkO1xuXG4gICAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhcmd1bWVudCBhcyBhIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2NhbGxiYWNrXSA9PT0gY29sbGVjdGlvbikge1xuICAgICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAodmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgPSAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc1N0cmluZyhjb2xsZWN0aW9uKSlcbiAgICAgICAgICA/IGNoYXJBdENhbGxiYWNrXG4gICAgICAgICAgOiBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICAgIGlmIChjdXJyZW50ID4gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkID0gY3VycmVudDtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBhIGNvbGxlY3Rpb24uIElmIHRoZSBjb2xsZWN0aW9uIGlzIGVtcHR5IG9yXG4gICAgICogZmFsc2V5IGBJbmZpbml0eWAgaXMgcmV0dXJuZWQuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgICAqIGZvciBlYWNoIHZhbHVlIGluIHRoZSBjb2xsZWN0aW9uIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2ggdGhlIHZhbHVlXG4gICAgICogaXMgcmFua2VkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1pbihjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1pbihjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW4oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBjb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IGNvbXB1dGVkO1xuXG4gICAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhcmd1bWVudCBhcyBhIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2NhbGxiYWNrXSA9PT0gY29sbGVjdGlvbikge1xuICAgICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAodmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgPSAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc1N0cmluZyhjb2xsZWN0aW9uKSlcbiAgICAgICAgICA/IGNoYXJBdENhbGxiYWNrXG4gICAgICAgICAgOiBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICAgIGlmIChjdXJyZW50IDwgY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkID0gY3VycmVudDtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgcHJvcGVydHkgZnJvbSBhbGwgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBwbHVjay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGx1Y2soY2hhcmFjdGVycywgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICB2YXIgcGx1Y2sgPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGEgY29sbGVjdGlvbiB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiB0aGUgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBjYWxsYmFjaywgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogY2FsbGJhY2sgZXhlY3V0aW9uIGNvbnN1bWVzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzIGV4ZWN1dGlvbi4gSWZcbiAgICAgKiBgYWNjdW11bGF0b3JgIGlzIG5vdCBwcm92aWRlZCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvbiB3aWxsIGJlXG4gICAgICogdXNlZCBhcyB0aGUgaW5pdGlhbCBgYWNjdW11bGF0b3JgIHZhbHVlLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgXG4gICAgICogYW5kIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czsgKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBmb2xkbCwgaW5qZWN0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gSW5pdGlhbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc3VtID0gXy5yZWR1Y2UoWzEsIDIsIDNdLCBmdW5jdGlvbihzdW0sIG51bSkge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG51bTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiB2YXIgbWFwcGVkID0gXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIGZ1bmN0aW9uKHJlc3VsdCwgbnVtLCBrZXkpIHtcbiAgICAgKiAgIHJlc3VsdFtrZXldID0gbnVtICogMztcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAzLCAnYic6IDYsICdjJzogOSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCBhY2N1bXVsYXRvciwgdGhpc0FyZykge1xuICAgICAgaWYgKCFjb2xsZWN0aW9uKSByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICB2YXIgbm9hY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDQpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKG5vYWNjdW0pIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGNvbGxlY3Rpb25bKytpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCBjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBub2FjY3VtXG4gICAgICAgICAgICA/IChub2FjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBmb2xkclxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIEluaXRpYWwgdmFsdWUgb2YgdGhlIGFjY3VtdWxhdG9yLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxpc3QgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICogdmFyIGZsYXQgPSBfLnJlZHVjZVJpZ2h0KGxpc3QsIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbm9hY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDQpO1xuICAgICAgZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBhY2N1bXVsYXRvciA9IG5vYWNjdW1cbiAgICAgICAgICA/IChub2FjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICAgIDogY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYCB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBhXG4gICAgICogY29sbGVjdGlvbiB0aGF0IHRoZSBjYWxsYmFjayBkb2VzICoqbm90KiogcmV0dXJuIHRydWV5IGZvci5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGZhaWxlZCB0aGUgY2FsbGJhY2sgY2hlY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvZGRzID0gXy5yZWplY3QoWzEsIDIsIDMsIDQsIDUsIDZdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5yZWplY3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucmVqZWN0KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgcmV0dXJuIGZpbHRlcihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICFjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcmFuZG9tIGVsZW1lbnQgb3IgYG5gIHJhbmRvbSBlbGVtZW50cyBmcm9tIGEgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gQWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgXG4gICAgICogIHdpdGhvdXQgdXNpbmcgdGhlaXIgYGluZGV4YCBhcmd1bWVudHMgYXMgYG5gLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIHNhbXBsZShzKSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCAhPSAnbnVtYmVyJykge1xuICAgICAgICBjb2xsZWN0aW9uID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgfVxuICAgICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb25bYmFzZVJhbmRvbSgwLCBjb2xsZWN0aW9uLmxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBzaHVmZmxlKGNvbGxlY3Rpb24pO1xuICAgICAgcmVzdWx0Lmxlbmd0aCA9IG5hdGl2ZU1pbihuYXRpdmVNYXgoMCwgbiksIHJlc3VsdC5sZW5ndGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZSBGaXNoZXItWWF0ZXNcbiAgICAgKiBzaHVmZmxlLiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBzaHVmZmxlZCBjb2xsZWN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDQsIDUsIDZdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgNiwgMywgNSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbSgwLCArK2luZGV4KTtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHJlc3VsdFtyYW5kXTtcbiAgICAgICAgcmVzdWx0W3JhbmRdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiB0aGUgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBgY29sbGVjdGlvbi5sZW5ndGhgIGZvciBhcnJheXNcbiAgICAgKiBhbmQgYXJyYXktbGlrZSBvYmplY3RzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYGNvbGxlY3Rpb24ubGVuZ3RoYCBvciBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiBrZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnVleSB2YWx1ZSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGFcbiAgICAgKiBjb2xsZWN0aW9uLiBUaGUgZnVuY3Rpb24gcmV0dXJucyBhcyBzb29uIGFzIGl0IGZpbmRzIGEgcGFzc2luZyB2YWx1ZSBhbmRcbiAgICAgKiBkb2VzIG5vdCBpdGVyYXRlIG92ZXIgdGhlIGVudGlyZSBjb2xsZWN0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG9cbiAgICAgKiBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGFueVxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnNvbWUoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnNvbWUoY2hhcmFjdGVycywgeyAnYWdlJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKChyZXN1bHQgPSBjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuICEocmVzdWx0ID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgd2lsbCBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc29ydCBvcmRlclxuICAgICAqIG9mIGVxdWFsIGVsZW1lbnRzLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjb2xsZWN0aW9uXG4gICAgICogd2lsbCBiZSBzb3J0ZWQgYnkgZWFjaCBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBzb3J0ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBNYXRoLnNpbihudW0pOyB9KTtcbiAgICAgKiAvLyA9PiBbMywgMSwgMl1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLnNpbihudW0pOyB9LCBNYXRoKTtcbiAgICAgKiAvLyA9PiBbMywgMSwgMl1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAyNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDMwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5tYXAoXy5zb3J0QnkoY2hhcmFjdGVycywgJ2FnZScpLCBfLnZhbHVlcyk7XG4gICAgICogLy8gPT4gW1snYmFybmV5JywgMjZdLCBbJ2ZyZWQnLCAzMF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICpcbiAgICAgKiAvLyBzb3J0aW5nIGJ5IG11bHRpcGxlIHByb3BlcnRpZXNcbiAgICAgKiBfLm1hcChfLnNvcnRCeShjaGFyYWN0ZXJzLCBbJ25hbWUnLCAnYWdlJ10pLCBfLnZhbHVlcyk7XG4gICAgICogLy8gPSA+IFtbJ2Jhcm5leScsIDI2XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRCeShjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGNhbGxiYWNrKSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB9XG4gICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHJlc3VsdFsrK2luZGV4XSA9IGdldE9iamVjdCgpO1xuICAgICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgICBvYmplY3QuY3JpdGVyaWEgPSBtYXAoY2FsbGJhY2ssIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKG9iamVjdC5jcml0ZXJpYSA9IGdldEFycmF5KCkpWzBdID0gY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LmluZGV4ID0gaW5kZXg7XG4gICAgICAgIG9iamVjdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSk7XG5cbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICByZXN1bHQuc29ydChjb21wYXJlQXNjZW5kaW5nKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gcmVzdWx0W2xlbmd0aF07XG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gb2JqZWN0LnZhbHVlO1xuICAgICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgICAgcmVsZWFzZUFycmF5KG9iamVjdC5jcml0ZXJpYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVsZWFzZU9iamVjdChvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgYGNvbGxlY3Rpb25gIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAoZnVuY3Rpb24oKSB7IHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTsgfSkoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiAmJiB0eXBlb2YgY29sbGVjdGlvbi5sZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHNsaWNlKGNvbGxlY3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBvZiBlYWNoIGVsZW1lbnQgaW4gYSBgY29sbGVjdGlvbmAgdG8gdGhlIGdpdmVuXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50cyB0aGF0IGhhdmUgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gZmlsdGVyIGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIGdpdmVuIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdwZXRzJzogWydob3BweSddIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ3BldHMnOiBbJ2JhYnkgcHVzcycsICdkaW5vJ10gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLndoZXJlKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ3BldHMnOiBbJ2hvcHB5J10gfV1cbiAgICAgKlxuICAgICAqIF8ud2hlcmUoY2hhcmFjdGVycywgeyAncGV0cyc6IFsnZGlubyddIH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1dXG4gICAgICovXG4gICAgdmFyIHdoZXJlID0gZmlsdGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGFsbCBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCB2YWx1ZXMgb2YgdGhlIHByb3ZpZGVkIGFycmF5cyB1c2luZyBzdHJpY3RcbiAgICAgKiBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIGFycmF5cyBvZiB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzEsIDIsIDMsIDQsIDVdLCBbNSwgMiwgMTBdKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCB0aGF0IHBhc3NlcyB0aGUgY2FsbGJhY2sgY2hlY2ssIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDIwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEluZGV4KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEluZGV4KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA+IDMwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb3IgZmlyc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhIGNhbGxiYWNrXG4gICAgICogaXMgcHJvdmlkZWQgZWxlbWVudHMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgYXJlIHJldHVybmVkIGFzIGxvbmdcbiAgICAgKiBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBoZWFkLCB0YWtlXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZXR1cm4uIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQocykgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uZmlyc3QoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlyc3QoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maXJzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLmZpcnN0KGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaXJzdChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKG4gPT0gbnVsbCB8fCB0aGlzQXJnKSB7XG4gICAgICAgICAgcmV0dXJuIGFycmF5ID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGljZShhcnJheSwgMCwgbmF0aXZlTWluKG5hdGl2ZU1heCgwLCBuKSwgbGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYSBuZXN0ZWQgYXJyYXkgKHRoZSBuZXN0aW5nIGNhbiBiZSB0byBhbnkgZGVwdGgpLiBJZiBgaXNTaGFsbG93YFxuICAgICAqIGlzIHRydWV5LCB0aGUgYXJyYXkgd2lsbCBvbmx5IGJlIGZsYXR0ZW5lZCBhIHNpbmdsZSBsZXZlbC4gSWYgYSBjYWxsYmFja1xuICAgICAqIGlzIHByb3ZpZGVkIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgcGFzc2VkIHRocm91Z2ggdGhlIGNhbGxiYWNrIGJlZm9yZVxuICAgICAqIGZsYXR0ZW5pbmcuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTaGFsbG93PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzJdLCBbMywgW1s0XV1dXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDRdO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMl0sIFszLCBbWzRdXV1dLCB0cnVlKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgW1s0XV1dO1xuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzMCwgJ3BldHMnOiBbJ2hvcHB5J10gfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmxhdHRlbihjaGFyYWN0ZXJzLCAncGV0cycpO1xuICAgICAqIC8vID0+IFsnaG9wcHknLCAnYmFieSBwdXNzJywgJ2Rpbm8nXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdywgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIC8vIGp1Z2dsZSBhcmd1bWVudHNcbiAgICAgIGlmICh0eXBlb2YgaXNTaGFsbG93ICE9ICdib29sZWFuJyAmJiBpc1NoYWxsb3cgIT0gbnVsbCkge1xuICAgICAgICB0aGlzQXJnID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrID0gKHR5cGVvZiBpc1NoYWxsb3cgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbaXNTaGFsbG93XSA9PT0gYXJyYXkpID8gbnVsbCA6IGlzU2hhbGxvdztcbiAgICAgICAgaXNTaGFsbG93ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICBhcnJheSA9IG1hcChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBpc1NoYWxsb3cpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgdXNpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiB0aGUgYXJyYXkgaXMgYWxyZWFkeSBzb3J0ZWRcbiAgICAgKiBwcm92aWRpbmcgYHRydWVgIGZvciBgZnJvbUluZGV4YCB3aWxsIHJ1biBhIGZhc3RlciBiaW5hcnkgc2VhcmNoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbSBvciBgdHJ1ZWBcbiAgICAgKiAgdG8gcGVyZm9ybSBhIGJpbmFyeSBzZWFyY2ggb24gYSBzb3J0ZWQgYXJyYXkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMiwgMyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAxLCAyLCAyLCAzLCAzXSwgMiwgdHJ1ZSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgZnJvbUluZGV4ID09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gICAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggPCAwID8gbmF0aXZlTWF4KDAsIGxlbmd0aCArIGZyb21JbmRleCkgOiBmcm9tSW5kZXggfHwgMCk7XG4gICAgICB9IGVsc2UgaWYgKGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaW5kZXggPSBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gYXJyYXlbaW5kZXhdID09PSB2YWx1ZSA/IGluZGV4IDogLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9yIGxhc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhXG4gICAgICogY2FsbGJhY2sgaXMgcHJvdmlkZWQgZWxlbWVudHMgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkgYXJlIGV4Y2x1ZGVkIGZyb21cbiAgICAgKiB0aGUgcmVzdWx0IGFzIGxvbmcgYXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZFxuICAgICAqIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFjaz0xXSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZXhjbHVkZS4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtID4gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiBmYWxzZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uaW5pdGlhbChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8uaW5pdGlhbChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSksICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgd2hpbGUgKGluZGV4LS0gJiYgY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gKGNhbGxiYWNrID09IG51bGwgfHwgdGhpc0FyZykgPyAxIDogY2FsbGJhY2sgfHwgbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGljZShhcnJheSwgMCwgbmF0aXZlTWluKG5hdGl2ZU1heCgwLCBsZW5ndGggLSBuKSwgbGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHByZXNlbnQgaW4gYWxsIHByb3ZpZGVkIGFycmF5cyB1c2luZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsxLCAyLCAzXSwgWzUsIDIsIDEsIDRdLCBbMiwgMV0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludGVyc2VjdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gW10sXG4gICAgICAgICAgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gZ2V0QXJyYXkoKSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIHRydXN0SW5kZXhPZiA9IGluZGV4T2YgPT09IGJhc2VJbmRleE9mLFxuICAgICAgICAgIHNlZW4gPSBnZXRBcnJheSgpO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1thcmdzSW5kZXhdO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSB7XG4gICAgICAgICAgYXJncy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBjYWNoZXMucHVzaCh0cnVzdEluZGV4T2YgJiYgdmFsdWUubGVuZ3RoID49IGxhcmdlQXJyYXlTaXplICYmXG4gICAgICAgICAgICBjcmVhdGVDYWNoZShhcmdzSW5kZXggPyBhcmdzW2FyZ3NJbmRleF0gOiBzZWVuKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBhcnJheSA9IGFyZ3NbMF0sXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzWzBdO1xuICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICBpZiAoKGNhY2hlID8gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkgOiBpbmRleE9mKHNlZW4sIHZhbHVlKSkgPCAwKSB7XG4gICAgICAgICAgYXJnc0luZGV4ID0gYXJnc0xlbmd0aDtcbiAgICAgICAgICAoY2FjaGUgfHwgc2VlbikucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgd2hpbGUgKC0tYXJnc0luZGV4KSB7XG4gICAgICAgICAgICBjYWNoZSA9IGNhY2hlc1thcmdzSW5kZXhdO1xuICAgICAgICAgICAgaWYgKChjYWNoZSA/IGNhY2hlSW5kZXhPZihjYWNoZSwgdmFsdWUpIDogaW5kZXhPZihhcmdzW2FyZ3NJbmRleF0sIHZhbHVlKSkgPCAwKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgY2FjaGUgPSBjYWNoZXNbYXJnc0xlbmd0aF07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIHJlbGVhc2VPYmplY3QoY2FjaGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWxlYXNlQXJyYXkoY2FjaGVzKTtcbiAgICAgIHJlbGVhc2VBcnJheShzZWVuKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9yIGxhc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhIGNhbGxiYWNrIGlzXG4gICAgICogcHJvdmlkZWQgZWxlbWVudHMgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkgYXJlIHJldHVybmVkIGFzIGxvbmcgYXMgdGhlXG4gICAgICogY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcmV0dXJuLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQocykgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPiAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLmxhc3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmxhc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnbmEnIH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoaW5kZXgtLSAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKG4gPT0gbnVsbCB8fCB0aGlzQXJnKSB7XG4gICAgICAgICAgcmV0dXJuIGFycmF5ID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGljZShhcnJheSwgbmF0aXZlTWF4KDAsIGxlbmd0aCAtIG4pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgbGFzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgdXNpbmcgc3RyaWN0XG4gICAgICogZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQgaXMgdXNlZFxuICAgICAqIGFzIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyLCAzKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBpbmRleCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgIGlmICh0eXBlb2YgZnJvbUluZGV4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgaW5kZXggKyBmcm9tSW5kZXgpIDogbmF0aXZlTWluKGZyb21JbmRleCwgaW5kZXggLSAxKSkgKyAxO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBwcm92aWRlZCB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5IGZvclxuICAgICAqIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgMSwgMiwgM107XG4gICAgICogXy5wdWxsKGFycmF5LCAyLCAzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbChhcnJheSkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgYXJnc0luZGV4ID0gMCxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleC0tLCAxKTtcbiAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tXG4gICAgICogYHN0YXJ0YCB1cCB0byBidXQgbm90IGluY2x1ZGluZyBgZW5kYC4gSWYgYHN0YXJ0YCBpcyBsZXNzIHRoYW4gYHN0b3BgIGFcbiAgICAgKiB6ZXJvLWxlbmd0aCByYW5nZSBpcyBjcmVhdGVkIHVubGVzcyBhIG5lZ2F0aXZlIGBzdGVwYCBpcyBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyByYW5nZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDRdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMCwgNSwgMTAsIDE1XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICBzdGFydCA9ICtzdGFydCB8fCAwO1xuICAgICAgc3RlcCA9IHR5cGVvZiBzdGVwID09ICdudW1iZXInID8gc3RlcCA6ICgrc3RlcCB8fCAxKTtcblxuICAgICAgaWYgKGVuZCA9PSBudWxsKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9XG4gICAgICAvLyB1c2UgYEFycmF5KGxlbmd0aClgIHNvIGVuZ2luZXMgbGlrZSBDaGFrcmEgYW5kIFY4IGF2b2lkIHNsb3dlciBtb2Rlc1xuICAgICAgLy8gaHR0cDovL3lvdXR1LmJlL1hBcUlwR1U4WlprI3Q9MTdtMjVzXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoMCwgY2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgdGhhdCB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgXG4gICAgICogYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDQsIDUsIDZdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDQsIDZdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgtLSwgMSk7XG4gICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmluaXRpYWxgIHRoaXMgbWV0aG9kIGdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvclxuICAgICAqIGZpcnN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZCBlbGVtZW50c1xuICAgICAqIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5IGFyZSBleGNsdWRlZCBmcm9tIHRoZSByZXN1bHQgYXMgbG9uZyBhcyB0aGVcbiAgICAgKiBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGRyb3AsIHRhaWxcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFjaz0xXSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZXhjbHVkZS4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmVzdChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5yZXN0KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtIDwgMztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2Jsb2NrZWQnOiBmYWxzZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5yZXN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyksICduYW1lJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5yZXN0KGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gKGNhbGxiYWNrID09IG51bGwgfHwgdGhpc0FyZykgPyAxIDogbmF0aXZlTWF4KDAsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGljZShhcnJheSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaCBhIHZhbHVlXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYSBnaXZlbiBzb3J0ZWQgYXJyYXkgaW4gb3JkZXIgdG8gbWFpbnRhaW4gdGhlIHNvcnRcbiAgICAgKiBvcmRlciBvZiB0aGUgYXJyYXkuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCBmb3JcbiAgICAgKiBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyIHNvcnQgcmFua2luZy4gVGhlXG4gICAgICogY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzIwLCAzMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5zb3J0ZWRJbmRleChbeyAneCc6IDIwIH0sIHsgJ3gnOiAzMCB9LCB7ICd4JzogNTAgfV0sIHsgJ3gnOiA0MCB9LCAneCcpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIHZhciBkaWN0ID0ge1xuICAgICAqICAgJ3dvcmRUb051bWJlcic6IHsgJ3R3ZW50eSc6IDIwLCAndGhpcnR5JzogMzAsICdmb3VydHknOiA0MCwgJ2ZpZnR5JzogNTAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFsndHdlbnR5JywgJ3RoaXJ0eScsICdmaWZ0eSddLCAnZm91cnR5JywgZnVuY3Rpb24od29yZCkge1xuICAgICAqICAgcmV0dXJuIGRpY3Qud29yZFRvTnVtYmVyW3dvcmRdO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWyd0d2VudHknLCAndGhpcnR5JywgJ2ZpZnR5J10sICdmb3VydHknLCBmdW5jdGlvbih3b3JkKSB7XG4gICAgICogICByZXR1cm4gdGhpcy53b3JkVG9OdW1iZXJbd29yZF07XG4gICAgICogfSwgZGljdCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IGxvdztcblxuICAgICAgLy8gZXhwbGljaXRseSByZWZlcmVuY2UgYGlkZW50aXR5YCBmb3IgYmV0dGVyIGlubGluaW5nIGluIEZpcmVmb3hcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPyBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpIDogaWRlbnRpdHk7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICAgICAgKGNhbGxiYWNrKGFycmF5W21pZF0pIDwgdmFsdWUpXG4gICAgICAgICAgPyBsb3cgPSBtaWQgKyAxXG4gICAgICAgICAgOiBoaWdoID0gbWlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxvdztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzIHVzaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsxLCAyLCAzXSwgWzUsIDIsIDEsIDRdLCBbMiwgMV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA1LCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaW9uKCkge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5IHVzaW5nIHN0cmljdCBlcXVhbGl0eVxuICAgICAqIGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC4gSWYgdGhlIGFycmF5IGlzIHNvcnRlZCwgcHJvdmlkaW5nXG4gICAgICogYHRydWVgIGZvciBgaXNTb3J0ZWRgIHdpbGwgdXNlIGEgZmFzdGVyIGFsZ29yaXRobS4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZFxuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGlzIHBhc3NlZCB0aHJvdWdoIHRoZSBjYWxsYmFjayBiZWZvcmUgdW5pcXVlbmVzc1xuICAgICAqIGlzIGNvbXB1dGVkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIHVuaXF1ZVxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NvcnRlZD1mYWxzZV0gQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgYGFycmF5YCBpcyBzb3J0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsxLCAyLCAxLCAzLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDEsIDIsIDIsIDNdLCB0cnVlKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udW5pcShbJ0EnLCAnYicsICdDJywgJ2EnLCAnQicsICdjJ10sIGZ1bmN0aW9uKGxldHRlcikgeyByZXR1cm4gbGV0dGVyLnRvTG93ZXJDYXNlKCk7IH0pO1xuICAgICAqIC8vID0+IFsnQScsICdiJywgJ0MnXVxuICAgICAqXG4gICAgICogXy51bmlxKFsxLCAyLjUsIDMsIDEuNSwgMiwgMy41XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLmZsb29yKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IFsxLCAyLjUsIDNdXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnVuaXEoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXksIGlzU29ydGVkLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8ganVnZ2xlIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBpc1NvcnRlZCAhPSAnYm9vbGVhbicgJiYgaXNTb3J0ZWQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzQXJnID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrID0gKHR5cGVvZiBpc1NvcnRlZCAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tpc1NvcnRlZF0gPT09IGFycmF5KSA/IG51bGwgOiBpc1NvcnRlZDtcbiAgICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgcHJvdmlkZWQgdmFsdWVzIHVzaW5nIHN0cmljdCBlcXVhbGl0eSBmb3JcbiAgICAgKiBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsxLCAyLCAxLCAwLCAzLCAxLCA0XSwgMCwgMSk7XG4gICAgICogLy8gPT4gWzIsIDMsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2l0aG91dChhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VEaWZmZXJlbmNlKGFycmF5LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIHN5bW1ldHJpYyBkaWZmZXJlbmNlIG9mIHRoZSBwcm92aWRlZCBhcnJheXMuXG4gICAgICogU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0pO1xuICAgICAqIC8vID0+IFszLCA1LCA0XVxuICAgICAqXG4gICAgICogXy54b3IoWzEsIDIsIDVdLCBbMiwgMywgNV0sIFszLCA0LCA1XSk7XG4gICAgICogLy8gPT4gWzEsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24geG9yKCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgaWYgKGlzQXJyYXkoYXJyYXkpIHx8IGlzQXJndW1lbnRzKGFycmF5KSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgID8gYmFzZVVuaXEoYmFzZURpZmZlcmVuY2UocmVzdWx0LCBhcnJheSkuY29uY2F0KGJhc2VEaWZmZXJlbmNlKGFycmF5LCByZXN1bHQpKSlcbiAgICAgICAgICAgIDogYXJyYXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgfHwgW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIHVuemlwXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gQXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnZnJlZCcsICdiYXJuZXknXSwgWzMwLCA0MF0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2ZyZWQnLCAzMCwgdHJ1ZV0sIFsnYmFybmV5JywgNDAsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXAoKSB7XG4gICAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50cyA6IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gbWF4KHBsdWNrKGFycmF5LCAnbGVuZ3RoJykpIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGggPCAwID8gMCA6IGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBwbHVjayhhcnJheSwgaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBmcm9tIGFycmF5cyBvZiBga2V5c2AgYW5kIGB2YWx1ZXNgLiBQcm92aWRlXG4gICAgICogZWl0aGVyIGEgc2luZ2xlIHR3byBkaW1lbnNpb25hbCBhcnJheSwgaS5lLiBgW1trZXkxLCB2YWx1ZTFdLCBba2V5MiwgdmFsdWUyXV1gXG4gICAgICogb3IgdHdvIGFycmF5cywgb25lIG9mIGBrZXlzYCBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgb2JqZWN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGtleXMgVGhlIGFycmF5IG9mIGtleXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgZ2l2ZW4ga2V5cyBhbmRcbiAgICAgKiAgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnZnJlZCcsICdiYXJuZXknXSwgWzMwLCA0MF0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiAzMCwgJ2Jhcm5leSc6IDQwIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBrZXlzID8ga2V5cy5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICBpZiAoIXZhbHVlcyAmJiBsZW5ndGggJiYgIWlzQXJyYXkoa2V5c1swXSkpIHtcbiAgICAgICAgdmFsdWVzID0gW107XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlc1tpbmRleF07XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgICAgcmVzdWx0W2tleVswXV0gPSBrZXlbMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyBgZnVuY2AsIHdpdGggIHRoZSBgdGhpc2AgYmluZGluZyBhbmRcbiAgICAgKiBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIG9ubHkgYWZ0ZXIgYmVpbmcgY2FsbGVkIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBmdW5jdGlvbiBtdXN0IGJlIGNhbGxlZCBiZWZvcmVcbiAgICAgKiAgYGZ1bmNgIGlzIGV4ZWN1dGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnRG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdEb25lIHNhdmluZyEnLCBhZnRlciBhbGwgc2F2ZXMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHByZXBlbmRzIGFueSBhZGRpdGlvbmFsIGBiaW5kYCBhcmd1bWVudHMgdG8gdGhvc2VcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgYm91bmQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLm5hbWU7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGZ1bmMgPSBfLmJpbmQoZnVuYywgeyAnbmFtZSc6ICdmcmVkJyB9LCAnaGknKTtcbiAgICAgKiBmdW5jKCk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZChmdW5jLCB0aGlzQXJnKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDJcbiAgICAgICAgPyBjcmVhdGVXcmFwcGVyKGZ1bmMsIDE3LCBzbGljZShhcmd1bWVudHMsIDIpLCBudWxsLCB0aGlzQXJnKVxuICAgICAgICA6IGNyZWF0ZVdyYXBwZXIoZnVuYywgMSwgbnVsbCwgbnVsbCwgdGhpc0FyZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC4gTWV0aG9kIG5hbWVzIG1heSBiZSBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMgb3IgYXMgYXJyYXlzXG4gICAgICogb2YgbWV0aG9kIG5hbWVzLiBJZiBubyBtZXRob2QgbmFtZXMgYXJlIHByb3ZpZGVkIGFsbCB0aGUgZnVuY3Rpb24gcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgIHdpbGwgYmUgYm91bmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJpbmQgYW5kIGFzc2lnbiB0aGUgYm91bmQgbWV0aG9kcyB0by5cbiAgICAgKiBAcGFyYW0gey4uLnN0cmluZ30gW21ldGhvZE5hbWVdIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvXG4gICAgICogIGJpbmQsIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIG1ldGhvZCBuYW1lcyBvciBhcnJheXMgb2YgbWV0aG9kIG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB2aWV3ID0ge1xuICAgICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgICAqICAgJ29uQ2xpY2snOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpOyB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3KTtcbiAgICAgKiBqUXVlcnkoJyNkb2NzJykub24oJ2NsaWNrJywgdmlldy5vbkNsaWNrKTtcbiAgICAgKiAvLyA9PiBsb2dzICdjbGlja2VkIGRvY3MnLCB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJpbmRBbGwob2JqZWN0KSB7XG4gICAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgZmFsc2UsIDEpIDogZnVuY3Rpb25zKG9iamVjdCksXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBmdW5jcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBmdW5jc1tpbmRleF07XG4gICAgICAgIG9iamVjdFtrZXldID0gY3JlYXRlV3JhcHBlcihvYmplY3Rba2V5XSwgMSwgbnVsbCwgbnVsbCwgb2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYFxuICAgICAqIGFuZCBwcmVwZW5kcyBhbnkgYWRkaXRpb25hbCBgYmluZEtleWAgYXJndW1lbnRzIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBib3VuZFxuICAgICAqIGZ1bmN0aW9uLiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvXG4gICAgICogcmVmZXJlbmNlIG1ldGhvZHMgdGhhdCB3aWxsIGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuXG4gICAgICogU2VlIGh0dHA6Ly9taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0aGUgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnbmFtZSc6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMubmFtZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBmdW5jKCk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLm5hbWUgKyAnISc7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kS2V5KG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDJcbiAgICAgICAgPyBjcmVhdGVXcmFwcGVyKGtleSwgMTksIHNsaWNlKGFyZ3VtZW50cywgMiksIG51bGwsIG9iamVjdClcbiAgICAgICAgOiBjcmVhdGVXcmFwcGVyKGtleSwgMywgbnVsbCwgbnVsbCwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgdGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyxcbiAgICAgKiB3aGVyZSBlYWNoIGZ1bmN0aW9uIGNvbnN1bWVzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgICAgKiBGb3IgZXhhbXBsZSwgY29tcG9zaW5nIHRoZSBmdW5jdGlvbnMgYGYoKWAsIGBnKClgLCBhbmQgYGgoKWAgcHJvZHVjZXMgYGYoZyhoKCkpKWAuXG4gICAgICogRWFjaCBmdW5jdGlvbiBpcyBleGVjdXRlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY29tcG9zZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gW2Z1bmNdIEZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhbE5hbWVNYXAgPSB7XG4gICAgICogICAncGViYmxlcyc6ICdwZW5lbG9wZSdcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGZvcm1hdCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgKiAgIG5hbWUgPSByZWFsTmFtZU1hcFtuYW1lLnRvTG93ZXJDYXNlKCldIHx8IG5hbWU7XG4gICAgICogICByZXR1cm4gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGdyZWV0ID0gZnVuY3Rpb24oZm9ybWF0dGVkKSB7XG4gICAgICogICByZXR1cm4gJ0hpeWEgJyArIGZvcm1hdHRlZCArICchJztcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIHdlbGNvbWUgPSBfLmNvbXBvc2UoZ3JlZXQsIGZvcm1hdCk7XG4gICAgICogd2VsY29tZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdIaXlhIFBlbmVsb3BlISdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlKCkge1xuICAgICAgdmFyIGZ1bmNzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jc1tsZW5ndGhdKSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBsZW5ndGggPSBmdW5jcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgYXJncyA9IFtmdW5jc1tsZW5ndGhdLmFwcGx5KHRoaXMsIGFyZ3MpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdHMgb25lIG9yIG1vcmUgYXJndW1lbnRzIG9mIGBmdW5jYCB0aGF0IHdoZW5cbiAgICAgKiBpbnZva2VkIGVpdGhlciBleGVjdXRlcyBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGFsbCBgZnVuY2AgYXJndW1lbnRzXG4gICAgICogaGF2ZSBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIG9uZSBvciBtb3JlIG9mIHRoZVxuICAgICAqIHJlbWFpbmluZyBgZnVuY2AgYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgY2FuIGJlIHNwZWNpZmllZFxuICAgICAqIGlmIGBmdW5jLmxlbmd0aGAgaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgY29uc29sZS5sb2coYSArIGIgKyBjKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSkge1xuICAgICAgYXJpdHkgPSB0eXBlb2YgYXJpdHkgPT0gJ251bWJlcicgPyBhcml0eSA6ICgrYXJpdHkgfHwgZnVuYy5sZW5ndGgpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywgNCwgbnVsbCwgbnVsbCwgbnVsbCwgYXJpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgZGVsYXkgdGhlIGV4ZWN1dGlvbiBvZiBgZnVuY2AgdW50aWwgYWZ0ZXJcbiAgICAgKiBgd2FpdGAgbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIGl0IHdhcyBpbnZva2VkLlxuICAgICAqIFByb3ZpZGUgYW4gb3B0aW9ucyBvYmplY3QgdG8gaW5kaWNhdGUgdGhhdCBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb25cbiAgICAgKiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFN1YnNlcXVlbnQgY2FsbHNcbiAgICAgKiB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGNhbGwuXG4gICAgICpcbiAgICAgKiBOb3RlOiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgIGBmdW5jYCB3aWxsIGJlIGNhbGxlZFxuICAgICAqIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gaXNcbiAgICAgKiBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XSBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBhdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4XG4gICAgICogdmFyIGxhenlMYXlvdXQgPSBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKTtcbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgbGF6eUxheW91dCk7XG4gICAgICpcbiAgICAgKiAvLyBleGVjdXRlIGBzZW5kTWFpbGAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxsc1xuICAgICAqIGpRdWVyeSgnI3Bvc3Rib3gnKS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBlbnN1cmUgYGJhdGNoTG9nYCBpcyBleGVjdXRlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxsc1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwge1xuICAgICAqICAgJ21heFdhaXQnOiAxMDAwXG4gICAgICogfSwgZmFsc2UpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBhcmdzLFxuICAgICAgICAgIG1heFRpbWVvdXRJZCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgc3RhbXAsXG4gICAgICAgICAgdGhpc0FyZyxcbiAgICAgICAgICB0aW1lb3V0SWQsXG4gICAgICAgICAgdHJhaWxpbmdDYWxsLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwLFxuICAgICAgICAgIG1heFdhaXQgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgd2FpdCA9IG5hdGl2ZU1heCgwLCB3YWl0KSB8fCAwO1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cmFpbGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhXYWl0ID0gJ21heFdhaXQnIGluIG9wdGlvbnMgJiYgKG5hdGl2ZU1heCh3YWl0LCBvcHRpb25zLm1heFdhaXQpIHx8IDApO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/IG9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHZhciBkZWxheWVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdygpIC0gc3RhbXApO1xuICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICBpZiAobWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobWF4VGltZW91dElkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlzQ2FsbGVkID0gdHJhaWxpbmdDYWxsO1xuICAgICAgICAgIG1heFRpbWVvdXRJZCA9IHRpbWVvdXRJZCA9IHRyYWlsaW5nQ2FsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoaXNDYWxsZWQpIHtcbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBub3coKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgICBpZiAoIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChkZWxheWVkLCByZW1haW5pbmcpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgbWF4RGVsYXllZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHJhaWxpbmcgfHwgKG1heFdhaXQgIT09IHdhaXQpKSB7XG4gICAgICAgICAgbGFzdENhbGxlZCA9IG5vdygpO1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0SWQgJiYgIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgYXJncyA9IHRoaXNBcmcgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzdGFtcCA9IG5vdygpO1xuICAgICAgICB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgdHJhaWxpbmdDYWxsID0gdHJhaWxpbmcgJiYgKHRpbWVvdXRJZCB8fCAhbGVhZGluZyk7XG5cbiAgICAgICAgaWYgKG1heFdhaXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdmFyIGxlYWRpbmdDYWxsID0gbGVhZGluZyAmJiAhdGltZW91dElkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbWF4VGltZW91dElkICYmICFsZWFkaW5nKSB7XG4gICAgICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZW1haW5pbmcgPSBtYXhXYWl0IC0gKHN0YW1wIC0gbGFzdENhbGxlZCksXG4gICAgICAgICAgICAgIGlzQ2FsbGVkID0gcmVtYWluaW5nIDw9IDA7XG5cbiAgICAgICAgICBpZiAoaXNDYWxsZWQpIHtcbiAgICAgICAgICAgIGlmIChtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgbWF4VGltZW91dElkID0gY2xlYXJUaW1lb3V0KG1heFRpbWVvdXRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBtYXhUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KG1heERlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NhbGxlZCAmJiB0aW1lb3V0SWQpIHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGltZW91dElkICYmIHdhaXQgIT09IG1heFdhaXQpIHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xuICAgICAgICAgIGlzQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NhbGxlZCAmJiAhdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGV4ZWN1dGluZyB0aGUgYGZ1bmNgIGZ1bmN0aW9uIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuXG4gICAgICogQWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCBpcyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKHRleHQpOyB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyBsb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG9yIG1vcmUgbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmZXIoZnVuYykge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZ1bmNgIGZ1bmN0aW9uIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogd2lsbCBiZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCBpcyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGV4ZWN1dGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkgeyBjb25zb2xlLmxvZyh0ZXh0KTsgfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gbG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWxheShmdW5jLCB3YWl0KSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAyKTtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHRcbiAgICAgKiBiYXNlZCBvbiB0aGUgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlXG4gICAgICogZmlyc3QgYXJndW1lbnQgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBUaGUgYGZ1bmNgIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBUaGUgcmVzdWx0IGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIEEgZnVuY3Rpb24gdXNlZCB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6aW5nIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmlib25hY2NpID0gXy5tZW1vaXplKGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuIDwgMiA/IG4gOiBmaWJvbmFjY2kobiAtIDEpICsgZmlib25hY2NpKG4gLSAyKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZpYm9uYWNjaSg5KVxuICAgICAqIC8vID0+IDM0XG4gICAgICpcbiAgICAgKiB2YXIgZGF0YSA9IHtcbiAgICAgKiAgICdmcmVkJzogeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogLy8gbW9kaWZ5aW5nIHRoZSByZXN1bHQgY2FjaGVcbiAgICAgKiB2YXIgZ2V0ID0gXy5tZW1vaXplKGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIGRhdGFbbmFtZV07IH0sIF8uaWRlbnRpdHkpO1xuICAgICAqIGdldCgncGViYmxlcycpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKlxuICAgICAqIGdldC5jYWNoZS5wZWJibGVzLm5hbWUgPSAncGVuZWxvcGUnO1xuICAgICAqIGdldCgncGViYmxlcycpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAncGVuZWxvcGUnLCAnYWdlJzogMSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGUsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXlQcmVmaXggKyBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIGtleSlcbiAgICAgICAgICA/IGNhY2hlW2tleV1cbiAgICAgICAgICA6IChjYWNoZVtrZXldID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cbiAgICAgIG1lbW9pemVkLmNhY2hlID0ge307XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBleGVjdXRlIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHMgdG9cbiAgICAgKiB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBjYWxsLiBUaGUgYGZ1bmNgIGlzIGV4ZWN1dGVkXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gYGluaXRpYWxpemVgIGV4ZWN1dGVzIGBjcmVhdGVBcHBsaWNhdGlvbmAgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgdmFyIHJhbixcbiAgICAgICAgICByZXN1bHQ7XG5cbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocmFuKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIGBmdW5jYCB2YXJpYWJsZSBzbyB0aGUgZnVuY3Rpb24gbWF5IGJlIGdhcmJhZ2UgY29sbGVjdGVkXG4gICAgICAgIGZ1bmMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludm9rZXMgYGZ1bmNgIHdpdGggYW55IGFkZGl0aW9uYWxcbiAgICAgKiBgcGFydGlhbGAgYXJndW1lbnRzIHByZXBlbmRlZCB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLiBUaGlzXG4gICAgICogbWV0aG9kIGlzIHNpbWlsYXIgdG8gYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIG5hbWUpIHsgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTsgfTtcbiAgICAgKiB2YXIgaGkgPSBfLnBhcnRpYWwoZ3JlZXQsICdoaScpO1xuICAgICAqIGhpKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFydGlhbChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLCAxNiwgc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBgcGFydGlhbGAgYXJndW1lbnRzIGFyZVxuICAgICAqIGFwcGVuZGVkIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzRGVlcCA9IF8ucGFydGlhbFJpZ2h0KF8ubWVyZ2UsIF8uZGVmYXVsdHMpO1xuICAgICAqXG4gICAgICogdmFyIG9wdGlvbnMgPSB7XG4gICAgICogICAndmFyaWFibGUnOiAnZGF0YScsXG4gICAgICogICAnaW1wb3J0cyc6IHsgJ2pxJzogJCB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzRGVlcChvcHRpb25zLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuICAgICAqXG4gICAgICogb3B0aW9ucy52YXJpYWJsZVxuICAgICAqIC8vID0+ICdkYXRhJ1xuICAgICAqXG4gICAgICogb3B0aW9ucy5pbXBvcnRzXG4gICAgICogLy8gPT4geyAnXyc6IF8sICdqcSc6ICQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnRpYWxSaWdodChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLCAzMiwgbnVsbCwgc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gZXhlY3V0ZWQsIHdpbGwgb25seSBjYWxsIHRoZSBgZnVuY2AgZnVuY3Rpb25cbiAgICAgKiBhdCBtb3N0IG9uY2UgcGVyIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFByb3ZpZGUgYW4gb3B0aW9ucyBvYmplY3QgdG9cbiAgICAgKiBpbmRpY2F0ZSB0aGF0IGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZVxuICAgICAqIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGxcbiAgICAgKiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgY2FsbC5cbiAgICAgKlxuICAgICAqIE5vdGU6IElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAgYGZ1bmNgIHdpbGwgYmUgY2FsbGVkXG4gICAgICogb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhlIHRocm90dGxlZCBmdW5jdGlvbiBpc1xuICAgICAqIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBleGVjdXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBhdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCk7XG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBleGVjdXRlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXNcbiAgICAgKiBqUXVlcnkoJy5pbnRlcmFjdGl2ZScpLm9uKCdjbGljaycsIF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7XG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zID09PSBmYWxzZSkge1xuICAgICAgICBsZWFkaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/IG9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgZGVib3VuY2VPcHRpb25zLmxlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgZGVib3VuY2VPcHRpb25zLm1heFdhaXQgPSB3YWl0O1xuICAgICAgZGVib3VuY2VPcHRpb25zLnRyYWlsaW5nID0gdHJhaWxpbmc7XG5cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCBkZWJvdW5jZU9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gdGhlIHdyYXBwZXIgZnVuY3Rpb24gYXMgaXRzXG4gICAgICogZmlyc3QgYXJndW1lbnQuIEFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgaXMgZXhlY3V0ZWQgd2l0aFxuICAgICAqIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnRnJlZCwgV2lsbWEsICYgUGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5GcmVkLCBXaWxtYSwgJmFtcDsgUGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIod3JhcHBlciwgMTYsIFt2YWx1ZV0pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogdmFyIGdldHRlciA9IF8uY29uc3RhbnQob2JqZWN0KTtcbiAgICAgKiBnZXR0ZXIoKSA9PT0gb2JqZWN0O1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgY2FsbGJhY2sgYm91bmQgdG8gYW4gb3B0aW9uYWwgYHRoaXNBcmdgLiBJZiBgZnVuY2AgaXMgYSBwcm9wZXJ0eVxuICAgICAqIG5hbWUgdGhlIGNyZWF0ZWQgY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gICAgICogSWYgYGZ1bmNgIGlzIGFuIG9iamVjdCB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzXG4gICAgICogdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50IG9iamVjdCBwcm9wZXJ0aWVzLCBvdGhlcndpc2UgaXQgd2lsbCByZXR1cm4gYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0geyp9IFtmdW5jPWlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyZ0NvdW50XSBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGUgY2FsbGJhY2sgYWNjZXB0cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB3cmFwIHRvIGNyZWF0ZSBjdXN0b20gY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAqIF8uY3JlYXRlQ2FsbGJhY2sgPSBfLndyYXAoXy5jcmVhdGVDYWxsYmFjaywgZnVuY3Rpb24oZnVuYywgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgKiAgIHZhciBtYXRjaCA9IC9eKC4rPylfXyhbZ2xddCkoLispJC8uZXhlYyhjYWxsYmFjayk7XG4gICAgICogICByZXR1cm4gIW1hdGNoID8gZnVuYyhjYWxsYmFjaywgdGhpc0FyZykgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgKiAgICAgcmV0dXJuIG1hdGNoWzJdID09ICdndCcgPyBvYmplY3RbbWF0Y2hbMV1dID4gbWF0Y2hbM10gOiBvYmplY3RbbWF0Y2hbMV1dIDwgbWF0Y2hbM107XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoY2hhcmFjdGVycywgJ2FnZV9fZ3QzOCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgZnVuYztcbiAgICAgIGlmIChmdW5jID09IG51bGwgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBiYXNlQ3JlYXRlQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpO1xuICAgICAgfVxuICAgICAgLy8gaGFuZGxlIFwiXy5wbHVja1wiIHN0eWxlIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICAgIGlmICh0eXBlICE9ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eShmdW5jKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGtleXMoZnVuYyksXG4gICAgICAgICAga2V5ID0gcHJvcHNbMF0sXG4gICAgICAgICAgYSA9IGZ1bmNba2V5XTtcblxuICAgICAgLy8gaGFuZGxlIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICAgIGlmIChwcm9wcy5sZW5ndGggPT0gMSAmJiBhID09PSBhICYmICFpc09iamVjdChhKSkge1xuICAgICAgICAvLyBmYXN0IHBhdGggdGhlIGNvbW1vbiBjYXNlIG9mIHByb3ZpZGluZyBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZVxuICAgICAgICAvLyBwcm9wZXJ0eSBjb250YWluaW5nIGEgcHJpbWl0aXZlIHZhbHVlXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICB2YXIgYiA9IG9iamVjdFtrZXldO1xuICAgICAgICAgIHJldHVybiBhID09PSBiICYmIChhICE9PSAwIHx8ICgxIC8gYSA9PSAxIC8gYikpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gYmFzZUlzRXF1YWwob2JqZWN0W3Byb3BzW2xlbmd0aF1dLCBmdW5jW3Byb3BzW2xlbmd0aF1dLCBudWxsLCB0cnVlKSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBgJmAsIGA8YCwgYD5gLCBgXCJgLCBhbmQgYCdgIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdGcmVkLCBXaWxtYSwgJiBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQsIFdpbG1hLCAmYW1wOyBQZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcgPT0gbnVsbCA/ICcnIDogU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBwcm92aWRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqIF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0O1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZSBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uIG1ldGhvZHMgd2lsbCBiZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciB0aGUgZnVuY3Rpb25zIGFkZGVkIGFyZSBjaGFpbmFibGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICdjYXBpdGFsaXplJzogY2FwaXRhbGl6ZSB9KTtcbiAgICAgKiBfLmNhcGl0YWxpemUoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS5jYXBpdGFsaXplKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAnY2FwaXRhbGl6ZSc6IGNhcGl0YWxpemUgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykuY2FwaXRhbGl6ZSgpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgY2hhaW4gPSB0cnVlLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gc291cmNlICYmIGZ1bmN0aW9ucyhzb3VyY2UpO1xuXG4gICAgICBpZiAoIXNvdXJjZSB8fCAoIW9wdGlvbnMgJiYgIW1ldGhvZE5hbWVzLmxlbmd0aCkpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgY3RvciA9IGxvZGFzaFdyYXBwZXI7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gbG9kYXNoO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGZ1bmN0aW9ucyhzb3VyY2UpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoYWluID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykge1xuICAgICAgICBjaGFpbiA9IG9wdGlvbnMuY2hhaW47XG4gICAgICB9XG4gICAgICB2YXIgY3RvciA9IG9iamVjdCxcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKGN0b3IpO1xuXG4gICAgICBmb3JFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gb2JqZWN0W21ldGhvZE5hbWVdID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgY3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgICAgICBhcmdzID0gW3ZhbHVlXTtcblxuICAgICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkob2JqZWN0LCBhcmdzKTtcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHJlc3VsdCAmJiBpc09iamVjdChyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGN0b3IocmVzdWx0KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSAnXycgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgY29udGV4dC5fID0gb2xkRGFzaDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgbm8tb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqIF8ubm9vcChvYmplY3QpID09PSB1bmRlZmluZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBubyBvcGVyYXRpb24gcGVyZm9ybWVkXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgVW5peCBlcG9jaFxuICAgICAqICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc3RhbXAgPSBfLm5vdygpO1xuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7IH0pO1xuICAgICAqIC8vID0+IGxvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxuICAgICAqL1xuICAgIHZhciBub3cgPSBpc05hdGl2ZShub3cgPSBEYXRlLm5vdykgJiYgbm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gdmFsdWUgaW50byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguXG4gICAgICogSWYgYHJhZGl4YCBpcyBgdW5kZWZpbmVkYCBvciBgMGAgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgdGhlXG4gICAgICogYHZhbHVlYCBpcyBhIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBhdm9pZHMgZGlmZmVyZW5jZXMgaW4gbmF0aXZlIEVTMyBhbmQgRVM1IGBwYXJzZUludGBcbiAgICAgKiBpbXBsZW1lbnRhdGlvbnMuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jRS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHBhcnNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXhdIFRoZSByYWRpeCB1c2VkIHRvIGludGVycHJldCB0aGUgdmFsdWUgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbmV3IGludGVnZXIgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqL1xuICAgIHZhciBwYXJzZUludCA9IG5hdGl2ZVBhcnNlSW50KHdoaXRlc3BhY2UgKyAnMDgnKSA9PSA4ID8gbmF0aXZlUGFyc2VJbnQgOiBmdW5jdGlvbih2YWx1ZSwgcmFkaXgpIHtcbiAgICAgIC8vIEZpcmVmb3ggPCAyMSBhbmQgT3BlcmEgPCAxNSBmb2xsb3cgdGhlIEVTMyBzcGVjaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgYHBhcnNlSW50YFxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnJlcGxhY2UocmVMZWFkaW5nU3BhY2VzQW5kWmVyb3MsICcnKSA6IHZhbHVlLCByYWRpeCB8fCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFwiXy5wbHVja1wiIHN0eWxlIGZ1bmN0aW9uLCB3aGljaCByZXR1cm5zIHRoZSBga2V5YCB2YWx1ZSBvZiBhXG4gICAgICogZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJldHJpZXZlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciBnZXROYW1lID0gXy5wcm9wZXJ0eSgnbmFtZScpO1xuICAgICAqXG4gICAgICogXy5tYXAoY2hhcmFjdGVycywgZ2V0TmFtZSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeShjaGFyYWN0ZXJzLCBnZXROYW1lKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSwgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShrZXkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBgbWluYCBhbmQgYG1heGAgKGluY2x1c2l2ZSkuIElmIG9ubHkgb25lXG4gICAgICogYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXIgd2lsbCBiZVxuICAgICAqIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIHRydWV5IG9yIGVpdGhlciBgbWluYCBvciBgbWF4YCBhcmUgZmxvYXRzIGFcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXIgd2lsbCBiZSByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttaW49MF0gVGhlIG1pbmltdW0gcG9zc2libGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXg9MV0gVGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmc9ZmFsc2VdIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShtaW4sIG1heCwgZmxvYXRpbmcpIHtcbiAgICAgIHZhciBub01pbiA9IG1pbiA9PSBudWxsLFxuICAgICAgICAgIG5vTWF4ID0gbWF4ID09IG51bGw7XG5cbiAgICAgIGlmIChmbG9hdGluZyA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWluID09ICdib29sZWFuJyAmJiBub01heCkge1xuICAgICAgICAgIGZsb2F0aW5nID0gbWluO1xuICAgICAgICAgIG1pbiA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5vTWF4ICYmIHR5cGVvZiBtYXggPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBtYXg7XG4gICAgICAgICAgbm9NYXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9NaW4gJiYgbm9NYXgpIHtcbiAgICAgICAgbWF4ID0gMTtcbiAgICAgIH1cbiAgICAgIG1pbiA9ICttaW4gfHwgMDtcbiAgICAgIGlmIChub01heCkge1xuICAgICAgICBtYXggPSBtaW47XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXggPSArbWF4IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbWluICUgMSB8fCBtYXggJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obWluICsgKHJhbmQgKiAobWF4IC0gbWluICsgcGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArJycpLmxlbmd0aCAtIDEpKSkpLCBtYXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obWluLCBtYXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHRoZSB2YWx1ZSBvZiBwcm9wZXJ0eSBga2V5YCBvbiBgb2JqZWN0YC4gSWYgYGtleWAgaXMgYSBmdW5jdGlvblxuICAgICAqIGl0IHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgb2JqZWN0YCBhbmQgaXRzIHJlc3VsdCByZXR1cm5lZCxcbiAgICAgKiBlbHNlIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyByZXR1cm5lZC4gSWYgYG9iamVjdGAgaXMgZmFsc2V5IHRoZW4gYHVuZGVmaW5lZGBcbiAgICAgKiBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdjaGVlc2UnOiAnY3J1bXBldHMnLFxuICAgICAqICAgJ3N0dWZmJzogZnVuY3Rpb24oKSB7XG4gICAgICogICAgIHJldHVybiAnbm9uc2Vuc2UnO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdjaGVlc2UnKTtcbiAgICAgKiAvLyA9PiAnY3J1bXBldHMnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdzdHVmZicpO1xuICAgICAqIC8vID0+ICdub25zZW5zZSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IG9iamVjdFtrZXldKCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG1pY3JvLXRlbXBsYXRpbmcgbWV0aG9kIHRoYXQgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzXG4gICAgICogd2hpdGVzcGFjZSwgYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gICAgICpcbiAgICAgKiBOb3RlOiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQsIGBfLnRlbXBsYXRlYCB1dGlsaXplcyBzb3VyY2VVUkxzIGZvciBlYXNpZXJcbiAgICAgKiBkZWJ1Z2dpbmcuIFNlZSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZTpcbiAgICAgKiBodHRwOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWU6XG4gICAgICogaHR0cDovL2RldmVsb3Blci5jaHJvbWUuY29tL3N0YWJsZS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsLmh0bWxcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdXNlZCB0byBwb3B1bGF0ZSB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlXSBUaGUgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlXSBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0c10gQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBsb2NhbCB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlXSBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NvdXJjZVVSTF0gVGhlIHNvdXJjZVVSTCBvZiB0aGUgdGVtcGxhdGUncyBjb21waWxlZCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2YXJpYWJsZV0gVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufHN0cmluZ30gUmV0dXJucyBhIGNvbXBpbGVkIGZ1bmN0aW9uIHdoZW4gbm8gYGRhdGFgIG9iamVjdFxuICAgICAqICBpcyBnaXZlbiwgZWxzZSBpdCByZXR1cm5zIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGVcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gbmFtZSAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ25hbWUnOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIEhUTUwgaW4gZGF0YSBwcm9wZXJ0eSB2YWx1ZXNcbiAgICAgKiBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+JywgeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBnZW5lcmF0ZSBIVE1MXG4gICAgICogdmFyIGxpc3QgPSAnPCUgXy5mb3JFYWNoKHBlb3BsZSwgZnVuY3Rpb24obmFtZSkgeyAlPjxsaT48JS0gbmFtZSAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiBfLnRlbXBsYXRlKGxpc3QsIHsgJ3Blb3BsZSc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBFUzYgZGVsaW1pdGVyIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBkZWZhdWx0IFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJcbiAgICAgKiBfLnRlbXBsYXRlKCdoZWxsbyAkeyBuYW1lIH0nLCB7ICduYW1lJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnNcbiAgICAgKiBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgbmFtZSk7ICU+IScsIHsgJ25hbWUnOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIGEgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnNcbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgICogICAnaW50ZXJwb2xhdGUnOiAve3soW1xcc1xcU10rPyl9fS9nXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8udGVtcGxhdGUoJ2hlbGxvIHt7IG5hbWUgfX0hJywgeyAnbmFtZSc6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBqUXVlcnlcbiAgICAgKiB2YXIgbGlzdCA9ICc8JSBqcS5lYWNoKHBlb3BsZSwgZnVuY3Rpb24obmFtZSkgeyAlPjxsaT48JS0gbmFtZSAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiBfLnRlbXBsYXRlKGxpc3QsIHsgJ3Blb3BsZSc6IFsnZnJlZCcsICdiYXJuZXknXSB9LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSBuYW1lICU+JywgbnVsbCwgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IGZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3JcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLm5hbWUgJT4hJywgbnVsbCwgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAgIHZhciBfX3QsIF9fcCA9ICcnLCBfX2UgPSBfLmVzY2FwZTtcbiAgICAgKiAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLm5hbWUgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAgIHJldHVybiBfX3A7XG4gICAgICogfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIGEgc3RhY2sgdHJhY2VcbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihjd2QsICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUodGV4dCwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgLy8gYmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy9cbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanNcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1RcbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0IHx8ICcnKTtcblxuICAgICAgLy8gYXZvaWQgbWlzc2luZyBkZXBlbmRlbmNpZXMgd2hlbiBgaXRlcmF0b3JUZW1wbGF0ZWAgaXMgbm90IGRlZmluZWRcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0cyh7fSwgb3B0aW9ucywgc2V0dGluZ3MpO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGRlZmF1bHRzKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gdmFsdWVzKGltcG9ydHMpO1xuXG4gICAgICB2YXIgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gY29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICB0ZXh0LnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2Fubm90IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFsc1xuICAgICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyByZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0c1xuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIHJlcXVpcmVzIHJldHVybmluZyB0aGUgYG1hdGNoYFxuICAgICAgICAvLyBzdHJpbmcgaW4gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gaWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkLCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpblxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZSxcbiAgICAgICAgICBoYXNWYXJpYWJsZSA9IHZhcmlhYmxlO1xuXG4gICAgICBpZiAoIWhhc1ZhcmlhYmxlKSB7XG4gICAgICAgIHZhcmlhYmxlID0gJ29iaic7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoICgnICsgdmFyaWFibGUgKyAnKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIGNsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5nc1xuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBmcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5XG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArIHZhcmlhYmxlICsgJykge1xcbicgK1xuICAgICAgICAoaGFzVmFyaWFibGUgPyAnJyA6IHZhcmlhYmxlICsgJyB8fCAoJyArIHZhcmlhYmxlICsgJyA9IHt9KTtcXG4nKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlXCIgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgLy8gaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybFxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICdcXG4vKlxcbi8vIyBzb3VyY2VVUkw9JyArIChvcHRpb25zLnNvdXJjZVVSTCB8fCAnL2xvZGFzaC90ZW1wbGF0ZS9zb3VyY2VbJyArICh0ZW1wbGF0ZUNvdW50ZXIrKykgKyAnXScpICsgJ1xcbiovJztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IEZ1bmN0aW9uKGltcG9ydHNLZXlzLCAncmV0dXJuICcgKyBzb3VyY2UgKyBzb3VyY2VVUkwpLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0KGRhdGEpO1xuICAgICAgfVxuICAgICAgLy8gcHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kLCBpblxuICAgICAgLy8gc3VwcG9ydGVkIGVudmlyb25tZW50cywgb3IgdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yXG4gICAgICAvLyBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMgZHVyaW5nIHRoZSBidWlsZCBwcm9jZXNzXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2FsbGJhY2sgYG5gIHRpbWVzLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHNcbiAgICAgKiBvZiBlYWNoIGNhbGxiYWNrIGV4ZWN1dGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gZXhlY3V0ZSB0aGUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGBjYWxsYmFja2AgZXhlY3V0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZGljZVJvbGxzID0gXy50aW1lcygzLCBfLnBhcnRpYWwoXy5yYW5kb20sIDEsIDYpKTtcbiAgICAgKiAvLyA9PiBbMywgNiwgNF1cbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgZnVuY3Rpb24obikgeyBtYWdlLmNhc3RTcGVsbChuKTsgfSk7XG4gICAgICogLy8gPT4gY2FsbHMgYG1hZ2UuY2FzdFNwZWxsKG4pYCB0aHJlZSB0aW1lcywgcGFzc2luZyBgbmAgb2YgYDBgLCBgMWAsIGFuZCBgMmAgcmVzcGVjdGl2ZWx5XG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIGZ1bmN0aW9uKG4pIHsgdGhpcy5jYXN0KG4pOyB9LCBtYWdlKTtcbiAgICAgKiAvLyA9PiBhbHNvIGNhbGxzIGBtYWdlLmNhc3RTcGVsbChuKWAgdGhyZWUgdGltZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgbiA9IChuID0gK24pID4gLTEgPyBuIDogMDtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNhbGxiYWNrKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYCB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5lc2NhcGUoJ0ZyZWQsIEJhcm5leSAmYW1wOyBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQsIEJhcm5leSAmIFBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nID09IG51bGwgPyAnJyA6IFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBwcm92aWRlZCB0aGUgSUQgd2lsbCBiZSBhcHBlbmRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeF0gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiBTdHJpbmcocHJlZml4ID09IG51bGwgPyAnJyA6IHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3QgdGhhdCB3cmFwcyB0aGUgZ2l2ZW4gdmFsdWUgd2l0aCBleHBsaWNpdFxuICAgICAqIG1ldGhvZCBjaGFpbmluZyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfLmNoYWluKGNoYXJhY3RlcnMpXG4gICAgICogICAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAgIC5tYXAoZnVuY3Rpb24oY2hyKSB7IHJldHVybiBjaHIubmFtZSArICcgaXMgJyArIGNoci5hZ2U7IH0pXG4gICAgICogICAgIC5maXJzdCgpXG4gICAgICogICAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhbHVlID0gbmV3IGxvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgICAgdmFsdWUuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBpbnRlcmNlcHRvcmAgd2l0aCB0aGUgYHZhbHVlYCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIHRoZW5cbiAgICAgKiByZXR1cm5zIGB2YWx1ZWAuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZFxuICAgICAqIGNoYWluIGluIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW5cbiAgICAgKiB0aGUgY2hhaW4uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzLCA0XSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkgeyBhcnJheS5wb3AoKTsgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBleHBsaWNpdCBtZXRob2QgY2hhaW5pbmcgb24gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nXG4gICAgICogXyhjaGFyYWN0ZXJzKS5maXJzdCgpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIHdpdGggZXhwbGljaXQgY2hhaW5pbmdcbiAgICAgKiBfKGNoYXJhY3RlcnMpLmNoYWluKClcbiAgICAgKiAgIC5maXJzdCgpXG4gICAgICogICAucGljaygnYWdlJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ2FnZSc6IDM2IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyB0aGUgYHRvU3RyaW5nYCByZXN1bHQgb2YgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB0b1N0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlc3VsdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnRvU3RyaW5nKCk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb1N0cmluZygpIHtcbiAgICAgIHJldHVybiBTdHJpbmcodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZU9mXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdmFsdWVcbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlT2YoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fd3JhcHBlZF9fO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFzc2lnbiA9IGFzc2lnbjtcbiAgICBsb2Rhc2guYXQgPSBhdDtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbXBvc2UgPSBjb21wb3NlO1xuICAgIGxvZGFzaC5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcbiAgICBsb2Rhc2guY3JlYXRlID0gY3JlYXRlO1xuICAgIGxvZGFzaC5jcmVhdGVDYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrO1xuICAgIGxvZGFzaC5jdXJyeSA9IGN1cnJ5O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZlciA9IGRlZmVyO1xuICAgIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmZvckVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcbiAgICBsb2Rhc2guZm9ySW5SaWdodCA9IGZvckluUmlnaHQ7XG4gICAgbG9kYXNoLmZvck93biA9IGZvck93bjtcbiAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5kZXhCeSA9IGluZGV4Qnk7XG4gICAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gubWFwID0gbWFwO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5wYWlycyA9IHBhaXJzO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGx1Y2sgPSBwbHVjaztcbiAgICBsb2Rhc2gucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2guc2h1ZmZsZSA9IHNodWZmbGU7XG4gICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0FycmF5ID0gdG9BcnJheTtcbiAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICAgIGxvZGFzaC51bmlxID0gdW5pcTtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC53aGVyZSA9IHdoZXJlO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG5cbiAgICAvLyBhZGQgYWxpYXNlc1xuICAgIGxvZGFzaC5jb2xsZWN0ID0gbWFwO1xuICAgIGxvZGFzaC5kcm9wID0gcmVzdDtcbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduO1xuICAgIGxvZGFzaC5tZXRob2RzID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5vYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnNlbGVjdCA9IGZpbHRlcjtcbiAgICBsb2Rhc2gudGFpbCA9IHJlc3Q7XG4gICAgbG9kYXNoLnVuaXF1ZSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuemlwID0gemlwO1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyB0byBgbG9kYXNoLnByb3RvdHlwZWBcbiAgICBtaXhpbihsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMgd2hlbiBjaGFpbmluZ1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNvbnRhaW5zID0gY29udGFpbnM7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuICAgIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2gubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgbG9kYXNoLnJhbmRvbSA9IHJhbmRvbTtcbiAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICAgIGxvZGFzaC5yZWR1Y2VSaWdodCA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuXG4gICAgLy8gYWRkIGFsaWFzZXNcbiAgICBsb2Rhc2guYWxsID0gZXZlcnk7XG4gICAgbG9kYXNoLmFueSA9IHNvbWU7XG4gICAgbG9kYXNoLmRldGVjdCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRXaGVyZSA9IGZpbmQ7XG4gICAgbG9kYXNoLmZvbGRsID0gcmVkdWNlO1xuICAgIGxvZGFzaC5mb2xkciA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5pbmNsdWRlID0gY29udGFpbnM7XG4gICAgbG9kYXNoLmluamVjdCA9IHJlZHVjZTtcblxuICAgIG1peGluKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9XG4gICAgICBmb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmICghbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSkge1xuICAgICAgICAgIHNvdXJjZVttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9KCksIGZhbHNlKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyBjYXBhYmxlIG9mIHJldHVybmluZyB3cmFwcGVkIGFuZCB1bndyYXBwZWQgdmFsdWVzIHdoZW4gY2hhaW5pbmdcbiAgICBsb2Rhc2guZmlyc3QgPSBmaXJzdDtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcblxuICAgIC8vIGFkZCBhbGlhc2VzXG4gICAgbG9kYXNoLnRha2UgPSBmaXJzdDtcbiAgICBsb2Rhc2guaGVhZCA9IGZpcnN0O1xuXG4gICAgZm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNhbGxiYWNrYWJsZSA9IG1ldGhvZE5hbWUgIT09ICdzYW1wbGUnO1xuICAgICAgaWYgKCFsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV09IGZ1bmN0aW9uKG4sIGd1YXJkKSB7XG4gICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmModGhpcy5fX3dyYXBwZWRfXywgbiwgZ3VhcmQpO1xuXG4gICAgICAgICAgcmV0dXJuICFjaGFpbkFsbCAmJiAobiA9PSBudWxsIHx8IChndWFyZCAmJiAhKGNhbGxiYWNrYWJsZSAmJiB0eXBlb2YgbiA9PSAnZnVuY3Rpb24nKSkpXG4gICAgICAgICAgICA/IHJlc3VsdFxuICAgICAgICAgICAgOiBuZXcgbG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSAnMi40LjEnO1xuXG4gICAgLy8gYWRkIFwiQ2hhaW5pbmdcIiBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXJcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9TdHJpbmcgPSB3cmFwcGVyVG9TdHJpbmc7XG4gICAgbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZU9mO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudmFsdWVPZiA9IHdyYXBwZXJWYWx1ZU9mO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXNcbiAgICBmb3JFYWNoKFsnam9pbicsICdwb3AnLCAnc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIGNoYWluQWxsXG4gICAgICAgICAgPyBuZXcgbG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKVxuICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGFkZCBgQXJyYXlgIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB0aGUgZXhpc3Rpbmcgd3JhcHBlZCB2YWx1ZVxuICAgIGZvckVhY2goWydwdXNoJywgJ3JldmVyc2UnLCAnc29ydCcsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIG5ldyB3cmFwcGVkIHZhbHVlc1xuICAgIGZvckVhY2goWydjb25jYXQnLCAnc2xpY2UnLCAnc3BsaWNlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgbG9kYXNoV3JhcHBlcihmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sIGFyZ3VtZW50cyksIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gZXhwb3NlIExvLURhc2hcbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBzb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzIGxpa2Ugci5qcyBjaGVjayBmb3IgY29uZGl0aW9uIHBhdHRlcm5zIGxpa2UgdGhlIGZvbGxvd2luZzpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvLURhc2ggdG8gdGhlIGdsb2JhbCBvYmplY3QgZXZlbiB3aGVuIGFuIEFNRCBsb2FkZXIgaXMgcHJlc2VudCBpblxuICAgIC8vIGNhc2UgTG8tRGFzaCBpcyBsb2FkZWQgd2l0aCBhIFJlcXVpcmVKUyBzaGltIGNvbmZpZy5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9hcGkuaHRtbCNjb25maWctc2hpbVxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBkZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZVxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIGNoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGFuIGBleHBvcnRzYCBvYmplY3RcbiAgZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuICAgIC8vIGluIE5vZGUuanMgb3IgUmluZ29KU1xuICAgIGlmIChtb2R1bGVFeHBvcnRzKSB7XG4gICAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgfVxuICAgIC8vIGluIE5hcndoYWwgb3IgUmhpbm8gLXJlcXVpcmVcbiAgICBlbHNlIHtcbiAgICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICAvLyBpbiBhIGJyb3dzZXIgb3IgUmhpbm9cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxuZnVuY3Rpb24gQ3Vyc29ySGludCgpIHtcbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLl9vbk1vdmUgPSB0aGlzLl9jcmVhdGVPbk1vdmUoKS5iaW5kKHRoaXMpO1xufVxuXG52YXIgcCA9IEN1cnNvckhpbnQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDdXJzb3JIaW50O1xuXG5wLnNldEhpbnRzID0gZnVuY3Rpb24gKGhpbnRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuXG4gICAgdGhpcy5kb21FbGVtLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBpZiAoXy5pc0FycmF5KGhpbnRzKSkge1xuICAgICAgICBoaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtT3B0KSB7XG4gICAgICAgICAgICBfdGhpcy5fY3JlYXRlSXRlbShpdGVtT3B0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fb25Nb3ZlKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uTW92ZSgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdmUpO1xuICAgIH1cbn07XG5cbnAuX2NyZWF0ZU9uTW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cbiAgICB2YXIgc2hvd1NldFQsXG4gICAgICAgIGRlbGF5ID0gODc5LFxuICAgICAgICBzaG93aW5nID0gZmFsc2UsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMDtcblxuICAgIHZhciBzaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLl9hY3RpdmUpIHJldHVybjtcblxuICAgICAgICBzaG93aW5nID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5kb21FbGVtLnN0eWxlLmxlZnQgPSB4ICsgNyArIFwicHhcIjtcbiAgICAgICAgX3RoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSB5ICsgNyArIFwicHhcIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfdGhpcy5kb21FbGVtKTtcbiAgICB9O1xuXG4gICAgdmFyIGhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dpbmcgPSBmYWxzZTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKF90aGlzLmRvbUVsZW0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHNob3dpbmcpIGhpZGUoKTtcblxuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgeCA9IGUueDtcbiAgICAgICAgICAgIHkgPSBlLnk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQoc2hvd1NldFQpO1xuICAgICAgICBzaG93U2V0VCA9IHNldFRpbWVvdXQoc2hvdywgZGVsYXkpO1xuICAgIH07XG59O1xuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmxpc3RTdHlsZVR5cGUgPSBcIm5vbmVcIjtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubWFyZ2luID0gMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucGFkZGluZyA9IDA7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbn07XG5cbnAuX2NyZWF0ZUl0ZW0gPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgaWYgKHR5cGVvZiBvcHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0ID0geyB0ZXh0OiBvcHQgfTtcbiAgICB9XG5cbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbGkuc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgbGkuc3R5bGUuZm9udEZhbWlseSA9IFwiXFxcIk9wZW4gU2Fuc1xcXCIsIHNhbnMtc2VyaWZcIjtcbiAgICBsaS5zdHlsZS5mb250U2l6ZSA9IFwiMTRweFwiO1xuICAgIGxpLnN0eWxlLnBhZGRpbmcgPSBcIjAgM3B4XCI7XG4gICAgbGkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgbGkuc3R5bGUuY29sb3IgPSBcIiMwMDBcIjtcbiAgICBsaS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDIyMiwyMzIsMjIyLC43ODUpXCI7XG4gICAgbGkuaW5uZXJIVE1MID0gb3B0LnRleHQ7XG5cblxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChsaSk7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgVHJhbnNmb3JtZXIgPSByZXF1aXJlKFwiLi9oYW5kcy9UcmFuc2Zvcm1lclwiKTtcbnZhciBCb3hlciA9IHJlcXVpcmUoXCIuL2hhbmRzL0JveGVyXCIpO1xudmFyIEN1cnZlciA9IHJlcXVpcmUoXCIuL2hhbmRzL2N1cnZlci9DdXJ2ZXJcIik7XG52YXIgQ3Vyc29ySGludCA9IHJlcXVpcmUoXCIuL0N1cnNvckhpbnRcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50bWFuXCIpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZShcImluaGVyaXRzXCIpO1xudmFyIF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5mdW5jdGlvbiBUcmFuc2hhbmQoKSB7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9oYW5kcyA9IHt9O1xuXG4gICAgdGhpcy5fYnVmZk1vY2tEaXYgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHRoaXMuY3Vyc29ySGludCA9IG5ldyBDdXJzb3JIaW50KCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5kb21FbGVtLCBcInJlbmRlckxldmVsXCIsIHtcbiAgICAgICAgZ2V0OiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJIYW5kICYmIHRoaXMuX2N1cnJIYW5kLnJlbmRlckxldmVsIHx8IDA7XG4gICAgICAgIH0pLmJpbmQodGhpcykgfSk7XG5cblxuICAgIC8vIFtUcmFuc2Zvcm1lciwgQm94ZXIsIEN1cnZlcl0uZm9yRWFjaChmdW5jdGlvbiAoSGFuZCkge1xuXG4gICAgLy8gICAgIHZhciBoYW5kID0gbmV3IEhhbmQodGhpcyk7XG5cbiAgICAvLyAgICAgaGFuZC5vbignY2hhbmdlJywgdGhpcy5lbWl0LmJpbmQodGhpcywgJ2NoYW5nZScpKTtcblxuICAgIC8vICAgICB0aGlzLmhhbmRzW0hhbmQuaWRdID0gaGFuZDtcbiAgICAvLyB9LCB0aGlzKTtcbn1cblxuaW5oZXJpdHMoVHJhbnNoYW5kLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUcmFuc2hhbmQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2hhbmQ7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgdmFyIGhhbmQgPSB0aGlzLl9nZXRIYW5kKG9wdC5oYW5kLnR5cGUpO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJIYW5kICYmIHRoaXMuX2N1cnJIYW5kICE9PSBoYW5kKSB7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIGlmIChoYW5kKSB7XG4gICAgICAgIGhhbmQuc2V0dXAob3B0LmhhbmQpO1xuICAgICAgICB0aGlzLl9jdXJySGFuZCA9IGhhbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgXCJVbmtub3duIGhhbmQgdHlwZTogXCIgKyBvcHQuaGFuZC50eXBlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0Lm9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdC5vbikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50VHlwZSwgb3B0Lm9uW2V2ZW50VHlwZV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9jdXJySGFuZCkge1xuICAgICAgICB0aGlzLl9jdXJySGFuZC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9jdXJySGFuZC5kb21FbGVtKTtcbiAgICB9XG59O1xuXG5wLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJIYW5kKSB7XG4gICAgICAgIHRoaXMuX2N1cnJIYW5kLmRlYWN0aXZhdGUoKTtcblxuICAgICAgICBpZiAodGhpcy5fY3VyckhhbmQuZG9tRWxlbS5wYXJlbnROb2RlID09PSB0aGlzLmRvbUVsZW0pIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5yZW1vdmVDaGlsZCh0aGlzLl9jdXJySGFuZC5kb21FbGVtKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnAuX2dldEhhbmQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICh0eXBlIGluIHRoaXMuX2hhbmRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kc1t0eXBlXTtcbiAgICB9XG5cbiAgICB2YXIgSGFuZCA9IF8uZmluZChbVHJhbnNmb3JtZXIsIEJveGVyLCBDdXJ2ZXJdLCB7IGlkOiB0eXBlIH0pO1xuXG4gICAgaWYgKCFIYW5kKSB0aHJvdyBFcnJvcjtcblxuICAgIHZhciBoYW5kID0gbmV3IEhhbmQodGhpcyk7XG4gICAgaGFuZC5vbihcImNoYW5nZVwiLCB0aGlzLmVtaXQuYmluZCh0aGlzLCBcImNoYW5nZVwiKSk7XG4gICAgdGhpcy5faGFuZHNbSGFuZC5pZF0gPSBoYW5kO1xuXG4gICAgcmV0dXJuIGhhbmQ7XG59O1xuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuTDJHID0gZnVuY3Rpb24gKHApIHtcbiAgICBpZiAoIXRoaXMuX2RlTG9jYWxSb290UGlja2VyKSB7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyLnN0eWxlLmxlZnQgPSBwLnggKyBcInB4XCI7XG4gICAgdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIuc3R5bGUudG9wID0gcC55ICsgXCJweFwiO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9kZUxvY2FsUm9vdCk7XG4gICAgdmFyIGJyID0gdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9kZUxvY2FsUm9vdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBici5sZWZ0LFxuICAgICAgICB5OiBici50b3AgfTtcbn07XG5cbnAuRzJMID0gZnVuY3Rpb24gKHApIHtcbiAgICBpZiAoIXRoaXMuX2RlTG9jYWxSb290UGlja2VyKSB7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZGVMb2NhbFJvb3QpO1xuICAgIHZhciByZXQgPSBuYXN0eUxvY2FsMkdsb2JhbChwLCB0aGlzLl9kZUxvY2FsUm9vdFBpY2tlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9kZUxvY2FsUm9vdCk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxudmFyIHRQcm9wcyA9IFtcInRyYW5zZm9ybVwiLCBcInRyYW5zZm9ybU9yaWdpblwiLCBcInByZXNwZWN0aXZlXCIsIFwicHJlc3BlY3RpdmVPcmlnaW5cIiwgXCJ0cmFuc2Zvcm1TdHlsZVwiXTtcblxucC5zZXRMb2NhbFJvb3QgPSBmdW5jdGlvbiAoZGUpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIGRlUm9vdCA9IGdldERpdigpLFxuICAgICAgICBkZVRvcCA9IGRlUm9vdCxcbiAgICAgICAgZGVQaWNrZXIgPSBnZXREaXYoKSxcbiAgICAgICAgdHJhbnNmb3JtZWRzID0gW10sXG4gICAgICAgIHBhcmVudFBvcyA9IHsgbGVmdDogLXdpbmRvdy5zY3JvbGxYLCB0b3A6IC13aW5kb3cuc2Nyb2xsWSB9LFxuICAgICAgICBhc3NlbWJsZUlkeCA9IDA7XG5cbiAgICBpZiAodGhpcy5fZGVMb2NhbFJvb3QpIHtcbiAgICAgICAgZGlzYXNzZW1ibGUodGhpcy5fZGVMb2NhbFJvb3QpO1xuICAgIH1cblxuICAgIHdhbGtCYWNrKGRlKTtcbiAgICBhc3NlbWJsZSgpO1xuXG4gICAgZGVUb3AuYXBwZW5kQ2hpbGQoZGVQaWNrZXIpO1xuXG4gICAgdGhpcy5fZGVMb2NhbFJvb3QgPSBkZVJvb3Q7XG4gICAgdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIgPSBkZVBpY2tlcjtcbiAgICB0aGlzLl9kZUxvY2FsUm9vdFBpY2tlci5zZXRBdHRyaWJ1dGUoXCJwaWNrZXJcIiwgMSk7IC8vZGVidWdcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2RlTG9jYWxSb290KTtcblxuXG4gICAgZnVuY3Rpb24gd2Fsa0JhY2soZGUpIHtcbiAgICAgICAgaWYgKGRlLm5vZGVOYW1lID09PSBcIkJPRFlcIikgcmV0dXJuO1xuXG4gICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGUpLFxuICAgICAgICAgICAgcmVnLFxuICAgICAgICAgICAgcHY7XG5cbiAgICAgICAgdFByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSBzZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2Fsa0JhY2soZGUucGFyZW50Tm9kZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0KHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFyZWcpIHtcbiAgICAgICAgICAgICAgICByZWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlOiBkZSxcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lVHJhbnNmb3JtOiBkZS5zdHlsZS50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7fVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZHMudW5zaGlmdChyZWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSBcIm5vbmVcIjtcblxuICAgICAgICAgICAgcmVnLnN0eWxlW3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNzZW1ibGUoKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWcgPSB0cmFuc2Zvcm1lZHNbYXNzZW1ibGVJZHgrK10sXG4gICAgICAgICAgICBkZU5leHQgPSB0cmFuc2Zvcm1SZWcgPyB0cmFuc2Zvcm1SZWcuZGUgOiBkZSxcbiAgICAgICAgICAgIG5leHRQb3MgPSBkZU5leHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIGRlTmV3ID0gZ2V0RGl2KCk7XG4gICAgICAgIGRlVG9wLmFwcGVuZENoaWxkKGRlTmV3KTtcbiAgICAgICAgZGVUb3AgPSBkZU5ldztcblxuICAgICAgICBkZU5ldy5zdHlsZS5sZWZ0ID0gbmV4dFBvcy5sZWZ0IC0gcGFyZW50UG9zLmxlZnQgKyBcInB4XCI7XG4gICAgICAgIGRlTmV3LnN0eWxlLnRvcCA9IG5leHRQb3MudG9wIC0gcGFyZW50UG9zLnRvcCArIFwicHhcIjtcblxuICAgICAgICBwYXJlbnRQb3MgPSBuZXh0UG9zO1xuXG4gICAgICAgIGlmICh0cmFuc2Zvcm1SZWcpIHtcbiAgICAgICAgICAgIC8vZm9yIHRoZSB0cmFuc2Zvcm0gYW5kIHBlcnNwZWN0aXZlIG9yaWdpblxuICAgICAgICAgICAgZGVOZXcuc3R5bGUud2lkdGggPSBuZXh0UG9zLndpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgZGVOZXcuc3R5bGUuaGVpZ2h0ID0gbmV4dFBvcy5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRyYW5zZm9ybVJlZy5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICBkZU5ldy5zdHlsZVtwcm9wTmFtZV0gPSB0cmFuc2Zvcm1SZWcuc3R5bGVbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFzc2VtYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1lZHMuZm9yRWFjaChmdW5jdGlvbiAocmVnKSB7XG4gICAgICAgIHJlZy5kZS5zdHlsZS50cmFuc2Zvcm0gPSByZWcuaW5saW5lVHJhbnNmb3JtO1xuICAgIH0pO1xuICAgIHRyYW5zZm9ybWVkcy5sZW5ndGggPSAwO1xuXG4gICAgZnVuY3Rpb24gZGlzYXNzZW1ibGUoZGUpIHtcbiAgICAgICAgZGUucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgICAgIGRlLnJlbW92ZUF0dHJpYnV0ZShcInBpY2tlclwiKTsgLy9kZWJ1Z1xuICAgICAgICB0aGF0Ll9idWZmTW9ja0Rpdi5wdXNoKGRlKTtcblxuICAgICAgICB2YXIgY2hpbGQgPSBkZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGRlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIGRpc2Fzc2VtYmxlKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERpdigpIHtcbiAgICAgICAgdmFyIGRlID0gdGhhdC5fYnVmZk1vY2tEaXYucG9wKCkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGRlLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICBkZS5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICBkZS5zZXRBdHRyaWJ1dGUoXCJtb2NrXCIsIDEpOyAvL2RlYnVnXG5cbiAgICAgICAgcmV0dXJuIGRlO1xuICAgIH1cblxuICAgIC8vIGZ1bmN0aW9uIGFzc2VtYmxlKGRlKSB7XG5cbiAgICAvLyAgICAgaWYgKGRlLm5vZGVOYW1lID09PSAnQk9EWScpIHJldHVybjtcblxuICAgIC8vICAgICB2YXIgdHJhbnNmb3JtZWQsXG4gICAgLy8gICAgICAgICBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGUsIG51bGwpLFxuICAgIC8vICAgICAgICAgcG9zaXRpb24gPSAkKGRlKS5wb3NpdGlvbigpO1xuXG4gICAgLy8gICAgIGlmIChkZS5vZmZzZXRMZWZ0KSB7XG4gICAgLy8gICAgICAgICBkZVJvb3Quc3R5bGUubGVmdCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUubGVmdCB8fCAwKSlcbiAgICAvLyAgICAgICAgICAgICArIHBvc2l0aW9uLmxlZnRcbiAgICAvLyAgICAgICAgICAgICAvKisgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpKSovICsgJ3B4JztcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZiAoZGUub2Zmc2V0VG9wKSB7XG4gICAgLy8gICAgICAgICBkZVJvb3Quc3R5bGUudG9wID0gKHBhcnNlSW50KGRlUm9vdC5zdHlsZS50b3AgfHwgMCkpXG4gICAgLy8gICAgICAgICAgICAgKyBwb3NpdGlvbi50b3BcbiAgICAvLyAgICAgICAgICAgICAvKisgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tdG9wJykpKi8gKyAncHgnO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgaWYgKGRlLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgIC8vICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgIC8vICAgICAgICAgZGVSb290LnN0eWxlLnRyYW5zZm9ybSA9IGRlLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAvLyAgICAgICAgIC8vZm9yIHRoZSB0cmFuc2Zvcm0tb3JpZ2luXG4gICAgLy8gICAgICAgICBkZVJvb3Quc3R5bGUud2lkdGggPSAocGFyc2VJbnQoZGVSb290LnN0eWxlLndpZHRoIHx8IDApICsgZGUub2Zmc2V0V2lkdGgpICsgJ3B4JztcbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS5oZWlnaHQgPSAocGFyc2VJbnQoZGVSb290LnN0eWxlLmhlaWdodCB8fCAwKSArIGRlLm9mZnNldEhlaWdodCkgKyAncHgnO1xuXG4gICAgLy8gICAgICAgICBpZiAoZGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luKSB7XG4gICAgLy8gICAgICAgICAgICAgZGVSb290LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGRlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbjtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZiAoZGUuc3R5bGUucHJlc3BlY3RpdmUpIHtcbiAgICAvLyAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS5wcmVzcGVjdGl2ZSA9IGRlLnN0eWxlLnByZXNwZWN0aXZlO1xuXG4gICAgLy8gICAgICAgICBpZiAoZGUuc3R5bGUucHJlc3BlY3RpdmVPcmlnaW4pIHtcbiAgICAvLyAgICAgICAgICAgICBkZVJvb3Quc3R5bGUucHJlc3BlY3RpdmVPcmlnaW4gPSBkZS5zdHlsZS5wcmVzcGVjdGl2ZU9yaWdpbjtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZiAoZGUuc3R5bGUudHJhbnNmb3JtU3R5bGUpIHtcbiAgICAvLyAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAvLyAgICAgICAgIGRlUm9vdC5zdHlsZS50cmFuc2Zvcm1TdHlsZSA9IGRlLnN0eWxlLnRyYW5zZm9ybVN0eWxlO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgaWYgKHRyYW5zZm9ybWVkKSB7XG5cbiAgICAvLyAgICAgICAgIHZhciBwYXJlbnQgPSBnZXREaXYoKTtcbiAgICAvLyAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChkZVJvb3QpO1xuICAgIC8vICAgICAgICAgZGVSb290ID0gcGFyZW50O1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgYXNzZW1ibGUoZGUucGFyZW50Tm9kZSk7XG4gICAgLy8gfVxufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBuYXN0eUxvY2FsMkdsb2JhbChtUG9zLCBkZVBpY2tlcikge1xuICAgIHZhciB0d2Vha0Rpc3QgPSAxMjgsXG4gICAgICAgIHR3ZWFrRGlzdFN0ZXAgPSAwLFxuICAgICAgICB0d2Vha1JhZCA9IE1hdGguUEkgLyAyLFxuICAgICAgICBkaXN0ID0gdHdlYWtEaXN0ICogMixcbiAgICAgICAgcmFkID0gMCxcbiAgICAgICAgbnVsbFBvcyA9IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBnbG9iYWxOdWxsUG9zID0gTDJHKG51bGxQb3MpLFxuICAgICAgICBnbG9iYWxSYWQgPSBnZXRSYWQoZ2xvYmFsTnVsbFBvcywgbVBvcyksXG4gICAgICAgIGdsb2JhbERpc3QgPSBwb3NEaXN0KGdsb2JhbE51bGxQb3MsIG1Qb3MpO1xuXG4gICAgd2hpbGUgKHR3ZWFrUmFkID4gMC4wMDAwMDEpIHtcbiAgICAgICAgdmFyIGdsb2JhbFRlc3RSYWQgPSBnZXRSYWQobVBvcywgTDJHKFJhZDJQb3MocmFkLCB0d2Vha0Rpc3QpKSk7XG5cbiAgICAgICAgaWYgKHJhZERpZmYoZ2xvYmFsUmFkLCBnbG9iYWxUZXN0UmFkKSA8IDApIHtcbiAgICAgICAgICAgIHJhZCArPSB0d2Vha1JhZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhZCAtPSB0d2Vha1JhZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHR3ZWFrUmFkIC89IDI7XG4gICAgfVxuXG5cbiAgICB3aGlsZSAocG9zRGlzdChnbG9iYWxOdWxsUG9zLCBMMkcoUmFkMlBvcyhyYWQsIGRpc3QgKyAyICogdHdlYWtEaXN0KSkpIDwgZ2xvYmFsRGlzdCAmJiBkaXN0IDwgdHdlYWtEaXN0ICogNjQpIHtcbiAgICAgICAgZGlzdCArPSA0ICogdHdlYWtEaXN0O1xuICAgIH1cblxuICAgIHdoaWxlICh0d2Vha0Rpc3QgPiAxKSB7XG4gICAgICAgIGlmIChwb3NEaXN0KGdsb2JhbE51bGxQb3MsIEwyRyhSYWQyUG9zKHJhZCwgZGlzdCkpKSA8IGdsb2JhbERpc3QpIHtcbiAgICAgICAgICAgIGRpc3QgKz0gdHdlYWtEaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzdCAtPSB0d2Vha0Rpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICB0d2Vha0Rpc3QgLz0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4gUmFkMlBvcyhyYWQsIGRpc3QpO1xuXG5cblxuXG4gICAgZnVuY3Rpb24gY2xvc2VzdFJhZChhUmFkLCBiUmFkKSB7XG4gICAgICAgIHZhciBhUG9zID0gTDJHKFJhZDJQb3MoYVJhZCwgdHdlYWtEaXN0KSksXG4gICAgICAgICAgICBiUG9zID0gTDJHKFJhZDJQb3MoYlJhZCwgdHdlYWtEaXN0KSksXG4gICAgICAgICAgICBnQVJhZCA9IGdldFJhZChnbG9iYWxOdWxsUG9zLCBhUG9zKSxcbiAgICAgICAgICAgIGdCUmFkID0gZ2V0UmFkKGdsb2JhbE51bGxQb3MsIGJQb3MpO1xuXG5cbiAgICAgICAgJChcIiNzMFwiKS5jc3MoXCJsZWZ0XCIsIGFQb3MueCk7XG4gICAgICAgICQoXCIjczBcIikuY3NzKFwidG9wXCIsIGFQb3MueSk7XG4gICAgICAgICQoXCIjczFcIikuY3NzKFwibGVmdFwiLCBiUG9zLngpO1xuICAgICAgICAkKFwiI3MxXCIpLmNzcyhcInRvcFwiLCBiUG9zLnkpO1xuXG4gICAgICAgIHJldHVybiByYWREaWZmKGdBUmFkLCBnbG9iYWxSYWQpIDwgcmFkRGlmZihnQlJhZCwgZ2xvYmFsUmFkKSA/IGFSYWQgOiBiUmFkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJhZChhUG9zLCBiUG9zKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKGJQb3MueSAtIGFQb3MueSwgYlBvcy54IC0gYVBvcy54KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBSYWQyUG9zKHJhZCwgZGlzdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5jb3MocmFkKSAqIGRpc3QsXG4gICAgICAgICAgICB5OiBNYXRoLnNpbihyYWQpICogZGlzdCB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEwyRyhwb3MpIHtcbiAgICAgICAgZGVQaWNrZXIuc3R5bGUubGVmdCA9IHBvcy54ICsgXCJweFwiO1xuICAgICAgICBkZVBpY2tlci5zdHlsZS50b3AgPSBwb3MueSArIFwicHhcIjtcblxuICAgICAgICB2YXIgYnIgPSBkZVBpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4geyB4OiBici5sZWZ0LCB5OiBici50b3AgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYWREaWZmKGFSYWQsIGJSYWQpIHtcbiAgICAgICAgYlJhZCAtPSBhUmFkO1xuICAgICAgICBiUmFkICU9IE1hdGguUEkgKiAyO1xuXG4gICAgICAgIGlmIChiUmFkID4gTWF0aC5QSSkgYlJhZCAtPSAyICogTWF0aC5QSTtlbHNlIGlmIChiUmFkIDwgLU1hdGguUEkpIGJSYWQgKz0gMiAqIE1hdGguUEk7XG5cbiAgICAgICAgcmV0dXJuIGJSYWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zRGlzdChhUCwgYlApIHtcbiAgICAgICAgdmFyIGR4ID0gYVAueCAtIGJQLngsXG4gICAgICAgICAgICBkeSA9IGFQLnkgLSBiUC55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIE1PVVNFU1RBVEVTID0ge1xuICAgIG1vdmU6IFwibW92ZVwiLFxuICAgIFwiMTAwMFwiOiBcIm5zLXJlc2l6ZVwiLFxuICAgIFwiMTEwMFwiOiBcIm5lc3ctcmVzaXplXCIsXG4gICAgXCIwMTAwXCI6IFwiZXctcmVzaXplXCIsXG4gICAgXCIwMTEwXCI6IFwibndzZS1yZXNpemVcIixcbiAgICBcIjAwMTBcIjogXCJucy1yZXNpemVcIixcbiAgICBcIjAwMTFcIjogXCJuZXN3LXJlc2l6ZVwiLFxuICAgIFwiMDAwMVwiOiBcImV3LXJlc2l6ZVwiLFxuICAgIFwiMTAwMVwiOiBcIm53c2UtcmVzaXplXCIgfTtcblxudmFyIElOSVRfUEFSQU1TID0ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3OiAwLFxuICAgIGg6IDAgfTtcblxuXG5mdW5jdGlvbiBCb3hlcigpIHtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3BhcmFtcyA9IF8uY2xvbmUoSU5JVF9QQVJBTVMpO1xuXG4gICAgdGhpcy5fb25EcmFnID0gdGhpcy5fb25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yYWZPbkRyYWcgPSB0aGlzLl9yYWZPbkRyYWcuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk92ZXJIaXRib3ggPSB0aGlzLl9vbk92ZXJIaXRib3guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk91dEhpdGJveCA9IHRoaXMuX29uT3V0SGl0Ym94LmJpbmQodGhpcyk7XG59XG5cbkJveGVyLmlkID0gXCJib3hlclwiO1xuXG5pbmhlcml0cyhCb3hlciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQm94ZXIucHJvdG90eXBlO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlR3JhcGhpY3MoKTtcbiAgICB9XG5cbiAgICBfLmV4dGVuZCh0aGlzLl9wYXJhbXMsIElOSVRfUEFSQU1TLCBvcHQucGFyYW1zKTtcbiAgICB0aGlzLl9yZW5kZXJIYW5kbGVyKCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUJveC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cblxuXG5cblxucC5fb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2lzSGFuZGxlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG5cbiAgICB0aGlzLl9tZFBvcyA9IHtcbiAgICAgICAgbXg6IGUuY2xpZW50WCxcbiAgICAgICAgbXk6IGUuY2xpZW50WSxcbiAgICAgICAgcGFyYW1zOiBfLmNsb25lKHRoaXMuX3BhcmFtcykgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uRHJhZyk7XG59O1xuXG5wLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCF0aGlzLl9pc0hhbmRsZSAmJiB0aGlzLl9pc092ZXJIaXRib3gpIHtcbiAgICAgICAgdGhpcy5fc2V0RmluZ2VyKGUpO1xuICAgIH1cbn07XG5cbnAuX29uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbkRyYWcpO1xuXG4gICAgaWYgKHRoaXMuX3JhZk9uRHJhZ1JhZklkKSB7XG4gICAgICAgIHRoaXMuX3JhZk9uRHJhZygpO1xuICAgIH1cblxuICAgIHRoaXMuX2lzSGFuZGxlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xufTtcblxucC5fb25PdmVySGl0Ym94ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IHRydWU7XG59O1xuXG5wLl9vbk91dEhpdGJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc092ZXJIaXRib3ggPSBmYWxzZTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fcmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zO1xuXG4gICAgdGhpcy5fZGVCb3guc3R5bGUubGVmdCA9IHBhcmFtcy54ICsgXCJweFwiO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLnRvcCA9IHBhcmFtcy55ICsgXCJweFwiO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLndpZHRoID0gcGFyYW1zLncgKyBcInB4XCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuaGVpZ2h0ID0gcGFyYW1zLmggKyBcInB4XCI7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgIHRoaXMuX29uRHJhZ01lID0gZTtcblxuICAgIGlmICghdGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcbiAgICAgICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmT25EcmFnKTtcbiAgICB9XG59O1xuXG5wLl9yYWZPbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSB0aGlzLl9vbkRyYWdNZTtcbiAgICB0aGlzLl9vbkRyYWdNZSA9IHVuZGVmaW5lZDtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yYWZPbkRyYWdSYWZJZCk7XG4gICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBtZCA9IHRoaXMuX21kUG9zLFxuICAgICAgICBmaW5nZXIgPSB0aGlzLl9maW5nZXIsXG4gICAgICAgIG14ID0gZS5jbGllbnRYLFxuICAgICAgICBteSA9IGUuY2xpZW50WSxcbiAgICAgICAgZHggPSBteCAtIG1kLm14LFxuICAgICAgICBkeSA9IG15IC0gbWQubXksXG4gICAgICAgIGNoYW5nZSA9IHt9O1xuXG5cblxuICAgIGlmIChmaW5nZXIgPT09IFwibW92ZVwiKSB7XG4gICAgICAgIGNoYW5nZS54ID0gbWQucGFyYW1zLnggKyBkeDtcbiAgICAgICAgY2hhbmdlLnkgPSBtZC5wYXJhbXMueSArIGR5O1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDApID09PSBcIjFcIikge1xuICAgICAgICBjaGFuZ2UueSA9IG1kLnBhcmFtcy55ICsgZHk7XG4gICAgICAgIGNoYW5nZS5oID0gbWQucGFyYW1zLmggLSBkeTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgxKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgY2hhbmdlLncgPSBtZC5wYXJhbXMudyArIGR4O1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDIpID09PSBcIjFcIikge1xuICAgICAgICBjaGFuZ2UuaCA9IG1kLnBhcmFtcy5oICsgZHk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMykgPT09IFwiMVwiKSB7XG4gICAgICAgIGNoYW5nZS54ID0gbWQucGFyYW1zLnggKyBkeDtcbiAgICAgICAgY2hhbmdlLncgPSBtZC5wYXJhbXMudyAtIGR4O1xuICAgIH1cblxuXG5cbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgY2hhbmdlLCBcInRyYW5zZm9ybVwiKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fc2V0RmluZ2VyID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBteCA9IGUuY2xpZW50WCxcbiAgICAgICAgbXkgPSBlLmNsaWVudFksXG4gICAgICAgIGRpZmYgPSA2LFxuICAgICAgICBkVG9wID0gTWF0aC5hYnMocGFyYW1zLnkgLSBteSksXG4gICAgICAgIGRSaWdodCA9IE1hdGguYWJzKHBhcmFtcy54ICsgcGFyYW1zLncgLSBteCksXG4gICAgICAgIGRCb3R0b20gPSBNYXRoLmFicyhwYXJhbXMueSArIHBhcmFtcy5oIC0gbXkpLFxuICAgICAgICBkTGVmdCA9IE1hdGguYWJzKHBhcmFtcy54IC0gbXgpLFxuICAgICAgICB0b3AgPSBkVG9wIDwgZGlmZixcbiAgICAgICAgcmlnaHQgPSBkUmlnaHQgPCBkaWZmLFxuICAgICAgICBib3R0b20gPSBkQm90dG9tIDwgZGlmZixcbiAgICAgICAgbGVmdCA9IGRMZWZ0IDwgZGlmZixcbiAgICAgICAgaW5zaWRlID0gbXggPiBwYXJhbXMueCAmJiBteCA8IHBhcmFtcy54ICsgcGFyYW1zLncgJiYgbXkgPiBwYXJhbXMueSAmJiBteSA8IHBhcmFtcy55ICsgcGFyYW1zLmg7XG5cbiAgICBpZiAocGFyYW1zLncgKiBwYXJhbXMuc3ggPCBkaWZmICogMiAmJiBpbnNpZGUpIHtcbiAgICAgICAgbGVmdCA9IGZhbHNlO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuaCAqIHBhcmFtcy5zeSA8IGRpZmYgKiAyICYmIGluc2lkZSkge1xuICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgYm90dG9tID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRvcCB8fCByaWdodCB8fCBib3R0b20gfHwgbGVmdCkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSAoXCIwMDBcIiArICh0b3AgKiAxMDAwICsgcmlnaHQgKiAxMDAgKyBib3R0b20gKiAxMCArIGxlZnQgKiAxKSkuc3Vic3RyKC00KTtcbiAgICB9IGVsc2UgaWYgKGluc2lkZSkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSBcIm1vdmVcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvcihNT1VTRVNUQVRFU1t0aGlzLl9maW5nZXJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3IoXCJhdXRvXCIpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEN1cnNvciA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICB0aGlzLl9kZUJveC5zdHlsZS5jdXJzb3IgPSBjdXJzb3I7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbn07XG5cblxuXG5cblxuXG5cbnAuY3JlYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgdGhpcy5fZGVGdWxsSGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRnVsbEhpdCk7XG5cbiAgICB0aGlzLl9kZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuYm9yZGVyID0gXCJzb2xpZCAxcHggcmVkXCI7XG4gICAgdGhpcy5fZGVCb3guYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5fb25PdmVySGl0Ym94KTtcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9vbk91dEhpdGJveCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVCb3gpO1xuXG5cbiAgICB2YXIgb25GaXRzdE1vdmUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9vbk92ZXJIaXRib3goKTtcbiAgICAgICAgdGhpcy5fZGVCb3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbkZpdHN0TW92ZSk7XG4gICAgfSkuYmluZCh0aGlzKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hlcjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudG1hblwiKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoXCJpbmhlcml0c1wiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIE1PVVNFU1RBVEVTID0ge1xuICAgIG1vdmU6IFwibW92ZVwiLFxuICAgIHJvdGF0ZTogXCItd2Via2l0LWdyYWJcIixcbiAgICBvcmlnaW46IFwiY3Jvc3NoYWlyXCIsXG4gICAgXCIxMDAwXCI6IFwibnMtcmVzaXplXCIsXG4gICAgXCIxMTAwXCI6IFwibmVzdy1yZXNpemVcIixcbiAgICBcIjAxMDBcIjogXCJldy1yZXNpemVcIixcbiAgICBcIjAxMTBcIjogXCJud3NlLXJlc2l6ZVwiLFxuICAgIFwiMDAxMFwiOiBcIm5zLXJlc2l6ZVwiLFxuICAgIFwiMDAxMVwiOiBcIm5lc3ctcmVzaXplXCIsXG4gICAgXCIwMDAxXCI6IFwiZXctcmVzaXplXCIsXG4gICAgXCIxMDAxXCI6IFwibndzZS1yZXNpemVcIiB9O1xuXG52YXIgSU5JVF9QQVJBTVMgPSB7XG4gICAgdHg6IDAsIHR5OiAwLFxuICAgIHN4OiAxLCBzeTogMSxcbiAgICByejogMCxcbiAgICBveDogMC41LCBveTogMC41IH07XG5cbnZhciBJTklUX0JBU0UgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHc6IDAsXG4gICAgaDogMCB9O1xuXG52YXIgaGludHMgPSB7XG4gICAgc2NhbGU6IFtcInNoaWZ0IC0ga2VlcCBwcm9wb3J0aW9uXCIsIFwiYWx0IC0gZnJvbSB0aGUgb3Bwb3NpdGUgc2lkZVwiXSxcbiAgICByb3RhdGU6IFtcInNoaWZ0IC0gMTXCsCBzdGVwc1wiXSxcbiAgICBtb3ZlOiBbXCJzaGlmdCAtIG1vdmUgaW4gb25lIGRpbWVuc2lvblwiXSB9O1xuXG5cbmZ1bmN0aW9uIFRyYW5zZm9ybWVyKHRyYW5zaGFuZCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fdGggPSB0cmFuc2hhbmQ7XG4gICAgdGhpcy5fcGFyYW1zID0gXy5jbG9uZShJTklUX1BBUkFNUyk7XG4gICAgdGhpcy5fYmFzZSA9IF8uY2xvbmUoSU5JVF9CQVNFKTtcbiAgICB0aGlzLl9wb2ludHMgPSBbe30sIHt9LCB7fSwge31dO1xuICAgIHRoaXMuX3BPcmlnaW4gPSB7fTtcbiAgICB0aGlzLl9vcmlnaW5SYWRpdXMgPSA2O1xuICAgIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgPSAxNjtcblxuXG4gICAgdGhpcy5fb25EcmFnID0gdGhpcy5fb25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yYWZPbkRyYWcgPSB0aGlzLl9yYWZPbkRyYWcuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk92ZXJIaXRib3ggPSB0aGlzLl9vbk92ZXJIaXRib3guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk91dEhpdGJveCA9IHRoaXMuX29uT3V0SGl0Ym94LmJpbmQodGhpcyk7XG59XG5cblxuaW5oZXJpdHMoVHJhbnNmb3JtZXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRyYW5zZm9ybWVyLnByb3RvdHlwZTtcblxuVHJhbnNmb3JtZXIuaWQgPSBcInRyYW5zZm9ybWVyXCI7XG5wLnJlbmRlckxldmVsID0gMTtcblxucC5zZXR1cCA9IGZ1bmN0aW9uIChvcHQpIHtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgXy5leHRlbmQodGhpcy5fcGFyYW1zLCBJTklUX1BBUkFNUywgb3B0LnBhcmFtcyk7XG4gICAgXy5leHRlbmQodGhpcy5fYmFzZSwgSU5JVF9CQVNFLCBvcHQuYmFzZSk7XG4gICAgdGhpcy5fcmVmcmVzaFBvaW50cygpO1xuICAgIHRoaXMuX3JlbmRlckhhbmRsZXIoKTtcbiAgICB0aGlzLl9yZWZyZXNoSGl0Ym94KCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cblxuXG5cblxucC5fb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2lzSGFuZGxlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG5cbiAgICB0aGlzLl9tZFBvcyA9IHtcbiAgICAgICAgbTogdGhpcy5fdGguRzJMKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSksXG4gICAgICAgIHBhcmFtczogXy5jbG9uZURlZXAodGhpcy5fcGFyYW1zKSxcbiAgICAgICAgcG9pbnRzOiBfLmNsb25lRGVlcCh0aGlzLl9wb2ludHMpLFxuICAgICAgICBwT3JpZ2luOiBfLmNsb25lRGVlcCh0aGlzLl9wT3JpZ2luKVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbkRyYWcpO1xufTtcblxucC5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5faXNIYW5kbGUgJiYgdGhpcy5faXNPdmVySGl0Ym94KSB7XG4gICAgICAgIHRoaXMuX3NldEZpbmdlcihlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY3Vyc29yRnVuYykge1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3IodGhpcy5fY3Vyc29yRnVuYyhlLmNsaWVudFgsIGUuY2xpZW50WSkpO1xuICAgIH1cbn07XG5cbnAuX29uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbkRyYWcpO1xuXG4gICAgaWYgKHRoaXMuX3JhZk9uRHJhZ1JhZklkKSB7XG4gICAgICAgIHRoaXMuX3JhZk9uRHJhZygpO1xuICAgIH1cblxuICAgIHRoaXMuX2lzSGFuZGxlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xufTtcblxucC5fb25PdmVySGl0Ym94ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IHRydWU7XG59O1xuXG5wLl9vbk91dEhpdGJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc092ZXJIaXRib3ggPSBmYWxzZTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmFzZSA9IF8uY2xvbmUodGhpcy5fYmFzZSksXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgcCA9IHRoaXMuX3BvaW50cyxcbiAgICAgICAgcG8gPSB0aGlzLl9wT3JpZ2luO1xuXG4gICAgYmFzZS54ICs9IHBhcmFtcy50eDtcbiAgICBiYXNlLnkgKz0gcGFyYW1zLnR5O1xuXG4gICAgcG8ueCA9IGJhc2UueCArIGJhc2UudyAqIHBhcmFtcy5veDtcbiAgICBwby55ID0gYmFzZS55ICsgYmFzZS5oICogcGFyYW1zLm95O1xuXG4gICAgdmFyIHRveCA9IGJhc2UueCArIHBhcmFtcy5veCAqIGJhc2UudyxcbiAgICAgICAgdG95ID0gYmFzZS55ICsgcGFyYW1zLm95ICogYmFzZS5oO1xuXG4gICAgdChwWzBdLCBiYXNlLngsIGJhc2UueSk7XG4gICAgdChwWzFdLCBiYXNlLnggKyBiYXNlLncsIGJhc2UueSk7XG4gICAgdChwWzJdLCBiYXNlLnggKyBiYXNlLncsIGJhc2UueSArIGJhc2UuaCk7XG4gICAgdChwWzNdLCBiYXNlLngsIGJhc2UueSArIGJhc2UuaCk7XG5cbiAgICBmdW5jdGlvbiB0KHAsIHgsIHkpIHtcbiAgICAgICAgdmFyIGR4ID0gKHggLSB0b3gpICogcGFyYW1zLnN4LFxuICAgICAgICAgICAgZHkgPSAoeSAtIHRveSkgKiBwYXJhbXMuc3ksXG4gICAgICAgICAgICBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSxcbiAgICAgICAgICAgIHJhZCA9IE1hdGguYXRhbjIoZHksIGR4KSArIHBhcmFtcy5yeixcbiAgICAgICAgICAgIG54ID0gTWF0aC5jb3MocmFkKSxcbiAgICAgICAgICAgIG55ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgICAgICAgIHJ4ID0gZCAqIG54LFxuICAgICAgICAgICAgcnkgPSBkICogbnksXG4gICAgICAgICAgICBweCA9IHRveCArIHJ4LFxuICAgICAgICAgICAgcHkgPSB0b3kgKyByeTtcblxuICAgICAgICBwLnggPSBweDtcbiAgICAgICAgcC55ID0gcHk7XG4gICAgfVxufTtcblxuXG5cbnAuX3JlbmRlckhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHAgPSB0aGlzLl9wb2ludHMubWFwKHRoaXMuX3RoLkwyRywgdGhpcy5fdGgpLFxuICAgICAgICBwbyA9IHRoaXMuX3RoLkwyRyh0aGlzLl9wT3JpZ2luKSxcbiAgICAgICAgYyA9IHRoaXMuX2RlQ2FudmFzLFxuICAgICAgICBvciA9IHRoaXMuX29yaWdpblJhZGl1cyxcbiAgICAgICAgY3R4ID0gYy5nZXRDb250ZXh0KFwiMmRcIiksXG4gICAgICAgIG1hcmdpbiA9IDcsXG4gICAgICAgIG1pblggPSBNYXRoLm1pbihwWzBdLngsIHBbMV0ueCwgcFsyXS54LCBwWzNdLngsIHBvLngpLFxuICAgICAgICBtYXhYID0gTWF0aC5tYXgocFswXS54LCBwWzFdLngsIHBbMl0ueCwgcFszXS54LCBwby54KSxcbiAgICAgICAgbWluWSA9IE1hdGgubWluKHBbMF0ueSwgcFsxXS55LCBwWzJdLnksIHBbM10ueSwgcG8ueSksXG4gICAgICAgIG1heFkgPSBNYXRoLm1heChwWzBdLnksIHBbMV0ueSwgcFsyXS55LCBwWzNdLnksIHBvLnkpO1xuXG4gICAgYy5zdHlsZS5sZWZ0ID0gbWluWCAtIG1hcmdpbiArIFwicHhcIjtcbiAgICBjLnN0eWxlLnRvcCA9IG1pblkgLSBtYXJnaW4gKyBcInB4XCI7XG4gICAgYy53aWR0aCA9IG1heFggLSBtaW5YICsgbWFyZ2luICogMjtcbiAgICBjLmhlaWdodCA9IG1heFkgLSBtaW5ZICsgbWFyZ2luICogMjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShtYXJnaW4gLSBtaW5YLCBtYXJnaW4gLSBtaW5ZKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhwWzBdLngsIHBbMF0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzFdLngsIHBbMV0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzJdLngsIHBbMl0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzNdLngsIHBbM10ueSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgY3R4Lm1vdmVUbyhwby54IC0gb3IsIHBvLnkpO1xuICAgIGN0eC5saW5lVG8ocG8ueCArIG9yLCBwby55KTtcbiAgICBjdHgubW92ZVRvKHBvLngsIHBvLnkgLSBvcik7XG4gICAgY3R4LmxpbmVUbyhwby54LCBwby55ICsgb3IpO1xuXG5cbiAgICAvLyBjdHguc2hhZG93Q29sb3IgPSAnI2YwMCc7XG4gICAgLy8gY3R4LnNoYWRvd0JsdXIgPSAzO1xuICAgIC8vIGN0eC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAvLyBjdHguc2hhZG93T2Zmc2V0WSA9IDA7XG5cbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiM0ZjJcIjtcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcblxuXG5cbiAgICAvL2hpdGJveGVzXG5cbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5zdHlsZS5sZWZ0ID0gcG8ueCAtIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgKyBcInB4XCI7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuc3R5bGUudG9wID0gcG8ueSAtIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgKyBcInB4XCI7XG5cbiAgICB2YXIgaGJwID0gXCJcIjtcbiAgICBoYnAgKz0gcFswXS54ICsgXCIsXCIgKyBwWzBdLnkgKyBcIiBcIjtcbiAgICBoYnAgKz0gcFsxXS54ICsgXCIsXCIgKyBwWzFdLnkgKyBcIiBcIjtcbiAgICBoYnAgKz0gcFsyXS54ICsgXCIsXCIgKyBwWzJdLnkgKyBcIiBcIjtcbiAgICBoYnAgKz0gcFszXS54ICsgXCIsXCIgKyBwWzNdLnk7XG4gICAgdGhpcy5fZGVIaXRib3guc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIGhicCk7XG59O1xuXG5wLl9yZWZyZXNoSGl0Ym94ID0gZnVuY3Rpb24gKCkge307XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgIHRoaXMuX29uRHJhZ01lID0gZTtcblxuICAgIGlmICghdGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcbiAgICAgICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmT25EcmFnKTtcbiAgICB9XG59O1xuXG5wLl9yYWZPbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSB0aGlzLl9vbkRyYWdNZTtcbiAgICB0aGlzLl9vbkRyYWdNZSA9IHVuZGVmaW5lZDtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yYWZPbkRyYWdSYWZJZCk7XG4gICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBiYXNlID0gdGhpcy5fYmFzZSxcbiAgICAgICAgcE9yaWdpbiA9IHRoaXMuX3BPcmlnaW4sXG4gICAgICAgIG1kID0gdGhpcy5fbWRQb3MsXG4gICAgICAgIGZpbmdlciA9IHRoaXMuX2ZpbmdlcixcbiAgICAgICAgbSA9IHRoaXMuX3RoLkcyTCh7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pLFxuICAgICAgICBkeCA9IG0ueCAtIG1kLm0ueCxcbiAgICAgICAgZHkgPSBtLnkgLSBtZC5tLnksXG4gICAgICAgIGFsdCA9IGUuYWx0S2V5LFxuICAgICAgICBzaGlmdCA9IGUuc2hpZnRLZXksXG4gICAgICAgIGNoYW5nZSA9IHt9O1xuXG4gICAgaWYgKGZpbmdlciA9PT0gXCJvcmlnaW5cIikge1xuICAgICAgICBzZXRPcmlnaW4oKTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyID09PSBcIm1vdmVcIikge1xuICAgICAgICBzZXRUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgwKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgc2V0U2NhbGUoLU1hdGguUEkgLyAyLCBcInN5XCIsIC0xKTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgxKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgc2V0U2NhbGUoMCwgXCJzeFwiLCAxKTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgyKSA9PT0gXCIxXCIpIHtcbiAgICAgICAgc2V0U2NhbGUoTWF0aC5QSSAvIDIsIFwic3lcIiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMykgPT09IFwiMVwiKSB7XG4gICAgICAgIHNldFNjYWxlKE1hdGguUEksIFwic3hcIiwgLTEpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIgPT09IFwicm90YXRlXCIpIHtcbiAgICAgICAgc2V0Um90YXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoc2hpZnQgJiYgXCJzeFwiIGluIGNoYW5nZSAmJiBcInN5XCIgaW4gY2hhbmdlKSB7XG4gICAgICAgIGZpeFByb3BvcnRpb24oKTtcbiAgICB9XG5cblxuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCBjaGFuZ2UsIFwidHJhbnNmb3JtXCIpO1xuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBzZXRTY2FsZShyLCBzTiwgd2F5KSB7XG4gICAgICAgIHZhciByYWQgPSByICsgbWQucGFyYW1zLnJ6LFxuICAgICAgICAgICAgbWREaXN0ID0gZGlzdFRvUG9pbnRJbkFuZ2xlKG1kLnBPcmlnaW4sIG1kLm0sIHJhZCksXG4gICAgICAgICAgICBkcmFnRGlzdCA9IGRpc3RUb1BvaW50SW5BbmdsZShtZC5wT3JpZ2luLCBtLCByYWQpLFxuICAgICAgICAgICAgc2NhbGUgPSBkcmFnRGlzdCAvIG1kRGlzdCAqIG1kLnBhcmFtc1tzTl07XG5cbiAgICAgICAgaWYgKGFsdCkge1xuICAgICAgICAgICAgdmFyIGVzID0gKHNjYWxlIC0gbWQucGFyYW1zW3NOXSkgLyAyLFxuICAgICAgICAgICAgICAgIHROID0gXCJ0XCIgKyBzTi5jaGFyQXQoMSksXG4gICAgICAgICAgICAgICAgZE4gPSBzTi5jaGFyQXQoMSkgPT09IFwieFwiID8gXCJ3XCIgOiBcImhcIjtcblxuICAgICAgICAgICAgc2NhbGUgLT0gZXM7XG4gICAgICAgICAgICBjaGFuZ2VbdE5dID0gcGFyYW1zW3ROXSA9IG1kLnBhcmFtc1t0Tl0gKyBiYXNlW2ROXSAqIGVzIC8gMiAqIHdheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYW5nZVtzTl0gPSBwYXJhbXNbc05dID0gc2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZml4UHJvcG9ydGlvbigpIHtcbiAgICAgICAgdmFyIG14ID0gbS54IC0gcE9yaWdpbi54LFxuICAgICAgICAgICAgbXkgPSBtLnkgLSBwT3JpZ2luLnksXG4gICAgICAgICAgICBtciA9IE1hdGguYWJzKHJhZERpZmYocGFyYW1zLnJ6LCBNYXRoLmF0YW4yKG15LCBteCkpKSxcbiAgICAgICAgICAgIGlzVmVydGljYWwgPSBtciA+IE1hdGguUEkgLyA0ICYmIG1yIDwgTWF0aC5QSSAvIDQgKiAzLFxuICAgICAgICAgICAgc3B4ID0gcGFyYW1zLnN4IC8gbWQucGFyYW1zLnN4LFxuICAgICAgICAgICAgc3B5ID0gcGFyYW1zLnN5IC8gbWQucGFyYW1zLnN5O1xuXG4gICAgICAgIHNweCAqPSBzcHggPCAwID8gLTEgOiAxO1xuICAgICAgICBzcHkgKj0gc3B5IDwgMCA/IC0xIDogMTtcblxuICAgICAgICB2YXIgc3AgPSBpc1ZlcnRpY2FsID8gc3B5IDogc3B4O1xuXG4gICAgICAgIGNoYW5nZS5zeCA9IHBhcmFtcy5zeCA9IG1kLnBhcmFtcy5zeCAqIHNwO1xuICAgICAgICBjaGFuZ2Uuc3kgPSBwYXJhbXMuc3kgPSBtZC5wYXJhbXMuc3kgKiBzcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRSb3RhdGlvbigpIHtcbiAgICAgICAgdmFyIG1keCA9IG1kLm0ueCAtIHBPcmlnaW4ueCxcbiAgICAgICAgICAgIG1keSA9IG1kLm0ueSAtIHBPcmlnaW4ueSxcbiAgICAgICAgICAgIG1kciA9IE1hdGguYXRhbjIobWR5LCBtZHgpLFxuICAgICAgICAgICAgbXggPSBtLnggLSBwT3JpZ2luLngsXG4gICAgICAgICAgICBteSA9IG0ueSAtIHBPcmlnaW4ueSxcbiAgICAgICAgICAgIG1yID0gTWF0aC5hdGFuMihteSwgbXgpLFxuICAgICAgICAgICAgciA9IG1yIC0gbWRyO1xuXG4gICAgICAgIGlmIChzaGlmdCkge1xuICAgICAgICAgICAgciA9IE1hdGguZmxvb3IociAvIChNYXRoLlBJIC8gMTIpKSAqIChNYXRoLlBJIC8gMTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlLnJ6ID0gcGFyYW1zLnJ6ID0gbWQucGFyYW1zLnJ6ICsgcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGlmIChzaGlmdCkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA+IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eCArIGR4O1xuICAgICAgICAgICAgICAgIGNoYW5nZS50eSA9IHBhcmFtcy50eSA9IG1kLnBhcmFtcy50eTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlLnR4ID0gcGFyYW1zLnR4ID0gbWQucGFyYW1zLnR4O1xuICAgICAgICAgICAgICAgIGNoYW5nZS50eSA9IHBhcmFtcy50eSA9IG1kLnBhcmFtcy50eSArIGR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlLnR4ID0gcGFyYW1zLnR4ID0gbWQucGFyYW1zLnR4ICsgZHg7XG4gICAgICAgICAgICBjaGFuZ2UudHkgPSBwYXJhbXMudHkgPSBtZC5wYXJhbXMudHkgKyBkeTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9yaWdpbigpIHtcbiAgICAgICAgdmFyIG14ID0gbS54IC0gbWQucE9yaWdpbi54LFxuICAgICAgICAgICAgbXkgPSBtLnkgLSBtZC5wT3JpZ2luLnksXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG14ICogbXggKyBteSAqIG15KSxcbiAgICAgICAgICAgIHIgPSBNYXRoLmF0YW4yKG15LCBteCkgLSBwYXJhbXMucnosXG4gICAgICAgICAgICB4ID0gTWF0aC5jb3MocikgKiBkaXN0IC8gcGFyYW1zLnN4LFxuICAgICAgICAgICAgeSA9IE1hdGguc2luKHIpICogZGlzdCAvIHBhcmFtcy5zeTtcblxuICAgICAgICB4ID0gcGFyc2VJbnQoeCAqIDEwMDApIC8gMTAwMDsgLy8/aGFjaz8/XG4gICAgICAgIHkgPSBwYXJzZUludCh5ICogMTAwMCkgLyAxMDAwO1xuXG4gICAgICAgIGNoYW5nZS5veCA9IHBhcmFtcy5veCA9IG1kLnBhcmFtcy5veCArIHggLyBiYXNlLnc7XG4gICAgICAgIGNoYW5nZS5veSA9IHBhcmFtcy5veSA9IG1kLnBhcmFtcy5veSArIHkgLyBiYXNlLmg7XG4gICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eCArIChteCAtIHgpO1xuICAgICAgICBjaGFuZ2UudHkgPSBwYXJhbXMudHkgPSBtZC5wYXJhbXMudHkgKyAobXkgLSB5KTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEZpbmdlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGJhc2UgPSB0aGlzLl9iYXNlLFxuICAgICAgICBwYXJhbXMgPSB0aGlzLl9wYXJhbXMsXG4gICAgICAgIHAgPSB0aGlzLl9wb2ludHMsXG4gICAgICAgIHBvID0gdGhpcy5fcE9yaWdpbixcbiAgICAgICAgZGlmZiA9IDMsXG4gICAgICAgIHJEaWZmID0gMTYsXG4gICAgICAgIG0gPSB0aGlzLl90aC5HMkwoeyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9KSxcbiAgICAgICAgZG94ID0gcG8ueCAtIG0ueCxcbiAgICAgICAgZG95ID0gcG8ueSAtIG0ueSxcbiAgICAgICAgZE9yaWdpbiA9IE1hdGguc3FydChkb3ggKiBkb3ggKyBkb3kgKiBkb3kpLFxuICAgICAgICBkVG9wID0gZGlzdFRvU2VnbWVudChtLCBwWzBdLCBwWzFdKSxcbiAgICAgICAgZExlZnQgPSBkaXN0VG9TZWdtZW50KG0sIHBbMV0sIHBbMl0pLFxuICAgICAgICBkQm90dG9tID0gZGlzdFRvU2VnbWVudChtLCBwWzJdLCBwWzNdKSxcbiAgICAgICAgZFJpZ2h0ID0gZGlzdFRvU2VnbWVudChtLCBwWzNdLCBwWzBdKSxcbiAgICAgICAgdG9wID0gZFRvcCA8IGRpZmYsXG4gICAgICAgIGxlZnQgPSBkTGVmdCA8IGRpZmYsXG4gICAgICAgIGJvdHRvbSA9IGRCb3R0b20gPCBkaWZmLFxuICAgICAgICByaWdodCA9IGRSaWdodCA8IGRpZmYsXG4gICAgICAgIGluc2lkZSA9IGlzSW5zaWRlKG0sIHApLFxuICAgICAgICBjdXJzb3JTY2FsZTtcblxuICAgIGlmIChiYXNlLncgKiBwYXJhbXMuc3ggPCBkaWZmICogMiAmJiBpbnNpZGUpIHtcbiAgICAgICAgbGVmdCA9IGZhbHNlO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChiYXNlLmggKiBwYXJhbXMuc3kgPCBkaWZmICogMiAmJiBpbnNpZGUpIHtcbiAgICAgICAgdG9wID0gZmFsc2U7XG4gICAgICAgIGJvdHRvbSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkT3JpZ2luIDwgdGhpcy5fb3JpZ2luUmFkaXVzKSB7XG4gICAgICAgIHRoaXMuX2ZpbmdlciA9IFwib3JpZ2luXCI7XG4gICAgfSBlbHNlIGlmICh0b3AgfHwgcmlnaHQgfHwgYm90dG9tIHx8IGxlZnQpIHtcbiAgICAgICAgLy9UT0RPIGl0cyBzb3VsZCBiZSB0b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gKFwiMDAwXCIgKyAodG9wICogMTAwMCArIGxlZnQgKiAxMDAgKyBib3R0b20gKiAxMCArIHJpZ2h0ICogMSkpLnN1YnN0cigtNCk7XG4gICAgICAgIGN1cnNvclNjYWxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhoaW50cy5zY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnNpZGUpIHtcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gXCJtb3ZlXCI7XG4gICAgICAgIHRoaXMuX3RoLmN1cnNvckhpbnQuc2V0SGludHMoaGludHMubW92ZSk7XG4gICAgfSBlbHNlIGlmIChkVG9wIDwgckRpZmYgfHwgZFJpZ2h0IDwgckRpZmYgfHwgZEJvdHRvbSA8IHJEaWZmIHx8IGRMZWZ0IDwgckRpZmYgfHwgZE9yaWdpbiA8IHJEaWZmKSB7XG4gICAgICAgIHRoaXMuX2ZpbmdlciA9IFwicm90YXRlXCI7XG4gICAgICAgIHRoaXMuX3RoLmN1cnNvckhpbnQuc2V0SGludHMoaGludHMucm90YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZmluZ2VyID09PSBcInJvdGF0ZVwiKSB7XG4gICAgICAgIHRoaXMuX2N1cnNvckZ1bmMgPSB0aGlzLl9nZXRSb3RhdGVDdXJzb3I7XG4gICAgfSBlbHNlIGlmIChjdXJzb3JTY2FsZSkge1xuICAgICAgICB0aGlzLl9jdXJzb3JGdW5jID0gdGhpcy5fZ2V0U2NhbGVDdXJzb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY3Vyc29yRnVuYyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhpcy5fZmluZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IoTU9VU0VTVEFURVNbdGhpcy5fZmluZ2VyXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IoXCJhdXRvXCIpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fc2V0Q3Vyc29yID0gZnVuY3Rpb24gKGN1cnNvcikge1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5zdHlsZS5jdXJzb3IgPSBjdXJzb3I7XG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbn07XG5cbnAuX2dldFJvdGF0ZUN1cnNvciA9IGZ1bmN0aW9uIChteCwgbXkpIHtcbiAgICB2YXIgcG8gPSB0aGlzLl90aC5MMkcodGhpcy5fcE9yaWdpbiksXG4gICAgICAgIHIgPSBNYXRoLmF0YW4yKG15IC0gcG8ueSwgbXggLSBwby54KSAvIE1hdGguUEkgKiAxODA7XG5cbiAgICByZXR1cm4gXCJ1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMzJcXFwiIGhlaWdodD1cXFwiMzJcXFwiID48cGF0aCB0cmFuc2Zvcm09XFxcInJvdGF0ZShcIiArIHIgKyBcIiwgMTYsIDE2KVxcXCIgZD1cXFwiTTE4LjkwNyAzLjIzOGwtNy41NC0yLjEwNHM4LjM1IDMuOSA4LjQyOCAxNS4zNjdjLjA4IDExLjc5NC03LjgwNyAxNC40OS03LjgwNyAxNC40OWw3LjM2My0xLjcyNVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjIuMDU0XFxcIiBmaWxsPVxcXCJub25lXFxcIi8+PC9zdmc+JykgMTYgMTYsIGF1dG9cIjtcbn07XG5cbnAuX2dldFNjYWxlQ3Vyc29yID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgRklOR0VSUyA9IFtcIjAxMDBcIiwgXCIwMTEwXCIsIFwiMDAxMFwiLCBcIjAwMTFcIiwgXCIwMDAxXCIsIFwiMTAwMVwiLCBcIjEwMDBcIiwgXCIxMTAwXCJdO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpZGVEZWcgPSBGSU5HRVJTLmluZGV4T2YodGhpcy5fZmluZ2VyKSAqIDQ1LFxuICAgICAgICAgICAgcG8gPSB0aGlzLl90aC5MMkcodGhpcy5fcE9yaWdpbiksXG4gICAgICAgICAgICBvVHdlYWsgPSB7IHg6IHRoaXMuX3BPcmlnaW4ueCArIDEyMzQsIHk6IHRoaXMuX3BPcmlnaW4ueSB9LFxuICAgICAgICAgICAgcG90ID0gdGhpcy5fdGguTDJHKG9Ud2VhayksXG4gICAgICAgICAgICBiYXNlUmFkID0gTWF0aC5hdGFuMihwb3QueSAtIHBvLnksIHBvdC54IC0gcG8ueCkgKyB0aGlzLl9wYXJhbXMucnosXG4gICAgICAgICAgICByID0gc2lkZURlZyArIGJhc2VSYWQgLyBNYXRoLlBJICogMTgwO1xuXG5cbiAgICAgICAgcmV0dXJuIFwidXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjMyXFxcIiBoZWlnaHQ9XFxcIjMyXFxcIj48cGF0aCB0cmFuc2Zvcm09XFxcInJvdGF0ZShcIiArIHIgKyBcIiwgMTYsIDE2KVxcXCIgZD1cXFwiTTIyLjQwNiAxMi41NTJsNS44OCA0LjE4SDMuNjc3bDUuNzI4IDQuMzZcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyLjI1NFxcXCIgZmlsbD1cXFwibm9uZVxcXCIvPjwvc3ZnPicpIDE2IDE2LCBhdXRvXCI7XG4gICAgfTtcbn0pKCk7XG5cblxuXG5cblxuXG5cbnAuY3JlYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgdGhpcy5fZGVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIHRoaXMuX2RlQ2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUNhbnZhcyk7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVGdWxsSGl0KTtcblxuICAgIHZhciBvbkZpcnN0TW92ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX29uT3ZlckhpdGJveCgpO1xuICAgICAgICB0aGlzLl9kZUhpdGJveC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uRmlyc3RNb3ZlKTtcbiAgICAgICAgdGhpcy5fZGVPcmlnaW5IaXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbkZpcnN0TW92ZSk7XG4gICAgfSkuYmluZCh0aGlzKTtcblxuICAgIHZhciBhZGRIaXRib3hFdmVudHMgPSAoZnVuY3Rpb24gKGRlKSB7XG4gICAgICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5fb25PdmVySGl0Ym94KTtcbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5fb25PdXRIaXRib3gpO1xuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uRmlyc3RNb3ZlKTtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfSkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2RlT3JpZ2luSGl0ID0gYWRkSGl0Ym94RXZlbnRzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmJvcmRlciA9IHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgKyBcInB4IHNvbGlkIHJnYmEoMjM0LDAsMCwwKVwiO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmJvcmRlclJhZGl1cyA9IHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgKyBcInB4XCI7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlT3JpZ2luSGl0KTtcblxuICAgIHRoaXMuX3N2Z1Jvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICB0aGlzLl9zdmdSb290LnN0eWxlLm92ZXJmbG93ID0gXCJ2aXNpYmxlXCI7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3N2Z1Jvb3QpO1xuXG4gICAgdGhpcy5fZGVIaXRib3ggPSBhZGRIaXRib3hFdmVudHMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwb2x5Z29uXCIpKTtcbiAgICB0aGlzLl9kZUhpdGJveC5zdHlsZS5zdHJva2VXaWR0aCA9IHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QgKiAyO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnN0cm9rZSA9IFwicmdiYSgwLDAsMCwwKVwiO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLmZpbGwgPSBcInJnYmEoMCwwLDAsMClcIjtcbiAgICB0aGlzLl9kZUhpdGJveC5zdHlsZS5zdHJva2VMaW5lam9pbiA9IFwicm91bmRcIjtcbiAgICB0aGlzLl9zdmdSb290LmFwcGVuZENoaWxkKHRoaXMuX2RlSGl0Ym94KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtZXI7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vL3V0aWxzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcmFkRGlmZihyMCwgcjEpIHtcbiAgICByMCAlPSBNYXRoLlBJO1xuICAgIHIxICU9IE1hdGguUEk7XG4gICAgcjAgKz0gTWF0aC5QSTtcbiAgICByMSArPSBNYXRoLlBJO1xuXG4gICAgcmV0dXJuIHIxIC0gcjA7XG59XG5cbmZ1bmN0aW9uIHNxcih4KSB7XG4gICAgcmV0dXJuIHggKiB4O1xufVxuXG5mdW5jdGlvbiBkaXN0Mih2LCB3KSB7XG4gICAgcmV0dXJuIHNxcih2LnggLSB3LngpICsgc3FyKHYueSAtIHcueSk7XG59XG5cbmZ1bmN0aW9uIGRpc3RUb1NlZ21lbnRTcXVhcmVkKHAsIHYsIHcpIHtcbiAgICB2YXIgbDIgPSBkaXN0Mih2LCB3KTtcblxuICAgIGlmIChsMiA9PT0gMCkgcmV0dXJuIGRpc3QyKHAsIHYpO1xuXG4gICAgdmFyIHQgPSAoKHAueCAtIHYueCkgKiAody54IC0gdi54KSArIChwLnkgLSB2LnkpICogKHcueSAtIHYueSkpIC8gbDI7XG5cbiAgICBpZiAodCA8IDApIHJldHVybiBkaXN0MihwLCB2KTtcbiAgICBpZiAodCA+IDEpIHJldHVybiBkaXN0MihwLCB3KTtcblxuICAgIHJldHVybiBkaXN0MihwLCB7IHg6IHYueCArIHQgKiAody54IC0gdi54KSwgeTogdi55ICsgdCAqICh3LnkgLSB2LnkpIH0pO1xufVxuXG5mdW5jdGlvbiBkaXN0VG9TZWdtZW50KHAsIHYsIHcpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGRpc3RUb1NlZ21lbnRTcXVhcmVkKHAsIHYsIHcpKTtcbn1cblxuZnVuY3Rpb24gZGlzdFRvUG9pbnRJbkFuZ2xlKHAwLCBwMSwgcmFkKSB7XG4gICAgdmFyIGR4ID0gcDEueCAtIHAwLngsXG4gICAgICAgIGR5ID0gcDEueSAtIHAwLnksXG4gICAgICAgIGQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpLFxuICAgICAgICBtUmFkID0gTWF0aC5hdGFuMihkeSwgZHgpO1xuXG4gICAgcmFkID0gbVJhZCAtIHJhZDtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdkeCcsIGR4LCAnZHknLCBkeSwgJ2QnLCBkLCAnbVJhZCcsIG1SYWQsICdyYWQnLCByYWQsICdyZXR1cm4nLCBNYXRoLmNvcyhyYWQpICogZClcblxuICAgIHJldHVybiBNYXRoLmNvcyhyYWQpICogZDtcbn1cblxuZnVuY3Rpb24gaXNJbnNpZGUocG9pbnQsIHZzKSB7XG4gICAgLy8gcmF5LWNhc3RpbmcgYWxnb3JpdGhtIGJhc2VkIG9uXG4gICAgLy8gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuXG4gICAgdmFyIHggPSBwb2ludC54LFxuICAgICAgICB5ID0gcG9pbnQueTtcblxuICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHZzLmxlbmd0aCAtIDE7IGkgPCB2cy5sZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgdmFyIHhpID0gdnNbaV0ueCxcbiAgICAgICAgICAgIHlpID0gdnNbaV0ueTtcbiAgICAgICAgdmFyIHhqID0gdnNbal0ueCxcbiAgICAgICAgICAgIHlqID0gdnNbal0ueTtcblxuICAgICAgICB2YXIgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuXG4vLyB2YXIgYmFzZSA9IHRoaXMuX2Jhc2UsXG4vLyAgICAgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuLy8gICAgIHBvID0gdGhpcy5fcE9yaWdpbixcbi8vICAgICBsZWZ0U2NhbGUgPSAoYmFzZS53ICogcGFyYW1zLm94ICogKHBhcmFtcy5zeC0xKSksXG4vLyAgICAgdG9wU2NhbGUgPSAoYmFzZS5oICogcGFyYW1zLm95ICogKHBhcmFtcy5zeS0xKSksXG4vLyAgICAgdyA9IChiYXNlLncgKiBwYXJhbXMuc3gpLFxuLy8gICAgIGggPSAoYmFzZS5oICogcGFyYW1zLnN5KSxcbi8vICAgICBveCA9IHJmZCArICh3ICogcGFyYW1zLm94KSxcbi8vICAgICBveSA9IHJmZCArIChoICogcGFyYW1zLm95KTtcblxuXG4vLyB0aGlzLl9kZUhpdGJveC5zdHlsZS5sZWZ0ID0gKC1yZmQgKyBiYXNlLnggKyBwYXJhbXMudHggLSBsZWZ0U2NhbGUpICsgJ3B4Jztcbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnRvcCA9ICgtcmZkICsgYmFzZS55ICsgcGFyYW1zLnR5IC0gdG9wU2NhbGUpICsgJ3B4Jztcbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLndpZHRoID0gdyArICdweCc7XG4vLyB0aGlzLl9kZUhpdGJveC5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4Jztcbi8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IG94ICsgJ3B4ICcgKyBveSArICdweCc7XG4vLyB0aGlzLl9kZUhpdGJveC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKCcgKyB0aGlzLl9wYXJhbXMucnogKyAncmFkKSc7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRtYW5cIik7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKFwiaW5oZXJpdHNcIik7XG52YXIgbWFrZURyYWdnYWJsZSA9IHJlcXVpcmUoXCIuLi8uLi9tYWtlLWRyYWdnYWJsZVwiKTtcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxuXG52YXIgQkFTRV9QT0lOVF9TVFlMRSA9IHtcbiAgICBhbmNob3JGaWxsOiBcImRlZXBza3libHVlXCIsXG4gICAgYW5jaG9yUmFkaXVzOiAzLFxuICAgIGFuY2hvclN0cm9rZTogXCJub25lXCIsXG4gICAgYW5jaG9yU3Ryb2tlV2lkdGg6IDEsXG4gICAgaGFuZGxlRmlsbDogXCJkZWVwc2t5Ymx1ZVwiLFxuICAgIGhhbmRsZVJhZGl1czogMyxcbiAgICBoYW5kbGVTdHJva2U6IFwibm9uZVwiLFxuICAgIGhhbmRsZVN0cm9rZVdpZHRoOiAxLFxuICAgIGhhbmRsZUxpbmVTdHJva2U6IFwiZGVlcHNreWJsdWVcIixcbiAgICBoYW5kbGVMaW5lU3Ryb2tlV2lkdGg6IDEsXG4gICAgcGF0aFN0cm9rZTogXCJkZWVwc2t5Ymx1ZVwiLFxuICAgIHBhdGhTdHJva2VXaWR0aDogMiB9O1xuXG52YXIgQ1VSU09SUyA9IHtcblxuICAgIHBlbmNpbDogXCJ1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQ0tVbEVRVlE0VDJOa0lCMG9BTFg0QS9GRWtGWkdFdlE3R0poWWRJVkVKNXB1WHJPTTRjNnRhMjF2WDcrdUpzYUFCR2RQMzQ2a3pDSitFd3NiOXZ5VUNFWjlZM09HUGRzMjdqdDc4cWd6VGdONGVIaWEvY0ppTWxLeWl6bmxGVlc0Ly8zNzl6Y25NWlRaeE5MMnA1YTJQbk8wdjVNcjBQVUhzQnFnckthK2N2SDZmZDdpa2xMY0lDK0NOR2NuaERDYld0bjlUTW9vWU0rSUNYeTFlOXNHY1Z4aG9ORGNPK05tVkdJNjI2OWZ2MzZ2WGpLWDllQ2U3UXptdG80L2t6TUwyWjgrZnZqWjBVZzU3Ky9mdnd0d0daQnc3TXFUS2VKUzB0d1RPdW9aSm5jMUNScWJXODFmdGYxb0FFaERYWEhXOTZYenAzUEJBaC9kQ3dKT0hyNm5aeS9icEFKU2NQcjQ0UitWQlNtTEFzTmk0N0tMYXppK2ZQNzh3MVpQdHZmVHg0ODEyQXdRY1BIME8zMzd4bFdWUGFkdi9XTUNBdlFvbnRqWndEQ3BzMUVRS1A0QjNRQUJ2NUNvczcwekZzdWZPTHovMTZMWmt6bW5MMTcvbDVHUmtSbXE4UCsrblZ1K0ExMVQ4T2JseTluSUJvTzhJT0FmR24ydVovb2lPYUNsWUEwSDltei9NNjIzbGFXcXBmZkxtaVh6Zmh3OXVHZnRvd2YzVm9DazBGM0Y2T2tmK21YeXZKVWNTTGFCMVJ6ZXQvTlBRb2pIVkNDekFGOXFaZHk0Nzh3WEhRTmpjSHpEd01jUDc3OG5oWHZ0dUhENlJCQSt6ZUJvQkliNm5WbExOeW9CWFFDT2tVOGZQM3lQQ1hDNmZQWGllWE5DbXNFR0FMR0JYMGowMGE2cDgxbC9mUC8ySjhyWC91RzF5eGN0a1VNYXJ4ZWdrZ0t5Q29veldGaFlHZS9mdVpWT3JHYVFYZ0RlNXRjUlVPQ1JGZ0FBQUFCSlJVNUVya0pnZ2c9PSkgMTUgMCwgYXV0b1wiIH07XG5cbi8vIHBvaW50OiB7XG4vLyAgICAgYW5jaG9yOiB7eDogMCwgeTogMH0sXG4vLyAgICAgaGFuZGxlTGVmdDoge3g6IDAsIHk6IDB9LFxuLy8gICAgIGhhbmRsZVJpZ2h0OiB7eDogMCwgeTogMH0sXG4vLyAgICAgbGlua2VkOiBmYWxzZSxcbi8vICAgICBjbG9zZTogZmFsc2UsXG4vLyB9XG5cblxuZnVuY3Rpb24gQ3VydmVyKHRyYW5zaGFuZCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fdGggPSB0cmFuc2hhbmQ7XG5cbiAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICB0aGlzLl9idWZmUG9pbnRzID0gW107XG5cbiAgICB0aGlzLl9zZWxlY3RlZFBvaW50cyA9IFtdO1xuXG4gICAgdGhpcy5fb2Zmc2V0ID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwIH07XG5cbiAgICB0aGlzLl9jbGlja0FjdGlvbnMgPSBbeyB0YXJnZXQ6IFwiYW5jaG9yXCIsIGFjdGlvbjogXCJtb3ZlX2FuY2hvclwiIH0sIHsgdGFyZ2V0OiBcImFuY2hvclwiLCBhY3Rpb246IFwicmVtb3ZlX3BvaW50XCIsIGN0cmw6IHRydWUgfSwgeyB0YXJnZXQ6IFwiYW5jaG9yXCIsIGFjdGlvbjogXCJyZXNldF9hbmNob3JcIiwgYWx0OiB0cnVlIH0sIHsgdGFyZ2V0OiBcImhhbmRsZVwiLCBhY3Rpb246IFwibW92ZV9oYW5kbGVcIiB9LCB7IHRhcmdldDogXCJoYW5kbGVcIiwgYWN0aW9uOiBcInVubGlua19oYW5kbGVcIiwgYWx0OiB0cnVlIH0sIHsgdGFyZ2V0OiBcImN1cnZlXCIsIGFjdGlvbjogXCJhZGRfcG9pbnRcIiB9LCB7IHRhcmdldDogXCJjdXJ2ZVwiLCBhY3Rpb246IFwiZHJhZ19wYXRoXCIsIGN0cmw6IHRydWUgfSwgeyB0YXJnZXQ6IFwiY3VydmVcIiwgYWN0aW9uOiBcInJvdGF0ZV9wYXRoXCIsIGFsdDogdHJ1ZSB9LCB7IHRhcmdldDogXCJjdXJ2ZVwiLCBhY3Rpb246IFwic2NhbGVfcGF0aFwiLCBjdHJsOiB0cnVlLCBhbHQ6IHRydWUgfV07XG59XG5cbnZhciBoaW50cyA9IHtcbiAgICBhbmNob3I6IFtcImRyYWcgYW5jaG9yXCIsIFwicmVtb3ZlIGFuY2hvciAtIGN0cmxcIiwgXCJyZXNldCBhbmNob3IgLSBhbHRcIl0sXG4gICAgaGFuZGxlOiBbXCJkcmFnIGhhbmxlXCIsIFwidW5saW5rIGhhbmRsZSAtIGFsdFwiXSxcbiAgICBjdXJ2ZTogW1wiYWRkIHBvaW50XCJdIH07XG5cbmluaGVyaXRzKEN1cnZlciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQ3VydmVyLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ3VydmVyO1xuXG5DdXJ2ZXIuaWQgPSBcImN1cnZlclwiO1xucC5yZW5kZXJMZXZlbCA9IDI7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgaWYgKCF0aGlzLmRvbUVsZW0pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVHcmFwaGljcygpO1xuICAgIH1cblxuICAgIHdoaWxlICh0aGlzLl9wb2ludHMubGVuZ3RoIDwgb3B0LnBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fYWRkUG9pbnQoKTtcbiAgICB9XG4gICAgd2hpbGUgKHRoaXMuX3BvaW50cy5sZW5ndGggPiBvcHQucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9zcGxpY2VQb2ludCh0aGlzLl9wb2ludHMubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgb3B0LnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzcmNQb2ludCwgaWR4KSB7XG4gICAgICAgIHRoaXMuX3NldHVwUG9pbnQodGhpcy5fcG9pbnRzW2lkeF0sIHNyY1BvaW50KTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuX29mZnNldC54ID0gb3B0Lm9mZnNldCAmJiBvcHQub2Zmc2V0LnggfHwgMDtcbiAgICB0aGlzLl9vZmZzZXQueSA9IG9wdC5vZmZzZXQgJiYgb3B0Lm9mZnNldC55IHx8IDA7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xufTtcblxucC5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNBY3RpdmF0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc0FjdGl2YXRlZCA9IHRydWU7XG59O1xuXG5wLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gZmFsc2U7XG59O1xuXG5wLnNlbGVjdFBvaW50cyA9IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cbiAgICB0aGlzLl9zZWxlY3RlZFBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX3NlbGVjdGVkUG9pbnRzLnB1c2guYXBwbHkodGhpcy5fc2VsZWN0ZWRQb2ludHMsIHBvaW50cyk7XG5cbiAgICB0aGlzLl9wb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgcG9pbnQuc2VsZWN0ZWQgPSBfdGhpcy5fc2VsZWN0ZWRQb2ludHMuaW5kZXhPZihwb2ludCkgIT09IC0xO1xuICAgIH0pO1xufTtcblxuXG5cbnAuX2VtaXRDaGFuZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGV0YWlsZXNMaXN0KSB7XG4gICAgICAgIGlmICghXy5pc0FycmF5KGRldGFpbGVzTGlzdCkpIHtcbiAgICAgICAgICAgIGRldGFpbGVzTGlzdCA9IFtkZXRhaWxlc0xpc3RdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGV0YWlsZXNMaXN0ID0gZGV0YWlsZXNMaXN0Lm1hcChmdW5jdGlvbiAoZGV0YWlsZXMpIHtcbiAgICAgICAgICAgIGRldGFpbGVzID0gXy5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgcG9pbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBpZHg6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwb2ludHM6IHRoaXMuX3BvaW50cyxcbiAgICAgICAgICAgICAgICBmbGF0UG9pbnRzOiBmbGF0UG9pbnRzLFxuICAgICAgICAgICAgICAgIGZsYXQ6IGZsYXQsXG4gICAgICAgICAgICAgICAgc3ZnUGF0aDogc3ZnUGF0aCxcbiAgICAgICAgICAgICAgICBjbG9uZTogY2xvbmUgfSwgZGV0YWlsZXMpO1xuXG4gICAgICAgICAgICBpZiAoZGV0YWlsZXMuaWR4ID09PSB1bmRlZmluZWQgJiYgZGV0YWlsZXMucG9pbnQpIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxlcy5pZHggPSB0aGlzLl9wb2ludHMuaW5kZXhPZihkZXRhaWxlcy5wb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxlcztcbiAgICAgICAgfSwgdGhpcyk7XG5cblxuICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgZGV0YWlsZXNMaXN0KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmxhdFBvaW50cygpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuXG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQuaGFuZGxlTGVmdC54LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LmhhbmRsZUxlZnQueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQuYW5jaG9yLngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQuYW5jaG9yLnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LmhhbmRsZVJpZ2h0LngsXG4gICAgICAgICAgICAgICAgeTogcG9pbnQuaGFuZGxlUmlnaHQueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsYXQoKSB7fVxuICAgIGZ1bmN0aW9uIHN2Z1BhdGgoKSB7fVxuICAgIGZ1bmN0aW9uIGNsb25lKCkge31cbn0pKCk7XG5cbnAuX2dldENsaWNrQWN0aW9uID0gZnVuY3Rpb24gKHRhcmdldCwgZSkge1xuICAgIHZhciBjdHJsID0gZS5jdHJsS2V5LFxuICAgICAgICBzaGlmdCA9IGUuc2hpZnRLZXksXG4gICAgICAgIGFsdCA9IGUuYWx0S2V5LFxuICAgICAgICByZXQ7XG5cbiAgICB0aGlzLl9jbGlja0FjdGlvbnMuc29tZShmdW5jdGlvbiAoY2xpY2tBY3Rpb24pIHtcbiAgICAgICAgaWYgKGNsaWNrQWN0aW9uLnRhcmdldCA9PT0gdGFyZ2V0ICYmICEhY2xpY2tBY3Rpb24uY3RybCA9PT0gY3RybCAmJiAhIWNsaWNrQWN0aW9uLnNoaWZ0ID09PSBzaGlmdCAmJiAhIWNsaWNrQWN0aW9uLmFsdCA9PT0gYWx0KSB7XG4gICAgICAgICAgICByZXQgPSBjbGlja0FjdGlvbi5hY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cblxuXG5cblxuXG5cbnAucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpLCBsLCBwb2ludCwgcG9pbnRCLCBjbWQ7XG5cbiAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fcG9pbnRzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBwb2ludCA9IHRoaXMuX3BvaW50c1tpXTtcblxuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICAgIHBvaW50QiA9IHRoaXMuX3BvaW50c1tpICsgMV07XG5cbiAgICAgICAgICAgIGNtZCA9IFwiTVwiICsgcG9pbnQuYW5jaG9yLnggKyBcIixcIiArIHBvaW50LmFuY2hvci55ICsgXCIgXCI7XG4gICAgICAgICAgICBjbWQgKz0gXCJDXCIgKyBwb2ludC5oYW5kbGVSaWdodC54ICsgXCIsXCIgKyBwb2ludC5oYW5kbGVSaWdodC55ICsgXCIgXCI7XG4gICAgICAgICAgICBjbWQgKz0gcG9pbnRCLmhhbmRsZUxlZnQueCArIFwiLFwiICsgcG9pbnRCLmhhbmRsZUxlZnQueSArIFwiIFwiO1xuICAgICAgICAgICAgY21kICs9IHBvaW50Qi5hbmNob3IueCArIFwiLFwiICsgcG9pbnRCLmFuY2hvci55ICsgXCIgXCI7XG4gICAgICAgICAgICBwb2ludC5fZGUuc2V0QXR0cmlidXRlKFwiZFwiLCBjbWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZUNpcmNsZShwb2ludC5hbmNob3IpO1xuXG4gICAgICAgIG1vdmVDaXJjbGUocG9pbnQuaGFuZGxlTGVmdCk7XG4gICAgICAgIG1vdmVMaW5lKHBvaW50LmhhbmRsZUxlZnQsIHBvaW50LmFuY2hvcik7XG5cbiAgICAgICAgbW92ZUNpcmNsZShwb2ludC5oYW5kbGVSaWdodCk7XG4gICAgICAgIG1vdmVMaW5lKHBvaW50LmhhbmRsZVJpZ2h0LCBwb2ludC5hbmNob3IpO1xuXG4gICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5fb2Zmc2V0LnggKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSB0aGlzLl9vZmZzZXQueSArIFwicHhcIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3ZlQ2lyY2xlKHB0KSB7XG4gICAgICAgIHB0Ll9kZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCBwdC54KTtcbiAgICAgICAgcHQuX2RlLnNldEF0dHJpYnV0ZShcImN5XCIsIHB0LnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVMaW5lKHB0MSwgcHQyKSB7XG4gICAgICAgIHB0MS5fZGVMaW5lLnNldEF0dHJpYnV0ZShcIngxXCIsIHB0MS54KTtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKFwieTFcIiwgcHQxLnkpO1xuICAgICAgICBwdDEuX2RlTGluZS5zZXRBdHRyaWJ1dGUoXCJ4MlwiLCBwdDIueCk7XG4gICAgICAgIHB0MS5fZGVMaW5lLnNldEF0dHJpYnV0ZShcInkyXCIsIHB0Mi55KTtcbiAgICB9XG59O1xuXG5wLl9hZGRQb2ludCA9IGZ1bmN0aW9uIChpZHgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIHBvaW50ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe1xuICAgICAgICBhbmNob3I6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBoYW5kbGVMZWZ0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgaGFuZGxlUmlnaHQ6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBzdHlsZToge30sXG4gICAgICAgIGxpbmtlZDogZmFsc2UgfSwge1xuICAgICAgICBzZWxlY3RlZDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkID0gdjtcbiAgICAgICAgICAgICAgICB2YXIgZGlzcGxheSA9IHRoaXMuX3NlbGVjdGVkID8gXCJcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTGVmdC5fZGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMZWZ0Ll9kZUxpbmUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSaWdodC5fZGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSaWdodC5fZGVMaW5lLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvL1RPRE8gdXNlIF9idWZmUG9pbnRzW11cbiAgICB0aGlzLl9wb2ludHMuc3BsaWNlKGlkeCwgMCwgcG9pbnQpO1xuXG4gICAgY3JlYXRlUGF0aCgpO1xuICAgIGNyZWF0ZUFuY2hvcigpO1xuICAgIGNyZWF0ZUhhbmRsZShwb2ludC5oYW5kbGVMZWZ0KTtcbiAgICBjcmVhdGVIYW5kbGUocG9pbnQuaGFuZGxlUmlnaHQpO1xuXG4gICAgcG9pbnQuc2VsZWN0ZWQgPSBmYWxzZTtcblxuICAgIHJldHVybiBwb2ludDtcbiAgICAvL1RPRE8gY2xlYW51cCB0aGlzXG4gICAgZnVuY3Rpb24gY3JlYXRlUGF0aCgpIHtcbiAgICAgICAgcG9pbnQuX2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICBwb2ludC5fZGUuc3R5bGUuZmlsbCA9IFwibm9uZVwiO1xuICAgICAgICBwb2ludC5fZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgICAgICBwb2ludC5fZGUuc3R5bGUuY3Vyc29yID0gQ1VSU09SUy5wZW5jaWw7XG4gICAgICAgIHRoYXQuX2RlUGF0aENvbnQuYXBwZW5kQ2hpbGQocG9pbnQuX2RlKTtcblxuICAgICAgICBwb2ludC5fZGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLl9wb2ludHMuaW5kZXhPZihwb2ludCksXG4gICAgICAgICAgICAgICAgcExlZnQgPSB0aGlzLl9wb2ludHNbaWR4XSxcbiAgICAgICAgICAgICAgICBwUmlnaHQgPSB0aGlzLl9wb2ludHNbaWR4ICsgMV0sXG4gICAgICAgICAgICAgICAgc3JjUG9pbnQgPSB0aGlzLl9zcGxpdEN1cnZlKHBMZWZ0LCBwUmlnaHQsIGUueCAtIHRoaXMuX29mZnNldC54LCBlLnkgLSB0aGlzLl9vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdQb2ludCA9IHRoaXMuX2FkZFBvaW50KGlkeCArIDEpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBQb2ludChuZXdQb2ludCwgc3JjUG9pbnQpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKFt7IHR5cGU6IFwiZWRpdFwiLCBwb2ludDogcExlZnQgfSwgeyB0eXBlOiBcImFkZFwiLCBwb2ludDogbmV3UG9pbnQgfSwgeyB0eXBlOiBcImVkaXRcIiwgcG9pbnQ6IHBSaWdodCB9XSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIG5ld1BvaW50LmFuY2hvci5fZHJhZ2dlci5lbWl0RG93bihlKTtcbiAgICAgICAgfSkuYmluZCh0aGF0KSk7XG5cblxuICAgICAgICBwb2ludC5fZGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC5fdGguY3Vyc29ySGludC5zZXRIaW50cyhoaW50cy5jdXJ2ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwb2ludC5fZGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC5fdGguY3Vyc29ySGludC5zZXRIaW50cyhudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQW5jaG9yKCkge1xuICAgICAgICBwb2ludC5hbmNob3IuX2RlID0gY3JlYXRlQ2lyY2xlKCk7XG4gICAgICAgIHRoYXQuX2RlQW5jaG9yQ29udC5hcHBlbmRDaGlsZChwb2ludC5hbmNob3IuX2RlKTtcblxuICAgICAgICBwb2ludC5hbmNob3IuX2RyYWdnZXIgPSBtYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBwb2ludC5hbmNob3IuX2RlLFxuICAgICAgICAgICAgdGhpc0FyZzogdGhhdCxcbiAgICAgICAgICAgIG9uRG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5fZ2V0Q2xpY2tBY3Rpb24oXCJhbmNob3JcIiwgZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFBvaW50cyhbcG9pbnRdKTtcblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwicmVzZXRfYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC54ID0gcG9pbnQuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IHBvaW50LmFuY2hvci55O1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gcG9pbnQuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZVJpZ2h0LnkgPSBwb2ludC5hbmNob3IueTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQubGlua2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGUgPSBPYmplY3QuY3JlYXRlKGUpO1xuICAgICAgICAgICAgICAgICAgICBlLnN5bmNyb25TaXplID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHsgdHlwZTogXCJlZGl0XCIsIHBvaW50OiBwb2ludCB9KTtcblxuICAgICAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC5fZHJhZ2dlci5lbWl0RG93bihlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlX3BvaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RQb2ludHMoW10pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLl9wb2ludHMuaW5kZXhPZihwb2ludCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3BsaWNlUG9pbnQoaWR4KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHsgdHlwZTogXCJyZW1vdmVcIiwgaWR4OiBpZHggfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGF4U3RhcnQ6IHBvaW50LmFuY2hvci54LFxuICAgICAgICAgICAgICAgICAgICBheVN0YXJ0OiBwb2ludC5hbmNob3IueSxcbiAgICAgICAgICAgICAgICAgICAgaGx4U3RhcnQ6IHBvaW50LmhhbmRsZUxlZnQueCxcbiAgICAgICAgICAgICAgICAgICAgaGx5U3RhcnQ6IHBvaW50LmhhbmRsZUxlZnQueSxcbiAgICAgICAgICAgICAgICAgICAgaHJ4U3RhcnQ6IHBvaW50LmhhbmRsZVJpZ2h0LngsXG4gICAgICAgICAgICAgICAgICAgIGhyeVN0YXJ0OiBwb2ludC5oYW5kbGVSaWdodC55IH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAobWQpIHtcbiAgICAgICAgICAgICAgICBwb2ludC5hbmNob3IueCA9IG1kLmF4U3RhcnQgKyBtZC5keDtcbiAgICAgICAgICAgICAgICBwb2ludC5hbmNob3IueSA9IG1kLmF5U3RhcnQgKyBtZC5keTtcbiAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBtZC5obHhTdGFydCArIG1kLmR4O1xuICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IG1kLmhseVN0YXJ0ICsgbWQuZHk7XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlUmlnaHQueCA9IG1kLmhyeFN0YXJ0ICsgbWQuZHg7XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlUmlnaHQueSA9IG1kLmhyeVN0YXJ0ICsgbWQuZHk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHsgdHlwZTogXCJlZGl0XCIsIHBvaW50OiBwb2ludCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aC5jdXJzb3JIaW50LnNldEhpbnRzKGhpbnRzLmFuY2hvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RoLmN1cnNvckhpbnQuc2V0SGludHMobnVsbCk7XG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZShoYW5kbGUpIHtcbiAgICAgICAgdmFyIG9wcG9zaXRlSGFuZGxlID0gcG9pbnQuaGFuZGxlTGVmdCA9PT0gaGFuZGxlID8gcG9pbnQuaGFuZGxlUmlnaHQgOiBwb2ludC5oYW5kbGVMZWZ0O1xuXG4gICAgICAgIGhhbmRsZS5fZGVMaW5lID0gY3JlYXRlTGluZSgpO1xuICAgICAgICB0aGF0Ll9kZUhhbmRsZUNvbnQuYXBwZW5kQ2hpbGQoaGFuZGxlLl9kZUxpbmUpO1xuXG4gICAgICAgIGhhbmRsZS5fZGUgPSBjcmVhdGVDaXJjbGUoKTtcbiAgICAgICAgdGhhdC5fZGVIYW5kbGVDb250LmFwcGVuZENoaWxkKGhhbmRsZS5fZGUpO1xuXG4gICAgICAgIGhhbmRsZS5fZHJhZ2dlciA9IG1ha2VEcmFnZ2FibGUoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IGhhbmRsZS5fZGUsXG4gICAgICAgICAgICB0aGlzQXJnOiB0aGF0LFxuICAgICAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLl9nZXRDbGlja0FjdGlvbihcImhhbmRsZVwiLCBlKTtcblxuICAgICAgICAgICAgICAgIGlmICghZS5zeW5jcm9uU2l6ZSAmJiBhY3Rpb24gPT09IFwidW5saW5rX2hhbmRsZVwiICYmIHBvaW50LmxpbmtlZCkge1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5saW5rZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHsgdHlwZTogXCJlZGl0XCIsIHBvaW50OiBwb2ludCB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB4U3RhcnQ6IGhhbmRsZS54LFxuICAgICAgICAgICAgICAgICAgICB5U3RhcnQ6IGhhbmRsZS55LFxuICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUxlbmd0aDogZGlzdChvcHBvc2l0ZUhhbmRsZSwgcG9pbnQuYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgc3luY3JvblNpemU6IGUuc3luY3JvblNpemUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChtZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZS54ID0gbWQueFN0YXJ0ICsgbWQuZHg7XG4gICAgICAgICAgICAgICAgaGFuZGxlLnkgPSBtZC55U3RhcnQgKyBtZC5keTtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludC5saW5rZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gaGFuZGxlLnggLSBwb2ludC5hbmNob3IueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gaGFuZGxlLnkgLSBwb2ludC5hbmNob3IueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZCA9IE1hdGguYXRhbjIoZHksIGR4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IG1kLnN5bmNyb25TaXplID8gZGlzdChoYW5kbGUsIHBvaW50LmFuY2hvcikgOiBtZC5vcHBvc2l0ZUxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUhhbmRsZS54ID0gcG9pbnQuYW5jaG9yLnggLSBsZW5ndGggKiBNYXRoLmNvcyhyYWQpO1xuICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUhhbmRsZS55ID0gcG9pbnQuYW5jaG9yLnkgLSBsZW5ndGggKiBNYXRoLnNpbihyYWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcImVkaXRcIiwgcG9pbnQ6IHBvaW50IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RoLmN1cnNvckhpbnQuc2V0SGludHMoaGludHMuaGFuZGxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGguY3Vyc29ySGludC5zZXRIaW50cyhudWxsKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2lyY2xlKCkge1xuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKTtcbiAgICAgICAgZGUuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTGluZSgpIHtcbiAgICAgICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJsaW5lXCIpO1xuICAgICAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cbiAgICAgICAgcmV0dXJuIGRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3QocGEsIHBiKSB7XG4gICAgICAgIHZhciBveCA9IHBhLnggLSBwYi54LFxuICAgICAgICAgICAgb3kgPSBwYS55IC0gcGIueTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KG94ICogb3ggKyBveSAqIG95KTtcbiAgICB9XG59O1xuXG5wLl9zZXR1cFBvaW50ID0gZnVuY3Rpb24gKHBvaW50LCBzcmMpIHtcbiAgICBwb2ludC5hbmNob3IueCA9IHNyYy5hbmNob3IueDtcbiAgICBwb2ludC5hbmNob3IueSA9IHNyYy5hbmNob3IueTtcbiAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBzcmMuaGFuZGxlTGVmdC54O1xuICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IHNyYy5oYW5kbGVMZWZ0Lnk7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQueCA9IHNyYy5oYW5kbGVSaWdodC54O1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0LnkgPSBzcmMuaGFuZGxlUmlnaHQueTtcbiAgICBwb2ludC5saW5rZWQgPSAhIXNyYy5saW5rZWQ7XG5cbiAgICB2YXIgcyA9IHBvaW50LnN0eWxlID0gXy5kZWZhdWx0cyh7fSwgc3JjLnN0eWxlLCBCQVNFX1BPSU5UX1NUWUxFKTtcblxuICAgIHBvaW50Ll9kZS5zdHlsZS5zdHJva2UgPSBzLnBhdGhTdHJva2U7XG4gICAgcG9pbnQuX2RlLnN0eWxlLnN0cm9rZVdpZHRoID0gcy5wYXRoU3Ryb2tlV2lkdGg7XG5cbiAgICBwb2ludC5hbmNob3IuX2RlLnNldEF0dHJpYnV0ZShcInJcIiwgcy5hbmNob3JSYWRpdXMpO1xuICAgIHBvaW50LmFuY2hvci5fZGUuc3R5bGUuZmlsbCA9IHMuYW5jaG9yRmlsbDtcbiAgICBwb2ludC5hbmNob3IuX2RlLnN0eWxlLnN0cm9rZSA9IHMuYW5jaG9yU3Ryb2tlO1xuICAgIHBvaW50LmFuY2hvci5fZGUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLmFuY2hvclN0cm9rZVdpZHRoO1xuXG4gICAgcG9pbnQuaGFuZGxlTGVmdC5fZGVMaW5lLnN0eWxlLnN0cm9rZSA9IHMuaGFuZGxlTGluZVN0cm9rZTtcbiAgICBwb2ludC5oYW5kbGVMZWZ0Ll9kZUxpbmUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLmhhbmRsZUxpbmVTdHJva2VXaWR0aDtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGVMaW5lLnN0eWxlLnN0cm9rZSA9IHMuaGFuZGxlTGluZVN0cm9rZTtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGVMaW5lLnN0eWxlLnN0cm9rZVdpZHRoID0gcy5oYW5kbGVMaW5lU3Ryb2tlV2lkdGg7XG5cbiAgICBwb2ludC5oYW5kbGVMZWZ0Ll9kZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIHMuaGFuZGxlUmFkaXVzKTtcbiAgICBwb2ludC5oYW5kbGVMZWZ0Ll9kZS5zdHlsZS5maWxsID0gcy5oYW5kbGVGaWxsO1xuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlLnN0eWxlLnN0cm9rZSA9IHMuaGFuZGxlU3Ryb2tlO1xuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlLnN0eWxlLnN0cm9rZVdpZHRoID0gcy5oYW5kbGVTdHJva2VXaWR0aDtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGUuc2V0QXR0cmlidXRlKFwiclwiLCBzLmhhbmRsZVJhZGl1cyk7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlLnN0eWxlLmZpbGwgPSBzLmhhbmRsZUZpbGw7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlLnN0eWxlLnN0cm9rZSA9IHMuaGFuZGxlU3Ryb2tlO1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0Ll9kZS5zdHlsZS5zdHJva2VXaWR0aCA9IHMuaGFuZGxlU3Ryb2tlV2lkdGg7XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuXG5cbnAuX3NwbGljZVBvaW50ID0gZnVuY3Rpb24gKGlkeCkge1xuICAgIGlmICh0eXBlb2YgaWR4ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlkeCA9IHRoaXMuX3BvaW50cy5pbmRleE9mKGlkeCk7XG4gICAgfVxuXG4gICAgdmFyIHJlbW92ZWRQb2ludCA9IHRoaXMuX3BvaW50cy5zcGxpY2UoaWR4LCAxKVswXTtcblxuICAgIHRoaXMuX2VtaXRDaGFuZ2UoeyB0eXBlOiBcInNwbGljZVwiLCBpZHg6IGlkeCB9KTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICByZW1vdmVkUG9pbnQuX2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50Ll9kZSk7XG4gICAgcmVtb3ZlZFBvaW50LmFuY2hvci5fZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuYW5jaG9yLl9kZSk7XG4gICAgcmVtb3ZlZFBvaW50LmhhbmRsZUxlZnQuX2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50LmhhbmRsZUxlZnQuX2RlKTtcbiAgICByZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGVMaW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50LmhhbmRsZUxlZnQuX2RlTGluZSk7XG4gICAgcmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJlbW92ZWRQb2ludC5oYW5kbGVSaWdodC5fZGUpO1xuICAgIHJlbW92ZWRQb2ludC5oYW5kbGVSaWdodC5fZGVMaW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZUxpbmUpO1xuXG4gICAgdGhpcy5fYnVmZlBvaW50cy5wdXNoKHJlbW92ZWRQb2ludCk7XG59O1xuXG5wLl9zcGxpdEN1cnZlID0gZnVuY3Rpb24gKHBhLCBwYiwgeCwgeSkge1xuICAgIHZhciBjdXJ2ZSA9IFtwYS5hbmNob3IueCwgcGEuYW5jaG9yLnksIHBhLmhhbmRsZVJpZ2h0LngsIHBhLmhhbmRsZVJpZ2h0LnksIHBiLmhhbmRsZUxlZnQueCwgcGIuaGFuZGxlTGVmdC55LCBwYi5hbmNob3IueCwgcGIuYW5jaG9yLnldLFxuICAgICAgICBtUG9zID0geyB4OiB4LCB5OiB5IH0sXG4gICAgICAgIHAgPSB7XG4gICAgICAgIGFuY2hvcjogeyB4OiAwLCB5OiAwIH0sIC8vanNCZXppZXIucG9pbnRPbkN1cnZlKGN1cnZlLCBsb2MpLFxuICAgICAgICBoYW5kbGVMZWZ0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgaGFuZGxlUmlnaHQ6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBsaW5rZWQ6IHRydWUgfSxcbiAgICAgICAgcG0gPSB7fSxcbiAgICAgICAgZGwgPSBkaXN0KHBhLmFuY2hvciwgcGEuaGFuZGxlUmlnaHQpICsgZGlzdChwYS5oYW5kbGVSaWdodCwgcGIuaGFuZGxlTGVmdCkgKyBkaXN0KHBiLmhhbmRsZUxlZnQsIHBiLmFuY2hvciksXG4gICAgICAgIG1pbkRpc3QsXG4gICAgICAgIHBvcyxcbiAgICAgICAgbG9jO1xuXG4gICAgZm9yICh2YXIgZGkgPSAwOyBkaSA8IGRsOyArK2RpKSB7XG4gICAgICAgIHZhciBfbG9jID0gZGkgLyBkbCxcbiAgICAgICAgICAgIF9wb3MgPSBjYWxjUG9zKF9sb2MpLFxuICAgICAgICAgICAgX2Rpc3QgPSBkaXN0KF9wb3MsIG1Qb3MpO1xuXG4gICAgICAgIGlmIChtaW5EaXN0ID09PSB1bmRlZmluZWQgfHwgbWluRGlzdCA+IF9kaXN0KSB7XG4gICAgICAgICAgICBtaW5EaXN0ID0gX2Rpc3Q7XG4gICAgICAgICAgICBsb2MgPSBfbG9jO1xuICAgICAgICAgICAgcG9zID0gX3BvcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHAuYW5jaG9yID0gcG9zO1xuXG4gICAgcG0ueCA9IHBhLmhhbmRsZVJpZ2h0LnggKyAocGIuaGFuZGxlTGVmdC54IC0gcGEuaGFuZGxlUmlnaHQueCkgKiBsb2M7XG4gICAgcG0ueSA9IHBhLmhhbmRsZVJpZ2h0LnkgKyAocGIuaGFuZGxlTGVmdC55IC0gcGEuaGFuZGxlUmlnaHQueSkgKiBsb2M7XG4gICAgcGEuaGFuZGxlUmlnaHQueCA9IHBhLmFuY2hvci54ICsgKHBhLmhhbmRsZVJpZ2h0LnggLSBwYS5hbmNob3IueCkgKiBsb2M7XG4gICAgcGEuaGFuZGxlUmlnaHQueSA9IHBhLmFuY2hvci55ICsgKHBhLmhhbmRsZVJpZ2h0LnkgLSBwYS5hbmNob3IueSkgKiBsb2M7XG4gICAgcGIuaGFuZGxlTGVmdC54ID0gcGIuaGFuZGxlTGVmdC54ICsgKHBiLmFuY2hvci54IC0gcGIuaGFuZGxlTGVmdC54KSAqIGxvYztcbiAgICBwYi5oYW5kbGVMZWZ0LnkgPSBwYi5oYW5kbGVMZWZ0LnkgKyAocGIuYW5jaG9yLnkgLSBwYi5oYW5kbGVMZWZ0LnkpICogbG9jO1xuICAgIHAuaGFuZGxlTGVmdC54ID0gcGEuaGFuZGxlUmlnaHQueCArIChwbS54IC0gcGEuaGFuZGxlUmlnaHQueCkgKiBsb2M7XG4gICAgcC5oYW5kbGVMZWZ0LnkgPSBwYS5oYW5kbGVSaWdodC55ICsgKHBtLnkgLSBwYS5oYW5kbGVSaWdodC55KSAqIGxvYztcbiAgICBwLmhhbmRsZVJpZ2h0LnggPSBwbS54ICsgKHBiLmhhbmRsZUxlZnQueCAtIHBtLngpICogbG9jO1xuICAgIHAuaGFuZGxlUmlnaHQueSA9IHBtLnkgKyAocGIuaGFuZGxlTGVmdC55IC0gcG0ueSkgKiBsb2M7XG5cbiAgICBmdW5jdGlvbiBjYWxjUG9zKHBvcykge1xuICAgICAgICB2YXIgcCA9IGN1cnZlLnNsaWNlKCksXG4gICAgICAgICAgICBsID0gcC5sZW5ndGggLyAyO1xuXG4gICAgICAgIHdoaWxlICgtLWwgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvdW50KGkgKiAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHg6IHBbMF0sIHk6IHBbMV0gfTtcblxuICAgICAgICBmdW5jdGlvbiBjb3VudChpKSB7XG4gICAgICAgICAgICBwW2kgKyAwXSA9IHBbaSArIDBdICsgKHBbaSArIDJdIC0gcFtpICsgMF0pICogcG9zO1xuICAgICAgICAgICAgcFtpICsgMV0gPSBwW2kgKyAxXSArIChwW2kgKyAzXSAtIHBbaSArIDFdKSAqIHBvcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3QocGEsIHBiKSB7XG4gICAgICAgIHZhciBkeCA9IHBiLnggLSBwYS54LFxuICAgICAgICAgICAgZHkgPSBwYi55IC0gcGEueTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcDtcbn07XG5cblxucC5jcmVhdGVHcmFwaGljcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm92ZXJmbG93ID0gXCJ2aXNpYmxlXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuXG4gICAgdGhpcy5fZGVQYXRoQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVQYXRoQ29udCk7XG5cbiAgICB0aGlzLl9kZUhhbmRsZUNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlSGFuZGxlQ29udCk7XG5cbiAgICB0aGlzLl9kZUFuY2hvckNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlQW5jaG9yQ29udCk7XG59O1xuLy8gYW1ndWkuY3JlYXRlQ3Vyc29yRnJvbVRleHQoe1xuLy8gICAgIGljb246ICd2ZWN0b3ItcGVuY2lsJyxcbi8vICAgICBjb2xvcjogJyNkZWYnLFxuLy8gICAgIHdpZHRoOiAxNixcbi8vICAgICBoZWlnaHQ6IDE2LFxuLy8gICAgIGhvdHNwb3RYOiAxNSxcbi8vICAgICBob3RzcG90WTogMCxcbi8vICAgICByb3RhdGVPcmlnaW5YOiA4LFxuLy8gICAgIHJvdGF0ZU9yaWdpblk6IDgsXG4vLyAgICAgYmFja2dyb3VuZENvbG9yOiAnIzEyMycsXG4vLyAgICAgcm90YXRlOiAwLFxuLy8gICAgIHN0cm9rZToge2NvbG9yOidibGFjaycsIHdpZHRoOiAyfSxcbi8vICAgICBkZWJ1ZzogZmFsc2UsXG4vLyB9KVxuLypUT0RPKi8gLypUT0RPKi8gLypUT0RPKi8iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlKG9wdCkge1xuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBtZCwgaXNPdmVyLCBpc0RyYWcsIHdhaXRpbmdNb3ZlRXZlbnQsIHdhaXRpbmdNb3ZlUmFmO1xuXG4gICAgaWYgKG9wdC5kZVRhcmdldCkge1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbkRvd24pO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBvbkVudGVyKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIG9uTGVhdmUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGVtaXREb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb25Eb3duKGUpO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7fVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvbkRvd24oZSkge1xuICAgICAgICBpZiAoZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpc0RyYWcgPSB0cnVlO1xuXG4gICAgICAgIHZhciBjdXN0b20gPSBjYWxsKFwib25Eb3duXCIsIFtlXSk7XG5cbiAgICAgICAgaWYgKGN1c3RvbSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vcHJldmVudCBkcmFnZ2luZ1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtZCA9IGN1c3RvbSB8fCB7fTtcblxuICAgICAgICBtZC5teCA9IGUuY2xpZW50WDtcbiAgICAgICAgbWQubXkgPSBlLmNsaWVudFk7XG4gICAgICAgIG1kLmR4ID0gMDtcbiAgICAgICAgbWQuZHkgPSAwO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBvblVwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIG9uVXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW92ZShlKSB7XG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQgPSBlO1xuXG4gICAgICAgIGlmICghd2FpdGluZ01vdmVSYWYpIHtcbiAgICAgICAgICAgIHdhaXRpbmdNb3ZlUmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyYWZPbk1vdmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFmT25Nb3ZlKCkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUod2FpdGluZ01vdmVSYWYpO1xuXG4gICAgICAgIHZhciB3bWUgPSB3YWl0aW5nTW92ZUV2ZW50O1xuICAgICAgICB3YWl0aW5nTW92ZVJhZiA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgbXggPSB3bWUuY2xpZW50WCxcbiAgICAgICAgICAgIG15ID0gd21lLmNsaWVudFk7XG5cbiAgICAgICAgbWQuZHggPSBteCAtIG1kLm14O1xuICAgICAgICBtZC5keSA9IG15IC0gbWQubXk7XG5cbiAgICAgICAgY2FsbChbXCJvbk1vdmVcIiwgXCJvbkRyYWdcIl0sIFttZCwgbXgsIG15XSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25VcChlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBvblVwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIG9uVXApO1xuXG4gICAgICAgIGlmICh3YWl0aW5nTW92ZUV2ZW50KSB7XG4gICAgICAgICAgICByYWZPbk1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzRHJhZyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWlzT3Zlcikge1xuICAgICAgICAgICAgb25MZWF2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbChcIm9uVXBcIiwgW21kLCBlLmNsaWVudFgsIGUuY2xpZW50WSwgZV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG4gICAgICAgIGlzT3ZlciA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFpc0RyYWcpIHtcbiAgICAgICAgICAgIGNhbGwoXCJvbkVudGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25MZWF2ZSgpIHtcbiAgICAgICAgaXNPdmVyID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFpc0RyYWcpIHtcbiAgICAgICAgICAgIGNhbGwoXCJvbkxlYXZlXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5hbWUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhbGwobmFtZSwgYXJncyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUgaW4gb3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0W25hbWVdLmFwcGx5KG9wdC50aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn07IiwiLypcbiAqIENvcHlyaWdodCAyMDA5LTIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLnR4dCBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKCcuL3NvdXJjZS1tYXAvc291cmNlLW1hcC1nZW5lcmF0b3InKS5Tb3VyY2VNYXBHZW5lcmF0b3I7XG5leHBvcnRzLlNvdXJjZU1hcENvbnN1bWVyID0gcmVxdWlyZSgnLi9zb3VyY2UtbWFwL3NvdXJjZS1tYXAtY29uc3VtZXInKS5Tb3VyY2VNYXBDb25zdW1lcjtcbmV4cG9ydHMuU291cmNlTm9kZSA9IHJlcXVpcmUoJy4vc291cmNlLW1hcC9zb3VyY2Utbm9kZScpLlNvdXJjZU5vZGU7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbiAgLyoqXG4gICAqIEEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggaXMgYSBjb21iaW5hdGlvbiBvZiBhbiBhcnJheSBhbmQgYSBzZXQuIEFkZGluZyBhIG5ld1xuICAgKiBtZW1iZXIgaXMgTygxKSwgdGVzdGluZyBmb3IgbWVtYmVyc2hpcCBpcyBPKDEpLCBhbmQgZmluZGluZyB0aGUgaW5kZXggb2YgYW5cbiAgICogZWxlbWVudCBpcyBPKDEpLiBSZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSBzZXQgaXMgbm90IHN1cHBvcnRlZC4gT25seVxuICAgKiBzdHJpbmdzIGFyZSBzdXBwb3J0ZWQgZm9yIG1lbWJlcnNoaXAuXG4gICAqL1xuICBmdW5jdGlvbiBBcnJheVNldCgpIHtcbiAgICB0aGlzLl9hcnJheSA9IFtdO1xuICAgIHRoaXMuX3NldCA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2QgZm9yIGNyZWF0aW5nIEFycmF5U2V0IGluc3RhbmNlcyBmcm9tIGFuIGV4aXN0aW5nIGFycmF5LlxuICAgKi9cbiAgQXJyYXlTZXQuZnJvbUFycmF5ID0gZnVuY3Rpb24gQXJyYXlTZXRfZnJvbUFycmF5KGFBcnJheSwgYUFsbG93RHVwbGljYXRlcykge1xuICAgIHZhciBzZXQgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBzZXQuYWRkKGFBcnJheVtpXSwgYUFsbG93RHVwbGljYXRlcyk7XG4gICAgfVxuICAgIHJldHVybiBzZXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gc3RyaW5nIHRvIHRoaXMgc2V0LlxuICAgKlxuICAgKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAgICovXG4gIEFycmF5U2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBBcnJheVNldF9hZGQoYVN0ciwgYUFsbG93RHVwbGljYXRlcykge1xuICAgIHZhciBpc0R1cGxpY2F0ZSA9IHRoaXMuaGFzKGFTdHIpO1xuICAgIHZhciBpZHggPSB0aGlzLl9hcnJheS5sZW5ndGg7XG4gICAgaWYgKCFpc0R1cGxpY2F0ZSB8fCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gICAgICB0aGlzLl9hcnJheS5wdXNoKGFTdHIpO1xuICAgIH1cbiAgICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgICB0aGlzLl9zZXRbdXRpbC50b1NldFN0cmluZyhhU3RyKV0gPSBpZHg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJcyB0aGUgZ2l2ZW4gc3RyaW5nIGEgbWVtYmVyIG9mIHRoaXMgc2V0P1xuICAgKlxuICAgKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAgICovXG4gIEFycmF5U2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBBcnJheVNldF9oYXMoYVN0cikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC50b1NldFN0cmluZyhhU3RyKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoYXQgaXMgdGhlIGluZGV4IG9mIHRoZSBnaXZlbiBzdHJpbmcgaW4gdGhlIGFycmF5P1xuICAgKlxuICAgKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAgICovXG4gIEFycmF5U2V0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gQXJyYXlTZXRfaW5kZXhPZihhU3RyKSB7XG4gICAgaWYgKHRoaXMuaGFzKGFTdHIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0W3V0aWwudG9TZXRTdHJpbmcoYVN0cildO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTdHIgKyAnXCIgaXMgbm90IGluIHRoZSBzZXQuJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoYXQgaXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGluZGV4P1xuICAgKlxuICAgKiBAcGFyYW0gTnVtYmVyIGFJZHhcbiAgICovXG4gIEFycmF5U2V0LnByb3RvdHlwZS5hdCA9IGZ1bmN0aW9uIEFycmF5U2V0X2F0KGFJZHgpIHtcbiAgICBpZiAoYUlkeCA+PSAwICYmIGFJZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hcnJheVthSWR4XTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBlbGVtZW50IGluZGV4ZWQgYnkgJyArIGFJZHgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhcnJheSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNldCAod2hpY2ggaGFzIHRoZSBwcm9wZXIgaW5kaWNlc1xuICAgKiBpbmRpY2F0ZWQgYnkgaW5kZXhPZikuIE5vdGUgdGhhdCB0aGlzIGlzIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgYXJyYXkgdXNlZFxuICAgKiBmb3Igc3RvcmluZyB0aGUgbWVtYmVycyBzbyB0aGF0IG5vIG9uZSBjYW4gbWVzcyB3aXRoIGludGVybmFsIHN0YXRlLlxuICAgKi9cbiAgQXJyYXlTZXQucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiBBcnJheVNldF90b0FycmF5KCkge1xuICAgIHJldHVybiB0aGlzLl9hcnJheS5zbGljZSgpO1xuICB9O1xuXG4gIGV4cG9ydHMuQXJyYXlTZXQgPSBBcnJheVNldDtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICpcbiAqIEJhc2VkIG9uIHRoZSBCYXNlIDY0IFZMUSBpbXBsZW1lbnRhdGlvbiBpbiBDbG9zdXJlIENvbXBpbGVyOlxuICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jbG9zdXJlLWNvbXBpbGVyL3NvdXJjZS9icm93c2UvdHJ1bmsvc3JjL2NvbS9nb29nbGUvZGVidWdnaW5nL3NvdXJjZW1hcC9CYXNlNjRWTFEuamF2YVxuICpcbiAqIENvcHlyaWdodCAyMDExIFRoZSBDbG9zdXJlIENvbXBpbGVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICogICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAqICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxuICogICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkXG4gKiAgICBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbiAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICogVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIHZhciBiYXNlNjQgPSByZXF1aXJlKCcuL2Jhc2U2NCcpO1xuXG4gIC8vIEEgc2luZ2xlIGJhc2UgNjQgZGlnaXQgY2FuIGNvbnRhaW4gNiBiaXRzIG9mIGRhdGEuIEZvciB0aGUgYmFzZSA2NCB2YXJpYWJsZVxuICAvLyBsZW5ndGggcXVhbnRpdGllcyB3ZSB1c2UgaW4gdGhlIHNvdXJjZSBtYXAgc3BlYywgdGhlIGZpcnN0IGJpdCBpcyB0aGUgc2lnbixcbiAgLy8gdGhlIG5leHQgZm91ciBiaXRzIGFyZSB0aGUgYWN0dWFsIHZhbHVlLCBhbmQgdGhlIDZ0aCBiaXQgaXMgdGhlXG4gIC8vIGNvbnRpbnVhdGlvbiBiaXQuIFRoZSBjb250aW51YXRpb24gYml0IHRlbGxzIHVzIHdoZXRoZXIgdGhlcmUgYXJlIG1vcmVcbiAgLy8gZGlnaXRzIGluIHRoaXMgdmFsdWUgZm9sbG93aW5nIHRoaXMgZGlnaXQuXG4gIC8vXG4gIC8vICAgQ29udGludWF0aW9uXG4gIC8vICAgfCAgICBTaWduXG4gIC8vICAgfCAgICB8XG4gIC8vICAgViAgICBWXG4gIC8vICAgMTAxMDExXG5cbiAgdmFyIFZMUV9CQVNFX1NISUZUID0gNTtcblxuICAvLyBiaW5hcnk6IDEwMDAwMFxuICB2YXIgVkxRX0JBU0UgPSAxIDw8IFZMUV9CQVNFX1NISUZUO1xuXG4gIC8vIGJpbmFyeTogMDExMTExXG4gIHZhciBWTFFfQkFTRV9NQVNLID0gVkxRX0JBU0UgLSAxO1xuXG4gIC8vIGJpbmFyeTogMTAwMDAwXG4gIHZhciBWTFFfQ09OVElOVUFUSU9OX0JJVCA9IFZMUV9CQVNFO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBmcm9tIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgdG8gYSB2YWx1ZSB3aGVyZSB0aGUgc2lnbiBiaXQgaXNcbiAgICogaXMgcGxhY2VkIGluIHRoZSBsZWFzdCBzaWduaWZpY2FudCBiaXQuICBGb3IgZXhhbXBsZSwgYXMgZGVjaW1hbHM6XG4gICAqICAgMSBiZWNvbWVzIDIgKDEwIGJpbmFyeSksIC0xIGJlY29tZXMgMyAoMTEgYmluYXJ5KVxuICAgKiAgIDIgYmVjb21lcyA0ICgxMDAgYmluYXJ5KSwgLTIgYmVjb21lcyA1ICgxMDEgYmluYXJ5KVxuICAgKi9cbiAgZnVuY3Rpb24gdG9WTFFTaWduZWQoYVZhbHVlKSB7XG4gICAgcmV0dXJuIGFWYWx1ZSA8IDBcbiAgICAgID8gKCgtYVZhbHVlKSA8PCAxKSArIDFcbiAgICAgIDogKGFWYWx1ZSA8PCAxKSArIDA7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdG8gYSB0d28tY29tcGxlbWVudCB2YWx1ZSBmcm9tIGEgdmFsdWUgd2hlcmUgdGhlIHNpZ24gYml0IGlzXG4gICAqIGlzIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICAgKiAgIDIgKDEwIGJpbmFyeSkgYmVjb21lcyAxLCAzICgxMSBiaW5hcnkpIGJlY29tZXMgLTFcbiAgICogICA0ICgxMDAgYmluYXJ5KSBiZWNvbWVzIDIsIDUgKDEwMSBiaW5hcnkpIGJlY29tZXMgLTJcbiAgICovXG4gIGZ1bmN0aW9uIGZyb21WTFFTaWduZWQoYVZhbHVlKSB7XG4gICAgdmFyIGlzTmVnYXRpdmUgPSAoYVZhbHVlICYgMSkgPT09IDE7XG4gICAgdmFyIHNoaWZ0ZWQgPSBhVmFsdWUgPj4gMTtcbiAgICByZXR1cm4gaXNOZWdhdGl2ZVxuICAgICAgPyAtc2hpZnRlZFxuICAgICAgOiBzaGlmdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGJhc2UgNjQgVkxRIGVuY29kZWQgdmFsdWUuXG4gICAqL1xuICBleHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIGJhc2U2NFZMUV9lbmNvZGUoYVZhbHVlKSB7XG4gICAgdmFyIGVuY29kZWQgPSBcIlwiO1xuICAgIHZhciBkaWdpdDtcblxuICAgIHZhciB2bHEgPSB0b1ZMUVNpZ25lZChhVmFsdWUpO1xuXG4gICAgZG8ge1xuICAgICAgZGlnaXQgPSB2bHEgJiBWTFFfQkFTRV9NQVNLO1xuICAgICAgdmxxID4+Pj0gVkxRX0JBU0VfU0hJRlQ7XG4gICAgICBpZiAodmxxID4gMCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgc3RpbGwgbW9yZSBkaWdpdHMgaW4gdGhpcyB2YWx1ZSwgc28gd2UgbXVzdCBtYWtlIHN1cmUgdGhlXG4gICAgICAgIC8vIGNvbnRpbnVhdGlvbiBiaXQgaXMgbWFya2VkLlxuICAgICAgICBkaWdpdCB8PSBWTFFfQ09OVElOVUFUSU9OX0JJVDtcbiAgICAgIH1cbiAgICAgIGVuY29kZWQgKz0gYmFzZTY0LmVuY29kZShkaWdpdCk7XG4gICAgfSB3aGlsZSAodmxxID4gMCk7XG5cbiAgICByZXR1cm4gZW5jb2RlZDtcbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlcyB0aGUgbmV4dCBiYXNlIDY0IFZMUSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcgYW5kIHJldHVybnMgdGhlXG4gICAqIHZhbHVlIGFuZCB0aGUgcmVzdCBvZiB0aGUgc3RyaW5nLlxuICAgKi9cbiAgZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiBiYXNlNjRWTFFfZGVjb2RlKGFTdHIpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHN0ckxlbiA9IGFTdHIubGVuZ3RoO1xuICAgIHZhciByZXN1bHQgPSAwO1xuICAgIHZhciBzaGlmdCA9IDA7XG4gICAgdmFyIGNvbnRpbnVhdGlvbiwgZGlnaXQ7XG5cbiAgICBkbyB7XG4gICAgICBpZiAoaSA+PSBzdHJMZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgbW9yZSBkaWdpdHMgaW4gYmFzZSA2NCBWTFEgdmFsdWUuXCIpO1xuICAgICAgfVxuICAgICAgZGlnaXQgPSBiYXNlNjQuZGVjb2RlKGFTdHIuY2hhckF0KGkrKykpO1xuICAgICAgY29udGludWF0aW9uID0gISEoZGlnaXQgJiBWTFFfQ09OVElOVUFUSU9OX0JJVCk7XG4gICAgICBkaWdpdCAmPSBWTFFfQkFTRV9NQVNLO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgKGRpZ2l0IDw8IHNoaWZ0KTtcbiAgICAgIHNoaWZ0ICs9IFZMUV9CQVNFX1NISUZUO1xuICAgIH0gd2hpbGUgKGNvbnRpbnVhdGlvbik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGZyb21WTFFTaWduZWQocmVzdWx0KSxcbiAgICAgIHJlc3Q6IGFTdHIuc2xpY2UoaSlcbiAgICB9O1xuICB9O1xuXG59KTtcbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cbmlmICh0eXBlb2YgZGVmaW5lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGRlZmluZSA9IHJlcXVpcmUoJ2FtZGVmaW5lJykobW9kdWxlLCByZXF1aXJlKTtcbn1cbmRlZmluZShmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbiAgdmFyIGNoYXJUb0ludE1hcCA9IHt9O1xuICB2YXIgaW50VG9DaGFyTWFwID0ge307XG5cbiAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG4gICAgLnNwbGl0KCcnKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChjaCwgaW5kZXgpIHtcbiAgICAgIGNoYXJUb0ludE1hcFtjaF0gPSBpbmRleDtcbiAgICAgIGludFRvQ2hhck1hcFtpbmRleF0gPSBjaDtcbiAgICB9KTtcblxuICAvKipcbiAgICogRW5jb2RlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIG9mIDAgdG8gNjMgdG8gYSBzaW5nbGUgYmFzZSA2NCBkaWdpdC5cbiAgICovXG4gIGV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24gYmFzZTY0X2VuY29kZShhTnVtYmVyKSB7XG4gICAgaWYgKGFOdW1iZXIgaW4gaW50VG9DaGFyTWFwKSB7XG4gICAgICByZXR1cm4gaW50VG9DaGFyTWFwW2FOdW1iZXJdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDYzOiBcIiArIGFOdW1iZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNvZGUgYSBzaW5nbGUgYmFzZSA2NCBkaWdpdCB0byBhbiBpbnRlZ2VyLlxuICAgKi9cbiAgZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiBiYXNlNjRfZGVjb2RlKGFDaGFyKSB7XG4gICAgaWYgKGFDaGFyIGluIGNoYXJUb0ludE1hcCkge1xuICAgICAgcmV0dXJuIGNoYXJUb0ludE1hcFthQ2hhcl07XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgYSB2YWxpZCBiYXNlIDY0IGRpZ2l0OiBcIiArIGFDaGFyKTtcbiAgfTtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIC8qKlxuICAgKiBSZWN1cnNpdmUgaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaC5cbiAgICpcbiAgICogQHBhcmFtIGFMb3cgSW5kaWNlcyBoZXJlIGFuZCBsb3dlciBkbyBub3QgY29udGFpbiB0aGUgbmVlZGxlLlxuICAgKiBAcGFyYW0gYUhpZ2ggSW5kaWNlcyBoZXJlIGFuZCBoaWdoZXIgZG8gbm90IGNvbnRhaW4gdGhlIG5lZWRsZS5cbiAgICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgYmVpbmcgc2VhcmNoZWQgZm9yLlxuICAgKiBAcGFyYW0gYUhheXN0YWNrIFRoZSBub24tZW1wdHkgYXJyYXkgYmVpbmcgc2VhcmNoZWQuXG4gICAqIEBwYXJhbSBhQ29tcGFyZSBGdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gZWxlbWVudHMgYW5kIHJldHVybnMgLTEsIDAsIG9yIDEuXG4gICAqL1xuICBmdW5jdGlvbiByZWN1cnNpdmVTZWFyY2goYUxvdywgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHRlcm1pbmF0ZXMgd2hlbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgIC8vXG4gICAgLy8gICAxLiBXZSBmaW5kIHRoZSBleGFjdCBlbGVtZW50IHdlIGFyZSBsb29raW5nIGZvci5cbiAgICAvL1xuICAgIC8vICAgMi4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBidXQgd2UgY2FuIHJldHVybiB0aGUgbmV4dFxuICAgIC8vICAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgbGVzcyB0aGFuIHRoYXQgZWxlbWVudC5cbiAgICAvL1xuICAgIC8vICAgMy4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBhbmQgdGhlcmUgaXMgbm8gbmV4dC1jbG9zZXN0XG4gICAgLy8gICAgICBlbGVtZW50IHdoaWNoIGlzIGxlc3MgdGhhbiB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLCBzbyB3ZVxuICAgIC8vICAgICAgcmV0dXJuIG51bGwuXG4gICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGFIaWdoIC0gYUxvdykgLyAyKSArIGFMb3c7XG4gICAgdmFyIGNtcCA9IGFDb21wYXJlKGFOZWVkbGUsIGFIYXlzdGFja1ttaWRdLCB0cnVlKTtcbiAgICBpZiAoY21wID09PSAwKSB7XG4gICAgICAvLyBGb3VuZCB0aGUgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gICAgICByZXR1cm4gYUhheXN0YWNrW21pZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNtcCA+IDApIHtcbiAgICAgIC8vIGFIYXlzdGFja1ttaWRdIGlzIGdyZWF0ZXIgdGhhbiBvdXIgbmVlZGxlLlxuICAgICAgaWYgKGFIaWdoIC0gbWlkID4gMSkge1xuICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgdXBwZXIgaGFsZi5cbiAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZVNlYXJjaChtaWQsIGFIaWdoLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGRpZCBub3QgZmluZCBhbiBleGFjdCBtYXRjaCwgcmV0dXJuIHRoZSBuZXh0IGNsb3Nlc3Qgb25lXG4gICAgICAvLyAodGVybWluYXRpb24gY2FzZSAyKS5cbiAgICAgIHJldHVybiBhSGF5c3RhY2tbbWlkXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBhSGF5c3RhY2tbbWlkXSBpcyBsZXNzIHRoYW4gb3VyIG5lZWRsZS5cbiAgICAgIGlmIChtaWQgLSBhTG93ID4gMSkge1xuICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgbG93ZXIgaGFsZi5cbiAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZVNlYXJjaChhTG93LCBtaWQsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUpO1xuICAgICAgfVxuICAgICAgLy8gVGhlIGV4YWN0IG5lZWRsZSBlbGVtZW50IHdhcyBub3QgZm91bmQgaW4gdGhpcyBoYXlzdGFjay4gRGV0ZXJtaW5lIGlmXG4gICAgICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMikgb3IgKDMpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICAgICAgcmV0dXJuIGFMb3cgPCAwXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGFIYXlzdGFja1thTG93XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBiaW5hcnkgc2VhcmNoIHdoaWNoIHdpbGwgYWx3YXlzIHRyeSBhbmQgcmV0dXJuXG4gICAqIHRoZSBuZXh0IGxvd2VzdCB2YWx1ZSBjaGVja2VkIGlmIHRoZXJlIGlzIG5vIGV4YWN0IGhpdC4gVGhpcyBpcyBiZWNhdXNlXG4gICAqIG1hcHBpbmdzIGJldHdlZW4gb3JpZ2luYWwgYW5kIGdlbmVyYXRlZCBsaW5lL2NvbCBwYWlycyBhcmUgc2luZ2xlIHBvaW50cyxcbiAgICogYW5kIHRoZXJlIGlzIGFuIGltcGxpY2l0IHJlZ2lvbiBiZXR3ZWVuIGVhY2ggb2YgdGhlbSwgc28gYSBtaXNzIGp1c3QgbWVhbnNcbiAgICogdGhhdCB5b3UgYXJlbid0IG9uIHRoZSB2ZXJ5IHN0YXJ0IG9mIGEgcmVnaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYU5lZWRsZSBUaGUgZWxlbWVudCB5b3UgYXJlIGxvb2tpbmcgZm9yLlxuICAgKiBAcGFyYW0gYUhheXN0YWNrIFRoZSBhcnJheSB0aGF0IGlzIGJlaW5nIHNlYXJjaGVkLlxuICAgKiBAcGFyYW0gYUNvbXBhcmUgQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbmVlZGxlIGFuZCBhbiBlbGVtZW50IGluIHRoZVxuICAgKiAgICAgYXJyYXkgYW5kIHJldHVybnMgLTEsIDAsIG9yIDEgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIG5lZWRsZSBpcyBsZXNzXG4gICAqICAgICB0aGFuLCBlcXVhbCB0bywgb3IgZ3JlYXRlciB0aGFuIHRoZSBlbGVtZW50LCByZXNwZWN0aXZlbHkuXG4gICAqL1xuICBleHBvcnRzLnNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaChhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlKSB7XG4gICAgcmV0dXJuIGFIYXlzdGFjay5sZW5ndGggPiAwXG4gICAgICA/IHJlY3Vyc2l2ZVNlYXJjaCgtMSwgYUhheXN0YWNrLmxlbmd0aCwgYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSlcbiAgICAgIDogbnVsbDtcbiAgfTtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG4gIHZhciBiaW5hcnlTZWFyY2ggPSByZXF1aXJlKCcuL2JpbmFyeS1zZWFyY2gnKTtcbiAgdmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcbiAgdmFyIGJhc2U2NFZMUSA9IHJlcXVpcmUoJy4vYmFzZTY0LXZscScpO1xuXG4gIC8qKlxuICAgKiBBIFNvdXJjZU1hcENvbnN1bWVyIGluc3RhbmNlIHJlcHJlc2VudHMgYSBwYXJzZWQgc291cmNlIG1hcCB3aGljaCB3ZSBjYW5cbiAgICogcXVlcnkgZm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBmaWxlIHBvc2l0aW9ucyBieSBnaXZpbmcgaXQgYSBmaWxlXG4gICAqIHBvc2l0aW9uIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICAgKlxuICAgKiBUaGUgb25seSBwYXJhbWV0ZXIgaXMgdGhlIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3JcbiAgICogYWxyZWFkeSBwYXJzZWQgdG8gYW4gb2JqZWN0KS4gQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzb3VyY2UgbWFwcyBoYXZlIHRoZVxuICAgKiBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAgICpcbiAgICogICAtIHZlcnNpb246IFdoaWNoIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXAgc3BlYyB0aGlzIG1hcCBpcyBmb2xsb3dpbmcuXG4gICAqICAgLSBzb3VyY2VzOiBBbiBhcnJheSBvZiBVUkxzIHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZXMuXG4gICAqICAgLSBuYW1lczogQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgd2hpY2ggY2FuIGJlIHJlZmVycmVuY2VkIGJ5IGluZGl2aWR1YWwgbWFwcGluZ3MuXG4gICAqICAgLSBzb3VyY2VSb290OiBPcHRpb25hbC4gVGhlIFVSTCByb290IGZyb20gd2hpY2ggYWxsIHNvdXJjZXMgYXJlIHJlbGF0aXZlLlxuICAgKiAgIC0gc291cmNlc0NvbnRlbnQ6IE9wdGlvbmFsLiBBbiBhcnJheSBvZiBjb250ZW50cyBvZiB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGVzLlxuICAgKiAgIC0gbWFwcGluZ3M6IEEgc3RyaW5nIG9mIGJhc2U2NCBWTFFzIHdoaWNoIGNvbnRhaW4gdGhlIGFjdHVhbCBtYXBwaW5ncy5cbiAgICogICAtIGZpbGU6IE9wdGlvbmFsLiBUaGUgZ2VuZXJhdGVkIGZpbGUgdGhpcyBzb3VyY2UgbWFwIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICpcbiAgICogSGVyZSBpcyBhbiBleGFtcGxlIHNvdXJjZSBtYXAsIHRha2VuIGZyb20gdGhlIHNvdXJjZSBtYXAgc3BlY1swXTpcbiAgICpcbiAgICogICAgIHtcbiAgICogICAgICAgdmVyc2lvbiA6IDMsXG4gICAqICAgICAgIGZpbGU6IFwib3V0LmpzXCIsXG4gICAqICAgICAgIHNvdXJjZVJvb3QgOiBcIlwiLFxuICAgKiAgICAgICBzb3VyY2VzOiBbXCJmb28uanNcIiwgXCJiYXIuanNcIl0sXG4gICAqICAgICAgIG5hbWVzOiBbXCJzcmNcIiwgXCJtYXBzXCIsIFwiYXJlXCIsIFwiZnVuXCJdLFxuICAgKiAgICAgICBtYXBwaW5nczogXCJBQSxBQjs7QUJDREU7XCJcbiAgICogICAgIH1cbiAgICpcbiAgICogWzBdOiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFVMVJHQWVoUXdSeXBVVG92RjFLUmxwaU9GemUwYi1fMmdjNmZBSDBLWTBrL2VkaXQ/cGxpPTEjXG4gICAqL1xuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcihhU291cmNlTWFwKSB7XG4gICAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gICAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSAnc3RyaW5nJykge1xuICAgICAgc291cmNlTWFwID0gSlNPTi5wYXJzZShhU291cmNlTWFwLnJlcGxhY2UoL15cXClcXF1cXH0nLywgJycpKTtcbiAgICB9XG5cbiAgICB2YXIgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3ZlcnNpb24nKTtcbiAgICB2YXIgc291cmNlcyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZXMnKTtcbiAgICAvLyBTYXNzIDMuMyBsZWF2ZXMgb3V0IHRoZSAnbmFtZXMnIGFycmF5LCBzbyB3ZSBkZXZpYXRlIGZyb20gdGhlIHNwZWMgKHdoaWNoXG4gICAgLy8gcmVxdWlyZXMgdGhlIGFycmF5KSB0byBwbGF5IG5pY2UgaGVyZS5cbiAgICB2YXIgbmFtZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICduYW1lcycsIFtdKTtcbiAgICB2YXIgc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZVJvb3QnLCBudWxsKTtcbiAgICB2YXIgc291cmNlc0NvbnRlbnQgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VzQ29udGVudCcsIG51bGwpO1xuICAgIHZhciBtYXBwaW5ncyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ21hcHBpbmdzJyk7XG4gICAgdmFyIGZpbGUgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdmaWxlJywgbnVsbCk7XG5cbiAgICAvLyBPbmNlIGFnYWluLCBTYXNzIGRldmlhdGVzIGZyb20gdGhlIHNwZWMgYW5kIHN1cHBsaWVzIHRoZSB2ZXJzaW9uIGFzIGFcbiAgICAvLyBzdHJpbmcgcmF0aGVyIHRoYW4gYSBudW1iZXIsIHNvIHdlIHVzZSBsb29zZSBlcXVhbGl0eSBjaGVja2luZyBoZXJlLlxuICAgIGlmICh2ZXJzaW9uICE9IHRoaXMuX3ZlcnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgdmVyc2lvbjogJyArIHZlcnNpb24pO1xuICAgIH1cblxuICAgIC8vIFBhc3MgYHRydWVgIGJlbG93IHRvIGFsbG93IGR1cGxpY2F0ZSBuYW1lcyBhbmQgc291cmNlcy4gV2hpbGUgc291cmNlIG1hcHNcbiAgICAvLyBhcmUgaW50ZW5kZWQgdG8gYmUgY29tcHJlc3NlZCBhbmQgZGVkdXBsaWNhdGVkLCB0aGUgVHlwZVNjcmlwdCBjb21waWxlclxuICAgIC8vIHNvbWV0aW1lcyBnZW5lcmF0ZXMgc291cmNlIG1hcHMgd2l0aCBkdXBsaWNhdGVzIGluIHRoZW0uIFNlZSBHaXRodWIgaXNzdWVcbiAgICAvLyAjNzIgYW5kIGJ1Z3ppbC5sYS84ODk0OTIuXG4gICAgdGhpcy5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkobmFtZXMsIHRydWUpO1xuICAgIHRoaXMuX3NvdXJjZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoc291cmNlcywgdHJ1ZSk7XG5cbiAgICB0aGlzLnNvdXJjZVJvb3QgPSBzb3VyY2VSb290O1xuICAgIHRoaXMuc291cmNlc0NvbnRlbnQgPSBzb3VyY2VzQ29udGVudDtcbiAgICB0aGlzLl9tYXBwaW5ncyA9IG1hcHBpbmdzO1xuICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgU291cmNlTWFwQ29uc3VtZXIgZnJvbSBhIFNvdXJjZU1hcEdlbmVyYXRvci5cbiAgICpcbiAgICogQHBhcmFtIFNvdXJjZU1hcEdlbmVyYXRvciBhU291cmNlTWFwXG4gICAqICAgICAgICBUaGUgc291cmNlIG1hcCB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG4gICAqIEByZXR1cm5zIFNvdXJjZU1hcENvbnN1bWVyXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5mcm9tU291cmNlTWFwID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9mcm9tU291cmNlTWFwKGFTb3VyY2VNYXApIHtcbiAgICAgIHZhciBzbWMgPSBPYmplY3QuY3JlYXRlKFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5cbiAgICAgIHNtYy5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoYVNvdXJjZU1hcC5fbmFtZXMudG9BcnJheSgpLCB0cnVlKTtcbiAgICAgIHNtYy5fc291cmNlcyA9IEFycmF5U2V0LmZyb21BcnJheShhU291cmNlTWFwLl9zb3VyY2VzLnRvQXJyYXkoKSwgdHJ1ZSk7XG4gICAgICBzbWMuc291cmNlUm9vdCA9IGFTb3VyY2VNYXAuX3NvdXJjZVJvb3Q7XG4gICAgICBzbWMuc291cmNlc0NvbnRlbnQgPSBhU291cmNlTWFwLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KHNtYy5fc291cmNlcy50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYy5zb3VyY2VSb290KTtcbiAgICAgIHNtYy5maWxlID0gYVNvdXJjZU1hcC5fZmlsZTtcblxuICAgICAgc21jLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBhU291cmNlTWFwLl9tYXBwaW5ncy5zbGljZSgpXG4gICAgICAgIC5zb3J0KHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zKTtcbiAgICAgIHNtYy5fX29yaWdpbmFsTWFwcGluZ3MgPSBhU291cmNlTWFwLl9tYXBwaW5ncy5zbGljZSgpXG4gICAgICAgIC5zb3J0KHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuXG4gICAgICByZXR1cm4gc21jO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAgICovXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fdmVyc2lvbiA9IDM7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG9yaWdpbmFsIHNvdXJjZXMuXG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnc291cmNlcycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlUm9vdCA/IHV0aWwuam9pbih0aGlzLnNvdXJjZVJvb3QsIHMpIDogcztcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gYF9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZCBgX19vcmlnaW5hbE1hcHBpbmdzYCBhcmUgYXJyYXlzIHRoYXQgaG9sZCB0aGVcbiAgLy8gcGFyc2VkIG1hcHBpbmcgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlIG1hcCdzIFwibWFwcGluZ3NcIiBhdHRyaWJ1dGUuIFRoZXlcbiAgLy8gYXJlIGxhemlseSBpbnN0YW50aWF0ZWQsIGFjY2Vzc2VkIHZpYSB0aGUgYF9nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gIC8vIGBfb3JpZ2luYWxNYXBwaW5nc2AgZ2V0dGVycyByZXNwZWN0aXZlbHksIGFuZCB3ZSBvbmx5IHBhcnNlIHRoZSBtYXBwaW5nc1xuICAvLyBhbmQgY3JlYXRlIHRoZXNlIGFycmF5cyBvbmNlIHF1ZXJpZWQgZm9yIGEgc291cmNlIGxvY2F0aW9uLiBXZSBqdW1wIHRocm91Z2hcbiAgLy8gdGhlc2UgaG9vcHMgYmVjYXVzZSB0aGVyZSBjYW4gYmUgbWFueSB0aG91c2FuZHMgb2YgbWFwcGluZ3MsIGFuZCBwYXJzaW5nXG4gIC8vIHRoZW0gaXMgZXhwZW5zaXZlLCBzbyB3ZSBvbmx5IHdhbnQgdG8gZG8gaXQgaWYgd2UgbXVzdC5cbiAgLy9cbiAgLy8gRWFjaCBvYmplY3QgaW4gdGhlIGFycmF5cyBpcyBvZiB0aGUgZm9ybTpcbiAgLy9cbiAgLy8gICAgIHtcbiAgLy8gICAgICAgZ2VuZXJhdGVkTGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgLy8gICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4gIC8vICAgICAgIHNvdXJjZTogVGhlIHBhdGggdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlIHRoYXQgZ2VuZXJhdGVkIHRoaXNcbiAgLy8gICAgICAgICAgICAgICBjaHVuayBvZiBjb2RlLFxuICAvLyAgICAgICBvcmlnaW5hbExpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlIHRoYXRcbiAgLy8gICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuICAvLyAgICAgICBvcmlnaW5hbENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4gIC8vICAgICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuICAvLyAgICAgICBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgb3JpZ2luYWwgc3ltYm9sIHdoaWNoIGdlbmVyYXRlZCB0aGlzIGNodW5rIG9mXG4gIC8vICAgICAgICAgICAgIGNvZGUuXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vIEFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCBmb3IgYGdlbmVyYXRlZExpbmVgIGFuZCBgZ2VuZXJhdGVkQ29sdW1uYCBjYW4gYmVcbiAgLy8gYG51bGxgLlxuICAvL1xuICAvLyBgX2dlbmVyYXRlZE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zLlxuICAvL1xuICAvLyBgX29yaWdpbmFsTWFwcGluZ3NgIGlzIG9yZGVyZWQgYnkgdGhlIG9yaWdpbmFsIHBvc2l0aW9ucy5cblxuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IG51bGw7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdfZ2VuZXJhdGVkTWFwcGluZ3MnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncykge1xuICAgICAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncywgdGhpcy5zb3VyY2VSb290KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncztcbiAgICB9XG4gIH0pO1xuXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fX29yaWdpbmFsTWFwcGluZ3MgPSBudWxsO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnX29yaWdpbmFsTWFwcGluZ3MnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuX19vcmlnaW5hbE1hcHBpbmdzKSB7XG4gICAgICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IFtdO1xuICAgICAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fX29yaWdpbmFsTWFwcGluZ3M7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICAgKiBxdWVyeSAodGhlIG9yZGVyZWQgYXJyYXlzIGluIHRoZSBgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbiAgICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAgICovXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgICAgdmFyIGdlbmVyYXRlZExpbmUgPSAxO1xuICAgICAgdmFyIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgIHZhciBwcmV2aW91c09yaWdpbmFsTGluZSA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNTb3VyY2UgPSAwO1xuICAgICAgdmFyIHByZXZpb3VzTmFtZSA9IDA7XG4gICAgICB2YXIgbWFwcGluZ1NlcGFyYXRvciA9IC9eWyw7XS87XG4gICAgICB2YXIgc3RyID0gYVN0cjtcbiAgICAgIHZhciBtYXBwaW5nO1xuICAgICAgdmFyIHRlbXA7XG5cbiAgICAgIHdoaWxlIChzdHIubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoc3RyLmNoYXJBdCgwKSA9PT0gJzsnKSB7XG4gICAgICAgICAgZ2VuZXJhdGVkTGluZSsrO1xuICAgICAgICAgIHN0ciA9IHN0ci5zbGljZSgxKTtcbiAgICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RyLmNoYXJBdCgwKSA9PT0gJywnKSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hcHBpbmcgPSB7fTtcbiAgICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZExpbmUgPSBnZW5lcmF0ZWRMaW5lO1xuXG4gICAgICAgICAgLy8gR2VuZXJhdGVkIGNvbHVtbi5cbiAgICAgICAgICB0ZW1wID0gYmFzZTY0VkxRLmRlY29kZShzdHIpO1xuICAgICAgICAgIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uID0gcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gKyB0ZW1wLnZhbHVlO1xuICAgICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG4gICAgICAgICAgc3RyID0gdGVtcC5yZXN0O1xuXG4gICAgICAgICAgaWYgKHN0ci5sZW5ndGggPiAwICYmICFtYXBwaW5nU2VwYXJhdG9yLnRlc3Qoc3RyLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgICAgIC8vIE9yaWdpbmFsIHNvdXJjZS5cbiAgICAgICAgICAgIHRlbXAgPSBiYXNlNjRWTFEuZGVjb2RlKHN0cik7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuYXQocHJldmlvdXNTb3VyY2UgKyB0ZW1wLnZhbHVlKTtcbiAgICAgICAgICAgIHByZXZpb3VzU291cmNlICs9IHRlbXAudmFsdWU7XG4gICAgICAgICAgICBzdHIgPSB0ZW1wLnJlc3Q7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCB8fCBtYXBwaW5nU2VwYXJhdG9yLnRlc3Qoc3RyLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCBhIHNvdXJjZSwgYnV0IG5vIGxpbmUgYW5kIGNvbHVtbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPcmlnaW5hbCBsaW5lLlxuICAgICAgICAgICAgdGVtcCA9IGJhc2U2NFZMUS5kZWNvZGUoc3RyKTtcbiAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID0gcHJldmlvdXNPcmlnaW5hbExpbmUgKyB0ZW1wLnZhbHVlO1xuICAgICAgICAgICAgcHJldmlvdXNPcmlnaW5hbExpbmUgPSBtYXBwaW5nLm9yaWdpbmFsTGluZTtcbiAgICAgICAgICAgIC8vIExpbmVzIGFyZSBzdG9yZWQgMC1iYXNlZFxuICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgKz0gMTtcbiAgICAgICAgICAgIHN0ciA9IHRlbXAucmVzdDtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwIHx8IG1hcHBpbmdTZXBhcmF0b3IudGVzdChzdHIuY2hhckF0KDApKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGEgc291cmNlIGFuZCBsaW5lLCBidXQgbm8gY29sdW1uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE9yaWdpbmFsIGNvbHVtbi5cbiAgICAgICAgICAgIHRlbXAgPSBiYXNlNjRWTFEuZGVjb2RlKHN0cik7XG4gICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gcHJldmlvdXNPcmlnaW5hbENvbHVtbiArIHRlbXAudmFsdWU7XG4gICAgICAgICAgICBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcbiAgICAgICAgICAgIHN0ciA9IHRlbXAucmVzdDtcblxuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPiAwICYmICFtYXBwaW5nU2VwYXJhdG9yLnRlc3Qoc3RyLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgICAgICAgLy8gT3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAgICAgdGVtcCA9IGJhc2U2NFZMUS5kZWNvZGUoc3RyKTtcbiAgICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gdGhpcy5fbmFtZXMuYXQocHJldmlvdXNOYW1lICsgdGVtcC52YWx1ZSk7XG4gICAgICAgICAgICAgIHByZXZpb3VzTmFtZSArPSB0ZW1wLnZhbHVlO1xuICAgICAgICAgICAgICBzdHIgPSB0ZW1wLnJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzLnB1c2gobWFwcGluZyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLnB1c2gobWFwcGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncy5zb3J0KHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zKTtcbiAgICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLnNvcnQodXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyk7XG4gICAgfTtcblxuICAvKipcbiAgICogRmluZCB0aGUgbWFwcGluZyB0aGF0IGJlc3QgbWF0Y2hlcyB0aGUgaHlwb3RoZXRpY2FsIFwibmVlZGxlXCIgbWFwcGluZyB0aGF0XG4gICAqIHdlIGFyZSBzZWFyY2hpbmcgZm9yIGluIHRoZSBnaXZlbiBcImhheXN0YWNrXCIgb2YgbWFwcGluZ3MuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX2ZpbmRNYXBwaW5nID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9maW5kTWFwcGluZyhhTmVlZGxlLCBhTWFwcGluZ3MsIGFMaW5lTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQ29sdW1uTmFtZSwgYUNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIFRvIHJldHVybiB0aGUgcG9zaXRpb24gd2UgYXJlIHNlYXJjaGluZyBmb3IsIHdlIG11c3QgZmlyc3QgZmluZCB0aGVcbiAgICAgIC8vIG1hcHBpbmcgZm9yIHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgdGhlbiByZXR1cm4gdGhlIG9wcG9zaXRlIHBvc2l0aW9uIGl0XG4gICAgICAvLyBwb2ludHMgdG8uIEJlY2F1c2UgdGhlIG1hcHBpbmdzIGFyZSBzb3J0ZWQsIHdlIGNhbiB1c2UgYmluYXJ5IHNlYXJjaCB0b1xuICAgICAgLy8gZmluZCB0aGUgYmVzdCBtYXBwaW5nLlxuXG4gICAgICBpZiAoYU5lZWRsZVthTGluZU5hbWVdIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGluZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLCBnb3QgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthTGluZU5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGlmIChhTmVlZGxlW2FDb2x1bW5OYW1lXSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29sdW1uIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAsIGdvdCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBhTmVlZGxlW2FDb2x1bW5OYW1lXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiaW5hcnlTZWFyY2guc2VhcmNoKGFOZWVkbGUsIGFNYXBwaW5ncywgYUNvbXBhcmF0b3IpO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSwgbGluZSwgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGdlbmVyYXRlZFxuICAgKiBzb3VyY2UncyBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3RcbiAgICogd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICAgKlxuICAgKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gc291cmNlOiBUaGUgb3JpZ2luYWwgc291cmNlIGZpbGUsIG9yIG51bGwuXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC5cbiAgICogICAtIG5hbWU6IFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLCBvciBudWxsLlxuICAgKi9cbiAgU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3IgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX29yaWdpbmFsUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICAgIGdlbmVyYXRlZExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJylcbiAgICAgIH07XG5cbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fZmluZE1hcHBpbmcobmVlZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZW5lcmF0ZWRMaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuZXJhdGVkQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zKTtcblxuICAgICAgaWYgKG1hcHBpbmcgJiYgbWFwcGluZy5nZW5lcmF0ZWRMaW5lID09PSBuZWVkbGUuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICB2YXIgc291cmNlID0gdXRpbC5nZXRBcmcobWFwcGluZywgJ3NvdXJjZScsIG51bGwpO1xuICAgICAgICBpZiAoc291cmNlICYmIHRoaXMuc291cmNlUm9vdCkge1xuICAgICAgICAgIHNvdXJjZSA9IHV0aWwuam9pbih0aGlzLnNvdXJjZVJvb3QsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnb3JpZ2luYWxMaW5lJywgbnVsbCksXG4gICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnb3JpZ2luYWxDb2x1bW4nLCBudWxsKSxcbiAgICAgICAgICBuYW1lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbmFtZScsIG51bGwpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgICAgbGluZTogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgICBuYW1lOiBudWxsXG4gICAgICB9O1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50LiBUaGUgb25seSBhcmd1bWVudCBpcyB0aGUgdXJsIG9mIHRoZVxuICAgKiBvcmlnaW5hbCBzb3VyY2UgZmlsZS4gUmV0dXJucyBudWxsIGlmIG5vIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50IGlzXG4gICAqIGF2YWlsaWJsZS5cbiAgICovXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5zb3VyY2VDb250ZW50Rm9yID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UpIHtcbiAgICAgIGlmICghdGhpcy5zb3VyY2VzQ29udGVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc291cmNlUm9vdCkge1xuICAgICAgICBhU291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsIGFTb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fc291cmNlcy5oYXMoYVNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKGFTb3VyY2UpXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHVybDtcbiAgICAgIGlmICh0aGlzLnNvdXJjZVJvb3RcbiAgICAgICAgICAmJiAodXJsID0gdXRpbC51cmxQYXJzZSh0aGlzLnNvdXJjZVJvb3QpKSkge1xuICAgICAgICAvLyBYWFg6IGZpbGU6Ly8gVVJJcyBhbmQgYWJzb2x1dGUgcGF0aHMgbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yIGZvclxuICAgICAgICAvLyBtYW55IHVzZXJzLiBXZSBjYW4gaGVscCB0aGVtIG91dCB3aGVuIHRoZXkgZXhwZWN0IGZpbGU6Ly8gVVJJcyB0b1xuICAgICAgICAvLyBiZWhhdmUgbGlrZSBpdCB3b3VsZCBpZiB0aGV5IHdlcmUgcnVubmluZyBhIGxvY2FsIEhUVFAgc2VydmVyLiBTZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg1NTk3LlxuICAgICAgICB2YXIgZmlsZVVyaUFic1BhdGggPSBhU291cmNlLnJlcGxhY2UoL15maWxlOlxcL1xcLy8sIFwiXCIpO1xuICAgICAgICBpZiAodXJsLnNjaGVtZSA9PSBcImZpbGVcIlxuICAgICAgICAgICAgJiYgdGhpcy5fc291cmNlcy5oYXMoZmlsZVVyaUFic1BhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKGZpbGVVcmlBYnNQYXRoKV1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoIXVybC5wYXRoIHx8IHVybC5wYXRoID09IFwiL1wiKVxuICAgICAgICAgICAgJiYgdGhpcy5fc291cmNlcy5oYXMoXCIvXCIgKyBhU291cmNlKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihcIi9cIiArIGFTb3VyY2UpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gICAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAgICogbGluZSwgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoXG4gICAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAgICpcbiAgICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuZ2VuZXJhdGVkUG9zaXRpb25Gb3IgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2dlbmVyYXRlZFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgICBzb3VyY2U6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJyksXG4gICAgICAgIG9yaWdpbmFsTGluZTogdXRpbC5nZXRBcmcoYUFyZ3MsICdsaW5lJyksXG4gICAgICAgIG9yaWdpbmFsQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5zb3VyY2VSb290KSB7XG4gICAgICAgIG5lZWRsZS5zb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHRoaXMuc291cmNlUm9vdCwgbmVlZGxlLnNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fZmluZE1hcHBpbmcobmVlZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsTGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuXG4gICAgICBpZiAobWFwcGluZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRMaW5lJywgbnVsbCksXG4gICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkQ29sdW1uJywgbnVsbClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluZTogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsXG4gICAgICB9O1xuICAgIH07XG5cbiAgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSID0gMTtcbiAgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVIgPSAyO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgZWFjaCBtYXBwaW5nIGJldHdlZW4gYW4gb3JpZ2luYWwgc291cmNlL2xpbmUvY29sdW1uIGFuZCBhXG4gICAqIGdlbmVyYXRlZCBsaW5lL2NvbHVtbiBpbiB0aGlzIHNvdXJjZSBtYXAuXG4gICAqXG4gICAqIEBwYXJhbSBGdW5jdGlvbiBhQ2FsbGJhY2tcbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGVhY2ggbWFwcGluZy5cbiAgICogQHBhcmFtIE9iamVjdCBhQ29udGV4dFxuICAgKiAgICAgICAgT3B0aW9uYWwuIElmIHNwZWNpZmllZCwgdGhpcyBvYmplY3Qgd2lsbCBiZSB0aGUgdmFsdWUgb2YgYHRoaXNgIGV2ZXJ5XG4gICAqICAgICAgICB0aW1lIHRoYXQgYGFDYWxsYmFja2AgaXMgY2FsbGVkLlxuICAgKiBAcGFyYW0gYU9yZGVyXG4gICAqICAgICAgICBFaXRoZXIgYFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUmAgb3JcbiAgICogICAgICAgIGBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUmAuIFNwZWNpZmllcyB3aGV0aGVyIHlvdSB3YW50IHRvXG4gICAqICAgICAgICBpdGVyYXRlIG92ZXIgdGhlIG1hcHBpbmdzIHNvcnRlZCBieSB0aGUgZ2VuZXJhdGVkIGZpbGUncyBsaW5lL2NvbHVtblxuICAgKiAgICAgICAgb3JkZXIgb3IgdGhlIG9yaWdpbmFsJ3Mgc291cmNlL2xpbmUvY29sdW1uIG9yZGVyLCByZXNwZWN0aXZlbHkuIERlZmF1bHRzIHRvXG4gICAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSYC5cbiAgICovXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5lYWNoTWFwcGluZyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZWFjaE1hcHBpbmcoYUNhbGxiYWNrLCBhQ29udGV4dCwgYU9yZGVyKSB7XG4gICAgICB2YXIgY29udGV4dCA9IGFDb250ZXh0IHx8IG51bGw7XG4gICAgICB2YXIgb3JkZXIgPSBhT3JkZXIgfHwgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSO1xuXG4gICAgICB2YXIgbWFwcGluZ3M7XG4gICAgICBzd2l0Y2ggKG9yZGVyKSB7XG4gICAgICBjYXNlIFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUjpcbiAgICAgICAgbWFwcGluZ3MgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSOlxuICAgICAgICBtYXBwaW5ncyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3M7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcmRlciBvZiBpdGVyYXRpb24uXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlUm9vdCA9IHRoaXMuc291cmNlUm9vdDtcbiAgICAgIG1hcHBpbmdzLm1hcChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgICB2YXIgc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlUm9vdCkge1xuICAgICAgICAgIHNvdXJjZSA9IHV0aWwuam9pbihzb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgZ2VuZXJhdGVkTGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lLFxuICAgICAgICAgIGdlbmVyYXRlZENvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4sXG4gICAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBvcmlnaW5hbENvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICBuYW1lOiBtYXBwaW5nLm5hbWVcbiAgICAgICAgfTtcbiAgICAgIH0pLmZvckVhY2goYUNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICB9O1xuXG4gIGV4cG9ydHMuU291cmNlTWFwQ29uc3VtZXIgPSBTb3VyY2VNYXBDb25zdW1lcjtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIHZhciBiYXNlNjRWTFEgPSByZXF1aXJlKCcuL2Jhc2U2NC12bHEnKTtcbiAgdmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbiAgdmFyIEFycmF5U2V0ID0gcmVxdWlyZSgnLi9hcnJheS1zZXQnKS5BcnJheVNldDtcblxuICAvKipcbiAgICogQW4gaW5zdGFuY2Ugb2YgdGhlIFNvdXJjZU1hcEdlbmVyYXRvciByZXByZXNlbnRzIGEgc291cmNlIG1hcCB3aGljaCBpc1xuICAgKiBiZWluZyBidWlsdCBpbmNyZW1lbnRhbGx5LiBZb3UgbWF5IHBhc3MgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gZmlsZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICAgKiAgIC0gc291cmNlUm9vdDogQSByb290IGZvciBhbGwgcmVsYXRpdmUgVVJMcyBpbiB0aGlzIHNvdXJjZSBtYXAuXG4gICAqL1xuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3IoYUFyZ3MpIHtcbiAgICBpZiAoIWFBcmdzKSB7XG4gICAgICBhQXJncyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLl9maWxlID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdmaWxlJywgbnVsbCk7XG4gICAgdGhpcy5fc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlUm9vdCcsIG51bGwpO1xuICAgIHRoaXMuX3NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICB0aGlzLl9uYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuICAgIHRoaXMuX21hcHBpbmdzID0gW107XG4gICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbiAgfVxuXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNvdXJjZU1hcEdlbmVyYXRvciBiYXNlZCBvbiBhIFNvdXJjZU1hcENvbnN1bWVyXG4gICAqXG4gICAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcC5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5mcm9tU291cmNlTWFwID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfZnJvbVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIpIHtcbiAgICAgIHZhciBzb3VyY2VSb290ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZVJvb3Q7XG4gICAgICB2YXIgZ2VuZXJhdG9yID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcih7XG4gICAgICAgIGZpbGU6IGFTb3VyY2VNYXBDb25zdW1lci5maWxlLFxuICAgICAgICBzb3VyY2VSb290OiBzb3VyY2VSb290XG4gICAgICB9KTtcbiAgICAgIGFTb3VyY2VNYXBDb25zdW1lci5lYWNoTWFwcGluZyhmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgICB2YXIgbmV3TWFwcGluZyA9IHtcbiAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgIGxpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1hcHBpbmcuc291cmNlKSB7XG4gICAgICAgICAgbmV3TWFwcGluZy5zb3VyY2UgPSBtYXBwaW5nLnNvdXJjZTtcbiAgICAgICAgICBpZiAoc291cmNlUm9vdCkge1xuICAgICAgICAgICAgbmV3TWFwcGluZy5zb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIG5ld01hcHBpbmcuc291cmNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdNYXBwaW5nLm9yaWdpbmFsID0ge1xuICAgICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKG1hcHBpbmcubmFtZSkge1xuICAgICAgICAgICAgbmV3TWFwcGluZy5uYW1lID0gbWFwcGluZy5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlbmVyYXRvci5hZGRNYXBwaW5nKG5ld01hcHBpbmcpO1xuICAgICAgfSk7XG4gICAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VGaWxlKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgZ2VuZXJhdG9yLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBzaW5nbGUgbWFwcGluZyBmcm9tIG9yaWdpbmFsIHNvdXJjZSBsaW5lIGFuZCBjb2x1bW4gdG8gdGhlIGdlbmVyYXRlZFxuICAgKiBzb3VyY2UncyBsaW5lIGFuZCBjb2x1bW4gZm9yIHRoaXMgc291cmNlIG1hcCBiZWluZyBjcmVhdGVkLiBUaGUgbWFwcGluZ1xuICAgKiBvYmplY3Qgc2hvdWxkIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gZ2VuZXJhdGVkOiBBbiBvYmplY3Qgd2l0aCB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMuXG4gICAqICAgLSBvcmlnaW5hbDogQW4gb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMuXG4gICAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSAocmVsYXRpdmUgdG8gdGhlIHNvdXJjZVJvb3QpLlxuICAgKiAgIC0gbmFtZTogQW4gb3B0aW9uYWwgb3JpZ2luYWwgdG9rZW4gbmFtZSBmb3IgdGhpcyBtYXBwaW5nLlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hZGRNYXBwaW5nID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfYWRkTWFwcGluZyhhQXJncykge1xuICAgICAgdmFyIGdlbmVyYXRlZCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnZ2VuZXJhdGVkJyk7XG4gICAgICB2YXIgb3JpZ2luYWwgPSB1dGlsLmdldEFyZyhhQXJncywgJ29yaWdpbmFsJywgbnVsbCk7XG4gICAgICB2YXIgc291cmNlID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnLCBudWxsKTtcbiAgICAgIHZhciBuYW1lID0gdXRpbC5nZXRBcmcoYUFyZ3MsICduYW1lJywgbnVsbCk7XG5cbiAgICAgIHRoaXMuX3ZhbGlkYXRlTWFwcGluZyhnZW5lcmF0ZWQsIG9yaWdpbmFsLCBzb3VyY2UsIG5hbWUpO1xuXG4gICAgICBpZiAoc291cmNlICYmICF0aGlzLl9zb3VyY2VzLmhhcyhzb3VyY2UpKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lICYmICF0aGlzLl9uYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhpcy5fbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tYXBwaW5ncy5wdXNoKHtcbiAgICAgICAgZ2VuZXJhdGVkTGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgIGdlbmVyYXRlZENvbHVtbjogZ2VuZXJhdGVkLmNvbHVtbixcbiAgICAgICAgb3JpZ2luYWxMaW5lOiBvcmlnaW5hbCAhPSBudWxsICYmIG9yaWdpbmFsLmxpbmUsXG4gICAgICAgIG9yaWdpbmFsQ29sdW1uOiBvcmlnaW5hbCAhPSBudWxsICYmIG9yaWdpbmFsLmNvbHVtbixcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIG5hbWU6IG5hbWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGEgc291cmNlIGZpbGUuXG4gICAqL1xuICBTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLnNldFNvdXJjZUNvbnRlbnQgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9zZXRTb3VyY2VDb250ZW50KGFTb3VyY2VGaWxlLCBhU291cmNlQ29udGVudCkge1xuICAgICAgdmFyIHNvdXJjZSA9IGFTb3VyY2VGaWxlO1xuICAgICAgaWYgKHRoaXMuX3NvdXJjZVJvb3QpIHtcbiAgICAgICAgc291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLl9zb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYVNvdXJjZUNvbnRlbnQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBzb3VyY2UgY29udGVudCB0byB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBfc291cmNlc0NvbnRlbnRzIG1hcCBpZiB0aGUgcHJvcGVydHkgaXMgbnVsbC5cbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhzb3VyY2UpXSA9IGFTb3VyY2VDb250ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBzb3VyY2UgZmlsZSBmcm9tIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcC5cbiAgICAgICAgLy8gSWYgdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwIGlzIGVtcHR5LCBzZXQgdGhlIHByb3BlcnR5IHRvIG51bGwuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zb3VyY2VzQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhzb3VyY2UpXTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3NvdXJjZXNDb250ZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIG1hcHBpbmdzIG9mIGEgc3ViLXNvdXJjZS1tYXAgZm9yIGEgc3BlY2lmaWMgc291cmNlIGZpbGUgdG8gdGhlXG4gICAqIHNvdXJjZSBtYXAgYmVpbmcgZ2VuZXJhdGVkLiBFYWNoIG1hcHBpbmcgdG8gdGhlIHN1cHBsaWVkIHNvdXJjZSBmaWxlIGlzXG4gICAqIHJld3JpdHRlbiB1c2luZyB0aGUgc3VwcGxpZWQgc291cmNlIG1hcC4gTm90ZTogVGhlIHJlc29sdXRpb24gZm9yIHRoZVxuICAgKiByZXN1bHRpbmcgbWFwcGluZ3MgaXMgdGhlIG1pbmltaXVtIG9mIHRoaXMgbWFwIGFuZCB0aGUgc3VwcGxpZWQgbWFwLlxuICAgKlxuICAgKiBAcGFyYW0gYVNvdXJjZU1hcENvbnN1bWVyIFRoZSBzb3VyY2UgbWFwIHRvIGJlIGFwcGxpZWQuXG4gICAqIEBwYXJhbSBhU291cmNlRmlsZSBPcHRpb25hbC4gVGhlIGZpbGVuYW1lIG9mIHRoZSBzb3VyY2UgZmlsZS5cbiAgICogICAgICAgIElmIG9taXR0ZWQsIFNvdXJjZU1hcENvbnN1bWVyJ3MgZmlsZSBwcm9wZXJ0eSB3aWxsIGJlIHVzZWQuXG4gICAqIEBwYXJhbSBhU291cmNlTWFwUGF0aCBPcHRpb25hbC4gVGhlIGRpcm5hbWUgb2YgdGhlIHBhdGggdG8gdGhlIHNvdXJjZSBtYXBcbiAgICogICAgICAgIHRvIGJlIGFwcGxpZWQuIElmIHJlbGF0aXZlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgU291cmNlTWFwQ29uc3VtZXIuXG4gICAqICAgICAgICBUaGlzIHBhcmFtZXRlciBpcyBuZWVkZWQgd2hlbiB0aGUgdHdvIHNvdXJjZSBtYXBzIGFyZW4ndCBpbiB0aGUgc2FtZVxuICAgKiAgICAgICAgZGlyZWN0b3J5LCBhbmQgdGhlIHNvdXJjZSBtYXAgdG8gYmUgYXBwbGllZCBjb250YWlucyByZWxhdGl2ZSBzb3VyY2VcbiAgICogICAgICAgIHBhdGhzLiBJZiBzbywgdGhvc2UgcmVsYXRpdmUgc291cmNlIHBhdGhzIG5lZWQgdG8gYmUgcmV3cml0dGVuXG4gICAqICAgICAgICByZWxhdGl2ZSB0byB0aGUgU291cmNlTWFwR2VuZXJhdG9yLlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2FwcGx5U291cmNlTWFwKGFTb3VyY2VNYXBDb25zdW1lciwgYVNvdXJjZUZpbGUsIGFTb3VyY2VNYXBQYXRoKSB7XG4gICAgICAvLyBJZiBhU291cmNlRmlsZSBpcyBvbWl0dGVkLCB3ZSB3aWxsIHVzZSB0aGUgZmlsZSBwcm9wZXJ0eSBvZiB0aGUgU291cmNlTWFwXG4gICAgICBpZiAoIWFTb3VyY2VGaWxlKSB7XG4gICAgICAgIGlmICghYVNvdXJjZU1hcENvbnN1bWVyLmZpbGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCByZXF1aXJlcyBlaXRoZXIgYW4gZXhwbGljaXQgc291cmNlIGZpbGUsICcgK1xuICAgICAgICAgICAgJ29yIHRoZSBzb3VyY2UgbWFwXFwncyBcImZpbGVcIiBwcm9wZXJ0eS4gQm90aCB3ZXJlIG9taXR0ZWQuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYVNvdXJjZUZpbGUgPSBhU291cmNlTWFwQ29uc3VtZXIuZmlsZTtcbiAgICAgIH1cbiAgICAgIHZhciBzb3VyY2VSb290ID0gdGhpcy5fc291cmNlUm9vdDtcbiAgICAgIC8vIE1ha2UgXCJhU291cmNlRmlsZVwiIHJlbGF0aXZlIGlmIGFuIGFic29sdXRlIFVybCBpcyBwYXNzZWQuXG4gICAgICBpZiAoc291cmNlUm9vdCkge1xuICAgICAgICBhU291cmNlRmlsZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgYVNvdXJjZUZpbGUpO1xuICAgICAgfVxuICAgICAgLy8gQXBwbHlpbmcgdGhlIFNvdXJjZU1hcCBjYW4gYWRkIGFuZCByZW1vdmUgaXRlbXMgZnJvbSB0aGUgc291cmNlcyBhbmRcbiAgICAgIC8vIHRoZSBuYW1lcyBhcnJheS5cbiAgICAgIHZhciBuZXdTb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gICAgICB2YXIgbmV3TmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcblxuICAgICAgLy8gRmluZCBtYXBwaW5ncyBmb3IgdGhlIFwiYVNvdXJjZUZpbGVcIlxuICAgICAgdGhpcy5fbWFwcGluZ3MuZm9yRWFjaChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgICBpZiAobWFwcGluZy5zb3VyY2UgPT09IGFTb3VyY2VGaWxlICYmIG1hcHBpbmcub3JpZ2luYWxMaW5lKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgaXQgY2FuIGJlIG1hcHBlZCBieSB0aGUgc291cmNlIG1hcCwgdGhlbiB1cGRhdGUgdGhlIG1hcHBpbmcuXG4gICAgICAgICAgdmFyIG9yaWdpbmFsID0gYVNvdXJjZU1hcENvbnN1bWVyLm9yaWdpbmFsUG9zaXRpb25Gb3Ioe1xuICAgICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAob3JpZ2luYWwuc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDb3B5IG1hcHBpbmdcbiAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gb3JpZ2luYWwuc291cmNlO1xuICAgICAgICAgICAgaWYgKGFTb3VyY2VNYXBQYXRoKSB7XG4gICAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gdXRpbC5qb2luKGFTb3VyY2VNYXBQYXRoLCBtYXBwaW5nLnNvdXJjZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2VSb290KSB7XG4gICAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBtYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gb3JpZ2luYWwuY29sdW1uO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsLm5hbWUgIT09IG51bGwgJiYgbWFwcGluZy5uYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIE9ubHkgdXNlIHRoZSBpZGVudGlmaWVyIG5hbWUgaWYgaXQncyBhbiBpZGVudGlmaWVyXG4gICAgICAgICAgICAgIC8vIGluIGJvdGggU291cmNlTWFwc1xuICAgICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2UgPSBtYXBwaW5nLnNvdXJjZTtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAhbmV3U291cmNlcy5oYXMoc291cmNlKSkge1xuICAgICAgICAgIG5ld1NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmFtZSA9IG1hcHBpbmcubmFtZTtcbiAgICAgICAgaWYgKG5hbWUgJiYgIW5ld05hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgICAgIG5ld05hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICB9LCB0aGlzKTtcbiAgICAgIHRoaXMuX3NvdXJjZXMgPSBuZXdTb3VyY2VzO1xuICAgICAgdGhpcy5fbmFtZXMgPSBuZXdOYW1lcztcblxuICAgICAgLy8gQ29weSBzb3VyY2VzQ29udGVudHMgb2YgYXBwbGllZCBtYXAuXG4gICAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VGaWxlKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgaWYgKGFTb3VyY2VNYXBQYXRoKSB7XG4gICAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5qb2luKGFTb3VyY2VNYXBQYXRoLCBzb3VyY2VGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAgICAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIEEgbWFwcGluZyBjYW4gaGF2ZSBvbmUgb2YgdGhlIHRocmVlIGxldmVscyBvZiBkYXRhOlxuICAgKlxuICAgKiAgIDEuIEp1c3QgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi5cbiAgICogICAyLiBUaGUgR2VuZXJhdGVkIHBvc2l0aW9uLCBvcmlnaW5hbCBwb3NpdGlvbiwgYW5kIG9yaWdpbmFsIHNvdXJjZS5cbiAgICogICAzLiBHZW5lcmF0ZWQgYW5kIG9yaWdpbmFsIHBvc2l0aW9uLCBvcmlnaW5hbCBzb3VyY2UsIGFzIHdlbGwgYXMgYSBuYW1lXG4gICAqICAgICAgdG9rZW4uXG4gICAqXG4gICAqIFRvIG1haW50YWluIGNvbnNpc3RlbmN5LCB3ZSB2YWxpZGF0ZSB0aGF0IGFueSBuZXcgbWFwcGluZyBiZWluZyBhZGRlZCBmYWxsc1xuICAgKiBpbiB0byBvbmUgb2YgdGhlc2UgY2F0ZWdvcmllcy5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRlTWFwcGluZyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3ZhbGlkYXRlTWFwcGluZyhhR2VuZXJhdGVkLCBhT3JpZ2luYWwsIGFTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhTmFtZSkge1xuICAgICAgaWYgKGFHZW5lcmF0ZWQgJiYgJ2xpbmUnIGluIGFHZW5lcmF0ZWQgJiYgJ2NvbHVtbicgaW4gYUdlbmVyYXRlZFxuICAgICAgICAgICYmIGFHZW5lcmF0ZWQubGluZSA+IDAgJiYgYUdlbmVyYXRlZC5jb2x1bW4gPj0gMFxuICAgICAgICAgICYmICFhT3JpZ2luYWwgJiYgIWFTb3VyY2UgJiYgIWFOYW1lKSB7XG4gICAgICAgIC8vIENhc2UgMS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYUdlbmVyYXRlZCAmJiAnbGluZScgaW4gYUdlbmVyYXRlZCAmJiAnY29sdW1uJyBpbiBhR2VuZXJhdGVkXG4gICAgICAgICAgICAgICAmJiBhT3JpZ2luYWwgJiYgJ2xpbmUnIGluIGFPcmlnaW5hbCAmJiAnY29sdW1uJyBpbiBhT3JpZ2luYWxcbiAgICAgICAgICAgICAgICYmIGFHZW5lcmF0ZWQubGluZSA+IDAgJiYgYUdlbmVyYXRlZC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICAgJiYgYU9yaWdpbmFsLmxpbmUgPiAwICYmIGFPcmlnaW5hbC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICAgJiYgYVNvdXJjZSkge1xuICAgICAgICAvLyBDYXNlcyAyIGFuZCAzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hcHBpbmc6ICcgKyBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZ2VuZXJhdGVkOiBhR2VuZXJhdGVkLFxuICAgICAgICAgIHNvdXJjZTogYVNvdXJjZSxcbiAgICAgICAgICBvcmlnaW5hbDogYU9yaWdpbmFsLFxuICAgICAgICAgIG5hbWU6IGFOYW1lXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIC8qKlxuICAgKiBTZXJpYWxpemUgdGhlIGFjY3VtdWxhdGVkIG1hcHBpbmdzIGluIHRvIHRoZSBzdHJlYW0gb2YgYmFzZSA2NCBWTFFzXG4gICAqIHNwZWNpZmllZCBieSB0aGUgc291cmNlIG1hcCBmb3JtYXQuXG4gICAqL1xuICBTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl9zZXJpYWxpemVNYXBwaW5ncyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3NlcmlhbGl6ZU1hcHBpbmdzKCkge1xuICAgICAgdmFyIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZExpbmUgPSAxO1xuICAgICAgdmFyIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSAwO1xuICAgICAgdmFyIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gMDtcbiAgICAgIHZhciBwcmV2aW91c05hbWUgPSAwO1xuICAgICAgdmFyIHByZXZpb3VzU291cmNlID0gMDtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIHZhciBtYXBwaW5nO1xuXG4gICAgICAvLyBUaGUgbWFwcGluZ3MgbXVzdCBiZSBndWFyYW50ZWVkIHRvIGJlIGluIHNvcnRlZCBvcmRlciBiZWZvcmUgd2Ugc3RhcnRcbiAgICAgIC8vIHNlcmlhbGl6aW5nIHRoZW0gb3IgZWxzZSB0aGUgZ2VuZXJhdGVkIGxpbmUgbnVtYmVycyAod2hpY2ggYXJlIGRlZmluZWRcbiAgICAgIC8vIHZpYSB0aGUgJzsnIHNlcGFyYXRvcnMpIHdpbGwgYmUgYWxsIG1lc3NlZCB1cC4gTm90ZTogaXQgbWlnaHQgYmUgbW9yZVxuICAgICAgLy8gcGVyZm9ybWFudCB0byBtYWludGFpbiB0aGUgc29ydGluZyBhcyB3ZSBpbnNlcnQgdGhlbSwgcmF0aGVyIHRoYW4gYXMgd2VcbiAgICAgIC8vIHNlcmlhbGl6ZSB0aGVtLCBidXQgdGhlIGJpZyBPIGlzIHRoZSBzYW1lIGVpdGhlciB3YXkuXG4gICAgICB0aGlzLl9tYXBwaW5ncy5zb3J0KHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX21hcHBpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG1hcHBpbmcgPSB0aGlzLl9tYXBwaW5nc1tpXTtcblxuICAgICAgICBpZiAobWFwcGluZy5nZW5lcmF0ZWRMaW5lICE9PSBwcmV2aW91c0dlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgICAgd2hpbGUgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gJzsnO1xuICAgICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaWYgKCF1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyhtYXBwaW5nLCB0aGlzLl9tYXBwaW5nc1tpIC0gMV0pKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLmdlbmVyYXRlZENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgICBpZiAobWFwcGluZy5zb3VyY2UpIHtcbiAgICAgICAgICByZXN1bHQgKz0gYmFzZTY0VkxRLmVuY29kZSh0aGlzLl9zb3VyY2VzLmluZGV4T2YobWFwcGluZy5zb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c1NvdXJjZSk7XG4gICAgICAgICAgcHJldmlvdXNTb3VyY2UgPSB0aGlzLl9zb3VyY2VzLmluZGV4T2YobWFwcGluZy5zb3VyY2UpO1xuXG4gICAgICAgICAgLy8gbGluZXMgYXJlIHN0b3JlZCAwLWJhc2VkIGluIFNvdXJjZU1hcCBzcGVjIHZlcnNpb24gM1xuICAgICAgICAgIHJlc3VsdCArPSBiYXNlNjRWTFEuZW5jb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbExpbmUpO1xuICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmUgLSAxO1xuXG4gICAgICAgICAgcmVzdWx0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5vcmlnaW5hbENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbENvbHVtbik7XG4gICAgICAgICAgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgICBpZiAobWFwcGluZy5uYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gYmFzZTY0VkxRLmVuY29kZSh0aGlzLl9uYW1lcy5pbmRleE9mKG1hcHBpbmcubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNOYW1lKTtcbiAgICAgICAgICAgIHByZXZpb3VzTmFtZSA9IHRoaXMuX25hbWVzLmluZGV4T2YobWFwcGluZy5uYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KGFTb3VyY2VzLCBhU291cmNlUm9vdCkge1xuICAgICAgcmV0dXJuIGFTb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFTb3VyY2VSb290KSB7XG4gICAgICAgICAgc291cmNlID0gdXRpbC5yZWxhdGl2ZShhU291cmNlUm9vdCwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gdXRpbC50b1NldFN0cmluZyhzb3VyY2UpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3NvdXJjZXNDb250ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpXG4gICAgICAgICAgPyB0aGlzLl9zb3VyY2VzQ29udGVudHNba2V5XVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIEV4dGVybmFsaXplIHRoZSBzb3VyY2UgbWFwLlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS50b0pTT04gPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl90b0pTT04oKSB7XG4gICAgICB2YXIgbWFwID0ge1xuICAgICAgICB2ZXJzaW9uOiB0aGlzLl92ZXJzaW9uLFxuICAgICAgICBmaWxlOiB0aGlzLl9maWxlLFxuICAgICAgICBzb3VyY2VzOiB0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKSxcbiAgICAgICAgbmFtZXM6IHRoaXMuX25hbWVzLnRvQXJyYXkoKSxcbiAgICAgICAgbWFwcGluZ3M6IHRoaXMuX3NlcmlhbGl6ZU1hcHBpbmdzKClcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5fc291cmNlUm9vdCkge1xuICAgICAgICBtYXAuc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgIG1hcC5zb3VyY2VzQ29udGVudCA9IHRoaXMuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQobWFwLnNvdXJjZXMsIG1hcC5zb3VyY2VSb290KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIHNvdXJjZSBtYXAgYmVpbmcgZ2VuZXJhdGVkIHRvIGEgc3RyaW5nLlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3RvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO1xuICAgIH07XG5cbiAgZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSBTb3VyY2VNYXBHZW5lcmF0b3I7XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICB2YXIgU291cmNlTWFwR2VuZXJhdG9yID0gcmVxdWlyZSgnLi9zb3VyY2UtbWFwLWdlbmVyYXRvcicpLlNvdXJjZU1hcEdlbmVyYXRvcjtcbiAgdmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuICAvLyBNYXRjaGVzIGEgV2luZG93cy1zdHlsZSBgXFxyXFxuYCBuZXdsaW5lIG9yIGEgYFxcbmAgbmV3bGluZSB1c2VkIGJ5IGFsbCBvdGhlclxuICAvLyBvcGVyYXRpbmcgc3lzdGVtcyB0aGVzZSBkYXlzIChjYXB0dXJpbmcgdGhlIHJlc3VsdCkuXG4gIHZhciBSRUdFWF9ORVdMSU5FID0gLyhcXHI/XFxuKS9nO1xuXG4gIC8vIE1hdGNoZXMgYSBXaW5kb3dzLXN0eWxlIG5ld2xpbmUsIG9yIGFueSBjaGFyYWN0ZXIuXG4gIHZhciBSRUdFWF9DSEFSQUNURVIgPSAvXFxyXFxufFtcXHNcXFNdL2c7XG5cbiAgLyoqXG4gICAqIFNvdXJjZU5vZGVzIHByb3ZpZGUgYSB3YXkgdG8gYWJzdHJhY3Qgb3ZlciBpbnRlcnBvbGF0aW5nL2NvbmNhdGVuYXRpbmdcbiAgICogc25pcHBldHMgb2YgZ2VuZXJhdGVkIEphdmFTY3JpcHQgc291cmNlIGNvZGUgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGxpbmUgYW5kXG4gICAqIGNvbHVtbiBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gYUxpbmUgVGhlIG9yaWdpbmFsIGxpbmUgbnVtYmVyLlxuICAgKiBAcGFyYW0gYUNvbHVtbiBUaGUgb3JpZ2luYWwgY29sdW1uIG51bWJlci5cbiAgICogQHBhcmFtIGFTb3VyY2UgVGhlIG9yaWdpbmFsIHNvdXJjZSdzIGZpbGVuYW1lLlxuICAgKiBAcGFyYW0gYUNodW5rcyBPcHRpb25hbC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGljaCBhcmUgc25pcHBldHMgb2ZcbiAgICogICAgICAgIGdlbmVyYXRlZCBKUywgb3Igb3RoZXIgU291cmNlTm9kZXMuXG4gICAqIEBwYXJhbSBhTmFtZSBUaGUgb3JpZ2luYWwgaWRlbnRpZmllci5cbiAgICovXG4gIGZ1bmN0aW9uIFNvdXJjZU5vZGUoYUxpbmUsIGFDb2x1bW4sIGFTb3VyY2UsIGFDaHVua3MsIGFOYW1lKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuc291cmNlQ29udGVudHMgPSB7fTtcbiAgICB0aGlzLmxpbmUgPSBhTGluZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFMaW5lO1xuICAgIHRoaXMuY29sdW1uID0gYUNvbHVtbiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFDb2x1bW47XG4gICAgdGhpcy5zb3VyY2UgPSBhU291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogYVNvdXJjZTtcbiAgICB0aGlzLm5hbWUgPSBhTmFtZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFOYW1lO1xuICAgIGlmIChhQ2h1bmtzICE9IG51bGwpIHRoaXMuYWRkKGFDaHVua3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBTb3VyY2VOb2RlIGZyb20gZ2VuZXJhdGVkIGNvZGUgYW5kIGEgU291cmNlTWFwQ29uc3VtZXIuXG4gICAqXG4gICAqIEBwYXJhbSBhR2VuZXJhdGVkQ29kZSBUaGUgZ2VuZXJhdGVkIGNvZGVcbiAgICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgU291cmNlTWFwIGZvciB0aGUgZ2VuZXJhdGVkIGNvZGVcbiAgICovXG4gIFNvdXJjZU5vZGUuZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXAgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU5vZGVfZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXAoYUdlbmVyYXRlZENvZGUsIGFTb3VyY2VNYXBDb25zdW1lcikge1xuICAgICAgLy8gVGhlIFNvdXJjZU5vZGUgd2Ugd2FudCB0byBmaWxsIHdpdGggdGhlIGdlbmVyYXRlZCBjb2RlXG4gICAgICAvLyBhbmQgdGhlIFNvdXJjZU1hcFxuICAgICAgdmFyIG5vZGUgPSBuZXcgU291cmNlTm9kZSgpO1xuXG4gICAgICAvLyBBbGwgZXZlbiBpbmRpY2VzIG9mIHRoaXMgYXJyYXkgYXJlIG9uZSBsaW5lIG9mIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgICAgIC8vIHdoaWxlIGFsbCBvZGQgaW5kaWNlcyBhcmUgdGhlIG5ld2xpbmVzIGJldHdlZW4gdHdvIGFkamFjZW50IGxpbmVzXG4gICAgICAvLyAoc2luY2UgYFJFR0VYX05FV0xJTkVgIGNhcHR1cmVzIGl0cyBtYXRjaCkuXG4gICAgICAvLyBQcm9jZXNzZWQgZnJhZ21lbnRzIGFyZSByZW1vdmVkIGZyb20gdGhpcyBhcnJheSwgYnkgY2FsbGluZyBgc2hpZnROZXh0TGluZWAuXG4gICAgICB2YXIgcmVtYWluaW5nTGluZXMgPSBhR2VuZXJhdGVkQ29kZS5zcGxpdChSRUdFWF9ORVdMSU5FKTtcbiAgICAgIHZhciBzaGlmdE5leHRMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsaW5lQ29udGVudHMgPSByZW1haW5pbmdMaW5lcy5zaGlmdCgpO1xuICAgICAgICAvLyBUaGUgbGFzdCBsaW5lIG9mIGEgZmlsZSBtaWdodCBub3QgaGF2ZSBhIG5ld2xpbmUuXG4gICAgICAgIHZhciBuZXdMaW5lID0gcmVtYWluaW5nTGluZXMuc2hpZnQoKSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gbGluZUNvbnRlbnRzICsgbmV3TGluZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gcmVtZW1iZXIgdGhlIHBvc2l0aW9uIG9mIFwicmVtYWluaW5nTGluZXNcIlxuICAgICAgdmFyIGxhc3RHZW5lcmF0ZWRMaW5lID0gMSwgbGFzdEdlbmVyYXRlZENvbHVtbiA9IDA7XG5cbiAgICAgIC8vIFRoZSBnZW5lcmF0ZSBTb3VyY2VOb2RlcyB3ZSBuZWVkIGEgY29kZSByYW5nZS5cbiAgICAgIC8vIFRvIGV4dHJhY3QgaXQgY3VycmVudCBhbmQgbGFzdCBtYXBwaW5nIGlzIHVzZWQuXG4gICAgICAvLyBIZXJlIHdlIHN0b3JlIHRoZSBsYXN0IG1hcHBpbmcuXG4gICAgICB2YXIgbGFzdE1hcHBpbmcgPSBudWxsO1xuXG4gICAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgaWYgKGxhc3RNYXBwaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UgYWRkIHRoZSBjb2RlIGZyb20gXCJsYXN0TWFwcGluZ1wiIHRvIFwibWFwcGluZ1wiOlxuICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZXJlIGlzIGEgbmV3IGxpbmUgaW4gYmV0d2Vlbi5cbiAgICAgICAgICBpZiAobGFzdEdlbmVyYXRlZExpbmUgPCBtYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gXCJcIjtcbiAgICAgICAgICAgIC8vIEFzc29jaWF0ZSBmaXJzdCBsaW5lIHdpdGggXCJsYXN0TWFwcGluZ1wiXG4gICAgICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgICAgICAvLyBUaGUgcmVtYWluaW5nIGNvZGUgaXMgYWRkZWQgd2l0aG91dCBtYXBwaW5nXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIG5ldyBsaW5lIGluIGJldHdlZW4uXG4gICAgICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIGNvZGUgYmV0d2VlbiBcImxhc3RHZW5lcmF0ZWRDb2x1bW5cIiBhbmRcbiAgICAgICAgICAgIC8vIFwibWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cIiB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgICAgdmFyIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbMF07XG4gICAgICAgICAgICB2YXIgY29kZSA9IG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgICAgIHJlbWFpbmluZ0xpbmVzWzBdID0gbmV4dExpbmUuc3Vic3RyKG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBjb2RlKTtcbiAgICAgICAgICAgIC8vIE5vIG1vcmUgcmVtYWluaW5nIGNvZGUsIGNvbnRpbnVlXG4gICAgICAgICAgICBsYXN0TWFwcGluZyA9IG1hcHBpbmc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFkZCB0aGUgZ2VuZXJhdGVkIGNvZGUgdW50aWwgdGhlIGZpcnN0IG1hcHBpbmdcbiAgICAgICAgLy8gdG8gdGhlIFNvdXJjZU5vZGUgd2l0aG91dCBhbnkgbWFwcGluZy5cbiAgICAgICAgLy8gRWFjaCBsaW5lIGlzIGFkZGVkIGFzIHNlcGFyYXRlIHN0cmluZy5cbiAgICAgICAgd2hpbGUgKGxhc3RHZW5lcmF0ZWRMaW5lIDwgbWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgbm9kZS5hZGQoc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0R2VuZXJhdGVkQ29sdW1uIDwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pIHtcbiAgICAgICAgICB2YXIgbmV4dExpbmUgPSByZW1haW5pbmdMaW5lc1swXTtcbiAgICAgICAgICBub2RlLmFkZChuZXh0TGluZS5zdWJzdHIoMCwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pKTtcbiAgICAgICAgICByZW1haW5pbmdMaW5lc1swXSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RNYXBwaW5nID0gbWFwcGluZztcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG1hcHBpbmdzLlxuICAgICAgaWYgKHJlbWFpbmluZ0xpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGxhc3RNYXBwaW5nKSB7XG4gICAgICAgICAgLy8gQXNzb2NpYXRlIHRoZSByZW1haW5pbmcgY29kZSBpbiB0aGUgY3VycmVudCBsaW5lIHdpdGggXCJsYXN0TWFwcGluZ1wiXG4gICAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuZCBhZGQgdGhlIHJlbWFpbmluZyBsaW5lcyB3aXRob3V0IGFueSBtYXBwaW5nXG4gICAgICAgIG5vZGUuYWRkKHJlbWFpbmluZ0xpbmVzLmpvaW4oXCJcIikpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50IGludG8gU291cmNlTm9kZVxuICAgICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIG5vZGUuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBub2RlO1xuXG4gICAgICBmdW5jdGlvbiBhZGRNYXBwaW5nV2l0aENvZGUobWFwcGluZywgY29kZSkge1xuICAgICAgICBpZiAobWFwcGluZyA9PT0gbnVsbCB8fCBtYXBwaW5nLnNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbm9kZS5hZGQoY29kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5hZGQobmV3IFNvdXJjZU5vZGUobWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcubmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAvKipcbiAgICogQWRkIGEgY2h1bmsgb2YgZ2VuZXJhdGVkIEpTIHRvIHRoaXMgc291cmNlIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBhQ2h1bmsgQSBzdHJpbmcgc25pcHBldCBvZiBnZW5lcmF0ZWQgSlMgY29kZSwgYW5vdGhlciBpbnN0YW5jZSBvZlxuICAgKiAgICAgICAgU291cmNlTm9kZSwgb3IgYW4gYXJyYXkgd2hlcmUgZWFjaCBtZW1iZXIgaXMgb25lIG9mIHRob3NlIHRoaW5ncy5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfYWRkKGFDaHVuaykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICAgIGFDaHVuay5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICB0aGlzLmFkZChjaHVuayk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYUNodW5rIGluc3RhbmNlb2YgU291cmNlTm9kZSB8fCB0eXBlb2YgYUNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoYUNodW5rKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChhQ2h1bmspO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGlzIHNvdXJjZSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0gYUNodW5rIEEgc3RyaW5nIHNuaXBwZXQgb2YgZ2VuZXJhdGVkIEpTIGNvZGUsIGFub3RoZXIgaW5zdGFuY2Ugb2ZcbiAgICogICAgICAgIFNvdXJjZU5vZGUsIG9yIGFuIGFycmF5IHdoZXJlIGVhY2ggbWVtYmVyIGlzIG9uZSBvZiB0aG9zZSB0aGluZ3MuXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gU291cmNlTm9kZV9wcmVwZW5kKGFDaHVuaykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhQ2h1bmsubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMucHJlcGVuZChhQ2h1bmtbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhQ2h1bmsgaW5zdGFuY2VvZiBTb3VyY2VOb2RlIHx8IHR5cGVvZiBhQ2h1bmsgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4udW5zaGlmdChhQ2h1bmspO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXYWxrIG92ZXIgdGhlIHRyZWUgb2YgSlMgc25pcHBldHMgaW4gdGhpcyBub2RlIGFuZCBpdHMgY2hpbGRyZW4uIFRoZVxuICAgKiB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmNlIGZvciBlYWNoIHNuaXBwZXQgb2YgSlMgYW5kIGlzIHBhc3NlZCB0aGF0XG4gICAqIHNuaXBwZXQgYW5kIHRoZSBpdHMgb3JpZ2luYWwgYXNzb2NpYXRlZCBzb3VyY2UncyBsaW5lL2NvbHVtbiBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICAgKi9cbiAgU291cmNlTm9kZS5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfd2FsayhhRm4pIHtcbiAgICB2YXIgY2h1bms7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNodW5rID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaHVuayBpbnN0YW5jZW9mIFNvdXJjZU5vZGUpIHtcbiAgICAgICAgY2h1bmsud2FsayhhRm4pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjaHVuayAhPT0gJycpIHtcbiAgICAgICAgICBhRm4oY2h1bmssIHsgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgbGluZTogdGhpcy5saW5lLFxuICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIExpa2UgYFN0cmluZy5wcm90b3R5cGUuam9pbmAgZXhjZXB0IGZvciBTb3VyY2VOb2Rlcy4gSW5zZXJ0cyBgYVN0cmAgYmV0d2VlblxuICAgKiBlYWNoIG9mIGB0aGlzLmNoaWxkcmVuYC5cbiAgICpcbiAgICogQHBhcmFtIGFTZXAgVGhlIHNlcGFyYXRvci5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiBTb3VyY2VOb2RlX2pvaW4oYVNlcCkge1xuICAgIHZhciBuZXdDaGlsZHJlbjtcbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IDApIHtcbiAgICAgIG5ld0NoaWxkcmVuID0gW107XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuLTE7IGkrKykge1xuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRyZW5baV0pO1xuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKGFTZXApO1xuICAgICAgfVxuICAgICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXdDaGlsZHJlbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlIG9uIHRoZSB2ZXJ5IHJpZ2h0LW1vc3Qgc291cmNlIHNuaXBwZXQuIFVzZWZ1bFxuICAgKiBmb3IgdHJpbW1pbmcgd2hpdGVzcGFjZSBmcm9tIHRoZSBlbmQgb2YgYSBzb3VyY2Ugbm9kZSwgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0gYVBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICogQHBhcmFtIGFSZXBsYWNlbWVudCBUaGUgdGhpbmcgdG8gcmVwbGFjZSB0aGUgcGF0dGVybiB3aXRoLlxuICAgKi9cbiAgU291cmNlTm9kZS5wcm90b3R5cGUucmVwbGFjZVJpZ2h0ID0gZnVuY3Rpb24gU291cmNlTm9kZV9yZXBsYWNlUmlnaHQoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkge1xuICAgIHZhciBsYXN0Q2hpbGQgPSB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RDaGlsZCBpbnN0YW5jZW9mIFNvdXJjZU5vZGUpIHtcbiAgICAgIGxhc3RDaGlsZC5yZXBsYWNlUmlnaHQoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsYXN0Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPSBsYXN0Q2hpbGQucmVwbGFjZShhUGF0dGVybiwgYVJlcGxhY2VtZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goJycucmVwbGFjZShhUGF0dGVybiwgYVJlcGxhY2VtZW50KSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLiBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvclxuICAgKiBpbiB0aGUgc291cmNlc0NvbnRlbnQgZmllbGQuXG4gICAqXG4gICAqIEBwYXJhbSBhU291cmNlRmlsZSBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlXG4gICAqIEBwYXJhbSBhU291cmNlQ29udGVudCBUaGUgY29udGVudCBvZiB0aGUgc291cmNlIGZpbGVcbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLnNldFNvdXJjZUNvbnRlbnQgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU5vZGVfc2V0U291cmNlQ29udGVudChhU291cmNlRmlsZSwgYVNvdXJjZUNvbnRlbnQpIHtcbiAgICAgIHRoaXMuc291cmNlQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhhU291cmNlRmlsZSldID0gYVNvdXJjZUNvbnRlbnQ7XG4gICAgfTtcblxuICAvKipcbiAgICogV2FsayBvdmVyIHRoZSB0cmVlIG9mIFNvdXJjZU5vZGVzLiBUaGUgd2Fsa2luZyBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2hcbiAgICogc291cmNlIGZpbGUgY29udGVudCBhbmQgaXMgcGFzc2VkIHRoZSBmaWxlbmFtZSBhbmQgc291cmNlIGNvbnRlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBhRm4gVGhlIHRyYXZlcnNhbCBmdW5jdGlvbi5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLndhbGtTb3VyY2VDb250ZW50cyA9XG4gICAgZnVuY3Rpb24gU291cmNlTm9kZV93YWxrU291cmNlQ29udGVudHMoYUZuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSBpbnN0YW5jZW9mIFNvdXJjZU5vZGUpIHtcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLndhbGtTb3VyY2VDb250ZW50cyhhRm4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2VzID0gT2JqZWN0LmtleXModGhpcy5zb3VyY2VDb250ZW50cyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhRm4odXRpbC5mcm9tU2V0U3RyaW5nKHNvdXJjZXNbaV0pLCB0aGlzLnNvdXJjZUNvbnRlbnRzW3NvdXJjZXNbaV1dKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNvdXJjZSBub2RlLiBXYWxrcyBvdmVyIHRoZSB0cmVlXG4gICAqIGFuZCBjb25jYXRlbmF0ZXMgYWxsIHRoZSB2YXJpb3VzIHNuaXBwZXRzIHRvZ2V0aGVyIHRvIG9uZSBzdHJpbmcuXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfdG9TdHJpbmcoKSB7XG4gICAgdmFyIHN0ciA9IFwiXCI7XG4gICAgdGhpcy53YWxrKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgc3RyICs9IGNodW5rO1xuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNvdXJjZSBub2RlIGFsb25nIHdpdGggYSBzb3VyY2VcbiAgICogbWFwLlxuICAgKi9cbiAgU291cmNlTm9kZS5wcm90b3R5cGUudG9TdHJpbmdXaXRoU291cmNlTWFwID0gZnVuY3Rpb24gU291cmNlTm9kZV90b1N0cmluZ1dpdGhTb3VyY2VNYXAoYUFyZ3MpIHtcbiAgICB2YXIgZ2VuZXJhdGVkID0ge1xuICAgICAgY29kZTogXCJcIixcbiAgICAgIGxpbmU6IDEsXG4gICAgICBjb2x1bW46IDBcbiAgICB9O1xuICAgIHZhciBtYXAgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKTtcbiAgICB2YXIgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIHZhciBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICAgIHZhciBsYXN0T3JpZ2luYWxMaW5lID0gbnVsbDtcbiAgICB2YXIgbGFzdE9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgICB2YXIgbGFzdE9yaWdpbmFsTmFtZSA9IG51bGw7XG4gICAgdGhpcy53YWxrKGZ1bmN0aW9uIChjaHVuaywgb3JpZ2luYWwpIHtcbiAgICAgIGdlbmVyYXRlZC5jb2RlICs9IGNodW5rO1xuICAgICAgaWYgKG9yaWdpbmFsLnNvdXJjZSAhPT0gbnVsbFxuICAgICAgICAgICYmIG9yaWdpbmFsLmxpbmUgIT09IG51bGxcbiAgICAgICAgICAmJiBvcmlnaW5hbC5jb2x1bW4gIT09IG51bGwpIHtcbiAgICAgICAgaWYobGFzdE9yaWdpbmFsU291cmNlICE9PSBvcmlnaW5hbC5zb3VyY2VcbiAgICAgICAgICAgfHwgbGFzdE9yaWdpbmFsTGluZSAhPT0gb3JpZ2luYWwubGluZVxuICAgICAgICAgICB8fCBsYXN0T3JpZ2luYWxDb2x1bW4gIT09IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgICB8fCBsYXN0T3JpZ2luYWxOYW1lICE9PSBvcmlnaW5hbC5uYW1lKSB7XG4gICAgICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgICAgc291cmNlOiBvcmlnaW5hbC5zb3VyY2UsXG4gICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICBsaW5lOiBvcmlnaW5hbC5saW5lLFxuICAgICAgICAgICAgICBjb2x1bW46IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmFtZTogb3JpZ2luYWwubmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgICAgbGFzdE9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgIGxhc3RPcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgbGFzdE9yaWdpbmFsTmFtZSA9IG9yaWdpbmFsLm5hbWU7XG4gICAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY2h1bmsubWF0Y2goUkVHRVhfQ0hBUkFDVEVSKS5mb3JFYWNoKGZ1bmN0aW9uIChjaCwgaWR4LCBhcnJheSkge1xuICAgICAgICBpZiAoUkVHRVhfTkVXTElORS50ZXN0KGNoKSkge1xuICAgICAgICAgIGdlbmVyYXRlZC5saW5lKys7XG4gICAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbiA9IDA7XG4gICAgICAgICAgLy8gTWFwcGluZ3MgZW5kIGF0IGVvbFxuICAgICAgICAgIGlmIChpZHggKyAxID09PSBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgICAgIHNvdXJjZTogb3JpZ2luYWwuc291cmNlLFxuICAgICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsLm5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnZW5lcmF0ZWQuY29sdW1uICs9IGNoLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy53YWxrU291cmNlQ29udGVudHMoZnVuY3Rpb24gKHNvdXJjZUZpbGUsIHNvdXJjZUNvbnRlbnQpIHtcbiAgICAgIG1hcC5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIHNvdXJjZUNvbnRlbnQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgY29kZTogZ2VuZXJhdGVkLmNvZGUsIG1hcDogbWFwIH07XG4gIH07XG5cbiAgZXhwb3J0cy5Tb3VyY2VOb2RlID0gU291cmNlTm9kZTtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHZhbHVlcyBmcm9tIHBhcmFtZXRlci9vcHRpb25zXG4gICAqIG9iamVjdHMuXG4gICAqXG4gICAqIEBwYXJhbSBhcmdzIFRoZSBvYmplY3Qgd2UgYXJlIGV4dHJhY3RpbmcgdmFsdWVzIGZyb21cbiAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIGFyZSBnZXR0aW5nLlxuICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIEFuIG9wdGlvbmFsIHZhbHVlIHRvIHJldHVybiBpZiB0aGUgcHJvcGVydHkgaXMgbWlzc2luZ1xuICAgKiBmcm9tIHRoZSBvYmplY3QuIElmIHRoaXMgaXMgbm90IHNwZWNpZmllZCBhbmQgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmcsIGFuXG4gICAqIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QXJnKGFBcmdzLCBhTmFtZSwgYURlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChhTmFtZSBpbiBhQXJncykge1xuICAgICAgcmV0dXJuIGFBcmdzW2FOYW1lXTtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHJldHVybiBhRGVmYXVsdFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFOYW1lICsgJ1wiIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQuJyk7XG4gICAgfVxuICB9XG4gIGV4cG9ydHMuZ2V0QXJnID0gZ2V0QXJnO1xuXG4gIHZhciB1cmxSZWdleHAgPSAvXig/OihbXFx3K1xcLS5dKyk6KT9cXC9cXC8oPzooXFx3KzpcXHcrKUApPyhbXFx3Ll0qKSg/OjooXFxkKykpPyhcXFMqKSQvO1xuICB2YXIgZGF0YVVybFJlZ2V4cCA9IC9eZGF0YTouK1xcLC4rJC87XG5cbiAgZnVuY3Rpb24gdXJsUGFyc2UoYVVybCkge1xuICAgIHZhciBtYXRjaCA9IGFVcmwubWF0Y2godXJsUmVnZXhwKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjaGVtZTogbWF0Y2hbMV0sXG4gICAgICBhdXRoOiBtYXRjaFsyXSxcbiAgICAgIGhvc3Q6IG1hdGNoWzNdLFxuICAgICAgcG9ydDogbWF0Y2hbNF0sXG4gICAgICBwYXRoOiBtYXRjaFs1XVxuICAgIH07XG4gIH1cbiAgZXhwb3J0cy51cmxQYXJzZSA9IHVybFBhcnNlO1xuXG4gIGZ1bmN0aW9uIHVybEdlbmVyYXRlKGFQYXJzZWRVcmwpIHtcbiAgICB2YXIgdXJsID0gJyc7XG4gICAgaWYgKGFQYXJzZWRVcmwuc2NoZW1lKSB7XG4gICAgICB1cmwgKz0gYVBhcnNlZFVybC5zY2hlbWUgKyAnOic7XG4gICAgfVxuICAgIHVybCArPSAnLy8nO1xuICAgIGlmIChhUGFyc2VkVXJsLmF1dGgpIHtcbiAgICAgIHVybCArPSBhUGFyc2VkVXJsLmF1dGggKyAnQCc7XG4gICAgfVxuICAgIGlmIChhUGFyc2VkVXJsLmhvc3QpIHtcbiAgICAgIHVybCArPSBhUGFyc2VkVXJsLmhvc3Q7XG4gICAgfVxuICAgIGlmIChhUGFyc2VkVXJsLnBvcnQpIHtcbiAgICAgIHVybCArPSBcIjpcIiArIGFQYXJzZWRVcmwucG9ydFxuICAgIH1cbiAgICBpZiAoYVBhcnNlZFVybC5wYXRoKSB7XG4gICAgICB1cmwgKz0gYVBhcnNlZFVybC5wYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGV4cG9ydHMudXJsR2VuZXJhdGUgPSB1cmxHZW5lcmF0ZTtcblxuICAvKipcbiAgICogTm9ybWFsaXplcyBhIHBhdGgsIG9yIHRoZSBwYXRoIHBvcnRpb24gb2YgYSBVUkw6XG4gICAqXG4gICAqIC0gUmVwbGFjZXMgY29uc2VxdXRpdmUgc2xhc2hlcyB3aXRoIG9uZSBzbGFzaC5cbiAgICogLSBSZW1vdmVzIHVubmVjZXNzYXJ5ICcuJyBwYXJ0cy5cbiAgICogLSBSZW1vdmVzIHVubmVjZXNzYXJ5ICc8ZGlyPi8uLicgcGFydHMuXG4gICAqXG4gICAqIEJhc2VkIG9uIGNvZGUgaW4gdGhlIE5vZGUuanMgJ3BhdGgnIGNvcmUgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgdXJsIHRvIG5vcm1hbGl6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZShhUGF0aCkge1xuICAgIHZhciBwYXRoID0gYVBhdGg7XG4gICAgdmFyIHVybCA9IHVybFBhcnNlKGFQYXRoKTtcbiAgICBpZiAodXJsKSB7XG4gICAgICBpZiAoIXVybC5wYXRoKSB7XG4gICAgICAgIHJldHVybiBhUGF0aDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSB1cmwucGF0aDtcbiAgICB9XG4gICAgdmFyIGlzQWJzb2x1dGUgPSAocGF0aC5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KC9cXC8rLyk7XG4gICAgZm9yICh2YXIgcGFydCwgdXAgPSAwLCBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgIHVwKys7XG4gICAgICB9IGVsc2UgaWYgKHVwID4gMCkge1xuICAgICAgICBpZiAocGFydCA9PT0gJycpIHtcbiAgICAgICAgICAvLyBUaGUgZmlyc3QgcGFydCBpcyBibGFuayBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZS4gVHJ5aW5nIHRvIGdvXG4gICAgICAgICAgLy8gYWJvdmUgdGhlIHJvb3QgaXMgYSBuby1vcC4gVGhlcmVmb3JlIHdlIGNhbiByZW1vdmUgYWxsICcuLicgcGFydHNcbiAgICAgICAgICAvLyBkaXJlY3RseSBhZnRlciB0aGUgcm9vdC5cbiAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIHVwKTtcbiAgICAgICAgICB1cCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFydHMuc3BsaWNlKGksIDIpO1xuICAgICAgICAgIHVwLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcGF0aCA9IHBhcnRzLmpvaW4oJy8nKTtcblxuICAgIGlmIChwYXRoID09PSAnJykge1xuICAgICAgcGF0aCA9IGlzQWJzb2x1dGUgPyAnLycgOiAnLic7XG4gICAgfVxuXG4gICAgaWYgKHVybCkge1xuICAgICAgdXJsLnBhdGggPSBwYXRoO1xuICAgICAgcmV0dXJuIHVybEdlbmVyYXRlKHVybCk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIGV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xuXG4gIC8qKlxuICAgKiBKb2lucyB0d28gcGF0aHMvVVJMcy5cbiAgICpcbiAgICogQHBhcmFtIGFSb290IFRoZSByb290IHBhdGggb3IgVVJMLlxuICAgKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgVVJMIHRvIGJlIGpvaW5lZCB3aXRoIHRoZSByb290LlxuICAgKlxuICAgKiAtIElmIGFQYXRoIGlzIGEgVVJMIG9yIGEgZGF0YSBVUkksIGFQYXRoIGlzIHJldHVybmVkLCB1bmxlc3MgYVBhdGggaXMgYVxuICAgKiAgIHNjaGVtZS1yZWxhdGl2ZSBVUkw6IFRoZW4gdGhlIHNjaGVtZSBvZiBhUm9vdCwgaWYgYW55LCBpcyBwcmVwZW5kZWRcbiAgICogICBmaXJzdC5cbiAgICogLSBPdGhlcndpc2UgYVBhdGggaXMgYSBwYXRoLiBJZiBhUm9vdCBpcyBhIFVSTCwgdGhlbiBpdHMgcGF0aCBwb3J0aW9uXG4gICAqICAgaXMgdXBkYXRlZCB3aXRoIHRoZSByZXN1bHQgYW5kIGFSb290IGlzIHJldHVybmVkLiBPdGhlcndpc2UgdGhlIHJlc3VsdFxuICAgKiAgIGlzIHJldHVybmVkLlxuICAgKiAgIC0gSWYgYVBhdGggaXMgYWJzb2x1dGUsIHRoZSByZXN1bHQgaXMgYVBhdGguXG4gICAqICAgLSBPdGhlcndpc2UgdGhlIHR3byBwYXRocyBhcmUgam9pbmVkIHdpdGggYSBzbGFzaC5cbiAgICogLSBKb2luaW5nIGZvciBleGFtcGxlICdodHRwOi8vJyBhbmQgJ3d3dy5leGFtcGxlLmNvbScgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gICAqL1xuICBmdW5jdGlvbiBqb2luKGFSb290LCBhUGF0aCkge1xuICAgIHZhciBhUGF0aFVybCA9IHVybFBhcnNlKGFQYXRoKTtcbiAgICB2YXIgYVJvb3RVcmwgPSB1cmxQYXJzZShhUm9vdCk7XG4gICAgaWYgKGFSb290VXJsKSB7XG4gICAgICBhUm9vdCA9IGFSb290VXJsLnBhdGggfHwgJy8nO1xuICAgIH1cblxuICAgIC8vIGBqb2luKGZvbywgJy8vd3d3LmV4YW1wbGUub3JnJylgXG4gICAgaWYgKGFQYXRoVXJsICYmICFhUGF0aFVybC5zY2hlbWUpIHtcbiAgICAgIGlmIChhUm9vdFVybCkge1xuICAgICAgICBhUGF0aFVybC5zY2hlbWUgPSBhUm9vdFVybC5zY2hlbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVBhdGhVcmwpO1xuICAgIH1cblxuICAgIGlmIChhUGF0aFVybCB8fCBhUGF0aC5tYXRjaChkYXRhVXJsUmVnZXhwKSkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cblxuICAgIC8vIGBqb2luKCdodHRwOi8vJywgJ3d3dy5leGFtcGxlLmNvbScpYFxuICAgIGlmIChhUm9vdFVybCAmJiAhYVJvb3RVcmwuaG9zdCAmJiAhYVJvb3RVcmwucGF0aCkge1xuICAgICAgYVJvb3RVcmwuaG9zdCA9IGFQYXRoO1xuICAgICAgcmV0dXJuIHVybEdlbmVyYXRlKGFSb290VXJsKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0gYVBhdGguY2hhckF0KDApID09PSAnLydcbiAgICAgID8gYVBhdGhcbiAgICAgIDogbm9ybWFsaXplKGFSb290LnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgYVBhdGgpO1xuXG4gICAgaWYgKGFSb290VXJsKSB7XG4gICAgICBhUm9vdFVybC5wYXRoID0gam9pbmVkO1xuICAgICAgcmV0dXJuIHVybEdlbmVyYXRlKGFSb290VXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIGpvaW5lZDtcbiAgfVxuICBleHBvcnRzLmpvaW4gPSBqb2luO1xuXG4gIC8qKlxuICAgKiBCZWNhdXNlIGJlaGF2aW9yIGdvZXMgd2Fja3kgd2hlbiB5b3Ugc2V0IGBfX3Byb3RvX19gIG9uIG9iamVjdHMsIHdlXG4gICAqIGhhdmUgdG8gcHJlZml4IGFsbCB0aGUgc3RyaW5ncyBpbiBvdXIgc2V0IHdpdGggYW4gYXJiaXRyYXJ5IGNoYXJhY3Rlci5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvcHVsbC8zMSBhbmRcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMzBcbiAgICpcbiAgICogQHBhcmFtIFN0cmluZyBhU3RyXG4gICAqL1xuICBmdW5jdGlvbiB0b1NldFN0cmluZyhhU3RyKSB7XG4gICAgcmV0dXJuICckJyArIGFTdHI7XG4gIH1cbiAgZXhwb3J0cy50b1NldFN0cmluZyA9IHRvU2V0U3RyaW5nO1xuXG4gIGZ1bmN0aW9uIGZyb21TZXRTdHJpbmcoYVN0cikge1xuICAgIHJldHVybiBhU3RyLnN1YnN0cigxKTtcbiAgfVxuICBleHBvcnRzLmZyb21TZXRTdHJpbmcgPSBmcm9tU2V0U3RyaW5nO1xuXG4gIGZ1bmN0aW9uIHJlbGF0aXZlKGFSb290LCBhUGF0aCkge1xuICAgIGFSb290ID0gYVJvb3QucmVwbGFjZSgvXFwvJC8sICcnKTtcblxuICAgIHZhciB1cmwgPSB1cmxQYXJzZShhUm9vdCk7XG4gICAgaWYgKGFQYXRoLmNoYXJBdCgwKSA9PSBcIi9cIiAmJiB1cmwgJiYgdXJsLnBhdGggPT0gXCIvXCIpIHtcbiAgICAgIHJldHVybiBhUGF0aC5zbGljZSgxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYVBhdGguaW5kZXhPZihhUm9vdCArICcvJykgPT09IDBcbiAgICAgID8gYVBhdGguc3Vic3RyKGFSb290Lmxlbmd0aCArIDEpXG4gICAgICA6IGFQYXRoO1xuICB9XG4gIGV4cG9ydHMucmVsYXRpdmUgPSByZWxhdGl2ZTtcblxuICBmdW5jdGlvbiBzdHJjbXAoYVN0cjEsIGFTdHIyKSB7XG4gICAgdmFyIHMxID0gYVN0cjEgfHwgXCJcIjtcbiAgICB2YXIgczIgPSBhU3RyMiB8fCBcIlwiO1xuICAgIHJldHVybiAoczEgPiBzMikgLSAoczEgPCBzMik7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyYXRvciBiZXR3ZWVuIHR3byBtYXBwaW5ncyB3aGVyZSB0aGUgb3JpZ2luYWwgcG9zaXRpb25zIGFyZSBjb21wYXJlZC5cbiAgICpcbiAgICogT3B0aW9uYWxseSBwYXNzIGluIGB0cnVlYCBhcyBgb25seUNvbXBhcmVHZW5lcmF0ZWRgIHRvIGNvbnNpZGVyIHR3b1xuICAgKiBtYXBwaW5ncyB3aXRoIHRoZSBzYW1lIG9yaWdpbmFsIHNvdXJjZS9saW5lL2NvbHVtbiwgYnV0IGRpZmZlcmVudCBnZW5lcmF0ZWRcbiAgICogbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGEgbWFwcGluZyB3aXRoIGFcbiAgICogc3R1YmJlZCBvdXQgbWFwcGluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVPcmlnaW5hbCkge1xuICAgIHZhciBjbXA7XG5cbiAgICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxMaW5lIC0gbWFwcGluZ0Iub3JpZ2luYWxMaW5lO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgICBpZiAoY21wIHx8IG9ubHlDb21wYXJlT3JpZ2luYWwpIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZSAtIG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gICAgaWYgKGNtcCkge1xuICAgICAgcmV0dXJuIGNtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uIC0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICB9O1xuICBleHBvcnRzLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zID0gY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnM7XG5cbiAgLyoqXG4gICAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2hlcmUgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlXG4gICAqIGNvbXBhcmVkLlxuICAgKlxuICAgKiBPcHRpb25hbGx5IHBhc3MgaW4gYHRydWVgIGFzIGBvbmx5Q29tcGFyZUdlbmVyYXRlZGAgdG8gY29uc2lkZXIgdHdvXG4gICAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiwgYnV0IGRpZmZlcmVudFxuICAgKiBzb3VyY2UvbmFtZS9vcmlnaW5hbCBsaW5lIGFuZCBjb2x1bW4gdGhlIHNhbWUuIFVzZWZ1bCB3aGVuIHNlYXJjaGluZyBmb3IgYVxuICAgKiBtYXBwaW5nIHdpdGggYSBzdHViYmVkIG91dCBtYXBwaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgICB2YXIgY21wO1xuXG4gICAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZSAtIG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gICAgaWYgKGNtcCkge1xuICAgICAgcmV0dXJuIGNtcDtcbiAgICB9XG5cbiAgICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRDb2x1bW4gLSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gICAgaWYgKGNtcCB8fCBvbmx5Q29tcGFyZUdlbmVyYXRlZCkge1xuICAgICAgcmV0dXJuIGNtcDtcbiAgICB9XG5cbiAgICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxMaW5lIC0gbWFwcGluZ0Iub3JpZ2luYWxMaW5lO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG4gIH07XG4gIGV4cG9ydHMuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zO1xuXG59KTtcbiIsIi8qKiB2aW06IGV0OnRzPTQ6c3c9NDpzdHM9NFxuICogQGxpY2Vuc2UgYW1kZWZpbmUgMC4xLjAgQ29weXJpZ2h0IChjKSAyMDExLCBUaGUgRG9qbyBGb3VuZGF0aW9uIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBBdmFpbGFibGUgdmlhIHRoZSBNSVQgb3IgbmV3IEJTRCBsaWNlbnNlLlxuICogc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL2FtZGVmaW5lIGZvciBkZXRhaWxzXG4gKi9cblxuLypqc2xpbnQgbm9kZTogdHJ1ZSAqL1xuLypnbG9iYWwgbW9kdWxlLCBwcm9jZXNzICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlZmluZSBmb3Igbm9kZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgdGhlIFwibW9kdWxlXCIgb2JqZWN0IHRoYXQgaXMgZGVmaW5lZCBieSBOb2RlIGZvciB0aGVcbiAqIGN1cnJlbnQgbW9kdWxlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3JlcXVpcmVGbl0uIE5vZGUncyByZXF1aXJlIGZ1bmN0aW9uIGZvciB0aGUgY3VycmVudCBtb2R1bGUuXG4gKiBJdCBvbmx5IG5lZWRzIHRvIGJlIHBhc3NlZCBpbiBOb2RlIHZlcnNpb25zIGJlZm9yZSAwLjUsIHdoZW4gbW9kdWxlLnJlcXVpcmVcbiAqIGRpZCBub3QgZXhpc3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IGEgZGVmaW5lIGZ1bmN0aW9uIHRoYXQgaXMgdXNhYmxlIGZvciB0aGUgY3VycmVudCBub2RlXG4gKiBtb2R1bGUuXG4gKi9cbmZ1bmN0aW9uIGFtZGVmaW5lKG1vZHVsZSwgcmVxdWlyZUZuKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBkZWZpbmVDYWNoZSA9IHt9LFxuICAgICAgICBsb2FkZXJDYWNoZSA9IHt9LFxuICAgICAgICBhbHJlYWR5Q2FsbGVkID0gZmFsc2UsXG4gICAgICAgIHBhdGggPSByZXF1aXJlKCdwYXRoJyksXG4gICAgICAgIG1ha2VSZXF1aXJlLCBzdHJpbmdSZXF1aXJlO1xuXG4gICAgLyoqXG4gICAgICogVHJpbXMgdGhlIC4gYW5kIC4uIGZyb20gYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cy5cbiAgICAgKiBJdCB3aWxsIGtlZXAgYSBsZWFkaW5nIHBhdGggc2VnbWVudCBpZiBhIC4uIHdpbGwgYmVjb21lXG4gICAgICogdGhlIGZpcnN0IHBhdGggc2VnbWVudCwgdG8gaGVscCB3aXRoIG1vZHVsZSBuYW1lIGxvb2t1cHMsXG4gICAgICogd2hpY2ggYWN0IGxpa2UgcGF0aHMsIGJ1dCBjYW4gYmUgcmVtYXBwZWQuIEJ1dCB0aGUgZW5kIHJlc3VsdCxcbiAgICAgKiBhbGwgcGF0aHMgdGhhdCB1c2UgdGhpcyBmdW5jdGlvbiBzaG91bGQgbG9vayBub3JtYWxpemVkLlxuICAgICAqIE5PVEU6IHRoaXMgbWV0aG9kIE1PRElGSUVTIHRoZSBpbnB1dCBhcnJheS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnkgdGhlIGFycmF5IG9mIHBhdGggc2VnbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbURvdHMoYXJ5KSB7XG4gICAgICAgIHZhciBpLCBwYXJ0O1xuICAgICAgICBmb3IgKGkgPSAwOyBhcnlbaV07IGkrPSAxKSB7XG4gICAgICAgICAgICBwYXJ0ID0gYXJ5W2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIGFyeS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEgJiYgKGFyeVsyXSA9PT0gJy4uJyB8fCBhcnlbMF0gPT09ICcuLicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vRW5kIG9mIHRoZSBsaW5lLiBLZWVwIGF0IGxlYXN0IG9uZSBub24tZG90XG4gICAgICAgICAgICAgICAgICAgIC8vcGF0aCBzZWdtZW50IGF0IHRoZSBmcm9udCBzbyBpdCBjYW4gYmUgbWFwcGVkXG4gICAgICAgICAgICAgICAgICAgIC8vY29ycmVjdGx5IHRvIGRpc2suIE90aGVyd2lzZSwgdGhlcmUgaXMgbGlrZWx5XG4gICAgICAgICAgICAgICAgICAgIC8vbm8gcGF0aCBtYXBwaW5nIGZvciBhIHBhdGggc3RhcnRpbmcgd2l0aCAnLi4nLlxuICAgICAgICAgICAgICAgICAgICAvL1RoaXMgY2FuIHN0aWxsIGZhaWwsIGJ1dCBjYXRjaGVzIHRoZSBtb3N0IHJlYXNvbmFibGVcbiAgICAgICAgICAgICAgICAgICAgLy91c2VzIG9mIC4uXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXJ5LnNwbGljZShpIC0gMSwgMik7XG4gICAgICAgICAgICAgICAgICAgIGkgLT0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemUobmFtZSwgYmFzZU5hbWUpIHtcbiAgICAgICAgdmFyIGJhc2VQYXJ0cztcblxuICAgICAgICAvL0FkanVzdCBhbnkgcmVsYXRpdmUgcGF0aHMuXG4gICAgICAgIGlmIChuYW1lICYmIG5hbWUuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgIC8vSWYgaGF2ZSBhIGJhc2UgbmFtZSwgdHJ5IHRvIG5vcm1hbGl6ZSBhZ2FpbnN0IGl0LFxuICAgICAgICAgICAgLy9vdGhlcndpc2UsIGFzc3VtZSBpdCBpcyBhIHRvcC1sZXZlbCByZXF1aXJlIHRoYXQgd2lsbFxuICAgICAgICAgICAgLy9iZSByZWxhdGl2ZSB0byBiYXNlVXJsIGluIHRoZSBlbmQuXG4gICAgICAgICAgICBpZiAoYmFzZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBiYXNlUGFydHMgPSBiYXNlTmFtZS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGJhc2VQYXJ0cyA9IGJhc2VQYXJ0cy5zbGljZSgwLCBiYXNlUGFydHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgYmFzZVBhcnRzID0gYmFzZVBhcnRzLmNvbmNhdChuYW1lLnNwbGl0KCcvJykpO1xuICAgICAgICAgICAgICAgIHRyaW1Eb3RzKGJhc2VQYXJ0cyk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGJhc2VQYXJ0cy5qb2luKCcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIG5vcm1hbGl6ZSgpIGZ1bmN0aW9uIHBhc3NlZCB0byBhIGxvYWRlciBwbHVnaW4nc1xuICAgICAqIG5vcm1hbGl6ZSBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZU5vcm1hbGl6ZShyZWxOYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShuYW1lLCByZWxOYW1lKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlTG9hZChpZCkge1xuICAgICAgICBmdW5jdGlvbiBsb2FkKHZhbHVlKSB7XG4gICAgICAgICAgICBsb2FkZXJDYWNoZVtpZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWQuZnJvbVRleHQgPSBmdW5jdGlvbiAoaWQsIHRleHQpIHtcbiAgICAgICAgICAgIC8vVGhpcyBvbmUgaXMgZGlmZmljdWx0IGJlY2F1c2UgdGhlIHRleHQgY2FuL3Byb2JhYmx5IHVzZXNcbiAgICAgICAgICAgIC8vZGVmaW5lLCBhbmQgYW55IHJlbGF0aXZlIHBhdGhzIGFuZCByZXF1aXJlcyBzaG91bGQgYmUgcmVsYXRpdmVcbiAgICAgICAgICAgIC8vdG8gdGhhdCBpZCB3YXMgaXQgd291bGQgYmUgZm91bmQgb24gZGlzay4gQnV0IHRoaXMgd291bGQgcmVxdWlyZVxuICAgICAgICAgICAgLy9ib290c3RyYXBwaW5nIGEgbW9kdWxlL3JlcXVpcmUgZmFpcmx5IGRlZXBseSBmcm9tIG5vZGUgY29yZS5cbiAgICAgICAgICAgIC8vTm90IHN1cmUgaG93IGJlc3QgdG8gZ28gYWJvdXQgdGhhdCB5ZXQuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FtZGVmaW5lIGRvZXMgbm90IGltcGxlbWVudCBsb2FkLmZyb21UZXh0Jyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGxvYWQ7XG4gICAgfVxuXG4gICAgbWFrZVJlcXVpcmUgPSBmdW5jdGlvbiAoc3lzdGVtUmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCByZWxJZCkge1xuICAgICAgICBmdW5jdGlvbiBhbWRSZXF1aXJlKGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy9TeW5jaHJvbm91cywgc2luZ2xlIG1vZHVsZSByZXF1aXJlKCcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdSZXF1aXJlKHN5c3RlbVJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgZGVwcywgcmVsSWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL0FycmF5IG9mIGRlcGVuZGVuY2llcyB3aXRoIGEgY2FsbGJhY2suXG5cbiAgICAgICAgICAgICAgICAvL0NvbnZlcnQgdGhlIGRlcGVuZGVuY2llcyB0byBtb2R1bGVzLlxuICAgICAgICAgICAgICAgIGRlcHMgPSBkZXBzLm1hcChmdW5jdGlvbiAoZGVwTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nUmVxdWlyZShzeXN0ZW1SZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIGRlcE5hbWUsIHJlbElkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vV2FpdCBmb3IgbmV4dCB0aWNrIHRvIGNhbGwgYmFjayB0aGUgcmVxdWlyZSBjYWxsLlxuICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBkZXBzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFtZFJlcXVpcmUudG9VcmwgPSBmdW5jdGlvbiAoZmlsZVBhdGgpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUGF0aC5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplKGZpbGVQYXRoLCBwYXRoLmRpcm5hbWUobW9kdWxlLmZpbGVuYW1lKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYW1kUmVxdWlyZTtcbiAgICB9O1xuXG4gICAgLy9GYXZvciBleHBsaWNpdCB2YWx1ZSwgcGFzc2VkIGluIGlmIHRoZSBtb2R1bGUgd2FudHMgdG8gc3VwcG9ydCBOb2RlIDAuNC5cbiAgICByZXF1aXJlRm4gPSByZXF1aXJlRm4gfHwgZnVuY3Rpb24gcmVxKCkge1xuICAgICAgICByZXR1cm4gbW9kdWxlLnJlcXVpcmUuYXBwbHkobW9kdWxlLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBydW5GYWN0b3J5KGlkLCBkZXBzLCBmYWN0b3J5KSB7XG4gICAgICAgIHZhciByLCBlLCBtLCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBlID0gbG9hZGVyQ2FjaGVbaWRdID0ge307XG4gICAgICAgICAgICBtID0ge1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICB1cmk6IF9fZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgZXhwb3J0czogZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHIgPSBtYWtlUmVxdWlyZShyZXF1aXJlRm4sIGUsIG0sIGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vT25seSBzdXBwb3J0IG9uZSBkZWZpbmUgY2FsbCBwZXIgZmlsZVxuICAgICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FtZGVmaW5lIHdpdGggbm8gbW9kdWxlIElEIGNhbm5vdCBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UgcGVyIGZpbGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy9Vc2UgdGhlIHJlYWwgdmFyaWFibGVzIGZyb20gbm9kZVxuICAgICAgICAgICAgLy9Vc2UgbW9kdWxlLmV4cG9ydHMgZm9yIGV4cG9ydHMsIHNpbmNlXG4gICAgICAgICAgICAvL3RoZSBleHBvcnRzIGluIGhlcmUgaXMgYW1kZWZpbmUgZXhwb3J0cy5cbiAgICAgICAgICAgIGUgPSBtb2R1bGUuZXhwb3J0cztcbiAgICAgICAgICAgIG0gPSBtb2R1bGU7XG4gICAgICAgICAgICByID0gbWFrZVJlcXVpcmUocmVxdWlyZUZuLCBlLCBtLCBtb2R1bGUuaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9JZiB0aGVyZSBhcmUgZGVwZW5kZW5jaWVzLCB0aGV5IGFyZSBzdHJpbmdzLCBzbyBuZWVkXG4gICAgICAgIC8vdG8gY29udmVydCB0aGVtIHRvIGRlcGVuZGVuY3kgdmFsdWVzLlxuICAgICAgICBpZiAoZGVwcykge1xuICAgICAgICAgICAgZGVwcyA9IGRlcHMubWFwKGZ1bmN0aW9uIChkZXBOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIoZGVwTmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQ2FsbCB0aGUgZmFjdG9yeSB3aXRoIHRoZSByaWdodCBkZXBlbmRlbmNpZXMuXG4gICAgICAgIGlmICh0eXBlb2YgZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFjdG9yeS5hcHBseShtLmV4cG9ydHMsIGRlcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFjdG9yeTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbS5leHBvcnRzID0gcmVzdWx0O1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyQ2FjaGVbaWRdID0gbS5leHBvcnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RyaW5nUmVxdWlyZSA9IGZ1bmN0aW9uIChzeXN0ZW1SZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIGlkLCByZWxJZCkge1xuICAgICAgICAvL1NwbGl0IHRoZSBJRCBieSBhICEgc28gdGhhdFxuICAgICAgICB2YXIgaW5kZXggPSBpZC5pbmRleE9mKCchJyksXG4gICAgICAgICAgICBvcmlnaW5hbElkID0gaWQsXG4gICAgICAgICAgICBwcmVmaXgsIHBsdWdpbjtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBpZCA9IG5vcm1hbGl6ZShpZCwgcmVsSWQpO1xuXG4gICAgICAgICAgICAvL1N0cmFpZ2h0IG1vZHVsZSBsb29rdXAuIElmIGl0IGlzIG9uZSBvZiB0aGUgc3BlY2lhbCBkZXBlbmRlbmNpZXMsXG4gICAgICAgICAgICAvL2RlYWwgd2l0aCBpdCwgb3RoZXJ3aXNlLCBkZWxlZ2F0ZSB0byBub2RlLlxuICAgICAgICAgICAgaWYgKGlkID09PSAncmVxdWlyZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZVJlcXVpcmUoc3lzdGVtUmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCByZWxJZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAnZXhwb3J0cycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT09ICdtb2R1bGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9hZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlW2lkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVmaW5lQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgcnVuRmFjdG9yeS5hcHBseShudWxsLCBkZWZpbmVDYWNoZVtpZF0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXJDYWNoZVtpZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHN5c3RlbVJlcXVpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbVJlcXVpcmUob3JpZ2luYWxJZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtb2R1bGUgd2l0aCBJRDogJyArIGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL1RoZXJlIGlzIGEgcGx1Z2luIGluIHBsYXkuXG4gICAgICAgICAgICBwcmVmaXggPSBpZC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoaW5kZXggKyAxLCBpZC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBwbHVnaW4gPSBzdHJpbmdSZXF1aXJlKHN5c3RlbVJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgcHJlZml4LCByZWxJZCk7XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW4ubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBwbHVnaW4ubm9ybWFsaXplKGlkLCBtYWtlTm9ybWFsaXplKHJlbElkKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vTm9ybWFsaXplIHRoZSBJRCBub3JtYWxseS5cbiAgICAgICAgICAgICAgICBpZCA9IG5vcm1hbGl6ZShpZCwgcmVsSWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9hZGVyQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlW2lkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLmxvYWQoaWQsIG1ha2VSZXF1aXJlKHN5c3RlbVJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgcmVsSWQpLCBtYWtlTG9hZChpZCksIHt9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXJDYWNoZVtpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9DcmVhdGUgYSBkZWZpbmUgZnVuY3Rpb24gc3BlY2lmaWMgdG8gdGhlIG1vZHVsZSBhc2tpbmcgZm9yIGFtZGVmaW5lLlxuICAgIGZ1bmN0aW9uIGRlZmluZShpZCwgZGVwcywgZmFjdG9yeSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZCkpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSBkZXBzO1xuICAgICAgICAgICAgZGVwcyA9IGlkO1xuICAgICAgICAgICAgaWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZmFjdG9yeSA9IGlkO1xuICAgICAgICAgICAgaWQgPSBkZXBzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlcHMgJiYgIUFycmF5LmlzQXJyYXkoZGVwcykpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSBkZXBzO1xuICAgICAgICAgICAgZGVwcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVwcykge1xuICAgICAgICAgICAgZGVwcyA9IFsncmVxdWlyZScsICdleHBvcnRzJywgJ21vZHVsZSddO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9TZXQgdXAgcHJvcGVydGllcyBmb3IgdGhpcyBtb2R1bGUuIElmIGFuIElELCB0aGVuIHVzZVxuICAgICAgICAvL2ludGVybmFsIGNhY2hlLiBJZiBubyBJRCwgdGhlbiB1c2UgdGhlIGV4dGVybmFsIHZhcmlhYmxlc1xuICAgICAgICAvL2ZvciB0aGlzIG5vZGUgbW9kdWxlLlxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIC8vUHV0IHRoZSBtb2R1bGUgaW4gZGVlcCBmcmVlemUgdW50aWwgdGhlcmUgaXMgYVxuICAgICAgICAgICAgLy9yZXF1aXJlIGNhbGwgZm9yIGl0LlxuICAgICAgICAgICAgZGVmaW5lQ2FjaGVbaWRdID0gW2lkLCBkZXBzLCBmYWN0b3J5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJ1bkZhY3RvcnkoaWQsIGRlcHMsIGZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9kZWZpbmUucmVxdWlyZSwgd2hpY2ggaGFzIGFjY2VzcyB0byBhbGwgdGhlIHZhbHVlcyBpbiB0aGVcbiAgICAvL2NhY2hlLiBVc2VmdWwgZm9yIEFNRCBtb2R1bGVzIHRoYXQgYWxsIGhhdmUgSURzIGluIHRoZSBmaWxlLFxuICAgIC8vYnV0IG5lZWQgdG8gZmluYWxseSBleHBvcnQgYSB2YWx1ZSB0byBub2RlIGJhc2VkIG9uIG9uZSBvZiB0aG9zZVxuICAgIC8vSURzLlxuICAgIGRlZmluZS5yZXF1aXJlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmIChsb2FkZXJDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgIHJldHVybiBsb2FkZXJDYWNoZVtpZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBydW5GYWN0b3J5LmFwcGx5KG51bGwsIGRlZmluZUNhY2hlW2lkXSk7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGVbaWRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGRlZmluZS5hbWQgPSB7fTtcblxuICAgIHJldHVybiBkZWZpbmU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYW1kZWZpbmU7XG4iLCJ2YXIgc3lzID0gcmVxdWlyZShcInV0aWxcIik7XG52YXIgTU9aX1NvdXJjZU1hcCA9IHJlcXVpcmUoXCJzb3VyY2UtbWFwXCIpO1xudmFyIFVnbGlmeUpTID0gZXhwb3J0cztcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIEEgSmF2YVNjcmlwdCB0b2tlbml6ZXIgLyBwYXJzZXIgLyBiZWF1dGlmaWVyIC8gY29tcHJlc3Nvci5cbiAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzJcblxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAoQykgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcjogTWloYWkgQmF6b25cbiAgICAgICAgICAgICAgICAgICAgICAgICA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vbWloYWkuYmF6b24ubmV0L2Jsb2dcblxuICBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG5cbiAgICBDb3B5cmlnaHQgMjAxMiAoYykgTWloYWkgQmF6b24gPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIGFycmF5X3RvX2hhc2goYSkge1xuICAgIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSlcbiAgICAgICAgcmV0W2FbaV1dID0gdHJ1ZTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gc2xpY2UoYSwgc3RhcnQpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSwgc3RhcnQgfHwgMCk7XG59O1xuXG5mdW5jdGlvbiBjaGFyYWN0ZXJzKHN0cikge1xuICAgIHJldHVybiBzdHIuc3BsaXQoXCJcIik7XG59O1xuXG5mdW5jdGlvbiBtZW1iZXIobmFtZSwgYXJyYXkpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoOyAtLWkgPj0gMDspXG4gICAgICAgIGlmIChhcnJheVtpXSA9PSBuYW1lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZnVuY3Rpb24gZmluZF9pZihmdW5jLCBhcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gYXJyYXkubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmIChmdW5jKGFycmF5W2ldKSlcbiAgICAgICAgICAgIHJldHVybiBhcnJheVtpXTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiByZXBlYXRfc3RyaW5nKHN0ciwgaSkge1xuICAgIGlmIChpIDw9IDApIHJldHVybiBcIlwiO1xuICAgIGlmIChpID09IDEpIHJldHVybiBzdHI7XG4gICAgdmFyIGQgPSByZXBlYXRfc3RyaW5nKHN0ciwgaSA+PiAxKTtcbiAgICBkICs9IGQ7XG4gICAgaWYgKGkgJiAxKSBkICs9IHN0cjtcbiAgICByZXR1cm4gZDtcbn07XG5cbmZ1bmN0aW9uIERlZmF1bHRzRXJyb3IobXNnLCBkZWZzKSB7XG4gICAgRXJyb3IuY2FsbCh0aGlzLCBtc2cpO1xuICAgIHRoaXMubXNnID0gbXNnO1xuICAgIHRoaXMuZGVmcyA9IGRlZnM7XG59O1xuRGVmYXVsdHNFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5EZWZhdWx0c0Vycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlZmF1bHRzRXJyb3I7XG5cbkRlZmF1bHRzRXJyb3IuY3JvYWsgPSBmdW5jdGlvbihtc2csIGRlZnMpIHtcbiAgICB0aHJvdyBuZXcgRGVmYXVsdHNFcnJvcihtc2csIGRlZnMpO1xufTtcblxuZnVuY3Rpb24gZGVmYXVsdHMoYXJncywgZGVmcywgY3JvYWspIHtcbiAgICBpZiAoYXJncyA9PT0gdHJ1ZSlcbiAgICAgICAgYXJncyA9IHt9O1xuICAgIHZhciByZXQgPSBhcmdzIHx8IHt9O1xuICAgIGlmIChjcm9haykgZm9yICh2YXIgaSBpbiByZXQpIGlmIChyZXQuaGFzT3duUHJvcGVydHkoaSkgJiYgIWRlZnMuaGFzT3duUHJvcGVydHkoaSkpXG4gICAgICAgIERlZmF1bHRzRXJyb3IuY3JvYWsoXCJgXCIgKyBpICsgXCJgIGlzIG5vdCBhIHN1cHBvcnRlZCBvcHRpb25cIiwgZGVmcyk7XG4gICAgZm9yICh2YXIgaSBpbiBkZWZzKSBpZiAoZGVmcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICByZXRbaV0gPSAoYXJncyAmJiBhcmdzLmhhc093blByb3BlcnR5KGkpKSA/IGFyZ3NbaV0gOiBkZWZzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gbWVyZ2Uob2JqLCBleHQpIHtcbiAgICBmb3IgKHZhciBpIGluIGV4dCkgaWYgKGV4dC5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBvYmpbaV0gPSBleHRbaV07XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59O1xuXG5mdW5jdGlvbiBub29wKCkge307XG5cbnZhciBNQVAgPSAoZnVuY3Rpb24oKXtcbiAgICBmdW5jdGlvbiBNQVAoYSwgZiwgYmFja3dhcmRzKSB7XG4gICAgICAgIHZhciByZXQgPSBbXSwgdG9wID0gW10sIGk7XG4gICAgICAgIGZ1bmN0aW9uIGRvaXQoKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gZihhW2ldLCBpKTtcbiAgICAgICAgICAgIHZhciBpc19sYXN0ID0gdmFsIGluc3RhbmNlb2YgTGFzdDtcbiAgICAgICAgICAgIGlmIChpc19sYXN0KSB2YWwgPSB2YWwudjtcbiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBdFRvcCkge1xuICAgICAgICAgICAgICAgIHZhbCA9IHZhbC52O1xuICAgICAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBTcGxpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wLnB1c2guYXBwbHkodG9wLCBiYWNrd2FyZHMgPyB2YWwudi5zbGljZSgpLnJldmVyc2UoKSA6IHZhbC52KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3AucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCAhPT0gc2tpcCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBTcGxpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2guYXBwbHkocmV0LCBiYWNrd2FyZHMgPyB2YWwudi5zbGljZSgpLnJldmVyc2UoKSA6IHZhbC52KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc19sYXN0O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBpZiAoYmFja3dhcmRzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gYS5sZW5ndGg7IC0taSA+PSAwOykgaWYgKGRvaXQoKSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgcmV0LnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICB0b3AucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkgaWYgKGRvaXQoKSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgaW4gYSkgaWYgKGEuaGFzT3duUHJvcGVydHkoaSkpIGlmIChkb2l0KCkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3AuY29uY2F0KHJldCk7XG4gICAgfTtcbiAgICBNQVAuYXRfdG9wID0gZnVuY3Rpb24odmFsKSB7IHJldHVybiBuZXcgQXRUb3AodmFsKSB9O1xuICAgIE1BUC5zcGxpY2UgPSBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIG5ldyBTcGxpY2UodmFsKSB9O1xuICAgIE1BUC5sYXN0ID0gZnVuY3Rpb24odmFsKSB7IHJldHVybiBuZXcgTGFzdCh2YWwpIH07XG4gICAgdmFyIHNraXAgPSBNQVAuc2tpcCA9IHt9O1xuICAgIGZ1bmN0aW9uIEF0VG9wKHZhbCkgeyB0aGlzLnYgPSB2YWwgfTtcbiAgICBmdW5jdGlvbiBTcGxpY2UodmFsKSB7IHRoaXMudiA9IHZhbCB9O1xuICAgIGZ1bmN0aW9uIExhc3QodmFsKSB7IHRoaXMudiA9IHZhbCB9O1xuICAgIHJldHVybiBNQVA7XG59KSgpO1xuXG5mdW5jdGlvbiBwdXNoX3VuaXEoYXJyYXksIGVsKSB7XG4gICAgaWYgKGFycmF5LmluZGV4T2YoZWwpIDwgMClcbiAgICAgICAgYXJyYXkucHVzaChlbCk7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdfdGVtcGxhdGUodGV4dCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHsoLis/KVxcfS9nLCBmdW5jdGlvbihzdHIsIHApe1xuICAgICAgICByZXR1cm4gcHJvcHNbcF07XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiByZW1vdmUoYXJyYXksIGVsKSB7XG4gICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gZWwpIGFycmF5LnNwbGljZShpLCAxKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBtZXJnZVNvcnQoYXJyYXksIGNtcCkge1xuICAgIGlmIChhcnJheS5sZW5ndGggPCAyKSByZXR1cm4gYXJyYXkuc2xpY2UoKTtcbiAgICBmdW5jdGlvbiBtZXJnZShhLCBiKSB7XG4gICAgICAgIHZhciByID0gW10sIGFpID0gMCwgYmkgPSAwLCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGFpIDwgYS5sZW5ndGggJiYgYmkgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgY21wKGFbYWldLCBiW2JpXSkgPD0gMFxuICAgICAgICAgICAgICAgID8gcltpKytdID0gYVthaSsrXVxuICAgICAgICAgICAgICAgIDogcltpKytdID0gYltiaSsrXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWkgPCBhLmxlbmd0aCkgci5wdXNoLmFwcGx5KHIsIGEuc2xpY2UoYWkpKTtcbiAgICAgICAgaWYgKGJpIDwgYi5sZW5ndGgpIHIucHVzaC5hcHBseShyLCBiLnNsaWNlKGJpKSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgZnVuY3Rpb24gX21zKGEpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKGEubGVuZ3RoIC8gMiksIGxlZnQgPSBhLnNsaWNlKDAsIG0pLCByaWdodCA9IGEuc2xpY2UobSk7XG4gICAgICAgIGxlZnQgPSBfbXMobGVmdCk7XG4gICAgICAgIHJpZ2h0ID0gX21zKHJpZ2h0KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGxlZnQsIHJpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBfbXMoYXJyYXkpO1xufTtcblxuZnVuY3Rpb24gc2V0X2RpZmZlcmVuY2UoYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbihlbCl7XG4gICAgICAgIHJldHVybiBiLmluZGV4T2YoZWwpIDwgMDtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHNldF9pbnRlcnNlY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbihlbCl7XG4gICAgICAgIHJldHVybiBiLmluZGV4T2YoZWwpID49IDA7XG4gICAgfSk7XG59O1xuXG4vLyB0aGlzIGZ1bmN0aW9uIGlzIHRha2VuIGZyb20gQWNvcm4gWzFdLCB3cml0dGVuIGJ5IE1hcmlqbiBIYXZlcmJla2Vcbi8vIFsxXSBodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9hY29yblxuZnVuY3Rpb24gbWFrZVByZWRpY2F0ZSh3b3Jkcykge1xuICAgIGlmICghKHdvcmRzIGluc3RhbmNlb2YgQXJyYXkpKSB3b3JkcyA9IHdvcmRzLnNwbGl0KFwiIFwiKTtcbiAgICB2YXIgZiA9IFwiXCIsIGNhdHMgPSBbXTtcbiAgICBvdXQ6IGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYXRzLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAgaWYgKGNhdHNbal1bMF0ubGVuZ3RoID09IHdvcmRzW2ldLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhdHNbal0ucHVzaCh3b3Jkc1tpXSk7XG4gICAgICAgICAgICAgICAgY29udGludWUgb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXRzLnB1c2goW3dvcmRzW2ldXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVUbyhhcnIpIHtcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT0gMSkgcmV0dXJuIGYgKz0gXCJyZXR1cm4gc3RyID09PSBcIiArIEpTT04uc3RyaW5naWZ5KGFyclswXSkgKyBcIjtcIjtcbiAgICAgICAgZiArPSBcInN3aXRjaChzdHIpe1wiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkgZiArPSBcImNhc2UgXCIgKyBKU09OLnN0cmluZ2lmeShhcnJbaV0pICsgXCI6XCI7XG4gICAgICAgIGYgKz0gXCJyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2U7XCI7XG4gICAgfVxuICAgIC8vIFdoZW4gdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBsZW5ndGggY2F0ZWdvcmllcywgYW4gb3V0ZXJcbiAgICAvLyBzd2l0Y2ggZmlyc3QgZGlzcGF0Y2hlcyBvbiB0aGUgbGVuZ3RocywgdG8gc2F2ZSBvbiBjb21wYXJpc29ucy5cbiAgICBpZiAoY2F0cy5sZW5ndGggPiAzKSB7XG4gICAgICAgIGNhdHMuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7fSk7XG4gICAgICAgIGYgKz0gXCJzd2l0Y2goc3RyLmxlbmd0aCl7XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNhdCA9IGNhdHNbaV07XG4gICAgICAgICAgICBmICs9IFwiY2FzZSBcIiArIGNhdFswXS5sZW5ndGggKyBcIjpcIjtcbiAgICAgICAgICAgIGNvbXBhcmVUbyhjYXQpO1xuICAgICAgICB9XG4gICAgICAgIGYgKz0gXCJ9XCI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2ltcGx5IGdlbmVyYXRlIGEgZmxhdCBgc3dpdGNoYCBzdGF0ZW1lbnQuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGFyZVRvKHdvcmRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInN0clwiLCBmKTtcbn07XG5cbmZ1bmN0aW9uIGFsbChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aDsgLS1pID49IDA7KVxuICAgICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBEaWN0aW9uYXJ5KCkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fc2l6ZSA9IDA7XG59O1xuRGljdGlvbmFyeS5wcm90b3R5cGUgPSB7XG4gICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpICsrdGhpcy5fc2l6ZTtcbiAgICAgICAgdGhpcy5fdmFsdWVzW1wiJFwiICsga2V5XSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmdldChrZXkpLnB1c2godmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgWyB2YWwgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdGhpcy5fdmFsdWVzW1wiJFwiICsga2V5XSB9LFxuICAgIGRlbDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAtLXRoaXMuX3NpemU7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdmFsdWVzW1wiJFwiICsga2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24oa2V5KSB7IHJldHVybiAoXCIkXCIgKyBrZXkpIGluIHRoaXMuX3ZhbHVlcyB9LFxuICAgIGVhY2g6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLl92YWx1ZXMpXG4gICAgICAgICAgICBmKHRoaXMuX3ZhbHVlc1tpXSwgaS5zdWJzdHIoMSkpO1xuICAgIH0sXG4gICAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH0sXG4gICAgbWFwOiBmdW5jdGlvbihmKSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLl92YWx1ZXMpXG4gICAgICAgICAgICByZXQucHVzaChmKHRoaXMuX3ZhbHVlc1tpXSwgaS5zdWJzdHIoMSkpKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG5cbiAgICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAgICBhcmUgbWV0OlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lci5cblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVIg4oCcQVMgSVPigJ0gQU5EIEFOWVxuICAgIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSXG4gICAgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgQkVcbiAgICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksXG4gICAgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAgICBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUlxuICAgIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRlxuICAgIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICAgIFNVQ0ggREFNQUdFLlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBERUZOT0RFKHR5cGUsIHByb3BzLCBtZXRob2RzLCBiYXNlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCA0KSBiYXNlID0gQVNUX05vZGU7XG4gICAgaWYgKCFwcm9wcykgcHJvcHMgPSBbXTtcbiAgICBlbHNlIHByb3BzID0gcHJvcHMuc3BsaXQoL1xccysvKTtcbiAgICB2YXIgc2VsZl9wcm9wcyA9IHByb3BzO1xuICAgIGlmIChiYXNlICYmIGJhc2UuUFJPUFMpXG4gICAgICAgIHByb3BzID0gcHJvcHMuY29uY2F0KGJhc2UuUFJPUFMpO1xuICAgIHZhciBjb2RlID0gXCJyZXR1cm4gZnVuY3Rpb24gQVNUX1wiICsgdHlwZSArIFwiKHByb3BzKXsgaWYgKHByb3BzKSB7IFwiO1xuICAgIGZvciAodmFyIGkgPSBwcm9wcy5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICBjb2RlICs9IFwidGhpcy5cIiArIHByb3BzW2ldICsgXCIgPSBwcm9wcy5cIiArIHByb3BzW2ldICsgXCI7XCI7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGJhc2UgJiYgbmV3IGJhc2U7XG4gICAgaWYgKHByb3RvICYmIHByb3RvLmluaXRpYWxpemUgfHwgKG1ldGhvZHMgJiYgbWV0aG9kcy5pbml0aWFsaXplKSlcbiAgICAgICAgY29kZSArPSBcInRoaXMuaW5pdGlhbGl6ZSgpO1wiO1xuICAgIGNvZGUgKz0gXCJ9fVwiO1xuICAgIHZhciBjdG9yID0gbmV3IEZ1bmN0aW9uKGNvZGUpKCk7XG4gICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGN0b3IucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIGN0b3IuQkFTRSA9IGJhc2U7XG4gICAgfVxuICAgIGlmIChiYXNlKSBiYXNlLlNVQkNMQVNTRVMucHVzaChjdG9yKTtcbiAgICBjdG9yLnByb3RvdHlwZS5DVE9SID0gY3RvcjtcbiAgICBjdG9yLlBST1BTID0gcHJvcHMgfHwgbnVsbDtcbiAgICBjdG9yLlNFTEZfUFJPUFMgPSBzZWxmX3Byb3BzO1xuICAgIGN0b3IuU1VCQ0xBU1NFUyA9IFtdO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICAgIGN0b3IucHJvdG90eXBlLlRZUEUgPSBjdG9yLlRZUEUgPSB0eXBlO1xuICAgIH1cbiAgICBpZiAobWV0aG9kcykgZm9yIChpIGluIG1ldGhvZHMpIGlmIChtZXRob2RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGlmICgvXlxcJC8udGVzdChpKSkge1xuICAgICAgICAgICAgY3RvcltpLnN1YnN0cigxKV0gPSBtZXRob2RzW2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3Rvci5wcm90b3R5cGVbaV0gPSBtZXRob2RzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGN0b3IuREVGTUVUSE9EID0gZnVuY3Rpb24obmFtZSwgbWV0aG9kKSB7XG4gICAgICAgIHRoaXMucHJvdG90eXBlW25hbWVdID0gbWV0aG9kO1xuICAgIH07XG4gICAgcmV0dXJuIGN0b3I7XG59O1xuXG52YXIgQVNUX1Rva2VuID0gREVGTk9ERShcIlRva2VuXCIsIFwidHlwZSB2YWx1ZSBsaW5lIGNvbCBwb3MgZW5kcG9zIG5sYiBjb21tZW50c19iZWZvcmUgZmlsZVwiLCB7XG59LCBudWxsKTtcblxudmFyIEFTVF9Ob2RlID0gREVGTk9ERShcIk5vZGVcIiwgXCJzdGFydCBlbmRcIiwge1xuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNUT1IodGhpcyk7XG4gICAgfSxcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIG9mIGFsbCBBU1Qgbm9kZXNcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBzdGFydDogXCJbQVNUX1Rva2VuXSBUaGUgZmlyc3QgdG9rZW4gb2YgdGhpcyBub2RlXCIsXG4gICAgICAgIGVuZDogXCJbQVNUX1Rva2VuXSBUaGUgbGFzdCB0b2tlbiBvZiB0aGlzIG5vZGVcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMpO1xuICAgIH0sXG4gICAgd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Fsayh2aXNpdG9yKTsgLy8gbm90IHN1cmUgdGhlIGluZGlyZWN0aW9uIHdpbGwgYmUgYW55IGhlbHBcbiAgICB9XG59LCBudWxsKTtcblxuQVNUX05vZGUud2Fybl9mdW5jdGlvbiA9IG51bGw7XG5BU1RfTm9kZS53YXJuID0gZnVuY3Rpb24odHh0LCBwcm9wcykge1xuICAgIGlmIChBU1RfTm9kZS53YXJuX2Z1bmN0aW9uKVxuICAgICAgICBBU1RfTm9kZS53YXJuX2Z1bmN0aW9uKHN0cmluZ190ZW1wbGF0ZSh0eHQsIHByb3BzKSk7XG59O1xuXG4vKiAtLS0tLVsgc3RhdGVtZW50cyBdLS0tLS0gKi9cblxudmFyIEFTVF9TdGF0ZW1lbnQgPSBERUZOT0RFKFwiU3RhdGVtZW50XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIG9mIGFsbCBzdGF0ZW1lbnRzXCIsXG59KTtcblxudmFyIEFTVF9EZWJ1Z2dlciA9IERFRk5PREUoXCJEZWJ1Z2dlclwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiUmVwcmVzZW50cyBhIGRlYnVnZ2VyIHN0YXRlbWVudFwiLFxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfRGlyZWN0aXZlID0gREVGTk9ERShcIkRpcmVjdGl2ZVwiLCBcInZhbHVlIHNjb3BlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJSZXByZXNlbnRzIGEgZGlyZWN0aXZlLCBsaWtlIFxcXCJ1c2Ugc3RyaWN0XFxcIjtcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICB2YWx1ZTogXCJbc3RyaW5nXSBUaGUgdmFsdWUgb2YgdGhpcyBkaXJlY3RpdmUgYXMgYSBwbGFpbiBzdHJpbmcgKGl0J3Mgbm90IGFuIEFTVF9TdHJpbmchKVwiLFxuICAgICAgICBzY29wZTogXCJbQVNUX1Njb3BlL1NdIFRoZSBzY29wZSB0aGF0IHRoaXMgZGlyZWN0aXZlIGFmZmVjdHNcIlxuICAgIH0sXG59LCBBU1RfU3RhdGVtZW50KTtcblxudmFyIEFTVF9TaW1wbGVTdGF0ZW1lbnQgPSBERUZOT0RFKFwiU2ltcGxlU3RhdGVtZW50XCIsIFwiYm9keVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBzdGF0ZW1lbnQgY29uc2lzdGluZyBvZiBhbiBleHByZXNzaW9uLCBpLmUuIGEgPSAxICsgMlwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGJvZHk6IFwiW0FTVF9Ob2RlXSBhbiBleHByZXNzaW9uIG5vZGUgKHNob3VsZCBub3QgYmUgaW5zdGFuY2VvZiBBU1RfU3RhdGVtZW50KVwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuYm9keS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1N0YXRlbWVudCk7XG5cbmZ1bmN0aW9uIHdhbGtfYm9keShub2RlLCB2aXNpdG9yKSB7XG4gICAgaWYgKG5vZGUuYm9keSBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQpIHtcbiAgICAgICAgbm9kZS5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgIH1cbiAgICBlbHNlIG5vZGUuYm9keS5mb3JFYWNoKGZ1bmN0aW9uKHN0YXQpe1xuICAgICAgICBzdGF0Ll93YWxrKHZpc2l0b3IpO1xuICAgIH0pO1xufTtcblxudmFyIEFTVF9CbG9jayA9IERFRk5PREUoXCJCbG9ja1wiLCBcImJvZHlcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYm9keSBvZiBzdGF0ZW1lbnRzICh1c3VhbGx5IGJyYWNrZXRlZClcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBib2R5OiBcIltBU1RfU3RhdGVtZW50Kl0gYW4gYXJyYXkgb2Ygc3RhdGVtZW50c1wiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHdhbGtfYm9keSh0aGlzLCB2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfQmxvY2tTdGF0ZW1lbnQgPSBERUZOT0RFKFwiQmxvY2tTdGF0ZW1lbnRcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYmxvY2sgc3RhdGVtZW50XCIsXG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX0VtcHR5U3RhdGVtZW50ID0gREVGTk9ERShcIkVtcHR5U3RhdGVtZW50XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgZW1wdHkgc3RhdGVtZW50IChlbXB0eSBibG9jayBvciBzaW1wbHkgYSBzZW1pY29sb24pXCIsXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMpO1xuICAgIH1cbn0sIEFTVF9TdGF0ZW1lbnQpO1xuXG52YXIgQVNUX1N0YXRlbWVudFdpdGhCb2R5ID0gREVGTk9ERShcIlN0YXRlbWVudFdpdGhCb2R5XCIsIFwiYm9keVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgYWxsIHN0YXRlbWVudHMgdGhhdCBjb250YWluIG9uZSBuZXN0ZWQgYm9keTogYEZvcmAsIGBGb3JJbmAsIGBEb2AsIGBXaGlsZWAsIGBXaXRoYFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGJvZHk6IFwiW0FTVF9TdGF0ZW1lbnRdIHRoZSBib2R5OyB0aGlzIHNob3VsZCBhbHdheXMgYmUgcHJlc2VudCwgZXZlbiBpZiBpdCdzIGFuIEFTVF9FbXB0eVN0YXRlbWVudFwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuYm9keS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfTGFiZWxlZFN0YXRlbWVudCA9IERFRk5PREUoXCJMYWJlbGVkU3RhdGVtZW50XCIsIFwibGFiZWxcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlN0YXRlbWVudCB3aXRoIGEgbGFiZWxcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBsYWJlbDogXCJbQVNUX0xhYmVsXSBhIGxhYmVsIGRlZmluaXRpb25cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50V2l0aEJvZHkpO1xuXG52YXIgQVNUX0l0ZXJhdGlvblN0YXRlbWVudCA9IERFRk5PREUoXCJJdGVyYXRpb25TdGF0ZW1lbnRcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkludGVybmFsIGNsYXNzLiAgQWxsIGxvb3BzIGluaGVyaXQgZnJvbSBpdC5cIlxufSwgQVNUX1N0YXRlbWVudFdpdGhCb2R5KTtcblxudmFyIEFTVF9EV0xvb3AgPSBERUZOT0RFKFwiRFdMb29wXCIsIFwiY29uZGl0aW9uXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBkby93aGlsZSBzdGF0ZW1lbnRzXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgY29uZGl0aW9uOiBcIltBU1RfTm9kZV0gdGhlIGxvb3AgY29uZGl0aW9uLiAgU2hvdWxkIG5vdCBiZSBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnRcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYm9keS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX0l0ZXJhdGlvblN0YXRlbWVudCk7XG5cbnZhciBBU1RfRG8gPSBERUZOT0RFKFwiRG9cIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYGRvYCBzdGF0ZW1lbnRcIixcbn0sIEFTVF9EV0xvb3ApO1xuXG52YXIgQVNUX1doaWxlID0gREVGTk9ERShcIldoaWxlXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGB3aGlsZWAgc3RhdGVtZW50XCIsXG59LCBBU1RfRFdMb29wKTtcblxudmFyIEFTVF9Gb3IgPSBERUZOT0RFKFwiRm9yXCIsIFwiaW5pdCBjb25kaXRpb24gc3RlcFwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgZm9yYCBzdGF0ZW1lbnRcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBpbml0OiBcIltBU1RfTm9kZT9dIHRoZSBgZm9yYCBpbml0aWFsaXphdGlvbiBjb2RlLCBvciBudWxsIGlmIGVtcHR5XCIsXG4gICAgICAgIGNvbmRpdGlvbjogXCJbQVNUX05vZGU/XSB0aGUgYGZvcmAgdGVybWluYXRpb24gY2xhdXNlLCBvciBudWxsIGlmIGVtcHR5XCIsXG4gICAgICAgIHN0ZXA6IFwiW0FTVF9Ob2RlP10gdGhlIGBmb3JgIHVwZGF0ZSBjbGF1c2UsIG9yIG51bGwgaWYgZW1wdHlcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0KSB0aGlzLmluaXQuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb24pIHRoaXMuY29uZGl0aW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RlcCkgdGhpcy5zdGVwLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfSXRlcmF0aW9uU3RhdGVtZW50KTtcblxudmFyIEFTVF9Gb3JJbiA9IERFRk5PREUoXCJGb3JJblwiLCBcImluaXQgbmFtZSBvYmplY3RcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYGZvciAuLi4gaW5gIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGluaXQ6IFwiW0FTVF9Ob2RlXSB0aGUgYGZvci9pbmAgaW5pdGlhbGl6YXRpb24gY29kZVwiLFxuICAgICAgICBuYW1lOiBcIltBU1RfU3ltYm9sUmVmP10gdGhlIGxvb3AgdmFyaWFibGUsIG9ubHkgaWYgYGluaXRgIGlzIEFTVF9WYXJcIixcbiAgICAgICAgb2JqZWN0OiBcIltBU1RfTm9kZV0gdGhlIG9iamVjdCB0aGF0IHdlJ3JlIGxvb3BpbmcgdGhyb3VnaFwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuaW5pdC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfSXRlcmF0aW9uU3RhdGVtZW50KTtcblxudmFyIEFTVF9XaXRoID0gREVGTk9ERShcIldpdGhcIiwgXCJleHByZXNzaW9uXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGB3aXRoYCBzdGF0ZW1lbnRcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBleHByZXNzaW9uOiBcIltBU1RfTm9kZV0gdGhlIGB3aXRoYCBleHByZXNzaW9uXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50V2l0aEJvZHkpO1xuXG4vKiAtLS0tLVsgc2NvcGUgYW5kIGZ1bmN0aW9ucyBdLS0tLS0gKi9cblxudmFyIEFTVF9TY29wZSA9IERFRk5PREUoXCJTY29wZVwiLCBcImRpcmVjdGl2ZXMgdmFyaWFibGVzIGZ1bmN0aW9ucyB1c2VzX3dpdGggdXNlc19ldmFsIHBhcmVudF9zY29wZSBlbmNsb3NlZCBjbmFtZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgYWxsIHN0YXRlbWVudHMgaW50cm9kdWNpbmcgYSBsZXhpY2FsIHNjb3BlXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZGlyZWN0aXZlczogXCJbc3RyaW5nKi9TXSBhbiBhcnJheSBvZiBkaXJlY3RpdmVzIGRlY2xhcmVkIGluIHRoaXMgc2NvcGVcIixcbiAgICAgICAgdmFyaWFibGVzOiBcIltPYmplY3QvU10gYSBtYXAgb2YgbmFtZSAtPiBTeW1ib2xEZWYgZm9yIGFsbCB2YXJpYWJsZXMvZnVuY3Rpb25zIGRlZmluZWQgaW4gdGhpcyBzY29wZVwiLFxuICAgICAgICBmdW5jdGlvbnM6IFwiW09iamVjdC9TXSBsaWtlIGB2YXJpYWJsZXNgLCBidXQgb25seSBsaXN0cyBmdW5jdGlvbiBkZWNsYXJhdGlvbnNcIixcbiAgICAgICAgdXNlc193aXRoOiBcIltib29sZWFuL1NdIHRlbGxzIHdoZXRoZXIgdGhpcyBzY29wZSB1c2VzIHRoZSBgd2l0aGAgc3RhdGVtZW50XCIsXG4gICAgICAgIHVzZXNfZXZhbDogXCJbYm9vbGVhbi9TXSB0ZWxscyB3aGV0aGVyIHRoaXMgc2NvcGUgY29udGFpbnMgYSBkaXJlY3QgY2FsbCB0byB0aGUgZ2xvYmFsIGBldmFsYFwiLFxuICAgICAgICBwYXJlbnRfc2NvcGU6IFwiW0FTVF9TY29wZT8vU10gbGluayB0byB0aGUgcGFyZW50IHNjb3BlXCIsXG4gICAgICAgIGVuY2xvc2VkOiBcIltTeW1ib2xEZWYqL1NdIGEgbGlzdCBvZiBhbGwgc3ltYm9sIGRlZmluaXRpb25zIHRoYXQgYXJlIGFjY2Vzc2VkIGZyb20gdGhpcyBzY29wZSBvciBhbnkgc3Vic2NvcGVzXCIsXG4gICAgICAgIGNuYW1lOiBcIltpbnRlZ2VyL1NdIGN1cnJlbnQgaW5kZXggZm9yIG1hbmdsaW5nIHZhcmlhYmxlcyAodXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBtYW5nbGVyKVwiLFxuICAgIH0sXG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX1RvcGxldmVsID0gREVGTk9ERShcIlRvcGxldmVsXCIsIFwiZ2xvYmFsc1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIHRvcGxldmVsIHNjb3BlXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZ2xvYmFsczogXCJbT2JqZWN0L1NdIGEgbWFwIG9mIG5hbWUgLT4gU3ltYm9sRGVmIGZvciBhbGwgdW5kZWNsYXJlZCBuYW1lc1wiLFxuICAgIH0sXG4gICAgd3JhcF9lbmNsb3NlOiBmdW5jdGlvbihhcmdfcGFyYW1ldGVyX3BhaXJzKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbXTtcblxuICAgICAgICBhcmdfcGFyYW1ldGVyX3BhaXJzLmZvckVhY2goZnVuY3Rpb24ocGFpcikge1xuICAgICAgICAgICAgdmFyIHNwbGl0QXQgPSBwYWlyLmxhc3RJbmRleE9mKFwiOlwiKTtcblxuICAgICAgICAgICAgYXJncy5wdXNoKHBhaXIuc3Vic3RyKDAsIHNwbGl0QXQpKTtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChwYWlyLnN1YnN0cihzcGxpdEF0ICsgMSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgd3JhcHBlZF90bCA9IFwiKGZ1bmN0aW9uKFwiICsgcGFyYW1ldGVycy5qb2luKFwiLFwiKSArIFwiKXsgJyRPUklHJzsgfSkoXCIgKyBhcmdzLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gICAgICAgIHdyYXBwZWRfdGwgPSBwYXJzZSh3cmFwcGVkX3RsKTtcbiAgICAgICAgd3JhcHBlZF90bCA9IHdyYXBwZWRfdGwudHJhbnNmb3JtKG5ldyBUcmVlVHJhbnNmb3JtZXIoZnVuY3Rpb24gYmVmb3JlKG5vZGUpe1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGlyZWN0aXZlICYmIG5vZGUudmFsdWUgPT0gXCIkT1JJR1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1BUC5zcGxpY2Uoc2VsZi5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gd3JhcHBlZF90bDtcbiAgICB9LFxuICAgIHdyYXBfY29tbW9uanM6IGZ1bmN0aW9uKG5hbWUsIGV4cG9ydF9hbGwpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgdG9fZXhwb3J0ID0gW107XG4gICAgICAgIGlmIChleHBvcnRfYWxsKSB7XG4gICAgICAgICAgICBzZWxmLmZpZ3VyZV9vdXRfc2NvcGUoKTtcbiAgICAgICAgICAgIHNlbGYud2FsayhuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xEZWNsYXJhdGlvbiAmJiBub2RlLmRlZmluaXRpb24oKS5nbG9iYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaW5kX2lmKGZ1bmN0aW9uKG4peyByZXR1cm4gbi5uYW1lID09IG5vZGUubmFtZSB9LCB0b19leHBvcnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9fZXhwb3J0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3cmFwcGVkX3RsID0gXCIoZnVuY3Rpb24oZXhwb3J0cywgZ2xvYmFsKXsgZ2xvYmFsWydcIiArIG5hbWUgKyBcIiddID0gZXhwb3J0czsgJyRPUklHJzsgJyRFWFBPUlRTJzsgfSh7fSwgKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpKSlcIjtcbiAgICAgICAgd3JhcHBlZF90bCA9IHBhcnNlKHdyYXBwZWRfdGwpO1xuICAgICAgICB3cmFwcGVkX3RsID0gd3JhcHBlZF90bC50cmFuc2Zvcm0obmV3IFRyZWVUcmFuc2Zvcm1lcihmdW5jdGlvbiBiZWZvcmUobm9kZSl7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5ib2R5O1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N0cmluZykgc3dpdGNoIChub2RlLmdldFZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIkT1JJR1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUFQLnNwbGljZShzZWxmLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIiRFWFBPUlRTXCI6XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRvX2V4cG9ydC5mb3JFYWNoKGZ1bmN0aW9uKHN5bSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5LnB1c2gobmV3IEFTVF9TaW1wbGVTdGF0ZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IG5ldyBBU1RfQXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbmV3IEFTVF9TdWIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogbmV3IEFTVF9TeW1ib2xSZWYoeyBuYW1lOiBcImV4cG9ydHNcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBuZXcgQVNUX1N0cmluZyh7IHZhbHVlOiBzeW0ubmFtZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIj1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG5ldyBBU1RfU3ltYm9sUmVmKHN5bSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUFQLnNwbGljZShib2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRfdGw7XG4gICAgfVxufSwgQVNUX1Njb3BlKTtcblxudmFyIEFTVF9MYW1iZGEgPSBERUZOT0RFKFwiTGFtYmRhXCIsIFwibmFtZSBhcmduYW1lcyB1c2VzX2FyZ3VtZW50c1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgZnVuY3Rpb25zXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgbmFtZTogXCJbQVNUX1N5bWJvbERlY2xhcmF0aW9uP10gdGhlIG5hbWUgb2YgdGhpcyBmdW5jdGlvblwiLFxuICAgICAgICBhcmduYW1lczogXCJbQVNUX1N5bWJvbEZ1bmFyZypdIGFycmF5IG9mIGZ1bmN0aW9uIGFyZ3VtZW50c1wiLFxuICAgICAgICB1c2VzX2FyZ3VtZW50czogXCJbYm9vbGVhbi9TXSB0ZWxscyB3aGV0aGVyIHRoaXMgZnVuY3Rpb24gYWNjZXNzZXMgdGhlIGFyZ3VtZW50cyBhcnJheVwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUpIHRoaXMubmFtZS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYXJnbmFtZXMuZm9yRWFjaChmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgICAgIGFyZy5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2Fsa19ib2R5KHRoaXMsIHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU2NvcGUpO1xuXG52YXIgQVNUX0FjY2Vzc29yID0gREVGTk9ERShcIkFjY2Vzc29yXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIHNldHRlci9nZXR0ZXIgZnVuY3Rpb24uICBUaGUgYG5hbWVgIHByb3BlcnR5IGlzIGFsd2F5cyBudWxsLlwiXG59LCBBU1RfTGFtYmRhKTtcblxudmFyIEFTVF9GdW5jdGlvbiA9IERFRk5PREUoXCJGdW5jdGlvblwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBmdW5jdGlvbiBleHByZXNzaW9uXCJcbn0sIEFTVF9MYW1iZGEpO1xuXG52YXIgQVNUX0RlZnVuID0gREVGTk9ERShcIkRlZnVuXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGZ1bmN0aW9uIGRlZmluaXRpb25cIlxufSwgQVNUX0xhbWJkYSk7XG5cbi8qIC0tLS0tWyBKVU1QUyBdLS0tLS0gKi9cblxudmFyIEFTVF9KdW1wID0gREVGTk9ERShcIkp1bXBcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIOKAnGp1bXBz4oCdIChmb3Igbm93IHRoYXQncyBgcmV0dXJuYCwgYHRocm93YCwgYGJyZWFrYCBhbmQgYGNvbnRpbnVlYClcIlxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfRXhpdCA9IERFRk5PREUoXCJFeGl0XCIsIFwidmFsdWVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIOKAnGV4aXRz4oCdIChgcmV0dXJuYCBhbmQgYHRocm93YClcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICB2YWx1ZTogXCJbQVNUX05vZGU/XSB0aGUgdmFsdWUgcmV0dXJuZWQgb3IgdGhyb3duIGJ5IHRoaXMgc3RhdGVtZW50OyBjb3VsZCBiZSBudWxsIGZvciBBU1RfUmV0dXJuXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCB0aGlzLnZhbHVlICYmIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfSnVtcCk7XG5cbnZhciBBU1RfUmV0dXJuID0gREVGTk9ERShcIlJldHVyblwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgcmV0dXJuYCBzdGF0ZW1lbnRcIlxufSwgQVNUX0V4aXQpO1xuXG52YXIgQVNUX1Rocm93ID0gREVGTk9ERShcIlRocm93XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGB0aHJvd2Agc3RhdGVtZW50XCJcbn0sIEFTVF9FeGl0KTtcblxudmFyIEFTVF9Mb29wQ29udHJvbCA9IERFRk5PREUoXCJMb29wQ29udHJvbFwiLCBcImxhYmVsXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBsb29wIGNvbnRyb2wgc3RhdGVtZW50cyAoYGJyZWFrYCBhbmQgYGNvbnRpbnVlYClcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBsYWJlbDogXCJbQVNUX0xhYmVsUmVmP10gdGhlIGxhYmVsLCBvciBudWxsIGlmIG5vbmVcIixcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCB0aGlzLmxhYmVsICYmIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfSnVtcCk7XG5cbnZhciBBU1RfQnJlYWsgPSBERUZOT0RFKFwiQnJlYWtcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYGJyZWFrYCBzdGF0ZW1lbnRcIlxufSwgQVNUX0xvb3BDb250cm9sKTtcblxudmFyIEFTVF9Db250aW51ZSA9IERFRk5PREUoXCJDb250aW51ZVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgY29udGludWVgIHN0YXRlbWVudFwiXG59LCBBU1RfTG9vcENvbnRyb2wpO1xuXG4vKiAtLS0tLVsgSUYgXS0tLS0tICovXG5cbnZhciBBU1RfSWYgPSBERUZOT0RFKFwiSWZcIiwgXCJjb25kaXRpb24gYWx0ZXJuYXRpdmVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYGlmYCBzdGF0ZW1lbnRcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBjb25kaXRpb246IFwiW0FTVF9Ob2RlXSB0aGUgYGlmYCBjb25kaXRpb25cIixcbiAgICAgICAgYWx0ZXJuYXRpdmU6IFwiW0FTVF9TdGF0ZW1lbnQ/XSB0aGUgYGVsc2VgIHBhcnQsIG9yIG51bGwgaWYgbm90IHByZXNlbnRcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYm9keS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsdGVybmF0aXZlKSB0aGlzLmFsdGVybmF0aXZlLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50V2l0aEJvZHkpO1xuXG4vKiAtLS0tLVsgU1dJVENIIF0tLS0tLSAqL1xuXG52YXIgQVNUX1N3aXRjaCA9IERFRk5PREUoXCJTd2l0Y2hcIiwgXCJleHByZXNzaW9uXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBzd2l0Y2hgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGV4cHJlc3Npb246IFwiW0FTVF9Ob2RlXSB0aGUgYHN3aXRjaGAg4oCcZGlzY3JpbWluYW504oCdXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgd2Fsa19ib2R5KHRoaXMsIHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX1N3aXRjaEJyYW5jaCA9IERFRk5PREUoXCJTd2l0Y2hCcmFuY2hcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGBzd2l0Y2hgIGJyYW5jaGVzXCIsXG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX0RlZmF1bHQgPSBERUZOT0RFKFwiRGVmYXVsdFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgZGVmYXVsdGAgc3dpdGNoIGJyYW5jaFwiLFxufSwgQVNUX1N3aXRjaEJyYW5jaCk7XG5cbnZhciBBU1RfQ2FzZSA9IERFRk5PREUoXCJDYXNlXCIsIFwiZXhwcmVzc2lvblwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgY2FzZWAgc3dpdGNoIGJyYW5jaFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGV4cHJlc3Npb246IFwiW0FTVF9Ob2RlXSB0aGUgYGNhc2VgIGV4cHJlc3Npb25cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB3YWxrX2JvZHkodGhpcywgdmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9Td2l0Y2hCcmFuY2gpO1xuXG4vKiAtLS0tLVsgRVhDRVBUSU9OUyBdLS0tLS0gKi9cblxudmFyIEFTVF9UcnkgPSBERUZOT0RFKFwiVHJ5XCIsIFwiYmNhdGNoIGJmaW5hbGx5XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGB0cnlgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGJjYXRjaDogXCJbQVNUX0NhdGNoP10gdGhlIGNhdGNoIGJsb2NrLCBvciBudWxsIGlmIG5vdCBwcmVzZW50XCIsXG4gICAgICAgIGJmaW5hbGx5OiBcIltBU1RfRmluYWxseT9dIHRoZSBmaW5hbGx5IGJsb2NrLCBvciBudWxsIGlmIG5vdCBwcmVzZW50XCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgd2Fsa19ib2R5KHRoaXMsIHZpc2l0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmNhdGNoKSB0aGlzLmJjYXRjaC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJmaW5hbGx5KSB0aGlzLmJmaW5hbGx5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX0NhdGNoID0gREVGTk9ERShcIkNhdGNoXCIsIFwiYXJnbmFtZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgY2F0Y2hgIG5vZGU7IG9ubHkgbWFrZXMgc2Vuc2UgYXMgcGFydCBvZiBhIGB0cnlgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGFyZ25hbWU6IFwiW0FTVF9TeW1ib2xDYXRjaF0gc3ltYm9sIGZvciB0aGUgZXhjZXB0aW9uXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5hcmduYW1lLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgd2Fsa19ib2R5KHRoaXMsIHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfQmxvY2spO1xuXG52YXIgQVNUX0ZpbmFsbHkgPSBERUZOT0RFKFwiRmluYWxseVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgZmluYWxseWAgbm9kZTsgb25seSBtYWtlcyBzZW5zZSBhcyBwYXJ0IG9mIGEgYHRyeWAgc3RhdGVtZW50XCJcbn0sIEFTVF9CbG9jayk7XG5cbi8qIC0tLS0tWyBWQVIvQ09OU1QgXS0tLS0tICovXG5cbnZhciBBU1RfRGVmaW5pdGlvbnMgPSBERUZOT0RFKFwiRGVmaW5pdGlvbnNcIiwgXCJkZWZpbml0aW9uc1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgYHZhcmAgb3IgYGNvbnN0YCBub2RlcyAodmFyaWFibGUgZGVjbGFyYXRpb25zL2luaXRpYWxpemF0aW9ucylcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBkZWZpbml0aW9uczogXCJbQVNUX1ZhckRlZipdIGFycmF5IG9mIHZhcmlhYmxlIGRlZmluaXRpb25zXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGRlZil7XG4gICAgICAgICAgICAgICAgZGVmLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9TdGF0ZW1lbnQpO1xuXG52YXIgQVNUX1ZhciA9IERFRk5PREUoXCJWYXJcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHZhcmAgc3RhdGVtZW50XCJcbn0sIEFTVF9EZWZpbml0aW9ucyk7XG5cbnZhciBBU1RfQ29uc3QgPSBERUZOT0RFKFwiQ29uc3RcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYGNvbnN0YCBzdGF0ZW1lbnRcIlxufSwgQVNUX0RlZmluaXRpb25zKTtcblxudmFyIEFTVF9WYXJEZWYgPSBERUZOT0RFKFwiVmFyRGVmXCIsIFwibmFtZSB2YWx1ZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSB2YXJpYWJsZSBkZWNsYXJhdGlvbjsgb25seSBhcHBlYXJzIGluIGEgQVNUX0RlZmluaXRpb25zIG5vZGVcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBuYW1lOiBcIltBU1RfU3ltYm9sVmFyfEFTVF9TeW1ib2xDb25zdF0gbmFtZSBvZiB0aGUgdmFyaWFibGVcIixcbiAgICAgICAgdmFsdWU6IFwiW0FTVF9Ob2RlP10gaW5pdGlhbGl6ZXIsIG9yIG51bGwgb2YgdGhlcmUncyBubyBpbml0aWFsaXplclwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMubmFtZS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB0aGlzLnZhbHVlLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyogLS0tLS1bIE9USEVSIF0tLS0tLSAqL1xuXG52YXIgQVNUX0NhbGwgPSBERUZOT0RFKFwiQ2FsbFwiLCBcImV4cHJlc3Npb24gYXJnc1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBmdW5jdGlvbiBjYWxsIGV4cHJlc3Npb25cIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBleHByZXNzaW9uOiBcIltBU1RfTm9kZV0gZXhwcmVzc2lvbiB0byBpbnZva2UgYXMgZnVuY3Rpb25cIixcbiAgICAgICAgYXJnczogXCJbQVNUX05vZGUqXSBhcnJheSBvZiBhcmd1bWVudHNcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLmFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgICAgIGFyZy5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9OZXcgPSBERUZOT0RFKFwiTmV3XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBbiBvYmplY3QgaW5zdGFudGlhdGlvbi4gIERlcml2ZXMgZnJvbSBhIGZ1bmN0aW9uIGNhbGwgc2luY2UgaXQgaGFzIGV4YWN0bHkgdGhlIHNhbWUgcHJvcGVydGllc1wiXG59LCBBU1RfQ2FsbCk7XG5cbnZhciBBU1RfU2VxID0gREVGTk9ERShcIlNlcVwiLCBcImNhciBjZHJcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgc2VxdWVuY2UgZXhwcmVzc2lvbiAodHdvIGNvbW1hLXNlcGFyYXRlZCBleHByZXNzaW9ucylcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBjYXI6IFwiW0FTVF9Ob2RlXSBmaXJzdCBlbGVtZW50IGluIHNlcXVlbmNlXCIsXG4gICAgICAgIGNkcjogXCJbQVNUX05vZGVdIHNlY29uZCBlbGVtZW50IGluIHNlcXVlbmNlXCJcbiAgICB9LFxuICAgICRjb25zOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHZhciBzZXEgPSBuZXcgQVNUX1NlcSh4KTtcbiAgICAgICAgc2VxLmNhciA9IHg7XG4gICAgICAgIHNlcS5jZHIgPSB5O1xuICAgICAgICByZXR1cm4gc2VxO1xuICAgIH0sXG4gICAgJGZyb21fYXJyYXk6IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT0gMSkgcmV0dXJuIGFycmF5WzBdLmNsb25lKCk7XG4gICAgICAgIHZhciBsaXN0ID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICBsaXN0ID0gQVNUX1NlcS5jb25zKGFycmF5W2ldLCBsaXN0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcCA9IGxpc3Q7XG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBpZiAocC5jZHIgJiYgIXAuY2RyLmNkcikge1xuICAgICAgICAgICAgICAgIHAuY2RyID0gcC5jZHIuY2FyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcCA9IHAuY2RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH0sXG4gICAgdG9fYXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMsIGEgPSBbXTtcbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIGEucHVzaChwLmNhcik7XG4gICAgICAgICAgICBpZiAocC5jZHIgJiYgIShwLmNkciBpbnN0YW5jZW9mIEFTVF9TZXEpKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKHAuY2RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSBwLmNkcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICB2YXIgcCA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBpZiAoIShwLmNkciBpbnN0YW5jZW9mIEFTVF9TZXEpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBBU1RfU2VxLmNvbnMocC5jZHIsIG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwLmNkciA9IGNlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwID0gcC5jZHI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5jYXIuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5jZHIpIHRoaXMuY2RyLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9Qcm9wQWNjZXNzID0gREVGTk9ERShcIlByb3BBY2Nlc3NcIiwgXCJleHByZXNzaW9uIHByb3BlcnR5XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBwcm9wZXJ0eSBhY2Nlc3MgZXhwcmVzc2lvbnMsIGkuZS4gYGEuZm9vYCBvciBgYVtcXFwiZm9vXFxcIl1gXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZXhwcmVzc2lvbjogXCJbQVNUX05vZGVdIHRoZSDigJxjb250YWluZXLigJ0gZXhwcmVzc2lvblwiLFxuICAgICAgICBwcm9wZXJ0eTogXCJbQVNUX05vZGV8c3RyaW5nXSB0aGUgcHJvcGVydHkgdG8gYWNjZXNzLiAgRm9yIEFTVF9Eb3QgdGhpcyBpcyBhbHdheXMgYSBwbGFpbiBzdHJpbmcsIHdoaWxlIGZvciBBU1RfU3ViIGl0J3MgYW4gYXJiaXRyYXJ5IEFTVF9Ob2RlXCJcbiAgICB9XG59KTtcblxudmFyIEFTVF9Eb3QgPSBERUZOT0RFKFwiRG90XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGRvdHRlZCBwcm9wZXJ0eSBhY2Nlc3MgZXhwcmVzc2lvblwiLFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfUHJvcEFjY2Vzcyk7XG5cbnZhciBBU1RfU3ViID0gREVGTk9ERShcIlN1YlwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiSW5kZXgtc3R5bGUgcHJvcGVydHkgYWNjZXNzLCBpLmUuIGBhW1xcXCJmb29cXFwiXWBcIixcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9Qcm9wQWNjZXNzKTtcblxudmFyIEFTVF9VbmFyeSA9IERFRk5PREUoXCJVbmFyeVwiLCBcIm9wZXJhdG9yIGV4cHJlc3Npb25cIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIHVuYXJ5IGV4cHJlc3Npb25zXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgb3BlcmF0b3I6IFwiW3N0cmluZ10gdGhlIG9wZXJhdG9yXCIsXG4gICAgICAgIGV4cHJlc3Npb246IFwiW0FTVF9Ob2RlXSBleHByZXNzaW9uIHRoYXQgdGhpcyB1bmFyeSBvcGVyYXRvciBhcHBsaWVzIHRvXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9VbmFyeVByZWZpeCA9IERFRk5PREUoXCJVbmFyeVByZWZpeFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVW5hcnkgcHJlZml4IGV4cHJlc3Npb24sIGkuZS4gYHR5cGVvZiBpYCBvciBgKytpYFwiXG59LCBBU1RfVW5hcnkpO1xuXG52YXIgQVNUX1VuYXJ5UG9zdGZpeCA9IERFRk5PREUoXCJVbmFyeVBvc3RmaXhcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlVuYXJ5IHBvc3RmaXggZXhwcmVzc2lvbiwgaS5lLiBgaSsrYFwiXG59LCBBU1RfVW5hcnkpO1xuXG52YXIgQVNUX0JpbmFyeSA9IERFRk5PREUoXCJCaW5hcnlcIiwgXCJsZWZ0IG9wZXJhdG9yIHJpZ2h0XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCaW5hcnkgZXhwcmVzc2lvbiwgaS5lLiBgYSArIGJgXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgbGVmdDogXCJbQVNUX05vZGVdIGxlZnQtaGFuZCBzaWRlIGV4cHJlc3Npb25cIixcbiAgICAgICAgb3BlcmF0b3I6IFwiW3N0cmluZ10gdGhlIG9wZXJhdG9yXCIsXG4gICAgICAgIHJpZ2h0OiBcIltBU1RfTm9kZV0gcmlnaHQtaGFuZCBzaWRlIGV4cHJlc3Npb25cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmxlZnQuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9Db25kaXRpb25hbCA9IERFRk5PREUoXCJDb25kaXRpb25hbFwiLCBcImNvbmRpdGlvbiBjb25zZXF1ZW50IGFsdGVybmF0aXZlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJDb25kaXRpb25hbCBleHByZXNzaW9uIHVzaW5nIHRoZSB0ZXJuYXJ5IG9wZXJhdG9yLCBpLmUuIGBhID8gYiA6IGNgXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgY29uZGl0aW9uOiBcIltBU1RfTm9kZV1cIixcbiAgICAgICAgY29uc2VxdWVudDogXCJbQVNUX05vZGVdXCIsXG4gICAgICAgIGFsdGVybmF0aXZlOiBcIltBU1RfTm9kZV1cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29uc2VxdWVudC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmUuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX0Fzc2lnbiA9IERFRk5PREUoXCJBc3NpZ25cIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkFuIGFzc2lnbm1lbnQgZXhwcmVzc2lvbiDigJQgYGEgPSBiICsgNWBcIixcbn0sIEFTVF9CaW5hcnkpO1xuXG4vKiAtLS0tLVsgTElURVJBTFMgXS0tLS0tICovXG5cbnZhciBBU1RfQXJyYXkgPSBERUZOT0RFKFwiQXJyYXlcIiwgXCJlbGVtZW50c1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQW4gYXJyYXkgbGl0ZXJhbFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGVsZW1lbnRzOiBcIltBU1RfTm9kZSpdIGFycmF5IG9mIGVsZW1lbnRzXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgICAgICBlbC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9PYmplY3QgPSBERUZOT0RFKFwiT2JqZWN0XCIsIFwicHJvcGVydGllc1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQW4gb2JqZWN0IGxpdGVyYWxcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBwcm9wZXJ0aWVzOiBcIltBU1RfT2JqZWN0UHJvcGVydHkqXSBhcnJheSBvZiBwcm9wZXJ0aWVzXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcCl7XG4gICAgICAgICAgICAgICAgcHJvcC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9PYmplY3RQcm9wZXJ0eSA9IERFRk5PREUoXCJPYmplY3RQcm9wZXJ0eVwiLCBcImtleSB2YWx1ZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgbGl0ZXJhbCBvYmplY3QgcHJvcGVydGllc1wiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGtleTogXCJbc3RyaW5nXSB0aGUgcHJvcGVydHkgbmFtZSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcgZm9yIE9iamVjdEtleVZhbC4gIEZvciBzZXR0ZXJzIGFuZCBnZXR0ZXJzIHRoaXMgaXMgYW4gYXJiaXRyYXJ5IEFTVF9Ob2RlLlwiLFxuICAgICAgICB2YWx1ZTogXCJbQVNUX05vZGVdIHByb3BlcnR5IHZhbHVlLiAgRm9yIHNldHRlcnMgYW5kIGdldHRlcnMgdGhpcyBpcyBhbiBBU1RfRnVuY3Rpb24uXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBBU1RfT2JqZWN0S2V5VmFsID0gREVGTk9ERShcIk9iamVjdEtleVZhbFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBrZXk6IHZhbHVlIG9iamVjdCBwcm9wZXJ0eVwiLFxufSwgQVNUX09iamVjdFByb3BlcnR5KTtcblxudmFyIEFTVF9PYmplY3RTZXR0ZXIgPSBERUZOT0RFKFwiT2JqZWN0U2V0dGVyXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBbiBvYmplY3Qgc2V0dGVyIHByb3BlcnR5XCIsXG59LCBBU1RfT2JqZWN0UHJvcGVydHkpO1xuXG52YXIgQVNUX09iamVjdEdldHRlciA9IERFRk5PREUoXCJPYmplY3RHZXR0ZXJcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkFuIG9iamVjdCBnZXR0ZXIgcHJvcGVydHlcIixcbn0sIEFTVF9PYmplY3RQcm9wZXJ0eSk7XG5cbnZhciBBU1RfU3ltYm9sID0gREVGTk9ERShcIlN5bWJvbFwiLCBcInNjb3BlIG5hbWUgdGhlZGVmXCIsIHtcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBuYW1lOiBcIltzdHJpbmddIG5hbWUgb2YgdGhpcyBzeW1ib2xcIixcbiAgICAgICAgc2NvcGU6IFwiW0FTVF9TY29wZS9TXSB0aGUgY3VycmVudCBzY29wZSAobm90IG5lY2Vzc2FyaWx5IHRoZSBkZWZpbml0aW9uIHNjb3BlKVwiLFxuICAgICAgICB0aGVkZWY6IFwiW1N5bWJvbERlZi9TXSB0aGUgZGVmaW5pdGlvbiBvZiB0aGlzIHN5bWJvbFwiXG4gICAgfSxcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBhbGwgc3ltYm9sc1wiLFxufSk7XG5cbnZhciBBU1RfU3ltYm9sQWNjZXNzb3IgPSBERUZOT0RFKFwiU3ltYm9sQWNjZXNzb3JcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlRoZSBuYW1lIG9mIGEgcHJvcGVydHkgYWNjZXNzb3IgKHNldHRlci9nZXR0ZXIgZnVuY3Rpb24pXCJcbn0sIEFTVF9TeW1ib2wpO1xuXG52YXIgQVNUX1N5bWJvbERlY2xhcmF0aW9uID0gREVGTk9ERShcIlN5bWJvbERlY2xhcmF0aW9uXCIsIFwiaW5pdFwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBkZWNsYXJhdGlvbiBzeW1ib2wgKHN5bWJvbCBpbiB2YXIvY29uc3QsIGZ1bmN0aW9uIG5hbWUgb3IgYXJndW1lbnQsIHN5bWJvbCBpbiBjYXRjaClcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBpbml0OiBcIltBU1RfTm9kZSovU10gYXJyYXkgb2YgaW5pdGlhbGl6ZXJzIGZvciB0aGlzIGRlY2xhcmF0aW9uLlwiXG4gICAgfVxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfU3ltYm9sVmFyID0gREVGTk9ERShcIlN5bWJvbFZhclwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiU3ltYm9sIGRlZmluaW5nIGEgdmFyaWFibGVcIixcbn0sIEFTVF9TeW1ib2xEZWNsYXJhdGlvbik7XG5cbnZhciBBU1RfU3ltYm9sQ29uc3QgPSBERUZOT0RFKFwiU3ltYm9sQ29uc3RcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgY29uc3RhbnQgZGVjbGFyYXRpb25cIlxufSwgQVNUX1N5bWJvbERlY2xhcmF0aW9uKTtcblxudmFyIEFTVF9TeW1ib2xGdW5hcmcgPSBERUZOT0RFKFwiU3ltYm9sRnVuYXJnXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgbmFtaW5nIGEgZnVuY3Rpb24gYXJndW1lbnRcIixcbn0sIEFTVF9TeW1ib2xWYXIpO1xuXG52YXIgQVNUX1N5bWJvbERlZnVuID0gREVGTk9ERShcIlN5bWJvbERlZnVuXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgZGVmaW5pbmcgYSBmdW5jdGlvblwiLFxufSwgQVNUX1N5bWJvbERlY2xhcmF0aW9uKTtcblxudmFyIEFTVF9TeW1ib2xMYW1iZGEgPSBERUZOT0RFKFwiU3ltYm9sTGFtYmRhXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgbmFtaW5nIGEgZnVuY3Rpb24gZXhwcmVzc2lvblwiLFxufSwgQVNUX1N5bWJvbERlY2xhcmF0aW9uKTtcblxudmFyIEFTVF9TeW1ib2xDYXRjaCA9IERFRk5PREUoXCJTeW1ib2xDYXRjaFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiU3ltYm9sIG5hbWluZyB0aGUgZXhjZXB0aW9uIGluIGNhdGNoXCIsXG59LCBBU1RfU3ltYm9sRGVjbGFyYXRpb24pO1xuXG52YXIgQVNUX0xhYmVsID0gREVGTk9ERShcIkxhYmVsXCIsIFwicmVmZXJlbmNlc1wiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiU3ltYm9sIG5hbWluZyBhIGxhYmVsIChkZWNsYXJhdGlvbilcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICByZWZlcmVuY2VzOiBcIltBU1RfTG9vcENvbnRyb2wqXSBhIGxpc3Qgb2Ygbm9kZXMgcmVmZXJyaW5nIHRvIHRoaXMgbGFiZWxcIlxuICAgIH0sXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuICAgICAgICB0aGlzLnRoZWRlZiA9IHRoaXM7XG4gICAgfVxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfU3ltYm9sUmVmID0gREVGTk9ERShcIlN5bWJvbFJlZlwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiUmVmZXJlbmNlIHRvIHNvbWUgc3ltYm9sIChub3QgZGVmaW5pdGlvbi9kZWNsYXJhdGlvbilcIixcbn0sIEFTVF9TeW1ib2wpO1xuXG52YXIgQVNUX0xhYmVsUmVmID0gREVGTk9ERShcIkxhYmVsUmVmXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJSZWZlcmVuY2UgdG8gYSBsYWJlbCBzeW1ib2xcIixcbn0sIEFTVF9TeW1ib2wpO1xuXG52YXIgQVNUX1RoaXMgPSBERUZOT0RFKFwiVGhpc1wiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGB0aGlzYCBzeW1ib2xcIixcbn0sIEFTVF9TeW1ib2wpO1xuXG52YXIgQVNUX0NvbnN0YW50ID0gREVGTk9ERShcIkNvbnN0YW50XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBhbGwgY29uc3RhbnRzXCIsXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9TdHJpbmcgPSBERUZOT0RFKFwiU3RyaW5nXCIsIFwidmFsdWVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgc3RyaW5nIGxpdGVyYWxcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICB2YWx1ZTogXCJbc3RyaW5nXSB0aGUgY29udGVudHMgb2YgdGhpcyBzdHJpbmdcIlxuICAgIH1cbn0sIEFTVF9Db25zdGFudCk7XG5cbnZhciBBU1RfTnVtYmVyID0gREVGTk9ERShcIk51bWJlclwiLCBcInZhbHVlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIG51bWJlciBsaXRlcmFsXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgdmFsdWU6IFwiW251bWJlcl0gdGhlIG51bWVyaWMgdmFsdWVcIlxuICAgIH1cbn0sIEFTVF9Db25zdGFudCk7XG5cbnZhciBBU1RfUmVnRXhwID0gREVGTk9ERShcIlJlZ0V4cFwiLCBcInZhbHVlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIHJlZ2V4cCBsaXRlcmFsXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgdmFsdWU6IFwiW1JlZ0V4cF0gdGhlIGFjdHVhbCByZWdleHBcIlxuICAgIH1cbn0sIEFTVF9Db25zdGFudCk7XG5cbnZhciBBU1RfQXRvbSA9IERFRk5PREUoXCJBdG9tXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBhdG9tc1wiLFxufSwgQVNUX0NvbnN0YW50KTtcblxudmFyIEFTVF9OdWxsID0gREVGTk9ERShcIk51bGxcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlRoZSBgbnVsbGAgYXRvbVwiLFxuICAgIHZhbHVlOiBudWxsXG59LCBBU1RfQXRvbSk7XG5cbnZhciBBU1RfTmFOID0gREVGTk9ERShcIk5hTlwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGltcG9zc2libGUgdmFsdWVcIixcbiAgICB2YWx1ZTogMC8wXG59LCBBU1RfQXRvbSk7XG5cbnZhciBBU1RfVW5kZWZpbmVkID0gREVGTk9ERShcIlVuZGVmaW5lZFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGB1bmRlZmluZWRgIHZhbHVlXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbigpe30oKSlcbn0sIEFTVF9BdG9tKTtcblxudmFyIEFTVF9Ib2xlID0gREVGTk9ERShcIkhvbGVcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgaG9sZSBpbiBhbiBhcnJheVwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24oKXt9KCkpXG59LCBBU1RfQXRvbSk7XG5cbnZhciBBU1RfSW5maW5pdHkgPSBERUZOT0RFKFwiSW5maW5pdHlcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlRoZSBgSW5maW5pdHlgIHZhbHVlXCIsXG4gICAgdmFsdWU6IDEvMFxufSwgQVNUX0F0b20pO1xuXG52YXIgQVNUX0Jvb2xlYW4gPSBERUZOT0RFKFwiQm9vbGVhblwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgYm9vbGVhbnNcIixcbn0sIEFTVF9BdG9tKTtcblxudmFyIEFTVF9GYWxzZSA9IERFRk5PREUoXCJGYWxzZVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGBmYWxzZWAgYXRvbVwiLFxuICAgIHZhbHVlOiBmYWxzZVxufSwgQVNUX0Jvb2xlYW4pO1xuXG52YXIgQVNUX1RydWUgPSBERUZOT0RFKFwiVHJ1ZVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGB0cnVlYCBhdG9tXCIsXG4gICAgdmFsdWU6IHRydWVcbn0sIEFTVF9Cb29sZWFuKTtcblxuLyogLS0tLS1bIFRyZWVXYWxrZXIgXS0tLS0tICovXG5cbmZ1bmN0aW9uIFRyZWVXYWxrZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLnZpc2l0ID0gY2FsbGJhY2s7XG4gICAgdGhpcy5zdGFjayA9IFtdO1xufTtcblRyZWVXYWxrZXIucHJvdG90eXBlID0ge1xuICAgIF92aXNpdDogZnVuY3Rpb24obm9kZSwgZGVzY2VuZCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgIHZhciByZXQgPSB0aGlzLnZpc2l0KG5vZGUsIGRlc2NlbmQgPyBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZGVzY2VuZC5jYWxsKG5vZGUpO1xuICAgICAgICB9IDogbm9vcCk7XG4gICAgICAgIGlmICghcmV0ICYmIGRlc2NlbmQpIHtcbiAgICAgICAgICAgIGRlc2NlbmQuY2FsbChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG4gICAgcGFyZW50OiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMiAtIChuIHx8IDApXTtcbiAgICB9LFxuICAgIHB1c2g6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaChub2RlKTtcbiAgICB9LFxuICAgIHBvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrLnBvcCgpO1xuICAgIH0sXG4gICAgc2VsZjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gICAgfSxcbiAgICBmaW5kX3BhcmVudDogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgIHZhciB4ID0gc3RhY2tbaV07XG4gICAgICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIHR5cGUpIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYXNfZGlyZWN0aXZlOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRfcGFyZW50KEFTVF9TY29wZSkuaGFzX2RpcmVjdGl2ZSh0eXBlKTtcbiAgICB9LFxuICAgIGluX2Jvb2xlYW5fY29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgIHZhciBpID0gc3RhY2subGVuZ3RoLCBzZWxmID0gc3RhY2tbLS1pXTtcbiAgICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHN0YWNrWy0taV07XG4gICAgICAgICAgICBpZiAoKHAgaW5zdGFuY2VvZiBBU1RfSWYgICAgICAgICAgICYmIHAuY29uZGl0aW9uID09PSBzZWxmKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsICAmJiBwLmNvbmRpdGlvbiA9PT0gc2VsZikgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9EV0xvb3AgICAgICAgJiYgcC5jb25kaXRpb24gPT09IHNlbGYpIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfRm9yICAgICAgICAgICYmIHAuY29uZGl0aW9uID09PSBzZWxmKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX1VuYXJ5UHJlZml4ICAmJiBwLm9wZXJhdG9yID09IFwiIVwiICYmIHAuZXhwcmVzc2lvbiA9PT0gc2VsZikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShwIGluc3RhbmNlb2YgQVNUX0JpbmFyeSAmJiAocC5vcGVyYXRvciA9PSBcIiYmXCIgfHwgcC5vcGVyYXRvciA9PSBcInx8XCIpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBzZWxmID0gcDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9vcGNvbnRyb2xfdGFyZ2V0OiBmdW5jdGlvbihsYWJlbCkge1xuICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICBpZiAobGFiZWwpIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgdmFyIHggPSBzdGFja1tpXTtcbiAgICAgICAgICAgIGlmICh4IGluc3RhbmNlb2YgQVNUX0xhYmVsZWRTdGF0ZW1lbnQgJiYgeC5sYWJlbC5uYW1lID09IGxhYmVsLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHN0YWNrW2ldO1xuICAgICAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBBU1RfU3dpdGNoIHx8IHggaW5zdGFuY2VvZiBBU1RfSXRlcmF0aW9uU3RhdGVtZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgIFBhcnNlciBiYXNlZCBvbiBwYXJzZS1qcyAoaHR0cDovL21hcmlqbi5oYXZlcmJla2UubmwvcGFyc2UtanMvKS5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBLRVlXT1JEUyA9ICdicmVhayBjYXNlIGNhdGNoIGNvbnN0IGNvbnRpbnVlIGRlYnVnZ2VyIGRlZmF1bHQgZGVsZXRlIGRvIGVsc2UgZmluYWxseSBmb3IgZnVuY3Rpb24gaWYgaW4gaW5zdGFuY2VvZiBuZXcgcmV0dXJuIHN3aXRjaCB0aHJvdyB0cnkgdHlwZW9mIHZhciB2b2lkIHdoaWxlIHdpdGgnO1xudmFyIEtFWVdPUkRTX0FUT00gPSAnZmFsc2UgbnVsbCB0cnVlJztcbnZhciBSRVNFUlZFRF9XT1JEUyA9ICdhYnN0cmFjdCBib29sZWFuIGJ5dGUgY2hhciBjbGFzcyBkb3VibGUgZW51bSBleHBvcnQgZXh0ZW5kcyBmaW5hbCBmbG9hdCBnb3RvIGltcGxlbWVudHMgaW1wb3J0IGludCBpbnRlcmZhY2UgbG9uZyBuYXRpdmUgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgc2hvcnQgc3RhdGljIHN1cGVyIHN5bmNocm9uaXplZCB0aGlzIHRocm93cyB0cmFuc2llbnQgdm9sYXRpbGUgeWllbGQnXG4gICAgKyBcIiBcIiArIEtFWVdPUkRTX0FUT00gKyBcIiBcIiArIEtFWVdPUkRTO1xudmFyIEtFWVdPUkRTX0JFRk9SRV9FWFBSRVNTSU9OID0gJ3JldHVybiBuZXcgZGVsZXRlIHRocm93IGVsc2UgY2FzZSc7XG5cbktFWVdPUkRTID0gbWFrZVByZWRpY2F0ZShLRVlXT1JEUyk7XG5SRVNFUlZFRF9XT1JEUyA9IG1ha2VQcmVkaWNhdGUoUkVTRVJWRURfV09SRFMpO1xuS0VZV09SRFNfQkVGT1JFX0VYUFJFU1NJT04gPSBtYWtlUHJlZGljYXRlKEtFWVdPUkRTX0JFRk9SRV9FWFBSRVNTSU9OKTtcbktFWVdPUkRTX0FUT00gPSBtYWtlUHJlZGljYXRlKEtFWVdPUkRTX0FUT00pO1xuXG52YXIgT1BFUkFUT1JfQ0hBUlMgPSBtYWtlUHJlZGljYXRlKGNoYXJhY3RlcnMoXCIrLSomJT08PiE/fH5eXCIpKTtcblxudmFyIFJFX0hFWF9OVU1CRVIgPSAvXjB4WzAtOWEtZl0rJC9pO1xudmFyIFJFX09DVF9OVU1CRVIgPSAvXjBbMC03XSskLztcbnZhciBSRV9ERUNfTlVNQkVSID0gL15cXGQqXFwuP1xcZCooPzplWystXT9cXGQqKD86XFxkXFwuP3xcXC4/XFxkKVxcZCopPyQvaTtcblxudmFyIE9QRVJBVE9SUyA9IG1ha2VQcmVkaWNhdGUoW1xuICAgIFwiaW5cIixcbiAgICBcImluc3RhbmNlb2ZcIixcbiAgICBcInR5cGVvZlwiLFxuICAgIFwibmV3XCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJkZWxldGVcIixcbiAgICBcIisrXCIsXG4gICAgXCItLVwiLFxuICAgIFwiK1wiLFxuICAgIFwiLVwiLFxuICAgIFwiIVwiLFxuICAgIFwiflwiLFxuICAgIFwiJlwiLFxuICAgIFwifFwiLFxuICAgIFwiXlwiLFxuICAgIFwiKlwiLFxuICAgIFwiL1wiLFxuICAgIFwiJVwiLFxuICAgIFwiPj5cIixcbiAgICBcIjw8XCIsXG4gICAgXCI+Pj5cIixcbiAgICBcIjxcIixcbiAgICBcIj5cIixcbiAgICBcIjw9XCIsXG4gICAgXCI+PVwiLFxuICAgIFwiPT1cIixcbiAgICBcIj09PVwiLFxuICAgIFwiIT1cIixcbiAgICBcIiE9PVwiLFxuICAgIFwiP1wiLFxuICAgIFwiPVwiLFxuICAgIFwiKz1cIixcbiAgICBcIi09XCIsXG4gICAgXCIvPVwiLFxuICAgIFwiKj1cIixcbiAgICBcIiU9XCIsXG4gICAgXCI+Pj1cIixcbiAgICBcIjw8PVwiLFxuICAgIFwiPj4+PVwiLFxuICAgIFwifD1cIixcbiAgICBcIl49XCIsXG4gICAgXCImPVwiLFxuICAgIFwiJiZcIixcbiAgICBcInx8XCJcbl0pO1xuXG52YXIgV0hJVEVTUEFDRV9DSEFSUyA9IG1ha2VQcmVkaWNhdGUoY2hhcmFjdGVycyhcIiBcXHUwMGEwXFxuXFxyXFx0XFxmXFx1MDAwYlxcdTIwMGJcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcIikpO1xuXG52YXIgUFVOQ19CRUZPUkVfRVhQUkVTU0lPTiA9IG1ha2VQcmVkaWNhdGUoY2hhcmFjdGVycyhcIlt7KCwuOzpcIikpO1xuXG52YXIgUFVOQ19DSEFSUyA9IG1ha2VQcmVkaWNhdGUoY2hhcmFjdGVycyhcIltde30oKSw7OlwiKSk7XG5cbnZhciBSRUdFWFBfTU9ESUZJRVJTID0gbWFrZVByZWRpY2F0ZShjaGFyYWN0ZXJzKFwiZ21zaXlcIikpO1xuXG4vKiAtLS0tLVsgVG9rZW5pemVyIF0tLS0tLSAqL1xuXG4vLyByZWdleHBzIGFkYXB0ZWQgZnJvbSBodHRwOi8veHJlZ2V4cC5jb20vcGx1Z2lucy8jdW5pY29kZVxudmFyIFVOSUNPREUgPSB7XG4gICAgbGV0dGVyOiBuZXcgUmVnRXhwKFwiW1xcXFx1MDA0MS1cXFxcdTAwNUFcXFxcdTAwNjEtXFxcXHUwMDdBXFxcXHUwMEFBXFxcXHUwMEI1XFxcXHUwMEJBXFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkMxXFxcXHUwMkM2LVxcXFx1MDJEMVxcXFx1MDJFMC1cXFxcdTAyRTRcXFxcdTAyRUNcXFxcdTAyRUVcXFxcdTAzNzAtXFxcXHUwMzc0XFxcXHUwMzc2XFxcXHUwMzc3XFxcXHUwMzdBLVxcXFx1MDM3RFxcXFx1MDM4NlxcXFx1MDM4OC1cXFxcdTAzOEFcXFxcdTAzOENcXFxcdTAzOEUtXFxcXHUwM0ExXFxcXHUwM0EzLVxcXFx1MDNGNVxcXFx1MDNGNy1cXFxcdTA0ODFcXFxcdTA0OEEtXFxcXHUwNTIzXFxcXHUwNTMxLVxcXFx1MDU1NlxcXFx1MDU1OVxcXFx1MDU2MS1cXFxcdTA1ODdcXFxcdTA1RDAtXFxcXHUwNUVBXFxcXHUwNUYwLVxcXFx1MDVGMlxcXFx1MDYyMS1cXFxcdTA2NEFcXFxcdTA2NkVcXFxcdTA2NkZcXFxcdTA2NzEtXFxcXHUwNkQzXFxcXHUwNkQ1XFxcXHUwNkU1XFxcXHUwNkU2XFxcXHUwNkVFXFxcXHUwNkVGXFxcXHUwNkZBLVxcXFx1MDZGQ1xcXFx1MDZGRlxcXFx1MDcxMFxcXFx1MDcxMi1cXFxcdTA3MkZcXFxcdTA3NEQtXFxcXHUwN0E1XFxcXHUwN0IxXFxcXHUwN0NBLVxcXFx1MDdFQVxcXFx1MDdGNFxcXFx1MDdGNVxcXFx1MDdGQVxcXFx1MDkwNC1cXFxcdTA5MzlcXFxcdTA5M0RcXFxcdTA5NTBcXFxcdTA5NTgtXFxcXHUwOTYxXFxcXHUwOTcxXFxcXHUwOTcyXFxcXHUwOTdCLVxcXFx1MDk3RlxcXFx1MDk4NS1cXFxcdTA5OENcXFxcdTA5OEZcXFxcdTA5OTBcXFxcdTA5OTMtXFxcXHUwOUE4XFxcXHUwOUFBLVxcXFx1MDlCMFxcXFx1MDlCMlxcXFx1MDlCNi1cXFxcdTA5QjlcXFxcdTA5QkRcXFxcdTA5Q0VcXFxcdTA5RENcXFxcdTA5RERcXFxcdTA5REYtXFxcXHUwOUUxXFxcXHUwOUYwXFxcXHUwOUYxXFxcXHUwQTA1LVxcXFx1MEEwQVxcXFx1MEEwRlxcXFx1MEExMFxcXFx1MEExMy1cXFxcdTBBMjhcXFxcdTBBMkEtXFxcXHUwQTMwXFxcXHUwQTMyXFxcXHUwQTMzXFxcXHUwQTM1XFxcXHUwQTM2XFxcXHUwQTM4XFxcXHUwQTM5XFxcXHUwQTU5LVxcXFx1MEE1Q1xcXFx1MEE1RVxcXFx1MEE3Mi1cXFxcdTBBNzRcXFxcdTBBODUtXFxcXHUwQThEXFxcXHUwQThGLVxcXFx1MEE5MVxcXFx1MEE5My1cXFxcdTBBQThcXFxcdTBBQUEtXFxcXHUwQUIwXFxcXHUwQUIyXFxcXHUwQUIzXFxcXHUwQUI1LVxcXFx1MEFCOVxcXFx1MEFCRFxcXFx1MEFEMFxcXFx1MEFFMFxcXFx1MEFFMVxcXFx1MEIwNS1cXFxcdTBCMENcXFxcdTBCMEZcXFxcdTBCMTBcXFxcdTBCMTMtXFxcXHUwQjI4XFxcXHUwQjJBLVxcXFx1MEIzMFxcXFx1MEIzMlxcXFx1MEIzM1xcXFx1MEIzNS1cXFxcdTBCMzlcXFxcdTBCM0RcXFxcdTBCNUNcXFxcdTBCNURcXFxcdTBCNUYtXFxcXHUwQjYxXFxcXHUwQjcxXFxcXHUwQjgzXFxcXHUwQjg1LVxcXFx1MEI4QVxcXFx1MEI4RS1cXFxcdTBCOTBcXFxcdTBCOTItXFxcXHUwQjk1XFxcXHUwQjk5XFxcXHUwQjlBXFxcXHUwQjlDXFxcXHUwQjlFXFxcXHUwQjlGXFxcXHUwQkEzXFxcXHUwQkE0XFxcXHUwQkE4LVxcXFx1MEJBQVxcXFx1MEJBRS1cXFxcdTBCQjlcXFxcdTBCRDBcXFxcdTBDMDUtXFxcXHUwQzBDXFxcXHUwQzBFLVxcXFx1MEMxMFxcXFx1MEMxMi1cXFxcdTBDMjhcXFxcdTBDMkEtXFxcXHUwQzMzXFxcXHUwQzM1LVxcXFx1MEMzOVxcXFx1MEMzRFxcXFx1MEM1OFxcXFx1MEM1OVxcXFx1MEM2MFxcXFx1MEM2MVxcXFx1MEM4NS1cXFxcdTBDOENcXFxcdTBDOEUtXFxcXHUwQzkwXFxcXHUwQzkyLVxcXFx1MENBOFxcXFx1MENBQS1cXFxcdTBDQjNcXFxcdTBDQjUtXFxcXHUwQ0I5XFxcXHUwQ0JEXFxcXHUwQ0RFXFxcXHUwQ0UwXFxcXHUwQ0UxXFxcXHUwRDA1LVxcXFx1MEQwQ1xcXFx1MEQwRS1cXFxcdTBEMTBcXFxcdTBEMTItXFxcXHUwRDI4XFxcXHUwRDJBLVxcXFx1MEQzOVxcXFx1MEQzRFxcXFx1MEQ2MFxcXFx1MEQ2MVxcXFx1MEQ3QS1cXFxcdTBEN0ZcXFxcdTBEODUtXFxcXHUwRDk2XFxcXHUwRDlBLVxcXFx1MERCMVxcXFx1MERCMy1cXFxcdTBEQkJcXFxcdTBEQkRcXFxcdTBEQzAtXFxcXHUwREM2XFxcXHUwRTAxLVxcXFx1MEUzMFxcXFx1MEUzMlxcXFx1MEUzM1xcXFx1MEU0MC1cXFxcdTBFNDZcXFxcdTBFODFcXFxcdTBFODJcXFxcdTBFODRcXFxcdTBFODdcXFxcdTBFODhcXFxcdTBFOEFcXFxcdTBFOERcXFxcdTBFOTQtXFxcXHUwRTk3XFxcXHUwRTk5LVxcXFx1MEU5RlxcXFx1MEVBMS1cXFxcdTBFQTNcXFxcdTBFQTVcXFxcdTBFQTdcXFxcdTBFQUFcXFxcdTBFQUJcXFxcdTBFQUQtXFxcXHUwRUIwXFxcXHUwRUIyXFxcXHUwRUIzXFxcXHUwRUJEXFxcXHUwRUMwLVxcXFx1MEVDNFxcXFx1MEVDNlxcXFx1MEVEQ1xcXFx1MEVERFxcXFx1MEYwMFxcXFx1MEY0MC1cXFxcdTBGNDdcXFxcdTBGNDktXFxcXHUwRjZDXFxcXHUwRjg4LVxcXFx1MEY4QlxcXFx1MTAwMC1cXFxcdTEwMkFcXFxcdTEwM0ZcXFxcdTEwNTAtXFxcXHUxMDU1XFxcXHUxMDVBLVxcXFx1MTA1RFxcXFx1MTA2MVxcXFx1MTA2NVxcXFx1MTA2NlxcXFx1MTA2RS1cXFxcdTEwNzBcXFxcdTEwNzUtXFxcXHUxMDgxXFxcXHUxMDhFXFxcXHUxMEEwLVxcXFx1MTBDNVxcXFx1MTBEMC1cXFxcdTEwRkFcXFxcdTEwRkNcXFxcdTExMDAtXFxcXHUxMTU5XFxcXHUxMTVGLVxcXFx1MTFBMlxcXFx1MTFBOC1cXFxcdTExRjlcXFxcdTEyMDAtXFxcXHUxMjQ4XFxcXHUxMjRBLVxcXFx1MTI0RFxcXFx1MTI1MC1cXFxcdTEyNTZcXFxcdTEyNThcXFxcdTEyNUEtXFxcXHUxMjVEXFxcXHUxMjYwLVxcXFx1MTI4OFxcXFx1MTI4QS1cXFxcdTEyOERcXFxcdTEyOTAtXFxcXHUxMkIwXFxcXHUxMkIyLVxcXFx1MTJCNVxcXFx1MTJCOC1cXFxcdTEyQkVcXFxcdTEyQzBcXFxcdTEyQzItXFxcXHUxMkM1XFxcXHUxMkM4LVxcXFx1MTJENlxcXFx1MTJEOC1cXFxcdTEzMTBcXFxcdTEzMTItXFxcXHUxMzE1XFxcXHUxMzE4LVxcXFx1MTM1QVxcXFx1MTM4MC1cXFxcdTEzOEZcXFxcdTEzQTAtXFxcXHUxM0Y0XFxcXHUxNDAxLVxcXFx1MTY2Q1xcXFx1MTY2Ri1cXFxcdTE2NzZcXFxcdTE2ODEtXFxcXHUxNjlBXFxcXHUxNkEwLVxcXFx1MTZFQVxcXFx1MTcwMC1cXFxcdTE3MENcXFxcdTE3MEUtXFxcXHUxNzExXFxcXHUxNzIwLVxcXFx1MTczMVxcXFx1MTc0MC1cXFxcdTE3NTFcXFxcdTE3NjAtXFxcXHUxNzZDXFxcXHUxNzZFLVxcXFx1MTc3MFxcXFx1MTc4MC1cXFxcdTE3QjNcXFxcdTE3RDdcXFxcdTE3RENcXFxcdTE4MjAtXFxcXHUxODc3XFxcXHUxODgwLVxcXFx1MThBOFxcXFx1MThBQVxcXFx1MTkwMC1cXFxcdTE5MUNcXFxcdTE5NTAtXFxcXHUxOTZEXFxcXHUxOTcwLVxcXFx1MTk3NFxcXFx1MTk4MC1cXFxcdTE5QTlcXFxcdTE5QzEtXFxcXHUxOUM3XFxcXHUxQTAwLVxcXFx1MUExNlxcXFx1MUIwNS1cXFxcdTFCMzNcXFxcdTFCNDUtXFxcXHUxQjRCXFxcXHUxQjgzLVxcXFx1MUJBMFxcXFx1MUJBRVxcXFx1MUJBRlxcXFx1MUMwMC1cXFxcdTFDMjNcXFxcdTFDNEQtXFxcXHUxQzRGXFxcXHUxQzVBLVxcXFx1MUM3RFxcXFx1MUQwMC1cXFxcdTFEQkZcXFxcdTFFMDAtXFxcXHUxRjE1XFxcXHUxRjE4LVxcXFx1MUYxRFxcXFx1MUYyMC1cXFxcdTFGNDVcXFxcdTFGNDgtXFxcXHUxRjREXFxcXHUxRjUwLVxcXFx1MUY1N1xcXFx1MUY1OVxcXFx1MUY1QlxcXFx1MUY1RFxcXFx1MUY1Ri1cXFxcdTFGN0RcXFxcdTFGODAtXFxcXHUxRkI0XFxcXHUxRkI2LVxcXFx1MUZCQ1xcXFx1MUZCRVxcXFx1MUZDMi1cXFxcdTFGQzRcXFxcdTFGQzYtXFxcXHUxRkNDXFxcXHUxRkQwLVxcXFx1MUZEM1xcXFx1MUZENi1cXFxcdTFGREJcXFxcdTFGRTAtXFxcXHUxRkVDXFxcXHUxRkYyLVxcXFx1MUZGNFxcXFx1MUZGNi1cXFxcdTFGRkNcXFxcdTIwNzFcXFxcdTIwN0ZcXFxcdTIwOTAtXFxcXHUyMDk0XFxcXHUyMTAyXFxcXHUyMTA3XFxcXHUyMTBBLVxcXFx1MjExM1xcXFx1MjExNVxcXFx1MjExOS1cXFxcdTIxMURcXFxcdTIxMjRcXFxcdTIxMjZcXFxcdTIxMjhcXFxcdTIxMkEtXFxcXHUyMTJEXFxcXHUyMTJGLVxcXFx1MjEzOVxcXFx1MjEzQy1cXFxcdTIxM0ZcXFxcdTIxNDUtXFxcXHUyMTQ5XFxcXHUyMTRFXFxcXHUyMTgzXFxcXHUyMTg0XFxcXHUyQzAwLVxcXFx1MkMyRVxcXFx1MkMzMC1cXFxcdTJDNUVcXFxcdTJDNjAtXFxcXHUyQzZGXFxcXHUyQzcxLVxcXFx1MkM3RFxcXFx1MkM4MC1cXFxcdTJDRTRcXFxcdTJEMDAtXFxcXHUyRDI1XFxcXHUyRDMwLVxcXFx1MkQ2NVxcXFx1MkQ2RlxcXFx1MkQ4MC1cXFxcdTJEOTZcXFxcdTJEQTAtXFxcXHUyREE2XFxcXHUyREE4LVxcXFx1MkRBRVxcXFx1MkRCMC1cXFxcdTJEQjZcXFxcdTJEQjgtXFxcXHUyREJFXFxcXHUyREMwLVxcXFx1MkRDNlxcXFx1MkRDOC1cXFxcdTJEQ0VcXFxcdTJERDAtXFxcXHUyREQ2XFxcXHUyREQ4LVxcXFx1MkRERVxcXFx1MkUyRlxcXFx1MzAwNVxcXFx1MzAwNlxcXFx1MzAzMS1cXFxcdTMwMzVcXFxcdTMwM0JcXFxcdTMwM0NcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDlELVxcXFx1MzA5RlxcXFx1MzBBMS1cXFxcdTMwRkFcXFxcdTMwRkMtXFxcXHUzMEZGXFxcXHUzMTA1LVxcXFx1MzEyRFxcXFx1MzEzMS1cXFxcdTMxOEVcXFxcdTMxQTAtXFxcXHUzMUI3XFxcXHUzMUYwLVxcXFx1MzFGRlxcXFx1MzQwMFxcXFx1NERCNVxcXFx1NEUwMFxcXFx1OUZDM1xcXFx1QTAwMC1cXFxcdUE0OENcXFxcdUE1MDAtXFxcXHVBNjBDXFxcXHVBNjEwLVxcXFx1QTYxRlxcXFx1QTYyQVxcXFx1QTYyQlxcXFx1QTY0MC1cXFxcdUE2NUZcXFxcdUE2NjItXFxcXHVBNjZFXFxcXHVBNjdGLVxcXFx1QTY5N1xcXFx1QTcxNy1cXFxcdUE3MUZcXFxcdUE3MjItXFxcXHVBNzg4XFxcXHVBNzhCXFxcXHVBNzhDXFxcXHVBN0ZCLVxcXFx1QTgwMVxcXFx1QTgwMy1cXFxcdUE4MDVcXFxcdUE4MDctXFxcXHVBODBBXFxcXHVBODBDLVxcXFx1QTgyMlxcXFx1QTg0MC1cXFxcdUE4NzNcXFxcdUE4ODItXFxcXHVBOEIzXFxcXHVBOTBBLVxcXFx1QTkyNVxcXFx1QTkzMC1cXFxcdUE5NDZcXFxcdUFBMDAtXFxcXHVBQTI4XFxcXHVBQTQwLVxcXFx1QUE0MlxcXFx1QUE0NC1cXFxcdUFBNEJcXFxcdUFDMDBcXFxcdUQ3QTNcXFxcdUY5MDAtXFxcXHVGQTJEXFxcXHVGQTMwLVxcXFx1RkE2QVxcXFx1RkE3MC1cXFxcdUZBRDlcXFxcdUZCMDAtXFxcXHVGQjA2XFxcXHVGQjEzLVxcXFx1RkIxN1xcXFx1RkIxRFxcXFx1RkIxRi1cXFxcdUZCMjhcXFxcdUZCMkEtXFxcXHVGQjM2XFxcXHVGQjM4LVxcXFx1RkIzQ1xcXFx1RkIzRVxcXFx1RkI0MFxcXFx1RkI0MVxcXFx1RkI0M1xcXFx1RkI0NFxcXFx1RkI0Ni1cXFxcdUZCQjFcXFxcdUZCRDMtXFxcXHVGRDNEXFxcXHVGRDUwLVxcXFx1RkQ4RlxcXFx1RkQ5Mi1cXFxcdUZEQzdcXFxcdUZERjAtXFxcXHVGREZCXFxcXHVGRTcwLVxcXFx1RkU3NFxcXFx1RkU3Ni1cXFxcdUZFRkNcXFxcdUZGMjEtXFxcXHVGRjNBXFxcXHVGRjQxLVxcXFx1RkY1QVxcXFx1RkY2Ni1cXFxcdUZGQkVcXFxcdUZGQzItXFxcXHVGRkM3XFxcXHVGRkNBLVxcXFx1RkZDRlxcXFx1RkZEMi1cXFxcdUZGRDdcXFxcdUZGREEtXFxcXHVGRkRDXVwiKSxcbiAgICBub25fc3BhY2luZ19tYXJrOiBuZXcgUmVnRXhwKFwiW1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTA0ODMtXFxcXHUwNDg3XFxcXHUwNTkxLVxcXFx1MDVCRFxcXFx1MDVCRlxcXFx1MDVDMVxcXFx1MDVDMlxcXFx1MDVDNFxcXFx1MDVDNVxcXFx1MDVDN1xcXFx1MDYxMC1cXFxcdTA2MUFcXFxcdTA2NEItXFxcXHUwNjVFXFxcXHUwNjcwXFxcXHUwNkQ2LVxcXFx1MDZEQ1xcXFx1MDZERi1cXFxcdTA2RTRcXFxcdTA2RTdcXFxcdTA2RThcXFxcdTA2RUEtXFxcXHUwNkVEXFxcXHUwNzExXFxcXHUwNzMwLVxcXFx1MDc0QVxcXFx1MDdBNi1cXFxcdTA3QjBcXFxcdTA3RUItXFxcXHUwN0YzXFxcXHUwODE2LVxcXFx1MDgxOVxcXFx1MDgxQi1cXFxcdTA4MjNcXFxcdTA4MjUtXFxcXHUwODI3XFxcXHUwODI5LVxcXFx1MDgyRFxcXFx1MDkwMC1cXFxcdTA5MDJcXFxcdTA5M0NcXFxcdTA5NDEtXFxcXHUwOTQ4XFxcXHUwOTREXFxcXHUwOTUxLVxcXFx1MDk1NVxcXFx1MDk2MlxcXFx1MDk2M1xcXFx1MDk4MVxcXFx1MDlCQ1xcXFx1MDlDMS1cXFxcdTA5QzRcXFxcdTA5Q0RcXFxcdTA5RTJcXFxcdTA5RTNcXFxcdTBBMDFcXFxcdTBBMDJcXFxcdTBBM0NcXFxcdTBBNDFcXFxcdTBBNDJcXFxcdTBBNDdcXFxcdTBBNDhcXFxcdTBBNEItXFxcXHUwQTREXFxcXHUwQTUxXFxcXHUwQTcwXFxcXHUwQTcxXFxcXHUwQTc1XFxcXHUwQTgxXFxcXHUwQTgyXFxcXHUwQUJDXFxcXHUwQUMxLVxcXFx1MEFDNVxcXFx1MEFDN1xcXFx1MEFDOFxcXFx1MEFDRFxcXFx1MEFFMlxcXFx1MEFFM1xcXFx1MEIwMVxcXFx1MEIzQ1xcXFx1MEIzRlxcXFx1MEI0MS1cXFxcdTBCNDRcXFxcdTBCNERcXFxcdTBCNTZcXFxcdTBCNjJcXFxcdTBCNjNcXFxcdTBCODJcXFxcdTBCQzBcXFxcdTBCQ0RcXFxcdTBDM0UtXFxcXHUwQzQwXFxcXHUwQzQ2LVxcXFx1MEM0OFxcXFx1MEM0QS1cXFxcdTBDNERcXFxcdTBDNTVcXFxcdTBDNTZcXFxcdTBDNjJcXFxcdTBDNjNcXFxcdTBDQkNcXFxcdTBDQkZcXFxcdTBDQzZcXFxcdTBDQ0NcXFxcdTBDQ0RcXFxcdTBDRTJcXFxcdTBDRTNcXFxcdTBENDEtXFxcXHUwRDQ0XFxcXHUwRDREXFxcXHUwRDYyXFxcXHUwRDYzXFxcXHUwRENBXFxcXHUwREQyLVxcXFx1MERENFxcXFx1MERENlxcXFx1MEUzMVxcXFx1MEUzNC1cXFxcdTBFM0FcXFxcdTBFNDctXFxcXHUwRTRFXFxcXHUwRUIxXFxcXHUwRUI0LVxcXFx1MEVCOVxcXFx1MEVCQlxcXFx1MEVCQ1xcXFx1MEVDOC1cXFxcdTBFQ0RcXFxcdTBGMThcXFxcdTBGMTlcXFxcdTBGMzVcXFxcdTBGMzdcXFxcdTBGMzlcXFxcdTBGNzEtXFxcXHUwRjdFXFxcXHUwRjgwLVxcXFx1MEY4NFxcXFx1MEY4NlxcXFx1MEY4N1xcXFx1MEY5MC1cXFxcdTBGOTdcXFxcdTBGOTktXFxcXHUwRkJDXFxcXHUwRkM2XFxcXHUxMDJELVxcXFx1MTAzMFxcXFx1MTAzMi1cXFxcdTEwMzdcXFxcdTEwMzlcXFxcdTEwM0FcXFxcdTEwM0RcXFxcdTEwM0VcXFxcdTEwNThcXFxcdTEwNTlcXFxcdTEwNUUtXFxcXHUxMDYwXFxcXHUxMDcxLVxcXFx1MTA3NFxcXFx1MTA4MlxcXFx1MTA4NVxcXFx1MTA4NlxcXFx1MTA4RFxcXFx1MTA5RFxcXFx1MTM1RlxcXFx1MTcxMi1cXFxcdTE3MTRcXFxcdTE3MzItXFxcXHUxNzM0XFxcXHUxNzUyXFxcXHUxNzUzXFxcXHUxNzcyXFxcXHUxNzczXFxcXHUxN0I3LVxcXFx1MTdCRFxcXFx1MTdDNlxcXFx1MTdDOS1cXFxcdTE3RDNcXFxcdTE3RERcXFxcdTE4MEItXFxcXHUxODBEXFxcXHUxOEE5XFxcXHUxOTIwLVxcXFx1MTkyMlxcXFx1MTkyN1xcXFx1MTkyOFxcXFx1MTkzMlxcXFx1MTkzOS1cXFxcdTE5M0JcXFxcdTFBMTdcXFxcdTFBMThcXFxcdTFBNTZcXFxcdTFBNTgtXFxcXHUxQTVFXFxcXHUxQTYwXFxcXHUxQTYyXFxcXHUxQTY1LVxcXFx1MUE2Q1xcXFx1MUE3My1cXFxcdTFBN0NcXFxcdTFBN0ZcXFxcdTFCMDAtXFxcXHUxQjAzXFxcXHUxQjM0XFxcXHUxQjM2LVxcXFx1MUIzQVxcXFx1MUIzQ1xcXFx1MUI0MlxcXFx1MUI2Qi1cXFxcdTFCNzNcXFxcdTFCODBcXFxcdTFCODFcXFxcdTFCQTItXFxcXHUxQkE1XFxcXHUxQkE4XFxcXHUxQkE5XFxcXHUxQzJDLVxcXFx1MUMzM1xcXFx1MUMzNlxcXFx1MUMzN1xcXFx1MUNEMC1cXFxcdTFDRDJcXFxcdTFDRDQtXFxcXHUxQ0UwXFxcXHUxQ0UyLVxcXFx1MUNFOFxcXFx1MUNFRFxcXFx1MURDMC1cXFxcdTFERTZcXFxcdTFERkQtXFxcXHUxREZGXFxcXHUyMEQwLVxcXFx1MjBEQ1xcXFx1MjBFMVxcXFx1MjBFNS1cXFxcdTIwRjBcXFxcdTJDRUYtXFxcXHUyQ0YxXFxcXHUyREUwLVxcXFx1MkRGRlxcXFx1MzAyQS1cXFxcdTMwMkZcXFxcdTMwOTlcXFxcdTMwOUFcXFxcdUE2NkZcXFxcdUE2N0NcXFxcdUE2N0RcXFxcdUE2RjBcXFxcdUE2RjFcXFxcdUE4MDJcXFxcdUE4MDZcXFxcdUE4MEJcXFxcdUE4MjVcXFxcdUE4MjZcXFxcdUE4QzRcXFxcdUE4RTAtXFxcXHVBOEYxXFxcXHVBOTI2LVxcXFx1QTkyRFxcXFx1QTk0Ny1cXFxcdUE5NTFcXFxcdUE5ODAtXFxcXHVBOTgyXFxcXHVBOUIzXFxcXHVBOUI2LVxcXFx1QTlCOVxcXFx1QTlCQ1xcXFx1QUEyOS1cXFxcdUFBMkVcXFxcdUFBMzFcXFxcdUFBMzJcXFxcdUFBMzVcXFxcdUFBMzZcXFxcdUFBNDNcXFxcdUFBNENcXFxcdUFBQjBcXFxcdUFBQjItXFxcXHVBQUI0XFxcXHVBQUI3XFxcXHVBQUI4XFxcXHVBQUJFXFxcXHVBQUJGXFxcXHVBQUMxXFxcXHVBQkU1XFxcXHVBQkU4XFxcXHVBQkVEXFxcXHVGQjFFXFxcXHVGRTAwLVxcXFx1RkUwRlxcXFx1RkUyMC1cXFxcdUZFMjZdXCIpLFxuICAgIHNwYWNlX2NvbWJpbmluZ19tYXJrOiBuZXcgUmVnRXhwKFwiW1xcXFx1MDkwM1xcXFx1MDkzRS1cXFxcdTA5NDBcXFxcdTA5NDktXFxcXHUwOTRDXFxcXHUwOTRFXFxcXHUwOTgyXFxcXHUwOTgzXFxcXHUwOUJFLVxcXFx1MDlDMFxcXFx1MDlDN1xcXFx1MDlDOFxcXFx1MDlDQlxcXFx1MDlDQ1xcXFx1MDlEN1xcXFx1MEEwM1xcXFx1MEEzRS1cXFxcdTBBNDBcXFxcdTBBODNcXFxcdTBBQkUtXFxcXHUwQUMwXFxcXHUwQUM5XFxcXHUwQUNCXFxcXHUwQUNDXFxcXHUwQjAyXFxcXHUwQjAzXFxcXHUwQjNFXFxcXHUwQjQwXFxcXHUwQjQ3XFxcXHUwQjQ4XFxcXHUwQjRCXFxcXHUwQjRDXFxcXHUwQjU3XFxcXHUwQkJFXFxcXHUwQkJGXFxcXHUwQkMxXFxcXHUwQkMyXFxcXHUwQkM2LVxcXFx1MEJDOFxcXFx1MEJDQS1cXFxcdTBCQ0NcXFxcdTBCRDdcXFxcdTBDMDEtXFxcXHUwQzAzXFxcXHUwQzQxLVxcXFx1MEM0NFxcXFx1MEM4MlxcXFx1MEM4M1xcXFx1MENCRVxcXFx1MENDMC1cXFxcdTBDQzRcXFxcdTBDQzdcXFxcdTBDQzhcXFxcdTBDQ0FcXFxcdTBDQ0JcXFxcdTBDRDVcXFxcdTBDRDZcXFxcdTBEMDJcXFxcdTBEMDNcXFxcdTBEM0UtXFxcXHUwRDQwXFxcXHUwRDQ2LVxcXFx1MEQ0OFxcXFx1MEQ0QS1cXFxcdTBENENcXFxcdTBENTdcXFxcdTBEODJcXFxcdTBEODNcXFxcdTBEQ0YtXFxcXHUwREQxXFxcXHUwREQ4LVxcXFx1MERERlxcXFx1MERGMlxcXFx1MERGM1xcXFx1MEYzRVxcXFx1MEYzRlxcXFx1MEY3RlxcXFx1MTAyQlxcXFx1MTAyQ1xcXFx1MTAzMVxcXFx1MTAzOFxcXFx1MTAzQlxcXFx1MTAzQ1xcXFx1MTA1NlxcXFx1MTA1N1xcXFx1MTA2Mi1cXFxcdTEwNjRcXFxcdTEwNjctXFxcXHUxMDZEXFxcXHUxMDgzXFxcXHUxMDg0XFxcXHUxMDg3LVxcXFx1MTA4Q1xcXFx1MTA4RlxcXFx1MTA5QS1cXFxcdTEwOUNcXFxcdTE3QjZcXFxcdTE3QkUtXFxcXHUxN0M1XFxcXHUxN0M3XFxcXHUxN0M4XFxcXHUxOTIzLVxcXFx1MTkyNlxcXFx1MTkyOS1cXFxcdTE5MkJcXFxcdTE5MzBcXFxcdTE5MzFcXFxcdTE5MzMtXFxcXHUxOTM4XFxcXHUxOUIwLVxcXFx1MTlDMFxcXFx1MTlDOFxcXFx1MTlDOVxcXFx1MUExOS1cXFxcdTFBMUJcXFxcdTFBNTVcXFxcdTFBNTdcXFxcdTFBNjFcXFxcdTFBNjNcXFxcdTFBNjRcXFxcdTFBNkQtXFxcXHUxQTcyXFxcXHUxQjA0XFxcXHUxQjM1XFxcXHUxQjNCXFxcXHUxQjNELVxcXFx1MUI0MVxcXFx1MUI0M1xcXFx1MUI0NFxcXFx1MUI4MlxcXFx1MUJBMVxcXFx1MUJBNlxcXFx1MUJBN1xcXFx1MUJBQVxcXFx1MUMyNC1cXFxcdTFDMkJcXFxcdTFDMzRcXFxcdTFDMzVcXFxcdTFDRTFcXFxcdTFDRjJcXFxcdUE4MjNcXFxcdUE4MjRcXFxcdUE4MjdcXFxcdUE4ODBcXFxcdUE4ODFcXFxcdUE4QjQtXFxcXHVBOEMzXFxcXHVBOTUyXFxcXHVBOTUzXFxcXHVBOTgzXFxcXHVBOUI0XFxcXHVBOUI1XFxcXHVBOUJBXFxcXHVBOUJCXFxcXHVBOUJELVxcXFx1QTlDMFxcXFx1QUEyRlxcXFx1QUEzMFxcXFx1QUEzM1xcXFx1QUEzNFxcXFx1QUE0RFxcXFx1QUE3QlxcXFx1QUJFM1xcXFx1QUJFNFxcXFx1QUJFNlxcXFx1QUJFN1xcXFx1QUJFOVxcXFx1QUJFQVxcXFx1QUJFQ11cIiksXG4gICAgY29ubmVjdG9yX3B1bmN0dWF0aW9uOiBuZXcgUmVnRXhwKFwiW1xcXFx1MDA1RlxcXFx1MjAzRlxcXFx1MjA0MFxcXFx1MjA1NFxcXFx1RkUzM1xcXFx1RkUzNFxcXFx1RkU0RC1cXFxcdUZFNEZcXFxcdUZGM0ZdXCIpXG59O1xuXG5mdW5jdGlvbiBpc19sZXR0ZXIoY29kZSkge1xuICAgIHJldHVybiAoY29kZSA+PSA5NyAmJiBjb2RlIDw9IDEyMilcbiAgICAgICAgfHwgKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA5MClcbiAgICAgICAgfHwgKGNvZGUgPj0gMHhhYSAmJiBVTklDT0RFLmxldHRlci50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSkpKTtcbn07XG5cbmZ1bmN0aW9uIGlzX2RpZ2l0KGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSA0OCAmJiBjb2RlIDw9IDU3OyAvL1hYWDogZmluZCBvdXQgaWYgXCJVbmljb2RlRGlnaXRcIiBtZWFucyBzb21ldGhpbmcgZWxzZSB0aGFuIDAuLjlcbn07XG5cbmZ1bmN0aW9uIGlzX2FscGhhbnVtZXJpY19jaGFyKGNvZGUpIHtcbiAgICByZXR1cm4gaXNfZGlnaXQoY29kZSkgfHwgaXNfbGV0dGVyKGNvZGUpO1xufTtcblxuZnVuY3Rpb24gaXNfdW5pY29kZV9jb21iaW5pbmdfbWFyayhjaCkge1xuICAgIHJldHVybiBVTklDT0RFLm5vbl9zcGFjaW5nX21hcmsudGVzdChjaCkgfHwgVU5JQ09ERS5zcGFjZV9jb21iaW5pbmdfbWFyay50ZXN0KGNoKTtcbn07XG5cbmZ1bmN0aW9uIGlzX3VuaWNvZGVfY29ubmVjdG9yX3B1bmN0dWF0aW9uKGNoKSB7XG4gICAgcmV0dXJuIFVOSUNPREUuY29ubmVjdG9yX3B1bmN0dWF0aW9uLnRlc3QoY2gpO1xufTtcblxuZnVuY3Rpb24gaXNfaWRlbnRpZmllcihuYW1lKSB7XG4gICAgcmV0dXJuICFSRVNFUlZFRF9XT1JEUyhuYW1lKSAmJiAvXlthLXpfJF1bYS16MC05XyRdKiQvaS50ZXN0KG5hbWUpO1xufTtcblxuZnVuY3Rpb24gaXNfaWRlbnRpZmllcl9zdGFydChjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPT0gMzYgfHwgY29kZSA9PSA5NSB8fCBpc19sZXR0ZXIoY29kZSk7XG59O1xuXG5mdW5jdGlvbiBpc19pZGVudGlmaWVyX2NoYXIoY2gpIHtcbiAgICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgcmV0dXJuIGlzX2lkZW50aWZpZXJfc3RhcnQoY29kZSlcbiAgICAgICAgfHwgaXNfZGlnaXQoY29kZSlcbiAgICAgICAgfHwgY29kZSA9PSA4MjA0IC8vIFxcdTIwMGM6IHplcm8td2lkdGggbm9uLWpvaW5lciA8WldOSj5cbiAgICAgICAgfHwgY29kZSA9PSA4MjA1IC8vIFxcdTIwMGQ6IHplcm8td2lkdGggam9pbmVyIDxaV0o+IChpbiBteSBFQ01BLTI2MiBQREYsIHRoaXMgaXMgYWxzbyAyMDBjKVxuICAgICAgICB8fCBpc191bmljb2RlX2NvbWJpbmluZ19tYXJrKGNoKVxuICAgICAgICB8fCBpc191bmljb2RlX2Nvbm5lY3Rvcl9wdW5jdHVhdGlvbihjaClcbiAgICA7XG59O1xuXG5mdW5jdGlvbiBpc19pZGVudGlmaWVyX3N0cmluZyhzdHIpe1xuICAgIHJldHVybiAvXlthLXpfJF1bYS16MC05XyRdKiQvaS50ZXN0KHN0cik7XG59O1xuXG5mdW5jdGlvbiBwYXJzZV9qc19udW1iZXIobnVtKSB7XG4gICAgaWYgKFJFX0hFWF9OVU1CRVIudGVzdChudW0pKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChudW0uc3Vic3RyKDIpLCAxNik7XG4gICAgfSBlbHNlIGlmIChSRV9PQ1RfTlVNQkVSLnRlc3QobnVtKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQobnVtLnN1YnN0cigxKSwgOCk7XG4gICAgfSBlbHNlIGlmIChSRV9ERUNfTlVNQkVSLnRlc3QobnVtKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChudW0pO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIEpTX1BhcnNlX0Vycm9yKG1lc3NhZ2UsIGxpbmUsIGNvbCwgcG9zKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIHRoaXMuY29sID0gY29sO1xuICAgIHRoaXMucG9zID0gcG9zO1xuICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn07XG5cbkpTX1BhcnNlX0Vycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2UgKyBcIiAobGluZTogXCIgKyB0aGlzLmxpbmUgKyBcIiwgY29sOiBcIiArIHRoaXMuY29sICsgXCIsIHBvczogXCIgKyB0aGlzLnBvcyArIFwiKVwiICsgXCJcXG5cXG5cIiArIHRoaXMuc3RhY2s7XG59O1xuXG5mdW5jdGlvbiBqc19lcnJvcihtZXNzYWdlLCBmaWxlbmFtZSwgbGluZSwgY29sLCBwb3MpIHtcbiAgICB0aHJvdyBuZXcgSlNfUGFyc2VfRXJyb3IobWVzc2FnZSwgbGluZSwgY29sLCBwb3MpO1xufTtcblxuZnVuY3Rpb24gaXNfdG9rZW4odG9rZW4sIHR5cGUsIHZhbCkge1xuICAgIHJldHVybiB0b2tlbi50eXBlID09IHR5cGUgJiYgKHZhbCA9PSBudWxsIHx8IHRva2VuLnZhbHVlID09IHZhbCk7XG59O1xuXG52YXIgRVhfRU9GID0ge307XG5cbmZ1bmN0aW9uIHRva2VuaXplcigkVEVYVCwgZmlsZW5hbWUsIGh0bWw1X2NvbW1lbnRzKSB7XG5cbiAgICB2YXIgUyA9IHtcbiAgICAgICAgdGV4dCAgICAgICAgICAgIDogJFRFWFQucmVwbGFjZSgvXFxyXFxuP3xbXFxuXFx1MjAyOFxcdTIwMjldL2csIFwiXFxuXCIpLnJlcGxhY2UoL1xcdUZFRkYvZywgJycpLFxuICAgICAgICBmaWxlbmFtZSAgICAgICAgOiBmaWxlbmFtZSxcbiAgICAgICAgcG9zICAgICAgICAgICAgIDogMCxcbiAgICAgICAgdG9rcG9zICAgICAgICAgIDogMCxcbiAgICAgICAgbGluZSAgICAgICAgICAgIDogMSxcbiAgICAgICAgdG9rbGluZSAgICAgICAgIDogMCxcbiAgICAgICAgY29sICAgICAgICAgICAgIDogMCxcbiAgICAgICAgdG9rY29sICAgICAgICAgIDogMCxcbiAgICAgICAgbmV3bGluZV9iZWZvcmUgIDogZmFsc2UsXG4gICAgICAgIHJlZ2V4X2FsbG93ZWQgICA6IGZhbHNlLFxuICAgICAgICBjb21tZW50c19iZWZvcmUgOiBbXVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwZWVrKCkgeyByZXR1cm4gUy50ZXh0LmNoYXJBdChTLnBvcyk7IH07XG5cbiAgICBmdW5jdGlvbiBuZXh0KHNpZ25hbF9lb2YsIGluX3N0cmluZykge1xuICAgICAgICB2YXIgY2ggPSBTLnRleHQuY2hhckF0KFMucG9zKyspO1xuICAgICAgICBpZiAoc2lnbmFsX2VvZiAmJiAhY2gpXG4gICAgICAgICAgICB0aHJvdyBFWF9FT0Y7XG4gICAgICAgIGlmIChjaCA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICBTLm5ld2xpbmVfYmVmb3JlID0gUy5uZXdsaW5lX2JlZm9yZSB8fCAhaW5fc3RyaW5nO1xuICAgICAgICAgICAgKytTLmxpbmU7XG4gICAgICAgICAgICBTLmNvbCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICArK1MuY29sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9yd2FyZChpKSB7XG4gICAgICAgIHdoaWxlIChpLS0gPiAwKSBuZXh0KCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvb2tpbmdfYXQoc3RyKSB7XG4gICAgICAgIHJldHVybiBTLnRleHQuc3Vic3RyKFMucG9zLCBzdHIubGVuZ3RoKSA9PSBzdHI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZpbmQod2hhdCwgc2lnbmFsX2VvZikge1xuICAgICAgICB2YXIgcG9zID0gUy50ZXh0LmluZGV4T2Yod2hhdCwgUy5wb3MpO1xuICAgICAgICBpZiAoc2lnbmFsX2VvZiAmJiBwb3MgPT0gLTEpIHRocm93IEVYX0VPRjtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RhcnRfdG9rZW4oKSB7XG4gICAgICAgIFMudG9rbGluZSA9IFMubGluZTtcbiAgICAgICAgUy50b2tjb2wgPSBTLmNvbDtcbiAgICAgICAgUy50b2twb3MgPSBTLnBvcztcbiAgICB9O1xuXG4gICAgdmFyIHByZXZfd2FzX2RvdCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHRva2VuKHR5cGUsIHZhbHVlLCBpc19jb21tZW50KSB7XG4gICAgICAgIFMucmVnZXhfYWxsb3dlZCA9ICgodHlwZSA9PSBcIm9wZXJhdG9yXCIgJiYgIVVOQVJZX1BPU1RGSVgodmFsdWUpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJrZXl3b3JkXCIgJiYgS0VZV09SRFNfQkVGT1JFX0VYUFJFU1NJT04odmFsdWUpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJwdW5jXCIgJiYgUFVOQ19CRUZPUkVfRVhQUkVTU0lPTih2YWx1ZSkpKTtcbiAgICAgICAgcHJldl93YXNfZG90ID0gKHR5cGUgPT0gXCJwdW5jXCIgJiYgdmFsdWUgPT0gXCIuXCIpO1xuICAgICAgICB2YXIgcmV0ID0ge1xuICAgICAgICAgICAgdHlwZSAgIDogdHlwZSxcbiAgICAgICAgICAgIHZhbHVlICA6IHZhbHVlLFxuICAgICAgICAgICAgbGluZSAgIDogUy50b2tsaW5lLFxuICAgICAgICAgICAgY29sICAgIDogUy50b2tjb2wsXG4gICAgICAgICAgICBwb3MgICAgOiBTLnRva3BvcyxcbiAgICAgICAgICAgIGVuZHBvcyA6IFMucG9zLFxuICAgICAgICAgICAgbmxiICAgIDogUy5uZXdsaW5lX2JlZm9yZSxcbiAgICAgICAgICAgIGZpbGUgICA6IGZpbGVuYW1lXG4gICAgICAgIH07XG4gICAgICAgIGlmICghaXNfY29tbWVudCkge1xuICAgICAgICAgICAgcmV0LmNvbW1lbnRzX2JlZm9yZSA9IFMuY29tbWVudHNfYmVmb3JlO1xuICAgICAgICAgICAgUy5jb21tZW50c19iZWZvcmUgPSBbXTtcbiAgICAgICAgICAgIC8vIG1ha2Ugbm90ZSBvZiBhbnkgbmV3bGluZXMgaW4gdGhlIGNvbW1lbnRzIHRoYXQgY2FtZSBiZWZvcmVcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZXQuY29tbWVudHNfYmVmb3JlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmV0Lm5sYiA9IHJldC5ubGIgfHwgcmV0LmNvbW1lbnRzX2JlZm9yZVtpXS5ubGI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgUy5uZXdsaW5lX2JlZm9yZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9Ub2tlbihyZXQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBza2lwX3doaXRlc3BhY2UoKSB7XG4gICAgICAgIHdoaWxlIChXSElURVNQQUNFX0NIQVJTKHBlZWsoKSkpXG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlYWRfd2hpbGUocHJlZCkge1xuICAgICAgICB2YXIgcmV0ID0gXCJcIiwgY2gsIGkgPSAwO1xuICAgICAgICB3aGlsZSAoKGNoID0gcGVlaygpKSAmJiBwcmVkKGNoLCBpKyspKVxuICAgICAgICAgICAgcmV0ICs9IG5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGFyc2VfZXJyb3IoZXJyKSB7XG4gICAgICAgIGpzX2Vycm9yKGVyciwgZmlsZW5hbWUsIFMudG9rbGluZSwgUy50b2tjb2wsIFMudG9rcG9zKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVhZF9udW0ocHJlZml4KSB7XG4gICAgICAgIHZhciBoYXNfZSA9IGZhbHNlLCBhZnRlcl9lID0gZmFsc2UsIGhhc194ID0gZmFsc2UsIGhhc19kb3QgPSBwcmVmaXggPT0gXCIuXCI7XG4gICAgICAgIHZhciBudW0gPSByZWFkX3doaWxlKGZ1bmN0aW9uKGNoLCBpKXtcbiAgICAgICAgICAgIHZhciBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICBjYXNlIDEyMDogY2FzZSA4ODogLy8geFhcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzX3ggPyBmYWxzZSA6IChoYXNfeCA9IHRydWUpO1xuICAgICAgICAgICAgICBjYXNlIDEwMTogY2FzZSA2OTogLy8gZUVcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzX3ggPyB0cnVlIDogaGFzX2UgPyBmYWxzZSA6IChoYXNfZSA9IGFmdGVyX2UgPSB0cnVlKTtcbiAgICAgICAgICAgICAgY2FzZSA0NTogLy8gLVxuICAgICAgICAgICAgICAgIHJldHVybiBhZnRlcl9lIHx8IChpID09IDAgJiYgIXByZWZpeCk7XG4gICAgICAgICAgICAgIGNhc2UgNDM6IC8vICtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWZ0ZXJfZTtcbiAgICAgICAgICAgICAgY2FzZSAoYWZ0ZXJfZSA9IGZhbHNlLCA0Nik6IC8vIC5cbiAgICAgICAgICAgICAgICByZXR1cm4gKCFoYXNfZG90ICYmICFoYXNfeCAmJiAhaGFzX2UpID8gKGhhc19kb3QgPSB0cnVlKSA6IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlzX2FscGhhbnVtZXJpY19jaGFyKGNvZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByZWZpeCkgbnVtID0gcHJlZml4ICsgbnVtO1xuICAgICAgICB2YXIgdmFsaWQgPSBwYXJzZV9qc19udW1iZXIobnVtKTtcbiAgICAgICAgaWYgKCFpc05hTih2YWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbihcIm51bVwiLCB2YWxpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZV9lcnJvcihcIkludmFsaWQgc3ludGF4OiBcIiArIG51bSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVhZF9lc2NhcGVkX2NoYXIoaW5fc3RyaW5nKSB7XG4gICAgICAgIHZhciBjaCA9IG5leHQodHJ1ZSwgaW5fc3RyaW5nKTtcbiAgICAgICAgc3dpdGNoIChjaC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgICAgY2FzZSAxMTAgOiByZXR1cm4gXCJcXG5cIjtcbiAgICAgICAgICBjYXNlIDExNCA6IHJldHVybiBcIlxcclwiO1xuICAgICAgICAgIGNhc2UgMTE2IDogcmV0dXJuIFwiXFx0XCI7XG4gICAgICAgICAgY2FzZSA5OCAgOiByZXR1cm4gXCJcXGJcIjtcbiAgICAgICAgICBjYXNlIDExOCA6IHJldHVybiBcIlxcdTAwMGJcIjsgLy8gXFx2XG4gICAgICAgICAgY2FzZSAxMDIgOiByZXR1cm4gXCJcXGZcIjtcbiAgICAgICAgICBjYXNlIDQ4ICA6IHJldHVybiBcIlxcMFwiO1xuICAgICAgICAgIGNhc2UgMTIwIDogcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoaGV4X2J5dGVzKDIpKTsgLy8gXFx4XG4gICAgICAgICAgY2FzZSAxMTcgOiByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShoZXhfYnl0ZXMoNCkpOyAvLyBcXHVcbiAgICAgICAgICBjYXNlIDEwICA6IHJldHVybiBcIlwiOyAvLyBuZXdsaW5lXG4gICAgICAgICAgZGVmYXVsdCAgOiByZXR1cm4gY2g7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaGV4X2J5dGVzKG4pIHtcbiAgICAgICAgdmFyIG51bSA9IDA7XG4gICAgICAgIGZvciAoOyBuID4gMDsgLS1uKSB7XG4gICAgICAgICAgICB2YXIgZGlnaXQgPSBwYXJzZUludChuZXh0KHRydWUpLCAxNik7XG4gICAgICAgICAgICBpZiAoaXNOYU4oZGlnaXQpKVxuICAgICAgICAgICAgICAgIHBhcnNlX2Vycm9yKFwiSW52YWxpZCBoZXgtY2hhcmFjdGVyIHBhdHRlcm4gaW4gc3RyaW5nXCIpO1xuICAgICAgICAgICAgbnVtID0gKG51bSA8PCA0KSB8IGRpZ2l0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW07XG4gICAgfTtcblxuICAgIHZhciByZWFkX3N0cmluZyA9IHdpdGhfZW9mX2Vycm9yKFwiVW50ZXJtaW5hdGVkIHN0cmluZyBjb25zdGFudFwiLCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgcXVvdGUgPSBuZXh0KCksIHJldCA9IFwiXCI7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIHZhciBjaCA9IG5leHQodHJ1ZSk7XG4gICAgICAgICAgICBpZiAoY2ggPT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgICAgICAvLyByZWFkIE9jdGFsRXNjYXBlU2VxdWVuY2UgKFhYWDogZGVwcmVjYXRlZCBpZiBcInN0cmljdCBtb2RlXCIpXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUy9pc3N1ZXMvMTc4XG4gICAgICAgICAgICAgICAgdmFyIG9jdGFsX2xlbiA9IDAsIGZpcnN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaCA9IHJlYWRfd2hpbGUoZnVuY3Rpb24oY2gpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPj0gXCIwXCIgJiYgY2ggPD0gXCI3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiArK29jdGFsX2xlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0IDw9IFwiM1wiICYmIG9jdGFsX2xlbiA8PSAyKSByZXR1cm4gKytvY3RhbF9sZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdCA+PSBcIjRcIiAmJiBvY3RhbF9sZW4gPD0gMSkgcmV0dXJuICsrb2N0YWxfbGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob2N0YWxfbGVuID4gMCkgY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGNoLCA4KSk7XG4gICAgICAgICAgICAgICAgZWxzZSBjaCA9IHJlYWRfZXNjYXBlZF9jaGFyKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT0gcXVvdGUpIGJyZWFrO1xuICAgICAgICAgICAgcmV0ICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbihcInN0cmluZ1wiLCByZXQpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2tpcF9saW5lX2NvbW1lbnQodHlwZSkge1xuICAgICAgICB2YXIgcmVnZXhfYWxsb3dlZCA9IFMucmVnZXhfYWxsb3dlZDtcbiAgICAgICAgdmFyIGkgPSBmaW5kKFwiXFxuXCIpLCByZXQ7XG4gICAgICAgIGlmIChpID09IC0xKSB7XG4gICAgICAgICAgICByZXQgPSBTLnRleHQuc3Vic3RyKFMucG9zKTtcbiAgICAgICAgICAgIFMucG9zID0gUy50ZXh0Lmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IFMudGV4dC5zdWJzdHJpbmcoUy5wb3MsIGkpO1xuICAgICAgICAgICAgUy5wb3MgPSBpO1xuICAgICAgICB9XG4gICAgICAgIFMuY29tbWVudHNfYmVmb3JlLnB1c2godG9rZW4odHlwZSwgcmV0LCB0cnVlKSk7XG4gICAgICAgIFMucmVnZXhfYWxsb3dlZCA9IHJlZ2V4X2FsbG93ZWQ7XG4gICAgICAgIHJldHVybiBuZXh0X3Rva2VuKCk7XG4gICAgfTtcblxuICAgIHZhciBza2lwX211bHRpbGluZV9jb21tZW50ID0gd2l0aF9lb2ZfZXJyb3IoXCJVbnRlcm1pbmF0ZWQgbXVsdGlsaW5lIGNvbW1lbnRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHJlZ2V4X2FsbG93ZWQgPSBTLnJlZ2V4X2FsbG93ZWQ7XG4gICAgICAgIHZhciBpID0gZmluZChcIiovXCIsIHRydWUpO1xuICAgICAgICB2YXIgdGV4dCA9IFMudGV4dC5zdWJzdHJpbmcoUy5wb3MsIGkpO1xuICAgICAgICB2YXIgYSA9IHRleHQuc3BsaXQoXCJcXG5cIiksIG4gPSBhLmxlbmd0aDtcbiAgICAgICAgLy8gdXBkYXRlIHN0cmVhbSBwb3NpdGlvblxuICAgICAgICBTLnBvcyA9IGkgKyAyO1xuICAgICAgICBTLmxpbmUgKz0gbiAtIDE7XG4gICAgICAgIGlmIChuID4gMSkgUy5jb2wgPSBhW24gLSAxXS5sZW5ndGg7XG4gICAgICAgIGVsc2UgUy5jb2wgKz0gYVtuIC0gMV0ubGVuZ3RoO1xuICAgICAgICBTLmNvbCArPSAyO1xuICAgICAgICB2YXIgbmxiID0gUy5uZXdsaW5lX2JlZm9yZSA9IFMubmV3bGluZV9iZWZvcmUgfHwgdGV4dC5pbmRleE9mKFwiXFxuXCIpID49IDA7XG4gICAgICAgIFMuY29tbWVudHNfYmVmb3JlLnB1c2godG9rZW4oXCJjb21tZW50MlwiLCB0ZXh0LCB0cnVlKSk7XG4gICAgICAgIFMucmVnZXhfYWxsb3dlZCA9IHJlZ2V4X2FsbG93ZWQ7XG4gICAgICAgIFMubmV3bGluZV9iZWZvcmUgPSBubGI7XG4gICAgICAgIHJldHVybiBuZXh0X3Rva2VuKCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZWFkX25hbWUoKSB7XG4gICAgICAgIHZhciBiYWNrc2xhc2ggPSBmYWxzZSwgbmFtZSA9IFwiXCIsIGNoLCBlc2NhcGVkID0gZmFsc2UsIGhleDtcbiAgICAgICAgd2hpbGUgKChjaCA9IHBlZWsoKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCFiYWNrc2xhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT0gXCJcXFxcXCIpIGVzY2FwZWQgPSBiYWNrc2xhc2ggPSB0cnVlLCBuZXh0KCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNfaWRlbnRpZmllcl9jaGFyKGNoKSkgbmFtZSArPSBuZXh0KCk7XG4gICAgICAgICAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjaCAhPSBcInVcIikgcGFyc2VfZXJyb3IoXCJFeHBlY3RpbmcgVW5pY29kZUVzY2FwZVNlcXVlbmNlIC0tIHVYWFhYXCIpO1xuICAgICAgICAgICAgICAgIGNoID0gcmVhZF9lc2NhcGVkX2NoYXIoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzX2lkZW50aWZpZXJfY2hhcihjaCkpIHBhcnNlX2Vycm9yKFwiVW5pY29kZSBjaGFyOiBcIiArIGNoLmNoYXJDb2RlQXQoMCkgKyBcIiBpcyBub3QgdmFsaWQgaW4gaWRlbnRpZmllclwiKTtcbiAgICAgICAgICAgICAgICBuYW1lICs9IGNoO1xuICAgICAgICAgICAgICAgIGJhY2tzbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChLRVlXT1JEUyhuYW1lKSAmJiBlc2NhcGVkKSB7XG4gICAgICAgICAgICBoZXggPSBuYW1lLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBuYW1lID0gXCJcXFxcdVwiICsgXCIwMDAwXCIuc3Vic3RyKGhleC5sZW5ndGgpICsgaGV4ICsgbmFtZS5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIHJlYWRfcmVnZXhwID0gd2l0aF9lb2ZfZXJyb3IoXCJVbnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uXCIsIGZ1bmN0aW9uKHJlZ2V4cCl7XG4gICAgICAgIHZhciBwcmV2X2JhY2tzbGFzaCA9IGZhbHNlLCBjaCwgaW5fY2xhc3MgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKChjaCA9IG5leHQodHJ1ZSkpKSBpZiAocHJldl9iYWNrc2xhc2gpIHtcbiAgICAgICAgICAgIHJlZ2V4cCArPSBcIlxcXFxcIiArIGNoO1xuICAgICAgICAgICAgcHJldl9iYWNrc2xhc2ggPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIltcIikge1xuICAgICAgICAgICAgaW5fY2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgcmVnZXhwICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiXVwiICYmIGluX2NsYXNzKSB7XG4gICAgICAgICAgICBpbl9jbGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgcmVnZXhwICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiL1wiICYmICFpbl9jbGFzcykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgIHByZXZfYmFja3NsYXNoID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZ2V4cCArPSBjaDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kcyA9IHJlYWRfbmFtZSgpO1xuICAgICAgICByZXR1cm4gdG9rZW4oXCJyZWdleHBcIiwgbmV3IFJlZ0V4cChyZWdleHAsIG1vZHMpKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlYWRfb3BlcmF0b3IocHJlZml4KSB7XG4gICAgICAgIGZ1bmN0aW9uIGdyb3cob3ApIHtcbiAgICAgICAgICAgIGlmICghcGVlaygpKSByZXR1cm4gb3A7XG4gICAgICAgICAgICB2YXIgYmlnZ2VyID0gb3AgKyBwZWVrKCk7XG4gICAgICAgICAgICBpZiAoT1BFUkFUT1JTKGJpZ2dlcikpIHtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3coYmlnZ2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdG9rZW4oXCJvcGVyYXRvclwiLCBncm93KHByZWZpeCB8fCBuZXh0KCkpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlX3NsYXNoKCkge1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHN3aXRjaCAocGVlaygpKSB7XG4gICAgICAgICAgY2FzZSBcIi9cIjpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBza2lwX2xpbmVfY29tbWVudChcImNvbW1lbnQxXCIpO1xuICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gc2tpcF9tdWx0aWxpbmVfY29tbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTLnJlZ2V4X2FsbG93ZWQgPyByZWFkX3JlZ2V4cChcIlwiKSA6IHJlYWRfb3BlcmF0b3IoXCIvXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfZG90KCkge1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybiBpc19kaWdpdChwZWVrKCkuY2hhckNvZGVBdCgwKSlcbiAgICAgICAgICAgID8gcmVhZF9udW0oXCIuXCIpXG4gICAgICAgICAgICA6IHRva2VuKFwicHVuY1wiLCBcIi5cIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlYWRfd29yZCgpIHtcbiAgICAgICAgdmFyIHdvcmQgPSByZWFkX25hbWUoKTtcbiAgICAgICAgaWYgKHByZXZfd2FzX2RvdCkgcmV0dXJuIHRva2VuKFwibmFtZVwiLCB3b3JkKTtcbiAgICAgICAgcmV0dXJuIEtFWVdPUkRTX0FUT00od29yZCkgPyB0b2tlbihcImF0b21cIiwgd29yZClcbiAgICAgICAgICAgIDogIUtFWVdPUkRTKHdvcmQpID8gdG9rZW4oXCJuYW1lXCIsIHdvcmQpXG4gICAgICAgICAgICA6IE9QRVJBVE9SUyh3b3JkKSA/IHRva2VuKFwib3BlcmF0b3JcIiwgd29yZClcbiAgICAgICAgICAgIDogdG9rZW4oXCJrZXl3b3JkXCIsIHdvcmQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB3aXRoX2VvZl9lcnJvcihlb2ZfZXJyb3IsIGNvbnQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnQoeCk7XG4gICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ID09PSBFWF9FT0YpIHBhcnNlX2Vycm9yKGVvZl9lcnJvcik7XG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbmV4dF90b2tlbihmb3JjZV9yZWdleHApIHtcbiAgICAgICAgaWYgKGZvcmNlX3JlZ2V4cCAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRfcmVnZXhwKGZvcmNlX3JlZ2V4cCk7XG4gICAgICAgIHNraXBfd2hpdGVzcGFjZSgpO1xuICAgICAgICBzdGFydF90b2tlbigpO1xuICAgICAgICBpZiAoaHRtbDVfY29tbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChsb29raW5nX2F0KFwiPCEtLVwiKSkge1xuICAgICAgICAgICAgICAgIGZvcndhcmQoNCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNraXBfbGluZV9jb21tZW50KFwiY29tbWVudDNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9va2luZ19hdChcIi0tPlwiKSAmJiBTLm5ld2xpbmVfYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgZm9yd2FyZCgzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2tpcF9saW5lX2NvbW1lbnQoXCJjb21tZW50NFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2ggPSBwZWVrKCk7XG4gICAgICAgIGlmICghY2gpIHJldHVybiB0b2tlbihcImVvZlwiKTtcbiAgICAgICAgdmFyIGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICBjYXNlIDM0OiBjYXNlIDM5OiByZXR1cm4gcmVhZF9zdHJpbmcoKTtcbiAgICAgICAgICBjYXNlIDQ2OiByZXR1cm4gaGFuZGxlX2RvdCgpO1xuICAgICAgICAgIGNhc2UgNDc6IHJldHVybiBoYW5kbGVfc2xhc2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfZGlnaXQoY29kZSkpIHJldHVybiByZWFkX251bSgpO1xuICAgICAgICBpZiAoUFVOQ19DSEFSUyhjaCkpIHJldHVybiB0b2tlbihcInB1bmNcIiwgbmV4dCgpKTtcbiAgICAgICAgaWYgKE9QRVJBVE9SX0NIQVJTKGNoKSkgcmV0dXJuIHJlYWRfb3BlcmF0b3IoKTtcbiAgICAgICAgaWYgKGNvZGUgPT0gOTIgfHwgaXNfaWRlbnRpZmllcl9zdGFydChjb2RlKSkgcmV0dXJuIHJlYWRfd29yZCgpO1xuICAgICAgICBwYXJzZV9lcnJvcihcIlVuZXhwZWN0ZWQgY2hhcmFjdGVyICdcIiArIGNoICsgXCInXCIpO1xuICAgIH07XG5cbiAgICBuZXh0X3Rva2VuLmNvbnRleHQgPSBmdW5jdGlvbihuYykge1xuICAgICAgICBpZiAobmMpIFMgPSBuYztcbiAgICAgICAgcmV0dXJuIFM7XG4gICAgfTtcblxuICAgIHJldHVybiBuZXh0X3Rva2VuO1xuXG59O1xuXG4vKiAtLS0tLVsgUGFyc2VyIChjb25zdGFudHMpIF0tLS0tLSAqL1xuXG52YXIgVU5BUllfUFJFRklYID0gbWFrZVByZWRpY2F0ZShbXG4gICAgXCJ0eXBlb2ZcIixcbiAgICBcInZvaWRcIixcbiAgICBcImRlbGV0ZVwiLFxuICAgIFwiLS1cIixcbiAgICBcIisrXCIsXG4gICAgXCIhXCIsXG4gICAgXCJ+XCIsXG4gICAgXCItXCIsXG4gICAgXCIrXCJcbl0pO1xuXG52YXIgVU5BUllfUE9TVEZJWCA9IG1ha2VQcmVkaWNhdGUoWyBcIi0tXCIsIFwiKytcIiBdKTtcblxudmFyIEFTU0lHTk1FTlQgPSBtYWtlUHJlZGljYXRlKFsgXCI9XCIsIFwiKz1cIiwgXCItPVwiLCBcIi89XCIsIFwiKj1cIiwgXCIlPVwiLCBcIj4+PVwiLCBcIjw8PVwiLCBcIj4+Pj1cIiwgXCJ8PVwiLCBcIl49XCIsIFwiJj1cIiBdKTtcblxudmFyIFBSRUNFREVOQ0UgPSAoZnVuY3Rpb24oYSwgcmV0KXtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGIgPSBhW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHJldFtiW2pdXSA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59KShcbiAgICBbXG4gICAgICAgIFtcInx8XCJdLFxuICAgICAgICBbXCImJlwiXSxcbiAgICAgICAgW1wifFwiXSxcbiAgICAgICAgW1wiXlwiXSxcbiAgICAgICAgW1wiJlwiXSxcbiAgICAgICAgW1wiPT1cIiwgXCI9PT1cIiwgXCIhPVwiLCBcIiE9PVwiXSxcbiAgICAgICAgW1wiPFwiLCBcIj5cIiwgXCI8PVwiLCBcIj49XCIsIFwiaW5cIiwgXCJpbnN0YW5jZW9mXCJdLFxuICAgICAgICBbXCI+PlwiLCBcIjw8XCIsIFwiPj4+XCJdLFxuICAgICAgICBbXCIrXCIsIFwiLVwiXSxcbiAgICAgICAgW1wiKlwiLCBcIi9cIiwgXCIlXCJdXG4gICAgXSxcbiAgICB7fVxuKTtcblxudmFyIFNUQVRFTUVOVFNfV0lUSF9MQUJFTFMgPSBhcnJheV90b19oYXNoKFsgXCJmb1wiICsgXCJyXCIsIFwiZG9cIiwgXCJ3aGlsZVwiLCBcInN3aXRjaFwiIF0pO1xuXG52YXIgQVRPTUlDX1NUQVJUX1RPS0VOID0gYXJyYXlfdG9faGFzaChbIFwiYXRvbVwiLCBcIm51bVwiLCBcInN0cmluZ1wiLCBcInJlZ2V4cFwiLCBcIm5hbWVcIiBdKTtcblxuLyogLS0tLS1bIFBhcnNlciBdLS0tLS0gKi9cblxuZnVuY3Rpb24gcGFyc2UoJFRFWFQsIG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHN0cmljdCAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIGZpbGVuYW1lICAgICAgIDogbnVsbCxcbiAgICAgICAgdG9wbGV2ZWwgICAgICAgOiBudWxsLFxuICAgICAgICBleHByZXNzaW9uICAgICA6IGZhbHNlLFxuICAgICAgICBodG1sNV9jb21tZW50cyA6IHRydWUsXG4gICAgICAgIGJhcmVfcmV0dXJucyAgIDogZmFsc2UsXG4gICAgfSk7XG5cbiAgICB2YXIgUyA9IHtcbiAgICAgICAgaW5wdXQgICAgICAgICA6ICh0eXBlb2YgJFRFWFQgPT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgID8gdG9rZW5pemVyKCRURVhULCBvcHRpb25zLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaHRtbDVfY29tbWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgOiAkVEVYVCksXG4gICAgICAgIHRva2VuICAgICAgICAgOiBudWxsLFxuICAgICAgICBwcmV2ICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgcGVla2VkICAgICAgICA6IG51bGwsXG4gICAgICAgIGluX2Z1bmN0aW9uICAgOiAwLFxuICAgICAgICBpbl9kaXJlY3RpdmVzIDogdHJ1ZSxcbiAgICAgICAgaW5fbG9vcCAgICAgICA6IDAsXG4gICAgICAgIGxhYmVscyAgICAgICAgOiBbXVxuICAgIH07XG5cbiAgICBTLnRva2VuID0gbmV4dCgpO1xuXG4gICAgZnVuY3Rpb24gaXModHlwZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzX3Rva2VuKFMudG9rZW4sIHR5cGUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGVlaygpIHsgcmV0dXJuIFMucGVla2VkIHx8IChTLnBlZWtlZCA9IFMuaW5wdXQoKSk7IH07XG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBTLnByZXYgPSBTLnRva2VuO1xuICAgICAgICBpZiAoUy5wZWVrZWQpIHtcbiAgICAgICAgICAgIFMudG9rZW4gPSBTLnBlZWtlZDtcbiAgICAgICAgICAgIFMucGVla2VkID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFMudG9rZW4gPSBTLmlucHV0KCk7XG4gICAgICAgIH1cbiAgICAgICAgUy5pbl9kaXJlY3RpdmVzID0gUy5pbl9kaXJlY3RpdmVzICYmIChcbiAgICAgICAgICAgIFMudG9rZW4udHlwZSA9PSBcInN0cmluZ1wiIHx8IGlzKFwicHVuY1wiLCBcIjtcIilcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIFMudG9rZW47XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICAgIHJldHVybiBTLnByZXY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNyb2FrKG1zZywgbGluZSwgY29sLCBwb3MpIHtcbiAgICAgICAgdmFyIGN0eCA9IFMuaW5wdXQuY29udGV4dCgpO1xuICAgICAgICBqc19lcnJvcihtc2csXG4gICAgICAgICAgICAgICAgIGN0eC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgbGluZSAhPSBudWxsID8gbGluZSA6IGN0eC50b2tsaW5lLFxuICAgICAgICAgICAgICAgICBjb2wgIT0gbnVsbCA/IGNvbCA6IGN0eC50b2tjb2wsXG4gICAgICAgICAgICAgICAgIHBvcyAhPSBudWxsID8gcG9zIDogY3R4LnRva3Bvcyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHRva2VuX2Vycm9yKHRva2VuLCBtc2cpIHtcbiAgICAgICAgY3JvYWsobXNnLCB0b2tlbi5saW5lLCB0b2tlbi5jb2wpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB1bmV4cGVjdGVkKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PSBudWxsKVxuICAgICAgICAgICAgdG9rZW4gPSBTLnRva2VuO1xuICAgICAgICB0b2tlbl9lcnJvcih0b2tlbiwgXCJVbmV4cGVjdGVkIHRva2VuOiBcIiArIHRva2VuLnR5cGUgKyBcIiAoXCIgKyB0b2tlbi52YWx1ZSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwZWN0X3Rva2VuKHR5cGUsIHZhbCkge1xuICAgICAgICBpZiAoaXModHlwZSwgdmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbl9lcnJvcihTLnRva2VuLCBcIlVuZXhwZWN0ZWQgdG9rZW4gXCIgKyBTLnRva2VuLnR5cGUgKyBcIiDCq1wiICsgUy50b2tlbi52YWx1ZSArIFwiwrtcIiArIFwiLCBleHBlY3RlZCBcIiArIHR5cGUgKyBcIiDCq1wiICsgdmFsICsgXCLCu1wiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwZWN0KHB1bmMpIHsgcmV0dXJuIGV4cGVjdF90b2tlbihcInB1bmNcIiwgcHVuYyk7IH07XG5cbiAgICBmdW5jdGlvbiBjYW5faW5zZXJ0X3NlbWljb2xvbigpIHtcbiAgICAgICAgcmV0dXJuICFvcHRpb25zLnN0cmljdCAmJiAoXG4gICAgICAgICAgICBTLnRva2VuLm5sYiB8fCBpcyhcImVvZlwiKSB8fCBpcyhcInB1bmNcIiwgXCJ9XCIpXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNlbWljb2xvbigpIHtcbiAgICAgICAgaWYgKGlzKFwicHVuY1wiLCBcIjtcIikpIG5leHQoKTtcbiAgICAgICAgZWxzZSBpZiAoIWNhbl9pbnNlcnRfc2VtaWNvbG9uKCkpIHVuZXhwZWN0ZWQoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGFyZW50aGVzaXNlZCgpIHtcbiAgICAgICAgZXhwZWN0KFwiKFwiKTtcbiAgICAgICAgdmFyIGV4cCA9IGV4cHJlc3Npb24odHJ1ZSk7XG4gICAgICAgIGV4cGVjdChcIilcIik7XG4gICAgICAgIHJldHVybiBleHA7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVtYmVkX3Rva2VucyhwYXJzZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgICAgIHZhciBleHByID0gcGFyc2VyKCk7XG4gICAgICAgICAgICB2YXIgZW5kID0gcHJldigpO1xuICAgICAgICAgICAgZXhwci5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgZXhwci5lbmQgPSBlbmQ7XG4gICAgICAgICAgICByZXR1cm4gZXhwcjtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlX3JlZ2V4cCgpIHtcbiAgICAgICAgaWYgKGlzKFwib3BlcmF0b3JcIiwgXCIvXCIpIHx8IGlzKFwib3BlcmF0b3JcIiwgXCIvPVwiKSkge1xuICAgICAgICAgICAgUy5wZWVrZWQgPSBudWxsO1xuICAgICAgICAgICAgUy50b2tlbiA9IFMuaW5wdXQoUy50b2tlbi52YWx1ZS5zdWJzdHIoMSkpOyAvLyBmb3JjZSByZWdleHBcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc3RhdGVtZW50ID0gZW1iZWRfdG9rZW5zKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdG1wO1xuICAgICAgICBoYW5kbGVfcmVnZXhwKCk7XG4gICAgICAgIHN3aXRjaCAoUy50b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgdmFyIGRpciA9IFMuaW5fZGlyZWN0aXZlcywgc3RhdCA9IHNpbXBsZV9zdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIC8vIFhYWHYyOiBkZWNpZGUgaG93IHRvIGZpeCBkaXJlY3RpdmVzXG4gICAgICAgICAgICBpZiAoZGlyICYmIHN0YXQuYm9keSBpbnN0YW5jZW9mIEFTVF9TdHJpbmcgJiYgIWlzKFwicHVuY1wiLCBcIixcIikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfRGlyZWN0aXZlKHsgdmFsdWU6IHN0YXQuYm9keS52YWx1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0O1xuICAgICAgICAgIGNhc2UgXCJudW1cIjpcbiAgICAgICAgICBjYXNlIFwicmVnZXhwXCI6XG4gICAgICAgICAgY2FzZSBcIm9wZXJhdG9yXCI6XG4gICAgICAgICAgY2FzZSBcImF0b21cIjpcbiAgICAgICAgICAgIHJldHVybiBzaW1wbGVfc3RhdGVtZW50KCk7XG5cbiAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzX3Rva2VuKHBlZWsoKSwgXCJwdW5jXCIsIFwiOlwiKVxuICAgICAgICAgICAgICAgID8gbGFiZWxlZF9zdGF0ZW1lbnQoKVxuICAgICAgICAgICAgICAgIDogc2ltcGxlX3N0YXRlbWVudCgpO1xuXG4gICAgICAgICAgY2FzZSBcInB1bmNcIjpcbiAgICAgICAgICAgIHN3aXRjaCAoUy50b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICBjYXNlIFwie1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX0Jsb2NrU3RhdGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiBTLnRva2VuLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICA6IGJsb2NrXygpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgICA6IHByZXYoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBzaW1wbGVfc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgIGNhc2UgXCI7XCI6XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX0VtcHR5U3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdW5leHBlY3RlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBcImtleXdvcmRcIjpcbiAgICAgICAgICAgIHN3aXRjaCAodG1wID0gUy50b2tlbi52YWx1ZSwgbmV4dCgpLCB0bXApIHtcbiAgICAgICAgICAgICAgY2FzZSBcImJyZWFrXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyZWFrX2NvbnQoQVNUX0JyZWFrKTtcblxuICAgICAgICAgICAgICBjYXNlIFwiY29udGludWVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYnJlYWtfY29udChBU1RfQ29udGludWUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJkZWJ1Z2dlclwiOlxuICAgICAgICAgICAgICAgIHNlbWljb2xvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX0RlYnVnZ2VyKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImRvXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfRG8oe1xuICAgICAgICAgICAgICAgICAgICBib2R5ICAgICAgOiBpbl9sb29wKHN0YXRlbWVudCksXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbiA6IChleHBlY3RfdG9rZW4oXCJrZXl3b3JkXCIsIFwid2hpbGVcIiksIHRtcCA9IHBhcmVudGhlc2lzZWQoKSwgc2VtaWNvbG9uKCksIHRtcClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIFwid2hpbGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9XaGlsZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbiA6IHBhcmVudGhlc2lzZWQoKSxcbiAgICAgICAgICAgICAgICAgICAgYm9keSAgICAgIDogaW5fbG9vcChzdGF0ZW1lbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImZvXCIgKyBcInJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yXygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbl8oQVNUX0RlZnVuKTtcblxuICAgICAgICAgICAgICBjYXNlIFwiaWZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gaWZfKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInJldHVyblwiOlxuICAgICAgICAgICAgICAgIGlmIChTLmluX2Z1bmN0aW9uID09IDAgJiYgIW9wdGlvbnMuYmFyZV9yZXR1cm5zKVxuICAgICAgICAgICAgICAgICAgICBjcm9hayhcIidyZXR1cm4nIG91dHNpZGUgb2YgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfUmV0dXJuKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICggaXMoXCJwdW5jXCIsIFwiO1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChuZXh0KCksIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FuX2luc2VydF9zZW1pY29sb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAodG1wID0gZXhwcmVzc2lvbih0cnVlKSwgc2VtaWNvbG9uKCksIHRtcCkgKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJzd2l0Y2hcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9Td2l0Y2goe1xuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogcGFyZW50aGVzaXNlZCgpLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICAgICAgIDogaW5fbG9vcChzd2l0Y2hfYm9keV8pXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInRocm93XCI6XG4gICAgICAgICAgICAgICAgaWYgKFMudG9rZW4ubmxiKVxuICAgICAgICAgICAgICAgICAgICBjcm9hayhcIklsbGVnYWwgbmV3bGluZSBhZnRlciAndGhyb3cnXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1Rocm93KHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICh0bXAgPSBleHByZXNzaW9uKHRydWUpLCBzZW1pY29sb24oKSwgdG1wKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ0cnlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ5XygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ2YXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdG1wID0gdmFyXygpLCBzZW1pY29sb24oKSwgdG1wO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJjb25zdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB0bXAgPSBjb25zdF8oKSwgc2VtaWNvbG9uKCksIHRtcDtcblxuICAgICAgICAgICAgICBjYXNlIFwid2l0aFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1dpdGgoe1xuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogcGFyZW50aGVzaXNlZCgpLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICAgICAgIDogc3RhdGVtZW50KClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbGFiZWxlZF9zdGF0ZW1lbnQoKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGFzX3N5bWJvbChBU1RfTGFiZWwpO1xuICAgICAgICBpZiAoZmluZF9pZihmdW5jdGlvbihsKXsgcmV0dXJuIGwubmFtZSA9PSBsYWJlbC5uYW1lIH0sIFMubGFiZWxzKSkge1xuICAgICAgICAgICAgLy8gRUNNQS0yNjIsIDEyLjEyOiBBbiBFQ01BU2NyaXB0IHByb2dyYW0gaXMgY29uc2lkZXJlZFxuICAgICAgICAgICAgLy8gc3ludGFjdGljYWxseSBpbmNvcnJlY3QgaWYgaXQgY29udGFpbnMgYVxuICAgICAgICAgICAgLy8gTGFiZWxsZWRTdGF0ZW1lbnQgdGhhdCBpcyBlbmNsb3NlZCBieSBhXG4gICAgICAgICAgICAvLyBMYWJlbGxlZFN0YXRlbWVudCB3aXRoIHRoZSBzYW1lIElkZW50aWZpZXIgYXMgbGFiZWwuXG4gICAgICAgICAgICBjcm9hayhcIkxhYmVsIFwiICsgbGFiZWwubmFtZSArIFwiIGRlZmluZWQgdHdpY2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgZXhwZWN0KFwiOlwiKTtcbiAgICAgICAgUy5sYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgIHZhciBzdGF0ID0gc3RhdGVtZW50KCk7XG4gICAgICAgIFMubGFiZWxzLnBvcCgpO1xuICAgICAgICBpZiAoIShzdGF0IGluc3RhbmNlb2YgQVNUX0l0ZXJhdGlvblN0YXRlbWVudCkpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBgY29udGludWVgIHRoYXQgcmVmZXJzIHRvIHRoaXMgbGFiZWwuXG4gICAgICAgICAgICAvLyB0aG9zZSBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgc3ludGF4IGVycm9ycy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyL2lzc3Vlcy8yODdcbiAgICAgICAgICAgIGxhYmVsLnJlZmVyZW5jZXMuZm9yRWFjaChmdW5jdGlvbihyZWYpe1xuICAgICAgICAgICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBBU1RfQ29udGludWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmID0gcmVmLmxhYmVsLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBjcm9hayhcIkNvbnRpbnVlIGxhYmVsIGBcIiArIGxhYmVsLm5hbWUgKyBcImAgcmVmZXJzIHRvIG5vbi1JdGVyYXRpb25TdGF0ZW1lbnQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZi5saW5lLCByZWYuY29sLCByZWYucG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFTVF9MYWJlbGVkU3RhdGVtZW50KHsgYm9keTogc3RhdCwgbGFiZWw6IGxhYmVsIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzaW1wbGVfc3RhdGVtZW50KHRtcCkge1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9TaW1wbGVTdGF0ZW1lbnQoeyBib2R5OiAodG1wID0gZXhwcmVzc2lvbih0cnVlKSwgc2VtaWNvbG9uKCksIHRtcCkgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJyZWFrX2NvbnQodHlwZSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBudWxsLCBsZGVmO1xuICAgICAgICBpZiAoIWNhbl9pbnNlcnRfc2VtaWNvbG9uKCkpIHtcbiAgICAgICAgICAgIGxhYmVsID0gYXNfc3ltYm9sKEFTVF9MYWJlbFJlZiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxkZWYgPSBmaW5kX2lmKGZ1bmN0aW9uKGwpeyByZXR1cm4gbC5uYW1lID09IGxhYmVsLm5hbWUgfSwgUy5sYWJlbHMpO1xuICAgICAgICAgICAgaWYgKCFsZGVmKVxuICAgICAgICAgICAgICAgIGNyb2FrKFwiVW5kZWZpbmVkIGxhYmVsIFwiICsgbGFiZWwubmFtZSk7XG4gICAgICAgICAgICBsYWJlbC50aGVkZWYgPSBsZGVmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFMuaW5fbG9vcCA9PSAwKVxuICAgICAgICAgICAgY3JvYWsodHlwZS5UWVBFICsgXCIgbm90IGluc2lkZSBhIGxvb3Agb3Igc3dpdGNoXCIpO1xuICAgICAgICBzZW1pY29sb24oKTtcbiAgICAgICAgdmFyIHN0YXQgPSBuZXcgdHlwZSh7IGxhYmVsOiBsYWJlbCB9KTtcbiAgICAgICAgaWYgKGxkZWYpIGxkZWYucmVmZXJlbmNlcy5wdXNoKHN0YXQpO1xuICAgICAgICByZXR1cm4gc3RhdDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9yXygpIHtcbiAgICAgICAgZXhwZWN0KFwiKFwiKTtcbiAgICAgICAgdmFyIGluaXQgPSBudWxsO1xuICAgICAgICBpZiAoIWlzKFwicHVuY1wiLCBcIjtcIikpIHtcbiAgICAgICAgICAgIGluaXQgPSBpcyhcImtleXdvcmRcIiwgXCJ2YXJcIilcbiAgICAgICAgICAgICAgICA/IChuZXh0KCksIHZhcl8odHJ1ZSkpXG4gICAgICAgICAgICAgICAgOiBleHByZXNzaW9uKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKGlzKFwib3BlcmF0b3JcIiwgXCJpblwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbml0IGluc3RhbmNlb2YgQVNUX1ZhciAmJiBpbml0LmRlZmluaXRpb25zLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgICAgIGNyb2FrKFwiT25seSBvbmUgdmFyaWFibGUgZGVjbGFyYXRpb24gYWxsb3dlZCBpbiBmb3IuLmluIGxvb3BcIik7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JfaW4oaW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ3VsYXJfZm9yKGluaXQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWd1bGFyX2Zvcihpbml0KSB7XG4gICAgICAgIGV4cGVjdChcIjtcIik7XG4gICAgICAgIHZhciB0ZXN0ID0gaXMoXCJwdW5jXCIsIFwiO1wiKSA/IG51bGwgOiBleHByZXNzaW9uKHRydWUpO1xuICAgICAgICBleHBlY3QoXCI7XCIpO1xuICAgICAgICB2YXIgc3RlcCA9IGlzKFwicHVuY1wiLCBcIilcIikgPyBudWxsIDogZXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgZXhwZWN0KFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfRm9yKHtcbiAgICAgICAgICAgIGluaXQgICAgICA6IGluaXQsXG4gICAgICAgICAgICBjb25kaXRpb24gOiB0ZXN0LFxuICAgICAgICAgICAgc3RlcCAgICAgIDogc3RlcCxcbiAgICAgICAgICAgIGJvZHkgICAgICA6IGluX2xvb3Aoc3RhdGVtZW50KVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9yX2luKGluaXQpIHtcbiAgICAgICAgdmFyIGxocyA9IGluaXQgaW5zdGFuY2VvZiBBU1RfVmFyID8gaW5pdC5kZWZpbml0aW9uc1swXS5uYW1lIDogbnVsbDtcbiAgICAgICAgdmFyIG9iaiA9IGV4cHJlc3Npb24odHJ1ZSk7XG4gICAgICAgIGV4cGVjdChcIilcIik7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX0ZvckluKHtcbiAgICAgICAgICAgIGluaXQgICA6IGluaXQsXG4gICAgICAgICAgICBuYW1lICAgOiBsaHMsXG4gICAgICAgICAgICBvYmplY3QgOiBvYmosXG4gICAgICAgICAgICBib2R5ICAgOiBpbl9sb29wKHN0YXRlbWVudClcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBmdW5jdGlvbl8gPSBmdW5jdGlvbihjdG9yKSB7XG4gICAgICAgIHZhciBpbl9zdGF0ZW1lbnQgPSBjdG9yID09PSBBU1RfRGVmdW47XG4gICAgICAgIHZhciBuYW1lID0gaXMoXCJuYW1lXCIpID8gYXNfc3ltYm9sKGluX3N0YXRlbWVudCA/IEFTVF9TeW1ib2xEZWZ1biA6IEFTVF9TeW1ib2xMYW1iZGEpIDogbnVsbDtcbiAgICAgICAgaWYgKGluX3N0YXRlbWVudCAmJiAhbmFtZSlcbiAgICAgICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgZXhwZWN0KFwiKFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhcmduYW1lczogKGZ1bmN0aW9uKGZpcnN0LCBhKXtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWlzKFwicHVuY1wiLCBcIilcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0KSBmaXJzdCA9IGZhbHNlOyBlbHNlIGV4cGVjdChcIixcIik7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChhc19zeW1ib2woQVNUX1N5bWJvbEZ1bmFyZykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KSh0cnVlLCBbXSksXG4gICAgICAgICAgICBib2R5OiAoZnVuY3Rpb24obG9vcCwgbGFiZWxzKXtcbiAgICAgICAgICAgICAgICArK1MuaW5fZnVuY3Rpb247XG4gICAgICAgICAgICAgICAgUy5pbl9kaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTLmluX2xvb3AgPSAwO1xuICAgICAgICAgICAgICAgIFMubGFiZWxzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBibG9ja18oKTtcbiAgICAgICAgICAgICAgICAtLVMuaW5fZnVuY3Rpb247XG4gICAgICAgICAgICAgICAgUy5pbl9sb29wID0gbG9vcDtcbiAgICAgICAgICAgICAgICBTLmxhYmVscyA9IGxhYmVscztcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0pKFMuaW5fbG9vcCwgUy5sYWJlbHMpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpZl8oKSB7XG4gICAgICAgIHZhciBjb25kID0gcGFyZW50aGVzaXNlZCgpLCBib2R5ID0gc3RhdGVtZW50KCksIGJlbHNlID0gbnVsbDtcbiAgICAgICAgaWYgKGlzKFwia2V5d29yZFwiLCBcImVsc2VcIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGJlbHNlID0gc3RhdGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfSWYoe1xuICAgICAgICAgICAgY29uZGl0aW9uICAgOiBjb25kLFxuICAgICAgICAgICAgYm9keSAgICAgICAgOiBib2R5LFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmUgOiBiZWxzZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYmxvY2tfKCkge1xuICAgICAgICBleHBlY3QoXCJ7XCIpO1xuICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICB3aGlsZSAoIWlzKFwicHVuY1wiLCBcIn1cIikpIHtcbiAgICAgICAgICAgIGlmIChpcyhcImVvZlwiKSkgdW5leHBlY3RlZCgpO1xuICAgICAgICAgICAgYS5wdXNoKHN0YXRlbWVudCgpKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzd2l0Y2hfYm9keV8oKSB7XG4gICAgICAgIGV4cGVjdChcIntcIik7XG4gICAgICAgIHZhciBhID0gW10sIGN1ciA9IG51bGwsIGJyYW5jaCA9IG51bGwsIHRtcDtcbiAgICAgICAgd2hpbGUgKCFpcyhcInB1bmNcIiwgXCJ9XCIpKSB7XG4gICAgICAgICAgICBpZiAoaXMoXCJlb2ZcIikpIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgIGlmIChpcyhcImtleXdvcmRcIiwgXCJjYXNlXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyYW5jaCkgYnJhbmNoLmVuZCA9IHByZXYoKTtcbiAgICAgICAgICAgICAgICBjdXIgPSBbXTtcbiAgICAgICAgICAgICAgICBicmFuY2ggPSBuZXcgQVNUX0Nhc2Uoe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCAgICAgIDogKHRtcCA9IFMudG9rZW4sIG5leHQoKSwgdG1wKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGV4cHJlc3Npb24odHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgICAgICAgOiBjdXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhLnB1c2goYnJhbmNoKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoXCI6XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoXCJrZXl3b3JkXCIsIFwiZGVmYXVsdFwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChicmFuY2gpIGJyYW5jaC5lbmQgPSBwcmV2KCk7XG4gICAgICAgICAgICAgICAgY3VyID0gW107XG4gICAgICAgICAgICAgICAgYnJhbmNoID0gbmV3IEFTVF9EZWZhdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiAodG1wID0gUy50b2tlbiwgbmV4dCgpLCBleHBlY3QoXCI6XCIpLCB0bXApLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICA6IGN1clxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGEucHVzaChicmFuY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXIpIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICBjdXIucHVzaChzdGF0ZW1lbnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJyYW5jaCkgYnJhbmNoLmVuZCA9IHByZXYoKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdHJ5XygpIHtcbiAgICAgICAgdmFyIGJvZHkgPSBibG9ja18oKSwgYmNhdGNoID0gbnVsbCwgYmZpbmFsbHkgPSBudWxsO1xuICAgICAgICBpZiAoaXMoXCJrZXl3b3JkXCIsIFwiY2F0Y2hcIikpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICBleHBlY3QoXCIoXCIpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBhc19zeW1ib2woQVNUX1N5bWJvbENhdGNoKTtcbiAgICAgICAgICAgIGV4cGVjdChcIilcIik7XG4gICAgICAgICAgICBiY2F0Y2ggPSBuZXcgQVNUX0NhdGNoKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgIDogc3RhcnQsXG4gICAgICAgICAgICAgICAgYXJnbmFtZSA6IG5hbWUsXG4gICAgICAgICAgICAgICAgYm9keSAgICA6IGJsb2NrXygpLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcyhcImtleXdvcmRcIiwgXCJmaW5hbGx5XCIpKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgYmZpbmFsbHkgPSBuZXcgQVNUX0ZpbmFsbHkoe1xuICAgICAgICAgICAgICAgIHN0YXJ0IDogc3RhcnQsXG4gICAgICAgICAgICAgICAgYm9keSAgOiBibG9ja18oKSxcbiAgICAgICAgICAgICAgICBlbmQgICA6IHByZXYoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiY2F0Y2ggJiYgIWJmaW5hbGx5KVxuICAgICAgICAgICAgY3JvYWsoXCJNaXNzaW5nIGNhdGNoL2ZpbmFsbHkgYmxvY2tzXCIpO1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9Ucnkoe1xuICAgICAgICAgICAgYm9keSAgICAgOiBib2R5LFxuICAgICAgICAgICAgYmNhdGNoICAgOiBiY2F0Y2gsXG4gICAgICAgICAgICBiZmluYWxseSA6IGJmaW5hbGx5XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB2YXJkZWZzKG5vX2luLCBpbl9jb25zdCkge1xuICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBhLnB1c2gobmV3IEFTVF9WYXJEZWYoe1xuICAgICAgICAgICAgICAgIHN0YXJ0IDogUy50b2tlbixcbiAgICAgICAgICAgICAgICBuYW1lICA6IGFzX3N5bWJvbChpbl9jb25zdCA/IEFTVF9TeW1ib2xDb25zdCA6IEFTVF9TeW1ib2xWYXIpLFxuICAgICAgICAgICAgICAgIHZhbHVlIDogaXMoXCJvcGVyYXRvclwiLCBcIj1cIikgPyAobmV4dCgpLCBleHByZXNzaW9uKGZhbHNlLCBub19pbikpIDogbnVsbCxcbiAgICAgICAgICAgICAgICBlbmQgICA6IHByZXYoKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKCFpcyhcInB1bmNcIiwgXCIsXCIpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG5cbiAgICB2YXIgdmFyXyA9IGZ1bmN0aW9uKG5vX2luKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX1Zhcih7XG4gICAgICAgICAgICBzdGFydCAgICAgICA6IHByZXYoKSxcbiAgICAgICAgICAgIGRlZmluaXRpb25zIDogdmFyZGVmcyhub19pbiwgZmFsc2UpLFxuICAgICAgICAgICAgZW5kICAgICAgICAgOiBwcmV2KClcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBjb25zdF8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfQ29uc3Qoe1xuICAgICAgICAgICAgc3RhcnQgICAgICAgOiBwcmV2KCksXG4gICAgICAgICAgICBkZWZpbml0aW9ucyA6IHZhcmRlZnMoZmFsc2UsIHRydWUpLFxuICAgICAgICAgICAgZW5kICAgICAgICAgOiBwcmV2KClcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBuZXdfID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgIGV4cGVjdF90b2tlbihcIm9wZXJhdG9yXCIsIFwibmV3XCIpO1xuICAgICAgICB2YXIgbmV3ZXhwID0gZXhwcl9hdG9tKGZhbHNlKSwgYXJncztcbiAgICAgICAgaWYgKGlzKFwicHVuY1wiLCBcIihcIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGFyZ3MgPSBleHByX2xpc3QoXCIpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRzKG5ldyBBU1RfTmV3KHtcbiAgICAgICAgICAgIHN0YXJ0ICAgICAgOiBzdGFydCxcbiAgICAgICAgICAgIGV4cHJlc3Npb24gOiBuZXdleHAsXG4gICAgICAgICAgICBhcmdzICAgICAgIDogYXJncyxcbiAgICAgICAgICAgIGVuZCAgICAgICAgOiBwcmV2KClcbiAgICAgICAgfSksIHRydWUpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhc19hdG9tX25vZGUoKSB7XG4gICAgICAgIHZhciB0b2sgPSBTLnRva2VuLCByZXQ7XG4gICAgICAgIHN3aXRjaCAodG9rLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgIGNhc2UgXCJrZXl3b3JkXCI6XG4gICAgICAgICAgICByZXQgPSBfbWFrZV9zeW1ib2woQVNUX1N5bWJvbFJlZik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibnVtXCI6XG4gICAgICAgICAgICByZXQgPSBuZXcgQVNUX051bWJlcih7IHN0YXJ0OiB0b2ssIGVuZDogdG9rLCB2YWx1ZTogdG9rLnZhbHVlIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0ID0gbmV3IEFTVF9TdHJpbmcoeyBzdGFydDogdG9rLCBlbmQ6IHRvaywgdmFsdWU6IHRvay52YWx1ZSB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyZWdleHBcIjpcbiAgICAgICAgICAgIHJldCA9IG5ldyBBU1RfUmVnRXhwKHsgc3RhcnQ6IHRvaywgZW5kOiB0b2ssIHZhbHVlOiB0b2sudmFsdWUgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYXRvbVwiOlxuICAgICAgICAgICAgc3dpdGNoICh0b2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgICAgICAgICAgcmV0ID0gbmV3IEFTVF9GYWxzZSh7IHN0YXJ0OiB0b2ssIGVuZDogdG9rIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidHJ1ZVwiOlxuICAgICAgICAgICAgICAgIHJldCA9IG5ldyBBU1RfVHJ1ZSh7IHN0YXJ0OiB0b2ssIGVuZDogdG9rIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgICAgIHJldCA9IG5ldyBBU1RfTnVsbCh7IHN0YXJ0OiB0b2ssIGVuZDogdG9rIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICB2YXIgZXhwcl9hdG9tID0gZnVuY3Rpb24oYWxsb3dfY2FsbHMpIHtcbiAgICAgICAgaWYgKGlzKFwib3BlcmF0b3JcIiwgXCJuZXdcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdfKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgaWYgKGlzKFwicHVuY1wiKSkge1xuICAgICAgICAgICAgc3dpdGNoIChzdGFydC52YWx1ZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXggPSBleHByZXNzaW9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4LnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgZXguZW5kID0gUy50b2tlbjtcbiAgICAgICAgICAgICAgICBleHBlY3QoXCIpXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKGV4LCBhbGxvd19jYWxscyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdHMoYXJyYXlfKCksIGFsbG93X2NhbGxzKTtcbiAgICAgICAgICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhvYmplY3RfKCksIGFsbG93X2NhbGxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMoXCJrZXl3b3JkXCIsIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb25fKEFTVF9GdW5jdGlvbik7XG4gICAgICAgICAgICBmdW5jLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBmdW5jLmVuZCA9IHByZXYoKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKGZ1bmMsIGFsbG93X2NhbGxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQVRPTUlDX1NUQVJUX1RPS0VOW1MudG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKGFzX2F0b21fbm9kZSgpLCBhbGxvd19jYWxscyk7XG4gICAgICAgIH1cbiAgICAgICAgdW5leHBlY3RlZCgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBleHByX2xpc3QoY2xvc2luZywgYWxsb3dfdHJhaWxpbmdfY29tbWEsIGFsbG93X2VtcHR5KSB7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWUsIGEgPSBbXTtcbiAgICAgICAgd2hpbGUgKCFpcyhcInB1bmNcIiwgY2xvc2luZykpIHtcbiAgICAgICAgICAgIGlmIChmaXJzdCkgZmlyc3QgPSBmYWxzZTsgZWxzZSBleHBlY3QoXCIsXCIpO1xuICAgICAgICAgICAgaWYgKGFsbG93X3RyYWlsaW5nX2NvbW1hICYmIGlzKFwicHVuY1wiLCBjbG9zaW5nKSkgYnJlYWs7XG4gICAgICAgICAgICBpZiAoaXMoXCJwdW5jXCIsIFwiLFwiKSAmJiBhbGxvd19lbXB0eSkge1xuICAgICAgICAgICAgICAgIGEucHVzaChuZXcgQVNUX0hvbGUoeyBzdGFydDogUy50b2tlbiwgZW5kOiBTLnRva2VuIH0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKGV4cHJlc3Npb24oZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG5cbiAgICB2YXIgYXJyYXlfID0gZW1iZWRfdG9rZW5zKGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoXCJbXCIpO1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9BcnJheSh7XG4gICAgICAgICAgICBlbGVtZW50czogZXhwcl9saXN0KFwiXVwiLCAhb3B0aW9ucy5zdHJpY3QsIHRydWUpXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIG9iamVjdF8gPSBlbWJlZF90b2tlbnMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChcIntcIik7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWUsIGEgPSBbXTtcbiAgICAgICAgd2hpbGUgKCFpcyhcInB1bmNcIiwgXCJ9XCIpKSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QpIGZpcnN0ID0gZmFsc2U7IGVsc2UgZXhwZWN0KFwiLFwiKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5zdHJpY3QgJiYgaXMoXCJwdW5jXCIsIFwifVwiKSlcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyB0cmFpbGluZyBjb21tYVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgICAgIHZhciB0eXBlID0gc3RhcnQudHlwZTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gYXNfcHJvcGVydHlfbmFtZSgpO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJuYW1lXCIgJiYgIWlzKFwicHVuY1wiLCBcIjpcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcImdldFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChuZXcgQVNUX09iamVjdEdldHRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ICAgOiBhc19hdG9tX25vZGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIDogZnVuY3Rpb25fKEFTVF9BY2Nlc3NvciksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgICA6IHByZXYoKVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcInNldFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChuZXcgQVNUX09iamVjdFNldHRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ICAgOiBhc19hdG9tX25vZGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIDogZnVuY3Rpb25fKEFTVF9BY2Nlc3NvciksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgICA6IHByZXYoKVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cGVjdChcIjpcIik7XG4gICAgICAgICAgICBhLnB1c2gobmV3IEFTVF9PYmplY3RLZXlWYWwoe1xuICAgICAgICAgICAgICAgIHN0YXJ0IDogc3RhcnQsXG4gICAgICAgICAgICAgICAga2V5ICAgOiBuYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlIDogZXhwcmVzc2lvbihmYWxzZSksXG4gICAgICAgICAgICAgICAgZW5kICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX09iamVjdCh7IHByb3BlcnRpZXM6IGEgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhc19wcm9wZXJ0eV9uYW1lKCkge1xuICAgICAgICB2YXIgdG1wID0gUy50b2tlbjtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBzd2l0Y2ggKHRtcC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIm51bVwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgIGNhc2UgXCJvcGVyYXRvclwiOlxuICAgICAgICAgIGNhc2UgXCJrZXl3b3JkXCI6XG4gICAgICAgICAgY2FzZSBcImF0b21cIjpcbiAgICAgICAgICAgIHJldHVybiB0bXAudmFsdWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhc19uYW1lKCkge1xuICAgICAgICB2YXIgdG1wID0gUy50b2tlbjtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBzd2l0Y2ggKHRtcC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICBjYXNlIFwib3BlcmF0b3JcIjpcbiAgICAgICAgICBjYXNlIFwia2V5d29yZFwiOlxuICAgICAgICAgIGNhc2UgXCJhdG9tXCI6XG4gICAgICAgICAgICByZXR1cm4gdG1wLnZhbHVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX21ha2Vfc3ltYm9sKHR5cGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBTLnRva2VuLnZhbHVlO1xuICAgICAgICByZXR1cm4gbmV3IChuYW1lID09IFwidGhpc1wiID8gQVNUX1RoaXMgOiB0eXBlKSh7XG4gICAgICAgICAgICBuYW1lICA6IFN0cmluZyhuYW1lKSxcbiAgICAgICAgICAgIHN0YXJ0IDogUy50b2tlbixcbiAgICAgICAgICAgIGVuZCAgIDogUy50b2tlblxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXNfc3ltYm9sKHR5cGUsIG5vZXJyb3IpIHtcbiAgICAgICAgaWYgKCFpcyhcIm5hbWVcIikpIHtcbiAgICAgICAgICAgIGlmICghbm9lcnJvcikgY3JvYWsoXCJOYW1lIGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN5bSA9IF9tYWtlX3N5bWJvbCh0eXBlKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gc3ltO1xuICAgIH07XG5cbiAgICB2YXIgc3Vic2NyaXB0cyA9IGZ1bmN0aW9uKGV4cHIsIGFsbG93X2NhbGxzKSB7XG4gICAgICAgIHZhciBzdGFydCA9IGV4cHIuc3RhcnQ7XG4gICAgICAgIGlmIChpcyhcInB1bmNcIiwgXCIuXCIpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhuZXcgQVNUX0RvdCh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBleHByLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5ICAgOiBhc19uYW1lKCksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICA6IHByZXYoKVxuICAgICAgICAgICAgfSksIGFsbG93X2NhbGxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMoXCJwdW5jXCIsIFwiW1wiKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBleHByZXNzaW9uKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KFwiXVwiKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKG5ldyBBU1RfU3ViKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgIDogc3RhcnQsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGV4cHIsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgICA6IHByb3AsXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICA6IHByZXYoKVxuICAgICAgICAgICAgfSksIGFsbG93X2NhbGxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dfY2FsbHMgJiYgaXMoXCJwdW5jXCIsIFwiKFwiKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdHMobmV3IEFTVF9DYWxsKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgIDogc3RhcnQsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGV4cHIsXG4gICAgICAgICAgICAgICAgYXJncyAgICAgICA6IGV4cHJfbGlzdChcIilcIiksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICA6IHByZXYoKVxuICAgICAgICAgICAgfSksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH07XG5cbiAgICB2YXIgbWF5YmVfdW5hcnkgPSBmdW5jdGlvbihhbGxvd19jYWxscykge1xuICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICBpZiAoaXMoXCJvcGVyYXRvclwiKSAmJiBVTkFSWV9QUkVGSVgoc3RhcnQudmFsdWUpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICBoYW5kbGVfcmVnZXhwKCk7XG4gICAgICAgICAgICB2YXIgZXggPSBtYWtlX3VuYXJ5KEFTVF9VbmFyeVByZWZpeCwgc3RhcnQudmFsdWUsIG1heWJlX3VuYXJ5KGFsbG93X2NhbGxzKSk7XG4gICAgICAgICAgICBleC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgZXguZW5kID0gcHJldigpO1xuICAgICAgICAgICAgcmV0dXJuIGV4O1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSBleHByX2F0b20oYWxsb3dfY2FsbHMpO1xuICAgICAgICB3aGlsZSAoaXMoXCJvcGVyYXRvclwiKSAmJiBVTkFSWV9QT1NURklYKFMudG9rZW4udmFsdWUpICYmICFTLnRva2VuLm5sYikge1xuICAgICAgICAgICAgdmFsID0gbWFrZV91bmFyeShBU1RfVW5hcnlQb3N0Zml4LCBTLnRva2VuLnZhbHVlLCB2YWwpO1xuICAgICAgICAgICAgdmFsLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICB2YWwuZW5kID0gUy50b2tlbjtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYWtlX3VuYXJ5KGN0b3IsIG9wLCBleHByKSB7XG4gICAgICAgIGlmICgob3AgPT0gXCIrK1wiIHx8IG9wID09IFwiLS1cIikgJiYgIWlzX2Fzc2lnbmFibGUoZXhwcikpXG4gICAgICAgICAgICBjcm9hayhcIkludmFsaWQgdXNlIG9mIFwiICsgb3AgKyBcIiBvcGVyYXRvclwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHsgb3BlcmF0b3I6IG9wLCBleHByZXNzaW9uOiBleHByIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhwcl9vcCA9IGZ1bmN0aW9uKGxlZnQsIG1pbl9wcmVjLCBub19pbikge1xuICAgICAgICB2YXIgb3AgPSBpcyhcIm9wZXJhdG9yXCIpID8gUy50b2tlbi52YWx1ZSA6IG51bGw7XG4gICAgICAgIGlmIChvcCA9PSBcImluXCIgJiYgbm9faW4pIG9wID0gbnVsbDtcbiAgICAgICAgdmFyIHByZWMgPSBvcCAhPSBudWxsID8gUFJFQ0VERU5DRVtvcF0gOiBudWxsO1xuICAgICAgICBpZiAocHJlYyAhPSBudWxsICYmIHByZWMgPiBtaW5fcHJlYykge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0ID0gZXhwcl9vcChtYXliZV91bmFyeSh0cnVlKSwgcHJlYywgbm9faW4pO1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJfb3AobmV3IEFTVF9CaW5hcnkoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgIDogbGVmdC5zdGFydCxcbiAgICAgICAgICAgICAgICBsZWZ0ICAgICA6IGxlZnQsXG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBvcCxcbiAgICAgICAgICAgICAgICByaWdodCAgICA6IHJpZ2h0LFxuICAgICAgICAgICAgICAgIGVuZCAgICAgIDogcmlnaHQuZW5kXG4gICAgICAgICAgICB9KSwgbWluX3ByZWMsIG5vX2luKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwcl9vcHMobm9faW4pIHtcbiAgICAgICAgcmV0dXJuIGV4cHJfb3AobWF5YmVfdW5hcnkodHJ1ZSksIDAsIG5vX2luKTtcbiAgICB9O1xuXG4gICAgdmFyIG1heWJlX2NvbmRpdGlvbmFsID0gZnVuY3Rpb24obm9faW4pIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgdmFyIGV4cHIgPSBleHByX29wcyhub19pbik7XG4gICAgICAgIGlmIChpcyhcIm9wZXJhdG9yXCIsIFwiP1wiKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgdmFyIHllcyA9IGV4cHJlc3Npb24oZmFsc2UpO1xuICAgICAgICAgICAgZXhwZWN0KFwiOlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX0NvbmRpdGlvbmFsKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbiAgIDogZXhwcixcbiAgICAgICAgICAgICAgICBjb25zZXF1ZW50ICA6IHllcyxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZSA6IGV4cHJlc3Npb24oZmFsc2UsIG5vX2luKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgICAgICA6IHByZXYoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzX2Fzc2lnbmFibGUoZXhwcikge1xuICAgICAgICBpZiAoIW9wdGlvbnMuc3RyaWN0KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGV4cHIgaW5zdGFuY2VvZiBBU1RfVGhpcykgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gKGV4cHIgaW5zdGFuY2VvZiBBU1RfUHJvcEFjY2VzcyB8fCBleHByIGluc3RhbmNlb2YgQVNUX1N5bWJvbCk7XG4gICAgfTtcblxuICAgIHZhciBtYXliZV9hc3NpZ24gPSBmdW5jdGlvbihub19pbikge1xuICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICB2YXIgbGVmdCA9IG1heWJlX2NvbmRpdGlvbmFsKG5vX2luKSwgdmFsID0gUy50b2tlbi52YWx1ZTtcbiAgICAgICAgaWYgKGlzKFwib3BlcmF0b3JcIikgJiYgQVNTSUdOTUVOVCh2YWwpKSB7XG4gICAgICAgICAgICBpZiAoaXNfYXNzaWduYWJsZShsZWZ0KSkge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9Bc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgICA6IGxlZnQsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogdmFsLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgICA6IG1heWJlX2Fzc2lnbihub19pbiksXG4gICAgICAgICAgICAgICAgICAgIGVuZCAgICAgIDogcHJldigpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcm9hayhcIkludmFsaWQgYXNzaWdubWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9O1xuXG4gICAgdmFyIGV4cHJlc3Npb24gPSBmdW5jdGlvbihjb21tYXMsIG5vX2luKSB7XG4gICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgIHZhciBleHByID0gbWF5YmVfYXNzaWduKG5vX2luKTtcbiAgICAgICAgaWYgKGNvbW1hcyAmJiBpcyhcInB1bmNcIiwgXCIsXCIpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9TZXEoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGNhciAgICA6IGV4cHIsXG4gICAgICAgICAgICAgICAgY2RyICAgIDogZXhwcmVzc2lvbih0cnVlLCBub19pbiksXG4gICAgICAgICAgICAgICAgZW5kICAgIDogcGVlaygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5fbG9vcChjb250KSB7XG4gICAgICAgICsrUy5pbl9sb29wO1xuICAgICAgICB2YXIgcmV0ID0gY29udCgpO1xuICAgICAgICAtLVMuaW5fbG9vcDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMuZXhwcmVzc2lvbikge1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbih0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgIHZhciBib2R5ID0gW107XG4gICAgICAgIHdoaWxlICghaXMoXCJlb2ZcIikpXG4gICAgICAgICAgICBib2R5LnB1c2goc3RhdGVtZW50KCkpO1xuICAgICAgICB2YXIgZW5kID0gcHJldigpO1xuICAgICAgICB2YXIgdG9wbGV2ZWwgPSBvcHRpb25zLnRvcGxldmVsO1xuICAgICAgICBpZiAodG9wbGV2ZWwpIHtcbiAgICAgICAgICAgIHRvcGxldmVsLmJvZHkgPSB0b3BsZXZlbC5ib2R5LmNvbmNhdChib2R5KTtcbiAgICAgICAgICAgIHRvcGxldmVsLmVuZCA9IGVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcGxldmVsID0gbmV3IEFTVF9Ub3BsZXZlbCh7IHN0YXJ0OiBzdGFydCwgYm9keTogYm9keSwgZW5kOiBlbmQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcGxldmVsO1xuICAgIH0pKCk7XG5cbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIEEgSmF2YVNjcmlwdCB0b2tlbml6ZXIgLyBwYXJzZXIgLyBiZWF1dGlmaWVyIC8gY29tcHJlc3Nvci5cbiAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzJcblxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAoQykgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcjogTWloYWkgQmF6b25cbiAgICAgICAgICAgICAgICAgICAgICAgICA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vbWloYWkuYmF6b24ubmV0L2Jsb2dcblxuICBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG5cbiAgICBDb3B5cmlnaHQgMjAxMiAoYykgTWloYWkgQmF6b24gPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRyZWUgdHJhbnNmb3JtZXIgaGVscGVycy5cblxuZnVuY3Rpb24gVHJlZVRyYW5zZm9ybWVyKGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBUcmVlV2Fsa2VyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5iZWZvcmUgPSBiZWZvcmU7XG4gICAgdGhpcy5hZnRlciA9IGFmdGVyO1xufVxuVHJlZVRyYW5zZm9ybWVyLnByb3RvdHlwZSA9IG5ldyBUcmVlV2Fsa2VyO1xuXG4oZnVuY3Rpb24odW5kZWZpbmVkKXtcblxuICAgIGZ1bmN0aW9uIF8obm9kZSwgZGVzY2VuZCkge1xuICAgICAgICBub2RlLkRFRk1FVEhPRChcInRyYW5zZm9ybVwiLCBmdW5jdGlvbih0dywgaW5fbGlzdCl7XG4gICAgICAgICAgICB2YXIgeCwgeTtcbiAgICAgICAgICAgIHR3LnB1c2godGhpcyk7XG4gICAgICAgICAgICBpZiAodHcuYmVmb3JlKSB4ID0gdHcuYmVmb3JlKHRoaXMsIGRlc2NlbmQsIGluX2xpc3QpO1xuICAgICAgICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICghdHcuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NlbmQoeCwgdHcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR3LnN0YWNrW3R3LnN0YWNrLmxlbmd0aCAtIDFdID0geCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY2VuZCh4LCB0dyk7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0dy5hZnRlcih4LCBpbl9saXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgIT09IHVuZGVmaW5lZCkgeCA9IHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHcucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRvX2xpc3QobGlzdCwgdHcpIHtcbiAgICAgICAgcmV0dXJuIE1BUChsaXN0LCBmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnRyYW5zZm9ybSh0dywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfKEFTVF9Ob2RlLCBub29wKTtcblxuICAgIF8oQVNUX0xhYmVsZWRTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5sYWJlbCA9IHNlbGYubGFiZWwudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9CbG9jaywgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfRFdMb29wLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9Gb3IsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgaWYgKHNlbGYuaW5pdCkgc2VsZi5pbml0ID0gc2VsZi5pbml0LnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIGlmIChzZWxmLmNvbmRpdGlvbikgc2VsZi5jb25kaXRpb24gPSBzZWxmLmNvbmRpdGlvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBpZiAoc2VsZi5zdGVwKSBzZWxmLnN0ZXAgPSBzZWxmLnN0ZXAudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9Gb3JJbiwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmluaXQgPSBzZWxmLmluaXQudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5vYmplY3QgPSBzZWxmLm9iamVjdC50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1dpdGgsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uID0gc2VsZi5leHByZXNzaW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfRXhpdCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBpZiAoc2VsZi52YWx1ZSkgc2VsZi52YWx1ZSA9IHNlbGYudmFsdWUudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0xvb3BDb250cm9sLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIGlmIChzZWxmLmxhYmVsKSBzZWxmLmxhYmVsID0gc2VsZi5sYWJlbC50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfSWYsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBzZWxmLmNvbmRpdGlvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgaWYgKHNlbGYuYWx0ZXJuYXRpdmUpIHNlbGYuYWx0ZXJuYXRpdmUgPSBzZWxmLmFsdGVybmF0aXZlLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9Td2l0Y2gsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uID0gc2VsZi5leHByZXNzaW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYm9keSA9IGRvX2xpc3Qoc2VsZi5ib2R5LCB0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9DYXNlLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbiA9IHNlbGYuZXhwcmVzc2lvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfVHJ5LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuYm9keSA9IGRvX2xpc3Qoc2VsZi5ib2R5LCB0dyk7XG4gICAgICAgIGlmIChzZWxmLmJjYXRjaCkgc2VsZi5iY2F0Y2ggPSBzZWxmLmJjYXRjaC50cmFuc2Zvcm0odHcpO1xuICAgICAgICBpZiAoc2VsZi5iZmluYWxseSkgc2VsZi5iZmluYWxseSA9IHNlbGYuYmZpbmFsbHkudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0NhdGNoLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuYXJnbmFtZSA9IHNlbGYuYXJnbmFtZS50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfRGVmaW5pdGlvbnMsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5kZWZpbml0aW9ucyA9IGRvX2xpc3Qoc2VsZi5kZWZpbml0aW9ucywgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfVmFyRGVmLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYubmFtZSA9IHNlbGYubmFtZS50cmFuc2Zvcm0odHcpO1xuICAgICAgICBpZiAoc2VsZi52YWx1ZSkgc2VsZi52YWx1ZSA9IHNlbGYudmFsdWUudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0xhbWJkYSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBpZiAoc2VsZi5uYW1lKSBzZWxmLm5hbWUgPSBzZWxmLm5hbWUudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5hcmduYW1lcyA9IGRvX2xpc3Qoc2VsZi5hcmduYW1lcywgdHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfQ2FsbCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBzZWxmLmV4cHJlc3Npb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5hcmdzID0gZG9fbGlzdChzZWxmLmFyZ3MsIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1NlcSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmNhciA9IHNlbGYuY2FyLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuY2RyID0gc2VsZi5jZHIudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0RvdCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBzZWxmLmV4cHJlc3Npb24udHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1N1YiwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBzZWxmLmV4cHJlc3Npb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5wcm9wZXJ0eSA9IHNlbGYucHJvcGVydHkudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1VuYXJ5LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbiA9IHNlbGYuZXhwcmVzc2lvbi50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfQmluYXJ5LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYubGVmdCA9IHNlbGYubGVmdC50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLnJpZ2h0ID0gc2VsZi5yaWdodC50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBzZWxmLmNvbmRpdGlvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmNvbnNlcXVlbnQgPSBzZWxmLmNvbnNlcXVlbnQudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5hbHRlcm5hdGl2ZSA9IHNlbGYuYWx0ZXJuYXRpdmUudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0FycmF5LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZWxlbWVudHMgPSBkb19saXN0KHNlbGYuZWxlbWVudHMsIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX09iamVjdCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLnByb3BlcnRpZXMgPSBkb19saXN0KHNlbGYucHJvcGVydGllcywgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfT2JqZWN0UHJvcGVydHksIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi52YWx1ZSA9IHNlbGYudmFsdWUudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxufSkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gU3ltYm9sRGVmKHNjb3BlLCBpbmRleCwgb3JpZykge1xuICAgIHRoaXMubmFtZSA9IG9yaWcubmFtZTtcbiAgICB0aGlzLm9yaWcgPSBbIG9yaWcgXTtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5yZWZlcmVuY2VzID0gW107XG4gICAgdGhpcy5nbG9iYWwgPSBmYWxzZTtcbiAgICB0aGlzLm1hbmdsZWRfbmFtZSA9IG51bGw7XG4gICAgdGhpcy51bmRlY2xhcmVkID0gZmFsc2U7XG4gICAgdGhpcy5jb25zdGFudCA9IGZhbHNlO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbn07XG5cblN5bWJvbERlZi5wcm90b3R5cGUgPSB7XG4gICAgdW5tYW5nbGVhYmxlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nbG9iYWwgJiYgIShvcHRpb25zICYmIG9wdGlvbnMudG9wbGV2ZWwpKVxuICAgICAgICAgICAgfHwgdGhpcy51bmRlY2xhcmVkXG4gICAgICAgICAgICB8fCAoIShvcHRpb25zICYmIG9wdGlvbnMuZXZhbCkgJiYgKHRoaXMuc2NvcGUudXNlc19ldmFsIHx8IHRoaXMuc2NvcGUudXNlc193aXRoKSk7XG4gICAgfSxcbiAgICBtYW5nbGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmdsZWRfbmFtZSAmJiAhdGhpcy51bm1hbmdsZWFibGUob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5zY29wZTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5zY3Jld19pZTggJiYgdGhpcy5vcmlnWzBdIGluc3RhbmNlb2YgQVNUX1N5bWJvbExhbWJkYSlcbiAgICAgICAgICAgICAgICBzID0gcy5wYXJlbnRfc2NvcGU7XG4gICAgICAgICAgICB0aGlzLm1hbmdsZWRfbmFtZSA9IHMubmV4dF9tYW5nbGVkKG9wdGlvbnMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuQVNUX1RvcGxldmVsLkRFRk1FVEhPRChcImZpZ3VyZV9vdXRfc2NvcGVcIiwgZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgc2NyZXdfaWU4OiBmYWxzZVxuICAgIH0pO1xuXG4gICAgLy8gcGFzcyAxOiBzZXR1cCBzY29wZSBjaGFpbmluZyBhbmQgaGFuZGxlIGRlZmluaXRpb25zXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBzY29wZSA9IHNlbGYucGFyZW50X3Njb3BlID0gbnVsbDtcbiAgICB2YXIgZGVmdW4gPSBudWxsO1xuICAgIHZhciBuZXN0aW5nID0gMDtcbiAgICB2YXIgdHcgPSBuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlLCBkZXNjZW5kKXtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2NyZXdfaWU4ICYmIG5vZGUgaW5zdGFuY2VvZiBBU1RfQ2F0Y2gpIHtcbiAgICAgICAgICAgIHZhciBzYXZlX3Njb3BlID0gc2NvcGU7XG4gICAgICAgICAgICBzY29wZSA9IG5ldyBBU1RfU2NvcGUobm9kZSk7XG4gICAgICAgICAgICBzY29wZS5pbml0X3Njb3BlX3ZhcnMobmVzdGluZyk7XG4gICAgICAgICAgICBzY29wZS5wYXJlbnRfc2NvcGUgPSBzYXZlX3Njb3BlO1xuICAgICAgICAgICAgZGVzY2VuZCgpO1xuICAgICAgICAgICAgc2NvcGUgPSBzYXZlX3Njb3BlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2NvcGUpIHtcbiAgICAgICAgICAgIG5vZGUuaW5pdF9zY29wZV92YXJzKG5lc3RpbmcpO1xuICAgICAgICAgICAgdmFyIHNhdmVfc2NvcGUgPSBub2RlLnBhcmVudF9zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgdmFyIHNhdmVfZGVmdW4gPSBkZWZ1bjtcbiAgICAgICAgICAgIGRlZnVuID0gc2NvcGUgPSBub2RlO1xuICAgICAgICAgICAgKytuZXN0aW5nOyBkZXNjZW5kKCk7IC0tbmVzdGluZztcbiAgICAgICAgICAgIHNjb3BlID0gc2F2ZV9zY29wZTtcbiAgICAgICAgICAgIGRlZnVuID0gc2F2ZV9kZWZ1bjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgICAgICAgLy8gZG9uJ3QgZGVzY2VuZCBhZ2FpbiBpbiBUcmVlV2Fsa2VyXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICBub2RlLnNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICBwdXNoX3VuaXEoc2NvcGUuZGlyZWN0aXZlcywgbm9kZS52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9XaXRoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzID0gc2NvcGU7IHM7IHMgPSBzLnBhcmVudF9zY29wZSlcbiAgICAgICAgICAgICAgICBzLnVzZXNfd2l0aCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sKSB7XG4gICAgICAgICAgICBub2RlLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sTGFtYmRhKSB7XG4gICAgICAgICAgICBkZWZ1bi5kZWZfZnVuY3Rpb24obm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xEZWZ1bikge1xuICAgICAgICAgICAgLy8gQ2FyZWZ1bCBoZXJlLCB0aGUgc2NvcGUgd2hlcmUgdGhpcyBzaG91bGQgYmUgZGVmaW5lZCBpc1xuICAgICAgICAgICAgLy8gdGhlIHBhcmVudCBzY29wZS4gIFRoZSByZWFzb24gaXMgdGhhdCB3ZSBlbnRlciBhIG5ld1xuICAgICAgICAgICAgLy8gc2NvcGUgd2hlbiB3ZSBlbmNvdW50ZXIgdGhlIEFTVF9EZWZ1biBub2RlICh3aGljaCBpc1xuICAgICAgICAgICAgLy8gaW5zdGFuY2VvZiBBU1RfU2NvcGUpIGJ1dCB3ZSBnZXQgdG8gdGhlIHN5bWJvbCBhIGJpdFxuICAgICAgICAgICAgLy8gbGF0ZXIuXG4gICAgICAgICAgICAobm9kZS5zY29wZSA9IGRlZnVuLnBhcmVudF9zY29wZSkuZGVmX2Z1bmN0aW9uKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sVmFyXG4gICAgICAgICAgICAgICAgIHx8IG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sQ29uc3QpIHtcbiAgICAgICAgICAgIHZhciBkZWYgPSBkZWZ1bi5kZWZfdmFyaWFibGUobm9kZSk7XG4gICAgICAgICAgICBkZWYuY29uc3RhbnQgPSBub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbENvbnN0O1xuICAgICAgICAgICAgZGVmLmluaXQgPSB0dy5wYXJlbnQoKS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbENhdGNoKSB7XG4gICAgICAgICAgICAob3B0aW9ucy5zY3Jld19pZTggPyBzY29wZSA6IGRlZnVuKVxuICAgICAgICAgICAgICAgIC5kZWZfdmFyaWFibGUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLndhbGsodHcpO1xuXG4gICAgLy8gcGFzcyAyOiBmaW5kIGJhY2sgcmVmZXJlbmNlcyBhbmQgZXZhbFxuICAgIHZhciBmdW5jID0gbnVsbDtcbiAgICB2YXIgZ2xvYmFscyA9IHNlbGYuZ2xvYmFscyA9IG5ldyBEaWN0aW9uYXJ5KCk7XG4gICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSwgZGVzY2VuZCl7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0xhbWJkYSkge1xuICAgICAgICAgICAgdmFyIHByZXZfZnVuYyA9IGZ1bmM7XG4gICAgICAgICAgICBmdW5jID0gbm9kZTtcbiAgICAgICAgICAgIGRlc2NlbmQoKTtcbiAgICAgICAgICAgIGZ1bmMgPSBwcmV2X2Z1bmM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICAgICAgdmFyIHN5bSA9IG5vZGUuc2NvcGUuZmluZF92YXJpYWJsZShuYW1lKTtcbiAgICAgICAgICAgIGlmICghc3ltKSB7XG4gICAgICAgICAgICAgICAgdmFyIGc7XG4gICAgICAgICAgICAgICAgaWYgKGdsb2JhbHMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGcgPSBnbG9iYWxzLmdldChuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnID0gbmV3IFN5bWJvbERlZihzZWxmLCBnbG9iYWxzLnNpemUoKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGcudW5kZWNsYXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGcuZ2xvYmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFscy5zZXQobmFtZSwgZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUudGhlZGVmID0gZztcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcImV2YWxcIiAmJiB0dy5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSBub2RlLnNjb3BlOyBzICYmICFzLnVzZXNfZXZhbDsgcyA9IHMucGFyZW50X3Njb3BlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcy51c2VzX2V2YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnVuYyAmJiBuYW1lID09IFwiYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYy51c2VzX2FyZ3VtZW50cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnRoZWRlZiA9IHN5bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUucmVmZXJlbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGYud2Fsayh0dyk7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcImluaXRfc2NvcGVfdmFyc1wiLCBmdW5jdGlvbihuZXN0aW5nKXtcbiAgICB0aGlzLmRpcmVjdGl2ZXMgPSBbXTsgICAgIC8vIGNvbnRhaW5zIHRoZSBkaXJlY3RpdmVzIGRlZmluZWQgaW4gdGhpcyBzY29wZSwgaS5lLiBcInVzZSBzdHJpY3RcIlxuICAgIHRoaXMudmFyaWFibGVzID0gbmV3IERpY3Rpb25hcnkoKTsgLy8gbWFwIG5hbWUgdG8gQVNUX1N5bWJvbFZhciAodmFyaWFibGVzIGRlZmluZWQgaW4gdGhpcyBzY29wZTsgaW5jbHVkZXMgZnVuY3Rpb25zKVxuICAgIHRoaXMuZnVuY3Rpb25zID0gbmV3IERpY3Rpb25hcnkoKTsgLy8gbWFwIG5hbWUgdG8gQVNUX1N5bWJvbERlZnVuIChmdW5jdGlvbnMgZGVmaW5lZCBpbiB0aGlzIHNjb3BlKVxuICAgIHRoaXMudXNlc193aXRoID0gZmFsc2U7ICAgLy8gd2lsbCBiZSBzZXQgdG8gdHJ1ZSBpZiB0aGlzIG9yIHNvbWUgbmVzdGVkIHNjb3BlIHVzZXMgdGhlIGB3aXRoYCBzdGF0ZW1lbnRcbiAgICB0aGlzLnVzZXNfZXZhbCA9IGZhbHNlOyAgIC8vIHdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhpcyBvciBuZXN0ZWQgc2NvcGUgdXNlcyB0aGUgZ2xvYmFsIGBldmFsYFxuICAgIHRoaXMucGFyZW50X3Njb3BlID0gbnVsbDsgLy8gdGhlIHBhcmVudCBzY29wZVxuICAgIHRoaXMuZW5jbG9zZWQgPSBbXTsgICAgICAgLy8gYSBsaXN0IG9mIHZhcmlhYmxlcyBmcm9tIHRoaXMgb3Igb3V0ZXIgc2NvcGUocykgdGhhdCBhcmUgcmVmZXJlbmNlZCBmcm9tIHRoaXMgb3IgaW5uZXIgc2NvcGVzXG4gICAgdGhpcy5jbmFtZSA9IC0xOyAgICAgICAgICAvLyB0aGUgY3VycmVudCBpbmRleCBmb3IgbWFuZ2xpbmcgZnVuY3Rpb25zL3ZhcmlhYmxlc1xuICAgIHRoaXMubmVzdGluZyA9IG5lc3Rpbmc7ICAgLy8gdGhlIG5lc3RpbmcgbGV2ZWwgb2YgdGhpcyBzY29wZSAoMCBtZWFucyB0b3BsZXZlbClcbn0pO1xuXG5BU1RfU2NvcGUuREVGTUVUSE9EKFwic3RyaWN0XCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuaGFzX2RpcmVjdGl2ZShcInVzZSBzdHJpY3RcIik7XG59KTtcblxuQVNUX0xhbWJkYS5ERUZNRVRIT0QoXCJpbml0X3Njb3BlX3ZhcnNcIiwgZnVuY3Rpb24oKXtcbiAgICBBU1RfU2NvcGUucHJvdG90eXBlLmluaXRfc2NvcGVfdmFycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudXNlc19hcmd1bWVudHMgPSBmYWxzZTtcbn0pO1xuXG5BU1RfU3ltYm9sUmVmLkRFRk1FVEhPRChcInJlZmVyZW5jZVwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVmID0gdGhpcy5kZWZpbml0aW9uKCk7XG4gICAgZGVmLnJlZmVyZW5jZXMucHVzaCh0aGlzKTtcbiAgICB2YXIgcyA9IHRoaXMuc2NvcGU7XG4gICAgd2hpbGUgKHMpIHtcbiAgICAgICAgcHVzaF91bmlxKHMuZW5jbG9zZWQsIGRlZik7XG4gICAgICAgIGlmIChzID09PSBkZWYuc2NvcGUpIGJyZWFrO1xuICAgICAgICBzID0gcy5wYXJlbnRfc2NvcGU7XG4gICAgfVxuICAgIHRoaXMuZnJhbWUgPSB0aGlzLnNjb3BlLm5lc3RpbmcgLSBkZWYuc2NvcGUubmVzdGluZztcbn0pO1xuXG5BU1RfU2NvcGUuREVGTUVUSE9EKFwiZmluZF92YXJpYWJsZVwiLCBmdW5jdGlvbihuYW1lKXtcbiAgICBpZiAobmFtZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2wpIG5hbWUgPSBuYW1lLm5hbWU7XG4gICAgcmV0dXJuIHRoaXMudmFyaWFibGVzLmdldChuYW1lKVxuICAgICAgICB8fCAodGhpcy5wYXJlbnRfc2NvcGUgJiYgdGhpcy5wYXJlbnRfc2NvcGUuZmluZF92YXJpYWJsZShuYW1lKSk7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcImhhc19kaXJlY3RpdmVcIiwgZnVuY3Rpb24odmFsdWUpe1xuICAgIHJldHVybiB0aGlzLnBhcmVudF9zY29wZSAmJiB0aGlzLnBhcmVudF9zY29wZS5oYXNfZGlyZWN0aXZlKHZhbHVlKVxuICAgICAgICB8fCAodGhpcy5kaXJlY3RpdmVzLmluZGV4T2YodmFsdWUpID49IDAgPyB0aGlzIDogbnVsbCk7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcImRlZl9mdW5jdGlvblwiLCBmdW5jdGlvbihzeW1ib2wpe1xuICAgIHRoaXMuZnVuY3Rpb25zLnNldChzeW1ib2wubmFtZSwgdGhpcy5kZWZfdmFyaWFibGUoc3ltYm9sKSk7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcImRlZl92YXJpYWJsZVwiLCBmdW5jdGlvbihzeW1ib2wpe1xuICAgIHZhciBkZWY7XG4gICAgaWYgKCF0aGlzLnZhcmlhYmxlcy5oYXMoc3ltYm9sLm5hbWUpKSB7XG4gICAgICAgIGRlZiA9IG5ldyBTeW1ib2xEZWYodGhpcywgdGhpcy52YXJpYWJsZXMuc2l6ZSgpLCBzeW1ib2wpO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcy5zZXQoc3ltYm9sLm5hbWUsIGRlZik7XG4gICAgICAgIGRlZi5nbG9iYWwgPSAhdGhpcy5wYXJlbnRfc2NvcGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVmID0gdGhpcy52YXJpYWJsZXMuZ2V0KHN5bWJvbC5uYW1lKTtcbiAgICAgICAgZGVmLm9yaWcucHVzaChzeW1ib2wpO1xuICAgIH1cbiAgICByZXR1cm4gc3ltYm9sLnRoZWRlZiA9IGRlZjtcbn0pO1xuXG5BU1RfU2NvcGUuREVGTUVUSE9EKFwibmV4dF9tYW5nbGVkXCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBleHQgPSB0aGlzLmVuY2xvc2VkO1xuICAgIG91dDogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIG0gPSBiYXNlNTQoKyt0aGlzLmNuYW1lKTtcbiAgICAgICAgaWYgKCFpc19pZGVudGlmaWVyKG0pKSBjb250aW51ZTsgLy8gc2tpcCBvdmVyIFwiZG9cIlxuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyL2lzc3Vlcy8yNDIgLS0gZG8gbm90XG4gICAgICAgIC8vIHNoYWRvdyBhIG5hbWUgZXhjZXB0ZWQgZnJvbSBtYW5nbGluZy5cbiAgICAgICAgaWYgKG9wdGlvbnMuZXhjZXB0LmluZGV4T2YobSkgPj0gMCkgY29udGludWU7XG5cbiAgICAgICAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgbWFuZ2xlZCBuYW1lIGRvZXMgbm90IHNoYWRvdyBhIG5hbWVcbiAgICAgICAgLy8gZnJvbSBzb21lIHBhcmVudCBzY29wZSB0aGF0IGlzIHJlZmVyZW5jZWQgaW4gdGhpcyBvciBpblxuICAgICAgICAvLyBpbm5lciBzY29wZXMuXG4gICAgICAgIGZvciAodmFyIGkgPSBleHQubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgIHZhciBzeW0gPSBleHRbaV07XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHN5bS5tYW5nbGVkX25hbWUgfHwgKHN5bS51bm1hbmdsZWFibGUob3B0aW9ucykgJiYgc3ltLm5hbWUpO1xuICAgICAgICAgICAgaWYgKG0gPT0gbmFtZSkgY29udGludWUgb3V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cbn0pO1xuXG5BU1RfRnVuY3Rpb24uREVGTUVUSE9EKFwibmV4dF9tYW5nbGVkXCIsIGZ1bmN0aW9uKG9wdGlvbnMsIGRlZil7XG4gICAgLy8gIzE3OSwgIzMyNlxuICAgIC8vIGluIFNhZmFyaSBzdHJpY3QgbW9kZSwgc29tZXRoaW5nIGxpa2UgKGZ1bmN0aW9uIHgoeCl7Li4ufSkgaXMgYSBzeW50YXggZXJyb3I7XG4gICAgLy8gYSBmdW5jdGlvbiBleHByZXNzaW9uJ3MgYXJndW1lbnQgY2Fubm90IHNoYWRvdyB0aGUgZnVuY3Rpb24gZXhwcmVzc2lvbidzIG5hbWVcblxuICAgIHZhciB0cmlja3lfZGVmID0gZGVmLm9yaWdbMF0gaW5zdGFuY2VvZiBBU1RfU3ltYm9sRnVuYXJnICYmIHRoaXMubmFtZSAmJiB0aGlzLm5hbWUuZGVmaW5pdGlvbigpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBuYW1lID0gQVNUX0xhbWJkYS5wcm90b3R5cGUubmV4dF9tYW5nbGVkLmNhbGwodGhpcywgb3B0aW9ucywgZGVmKTtcbiAgICAgICAgaWYgKCEodHJpY2t5X2RlZiAmJiB0cmlja3lfZGVmLm1hbmdsZWRfbmFtZSA9PSBuYW1lKSlcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbn0pO1xuXG5BU1RfU2NvcGUuREVGTUVUSE9EKFwicmVmZXJlbmNlc1wiLCBmdW5jdGlvbihzeW0pe1xuICAgIGlmIChzeW0gaW5zdGFuY2VvZiBBU1RfU3ltYm9sKSBzeW0gPSBzeW0uZGVmaW5pdGlvbigpO1xuICAgIHJldHVybiB0aGlzLmVuY2xvc2VkLmluZGV4T2Yoc3ltKSA8IDAgPyBudWxsIDogc3ltO1xufSk7XG5cbkFTVF9TeW1ib2wuREVGTUVUSE9EKFwidW5tYW5nbGVhYmxlXCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24oKS51bm1hbmdsZWFibGUob3B0aW9ucyk7XG59KTtcblxuLy8gcHJvcGVydHkgYWNjZXNzb3JzIGFyZSBub3QgbWFuZ2xlYWJsZVxuQVNUX1N5bWJvbEFjY2Vzc29yLkRFRk1FVEhPRChcInVubWFuZ2xlYWJsZVwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbi8vIGxhYmVscyBhcmUgYWx3YXlzIG1hbmdsZWFibGVcbkFTVF9MYWJlbC5ERUZNRVRIT0QoXCJ1bm1hbmdsZWFibGVcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZmFsc2U7XG59KTtcblxuQVNUX1N5bWJvbC5ERUZNRVRIT0QoXCJ1bnJlZmVyZW5jZWRcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uKCkucmVmZXJlbmNlcy5sZW5ndGggPT0gMFxuICAgICAgICAmJiAhKHRoaXMuc2NvcGUudXNlc19ldmFsIHx8IHRoaXMuc2NvcGUudXNlc193aXRoKTtcbn0pO1xuXG5BU1RfU3ltYm9sLkRFRk1FVEhPRChcInVuZGVjbGFyZWRcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uKCkudW5kZWNsYXJlZDtcbn0pO1xuXG5BU1RfTGFiZWxSZWYuREVGTUVUSE9EKFwidW5kZWNsYXJlZFwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmYWxzZTtcbn0pO1xuXG5BU1RfTGFiZWwuREVGTUVUSE9EKFwidW5kZWNsYXJlZFwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmYWxzZTtcbn0pO1xuXG5BU1RfU3ltYm9sLkRFRk1FVEhPRChcImRlZmluaXRpb25cIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy50aGVkZWY7XG59KTtcblxuQVNUX1N5bWJvbC5ERUZNRVRIT0QoXCJnbG9iYWxcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uKCkuZ2xvYmFsO1xufSk7XG5cbkFTVF9Ub3BsZXZlbC5ERUZNRVRIT0QoXCJfZGVmYXVsdF9tYW5nbGVyX29wdGlvbnNcIiwgZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgcmV0dXJuIGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZXhjZXB0ICAgOiBbXSxcbiAgICAgICAgZXZhbCAgICAgOiBmYWxzZSxcbiAgICAgICAgc29ydCAgICAgOiBmYWxzZSxcbiAgICAgICAgdG9wbGV2ZWwgOiBmYWxzZSxcbiAgICAgICAgc2NyZXdfaWU4IDogZmFsc2VcbiAgICB9KTtcbn0pO1xuXG5BU1RfVG9wbGV2ZWwuREVGTUVUSE9EKFwibWFuZ2xlX25hbWVzXCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSB0aGlzLl9kZWZhdWx0X21hbmdsZXJfb3B0aW9ucyhvcHRpb25zKTtcbiAgICAvLyBXZSBvbmx5IG5lZWQgdG8gbWFuZ2xlIGRlY2xhcmF0aW9uIG5vZGVzLiAgU3BlY2lhbCBsb2dpYyB3aXJlZFxuICAgIC8vIGludG8gdGhlIGNvZGUgZ2VuZXJhdG9yIHdpbGwgZGlzcGxheSB0aGUgbWFuZ2xlZCBuYW1lIGlmIGl0J3NcbiAgICAvLyBwcmVzZW50IChhbmQgZm9yIEFTVF9TeW1ib2xSZWYtcyBpdCdsbCB1c2UgdGhlIG1hbmdsZWQgbmFtZSBvZlxuICAgIC8vIHRoZSBBU1RfU3ltYm9sRGVjbGFyYXRpb24gdGhhdCBpdCBwb2ludHMgdG8pLlxuICAgIHZhciBsbmFtZSA9IC0xO1xuICAgIHZhciB0b19tYW5nbGUgPSBbXTtcbiAgICB2YXIgdHcgPSBuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlLCBkZXNjZW5kKXtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFiZWxlZFN0YXRlbWVudCkge1xuICAgICAgICAgICAgLy8gbG5hbWUgaXMgaW5jcmVtZW50ZWQgd2hlbiB3ZSBnZXQgdG8gdGhlIEFTVF9MYWJlbFxuICAgICAgICAgICAgdmFyIHNhdmVfbmVzdGluZyA9IGxuYW1lO1xuICAgICAgICAgICAgZGVzY2VuZCgpO1xuICAgICAgICAgICAgbG5hbWUgPSBzYXZlX25lc3Rpbmc7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICAgICAgIC8vIGRvbid0IGRlc2NlbmQgYWdhaW4gaW4gVHJlZVdhbGtlclxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHR3LnBhcmVudCgpLCBhID0gW107XG4gICAgICAgICAgICBub2RlLnZhcmlhYmxlcy5lYWNoKGZ1bmN0aW9uKHN5bWJvbCl7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhjZXB0LmluZGV4T2Yoc3ltYm9sLm5hbWUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2goc3ltYm9sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQpIGEuc29ydChmdW5jdGlvbihhLCBiKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5yZWZlcmVuY2VzLmxlbmd0aCAtIGEucmVmZXJlbmNlcy5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRvX21hbmdsZS5wdXNoLmFwcGx5KHRvX21hbmdsZSwgYSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFiZWwpIHtcbiAgICAgICAgICAgIHZhciBuYW1lO1xuICAgICAgICAgICAgZG8gbmFtZSA9IGJhc2U1NCgrK2xuYW1lKTsgd2hpbGUgKCFpc19pZGVudGlmaWVyKG5hbWUpKTtcbiAgICAgICAgICAgIG5vZGUubWFuZ2xlZF9uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNjcmV3X2llOCAmJiBub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbENhdGNoKSB7XG4gICAgICAgICAgICB0b19tYW5nbGUucHVzaChub2RlLmRlZmluaXRpb24oKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLndhbGsodHcpO1xuICAgIHRvX21hbmdsZS5mb3JFYWNoKGZ1bmN0aW9uKGRlZil7IGRlZi5tYW5nbGUob3B0aW9ucykgfSk7XG59KTtcblxuQVNUX1RvcGxldmVsLkRFRk1FVEhPRChcImNvbXB1dGVfY2hhcl9mcmVxdWVuY3lcIiwgZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IHRoaXMuX2RlZmF1bHRfbWFuZ2xlcl9vcHRpb25zKG9wdGlvbnMpO1xuICAgIHZhciB0dyA9IG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Db25zdGFudClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihub2RlLnByaW50X3RvX3N0cmluZygpKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9SZXR1cm4pXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJyZXR1cm5cIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVGhyb3cpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJ0aHJvd1wiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Db250aW51ZSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImNvbnRpbnVlXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0JyZWFrKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiYnJlYWtcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGVidWdnZXIpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJkZWJ1Z2dlclwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EaXJlY3RpdmUpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIobm9kZS52YWx1ZSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfV2hpbGUpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJ3aGlsZVwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EbylcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImRvIHdoaWxlXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0lmKSB7XG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJpZlwiKTtcbiAgICAgICAgICAgIGlmIChub2RlLmFsdGVybmF0aXZlKSBiYXNlNTQuY29uc2lkZXIoXCJlbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVmFyKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwidmFyXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0NvbnN0KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiY29uc3RcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFtYmRhKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiZnVuY3Rpb25cIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRm9yKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiZm9cIiArIFwiclwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Gb3JJbilcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImZvciBpblwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Td2l0Y2gpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJzd2l0Y2hcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQ2FzZSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImNhc2VcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGVmYXVsdClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImRlZmF1bHRcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfV2l0aClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcIndpdGhcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfT2JqZWN0U2V0dGVyKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwic2V0XCIgKyBub2RlLmtleSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfT2JqZWN0R2V0dGVyKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiZ2V0XCIgKyBub2RlLmtleSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfT2JqZWN0S2V5VmFsKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKG5vZGUua2V5KTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9OZXcpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJuZXdcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVGhpcylcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcInRoaXNcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVHJ5KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwidHJ5XCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0NhdGNoKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiY2F0Y2hcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRmluYWxseSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImZpbmFsbHlcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sICYmIG5vZGUudW5tYW5nbGVhYmxlKG9wdGlvbnMpKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKG5vZGUubmFtZSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVW5hcnkgfHwgbm9kZSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIobm9kZS5vcGVyYXRvcik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRG90KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKG5vZGUucHJvcGVydHkpO1xuICAgIH0pO1xuICAgIHRoaXMud2Fsayh0dyk7XG4gICAgYmFzZTU0LnNvcnQoKTtcbn0pO1xuXG52YXIgYmFzZTU0ID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVokXzAxMjM0NTY3ODlcIjtcbiAgICB2YXIgY2hhcnMsIGZyZXF1ZW5jeTtcbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZnJlcXVlbmN5ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY2hhcnMgPSBzdHJpbmcuc3BsaXQoXCJcIikubWFwKGZ1bmN0aW9uKGNoKXsgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkgfSk7XG4gICAgICAgIGNoYXJzLmZvckVhY2goZnVuY3Rpb24oY2gpeyBmcmVxdWVuY3lbY2hdID0gMCB9KTtcbiAgICB9XG4gICAgYmFzZTU0LmNvbnNpZGVyID0gZnVuY3Rpb24oc3RyKXtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0ci5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlIGluIGZyZXF1ZW5jeSkgKytmcmVxdWVuY3lbY29kZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGJhc2U1NC5zb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNoYXJzID0gbWVyZ2VTb3J0KGNoYXJzLCBmdW5jdGlvbihhLCBiKXtcbiAgICAgICAgICAgIGlmIChpc19kaWdpdChhKSAmJiAhaXNfZGlnaXQoYikpIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGlzX2RpZ2l0KGIpICYmICFpc19kaWdpdChhKSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIGZyZXF1ZW5jeVtiXSAtIGZyZXF1ZW5jeVthXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBiYXNlNTQucmVzZXQgPSByZXNldDtcbiAgICByZXNldCgpO1xuICAgIGJhc2U1NC5nZXQgPSBmdW5jdGlvbigpeyByZXR1cm4gY2hhcnMgfTtcbiAgICBiYXNlNTQuZnJlcSA9IGZ1bmN0aW9uKCl7IHJldHVybiBmcmVxdWVuY3kgfTtcbiAgICBmdW5jdGlvbiBiYXNlNTQobnVtKSB7XG4gICAgICAgIHZhciByZXQgPSBcIlwiLCBiYXNlID0gNTQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJzW251bSAlIGJhc2VdKTtcbiAgICAgICAgICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gYmFzZSk7XG4gICAgICAgICAgICBiYXNlID0gNjQ7XG4gICAgICAgIH0gd2hpbGUgKG51bSA+IDApO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgcmV0dXJuIGJhc2U1NDtcbn0pKCk7XG5cbkFTVF9Ub3BsZXZlbC5ERUZNRVRIT0QoXCJzY29wZV93YXJuaW5nc1wiLCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgICB1bmRlY2xhcmVkICAgICAgIDogZmFsc2UsIC8vIHRoaXMgbWFrZXMgYSBsb3Qgb2Ygbm9pc2VcbiAgICAgICAgdW5yZWZlcmVuY2VkICAgICA6IHRydWUsXG4gICAgICAgIGFzc2lnbl90b19nbG9iYWwgOiB0cnVlLFxuICAgICAgICBmdW5jX2FyZ3VtZW50cyAgIDogdHJ1ZSxcbiAgICAgICAgbmVzdGVkX2RlZnVucyAgICA6IHRydWUsXG4gICAgICAgIGV2YWwgICAgICAgICAgICAgOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgIGlmIChvcHRpb25zLnVuZGVjbGFyZWRcbiAgICAgICAgICAgICYmIG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAmJiBub2RlLnVuZGVjbGFyZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gWFhYOiB0aGlzIGFsc28gd2FybnMgYWJvdXQgSlMgc3RhbmRhcmQgbmFtZXMsXG4gICAgICAgICAgICAvLyBpLmUuIE9iamVjdCwgQXJyYXksIHBhcnNlSW50IGV0Yy4gIFNob3VsZCBhZGQgYSBsaXN0IG9mXG4gICAgICAgICAgICAvLyBleGNlcHRpb25zLlxuICAgICAgICAgICAgQVNUX05vZGUud2FybihcIlVuZGVjbGFyZWQgc3ltYm9sOiB7bmFtZX0gW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUsXG4gICAgICAgICAgICAgICAgZmlsZTogbm9kZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgIGxpbmU6IG5vZGUuc3RhcnQubGluZSxcbiAgICAgICAgICAgICAgICBjb2w6IG5vZGUuc3RhcnQuY29sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hc3NpZ25fdG9fZ2xvYmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ltID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0Fzc2lnbiAmJiBub2RlLmxlZnQgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmKVxuICAgICAgICAgICAgICAgIHN5bSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRm9ySW4gJiYgbm9kZS5pbml0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZilcbiAgICAgICAgICAgICAgICBzeW0gPSBub2RlLmluaXQ7XG4gICAgICAgICAgICBpZiAoc3ltXG4gICAgICAgICAgICAgICAgJiYgKHN5bS51bmRlY2xhcmVkKClcbiAgICAgICAgICAgICAgICAgICAgfHwgKHN5bS5nbG9iYWwoKSAmJiBzeW0uc2NvcGUgIT09IHN5bS5kZWZpbml0aW9uKCkuc2NvcGUpKSkge1xuICAgICAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4oXCJ7bXNnfToge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogc3ltLnVuZGVjbGFyZWQoKSA/IFwiQWNjaWRlbnRhbCBnbG9iYWw/XCIgOiBcIkFzc2lnbm1lbnQgdG8gZ2xvYmFsXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHN5bS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiBzeW0uc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogc3ltLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbDogc3ltLnN0YXJ0LmNvbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmV2YWxcbiAgICAgICAgICAgICYmIG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAmJiBub2RlLnVuZGVjbGFyZWQoKVxuICAgICAgICAgICAgJiYgbm9kZS5uYW1lID09IFwiZXZhbFwiKSB7XG4gICAgICAgICAgICBBU1RfTm9kZS53YXJuKFwiRXZhbCBpcyB1c2VkIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBub2RlLnN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy51bnJlZmVyZW5jZWRcbiAgICAgICAgICAgICYmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbERlY2xhcmF0aW9uIHx8IG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFiZWwpXG4gICAgICAgICAgICAmJiAhKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sQ2F0Y2gpXG4gICAgICAgICAgICAmJiBub2RlLnVucmVmZXJlbmNlZCgpKSB7XG4gICAgICAgICAgICBBU1RfTm9kZS53YXJuKFwie3R5cGV9IHtuYW1lfSBpcyBkZWNsYXJlZCBidXQgbm90IHJlZmVyZW5jZWQgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBub2RlIGluc3RhbmNlb2YgQVNUX0xhYmVsID8gXCJMYWJlbFwiIDogXCJTeW1ib2xcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUsXG4gICAgICAgICAgICAgICAgZmlsZTogbm9kZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgIGxpbmU6IG5vZGUuc3RhcnQubGluZSxcbiAgICAgICAgICAgICAgICBjb2w6IG5vZGUuc3RhcnQuY29sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5mdW5jX2FyZ3VtZW50c1xuICAgICAgICAgICAgJiYgbm9kZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGFcbiAgICAgICAgICAgICYmIG5vZGUudXNlc19hcmd1bWVudHMpIHtcbiAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4oXCJhcmd1bWVudHMgdXNlZCBpbiBmdW5jdGlvbiB7bmFtZX0gW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUgPyBub2RlLm5hbWUubmFtZSA6IFwiYW5vbnltb3VzXCIsXG4gICAgICAgICAgICAgICAgZmlsZTogbm9kZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgIGxpbmU6IG5vZGUuc3RhcnQubGluZSxcbiAgICAgICAgICAgICAgICBjb2w6IG5vZGUuc3RhcnQuY29sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5uZXN0ZWRfZGVmdW5zXG4gICAgICAgICAgICAmJiBub2RlIGluc3RhbmNlb2YgQVNUX0RlZnVuXG4gICAgICAgICAgICAmJiAhKHR3LnBhcmVudCgpIGluc3RhbmNlb2YgQVNUX1Njb3BlKSkge1xuICAgICAgICAgICAgQVNUX05vZGUud2FybihcIkZ1bmN0aW9uIHtuYW1lfSBkZWNsYXJlZCBpbiBuZXN0ZWQgc3RhdGVtZW50IFxcXCJ7dHlwZX1cXFwiIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLm5hbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogdHcucGFyZW50KCkuVFlQRSxcbiAgICAgICAgICAgICAgICBmaWxlOiBub2RlLnN0YXJ0LmZpbGUsXG4gICAgICAgICAgICAgICAgbGluZTogbm9kZS5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgIGNvbDogbm9kZS5zdGFydC5jb2xcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53YWxrKHR3KTtcbn0pO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG5cbiAgICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAgICBhcmUgbWV0OlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lci5cblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVIg4oCcQVMgSVPigJ0gQU5EIEFOWVxuICAgIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSXG4gICAgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgQkVcbiAgICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksXG4gICAgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAgICBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUlxuICAgIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRlxuICAgIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICAgIFNVQ0ggREFNQUdFLlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBPdXRwdXRTdHJlYW0ob3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgaW5kZW50X3N0YXJ0ICAgICA6IDAsXG4gICAgICAgIGluZGVudF9sZXZlbCAgICAgOiA0LFxuICAgICAgICBxdW90ZV9rZXlzICAgICAgIDogZmFsc2UsXG4gICAgICAgIHNwYWNlX2NvbG9uICAgICAgOiB0cnVlLFxuICAgICAgICBhc2NpaV9vbmx5ICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVuZXNjYXBlX3JlZ2V4cHMgOiBmYWxzZSxcbiAgICAgICAgaW5saW5lX3NjcmlwdCAgICA6IGZhbHNlLFxuICAgICAgICB3aWR0aCAgICAgICAgICAgIDogODAsXG4gICAgICAgIG1heF9saW5lX2xlbiAgICAgOiAzMjAwMCxcbiAgICAgICAgYmVhdXRpZnkgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBzb3VyY2VfbWFwICAgICAgIDogbnVsbCxcbiAgICAgICAgYnJhY2tldGl6ZSAgICAgICA6IGZhbHNlLFxuICAgICAgICBzZW1pY29sb25zICAgICAgIDogdHJ1ZSxcbiAgICAgICAgY29tbWVudHMgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBwcmVzZXJ2ZV9saW5lICAgIDogZmFsc2UsXG4gICAgICAgIHNjcmV3X2llOCAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcHJlYW1ibGUgICAgICAgICA6IG51bGwsXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICB2YXIgaW5kZW50YXRpb24gPSAwO1xuICAgIHZhciBjdXJyZW50X2NvbCA9IDA7XG4gICAgdmFyIGN1cnJlbnRfbGluZSA9IDE7XG4gICAgdmFyIGN1cnJlbnRfcG9zID0gMDtcbiAgICB2YXIgT1VUUFVUID0gXCJcIjtcblxuICAgIGZ1bmN0aW9uIHRvX2FzY2lpKHN0ciwgaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXHUwMDgwLVxcdWZmZmZdL2csIGZ1bmN0aW9uKGNoKSB7XG4gICAgICAgICAgICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgaWYgKGNvZGUubGVuZ3RoIDw9IDIgJiYgIWlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29kZS5sZW5ndGggPCAyKSBjb2RlID0gXCIwXCIgKyBjb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXFx4XCIgKyBjb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29kZS5sZW5ndGggPCA0KSBjb2RlID0gXCIwXCIgKyBjb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXFx1XCIgKyBjb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV9zdHJpbmcoc3RyKSB7XG4gICAgICAgIHZhciBkcSA9IDAsIHNxID0gMDtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1tcXFxcXFxiXFxmXFxuXFxyXFx0XFx4MjJcXHgyN1xcdTIwMjhcXHUyMDI5XFwwXS9nLCBmdW5jdGlvbihzKXtcbiAgICAgICAgICAgIHN3aXRjaCAocykge1xuICAgICAgICAgICAgICBjYXNlIFwiXFxcXFwiOiByZXR1cm4gXCJcXFxcXFxcXFwiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFxiXCI6IHJldHVybiBcIlxcXFxiXCI7XG4gICAgICAgICAgICAgIGNhc2UgXCJcXGZcIjogcmV0dXJuIFwiXFxcXGZcIjtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcblwiOiByZXR1cm4gXCJcXFxcblwiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFxyXCI6IHJldHVybiBcIlxcXFxyXCI7XG4gICAgICAgICAgICAgIGNhc2UgXCJcXHUyMDI4XCI6IHJldHVybiBcIlxcXFx1MjAyOFwiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOVwiOiByZXR1cm4gXCJcXFxcdTIwMjlcIjtcbiAgICAgICAgICAgICAgY2FzZSAnXCInOiArK2RxOyByZXR1cm4gJ1wiJztcbiAgICAgICAgICAgICAgY2FzZSBcIidcIjogKytzcTsgcmV0dXJuIFwiJ1wiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFwwXCI6IHJldHVybiBcIlxcXFx4MDBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXNjaWlfb25seSkgc3RyID0gdG9fYXNjaWkoc3RyKTtcbiAgICAgICAgaWYgKGRxID4gc3EpIHJldHVybiBcIidcIiArIHN0ci5yZXBsYWNlKC9cXHgyNy9nLCBcIlxcXFwnXCIpICsgXCInXCI7XG4gICAgICAgIGVsc2UgcmV0dXJuICdcIicgKyBzdHIucmVwbGFjZSgvXFx4MjIvZywgJ1xcXFxcIicpICsgJ1wiJztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZW5jb2RlX3N0cmluZyhzdHIpIHtcbiAgICAgICAgdmFyIHJldCA9IG1ha2Vfc3RyaW5nKHN0cik7XG4gICAgICAgIGlmIChvcHRpb25zLmlubGluZV9zY3JpcHQpXG4gICAgICAgICAgICByZXQgPSByZXQucmVwbGFjZSgvPFxceDJmc2NyaXB0KFs+XFwvXFx0XFxuXFxmXFxyIF0pL2dpLCBcIjxcXFxcL3NjcmlwdCQxXCIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYWtlX25hbWUobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b1N0cmluZygpO1xuICAgICAgICBpZiAob3B0aW9ucy5hc2NpaV9vbmx5KVxuICAgICAgICAgICAgbmFtZSA9IHRvX2FzY2lpKG5hbWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV9pbmRlbnQoYmFjaykge1xuICAgICAgICByZXR1cm4gcmVwZWF0X3N0cmluZyhcIiBcIiwgb3B0aW9ucy5pbmRlbnRfc3RhcnQgKyBpbmRlbnRhdGlvbiAtIGJhY2sgKiBvcHRpb25zLmluZGVudF9sZXZlbCk7XG4gICAgfTtcblxuICAgIC8qIC0tLS0tWyBiZWF1dGlmaWNhdGlvbi9taW5pZmljYXRpb24gXS0tLS0tICovXG5cbiAgICB2YXIgbWlnaHRfbmVlZF9zcGFjZSA9IGZhbHNlO1xuICAgIHZhciBtaWdodF9uZWVkX3NlbWljb2xvbiA9IGZhbHNlO1xuICAgIHZhciBsYXN0ID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGxhc3RfY2hhcigpIHtcbiAgICAgICAgcmV0dXJuIGxhc3QuY2hhckF0KGxhc3QubGVuZ3RoIC0gMSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1heWJlX25ld2xpbmUoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm1heF9saW5lX2xlbiAmJiBjdXJyZW50X2NvbCA+IG9wdGlvbnMubWF4X2xpbmVfbGVuKVxuICAgICAgICAgICAgcHJpbnQoXCJcXG5cIik7XG4gICAgfTtcblxuICAgIHZhciByZXF1aXJlU2VtaWNvbG9uQ2hhcnMgPSBtYWtlUHJlZGljYXRlKFwiKCBbICsgKiAvIC0gLCAuXCIpO1xuXG4gICAgZnVuY3Rpb24gcHJpbnQoc3RyKSB7XG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckF0KDApO1xuICAgICAgICBpZiAobWlnaHRfbmVlZF9zZW1pY29sb24pIHtcbiAgICAgICAgICAgIGlmICgoIWNoIHx8IFwiO31cIi5pbmRleE9mKGNoKSA8IDApICYmICEvWztdJC8udGVzdChsYXN0KSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNlbWljb2xvbnMgfHwgcmVxdWlyZVNlbWljb2xvbkNoYXJzKGNoKSkge1xuICAgICAgICAgICAgICAgICAgICBPVVRQVVQgKz0gXCI7XCI7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfY29sKys7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgT1VUUFVUICs9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcG9zKys7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfbGluZSsrO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2NvbCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5iZWF1dGlmeSlcbiAgICAgICAgICAgICAgICAgICAgbWlnaHRfbmVlZF9zcGFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWlnaHRfbmVlZF9zZW1pY29sb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG1heWJlX25ld2xpbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5iZWF1dGlmeSAmJiBvcHRpb25zLnByZXNlcnZlX2xpbmUgJiYgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfbGluZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnN0YXJ0LmxpbmU7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudF9saW5lIDwgdGFyZ2V0X2xpbmUpIHtcbiAgICAgICAgICAgICAgICBPVVRQVVQgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICBjdXJyZW50X3BvcysrO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfbGluZSsrO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfY29sID0gMDtcbiAgICAgICAgICAgICAgICBtaWdodF9uZWVkX3NwYWNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlnaHRfbmVlZF9zcGFjZSkge1xuICAgICAgICAgICAgdmFyIHByZXYgPSBsYXN0X2NoYXIoKTtcbiAgICAgICAgICAgIGlmICgoaXNfaWRlbnRpZmllcl9jaGFyKHByZXYpXG4gICAgICAgICAgICAgICAgICYmIChpc19pZGVudGlmaWVyX2NoYXIoY2gpIHx8IGNoID09IFwiXFxcXFwiKSlcbiAgICAgICAgICAgICAgICB8fCAoL15bXFwrXFwtXFwvXSQvLnRlc3QoY2gpICYmIGNoID09IHByZXYpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE9VVFBVVCArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICBjdXJyZW50X2NvbCsrO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaWdodF9uZWVkX3NwYWNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBzdHIuc3BsaXQoL1xccj9cXG4vKSwgbiA9IGEubGVuZ3RoIC0gMTtcbiAgICAgICAgY3VycmVudF9saW5lICs9IG47XG4gICAgICAgIGlmIChuID09IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRfY29sICs9IGFbbl0ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudF9jb2wgPSBhW25dLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50X3BvcyArPSBzdHIubGVuZ3RoO1xuICAgICAgICBsYXN0ID0gc3RyO1xuICAgICAgICBPVVRQVVQgKz0gc3RyO1xuICAgIH07XG5cbiAgICB2YXIgc3BhY2UgPSBvcHRpb25zLmJlYXV0aWZ5ID8gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByaW50KFwiIFwiKTtcbiAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIG1pZ2h0X25lZWRfc3BhY2UgPSB0cnVlO1xuICAgIH07XG5cbiAgICB2YXIgaW5kZW50ID0gb3B0aW9ucy5iZWF1dGlmeSA/IGZ1bmN0aW9uKGhhbGYpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYmVhdXRpZnkpIHtcbiAgICAgICAgICAgIHByaW50KG1ha2VfaW5kZW50KGhhbGYgPyAwLjUgOiAwKSk7XG4gICAgICAgIH1cbiAgICB9IDogbm9vcDtcblxuICAgIHZhciB3aXRoX2luZGVudCA9IG9wdGlvbnMuYmVhdXRpZnkgPyBmdW5jdGlvbihjb2wsIGNvbnQpIHtcbiAgICAgICAgaWYgKGNvbCA9PT0gdHJ1ZSkgY29sID0gbmV4dF9pbmRlbnQoKTtcbiAgICAgICAgdmFyIHNhdmVfaW5kZW50YXRpb24gPSBpbmRlbnRhdGlvbjtcbiAgICAgICAgaW5kZW50YXRpb24gPSBjb2w7XG4gICAgICAgIHZhciByZXQgPSBjb250KCk7XG4gICAgICAgIGluZGVudGF0aW9uID0gc2F2ZV9pbmRlbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9IDogZnVuY3Rpb24oY29sLCBjb250KSB7IHJldHVybiBjb250KCkgfTtcblxuICAgIHZhciBuZXdsaW5lID0gb3B0aW9ucy5iZWF1dGlmeSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmludChcIlxcblwiKTtcbiAgICB9IDogbm9vcDtcblxuICAgIHZhciBzZW1pY29sb24gPSBvcHRpb25zLmJlYXV0aWZ5ID8gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByaW50KFwiO1wiKTtcbiAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIG1pZ2h0X25lZWRfc2VtaWNvbG9uID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9yY2Vfc2VtaWNvbG9uKCkge1xuICAgICAgICBtaWdodF9uZWVkX3NlbWljb2xvbiA9IGZhbHNlO1xuICAgICAgICBwcmludChcIjtcIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG5leHRfaW5kZW50KCkge1xuICAgICAgICByZXR1cm4gaW5kZW50YXRpb24gKyBvcHRpb25zLmluZGVudF9sZXZlbDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gd2l0aF9ibG9jayhjb250KSB7XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIHByaW50KFwie1wiKTtcbiAgICAgICAgbmV3bGluZSgpO1xuICAgICAgICB3aXRoX2luZGVudChuZXh0X2luZGVudCgpLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0ID0gY29udCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW5kZW50KCk7XG4gICAgICAgIHByaW50KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gd2l0aF9wYXJlbnMoY29udCkge1xuICAgICAgICBwcmludChcIihcIik7XG4gICAgICAgIC8vWFhYOiBzdGlsbCBuaWNlIHRvIGhhdmUgdGhhdCBmb3IgYXJndW1lbnQgbGlzdHNcbiAgICAgICAgLy92YXIgcmV0ID0gd2l0aF9pbmRlbnQoY3VycmVudF9jb2wsIGNvbnQpO1xuICAgICAgICB2YXIgcmV0ID0gY29udCgpO1xuICAgICAgICBwcmludChcIilcIik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdpdGhfc3F1YXJlKGNvbnQpIHtcbiAgICAgICAgcHJpbnQoXCJbXCIpO1xuICAgICAgICAvL3ZhciByZXQgPSB3aXRoX2luZGVudChjdXJyZW50X2NvbCwgY29udCk7XG4gICAgICAgIHZhciByZXQgPSBjb250KCk7XG4gICAgICAgIHByaW50KFwiXVwiKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29tbWEoKSB7XG4gICAgICAgIHByaW50KFwiLFwiKTtcbiAgICAgICAgc3BhY2UoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29sb24oKSB7XG4gICAgICAgIHByaW50KFwiOlwiKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3BhY2VfY29sb24pIHNwYWNlKCk7XG4gICAgfTtcblxuICAgIHZhciBhZGRfbWFwcGluZyA9IG9wdGlvbnMuc291cmNlX21hcCA/IGZ1bmN0aW9uKHRva2VuLCBuYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodG9rZW4pIG9wdGlvbnMuc291cmNlX21hcC5hZGQoXG4gICAgICAgICAgICAgICAgdG9rZW4uZmlsZSB8fCBcIj9cIixcbiAgICAgICAgICAgICAgICBjdXJyZW50X2xpbmUsIGN1cnJlbnRfY29sLFxuICAgICAgICAgICAgICAgIHRva2VuLmxpbmUsIHRva2VuLmNvbCxcbiAgICAgICAgICAgICAgICAoIW5hbWUgJiYgdG9rZW4udHlwZSA9PSBcIm5hbWVcIikgPyB0b2tlbi52YWx1ZSA6IG5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4oXCJDb3VsZG4ndCBmaWd1cmUgb3V0IG1hcHBpbmcgZm9yIHtmaWxlfTp7bGluZX0se2NvbH0g4oaSIHtjbGluZX0se2Njb2x9IFt7bmFtZX1dXCIsIHtcbiAgICAgICAgICAgICAgICBmaWxlOiB0b2tlbi5maWxlLFxuICAgICAgICAgICAgICAgIGxpbmU6IHRva2VuLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sOiB0b2tlbi5jb2wsXG4gICAgICAgICAgICAgICAgY2xpbmU6IGN1cnJlbnRfbGluZSxcbiAgICAgICAgICAgICAgICBjY29sOiBjdXJyZW50X2NvbCxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lIHx8IFwiXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9IDogbm9vcDtcblxuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE9VVFBVVDtcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMucHJlYW1ibGUpIHtcbiAgICAgICAgcHJpbnQob3B0aW9ucy5wcmVhbWJsZS5yZXBsYWNlKC9cXHJcXG4/fFtcXG5cXHUyMDI4XFx1MjAyOV18XFxzKiQvZywgXCJcXG5cIikpO1xuICAgIH1cblxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCAgICAgICAgICAgICA6IGdldCxcbiAgICAgICAgdG9TdHJpbmcgICAgICAgIDogZ2V0LFxuICAgICAgICBpbmRlbnQgICAgICAgICAgOiBpbmRlbnQsXG4gICAgICAgIGluZGVudGF0aW9uICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5kZW50YXRpb24gfSxcbiAgICAgICAgY3VycmVudF93aWR0aCAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBjdXJyZW50X2NvbCAtIGluZGVudGF0aW9uIH0sXG4gICAgICAgIHNob3VsZF9icmVhayAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gb3B0aW9ucy53aWR0aCAmJiB0aGlzLmN1cnJlbnRfd2lkdGgoKSA+PSBvcHRpb25zLndpZHRoIH0sXG4gICAgICAgIG5ld2xpbmUgICAgICAgICA6IG5ld2xpbmUsXG4gICAgICAgIHByaW50ICAgICAgICAgICA6IHByaW50LFxuICAgICAgICBzcGFjZSAgICAgICAgICAgOiBzcGFjZSxcbiAgICAgICAgY29tbWEgICAgICAgICAgIDogY29tbWEsXG4gICAgICAgIGNvbG9uICAgICAgICAgICA6IGNvbG9uLFxuICAgICAgICBsYXN0ICAgICAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGxhc3QgfSxcbiAgICAgICAgc2VtaWNvbG9uICAgICAgIDogc2VtaWNvbG9uLFxuICAgICAgICBmb3JjZV9zZW1pY29sb24gOiBmb3JjZV9zZW1pY29sb24sXG4gICAgICAgIHRvX2FzY2lpICAgICAgICA6IHRvX2FzY2lpLFxuICAgICAgICBwcmludF9uYW1lICAgICAgOiBmdW5jdGlvbihuYW1lKSB7IHByaW50KG1ha2VfbmFtZShuYW1lKSkgfSxcbiAgICAgICAgcHJpbnRfc3RyaW5nICAgIDogZnVuY3Rpb24oc3RyKSB7IHByaW50KGVuY29kZV9zdHJpbmcoc3RyKSkgfSxcbiAgICAgICAgbmV4dF9pbmRlbnQgICAgIDogbmV4dF9pbmRlbnQsXG4gICAgICAgIHdpdGhfaW5kZW50ICAgICA6IHdpdGhfaW5kZW50LFxuICAgICAgICB3aXRoX2Jsb2NrICAgICAgOiB3aXRoX2Jsb2NrLFxuICAgICAgICB3aXRoX3BhcmVucyAgICAgOiB3aXRoX3BhcmVucyxcbiAgICAgICAgd2l0aF9zcXVhcmUgICAgIDogd2l0aF9zcXVhcmUsXG4gICAgICAgIGFkZF9tYXBwaW5nICAgICA6IGFkZF9tYXBwaW5nLFxuICAgICAgICBvcHRpb24gICAgICAgICAgOiBmdW5jdGlvbihvcHQpIHsgcmV0dXJuIG9wdGlvbnNbb3B0XSB9LFxuICAgICAgICBsaW5lICAgICAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGN1cnJlbnRfbGluZSB9LFxuICAgICAgICBjb2wgICAgICAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGN1cnJlbnRfY29sIH0sXG4gICAgICAgIHBvcyAgICAgICAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY3VycmVudF9wb3MgfSxcbiAgICAgICAgcHVzaF9ub2RlICAgICAgIDogZnVuY3Rpb24obm9kZSkgeyBzdGFjay5wdXNoKG5vZGUpIH0sXG4gICAgICAgIHBvcF9ub2RlICAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RhY2sucG9wKCkgfSxcbiAgICAgICAgc3RhY2sgICAgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzdGFjayB9LFxuICAgICAgICBwYXJlbnQgICAgICAgICAgOiBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMiAtIChuIHx8IDApXTtcbiAgICAgICAgfVxuICAgIH07XG5cbn07XG5cbi8qIC0tLS0tWyBjb2RlIGdlbmVyYXRvcnMgXS0tLS0tICovXG5cbihmdW5jdGlvbigpe1xuXG4gICAgLyogLS0tLS1bIHV0aWxzIF0tLS0tLSAqL1xuXG4gICAgZnVuY3Rpb24gREVGUFJJTlQobm9kZXR5cGUsIGdlbmVyYXRvcikge1xuICAgICAgICBub2RldHlwZS5ERUZNRVRIT0QoXCJfY29kZWdlblwiLCBnZW5lcmF0b3IpO1xuICAgIH07XG5cbiAgICBBU1RfTm9kZS5ERUZNRVRIT0QoXCJwcmludFwiLCBmdW5jdGlvbihzdHJlYW0sIGZvcmNlX3BhcmVucyl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcywgZ2VuZXJhdG9yID0gc2VsZi5fY29kZWdlbjtcbiAgICAgICAgZnVuY3Rpb24gZG9pdCgpIHtcbiAgICAgICAgICAgIHNlbGYuYWRkX2NvbW1lbnRzKHN0cmVhbSk7XG4gICAgICAgICAgICBzZWxmLmFkZF9zb3VyY2VfbWFwKHN0cmVhbSk7XG4gICAgICAgICAgICBnZW5lcmF0b3Ioc2VsZiwgc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0ucHVzaF9ub2RlKHNlbGYpO1xuICAgICAgICBpZiAoZm9yY2VfcGFyZW5zIHx8IHNlbGYubmVlZHNfcGFyZW5zKHN0cmVhbSkpIHtcbiAgICAgICAgICAgIHN0cmVhbS53aXRoX3BhcmVucyhkb2l0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0ucG9wX25vZGUoKTtcbiAgICB9KTtcblxuICAgIEFTVF9Ob2RlLkRFRk1FVEhPRChcInByaW50X3RvX3N0cmluZ1wiLCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICAgICAgdmFyIHMgPSBPdXRwdXRTdHJlYW0ob3B0aW9ucyk7XG4gICAgICAgIHRoaXMucHJpbnQocyk7XG4gICAgICAgIHJldHVybiBzLmdldCgpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIGNvbW1lbnRzIF0tLS0tLSAqL1xuXG4gICAgQVNUX05vZGUuREVGTUVUSE9EKFwiYWRkX2NvbW1lbnRzXCIsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBjID0gb3V0cHV0Lm9wdGlvbihcImNvbW1lbnRzXCIpLCBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHNlbGYuc3RhcnQ7XG4gICAgICAgICAgICBpZiAoc3RhcnQgJiYgIXN0YXJ0Ll9jb21tZW50c19kdW1wZWQpIHtcbiAgICAgICAgICAgICAgICBzdGFydC5fY29tbWVudHNfZHVtcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudHMgPSBzdGFydC5jb21tZW50c19iZWZvcmUgfHwgW107XG5cbiAgICAgICAgICAgICAgICAvLyBYWFg6IHVnbHkgZml4IGZvciBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvMTEyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICBhbmQgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzIvaXNzdWVzLzM3MlxuICAgICAgICAgICAgICAgIGlmIChzZWxmIGluc3RhbmNlb2YgQVNUX0V4aXQgJiYgc2VsZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnZhbHVlLndhbGsobmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5zdGFydCAmJiBub2RlLnN0YXJ0LmNvbW1lbnRzX2JlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzID0gY29tbWVudHMuY29uY2F0KG5vZGUuc3RhcnQuY29tbWVudHNfYmVmb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0YXJ0LmNvbW1lbnRzX2JlZm9yZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRnVuY3Rpb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlIGluc3RhbmNlb2YgQVNUX0FycmF5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEFTVF9PYmplY3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGRvbid0IGdvIGluc2lkZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjLnRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudHMgPSBjb21tZW50cy5maWx0ZXIoZnVuY3Rpb24oY29tbWVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy50ZXN0KGNvbW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50cyA9IGNvbW1lbnRzLmZpbHRlcihmdW5jdGlvbihjb21tZW50KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjKHNlbGYsIGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbihjKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9jb21tZW50WzEzNF0vLnRlc3QoYy50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiLy9cIiArIGMudmFsdWUgKyBcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjLnR5cGUgPT0gXCJjb21tZW50MlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHJpbnQoXCIvKlwiICsgYy52YWx1ZSArIFwiKi9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQubmxiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIFBBUkVOVEhFU0VTIF0tLS0tLSAqL1xuXG4gICAgZnVuY3Rpb24gUEFSRU5TKG5vZGV0eXBlLCBmdW5jKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGV0eXBlKSkge1xuICAgICAgICAgICAgbm9kZXR5cGUuZm9yRWFjaChmdW5jdGlvbihub2RldHlwZSl7XG4gICAgICAgICAgICAgICAgUEFSRU5TKG5vZGV0eXBlLCBmdW5jKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZXR5cGUuREVGTUVUSE9EKFwibmVlZHNfcGFyZW5zXCIsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBBUkVOUyhBU1RfTm9kZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gYSBmdW5jdGlvbiBleHByZXNzaW9uIG5lZWRzIHBhcmVucyBhcm91bmQgaXQgd2hlbiBpdCdzIHByb3ZhYmx5XG4gICAgLy8gdGhlIGZpcnN0IHRva2VuIHRvIGFwcGVhciBpbiBhIHN0YXRlbWVudC5cbiAgICBQQVJFTlMoQVNUX0Z1bmN0aW9uLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICByZXR1cm4gZmlyc3RfaW5fc3RhdGVtZW50KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBzYW1lIGdvZXMgZm9yIGFuIG9iamVjdCBsaXRlcmFsLCBiZWNhdXNlIG90aGVyd2lzZSBpdCB3b3VsZCBiZVxuICAgIC8vIGludGVycHJldGVkIGFzIGEgYmxvY2sgb2YgY29kZS5cbiAgICBQQVJFTlMoQVNUX09iamVjdCwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgcmV0dXJuIGZpcnN0X2luX3N0YXRlbWVudChvdXRwdXQpO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKFsgQVNUX1VuYXJ5LCBBU1RfVW5kZWZpbmVkIF0sIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICByZXR1cm4gcCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcztcbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfU2VxLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgcmV0dXJuIHAgaW5zdGFuY2VvZiBBU1RfQ2FsbCAgICAgICAgICAgICAvLyAoZm9vLCBiYXIpKCkgb3IgZm9vKDEsICgyLCAzKSwgNClcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfVW5hcnkgICAgICAgICAgICAvLyAhKGZvbywgYmFyLCBiYXopXG4gICAgICAgICAgICB8fCBwIGluc3RhbmNlb2YgQVNUX0JpbmFyeSAgICAgICAgICAgLy8gMSArICgyLCAzKSArIDQgPT0+IDhcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfVmFyRGVmICAgICAgICAgICAvLyB2YXIgYSA9ICgxLCAyKSwgYiA9IGEgKyBhOyA9PT4gYiA9PSA0XG4gICAgICAgICAgICB8fCBwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgICAgICAgLy8gKDEsIHtmb286Mn0pLmZvbyBvciAoMSwge2ZvbzoyfSlbXCJmb29cIl0gPT0+IDJcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfQXJyYXkgICAgICAgICAgICAvLyBbIDEsICgyLCAzKSwgNCBdID09PiBbIDEsIDMsIDQgXVxuICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9PYmplY3RQcm9wZXJ0eSAgIC8vIHsgZm9vOiAoMSwgMikgfS5mb28gPT0+IDJcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwgICAgICAvKiAoZmFsc2UsIHRydWUpID8gKGEgPSAxMCwgYiA9IDIwKSA6IChjID0gMzApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogPT0+IDIwIChzaWRlIGVmZmVjdCwgc2V0IGEgOj0gMTAgYW5kIGIgOj0gMjApICovXG4gICAgICAgIDtcbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfQmluYXJ5LCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgLy8gKGZvbyAmJiBiYXIpKClcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfQ2FsbCAmJiBwLmV4cHJlc3Npb24gPT09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gdHlwZW9mIChmb28gJiYgYmFyKVxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9VbmFyeSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAoZm9vICYmIGJhcilbXCJwcm9wXCJdLCAoZm9vICYmIGJhcikucHJvcFxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyB0aGlzIGRlYWxzIHdpdGggcHJlY2VkZW5jZTogMyAqICgyICsgMSlcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfQmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgcG8gPSBwLm9wZXJhdG9yLCBwcCA9IFBSRUNFREVOQ0VbcG9dO1xuICAgICAgICAgICAgdmFyIHNvID0gdGhpcy5vcGVyYXRvciwgc3AgPSBQUkVDRURFTkNFW3NvXTtcbiAgICAgICAgICAgIGlmIChwcCA+IHNwXG4gICAgICAgICAgICAgICAgfHwgKHBwID09IHNwXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMgPT09IHAucmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfUHJvcEFjY2VzcywgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgdmFyIHAgPSBvdXRwdXQucGFyZW50KCk7XG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX05ldyAmJiBwLmV4cHJlc3Npb24gPT09IHRoaXMpIHtcbiAgICAgICAgICAgIC8vIGkuZS4gbmV3IChmb28uYmFyKCkuYmF6KVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgb25lIGNhbGwgaW50byB0aGlzIHN1YnRyZWUsIHRoZW4gd2UgbmVlZFxuICAgICAgICAgICAgLy8gcGFyZW5zIGFyb3VuZCBpdCB0b28sIG90aGVyd2lzZSB0aGUgY2FsbCB3aWxsIGJlXG4gICAgICAgICAgICAvLyBpbnRlcnByZXRlZCBhcyBwYXNzaW5nIHRoZSBhcmd1bWVudHMgdG8gdGhlIHVwcGVyIE5ld1xuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbi5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9DYWxsKSB0aHJvdyBwO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXggIT09IHApIHRocm93IGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBQQVJFTlMoQVNUX0NhbGwsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpLCBwMTtcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfTmV3ICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIC8vIHdvcmthcm91bmQgZm9yIFNhZmFyaSBidWcuXG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjM1MDZcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9GdW5jdGlvblxuICAgICAgICAgICAgJiYgcCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzXG4gICAgICAgICAgICAmJiBwLmV4cHJlc3Npb24gPT09IHRoaXNcbiAgICAgICAgICAgICYmIChwMSA9IG91dHB1dC5wYXJlbnQoMSkpIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgJiYgcDEubGVmdCA9PT0gcDtcbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfTmV3LCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgaWYgKG5vX2NvbnN0cnVjdG9yX3BhcmVucyh0aGlzLCBvdXRwdXQpXG4gICAgICAgICAgICAmJiAocCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzIC8vIChuZXcgRGF0ZSkuZ2V0VGltZSgpLCAobmV3IERhdGUpW1wiZ2V0VGltZVwiXSgpXG4gICAgICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9DYWxsICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcykpIC8vIChuZXcgZm9vKShiYXIpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfTnVtYmVyLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VmFsdWUoKSA8IDAgJiYgcCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9OYU4sIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKFsgQVNUX0Fzc2lnbiwgQVNUX0NvbmRpdGlvbmFsIF0sIGZ1bmN0aW9uIChvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgLy8gIShhID0gZmFsc2UpIOKGkiB0cnVlXG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1VuYXJ5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIDEgKyAoYSA9IDIpICsgMyDihpIgNiwgc2lkZSBlZmZlY3Qgc2V0dGluZyBhID0gMlxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgIShwIGluc3RhbmNlb2YgQVNUX0Fzc2lnbikpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gKGEgPSBmdW5jKSgpIOKAlG9y4oCUIG5ldyAoYSA9IE9iamVjdCkoKVxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9DYWxsICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAoYSA9IGZvbykgPyBiYXIgOiBiYXpcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwgJiYgcC5jb25kaXRpb24gPT09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gKGEgPSBmb28pW1wicHJvcFwiXSDigJRvcuKAlCAoYSA9IGZvbykucHJvcFxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIFBSSU5URVJTIF0tLS0tLSAqL1xuXG4gICAgREVGUFJJTlQoQVNUX0RpcmVjdGl2ZSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50X3N0cmluZyhzZWxmLnZhbHVlKTtcbiAgICAgICAgb3V0cHV0LnNlbWljb2xvbigpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9EZWJ1Z2dlciwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZGVidWdnZXJcIik7XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBzdGF0ZW1lbnRzIF0tLS0tLSAqL1xuXG4gICAgZnVuY3Rpb24gZGlzcGxheV9ib2R5KGJvZHksIGlzX3RvcGxldmVsLCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGxhc3QgPSBib2R5Lmxlbmd0aCAtIDE7XG4gICAgICAgIGJvZHkuZm9yRWFjaChmdW5jdGlvbihzdG10LCBpKXtcbiAgICAgICAgICAgIGlmICghKHN0bXQgaW5zdGFuY2VvZiBBU1RfRW1wdHlTdGF0ZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgICAgIHN0bXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoIShpID09IGxhc3QgJiYgaXNfdG9wbGV2ZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc190b3BsZXZlbCkgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBBU1RfU3RhdGVtZW50V2l0aEJvZHkuREVGTUVUSE9EKFwiX2RvX3ByaW50X2JvZHlcIiwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgZm9yY2Vfc3RhdGVtZW50KHRoaXMuYm9keSwgb3V0cHV0KTtcbiAgICB9KTtcblxuICAgIERFRlBSSU5UKEFTVF9TdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuYm9keS5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuc2VtaWNvbG9uKCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1RvcGxldmVsLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBkaXNwbGF5X2JvZHkoc2VsZi5ib2R5LCB0cnVlLCBvdXRwdXQpO1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJcIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0xhYmVsZWRTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYubGFiZWwucHJpbnQob3V0cHV0KTtcbiAgICAgICAgb3V0cHV0LmNvbG9uKCk7XG4gICAgICAgIHNlbGYuYm9keS5wcmludChvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuYm9keS5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuc2VtaWNvbG9uKCk7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gcHJpbnRfYnJhY2tldGVkKGJvZHksIG91dHB1dCkge1xuICAgICAgICBpZiAoYm9keS5sZW5ndGggPiAwKSBvdXRwdXQud2l0aF9ibG9jayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgZGlzcGxheV9ib2R5KGJvZHksIGZhbHNlLCBvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxzZSBvdXRwdXQucHJpbnQoXCJ7fVwiKTtcbiAgICB9O1xuICAgIERFRlBSSU5UKEFTVF9CbG9ja1N0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgcHJpbnRfYnJhY2tldGVkKHNlbGYuYm9keSwgb3V0cHV0KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfRW1wdHlTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfRG8sIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcImRvXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LnByaW50KFwid2hpbGVcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc2VtaWNvbG9uKCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1doaWxlLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ3aGlsZVwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5jb25kaXRpb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLl9kb19wcmludF9ib2R5KG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0ZvciwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZm9cIiArIFwiclwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKHNlbGYuaW5pdCAmJiAhKHNlbGYuaW5pdCBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5pbml0IGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudGhlc2l6ZV9mb3Jfbm9pbihzZWxmLmluaXQsIG91dHB1dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIjtcIik7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIjtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbmRpdGlvbi5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIjtcIik7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIjtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZi5zdGVwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGVwLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9Gb3JJbiwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZm9cIiArIFwiclwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5pbml0LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dHB1dC5wcmludChcImluXCIpO1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBzZWxmLm9iamVjdC5wcmludChvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50X2JvZHkob3V0cHV0KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfV2l0aCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwid2l0aFwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5leHByZXNzaW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIGZ1bmN0aW9ucyBdLS0tLS0gKi9cbiAgICBBU1RfTGFtYmRhLkRFRk1FVEhPRChcIl9kb19wcmludFwiLCBmdW5jdGlvbihvdXRwdXQsIG5va2V5d29yZCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCFub2tleXdvcmQpIHtcbiAgICAgICAgICAgIG91dHB1dC5wcmludChcImZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLm5hbWUpIHtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgc2VsZi5uYW1lLnByaW50KG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmFyZ25hbWVzLmZvckVhY2goZnVuY3Rpb24oYXJnLCBpKXtcbiAgICAgICAgICAgICAgICBpZiAoaSkgb3V0cHV0LmNvbW1hKCk7XG4gICAgICAgICAgICAgICAgYXJnLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBwcmludF9icmFja2V0ZWQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9MYW1iZGEsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgZXhpdHMgXS0tLS0tICovXG4gICAgQVNUX0V4aXQuREVGTUVUSE9EKFwiX2RvX3ByaW50XCIsIGZ1bmN0aW9uKG91dHB1dCwga2luZCl7XG4gICAgICAgIG91dHB1dC5wcmludChraW5kKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5wcmludChvdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfUmV0dXJuLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLl9kb19wcmludChvdXRwdXQsIFwicmV0dXJuXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9UaHJvdywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0LCBcInRocm93XCIpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIGxvb3AgY29udHJvbCBdLS0tLS0gKi9cbiAgICBBU1RfTG9vcENvbnRyb2wuREVGTUVUSE9EKFwiX2RvX3ByaW50XCIsIGZ1bmN0aW9uKG91dHB1dCwga2luZCl7XG4gICAgICAgIG91dHB1dC5wcmludChraW5kKTtcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgdGhpcy5sYWJlbC5wcmludChvdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQnJlYWssIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCwgXCJicmVha1wiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQ29udGludWUsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCwgXCJjb250aW51ZVwiKTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBpZiBdLS0tLS0gKi9cbiAgICBmdW5jdGlvbiBtYWtlX3RoZW4oc2VsZiwgb3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQub3B0aW9uKFwiYnJhY2tldGl6ZVwiKSkge1xuICAgICAgICAgICAgbWFrZV9ibG9jayhzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHNxdWVlemVyIHJlcGxhY2VzIFwiYmxvY2tcIi1zIHRoYXQgY29udGFpbiBvbmx5IGEgc2luZ2xlXG4gICAgICAgIC8vIHN0YXRlbWVudCB3aXRoIHRoZSBzdGF0ZW1lbnQgaXRzZWxmOyB0ZWNobmljYWxseSwgdGhlIEFTVFxuICAgICAgICAvLyBpcyBjb3JyZWN0LCBidXQgdGhpcyBjYW4gY3JlYXRlIHByb2JsZW1zIHdoZW4gd2Ugb3V0cHV0IGFuXG4gICAgICAgIC8vIElGIGhhdmluZyBhbiBFTFNFIGNsYXVzZSB3aGVyZSB0aGUgVEhFTiBjbGF1c2UgZW5kcyBpbiBhblxuICAgICAgICAvLyBJRiAqd2l0aG91dCogYW4gRUxTRSBibG9jayAodGhlbiB0aGUgb3V0ZXIgRUxTRSB3b3VsZCByZWZlclxuICAgICAgICAvLyB0byB0aGUgaW5uZXIgSUYpLiAgVGhpcyBmdW5jdGlvbiBjaGVja3MgZm9yIHRoaXMgY2FzZSBhbmRcbiAgICAgICAgLy8gYWRkcyB0aGUgYmxvY2sgYnJhY2tldHMgaWYgbmVlZGVkLlxuICAgICAgICBpZiAoIXNlbGYuYm9keSlcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQuZm9yY2Vfc2VtaWNvbG9uKCk7XG4gICAgICAgIGlmIChzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfRG9cbiAgICAgICAgICAgICYmICFvdXRwdXQub3B0aW9uKFwic2NyZXdfaWU4XCIpKSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTL2lzc3Vlcy8jaXNzdWUvNTcgSUVcbiAgICAgICAgICAgIC8vIGNyb2FrcyB3aXRoIFwic3ludGF4IGVycm9yXCIgb24gY29kZSBsaWtlIHRoaXM6IGlmIChmb28pXG4gICAgICAgICAgICAvLyBkbyAuLi4gd2hpbGUoY29uZCk7IGVsc2UgLi4uICB3ZSBuZWVkIGJsb2NrIGJyYWNrZXRzXG4gICAgICAgICAgICAvLyBhcm91bmQgZG8vd2hpbGVcbiAgICAgICAgICAgIG1ha2VfYmxvY2soc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiID0gc2VsZi5ib2R5O1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGIgaW5zdGFuY2VvZiBBU1RfSWYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWIuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9ibG9jayhzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYiA9IGIuYWx0ZXJuYXRpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiIGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudFdpdGhCb2R5KSB7XG4gICAgICAgICAgICAgICAgYiA9IGIuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZm9yY2Vfc3RhdGVtZW50KHNlbGYuYm9keSwgb3V0cHV0KTtcbiAgICB9O1xuICAgIERFRlBSSU5UKEFTVF9JZiwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiaWZcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgaWYgKHNlbGYuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgIG1ha2VfdGhlbihzZWxmLCBvdXRwdXQpO1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBvdXRwdXQucHJpbnQoXCJlbHNlXCIpO1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBmb3JjZV9zdGF0ZW1lbnQoc2VsZi5hbHRlcm5hdGl2ZSwgb3V0cHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuX2RvX3ByaW50X2JvZHkob3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIHN3aXRjaCBdLS0tLS0gKi9cbiAgICBERUZQUklOVChBU1RfU3dpdGNoLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJzd2l0Y2hcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIGlmIChzZWxmLmJvZHkubGVuZ3RoID4gMCkgb3V0cHV0LndpdGhfYmxvY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuYm9keS5mb3JFYWNoKGZ1bmN0aW9uKHN0bXQsIGkpe1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgICAgIG91dHB1dC5pbmRlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc3RtdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIG91dHB1dC5wcmludChcInt9XCIpO1xuICAgIH0pO1xuICAgIEFTVF9Td2l0Y2hCcmFuY2guREVGTUVUSE9EKFwiX2RvX3ByaW50X2JvZHlcIiwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgaWYgKHRoaXMuYm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgdGhpcy5ib2R5LmZvckVhY2goZnVuY3Rpb24oc3RtdCl7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgICAgIHN0bXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfRGVmYXVsdCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZGVmYXVsdDpcIik7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50X2JvZHkob3V0cHV0KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQ2FzZSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiY2FzZVwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQucHJpbnQoXCI6XCIpO1xuICAgICAgICBzZWxmLl9kb19wcmludF9ib2R5KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgZXhjZXB0aW9ucyBdLS0tLS0gKi9cbiAgICBERUZQUklOVChBU1RfVHJ5LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ0cnlcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBwcmludF9icmFja2V0ZWQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgICAgICBpZiAoc2VsZi5iY2F0Y2gpIHtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgc2VsZi5iY2F0Y2gucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5iZmluYWxseSkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBzZWxmLmJmaW5hbGx5LnByaW50KG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQ2F0Y2gsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcImNhdGNoXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmFyZ25hbWUucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBwcmludF9icmFja2V0ZWQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9GaW5hbGx5LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJmaW5hbGx5XCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgcHJpbnRfYnJhY2tldGVkKHNlbGYuYm9keSwgb3V0cHV0KTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyB2YXIvY29uc3QgXS0tLS0tICovXG4gICAgQVNUX0RlZmluaXRpb25zLkRFRk1FVEhPRChcIl9kb19wcmludFwiLCBmdW5jdGlvbihvdXRwdXQsIGtpbmQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoa2luZCk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oZGVmLCBpKXtcbiAgICAgICAgICAgIGlmIChpKSBvdXRwdXQuY29tbWEoKTtcbiAgICAgICAgICAgIGRlZi5wcmludChvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHAgPSBvdXRwdXQucGFyZW50KCk7XG4gICAgICAgIHZhciBpbl9mb3IgPSBwIGluc3RhbmNlb2YgQVNUX0ZvciB8fCBwIGluc3RhbmNlb2YgQVNUX0ZvckluO1xuICAgICAgICB2YXIgYXZvaWRfc2VtaWNvbG9uID0gaW5fZm9yICYmIHAuaW5pdCA9PT0gdGhpcztcbiAgICAgICAgaWYgKCFhdm9pZF9zZW1pY29sb24pXG4gICAgICAgICAgICBvdXRwdXQuc2VtaWNvbG9uKCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1ZhciwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0LCBcInZhclwiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQ29uc3QsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCwgXCJjb25zdFwiKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHBhcmVudGhlc2l6ZV9mb3Jfbm9pbihub2RlLCBvdXRwdXQsIG5vaW4pIHtcbiAgICAgICAgaWYgKCFub2luKSBub2RlLnByaW50KG91dHB1dCk7XG4gICAgICAgIGVsc2UgdHJ5IHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdGFrZSBzb21lIHByZWNhdXRpb25zIGhlcmU6XG4gICAgICAgICAgICAvLyAgICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvNjBcbiAgICAgICAgICAgIG5vZGUud2FsayhuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgbm9kZS5vcGVyYXRvciA9PSBcImluXCIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG91dHB1dDtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIG5vZGUucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSBjYXRjaChleCkge1xuICAgICAgICAgICAgaWYgKGV4ICE9PSBvdXRwdXQpIHRocm93IGV4O1xuICAgICAgICAgICAgbm9kZS5wcmludChvdXRwdXQsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIERFRlBSSU5UKEFTVF9WYXJEZWYsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYubmFtZS5wcmludChvdXRwdXQpO1xuICAgICAgICBpZiAoc2VsZi52YWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBvdXRwdXQucHJpbnQoXCI9XCIpO1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoMSk7XG4gICAgICAgICAgICB2YXIgbm9pbiA9IHAgaW5zdGFuY2VvZiBBU1RfRm9yIHx8IHAgaW5zdGFuY2VvZiBBU1RfRm9ySW47XG4gICAgICAgICAgICBwYXJlbnRoZXNpemVfZm9yX25vaW4oc2VsZi52YWx1ZSwgb3V0cHV0LCBub2luKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIG90aGVyIGV4cHJlc3Npb25zIF0tLS0tLSAqL1xuICAgIERFRlBSSU5UKEFTVF9DYWxsLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgaWYgKHNlbGYgaW5zdGFuY2VvZiBBU1RfTmV3ICYmIG5vX2NvbnN0cnVjdG9yX3BhcmVucyhzZWxmLCBvdXRwdXQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuYXJncy5mb3JFYWNoKGZ1bmN0aW9uKGV4cHIsIGkpe1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXRwdXQuY29tbWEoKTtcbiAgICAgICAgICAgICAgICBleHByLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX05ldywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwibmV3XCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgQVNUX0NhbGwucHJvdG90eXBlLl9jb2RlZ2VuKHNlbGYsIG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICBBU1RfU2VxLkRFRk1FVEhPRChcIl9kb19wcmludFwiLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB0aGlzLmNhci5wcmludChvdXRwdXQpO1xuICAgICAgICBpZiAodGhpcy5jZHIpIHtcbiAgICAgICAgICAgIG91dHB1dC5jb21tYSgpO1xuICAgICAgICAgICAgaWYgKG91dHB1dC5zaG91bGRfYnJlYWsoKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jZHIucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9TZXEsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCk7XG4gICAgICAgIC8vIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICAvLyBpZiAocCBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQpIHtcbiAgICAgICAgLy8gICAgIG91dHB1dC53aXRoX2luZGVudChvdXRwdXQubmV4dF9pbmRlbnQoKSwgZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gICAgICAgICBzZWxmLl9kb19wcmludChvdXRwdXQpO1xuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBzZWxmLl9kb19wcmludChvdXRwdXQpO1xuICAgICAgICAvLyB9XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0RvdCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgdmFyIGV4cHIgPSBzZWxmLmV4cHJlc3Npb247XG4gICAgICAgIGV4cHIucHJpbnQob3V0cHV0KTtcbiAgICAgICAgaWYgKGV4cHIgaW5zdGFuY2VvZiBBU1RfTnVtYmVyICYmIGV4cHIuZ2V0VmFsdWUoKSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoIS9beGEtZi5dL2kudGVzdChvdXRwdXQubGFzdCgpKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnByaW50KFwiLlwiKTtcbiAgICAgICAgLy8gdGhlIG5hbWUgYWZ0ZXIgZG90IHdvdWxkIGJlIG1hcHBlZCBhYm91dCBoZXJlLlxuICAgICAgICBvdXRwdXQuYWRkX21hcHBpbmcoc2VsZi5lbmQpO1xuICAgICAgICBvdXRwdXQucHJpbnRfbmFtZShzZWxmLnByb3BlcnR5KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfU3ViLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiW1wiKTtcbiAgICAgICAgc2VsZi5wcm9wZXJ0eS5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJdXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9VbmFyeVByZWZpeCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgdmFyIG9wID0gc2VsZi5vcGVyYXRvcjtcbiAgICAgICAgb3V0cHV0LnByaW50KG9wKTtcbiAgICAgICAgaWYgKC9eW2Etel0vaS50ZXN0KG9wKVxuICAgICAgICAgICAgfHwgKC9bKy1dJC8udGVzdChvcClcbiAgICAgICAgICAgICAgICAmJiBzZWxmLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXhcbiAgICAgICAgICAgICAgICAmJiAvXlsrLV0vLnRlc3Qoc2VsZi5leHByZXNzaW9uLm9wZXJhdG9yKSkpIHtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9VbmFyeVBvc3RmaXgsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQucHJpbnQoc2VsZi5vcGVyYXRvcik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0JpbmFyeSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5sZWZ0LnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQucHJpbnQoc2VsZi5vcGVyYXRvcik7XG4gICAgICAgIGlmIChzZWxmLm9wZXJhdG9yID09IFwiPFwiXG4gICAgICAgICAgICAmJiBzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX1VuYXJ5UHJlZml4XG4gICAgICAgICAgICAmJiBzZWxmLnJpZ2h0Lm9wZXJhdG9yID09IFwiIVwiXG4gICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmV4cHJlc3Npb24gaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXhcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQuZXhwcmVzc2lvbi5vcGVyYXRvciA9PSBcIi0tXCIpIHtcbiAgICAgICAgICAgIC8vIHNwYWNlIGlzIG1hbmRhdG9yeSB0byBhdm9pZCBvdXRwdXR0aW5nIDwhLS1cbiAgICAgICAgICAgIC8vIGh0dHA6Ly9qYXZhc2NyaXB0LnNwZWMud2hhdHdnLm9yZy8jY29tbWVudC1zeW50YXhcbiAgICAgICAgICAgIG91dHB1dC5wcmludChcIiBcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGUgc3BhY2UgaXMgb3B0aW9uYWwgZGVwZW5kaW5nIG9uIFwiYmVhdXRpZnlcIlxuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yaWdodC5wcmludChvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9Db25kaXRpb25hbCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5jb25kaXRpb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC5wcmludChcIj9cIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLmNvbnNlcXVlbnQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC5jb2xvbigpO1xuICAgICAgICBzZWxmLmFsdGVybmF0aXZlLnByaW50KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgbGl0ZXJhbHMgXS0tLS0tICovXG4gICAgREVGUFJJTlQoQVNUX0FycmF5LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQud2l0aF9zcXVhcmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBhID0gc2VsZi5lbGVtZW50cywgbGVuID0gYS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuID4gMCkgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24oZXhwLCBpKXtcbiAgICAgICAgICAgICAgICBpZiAoaSkgb3V0cHV0LmNvbW1hKCk7XG4gICAgICAgICAgICAgICAgZXhwLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGZpbmFsIGVsZW1lbnQgaXMgYSBob2xlLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBpdFxuICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgbG9vayBsaWtlIGEgdHJhaWxpbmcgY29tbWEsIGJ5IGluc2VydGluZyBhbiBhY3R1YWxcbiAgICAgICAgICAgICAgICAvLyB0cmFpbGluZyBjb21tYS5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbGVuIC0gMSAmJiBleHAgaW5zdGFuY2VvZiBBU1RfSG9sZSlcbiAgICAgICAgICAgICAgICAgIG91dHB1dC5jb21tYSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobGVuID4gMCkgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9PYmplY3QsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIGlmIChzZWxmLnByb3BlcnRpZXMubGVuZ3RoID4gMCkgb3V0cHV0LndpdGhfYmxvY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3AsIGkpe1xuICAgICAgICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIixcIik7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICBwcm9wLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIG91dHB1dC5wcmludChcInt9XCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9PYmplY3RLZXlWYWwsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHZhciBrZXkgPSBzZWxmLmtleTtcbiAgICAgICAgaWYgKG91dHB1dC5vcHRpb24oXCJxdW90ZV9rZXlzXCIpKSB7XG4gICAgICAgICAgICBvdXRwdXQucHJpbnRfc3RyaW5nKGtleSArIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCh0eXBlb2Yga2V5ID09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgfHwgIW91dHB1dC5vcHRpb24oXCJiZWF1dGlmeVwiKVxuICAgICAgICAgICAgICAgICAgICAmJiAra2V5ICsgXCJcIiA9PSBrZXkpXG4gICAgICAgICAgICAgICAgICAgJiYgcGFyc2VGbG9hdChrZXkpID49IDApIHtcbiAgICAgICAgICAgIG91dHB1dC5wcmludChtYWtlX251bShrZXkpKTtcbiAgICAgICAgfSBlbHNlIGlmIChSRVNFUlZFRF9XT1JEUyhrZXkpID8gb3V0cHV0Lm9wdGlvbihcInNjcmV3X2llOFwiKSA6IGlzX2lkZW50aWZpZXJfc3RyaW5nKGtleSkpIHtcbiAgICAgICAgICAgIG91dHB1dC5wcmludF9uYW1lKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQucHJpbnRfc3RyaW5nKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LmNvbG9uKCk7XG4gICAgICAgIHNlbGYudmFsdWUucHJpbnQob3V0cHV0KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfT2JqZWN0U2V0dGVyLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJzZXRcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLmtleS5wcmludChvdXRwdXQpO1xuICAgICAgICBzZWxmLnZhbHVlLl9kb19wcmludChvdXRwdXQsIHRydWUpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9PYmplY3RHZXR0ZXIsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcImdldFwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYua2V5LnByaW50KG91dHB1dCk7XG4gICAgICAgIHNlbGYudmFsdWUuX2RvX3ByaW50KG91dHB1dCwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1N5bWJvbCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgdmFyIGRlZiA9IHNlbGYuZGVmaW5pdGlvbigpO1xuICAgICAgICBvdXRwdXQucHJpbnRfbmFtZShkZWYgPyBkZWYubWFuZ2xlZF9uYW1lIHx8IGRlZi5uYW1lIDogc2VsZi5uYW1lKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfVW5kZWZpbmVkLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ2b2lkIDBcIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0hvbGUsIG5vb3ApO1xuICAgIERFRlBSSU5UKEFTVF9JbmZpbml0eSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiMS8wXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9OYU4sIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcIjAvMFwiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfVGhpcywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwidGhpc1wiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQ29uc3RhbnQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChzZWxmLmdldFZhbHVlKCkpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9TdHJpbmcsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludF9zdHJpbmcoc2VsZi5nZXRWYWx1ZSgpKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfTnVtYmVyLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQobWFrZV9udW0oc2VsZi5nZXRWYWx1ZSgpKSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZWdleHBfc2FmZV9saXRlcmFsKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIDB4NWMgICAsIC8vIFxcXG4gICAgICAgICAgICAweDJmICAgLCAvLyAvXG4gICAgICAgICAgICAweDJlICAgLCAvLyAuXG4gICAgICAgICAgICAweDJiICAgLCAvLyArXG4gICAgICAgICAgICAweDJhICAgLCAvLyAqXG4gICAgICAgICAgICAweDNmICAgLCAvLyA/XG4gICAgICAgICAgICAweDI4ICAgLCAvLyAoXG4gICAgICAgICAgICAweDI5ICAgLCAvLyApXG4gICAgICAgICAgICAweDViICAgLCAvLyBbXG4gICAgICAgICAgICAweDVkICAgLCAvLyBdXG4gICAgICAgICAgICAweDdiICAgLCAvLyB7XG4gICAgICAgICAgICAweDdkICAgLCAvLyB9XG4gICAgICAgICAgICAweDI0ICAgLCAvLyAkXG4gICAgICAgICAgICAweDVlICAgLCAvLyBeXG4gICAgICAgICAgICAweDNhICAgLCAvLyA6XG4gICAgICAgICAgICAweDdjICAgLCAvLyB8XG4gICAgICAgICAgICAweDIxICAgLCAvLyAhXG4gICAgICAgICAgICAweDBhICAgLCAvLyBcXG5cbiAgICAgICAgICAgIDB4MGQgICAsIC8vIFxcclxuICAgICAgICAgICAgMHgwMCAgICwgLy8gXFwwXG4gICAgICAgICAgICAweGZlZmYgLCAvLyBVbmljb2RlIEJPTVxuICAgICAgICAgICAgMHgyMDI4ICwgLy8gdW5pY29kZSBcImxpbmUgc2VwYXJhdG9yXCJcbiAgICAgICAgICAgIDB4MjAyOSAsIC8vIHVuaWNvZGUgXCJwYXJhZ3JhcGggc2VwYXJhdG9yXCJcbiAgICAgICAgXS5pbmRleE9mKGNvZGUpIDwgMDtcbiAgICB9O1xuXG4gICAgREVGUFJJTlQoQVNUX1JlZ0V4cCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgdmFyIHN0ciA9IHNlbGYuZ2V0VmFsdWUoKS50b1N0cmluZygpO1xuICAgICAgICBpZiAob3V0cHV0Lm9wdGlvbihcImFzY2lpX29ubHlcIikpIHtcbiAgICAgICAgICAgIHN0ciA9IG91dHB1dC50b19hc2NpaShzdHIpO1xuICAgICAgICB9IGVsc2UgaWYgKG91dHB1dC5vcHRpb24oXCJ1bmVzY2FwZV9yZWdleHBzXCIpKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoXCJcXFxcXFxcXFwiKS5tYXAoZnVuY3Rpb24oc3RyKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFx1WzAtOWEtZkEtRl17NH18XFxcXHhbMC05YS1mQS1GXXsyfS9nLCBmdW5jdGlvbihzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChzLnN1YnN0cigyKSwgMTYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXhwX3NhZmVfbGl0ZXJhbChjb2RlKSA/IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSkgOiBzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuam9pbihcIlxcXFxcXFxcXCIpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5wcmludChzdHIpO1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfQmluYXJ5ICYmIC9eaW4vLnRlc3QocC5vcGVyYXRvcikgJiYgcC5sZWZ0ID09PSBzZWxmKVxuICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiIFwiKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGZvcmNlX3N0YXRlbWVudChzdGF0LCBvdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC5vcHRpb24oXCJicmFja2V0aXplXCIpKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXQgfHwgc3RhdCBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudClcbiAgICAgICAgICAgICAgICBvdXRwdXQucHJpbnQoXCJ7fVwiKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpXG4gICAgICAgICAgICAgICAgc3RhdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgZWxzZSBvdXRwdXQud2l0aF9ibG9jayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIG91dHB1dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICBzdGF0LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzdGF0IHx8IHN0YXQgaW5zdGFuY2VvZiBBU1RfRW1wdHlTdGF0ZW1lbnQpXG4gICAgICAgICAgICAgICAgb3V0cHV0LmZvcmNlX3NlbWljb2xvbigpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHN0YXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyByZXR1cm4gdHJ1ZSBpZiB0aGUgbm9kZSBhdCB0aGUgdG9wIG9mIHRoZSBzdGFjayAodGhhdCBtZWFucyB0aGVcbiAgICAvLyBpbm5lcm1vc3Qgbm9kZSBpbiB0aGUgY3VycmVudCBvdXRwdXQpIGlzIGxleGljYWxseSB0aGUgZmlyc3QgaW5cbiAgICAvLyBhIHN0YXRlbWVudC5cbiAgICBmdW5jdGlvbiBmaXJzdF9pbl9zdGF0ZW1lbnQob3V0cHV0KSB7XG4gICAgICAgIHZhciBhID0gb3V0cHV0LnN0YWNrKCksIGkgPSBhLmxlbmd0aCwgbm9kZSA9IGFbLS1pXSwgcCA9IGFbLS1pXTtcbiAgICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQgJiYgcC5ib2R5ID09PSBub2RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKChwIGluc3RhbmNlb2YgQVNUX1NlcSAgICAgICAgICAgJiYgcC5jYXIgPT09IG5vZGUgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9DYWxsICAgICAgICAgICYmIHAuZXhwcmVzc2lvbiA9PT0gbm9kZSAmJiAhKHAgaW5zdGFuY2VvZiBBU1RfTmV3KSApIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfRG90ICAgICAgICAgICAmJiBwLmV4cHJlc3Npb24gPT09IG5vZGUgKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX1N1YiAgICAgICAgICAgJiYgcC5leHByZXNzaW9uID09PSBub2RlICkgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9Db25kaXRpb25hbCAgICYmIHAuY29uZGl0aW9uID09PSBub2RlICApIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfQmluYXJ5ICAgICAgICAmJiBwLmxlZnQgPT09IG5vZGUgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX1VuYXJ5UG9zdGZpeCAgJiYgcC5leHByZXNzaW9uID09PSBub2RlICkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHA7XG4gICAgICAgICAgICAgICAgcCA9IGFbLS1pXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHNlbGYgc2hvdWxkIGJlIEFTVF9OZXcuICBkZWNpZGUgaWYgd2Ugd2FudCB0byBzaG93IHBhcmVucyBvciBub3QuXG4gICAgZnVuY3Rpb24gbm9fY29uc3RydWN0b3JfcGFyZW5zKHNlbGYsIG91dHB1dCkge1xuICAgICAgICByZXR1cm4gc2VsZi5hcmdzLmxlbmd0aCA9PSAwICYmICFvdXRwdXQub3B0aW9uKFwiYmVhdXRpZnlcIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJlc3Rfb2YoYSkge1xuICAgICAgICB2YXIgYmVzdCA9IGFbMF0sIGxlbiA9IGJlc3QubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgICAgICAgIGJlc3QgPSBhW2ldO1xuICAgICAgICAgICAgICAgIGxlbiA9IGJlc3QubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYWtlX251bShudW0pIHtcbiAgICAgICAgdmFyIHN0ciA9IG51bS50b1N0cmluZygxMCksIGEgPSBbIHN0ci5yZXBsYWNlKC9eMFxcLi8sIFwiLlwiKS5yZXBsYWNlKCdlKycsICdlJykgXSwgbTtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IobnVtKSA9PT0gbnVtKSB7XG4gICAgICAgICAgICBpZiAobnVtID49IDApIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goXCIweFwiICsgbnVtLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpLCAvLyBwcm9iYWJseSBwb2ludGxlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgXCIwXCIgKyBudW0udG9TdHJpbmcoOCkpOyAvLyBzYW1lLlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goXCItMHhcIiArICgtbnVtKS50b1N0cmluZygxNikudG9Mb3dlckNhc2UoKSwgLy8gcHJvYmFibHkgcG9pbnRsZXNzXG4gICAgICAgICAgICAgICAgICAgICAgIFwiLTBcIiArICgtbnVtKS50b1N0cmluZyg4KSk7IC8vIHNhbWUuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG0gPSAvXiguKj8pKDArKSQvLmV4ZWMobnVtKSkpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2gobVsxXSArIFwiZVwiICsgbVsyXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKChtID0gL14wP1xcLigwKykoLiopJC8uZXhlYyhudW0pKSkge1xuICAgICAgICAgICAgYS5wdXNoKG1bMl0gKyBcImUtXCIgKyAobVsxXS5sZW5ndGggKyBtWzJdLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgc3RyLnN1YnN0cihzdHIuaW5kZXhPZihcIi5cIikpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmVzdF9vZihhKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV9ibG9jayhzdG10LCBvdXRwdXQpIHtcbiAgICAgICAgaWYgKHN0bXQgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIHN0bXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQud2l0aF9ibG9jayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgc3RtdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qIC0tLS0tWyBzb3VyY2UgbWFwIGdlbmVyYXRvcnMgXS0tLS0tICovXG5cbiAgICBmdW5jdGlvbiBERUZNQVAobm9kZXR5cGUsIGdlbmVyYXRvcikge1xuICAgICAgICBub2RldHlwZS5ERUZNRVRIT0QoXCJhZGRfc291cmNlX21hcFwiLCBmdW5jdGlvbihzdHJlYW0pe1xuICAgICAgICAgICAgZ2VuZXJhdG9yKHRoaXMsIHN0cmVhbSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBXZSBjb3VsZCBlYXNpbHkgYWRkIGluZm8gZm9yIEFMTCBub2RlcywgYnV0IGl0IHNlZW1zIHRvIG1lIHRoYXRcbiAgICAvLyB3b3VsZCBiZSBxdWl0ZSB3YXN0ZWZ1bCwgaGVuY2UgdGhpcyBub29wIGluIHRoZSBiYXNlIGNsYXNzLlxuICAgIERFRk1BUChBU1RfTm9kZSwgbm9vcCk7XG5cbiAgICBmdW5jdGlvbiBiYXNpY19zb3VyY2VtYXBfZ2VuKHNlbGYsIG91dHB1dCkge1xuICAgICAgICBvdXRwdXQuYWRkX21hcHBpbmcoc2VsZi5zdGFydCk7XG4gICAgfTtcblxuICAgIC8vIFhYWDogSSdtIG5vdCBleGFjdGx5IHN1cmUgaWYgd2UgbmVlZCBpdCBmb3IgYWxsIG9mIHRoZXNlIG5vZGVzLFxuICAgIC8vIG9yIGlmIHdlIHNob3VsZCBhZGQgZXZlbiBtb3JlLlxuXG4gICAgREVGTUFQKEFTVF9EaXJlY3RpdmUsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfRGVidWdnZXIsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfU3ltYm9sLCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX0p1bXAsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfU3RhdGVtZW50V2l0aEJvZHksIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfTGFiZWxlZFN0YXRlbWVudCwgbm9vcCk7IC8vIHNpbmNlIHRoZSBsYWJlbCBzeW1ib2wgd2lsbCBtYXJrIGl0XG4gICAgREVGTUFQKEFTVF9MYW1iZGEsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfU3dpdGNoLCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX1N3aXRjaEJyYW5jaCwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9CbG9ja1N0YXRlbWVudCwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9Ub3BsZXZlbCwgbm9vcCk7XG4gICAgREVGTUFQKEFTVF9OZXcsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfVHJ5LCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX0NhdGNoLCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX0ZpbmFsbHksIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfRGVmaW5pdGlvbnMsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfQ29uc3RhbnQsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfT2JqZWN0UHJvcGVydHksIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5hZGRfbWFwcGluZyhzZWxmLnN0YXJ0LCBzZWxmLmtleSk7XG4gICAgfSk7XG5cbn0pKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIEEgSmF2YVNjcmlwdCB0b2tlbml6ZXIgLyBwYXJzZXIgLyBiZWF1dGlmaWVyIC8gY29tcHJlc3Nvci5cbiAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzJcblxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAoQykgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcjogTWloYWkgQmF6b25cbiAgICAgICAgICAgICAgICAgICAgICAgICA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vbWloYWkuYmF6b24ubmV0L2Jsb2dcblxuICBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG5cbiAgICBDb3B5cmlnaHQgMjAxMiAoYykgTWloYWkgQmF6b24gPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIENvbXByZXNzb3Iob3B0aW9ucywgZmFsc2VfYnlfZGVmYXVsdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb21wcmVzc29yKSlcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wcmVzc29yKG9wdGlvbnMsIGZhbHNlX2J5X2RlZmF1bHQpO1xuICAgIFRyZWVUcmFuc2Zvcm1lci5jYWxsKHRoaXMsIHRoaXMuYmVmb3JlLCB0aGlzLmFmdGVyKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHNlcXVlbmNlcyAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgcHJvcGVydGllcyAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBkZWFkX2NvZGUgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGRyb3BfZGVidWdnZXIgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgdW5zYWZlICAgICAgICA6IGZhbHNlLFxuICAgICAgICB1bnNhZmVfY29tcHMgIDogZmFsc2UsXG4gICAgICAgIGNvbmRpdGlvbmFscyAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgY29tcGFyaXNvbnMgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBldmFsdWF0ZSAgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGJvb2xlYW5zICAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgbG9vcHMgICAgICAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICB1bnVzZWQgICAgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGhvaXN0X2Z1bnMgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAga2VlcF9mYXJncyAgICA6IGZhbHNlLFxuICAgICAgICBob2lzdF92YXJzICAgIDogZmFsc2UsXG4gICAgICAgIGlmX3JldHVybiAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgam9pbl92YXJzICAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBjYXNjYWRlICAgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIHNpZGVfZWZmZWN0cyAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgcHVyZV9nZXR0ZXJzICA6IGZhbHNlLFxuICAgICAgICBwdXJlX2Z1bmNzICAgIDogbnVsbCxcbiAgICAgICAgbmVnYXRlX2lpZmUgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBzY3Jld19pZTggICAgIDogZmFsc2UsXG4gICAgICAgIGRyb3BfY29uc29sZSAgOiBmYWxzZSxcbiAgICAgICAgYW5ndWxhciAgICAgICA6IGZhbHNlLFxuXG4gICAgICAgIHdhcm5pbmdzICAgICAgOiB0cnVlLFxuICAgICAgICBnbG9iYWxfZGVmcyAgIDoge31cbiAgICB9LCB0cnVlKTtcbn07XG5cbkNvbXByZXNzb3IucHJvdG90eXBlID0gbmV3IFRyZWVUcmFuc2Zvcm1lcjtcbm1lcmdlKENvbXByZXNzb3IucHJvdG90eXBlLCB7XG4gICAgb3B0aW9uOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHRoaXMub3B0aW9uc1trZXldIH0sXG4gICAgd2FybjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2FybmluZ3MpXG4gICAgICAgICAgICBBU1RfTm9kZS53YXJuLmFwcGx5KEFTVF9Ob2RlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgYmVmb3JlOiBmdW5jdGlvbihub2RlLCBkZXNjZW5kLCBpbl9saXN0KSB7XG4gICAgICAgIGlmIChub2RlLl9zcXVlZXplZCkgcmV0dXJuIG5vZGU7XG4gICAgICAgIHZhciB3YXNfc2NvcGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2NvcGUpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmhvaXN0X2RlY2xhcmF0aW9ucyh0aGlzKTtcbiAgICAgICAgICAgIHdhc19zY29wZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUub3B0aW1pemUodGhpcyk7XG4gICAgICAgIGlmICh3YXNfc2NvcGUgJiYgbm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSkge1xuICAgICAgICAgICAgbm9kZS5kcm9wX3VudXNlZCh0aGlzKTtcbiAgICAgICAgICAgIGRlc2NlbmQobm9kZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5fc3F1ZWV6ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG59KTtcblxuKGZ1bmN0aW9uKCl7XG5cbiAgICBmdW5jdGlvbiBPUFQobm9kZSwgb3B0aW1pemVyKSB7XG4gICAgICAgIG5vZGUuREVGTUVUSE9EKFwib3B0aW1pemVcIiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoc2VsZi5fb3B0aW1pemVkKSByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgIHZhciBvcHQgPSBvcHRpbWl6ZXIoc2VsZiwgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBvcHQuX29wdGltaXplZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0ID09PSBzZWxmKSByZXR1cm4gb3B0O1xuICAgICAgICAgICAgcmV0dXJuIG9wdC50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBPUFQoQVNUX05vZGUsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIEFTVF9Ob2RlLkRFRk1FVEhPRChcImVxdWl2YWxlbnRfdG9cIiwgZnVuY3Rpb24obm9kZSl7XG4gICAgICAgIC8vIFhYWDogdGhpcyBpcyBhIHJhdGhlciBleHBlbnNpdmUgd2F5IHRvIHRlc3QgdHdvIG5vZGUncyBlcXVpdmFsZW5jZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbnRfdG9fc3RyaW5nKCkgPT0gbm9kZS5wcmludF90b19zdHJpbmcoKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1ha2Vfbm9kZShjdG9yLCBvcmlnLCBwcm9wcykge1xuICAgICAgICBpZiAoIXByb3BzKSBwcm9wcyA9IHt9O1xuICAgICAgICBpZiAob3JpZykge1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5zdGFydCkgcHJvcHMuc3RhcnQgPSBvcmlnLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5lbmQpIHByb3BzLmVuZCA9IG9yaWcuZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY3Rvcihwcm9wcyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2Vfbm9kZV9mcm9tX2NvbnN0YW50KGNvbXByZXNzb3IsIHZhbCwgb3JpZykge1xuICAgICAgICAvLyBYWFg6IFdJUC5cbiAgICAgICAgLy8gaWYgKHZhbCBpbnN0YW5jZW9mIEFTVF9Ob2RlKSByZXR1cm4gdmFsLnRyYW5zZm9ybShuZXcgVHJlZVRyYW5zZm9ybWVyKG51bGwsIGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAvLyAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmKSB7XG4gICAgICAgIC8vICAgICAgICAgdmFyIHNjb3BlID0gY29tcHJlc3Nvci5maW5kX3BhcmVudChBU1RfU2NvcGUpO1xuICAgICAgICAvLyAgICAgICAgIHZhciBkZWYgPSBzY29wZS5maW5kX3ZhcmlhYmxlKG5vZGUpO1xuICAgICAgICAvLyAgICAgICAgIG5vZGUudGhlZGVmID0gZGVmO1xuICAgICAgICAvLyAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuXG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBU1RfTm9kZSkgcmV0dXJuIHZhbC50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbCkge1xuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1N0cmluZywgb3JpZywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgIH0pLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoaXNOYU4odmFsKSA/IEFTVF9OYU4gOiBBU1RfTnVtYmVyLCBvcmlnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgICAgICAgfSkub3B0aW1pemUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUodmFsID8gQVNUX1RydWUgOiBBU1RfRmFsc2UsIG9yaWcpLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgb3JpZykub3B0aW1pemUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9OdWxsLCBvcmlnKS5vcHRpbWl6ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9SZWdFeHAsIG9yaWcpLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cmluZ190ZW1wbGF0ZShcIkNhbid0IGhhbmRsZSBjb25zdGFudCBvZiB0eXBlOiB7dHlwZX1cIiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiB2YWxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhc19zdGF0ZW1lbnRfYXJyYXkodGhpbmcpIHtcbiAgICAgICAgaWYgKHRoaW5nID09PSBudWxsKSByZXR1cm4gW107XG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCkgcmV0dXJuIHRoaW5nLmJvZHk7XG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudCkgcmV0dXJuIFtdO1xuICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBBU1RfU3RhdGVtZW50KSByZXR1cm4gWyB0aGluZyBdO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb252ZXJ0IHRoaW5nIHRvIHN0YXRlbWVudCBhcnJheVwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNfZW1wdHkodGhpbmcpIHtcbiAgICAgICAgaWYgKHRoaW5nID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50KSByZXR1cm4gdGhpbmcuYm9keS5sZW5ndGggPT0gMDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb29wX2JvZHkoeCkge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIEFTVF9Td2l0Y2gpIHJldHVybiB4O1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIEFTVF9Gb3IgfHwgeCBpbnN0YW5jZW9mIEFTVF9Gb3JJbiB8fCB4IGluc3RhbmNlb2YgQVNUX0RXTG9vcCkge1xuICAgICAgICAgICAgcmV0dXJuICh4LmJvZHkgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQgPyB4LmJvZHkgOiB4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdGlnaHRlbl9ib2R5KHN0YXRlbWVudHMsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgdmFyIENIQU5HRUQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIENIQU5HRUQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImFuZ3VsYXJcIikpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnRzID0gcHJvY2Vzc19mb3JfYW5ndWxhcihzdGF0ZW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlbWVudHMgPSBlbGltaW5hdGVfc3B1cmlvdXNfYmxvY2tzKHN0YXRlbWVudHMpO1xuICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiZGVhZF9jb2RlXCIpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50cyA9IGVsaW1pbmF0ZV9kZWFkX2NvZGUoc3RhdGVtZW50cywgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJpZl9yZXR1cm5cIikpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnRzID0gaGFuZGxlX2lmX3JldHVybihzdGF0ZW1lbnRzLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInNlcXVlbmNlc1wiKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMgPSBzZXF1ZW5jZXNpemUoc3RhdGVtZW50cywgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJqb2luX3ZhcnNcIikpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnRzID0gam9pbl9jb25zZWN1dGl2ZV92YXJzKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChDSEFOR0VEKTtcblxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJuZWdhdGVfaWlmZVwiKSkge1xuICAgICAgICAgICAgbmVnYXRlX2lpZmVzKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlbWVudHM7XG5cbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc19mb3JfYW5ndWxhcihzdGF0ZW1lbnRzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBtYWtlX2luamVjdG9yKGZ1bmMsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIGZ1bmMsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogbWFrZV9ub2RlKEFTVF9Bc3NpZ24sIGZ1bmMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIj1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG1ha2Vfbm9kZShBU1RfRG90LCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogbWFrZV9ub2RlKEFTVF9TeW1ib2xSZWYsIG5hbWUsIG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBcIiRpbmplY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9BcnJheSwgZnVuYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBmdW5jLmFyZ25hbWVzLm1hcChmdW5jdGlvbihzeW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHN5bSwgeyB2YWx1ZTogc3ltLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVtZW50cy5yZWR1Y2UoZnVuY3Rpb24oYSwgc3RhdCl7XG4gICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHN0YXQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gdG9rZW4uY29tbWVudHNfYmVmb3JlO1xuICAgICAgICAgICAgICAgIGlmIChjb21tZW50cyAmJiBjb21tZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gY29tbWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvQG5nSW5qZWN0Ly50ZXN0KGxhc3QudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXNlIDE6IGRlZnVuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9EZWZ1bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChtYWtlX2luamVjdG9yKHN0YXQsIHN0YXQubmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9EZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkZWYpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLnZhbHVlICYmIGRlZi52YWx1ZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChtYWtlX2luamVjdG9yKGRlZi52YWx1ZSwgZGVmLm5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiVW5rbm93biBzdGF0ZW1lbnQgbWFya2VkIHdpdGggQG5nSW5qZWN0IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlbGltaW5hdGVfc3B1cmlvdXNfYmxvY2tzKHN0YXRlbWVudHMpIHtcbiAgICAgICAgICAgIHZhciBzZWVuX2RpcnMgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnRzLnJlZHVjZShmdW5jdGlvbihhLCBzdGF0KXtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGVsaW1pbmF0ZV9zcHVyaW91c19ibG9ja3Moc3RhdC5ib2R5KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9EaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW5fZGlycy5pbmRleE9mKHN0YXQudmFsdWUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vlbl9kaXJzLnB1c2goc3RhdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChzdGF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlX2lmX3JldHVybihzdGF0ZW1lbnRzLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IGNvbXByZXNzb3Iuc2VsZigpO1xuICAgICAgICAgICAgdmFyIGluX2xhbWJkYSA9IHNlbGYgaW5zdGFuY2VvZiBBU1RfTGFtYmRhO1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICAgICAgbG9vcDogZm9yICh2YXIgaSA9IHN0YXRlbWVudHMubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdCA9IHN0YXRlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIChpbl9sYW1iZGEgJiYgc3RhdCBpbnN0YW5jZW9mIEFTVF9SZXR1cm4gJiYgIXN0YXQudmFsdWUgJiYgcmV0Lmxlbmd0aCA9PSAwKTpcbiAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGUsIHJldC5sZW5ndGggaXMgcHJvYmFibHkgYWx3YXlzIHplcm9cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkcm9wIHVucmVhY2hhYmxlIGNvZGUgYmVmb3JlIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RlcC4gIG5ldmVydGhlbGVzcywgaXQncyBnb29kIHRvIGNoZWNrLlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgY2FzZSBzdGF0IGluc3RhbmNlb2YgQVNUX0lmOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdC5ib2R5IGluc3RhbmNlb2YgQVNUX1JldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8tLS1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXR0eSBzaWxseSBjYXNlLCBidXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoZm9vKCkpIHJldHVybjsgcmV0dXJuOyA9PT4gZm9vKCk7IHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGluX2xhbWJkYSAmJiByZXQubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChyZXRbMF0gaW5zdGFuY2VvZiBBU1RfUmV0dXJuICYmICFyZXRbMF0udmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFzdGF0LmJvZHkudmFsdWUgJiYgIXN0YXQuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZCA9IG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzdGF0LmNvbmRpdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBzdGF0LmNvbmRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC51bnNoaWZ0KGNvbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLy0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGZvbygpKSByZXR1cm4geDsgcmV0dXJuIHk7ID09PiByZXR1cm4gZm9vKCkgPyB4IDogeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRbMF0gaW5zdGFuY2VvZiBBU1RfUmV0dXJuICYmIHN0YXQuYm9keS52YWx1ZSAmJiByZXRbMF0udmFsdWUgJiYgIXN0YXQuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ID0gc3RhdC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYWx0ZXJuYXRpdmUgPSByZXRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0WzBdID0gc3RhdC50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoZm9vKCkpIHJldHVybiB4OyBbIHJldHVybiA7IF0gPT0+IHJldHVybiBmb28oKSA/IHggOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJldC5sZW5ndGggPT0gMCB8fCByZXRbMF0gaW5zdGFuY2VvZiBBU1RfUmV0dXJuKSAmJiBzdGF0LmJvZHkudmFsdWUgJiYgIXN0YXQuYWx0ZXJuYXRpdmUgJiYgaW5fbGFtYmRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdCA9IHN0YXQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmFsdGVybmF0aXZlID0gcmV0WzBdIHx8IG1ha2Vfbm9kZShBU1RfUmV0dXJuLCBzdGF0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgc3RhdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRbMF0gPSBzdGF0LnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8tLS1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChmb28oKSkgcmV0dXJuOyBbIGVsc2UgeC4uLiBdOyB5Li4uID09PiBpZiAoIWZvbygpKSB7IHguLi47IHkuLi4gfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0LmJvZHkudmFsdWUgJiYgaW5fbGFtYmRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdCA9IHN0YXQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmNvbmRpdGlvbiA9IHN0YXQuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmJvZHkgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzdGF0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGFzX3N0YXRlbWVudF9hcnJheShzdGF0LmFsdGVybmF0aXZlKS5jb25jYXQocmV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYWx0ZXJuYXRpdmUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IFsgc3RhdC50cmFuc2Zvcm0oY29tcHJlc3NvcikgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8tLS1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQubGVuZ3RoID09IDEgJiYgaW5fbGFtYmRhICYmIHJldFswXSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoIXN0YXQuYWx0ZXJuYXRpdmUgfHwgc3RhdC5hbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2gobWFrZV9ub2RlKEFTVF9SZXR1cm4sIHJldFswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHJldFswXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3NvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGFzX3N0YXRlbWVudF9hcnJheShzdGF0LmFsdGVybmF0aXZlKS5jb25jYXQocmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQudW5zaGlmdChzdGF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiID0gYWJvcnRzKHN0YXQuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsY3QgPSBhYiBpbnN0YW5jZW9mIEFTVF9Mb29wQ29udHJvbCA/IGNvbXByZXNzb3IubG9vcGNvbnRyb2xfdGFyZ2V0KGFiLmxhYmVsKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYiAmJiAoKGFiIGluc3RhbmNlb2YgQVNUX1JldHVybiAmJiAhYWIudmFsdWUgJiYgaW5fbGFtYmRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChhYiBpbnN0YW5jZW9mIEFTVF9Db250aW51ZSAmJiBzZWxmID09PSBsb29wX2JvZHkobGN0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoYWIgaW5zdGFuY2VvZiBBU1RfQnJlYWsgJiYgbGN0IGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50ICYmIHNlbGYgPT09IGxjdCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWIubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoYWIubGFiZWwudGhlZGVmLnJlZmVyZW5jZXMsIGFiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhc19zdGF0ZW1lbnRfYXJyYXkoc3RhdC5ib2R5KS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ID0gc3RhdC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5jb25kaXRpb24gPSBzdGF0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmJvZHkgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzdGF0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYXNfc3RhdGVtZW50X2FycmF5KHN0YXQuYWx0ZXJuYXRpdmUpLmNvbmNhdChyZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYWx0ZXJuYXRpdmUgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzdGF0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBbIHN0YXQudHJhbnNmb3JtKGNvbXByZXNzb3IpIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiID0gYWJvcnRzKHN0YXQuYWx0ZXJuYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGN0ID0gYWIgaW5zdGFuY2VvZiBBU1RfTG9vcENvbnRyb2wgPyBjb21wcmVzc29yLmxvb3Bjb250cm9sX3RhcmdldChhYi5sYWJlbCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWIgJiYgKChhYiBpbnN0YW5jZW9mIEFTVF9SZXR1cm4gJiYgIWFiLnZhbHVlICYmIGluX2xhbWJkYSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoYWIgaW5zdGFuY2VvZiBBU1RfQ29udGludWUgJiYgc2VsZiA9PT0gbG9vcF9ib2R5KGxjdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGFiIGluc3RhbmNlb2YgQVNUX0JyZWFrICYmIGxjdCBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCAmJiBzZWxmID09PSBsY3QpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFiLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGFiLmxhYmVsLnRoZWRlZi5yZWZlcmVuY2VzLCBhYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQgPSBzdGF0LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmJvZHkgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzdGF0LmJvZHksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBhc19zdGF0ZW1lbnRfYXJyYXkoc3RhdC5ib2R5KS5jb25jYXQocmV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmFsdGVybmF0aXZlID0gbWFrZV9ub2RlKEFTVF9CbG9ja1N0YXRlbWVudCwgc3RhdC5hbHRlcm5hdGl2ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGFzX3N0YXRlbWVudF9hcnJheShzdGF0LmFsdGVybmF0aXZlKS5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gWyBzdGF0LnRyYW5zZm9ybShjb21wcmVzc29yKSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldC51bnNoaWZ0KHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldC51bnNoaWZ0KHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGVsaW1pbmF0ZV9kZWFkX2NvZGUoc3RhdGVtZW50cywgY29tcHJlc3Nvcikge1xuICAgICAgICAgICAgdmFyIGhhc19xdWl0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHN0YXRlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSBjb21wcmVzc29yLnNlbGYoKTtcbiAgICAgICAgICAgIHN0YXRlbWVudHMgPSBzdGF0ZW1lbnRzLnJlZHVjZShmdW5jdGlvbihhLCBzdGF0KXtcbiAgICAgICAgICAgICAgICBpZiAoaGFzX3F1aXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdF9kZWNsYXJhdGlvbnNfZnJvbV91bnJlYWNoYWJsZV9jb2RlKGNvbXByZXNzb3IsIHN0YXQsIGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0xvb3BDb250cm9sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGN0ID0gY29tcHJlc3Nvci5sb29wY29udHJvbF90YXJnZXQoc3RhdC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHN0YXQgaW5zdGFuY2VvZiBBU1RfQnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgbGN0IGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGxvb3BfYm9keShsY3QpID09PSBzZWxmKSB8fCAoc3RhdCBpbnN0YW5jZW9mIEFTVF9Db250aW51ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGxvb3BfYm9keShsY3QpID09PSBzZWxmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0LmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShzdGF0LmxhYmVsLnRoZWRlZi5yZWZlcmVuY2VzLCBzdGF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChzdGF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChzdGF0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRzKHN0YXQpKSBoYXNfcXVpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgQ0hBTkdFRCA9IHN0YXRlbWVudHMubGVuZ3RoICE9IG9yaWc7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVtZW50cztcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzZXF1ZW5jZXNpemUoc3RhdGVtZW50cywgY29tcHJlc3Nvcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIHN0YXRlbWVudHM7XG4gICAgICAgICAgICB2YXIgc2VxID0gW10sIHJldCA9IFtdO1xuICAgICAgICAgICAgZnVuY3Rpb24gcHVzaF9zZXEoKSB7XG4gICAgICAgICAgICAgICAgc2VxID0gQVNUX1NlcS5mcm9tX2FycmF5KHNlcSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcSkgcmV0LnB1c2gobWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlcSwge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBzZXFcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgc2VxID0gW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXQpe1xuICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkgc2VxLnB1c2goc3RhdC5ib2R5KTtcbiAgICAgICAgICAgICAgICBlbHNlIHB1c2hfc2VxKCksIHJldC5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwdXNoX3NlcSgpO1xuICAgICAgICAgICAgcmV0ID0gc2VxdWVuY2VzaXplXzIocmV0LCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIENIQU5HRUQgPSByZXQubGVuZ3RoICE9IHN0YXRlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzZXF1ZW5jZXNpemVfMihzdGF0ZW1lbnRzLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjb25zX3NlcShyaWdodCkge1xuICAgICAgICAgICAgICAgIHJldC5wb3AoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHByZXYuYm9keTtcbiAgICAgICAgICAgICAgICBpZiAobGVmdCBpbnN0YW5jZW9mIEFTVF9TZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdC5hZGQocmlnaHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBBU1RfU2VxLmNvbnMobGVmdCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdC50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJldCA9IFtdLCBwcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlbWVudHMuZm9yRWFjaChmdW5jdGlvbihzdGF0KXtcbiAgICAgICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9Gb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcGVyYSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmJvZHkud2FsayhuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQmluYXJ5ICYmIG5vZGUub3BlcmF0b3IgPT0gXCJpblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgb3BlcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0LmluaXQgJiYgIShzdGF0LmluaXQgaW5zdGFuY2VvZiBBU1RfRGVmaW5pdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuaW5pdCA9IGNvbnNfc2VxKHN0YXQuaW5pdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdGF0LmluaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5pbml0ID0gcHJldi5ib2R5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleCAhPT0gb3BlcmEpIHRocm93IGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfSWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuY29uZGl0aW9uID0gY29uc19zZXEoc3RhdC5jb25kaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfV2l0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5leHByZXNzaW9uID0gY29uc19zZXEoc3RhdC5leHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0V4aXQgJiYgc3RhdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC52YWx1ZSA9IGNvbnNfc2VxKHN0YXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfRXhpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC52YWx1ZSA9IGNvbnNfc2VxKG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBzdGF0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9Td2l0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuZXhwcmVzc2lvbiA9IGNvbnNfc2VxKHN0YXQuZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goc3RhdCk7XG4gICAgICAgICAgICAgICAgcHJldiA9IHN0YXQgaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50ID8gc3RhdCA6IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gam9pbl9jb25zZWN1dGl2ZV92YXJzKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnRzLnJlZHVjZShmdW5jdGlvbihhLCBzdGF0KXtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9EZWZpbml0aW9ucyAmJiBwcmV2ICYmIHByZXYuVFlQRSA9PSBzdGF0LlRZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5kZWZpbml0aW9ucyA9IHByZXYuZGVmaW5pdGlvbnMuY29uY2F0KHN0YXQuZGVmaW5pdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9Gb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAmJiBwcmV2IGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCFzdGF0LmluaXQgfHwgc3RhdC5pbml0LlRZUEUgPT0gcHJldi5UWVBFKSkge1xuICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5pbml0LmRlZmluaXRpb25zID0gcHJldi5kZWZpbml0aW9ucy5jb25jYXQoc3RhdC5pbml0LmRlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuaW5pdCA9IHByZXY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gc3RhdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBzdGF0O1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2goc3RhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIG5lZ2F0ZV9paWZlcyhzdGF0ZW1lbnRzLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICBzdGF0ZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oc3RhdCl7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXQuYm9keSA9IChmdW5jdGlvbiB0cmFuc2Zvcm0odGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGluZy50cmFuc2Zvcm0obmV3IFRyZWVUcmFuc2Zvcm1lcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9DYWxsICYmIG5vZGUuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9GdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmFyeVByZWZpeCwgbm9kZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZXhwcmVzc2lvbiA9IHRyYW5zZm9ybShub2RlLmV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNhciA9IHRyYW5zZm9ybShub2RlLmNhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cHIgPSB0cmFuc2Zvcm0obm9kZS5jb25kaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwciAhPT0gbm9kZS5jb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIG5lZ2F0ZWQsIHJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29uZGl0aW9uID0gZXhwcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBub2RlLmNvbnNlcXVlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnNlcXVlbnQgPSBub2RlLmFsdGVybmF0aXZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hbHRlcm5hdGl2ZSA9IHRtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoc3RhdC5ib2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0X2RlY2xhcmF0aW9uc19mcm9tX3VucmVhY2hhYmxlX2NvZGUoY29tcHJlc3Nvciwgc3RhdCwgdGFyZ2V0KSB7XG4gICAgICAgIGNvbXByZXNzb3Iud2FybihcIkRyb3BwaW5nIHVucmVhY2hhYmxlIGNvZGUgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHN0YXQuc3RhcnQpO1xuICAgICAgICBzdGF0LndhbGsobmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkRlY2xhcmF0aW9ucyBpbiB1bnJlYWNoYWJsZSBjb2RlISBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgbm9kZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVfaW5pdGlhbGl6ZXJzKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZ1bikge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG5cbiAgICAvKiAtLS0tLVsgYm9vbGVhbi9uZWdhdGlvbiBoZWxwZXJzIF0tLS0tLSAqL1xuXG4gICAgLy8gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhbiBleHByZXNzaW9uIGhhcyBhIGJvb2xlYW4gcmVzdWx0IHR5cGVcbiAgICAoZnVuY3Rpb24gKGRlZil7XG4gICAgICAgIHZhciB1bmFyeV9ib29sID0gWyBcIiFcIiwgXCJkZWxldGVcIiBdO1xuICAgICAgICB2YXIgYmluYXJ5X2Jvb2wgPSBbIFwiaW5cIiwgXCJpbnN0YW5jZW9mXCIsIFwiPT1cIiwgXCIhPVwiLCBcIj09PVwiLCBcIiE9PVwiLCBcIjxcIiwgXCI8PVwiLCBcIj49XCIsIFwiPlwiIF07XG4gICAgICAgIGRlZihBU1RfTm9kZSwgZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlIH0pO1xuICAgICAgICBkZWYoQVNUX1VuYXJ5UHJlZml4LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIG1lbWJlcih0aGlzLm9wZXJhdG9yLCB1bmFyeV9ib29sKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQmluYXJ5LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIG1lbWJlcih0aGlzLm9wZXJhdG9yLCBiaW5hcnlfYm9vbCkgfHxcbiAgICAgICAgICAgICAgICAoICh0aGlzLm9wZXJhdG9yID09IFwiJiZcIiB8fCB0aGlzLm9wZXJhdG9yID09IFwifHxcIikgJiZcbiAgICAgICAgICAgICAgICAgIHRoaXMubGVmdC5pc19ib29sZWFuKCkgJiYgdGhpcy5yaWdodC5pc19ib29sZWFuKCkgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zZXF1ZW50LmlzX2Jvb2xlYW4oKSAmJiB0aGlzLmFsdGVybmF0aXZlLmlzX2Jvb2xlYW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQXNzaWduLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3BlcmF0b3IgPT0gXCI9XCIgJiYgdGhpcy5yaWdodC5pc19ib29sZWFuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1NlcSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNkci5pc19ib29sZWFuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1RydWUsIGZ1bmN0aW9uKCl7IHJldHVybiB0cnVlIH0pO1xuICAgICAgICBkZWYoQVNUX0ZhbHNlLCBmdW5jdGlvbigpeyByZXR1cm4gdHJ1ZSB9KTtcbiAgICB9KShmdW5jdGlvbihub2RlLCBmdW5jKXtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJpc19ib29sZWFuXCIsIGZ1bmMpO1xuICAgIH0pO1xuXG4gICAgLy8gbWV0aG9kcyB0byBkZXRlcm1pbmUgaWYgYW4gZXhwcmVzc2lvbiBoYXMgYSBzdHJpbmcgcmVzdWx0IHR5cGVcbiAgICAoZnVuY3Rpb24gKGRlZil7XG4gICAgICAgIGRlZihBU1RfTm9kZSwgZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlIH0pO1xuICAgICAgICBkZWYoQVNUX1N0cmluZywgZnVuY3Rpb24oKXsgcmV0dXJuIHRydWUgfSk7XG4gICAgICAgIGRlZihBU1RfVW5hcnlQcmVmaXgsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvciA9PSBcInR5cGVvZlwiO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9CaW5hcnksIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3BlcmF0b3IgPT0gXCIrXCIgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5sZWZ0LmlzX3N0cmluZyhjb21wcmVzc29yKSB8fCB0aGlzLnJpZ2h0LmlzX3N0cmluZyhjb21wcmVzc29yKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0Fzc2lnbiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMub3BlcmF0b3IgPT0gXCI9XCIgfHwgdGhpcy5vcGVyYXRvciA9PSBcIis9XCIpICYmIHRoaXMucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TZXEsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2RyLmlzX3N0cmluZyhjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc2VxdWVudC5pc19zdHJpbmcoY29tcHJlc3NvcikgJiYgdGhpcy5hbHRlcm5hdGl2ZS5pc19zdHJpbmcoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0NhbGwsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIGNvbXByZXNzb3Iub3B0aW9uKFwidW5zYWZlXCIpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICYmIHRoaXMuZXhwcmVzc2lvbi5uYW1lID09IFwiU3RyaW5nXCJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmV4cHJlc3Npb24udW5kZWNsYXJlZCgpO1xuICAgICAgICB9KTtcbiAgICB9KShmdW5jdGlvbihub2RlLCBmdW5jKXtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJpc19zdHJpbmdcIiwgZnVuYyk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBiZXN0X29mKGFzdDEsIGFzdDIpIHtcbiAgICAgICAgcmV0dXJuIGFzdDEucHJpbnRfdG9fc3RyaW5nKCkubGVuZ3RoID5cbiAgICAgICAgICAgIGFzdDIucHJpbnRfdG9fc3RyaW5nKCkubGVuZ3RoXG4gICAgICAgICAgICA/IGFzdDIgOiBhc3QxO1xuICAgIH07XG5cbiAgICAvLyBtZXRob2RzIHRvIGV2YWx1YXRlIGEgY29uc3RhbnQgZXhwcmVzc2lvblxuICAgIChmdW5jdGlvbiAoZGVmKXtcbiAgICAgICAgLy8gVGhlIGV2YWx1YXRlIG1ldGhvZCByZXR1cm5zIGFuIGFycmF5IHdpdGggb25lIG9yIHR3b1xuICAgICAgICAvLyBlbGVtZW50cy4gIElmIHRoZSBub2RlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZWR1Y2VkIHRvIGFcbiAgICAgICAgLy8gY29uc3RhbnQsIHRoZW4gdGhlIHNlY29uZCBlbGVtZW50IHRlbGxzIHVzIHRoZSB2YWx1ZTtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBzZWNvbmQgZWxlbWVudCBpcyBtaXNzaW5nLiAgVGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgLy8gb2YgdGhlIGFycmF5IGlzIGFsd2F5cyBhbiBBU1RfTm9kZSBkZXNjZW5kYW50OyBpZlxuICAgICAgICAvLyBldmFsdWF0aW9uIHdhcyBzdWNjZXNzZnVsIGl0J3MgYSBub2RlIHRoYXQgcmVwcmVzZW50cyB0aGVcbiAgICAgICAgLy8gY29uc3RhbnQ7IG90aGVyd2lzZSBpdCdzIHRoZSBvcmlnaW5hbCBvciBhIHJlcGxhY2VtZW50IG5vZGUuXG4gICAgICAgIEFTVF9Ob2RlLkRFRk1FVEhPRChcImV2YWx1YXRlXCIsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImV2YWx1YXRlXCIpKSByZXR1cm4gWyB0aGlzIF07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLl9ldmFsKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbIGJlc3Rfb2YobWFrZV9ub2RlX2Zyb21fY29uc3RhbnQoY29tcHJlc3NvciwgdmFsLCB0aGlzKSwgdGhpcyksIHZhbCBdO1xuICAgICAgICAgICAgfSBjYXRjaChleCkge1xuICAgICAgICAgICAgICAgIGlmIChleCAhPT0gZGVmKSB0aHJvdyBleDtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyB0aGlzIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1N0YXRlbWVudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJpbmdfdGVtcGxhdGUoXCJDYW5ub3QgZXZhbHVhdGUgYSBzdGF0ZW1lbnQgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHRoaXMuc3RhcnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfRnVuY3Rpb24sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBYWFg6IEFTVF9GdW5jdGlvbiBpbmhlcml0cyBmcm9tIEFTVF9TY29wZSwgd2hpY2ggaXRzZWxmXG4gICAgICAgICAgICAvLyBpbmhlcml0cyBmcm9tIEFTVF9TdGF0ZW1lbnQ7IGhvd2V2ZXIsIGFuIEFTVF9GdW5jdGlvblxuICAgICAgICAgICAgLy8gaXNuJ3QgcmVhbGx5IGEgc3RhdGVtZW50LiAgVGhpcyBjb3VsZCBieXRlIGluIG90aGVyXG4gICAgICAgICAgICAvLyBwbGFjZXMgdG9vLiA6LSggV2lzaCBKUyBoYWQgbXVsdGlwbGUgaW5oZXJpdGFuY2UuXG4gICAgICAgICAgICB0aHJvdyBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBldihub2RlLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICBpZiAoIWNvbXByZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIkNvbXByZXNzb3IgbXVzdCBiZSBwYXNzZWRcIik7XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlLl9ldmFsKGNvbXByZXNzb3IpO1xuICAgICAgICB9O1xuICAgICAgICBkZWYoQVNUX05vZGUsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aHJvdyBkZWY7ICAgICAgICAgIC8vIG5vdCBjb25zdGFudFxuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Db25zdGFudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1VuYXJ5UHJlZml4LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5leHByZXNzaW9uO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCIhXCI6IHJldHVybiAhZXYoZSwgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0eXBlb2ZcIjpcbiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbiB3b3VsZCBiZSBldmFsdWF0ZWQgdG8gYW4gYXJyYXkgYW5kIHNvIHR5cGVvZiB3b3VsZFxuICAgICAgICAgICAgICAgIC8vIGluY29ycmVjdGx5IHJldHVybiAnb2JqZWN0Jy4gSGVuY2UgbWFraW5nIGlzIGEgc3BlY2lhbCBjYXNlLlxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uKSByZXR1cm4gdHlwZW9mIGZ1bmN0aW9uKCl7fTtcblxuICAgICAgICAgICAgICAgIGUgPSBldihlLCBjb21wcmVzc29yKTtcblxuICAgICAgICAgICAgICAgIC8vIHR5cGVvZiA8UmVnRXhwPiByZXR1cm5zIFwib2JqZWN0XCIgb3IgXCJmdW5jdGlvblwiIG9uIGRpZmZlcmVudCBwbGF0Zm9ybXNcbiAgICAgICAgICAgICAgICAvLyBzbyBjYW5ub3QgZXZhbHVhdGUgcmVsaWFibHlcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlZ0V4cCkgdGhyb3cgZGVmO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlO1xuICAgICAgICAgICAgICBjYXNlIFwidm9pZFwiOiByZXR1cm4gdm9pZCBldihlLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgY2FzZSBcIn5cIjogcmV0dXJuIH5ldihlLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICAgICAgICBlID0gZXYoZSwgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IDApIHRocm93IGRlZjtcbiAgICAgICAgICAgICAgICByZXR1cm4gLWU7XG4gICAgICAgICAgICAgIGNhc2UgXCIrXCI6IHJldHVybiArZXYoZSwgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0JpbmFyeSwgZnVuY3Rpb24oYyl7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMubGVmdCwgcmlnaHQgPSB0aGlzLnJpZ2h0O1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCImJlwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgJiYgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJ8fFwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgfHwgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJ8XCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgfCAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCImXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgJiAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJeXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgXiAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIrXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgKyAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIqXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgKiAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIvXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgLyAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIlXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgJSAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCItXCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgLSAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI8PFwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPDwgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI+PlwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPj4gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI+Pj5cIiAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPj4+ICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI9PVwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPT0gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI9PT1cIiAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPT09ICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIhPVwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgIT0gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCIhPT1cIiAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgIT09ICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI8XCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPCAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI8PVwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPD0gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI+XCIgICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPiAgICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCI+PVwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgPj0gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJpblwiICAgICAgICAgOiByZXR1cm4gZXYobGVmdCwgYykgaW4gICAgICAgICBldihyaWdodCwgYyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbnN0YW5jZW9mXCIgOiByZXR1cm4gZXYobGVmdCwgYykgaW5zdGFuY2VvZiBldihyaWdodCwgYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0NvbmRpdGlvbmFsLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiBldih0aGlzLmNvbmRpdGlvbiwgY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICA/IGV2KHRoaXMuY29uc2VxdWVudCwgY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICA6IGV2KHRoaXMuYWx0ZXJuYXRpdmUsIGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TeW1ib2xSZWYsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmRlZmluaXRpb24oKTtcbiAgICAgICAgICAgIGlmIChkICYmIGQuY29uc3RhbnQgJiYgZC5pbml0KSByZXR1cm4gZXYoZC5pbml0LCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHRocm93IGRlZjtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfRG90LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSAmJiB0aGlzLnByb3BlcnR5ID09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyID0gZXYodGhpcy5leHByZXNzaW9uLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0ciA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGRlZjtcbiAgICAgICAgfSk7XG4gICAgfSkoZnVuY3Rpb24obm9kZSwgZnVuYyl7XG4gICAgICAgIG5vZGUuREVGTUVUSE9EKFwiX2V2YWxcIiwgZnVuYyk7XG4gICAgfSk7XG5cbiAgICAvLyBtZXRob2QgdG8gbmVnYXRlIGFuIGV4cHJlc3Npb25cbiAgICAoZnVuY3Rpb24oZGVmKXtcbiAgICAgICAgZnVuY3Rpb24gYmFzaWNfbmVnYXRpb24oZXhwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmFyeVByZWZpeCwgZXhwLCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IGV4cFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGRlZihBU1RfTm9kZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBiYXNpY19uZWdhdGlvbih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfU3RhdGVtZW50LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG5lZ2F0ZSBhIHN0YXRlbWVudFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfRnVuY3Rpb24sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gYmFzaWNfbmVnYXRpb24odGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1VuYXJ5UHJlZml4LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKHRoaXMub3BlcmF0b3IgPT0gXCIhXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHJldHVybiBiYXNpY19uZWdhdGlvbih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfU2VxLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICAgICAgc2VsZi5jZHIgPSBzZWxmLmNkci5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgICBzZWxmLmNvbnNlcXVlbnQgPSBzZWxmLmNvbnNlcXVlbnQubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgc2VsZi5hbHRlcm5hdGl2ZSA9IHNlbGYuYWx0ZXJuYXRpdmUubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGJlc3Rfb2YoYmFzaWNfbmVnYXRpb24odGhpcyksIHNlbGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9CaW5hcnksIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLmNsb25lKCksIG9wID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZV9jb21wc1wiKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob3ApIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI8PVwiIDogc2VsZi5vcGVyYXRvciA9IFwiPlwiICA7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIjxcIiAgOiBzZWxmLm9wZXJhdG9yID0gXCI+PVwiIDsgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiPj1cIiA6IHNlbGYub3BlcmF0b3IgPSBcIjxcIiAgOyByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI+XCIgIDogc2VsZi5vcGVyYXRvciA9IFwiPD1cIiA7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAob3ApIHtcbiAgICAgICAgICAgICAgY2FzZSBcIj09XCIgOiBzZWxmLm9wZXJhdG9yID0gXCIhPVwiOyByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgICAgY2FzZSBcIiE9XCIgOiBzZWxmLm9wZXJhdG9yID0gXCI9PVwiOyByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgICAgY2FzZSBcIj09PVwiOiBzZWxmLm9wZXJhdG9yID0gXCIhPT1cIjsgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgIGNhc2UgXCIhPT1cIjogc2VsZi5vcGVyYXRvciA9IFwiPT09XCI7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICBjYXNlIFwiJiZcIjpcbiAgICAgICAgICAgICAgICBzZWxmLm9wZXJhdG9yID0gXCJ8fFwiO1xuICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHNlbGYubGVmdC5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgc2VsZi5yaWdodCA9IHNlbGYucmlnaHQubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiZXN0X29mKGJhc2ljX25lZ2F0aW9uKHRoaXMpLCBzZWxmKTtcbiAgICAgICAgICAgICAgY2FzZSBcInx8XCI6XG4gICAgICAgICAgICAgICAgc2VsZi5vcGVyYXRvciA9IFwiJiZcIjtcbiAgICAgICAgICAgICAgICBzZWxmLmxlZnQgPSBzZWxmLmxlZnQubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLnJpZ2h0Lm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVzdF9vZihiYXNpY19uZWdhdGlvbih0aGlzKSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmFzaWNfbmVnYXRpb24odGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH0pKGZ1bmN0aW9uKG5vZGUsIGZ1bmMpe1xuICAgICAgICBub2RlLkRFRk1FVEhPRChcIm5lZ2F0ZVwiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpcywgY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGlmIGV4cHJlc3Npb24gaGFzIHNpZGUgZWZmZWN0c1xuICAgIChmdW5jdGlvbihkZWYpe1xuICAgICAgICBkZWYoQVNUX05vZGUsIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gdHJ1ZSB9KTtcblxuICAgICAgICBkZWYoQVNUX0VtcHR5U3RhdGVtZW50LCBmdW5jdGlvbihjb21wcmVzc29yKXsgcmV0dXJuIGZhbHNlIH0pO1xuICAgICAgICBkZWYoQVNUX0NvbnN0YW50LCBmdW5jdGlvbihjb21wcmVzc29yKXsgcmV0dXJuIGZhbHNlIH0pO1xuICAgICAgICBkZWYoQVNUX1RoaXMsIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gZmFsc2UgfSk7XG5cbiAgICAgICAgZGVmKEFTVF9DYWxsLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHZhciBwdXJlID0gY29tcHJlc3Nvci5vcHRpb24oXCJwdXJlX2Z1bmNzXCIpO1xuICAgICAgICAgICAgaWYgKCFwdXJlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBwdXJlLmluZGV4T2YodGhpcy5leHByZXNzaW9uLnByaW50X3RvX3N0cmluZygpKSA8IDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlZihBU1RfQmxvY2ssIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYm9keS5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHlbaV0uaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlZihBU1RfU2ltcGxlU3RhdGVtZW50LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvZHkuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfRGVmdW4sIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gdHJ1ZSB9KTtcbiAgICAgICAgZGVmKEFTVF9GdW5jdGlvbiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiBmYWxzZSB9KTtcbiAgICAgICAgZGVmKEFTVF9CaW5hcnksIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5yaWdodC5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Bc3NpZ24sIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gdHJ1ZSB9KTtcbiAgICAgICAgZGVmKEFTVF9Db25kaXRpb25hbCwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb24uaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgIHx8IHRoaXMuY29uc2VxdWVudC5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5hbHRlcm5hdGl2ZS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9VbmFyeSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvciA9PSBcImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5vcGVyYXRvciA9PSBcIisrXCJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLm9wZXJhdG9yID09IFwiLS1cIlxuICAgICAgICAgICAgICAgIHx8IHRoaXMuZXhwcmVzc2lvbi5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TeW1ib2xSZWYsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsKCkgJiYgdGhpcy51bmRlY2xhcmVkKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX09iamVjdCwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgLS1pID49IDA7KVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXNbaV0uaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX09iamVjdFByb3BlcnR5LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0FycmF5LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgLS1pID49IDA7KVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2ldLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Eb3QsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZ2V0dGVyc1wiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1N1YiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwicHVyZV9nZXR0ZXJzXCIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4cHJlc3Npb24uaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcGVydHkuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfUHJvcEFjY2VzcywgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gIWNvbXByZXNzb3Iub3B0aW9uKFwicHVyZV9nZXR0ZXJzXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TZXEsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICB8fCB0aGlzLmNkci5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICB9KShmdW5jdGlvbihub2RlLCBmdW5jKXtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJoYXNfc2lkZV9lZmZlY3RzXCIsIGZ1bmMpO1xuICAgIH0pO1xuXG4gICAgLy8gdGVsbCBtZSBpZiBhIHN0YXRlbWVudCBhYm9ydHNcbiAgICBmdW5jdGlvbiBhYm9ydHModGhpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaW5nICYmIHRoaW5nLmFib3J0cygpO1xuICAgIH07XG4gICAgKGZ1bmN0aW9uKGRlZil7XG4gICAgICAgIGRlZihBU1RfU3RhdGVtZW50LCBmdW5jdGlvbigpeyByZXR1cm4gbnVsbCB9KTtcbiAgICAgICAgZGVmKEFTVF9KdW1wLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpcyB9KTtcbiAgICAgICAgZnVuY3Rpb24gYmxvY2tfYWJvcnRzKCl7XG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuYm9keS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbiA+IDAgJiYgYWJvcnRzKHRoaXMuYm9keVtuIC0gMV0pO1xuICAgICAgICB9O1xuICAgICAgICBkZWYoQVNUX0Jsb2NrU3RhdGVtZW50LCBibG9ja19hYm9ydHMpO1xuICAgICAgICBkZWYoQVNUX1N3aXRjaEJyYW5jaCwgYmxvY2tfYWJvcnRzKTtcbiAgICAgICAgZGVmKEFTVF9JZiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsdGVybmF0aXZlICYmIGFib3J0cyh0aGlzLmJvZHkpICYmIGFib3J0cyh0aGlzLmFsdGVybmF0aXZlKTtcbiAgICAgICAgfSk7XG4gICAgfSkoZnVuY3Rpb24obm9kZSwgZnVuYyl7XG4gICAgICAgIG5vZGUuREVGTUVUSE9EKFwiYWJvcnRzXCIsIGZ1bmMpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIG9wdGltaXplcnMgXS0tLS0tICovXG5cbiAgICBPUFQoQVNUX0RpcmVjdGl2ZSwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChzZWxmLnNjb3BlLmhhc19kaXJlY3RpdmUoc2VsZi52YWx1ZSkgIT09IHNlbGYuc2NvcGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfRGVidWdnZXIsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkcm9wX2RlYnVnZ2VyXCIpKVxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIHNlbGYpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfTGFiZWxlZFN0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfQnJlYWtcbiAgICAgICAgICAgICYmIGNvbXByZXNzb3IubG9vcGNvbnRyb2xfdGFyZ2V0KHNlbGYuYm9keS5sYWJlbCkgPT09IHNlbGYuYm9keSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIHNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmxhYmVsLnJlZmVyZW5jZXMubGVuZ3RoID09IDAgPyBzZWxmLmJvZHkgOiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9CbG9jaywgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYuYm9keSA9IHRpZ2h0ZW5fYm9keShzZWxmLmJvZHksIGNvbXByZXNzb3IpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfQmxvY2tTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBzZWxmLmJvZHkgPSB0aWdodGVuX2JvZHkoc2VsZi5ib2R5LCBjb21wcmVzc29yKTtcbiAgICAgICAgc3dpdGNoIChzZWxmLmJvZHkubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gc2VsZi5ib2R5WzBdO1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIHNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgQVNUX1Njb3BlLkRFRk1FVEhPRChcImRyb3BfdW51c2VkXCIsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVudXNlZFwiKVxuICAgICAgICAgICAgJiYgIShzZWxmIGluc3RhbmNlb2YgQVNUX1RvcGxldmVsKVxuICAgICAgICAgICAgJiYgIXNlbGYudXNlc19ldmFsXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGluX3VzZSA9IFtdO1xuICAgICAgICAgICAgdmFyIGluaXRpYWxpemF0aW9ucyA9IG5ldyBEaWN0aW9uYXJ5KCk7XG4gICAgICAgICAgICAvLyBwYXNzIDE6IGZpbmQgb3V0IHdoaWNoIHN5bWJvbHMgYXJlIGRpcmVjdGx5IHVzZWQgaW5cbiAgICAgICAgICAgIC8vIHRoaXMgc2NvcGUgKG5vdCBpbiBuZXN0ZWQgc2NvcGVzKS5cbiAgICAgICAgICAgIHZhciBzY29wZSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgdHcgPSBuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlLCBkZXNjZW5kKXtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSAhPT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZ1bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25zLmFkZChub2RlLm5hbWUubmFtZSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gZG9uJ3QgZ28gaW4gbmVzdGVkIHNjb3Blc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zICYmIHNjb3BlID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oZGVmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9ucy5hZGQoZGVmLm5hbWUubmFtZSwgZGVmLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi52YWx1ZS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYudmFsdWUud2Fsayh0dyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaF91bmlxKGluX3VzZSwgbm9kZS5kZWZpbml0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYXZlX3Njb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZSA9IHNhdmVfc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZi53YWxrKHR3KTtcbiAgICAgICAgICAgIC8vIHBhc3MgMjogZm9yIGV2ZXJ5IHVzZWQgc3ltYm9sIHdlIG5lZWQgdG8gd2FsayBpdHNcbiAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uIGNvZGUgdG8gZmlndXJlIG91dCBpZiBpdCB1c2VzIG90aGVyXG4gICAgICAgICAgICAvLyBzeW1ib2xzICh0aGF0IG1heSBub3QgYmUgaW5fdXNlKS5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5fdXNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaW5fdXNlW2ldLm9yaWcuZm9yRWFjaChmdW5jdGlvbihkZWNsKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5kZWNsYXJlZCBnbG9iYWxzIHdpbGwgYmUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0ID0gaW5pdGlhbGl6YXRpb25zLmdldChkZWNsLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdCkgaW5pdC5mb3JFYWNoKGZ1bmN0aW9uKGluaXQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hfdW5pcShpbl91c2UsIG5vZGUuZGVmaW5pdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQud2Fsayh0dyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcGFzcyAzOiB3ZSBzaG91bGQgZHJvcCBkZWNsYXJhdGlvbnMgbm90IGluX3VzZVxuICAgICAgICAgICAgdmFyIHR0ID0gbmV3IFRyZWVUcmFuc2Zvcm1lcihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiZWZvcmUobm9kZSwgZGVzY2VuZCwgaW5fbGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGEgJiYgIShub2RlIGluc3RhbmNlb2YgQVNUX0FjY2Vzc29yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImtlZXBfZmFyZ3NcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gbm9kZS5hcmduYW1lcywgaSA9IGEubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN5bSA9IGFbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzeW0udW5yZWZlcmVuY2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJEcm9wcGluZyB1bnVzZWQgZnVuY3Rpb24gYXJndW1lbnQge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IHN5bS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgOiBzeW0uc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lIDogc3ltLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sICA6IHN5bS5zdGFydC5jb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZnVuICYmIG5vZGUgIT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVtYmVyKG5vZGUubmFtZS5kZWZpbml0aW9uKCksIGluX3VzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJEcm9wcGluZyB1bnVzZWQgZnVuY3Rpb24ge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBub2RlLm5hbWUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA6IG5vZGUubmFtZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lIDogbm9kZS5uYW1lLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCAgOiBub2RlLm5hbWUuc3RhcnQuY29sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGVmaW5pdGlvbnMgJiYgISh0dC5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9Gb3JJbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWYgPSBub2RlLmRlZmluaXRpb25zLmZpbHRlcihmdW5jdGlvbihkZWYpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXIoZGVmLm5hbWUuZGVmaW5pdGlvbigpLCBpbl91c2UpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGRlZi5uYW1lLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgOiBkZWYubmFtZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lIDogZGVmLm5hbWUuc3RhcnQubGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sICA6IGRlZi5uYW1lLnN0YXJ0LmNvbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSAmJiBkZWYudmFsdWUuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYuX3VudXNlZF9zaWRlX2VmZmVjdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJTaWRlIGVmZmVjdHMgaW4gaW5pdGlhbGl6YXRpb24gb2YgdW51c2VkIHZhcmlhYmxlIHtuYW1lfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJEcm9wcGluZyB1bnVzZWQgdmFyaWFibGUge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsYWNlIHVuaW5pdGlhbGl6ZWQgbmFtZXMgYXQgdGhlIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWYgPSBtZXJnZVNvcnQoZGVmLCBmdW5jdGlvbihhLCBiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWEudmFsdWUgJiYgYi52YWx1ZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYi52YWx1ZSAmJiBhLnZhbHVlKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHVudXNlZCBuYW1lcyB3aG9zZSBpbml0aWFsaXphdGlvbiBoYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpZGUgZWZmZWN0cywgd2UgY2FuIGNhc2NhZGUgdGhlIGluaXQuIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhlIG5leHQgb25lLCBvciBuZXh0IHN0YXRlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWRlX2VmZmVjdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVmLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGRlZltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC5fdW51c2VkX3NpZGVfZWZmZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlX2VmZmVjdHMucHVzaCh4LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZV9lZmZlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVfZWZmZWN0cy5wdXNoKHgudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC52YWx1ZSA9IEFTVF9TZXEuZnJvbV9hcnJheShzaWRlX2VmZmVjdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZV9lZmZlY3RzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWRlX2VmZmVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVfZWZmZWN0cyA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogWyBtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgbm9kZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQVNUX1NlcS5mcm9tX2FycmF5KHNpZGVfZWZmZWN0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlX2VmZmVjdHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5sZW5ndGggPT0gMCAmJiAhc2lkZV9lZmZlY3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWRlX2VmZmVjdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRlZmluaXRpb25zID0gZGVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGVfZWZmZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVfZWZmZWN0cy5ib2R5LnVuc2hpZnQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHNpZGVfZWZmZWN0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0Zvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuaW5pdCBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNlcnRhaW4gY29tYmluYXRpb24gb2YgdW51c2VkIG5hbWUgKyBzaWRlIGVmZmVjdCBsZWFkcyB0bzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvNDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGF0J3MgYW4gaW52YWxpZCBBU1QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZml4IGl0IGF0IHRoaXMgc3RhZ2UgYnkgbW92aW5nIHRoZSBgdmFyYCBvdXRzaWRlIHRoZSBgZm9yYC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gbm9kZS5pbml0LmJvZHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5pdCA9IG5vZGUuaW5pdC5ib2R5LnNsaWNlKC0xKVswXS5ib2R5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucHVzaChub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbl9saXN0ID8gTUFQLnNwbGljZShib2R5KSA6IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlICYmIG5vZGUgIT09IHNlbGYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm0odHQpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBBU1RfU2NvcGUuREVGTUVUSE9EKFwiaG9pc3RfZGVjbGFyYXRpb25zXCIsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgaG9pc3RfZnVucyA9IGNvbXByZXNzb3Iub3B0aW9uKFwiaG9pc3RfZnVuc1wiKTtcbiAgICAgICAgdmFyIGhvaXN0X3ZhcnMgPSBjb21wcmVzc29yLm9wdGlvbihcImhvaXN0X3ZhcnNcIik7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKGhvaXN0X2Z1bnMgfHwgaG9pc3RfdmFycykge1xuICAgICAgICAgICAgdmFyIGRpcnMgPSBbXTtcbiAgICAgICAgICAgIHZhciBob2lzdGVkID0gW107XG4gICAgICAgICAgICB2YXIgdmFycyA9IG5ldyBEaWN0aW9uYXJ5KCksIHZhcnNfZm91bmQgPSAwLCB2YXJfZGVjbCA9IDA7XG4gICAgICAgICAgICAvLyBsZXQncyBjb3VudCB2YXJfZGVjbCBmaXJzdCwgd2Ugc2VlbSB0byB3YXN0ZSBhIGxvdCBvZlxuICAgICAgICAgICAgLy8gc3BhY2UgaWYgd2UgaG9pc3QgYHZhcmAgd2hlbiB0aGVyZSdzIG9ubHkgb25lLlxuICAgICAgICAgICAgc2VsZi53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlICYmIG5vZGUgIT09IHNlbGYpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Zhcikge1xuICAgICAgICAgICAgICAgICAgICArK3Zhcl9kZWNsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBob2lzdF92YXJzID0gaG9pc3RfdmFycyAmJiB2YXJfZGVjbCA+IDE7XG4gICAgICAgICAgICB2YXIgdHQgPSBuZXcgVHJlZVRyYW5zZm9ybWVyKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGJlZm9yZShub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGVmdW4gJiYgaG9pc3RfZnVucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0ZWQucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9WYXIgJiYgaG9pc3RfdmFycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkZWYpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJzLnNldChkZWYubmFtZS5uYW1lLCBkZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK3ZhcnNfZm91bmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcSA9IG5vZGUudG9fYXNzaWdubWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHR0LnBhcmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX0ZvckluICYmIHAuaW5pdCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxID09IG51bGwpIHJldHVybiBub2RlLmRlZmluaXRpb25zWzBdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX0ZvciAmJiBwLmluaXQgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXEpIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogc2VxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTsgLy8gdG8gYXZvaWQgZGVzY2VuZGluZyBpbiBuZXN0ZWQgc2NvcGVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2VsZiA9IHNlbGYudHJhbnNmb3JtKHR0KTtcbiAgICAgICAgICAgIGlmICh2YXJzX2ZvdW5kID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3Qgb25seSB2YXJzIHdoaWNoIGRvbid0IHNob3cgdXAgaW4gc2VsZidzIGFyZ3VtZW50cyBsaXN0XG4gICAgICAgICAgICAgICAgdmFyIGRlZnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXJzLmVhY2goZnVuY3Rpb24oZGVmLCBuYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYgaW5zdGFuY2VvZiBBU1RfTGFtYmRhXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBmaW5kX2lmKGZ1bmN0aW9uKHgpeyByZXR1cm4geC5uYW1lID09IGRlZi5uYW1lLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hcmduYW1lcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMuZGVsKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmID0gZGVmLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWYudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmcy5wdXNoKGRlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJzLnNldChuYW1lLCBkZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlZnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gbWVyZ2UgaW4gYXNzaWdubWVudHNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmJvZHkubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYm9keVtpXSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHNlbGYuYm9keVtpXS5ib2R5LCBzeW0sIGFzc2lnbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwciBpbnN0YW5jZW9mIEFTVF9Bc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZXhwci5vcGVyYXRvciA9PSBcIj1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoc3ltID0gZXhwci5sZWZ0KSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdmFycy5oYXMoc3ltLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IHZhcnMuZ2V0KHN5bS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZi52YWx1ZSA9IGV4cHIucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShkZWZzLCBkZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZzLnB1c2goZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ib2R5LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHByIGluc3RhbmNlb2YgQVNUX1NlcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoYXNzaWduID0gZXhwci5jYXIpIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBhc3NpZ24ub3BlcmF0b3IgPT0gXCI9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHN5bSA9IGFzc2lnbi5sZWZ0KSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdmFycy5oYXMoc3ltLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IHZhcnMuZ2V0KHN5bS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZi52YWx1ZSA9IGFzc2lnbi5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGRlZnMsIGRlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZnMucHVzaChkZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJvZHlbaV0uYm9keSA9IGV4cHIuY2RyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ib2R5W2ldIGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ib2R5LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmJvZHlbaV0gaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gWyBpLCAxIF0uY29uY2F0KHNlbGYuYm9keVtpXS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJvZHkuc3BsaWNlLmFwcGx5KHNlbGYuYm9keSwgdG1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZnMgPSBtYWtlX25vZGUoQVNUX1Zhciwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IGRlZnNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGhvaXN0ZWQucHVzaChkZWZzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5ib2R5ID0gZGlycy5jb25jYXQoaG9pc3RlZCwgc2VsZi5ib2R5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU2ltcGxlU3RhdGVtZW50LCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2lkZV9lZmZlY3RzXCIpKSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYuYm9keS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRHJvcHBpbmcgc2lkZS1lZmZlY3QtZnJlZSBzdGF0ZW1lbnQgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfRFdMb29wLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgdmFyIGNvbmQgPSBzZWxmLmNvbmRpdGlvbi5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kWzBdO1xuICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwibG9vcHNcIikpIHJldHVybiBzZWxmO1xuICAgICAgICBpZiAoY29uZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAoY29uZFsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Zvciwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBzZWxmLmJvZHlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZiBpbnN0YW5jZW9mIEFTVF9XaGlsZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImRlYWRfY29kZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0X2RlY2xhcmF0aW9uc19mcm9tX3VucmVhY2hhYmxlX2NvZGUoY29tcHJlc3Nvciwgc2VsZi5ib2R5LCBhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYsIHsgYm9keTogYSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBpZl9icmVha19pbl9sb29wKHNlbGYsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgZnVuY3Rpb24gZHJvcF9pdChyZXN0KSB7XG4gICAgICAgICAgICByZXN0ID0gYXNfc3RhdGVtZW50X2FycmF5KHJlc3QpO1xuICAgICAgICAgICAgaWYgKHNlbGYuYm9keSBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuYm9keS5ib2R5ID0gcmVzdC5jb25jYXQoc2VsZi5ib2R5LmJvZHkuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuYm9keSA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYuYm9keSwge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiByZXN0XG4gICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWZfYnJlYWtfaW5fbG9vcChzZWxmLCBjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlyc3QgPSBzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQgPyBzZWxmLmJvZHkuYm9keVswXSA6IHNlbGYuYm9keTtcbiAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgQVNUX0lmKSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QuYm9keSBpbnN0YW5jZW9mIEFTVF9CcmVha1xuICAgICAgICAgICAgICAgICYmIGNvbXByZXNzb3IubG9vcGNvbnRyb2xfdGFyZ2V0KGZpcnN0LmJvZHkubGFiZWwpID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYuY29uZGl0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzZWxmLmNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiYmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogZmlyc3QuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25kaXRpb24gPSBmaXJzdC5jb25kaXRpb24ubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkcm9wX2l0KGZpcnN0LmFsdGVybmF0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0LmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX0JyZWFrXG4gICAgICAgICAgICAgICAgICAgICAmJiBjb21wcmVzc29yLmxvb3Bjb250cm9sX3RhcmdldChmaXJzdC5hbHRlcm5hdGl2ZS5sYWJlbCkgPT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25kaXRpb24gPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZi5jb25kaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiJiZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBmaXJzdC5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gZmlyc3QuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkcm9wX2l0KGZpcnN0LmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9QVChBU1RfV2hpbGUsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImxvb3BzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgc2VsZiA9IEFTVF9EV0xvb3AucHJvdG90eXBlLm9wdGltaXplLmNhbGwoc2VsZiwgY29tcHJlc3Nvcik7XG4gICAgICAgIGlmIChzZWxmIGluc3RhbmNlb2YgQVNUX1doaWxlKSB7XG4gICAgICAgICAgICBpZl9icmVha19pbl9sb29wKHNlbGYsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgc2VsZiA9IG1ha2Vfbm9kZShBU1RfRm9yLCBzZWxmLCBzZWxmKS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0ZvciwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHZhciBjb25kID0gc2VsZi5jb25kaXRpb247XG4gICAgICAgIGlmIChjb25kKSB7XG4gICAgICAgICAgICBjb25kID0gY29uZC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gY29uZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwibG9vcHNcIikpIHJldHVybiBzZWxmO1xuICAgICAgICBpZiAoY29uZCkge1xuICAgICAgICAgICAgaWYgKGNvbmQubGVuZ3RoID4gMSAmJiAhY29uZFsxXSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImRlYWRfY29kZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pbml0IGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHNlbGYuaW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5pbml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLnB1c2gobWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYuaW5pdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHNlbGYuaW5pdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RfZGVjbGFyYXRpb25zX2Zyb21fdW5yZWFjaGFibGVfY29kZShjb21wcmVzc29yLCBzZWxmLmJvZHksIGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9CbG9ja1N0YXRlbWVudCwgc2VsZiwgeyBib2R5OiBhIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZl9icmVha19pbl9sb29wKHNlbGYsIGNvbXByZXNzb3IpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfSWYsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwiY29uZGl0aW9uYWxzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgLy8gaWYgY29uZGl0aW9uIGNhbiBiZSBzdGF0aWNhbGx5IGRldGVybWluZWQsIHdhcm4gYW5kIGRyb3BcbiAgICAgICAgLy8gb25lIG9mIHRoZSBibG9ja3MuICBub3RlLCBzdGF0aWNhbGx5IGRldGVybWluZWQgaW1wbGllc1xuICAgICAgICAvLyDigJxoYXMgbm8gc2lkZSBlZmZlY3Rz4oCdOyBhbHNvIGl0IGRvZXNuJ3Qgd29yayBmb3IgY2FzZXMgbGlrZVxuICAgICAgICAvLyBgeCAmJiB0cnVlYCwgdGhvdWdoIGl0IHByb2JhYmx5IHNob3VsZC5cbiAgICAgICAgdmFyIGNvbmQgPSBzZWxmLmNvbmRpdGlvbi5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kWzBdO1xuICAgICAgICBpZiAoY29uZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAoY29uZFsxXSkge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkNvbmRpdGlvbiBhbHdheXMgdHJ1ZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc2VsZi5jb25kaXRpb24uc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImRlYWRfY29kZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdF9kZWNsYXJhdGlvbnNfZnJvbV91bnJlYWNoYWJsZV9jb2RlKGNvbXByZXNzb3IsIHNlbGYuYWx0ZXJuYXRpdmUsIGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChzZWxmLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9CbG9ja1N0YXRlbWVudCwgc2VsZiwgeyBib2R5OiBhIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkNvbmRpdGlvbiBhbHdheXMgZmFsc2UgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuY29uZGl0aW9uLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkZWFkX2NvZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdF9kZWNsYXJhdGlvbnNfZnJvbV91bnJlYWNoYWJsZV9jb2RlKGNvbXByZXNzb3IsIHNlbGYuYm9keSwgYSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFsdGVybmF0aXZlKSBhLnB1c2goc2VsZi5hbHRlcm5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzZWxmLCB7IGJvZHk6IGEgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfZW1wdHkoc2VsZi5hbHRlcm5hdGl2ZSkpIHNlbGYuYWx0ZXJuYXRpdmUgPSBudWxsO1xuICAgICAgICB2YXIgbmVnYXRlZCA9IHNlbGYuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgdmFyIG5lZ2F0ZWRfaXNfYmVzdCA9IGJlc3Rfb2Yoc2VsZi5jb25kaXRpb24sIG5lZ2F0ZWQpID09PSBuZWdhdGVkO1xuICAgICAgICBpZiAoc2VsZi5hbHRlcm5hdGl2ZSAmJiBuZWdhdGVkX2lzX2Jlc3QpIHtcbiAgICAgICAgICAgIG5lZ2F0ZWRfaXNfYmVzdCA9IGZhbHNlOyAvLyBiZWNhdXNlIHdlIGFscmVhZHkgZG8gdGhlIHN3aXRjaCBoZXJlLlxuICAgICAgICAgICAgc2VsZi5jb25kaXRpb24gPSBuZWdhdGVkO1xuICAgICAgICAgICAgdmFyIHRtcCA9IHNlbGYuYm9keTtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYWx0ZXJuYXRpdmUgfHwgbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCk7XG4gICAgICAgICAgICBzZWxmLmFsdGVybmF0aXZlID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc19lbXB0eShzZWxmLmJvZHkpICYmIGlzX2VtcHR5KHNlbGYuYWx0ZXJuYXRpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYuY29uZGl0aW9uLCB7XG4gICAgICAgICAgICAgICAgYm9keTogc2VsZi5jb25kaXRpb25cbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudFxuICAgICAgICAgICAgJiYgc2VsZi5hbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGJvZHk6IG1ha2Vfbm9kZShBU1RfQ29uZGl0aW9uYWwsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uICAgOiBzZWxmLmNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY29uc2VxdWVudCAgOiBzZWxmLmJvZHkuYm9keSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmUgOiBzZWxmLmFsdGVybmF0aXZlLmJvZHlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc19lbXB0eShzZWxmLmFsdGVybmF0aXZlKSAmJiBzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobmVnYXRlZF9pc19iZXN0KSByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IFwifHxcIixcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBuZWdhdGVkLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgICA6IHNlbGYuYm9keS5ib2R5XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGJvZHk6IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogXCImJlwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgICA6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgICA6IHNlbGYuYm9keS5ib2R5XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50XG4gICAgICAgICAgICAmJiBzZWxmLmFsdGVybmF0aXZlXG4gICAgICAgICAgICAmJiBzZWxmLmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgYm9keTogbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBcInx8XCIsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgICAgIDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogc2VsZi5hbHRlcm5hdGl2ZS5ib2R5XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX0V4aXRcbiAgICAgICAgICAgICYmIHNlbGYuYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBBU1RfRXhpdFxuICAgICAgICAgICAgJiYgc2VsZi5ib2R5LlRZUEUgPT0gc2VsZi5hbHRlcm5hdGl2ZS5UWVBFKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKHNlbGYuYm9keS5DVE9SLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG1ha2Vfbm9kZShBU1RfQ29uZGl0aW9uYWwsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uICAgOiBzZWxmLmNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY29uc2VxdWVudCAgOiBzZWxmLmJvZHkudmFsdWUgfHwgbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYuYm9keSkub3B0aW1pemUoY29tcHJlc3NvciksXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlIDogc2VsZi5hbHRlcm5hdGl2ZS52YWx1ZSB8fCBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgc2VsZi5hbHRlcm5hdGl2ZSkub3B0aW1pemUoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfSWZcbiAgICAgICAgICAgICYmICFzZWxmLmJvZHkuYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgICYmICFzZWxmLmFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLmNvbmRpdGlvbiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiYmXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGYuYm9keS5jb25kaXRpb25cbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhYm9ydHMoc2VsZi5ib2R5KSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWx0ID0gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBzZWxmLmFsdGVybmF0aXZlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9CbG9ja1N0YXRlbWVudCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBbIHNlbGYsIGFsdCBdXG4gICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhYm9ydHMoc2VsZi5hbHRlcm5hdGl2ZSkpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gc2VsZi5ib2R5O1xuICAgICAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gbmVnYXRlZF9pc19iZXN0ID8gbmVnYXRlZCA6IHNlbGYuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHNlbGYuYWx0ZXJuYXRpdmUgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBbIHNlbGYsIGJvZHkgXVxuICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Td2l0Y2gsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoc2VsZi5ib2R5Lmxlbmd0aCA9PSAwICYmIGNvbXByZXNzb3Iub3B0aW9uKFwiY29uZGl0aW9uYWxzXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBzZWxmLmV4cHJlc3Npb25cbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IoOzspIHtcbiAgICAgICAgICAgIHZhciBsYXN0X2JyYW5jaCA9IHNlbGYuYm9keVtzZWxmLmJvZHkubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdF9icmFuY2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdCA9IGxhc3RfYnJhbmNoLmJvZHlbbGFzdF9icmFuY2guYm9keS5sZW5ndGggLSAxXTsgLy8gbGFzdCBzdGF0ZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9CcmVhayAmJiBsb29wX2JvZHkoY29tcHJlc3Nvci5sb29wY29udHJvbF90YXJnZXQoc3RhdC5sYWJlbCkpID09PSBzZWxmKVxuICAgICAgICAgICAgICAgICAgICBsYXN0X2JyYW5jaC5ib2R5LnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0X2JyYW5jaCBpbnN0YW5jZW9mIEFTVF9EZWZhdWx0ICYmIGxhc3RfYnJhbmNoLmJvZHkubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ib2R5LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXhwID0gc2VsZi5leHByZXNzaW9uLmV2YWx1YXRlKGNvbXByZXNzb3IpO1xuICAgICAgICBvdXQ6IGlmIChleHAubGVuZ3RoID09IDIpIHRyeSB7XG4gICAgICAgICAgICAvLyBjb25zdGFudCBleHByZXNzaW9uXG4gICAgICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBleHBbMF07XG4gICAgICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwiZGVhZF9jb2RlXCIpKSBicmVhayBvdXQ7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBleHBbMV07XG4gICAgICAgICAgICB2YXIgaW5faWYgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpbl9ibG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcnVpbmVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgdHQgPSBuZXcgVHJlZVRyYW5zZm9ybWVyKGZ1bmN0aW9uKG5vZGUsIGRlc2NlbmQsIGluX2xpc3Qpe1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0xhbWJkYSB8fCBub2RlIGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIGRlc2NlbmQgdGhlc2Ugbm9kZSB0eXBlc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Td2l0Y2ggJiYgbm9kZSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKG5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVpbmVkID8gbm9kZSA6IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IG5vZGUuYm9keS5yZWR1Y2UoZnVuY3Rpb24oYSwgYnJhbmNoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5jb25jYXQoYnJhbmNoLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgW10pXG4gICAgICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9JZiB8fCBub2RlIGluc3RhbmNlb2YgQVNUX1RyeSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2F2ZSA9IGluX2lmO1xuICAgICAgICAgICAgICAgICAgICBpbl9pZiA9ICFpbl9ibG9jaztcbiAgICAgICAgICAgICAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaW5faWYgPSBzYXZlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnRXaXRoQm9keSB8fCBub2RlIGluc3RhbmNlb2YgQVNUX1N3aXRjaCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2F2ZSA9IGluX2Jsb2NrO1xuICAgICAgICAgICAgICAgICAgICBpbl9ibG9jayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NlbmQobm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGluX2Jsb2NrID0gc2F2ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQnJlYWsgJiYgdGhpcy5sb29wY29udHJvbF90YXJnZXQobm9kZS5sYWJlbCkgPT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluX2lmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydWluZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluX2Jsb2NrKSByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbl9saXN0ID8gTUFQLnNraXAgOiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Td2l0Y2hCcmFuY2ggJiYgdGhpcy5wYXJlbnQoKSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcHBlZCkgcmV0dXJuIE1BUC5za2lwO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9DYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwID0gbm9kZS5leHByZXNzaW9uLmV2YWx1YXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ290IGEgY2FzZSB3aXRoIG5vbi1jb25zdGFudCBleHByZXNzaW9uLCBiYWxpbmcgb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2VsZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHBbMV0gPT09IHZhbHVlIHx8IHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRzKG5vZGUpKSBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKG5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1BUC5za2lwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NlbmQobm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHQuc3RhY2sgPSBjb21wcmVzc29yLnN0YWNrLnNsaWNlKCk7IC8vIHNvIHRoYXQncyBhYmxlIHRvIHNlZSBwYXJlbnQgbm9kZXNcbiAgICAgICAgICAgIHNlbGYgPSBzZWxmLnRyYW5zZm9ybSh0dCk7XG4gICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgIGlmIChleCAhPT0gc2VsZikgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0Nhc2UsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBzZWxmLmJvZHkgPSB0aWdodGVuX2JvZHkoc2VsZi5ib2R5LCBjb21wcmVzc29yKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1RyeSwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYuYm9keSA9IHRpZ2h0ZW5fYm9keShzZWxmLmJvZHksIGNvbXByZXNzb3IpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIEFTVF9EZWZpbml0aW9ucy5ERUZNRVRIT0QoXCJyZW1vdmVfaW5pdGlhbGl6ZXJzXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkZWYpeyBkZWYudmFsdWUgPSBudWxsIH0pO1xuICAgIH0pO1xuXG4gICAgQVNUX0RlZmluaXRpb25zLkRFRk1FVEhPRChcInRvX2Fzc2lnbm1lbnRzXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBhc3NpZ25tZW50cyA9IHRoaXMuZGVmaW5pdGlvbnMucmVkdWNlKGZ1bmN0aW9uKGEsIGRlZil7XG4gICAgICAgICAgICBpZiAoZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBtYWtlX25vZGUoQVNUX1N5bWJvbFJlZiwgZGVmLm5hbWUsIGRlZi5uYW1lKTtcbiAgICAgICAgICAgICAgICBhLnB1c2gobWFrZV9ub2RlKEFTVF9Bc3NpZ24sIGRlZiwge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IFwiPVwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgICA6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogZGVmLnZhbHVlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIEFTVF9TZXEuZnJvbV9hcnJheShhc3NpZ25tZW50cyk7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0RlZmluaXRpb25zLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKHNlbGYuZGVmaW5pdGlvbnMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgc2VsZik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9GdW5jdGlvbiwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYgPSBBU1RfTGFtYmRhLnByb3RvdHlwZS5vcHRpbWl6ZS5jYWxsKHNlbGYsIGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJ1bnVzZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLm5hbWUgJiYgc2VsZi5uYW1lLnVucmVmZXJlbmNlZCgpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5uYW1lID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfQ2FsbCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSkge1xuICAgICAgICAgICAgdmFyIGV4cCA9IHNlbGYuZXhwcmVzc2lvbjtcbiAgICAgICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmICYmIGV4cC51bmRlY2xhcmVkKCkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4cC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQXJyYXksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogc2VsZi5hcmdzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX09iamVjdCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggPT0gMCkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggPD0gMSkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzZWxmLmFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHNlbGYsIHsgdmFsdWU6IFwiXCIgfSlcbiAgICAgICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggPT0gMCkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfTnVtYmVyLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggPT0gMSkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVW5hcnlQcmVmaXgsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IHNlbGYuYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIitcIlxuICAgICAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hcmdzLmxlbmd0aCA9PSAwKSByZXR1cm4gbWFrZV9ub2RlKEFTVF9GYWxzZSwgc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoID09IDEpIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogc2VsZi5hcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIhXCJcbiAgICAgICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsKHNlbGYuYXJncywgZnVuY3Rpb24oeCl7IHJldHVybiB4IGluc3RhbmNlb2YgQVNUX1N0cmluZyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVpdGUgYSBjb3JuZXItY2FzZSwgYnV0IHdlIGNhbiBoYW5kbGUgaXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyL2lzc3Vlcy8yMDNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjb2RlIGFyZ3VtZW50IGlzIGEgY29uc3RhbnQsIHRoZW4gd2UgY2FuIG1pbmlmeSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBcIihmdW5jdGlvbihcIiArIHNlbGYuYXJncy5zbGljZSgwLCAtMSkubWFwKGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbihcIixcIikgKyBcIil7XCIgKyBzZWxmLmFyZ3Nbc2VsZi5hcmdzLmxlbmd0aCAtIDFdLnZhbHVlICsgXCJ9KSgpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzdCA9IHBhcnNlKGNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC5maWd1cmVfb3V0X3Njb3BlKHsgc2NyZXdfaWU4OiBjb21wcmVzc29yLm9wdGlvbihcInNjcmV3X2llOFwiKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcCA9IG5ldyBDb21wcmVzc29yKGNvbXByZXNzb3Iub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0ID0gYXN0LnRyYW5zZm9ybShjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QuZmlndXJlX291dF9zY29wZSh7IHNjcmV3X2llODogY29tcHJlc3Nvci5vcHRpb24oXCJzY3Jld19pZThcIikgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0Lm1hbmdsZV9uYW1lcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmdW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LndhbGsobmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW4gPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGFzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4ICE9PSBhc3QpIHRocm93IGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmdW4pIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZnVuLmFyZ25hbWVzLm1hcChmdW5jdGlvbihhcmcsIGkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHNlbGYuYXJnc1tpXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFyZy5wcmludF90b19zdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IE91dHB1dFN0cmVhbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVF9CbG9ja1N0YXRlbWVudC5wcm90b3R5cGUuX2NvZGVnZW4uY2FsbChmdW4sIGZ1biwgY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFx7fFxcfSQvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLmFyZ3Nbc2VsZi5hcmdzLmxlbmd0aCAtIDFdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXJncyA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4IGluc3RhbmNlb2YgSlNfUGFyc2VfRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRXJyb3IgcGFyc2luZyBjb2RlIHBhc3NlZCB0byBuZXcgRnVuY3Rpb24gW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuYXJnc1tzZWxmLmFyZ3MubGVuZ3RoIC0gMV0uc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oZXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXhwIGluc3RhbmNlb2YgQVNUX0RvdCAmJiBleHAucHJvcGVydHkgPT0gXCJ0b1N0cmluZ1wiICYmIHNlbGYuYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBtYWtlX25vZGUoQVNUX1N0cmluZywgc2VsZiwgeyB2YWx1ZTogXCJcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogZXhwLmV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChleHAgaW5zdGFuY2VvZiBBU1RfRG90ICYmIGV4cC5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0FycmF5ICYmIGV4cC5wcm9wZXJ0eSA9PSBcImpvaW5cIikgRVhJVDoge1xuICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSBzZWxmLmFyZ3MubGVuZ3RoID09IDAgPyBcIixcIiA6IHNlbGYuYXJnc1swXS5ldmFsdWF0ZShjb21wcmVzc29yKVsxXTtcbiAgICAgICAgICAgICAgICBpZiAoc2VwYXJhdG9yID09IG51bGwpIGJyZWFrIEVYSVQ7IC8vIG5vdCBhIGNvbnN0YW50XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZXhwLmV4cHJlc3Npb24uZWxlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGEsIGVsKXtcbiAgICAgICAgICAgICAgICAgICAgZWwgPSBlbC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEubGVuZ3RoID09IDAgfHwgZWwubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IGFbYS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBhIGNvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IFwiXCIgKyBsYXN0WzFdICsgc2VwYXJhdG9yICsgZWxbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gWyBtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCB2YWwsIGxhc3RbMF0pLCB2YWwgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm4gbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHNlbGYsIHsgdmFsdWU6IFwiXCIgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxKSByZXR1cm4gZWxlbWVudHNbMF1bMF07XG4gICAgICAgICAgICAgICAgaWYgKHNlcGFyYXRvciA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzWzBdWzBdIGluc3RhbmNlb2YgQVNUX1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZWxlbWVudHNbMV1bMF0gaW5zdGFuY2VvZiBBU1RfU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGVsZW1lbnRzLnNoaWZ0KClbMF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLCB7IHZhbHVlOiBcIlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgZWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBlbFswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogXCIrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBwcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogZWxbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZmlyc3QpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGF3a3dhcmQgY2xvbmluZyB0byBub3QgYWZmZWN0IG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBiZXN0X29mIHdpbGwgZGVjaWRlIHdoaWNoIG9uZSB0byBnZXQgdGhyb3VnaC5cbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHNlbGYuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBub2RlLmV4cHJlc3Npb24gPSBub2RlLmV4cHJlc3Npb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBub2RlLmV4cHJlc3Npb24uZXhwcmVzc2lvbiA9IG5vZGUuZXhwcmVzc2lvbi5leHByZXNzaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgbm9kZS5leHByZXNzaW9uLmV4cHJlc3Npb24uZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxbMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3Rfb2Yoc2VsZiwgbm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2lkZV9lZmZlY3RzXCIpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uXG4gICAgICAgICAgICAgICAgJiYgc2VsZi5hcmdzLmxlbmd0aCA9PSAwXG4gICAgICAgICAgICAgICAgJiYgIUFTVF9CbG9jay5wcm90b3R5cGUuaGFzX3NpZGVfZWZmZWN0cy5jYWxsKHNlbGYuZXhwcmVzc2lvbiwgY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkcm9wX2NvbnNvbGVcIikpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBBU1RfUHJvcEFjY2VzcyAmJlxuICAgICAgICAgICAgICAgIHNlbGYuZXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJlxuICAgICAgICAgICAgICAgIHNlbGYuZXhwcmVzc2lvbi5leHByZXNzaW9uLm5hbWUgPT0gXCJjb25zb2xlXCIgJiZcbiAgICAgICAgICAgICAgICBzZWxmLmV4cHJlc3Npb24uZXhwcmVzc2lvbi51bmRlY2xhcmVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5ldmFsdWF0ZShjb21wcmVzc29yKVswXTtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfTmV3LCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwidW5zYWZlXCIpKSB7XG4gICAgICAgICAgICB2YXIgZXhwID0gc2VsZi5leHByZXNzaW9uO1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYgJiYgZXhwLnVuZGVjbGFyZWQoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXhwLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZWdFeHBcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQ2FsbCwgc2VsZiwgc2VsZikudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU2VxLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcInNpZGVfZWZmZWN0c1wiKSlcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICBpZiAoIXNlbGYuY2FyLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZG4ndCBjb21wcmVzcyAoMSxldmFsKShzb21ldGhpbmcpIHRvXG4gICAgICAgICAgICAvLyBldmFsKHNvbWV0aGluZykgYmVjYXVzZSB0aGF0IGNoYW5nZXMgdGhlIG1lYW5pbmcgb2ZcbiAgICAgICAgICAgIC8vIGV2YWwgKGJlY29tZXMgbGV4aWNhbCBpbnN0ZWFkIG9mIGdsb2JhbCkuXG4gICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgIGlmICghKHNlbGYuY2RyIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgJiYgc2VsZi5jZHIubmFtZSA9PSBcImV2YWxcIlxuICAgICAgICAgICAgICAgICAgJiYgc2VsZi5jZHIudW5kZWNsYXJlZCgpXG4gICAgICAgICAgICAgICAgICAmJiAocCA9IGNvbXByZXNzb3IucGFyZW50KCkpIGluc3RhbmNlb2YgQVNUX0NhbGxcbiAgICAgICAgICAgICAgICAgICYmIHAuZXhwcmVzc2lvbiA9PT0gc2VsZikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jZHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiY2FzY2FkZVwiKSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY2FyIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgICAgICYmICFzZWxmLmNhci5sZWZ0Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYXIubGVmdC5lcXVpdmFsZW50X3RvKHNlbGYuY2RyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNkciBpbnN0YW5jZW9mIEFTVF9DYWxsXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYuY2RyLmV4cHJlc3Npb24uZXF1aXZhbGVudF90byhzZWxmLmNhci5sZWZ0KSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNkci5leHByZXNzaW9uID0gc2VsZi5jYXI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNkcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNlbGYuY2FyLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICAmJiAhc2VsZi5jZHIuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgICYmIHNlbGYuY2FyLmVxdWl2YWxlbnRfdG8oc2VsZi5jZHIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2FyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLmNkciBpbnN0YW5jZW9mIEFTVF9VbmFyeVByZWZpeFxuICAgICAgICAgICAgJiYgc2VsZi5jZHIub3BlcmF0b3IgPT0gXCJ2b2lkXCJcbiAgICAgICAgICAgICYmICFzZWxmLmNkci5leHByZXNzaW9uLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgIHNlbGYuY2RyLm9wZXJhdG9yID0gc2VsZi5jYXI7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jZHI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuY2RyIGluc3RhbmNlb2YgQVNUX1VuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVW5hcnlQcmVmaXgsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvciAgIDogXCJ2b2lkXCIsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IHNlbGYuY2FyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIEFTVF9VbmFyeS5ERUZNRVRIT0QoXCJsaWZ0X3NlcXVlbmNlc1wiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2VxdWVuY2VzXCIpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXEgPSB0aGlzLmV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzZXEudG9fYXJyYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1VuYXJ5UG9zdGZpeCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHJldHVybiBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9VbmFyeVByZWZpeCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYgPSBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgICAgICB2YXIgZSA9IHNlbGYuZXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYm9vbGVhbnNcIikgJiYgY29tcHJlc3Nvci5pbl9ib29sZWFuX2NvbnRleHQoKSkge1xuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCIhXCI6XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXggJiYgZS5vcGVyYXRvciA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAhIWZvbyA9PT4gZm9vLCBpZiB3ZSdyZSBpbiBib29sZWFuIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZXhwcmVzc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0eXBlb2ZcIjpcbiAgICAgICAgICAgICAgICAvLyB0eXBlb2YgYWx3YXlzIHJldHVybnMgYSBub24tZW1wdHkgc3RyaW5nLCB0aHVzIGl0J3NcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgdHJ1ZSBpbiBib29sZWFuc1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkJvb2xlYW4gZXhwcmVzc2lvbiBhbHdheXMgdHJ1ZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc2VsZi5zdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVHJ1ZSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgc2VsZi5vcGVyYXRvciA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgIHNlbGYgPSBiZXN0X29mKHNlbGYsIGUubmVnYXRlKGNvbXByZXNzb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5ldmFsdWF0ZShjb21wcmVzc29yKVswXTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGhhc19zaWRlX2VmZmVjdHNfb3JfcHJvcF9hY2Nlc3Mobm9kZSwgY29tcHJlc3Nvcikge1xuICAgICAgICB2YXIgc2F2ZV9wdXJlX2dldHRlcnMgPSBjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZ2V0dGVyc1wiKTtcbiAgICAgICAgY29tcHJlc3Nvci5vcHRpb25zLnB1cmVfZ2V0dGVycyA9IGZhbHNlO1xuICAgICAgICB2YXIgcmV0ID0gbm9kZS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICBjb21wcmVzc29yLm9wdGlvbnMucHVyZV9nZXR0ZXJzID0gc2F2ZV9wdXJlX2dldHRlcnM7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgQVNUX0JpbmFyeS5ERUZNRVRIT0QoXCJsaWZ0X3NlcXVlbmNlc1wiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2VxdWVuY2VzXCIpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0IGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXEgPSB0aGlzLmxlZnQ7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzZXEudG9fYXJyYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQgPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCBpbnN0YW5jZW9mIEFTVF9TZXFcbiAgICAgICAgICAgICAgICAmJiB0aGlzIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgICAgICYmICFoYXNfc2lkZV9lZmZlY3RzX29yX3Byb3BfYWNjZXNzKHRoaXMubGVmdCwgY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gdGhpcy5yaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNlcS50b19hcnJheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQgPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cbiAgICB2YXIgY29tbXV0YXRpdmVPcGVyYXRvcnMgPSBtYWtlUHJlZGljYXRlKFwiPT0gPT09ICE9ICE9PSAqICYgfCBeXCIpO1xuXG4gICAgT1BUKEFTVF9CaW5hcnksIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgcmV2ZXJzZSA9IGNvbXByZXNzb3IuaGFzX2RpcmVjdGl2ZShcInVzZSBhc21cIikgPyBub29wXG4gICAgICAgICAgICA6IGZ1bmN0aW9uKG9wLCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZSB8fCAhKHNlbGYubGVmdC5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpIHx8IHNlbGYucmlnaHQuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wKSBzZWxmLm9wZXJhdG9yID0gb3A7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzZWxmLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHNlbGYucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmlnaHQgPSB0bXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbW11dGF0aXZlT3BlcmF0b3JzKHNlbGYub3BlcmF0b3IpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICYmICEoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50KSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHJpZ2h0IGlzIGEgY29uc3RhbnQsIHdoYXRldmVyIHNpZGUgZWZmZWN0cyB0aGVcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IHNpZGUgbWlnaHQgaGF2ZSBjb3VsZCBub3QgaW5mbHVlbmNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlc3VsdC4gIGhlbmNlLCBmb3JjZSBzd2l0Y2guXG5cbiAgICAgICAgICAgICAgICBpZiAoIShzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgJiYgUFJFQ0VERU5DRVtzZWxmLmxlZnQub3BlcmF0b3JdID49IFBSRUNFREVOQ0Vbc2VsZi5vcGVyYXRvcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2UobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eWyE9XT09PyQvLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJiBzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0LmNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmNvbnNlcXVlbnQuZGVmaW5pdGlvbigpID09PSBzZWxmLmxlZnQuZGVmaW5pdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL149PS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYucmlnaHQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eIT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLnJpZ2h0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmlnaHQuYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmFsdGVybmF0aXZlLmRlZmluaXRpb24oKSA9PT0gc2VsZi5sZWZ0LmRlZmluaXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9ePT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLnJpZ2h0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14hPS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYucmlnaHQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJiBzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubGVmdC5jb25zZXF1ZW50IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0LmNvbnNlcXVlbnQuZGVmaW5pdGlvbigpID09PSBzZWxmLnJpZ2h0LmRlZmluaXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9ePT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLmxlZnQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eIT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLmxlZnQuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0LmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0LmFsdGVybmF0aXZlLmRlZmluaXRpb24oKSA9PT0gc2VsZi5yaWdodC5kZWZpbml0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXj09Ly50ZXN0KHNlbGYub3BlcmF0b3IpKSByZXR1cm4gc2VsZi5sZWZ0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14hPS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYubGVmdC5jb25kaXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZiA9IHNlbGYubGlmdF9zZXF1ZW5jZXMoY29tcHJlc3Nvcik7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImNvbXBhcmlzb25zXCIpKSBzd2l0Y2ggKHNlbGYub3BlcmF0b3IpIHtcbiAgICAgICAgICBjYXNlIFwiPT09XCI6XG4gICAgICAgICAgY2FzZSBcIiE9PVwiOlxuICAgICAgICAgICAgaWYgKChzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpICYmIHNlbGYucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB8fFxuICAgICAgICAgICAgICAgIChzZWxmLmxlZnQuaXNfYm9vbGVhbigpICYmIHNlbGYucmlnaHQuaXNfYm9vbGVhbigpKSkge1xuICAgICAgICAgICAgICAgIHNlbGYub3BlcmF0b3IgPSBzZWxmLm9wZXJhdG9yLnN1YnN0cigwLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFhYWDogaW50ZW50aW9uYWxseSBmYWxsaW5nIGRvd24gdG8gdGhlIG5leHQgY2FzZVxuICAgICAgICAgIGNhc2UgXCI9PVwiOlxuICAgICAgICAgIGNhc2UgXCIhPVwiOlxuICAgICAgICAgICAgaWYgKHNlbGYubGVmdCBpbnN0YW5jZW9mIEFTVF9TdHJpbmdcbiAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQudmFsdWUgPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXhcbiAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0Lm9wZXJhdG9yID09IFwidHlwZW9mXCJcbiAgICAgICAgICAgICAgICAmJiBjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSkge1xuICAgICAgICAgICAgICAgIGlmICghKHNlbGYucmlnaHQuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpXG4gICAgICAgICAgICAgICAgICAgIHx8ICFzZWxmLnJpZ2h0LmV4cHJlc3Npb24udW5kZWNsYXJlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLnJpZ2h0LmV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBzZWxmLmxlZnQpLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcGVyYXRvci5sZW5ndGggPT0gMikgc2VsZi5vcGVyYXRvciArPSBcIj1cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJib29sZWFuc1wiKSAmJiBjb21wcmVzc29yLmluX2Jvb2xlYW5fY29udGV4dCgpKSBzd2l0Y2ggKHNlbGYub3BlcmF0b3IpIHtcbiAgICAgICAgICBjYXNlIFwiJiZcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgIWxsWzFdKSB8fCAocnIubGVuZ3RoID4gMSAmJiAhcnJbMV0pKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiQm9vbGVhbiAmJiBhbHdheXMgZmFsc2UgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0ZhbHNlLCBzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsbC5sZW5ndGggPiAxICYmIGxsWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJyLmxlbmd0aCA+IDEgJiYgcnJbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGxbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwifHxcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgbGxbMV0pIHx8IChyci5sZW5ndGggPiAxICYmIHJyWzFdKSkge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkJvb2xlYW4gfHwgYWx3YXlzIHRydWUgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1RydWUsIHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxsLmxlbmd0aCA+IDEgJiYgIWxsWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJyLmxlbmd0aCA+IDEgJiYgIXJyWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxsWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgbGxbMF0gaW5zdGFuY2VvZiBBU1RfU3RyaW5nICYmIGxsWzFdKSB8fFxuICAgICAgICAgICAgICAgIChyci5sZW5ndGggPiAxICYmIHJyWzBdIGluc3RhbmNlb2YgQVNUX1N0cmluZyAmJiByclsxXSkpIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCIrIGluIGJvb2xlYW4gY29udGV4dCBhbHdheXMgdHJ1ZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc2VsZi5zdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVHJ1ZSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJjb21wYXJpc29uc1wiKSkge1xuICAgICAgICAgICAgaWYgKCEoY29tcHJlc3Nvci5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkpXG4gICAgICAgICAgICAgICAgfHwgY29tcHJlc3Nvci5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVnYXRlZCA9IG1ha2Vfbm9kZShBU1RfVW5hcnlQcmVmaXgsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBzZWxmLm5lZ2F0ZShjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlbGYgPSBiZXN0X29mKHNlbGYsIG5lZ2F0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCI8XCI6IHJldmVyc2UoXCI+XCIpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIjw9XCI6IHJldmVyc2UoXCI+PVwiKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYub3BlcmF0b3IgPT0gXCIrXCIgJiYgc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9TdHJpbmdcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQuZ2V0VmFsdWUoKSA9PT0gXCJcIiAmJiBzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAmJiBzZWxmLmxlZnQub3BlcmF0b3IgPT0gXCIrXCIgJiYgc2VsZi5sZWZ0LmlzX3N0cmluZyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJldmFsdWF0ZVwiKSkge1xuICAgICAgICAgICAgaWYgKHNlbGYub3BlcmF0b3IgPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQub3BlcmF0b3IgPT0gXCIrXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5yaWdodC5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbWFrZV9ub2RlKEFTVF9TdHJpbmcsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIiArIHNlbGYubGVmdC5nZXRWYWx1ZSgpICsgc2VsZi5yaWdodC5sZWZ0LmdldFZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHNlbGYubGVmdC5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHNlbGYucmlnaHQubGVmdC5lbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGYucmlnaHQucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0Lm9wZXJhdG9yID09IFwiK1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5sZWZ0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9TdHJpbmcsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIiArIHNlbGYubGVmdC5yaWdodC5nZXRWYWx1ZSgpICsgc2VsZi5yaWdodC5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzZWxmLmxlZnQucmlnaHQuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBzZWxmLnJpZ2h0LmVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5vcGVyYXRvciA9PSBcIitcIlxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0JpbmFyeVxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0Lm9wZXJhdG9yID09IFwiK1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmlzX3N0cmluZyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmID0gbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIitcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLmxlZnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5sZWZ0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiICsgc2VsZi5sZWZ0LnJpZ2h0LmdldFZhbHVlKCkgKyBzZWxmLnJpZ2h0LmxlZnQuZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHNlbGYubGVmdC5yaWdodC5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBzZWxmLnJpZ2h0LmxlZnQuZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGYucmlnaHQucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHggKiAoeSAqIHopICA9PT4gIHggKiB5ICogelxuICAgICAgICBpZiAoc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQub3BlcmF0b3IgPT0gc2VsZi5vcGVyYXRvclxuICAgICAgICAgICAgJiYgKHNlbGYub3BlcmF0b3IgPT0gXCIqXCIgfHwgc2VsZi5vcGVyYXRvciA9PSBcIiYmXCIgfHwgc2VsZi5vcGVyYXRvciA9PSBcInx8XCIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLmxlZnQgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZi5sZWZ0LCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBzZWxmLm9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGxlZnQgICAgIDogc2VsZi5sZWZ0LFxuICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogc2VsZi5yaWdodC5sZWZ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLnJpZ2h0LnJpZ2h0O1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmV2YWx1YXRlKGNvbXByZXNzb3IpWzBdO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9TeW1ib2xSZWYsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoc2VsZi51bmRlY2xhcmVkKCkpIHtcbiAgICAgICAgICAgIHZhciBkZWZpbmVzID0gY29tcHJlc3Nvci5vcHRpb24oXCJnbG9iYWxfZGVmc1wiKTtcbiAgICAgICAgICAgIGlmIChkZWZpbmVzICYmIGRlZmluZXMuaGFzT3duUHJvcGVydHkoc2VsZi5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCBkZWZpbmVzW3NlbGYubmFtZV0sIHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgc2VsZik7XG4gICAgICAgICAgICAgIGNhc2UgXCJOYU5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9OYU4sIHNlbGYpO1xuICAgICAgICAgICAgICBjYXNlIFwiSW5maW5pdHlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9JbmZpbml0eSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1VuZGVmaW5lZCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSkge1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gY29tcHJlc3Nvci5maW5kX3BhcmVudChBU1RfU2NvcGUpO1xuICAgICAgICAgICAgdmFyIHVuZGVmID0gc2NvcGUuZmluZF92YXJpYWJsZShcInVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIGlmICh1bmRlZikge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSBtYWtlX25vZGUoQVNUX1N5bWJvbFJlZiwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lICAgOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgICAgICAgICBzY29wZSAgOiBzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlZGVmIDogdW5kZWZcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZWYucmVmZXJlbmNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIHZhciBBU1NJR05fT1BTID0gWyAnKycsICctJywgJy8nLCAnKicsICclJywgJz4+JywgJzw8JywgJz4+PicsICd8JywgJ14nLCAnJicgXTtcbiAgICBPUFQoQVNUX0Fzc2lnbiwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYgPSBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoc2VsZi5vcGVyYXRvciA9PSBcIj1cIlxuICAgICAgICAgICAgJiYgc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgJiYgc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdCBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWZcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdC5uYW1lID09IHNlbGYubGVmdC5uYW1lXG4gICAgICAgICAgICAmJiBtZW1iZXIoc2VsZi5yaWdodC5vcGVyYXRvciwgQVNTSUdOX09QUykpIHtcbiAgICAgICAgICAgIHNlbGYub3BlcmF0b3IgPSBzZWxmLnJpZ2h0Lm9wZXJhdG9yICsgXCI9XCI7XG4gICAgICAgICAgICBzZWxmLnJpZ2h0ID0gc2VsZi5yaWdodC5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwiY29uZGl0aW9uYWxzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgaWYgKHNlbGYuY29uZGl0aW9uIGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgdmFyIGNhciA9IHNlbGYuY29uZGl0aW9uLmNhcjtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24uY2RyO1xuICAgICAgICAgICAgcmV0dXJuIEFTVF9TZXEuY29ucyhjYXIsIHNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25kID0gc2VsZi5jb25kaXRpb24uZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgIGlmIChjb25kLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGlmIChjb25kWzFdKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiQ29uZGl0aW9uIGFsd2F5cyB0cnVlIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zZXF1ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJDb25kaXRpb24gYWx3YXlzIGZhbHNlIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmVnYXRlZCA9IGNvbmRbMF0ubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoYmVzdF9vZihjb25kWzBdLCBuZWdhdGVkKSA9PT0gbmVnYXRlZCkge1xuICAgICAgICAgICAgc2VsZiA9IG1ha2Vfbm9kZShBU1RfQ29uZGl0aW9uYWwsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IG5lZ2F0ZWQsXG4gICAgICAgICAgICAgICAgY29uc2VxdWVudDogc2VsZi5hbHRlcm5hdGl2ZSxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogc2VsZi5jb25zZXF1ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uc2VxdWVudCA9IHNlbGYuY29uc2VxdWVudDtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlID0gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgaWYgKGNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfQXNzaWduXG4gICAgICAgICAgICAmJiBhbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ25cbiAgICAgICAgICAgICYmIGNvbnNlcXVlbnQub3BlcmF0b3IgPT0gYWx0ZXJuYXRpdmUub3BlcmF0b3JcbiAgICAgICAgICAgICYmIGNvbnNlcXVlbnQubGVmdC5lcXVpdmFsZW50X3RvKGFsdGVybmF0aXZlLmxlZnQpXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFN0dWZmIGxpa2UgdGhpczpcbiAgICAgICAgICAgICAqIGlmIChmb28pIGV4cCA9IHNvbWV0aGluZzsgZWxzZSBleHAgPSBzb21ldGhpbmdfZWxzZTtcbiAgICAgICAgICAgICAqID09PlxuICAgICAgICAgICAgICogZXhwID0gZm9vID8gc29tZXRoaW5nIDogc29tZXRoaW5nX2Vsc2U7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Fzc2lnbiwgc2VsZiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBjb25zZXF1ZW50Lm9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGNvbnNlcXVlbnQubGVmdCxcbiAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9Db25kaXRpb25hbCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjb25zZXF1ZW50OiBjb25zZXF1ZW50LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogYWx0ZXJuYXRpdmUucmlnaHRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfQ2FsbFxuICAgICAgICAgICAgJiYgYWx0ZXJuYXRpdmUuVFlQRSA9PT0gY29uc2VxdWVudC5UWVBFXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmFyZ3MubGVuZ3RoID09IGFsdGVybmF0aXZlLmFyZ3MubGVuZ3RoXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmV4cHJlc3Npb24uZXF1aXZhbGVudF90byhhbHRlcm5hdGl2ZS5leHByZXNzaW9uKSkge1xuICAgICAgICAgICAgaWYgKGNvbnNlcXVlbnQuYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NlcSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBjYXI6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjZHI6IGNvbnNlcXVlbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25zZXF1ZW50LmFyZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zZXF1ZW50LmFyZ3NbMF0gPSBtYWtlX25vZGUoQVNUX0NvbmRpdGlvbmFsLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQuYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmU6IGFsdGVybmF0aXZlLmFyZ3NbMF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc2VxdWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB4P3k/ejphOmEgLS0+IHgmJnk/ejphXG4gICAgICAgIGlmIChjb25zZXF1ZW50IGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmFsdGVybmF0aXZlLmVxdWl2YWxlbnRfdG8oYWx0ZXJuYXRpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9Db25kaXRpb25hbCwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiYmXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBjb25zZXF1ZW50LmNvbmRpdGlvblxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQuY29uc2VxdWVudCxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHg9eT8xOjEgLS0+IHg9MVxuICAgICAgICBpZiAoY29uc2VxdWVudCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgJiYgYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBBU1RfQ29uc3RhbnRcbiAgICAgICAgICAgICYmIGNvbnNlcXVlbnQuZXF1aXZhbGVudF90byhhbHRlcm5hdGl2ZSkpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmRpdGlvbi5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFTVF9TZXEuZnJvbV9hcnJheShbc2VsZi5jb25kaXRpb24sIG1ha2Vfbm9kZV9mcm9tX2NvbnN0YW50KGNvbXByZXNzb3IsIGNvbnNlcXVlbnQudmFsdWUsIHNlbGYpXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCBjb25zZXF1ZW50LnZhbHVlLCBzZWxmKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Cb29sZWFuLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYm9vbGVhbnNcIikpIHtcbiAgICAgICAgICAgIHZhciBwID0gY29tcHJlc3Nvci5wYXJlbnQoKTtcbiAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX0JpbmFyeSAmJiAocC5vcGVyYXRvciA9PSBcIj09XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgcC5vcGVyYXRvciA9PSBcIiE9XCIpKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiTm9uLXN0cmljdCBlcXVhbGl0eSBhZ2FpbnN0IGJvb2xlYW46IHtvcGVyYXRvcn0ge3ZhbHVlfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IHAub3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgIDogc2VsZi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZSAgICAgOiBwLnN0YXJ0LmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgICAgIDogcC5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgICAgICBjb2wgICAgICA6IHAuc3RhcnQuY29sLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX051bWJlciwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogK3NlbGYudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IG1ha2Vfbm9kZShBU1RfTnVtYmVyLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAxIC0gc2VsZi52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU3ViLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgdmFyIHByb3AgPSBzZWxmLnByb3BlcnR5O1xuICAgICAgICBpZiAocHJvcCBpbnN0YW5jZW9mIEFTVF9TdHJpbmcgJiYgY29tcHJlc3Nvci5vcHRpb24oXCJwcm9wZXJ0aWVzXCIpKSB7XG4gICAgICAgICAgICBwcm9wID0gcHJvcC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKFJFU0VSVkVEX1dPUkRTKHByb3ApID8gY29tcHJlc3Nvci5vcHRpb24oXCJzY3Jld19pZThcIikgOiBpc19pZGVudGlmaWVyX3N0cmluZyhwcm9wKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0RvdCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogc2VsZi5leHByZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSAgIDogcHJvcFxuICAgICAgICAgICAgICAgIH0pLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHYgPSBwYXJzZUZsb2F0KHByb3ApO1xuICAgICAgICAgICAgaWYgKCFpc05hTih2KSAmJiB2LnRvU3RyaW5nKCkgPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgIHNlbGYucHJvcGVydHkgPSBtYWtlX25vZGUoQVNUX051bWJlciwgc2VsZi5wcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Eb3QsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgcHJvcCA9IHNlbGYucHJvcGVydHk7XG4gICAgICAgIGlmIChSRVNFUlZFRF9XT1JEUyhwcm9wKSAmJiAhY29tcHJlc3Nvci5vcHRpb24oXCJzY3Jld19pZThcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1N1Yiwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBzZWxmLmV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgICA6IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9wXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmV2YWx1YXRlKGNvbXByZXNzb3IpWzBdO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbGl0ZXJhbHNfaW5fYm9vbGVhbl9jb250ZXh0KHNlbGYsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYm9vbGVhbnNcIikgJiYgY29tcHJlc3Nvci5pbl9ib29sZWFuX2NvbnRleHQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVHJ1ZSwgc2VsZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcbiAgICBPUFQoQVNUX0FycmF5LCBsaXRlcmFsc19pbl9ib29sZWFuX2NvbnRleHQpO1xuICAgIE9QVChBU1RfT2JqZWN0LCBsaXRlcmFsc19pbl9ib29sZWFuX2NvbnRleHQpO1xuICAgIE9QVChBU1RfUmVnRXhwLCBsaXRlcmFsc19pbl9ib29sZWFuX2NvbnRleHQpO1xuXG59KSgpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG5cbiAgICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAgICBhcmUgbWV0OlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lci5cblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVIg4oCcQVMgSVPigJ0gQU5EIEFOWVxuICAgIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSXG4gICAgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgQkVcbiAgICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksXG4gICAgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAgICBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUlxuICAgIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRlxuICAgIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICAgIFNVQ0ggREFNQUdFLlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBhIHNtYWxsIHdyYXBwZXIgYXJvdW5kIGZpdHpnZW4ncyBzb3VyY2UtbWFwIGxpYnJhcnlcbmZ1bmN0aW9uIFNvdXJjZU1hcChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgZmlsZSA6IG51bGwsXG4gICAgICAgIHJvb3QgOiBudWxsLFxuICAgICAgICBvcmlnIDogbnVsbCxcblxuICAgICAgICBvcmlnX2xpbmVfZGlmZiA6IDAsXG4gICAgICAgIGRlc3RfbGluZV9kaWZmIDogMCxcbiAgICB9KTtcbiAgICB2YXIgZ2VuZXJhdG9yID0gbmV3IE1PWl9Tb3VyY2VNYXAuU291cmNlTWFwR2VuZXJhdG9yKHtcbiAgICAgICAgZmlsZSAgICAgICA6IG9wdGlvbnMuZmlsZSxcbiAgICAgICAgc291cmNlUm9vdCA6IG9wdGlvbnMucm9vdFxuICAgIH0pO1xuICAgIHZhciBvcmlnX21hcCA9IG9wdGlvbnMub3JpZyAmJiBuZXcgTU9aX1NvdXJjZU1hcC5Tb3VyY2VNYXBDb25zdW1lcihvcHRpb25zLm9yaWcpO1xuICAgIGZ1bmN0aW9uIGFkZChzb3VyY2UsIGdlbl9saW5lLCBnZW5fY29sLCBvcmlnX2xpbmUsIG9yaWdfY29sLCBuYW1lKSB7XG4gICAgICAgIGlmIChvcmlnX21hcCkge1xuICAgICAgICAgICAgdmFyIGluZm8gPSBvcmlnX21hcC5vcmlnaW5hbFBvc2l0aW9uRm9yKHtcbiAgICAgICAgICAgICAgICBsaW5lOiBvcmlnX2xpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBvcmlnX2NvbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5mby5zb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VyY2UgPSBpbmZvLnNvdXJjZTtcbiAgICAgICAgICAgIG9yaWdfbGluZSA9IGluZm8ubGluZTtcbiAgICAgICAgICAgIG9yaWdfY29sID0gaW5mby5jb2x1bW47XG4gICAgICAgICAgICBuYW1lID0gaW5mby5uYW1lIHx8IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhdG9yLmFkZE1hcHBpbmcoe1xuICAgICAgICAgICAgZ2VuZXJhdGVkIDogeyBsaW5lOiBnZW5fbGluZSArIG9wdGlvbnMuZGVzdF9saW5lX2RpZmYsIGNvbHVtbjogZ2VuX2NvbCB9LFxuICAgICAgICAgICAgb3JpZ2luYWwgIDogeyBsaW5lOiBvcmlnX2xpbmUgKyBvcHRpb25zLm9yaWdfbGluZV9kaWZmLCBjb2x1bW46IG9yaWdfY29sIH0sXG4gICAgICAgICAgICBzb3VyY2UgICAgOiBzb3VyY2UsXG4gICAgICAgICAgICBuYW1lICAgICAgOiBuYW1lXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkICAgICAgICA6IGFkZCxcbiAgICAgICAgZ2V0ICAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2VuZXJhdG9yIH0sXG4gICAgICAgIHRvU3RyaW5nICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGdlbmVyYXRvci50b1N0cmluZygpIH1cbiAgICB9O1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgTU9aX1RPX01FID0ge1xuICAgICAgICBFeHByZXNzaW9uU3RhdGVtZW50OiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICB2YXIgZXhwciA9IE0uZXhwcmVzc2lvbjtcbiAgICAgICAgICAgIGlmIChleHByLnR5cGUgPT09IFwiTGl0ZXJhbFwiICYmIHR5cGVvZiBleHByLnZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfRGlyZWN0aXZlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4cHIudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1NpbXBsZVN0YXRlbWVudCh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGVuZDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGJvZHk6IGZyb21fbW96KGV4cHIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgVHJ5U3RhdGVtZW50OiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBNLmhhbmRsZXJzIHx8IFtNLmhhbmRsZXJdO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA+IDEgfHwgTS5ndWFyZGVkSGFuZGxlcnMgJiYgTS5ndWFyZGVkSGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVsdGlwbGUgY2F0Y2ggY2xhdXNlcyBhcmUgbm90IHN1cHBvcnRlZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9Ucnkoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgIDogbXlfc3RhcnRfdG9rZW4oTSksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgOiBteV9lbmRfdG9rZW4oTSksXG4gICAgICAgICAgICAgICAgYm9keSAgICAgOiBmcm9tX21veihNLmJsb2NrKS5ib2R5LFxuICAgICAgICAgICAgICAgIGJjYXRjaCAgIDogZnJvbV9tb3ooaGFuZGxlcnNbMF0pLFxuICAgICAgICAgICAgICAgIGJmaW5hbGx5IDogTS5maW5hbGl6ZXIgPyBuZXcgQVNUX0ZpbmFsbHkoZnJvbV9tb3ooTS5maW5hbGl6ZXIpKSA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBQcm9wZXJ0eTogZnVuY3Rpb24oTSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IE0ua2V5O1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXkudHlwZSA9PSBcIklkZW50aWZpZXJcIiA/IGtleS5uYW1lIDoga2V5LnZhbHVlO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgOiBteV9zdGFydF90b2tlbihrZXkpLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgIDogbXlfZW5kX3Rva2VuKE0udmFsdWUpLFxuICAgICAgICAgICAgICAgIGtleSAgICAgIDogbmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSAgICA6IGZyb21fbW96KE0udmFsdWUpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoIChNLmtpbmQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImluaXRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9PYmplY3RLZXlWYWwoYXJncyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICAgICAgICBhcmdzLnZhbHVlLm5hbWUgPSBmcm9tX21veihrZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX09iamVjdFNldHRlcihhcmdzKTtcbiAgICAgICAgICAgICAgY2FzZSBcImdldFwiOlxuICAgICAgICAgICAgICAgIGFyZ3MudmFsdWUubmFtZSA9IGZyb21fbW96KGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfT2JqZWN0R2V0dGVyKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBPYmplY3RFeHByZXNzaW9uOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9PYmplY3Qoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgICAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgICAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgOiBNLnByb3BlcnRpZXMubWFwKGZ1bmN0aW9uKHByb3Ape1xuICAgICAgICAgICAgICAgICAgICBwcm9wLnR5cGUgPSBcIlByb3BlcnR5XCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tX21veihwcm9wKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgU2VxdWVuY2VFeHByZXNzaW9uOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICByZXR1cm4gQVNUX1NlcS5mcm9tX2FycmF5KE0uZXhwcmVzc2lvbnMubWFwKGZyb21fbW96KSk7XG4gICAgICAgIH0sXG4gICAgICAgIE1lbWJlckV4cHJlc3Npb246IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgKE0uY29tcHV0ZWQgPyBBU1RfU3ViIDogQVNUX0RvdCkoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgICAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgICAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5ICAgOiBNLmNvbXB1dGVkID8gZnJvbV9tb3ooTS5wcm9wZXJ0eSkgOiBNLnByb3BlcnR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGZyb21fbW96KE0ub2JqZWN0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFN3aXRjaENhc2U6IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgKE0udGVzdCA/IEFTVF9DYXNlIDogQVNUX0RlZmF1bHQpKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgIDogbXlfc3RhcnRfdG9rZW4oTSksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICA6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogZnJvbV9tb3ooTS50ZXN0KSxcbiAgICAgICAgICAgICAgICBib2R5ICAgICAgIDogTS5jb25zZXF1ZW50Lm1hcChmcm9tX21veilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBWYXJpYWJsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IChNLmtpbmQgPT09IFwiY29uc3RcIiA/IEFTVF9Db25zdCA6IEFTVF9WYXIpKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgICA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgICAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zIDogTS5kZWNsYXJhdGlvbnMubWFwKGZyb21fbW96KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIExpdGVyYWw6IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBNLnZhbHVlLCBhcmdzID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0ICA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGVuZCAgICA6IG15X2VuZF90b2tlbihNKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2YWwgPT09IG51bGwpIHJldHVybiBuZXcgQVNUX051bGwoYXJncyk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGFyZ3MudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfU3RyaW5nKGFyZ3MpO1xuICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgYXJncy52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9OdW1iZXIoYXJncyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyAodmFsID8gQVNUX1RydWUgOiBBU1RfRmFsc2UpKGFyZ3MpO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFyZ3MudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfUmVnRXhwKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBJZGVudGlmaWVyOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICB2YXIgcCA9IEZST01fTU9aX1NUQUNLW0ZST01fTU9aX1NUQUNLLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAoICBwLnR5cGUgPT0gXCJMYWJlbGVkU3RhdGVtZW50XCIgPyBBU1RfTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIgJiYgcC5pZCA9PT0gTSA/IChwLmtpbmQgPT0gXCJjb25zdFwiID8gQVNUX1N5bWJvbENvbnN0IDogQVNUX1N5bWJvbFZhcilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIgPyAocC5pZCA9PT0gTSA/IEFTVF9TeW1ib2xMYW1iZGEgOiBBU1RfU3ltYm9sRnVuYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLnR5cGUgPT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgPyAocC5pZCA9PT0gTSA/IEFTVF9TeW1ib2xEZWZ1biA6IEFTVF9TeW1ib2xGdW5hcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHAudHlwZSA9PSBcIkNhdGNoQ2xhdXNlXCIgPyBBU1RfU3ltYm9sQ2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiQnJlYWtTdGF0ZW1lbnRcIiB8fCBwLnR5cGUgPT0gXCJDb250aW51ZVN0YXRlbWVudFwiID8gQVNUX0xhYmVsUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICA6IEFTVF9TeW1ib2xSZWYpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgIDogTS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBNT1pfVE9fTUUuVXBkYXRlRXhwcmVzc2lvbiA9XG4gICAgTU9aX1RPX01FLlVuYXJ5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIFRvX01vel9VbmFyeShNKSB7XG4gICAgICAgIHZhciBwcmVmaXggPSBcInByZWZpeFwiIGluIE0gPyBNLnByZWZpeFxuICAgICAgICAgICAgOiBNLnR5cGUgPT0gXCJVbmFyeUV4cHJlc3Npb25cIiA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG5ldyAocHJlZml4ID8gQVNUX1VuYXJ5UHJlZml4IDogQVNUX1VuYXJ5UG9zdGZpeCkoe1xuICAgICAgICAgICAgc3RhcnQgICAgICA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgZW5kICAgICAgICA6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgIG9wZXJhdG9yICAgOiBNLm9wZXJhdG9yLFxuICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGZyb21fbW96KE0uYXJndW1lbnQpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBtYXAoXCJQcm9ncmFtXCIsIEFTVF9Ub3BsZXZlbCwgXCJib2R5QGJvZHlcIik7XG4gICAgbWFwKFwiRW1wdHlTdGF0ZW1lbnRcIiwgQVNUX0VtcHR5U3RhdGVtZW50KTtcbiAgICBtYXAoXCJCbG9ja1N0YXRlbWVudFwiLCBBU1RfQmxvY2tTdGF0ZW1lbnQsIFwiYm9keUBib2R5XCIpO1xuICAgIG1hcChcIklmU3RhdGVtZW50XCIsIEFTVF9JZiwgXCJ0ZXN0PmNvbmRpdGlvbiwgY29uc2VxdWVudD5ib2R5LCBhbHRlcm5hdGU+YWx0ZXJuYXRpdmVcIik7XG4gICAgbWFwKFwiTGFiZWxlZFN0YXRlbWVudFwiLCBBU1RfTGFiZWxlZFN0YXRlbWVudCwgXCJsYWJlbD5sYWJlbCwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIkJyZWFrU3RhdGVtZW50XCIsIEFTVF9CcmVhaywgXCJsYWJlbD5sYWJlbFwiKTtcbiAgICBtYXAoXCJDb250aW51ZVN0YXRlbWVudFwiLCBBU1RfQ29udGludWUsIFwibGFiZWw+bGFiZWxcIik7XG4gICAgbWFwKFwiV2l0aFN0YXRlbWVudFwiLCBBU1RfV2l0aCwgXCJvYmplY3Q+ZXhwcmVzc2lvbiwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIlN3aXRjaFN0YXRlbWVudFwiLCBBU1RfU3dpdGNoLCBcImRpc2NyaW1pbmFudD5leHByZXNzaW9uLCBjYXNlc0Bib2R5XCIpO1xuICAgIG1hcChcIlJldHVyblN0YXRlbWVudFwiLCBBU1RfUmV0dXJuLCBcImFyZ3VtZW50PnZhbHVlXCIpO1xuICAgIG1hcChcIlRocm93U3RhdGVtZW50XCIsIEFTVF9UaHJvdywgXCJhcmd1bWVudD52YWx1ZVwiKTtcbiAgICBtYXAoXCJXaGlsZVN0YXRlbWVudFwiLCBBU1RfV2hpbGUsIFwidGVzdD5jb25kaXRpb24sIGJvZHk+Ym9keVwiKTtcbiAgICBtYXAoXCJEb1doaWxlU3RhdGVtZW50XCIsIEFTVF9EbywgXCJ0ZXN0PmNvbmRpdGlvbiwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIkZvclN0YXRlbWVudFwiLCBBU1RfRm9yLCBcImluaXQ+aW5pdCwgdGVzdD5jb25kaXRpb24sIHVwZGF0ZT5zdGVwLCBib2R5PmJvZHlcIik7XG4gICAgbWFwKFwiRm9ySW5TdGF0ZW1lbnRcIiwgQVNUX0ZvckluLCBcImxlZnQ+aW5pdCwgcmlnaHQ+b2JqZWN0LCBib2R5PmJvZHlcIik7XG4gICAgbWFwKFwiRGVidWdnZXJTdGF0ZW1lbnRcIiwgQVNUX0RlYnVnZ2VyKTtcbiAgICBtYXAoXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIsIEFTVF9EZWZ1biwgXCJpZD5uYW1lLCBwYXJhbXNAYXJnbmFtZXMsIGJvZHklYm9keVwiKTtcbiAgICBtYXAoXCJWYXJpYWJsZURlY2xhcmF0b3JcIiwgQVNUX1ZhckRlZiwgXCJpZD5uYW1lLCBpbml0PnZhbHVlXCIpO1xuICAgIG1hcChcIkNhdGNoQ2xhdXNlXCIsIEFTVF9DYXRjaCwgXCJwYXJhbT5hcmduYW1lLCBib2R5JWJvZHlcIik7XG5cbiAgICBtYXAoXCJUaGlzRXhwcmVzc2lvblwiLCBBU1RfVGhpcyk7XG4gICAgbWFwKFwiQXJyYXlFeHByZXNzaW9uXCIsIEFTVF9BcnJheSwgXCJlbGVtZW50c0BlbGVtZW50c1wiKTtcbiAgICBtYXAoXCJGdW5jdGlvbkV4cHJlc3Npb25cIiwgQVNUX0Z1bmN0aW9uLCBcImlkPm5hbWUsIHBhcmFtc0BhcmduYW1lcywgYm9keSVib2R5XCIpO1xuICAgIG1hcChcIkJpbmFyeUV4cHJlc3Npb25cIiwgQVNUX0JpbmFyeSwgXCJvcGVyYXRvcj1vcGVyYXRvciwgbGVmdD5sZWZ0LCByaWdodD5yaWdodFwiKTtcbiAgICBtYXAoXCJMb2dpY2FsRXhwcmVzc2lvblwiLCBBU1RfQmluYXJ5LCBcIm9wZXJhdG9yPW9wZXJhdG9yLCBsZWZ0PmxlZnQsIHJpZ2h0PnJpZ2h0XCIpO1xuICAgIG1hcChcIkFzc2lnbm1lbnRFeHByZXNzaW9uXCIsIEFTVF9Bc3NpZ24sIFwib3BlcmF0b3I9b3BlcmF0b3IsIGxlZnQ+bGVmdCwgcmlnaHQ+cmlnaHRcIik7XG4gICAgbWFwKFwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIsIEFTVF9Db25kaXRpb25hbCwgXCJ0ZXN0PmNvbmRpdGlvbiwgY29uc2VxdWVudD5jb25zZXF1ZW50LCBhbHRlcm5hdGU+YWx0ZXJuYXRpdmVcIik7XG4gICAgbWFwKFwiTmV3RXhwcmVzc2lvblwiLCBBU1RfTmV3LCBcImNhbGxlZT5leHByZXNzaW9uLCBhcmd1bWVudHNAYXJnc1wiKTtcbiAgICBtYXAoXCJDYWxsRXhwcmVzc2lvblwiLCBBU1RfQ2FsbCwgXCJjYWxsZWU+ZXhwcmVzc2lvbiwgYXJndW1lbnRzQGFyZ3NcIik7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9EaXJlY3RpdmUsIGZ1bmN0aW9uIFRvX01vel9EaXJlY3RpdmUoTSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJFeHByZXNzaW9uU3RhdGVtZW50XCIsXG4gICAgICAgICAgICBleHByZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJMaXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IE0udmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIGRlZl90b19tb3ooQVNUX1NpbXBsZVN0YXRlbWVudCwgZnVuY3Rpb24gVG9fTW96X0V4cHJlc3Npb25TdGF0ZW1lbnQoTSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJFeHByZXNzaW9uU3RhdGVtZW50XCIsXG4gICAgICAgICAgICBleHByZXNzaW9uOiB0b19tb3ooTS5ib2R5KVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfU3dpdGNoQnJhbmNoLCBmdW5jdGlvbiBUb19Nb3pfU3dpdGNoQ2FzZShNKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIlN3aXRjaENhc2VcIixcbiAgICAgICAgICAgIHRlc3Q6IHRvX21veihNLmV4cHJlc3Npb24pLFxuICAgICAgICAgICAgY29uc2VxdWVudDogTS5ib2R5Lm1hcCh0b19tb3opXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9UcnksIGZ1bmN0aW9uIFRvX01vel9UcnlTdGF0ZW1lbnQoTSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJUcnlTdGF0ZW1lbnRcIixcbiAgICAgICAgICAgIGJsb2NrOiB0b19tb3pfYmxvY2soTSksXG4gICAgICAgICAgICBoYW5kbGVyOiB0b19tb3ooTS5iY2F0Y2gpLFxuICAgICAgICAgICAgZ3VhcmRlZEhhbmRsZXJzOiBbXSxcbiAgICAgICAgICAgIGZpbmFsaXplcjogdG9fbW96KE0uYmZpbmFsbHkpXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9DYXRjaCwgZnVuY3Rpb24gVG9fTW96X0NhdGNoQ2xhdXNlKE0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2F0Y2hDbGF1c2VcIixcbiAgICAgICAgICAgIHBhcmFtOiB0b19tb3ooTS5hcmduYW1lKSxcbiAgICAgICAgICAgIGd1YXJkOiBudWxsLFxuICAgICAgICAgICAgYm9keTogdG9fbW96X2Jsb2NrKE0pXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9EZWZpbml0aW9ucywgZnVuY3Rpb24gVG9fTW96X1ZhcmlhYmxlRGVjbGFyYXRpb24oTSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIsXG4gICAgICAgICAgICBraW5kOiBNIGluc3RhbmNlb2YgQVNUX0NvbnN0ID8gXCJjb25zdFwiIDogXCJ2YXJcIixcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogTS5kZWZpbml0aW9ucy5tYXAodG9fbW96KVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfU2VxLCBmdW5jdGlvbiBUb19Nb3pfU2VxdWVuY2VFeHByZXNzaW9uKE0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiU2VxdWVuY2VFeHByZXNzaW9uXCIsXG4gICAgICAgICAgICBleHByZXNzaW9uczogTS50b19hcnJheSgpLm1hcCh0b19tb3opXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9Qcm9wQWNjZXNzLCBmdW5jdGlvbiBUb19Nb3pfTWVtYmVyRXhwcmVzc2lvbihNKSB7XG4gICAgICAgIHZhciBpc0NvbXB1dGVkID0gTSBpbnN0YW5jZW9mIEFTVF9TdWI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIk1lbWJlckV4cHJlc3Npb25cIixcbiAgICAgICAgICAgIG9iamVjdDogdG9fbW96KE0uZXhwcmVzc2lvbiksXG4gICAgICAgICAgICBjb21wdXRlZDogaXNDb21wdXRlZCxcbiAgICAgICAgICAgIHByb3BlcnR5OiBpc0NvbXB1dGVkID8gdG9fbW96KE0ucHJvcGVydHkpIDoge3R5cGU6IFwiSWRlbnRpZmllclwiLCBuYW1lOiBNLnByb3BlcnR5fVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfVW5hcnksIGZ1bmN0aW9uIFRvX01vel9VbmFyeShNKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBNLm9wZXJhdG9yID09IFwiKytcIiB8fCBNLm9wZXJhdG9yID09IFwiLS1cIiA/IFwiVXBkYXRlRXhwcmVzc2lvblwiIDogXCJVbmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgICAgIG9wZXJhdG9yOiBNLm9wZXJhdG9yLFxuICAgICAgICAgICAgcHJlZml4OiBNIGluc3RhbmNlb2YgQVNUX1VuYXJ5UHJlZml4LFxuICAgICAgICAgICAgYXJndW1lbnQ6IHRvX21veihNLmV4cHJlc3Npb24pXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBkZWZfdG9fbW96KEFTVF9CaW5hcnksIGZ1bmN0aW9uIFRvX01vel9CaW5hcnlFeHByZXNzaW9uKE0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IE0ub3BlcmF0b3IgPT0gXCImJlwiIHx8IE0ub3BlcmF0b3IgPT0gXCJ8fFwiID8gXCJMb2dpY2FsRXhwcmVzc2lvblwiIDogXCJCaW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgICAgICBsZWZ0OiB0b19tb3ooTS5sZWZ0KSxcbiAgICAgICAgICAgIG9wZXJhdG9yOiBNLm9wZXJhdG9yLFxuICAgICAgICAgICAgcmlnaHQ6IHRvX21veihNLnJpZ2h0KVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfT2JqZWN0LCBmdW5jdGlvbiBUb19Nb3pfT2JqZWN0RXhwcmVzc2lvbihNKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIk9iamVjdEV4cHJlc3Npb25cIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IE0ucHJvcGVydGllcy5tYXAodG9fbW96KVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfT2JqZWN0UHJvcGVydHksIGZ1bmN0aW9uIFRvX01vel9Qcm9wZXJ0eShNKSB7XG4gICAgICAgIHZhciBrZXkgPSAoXG4gICAgICAgICAgICBpc19pZGVudGlmaWVyKE0ua2V5KVxuICAgICAgICAgICAgPyB7dHlwZTogXCJJZGVudGlmaWVyXCIsIG5hbWU6IE0ua2V5fVxuICAgICAgICAgICAgOiB7dHlwZTogXCJMaXRlcmFsXCIsIHZhbHVlOiBNLmtleX1cbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGtpbmQ7XG4gICAgICAgIGlmIChNIGluc3RhbmNlb2YgQVNUX09iamVjdEtleVZhbCkge1xuICAgICAgICAgICAga2luZCA9IFwiaW5pdFwiO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKE0gaW5zdGFuY2VvZiBBU1RfT2JqZWN0R2V0dGVyKSB7XG4gICAgICAgICAgICBraW5kID0gXCJnZXRcIjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIGlmIChNIGluc3RhbmNlb2YgQVNUX09iamVjdFNldHRlcikge1xuICAgICAgICAgICAga2luZCA9IFwic2V0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUHJvcGVydHlcIixcbiAgICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiB0b19tb3ooTS52YWx1ZSlcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIGRlZl90b19tb3ooQVNUX1N5bWJvbCwgZnVuY3Rpb24gVG9fTW96X0lkZW50aWZpZXIoTSkge1xuICAgICAgICB2YXIgZGVmID0gTS5kZWZpbml0aW9uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIklkZW50aWZpZXJcIixcbiAgICAgICAgICAgIG5hbWU6IGRlZiA/IGRlZi5tYW5nbGVkX25hbWUgfHwgZGVmLm5hbWUgOiBNLm5hbWVcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIGRlZl90b19tb3ooQVNUX0NvbnN0YW50LCBmdW5jdGlvbiBUb19Nb3pfTGl0ZXJhbChNKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IE0udmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICh2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIi1cIixcbiAgICAgICAgICAgICAgICBwcmVmaXg6IHRydWUsXG4gICAgICAgICAgICAgICAgYXJndW1lbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJMaXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAtdmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIkxpdGVyYWxcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgZGVmX3RvX21veihBU1RfQXRvbSwgZnVuY3Rpb24gVG9fTW96X0F0b20oTSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJJZGVudGlmaWVyXCIsXG4gICAgICAgICAgICBuYW1lOiBTdHJpbmcoTS52YWx1ZSlcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIEFTVF9Cb29sZWFuLkRFRk1FVEhPRChcInRvX21vemlsbGFfYXN0XCIsIEFTVF9Db25zdGFudC5wcm90b3R5cGUudG9fbW96aWxsYV9hc3QpO1xuICAgIEFTVF9OdWxsLkRFRk1FVEhPRChcInRvX21vemlsbGFfYXN0XCIsIEFTVF9Db25zdGFudC5wcm90b3R5cGUudG9fbW96aWxsYV9hc3QpO1xuICAgIEFTVF9Ib2xlLkRFRk1FVEhPRChcInRvX21vemlsbGFfYXN0XCIsIGZ1bmN0aW9uIFRvX01vel9BcnJheUhvbGUoKSB7IHJldHVybiBudWxsIH0pO1xuXG4gICAgQVNUX0Jsb2NrLkRFRk1FVEhPRChcInRvX21vemlsbGFfYXN0XCIsIEFTVF9CbG9ja1N0YXRlbWVudC5wcm90b3R5cGUudG9fbW96aWxsYV9hc3QpO1xuICAgIEFTVF9MYW1iZGEuREVGTUVUSE9EKFwidG9fbW96aWxsYV9hc3RcIiwgQVNUX0Z1bmN0aW9uLnByb3RvdHlwZS50b19tb3ppbGxhX2FzdCk7XG5cbiAgICAvKiAtLS0tLVsgdG9vbHMgXS0tLS0tICovXG5cbiAgICBmdW5jdGlvbiBteV9zdGFydF90b2tlbihtb3pub2RlKSB7XG4gICAgICAgIHZhciBsb2MgPSBtb3pub2RlLmxvYztcbiAgICAgICAgdmFyIHJhbmdlID0gbW96bm9kZS5yYW5nZTtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfVG9rZW4oe1xuICAgICAgICAgICAgZmlsZSAgIDogbG9jICYmIGxvYy5zb3VyY2UsXG4gICAgICAgICAgICBsaW5lICAgOiBsb2MgJiYgbG9jLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICBjb2wgICAgOiBsb2MgJiYgbG9jLnN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgIHBvcyAgICA6IHJhbmdlID8gcmFuZ2VbMF0gOiBtb3pub2RlLnN0YXJ0LFxuICAgICAgICAgICAgZW5kcG9zIDogcmFuZ2UgPyByYW5nZVswXSA6IG1vem5vZGUuc3RhcnRcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG15X2VuZF90b2tlbihtb3pub2RlKSB7XG4gICAgICAgIHZhciBsb2MgPSBtb3pub2RlLmxvYztcbiAgICAgICAgdmFyIHJhbmdlID0gbW96bm9kZS5yYW5nZTtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfVG9rZW4oe1xuICAgICAgICAgICAgZmlsZSAgIDogbG9jICYmIGxvYy5zb3VyY2UsXG4gICAgICAgICAgICBsaW5lICAgOiBsb2MgJiYgbG9jLmVuZC5saW5lLFxuICAgICAgICAgICAgY29sICAgIDogbG9jICYmIGxvYy5lbmQuY29sdW1uLFxuICAgICAgICAgICAgcG9zICAgIDogcmFuZ2UgPyByYW5nZVsxXSA6IG1vem5vZGUuZW5kLFxuICAgICAgICAgICAgZW5kcG9zIDogcmFuZ2UgPyByYW5nZVsxXSA6IG1vem5vZGUuZW5kXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYXAobW96dHlwZSwgbXl0eXBlLCBwcm9wbWFwKSB7XG4gICAgICAgIHZhciBtb3pfdG9fbWUgPSBcImZ1bmN0aW9uIEZyb21fTW96X1wiICsgbW96dHlwZSArIFwiKE0pe1xcblwiO1xuICAgICAgICBtb3pfdG9fbWUgKz0gXCJyZXR1cm4gbmV3IFwiICsgbXl0eXBlLm5hbWUgKyBcIih7XFxuXCIgK1xuICAgICAgICAgICAgXCJzdGFydDogbXlfc3RhcnRfdG9rZW4oTSksXFxuXCIgK1xuICAgICAgICAgICAgXCJlbmQ6IG15X2VuZF90b2tlbihNKVwiO1xuXG4gICAgICAgIHZhciBtZV90b19tb3ogPSBcImZ1bmN0aW9uIFRvX01vel9cIiArIG1venR5cGUgKyBcIihNKXtcXG5cIjtcbiAgICAgICAgbWVfdG9fbW96ICs9IFwicmV0dXJuIHtcXG5cIiArXG4gICAgICAgICAgICBcInR5cGU6IFwiICsgSlNPTi5zdHJpbmdpZnkobW96dHlwZSk7XG5cbiAgICAgICAgaWYgKHByb3BtYXApIHByb3BtYXAuc3BsaXQoL1xccyosXFxzKi8pLmZvckVhY2goZnVuY3Rpb24ocHJvcCl7XG4gICAgICAgICAgICB2YXIgbSA9IC8oW2EtejAtOSRfXSspKD18QHw+fCUpKFthLXowLTkkX10rKS9pLmV4ZWMocHJvcCk7XG4gICAgICAgICAgICBpZiAoIW0pIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHVuZGVyc3RhbmQgcHJvcGVydHkgbWFwOiBcIiArIHByb3ApO1xuICAgICAgICAgICAgdmFyIG1veiA9IG1bMV0sIGhvdyA9IG1bMl0sIG15ID0gbVszXTtcbiAgICAgICAgICAgIG1vel90b19tZSArPSBcIixcXG5cIiArIG15ICsgXCI6IFwiO1xuICAgICAgICAgICAgbWVfdG9fbW96ICs9IFwiLFxcblwiICsgbW96ICsgXCI6IFwiO1xuICAgICAgICAgICAgc3dpdGNoIChob3cpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQFwiOlxuICAgICAgICAgICAgICAgICAgICBtb3pfdG9fbWUgKz0gXCJNLlwiICsgbW96ICsgXCIubWFwKGZyb21fbW96KVwiO1xuICAgICAgICAgICAgICAgICAgICBtZV90b19tb3ogKz0gXCJNLlwiICsgIG15ICsgXCIubWFwKHRvX21veilcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgICAgICAgICAgbW96X3RvX21lICs9IFwiZnJvbV9tb3ooTS5cIiArIG1veiArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICBtZV90b19tb3ogKz0gXCJ0b19tb3ooTS5cIiArIG15ICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCI9XCI6XG4gICAgICAgICAgICAgICAgICAgIG1vel90b19tZSArPSBcIk0uXCIgKyBtb3o7XG4gICAgICAgICAgICAgICAgICAgIG1lX3RvX21veiArPSBcIk0uXCIgKyBteTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiVcIjpcbiAgICAgICAgICAgICAgICAgICAgbW96X3RvX21lICs9IFwiZnJvbV9tb3ooTS5cIiArIG1veiArIFwiKS5ib2R5XCI7XG4gICAgICAgICAgICAgICAgICAgIG1lX3RvX21veiArPSBcInRvX21vel9ibG9jayhNKVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCB1bmRlcnN0YW5kIG9wZXJhdG9yIGluIHByb3BtYXA6IFwiICsgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1vel90b19tZSArPSBcIlxcbn0pXFxufVwiO1xuICAgICAgICBtZV90b19tb3ogKz0gXCJcXG59XFxufVwiO1xuXG4gICAgICAgIC8vbW96X3RvX21lID0gcGFyc2UobW96X3RvX21lKS5wcmludF90b19zdHJpbmcoeyBiZWF1dGlmeTogdHJ1ZSB9KTtcbiAgICAgICAgLy9tZV90b19tb3ogPSBwYXJzZShtZV90b19tb3opLnByaW50X3RvX3N0cmluZyh7IGJlYXV0aWZ5OiB0cnVlIH0pO1xuICAgICAgICAvL2NvbnNvbGUubG9nKG1vel90b19tZSk7XG5cbiAgICAgICAgbW96X3RvX21lID0gbmV3IEZ1bmN0aW9uKFwibXlfc3RhcnRfdG9rZW5cIiwgXCJteV9lbmRfdG9rZW5cIiwgXCJmcm9tX21velwiLCBcInJldHVybihcIiArIG1vel90b19tZSArIFwiKVwiKShcbiAgICAgICAgICAgIG15X3N0YXJ0X3Rva2VuLCBteV9lbmRfdG9rZW4sIGZyb21fbW96XG4gICAgICAgICk7XG4gICAgICAgIG1lX3RvX21veiA9IG5ldyBGdW5jdGlvbihcInRvX21velwiLCBcInRvX21vel9ibG9ja1wiLCBcInJldHVybihcIiArIG1lX3RvX21veiArIFwiKVwiKShcbiAgICAgICAgICAgIHRvX21veiwgdG9fbW96X2Jsb2NrXG4gICAgICAgICk7XG4gICAgICAgIE1PWl9UT19NRVttb3p0eXBlXSA9IG1vel90b19tZTtcbiAgICAgICAgZGVmX3RvX21veihteXR5cGUsIG1lX3RvX21veik7XG4gICAgfTtcblxuICAgIHZhciBGUk9NX01PWl9TVEFDSyA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBmcm9tX21veihub2RlKSB7XG4gICAgICAgIEZST01fTU9aX1NUQUNLLnB1c2gobm9kZSk7XG4gICAgICAgIHZhciByZXQgPSBub2RlICE9IG51bGwgPyBNT1pfVE9fTUVbbm9kZS50eXBlXShub2RlKSA6IG51bGw7XG4gICAgICAgIEZST01fTU9aX1NUQUNLLnBvcCgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICBBU1RfTm9kZS5mcm9tX21vemlsbGFfYXN0ID0gZnVuY3Rpb24obm9kZSl7XG4gICAgICAgIHZhciBzYXZlX3N0YWNrID0gRlJPTV9NT1pfU1RBQ0s7XG4gICAgICAgIEZST01fTU9aX1NUQUNLID0gW107XG4gICAgICAgIHZhciBhc3QgPSBmcm9tX21veihub2RlKTtcbiAgICAgICAgRlJPTV9NT1pfU1RBQ0sgPSBzYXZlX3N0YWNrO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtb3pfc3ViX2xvYyh0b2tlbikge1xuICAgICAgICByZXR1cm4gdG9rZW4ubGluZSA/IHtcbiAgICAgICAgICAgIGxpbmU6IHRva2VuLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IHRva2VuLmNvbFxuICAgICAgICB9IDogbnVsbDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0X21vel9sb2MobXlub2RlLCBtb3pub2RlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IG15bm9kZS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IG15bm9kZS5lbmQ7XG4gICAgICAgIGlmIChzdGFydC5wb3MgIT0gbnVsbCAmJiBlbmQucG9zICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1vem5vZGUucmFuZ2UgPSBbc3RhcnQucG9zLCBlbmQucG9zXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQubGluZSkge1xuICAgICAgICAgICAgbW96bm9kZS5sb2MgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IG1vel9zdWJfbG9jKHN0YXJ0KSxcbiAgICAgICAgICAgICAgICBlbmQ6IG1vel9zdWJfbG9jKGVuZClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoc3RhcnQuZmlsZSkge1xuICAgICAgICAgICAgICAgIG1vem5vZGUubG9jLnNvdXJjZSA9IHN0YXJ0LmZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vem5vZGU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRlZl90b19tb3oobXl0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIG15dHlwZS5ERUZNRVRIT0QoXCJ0b19tb3ppbGxhX2FzdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRfbW96X2xvYyh0aGlzLCBoYW5kbGVyKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHRvX21veihub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlICE9IG51bGwgPyBub2RlLnRvX21vemlsbGFfYXN0KCkgOiBudWxsO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB0b19tb3pfYmxvY2sobm9kZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJCbG9ja1N0YXRlbWVudFwiLFxuICAgICAgICAgICAgYm9keTogbm9kZS5ib2R5Lm1hcCh0b19tb3opXG4gICAgICAgIH07XG4gICAgfTtcblxufSkoKTtcblxuXG5leHBvcnRzLnN5cyA9IHN5cztcbmV4cG9ydHMuTU9aX1NvdXJjZU1hcCA9IE1PWl9Tb3VyY2VNYXA7XG5leHBvcnRzLlVnbGlmeUpTID0gVWdsaWZ5SlM7XG5leHBvcnRzLmFycmF5X3RvX2hhc2ggPSBhcnJheV90b19oYXNoO1xuZXhwb3J0cy5zbGljZSA9IHNsaWNlO1xuZXhwb3J0cy5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbmV4cG9ydHMubWVtYmVyID0gbWVtYmVyO1xuZXhwb3J0cy5maW5kX2lmID0gZmluZF9pZjtcbmV4cG9ydHMucmVwZWF0X3N0cmluZyA9IHJlcGVhdF9zdHJpbmc7XG5leHBvcnRzLkRlZmF1bHRzRXJyb3IgPSBEZWZhdWx0c0Vycm9yO1xuZXhwb3J0cy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuZXhwb3J0cy5tZXJnZSA9IG1lcmdlO1xuZXhwb3J0cy5ub29wID0gbm9vcDtcbmV4cG9ydHMuTUFQID0gTUFQO1xuZXhwb3J0cy5wdXNoX3VuaXEgPSBwdXNoX3VuaXE7XG5leHBvcnRzLnN0cmluZ190ZW1wbGF0ZSA9IHN0cmluZ190ZW1wbGF0ZTtcbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuZXhwb3J0cy5tZXJnZVNvcnQgPSBtZXJnZVNvcnQ7XG5leHBvcnRzLnNldF9kaWZmZXJlbmNlID0gc2V0X2RpZmZlcmVuY2U7XG5leHBvcnRzLnNldF9pbnRlcnNlY3Rpb24gPSBzZXRfaW50ZXJzZWN0aW9uO1xuZXhwb3J0cy5tYWtlUHJlZGljYXRlID0gbWFrZVByZWRpY2F0ZTtcbmV4cG9ydHMuYWxsID0gYWxsO1xuZXhwb3J0cy5EaWN0aW9uYXJ5ID0gRGljdGlvbmFyeTtcbmV4cG9ydHMuREVGTk9ERSA9IERFRk5PREU7XG5leHBvcnRzLkFTVF9Ub2tlbiA9IEFTVF9Ub2tlbjtcbmV4cG9ydHMuQVNUX05vZGUgPSBBU1RfTm9kZTtcbmV4cG9ydHMuQVNUX1N0YXRlbWVudCA9IEFTVF9TdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9EZWJ1Z2dlciA9IEFTVF9EZWJ1Z2dlcjtcbmV4cG9ydHMuQVNUX0RpcmVjdGl2ZSA9IEFTVF9EaXJlY3RpdmU7XG5leHBvcnRzLkFTVF9TaW1wbGVTdGF0ZW1lbnQgPSBBU1RfU2ltcGxlU3RhdGVtZW50O1xuZXhwb3J0cy53YWxrX2JvZHkgPSB3YWxrX2JvZHk7XG5leHBvcnRzLkFTVF9CbG9jayA9IEFTVF9CbG9jaztcbmV4cG9ydHMuQVNUX0Jsb2NrU3RhdGVtZW50ID0gQVNUX0Jsb2NrU3RhdGVtZW50O1xuZXhwb3J0cy5BU1RfRW1wdHlTdGF0ZW1lbnQgPSBBU1RfRW1wdHlTdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9TdGF0ZW1lbnRXaXRoQm9keSA9IEFTVF9TdGF0ZW1lbnRXaXRoQm9keTtcbmV4cG9ydHMuQVNUX0xhYmVsZWRTdGF0ZW1lbnQgPSBBU1RfTGFiZWxlZFN0YXRlbWVudDtcbmV4cG9ydHMuQVNUX0l0ZXJhdGlvblN0YXRlbWVudCA9IEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9EV0xvb3AgPSBBU1RfRFdMb29wO1xuZXhwb3J0cy5BU1RfRG8gPSBBU1RfRG87XG5leHBvcnRzLkFTVF9XaGlsZSA9IEFTVF9XaGlsZTtcbmV4cG9ydHMuQVNUX0ZvciA9IEFTVF9Gb3I7XG5leHBvcnRzLkFTVF9Gb3JJbiA9IEFTVF9Gb3JJbjtcbmV4cG9ydHMuQVNUX1dpdGggPSBBU1RfV2l0aDtcbmV4cG9ydHMuQVNUX1Njb3BlID0gQVNUX1Njb3BlO1xuZXhwb3J0cy5BU1RfVG9wbGV2ZWwgPSBBU1RfVG9wbGV2ZWw7XG5leHBvcnRzLkFTVF9MYW1iZGEgPSBBU1RfTGFtYmRhO1xuZXhwb3J0cy5BU1RfQWNjZXNzb3IgPSBBU1RfQWNjZXNzb3I7XG5leHBvcnRzLkFTVF9GdW5jdGlvbiA9IEFTVF9GdW5jdGlvbjtcbmV4cG9ydHMuQVNUX0RlZnVuID0gQVNUX0RlZnVuO1xuZXhwb3J0cy5BU1RfSnVtcCA9IEFTVF9KdW1wO1xuZXhwb3J0cy5BU1RfRXhpdCA9IEFTVF9FeGl0O1xuZXhwb3J0cy5BU1RfUmV0dXJuID0gQVNUX1JldHVybjtcbmV4cG9ydHMuQVNUX1Rocm93ID0gQVNUX1Rocm93O1xuZXhwb3J0cy5BU1RfTG9vcENvbnRyb2wgPSBBU1RfTG9vcENvbnRyb2w7XG5leHBvcnRzLkFTVF9CcmVhayA9IEFTVF9CcmVhaztcbmV4cG9ydHMuQVNUX0NvbnRpbnVlID0gQVNUX0NvbnRpbnVlO1xuZXhwb3J0cy5BU1RfSWYgPSBBU1RfSWY7XG5leHBvcnRzLkFTVF9Td2l0Y2ggPSBBU1RfU3dpdGNoO1xuZXhwb3J0cy5BU1RfU3dpdGNoQnJhbmNoID0gQVNUX1N3aXRjaEJyYW5jaDtcbmV4cG9ydHMuQVNUX0RlZmF1bHQgPSBBU1RfRGVmYXVsdDtcbmV4cG9ydHMuQVNUX0Nhc2UgPSBBU1RfQ2FzZTtcbmV4cG9ydHMuQVNUX1RyeSA9IEFTVF9Ucnk7XG5leHBvcnRzLkFTVF9DYXRjaCA9IEFTVF9DYXRjaDtcbmV4cG9ydHMuQVNUX0ZpbmFsbHkgPSBBU1RfRmluYWxseTtcbmV4cG9ydHMuQVNUX0RlZmluaXRpb25zID0gQVNUX0RlZmluaXRpb25zO1xuZXhwb3J0cy5BU1RfVmFyID0gQVNUX1ZhcjtcbmV4cG9ydHMuQVNUX0NvbnN0ID0gQVNUX0NvbnN0O1xuZXhwb3J0cy5BU1RfVmFyRGVmID0gQVNUX1ZhckRlZjtcbmV4cG9ydHMuQVNUX0NhbGwgPSBBU1RfQ2FsbDtcbmV4cG9ydHMuQVNUX05ldyA9IEFTVF9OZXc7XG5leHBvcnRzLkFTVF9TZXEgPSBBU1RfU2VxO1xuZXhwb3J0cy5BU1RfUHJvcEFjY2VzcyA9IEFTVF9Qcm9wQWNjZXNzO1xuZXhwb3J0cy5BU1RfRG90ID0gQVNUX0RvdDtcbmV4cG9ydHMuQVNUX1N1YiA9IEFTVF9TdWI7XG5leHBvcnRzLkFTVF9VbmFyeSA9IEFTVF9VbmFyeTtcbmV4cG9ydHMuQVNUX1VuYXJ5UHJlZml4ID0gQVNUX1VuYXJ5UHJlZml4O1xuZXhwb3J0cy5BU1RfVW5hcnlQb3N0Zml4ID0gQVNUX1VuYXJ5UG9zdGZpeDtcbmV4cG9ydHMuQVNUX0JpbmFyeSA9IEFTVF9CaW5hcnk7XG5leHBvcnRzLkFTVF9Db25kaXRpb25hbCA9IEFTVF9Db25kaXRpb25hbDtcbmV4cG9ydHMuQVNUX0Fzc2lnbiA9IEFTVF9Bc3NpZ247XG5leHBvcnRzLkFTVF9BcnJheSA9IEFTVF9BcnJheTtcbmV4cG9ydHMuQVNUX09iamVjdCA9IEFTVF9PYmplY3Q7XG5leHBvcnRzLkFTVF9PYmplY3RQcm9wZXJ0eSA9IEFTVF9PYmplY3RQcm9wZXJ0eTtcbmV4cG9ydHMuQVNUX09iamVjdEtleVZhbCA9IEFTVF9PYmplY3RLZXlWYWw7XG5leHBvcnRzLkFTVF9PYmplY3RTZXR0ZXIgPSBBU1RfT2JqZWN0U2V0dGVyO1xuZXhwb3J0cy5BU1RfT2JqZWN0R2V0dGVyID0gQVNUX09iamVjdEdldHRlcjtcbmV4cG9ydHMuQVNUX1N5bWJvbCA9IEFTVF9TeW1ib2w7XG5leHBvcnRzLkFTVF9TeW1ib2xBY2Nlc3NvciA9IEFTVF9TeW1ib2xBY2Nlc3NvcjtcbmV4cG9ydHMuQVNUX1N5bWJvbERlY2xhcmF0aW9uID0gQVNUX1N5bWJvbERlY2xhcmF0aW9uO1xuZXhwb3J0cy5BU1RfU3ltYm9sVmFyID0gQVNUX1N5bWJvbFZhcjtcbmV4cG9ydHMuQVNUX1N5bWJvbENvbnN0ID0gQVNUX1N5bWJvbENvbnN0O1xuZXhwb3J0cy5BU1RfU3ltYm9sRnVuYXJnID0gQVNUX1N5bWJvbEZ1bmFyZztcbmV4cG9ydHMuQVNUX1N5bWJvbERlZnVuID0gQVNUX1N5bWJvbERlZnVuO1xuZXhwb3J0cy5BU1RfU3ltYm9sTGFtYmRhID0gQVNUX1N5bWJvbExhbWJkYTtcbmV4cG9ydHMuQVNUX1N5bWJvbENhdGNoID0gQVNUX1N5bWJvbENhdGNoO1xuZXhwb3J0cy5BU1RfTGFiZWwgPSBBU1RfTGFiZWw7XG5leHBvcnRzLkFTVF9TeW1ib2xSZWYgPSBBU1RfU3ltYm9sUmVmO1xuZXhwb3J0cy5BU1RfTGFiZWxSZWYgPSBBU1RfTGFiZWxSZWY7XG5leHBvcnRzLkFTVF9UaGlzID0gQVNUX1RoaXM7XG5leHBvcnRzLkFTVF9Db25zdGFudCA9IEFTVF9Db25zdGFudDtcbmV4cG9ydHMuQVNUX1N0cmluZyA9IEFTVF9TdHJpbmc7XG5leHBvcnRzLkFTVF9OdW1iZXIgPSBBU1RfTnVtYmVyO1xuZXhwb3J0cy5BU1RfUmVnRXhwID0gQVNUX1JlZ0V4cDtcbmV4cG9ydHMuQVNUX0F0b20gPSBBU1RfQXRvbTtcbmV4cG9ydHMuQVNUX051bGwgPSBBU1RfTnVsbDtcbmV4cG9ydHMuQVNUX05hTiA9IEFTVF9OYU47XG5leHBvcnRzLkFTVF9VbmRlZmluZWQgPSBBU1RfVW5kZWZpbmVkO1xuZXhwb3J0cy5BU1RfSG9sZSA9IEFTVF9Ib2xlO1xuZXhwb3J0cy5BU1RfSW5maW5pdHkgPSBBU1RfSW5maW5pdHk7XG5leHBvcnRzLkFTVF9Cb29sZWFuID0gQVNUX0Jvb2xlYW47XG5leHBvcnRzLkFTVF9GYWxzZSA9IEFTVF9GYWxzZTtcbmV4cG9ydHMuQVNUX1RydWUgPSBBU1RfVHJ1ZTtcbmV4cG9ydHMuVHJlZVdhbGtlciA9IFRyZWVXYWxrZXI7XG5leHBvcnRzLktFWVdPUkRTID0gS0VZV09SRFM7XG5leHBvcnRzLktFWVdPUkRTX0FUT00gPSBLRVlXT1JEU19BVE9NO1xuZXhwb3J0cy5SRVNFUlZFRF9XT1JEUyA9IFJFU0VSVkVEX1dPUkRTO1xuZXhwb3J0cy5LRVlXT1JEU19CRUZPUkVfRVhQUkVTU0lPTiA9IEtFWVdPUkRTX0JFRk9SRV9FWFBSRVNTSU9OO1xuZXhwb3J0cy5PUEVSQVRPUl9DSEFSUyA9IE9QRVJBVE9SX0NIQVJTO1xuZXhwb3J0cy5SRV9IRVhfTlVNQkVSID0gUkVfSEVYX05VTUJFUjtcbmV4cG9ydHMuUkVfT0NUX05VTUJFUiA9IFJFX09DVF9OVU1CRVI7XG5leHBvcnRzLlJFX0RFQ19OVU1CRVIgPSBSRV9ERUNfTlVNQkVSO1xuZXhwb3J0cy5PUEVSQVRPUlMgPSBPUEVSQVRPUlM7XG5leHBvcnRzLldISVRFU1BBQ0VfQ0hBUlMgPSBXSElURVNQQUNFX0NIQVJTO1xuZXhwb3J0cy5QVU5DX0JFRk9SRV9FWFBSRVNTSU9OID0gUFVOQ19CRUZPUkVfRVhQUkVTU0lPTjtcbmV4cG9ydHMuUFVOQ19DSEFSUyA9IFBVTkNfQ0hBUlM7XG5leHBvcnRzLlJFR0VYUF9NT0RJRklFUlMgPSBSRUdFWFBfTU9ESUZJRVJTO1xuZXhwb3J0cy5VTklDT0RFID0gVU5JQ09ERTtcbmV4cG9ydHMuaXNfbGV0dGVyID0gaXNfbGV0dGVyO1xuZXhwb3J0cy5pc19kaWdpdCA9IGlzX2RpZ2l0O1xuZXhwb3J0cy5pc19hbHBoYW51bWVyaWNfY2hhciA9IGlzX2FscGhhbnVtZXJpY19jaGFyO1xuZXhwb3J0cy5pc191bmljb2RlX2NvbWJpbmluZ19tYXJrID0gaXNfdW5pY29kZV9jb21iaW5pbmdfbWFyaztcbmV4cG9ydHMuaXNfdW5pY29kZV9jb25uZWN0b3JfcHVuY3R1YXRpb24gPSBpc191bmljb2RlX2Nvbm5lY3Rvcl9wdW5jdHVhdGlvbjtcbmV4cG9ydHMuaXNfaWRlbnRpZmllciA9IGlzX2lkZW50aWZpZXI7XG5leHBvcnRzLmlzX2lkZW50aWZpZXJfc3RhcnQgPSBpc19pZGVudGlmaWVyX3N0YXJ0O1xuZXhwb3J0cy5pc19pZGVudGlmaWVyX2NoYXIgPSBpc19pZGVudGlmaWVyX2NoYXI7XG5leHBvcnRzLmlzX2lkZW50aWZpZXJfc3RyaW5nID0gaXNfaWRlbnRpZmllcl9zdHJpbmc7XG5leHBvcnRzLnBhcnNlX2pzX251bWJlciA9IHBhcnNlX2pzX251bWJlcjtcbmV4cG9ydHMuSlNfUGFyc2VfRXJyb3IgPSBKU19QYXJzZV9FcnJvcjtcbmV4cG9ydHMuanNfZXJyb3IgPSBqc19lcnJvcjtcbmV4cG9ydHMuaXNfdG9rZW4gPSBpc190b2tlbjtcbmV4cG9ydHMuRVhfRU9GID0gRVhfRU9GO1xuZXhwb3J0cy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG5leHBvcnRzLlVOQVJZX1BSRUZJWCA9IFVOQVJZX1BSRUZJWDtcbmV4cG9ydHMuVU5BUllfUE9TVEZJWCA9IFVOQVJZX1BPU1RGSVg7XG5leHBvcnRzLkFTU0lHTk1FTlQgPSBBU1NJR05NRU5UO1xuZXhwb3J0cy5QUkVDRURFTkNFID0gUFJFQ0VERU5DRTtcbmV4cG9ydHMuU1RBVEVNRU5UU19XSVRIX0xBQkVMUyA9IFNUQVRFTUVOVFNfV0lUSF9MQUJFTFM7XG5leHBvcnRzLkFUT01JQ19TVEFSVF9UT0tFTiA9IEFUT01JQ19TVEFSVF9UT0tFTjtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmV4cG9ydHMuVHJlZVRyYW5zZm9ybWVyID0gVHJlZVRyYW5zZm9ybWVyO1xuZXhwb3J0cy5TeW1ib2xEZWYgPSBTeW1ib2xEZWY7XG5leHBvcnRzLmJhc2U1NCA9IGJhc2U1NDtcbmV4cG9ydHMuT3V0cHV0U3RyZWFtID0gT3V0cHV0U3RyZWFtO1xuZXhwb3J0cy5Db21wcmVzc29yID0gQ29tcHJlc3NvcjtcbmV4cG9ydHMuU291cmNlTWFwID0gU291cmNlTWFwO1xuXG5leHBvcnRzLkFTVF9Ob2RlLndhcm5fZnVuY3Rpb24gPSBmdW5jdGlvbiAodHh0KSB7IGlmICh0eXBlb2YgY29uc29sZSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIikgY29uc29sZS53YXJuKHR4dCkgfVxuXG5leHBvcnRzLm1pbmlmeSA9IGZ1bmN0aW9uIChmaWxlcywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBVZ2xpZnlKUy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHNwaWRlcm1vbmtleSA6IGZhbHNlLFxuICAgICAgICBvdXRTb3VyY2VNYXAgOiBudWxsLFxuICAgICAgICBzb3VyY2VSb290ICAgOiBudWxsLFxuICAgICAgICBpblNvdXJjZU1hcCAgOiBudWxsLFxuICAgICAgICBmcm9tU3RyaW5nICAgOiBmYWxzZSxcbiAgICAgICAgd2FybmluZ3MgICAgIDogZmFsc2UsXG4gICAgICAgIG1hbmdsZSAgICAgICA6IHt9LFxuICAgICAgICBvdXRwdXQgICAgICAgOiBudWxsLFxuICAgICAgICBjb21wcmVzcyAgICAgOiB7fVxuICAgIH0pO1xuICAgIFVnbGlmeUpTLmJhc2U1NC5yZXNldCgpO1xuXG4gICAgLy8gMS4gcGFyc2VcbiAgICB2YXIgdG9wbGV2ZWwgPSBudWxsLFxuICAgICAgICBzb3VyY2VzQ29udGVudCA9IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuc3BpZGVybW9ua2V5KSB7XG4gICAgICAgIHRvcGxldmVsID0gVWdsaWZ5SlMuQVNUX05vZGUuZnJvbV9tb3ppbGxhX2FzdChmaWxlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlcyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZmlsZXMgPSBbIGZpbGVzIF07XG4gICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSl7XG4gICAgICAgICAgICB2YXIgY29kZSA9IG9wdGlvbnMuZnJvbVN0cmluZ1xuICAgICAgICAgICAgICAgID8gZmlsZVxuICAgICAgICAgICAgICAgIDogZnMucmVhZEZpbGVTeW5jKGZpbGUsIFwidXRmOFwiKTtcbiAgICAgICAgICAgIHNvdXJjZXNDb250ZW50W2ZpbGVdID0gY29kZTtcbiAgICAgICAgICAgIHRvcGxldmVsID0gVWdsaWZ5SlMucGFyc2UoY29kZSwge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBvcHRpb25zLmZyb21TdHJpbmcgPyBcIj9cIiA6IGZpbGUsXG4gICAgICAgICAgICAgICAgdG9wbGV2ZWw6IHRvcGxldmVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gMi4gY29tcHJlc3NcbiAgICBpZiAob3B0aW9ucy5jb21wcmVzcykge1xuICAgICAgICB2YXIgY29tcHJlc3MgPSB7IHdhcm5pbmdzOiBvcHRpb25zLndhcm5pbmdzIH07XG4gICAgICAgIFVnbGlmeUpTLm1lcmdlKGNvbXByZXNzLCBvcHRpb25zLmNvbXByZXNzKTtcbiAgICAgICAgdG9wbGV2ZWwuZmlndXJlX291dF9zY29wZSgpO1xuICAgICAgICB2YXIgc3EgPSBVZ2xpZnlKUy5Db21wcmVzc29yKGNvbXByZXNzKTtcbiAgICAgICAgdG9wbGV2ZWwgPSB0b3BsZXZlbC50cmFuc2Zvcm0oc3EpO1xuICAgIH1cblxuICAgIC8vIDMuIG1hbmdsZVxuICAgIGlmIChvcHRpb25zLm1hbmdsZSkge1xuICAgICAgICB0b3BsZXZlbC5maWd1cmVfb3V0X3Njb3BlKCk7XG4gICAgICAgIHRvcGxldmVsLmNvbXB1dGVfY2hhcl9mcmVxdWVuY3koKTtcbiAgICAgICAgdG9wbGV2ZWwubWFuZ2xlX25hbWVzKG9wdGlvbnMubWFuZ2xlKTtcbiAgICB9XG5cbiAgICAvLyA0LiBvdXRwdXRcbiAgICB2YXIgaW5NYXAgPSBvcHRpb25zLmluU291cmNlTWFwO1xuICAgIHZhciBvdXRwdXQgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW5Tb3VyY2VNYXAgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpbk1hcCA9IGZzLnJlYWRGaWxlU3luYyhvcHRpb25zLmluU291cmNlTWFwLCBcInV0ZjhcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm91dFNvdXJjZU1hcCkge1xuICAgICAgICBvdXRwdXQuc291cmNlX21hcCA9IFVnbGlmeUpTLlNvdXJjZU1hcCh7XG4gICAgICAgICAgICBmaWxlOiBvcHRpb25zLm91dFNvdXJjZU1hcCxcbiAgICAgICAgICAgIG9yaWc6IGluTWFwLFxuICAgICAgICAgICAgcm9vdDogb3B0aW9ucy5zb3VyY2VSb290XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0aW9ucy5zb3VyY2VNYXBJbmNsdWRlU291cmNlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgZmlsZSBpbiBzb3VyY2VzQ29udGVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzQ29udGVudC5oYXNPd25Qcm9wZXJ0eShmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc291cmNlX21hcC5nZXQoKS5zZXRTb3VyY2VDb250ZW50KGZpbGUsIHNvdXJjZXNDb250ZW50W2ZpbGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vdXRwdXQpIHtcbiAgICAgICAgVWdsaWZ5SlMubWVyZ2Uob3V0cHV0LCBvcHRpb25zLm91dHB1dCk7XG4gICAgfVxuICAgIHZhciBzdHJlYW0gPSBVZ2xpZnlKUy5PdXRwdXRTdHJlYW0ob3V0cHV0KTtcbiAgICB0b3BsZXZlbC5wcmludChzdHJlYW0pO1xuXG4gICAgaWYob3B0aW9ucy5vdXRTb3VyY2VNYXApe1xuICAgICAgICBzdHJlYW0gKz0gXCJcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1cIiArIG9wdGlvbnMub3V0U291cmNlTWFwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGUgOiBzdHJlYW0gKyBcIlwiLFxuICAgICAgICBtYXAgIDogb3V0cHV0LnNvdXJjZV9tYXAgKyBcIlwiXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuZGVzY3JpYmVfYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvdXQgPSBVZ2xpZnlKUy5PdXRwdXRTdHJlYW0oeyBiZWF1dGlmeTogdHJ1ZSB9KTtcbiAgICBmdW5jdGlvbiBkb2l0ZW0oY3Rvcikge1xuICAgICAgICBvdXQucHJpbnQoXCJBU1RfXCIgKyBjdG9yLlRZUEUpO1xuICAgICAgICB2YXIgcHJvcHMgPSBjdG9yLlNFTEZfUFJPUFMuZmlsdGVyKGZ1bmN0aW9uKHByb3Ape1xuICAgICAgICAgICAgcmV0dXJuICEvXlxcJC8udGVzdChwcm9wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCwgaSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpKSBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnByaW50KHByb3ApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3IuZG9jdW1lbnRhdGlvbikge1xuICAgICAgICAgICAgb3V0LnNwYWNlKCk7XG4gICAgICAgICAgICBvdXQucHJpbnRfc3RyaW5nKGN0b3IuZG9jdW1lbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3IuU1VCQ0xBU1NFUy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dC53aXRoX2Jsb2NrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY3Rvci5TVUJDTEFTU0VTLmZvckVhY2goZnVuY3Rpb24oY3RvciwgaSl7XG4gICAgICAgICAgICAgICAgICAgIG91dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9pdGVtKGN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBvdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRvaXRlbShVZ2xpZnlKUy5BU1RfTm9kZSk7XG4gICAgcmV0dXJuIG91dCArIFwiXCI7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gXCIvKiBCQVNJQ1MgKi9cXG5cXG4uQ29kZU1pcnJvciB7XFxuICAvKiBTZXQgaGVpZ2h0LCB3aWR0aCwgYm9yZGVycywgYW5kIGdsb2JhbCBmb250IHByb3BlcnRpZXMgaGVyZSAqL1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGhlaWdodDogMzAwcHg7XFxufVxcbi5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICAvKiBTZXQgc2Nyb2xsaW5nIGJlaGF2aW91ciBoZXJlICovXFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuLyogUEFERElORyAqL1xcblxcbi5Db2RlTWlycm9yLWxpbmVzIHtcXG4gIHBhZGRpbmc6IDRweCAwOyAvKiBWZXJ0aWNhbCBwYWRkaW5nIGFyb3VuZCBjb250ZW50ICovXFxufVxcbi5Db2RlTWlycm9yIHByZSB7XFxuICBwYWRkaW5nOiAwIDRweDsgLyogSG9yaXpvbnRhbCBwYWRkaW5nIG9mIGNvbnRlbnQgKi9cXG59XFxuXFxuLkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciwgLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgLyogVGhlIGxpdHRsZSBzcXVhcmUgYmV0d2VlbiBIIGFuZCBWIHNjcm9sbGJhcnMgKi9cXG59XFxuXFxuLyogR1VUVEVSICovXFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVycyB7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi5Db2RlTWlycm9yLWxpbmVudW1iZXJzIHt9XFxuLkNvZGVNaXJyb3ItbGluZW51bWJlciB7XFxuICBwYWRkaW5nOiAwIDNweCAwIDVweDtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgY29sb3I6ICM5OTk7XFxuICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlciB7IGNvbG9yOiBibGFjazsgfVxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUgeyBjb2xvcjogIzk5OTsgfVxcblxcbi8qIENVUlNPUiAqL1xcblxcbi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG4vKiBTaG93biB3aGVuIG1vdmluZyBpbiBiaS1kaXJlY3Rpb25hbCB0ZXh0ICovXFxuLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3Itc2Vjb25kYXJ5Y3Vyc29yIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgc2lsdmVyO1xcbn1cXG4uQ29kZU1pcnJvci5jbS1rZXltYXAtZmF0LWN1cnNvciBkaXYuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgd2lkdGg6IGF1dG87XFxuICBib3JkZXI6IDA7XFxuICBiYWNrZ3JvdW5kOiAjN2U3O1xcbn1cXG4uQ29kZU1pcnJvci5jbS1rZXltYXAtZmF0LWN1cnNvciBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcbi5jbS1hbmltYXRlLWZhdC1jdXJzb3Ige1xcbiAgd2lkdGg6IGF1dG87XFxuICBib3JkZXI6IDA7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICAtbW96LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICBhbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbn1cXG5ALW1vei1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUgeyBiYWNrZ3JvdW5kOiAjN2U3OyB9XFxuICA1MCUgeyBiYWNrZ3JvdW5kOiBub25lOyB9XFxuICAxMDAlIHsgYmFja2dyb3VuZDogIzdlNzsgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUgeyBiYWNrZ3JvdW5kOiAjN2U3OyB9XFxuICA1MCUgeyBiYWNrZ3JvdW5kOiBub25lOyB9XFxuICAxMDAlIHsgYmFja2dyb3VuZDogIzdlNzsgfVxcbn1cXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHsgYmFja2dyb3VuZDogIzdlNzsgfVxcbiAgNTAlIHsgYmFja2dyb3VuZDogbm9uZTsgfVxcbiAgMTAwJSB7IGJhY2tncm91bmQ6ICM3ZTc7IH1cXG59XFxuXFxuLyogQ2FuIHN0eWxlIGN1cnNvciBkaWZmZXJlbnQgaW4gb3ZlcndyaXRlIChub24taW5zZXJ0KSBtb2RlICovXFxuZGl2LkNvZGVNaXJyb3Itb3ZlcndyaXRlIGRpdi5Db2RlTWlycm9yLWN1cnNvciB7fVxcblxcbi5jbS10YWIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDsgfVxcblxcbi5Db2RlTWlycm9yLXJ1bGVyIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2NjYztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLyogREVGQVVMVCBUSEVNRSAqL1xcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmQge2NvbG9yOiAjNzA4O31cXG4uY20tcy1kZWZhdWx0IC5jbS1hdG9tIHtjb2xvcjogIzIxOTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tbnVtYmVyIHtjb2xvcjogIzE2NDt9XFxuLmNtLXMtZGVmYXVsdCAuY20tZGVmIHtjb2xvcjogIzAwZjt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUsXFxuLmNtLXMtZGVmYXVsdCAuY20tcHVuY3R1YXRpb24sXFxuLmNtLXMtZGVmYXVsdCAuY20tcHJvcGVydHksXFxuLmNtLXMtZGVmYXVsdCAuY20tb3BlcmF0b3Ige31cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZS0yIHtjb2xvcjogIzA1YTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMyB7Y29sb3I6ICMwODU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWNvbW1lbnQge2NvbG9yOiAjYTUwO31cXG4uY20tcy1kZWZhdWx0IC5jbS1zdHJpbmcge2NvbG9yOiAjYTExO31cXG4uY20tcy1kZWZhdWx0IC5jbS1zdHJpbmctMiB7Y29sb3I6ICNmNTA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLW1ldGEge2NvbG9yOiAjNTU1O31cXG4uY20tcy1kZWZhdWx0IC5jbS1xdWFsaWZpZXIge2NvbG9yOiAjNTU1O31cXG4uY20tcy1kZWZhdWx0IC5jbS1idWlsdGluIHtjb2xvcjogIzMwYTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tYnJhY2tldCB7Y29sb3I6ICM5OTc7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXRhZyB7Y29sb3I6ICMxNzA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWF0dHJpYnV0ZSB7Y29sb3I6ICMwMGM7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWhlYWRlciB7Y29sb3I6IGJsdWU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXF1b3RlIHtjb2xvcjogIzA5MDt9XFxuLmNtLXMtZGVmYXVsdCAuY20taHIge2NvbG9yOiAjOTk5O31cXG4uY20tcy1kZWZhdWx0IC5jbS1saW5rIHtjb2xvcjogIzAwYzt9XFxuXFxuLmNtLW5lZ2F0aXZlIHtjb2xvcjogI2Q0NDt9XFxuLmNtLXBvc2l0aXZlIHtjb2xvcjogIzI5Mjt9XFxuLmNtLWhlYWRlciwgLmNtLXN0cm9uZyB7Zm9udC13ZWlnaHQ6IGJvbGQ7fVxcbi5jbS1lbSB7Zm9udC1zdHlsZTogaXRhbGljO31cXG4uY20tbGluayB7dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7fVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWVycm9yIHtjb2xvcjogI2YwMDt9XFxuLmNtLWludmFsaWRjaGFyIHtjb2xvcjogI2YwMDt9XFxuXFxuLyogRGVmYXVsdCBzdHlsZXMgZm9yIGNvbW1vbiBhZGRvbnMgKi9cXG5cXG5kaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHtjb2xvcjogIzBmMDt9XFxuZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldCB7Y29sb3I6ICNmMjI7fVxcbi5Db2RlTWlycm9yLW1hdGNoaW5ndGFnIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE1MCwgMCwgLjMpOyB9XFxuLkNvZGVNaXJyb3ItYWN0aXZlbGluZS1iYWNrZ3JvdW5kIHtiYWNrZ3JvdW5kOiAjZThmMmZmO31cXG5cXG4vKiBTVE9QICovXFxuXFxuLyogVGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGNvbnRhaW5zIHN0eWxlcyByZWxhdGVkIHRvIHRoZSBtZWNoYW5pY3Mgb2ZcXG4gICB0aGUgZWRpdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IHRvdWNoIHRoZW0uICovXFxuXFxuLkNvZGVNaXJyb3Ige1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZDogd2hpdGU7XFxuICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICAvKiAzMHB4IGlzIHRoZSBtYWdpYyBtYXJnaW4gdXNlZCB0byBoaWRlIHRoZSBlbGVtZW50J3MgcmVhbCBzY3JvbGxiYXJzICovXFxuICAvKiBTZWUgb3ZlcmZsb3c6IGhpZGRlbiBpbiAuQ29kZU1pcnJvciAqL1xcbiAgbWFyZ2luLWJvdHRvbTogLTMwcHg7IG1hcmdpbi1yaWdodDogLTMwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG91dGxpbmU6IG5vbmU7IC8qIFByZXZlbnQgZHJhZ2dpbmcgZnJvbSBoaWdobGlnaHRpbmcgdGhlIGVsZW1lbnQgKi9cXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG59XFxuLkNvZGVNaXJyb3Itc2l6ZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyLXJpZ2h0OiAzMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbn1cXG5cXG4vKiBUaGUgZmFrZSwgdmlzaWJsZSBzY3JvbGxiYXJzLiBVc2VkIHRvIGZvcmNlIHJlZHJhdyBkdXJpbmcgc2Nyb2xsaW5nXFxuICAgYmVmb3JlIGFjdHVhbGwgc2Nyb2xsaW5nIGhhcHBlbnMsIHRodXMgcHJldmVudGluZyBzaGFraW5nIGFuZFxcbiAgIGZsaWNrZXJpbmcgYXJ0aWZhY3RzLiAqL1xcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIsIC5Db2RlTWlycm9yLWhzY3JvbGxiYXIsIC5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsIC5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogNjtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIge1xcbiAgcmlnaHQ6IDA7IHRvcDogMDtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG59XFxuLkNvZGVNaXJyb3ItaHNjcm9sbGJhciB7XFxuICBib3R0b206IDA7IGxlZnQ6IDA7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxuICBvdmVyZmxvdy14OiBzY3JvbGw7XFxufVxcbi5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIge1xcbiAgcmlnaHQ6IDA7IGJvdHRvbTogMDtcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBsZWZ0OiAwOyBib3R0b206IDA7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG4gIHotaW5kZXg6IDM7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlciB7XFxuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAtMzJweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIC8qIEhhY2sgdG8gbWFrZSBJRTcgYmVoYXZlICovXFxuICAqem9vbToxO1xcbiAgKmRpc3BsYXk6aW5saW5lO1xcbn1cXG4uQ29kZU1pcnJvci1ndXR0ZXItZWx0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIHotaW5kZXg6IDQ7XFxufVxcblxcbi5Db2RlTWlycm9yLWxpbmVzIHtcXG4gIGN1cnNvcjogdGV4dDtcXG4gIG1pbi1oZWlnaHQ6IDFweDsgLyogcHJldmVudHMgY29sbGFwc2luZyBiZWZvcmUgZmlyc3QgZHJhdyAqL1xcbn1cXG4uQ29kZU1pcnJvciBwcmUge1xcbiAgLyogUmVzZXQgc29tZSBzdHlsZXMgdGhhdCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBtaWdodCBoYXZlIHNldCAqL1xcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAwOyAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDA7IGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItd2lkdGg6IDA7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgbWFyZ2luOiAwO1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG4gIHdvcmQtd3JhcDogbm9ybWFsO1xcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIHotaW5kZXg6IDI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogdmlzaWJsZTtcXG59XFxuLkNvZGVNaXJyb3Itd3JhcCBwcmUge1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgd29yZC1icmVhazogbm9ybWFsO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwOyByaWdodDogMDsgdG9wOiAwOyBib3R0b206IDA7XFxuICB6LWluZGV4OiAwO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1saW5ld2lkZ2V0IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDI7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuLkNvZGVNaXJyb3Itd2lkZ2V0IHt9XFxuXFxuLkNvZGVNaXJyb3Itd3JhcCAuQ29kZU1pcnJvci1zY3JvbGwge1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1tZWFzdXJlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG59XFxuLkNvZGVNaXJyb3ItbWVhc3VyZSBwcmUgeyBwb3NpdGlvbjogc3RhdGljOyB9XFxuXFxuLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbn1cXG5cXG5kaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDM7XFxufVxcbi5Db2RlTWlycm9yLWZvY3VzZWQgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6ICNkOWQ5ZDk7IH1cXG4uQ29kZU1pcnJvci1mb2N1c2VkIC5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcbi5Db2RlTWlycm9yLWNyb3NzaGFpciB7IGN1cnNvcjogY3Jvc3NoYWlyOyB9XFxuXFxuLmNtLXNlYXJjaGluZyB7XFxuICBiYWNrZ3JvdW5kOiAjZmZhO1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMCwgLjQpO1xcbn1cXG5cXG4vKiBJRTcgaGFjayB0byBwcmV2ZW50IGl0IGZyb20gcmV0dXJuaW5nIGZ1bm55IG9mZnNldFRvcHMgb24gdGhlIHNwYW5zICovXFxuLkNvZGVNaXJyb3Igc3BhbiB7ICp2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207IH1cXG5cXG4vKiBVc2VkIHRvIGZvcmNlIGEgYm9yZGVyIG1vZGVsIGZvciBhIG5vZGUgKi9cXG4uY20tZm9yY2UtYm9yZGVyIHsgcGFkZGluZy1yaWdodDogLjFweDsgfVxcblxcbkBtZWRpYSBwcmludCB7XFxuICAvKiBIaWRlIHRoZSBjdXJzb3Igd2hlbiBwcmludGluZyAqL1xcbiAgLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIH1cXG59XFxuXFxuLyogSGVscCB1c2VycyB1c2UgbWFya3NlbGVjdGlvbiB0byBzYWZlbHkgc3R5bGUgdGV4dCBiYWNrZ3JvdW5kICovXFxuc3Bhbi5Db2RlTWlycm9yLXNlbGVjdGVkdGV4dCB7IGJhY2tncm91bmQ6IG5vbmU7IH1cXG5cXG4vKipcXG4gKiBQYXN0ZWwgT24gRGFyayB0aGVtZSBwb3J0ZWQgZnJvbSBBQ0UgZWRpdG9yXFxuICogQGxpY2Vuc2UgTUlUXFxuICogQGNvcHlyaWdodCBBdG9taWNQYWdlcyBMTEMgMjAxNFxcbiAqIEBhdXRob3IgRGVubmlzIFRob21wc29uLCBBdG9taWNQYWdlcyBMTENcXG4gKiBAdmVyc2lvbiAxLjFcXG4gKiBAc291cmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9taWNwYWdlcy9jb2RlbWlycm9yLXBhc3RlbC1vbi1kYXJrLXRoZW1lXFxuICovXFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsuQ29kZU1pcnJvciB7XFxuXFx0YmFja2dyb3VuZDogIzJjMjgyNztcXG5cXHRjb2xvcjogIzhGOTM4RjtcXG5cXHRsaW5lLWhlaWdodDogMS41O1xcblxcdGZvbnQtc2l6ZTogMTRweDtcXG59XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgZGl2LkNvZGVNaXJyb3Itc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kOiByZ2JhKDIyMSwyNDAsMjU1LDAuMikgIWltcG9ydGFudDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWd1dHRlcnMge1xcblxcdGJhY2tncm91bmQ6ICMzNDMwMmY7XFxuXFx0Ym9yZGVyLXJpZ2h0OiAwcHg7XFxuXFx0cGFkZGluZzogMCAzcHg7XFxufVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWd1dHRlcm1hcmtlciB7IGNvbG9yOiB3aGl0ZTsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUgeyBjb2xvcjogIzhGOTM4RjsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWxpbmVudW1iZXIgeyBjb2xvcjogIzhGOTM4RjsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLWN1cnNvciB7IGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0E3QTdBNyAhaW1wb3J0YW50OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1jb21tZW50IHsgY29sb3I6ICNBNkM2RkY7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWF0b20geyBjb2xvcjogI0RFOEUzMDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tbnVtYmVyIHsgY29sb3I6ICNDQ0NDQ0M7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXByb3BlcnR5IHsgY29sb3I6ICM4RjkzOEY7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWF0dHJpYnV0ZSB7IGNvbG9yOiAjYTZlMjJlOyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1rZXl3b3JkIHsgY29sb3I6ICNBRUIyRjg7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXN0cmluZyB7IGNvbG9yOiAjNjZBOTY4OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS12YXJpYWJsZSB7IGNvbG9yOiAjQUVCMkY4OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS12YXJpYWJsZS0yIHsgY29sb3I6ICNCRUJGNTU7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXZhcmlhYmxlLTMgeyBjb2xvcjogI0RFOEUzMDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tZGVmIHsgY29sb3I6ICM3NTdhRDg7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWJyYWNrZXQgeyBjb2xvcjogI2Y4ZjhmMjsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tdGFnIHsgY29sb3I6ICNDMUMxNDQ7IH1cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWxpbmsgeyBjb2xvcjogI2FlODFmZjsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tcXVhbGlmaWVyLC5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tYnVpbHRpbiB7IGNvbG9yOiAjQzFDMTQ0OyB9XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1lcnJvciB7XFxuXFx0YmFja2dyb3VuZDogIzc1N2FEODtcXG5cXHRjb2xvcjogI2Y4ZjhmMDtcXG59XFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgLkNvZGVNaXJyb3ItYWN0aXZlbGluZS1iYWNrZ3JvdW5kIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAzMSkgIWltcG9ydGFudDsgfVxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIC5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldCB7XFxuXFx0Ym9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjI1KTtcXG5cXHRjb2xvcjogIzhGOTM4RiAhaW1wb3J0YW50O1xcblxcdG1hcmdpbjogLTFweCAtMXB4IDAgLTFweDtcXG59XFxuXCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbVRvb2xzID0gcmVxdWlyZSgnLi9hbS50b29scycpO1xudmFyIGFtTWVudSA9IHJlcXVpcmUoJy4vYW0ubWVudScpO1xudmFyIGJhc2VXb3Jrc3BhY2UgPSByZXF1aXJlKCcuL2Jhc2VXb3Jrc3BhY2UnKTtcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIFdpbmRvb21hbiA9IHJlcXVpcmUoJy4uL3dpbmRvb21hbicpO1xudmFyIEhpc3RvcnlUYWIgPSByZXF1aXJlKCcuLi9oaXN0b3J5VGFiJyk7XG52YXIgV2FyZWhvdXNlbWFuID0gcmVxdWlyZSgnLi4vd2FyZWhvdXNlbWFuJyk7XG52YXIgc2hvcnRjdXRzID0gcmVxdWlyZSgnLi4vc2hvcnRjdXRzJyk7XG52YXIgQ2hyb25pY2xlciA9IHJlcXVpcmUoJy4uL2Nocm9uaWNsZXInKTtcbnZhciBEb21QaWNrZXIgPSByZXF1aXJlKCcuLi9kb20tcGlja2VyJyk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4uL2kxOG4nKTtcbnZhciBUb3VyID0gcmVxdWlyZSgnLi4vdG91cicpO1xudmFyIE1vdXNlID0gcmVxdWlyZSgnLi4vbW91c2UnKTtcbnZhciBQcm9qZWN0TWFwID0gcmVxdWlyZSgnLi4vcHJvamVjdC9Qcm9qZWN0TWFwJyk7XG52YXIgZGlhbG9nV0lQID0gcmVxdWlyZSgnLi4vY29tbW9uRGlhbG9ncy9kaWFsb2dXSVAnKTtcbnZhciBkaWFsb2dGZWVkYmFjayA9IHJlcXVpcmUoJy4uL2NvbW1vbkRpYWxvZ3MvZGlhbG9nRmVlZGJhY2snKTtcbnZhciBkaWFsb2dXZWxjb21lID0gcmVxdWlyZSgnLi4vY29tbW9uRGlhbG9ncy9kaWFsb2dXZWxjb21lJyk7XG52YXIgbWluZVNhdmUgPSByZXF1aXJlKCcuLi9taW5lU2F2ZScpO1xudmFyIG1vZHVsZXMgPSB7XG4gICAgY3NzOiByZXF1aXJlKCcuLi9tb2R1bGVzL2NzcycpLFxuICAgIC8vIGpzOiByZXF1aXJlKCcuL21vZHVsZXMvamF2YXNjcmlwdCcpLFxuICAgIGRvbVRyZWU6IHJlcXVpcmUoJy4uL21vZHVsZXMvYW0tZG9tdHJlZScpLFxufTtcbnZhciBleHRlcm5hbFN0eWxlc2hlZXRzID0gW1xuICAgIC8vIHJlcXVpcmUoJy4vYXNzZXRzL2ZvbnRlbGxvL2Nzcy9hbWd1aS5jc3MnKSxcbiAgICByZXF1aXJlKCcuLi9hbS5jc3MnKSxcbl07XG5cbnZhciBpc0luaXRlZCA9IGZhbHNlLCBoYW5kbGVyQnVmZiA9IFtdO1xuXG5cbnZhciBhbSA9IHdpbmRvdy5hbSA9IG1vZHVsZS5leHBvcnRzID0gXy5leHRlbmQobmV3IEV2ZW50RW1pdHRlcigpLCB3aW5kb3cuYW0sIHtcblxuICAgIHRyYWNrVHlwZXM6IHt9LFxuXG4gICAgX3N0YXRpY1Rvb2xiYXJJY29uczogW10sXG5cbiAgICBzZWxlY3RlZERvbUVsZW06IHVuZGVmaW5lZCxcbiAgICBzZWxlY3RlZFRyYWNrOiB1bmRlZmluZWQsXG5cbiAgICByZWdpc3RlclRyYWNrVHlwZTogZnVuY3Rpb24gKFRyYWNrLCB0eXBlKSB7XG5cbiAgICAgICAgdGhpcy50cmFja1R5cGVzW3R5cGVdID0gVHJhY2s7XG4gICAgfVxufSk7XG5hbS5zZXRNYXhMaXN0ZW5lcnMoMTIzNCk7XG5cbmFtLnRocm93SGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG5cbiAgICBoYW5kbGVyQnVmZi5wdXNoKGhhbmRsZXIpO1xufTtcblxuYW0ub3BlbiA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBhbS5yZXBvcnQoe2V2dE5hbWU6ICdvcGVuJywgJ3ZhbHVlJzogMX0pO1xuXG4gICAgdmFyIHByb21pc2VCb2R5ID0gKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGFtLl9pbml0KCk7XG5cbiAgICAgICAgaWYgKHNhdmUpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihzYXZlKSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgICAgIHVzZVNhdmUoc2F2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Yoc2F2ZSkgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2F2ZS5pbmRleE9mKCd7JykgPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZmV0Y2goc2F2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gdXNlU2F2ZShyZXNwb25zZSksIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2VTYXZlKHNhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFtLm9wZW5OZXdQcm9qZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1c2VTYXZlKHNhdmUpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihzYXZlKSA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHNhdmUgPSBKU09OLnBhcnNlKHNhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzYXZlID0gbWluZVNhdmUoc2F2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNhdmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ2FuXFwndCB1c2UgdGhpcyBzYXZlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFtLnByb2plY3RNYXAuZm9jdXMoc2F2ZSk7XG4gICAgICAgICAgICBmdWxmaWxsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGZhbHNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignYW0ub3BlbiBpcyBpbiBkZWJ1ZyBtb2RlIScpO1xuICAgICAgICBwcm9taXNlQm9keSgpOyAvL2RlYnVnXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHByb21pc2VCb2R5KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBhbS5yZXBvcnQoe2V2dE5hbWU6ICdvcGVuJywgJ3ZhbHVlJzogMX0pO1xuXG4gICAgICAgICAgICBhbS5kaWFsb2dzLndlbGNvbWUuc2hvdygpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5zdGFjayk7XG4gICAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5hbS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmIChpc0luaXRlZCkgcmV0dXJuO1xuXG4gICAgYW0uZGVSb290ID0gZG9jdW1lbnQuYm9keTtcblxuICAgIGNyZWF0ZUFtUm9vdCgpO1xuICAgIGFtLmRlUGlja0xheWVyID0gY3JlYXRlQW1MYXllcigpO1xuICAgIGFtLmRlSGFuZGxlckNvbnQgPSBjcmVhdGVBbUxheWVyKCk7XG4gICAgYW0uZGVHdWlDb250ID0gY3JlYXRlQW1MYXllcigpO1xuICAgIGFtLmRlRGlhbG9nQ29udCA9IGNyZWF0ZUFtTGF5ZXIoKTtcblxuICAgIGFtZ3VpLmRlT3ZlcmxheUNvbnQgPSBhbS5kZURpYWxvZ0NvbnQ7XG5cbiAgICBhbS5pMThuID0gaTE4bjtcblxuICAgIGFtLndvcmtzcGFjZSA9IG5ldyBXaW5kb29tYW4oKTtcbiAgICBhbS5kZUd1aUNvbnQuYXBwZW5kQ2hpbGQoYW0ud29ya3NwYWNlLmRvbUVsZW0pO1xuICAgIGFtLndvcmtzcGFjZS5sb2FkV29ya3NwYWNlKCdiYXNlJywgYmFzZVdvcmtzcGFjZSk7XG4gICAgYW0ud29ya3NwYWNlLmxvYWQoJ2Jhc2UnKTtcblxuICAgIGFtLnByb2plY3RNYXAgPSBuZXcgUHJvamVjdE1hcCgpO1xuXG4gICAgYW0ubW91c2UgPSBuZXcgTW91c2UoKTtcblxuICAgIGFtLnN0b3JhZ2UgPSBuZXcgV2FyZWhvdXNlbWFuKCk7XG5cbiAgICBhbS50b3VyID0gbmV3IFRvdXIoKTtcblxuICAgIGFtLmhpc3RvcnkgPSBuZXcgQ2hyb25pY2xlcigpO1xuICAgIHNob3J0Y3V0cy5vbigndW5kbycsICgpID0+IGFtLmhpc3RvcnkudW5kbygpKTtcbiAgICBzaG9ydGN1dHMub24oJ3JlZG8nLCAoKSA9PiBhbS5oaXN0b3J5LnJlZG8oKSk7XG5cbiAgICBhbS5oaXN0b3J5VGFiID0gbmV3IEhpc3RvcnlUYWIoKTtcbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYignSGlzdG9yeScsIGFtLmhpc3RvcnlUYWIuZG9tRWxlbSk7XG5cbiAgICBhbS5kb21QaWNrZXIgPSBuZXcgRG9tUGlja2VyKCk7XG4gICAgYW0uZGVIYW5kbGVyQ29udC5hcHBlbmRDaGlsZChhbS5kb21QaWNrZXIuZG9tRWxlbSk7XG4gICAgYW0uZG9tUGlja2VyLm9uKCdwaWNrJywgZGUgPT4gYW0uc2VsZWN0RG9tRWxlbShkZSkpO1xuXG4gICAgYW1NZW51KGFtKTtcbiAgICBpbnNwZWN0SGFuZGxlckNvbnQoYW0uZGVIYW5kbGVyQ29udCk7XG4gICAgYWRkVG9nZ2xlR3VpKCk7XG4gICAgYW1Ub29scyhhbSk7XG4gICAgY3JlYXRlU3RhdHVzTGFiZWwoKTtcblxuICAgIGFtLmRpYWxvZ3MgPSB7XG4gICAgICAgIFdJUDogZGlhbG9nV0lQLFxuICAgICAgICBmZWVkYmFjazogZGlhbG9nRmVlZGJhY2ssXG4gICAgICAgIHdlbGNvbWU6IGRpYWxvZ1dlbGNvbWUsXG4gICAgfTtcblxuICAgIE9iamVjdC5rZXlzKG1vZHVsZXMpLmZvckVhY2goIG1vZHVsZU5hbWUgPT4ge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0JywgbW9kdWxlTmFtZSwgJ21vZHVsZS4uLicpO1xuXG4gICAgICAgIG1vZHVsZXNbbW9kdWxlTmFtZV0uaW5pdChhbSk7XG4gICAgfSk7XG59O1xuXG5hbS5vcGVuTmV3UHJvamVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGFtLnByb2plY3RNYXAuZm9jdXMoe1xuICAgICAgICBuYW1lOiAnbmV3IHByb2plY3QnLFxuICAgICAgICB0aW1lbGluZXM6IFt7fV0sXG4gICAgfSk7XG59O1xuXG5hbS5zZXRUaW1lbGluZSA9IGZ1bmN0aW9uICh0aW1lbGluZSkge1xuXG4gICAgaWYgKCF0aW1lbGluZSkgcmV0dXJuO1xuXG4gICAgdGltZWxpbmUudG9vbGJhci5hZGRJY29uKGFtLl9zdGF0aWNUb29sYmFySWNvbnMpO1xuXG4gICAgYW0uY3VyclRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYigndGltZWxpbmUnLCB0aW1lbGluZS5kb21FbGVtKTtcbn07XG5cbmFtLnNldEN1cnJUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgaWYgKGFtLmN1cnJUcmFjayA9PT0gdHJhY2spIHJldHVybjtcblxuICAgIGFtLmN1cnJUcmFjayA9IHRyYWNrO1xuXG4gICAgYW0uZW1pdCgnY2hhbmdlLmN1cnJUcmFjaycsIGFtLmN1cnJUcmFjayk7XG59O1xuXG5hbS5zZWxlY3REb21FbGVtID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICBpZiAoIWRlKSB0aHJvdyBFcnJvcjtcbiAgICBpZiAoYW0uc2VsZWN0ZWREb21FbGVtID09PSBkZSkgcmV0dXJuO1xuXG4gICAgYW0uc2VsZWN0ZWREb21FbGVtID0gZGU7XG4gICAgYW0uZW1pdCgnc2VsZWN0RG9tRWxlbScsIGFtLnNlbGVjdGVkRG9tRWxlbSk7XG59O1xuXG5hbS5kZXNlbGVjdERvbUVsZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIWFtLnNlbGVjdGVkRG9tRWxlbSkgcmV0dXJuO1xuXG4gICAgYW0uc2VsZWN0ZWREb21FbGVtID0gdW5kZWZpbmVkO1xuICAgIGFtLmVtaXQoJ2Rlc2VsZWN0RG9tRWxlbScpO1xufTtcblxuYW0uaXNQaWNrYWJsZURvbUVsZW0gPSBmdW5jdGlvbiAoZGVUZXN0KSB7XG4gICAgLy9UT0RPIHVzZSAuY29tcGFyZURvY3VtZW50UG9zaXRpb24oKVxuICAgIGlmICghZGVUZXN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RlcChkZVRlc3QpO1xuXG4gICAgZnVuY3Rpb24gc3RlcChkZSkge1xuXG4gICAgICAgIGlmICghZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZS5ub2RlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlLmhhc0F0dHJpYnV0ZSgnZGF0YS1hbS1waWNrJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlLmhhc0F0dHJpYnV0ZSgnZGF0YS1hbS1ub3BpY2snKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGUgIT09IGRlVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoZGUucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5cbmFtLnJlcG9ydCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmIChhbS5pc0V4dGVuc2lvbigpKSB7XG5cbiAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZ0TmFtZTogb3B0LmV2dE5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG9wdC52YWx1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmZhcmV3ZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5hbS5pc0V4dGVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBjaHJvbWUgJiYgY2hyb21lLnN0b3JhZ2U7XG59O1xuXG5hbS5zZXRWYXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGNiKSB7XG5cbiAgICBpZiAoYW0uaXNFeHRlbnNpb24oKSkge1xuXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtbbmFtZV06IHZhbHVlfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICBpZiAoY2IpIGNiKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19fYW5pbWFjaGluZV92YXJfJyArIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgaWYgKGNiKSBjYigpO1xuICAgIH1cbn07XG5cbmFtLmdldFZhciA9IGZ1bmN0aW9uIChuYW1lLCBjYikge1xuXG4gICAgaWYgKGFtLmlzRXh0ZW5zaW9uKCkpIHtcblxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChuYW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgIGlmIChjYikgY2IodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX19hbmltYWNoaW5lX3Zhcl8nICsgbmFtZSk7XG4gICAgICAgIGNiKHZhbHVlKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGluc3BlY3RIYW5kbGVyQ29udChkZUNvbnQpIHtcblxuICAgIHZhciBjb25maWcgPSB7Y2hpbGRMaXN0OiB0cnVlfSxcbiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHtcblxuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cbiAgICAgICAgXyhkZUNvbnQuY2hpbGRyZW4pXG4gICAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgICAuc29ydEJ5KCdyZW5kZXJMZXZlbCcpXG4gICAgICAgICAgICAuZm9yRWFjaChkZSA9PiBkZUNvbnQuYXBwZW5kQ2hpbGQoZGUpKTtcblxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRlQ29udCwgY29uZmlnKTtcbiAgICB9KTtcblxuICAgIG9ic2VydmVyLm9ic2VydmUoZGVDb250LCBjb25maWcpO1xufVxuXG5mdW5jdGlvbiBhZGRUb2dnbGVHdWkoKSB7XG5cbiAgICB2YXIgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgIGFtLl9zdGF0aWNUb29sYmFySWNvbnMucHVzaCh7XG4gICAgICAgIHRvb2x0aXA6ICdzaG93L2hpZGUgZWRpdG9yJyxcbiAgICAgICAgaWNvbjogJ3Jlc2l6ZS1zbWFsbCcsXG4gICAgICAgIHNlcGFyYXRvcjogJ2ZpcnN0JyxcbiAgICAgICAgb25DbGljazogaGlkZSxcbiAgICB9KTtcblxuICAgIHZhciBidG5GdWxsID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHNpemU6IDI0LFxuICAgICAgICBpY29uOiAncmVzaXplLWZ1bGwnLFxuICAgICAgICB0b29sdGlwOiAnc2hvdyBlZGl0b3InLFxuICAgICAgICBvbkNsaWNrOiBzaG93LFxuICAgIH0pO1xuXG4gICAgc2hvcnRjdXRzLm9uKCdzaG93L2hpZGVQYW5lbHMnLCB0b2dnbGUpO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlKCkge1xuXG4gICAgICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICBpZiAoaXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGFtLmRlR3VpQ29udC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnRuRnVsbCk7XG5cbiAgICAgICAgdmFyIHpJbmRleCA9IGdldE1heFpJbmRleCgpO1xuICAgICAgICBpZiAoekluZGV4KSB7XG4gICAgICAgICAgICBidG5GdWxsLnN0eWxlLnpJbmRleCA9IHpJbmRleCArIDEwMDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgIGlmICghaXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgICAgICBhbS5kZUd1aUNvbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGJ0bkZ1bGwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChidG5GdWxsKTtcbiAgICB9XG5cbiAgICBidG5GdWxsLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIGJ0bkZ1bGwuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIGJ0bkZ1bGwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xufVxuXG5cblxuXG5mdW5jdGlvbiBnZXRNYXhaSW5kZXgoKSB7XG5cbiAgICB2YXIgekluZGV4ID0gMCwgZWxzLCB4LCB4TGVuLCBlbCwgdmFsO1xuXG4gICAgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIGZvciAoeCA9IDAsIHhMZW4gPSBlbHMubGVuZ3RoOyB4IDwgeExlbjsgeCArPSAxKSB7XG4gICAgICBlbCA9IGVsc1t4XTtcbiAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSAhPT0gJ3N0YXRpYycpIHtcbiAgICAgICAgdmFsID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgIHZhbCA9ICt2YWw7XG4gICAgICAgICAgaWYgKHZhbCA+IHpJbmRleCkge1xuICAgICAgICAgICAgekluZGV4ID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gekluZGV4O1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gY3JlYXRlQW1Sb290KCkge1xuXG4gICAgLy8gJCgnYm9keScpLmNzcygnb3BhY2l0eScsIDApXG4gICAgICAgIC8vIC5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHskKCdib2R5JykuY3NzKCdvcGFjaXR5JywgMSl9KVxuICAgICAgICAvLyAubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7JCgnYm9keScpLmNzcygnb3BhY2l0eScsIC4yMyl9KTtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBkZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgZGUuc3R5bGUudG9wID0gJzBweCc7XG4gICAgZGUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcbiAgICBkZS5zdHlsZS53ZWJrdFVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuICAgIGRlLnNldEF0dHJpYnV0ZSgnZGF0YS1hbS1ub3BpY2snLCAnJyk7XG5cbiAgICB2YXIgekluZGV4ID0gZ2V0TWF4WkluZGV4KCk7XG4gICAgaWYgKHpJbmRleCkge1xuICAgICAgICBkZS5zdHlsZS56SW5kZXggPSB6SW5kZXggKyAxMDAwO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGUpO1xuXG4gICAgdmFyIHNyID0gZGUuY3JlYXRlU2hhZG93Um9vdCgpO1xuXG4gICAgc3IuYXBwZW5kQ2hpbGQoYW1ndWkuZ2V0U3R5bGVTaGVldCgpKTtcblxuICAgIGV4dGVybmFsU3R5bGVzaGVldHMuZm9yRWFjaChmdW5jdGlvbiAoY3NzKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gY3NzO1xuICAgICAgICBzci5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIC8vIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH0pO1xuXG4gICAgYW0ucm9vdEVsZW0gPSBkZTtcbiAgICBhbS5yb290U2hhZG93ID0gc3I7XG4gICAgLy8gcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBbUxheWVyKCkge1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBkZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW0tbm9waWNrJywgJycpO1xuICAgIGFtLnJvb3RTaGFkb3cuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIHJldHVybiBkZTtcbn1cblxuXG5cblxuXG5mdW5jdGlvbiBjcmVhdGVTdGF0dXNMYWJlbCgpIHtcblxuICAgIHZhciBkZVRpdGxlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICB0ZXh0OiAnQW5pbWFjaGluZSAoYWxwaGEpJyxcbiAgICAgICAgcGFyZW50OiBhbS5kZURpYWxvZ0NvbnQsXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICBmb250U2l6ZTogJzE4cHgnXG4gICAgfSk7XG5cbiAgICBkZVRpdGxlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGVUaXRsZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkZVRpdGxlLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGRlVGl0bGUuc3R5bGUub3BhY2l0eSA9ICcwLjIzJztcbiAgICBkZVRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG59XG4iLCJ2YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUoYW0pIHtcblxuICAgIHZhciBkZU1lbnVJY29uID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdtZW51JyxcbiAgICAgICAgaWNvbjogJ21lbnUnLFxuICAgICAgICBzaXplOiAyNCxcbiAgICB9KTtcblxuICAgIGFtLl9zdGF0aWNUb29sYmFySWNvbnMucHVzaCh7XG4gICAgICAgIGRlSWNvbjogZGVNZW51SWNvbixcbiAgICAgICAgc2VwYXJhdG9yOiAndG9vbHMnLFxuICAgIH0pO1xuXG4gICAgYW0ubWVudURyb3Bkb3duID0gYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgIGljb246ICdmbG9wcHknLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAnbmV3Jywgb25TZWxlY3Q6ICgpID0+IGFtLm9wZW5OZXdQcm9qZWN0KCksIGljb246ICdkb2MnfSxcbiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICdzYXZlJywgb25TZWxlY3Q6IG9uU2VsZWN0U2F2ZSwgaWNvbjogJ3VwbG9hZC1jbG91ZCd9LFxuICAgICAgICAgICAgICAgICAgICAvLyB7dGV4dDogJ3NhdmVBcycsIG9uU2VsZWN0OiBvblNlbGVjdFNhdmV9LFxuICAgICAgICAgICAgICAgICAgICB7dGV4dDogJ29wZW4nLCBvblNlbGVjdDogb25TZWxlY3RPcGVuLCBpY29uOiAnZG93bmxvYWQtY2xvdWQnfSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHQ6ICd1bmRvJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnY2N3JyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBhbS5oaXN0b3J5LnVuZG8oKSxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAncmVkbycsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2N3JyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBhbS5oaXN0b3J5LnJlZG8oKSxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcImZlZWRiYWNrXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogXCJtZWdhcGhvbmVcIixcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwicmVzdFwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGFtLmRpYWxvZ3MuZmVlZGJhY2suc2hvdygpLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRleHQ6IFwidmlldyBvbiBnaXRodWJcIixcbiAgICAgICAgICAgICAgICBpY29uOiBcImdpdGh1YlwiLFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogXCJyZXN0XCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93Lm9wZW4oXCJodHRwczovL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lXCIpLFxuICAgICAgICAgICAgfSAgIFxuICAgICAgICBdXG4gICAgfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogZGVNZW51SWNvbixcbiAgICAgICAgZGVEcm9wZG93bjogYW0ubWVudURyb3Bkb3duLFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25TZWxlY3RTYXZlKCkge1xuXG4gICAgICAgIGFtLnN0b3JhZ2Uuc2hvd1NhdmVEaWFsb2coe1xuXG4gICAgICAgICAgICBnZXRTYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIG9wdCA9IGFtLnN0b3JhZ2UuZ2V0U2F2ZU9wdGlvbnMoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBhbS5wcm9qZWN0TWFwLmdldEN1cnJlbnRQcm9qZWN0KCkuZ2V0U2NyaXB0KG9wdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU2VsZWN0T3BlbigpIHtcblxuICAgICAgICBhbS5zdG9yYWdlLnNob3dPcGVuRGlhbG9nKHtcblxuICAgICAgICAgICAgb25PcGVuOiBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgICAgICAgICAgICAgYW0ucHJvamVjdE1hcC5vcGVuKHNhdmUucHJvamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwidmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0b29scyAoYW0pIHtcblxuICAgIGFtLmRlUGlja0xheWVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG5cbiAgICB2YXIgbW9kZSA9ICdwaWNrJztcblxuICAgIHZhciBjdXJzb3JzID0ge1xuICAgICAgICBpbnRlcmFjdDogJ2F1dG8nLFxuICAgICAgICBwaWNrOiAnYXV0bycsXG4gICAgICAgIG1vdmU6ICctd2Via2l0LWdyYWInLFxuICAgIH1cblxuICAgIHZhciBjdXJyTW9kZSwgbW9kZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlcmFjdCcsXG4gICAgICAgICAgICB0ZXh0OiAnbm9ybWFsIHBhZ2UgaW50ZXJhY3QnLFxuICAgICAgICAgICAgaWNvbjogJ2N1cnNvcicsXG4gICAgICAgICAgICBjdXJzb3I6ICdhdXRvJywgXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICdwaWNrJyxcbiAgICAgICAgICAgIHRleHQ6ICdkb20gcGlja2luZyBtb2RlJyxcbiAgICAgICAgICAgIGljb246ICd0YXJnZXQnLFxuICAgICAgICAgICAgY3Vyc29yOiAnYXV0bycsIFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnbW92ZScsXG4gICAgICAgICAgICB0ZXh0OiAnZHJhZyAnLFxuICAgICAgICAgICAgaWNvbjogJ21vdmUnLFxuICAgICAgICAgICAgY3Vyc29yOiAnLXdlYmtpdC1ncmFiJywgXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd6b29tJyxcbiAgICAgICAgICAgIHRleHQ6ICd6b29tICcsXG4gICAgICAgICAgICBpY29uOiAnem9vbS1pbicsXG4gICAgICAgICAgICBjdXJzb3I6ICctd2Via2l0LXpvb20taW4nLCAgXG4gICAgICAgIH0sXG4gICAgXVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0TW9kZShtKSB7XG5cbiAgICAgICAgaWYgKG0gPT09IGN1cnJNb2RlKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG0udHlwZSA9PT0gJ3pvb20nKSB7XG4gICAgICAgICAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyTW9kZSA9IG07XG5cbiAgICAgICAgYnRuLnNldEljb24oY3Vyck1vZGUuaWNvbik7XG5cbiAgICAgICAgYW0uZGVQaWNrTGF5ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IGN1cnJNb2RlLnR5cGUgPT09ICdpbnRlcmFjeScgPyAnbm9uZScgOiAnYXV0byc7XG4gICAgICAgIGFtLmRlUGlja0xheWVyLnN0eWxlLmN1cnNvciA9IGN1cnJNb2RlLmN1cnNvcjtcbiAgICB9XG5cbiAgICB2YXIgYnRuID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICd0b2dnbGUgZG9tIHBpY2tpbmcgbW9kZScsXG4gICAgICAgIGljb246ICd0YXJnZXQnLFxuICAgICAgICBkZWZhdWx0VG9nZ2xlOiB0cnVlLFxuICAgICAgICBzaXplOiAyNCxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICB9KTtcblxuICAgIGFtLl9zdGF0aWNUb29sYmFySWNvbnMucHVzaChidG4pO1xuXG4gICAgc2VsZWN0TW9kZShfLmZpbmQobW9kZXMsIHt0eXBlOiAncGljayd9KSk7XG5cbiAgICB2YXIgZHJvcGRvd24gPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIG9wdGlvbnM6IG1vZGVzLm1hcCgobSwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRleHQ6IG0udGV4dCwgXG4gICAgICAgICAgICAgICAgaWNvbjogbS5pY29uLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHNlbGVjdE1vZGUobW9kZXNbaWR4XSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7ZGVUYXJnZXQ6IGJ0biwgZGVEcm9wZG93bjogZHJvcGRvd259KTtcblxuICAgIGFtZ3VpLm9uKCdmb250TG9hZGVkJywgKCkgPT4ge1xuXG4gICAgICAgIHZhciBwaWNrTW9kZSA9IF8uZmluZChtb2Rlcywge3R5cGU6ICdwaWNrJ30pO1xuXG4gICAgICAgIHBpY2tNb2RlLmN1cnNvciA9IGFtZ3VpLmNyZWF0ZUN1cnNvckZyb21UZXh0KHtcbiAgICAgICAgICAgIGljb246ICd0YXJnZXQnLFxuICAgICAgICAgICAgY29sb3I6IGFtZ3VpLmNvbG9yLnRleHQsXG4gICAgICAgICAgICB3aWR0aDogMjIsXG4gICAgICAgICAgICBoZWlnaHQ6IDIyLFxuICAgICAgICAgICAgaG90c3BvdFg6IDExLFxuICAgICAgICAgICAgaG90c3BvdFk6IDExLFxuICAgICAgICAgICAgdGV4dFg6IDIsXG4gICAgICAgICAgICBzdHJva2U6IHtjb2xvcjonYmxhY2snLCB3aWR0aDogMn0sXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYW0uZGVQaWNrTGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAgZSA9PiB7XG5cbiAgICAgICAgaWYgKGN1cnJNb2RlLnR5cGUgIT09ICdwaWNrJykgcmV0dXJuO1xuXG4gICAgICAgIGFtLmRlUGlja0xheWVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS54LCBlLnkpO1xuICAgICAgICBhbS5kZVBpY2tMYXllci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgICAgIGlmIChhbS5pc1BpY2thYmxlRG9tRWxlbShkZSkpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRlICE9PSBhbS5zZWxlY3RlZERvbUVsZW0pIHsvL2hhY2shXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYW0uZG9tUGlja2VyLmZvY3VzRWxlbShkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGUgPT09IGRvY3VtZW50LmJvZHkgfHwgZGUucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQpIHtcblxuICAgICAgICAgICAgYW0uZGVzZWxlY3REb21FbGVtKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogYW0uZGVQaWNrTGF5ZXIsXG4gICAgICAgIG9uRG93bjogZSA9PiB7XG4gICAgICAgICAgICBpZiAoY3Vyck1vZGUudHlwZSAhPT0gJ21vdmUnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRHJhZzogZSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtlLmR4fXB4LCAke2UuZHl9cHgpYDtcbiAgICAgICAgICAgIGFtLnJvb3RFbGVtLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHstZS5keH1weCwgJHstZS5keX1weClgO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuXG4gICAgYW0udG9QaWNraW5nTW9kZSA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgICAgICBhbS5kZUd1aUNvbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgYW0uZGVEaWFsb2dDb250LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgYW0uZG9tUGlja2VyLm9uKCdhZGQnLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBlLmRlbWFuZCgtMSkudGhlbigoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0Lm9uUGljaykgb3B0Lm9uUGljayhlLnRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNob3J0Y3V0cy5vbignZXNjJywgY2xvc2UpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICBpZiAob3B0Lm9uQ2xvc2UpIG9wdC5vbkNsb3NlKCk7XG5cbiAgICAgICAgICAgIHNob3J0Y3V0cy5vZmYoJ2VzYycsIGNsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cbn07IiwibW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9e1xuICAgIFwidHlwZVwiOiBcImNvbnRhaW5lclwiLFxuICAgIFwiZGlyZWN0aW9uXCI6IFwiY29sdW1uXCIsXG4gICAgXCJjaGlsZHJlblwiOiBbe1xuICAgICAgICBcInR5cGVcIjogXCJjb250YWluZXJcIixcbiAgICAgICAgXCJkaXJlY3Rpb25cIjogXCJyb3dcIixcbiAgICAgICAgXCJzaXplXCI6IDIuNyxcbiAgICAgICAgXCJzY2FsZU1vZGVcIjogXCJmbGV4XCIsXG4gICAgICAgIFwiY2hpbGRyZW5cIjogW3tcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInBhbmVsXCIsXG4gICAgICAgICAgICBcInNpemVcIjogMSxcbiAgICAgICAgICAgIFwic2NhbGVNb2RlXCI6IFwiZmxleFwiLFxuICAgICAgICAgICAgXCJ0YWJzXCI6IFtcbiAgICAgICAgICAgICAgICB7XCJuYW1lXCI6IFwiQ3NzIFN0eWxlXCJ9LCBcbiAgICAgICAgICAgICAgICB7XCJuYW1lXCI6IFwiRG9tIFRyZWVcIn0sIFxuICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogXCJIaXN0b3J5XCJ9LFxuICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogXCJQcm9qZWN0XCJ9IFxuICAgICAgICAgICAgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJwYW5lbFwiLFxuICAgICAgICAgICAgXCJlbXB0eVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJzaXplXCI6IDIuNyxcbiAgICAgICAgICAgIFwic2NhbGVNb2RlXCI6IFwiZmxleFwiXG4gICAgICAgIH1dXG4gICAgfSwge1xuICAgICAgICBcInR5cGVcIjogXCJwYW5lbFwiLFxuICAgICAgICBcInNpemVcIjogMSxcbiAgICAgICAgXCJzY2FsZU1vZGVcIjogXCJmbGV4XCIsXG4gICAgICAgIFwibm9IZWFkXCI6IHRydWUsXG4gICAgICAgIFwidGFic1wiOiBbe1wibmFtZVwiOiBcInRpbWVsaW5lXCJ9XVxuICAgIH1dXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVCZXppZXJFZGl0b3I6IGNyZWF0ZUJlemllckVkaXRvcixcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVCZXppZXJFZGl0b3Iob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgcDAgPSB7eDogMC4zLCB5OiAwLjN9LFxuICAgICAgICBwMSA9IHt4OiAwLjcsIHk6IDAuN30sXG4gICAgICAgIHcgPSBvcHQud2lkdGggfHwgMzEyLFxuICAgICAgICBoID0gb3B0LmhlaWdodCB8fCAzMTIsXG4gICAgICAgIGN1cnJFYXNlO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG5cbiAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGMud2lkdGggPSB3O1xuICAgIGMuaGVpZ2h0ID0gaDtcbiAgICBkZS5hcHBlbmRDaGlsZChjKTtcblxuICAgIHZhciBjdHggPSBjLmdldENvbnRleHQoJzJkJyk7XG4gIFxuICAgIHZhciBkZUNwMCA9IGNyZWF0ZUNwKHAwKTtcbiAgICB2YXIgZGVDcDEgPSBjcmVhdGVDcChwMSk7XG5cbiAgICBkZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gW3AwLngsIHAwLnksIHAxLngsIHAxLnldO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRQb2ludHMocG9pbnRzKSB7XG5cbiAgICAgICAgcDAueCA9IHBvaW50c1swXTtcbiAgICAgICAgcDAueSA9IHBvaW50c1sxXTtcbiAgICAgICAgcDEueCA9IHBvaW50c1syXTtcbiAgICAgICAgcDEueSA9IHBvaW50c1szXTtcbiAgICAgICAgXG4gICAgICAgIHJlbmRlcigpO1xuICAgIH07XG5cbiAgICBkZS5zZXRFYXNlID0gZnVuY3Rpb24gKGVhc2UpIHtcblxuICAgICAgICBpZiAoY3VyckVhc2UpIHtcbiAgICAgICAgICAgIGVhc2Uub2ZmKCdjaGFuZ2UnLCBvbkNoYW5nZUVhc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VyckVhc2UgPSBlYXNlO1xuXG4gICAgICAgIGlmIChjdXJyRWFzZSkge1xuICAgICAgICAgICAgZWFzZS5vbignY2hhbmdlJywgb25DaGFuZ2VFYXNlKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlRWFzZSgpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCk7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG4gIFxuICAgIHJldHVybiBkZTtcbiAgXG5cbiAgXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VFYXNlKCkge1xuICAgICAgICBcbiAgICAgICAgc2V0UG9pbnRzKGN1cnJFYXNlLnBvaW50cyk7XG5cbiAgICAgICAgcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyICgpIHtcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpO1xuXG4gICAgICAgIHJlbmRlckVhc2UoKTtcbiAgICAgICAgcmVuZGVyR3VpZGVzKCk7XG4gICAgICBcbiAgICAgICAgZGVDcDAucmVmcmVzaFBvc2l0aW9uKCk7XG4gICAgICAgIGRlQ3AxLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckVhc2UoKSB7XG5cbiAgICAgICAgaWYgKCFjdXJyRWFzZSkgcmV0dXJuO1xuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4KDApLCB5KGN1cnJFYXNlLmdldFJhdGlvKDApKSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3OyArK2kpIHtcbiAgICAgICAgICAgIGxldCBfeCA9IHgoaS93KSwgX3kgPSB5KGN1cnJFYXNlLmdldFJhdGlvKGkvdykpLCBfciA9IGN1cnJFYXNlLmdldFJhdGlvKGkvdyk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHgoaS93KSwgeShjdXJyRWFzZS5nZXRSYXRpbyhpL3cpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBhbWd1aS5jb2xvci5hcXVhO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckd1aWRlcygpIHtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeChwMC54KSwgeShwMC55KSk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgeSgwKSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgICAgICAgICAgeChwMC54KSwgeShwMC55KSxcbiAgICAgICAgICAgIHgocDEueCksIHkocDEueSksXG4gICAgICAgICAgICB4KDEpLCB5KDEpKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4KHAxLngpLCB5KHAxLnkpKTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoeCgwKSwgeSgwKSwgeCgxKSwgeSgxKSAtIHkoMCkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24geCAocCkge1xuICAgICAgICByZXR1cm4gcCAqIHc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24geSAocCkge1xuXG4gICAgICAgIHZhciBtaW4gPSBtaW5ZKCksXG4gICAgICAgICAgICBtYXggPSBtYXhZKCksXG4gICAgICAgICAgICBmdWxsID0gbWF4IC0gbWluO1xuXG4gICAgICAgIHJldHVybiBoIC0gKCgocCAtIG1pbikgLyBmdWxsKSAqIGgpO1xuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gbWluWSgpIHtcbiAgICBcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKDAsIHAwLnksIHAxLnkpO1xuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gbWF4WSgpIHtcbiAgICBcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDEsIHAwLnksIHAxLnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZnJlc2hFYXNlKCkge1xuXG4gICAgICAgIGlmICghY3VyckVhc2UpIHJldHVybjtcblxuICAgICAgICBjdXJyRWFzZS5wb2ludHMgPSBkZS5nZXRWYWx1ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNwKHBvaW50KSB7XG5cbiAgICAgICAgdmFyIHIgPSA2O1xuXG4gICAgICAgIHZhciBkZUNwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlQ3Auc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZUNwLnN0eWxlLmN1cnNvciA9ICdncmFiJztcbiAgICAgICAgZGVDcC5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG4gICAgICAgIGRlQ3Auc3R5bGUud2lkdGggPSByKjIgKyAncHgnO1xuICAgICAgICBkZUNwLnN0eWxlLmhlaWdodCA9IHIqMiArICdweCc7XG4gICAgICAgIGRlQ3Auc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtJytyKydweCwtJytyKydweCknO1xuICAgICAgICBkZUNwLnN0eWxlLmJvcmRlclJhZGl1cyA9IHIgKyAncHgnO1xuICAgICAgICBkZUNwLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgyNTYsIDI1NiwgMjU2LCAxKSc7XG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGRlQ3ApO1xuICAgICAgXG4gICAgICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IGRlQ3AsXG4gICAgICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICBkZUNwLnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWQgPSB7fTtcbiAgICAgICAgICAgICAgICBtZC5taW5ZID0gbWluWSgpO1xuICAgICAgICAgICAgICAgIG1kLmZ1bGxZID0gbWF4WSgpIC0gbWQubWluWTsgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1kO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgICAgICAgICAgICAgIHZhciBiciA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChteCAtIGJyLmxlZnQpIC8gdykpO1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSAoKChici5ib3R0b20gLSBteSkgLyBoKSAqIG1kLmZ1bGxZKSAtIG1kLm1pblk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDEwMDA7XG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IHBhcnNlSW50KHBvaW50LnggKiBmaXgpIC8gZml4O1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSBwYXJzZUludChwb2ludC55ICogZml4KSAvIGZpeDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZWZyZXNoRWFzZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGRlQ3Auc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgICBkZUNwLnJlZnJlc2hQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZGVDcC5zdHlsZS5sZWZ0ID0geChwb2ludC54KSArICdweCc7XG4gICAgICAgICAgICBkZUNwLnN0eWxlLnRvcCA9IHkocG9pbnQueSkgKyAncHgnO1xuICAgICAgICB9O1xuICAgICAgICBkZUNwLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgICAgXG4gICAgICAgIHJldHVybiBkZUNwO1xuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUJyZWFkY3J1bWJzOiBjcmVhdGVCcmVhZGNydW1icyxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVCcmVhZGNydW1icyhvcHQpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBjcnVtYnMgPSBbXTtcblxuICAgIC8vIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIC8vIGRlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIGNydW1iID0gZ2V0Q3J1bWJCeURlKGUudGFyZ2V0KTtcblxuICAgICAgICBpZiAoY3J1bWIpIHtcblxuICAgICAgICAgICAgaWYgKGNydW1iLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgY3J1bWIub25TZWxlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbGVjdCcsIHtkZXRhaWw6IHtzZWxlY3Rpb246IGNydW1ifX0pKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdC5vblNlbGVjdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIG9wdC5vblNlbGVjdCk7XG4gICAgfVxuXG4gICAgZGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoX2NydW1icykge1xuXG4gICAgICAgIHJlbW92ZUl0ZW1zKCk7XG5cbiAgICAgICAgX2NydW1icy5mb3JFYWNoKGZ1bmN0aW9uIChjcnVtYikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjcnVtYi5kb21FbGVtID0gY3JlYXRlQ3J1bWIoY3J1bWIubmFtZSwgY3J1bWIudmFsdWUpO1xuICAgICAgICAgICAgY3J1bWIuZGVTbGFzaCA9IGNyZWF0ZVNsYXNoKCk7XG4gICAgICAgICAgICBjcnVtYnMucHVzaChjcnVtYik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGU7XG5cblxuXG5cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKCkge1xuXG4gICAgICAgIHZhciBjcnVtYjtcblxuICAgICAgICB3aGlsZSAoY3J1bWJzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBjcnVtYiA9IGNydW1icy5wb3AoKTtcblxuICAgICAgICAgICAgY3J1bWIuZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNydW1iLmRvbUVsZW0pO1xuICAgICAgICAgICAgY3J1bWIuZGVTbGFzaC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNydW1iLmRlU2xhc2gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q3J1bWJCeURlKGRlQ3J1bWIpIHtcblxuICAgICAgICByZXR1cm4gY3J1bWJzLmZpbmQoY3J1bWIgPT4gY3J1bWIuZG9tRWxlbSA9PT0gZGVDcnVtYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3J1bWIobmFtZSwgdmFsdWUpIHtcblxuICAgICAgICB2YXIgZGVDaHJ1bWIgPSBjcmVhdGVMaShuYW1lKTtcblxuICAgICAgICByZXR1cm4gZGVDaHJ1bWI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2xhc2goKSB7XG5cbiAgICAgICAgdmFyIGRlU2xhc2ggPSBjcmVhdGVMaSgnIC8gJyk7XG4gICAgICAgIGRlU2xhc2guc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICByZXR1cm4gZGVTbGFzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMaShjb250ZW50KSB7XG5cbiAgICAgICAgcmV0dXJuIGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgICAgICBwYXJlbnQ6IGRlLFxuICAgICAgICB9KTtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVJY29uOiBjcmVhdGVJY29uLFxuICAgICAgICBjcmVhdGVMYWJlbDogY3JlYXRlTGFiZWwsXG4gICAgICAgIGNyZWF0ZUJ0bjogY3JlYXRlQnRuLFxuICAgICAgICBjcmVhdGVJY29uQnRuOiBjcmVhdGVJY29uQnRuLFxuICAgICAgICBjcmVhdGVUb2dnbGVJY29uQnRuOiBjcmVhdGVUb2dnbGVJY29uQnRuLFxuICAgICAgICBjcmVhdGVMaW5lYnJlYWs6IGNyZWF0ZUxpbmVicmVhayxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVMaW5lYnJlYWsob3B0KSB7XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpO1xuXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMYWJlbChvcHQpIHtcblxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZURpdihvcHQpLFxuICAgICAgICBkZUljb25MZWZ0LCBkZUljb25SaWdodCxcbiAgICAgICAgZGVUZXh0ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogZGUsXG4gICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lJ1xuICAgICAgICB9KTtcblxuICAgIGRlLnN0eWxlLmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgIGRlLnN0eWxlLmZvbnRTaXplID0gb3B0LmZvbnRTaXplIHx8IGFtZ3VpLkZPTlRfU0laRTtcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gb3B0LmRpc3BsYXkgfHwgJ2lubGluZS1ibG9jayc7XG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIGRlLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3Bvc2l0aW9uJyBpbiBvcHQpIGRlLnN0eWxlLnBvc2l0aW9uID0gb3B0LnBvc2l0aW9uO1xuICAgIGlmICgnY29sb3InIGluIG9wdCkgZGUuc3R5bGUuY29sb3IgPSBvcHQuY29sb3I7XG4gICAgaWYgKCdmb250V2VpZ2h0JyBpbiBvcHQpIGRlLnN0eWxlLmZvbnRXZWlnaHQgPSBvcHQuZm9udFdlaWdodDtcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGUsIHtcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGRlVGV4dC5pbm5lckhUTUwgPSB2IHx8ICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZVRleHQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pY29uTGVmdCA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGljb25MZWZ0OiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2ICYmICFkZUljb25MZWZ0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCFkZUljb25MZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlSWNvbkxlZnQgID0gYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogb3B0LmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVJY29uTGVmdC5zdHlsZS5tYXJnaW5SaWdodCA9ICczcHgnO1xuICAgICAgICAgICAgICAgICAgICBkZS5pbnNlcnRCZWZvcmUoZGVJY29uTGVmdCwgZGVUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVJY29uTGVmdC5zZXRJY29uKHYpO1xuICAgICAgICAgICAgICAgIGRlSWNvbkxlZnQuc3R5bGUuZGlzcGxheSA9IHYgPyAnaW5saW5lJyA6ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaWNvblJpZ2h0OiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2ICYmICFkZUljb25SaWdodCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghZGVJY29uUmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVJY29uUmlnaHQgID0gYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogb3B0LmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVJY29uUmlnaHQuc3R5bGUubWFyZ2luTGVmdCA9ICczcHgnO1xuICAgICAgICAgICAgICAgICAgICBkZS5hcHBlbmRDaGlsZChkZUljb25SaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlSWNvblJpZ2h0LnNldEljb24odik7XG4gICAgICAgICAgICAgICAgZGVJY29uUmlnaHQuc3R5bGUuZGlzcGxheSA9IHYgPyAnaW5saW5lJyA6ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGUudGV4dCA9IG9wdC50ZXh0O1xuICAgIGRlLmljb25MZWZ0ID0gb3B0Lmljb25MZWZ0IHx8IG9wdC5pY29uO1xuICAgIGRlLmljb25SaWdodCA9IG9wdC5pY29uUmlnaHQ7XG5cbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ0bihvcHQpIHtcblxuICAgIG9wdC5iYWNrZ3JvdW5kID0gb3B0LmJhY2tncm91bmQgfHwgYW1ndWkuY29sb3IuYmcxO1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KG9wdCk7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gKG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQpICsgJ3B4JztcbiAgICBkZS5zdHlsZS5mb250U2l6ZSA9IChvcHQuZm9udFNpemUgfHwgYW1ndWkuRk9OVF9TSVpFKTtcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gb3B0LmRpc3BsYXkgfHwgJ2lubGluZS1ibG9jayc7XG4gICAgZGUuc3R5bGUucGFkZGluZyA9ICcwIDVweCc7XG4gICAgZGUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGUsIHtcblxuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICBkZS50ZXh0Q29udGVudCA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlLnRleHQgPSBvcHQudGV4dCB8fCBvcHQuY2FwdGlvbiB8fCAnYnV0dG9uJztcblxuICAgIGJlaGF2aW9yQnRuKGRlLCBvcHQpO1xuXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJY29uQnRuKG9wdCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlSWNvbihvcHQpO1xuICAgIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICBiZWhhdmlvckJ0bihkZSwgb3B0KTtcblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gYmVoYXZpb3JCdG4oZGUsIG9wdCkge1xuXG4gICAgdmFyIF9pbmFjdGl2ZSA9IGZhbHNlLFxuICAgICAgICBfZml4ZWRIaWdobGlnaHQgPSBmYWxzZSxcbiAgICAgICAgX21vdXNlT3ZlciA9IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kID0gb3B0LmJhY2tncm91bmQgfHwgJ25vbmUnLFxuICAgICAgICBiYWNrZ3JvdW5kSG92ZXIgPSBvcHQuYmFja2dyb3VuZEhvdmVyIHx8IGFtZ3VpLmNvbG9yLmJnSG92ZXI7XG5cbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25NT3Zlcik7XG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTU91dCk7XG5cbiAgICBpZiAoJ29uQ2xpY2snIGluIG9wdCkge1xuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdC5vbkNsaWNrKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkZSwge1xuXG4gICAgICAgIGluYWN0aXZlOiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgICAgIGlmIChfaW5hY3RpdmUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIF9pbmFjdGl2ZSA9IHY7XG4gICAgICAgICAgICAgICAgcmVmcmVzaERlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2luYWN0aXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaXhlZEhpZ2hsaWdodDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICAgICAgdiA9ICEhdjtcbiAgICAgICAgICAgICAgICBpZiAoX2ZpeGVkSGlnaGxpZ2h0ID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBfZml4ZWRIaWdobGlnaHQgPSB2O1xuICAgICAgICAgICAgICAgIHJlZnJlc2hEZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9maXhlZEhpZ2hsaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJlZnJlc2hEZSgpO1xuXG4gICAgZnVuY3Rpb24gb25NT3ZlcigpIHtcblxuICAgICAgICBfbW91c2VPdmVyID0gdHJ1ZTtcbiAgICAgICAgcmVmcmVzaERlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NT3V0KCkge1xuXG4gICAgICAgIF9tb3VzZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgcmVmcmVzaERlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaERlKCkge1xuXG4gICAgICAgIGRlLnN0eWxlLm9wYWNpdHkgPSBfaW5hY3RpdmUgPyAuNDMgOiAxO1xuICAgICAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gX2luYWN0aXZlID8gJ25vbmUnIDogJ2F1dG8nO1xuICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gKF9tb3VzZU92ZXIgfHwgX2ZpeGVkSGlnaGxpZ2h0KSA/IGJhY2tncm91bmRIb3ZlciA6IGJhY2tncm91bmQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUb2dnbGVJY29uQnRuKG9wdCkge1xuXG4gICAgb3B0Lmljb25PbiA9IG9wdC5pY29uT24gfHwgb3B0Lmljb247XG4gICAgb3B0Lmljb25PZmYgPSBvcHQuaWNvbk9mZiB8fCBvcHQuaWNvbjtcbiAgICBvcHQub25Db2xvciA9IG9wdC5vbkNvbG9yIHx8IG9wdC5jb2xvciB8fCBhbWd1aS5jb2xvci50ZXh0O1xuICAgIG9wdC5vZmZDb2xvciA9IG9wdC5vZmZDb2xvciB8fCBvcHQuY29sb3IgfHwgYW1ndWkuY29sb3IudGV4dEluYWN0aXZlO1xuXG4gICAgdmFyIGlzT24gPSBvcHQuZGVmYXVsdFRvZ2dsZSB8fCBmYWxzZTtcbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVJY29uQnRuKG9wdCk7XG4gICAgc2V0SWNvbigpO1xuXG4gICAgaWYgKCdhdXRvVG9nZ2xlJyBpbiBvcHQgPyBvcHQuYXV0b1RvZ2dsZSA6ICFvcHQub25DbGljaykge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Ub2dnbGVDbGljayk7XG4gICAgfVxuXG4gICAgaWYgKCdvblRvZ2dsZScgaW4gb3B0KSB7XG5cbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcigndG9nZ2xlJywgb3B0Lm9uVG9nZ2xlKTtcbiAgICB9XG5cbiAgICBpZiAoJ29uQ2xpY2snIGluIG9wdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0Lm9uQ2xpY2spO1xuICAgIH1cblxuICAgIGRlLnNldFRvZ2dsZSA9IGZ1bmN0aW9uIChvbikge1xuXG4gICAgICAgIG9uID0gISFvbjtcbiAgICAgICAgaWYgKG9uID09PSBpc09uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpc09uID0gb247XG4gICAgICAgIHNldEljb24oKTtcblxuICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndG9nZ2xlJywge2RldGFpbDoge3N0YXRlOiBpc09ufX0pKTtcbiAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoaXNPbiA/ICd0b2dnbGVPbicgOiAndG9nZ2xlT2ZmJykpO1xuICAgIH07XG5cbiAgICBkZS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gaXNPbjtcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBvblRvZ2dsZUNsaWNrKCkge1xuXG4gICAgICAgIGRlLnNldFRvZ2dsZSghaXNPbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SWNvbigpIHtcblxuICAgICAgICBkZS5zZXRJY29uKGlzT24gPyBvcHQuaWNvbk9uIDogb3B0Lmljb25PZmYpO1xuXG4gICAgICAgIGlmIChvcHQuY2hhbmdlQ29sb3IpIHtcbiAgICAgICAgICAgIGRlLnN0eWxlLmNvbG9yID0gaXNPbiA/IG9wdC5vbkNvbG9yIDogb3B0Lm9mZkNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJY29uKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuICAgIG9wdC5zaXplID0gb3B0LnNpemUgfHwgb3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVDtcblxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gb3B0LmNvbG9yIHx8IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgZGUuc3R5bGUud2lkdGggPSAob3B0LndpZHRoIHx8IG9wdC5zaXplKSArICdweCc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gKG9wdC5oZWlnaHQgfHwgb3B0LnNpemUpICsgJ3B4JztcbiAgICBkZS5zdHlsZS5saW5lSGVpZ2h0ID0gb3B0LnNpemUgKyAncHgnO1xuICAgIGRlLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGRlLnN0eWxlLmZvbnRGYW1pbHkgPSAnYW1ndWknO1xuICAgIGRlLnN0eWxlLmZvbnRTaXplID0gTWF0aC5yb3VuZChvcHQuc2l6ZSAqIDAuNzIpICsgJ3B4JztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gb3B0LmRpc3BsYXkgfHwgJ2Jsb2NrJztcblxuICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBkZS5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cbiAgICBkZS5zZXRJY29uID0gZnVuY3Rpb24gKGljb24pIHtcblxuICAgICAgICB0ZXh0Tm9kZS50ZXh0Q29udGVudCA9IGFtZ3VpLmdldEljb25DaGFyKGljb24pO1xuICAgIH07XG5cbiAgICBkZS5zZXRJY29uKG9wdC5pY29uKTtcblxuICAgIGlmIChvcHQudG9vbHRpcCkge1xuICAgICAgICBhbWd1aS5hZGRUb29sdGlwKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgICAgIHRleHQ6IG9wdC50b29sdGlwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQ2hlY2tib3g6IGNyZWF0ZUNoZWNrYm94LFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3gob3B0KSB7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgcGFyZW50OiBvcHQucGFyZW50LFxuICAgICAgICB9KSxcbiAgICAgICAgaXNDaGVja2VkID0gZmFsc2U7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkZSwge1xuICAgICAgICBjaGVja2VkOiB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICB2ID0gISF2O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tlZCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaXNDaGVja2VkID0gdjtcblxuICAgICAgICAgICAgICAgIGNiLnNldFRvZ2dsZShpc0NoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NoYW5nZScsIHtjaGVja2VkOiBpc0NoZWNrZWR9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ2hlY2tlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGxhYmVsLnRleHQgPSB2O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbC50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgY2IgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgaWNvbk9uOiAnY2hlY2snLFxuICAgICAgICBpY29uT2ZmOiAnY2hlY2stZW1wdHknLFxuICAgICAgICBwYXJlbnQ6IGRlLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICB9KTtcblxuICAgIHZhciBsYWJlbCA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogb3B0LnRleHQsXG4gICAgICAgIHBhcmVudDogZGUsXG4gICAgfSk7XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBkZS5jaGVja2VkID0gIWRlLmNoZWNrZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAob3B0Lm9uQ2hhbmdlKSB7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9wdC5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgZGUuY2hlY2tlZCA9IG9wdC5jaGVja2VkO1xuXG4gICAgcmV0dXJuIGRlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVDdXJzb3JGcm9tVGV4dDogY3JlYXRlQ3Vyc29yRnJvbVRleHQsXG4gICAgfTtcbn07XG5cbnZhciBidWZmID0gW107XG5cbmZ1bmN0aW9uIGNyZWF0ZUN1cnNvckZyb21UZXh0KG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuICAgIG9wdC53aWR0aCA9IG9wdC53aWR0aCB8fCAyNDtcbiAgICBvcHQuaGVpZ2h0ID0gb3B0LmhlaWdodCB8fCAyNDtcbiAgICBvcHQuaG90c3BvdFggPSAnaG90c3BvdFgnIGluIG9wdCA/IG9wdC5ob3RzcG90WCA6IG9wdC53aWR0aCAvIDI7XG4gICAgb3B0LmhvdHNwb3RZID0gJ2hvdHNwb3RZJyBpbiBvcHQgPyBvcHQuaG90c3BvdFkgOiBvcHQuaGVpZ2h0IC8gMjtcbiAgICBvcHQudGV4dFggPSBvcHQudGV4dFggfHwgMDtcbiAgICBvcHQudGV4dFkgPSBvcHQudGV4dFkgfHwgMDtcbiAgICBvcHQuZm9udEZhbWlseSA9IG9wdC5mb250RmFtaWx5IHx8ICdhbWd1aSc7XG4gICAgb3B0LmZvbnRTaXplID0gb3B0LmZvbnRTaXplIHx8IG9wdC5oZWlnaHQgKyAncHgnO1xuICAgIG9wdC5jb2xvciA9IG9wdC5jb2xvciB8fCAnIzAwMCc7XG4gICAgb3B0LnJvdGF0ZSA9IG9wdC5yb3RhdGUgfHwgMDtcbiAgICBvcHQucm90YXRlT3JpZ2luWCA9IG9wdC5yb3RhdGVPcmlnaW5YIHx8IDA7XG4gICAgb3B0LnJvdGF0ZU9yaWdpblkgPSBvcHQucm90YXRlT3JpZ2luWSB8fCAwO1xuICAgIG9wdC50ZXh0ID0gb3B0LnRleHQgfHwgKG9wdC5pY29uICYmIGFtZ3VpLmdldEljb25DaGFyKG9wdC5pY29uKSkgfHwgJ0EnO1xuICAgIFxuICAgIHZhciBidWZmZXJlZCA9IGJ1ZmYuZmluZChmdW5jdGlvbihiKSB7XG5cbiAgICAgICAgaWYgKGIub3B0LndpZHRoID09PSBvcHQud2lkdGggJiZcbiAgICAgICAgICAgIGIub3B0LmhlaWdodCA9PT0gb3B0LmhlaWdodCAmJlxuICAgICAgICAgICAgYi5vcHQuaG90c3BvdFggPT09IG9wdC5ob3RzcG90WCAmJlxuICAgICAgICAgICAgYi5vcHQuaG90c3BvdFkgPT09IG9wdC5ob3RzcG90WSAmJlxuICAgICAgICAgICAgYi5vcHQudGV4dFggPT09IG9wdC50ZXh0WCAmJlxuICAgICAgICAgICAgYi5vcHQudGV4dFkgPT09IG9wdC50ZXh0WSAmJlxuICAgICAgICAgICAgYi5vcHQuZm9udEZhbWlseSA9PT0gb3B0LmZvbnRGYW1pbHkgJiZcbiAgICAgICAgICAgIGIub3B0LmZvbnRTaXplID09PSBvcHQuZm9udFNpemUgJiZcbiAgICAgICAgICAgIGIub3B0LmNvbG9yID09PSBvcHQuY29sb3IgJiZcbiAgICAgICAgICAgIGIub3B0LnJvdGF0ZSA9PT0gb3B0LnJvdGF0ZSAmJlxuICAgICAgICAgICAgYi5vcHQucm90YXRlT3JpZ2luWCA9PT0gb3B0LnJvdGF0ZU9yaWdpblggJiZcbiAgICAgICAgICAgIGIub3B0LnJvdGF0ZU9yaWdpblkgPT09IG9wdC5yb3RhdGVPcmlnaW5ZICYmXG4gICAgICAgICAgICBiLm9wdC50ZXh0ID09PSBvcHQudGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChidWZmZXJlZCkge1xuXG4gICAgICAgIHJldHVybiBidWZmZXJlZC51cmw7XG4gICAgfVxuICBcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXG4gICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIFxuICAgIGNhbnZhcy53aWR0aCA9IG9wdC53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gb3B0LmhlaWdodDtcbiAgICBcbiAgICBjdHgudHJhbnNsYXRlKG9wdC5yb3RhdGVPcmlnaW5YLCBvcHQucm90YXRlT3JpZ2luWSk7XG4gICAgY3R4LnJvdGF0ZShvcHQucm90YXRlKTtcbiAgICBjdHgudHJhbnNsYXRlKC1vcHQucm90YXRlT3JpZ2luWCwgLW9wdC5yb3RhdGVPcmlnaW5ZKTtcbiAgXG4gICAgY3R4LmZvbnQgPSBvcHQuZm9udFNpemUgKyAnICcgKyBvcHQuZm9udEZhbWlseTtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gIFxuICAgIGlmIChvcHQuc3Ryb2tlKSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG9wdC5zdHJva2UuY29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBvcHQuc3Ryb2tlLndpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlVGV4dChvcHQudGV4dCwgb3B0LnRleHRYLCBvcHQudGV4dFkpO1xuICAgIH1cbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gb3B0LmNvbG9yO1xuICAgIGN0eC5maWxsVGV4dChvcHQudGV4dCwgb3B0LnRleHRYLCBvcHQudGV4dFkpO1xuXG4gICAgaWYgKG9wdC5kZWJ1Zykge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnbGltZSc7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAnMyc7XG4gICAgICAgIGN0eC5yZWN0KDAsIDAsIG9wdC53aWR0aCwgb3B0LmhlaWdodCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XG4gICAgICAgIGN0eC5maWxsUmVjdChvcHQuaG90c3BvdFgsIG9wdC5ob3RzcG90WSwgMSwgMSk7XG4gICAgfVxuICAgIFxuICAgIHZhciB1cmkgPSBjYW52YXMudG9EYXRhVVJMKCksXG4gICAgICAgIHVybCA9ICd1cmwoXFwnJyArIHVyaSArICdcXCcpICcrb3B0LmhvdHNwb3RYKycgJytvcHQuaG90c3BvdFkrJywgYXV0byc7XG5cbiAgICBidWZmLnB1c2goe1xuICAgICAgICBvcHQ6IG9wdCxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRvbXJlYWR5ID0gcmVxdWlyZSgnZG9tcmVhZHknKTtcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlRGlhbG9nOiBjcmVhdGVEaWFsb2csXG4gICAgfTtcbn07XG5cblxuXG5mdW5jdGlvbiBjcmVhdGVEaWFsb2cob3B0KSB7XG5cbiAgICB2YXIgZGUsIGRlVGl0bGUsIGRlVGl0bGVUZXh0LCBkZVRpdGxlSWNvbiwgZGVUaXRsZUVuZCxcbiAgICAgICAgZGVDb250ZW50Q29udCwgZGVCdXR0b25zQ29udCwgZGVCdXR0b25zRW5kLCBidXR0b25zID0gW107XG5cbiAgICBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpYWxvZycpO1xuXG4gICAgZG9tcmVhZHkoKCkgPT4gKG9wdC5wYXJlbnQgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZGUpKTtcblxuICAgIGRlLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuXG4gICAgZGVUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlVGl0bGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlVGl0bGUuc3R5bGUucGFkZGluZyA9ICcwIDE4cHgnO1xuICAgIGRlVGl0bGUuc3R5bGUuaGVpZ2h0ID0gJzM0cHgnO1xuICAgIGRlVGl0bGUuc3R5bGUuZm9udFNpemUgPSAnMjNweCc7XG4gICAgZGVUaXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJzcwMCc7XG4gICAgZGVUaXRsZS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheTtcbiAgICBkZVRpdGxlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICBkZS5hcHBlbmRDaGlsZChkZVRpdGxlKTtcblxuICAgIGRlVGl0bGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGRlVGl0bGUuYXBwZW5kQ2hpbGQoZGVUaXRsZVRleHQpO1xuXG4gICAgaWYgKG9wdC50aXRsZUljb24pIHtcblxuICAgICAgICBkZVRpdGxlSWNvbiA9IGFtZ3VpLmNyZWF0ZUljb24oe1xuICAgICAgICAgICAgaWNvbjogb3B0LnRpdGxlSWNvbixcbiAgICAgICAgICAgIHBhcmVudDogZGVUaXRsZSxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZVRpdGxlRW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS53aWR0aCA9ICcwJztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnYm90dG9tJztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLmJvcmRlcldpZHRoID0gJzM0cHggMCAwIDhweCc7XG4gICAgZGVUaXRsZUVuZC5zdHlsZS5ib3JkZXJDb2xvciA9ICd0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAnICsgYW1ndWkuY29sb3Iub3ZlcmxheTtcbiAgICBkZS5hcHBlbmRDaGlsZChkZVRpdGxlRW5kKTtcblxuICAgIFxuXG4gICAgZGVDb250ZW50Q29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQ29udGVudENvbnQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVDb250ZW50Q29udCk7XG5cbiAgICBkZUJ1dHRvbnNDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheTtcbiAgICBkZUJ1dHRvbnNDb250LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZUJ1dHRvbnNDb250LnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICBkZS5hcHBlbmRDaGlsZChkZUJ1dHRvbnNDb250KTtcblxuXG4gICAgZGUuc2V0VGl0bGUgPSBmdW5jdGlvbiAodGl0bGUpIHtcblxuICAgICAgICBkZVRpdGxlVGV4dC50ZXh0Q29udGVudCA9IHRpdGxlIHx8ICdEaWFsb2cnO1xuICAgIH07XG5cbiAgICBkZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcblxuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlQ29udGVudENvbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGRlQ29udGVudENvbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgfTtcblxuICAgIGRlLnNldEJ1dHRvbnMgPSBmdW5jdGlvbiAoYnV0dG9ucykge1xuXG4gICAgICAgIGlmICghYnV0dG9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9ucy5sZW5ndGggPSBbXTtcbiAgICAgICAgZGVCdXR0b25zQ29udC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bkRhdGEpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHR5cGVvZihidG5EYXRhKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkZS5hZGRCdXR0b24oYnRuRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZS5hZGRCdXR0b24oYnRuRGF0YS50ZXh0LCBidG5EYXRhLm9uQ2xpY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGUuYWRkQnV0dG9uID0gZnVuY3Rpb24gKHRleHQsIGhhbmRsZXIpIHtcblxuICAgICAgICB2YXIgYnRuID0gYW1ndWkuY3JlYXRlQnRuKHtcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsMCwwLDApJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIGJ0bi5zdHlsZS5mb250V2VpZ2h0ID0gJzcwMCc7XG4gICAgICAgIGJ0bi5zdHlsZS5mb250U2l6ZSA9ICcxOHB4JztcbiAgICAgICAgZGVCdXR0b25zQ29udC5hcHBlbmRDaGlsZChidG4pO1xuXG4gICAgICAgIGJ1dHRvbnMucHVzaChidG4pO1xuXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIGhhbmRsZXIoKTtcblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NsaWNrXycgKyB0ZXh0LnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGRlLmhpZGVCdXR0b24gPSBmdW5jdGlvbiAodGV4dCkge1xuXG4gICAgICAgIGJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuKSB7XG5cbiAgICAgICAgICAgIGlmIChidG4udGV4dCA9PT0gdGV4dCkge1xuXG4gICAgICAgICAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5zaG93QnV0dG9uID0gZnVuY3Rpb24gKHRleHQpIHtcblxuICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICBpZiAoYnRuLnRleHQgPT09IHRleHQpIHtcblxuICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5zZXRUaXRsZShvcHQudGl0bGUpO1xuICAgIGRlLnNldENvbnRlbnQob3B0LmNvbnRlbnQpO1xuICAgIGRlLnNldEJ1dHRvbnMob3B0LmJ1dHRvbnMpO1xuXG4gICAgZGVCdXR0b25zRW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS53aWR0aCA9ICcwJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ3RvcCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUuYm9yZGVyV2lkdGggPSAnMCA2cHggMjFweCAwJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUuYm9yZGVyQ29sb3IgPSAndHJhbnNwYXJlbnQgJythbWd1aS5jb2xvci5vdmVybGF5KycgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQnO1xuICAgIGRlLmFwcGVuZENoaWxkKGRlQnV0dG9uc0VuZCk7XG5cbiAgICByZXR1cm4gZGU7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVEcmF3ZXI6IGNyZWF0ZURyYXdlcixcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVEcmF3ZXIob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgaXNPcGVuZWQgPSBmYWxzZTtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgZGUuZGVIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuZGVIZWFkLnN0eWxlLmhlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICBkZS5kZUhlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBkZS5hcHBlbmRDaGlsZChkZS5kZUhlYWQpO1xuXG4gICAgZGUuZGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGUuZGVDb250ZW50KTtcbiAgICBcbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICB2YXIgdG9nZ2xlQnRuID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIGljb25PbjogJ2FuZ2xlLWRvd24nLFxuICAgICAgICBpY29uT2ZmOiAnYW5nbGUtcmlnaHQnLFxuICAgICAgICBvbkNsaWNrOiBvblRvZ2dsZUNsaWNrLFxuICAgICAgICBwYXJlbnQ6IGRlLmRlSGVhZCxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICB9KTtcblxuICAgIHZhciBsYWJlbFRpdGxlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICB0ZXh0OiBvcHQudGV4dCB8fCAnZHJhd2VyJyxcbiAgICAgICAgcGFyZW50OiBkZS5kZUhlYWQsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSk7XG5cblxuXG5cblxuXG4gICAgZGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlzT3BlbmVkID8gZGUuY2xvc2UoKSA6IGRlLm9wZW4oKTtcbiAgICB9XG5cbiAgICBkZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmIChpc09wZW5lZCkgcmV0dXJuO1xuICAgICAgICBpc09wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgcmVmcmVzaE9wZW4oKTtcbiAgICB9XG5cbiAgICBkZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIWlzT3BlbmVkKSByZXR1cm47XG4gICAgICAgIGlzT3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgcmVmcmVzaE9wZW4oKTtcbiAgICB9XG5cbiAgICByZWZyZXNoT3BlbigpO1xuICAgIHJldHVybiBkZTtcblxuXG5cblxuXG5cblxuICAgIGZ1bmN0aW9uIG9uVG9nZ2xlQ2xpY2soKSB7XG4gICAgICAgIFxuICAgICAgICBkZS50b2dnbGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWZyZXNoT3BlbigpIHtcblxuICAgICAgICB0b2dnbGVCdG4uc2V0VG9nZ2xlKGlzT3BlbmVkKTtcbiAgICAgICAgZGUuZGVDb250ZW50LnN0eWxlLmRpc3BsYXkgPSBpc09wZW5lZCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlucDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZURyb3Bkb3duOiBjcmVhdGVEcm9wZG93bixcbiAgICAgICAgYmluZERyb3Bkb3duOiBiaW5kRHJvcGRvd24sXG4gICAgfTtcbn07XG5cblxuXG5mdW5jdGlvbiBjcmVhdGVEcm9wZG93bihvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgZGUuc3R5bGUubGlzdFN0eWxlVHlwZSA9ICdub25lJztcbiAgICBkZS5zdHlsZS5tYXJnaW4gPSAwO1xuICAgIGRlLnN0eWxlLnBhZGRpbmcgPSAwO1xuXG4gICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICBkZS5hZGRJdGVtID0gZnVuY3Rpb24gKG9wdEl0ZW0pIHtcblxuICAgICAgICBpZiAodHlwZW9mKG9wdEl0ZW0pID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgICBvcHRJdGVtID0ge3RleHQ6IG9wdEl0ZW19O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICBsaS5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgICAgIGxpLnN0eWxlLmZvbnRTaXplID0gJzE0cHgnO1xuICAgICAgICBsaS5zdHlsZS5wYWRkaW5nID0gJzAgM3B4JztcbiAgICAgICAgbGkuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBsaS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheUludmVyc2U7XG5cbiAgICAgICAgb3B0SXRlbS5sYWJlbCA9IGFtZ3VpLmNyZWF0ZUxhYmVsKF8uYXNzaWduKHtcbiAgICAgICAgICAgIHBhcmVudDogbGksXG4gICAgICAgICAgICBjb2xvcjogYW1ndWkuY29sb3IudGV4dEludmVyc2UsXG4gICAgICAgIH0sIG9wdEl0ZW0pKTtcblxuICAgICAgICBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRJdGVtLm9uU2VsZWN0KSBvcHRJdGVtLm9uU2VsZWN0KCk7Ly9kZXByZWNhdGVkXG4gICAgICAgICAgICBpZiAob3B0SXRlbS5vbkNsaWNrKSBvcHRJdGVtLm9uQ2xpY2soKTtcblxuICAgICAgICAgICAgb25MZWF2ZSgpO1xuXG4gICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0Jywge2RldGFpbDoge3NlbGVjdGlvbjogb3B0SXRlbS50ZXh0fX0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGxpKTtcblxuICAgICAgICB2YXIgb25FbnRlciA9ICgpID0+IGxpLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZ0ludmVyc2UsXG4gICAgICAgICAgICBvbkxlYXZlID0gKCkgPT4gbGkuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXlJbnZlcnNlO1xuXG4gICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbkVudGVyKTtcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTGVhdmUpO1xuXG4gICAgICAgIGl0ZW1zLnB1c2gobGkpO1xuXG4gICAgICAgIGlmIChvcHRJdGVtLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgIG9wdEl0ZW0ubGFiZWwuaWNvblJpZ2h0ID0gJ3JpZ2h0LWRpcic7XG5cbiAgICAgICAgICAgIGJpbmREcm9wZG93bih7XG4gICAgICAgICAgICAgICAgZGVUYXJnZXQ6IGxpLFxuICAgICAgICAgICAgICAgIGRlRHJvcGRvd246IGNyZWF0ZURyb3Bkb3duKHtvcHRpb25zOiBvcHRJdGVtLmNoaWxkcmVufSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaTtcbiAgICB9O1xuXG4gICAgZGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChsaSkge1xuXG4gICAgICAgIHZhciBpZHggPSBpdGVtcy5pbmRleE9mKGxpKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgaXRlbXMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgaWYgKGxpLnBhcmVudE5vZGUpIHtcblxuICAgICAgICAgICAgbGkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAobmV3SXRlbXMpIHtcblxuICAgICAgICB3aGlsZSAoaXRlbXMubGVuZ3RoKSBkZS5yZW1vdmVJdGVtKGl0ZW1zWzBdKTtcblxuICAgICAgICBuZXdJdGVtcy5mb3JFYWNoKG9wdEl0ZW0gPT4gZGUuYWRkSXRlbShvcHRJdGVtKSk7XG4gICAgfTtcblxuICAgIGlmIChvcHQub3B0aW9ucykge1xuXG4gICAgICAgIGRlLnNldEl0ZW1zKG9wdC5vcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAob3B0Lm9uU2VsZWN0KSB7XG5cbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb3B0Lm9uU2VsZWN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGJpbmREcm9wZG93bihvcHQpIHtcblxuICAgIHZhciBpc09wZW5lZCA9IGZhbHNlO1xuICAgIHZhciBkZUJ0biA9IG9wdC5kZVRhcmdldDtcbiAgICB2YXIgZGVEcm9wZG93biA9IG9wdC5kZURyb3Bkb3duIHx8IG9wdC5kZU1lbnU7XG5cbiAgICBpZiAob3B0LmFzQ29udGV4dE1lbnUpIHtcblxuICAgICAgICBkZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIWlzT3BlbmVkKSBvcGVuKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghaXNPcGVuZWQpIG9wZW4oZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXREcm9wZG93bjogZnVuY3Rpb24gKGRkKSB7XG5cbiAgICAgICAgICAgIGRlRHJvcGRvd24gPSBkZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW4oZSkge1xuXG4gICAgICAgIGlmIChvcHQub25PcGVuaW5nICYmIG9wdC5vbk9wZW5pbmcoZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNPcGVuZWQpIHJldHVybjtcbiAgICAgICAgaXNPcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBkZUNvbnQgPSBvcHQubWVudVBhcmVudCB8fCBhbWd1aS5kZU92ZXJsYXlDb250IHx8IGRlQnRuO1xuXG4gICAgICAgIGRlRHJvcGRvd24uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBkZURyb3Bkb3duLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIGRlQ29udC5hcHBlbmRDaGlsZChkZURyb3Bkb3duKTtcblxuICAgICAgICBhbWd1aS5wbGFjZVRvUG9pbnQoZGVEcm9wZG93biwgZS5jbGllbnRYLCBlLmNsaWVudFksIG9wdC5zaWRlKTtcblxuICAgICAgICBkZURyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGNsb3NlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBjbG9zZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlKGUpIHtcblxuICAgICAgICBpZiAoIWlzT3BlbmVkKSByZXR1cm47XG4gICAgICAgIGlzT3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGRlRHJvcGRvd24ucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgZGVEcm9wZG93bi5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGRlRHJvcGRvd24pO1xuICAgICAgICB9XG4gICAgICAgIGRlRHJvcGRvd24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgY2xvc2UpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNsb3NlKTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVJbnB1dDogY3JlYXRlSW5wdXQsXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlSW5wdXQob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgaW5wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnAudHlwZSA9IG9wdC50eXBlIHx8ICd0ZXh0JztcbiAgICBpbnAuc3R5bGUud2lkdGggPSBvcHQud2lkdGggfHwgJzI0NXB4JztcbiAgICBpbnAuc3R5bGUuaGVpZ2h0ID0gb3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVCArICdweCc7XG4gICAgaW5wLnN0eWxlLmZvbnRTaXplID0gb3B0LmZvbnRTaXplIHx8IGFtZ3VpLkZPTlRfU0laRTtcbiAgICBpbnAuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGlucC5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgaW5wLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgaW5wLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICBpbnAuc3R5bGUucGFkZGluZyA9ICcwJztcblxuICAgIGlmICgncGFsY2Vob2xkZXInIGluIG9wdCkgaW5wLnBhbGNlaG9sZGVyID0gb3B0LnBhbGNlaG9sZGVyO1xuICAgIGlmICgndmFsdWUnIGluIG9wdCkgaW5wLnZhbHVlID0gb3B0LnZhbHVlO1xuICAgIGlmICgnZmxleCcgaW4gb3B0KSBpbnAuc3R5bGUuZmxleCA9IG9wdC5mbGV4O1xuXG4gICAgaWYgKG9wdC5vbkNoYW5nZSkge1xuICAgICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvcHQub25DaGFuZ2UpO1xuICAgIH1cbiAgICBcbiAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTtcblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoaW5wKTtcbiAgICB9XG5cbiAgICBpbnAuc2V0VmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh2ID09PSBpbnAudmFsdWUpIHJldHVybjtcblxuICAgICAgICBpbnAudmFsdWUgPSB2O1xuICAgIH07XG5cbiAgICByZXR1cm4gaW5wO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgZm9udGVsbG9Db25mID0gcmVxdWlyZSgnLi4vYXNzZXRzL2ZvbnRlbGxvL2NvbmZpZy5qc29uJyk7XG5cbnZhciBhbWd1aSA9IHdpbmRvdy5hbWd1aSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuV2ViRm9udC5sb2FkKHtcbiAgICBnb29nbGU6IHtcbiAgICAgIGZhbWlsaWVzOiBbJ09wZW4rU2FuczozMDAsNDAwLDYwMCw3MDAsODAwOmxhdGluLGxhdGluLWV4dCddXG4gICAgfSxcbiAgICBjdXN0b206IHtcbiAgICAgICAgZmFtaWxpZXM6IFsnYW1ndWknXSxcbiAgICAgICAgLy8gdXJsczogWycuLi9hc3NldHMvZm9udGVsbG8vYW1ndWkuY3NzJ10sXG4gICAgfSxcbiAgICBmb250YWN0aXZlOiAoKCkgPT4ge1xuXG4gICAgICAgIHZhciB2YXJpYW50cyA9IFtcbiAgICAgICAgICAgICdhbWd1aTpuNCcsXG4gICAgICAgICAgICAnT3BlbiBTYW5zOm4zJyxcbiAgICAgICAgICAgICdPcGVuIFNhbnM6bjQnLFxuICAgICAgICAgICAgJ09wZW4gU2FuczpuNicsXG4gICAgICAgICAgICAnT3BlbiBTYW5zOm43JyxcbiAgICAgICAgICAgICdPcGVuIFNhbnM6bjgnXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIChmYW1pbHlOYW1lLCBmdmQpID0+IHtcblxuICAgICAgICAgICAgdmFyIHZhcmlhbnQgPSBmYW1pbHlOYW1lICsgJzonICsgZnZkO1xuXG4gICAgICAgICAgICBpZiAodmFyaWFudHMuaW5kZXhPZih2YXJpYW50KSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIHZhcmlhbnRzLnNwbGljZSh2YXJpYW50cy5pbmRleE9mKHZhcmlhbnQpLCAxKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YXJpYW50cy5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBhbWd1aS5mbGFnKCdmb250TG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGFtZ3VpLmVtaXQoJ2ZvbnRMb2FkZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB9KSgpLFxufSk7XG5cbl8uZXh0ZW5kKGFtZ3VpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuYmV6aWVyRWRpdG9yJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuYnJlYWRjcnVtYnMnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5idXR0b24nKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5jaGVja2JveCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmN1cnNvcicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRpYWxvZycpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRyYXdlcicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRyb3Bkb3duJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuaW5wdXQnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5rZXlWYWx1ZUlucHV0JykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkubWFrZURyYWdnYWJsZScpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLnNjcm9sbCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLnN0ZXBwZXJLZXknKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS50b29sdGlwJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkudXRpbHMnKShhbWd1aSksXG4gICAge1xuXG4gICAgICAgIEZPTlRfRkFNSUxZOiAnXCJPcGVuIFNhbnNcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgIEZPTlRfU0laRTogJzEycHgnLFxuICAgICAgICBMSU5FX0hFSUdIVDogMTYsXG5cbiAgICAgICAgZGVPdmVybGF5Q29udDogdW5kZWZpbmVkLCAvL2FtLl9pbml0KCkgZmlsbCB0aGlzXG5cbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGJnMDogJyMyMjI0MjUnLFxuICAgICAgICAgICAgYmcxOiAnIzMwMzAzMCcsXG4gICAgICAgICAgICBiZzI6ICcjM2Y0MDQwJyxcbiAgICAgICAgICAgIGJnMzogJyMzOTNiM2YnLFxuICAgICAgICAgICAgYmdJbnZlcnNlOiAnI2VlZScsXG4gICAgICAgICAgICB0ZXh0OiAnI2VlZScsXG4gICAgICAgICAgICB0ZXh0TWlub3I6ICcjYWFhJyxcbiAgICAgICAgICAgIHRleHRJbnZlcnNlOiAnIzExMScsXG4gICAgICAgICAgICB0ZXh0SW5hY3RpdmU6ICdyZ2JhKDI1NSwyNTUsMjU1LC4yMyknLFxuICAgICAgICAgICAgb3ZlcmxheTogJ3JnYmEoMCwwLDAsLjc4NSknLFxuICAgICAgICAgICAgb3ZlcmxheUludmVyc2U6ICdyZ2JhKDIyMiwyMzIsMjIyLC43ODUpJyxcbiAgICAgICAgICAgIGJnSG92ZXI6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMTIpJyxcbiAgICAgICAgICAgIHNlbGVjdGVkOiAnIzAxRkY3MCcsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogJ3JnYmEoMCwwLDAsMCknLFxuICAgICAgICAgICAgLy9odHRwczovL2dpdGh1Yi5jb20vbXJtcnMvY29sb3JzXG4gICAgICAgICAgICBhcXVhOiBcIiM3RkRCRkZcIixcbiAgICAgICAgICAgIGJsdWU6IFwiIzAwNzREOVwiLFxuICAgICAgICAgICAgbGltZTogXCIjMDFGRjcwXCIsXG4gICAgICAgICAgICBuYXZ5OiBcIiMwMDFGM0ZcIixcbiAgICAgICAgICAgIHRlYWw6IFwiIzM5Q0NDQ1wiLFxuICAgICAgICAgICAgb2xpdmU6IFwiIzNEOTk3MFwiLFxuICAgICAgICAgICAgZ3JlZW46IFwiIzJFQ0M0MFwiLFxuICAgICAgICAgICAgcmVkOiBcIiNGRjQxMzZcIixcbiAgICAgICAgICAgIG1hcm9vbjogXCIjODUxNDRCXCIsXG4gICAgICAgICAgICBvcmFuZ2U6IFwiI0ZGODUxQlwiLFxuICAgICAgICAgICAgcHVycGxlOiBcIiNCMTBEQzlcIixcbiAgICAgICAgICAgIHllbGxvdzogXCIjRkZEQzAwXCIsXG4gICAgICAgICAgICBmdWNoc2lhOiBcIiNGMDEyQkVcIixcbiAgICAgICAgICAgIGdyYXk6IFwiI2FhYVwiLFxuICAgICAgICAgICAgd2hpdGU6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgYmxhY2s6IFwiIzExMVwiLFxuICAgICAgICAgICAgc2lsdmVyOiBcIiNkZGRcIixcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRTdHlsZVNoZWV0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgICAgICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGBhe2NvbG9yOiAke2FtZ3VpLmNvbG9yLmFxdWF9O3RleHQtZGVjb3JhdGlvbjpub25lO31gO1xuXG4gICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlRGl2OiBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICAgICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGUuc3R5bGUud2Via2l0VXNlclNlbGVjdCA9ICdub25lJztcbiAgICAgICAgICAgIGRlLnN0eWxlLm1velVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICBkZS5zdHlsZS5tc1VzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICBkZS5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKG9wdCkgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoJ2Rpc3BsYXknIGluIG9wdCkgZGUuc3R5bGUuZGlzcGxheSA9IG9wdC5kaXNwbGF5O1xuICAgICAgICAgICAgICAgIGlmICgnZmxleCcgaW4gb3B0KSBkZS5zdHlsZS5mbGV4ID0gb3B0LmZsZXg7XG4gICAgICAgICAgICAgICAgaWYgKCdwb3NpdGlvbicgaW4gb3B0KSBkZS5zdHlsZS5wb3NpdGlvbiA9IG9wdC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgICAgICAgICAgICAgaWYgKCd3aWR0aCcgaW4gb3B0KSAgZGUuc3R5bGUud2lkdGggPSBvcHQud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKCdoZWlnaHQnIGluIG9wdCkgIGRlLnN0eWxlLmhlaWdodCA9IG9wdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKCdkZWJ1ZycgaW4gb3B0KSAgZGUuc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgb3B0LmRlYnVnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZVNlcGFyYXRvcjogZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgICAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYob3B0KTtcbiAgICAgICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgZGUuc3R5bGUuaGVpZ2h0ID0gJzBweCc7XG4gICAgICAgICAgICBkZS5zdHlsZS5ib3R0b20gPSAnMHB4JztcbiAgICAgICAgICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRlLnN0eWxlLmJvcmRlckJvdHRvbSA9ICdzb2xpZCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMTEpJztcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRJY29uQ2hhcjogZnVuY3Rpb24gKGljb25OYW1lKSB7XG5cbiAgICAgICAgICAgIHZhciBnbHlwaCA9IGZvbnRlbGxvQ29uZi5nbHlwaHMuZmluZChnbHlwaCA9PiBnbHlwaC5jc3MgPT09IGljb25OYW1lKTtcblxuICAgICAgICAgICAgdmFyIGNvZGUgPSBnbHlwaCA/IGdseXBoLmNvZGUgOiA1OTQwNztcblxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5cbmFtZ3VpLnNldE1heExpc3RlbmVycygwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhbWd1aTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlS2V5VmFsdWVJbnB1dDogY3JlYXRlS2V5VmFsdWVJbnB1dCxcbiAgICB9O1xufTtcblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVZhbHVlSW5wdXQob3B0KSB7XG5cbiAgICAgICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZS5zdHlsZS5tYXJnaW4gPSAnMCAxcHgnO1xuICAgICAgICBkZS5zdHlsZS5oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVCArICdweCc7XG4gICAgICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgICAgICB2YXIga2V5T24gPSBmYWxzZTtcblxuICAgICAgICB2YXIgb2xkS2V5LCBvbGRWYWx1ZTtcblxuICAgICAgICB2YXIgaW5wS2V5ID0gY3JlYXRlSW5wdXQoJ3BhcmFtZXRlciBuYW1lJyk7XG4gICAgICAgIGlucEtleS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9uS2V5UHJlc3MpO1xuXG4gICAgICAgIHZhciBkaXZpZGVyID0gY3JlYXRlRGl2aWRlcigpO1xuXG4gICAgICAgIHZhciBpbnBWYWx1ZSA9IGNyZWF0ZUlucHV0KCd2YWx1ZScpO1xuICAgICAgICAvLyBpbnBWYWx1ZS5zdHlsZS5jb2xvciA9ICdsaWdodGJsdWUnO1xuICAgICAgICBpbnBWYWx1ZS5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgICAgICBpbnBWYWx1ZS5zdHlsZS5yaWdodCA9ICcwcHgnO1xuXG4gICAgICAgIHNob3dIaWRlVmFsdWUoa2V5T24pO1xuXG4gICAgICAgIGRlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnBLZXkudmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGUuc2V0S2V5ID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHYgPT09IG9sZEtleSkgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBvbGRLZXkgPSB2O1xuICAgICAgICAgICAgaW5wS2V5LnZhbHVlID0gdjtcbiAgICAgICAgICAgIGNoZWNrS2V5T24oKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnBWYWx1ZS52YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBkZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ID09PSBvbGRWYWx1ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBvbGRWYWx1ZSA9IHY7XG4gICAgICAgICAgICBpbnBWYWx1ZS52YWx1ZSA9IHY7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdC5rZXkpIHtcbiAgICAgICAgICAgIGRlLnNldEtleShvcHQua2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHQudmFsdWUpIHtcbiAgICAgICAgICAgIGRlLnNldFZhbHVlKG9wdC52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0Lm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvcHQub25DaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjaGVja0tleU9uKCk7XG5cbiAgICAgICAgICAgIHZhciBkZXRhaWwgPSB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRlLmdldEtleSgpICE9PSBvbGRLZXkpIHtcbiAgICAgICAgICAgICAgICBvbGRLZXkgPSBkZXRhaWwua2V5ID0gZGUuZ2V0S2V5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGUuZ2V0VmFsdWUoKSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGRldGFpbC52YWx1ZSA9IGRlLmdldFZhbHVlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIGRldGFpbCB8fCAna2V5JyBpbiBkZXRhaWwpIHtcblxuICAgICAgICAgICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7ZGV0YWlsOiBkZXRhaWx9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbktleVByZXNzKGUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGlucFZhbHVlLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjaGVja0tleU9uKCkge1xuXG4gICAgICAgICAgICB2YXIgb24gPSAhIWlucEtleS52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKG9uICE9PSBrZXlPbikge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGtleU9uID0gb247XG4gICAgICAgICAgICAgICAgc2hvd0hpZGVWYWx1ZShrZXlPbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaG93SGlkZVZhbHVlKHNob3cpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/ICdpbmxpbmUnIDogJ25vbmUnO1xuICAgICAgICAgICAgaW5wVmFsdWUuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgIGlucEtleS5zdHlsZS53aWR0aCA9IHNob3cgPyAnY2FsYyg1MCUgLSA1cHgpJyA6ICcxMDAlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlucHV0KHBsYWNlaG9sZGVyKSB7XG5cbiAgICAgICAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgaW5wLnR5cGUgPSAndGV4dCc7XG4gICAgICAgICAgICBpbnAucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIGlucC5zdHlsZS53aWR0aCA9ICc1MCUnO1xuICAgICAgICAgICAgaW5wLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGlucC5zdHlsZS5mb250U2l6ZSA9IGFtZ3VpLkZPTlRfU0laRTtcbiAgICAgICAgICAgIGlucC5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgICAgICAgICBpbnAuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgICAgIGlucC5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgICAgICBpbnAuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgICAgICAgICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgICAgICAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uQ2hhbmdlKTtcbiAgICAgICAgICAgIC8vICQoaW5wKS5hdXRvc2l6ZUlucHV0KHtzcGFjZTogMH0pO1xuICAgICAgICAgICAgZGUuYXBwZW5kQ2hpbGQoaW5wKTtcbiAgICAgICAgICAgIHJldHVybiBpbnA7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEaXZpZGVyICgpIHtcblxuICAgICAgICAgICAgdmFyIGRpdmlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBkaXZpZGVyLnRleHRDb250ZW50ID0gJzonO1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgICAgICAgICBkaXZpZGVyLnN0eWxlLndpZHRoID0gJzJweCc7XG4gICAgICAgICAgICBkaXZpZGVyLnN0eWxlLmZvbnRTaXplID0gYW1ndWkuRk9OVF9TSVpFO1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgICAgICAgICBkZS5hcHBlbmRDaGlsZChkaXZpZGVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWFrZURyYWdnYWJsZTogbWFrZURyYWdnYWJsZSxcbiAgICB9O1xufTtcblxuZnVuY3Rpb24gbWFrZURyYWdnYWJsZShvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBtZCwgaXNPdmVyLCBpc0RyYWcsIFxuICAgICAgICB3YWl0aW5nTW92ZUV2ZW50LCB3YWl0aW5nTW92ZVJhZjtcblxuICAgIGlmIChvcHQuZGVUYXJnZXQpIHtcbiAgICAgICAgXG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvd24pO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25FbnRlcik7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25MZWF2ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1pdERvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIG9uRG93bihlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge31cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkRvd24oZSkge1xuXG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOy8vZXguIHByZXZlbnQgdG8gZHJhZyB0aGUgcGFyZW50IGlmIHRoYXQncyBkcmFnZ2FibGUgdG9vXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsvL2V4LiBwcmV2ZW50IHNlbGVjdGluZyB0ZXh0XG5cbiAgICAgICAgaXNEcmFnID0gdHJ1ZTtcblxuICAgICAgICB2YXIgY3VzdG9tID0gY2FsbCgnb25Eb3duJywgW2VdKTtcblxuICAgICAgICBpZiAoY3VzdG9tID09PSBmYWxzZSkgey8vcHJldmVudCBkcmFnZ2luZ1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtZCA9IGN1c3RvbSB8fCB7fTtcblxuICAgICAgICBtZC5teCA9IGUuY2xpZW50WDtcbiAgICAgICAgbWQubXkgPSBlLmNsaWVudFk7XG4gICAgICAgIG1kLmR4ID0gMDtcbiAgICAgICAgbWQuZHkgPSAwO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uVXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW92ZShlKSB7XG5cbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCA9IGU7XG5cbiAgICAgICAgaWYgKCF3YWl0aW5nTW92ZVJhZikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3YWl0aW5nTW92ZVJhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmT25Nb3ZlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhZk9uTW92ZSgpIHtcblxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUod2FpdGluZ01vdmVSYWYpO1xuXG4gICAgICAgIHZhciB3bWUgPSB3YWl0aW5nTW92ZUV2ZW50O1xuICAgICAgICB3YWl0aW5nTW92ZVJhZiA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCA9IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgbXggPSB3bWUuY2xpZW50WCxcbiAgICAgICAgICAgIG15ID0gd21lLmNsaWVudFk7XG5cbiAgICAgICAgbWQuZHggPSBteCAtIG1kLm14O1xuICAgICAgICBtZC5keSA9IG15IC0gbWQubXk7XG5cbiAgICAgICAgY2FsbChbJ29uTW92ZScsICdvbkRyYWcnXSwgW21kLCBteCwgbXldKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblVwKGUpIHtcblxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvblVwKTtcblxuICAgICAgICBpZiAod2FpdGluZ01vdmVFdmVudCkge1xuICAgICAgICAgICAgcmFmT25Nb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpc0RyYWcgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFpc092ZXIpIHtcbiAgICAgICAgICAgIG9uTGVhdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGwoJ29uVXAnLCBbbWQsIGUuY2xpZW50WCwgZS5jbGllbnRZLCBlXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25FbnRlcigpIHtcblxuICAgICAgICBpc092ZXIgPSB0cnVlO1xuXG4gICAgICAgIGlmICghaXNEcmFnKSB7XG4gICAgICAgICAgICBjYWxsKCdvbkVudGVyJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxlYXZlKCkge1xuXG4gICAgICAgIGlzT3ZlciA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpc0RyYWcpIHtcbiAgICAgICAgICAgIGNhbGwoJ29uTGVhdmUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGwobmFtZSwgYXJncykge1xuXG4gICAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcblxuICAgICAgICAgICAgbmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBjYWxsKG5hbWUsIGFyZ3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRbbmFtZV0uYXBwbHkob3B0LnRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlUmFuZ2U6IGNyZWF0ZVJhbmdlLFxuICAgICAgICBtYWtlU2Nyb2xsYWJsZTogbWFrZVNjcm9sbGFibGUsXG4gICAgfTtcbn07XG5cblxuXG5mdW5jdGlvbiBtYWtlU2Nyb2xsYWJsZShvcHQpIHtcblxuICAgIHZhciBwb3MgPSAwLFxuICAgICAgICBkZUNvbnRzID0gb3B0LmRlQ29udCxcbiAgICAgICAgZGVUYXJnZXRzID0gb3B0LmRlVGFyZ2V0LFxuICAgICAgICBkZVJhbmdlID0gb3B0LmRlUmFuZ2UsXG4gICAgICAgIHJldCA9IHtkaXNwb3NlOiBkaXNwb3NlfTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShkZUNvbnRzKSkgZGVDb250cyA9IFtkZUNvbnRzXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGVUYXJnZXRzKSkgZGVUYXJnZXRzID0gW2RlVGFyZ2V0c107XG5cbiAgICBkZUNvbnRzLmZvckVhY2goY29udCA9PiB7aWYgKCFjb250KSB0aHJvdyAnZmFsc2UgY29udGFpdGVyJzt9KTtcbiAgICBkZVRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4ge2lmICghdGFyZ2V0KSB0aHJvdyAnZmFsc2UgdGFyZ2V0Jzt9KTtcblxuICAgIGRlQ29udHMuZm9yRWFjaChkZUMgPT4ge1xuICAgICAgICBkZUMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBvbldoZWVsKTtcbiAgICB9KTtcbiAgICBkZVRhcmdldHMuZm9yRWFjaChkZVQgPT4ge1xuICAgICAgICB2YXIgcG9zID0gZGVULnN0eWxlLnBvc2l0aW9uO1xuICAgICAgICBpZiAocG9zICE9PSAnYWJzb2x1dGUnICYmIHBvcyAhPT0gJ2ZpeGVkJyAmJiBwb3MgIT09ICdyZWxhdGl2ZScpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZGVULnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgfTtcbiAgICB9KTtcblxuXG4gICAgLy9jcmVhdGUgYSBiYXNpYyBzY3JvbGwgYmFyIGlmIGl0IGlzIG5vdCBzZXQgYXQgYWxsXG4gICAgaWYgKCEoJ2RlUmFuZ2UnIGluIG9wdCkpIHtcblxuICAgICAgICBkZVJhbmdlID0gdGhpcy5fc2Nyb2xsUmFuZ2UgPSBhbWd1aS5jcmVhdGVSYW5nZSh7XG4gICAgICAgICAgICBwYXJlbnQ6IGRlQ29udHNbMF0sXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlUmFuZ2Uuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZVJhbmdlLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICBkZVJhbmdlLnN0eWxlLnJpZ2h0ID0gJzBweCc7XG4gICAgfVxuXG4gICAgaWYgKGRlUmFuZ2UpIHtcbiAgICAgICAgaW5pdFJhbmdlKCk7XG4gICAgfVxuXG5cbiAgICByZXR1cm4gcmV0O1xuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBvbldoZWVsKGUpIHtcblxuICAgICAgICB2YXIgd2F5ID0gZS5kZWx0YVkvMyxcbiAgICAgICAgICAgIG1heEggPSBnZXRUYXJnZXRNYXhIKCk7XG4gICAgICAgIFxuICAgICAgICBwb3MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihtYXhILCBwb3MgKyB3YXkpKTtcblxuICAgICAgICBpZiAoZGVSYW5nZSkge1xuXG4gICAgICAgICAgICBkZVJhbmdlLnNldFZhbHVlKHBvcyAvIG1heEgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Nyb2xsKCk7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNoYW5nZVJhbmdlKGUpIHtcblxuICAgICAgICBwb3MgPSBnZXRUYXJnZXRNYXhIKCkgKiBlLmRldGFpbC52YWx1ZTtcbiAgICAgICAgc2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuXG4gICAgICAgIGRlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChkZVQpIHtcblxuICAgICAgICAgICAgZGVULnN0eWxlLnRvcCA9IC1wb3MgKyAncHgnO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRNYXhIKCkge1xuXG4gICAgICAgIHZhciBjb250SCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGRlQ29udHMuc2xpY2UoKS5tYXAoZ2V0SCkpLFxuICAgICAgICAgICAgdGFyZ2V0SCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGRlVGFyZ2V0cy5zbGljZSgpLm1hcChnZXRIKSk7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldEggLSBjb250SDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRIKGRlKSB7XG5cbiAgICAgICAgcmV0dXJuIGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0UmFuZ2UoKSB7XG5cbiAgICAgICAgdmFyIHNhdmVEaXNwbGF5ID0gZGVSYW5nZS5zdHlsZS5kaXNwbGF5LFxuICAgICAgICAgICAgaXNTaG93aW5nID0gZmFsc2UsXG4gICAgICAgICAgICByZWZyZXNoU2V0STtcblxuICAgICAgICBkZVJhbmdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgZGVSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZVJhbmdlKTtcblxuICAgICAgICByZWZyZXNoU2V0SSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIG5lZWRzUmFuZ2UgPSBnZXRUYXJnZXRNYXhIKCkgPiAwO1xuXG4gICAgICAgICAgICBpZiAoaXNTaG93aW5nICE9PSBuZWVkc1JhbmdlKSB7XG5cbiAgICAgICAgICAgICAgICBpc1Nob3dpbmcgPSBuZWVkc1JhbmdlO1xuXG4gICAgICAgICAgICAgICAgZGVSYW5nZS5zdHlsZS5kaXNwbGF5ID0gaXNTaG93aW5nID8gc2F2ZURpc3BsYXkgOiAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMxMik7IFxuXG4gICAgICAgIHZhciBzYXZlRGlzcG9zZSA9IHJldC5kaXNwb3NlO1xuICAgICAgICByZXQuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKCkge1xuXG4gICAgICAgICAgICBzYXZlRGlzcG9zZSgpO1xuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHJlZnJlc2hTZXRJKTtcblxuICAgICAgICAgICAgZGVSYW5nZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZVJhbmdlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuXG4gICAgICAgIGRlQ29udHMuZm9yRWFjaChmdW5jdGlvbiAoZGVDKSB7XG5cbiAgICAgICAgICAgIGRlQy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIG9uV2hlZWwpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVJhbmdlKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuICBcbiAgICB2YXIgdmFsdWUgPSAwLCBjdXJzb3JXaWR0aCA9IDAsIGlzVmVydGljYWwgPSAhIW9wdC52ZXJ0aWNhbDtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICBkZS5zdHlsZS53aWR0aCA9IG9wdC53aWR0aCB8fCAnNnB4JztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSBvcHQuaGVpZ2h0IHx8ICcxNDBweCc7XG4gICAgZGUuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMTtcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cbiAgICB2YXIgZGVDdXJzb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZUN1cnNvci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGVDdXJzb3Iuc3R5bGVbZCgnbGVmdCcsJ3RvcCcpXSA9ICcwJztcbiAgICBkZUN1cnNvci5zdHlsZVtkKCdyaWdodCcsJ2JvdHRvbScpXSA9ICcwJztcbiAgICBkZUN1cnNvci5zdHlsZS5tYXJnaW4gPSBkKCdhdXRvIDAnLCcwIGF1dG8nKTtcbiAgICBkZUN1cnNvci5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmczO1xuICAgIGRlQ3Vyc29yLnN0eWxlW2QoJ3dpZHRoJywnaGVpZ2h0JyldID0gb3B0LmN1cnNvckhlaWdodCB8fCAnMTAwJSc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVDdXJzb3IpO1xuXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgZGUuc2V0Q3Vyc29yV2lkdGggPSBmdW5jdGlvbiAodykge1xuXG4gICAgICAgIGRlQ3Vyc29yLnN0eWxlW2QoJ2hlaWdodCcsJ3dpZHRoJyldID0gdyArICdweCc7XG4gICAgICAgIGN1cnNvcldpZHRoID0gdztcbiAgICB9O1xuICAgIGRlLnNldEN1cnNvcldpZHRoKG9wdC5jdXJzb3JXaWR0aCB8fCAxMik7ICAgXG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlLFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIChtZCwgbXgsIG15KSB7XG5cbiAgICAgICAgICAgIHZhciBiciA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIHAgPSBkKG15LCBteCkgLSAoZChici50b3AsIGJyLmxlZnQpICsgY3Vyc29yV2lkdGgvMiksXG4gICAgICAgICAgICAgICAgZncgPSBkKGJyLmhlaWdodCwgYnIud2lkdGgpIC0gY3Vyc29yV2lkdGgsXG4gICAgICAgICAgICAgICAgcG9zID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcCAvIGZ3KSk7XG5cbiAgICAgICAgICAgIGRlLnNldFZhbHVlKHBvcyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlLnNldFZhbHVlID0gZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICBpZiAodiA9PT0gdmFsdWUpIHJldHVybjtcblxuICAgICAgICB2YWx1ZSA9IHY7XG4gICAgICAgIFxuICAgICAgICB2YXIgd2lkdGggPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkKCdoZWlnaHQnLCd3aWR0aCcpXTtcbiAgICAgICAgZGVDdXJzb3Iuc3R5bGVbZCgndG9wJywnbGVmdCcpXSA9ICgod2lkdGggLSBjdXJzb3JXaWR0aCkgKiB2YWx1ZSkgKyAncHgnO1xuXG4gICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7ZGV0YWlsOiB7dmFsdWU6IHZhbHVlfX0pKTtcbiAgICB9O1xuXG4gICAgZGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBkICh2ZXJ0aWNhbCwgaG9yaXNvbnRhbCkge1xuXG4gICAgICAgIHJldHVybiBpc1ZlcnRpY2FsID8gdmVydGljYWwgOiBob3Jpc29udGFsO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVN0ZXBwZXJLZXk6IGNyZWF0ZVN0ZXBwZXJLZXksXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlU3RlcHBlcktleShvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIG9wdC5oZWlnaHQgPSBvcHQuaGVpZ2h0IHx8IGFtZ3VpLkxJTkVfSEVJR0hUO1xuXG4gICAgdmFyIGhhc1ByZXYgPSBmYWxzZSwgXG4gICAgICAgIGhhc05leHQgPSBmYWxzZSxcbiAgICAgICAgaXNTaG93aW5nU3RlcHBlcnMgPSBmYWxzZSxcbiAgICAgICAgaXNNT3ZlcktleSA9IGZhbHNlLFxuICAgICAgICBpc01PdmVyU3RlcHBlciA9IGZhbHNlLFxuICAgICAgICBzdGVwcGVyVyA9IDg7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgaWNvbjogJ2tleScsXG4gICAgICAgIGhlaWdodDogb3B0LmhlaWdodCxcbiAgICAgICAgb25DbGljazogb3B0Lm9uQ2xpY2ssXG4gICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICBwYXJlbnQ6IG9wdC5wYXJlbnRcbiAgICB9KTtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgZGUuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICBcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25NT3ZlcktleSk7XG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTU91dEtleSk7XG5cbiAgICB2YXIgZGVQcmV2ID0gY3JlYXRlU3RlcHBlcih0cnVlKTtcbiAgICB2YXIgZGVOZXh0ID0gY3JlYXRlU3RlcHBlcihmYWxzZSk7XG5cbiAgICBkZS5zZXRTdGVwcGVycyA9IGZ1bmN0aW9uIChfaGFzUHJldiwgX2hhc05leHQpIHtcblxuICAgICAgICBoYXNQcmV2ID0gX2hhc1ByZXY7XG4gICAgICAgIGhhc05leHQgPSBfaGFzTmV4dDtcblxuICAgICAgICBpZiAoaXNTaG93aW5nU3RlcHBlcnMpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaGlkZVN0ZXBwZXJzKCk7XG4gICAgICAgICAgICBzaG93U3RlcHBlcnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlLnNldEhpZ2hsaWdodCA9IGZ1bmN0aW9uIChvbikge1xuXG4gICAgICAgIGRlLnN0eWxlLmNvbG9yID0gb24gPyBhbWd1aS5jb2xvci50ZXh0IDogYW1ndWkuY29sb3IudGV4dEluYWN0aXZlO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcblxuICAgIGZ1bmN0aW9uIG9uTU92ZXJLZXkoKSB7IGlzTU92ZXJLZXkgPSB0cnVlOyBvbkNoYW5nZU92ZXIoKTsgfVxuICAgIGZ1bmN0aW9uIG9uTU91dEtleSgpIHsgaXNNT3ZlcktleSA9IGZhbHNlOyBvbkNoYW5nZU92ZXIoKTsgfVxuICAgIGZ1bmN0aW9uIG9uTU92ZXJTdGVwcGVyKCkgeyBpc01PdmVyU3RlcHBlciA9IHRydWU7IG9uQ2hhbmdlT3ZlcigpOyB9XG4gICAgZnVuY3Rpb24gb25NT3V0U3RlcHBlcigpIHsgaXNNT3ZlclN0ZXBwZXIgPSBmYWxzZTsgb25DaGFuZ2VPdmVyKCk7IH1cblxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlT3ZlciAoKSB7XG5cbiAgICAgICAgaWYgKGlzTU92ZXJLZXkgfHwgaXNNT3ZlclN0ZXBwZXIpIHtcblxuICAgICAgICAgICAgaWYgKCFpc1Nob3dpbmdTdGVwcGVycykge1xuICAgICAgICAgICAgICAgIHNob3dTdGVwcGVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc01PdmVyS2V5ICYmICFpc01PdmVyU3RlcHBlcikge1xuXG4gICAgICAgICAgICBpZiAoaXNTaG93aW5nU3RlcHBlcnMpIHtcbiAgICAgICAgICAgICAgICBoaWRlU3RlcHBlcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzaG93U3RlcHBlcnMoKSB7XG5cbiAgICAgICAgaXNTaG93aW5nU3RlcHBlcnMgPSB0cnVlO1xuXG4gICAgICAgIHZhciBiciA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChoYXNQcmV2KSB7XG4gICAgICAgICAgICBhbWd1aS5kZU92ZXJsYXlDb250LmFwcGVuZENoaWxkKGRlUHJldik7XG4gICAgICAgICAgICBkZVByZXYuc3R5bGUubGVmdCA9IChici5sZWZ0IC0gc3RlcHBlclcpICsgJ3B4JztcbiAgICAgICAgICAgIGRlUHJldi5zdHlsZS50b3AgPSBici50b3AgKyAncHgnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaGFzTmV4dCkge1xuICAgICAgICAgICAgYW1ndWkuZGVPdmVybGF5Q29udC5hcHBlbmRDaGlsZChkZU5leHQpO1xuICAgICAgICAgICAgZGVOZXh0LnN0eWxlLmxlZnQgPSBici5yaWdodCArICdweCc7XG4gICAgICAgICAgICBkZU5leHQuc3R5bGUudG9wID0gYnIudG9wICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVTdGVwcGVycygpIHtcblxuICAgICAgICBpc1Nob3dpbmdTdGVwcGVycyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChkZVByZXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZGVQcmV2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGVQcmV2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZU5leHQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZGVOZXh0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGVOZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN0ZXBwZXIoaXNMZWZ0KSB7XG5cbiAgICAgICAgdmFyIGRlU3RlcHBlciA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgY29sb3I6IGFtZ3VpLmNvbG9yLnRleHRJbnZlcnNlLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogYW1ndWkuY29sb3Iub3ZlcmxheUludmVyc2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSG92ZXI6IGFtZ3VpLmNvbG9yLmJnSW52ZXJzZSxcbiAgICAgICAgICAgIGljb246IGlzTGVmdCA/ICdhbmdsZS1sZWZ0JyA6ICdhbmdsZS1yaWdodCcsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdC5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc3RlcHBlclcsXG4gICAgICAgICAgICBvbkNsaWNrOiBpc0xlZnQgPyBvcHQub25DbGlja1ByZXYgOiBvcHQub25DbGlja05leHRcbiAgICAgICAgfSk7XG4gICAgICAgIGRlU3RlcHBlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlU3RlcHBlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICBkZVN0ZXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uTU92ZXJTdGVwcGVyKTtcbiAgICAgICAgZGVTdGVwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbk1PdXRTdGVwcGVyKTtcblxuICAgICAgICByZXR1cm4gZGVTdGVwcGVyO1xuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFRvb2x0aXA6IGFkZFRvb2x0aXAsXG4gICAgICAgIHJlbW92ZVRvb2x0aXA6IHJlbW92ZVRvb2x0aXAsXG4gICAgICAgIGdldFRvb2x0aXA6IGdldFRvb2x0aXAsXG4gICAgfTtcbn07XG5cbnZhciB0b29sdGlwTWFwID0gbmV3IE1hcCgpO1xuXG5cblxuZnVuY3Rpb24gYWRkVG9vbHRpcChvcHQpIHtcblxuICAgIHZhciBzaG93U2V0VCwgZGVsYXkgPSA0MjMsIG14ID0gMCwgbXkgPSAwO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUudGV4dENvbnRlbnQgPSBvcHQudGV4dDtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgZGUuc3R5bGUucGFkZGluZyA9ICcxMnB4JztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGUuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXlJbnZlcnNlO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dEludmVyc2U7XG5cbiAgICBkZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgb3B0LmRlVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbk1FbnRlcik7XG4gICAgICAgIG9uTUxlYXZlKCk7XG4gICAgfTtcblxuICAgIGRlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuXG4gICAgICAgIGRlLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICB9XG5cbiAgICB0b29sdGlwTWFwLnNldChvcHQuZGVUYXJnZXQsIGRlKTtcblxuICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25NRW50ZXIpO1xuXG4gICAgZnVuY3Rpb24gb25NRW50ZXIoZSkge1xuXG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1Nb3ZlKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbk1MZWF2ZSk7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1MZWF2ZSk7XG5cbiAgICAgICAgb25NTW92ZShlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1MZWF2ZSgpIHtcblxuICAgICAgICBvcHQuZGVUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25NTW92ZSk7XG4gICAgICAgIG9wdC5kZVRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NTGVhdmUpO1xuICAgICAgICBvcHQuZGVUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25NTGVhdmUpO1xuXG4gICAgICAgIGhpZGUoKTtcbiAgICAgICAgY2xlYXJTaG93U2V0VCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTU1vdmUoZSkge1xuXG4gICAgICAgIGhpZGUoKTtcbiAgICAgICAgcmVmcmVzaFNob3dTZXRUKCk7XG4gICAgICAgIG14ID0gZS5jbGllbnRYO1xuICAgICAgICBteSA9IGUuY2xpZW50WTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWZyZXNoU2hvd1NldFQoKSB7XG5cbiAgICAgICAgY2xlYXJTaG93U2V0VCgpO1xuICAgICAgICBzaG93U2V0VCA9IHNldFRpbWVvdXQoc2hvdywgZGVsYXkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyU2hvd1NldFQoKSB7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHNob3dTZXRUKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgIGFtZ3VpLmRlT3ZlcmxheUNvbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgICAgICBhbWd1aS5wbGFjZVRvUG9pbnQoZGUsIG14LCBteSwgb3B0LnNpZGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG5cbiAgICAgICAgaWYgKGRlLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcChkZVRhcmdldCkge1xuXG4gICAgdmFyIHRvb2x0aXAgPSBhbWd1aS5nZXRUb29sdGlwKGRlVGFyZ2V0KTtcblxuICAgIGlmICh0b29sdGlwKSB7XG5cbiAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBnZXRUb29sdGlwKGRlVGFyZ2V0KSB7XG5cbiAgICByZXR1cm4gdG9vbHRpcE1hcC5nZXQoZGVUYXJnZXQpO1xufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cblxuZnVuY3Rpb24gcGxhY2VUb1BvaW50KGRlLCBteCwgbXksIHdheSkge1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQoZGUsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgcHggPSAwLCBweSA9IDAsXG4gICAgICAgICAgICBiciA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgdyA9IGJyLndpZHRoLFxuICAgICAgICAgICAgaCA9IGJyLmhlaWdodCxcbiAgICAgICAgICAgIHd3ID0gd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICB3aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICB3YXkgPSB3YXkgfHwgJ2xlZnQnO1xuXG4gICAgICAgIHN3aXRjaCAod2F5KSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgcHggPSBteCAtICh3IC8gMik7XG4gICAgICAgICAgICAgICAgcHkgPSBteSAtIGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICBweCA9IG14O1xuICAgICAgICAgICAgICAgIHB5ID0gbXkgLSAoaCAvIDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHB4ID0gbXggLSAodyAvIDIpO1xuICAgICAgICAgICAgICAgIHB5ID0gbXk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICBweCA9IG14IC0gdztcbiAgICAgICAgICAgICAgICBweSA9IG15IC0gKGggLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChweSA8IDApIHB5ID0gMDtcbiAgICAgICAgaWYgKHB4ICsgdyA+IHd3KSBweCAtPSAocHggKyB3KSAtIHd3O1xuICAgICAgICBpZiAocHkgKyBoID4gd2gpIHB5IC09IChweSArIGgpIC0gd2g7XG4gICAgICAgIGlmIChweCA8IDApIHB4ID0gMDtcblxuICAgICAgICBkZS5zdHlsZS5sZWZ0ID0gcHggKyAncHgnO1xuICAgICAgICBkZS5zdHlsZS50b3AgPSBweSArICdweCc7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNhbGxPbkFkZGVkKGRlLCBjYiwgdGhpc0FyZykge1xuXG4gICAgaWYgKGRlIGluc3RhbmNlb2YgQXJyYXkpIHtcblxuICAgICAgICB2YXIgZGVSZXN0ID0gZGU7XG4gICAgICAgIGRlID0gZGVSZXN0LnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKGRlUmVzdC5sZW5ndGggIT09IDApIHtcblxuICAgICAgICAgICAgY2IgPSBjYWxsT25BZGRlZC5iaW5kKHRoaXMsIGRlUmVzdCwgY2IsIHRoaXNBcmcpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHZhciBzZXRULCBzZXRUVGltZSA9IDE7XG4gICAgY2hlY2tMb29wKCk7XG4gICAgXG4gICAgZnVuY3Rpb24gY2hlY2tMb29wKCkge1xuXG4gICAgICAgIGlmIChjaGVjayhkZSkpIHtcblxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzQXJnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZXRUVGltZSA8IDI1Nikge1xuICAgICAgICAgICAgICAgIHNldFRUaW1lICo9IDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzZXRUKTtcbiAgICAgICAgICAgIHNldFQgPSBzZXRUaW1lb3V0KGNoZWNrTG9vcCwgc2V0VFRpbWUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVjayAobm9kZSkge1xuXG4gICAgICAgIHdoaWxlIChub2RlLnBhcmVudE5vZGUpIHtcblxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDkgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxudmFyIGRlbGF5V2l0aFJBRiA9ICgoKSA9PiB7XG5cbiAgICB2YXIgc3RhY2sgPSBuZXcgTWFwKCksXG4gICAgICAgIHdhaXRpbmcgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgb25SYWYgPSAoKSA9PiB7XG5cbiAgICAgICAgc3RhY2suZm9yRWFjaCgocmVnLCBmbikgPT4ge1xuXG4gICAgICAgICAgICBmbi5hcHBseShyZWcuY3R4LCByZWcuYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrLmNsZWFyKCk7XG4gICAgICAgIHdhaXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gZm4gPT4ge1xuXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBwZXIgKCkgeyBcblxuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBzdGFjay5zZXQod3JhcHBlciwge2N0eDogdGhpcywgYXJnczogYXJndW1lbnRzfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh3YWl0aW5nID09PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIHdhaXRpbmcgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uUmFmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHBsYWNlVG9Qb2ludDogcGxhY2VUb1BvaW50LFxuICAgICAgICBjYWxsT25BZGRlZDogY2FsbE9uQWRkZWQsXG4gICAgICAgIGRlbGF5V2l0aFJBRjogZGVsYXlXaXRoUkFGLFxuICAgIH07XG59OyIsIm1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPXtcbiAgXCJuYW1lXCI6IFwiYW1ndWlcIixcbiAgXCJjc3NfcHJlZml4X3RleHRcIjogXCJpY29uLVwiLFxuICBcImNzc191c2Vfc3VmZml4XCI6IGZhbHNlLFxuICBcImhpbnRpbmdcIjogdHJ1ZSxcbiAgXCJ1bml0c19wZXJfZW1cIjogMTAwMCxcbiAgXCJhc2NlbnRcIjogODUwLFxuICBcImdseXBoc1wiOiBbXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1M2VkODU3MDIyNTU4MTI2OWNkN2VmZjU3OTVlOGJlYVwiLFxuICAgICAgXCJjc3NcIjogXCJlbW8tdW5oYXBweVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDEyLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2OGUyOThmZjJkOGIyNWRkN2Y2NDdlZDY0ZjVhZTY5MFwiLFxuICAgICAgXCJjc3NcIjogXCJlbW8tc3VycHJpc2VkXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzIsXG4gICAgICBcInNyY1wiOiBcImZvbnRlbGljb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImJiNjhhMTNhMzU3NGIwODdkNDM1MGVmZjBiOGQ0OGUzXCIsXG4gICAgICBcImNzc1wiOiBcImVtby10b25ndWVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3OSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGVsaWNvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNDg0M2QwZDYwNTBkZDUwOGQ0YzEwMWEzMzRmNDZkYjJcIixcbiAgICAgIFwiY3NzXCI6IFwiZW1vLXNob290XCIsXG4gICAgICBcImNvZGVcIjogNTk0ODAsXG4gICAgICBcInNyY1wiOiBcImZvbnRlbGljb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjJiZDVmOTg0ODJkODY2NDk5NTgzMTJlYTJhYjViYjQwXCIsXG4gICAgICBcImNzc1wiOiBcImVtby1sYXVnaFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDgxLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4Y2U3MzI2ODg1ODc5MDlhZDBhOWQ4MzIzZWFjYThhZFwiLFxuICAgICAgXCJjc3NcIjogXCJtYXJxdWVlXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTMsXG4gICAgICBcInNyY1wiOiBcImZvbnRlbGljb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjUyMTFhZjQ3NGQzYTk4NDhmNjdmOTQ1ZTJjY2FmMTQzXCIsXG4gICAgICBcImNzc1wiOiBcImNhbmNlbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjQ0ZTA0NzE1YWVjYmNhN2YyNjZhMTdkNWE3ODYzYzY4XCIsXG4gICAgICBcImNzc1wiOiBcInBsdXNcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxYTVjZmExODY2NDdlOGM5MjljMmIxN2I5ZmM0ZGFjMVwiLFxuICAgICAgXCJjc3NcIjogXCJwbHVzLXNxdWFyZWRcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjZTNjZjA5MWQ2ZWJkMDA0ZGQwYjUyZDI0MDc0ZTZlM1wiLFxuICAgICAgXCJjc3NcIjogXCJoZWxwXCIsXG4gICAgICBcImNvZGVcIjogNTk1MTAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiM2Q0ZWE4YTc4ZGMzNGVmZTg5MWYzYTBmM2Q5NjEyNzRcIixcbiAgICAgIFwiY3NzXCI6IFwiaW5mb1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NTA5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjBkZGQzZTgyMDFjY2M3ZDQxZjdiN2M5ZDI3ZWNhNmMxXCIsXG4gICAgICBcImNzc1wiOiBcImxpbmtcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2MCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxZGNkMmIyMTQ4YjdmMDg2YTRlYjQ3ZjZhNzQ2YmRlZVwiLFxuICAgICAgXCJjc3NcIjogXCJ1bmxpbmtcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2MSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjNWZkMzQ5Y2JkM2QyM2U0YWRlMzMzNzg5YzI5YzcyOVwiLFxuICAgICAgXCJjc3NcIjogXCJleWVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzOCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3ZmQ2ODNiMmM1MThjZWI5ZTVmYTY3NTdmMjI3NmZhYVwiLFxuICAgICAgXCJjc3NcIjogXCJleWUtb2ZmXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTdhMGFjODAwZGY3MjhhYWQ2MWE3Y2Y5ZTEyZjVmZWZcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxhZ1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDk3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjZjODMwOTI0MjE0NDEyOTZmNWM0ZTgwNzRiMGNmMzJjXCIsXG4gICAgICBcImNzc1wiOiBcImZsYWctZW1wdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkN2E2MTRiZDcwMWY2NzEyZThlM2IyYmUxMjQ4OTllMVwiLFxuICAgICAgXCJjc3NcIjogXCJmbGFnLWNoZWNrZXJlZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDczLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjlhNzZiYzEzNWVhYzE3ZDJjOGI4YWQ0YTU3NzRmYzg3XCIsXG4gICAgICBcImNzc1wiOiBcImRvd25sb2FkXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZjU5OTlhMDEyZmMzNzUyMzg2NjM1ZWMwMmE4NTg0NDdcIixcbiAgICAgIFwiY3NzXCI6IFwiZG93bmxvYWQtY2xvdWRcIixcbiAgICAgIFwiY29kZVwiOiAxMTUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZGUyZmM3YTVjOTg2YWI4YzYyMmY2MzQ1NWQ3Y2Y4MTRcIixcbiAgICAgIFwiY3NzXCI6IFwidXBsb2FkLWNsb3VkXCIsXG4gICAgICBcImNvZGVcIjogMTE3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjcwMzRlNGQyMjg2NmFmODJiZWY4MTFmNTJmYjFiYTQ2XCIsXG4gICAgICBcImNzc1wiOiBcImNvZGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI0YWFkNmJiNTBiMDJjMTg1MDhhYWU5Y2JlMTRlNzg0ZVwiLFxuICAgICAgXCJjc3NcIjogXCJzaGFyZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NTA4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImQzNWExZDM1ZWZlYjc4NGQxZGM5YWMxOGI5YjZjMmI2XCIsXG4gICAgICBcImNzc1wiOiBcInBlbmNpbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQ4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjAxMzMzODdmMjA2OWExYjMxNjg5NDJiODRkODFkZDNhXCIsXG4gICAgICBcImNzc1wiOiBcImdhbWVwYWRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5NSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmNDhhZTU0YWRmYjI3ZDhhZGE1M2QwZmQ5ZTM0ZWUxMFwiLFxuICAgICAgXCJjc3NcIjogXCJ0cmFzaFwiLFxuICAgICAgXCJjb2RlXCI6IDU5Mzk2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjFiNWE1ZDdiN2UzYzcxNDM3ZjVhMjZiZWZkZDA0NWVkXCIsXG4gICAgICBcImNzc1wiOiBcImRvY1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjNjOTYxYzFhOGQ4NzQ4MTU4NTZmYzY2MzdkYzVhMTNjXCIsXG4gICAgICBcImNzc1wiOiBcImZpbGUtaW1hZ2VcIixcbiAgICAgIFwiY29kZVwiOiA1OTUxMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4MWRiMDMzZTcwNGViN2M1ODZhMzY1NTU5ZDdjMGYzNlwiLFxuICAgICAgXCJjc3NcIjogXCJmaWxlLWF1ZGlvXCIsXG4gICAgICBcImNvZGVcIjogNTk1MTIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZGQ2OWQ5YWE1ODllYTdiYzBhODJhM2ZlNjcwMzlmNGJcIixcbiAgICAgIFwiY3NzXCI6IFwiZmlsZS12aWRlb1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NTExLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjI2NjEzYTJlNmJjNDE1OTNjNTRiZWFkNDZmOGM4ZWUzXCIsXG4gICAgICBcImNzc1wiOiBcImZpbGUtY29kZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDAwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImIwOTFhOGJkMGZkYWRlMTc0OTUxZjE3ZDkzNmY1MWU0XCIsXG4gICAgICBcImNzc1wiOiBcImZvbGRlci1lbXB0eVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDAzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjY1MzNiZGMxNmFiMjAxZWIzZjNiMjdjZTk4OWNhYjMzXCIsXG4gICAgICBcImNzc1wiOiBcImZvbGRlci1vcGVuLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0MDQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTU5NjQ3YTZmNDMwYjNhZWFkYmVjZDY3MTk0NDUxZGRcIixcbiAgICAgIFwiY3NzXCI6IFwibWVudVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU5OTQ2MWFiZmVmMzkyMzU0NmRhOGQ3NDUzNzJjOTk1XCIsXG4gICAgICBcImNzc1wiOiBcImNvZ1wiLFxuICAgICAgXCJjb2RlXCI6IDU5MzkzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjViYjEwM2NkMjlkZTc3ZTBlMDZhNTI2Mzg1MjdiNTc1XCIsXG4gICAgICBcImNzc1wiOiBcIndyZW5jaFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDE1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjIxYjQyZDNjM2U2YmU0NGMzY2MzZDczMDQyZmFhMjE2XCIsXG4gICAgICBcImNzc1wiOiBcInNsaWRlcnNcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxNixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1OThhNWYyYmNmMzUyMWQxNjE1ZGU4ZTE4ODFjY2QxN1wiLFxuICAgICAgXCJjc3NcIjogXCJjbG9ja1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDU4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjUyNzhlZjc3NzNlOTQ4ZDU2YzRkNDQyYzhjOGM5OGNmXCIsXG4gICAgICBcImNzc1wiOiBcImxpZ2h0YnVsYlwiLFxuICAgICAgXCJjb2RlXCI6IDU5NTAyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjk4ZDljODNjMWVlN2MyYzI1YWY3ODRiNTE4YzUyMmM1XCIsXG4gICAgICBcImNzc1wiOiBcImJsb2NrXCIsXG4gICAgICBcImNvZGVcIjogNTk1MDAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZTU5NGZjNmU1ODcwYjRhYjdlNDlmNTI1NzFkNTI1NzdcIixcbiAgICAgIFwiY3NzXCI6IFwicmVzaXplLWZ1bGxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJiMDEzZjY0MDNlNWFiMDMyNjYxNGU2OGQxODUwZmQ2YlwiLFxuICAgICAgXCJjc3NcIjogXCJyZXNpemUtZnVsbC1hbHRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzYzI0ZWUzM2M5NDg3YmJmMTg3OTZjYTZkZmZhMTkwNVwiLFxuICAgICAgXCJjc3NcIjogXCJyZXNpemUtc21hbGxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzNixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkM2IzZjE3YmMzZWI3Y2Q4MDlhMDdiYmQ0ZDE3OGJlZVwiLFxuICAgICAgXCJjc3NcIjogXCJyZXNpemUtdmVydGljYWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1MixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzYzczZDA1OGU0NTg5YjY1YThkOTU5YzBmYzhmMTUzZFwiLFxuICAgICAgXCJjc3NcIjogXCJyZXNpemUtaG9yaXpvbnRhbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDUwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjY2MDVlZTY0NDFiZjQ5OWZmYTNjNjNkM2M3NDA5NDcxXCIsXG4gICAgICBcImNzc1wiOiBcIm1vdmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1MSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIwYjJiNjZlNTI2MDI4YTY5NzJkNTFhNmYxMDI4MWI0YlwiLFxuICAgICAgXCJjc3NcIjogXCJ6b29tLWluXCIsXG4gICAgICBcImNvZGVcIjogNTk1MDMsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZDI1ZDEwZWZhOTAwZjUyOWFkMWQyNzU2NTdjZmQzMGVcIixcbiAgICAgIFwiY3NzXCI6IFwiem9vbS1vdXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwNCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjNTMwNjhmZTIxYzg0MTBiMGEwOThiNGM1MmMzZDM3ZVwiLFxuICAgICAgXCJjc3NcIjogXCJkb3duLWNpcmNsZWQyXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzMsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMTI4ZDYzMTUwYTQxODAwZTBiZWZmNTUyMzUyNjk1NDJcIixcbiAgICAgIFwiY3NzXCI6IFwidXAtY2lyY2xlZDJcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyZDYxNTA0NDIwNzljYmRhN2RmNjQ1MjJkYzI0ZjQ4MlwiLFxuICAgICAgXCJjc3NcIjogXCJkb3duLWRpclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDE5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjgwY2QxMDIyYmQ5ZWExNTFkNTU0YmVjMWZhMDVmMmRlXCIsXG4gICAgICBcImNzc1wiOiBcInVwLWRpclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDk0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjlkYzY1NDA5NTA4NTE2NzUyNDYwMmM5YWNjMGM1NTcwXCIsXG4gICAgICBcImNzc1wiOiBcImxlZnQtZGlyXCIsXG4gICAgICBcImNvZGVcIjogNTk0OTIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZmIxYzc5OWZmZTViZjhmYjdmOGJjYjY0N2M4ZmU5ZTZcIixcbiAgICAgIFwiY3NzXCI6IFwicmlnaHQtZGlyXCIsXG4gICAgICBcImNvZGVcIjogNTk0OTEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZjNmOTBjOGM4OTc5NWRhMzBmNzQ0NDYzNDQ3NmVhNGZcIixcbiAgICAgIFwiY3NzXCI6IFwiYW5nbGUtbGVmdFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjdiZjE0MjgxYWY1NjMzYTU5N2Y4NWIwNjFlZjFjZmI5XCIsXG4gICAgICBcImNzc1wiOiBcImFuZ2xlLXJpZ2h0XCIsXG4gICAgICBcImNvZGVcIjogNTkzOTQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNWRlOTM3MDg0NmEyNjk0N2UwM2Y2MzE0MmEzZjFjMDdcIixcbiAgICAgIFwiY3NzXCI6IFwiYW5nbGUtdXBcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlNGRkZTE5OTJmNzg3MTYzZTJlMmI1MzRiOGM4MDY3ZFwiLFxuICAgICAgXCJjc3NcIjogXCJhbmdsZS1kb3duXCIsXG4gICAgICBcImNvZGVcIjogNTkzOTUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYmM3MWY0YzZlNTMzOTRkNWJhNDZiMDYzMDQwMDE0ZjFcIixcbiAgICAgIFwiY3NzXCI6IFwiY3dcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmOWMzMjA1ZGYyNmU3Nzc4YWJhYzg2MTgzYWVmZGM5OVwiLFxuICAgICAgXCJjc3NcIjogXCJjY3dcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyNixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzN2M1YWI2M2YxMGQ3YWQwYjg0ZDA5NzhkY2QwYzdhOFwiLFxuICAgICAgXCJjc3NcIjogXCJzaHVmZmxlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNjAyMGFmZjA2N2ZjM2MxMTljZGQ3NWRhYTUyNDkyMjBcIixcbiAgICAgIFwiY3NzXCI6IFwiZXhjaGFuZ2VcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3MCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkNDgxNmMwODQ1YWE0Mzc2NzIxM2Q0NTU3NGIzYjE0NVwiLFxuICAgICAgXCJjc3NcIjogXCJoaXN0b3J5XCIsXG4gICAgICBcImNvZGVcIjogNTk0MTgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiODRiYjk2OTViODY2MmZhNDc4MzI0MmY4NGM5ZTQ2ODJcIixcbiAgICAgIFwiY3NzXCI6IFwiZXhwYW5kXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNzk2MDUxN2E1MDRlNDJhZWEwNjQxZjE1YmM1NWZiZWRcIixcbiAgICAgIFwiY3NzXCI6IFwiY29sbGFwc2VcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlZDVhMzg3MDRmMDMyOWU2MTBlZTFjOTJiZWMzYWQzZFwiLFxuICAgICAgXCJjc3NcIjogXCJleHBhbmQtcmlnaHRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3MSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlYTJlYzk5ZmJjZTAzODY0ZTU5M2JiZjRmMzAyYTc5ZFwiLFxuICAgICAgXCJjc3NcIjogXCJjb2xsYXBzZS1sZWZ0XCIsXG4gICAgICBcImNvZGVcIjogNTk0NzIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiY2UwNmI1ODA1MTIwZDBjMmY4ZDYwY2QzZjFhNGZkYjVcIixcbiAgICAgIFwiY3NzXCI6IFwicGxheVwiLFxuICAgICAgXCJjb2RlXCI6IDU5Mzk3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjBiMjgwNTBiYWM5ZDNmYWNmMmYwMjI2ZGI2NDNlY2UwXCIsXG4gICAgICBcImNzc1wiOiBcInBhdXNlXCIsXG4gICAgICBcImNvZGVcIjogNTkzOTksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZTc1YzU0YzI4MmMwYmYyMjE4NmM1YzdlYzRiMDNlYWNcIixcbiAgICAgIFwiY3NzXCI6IFwidGFyZ2V0XCIsXG4gICAgICBcImNvZGVcIjogNTk0NTcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMzIxMmY0MmM2NWQ0MWVkOTFjYjQzNWQwNDkwZTI5ZWRcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxhc2gtMVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDc1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjM4NTc1YTgwM2M0ZGEzMWNlMjBkNzdlMWUxMjM2YmNiXCIsXG4gICAgICBcImNzc1wiOiBcInBhcGVyLXBsYW5lXCIsXG4gICAgICBcImNvZGVcIjogNTk0NzQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiYTJhNzRmNWU3YjdkOWJhMDU0ODk3ZDhjNzk1YTMyNmFcIixcbiAgICAgIFwiY3NzXCI6IFwibGlzdC1idWxsZXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ5OSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIwOWJkYWUxMjBmODVlNzlmMmRiMTYxNDVhOWUxZjZkOFwiLFxuICAgICAgXCJjc3NcIjogXCJjcm9wXCIsXG4gICAgICBcImNvZGVcIjogNTk0ODksXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiODc3MjMzMWE5ZmVjOTgzY2RiNWQ3MjkwMmE2ZjllMGVcIixcbiAgICAgIFwiY3NzXCI6IFwic2Npc3NvcnNcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyNCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxMDdjZTA4YzcyMzEwOTdjNzQ0N2Q4ZjRkMDU5YjU1ZlwiLFxuICAgICAgXCJjc3NcIjogXCJlbGxpcHNpc1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQ0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc1MDA1ODgzN2E5MWVkYWU2NGIwM2Q2MGZjN2U4MWE3XCIsXG4gICAgICBcImNzc1wiOiBcImVsbGlwc2lzLXZlcnRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJhYTk5MWU4ZTY2YWM1NGIzM2YwYTRiMDU1NTU5N2IwOFwiLFxuICAgICAgXCJjc3NcIjogXCJiYXJjb2RlXCIsXG4gICAgICBcImNvZGVcIjogNTk1MDcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiY2E5MGRhMDJkMmM2YTMxODNmMjQ1OGU0ZGM0MTYyODVcIixcbiAgICAgIFwiY3NzXCI6IFwiYWp1c3RcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1OSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4MzQ1OGFjZDlmMzhkMDNlYzAyMjZjZTgyYTgzYzBmNFwiLFxuICAgICAgXCJjc3NcIjogXCJ0aW50XCIsXG4gICAgICBcImNvZGVcIjogNTk0OTAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMmE0ZTZjOTliNzMyYTU3ZGE0MGUzMmZhMmE3ODAwYTRcIixcbiAgICAgIFwiY3NzXCI6IFwidG9nZ2xlLW9mZlwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDY0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjMyNTZlZjAzYjE2ZTdhYjUxMjM1YmM3Mzc4YjUzYmI1XCIsXG4gICAgICBcImNzc1wiOiBcInRvZ2dsZS1vblwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDYzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImRkNmM2YjIyMWExMDg4ZmY4YTliOWNkMzJkMGIzZGQ1XCIsXG4gICAgICBcImNzc1wiOiBcImNoZWNrXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNGI5MDBkMDRlOGFiOGM4MmYwODBjMWNmYmFjNTc3MmNcIixcbiAgICAgIFwiY3NzXCI6IFwiY2hlY2stZW1wdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2MixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxMzAzODBlNDgxYTdkZWZjNjkwZGZiMjQxMjNhMWYwY1wiLFxuICAgICAgXCJjc3NcIjogXCJjaXJjbGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0MixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI0MjJlMDdlNWFmYjgwMjU4YTljNGVkMTcwNjQ5OGY4YVwiLFxuICAgICAgXCJjc3NcIjogXCJjaXJjbGUtZW1wdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0MSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1Nzc0ZDBhMGU1MGY2ZWVmYzhiZTAxYmQ3NjFlNWRkM1wiLFxuICAgICAgXCJjc3NcIjogXCJjaXJjbGUtdGhpblwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImY0NDQ1ZmViNTU1MjEyODM1NzJlZTg4YmMzMDRmOTI4XCIsXG4gICAgICBcImNzc1wiOiBcImZsb3BweVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDAxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjNlNjc0OTk1Y2FjYzJiMDk2OTJjMDk2ZWE3ZWI2MTY1XCIsXG4gICAgICBcImNzc1wiOiBcIm1lZ2FwaG9uZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDMwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc5NWVmZDA3Y2Q1MjA1YjU4OWM4ODM5MTZhNzZjZmYwXCIsXG4gICAgICBcImNzc1wiOiBcImhkZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDExLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjhhYTk5YmM2MGYzNTUzYmIzZTMxYjczZGQ2ZTc0NGM4XCIsXG4gICAgICBcImNzc1wiOiBcInJvY2tldFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDc3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc0MzIwNzdlNmEyZDZhYTE5OTg0Y2E4MjFiYjZiYmRhXCIsXG4gICAgICBcImNzc1wiOiBcImJ1Z1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDc2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjQxMDljNDc0ZmY5OWNhZDI4ZmQ1YTJjMzhhZjJlYzZmXCIsXG4gICAgICBcImNzc1wiOiBcImZpbHRlclwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDg4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjZmZTk1ZmZjM2M4MDdlNjI2NDdkNGY4MTRhOTZlMGQ3XCIsXG4gICAgICBcImNzc1wiOiBcInNpdGVtYXBcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0NSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmYTEwNzc3YjJkODhjYzY0Y2Q2ZTRmMjZlZjBlNTI2NFwiLFxuICAgICAgXCJjc3NcIjogXCJ0ZXJtaW5hbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjVmMGYxODNlMjQxZDE1Y2JlNDg2YmZmODhiMTg4ZGZmXCIsXG4gICAgICBcImNzc1wiOiBcInB1enpsZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDkzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImM5MmFkMzAyOGFjY2U5ZDUxYmFlMGFjODJmNWRlOGEyXCIsXG4gICAgICBcImNzc1wiOiBcImJ1bGxzZXllXCIsXG4gICAgICBcImNvZGVcIjogNTk0MDgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNGZjOWI4YzEyMmQxYjVjYTNkZjQyYTEwNGE2NTVlOGJcIixcbiAgICAgIFwiY3NzXCI6IFwibGFuZ3VhZ2VcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1NTYwNWNhNzlhNjVkZWYxYTljMzAwMDM3ZmYxZDBkNVwiLFxuICAgICAgXCJjc3NcIjogXCJwYXdcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyMCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmYmVkZTNjNTU4NDI4MmEwZTliMTMxOTI2ZGZmNzFkYVwiLFxuICAgICAgXCJjc3NcIjogXCJjdWJlXCIsXG4gICAgICBcImNvZGVcIjogNTk0MjgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZWJmZmE0ZTczNGM4Mzc5ZmZlZTRmYmZlNDkyNjRkOTRcIixcbiAgICAgIFwiY3NzXCI6IFwibGlmZWJ1b3lcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4MixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjNTM0MTVmYmQyNjk1MDMzYmQ3MTgwZDdhOWVkNDkzNFwiLFxuICAgICAgXCJjc3NcIjogXCJyZWJlbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjY2MzJjZTEwMTlmOTExNTg0MjMzNTYyMmNiNTVmNGU3XCIsXG4gICAgICBcImNzc1wiOiBcImVtcGlyZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjg4ZTZmYWEwZjYzM2VlMjM2NjdmODE1Njg5ZTgyYWYzXCIsXG4gICAgICBcImNzc1wiOiBcImV5ZWRyb3BwZXJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ4NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmYTlhMGI3ZTc4OGMyZDc4ZTI0Y2VmMWRlNmI3MGU4MFwiLFxuICAgICAgXCJjc3NcIjogXCJicnVzaFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDg3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjE2OWY1MWI3ZTQwNWRlOGMwM2NmODVhNmU4Yzc0MGFiXCIsXG4gICAgICBcImNzc1wiOiBcImJpdGJ1Y2tldFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDgzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc2Njc1MDExZTkwNmQ1MGFmNDA0MTg2YjQ4OWZjNzZmXCIsXG4gICAgICBcImNzc1wiOiBcImNvZGVvcGVuXCIsXG4gICAgICBcImNvZGVcIjogNTk0ODQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiOWUzNGEwNDdmZWU5NDllYWU5YjZlNjEzZDc5MGQ2Y2ZcIixcbiAgICAgIFwiY3NzXCI6IFwiZHJvcGJveFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA5LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU3Y2I3MmExN2YzYjIxZTM1NzZmMzVjM2YwYTc2MzliXCIsXG4gICAgICBcImNzc1wiOiBcImdpdFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjVlMGEzNzQ3MjhmZmE4ZDBhZTFmMzMxYThmNjQ4MjMxXCIsXG4gICAgICBcImNzc1wiOiBcImdpdGh1YlwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDg1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImYwNmZlN2ZmMThkMWM1OTFiYzExODNjYjNhYjEwNWU5XCIsXG4gICAgICBcImNzc1wiOiBcImdvb2dsZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDUzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjJjMmNhOGE5NmIzMTc4MWM5YzgwNTZkMDVjMGE4OTgwXCIsXG4gICAgICBcImNzc1wiOiBcImJsYW5rXCIsXG4gICAgICBcImNvZGVcIjogNTk0MDcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMzRiYTUwZmU4ZTRmOTVlN2YzZDc2YzY1MzQ4MTRhNzBcIixcbiAgICAgIFwiY3NzXCI6IFwiaW5maW5pdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTUwNixcbiAgICAgIFwic3JjXCI6IFwiZW50eXBvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNzE4NGQ4MTcxYjZhOWIxOGVhYmJhY2U5NGNjYTIxZGJcIixcbiAgICAgIFwiY3NzXCI6IFwiY2hhcnQtbGluZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDc4LFxuICAgICAgXCJzcmNcIjogXCJlbnR5cG9cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2Y2VhNDBhYTZjYzUwMDU3MDgzZTRmMGE1YjkyNDEwY1wiLFxuICAgICAgXCJjc3NcIjogXCJmbG93LWxpbmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2NyxcbiAgICAgIFwic3JjXCI6IFwiZW50eXBvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNWY4ODA5NWRjNWU2Mzg4NjNhMGM3MzNlOTljMzI1NjhcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxvdy1wYXJhbGxlbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDY4LFxuICAgICAgXCJzcmNcIjogXCJlbnR5cG9cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlNTM2YzgwZTAxMTM2NjA0NjM2MGY1ZmZlNjY5ZGJmZFwiLFxuICAgICAgXCJjc3NcIjogXCJmb2xkZXItYWRkXCIsXG4gICAgICBcImNvZGVcIjogNTk0MDIsXG4gICAgICBcInNyY1wiOiBcInR5cGljb25zXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZTJhYmE5NTY1YmU1MWNhNzAyMjRjMDcyODJhZmJiYTZcIixcbiAgICAgIFwiY3NzXCI6IFwiY3Vyc29yXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDksXG4gICAgICBcInNyY1wiOiBcImljb25pY1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjc3OTI4Yzg0OWFjMmFlNmU3N2Q0ZWFlOWYyOTI3YzAwXCIsXG4gICAgICBcImNzc1wiOiBcImZsYXNoXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjYsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzM2FmYTBmNjI0Y2U1ZGFlNzNmNjJhM2YyMWE2N2Y4M1wiLFxuICAgICAgXCJjc3NcIjogXCJ2ZWN0b3JcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1NSxcbiAgICAgIFwic3JjXCI6IFwibWZnbGFic1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjEzNGFmN2YzOWU0OTE1MTVjYzFhNmQxZWI5NGQ5ZDhhXCIsXG4gICAgICBcImNzc1wiOiBcInZlY3Rvci1wZW5jaWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1NixcbiAgICAgIFwic3JjXCI6IFwibWZnbGFic1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImRhNzJhYjY0YjAyZDk5N2ZmMDUyMTMzOWYyOTk3MjMzXCIsXG4gICAgICBcImNzc1wiOiBcImhhc2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2NSxcbiAgICAgIFwic3JjXCI6IFwibWZnbGFic1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjM2NjUxMGVjZmIwOGNkMDExMDEzNGIxZWE5MDdmYjgxXCIsXG4gICAgICBcImNzc1wiOiBcImV2ZXJub3RlXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTAsXG4gICAgICBcInNyY1wiOiBcInpvY2lhbFwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjI3MmUwOGUwZTE2MjI2YWFkZjk0ZGNiZjMzYWFiMmIyXCIsXG4gICAgICBcImNzc1wiOiBcImtleVwiLFxuICAgICAgXCJjb2RlXCI6IDU5MzkyLFxuICAgICAgXCJzcmNcIjogXCJlbHVzaXZlXCJcbiAgICB9XG4gIF1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ2FtZ3VpJztcXG4gIHNyYzogdXJsKCcuLi9mb250L2FtZ3VpLmVvdD83OTc3NDA1MScpO1xcbiAgc3JjOiB1cmwoJy4uL2ZvbnQvYW1ndWkuZW90Pzc5Nzc0MDUxI2llZml4JykgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLFxcbiAgICAgICB1cmwoJy4uL2ZvbnQvYW1ndWkud29mZj83OTc3NDA1MScpIGZvcm1hdCgnd29mZicpLFxcbiAgICAgICB1cmwoJy4uL2ZvbnQvYW1ndWkudHRmPzc5Nzc0MDUxJykgZm9ybWF0KCd0cnVldHlwZScpLFxcbiAgICAgICB1cmwoJy4uL2ZvbnQvYW1ndWkuc3ZnPzc5Nzc0MDUxI2FtZ3VpJykgZm9ybWF0KCdzdmcnKTtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcbi8qIENocm9tZSBoYWNrOiBTVkcgaXMgcmVuZGVyZWQgbW9yZSBzbW9vdGggaW4gV2luZG96emUuIDEwMCUgbWFnaWMsIHVuY29tbWVudCBpZiB5b3UgbmVlZCBpdC4gKi9cXG4vKiBOb3RlLCB0aGF0IHdpbGwgYnJlYWsgaGludGluZyEgSW4gb3RoZXIgT1MtZXMgZm9udCB3aWxsIGJlIG5vdCBhcyBzaGFycCBhcyBpdCBjb3VsZCBiZSAqL1xcbi8qXFxuQG1lZGlhIHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzowKSB7XFxuICBAZm9udC1mYWNlIHtcXG4gICAgZm9udC1mYW1pbHk6ICdhbWd1aSc7XFxuICAgIHNyYzogdXJsKCcuLi9mb250L2FtZ3VpLnN2Zz83OTc3NDA1MSNhbWd1aScpIGZvcm1hdCgnc3ZnJyk7XFxuICB9XFxufVxcbiovXFxuIFxcbiBbY2xhc3NePVxcXCJpY29uLVxcXCJdOmJlZm9yZSwgW2NsYXNzKj1cXFwiIGljb24tXFxcIl06YmVmb3JlIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiYW1ndWlcXFwiO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIHNwZWFrOiBub25lO1xcbiBcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcXG4gIHdpZHRoOiAxZW07XFxuICBtYXJnaW4tcmlnaHQ6IC4yZW07XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAvKiBvcGFjaXR5OiAuODsgKi9cXG4gXFxuICAvKiBGb3Igc2FmZXR5IC0gcmVzZXQgcGFyZW50IHN0eWxlcywgdGhhdCBjYW4gYnJlYWsgZ2x5cGggY29kZXMqL1xcbiAgZm9udC12YXJpYW50OiBub3JtYWw7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG4gICAgIFxcbiAgLyogZml4IGJ1dHRvbnMgaGVpZ2h0LCBmb3IgdHdpdHRlciBib290c3RyYXAgKi9cXG4gIGxpbmUtaGVpZ2h0OiAxZW07XFxuIFxcbiAgLyogQW5pbWF0aW9uIGNlbnRlciBjb21wZW5zYXRpb24gLSBtYXJnaW5zIHNob3VsZCBiZSBzeW1tZXRyaWMgKi9cXG4gIC8qIHJlbW92ZSBpZiBub3QgbmVlZGVkICovXFxuICBtYXJnaW4tbGVmdDogLjJlbTtcXG4gXFxuICAvKiB5b3UgY2FuIGJlIG1vcmUgY29tZm9ydGFibGUgd2l0aCBpbmNyZWFzZWQgaWNvbnMgc2l6ZSAqL1xcbiAgLyogZm9udC1zaXplOiAxMjAlOyAqL1xcbiBcXG4gIC8qIFVuY29tbWVudCBmb3IgM0QgZWZmZWN0ICovXFxuICAvKiB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgxMjcsIDEyNywgMTI3LCAwLjMpOyAqL1xcbn1cXG4gXFxuLmljb24tZG93bmxvYWQtY2xvdWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFw3Myc7IH0gLyogJ3MnICovXFxuLmljb24tdXBsb2FkLWNsb3VkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcNzUnOyB9IC8qICd1JyAqL1xcbi5pY29uLWtleTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDAnOyB9IC8qICfuoIAnICovXFxuLmljb24tY29nOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwMSc7IH0gLyogJ+6ggScgKi9cXG4uaWNvbi1hbmdsZS1yaWdodDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDInOyB9IC8qICfuoIInICovXFxuLmljb24tYW5nbGUtZG93bjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDMnOyB9IC8qICfuoIMnICovXFxuLmljb24tdHJhc2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA0JzsgfSAvKiAn7qCEJyAqL1xcbi5pY29uLXBsYXk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA1JzsgfSAvKiAn7qCFJyAqL1xcbi5pY29uLXBsdXMtc3F1YXJlZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDYnOyB9IC8qICfuoIYnICovXFxuLmljb24tcGF1c2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA3JzsgfSAvKiAn7qCHJyAqL1xcbi5pY29uLWZpbGUtY29kZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDgnOyB9IC8qICfuoIgnICovXFxuLmljb24tZmxvcHB5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwOSc7IH0gLyogJ+6giScgKi9cXG4uaWNvbi1mb2xkZXItYWRkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwYSc7IH0gLyogJ+6giicgKi9cXG4uaWNvbi1mb2xkZXItZW1wdHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODBiJzsgfSAvKiAn7qCLJyAqL1xcbi5pY29uLWZvbGRlci1vcGVuLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwYyc7IH0gLyogJ+6gjCcgKi9cXG4uaWNvbi1kb2M6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODBkJzsgfSAvKiAn7qCNJyAqL1xcbi5pY29uLWdpdDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MGUnOyB9IC8qICfuoI4nICovXFxuLmljb24tYmxhbms6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODBmJzsgfSAvKiAn7qCPJyAqL1xcbi5pY29uLWJ1bGxzZXllOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxMCc7IH0gLyogJ+6gkCcgKi9cXG4uaWNvbi1kcm9wYm94OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxMSc7IH0gLyogJ+6gkScgKi9cXG4uaWNvbi1ldmVybm90ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTInOyB9IC8qICfuoJInICovXFxuLmljb24taGRkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxMyc7IH0gLyogJ+6gkycgKi9cXG4uaWNvbi1lbW8tdW5oYXBweTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTQnOyB9IC8qICfuoJQnICovXFxuLmljb24tbWFycXVlZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTUnOyB9IC8qICfuoJUnICovXFxuLmljb24tZG93bmxvYWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE2JzsgfSAvKiAn7qCWJyAqL1xcbi5pY29uLXdyZW5jaDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTcnOyB9IC8qICfuoJcnICovXFxuLmljb24tc2xpZGVyczpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTgnOyB9IC8qICfuoJgnICovXFxuLmljb24tY29kZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTknOyB9IC8qICfuoJknICovXFxuLmljb24taGlzdG9yeTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWEnOyB9IC8qICfuoJonICovXFxuLmljb24tZG93bi1kaXI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFiJzsgfSAvKiAn7qCbJyAqL1xcbi5pY29uLXBhdzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWMnOyB9IC8qICfuoJwnICovXFxuLmljb24tcmViZWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFkJzsgfSAvKiAn7qCdJyAqL1xcbi5pY29uLWVtcGlyZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWUnOyB9IC8qICfuoJ4nICovXFxuLmljb24tY2lyY2xlLXRoaW46YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFmJzsgfSAvKiAn7qCfJyAqL1xcbi5pY29uLXNjaXNzb3JzOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyMCc7IH0gLyogJ+6goCcgKi9cXG4uaWNvbi1jdzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjEnOyB9IC8qICfuoKEnICovXFxuLmljb24tY2N3OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyMic7IH0gLyogJ+6goicgKi9cXG4uaWNvbi1jYW5jZWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODIzJzsgfSAvKiAn7qCjJyAqL1xcbi5pY29uLWN1YmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI0JzsgfSAvKiAn7qCkJyAqL1xcbi5pY29uLXRlcm1pbmFsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyNSc7IH0gLyogJ+6gpScgKi9cXG4uaWNvbi1tZWdhcGhvbmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI2JzsgfSAvKiAn7qCmJyAqL1xcbi5pY29uLXBsdXM6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI3JzsgfSAvKiAn7qCnJyAqL1xcbi5pY29uLWVtby1zdXJwcmlzZWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI4JzsgfSAvKiAn7qCoJyAqL1xcbi5pY29uLWRvd24tY2lyY2xlZDI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI5JzsgfSAvKiAn7qCpJyAqL1xcbi5pY29uLWFuZ2xlLWxlZnQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJhJzsgfSAvKiAn7qCqJyAqL1xcbi5pY29uLWFuZ2xlLXVwOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyYic7IH0gLyogJ+6gqycgKi9cXG4uaWNvbi1yZXNpemUtc21hbGw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJjJzsgfSAvKiAn7qCsJyAqL1xcbi5pY29uLXJlc2l6ZS1mdWxsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyZCc7IH0gLyogJ+6grScgKi9cXG4uaWNvbi1leWU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJlJzsgfSAvKiAn7qCuJyAqL1xcbi5pY29uLWV5ZS1vZmY6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJmJzsgfSAvKiAn7qCvJyAqL1xcbi5pY29uLW1lbnU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODMwJzsgfSAvKiAn7qCwJyAqL1xcbi5pY29uLWNpcmNsZS1lbXB0eTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzEnOyB9IC8qICfuoLEnICovXFxuLmljb24tY2lyY2xlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzMic7IH0gLyogJ+6gsicgKi9cXG4uaWNvbi1lbGxpcHNpcy12ZXJ0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzMyc7IH0gLyogJ+6gsycgKi9cXG4uaWNvbi1lbGxpcHNpczpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzQnOyB9IC8qICfuoLQnICovXFxuLmljb24tc2l0ZW1hcDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzUnOyB9IC8qICfuoLUnICovXFxuLmljb24tZXhwYW5kOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzNic7IH0gLyogJ+6gticgKi9cXG4uaWNvbi1jb2xsYXBzZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzcnOyB9IC8qICfuoLcnICovXFxuLmljb24tcGVuY2lsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzOCc7IH0gLyogJ+6guCcgKi9cXG4uaWNvbi1jdXJzb3I6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM5JzsgfSAvKiAn7qC5JyAqL1xcbi5pY29uLXJlc2l6ZS1ob3Jpem9udGFsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzYSc7IH0gLyogJ+6guicgKi9cXG4uaWNvbi1tb3ZlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzYic7IH0gLyogJ+6guycgKi9cXG4uaWNvbi1yZXNpemUtdmVydGljYWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNjJzsgfSAvKiAn7qC8JyAqL1xcbi5pY29uLWdvb2dsZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2QnOyB9IC8qICfuoL0nICovXFxuLmljb24tY2hlY2s6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNlJzsgfSAvKiAn7qC+JyAqL1xcbi5pY29uLXZlY3RvcjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2YnOyB9IC8qICfuoL8nICovXFxuLmljb24tdmVjdG9yLXBlbmNpbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDAnOyB9IC8qICfuoYAnICovXFxuLmljb24tdGFyZ2V0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0MSc7IH0gLyogJ+6hgScgKi9cXG4uaWNvbi1jbG9jazpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDInOyB9IC8qICfuoYInICovXFxuLmljb24tYWp1c3Q6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQzJzsgfSAvKiAn7qGDJyAqL1xcbi5pY29uLWxpbms6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ0JzsgfSAvKiAn7qGEJyAqL1xcbi5pY29uLXVubGluazpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDUnOyB9IC8qICfuoYUnICovXFxuLmljb24tY2hlY2stZW1wdHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ2JzsgfSAvKiAn7qGGJyAqL1xcbi5pY29uLXRvZ2dsZS1vbjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDcnOyB9IC8qICfuoYcnICovXFxuLmljb24tdG9nZ2xlLW9mZjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDgnOyB9IC8qICfuoYgnICovXFxuLmljb24taGFzaDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDknOyB9IC8qICfuoYknICovXFxuLmljb24tZmxhc2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRhJzsgfSAvKiAn7qGKJyAqL1xcbi5pY29uLWZsb3ctbGluZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGInOyB9IC8qICfuoYsnICovXFxuLmljb24tZmxvdy1wYXJhbGxlbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGMnOyB9IC8qICfuoYwnICovXFxuLmljb24tc2h1ZmZsZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGQnOyB9IC8qICfuoY0nICovXFxuLmljb24tZXhjaGFuZ2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRlJzsgfSAvKiAn7qGOJyAqL1xcbi5pY29uLWV4cGFuZC1yaWdodDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGYnOyB9IC8qICfuoY8nICovXFxuLmljb24tY29sbGFwc2UtbGVmdDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTAnOyB9IC8qICfuoZAnICovXFxuLmljb24tZmxhZy1jaGVja2VyZWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODUxJzsgfSAvKiAn7qGRJyAqL1xcbi5pY29uLXBhcGVyLXBsYW5lOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1Mic7IH0gLyogJ+6hkicgKi9cXG4uaWNvbi1mbGFzaC0xOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1Myc7IH0gLyogJ+6hkycgKi9cXG4uaWNvbi1idWc6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODU0JzsgfSAvKiAn7qGUJyAqL1xcbi5pY29uLXJvY2tldDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTUnOyB9IC8qICfuoZUnICovXFxuLmljb24tY2hhcnQtbGluZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTYnOyB9IC8qICfuoZYnICovXFxuLmljb24tZW1vLXRvbmd1ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTcnOyB9IC8qICfuoZcnICovXFxuLmljb24tZW1vLXNob290OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1OCc7IH0gLyogJ+6hmCcgKi9cXG4uaWNvbi1lbW8tbGF1Z2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODU5JzsgfSAvKiAn7qGZJyAqL1xcbi5pY29uLWxpZmVidW95OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1YSc7IH0gLyogJ+6hmicgKi9cXG4uaWNvbi1iaXRidWNrZXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODViJzsgfSAvKiAn7qGbJyAqL1xcbi5pY29uLWNvZGVvcGVuOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1Yyc7IH0gLyogJ+6hnCcgKi9cXG4uaWNvbi1naXRodWI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODVkJzsgfSAvKiAn7qGdJyAqL1xcbi5pY29uLWV5ZWRyb3BwZXI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODVlJzsgfSAvKiAn7qGeJyAqL1xcbi5pY29uLWJydXNoOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg1Zic7IH0gLyogJ+6hnycgKi9cXG4uaWNvbi1maWx0ZXI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODYwJzsgfSAvKiAn7qGgJyAqL1xcbi5pY29uLWNyb3A6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODYxJzsgfSAvKiAn7qGhJyAqL1xcbi5pY29uLXRpbnQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODYyJzsgfSAvKiAn7qGiJyAqL1xcbi5pY29uLXJpZ2h0LWRpcjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjMnOyB9IC8qICfuoaMnICovXFxuLmljb24tbGVmdC1kaXI6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODY0JzsgfSAvKiAn7qGkJyAqL1xcbi5pY29uLXB1enpsZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NjUnOyB9IC8qICfuoaUnICovXFxuLmljb24tdXAtZGlyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2Nic7IH0gLyogJ+6hpicgKi9cXG4uaWNvbi1nYW1lcGFkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2Nyc7IH0gLyogJ+6hpycgKi9cXG4uaWNvbi1mbGFnLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2OCc7IH0gLyogJ+6hqCcgKi9cXG4uaWNvbi1mbGFnOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2OSc7IH0gLyogJ+6hqScgKi9cXG4uaWNvbi1yZXNpemUtZnVsbC1hbHQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODZhJzsgfSAvKiAn7qGqJyAqL1xcbi5pY29uLWxpc3QtYnVsbGV0OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg2Yic7IH0gLyogJ+6hqycgKi9cXG4uaWNvbi1ibG9jazpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NmMnOyB9IC8qICfuoawnICovXFxuLmljb24tbGFuZ3VhZ2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODZkJzsgfSAvKiAn7qGtJyAqL1xcbi5pY29uLWxpZ2h0YnVsYjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NmUnOyB9IC8qICfuoa4nICovXFxuLmljb24tem9vbS1pbjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NmYnOyB9IC8qICfuoa8nICovXFxuLmljb24tem9vbS1vdXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODcwJzsgfSAvKiAn7qGwJyAqL1xcbi5pY29uLXVwLWNpcmNsZWQyOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg3MSc7IH0gLyogJ+6hsScgKi9cXG4uaWNvbi1pbmZpbml0eTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NzInOyB9IC8qICfuobInICovXFxuLmljb24tYmFyY29kZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NzMnOyB9IC8qICfuobMnICovXFxuLmljb24tc2hhcmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc0JzsgfSAvKiAn7qG0JyAqL1xcbi5pY29uLWluZm86YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc1JzsgfSAvKiAn7qG1JyAqL1xcbi5pY29uLWhlbHA6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc2JzsgfSAvKiAn7qG2JyAqL1xcbi5pY29uLWZpbGUtdmlkZW86YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc3JzsgfSAvKiAn7qG3JyAqL1xcbi5pY29uLWZpbGUtYXVkaW86YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc4JzsgfSAvKiAn7qG4JyAqL1xcbi5pY29uLWZpbGUtaW1hZ2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODc5JzsgfSAvKiAn7qG5JyAqL1wiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIENocm9uaWNsZXIoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3N0YWNrID0gW10sXG4gICAgdGhpcy5fcG9pbnRlciA9IC0xO1xuICAgIHRoaXMuX2NoYWlucyA9IFtdO1xuICAgIHRoaXMuX2Jsb2NrcyA9IG5ldyBTZXQoKTtcbn1cblxuaW5oZXJpdHMoQ2hyb25pY2xlciwgRXZlbnRFbWl0dGVyKTtcbm1vZHVsZS5leHBvcnRzID0gQ2hyb25pY2xlcjtcbnZhciBwID0gQ2hyb25pY2xlci5wcm90b3R5cGU7XG5cbnAudW5kbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuX3BvaW50ZXIgPCAwKSB7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciByZWMgPSB0aGlzLl9zdGFja1t0aGlzLl9wb2ludGVyLS1dO1xuXG4gICAgaWYgKHJlYyBpbnN0YW5jZW9mIEZsYWcpIHtcblxuICAgICAgICB2YXIgc3RhcnRGbGFnSWR4ID0gdGhpcy5fc3RhY2suaW5kZXhPZihyZWMucGFpcik7XG5cbiAgICAgICAgaWYgKHN0YXJ0RmxhZ0lkeCAhPT0gLTEpIHtcblxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX3BvaW50ZXIgIT09IHN0YXJ0RmxhZ0lkeCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IF9yZWMgPSB0aGlzLl9zdGFja1t0aGlzLl9wb2ludGVyLS1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoX3JlYyBpbnN0YW5jZW9mIEZsYWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGwoX3JlYy51bmRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3BvaW50ZXItLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fY2FsbChyZWMudW5kbyk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuX3BvaW50ZXIgPj0gdGhpcy5fc3RhY2subGVuZ3RoIC0gMSkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcmVjID0gdGhpcy5fc3RhY2tbKyt0aGlzLl9wb2ludGVyXTtcblxuICAgIGlmIChyZWMgaW5zdGFuY2VvZiBGbGFnKSB7XG5cbiAgICAgICAgdmFyIGVuZEZsYWdJZHggPSB0aGlzLl9zdGFjay5pbmRleE9mKHJlYy5wYWlyKTtcblxuICAgICAgICBpZiAoZW5kRmxhZ0lkeCAhPT0gLTEpIHtcblxuICAgICAgICAgICAgd2hpbGUgKCsrdGhpcy5fcG9pbnRlciAhPT0gZW5kRmxhZ0lkeCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IF9yZWMgPSB0aGlzLl9zdGFja1t0aGlzLl9wb2ludGVyXTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9yZWMgaW5zdGFuY2VvZiBGbGFnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsKF9yZWMucmVkbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxsKHJlYy5yZWRvKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5fY2FsbCA9IGZ1bmN0aW9uIChyZWcpIHtcblxuICAgIHZhciBibG9jayA9IHRoaXMuYmxvY2tTYXZpbmcoKTtcblxuICAgIGlmICh0eXBlb2YgcmVnID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgcmVnKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWdbMF0uYXBwbHkocmVnWzFdLCByZWcuc2xpY2UoMikpO1xuICAgIH1cblxuICAgIHRoaXMucmVsZWFzZUJsb2NrKGJsb2NrKTtcbn07XG5cbnAuc2F2ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cbiAgICBpZiAodGhpcy5pc0Jsb2NrZWQpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKCdzYXZlJywgYXJncyk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHRocm93IEVycm9yO1xuXG4gICAgdmFyIHJlZyA9IGFyZ3NbMF07XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpIHtcblxuICAgICAgICByZWcgPSB7XG4gICAgICAgICAgICB1bmRvOiBhcmdzWzBdLFxuICAgICAgICAgICAgcmVkbzogYXJnc1sxXSxcbiAgICAgICAgICAgIG5hbWU6IGFyZ3NbMl0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5fc2F2ZVJlZyhyZWcpO1xuXG4gICAgcmV0dXJuIHJlZztcbn07XG5cblxucC5fc2F2ZVJlZyA9IGZ1bmN0aW9uIChyZWcpIHtcblxuICAgIGlmICh0aGlzLmlzQmxvY2tlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fc3RhY2suc3BsaWNlKCsrdGhpcy5fcG9pbnRlciwgdGhpcy5fc3RhY2subGVuZ3RoLCByZWcpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cblxuXG5wLmdldFJlY29yZHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaXRlbXMgPSBbXSwgY3VyckZsYWcsIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuXG4gICAgdGhpcy5fc3RhY2suZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG5cbiAgICAgICAgaWYgKGN1cnJGbGFnKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBjdXJyRmxhZy5wYWlyKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBGbGFnKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IGl0ZW07XG4gICAgICAgICAgICAgICAgYWRkKGl0ZW0ubmFtZSwgdGhpcy5fc3RhY2suaW5kZXhPZihpdGVtLnBhaXIpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGQoaXRlbS5uYW1lLCBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gaXRlbXM7XG5cblxuICAgIGZ1bmN0aW9uIGFkZChuYW1lLCBpZHgpIHtcblxuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgfHwgJ3VubmFtZWQgcmVjb3JkJyxcbiAgICAgICAgICAgIGlkeDogaWR4LFxuICAgICAgICAgICAgZXhlY3V0ZWQ6IGlkeCA8PSBwb2ludGVyXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnAuZ290byA9IGZ1bmN0aW9uIChpZHgpIHtcblxuICAgIGlkeCA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbih0aGlzLl9zdGFjay5sZW5ndGgtMSwgcGFyc2VJbnQoaWR4KSkpO1xuXG4gICAgaWYgKGlkeCA8IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICB3aGlsZSAoaWR4IDwgdGhpcy5fcG9pbnRlcikge1xuXG4gICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpZHggPiB0aGlzLl9wb2ludGVyKSB7XG5cbiAgICAgICAgd2hpbGUgKGlkeCA+IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICAgICAgdGhpcy5yZWRvKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocCwgJ2lzQmxvY2tlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5zaXplICE9PSAwO1xuICAgIH1cbn0pO1xuXG5wLmJsb2NrU2F2aW5nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJsb2NrID0gU3ltYm9sKCk7XG4gICAgdGhpcy5fYmxvY2tzLmFkZChibG9jayk7XG5cbiAgICByZXR1cm4gYmxvY2s7XG59O1xuXG5wLnJlbGVhc2VCbG9jayA9IGZ1bmN0aW9uIChibG9jaykge1xuXG4gICAgdGhpcy5fYmxvY2tzLmRlbGV0ZShibG9jayk7XG59O1xuXG5wLmRvbnRTYXZlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgYmxvY2sgPSB0aGlzLmJsb2NrU2F2aW5nKCk7XG4gICAgZm4oKTtcbiAgICB0aGlzLnJlbGVhc2VCbG9jayhibG9jayk7XG59O1xuXG5cblxuXG5cblxuZnVuY3Rpb24gRmxhZyhuYW1lLCBwYWlyKSB7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucGFpciA9IHBhaXIgfHwgbmV3IEZsYWcobmFtZSwgdGhpcyk7XG5cbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xufVxuXG5wLnN0YXJ0RmxhZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgZmxhZyA9IG5ldyBGbGFnKG5hbWUpO1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcblxuICAgIHJldHVybiBmbGFnLnBhaXI7XG59O1xuXG5wLmVuZEZsYWcgPSBmdW5jdGlvbiAoZmxhZykge1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcbn07XG5cbnAud3JhcCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBoaXN0b3J5ID0gdGhpcyxcbiAgICAgICAgZm4gPSBvcHQuZm4sXG4gICAgICAgIGRlbGF5ID0gb3B0LmRlbGF5LFxuICAgICAgICBuYW1lID0gb3B0Lm5hbWU7XG5cbiAgICBpZiAoZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGxldCBlbmRGbGFnID0gaGlzdG9yeS5zdGFydEZsYWcobmFtZSk7XG5cbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGhpc3RvcnkuZW5kRmxhZyhlbmRGbGFnKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBjbG9zZUZsYWdTZXRULFxuICAgICAgICAgICAgZW5kRmxhZyxcbiAgICAgICAgICAgIGZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmVuZEZsYWcoZW5kRmxhZyk7XG4gICAgICAgICAgICAgICAgZW5kRmxhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNhbGxlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVuZEZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kRmxhZyA9IGFtLmhpc3Rvcnkuc3RhcnRGbGFnKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2xvc2VGbGFnU2V0VCk7XG4gICAgICAgICAgICAgICAgY2xvc2VGbGFnU2V0VCA9IHNldFRpbWVvdXQoZmluaXNoLCBkZWxheSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG9uQ2FsbGVkKCk7XG5cbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5wLnNhdmVDaGFpbiA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmICh0aGlzLmlzQmxvY2tlZCkgcmV0dXJuO1xuICAgIGNvbnNvbGUubG9nKCdzYXZlQ2hhaW4nLCBvcHQubmFtZSk7XG5cbiAgICB2YXIgY2hhaW4gPSB0aGlzLmdldENoYWluKG9wdC5pZCk7XG5cbiAgICBpZiAoY2hhaW4pIHtcblxuICAgICAgICBjaGFpbi5yZWcucmVkbyA9IG9wdC5yZWRvO1xuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgICBjaGFpbiA9IHtcbiAgICAgICAgICAgIGlkOiBvcHQuaWQsXG4gICAgICAgICAgICByZWc6IHRoaXMuc2F2ZShvcHQudW5kbywgb3B0LnJlZG8sIG9wdC5uYW1lKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jaGFpbnMucHVzaChjaGFpbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5kZWxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdC5kZWxheSA9IDMxMjtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoY2hhaW4udGlkKTtcbiAgICBjaGFpbi50aWQgPSBzZXRUaW1lb3V0KHRoaXMuY2xvc2VDaGFpbi5iaW5kKHRoaXMsIG9wdC5pZCksIG9wdC5kZWxheSk7XG59O1xuXG5wLmNsb3NlQ2hhaW4gPSBmdW5jdGlvbiAoaWQpIHtcblxuICAgIHZhciBjaGFpbiA9IHRoaXMuZ2V0Q2hhaW4oaWQpO1xuXG4gICAgaWYgKCFjaGFpbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KGNoYWluLnRpZCk7XG4gICAgdGhpcy5fY2hhaW5zLnNwbGljZSh0aGlzLl9jaGFpbnMuaW5kZXhPZihjaGFpbiksIDEpO1xufTtcblxucC5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdoaWxlICh0aGlzLl9jaGFpbnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VDaGFpbih0aGlzLl9jaGFpbnNbMF0uaWQpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YWNrLmxlbmd0aCA9IDAsXG4gICAgdGhpcy5fcG9pbnRlciA9IC0xO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuZ2V0Q2hhaW4gPSBmdW5jdGlvbiAoaWQpIHtcblxuICAgIHJldHVybiB0aGlzLl9jaGFpbnMuZmluZChmdW5jdGlvbiAoY2hhaW4pIHtcblxuICAgICAgICByZXR1cm4gY2hhaW4uaWQgPT09IGlkO1xuICAgIH0pO1xufTtcblxuXG5cblxuXG5cblxuLy9UT0RPXG4vLyBwLndyYXBGdW5jdGlvblBhaXJzKG9wdCkge1xuXG4vLyAgICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLFxuLy8gICAgICAgICBvcmlVbmRvRm4gPSBvcHQudW5kb1Jvb3Rbb3B0LnVuZG9Gbk5hbWVdLFxuLy8gICAgICAgICBoaXN0b3J5ID0gdGhpcyxcbi8vICAgICAgICAgZHVtbXlIaXN0b3J5ID0ge1xuLy8gICAgICAgICAgICAgc2F2ZTogZnVuY3Rpb24gKCkge30sXG4vLyAgICAgICAgICAgICBmbGFnOiBmdW5jdGlvbiAoKSB7fSxcbi8vICAgICAgICAgICAgIGVuZEZsYWc6IGZ1bmN0aW9uICgpIHt9LFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB1bmRvSGlzdG9yeSA9IE9iamVjdC5jcmVhdGUoZHVtbXlIaXN0b3J5KSxcbi8vICAgICAgICAgcmVkb0hpc3RvcnkgPSBPYmplY3QuY3JlYXRlKGR1bW15SGlzdG9yeSk7XG5cbi8vICAgICB1bmRvSGlzdG9yeS5zYXZlID0gZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgICAgIGhpc3Rvcnkuc2F2ZShbb3B0LnVuZG8uYWRkUGFyYW0sIHRoaXMsIHBhcmFtLCB0cnVlXSxcbi8vICAgICAgICAgICAgIFt0aGlzLnJlbW92ZVBhcmFtLCB0aGlzLCBwYXJhbSwgdHJ1ZV0sICdyZW1vdmUgcGFyYW0gJyArIG9wdC5uYW1lKTtcbi8vICAgICB9XG5cbi8vICAgICBvcHQudW5kby5wYXJlbnRbb3B0LnVuZG8uZm5OYW1lXSA9IGZ1bmN0aW9uICgpIHtcblxuLy8gICAgICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbi8vICAgICAgICAgYXJncy5wdXNoKHVuZG9IaXN0b3J5KTtcblxuLy8gICAgICAgICBvcmlVbmRvRm4uYXBwbHkob3B0LnVuZG8udGhpc0FyZywgYXJncylcbi8vICAgICB9XG4vLyB9XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHtcbiAgICB0aXRsZTogJ0ZlZWRiYWNrJyxcbn0pO1xuXG5kaWFsb2cuYWRkQnV0dG9uKCdvaycsICdoaWRlJyk7XG5cbmNyZWF0ZUNvbnRlbnQoKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcblxuICAgIGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogJ0hpISBUaGlzIHByb2dyYW0gaXMgaW4gYWxwaGEgc3RhdGUsIHNvIG1vc3Qgb2YgdGhlIHRoaW5ncyB3aWxsIGNoYW5nZSBhbmQgbW9zdCBvZiB0aGUgYnVncyBhcmUga25vd24uIEJ1dCBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb24sIGZlZWRiYWNrLCBmZWF0dXJlIHJlcXVlc3QsIGJ1ZyByZXBvcnQgb3IganVzdCBmZWVsIHRoZSBuZWVkIGZvciBjb250YWN0LCB5b3UgY2FuIHVzZSB0aGUgYXphemRlYXpAZ21haWwuY29tIG9yIHRoZSA8YSBzdHlsZT1cImNvbG9yOndoaXRlO1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lL2lzc3Vlc1wiPmdpdGh1YiBpc3N1ZXM8L2E+LicsXG4gICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxudmFyIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgIHRpdGxlOiAnV29yayBpbiBwcm9ncmVzcycsXG59KTtcblxuZGlhbG9nLmFkZEJ1dHRvbignb2snLCAnaGlkZScpO1xuXG5hbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgdGV4dDogYFRoaXMgZmVhdHVyZSBkb2Vzbid0IHJlYWR5IHlldC4gKGJ1dCBpdCdzIG9uIHRoZSB3YXkhKTxicj5cblRvIGdldCBub3RpZmllZCBhYm91dCB0aGUgbGF0ZXN0IGNoYW5nZXMgZm9sbG93IHVzIG9uIDxhIGhyZWY9XCIvL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lXCI+R2l0aHViPC9hPmAsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi4vaTE4bicpO1xuXG52YXIgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgdGl0bGU6ICdIaSEnLFxufSk7XG5cbmRpYWxvZy5hZGRCdXR0b24oJ2Nsb3NlJywgJ2hpZGUnKTtcblxuY29uc3QgQ0hFQ0tGTEFHID0gJ19fYW1fZG9udHNob3d3ZWxjb21lbXNnYWdhaW4nLFxuICAgIENIRUNLRkxBR1ZBTCA9ICd2MSc7XG5cbmRpYWxvZy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnNTcwcHgnO1xuXG52YXIgZGVUZXh0ID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgIHRleHQ6IGkxOG4ud2VsY29tZU1zZyxcbiAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgIGhlaWdodDogJ2F1dG8nLFxuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50XG59KTtcbmRlVGV4dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTJweCc7XG5cblxudmFyIGNiID0gYW1ndWkuY3JlYXRlQ2hlY2tib3goe1xuICAgIHRleHQ6ICdkb25cXCd0IHNob3cgdGhpcyBhZ2FpbicsXG4gICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxufSk7XG5cbmRpYWxvZy5vbignaGlkZScsICgpID0+IHtcblxuICAgIGFtLnNldFZhcihDSEVDS0ZMQUcsIGNiLmNoZWNrZWQgPyBDSEVDS0ZMQUdWQUwgOiBmYWxzZSk7XG59KTtcblxudmFyIF9vcmlTaG93ID0gZGlhbG9nLnNob3c7XG5kaWFsb2cuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGRpYWxvZy5pc0NoZWNrZWQoeWVzID0+IHtcblxuICAgICAgICBpZiAoIXllcykgX29yaVNob3cuY2FsbChkaWFsb2cpO1xuICAgIH0pO1xufTtcblxuZGlhbG9nLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uIChjYikge1xuXG4gICAgYW0uZ2V0VmFyKENIRUNLRkxBRywgdiA9PiBjYih2ID09PSBDSEVDS0ZMQUdWQUwpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIERvbVBpY2tlcigpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faXNNb3VzZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9jcnVtYnMgPSBbXTtcblxuICAgIHRoaXMuX29uTU1vdmUgPSB0aGlzLl9vbk1Nb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyID0gdGhpcy5fcmVuZGVyLmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTU1vdmUpO1xuXG4gICAgYW0ub24oJ3NlbGVjdERvbUVsZW0nLCB0aGlzLl9vblNlbGVjdERvbUVsZW0sIHRoaXMpO1xuICAgIGFtLm9uKCdjaGFuZ2UuY3VyclRyYWNrJywgdGhpcy5oaWRlLCB0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuc2V0UmlnaHRMZWZ0QnRuKHtcbiAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICB0b29sdGlwOiAnY3JlYXRlIGEgbmV3IGNzcyB0cmFjayB3aXRoIHRoaXMgZWxlbWVudCcsXG4gICAgICAgIG9uQ2xpY2s6ICAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZhciB3aW5uZXIsIHdpbm5lclByaW9yLCBkb25lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYWRkJywge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fZGVUYXJnZXQsXG4gICAgICAgICAgICAgICAgZGVtYW5kOiBwcmlvciA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHJldHVybiByZWplY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbm5lclByaW9yID09PSB1bmRlZmluZWQgfHwgcHJpb3IgPCB3aW5uZXJQcmlvcikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyUHJpb3IgPSBwcmlvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lubmVyKSB3aW5uZXIucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyID0ge3Jlc29sdmUsIHJlamVjdH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHdpbm5lcikgd2lubmVyLnJlc29sdmUoKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuaW5oZXJpdHMoRG9tUGlja2VyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEb21QaWNrZXIucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvbVBpY2tlcjtcblxucC5mb2N1c0VsZW0gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cbiAgICBpZiAodGFyZ2V0ID09PSB0aGlzLl9kZVRhcmdldCkgcmV0dXJuO1xuXG4gICAgdmFyIG9sZFRhcmdldCA9IHRoaXMuX2RlVGFyZ2V0LFxuICAgICAgICBjcnVtYnMgPSB0aGlzLl9jcnVtYnMsXG4gICAgICAgIGxhc3RDcnVtYiA9IGNydW1ic1tjcnVtYnMubGVuZ3RoLTFdO1xuXG4gICAgaWYgKG9sZFRhcmdldCAmJiBvbGRUYXJnZXQucGFyZW50RWxlbWVudCA9PT0gdGFyZ2V0KSB7XG5cbiAgICAgICAgY3J1bWJzLnB1c2gob2xkVGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0ID09PSBsYXN0Q3J1bWIpIHtcblxuICAgICAgICBjcnVtYnMucG9wKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldC5wYXJlbnRFbGVtZW50ID09PSBsYXN0Q3J1bWIpIHtcblxuICAgICAgICBjcnVtYnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLl9kZVRhcmdldCA9IHRhcmdldDtcblxuXG4gICAgdmFyIHAgPSBhbS5pc1BpY2thYmxlRG9tRWxlbSxcbiAgICAgICAgdG9wID0gcCh0YXJnZXQucGFyZW50RWxlbWVudCksXG4gICAgICAgIHJpZ2h0ID0gcCh0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nKSxcbiAgICAgICAgYm90dG9tID0gcCh0YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQpLFxuICAgICAgICBsZWZ0ID0gcCh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG5cbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUuZGlzcGxheSA9IHRvcCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUuZGlzcGxheSA9IHJpZ2h0ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUuZGlzcGxheSA9IGJvdHRvbSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5kaXNwbGF5ID0gbGVmdCA/ICdibG9jaycgOiAnbm9uZSc7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgIHRoaXMuX3JlcmVuZGVyU2V0SSA9IHNldEludGVydmFsKHRoaXMuX3JlbmRlciwgMTIzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVuZGVyKTtcblxuICAgIHRoaXMuZW1pdCgncGljaycsIHRhcmdldCk7XG59O1xuXG5wLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZVRhcmdldCA9IHVuZGVmaW5lZDtcblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVyZW5kZXJTZXRJKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVuZGVyKTtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxucC5zZXRSaWdodExlZnRCdG4gPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLl9idG5SaWdodExlZnQuc2V0SWNvbihvcHQuaWNvbilcblxuICAgIC8vVE9ETyByZW1vdmUgdGhlIHByZXZpb3VzXG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0Lm9uQ2xpY2spO1xuXG4gICAgdmFyIHRvb2x0aXAgPSBhbWd1aS5nZXRUb29sdGlwKHRoaXMuX2J0blJpZ2h0TGVmdCk7XG4gICAgdG9vbHRpcC5zZXRDb250ZW50KG9wdC50b29sdGlwKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9kZVRhcmdldCkgcmV0dXJuO1xuXG4gICAgdmFyIGJyID0gdGhpcy5fZGVUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9IGJyLmxlZnQgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSBici50b3AgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IGJyLndpZHRoICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gYnIuaGVpZ2h0ICsgJ3B4JztcblxuICAgIHRoaXMuX2FsaWduQnRuQ29udCgpO1xufTtcblxucC5fYWxpZ25CdG5Db250ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHt0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHR9ID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBbb1RvcCwgb0xlZnQsIG9XaWR0aCwgb0hlaWdodF0gPSBbdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0XSxcbiAgICAgICAgd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIHdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgIGJ0blNpemUgPSAyMTtcblxuICAgIHdpZHRoID0gTWF0aC5tYXgoYnRuU2l6ZSwgTWF0aC5taW4od1dpZHRoLCBvV2lkdGgpKTtcbiAgICBoZWlnaHQgPSBNYXRoLm1heChidG5TaXplLCBNYXRoLm1pbih3SGVpZ2h0LCBvSGVpZ2h0KSk7XG5cbiAgICBsZWZ0ID0gKG9XaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgdG9wID0gKG9IZWlnaHQgLSBoZWlnaHQpIC8gMjtcblxuICAgIGlmIChvTGVmdCArIGxlZnQgPCAwKSBsZWZ0ID0gYnRuU2l6ZSAtIG9MZWZ0O1xuICAgIGlmIChvVG9wICsgdG9wIDwgMCkgdG9wID0gYnRuU2l6ZSAtIG9Ub3A7XG4gICAgaWYgKG9MZWZ0ICsgbGVmdCArIHdpZHRoID4gd1dpZHRoKSBsZWZ0ID0gYnRuU2l6ZTtcbiAgICBpZiAob1RvcCArIHRvcCArIGhlaWdodCA+IHdIZWlnaHQpIHRvcCA9IGJ0blNpemU7XG5cbiAgICB0aGlzLl9idG5Db250LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICB0aGlzLl9idG5Db250LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XG4gICAgdGhpcy5fYnRuQ29udC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICB0aGlzLl9idG5Db250LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG59XG5cbnAuX29uTU1vdmUgPSAgZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBiciA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgbXggPSBlLmNsaWVudFgsXG4gICAgICAgIG15ID0gZS5jbGllbnRZLFxuICAgICAgICBzID0gdGhpcy5faXNNb3VzZU92ZXIgPyAyMSA6IDAsXG4gICAgICAgIG92ZXIgPSBteCA+PSBici5sZWZ0LXMgJiYgbXggPD0gYnIucmlnaHQrcyAmJlxuICAgICAgICAgICAgbXkgPj0gYnIudG9wLXMgJiYgbXkgPD0gYnIuYm90dG9tK3M7XG5cbiAgICBpZiAob3ZlciAhPT0gdGhpcy5faXNNb3VzZU92ZXIpIHtcblxuICAgICAgICB0aGlzLl9pc01vdXNlT3ZlciA9IG92ZXI7XG5cbiAgICAgICAgdGhpcy5fYnRuQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gb3ZlciA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xuICAgIH1cbn07XG5cbnAuX29uU2VsZWN0RG9tRWxlbSA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgdGhpcy5mb2N1c0VsZW0oZGUpO1xufVxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJ0blNpemUgPSAyMSwgYm9yZGVyU2l6ZSA9ICcycHgnO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuYm9yZGVyID0gJ3NvbGlkICNlZWUgJyArIGJvcmRlclNpemU7XG4gICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHZhciBkZURhc2hlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlRGFzaGVkLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlRGFzaGVkLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBkZURhc2hlZC5zdHlsZS5ib3JkZXIgPSAnZGFzaGVkICM0NDQgJyArIGJvcmRlclNpemU7XG4gICAgZGVEYXNoZWQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtJytib3JkZXJTaXplKycsLScrYm9yZGVyU2l6ZSsnKSc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVEYXNoZWQpO1xuXG4gICAgdGhpcy5fYnRuQ29udCA9IGFtZ3VpLmNyZWF0ZURpdih7cGFyZW50OiBkZX0pO1xuXG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX29uTUVudGVyKTtcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25NTGVhdmUpO1xuXG4gICAgdGhpcy5kb21FbGVtID0gZGU7XG5cblxuICAgIHZhciBjcmVhdGVCdG4gPSAoaWNvbiwgdG9vbHRpcCwgb25DbGljaykgPT4ge1xuXG4gICAgICAgIHZhciBkZUljb24gPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIGljb246IGljb24sXG4gICAgICAgICAgICBzaXplOiBidG5TaXplLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9idG5Db250LFxuICAgICAgICB9KTtcblxuICAgICAgICBkZUljb24uc3R5bGUudGV4dFNoYWRvdyA9ICcwIDAgNHB4ICMwMDAnO1xuXG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG5cbiAgICAgICAgICAgIGRlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIG9uQ2xpY2soKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBhbWd1aS5hZGRUb29sdGlwKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBkZUljb24sXG4gICAgICAgICAgICB0ZXh0OiB0b29sdGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlSWNvbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlSWNvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgICAgIHJldHVybiBkZUljb247XG4gICAgfVxuXG4gICAgdGhpcy5fYnRuVG9wID0gY3JlYXRlQnRuKCdhbmdsZS11cCcsICd1cCBvbmUgbGV2ZWwnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUudG9wID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS5yaWdodCA9ICcwJztcbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUubWFyZ2luID0gJzAgYXV0byc7XG5cblxuICAgIHRoaXMuX2J0blJpZ2h0ID0gY3JlYXRlQnRuKCdhbmdsZS1yaWdodCcsICduZXh0IHNpYmxpbmcnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2J0blJpZ2h0LnN0eWxlLnJpZ2h0ID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blJpZ2h0LnN0eWxlLnRvcCA9ICcwJztcbiAgICB0aGlzLl9idG5SaWdodC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUubWFyZ2luID0gJ2F1dG8gMCc7XG5cbiAgICB0aGlzLl9idG5Cb3R0b20gPSBjcmVhdGVCdG4oJ2FuZ2xlLWRvd24nLCAnZG93biBvbmUgbGV2ZWwnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fY3J1bWJzW3RoaXMuX2NydW1icy5sZW5ndGgtMV0gfHwgdGhpcy5fZGVUYXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQpO1xuXG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUuYm90dG9tID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5yaWdodCA9ICcwJztcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUubWFyZ2luID0gJzAgYXV0byc7XG5cbiAgICB0aGlzLl9idG5MZWZ0ID0gY3JlYXRlQnRuKCdhbmdsZS1sZWZ0JywgJ3ByZXZpb3VzIHNpYmxpbmcnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5MZWZ0LnN0eWxlLmxlZnQgPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS50b3AgPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5tYXJnaW4gPSAnYXV0byAwJztcblxuICAgIHRoaXMuX2J0bkNsb3NlID0gY3JlYXRlQnRuKCdjYW5jZWwnLCAnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS5yaWdodCA9IC1idG5TaXplICsgJ3B4JztcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS50b3AgPSAtYnRuU2l6ZSArICdweCc7XG5cbiAgICB0aGlzLl9idG5SaWdodExlZnQgPSBjcmVhdGVCdG4oJ3BsdXMnLCAnJyk7XG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LnN0eWxlLnJpZ2h0ID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blJpZ2h0TGVmdC5zdHlsZS5ib3R0b20gPSAtYnRuU2l6ZSArICdweCc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcclxudmFyIEl0ZW0gPSByZXF1aXJlKCcuL0l0ZW0nKTtcclxuXHJcbmZ1bmN0aW9uIEhpc3RvcnlUYWIoKSB7XHJcblxyXG4gICAgdGhpcy5fb25IaXN0b3J5Q2hhZ2UgPSB0aGlzLl9vbkhpc3RvcnlDaGFnZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xyXG5cclxuICAgIGFtLmhpc3Rvcnkub24oJ2NoYW5nZScsIHRoaXMuX29uSGlzdG9yeUNoYWdlKTtcclxufVxyXG5cclxudmFyIHAgPSBIaXN0b3J5VGFiLnByb3RvdHlwZTtcclxubW9kdWxlLmV4cG9ydHMgPSBIaXN0b3J5VGFiO1xyXG5cclxucC5fYWRkSXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCk7XHJcbiAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgIHRoaXMuX3Njcm9sbENvbnQuYXBwZW5kQ2hpbGQoaXRlbS5kb21FbGVtKTtcclxufTtcclxuXHJcbnAuX3JlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG5cclxuICAgIHZhciBpZHggPSB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgXHJcbiAgICBpZiAoaXRlbSAhPT0gLTEpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKGlkeCwgMSk7XHJcblxyXG4gICAgICAgIGlmIChpdGVtLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xyXG5cclxuICAgICAgICAgICAgaXRlbS5kb21FbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbS5kb21FbGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5wLl9vbkhpc3RvcnlDaGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgcmVjb3JkcyA9IGFtLmhpc3RvcnkuZ2V0UmVjb3JkcygpO1xyXG5cclxuICAgIHJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAocmVjLCBpZHgpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtc1tpZHhdKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9hZGRJdGVtKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1tpZHhdLnNldHVwKHJlYyk7XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICB3aGlsZSAodGhpcy5faXRlbXMubGVuZ3RoID4gcmVjb3Jkcy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlSXRlbSh0aGlzLl9pdGVtc1tyZWNvcmRzLmxlbmd0aF0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcclxuXHJcbiAgICB0aGlzLl9zY3JvbGxDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLl9zY3JvbGxDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3Njcm9sbENvbnQpO1xyXG5cclxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcclxuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcclxuICAgICAgICBkZVRhcmdldDogdGhpcy5fc2Nyb2xsQ29udFxyXG4gICAgfSk7XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBJdGVtKCkge1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9yZWMuZXhlY3V0ZWQgPyB0aGlzLl9yZWMuaWR4IC0gMSA6IHRoaXMuX3JlYy5pZHg7XG4gICAgICAgIGFtLmhpc3RvcnkuZ290byhpZHgpO1xuXG4gICAgfS5iaW5kKHRoaXMpKTtcbn1cblxudmFyIHAgPSBJdGVtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gSXRlbTtcblxudmFyIGN1cnNvcnMgPSB7XG4gICAgdW5kbzogJ2F1dG8nLFxuICAgIHJlZG86ICdhdXRvJyxcbn07XG5cbmFtZ3VpLm9uKCdmb250TG9hZGVkJywgKCkgPT4ge1xuXG4gICAgY3Vyc29ycy51bmRvID0gY3JlYXRlSWNvbignY2N3Jyk7XG4gICAgY3Vyc29ycy5yZWRvID0gY3JlYXRlSWNvbignY3cnKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvbikge1xuXG4gICAgICAgIHJldHVybiBhbWd1aS5jcmVhdGVDdXJzb3JGcm9tVGV4dCh7XG4gICAgICAgICAgICBpY29uOiBpY29uLFxuICAgICAgICAgICAgY29sb3I6IGFtZ3VpLmNvbG9yLnRleHQsXG4gICAgICAgICAgICB3aWR0aDogMTYsXG4gICAgICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICAgICAgaG90c3BvdFg6IDgsXG4gICAgICAgICAgICBob3RzcG90WTogOCxcbiAgICAgICAgICAgIHRleHRYOiAyLFxuICAgICAgICAgICAgc3Ryb2tlOiB7Y29sb3I6J2JsYWNrJywgd2lkdGg6IDJ9LFxuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICB9KVxuICAgIH1cbn0pO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKHJlY29yZCkge1xuXG4gICAgdGhpcy5fcmVjID0gcmVjb3JkO1xuXG4gICAgdGhpcy5fbGFiZWwuaW5uZXJIVE1MID0gcmVjb3JkLm5hbWU7XG4gICAgdGhpcy5fdG9nZ2xlU3RhdGUuc2V0VG9nZ2xlKHJlY29yZC5leGVjdXRlZCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmN1cnNvciA9IGN1cnNvcnNbcmVjb3JkLmV4ZWN1dGVkID8gJ3VuZG8nIDogJ3JlZG8nXTtcbn07XG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMTtcblxuICAgIHRoaXMuX3RvZ2dsZVN0YXRlID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBpY29uT246ICdjaXJjbGUnLFxuICAgICAgICBpY29uT2ZmOiAnY2lyY2xlLXRoaW4nLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxXG4gICAgfSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNzc01vZHVsZToge1xuICAgICAgICBub1RyYWNrU2VsZWN0ZWQ6ICdObyB0cmFjayBzZWxlY3RlZC4nLFxuICAgIH0sXG4gICAgd2VsY29tZU1zZzpgSXQncyBhbmltYXRpb24gdG9vbCBmb3IgZGVzaWduaW5nIDxhIGhyZWY9XCIvL2dyZWVuc29jay5jb20vXCIgc3R5bGU9XCJjb2xvcjojODhjZTAyO2ZvbnQtd2VpZ2h0OjgwMDtcIj5HU0FQPC9hPiBiYXNlZCBhbmltYXRpb25zIGZvciBhbnkga2luZCBvZiB3ZWIgcHJvamVjdC48YnI+PGJyPlxuQWx0aG91Z2ggaXQncyBpbiBhbHBoYSBzdGF0ZSwgKHNvIG1hbnkgb2YgdGhlIGZlYXR1cmVzIGFyZSBqdXN0IGRyYWZ0IG9yIGJ1Z2d5IGFuZCB0aGUgVUkgaXNuJ3QgdGhhdCBmcmllbmRseSkgeW91J3JlIHdlbGNvbWVkIHRvIGNoZWNrIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBwcm9ncmFtIGFuZCBwbGF5IHdpdGggaXQgOik8YnI+PGJyPlxuSWYgeW91IGhhdmUgYW55IGtpbmQgb2YgcXVlc3Rpb24sIG9waW5pb24sIGZlYXR1cmUgcmVxdWVzdCBvciBqdXN0IHdhbnQgdG8gY29udGFjdCB3aXRoIHVzLCB3ZSB3YWl0aW5nIGZvciB5b3Ugb24gdGhlIDxhIGhyZWY9XCIvL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lL2lzc3Vlc1wiPkdpdGh1YiBpc3N1ZXM8L2E+IG9yIG9uIGZlZWRiYWNrQGFuaW1hY2hpbmUub3JnPGJyPjxicj5cbkZvciBtb3JlIGRldGFpbGVzIGNoZWNrIDxhIGhyZWY9XCIvL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lXCI+R2l0aHViPC9hPmBcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1pbmU7XG5cbmZ1bmN0aW9uIG1pbmUoc3RyKSB7XG5cbiAgICBpZiAodHlwZW9mKHN0cikgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB2YXIgcnggPSAvXFwvXFwqXFwqW1xcc1xcU10qQGFtc2F2ZVtcXHNcXFNdKlxcKlxcL1tcXHNcXFNdLip2YXJcXHMuKlNBVkVKU09OXFxzLio9KFtcXHNcXFNdLiopLyxcbiAgICAgICAgbSA9IHJ4LmV4ZWMoc3RyKSxcbiAgICAgICAganNvbjtcblxuICAgIGlmIChtICYmIG1bMV0pIHtcblxuICAgICAgICBqc29uID0gZXh0cmFjdEpTT04obVsxXSlbMF07XG5cbiAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNTc0NTQ2LzM2MTUyODhcbmZ1bmN0aW9uIGV4dHJhY3RKU09OKHN0cikge1xuICAgIHZhciBmaXJzdE9wZW4sIGZpcnN0Q2xvc2UsIGNhbmRpZGF0ZTtcbiAgICBmaXJzdE9wZW4gPSBzdHIuaW5kZXhPZigneycsIGZpcnN0T3BlbiArIDEpO1xuICAgIGRvIHtcbiAgICAgICAgZmlyc3RDbG9zZSA9IHN0ci5sYXN0SW5kZXhPZignfScpO1xuICAgICAgICBjb25zb2xlLmxvZygnZmlyc3RPcGVuOiAnICsgZmlyc3RPcGVuLCAnZmlyc3RDbG9zZTogJyArIGZpcnN0Q2xvc2UpO1xuICAgICAgICBpZihmaXJzdENsb3NlIDw9IGZpcnN0T3Blbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY2FuZGlkYXRlID0gc3RyLnN1YnN0cmluZyhmaXJzdE9wZW4sIGZpcnN0Q2xvc2UgKyAxKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW5kaWRhdGU6ICcgKyBjYW5kaWRhdGUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gSlNPTi5wYXJzZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcuLi5mb3VuZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbcmVzLCBmaXJzdE9wZW4sIGZpcnN0Q2xvc2UgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi4uZmFpbGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJzdENsb3NlID0gc3RyLnN1YnN0cigwLCBmaXJzdENsb3NlKS5sYXN0SW5kZXhPZignfScpO1xuICAgICAgICB9IHdoaWxlKGZpcnN0Q2xvc2UgPiBmaXJzdE9wZW4pO1xuICAgICAgICBmaXJzdE9wZW4gPSBzdHIuaW5kZXhPZigneycsIGZpcnN0T3BlbiArIDEpO1xuICAgIH0gd2hpbGUoZmlyc3RPcGVuICE9PSAtMSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi9hbWd1aScpO1xudmFyIHFzZ2VuID0gcmVxdWlyZSgnLi4vLi4vcXNnZW4nKTtcblxuZnVuY3Rpb24gQnJhbmNoKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9vbkNsaWNrID0gdGhpcy5fb25DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xufVxuXG5pbmhlcml0cyhCcmFuY2gsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEJyYW5jaC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEJyYW5jaDtcblxucC5zZXR1cCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBxcyA9IHFzZ2VuKG9wdC5kb21FbGVtKTtcblxuICAgIHRoaXMudmFsdWUgPSBvcHQuZG9tRWxlbTtcbiAgICBcbiAgICB0aGlzLl9sYWJlbC5pbm5lckhUTUwgPSBxcztcbiAgICB0aGlzLl9sYWJlbC5zdHlsZS5tYXJnaW5MZWZ0ID0gKG9wdC5pbmRlbnQgKiA2KSArICdweCc7XG59O1xuXG5cblxuXG5wLl9vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCdzZWxlY3QnLCB0aGlzKTtcbn1cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcblxuICAgIGFtZ3VpLmNyZWF0ZVNlcGFyYXRvcih7cGFyZW50OiB0aGlzLmRvbUVsZW19KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xuXG4gICAgdGhpcy5fbGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxXG4gICAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBCcmFuY2ggPSByZXF1aXJlKCcuL0JyYW5jaCcpO1xudmFyIHFzZ2VuID0gcmVxdWlyZSgnLi4vLi4vcXNnZW4nKTtcblxuZnVuY3Rpb24gRG9tVHJlZVRhYigpIHtcblxuICAgIHRoaXMuX2JyYW5jaGVzID0gW107XG4gICAgdGhpcy5fYnVmZkJyYW5jaCA9IFtdO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fb25TZWxlY3RCcmFuY2ggPSB0aGlzLl9vblNlbGVjdEJyYW5jaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0Q3J1bWIgPSB0aGlzLl9vblNlbGVjdENydW1iLmJpbmQodGhpcyk7XG59XG5cbnZhciBwID0gRG9tVHJlZVRhYi5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IERvbVRyZWVUYWI7XG5cbnAuX2FkZEJyYW5jaCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBicmFuY2ggPSB0aGlzLl9idWZmQnJhbmNoLnBvcCgpIHx8IG5ldyBCcmFuY2goKTtcbiAgICB0aGlzLl9icmFuY2hlcy5wdXNoKGJyYW5jaCk7XG5cbiAgICBicmFuY2guc2V0dXAob3B0KTtcblxuICAgIGJyYW5jaC5vbignc2VsZWN0JywgdGhpcy5fb25TZWxlY3RCcmFuY2gpO1xuXG4gICAgdGhpcy5fc2Nyb2xsQ29udC5hcHBlbmRDaGlsZChicmFuY2guZG9tRWxlbSk7XG59XG5cbnAuX3JlbW92ZUJyYW5jaCA9IGZ1bmN0aW9uIChicmFuY2gpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9icmFuY2hlcy5pbmRleE9mKGJyYW5jaCk7XG4gICAgXG4gICAgaWYgKGJyYW5jaCAhPT0gLTEpIHtcblxuICAgICAgICB0aGlzLl9icmFuY2hlcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgICBpZiAoYnJhbmNoLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xuXG4gICAgICAgICAgICBicmFuY2guZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJyYW5jaC5kb21FbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmZCcmFuY2gucHVzaChicmFuY2gpO1xuICAgIH1cblxuICAgIGJyYW5jaC5yZW1vdmVMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25TZWxlY3RCcmFuY2gpO1xufVxuXG5wLmZvY3VzRWxlbSA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgdmFyIHBhdGggPSBbXSwgZGVTdGVwID0gZGUsIG1heERlZXAgPSAzO1xuXG4gICAgd2hpbGUgKHRoaXMuX2JyYW5jaGVzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMuX3JlbW92ZUJyYW5jaCh0aGlzLl9icmFuY2hlc1swXSk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGRlU3RlcC5wYXJlbnROb2RlICYmIGRlU3RlcC5ub2RlTmFtZSAhPT0gJ0hUTUwnKSB7XG5cbiAgICAgICAgdmFyIGRlU3RlcCA9IGRlU3RlcC5wYXJlbnROb2RlO1xuXG4gICAgICAgIHBhdGgudW5zaGlmdCh7XG4gICAgICAgICAgICBuYW1lOiBxc2dlbihkZVN0ZXApIHx8IGRlU3RlcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgdmFsdWU6IGRlU3RlcFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9icmVhZGNydW1icy5zZXRJdGVtcyhwYXRoKTtcblxuICAgIHZhciBzdGVwID0gKGRlLCBkZWVwKSA9PiB7XG5cbiAgICAgICAgdGhpcy5fYWRkQnJhbmNoKHtcbiAgICAgICAgICAgIGRvbUVsZW06IGRlLFxuICAgICAgICAgICAgaW5kZW50OiBkZWVwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChkZWVwIDwgbWF4RGVlcCkge1xuXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkZS5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyArK2kpIHtcblxuICAgICAgICAgICAgICAgIHN0ZXAoY2hpbGRyZW5baV0sIGRlZXAgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzdGVwKGRlLCAwKTtcbn07XG5cblxuXG5cblxuXG5wLl9vblNlbGVjdEJyYW5jaCA9IGZ1bmN0aW9uIChicmFuY2gpIHtcblxuICAgIGFtLnNlbGVjdERvbUVsZW0oYnJhbmNoLnZhbHVlKTtcbn07XG5cbnAuX29uU2VsZWN0Q3J1bWIgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgYW0uc2VsZWN0RG9tRWxlbShlLmRldGFpbC5zZWxlY3Rpb24udmFsdWUpO1xufTtcblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcblxuICAgIHRoaXMuX3Njcm9sbENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9zY3JvbGxDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9zY3JvbGxDb250KTtcblxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcbiAgICAgICAgZGVDb250OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9zY3JvbGxDb250XG4gICAgfSk7XG5cbiAgICB0aGlzLl9icmVhZGNydW1icyA9IGFtZ3VpLmNyZWF0ZUJyZWFkY3J1bWJzKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9zY3JvbGxDb250LFxuICAgICAgICBvblNlbGVjdDogdGhpcy5fb25TZWxlY3RDcnVtYlxuICAgIH0pO1xuICAgIHRoaXMuX2JyZWFkY3J1bWJzLnN0eWxlLmhlaWdodCA9ICcyMnB4JztcbiAgICB0aGlzLl9icmVhZGNydW1icy5zdHlsZS5taW5XaWR0aCA9ICcxMDAlJztcbiAgICAvLyB0aGlzLl9icmVhZGNydW1icy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRG9tVHJlZVRhYiA9IHJlcXVpcmUoJy4vRG9tVHJlZVRhYicpO1xuXG52YXIgZG9tVHJlZVRhYjtcblxuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgZG9tVHJlZVRhYiA9IG5ldyBEb21UcmVlVGFiKCk7XG5cbiAgICBhbS5vbignc2VsZWN0RG9tRWxlbScsIG9uU2VsZWN0RG9tRWxlbSk7XG5cbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYignRG9tIFRyZWUnLCBkb21UcmVlVGFiLmRvbUVsZW0pO1xufTtcblxuZnVuY3Rpb24gb25TZWxlY3REb21FbGVtKGRlKSB7XG5cbiAgICBkb21UcmVlVGFiLmZvY3VzRWxlbShkZSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIENzc1BhcmFtID0gcmVxdWlyZSgnLi9Dc3NQYXJhbScpO1xudmFyIEtleSA9IHJlcXVpcmUoJy4uLy4uL3RyYWNrL0tleScpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBUcmFuc2hhbmQgPSByZXF1aXJlKCd0cmFuc2hhbmQnKTtcblxuZnVuY3Rpb24gQmV6aWVyQ3NzUGFyYW0gKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHtvcHRpb25MaW5lOiB7fX07XG5cbiAgICBvcHQub3B0aW9uTGluZS5pbnB1dHMgPSBbXG4gICAgICAgIHtuYW1lOiAneCcsIHR5cGU6ICd1bml0J30sXG4gICAgICAgIHtuYW1lOiAneScsIHR5cGU6ICd1bml0J30sXG4gICAgICAgIHtuYW1lOiAnYXV0b1JvdGF0ZScsIHR5cGU6ICdjaGVja2JveCd9LFxuICAgIF07XG5cbiAgICB0aGlzLl9jaGVja1RpbWVsaW5lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2NoZWNrT2JqID0ge3g6IDAsIHk6IDB9O1xuXG4gICAgQ3NzUGFyYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fcmVmcmVzaENoZWNrVGltZWxpbmUsIHRoaXMpO1xuICAgIHRoaXMuX3JlZnJlc2hDaGVja1RpbWVsaW5lKCk7XG5cbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSB7eDogMCwgeTogMH07XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUuYWRkQnV0dG9uKHtcbiAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiAnY2hhcnQtbGluZScsXG4gICAgICAgICAgICB0b29sdGlwOiAnY29udmVydCB0byBwbGFpbiB0cmFuc2xhdGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5lbWl0KCdiZXppZXJUb1RyYW5zbGF0ZScpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgIGNoaWxkSWR4OiAwLFxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignY2hhbmdlLmhpZGRlbicsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9ibHVyVHJhbnNmb3JtZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5pbmhlcml0cyhCZXppZXJDc3NQYXJhbSwgQ3NzUGFyYW0pO1xudmFyIHAgPSBCZXppZXJDc3NQYXJhbS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEJlemllckNzc1BhcmFtO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBwYXJlbnRUcmFjazoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnRUcmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9mZignZm9jdXNUcmFuc2Zvcm1lcicsIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9mZignYmx1clRyYW5zZm9ybWVyJywgdGhpcy5fYmx1clRyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50VHJhY2sgPSB2O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50VHJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRUcmFjay5vbignZm9jdXNUcmFuc2Zvcm1lcicsIHRoaXMuX2ZvY3VzVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9uKCdibHVyVHJhbnNmb3JtZXInLCB0aGlzLl9ibHVyVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudFRyYWNrO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxuXG5cbnAuZ2V0U2NyaXB0S2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXSxcbiAgICAgICAgICAgIGsgPSB7XG4gICAgICAgICAgICAgICAgdGltZToga2V5LnRpbWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBiZXppZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdWJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZToga2V5LmVhc2UuZ2V0RWFzZXIoKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldktleSA9IGtleS5nZXRQcmV2S2V5KCk7XG5cbiAgICAgICAgdmFsdWVzLnB1c2gocHJldktleSA/IF8ubGFzdChwcmV2S2V5LnZhbHVlKS5hbmNob3IgOiBrZXkudmFsdWVbMF0uYW5jaG9yKTtcbiAgICAgICAgdmFsdWVzLnB1c2gocHJldktleSA/IF8ubGFzdChwcmV2S2V5LnZhbHVlKS5oYW5kbGVSaWdodCA6IGtleS52YWx1ZVswXS5hbmNob3IpO1xuXG4gICAgICAgIGtleS52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCwgaWR4LCBhcnIpIHtcblxuICAgICAgICAgICAgdmFsdWVzLnB1c2gocG9pbnQuaGFuZGxlTGVmdCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChwb2ludC5hbmNob3IpO1xuICAgICAgICAgICAgaWYgKGlkeCAhPT0gYXJyLmxlbmd0aCAtIDEpIHZhbHVlcy5wdXNoKHBvaW50LmhhbmRsZVJpZ2h0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9vcHRpbWlzZSBhbmQgZml4IEdTQVAgYnVnXG4gICAgICAgIGlmICh2YWx1ZXMuZXZlcnkodiA9PiB2LnggPT09IHZhbHVlc1swXS54ICYmIHYueSA9PT0gdmFsdWVzWzBdLnkpKSB7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBrLm9wdGlvbnMuYmV6aWVyO1xuICAgICAgICAgICAgay5vcHRpb25zLnggPSB2YWx1ZXNbMF0ueDtcbiAgICAgICAgICAgIGsub3B0aW9ucy55ID0gdmFsdWVzWzBdLnk7XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gXy5zb3J0Qnkoa2V5cywgJ3RpbWUnKTtcbn07XG5cbnAuX3JlZnJlc2hDaGVja1RpbWVsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRpbWUgPSAwLFxuICAgICAgICB0bCA9IG5ldyB3aW5kb3cuVGltZWxpbmVNYXgoKTtcblxuICAgIGlmICh0aGlzLl9jaGVja1RpbWVsaW5lKSB0aGlzLl9jaGVja1RpbWVsaW5lLmtpbGwoKTtcbiAgICB0aGlzLl9jaGVja1RpbWVsaW5lID0gdGw7XG5cbiAgICB0aGlzLmdldFNjcmlwdEtleXModHJ1ZSkuZm9yRWFjaChrZXkgPT4ge1xuXG4gICAgICAgIHRsLnRvKHRoaXMuX2NoZWNrT2JqLCAoa2V5LnRpbWUgLSB0aW1lKSAvIDEwMDAsIGtleS5vcHRpb25zKTtcblxuICAgICAgICB0aW1lID0ga2V5LnRpbWU7XG4gICAgfSk7XG59O1xuXG5wLmdldFZhbHVlID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIGlmICghXy5pc051bWJlcih0aW1lKSkge1xuICAgICAgICB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2NoZWNrVGltZWxpbmUpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaENoZWNrVGltZWxpbmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jaGVja1RpbWVsaW5lLnRpbWUodGltZS8xMDAwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB0aGlzLl9jaGVja09iai54LFxuICAgICAgICB5OiB0aGlzLl9jaGVja09iai55LFxuICAgIH07XG59O1xuXG5wLmFkZEtleSA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleShvcHQudGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIGtleS52YWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgW10ucHVzaC5hcHBseShrZXkudmFsdWUsIG9wdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgICAgaWYgKCFvcHQudmFsdWUpIHtcblxuICAgICAgICAgICAgbGV0IHt4LCB5fSA9IHRoaXMuZ2V0VmFsdWUob3B0LnRpbWUpO1xuXG4gICAgICAgICAgICBvcHQudmFsdWUgPSBbe1xuICAgICAgICAgICAgICAgIGFuY2hvcjoge3gsIHl9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUxlZnQ6IHt4LCB5fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3gsIHl9LFxuICAgICAgICAgICAgfV07XG4gICAgICAgIH1cblxuICAgICAgICBrZXkgPSBuZXcgS2V5KG9wdCwgdGhpcy50aW1lbGluZSk7XG5cbiAgICAgICAga2V5Lm9uKCdwcmVyZW5kZXInLCB0aGlzLl9vbktleVByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5rZXlMaW5lLmFkZEtleShrZXkpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkS2V5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaElucHV0cygpO1xuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xuXG4gICAgcmV0dXJuIGtleTtcbn07XG5cbi8vVE9ETyByZW1vdmVLZXkgLT4ga2V5Lm9mZigncHJlcmVuZGVyJywgdGhpcy5fb25LZXlQcmVyZW5kZXIsIHRoaXMpO1xuXG5cblxucC5fY2FsY0Vhc2UgPSBmdW5jdGlvbiAocCwgcG9zKSB7XG5cbiAgICB2YXIgbCA9IHAubGVuZ3RoIC8gMjtcblxuICAgIHdoaWxlICgtLWwgPiAwKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGNvdW50KGkqMik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge3g6IHBbMF0sIHk6IHBbMV19O1xuXG4gICAgZnVuY3Rpb24gY291bnQoaSkge1xuXG4gICAgICAgIHBbaSswXSA9IHBbaSswXSArIChwW2krMl0gLSBwW2krMF0pICogcG9zO1xuICAgICAgICBwW2krMV0gPSBwW2krMV0gKyAocFtpKzNdIC0gcFtpKzFdKSAqIHBvcztcbiAgICB9XG59O1xuXG5wLl9mb2N1c1RyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICBkZSA9IGRlIHx8IHRoaXMucGFyZW50VHJhY2suX2N1cnJIYW5kbGVkRGU7XG4gICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IGRlO1xuXG4gICAgaWYgKCF0aGlzLl9jdXJySGFuZGxlZERlIHx8IHRoaXMuaGlkZGVuKSByZXR1cm4gdGhpcy5fYmx1clRyYW5zZm9ybWVyKCk7XG5cbiAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IFRyYW5zaGFuZCgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lci5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUcmFuc2Zvcm1lciwgdGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zZm9ybVNhdmU7XG4gICAgaWYgKGRlLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1TYXZlID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9XG5cbiAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGRlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVNhdmU7XG5cbiAgICB2YXIgcG9pbnRzID0gW107XG5cbiAgICBfLnNvcnRCeSh0aGlzLmtleUxpbmUuX2tleXMsICd0aW1lJykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAga2V5LnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpZHgsIGFycikge1xuXG4gICAgICAgICAgICB2YXIgc3JjS2V5ID0ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiBwb2ludC5hbmNob3IueCwgeTogcG9pbnQuYW5jaG9yLnl9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogcG9pbnQuaGFuZGxlTGVmdC54LCB5OiBwb2ludC5oYW5kbGVMZWZ0Lnl9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3g6IHBvaW50LmhhbmRsZVJpZ2h0LngsIHk6IHBvaW50LmhhbmRsZVJpZ2h0Lnl9LFxuICAgICAgICAgICAgICAgICAgICBsaW5rZWQ6IHBvaW50LmxpbmtlZCxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSBhcnIubGVuZ3RoIC0gMSkge1xuXG4gICAgICAgICAgICAgICAgc3JjS2V5LnN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JGaWxsOiAnbmF2YWpvd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JTdHJva2U6ICdkZWVwc2t5Ymx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbGw6ICduYXZham93aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN0cm9rZTogJ2RlZXBza3libHVlJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludHMucHVzaChzcmNLZXkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RyYW5zZm9ybWVyLnNldHVwKHtcbiAgICAgICAgaGFuZDoge1xuICAgICAgICAgICAgdHlwZTogJ2N1cnZlcicsXG4gICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIHg6IGJyLmxlZnQgKyBici53aWR0aC8yLFxuICAgICAgICAgICAgICAgIHk6IGJyLnRvcCArIGJyLmhlaWdodC8yLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuX3RyYW5zZm9ybWVyLmFjdGl2YXRlKCk7XG5cbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0pO1xufTtcblxucC5fYmx1clRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyKSB7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIuZGVhY3RpdmF0ZSgpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcblxuICAgIHZhciBjaGFuZ2VkS2V5cyA9IFtdO1xuXG4gICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7XG5cbiAgICAgICAgdmFyIGlkeCA9IGNoYW5nZS5pZHgsXG4gICAgICAgICAgICBrZXlzID0gXy5zb3J0QnkodGhpcy5rZXlMaW5lLl9rZXlzLCAndGltZScpLFxuICAgICAgICAgICAga2V5O1xuXG4gICAgICAgIC8vZmluZCB0aGUga2V5IGFjY29yZGluZyB0byB0aGUgY2hhbmdlXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcblxuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgaWYgKGtleS52YWx1ZS5sZW5ndGggPD0gaWR4KSB7XG5cbiAgICAgICAgICAgICAgICBpZHggLT0ga2V5LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSAnYWRkJykge1xuXG4gICAgICAgICAgICBrZXkudmFsdWUuc3BsaWNlKGlkeCwgMCwge1xuICAgICAgICAgICAgICAgIGFuY2hvcjoge3g6IGNoYW5nZS5wb2ludC5hbmNob3IueCwgeTogY2hhbmdlLnBvaW50LmFuY2hvci55fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueCwgeTogY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueX0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiBjaGFuZ2UucG9pbnQuaGFuZGxlUmlnaHQueCwgeTogY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lnl9LFxuICAgICAgICAgICAgICAgIGxpbmtlZDogY2hhbmdlLnBvaW50LmxpbmtlZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjaGFuZ2VkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09ICdyZW1vdmUnKSB7XG5cbiAgICAgICAgICAgIGtleS52YWx1ZS5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgICAgICAgaWYgKGtleS52YWx1ZS5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMua2V5TGluZS5yZW1vdmVLZXkoa2V5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhbmdlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSAnZWRpdCcpIHtcblxuICAgICAgICAgICAgdmFyIHBvaW50ID0ga2V5LnZhbHVlW2lkeF07XG4gICAgICAgICAgICBwb2ludC5hbmNob3IueCA9IGNoYW5nZS5wb2ludC5hbmNob3IueDtcbiAgICAgICAgICAgIHBvaW50LmFuY2hvci55ID0gY2hhbmdlLnBvaW50LmFuY2hvci55O1xuICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC54ID0gY2hhbmdlLnBvaW50LmhhbmRsZUxlZnQueDtcbiAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IGNoYW5nZS5wb2ludC5oYW5kbGVMZWZ0Lnk7XG4gICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lng7XG4gICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC55ID0gY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lnk7XG4gICAgICAgICAgICBwb2ludC5saW5rZWQgPSBjaGFuZ2UucG9pbnQubGlua2VkO1xuXG4gICAgICAgICAgICBjaGFuZ2VkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvL3RoZSBrZXkudmFsdWUgb2JqZWN0IGRvZXNuJ3QgY2hhbmdlIHNvIHdlIG5lZWQgdG8gdGhyb3cgdGhlIGNoYW5nZSBldmVudCBtYW51YWxseVxuICAgIGNoYW5nZWRLZXlzLmZvckVhY2goa2V5ID0+IGtleS5lbWl0KCdjaGFuZ2UudmFsdWUnKSk7XG59O1xuXG5wLl9vbktleVByZXJlbmRlciA9IGZ1bmN0aW9uIChjdHgsIGtleSkge1xuXG4gICAgdmFyIHByZXZLZXkgPSBrZXkuZ2V0UHJldktleSgpLFxuICAgICAgICBzdGFydCA9IHRoaXMudGltZWxpbmUudGltZVRvUmVuZGVyUG9zKHByZXZLZXkgPyBwcmV2S2V5LnRpbWUgOiAwKSxcbiAgICAgICAgd2lkdGggPSB0aGlzLnRpbWVsaW5lLnRpbWVUb1JlbmRlclBvcyhrZXkudGltZSkgLSBzdGFydCxcbiAgICAgICAgc3RlcCA9IHdpZHRoIC8ga2V5LnZhbHVlLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5LnZhbHVlLmxlbmd0aCAtIDE7ICsraSkge1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2RlZXBza3libHVlJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC5hcmMoc3RhcnQgKyAoc3RlcCAqIChpKzEpKSwga2V5Ll9oZWlnaHQvMiwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFBhcmFtID0gcmVxdWlyZSgnLi4vLi4vdHJhY2svUGFyYW0nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtIChvcHQ9e30pIHtcblxuICAgIFBhcmFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXRzKENzc1BhcmFtLCBQYXJhbSk7XG52YXIgcCA9IENzc1BhcmFtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ3NzUGFyYW07IiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgUGFyYW1GYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdHJhY2svUGFyYW1GYWN0b3J5Jyk7XG52YXIgQ3NzUGFyYW0gPSByZXF1aXJlKCcuL0Nzc1BhcmFtJyk7XG52YXIgQmV6aWVyQ3NzUGFyYW0gPSByZXF1aXJlKCcuL0JlemllckNzc1BhcmFtJyk7XG52YXIgQ3NzUGFyYW1Hcm91cCA9IHJlcXVpcmUoJy4vQ3NzUGFyYW1Hcm91cCcpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcblxudmFyIGRlZmF1bHRIaWRkZW4gPSAneixyb3RhdGlvblgscm90YXRpb25ZLHNjYWxlWixwZXJzcGVjdGl2ZU9yaWdpblgsdHJhbnNmb3JtT3JpZ2luWicuc3BsaXQoJywnKTtcblxuZnVuY3Rpb24gQ3NzUGFyYW1GYWN0b3J5KCkge1xuXG4gICAgUGFyYW1GYWN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLmdyb3VwcyA9IHtcbiAgICAgICAgcGFkZGluZzogWydwYWRkaW5nVG9wJywgICdwYWRkaW5nUmlnaHQnLCAgJ3BhZGRpbmdCb3R0b20nLCAgJ3BhZGRpbmdMZWZ0J10sXG4gICAgICAgIG1hcmdpbjogWydtYXJnaW5Ub3AnLCAgJ21hcmdpblJpZ2h0JywgICdtYXJnaW5Cb3R0b20nLCAgJ21hcmdpbkxlZnQnXSxcbiAgICAgICAgYm9yZGVyV2lkdGg6IFsnYm9yZGVyVG9wV2lkdGgnLCAgJ2JvcmRlclJpZ2h0V2lkdGgnLCAgJ2JvcmRlckJvdHRvbVdpZHRoJywgICdib3JkZXJMZWZ0V2lkdGgnXSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBbJ2JvcmRlclRvcExlZnRSYWRpdXMnLCAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnLCAnYm9yZGVyQm90dG9tTGVmdFJhZGl1cycsICdib3JkZXJCb3R0b21SaWdodFJhZGl1cyddLFxuICAgICAgICBib3JkZXJDb2xvcjogWydib3JkZXJUb3BDb2xvcicsICdib3JkZXJSaWdodENvbG9yJywgJ2JvcmRlckJvdHRvbUNvbG9yJywgJ2JvcmRlckxlZnRDb2xvciddLFxuICAgICAgICBib3JkZXJTdHlsZTogWydib3JkZXJUb3BTdHlsZScsICdib3JkZXJSaWdodFN0eWxlJywgJ2JvcmRlckJvdHRvbVN0eWxlJywgJ2JvcmRlckxlZnRTdHlsZSddLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFsnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJ10sXG4gICAgICAgIHRleHRTaGFkb3c6IFsndGV4dFNoYWRvd1gnLCAndGV4dFNoYWRvd1knLCAndGV4dFNoYWRvd0JsdXInXSxcbiAgICAgICAgdHJhbnNsYXRlOiBbJ3gnLCAneScsICd6J10sXG4gICAgICAgIHNjYWxlOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJ10sXG4gICAgICAgIHJvdGF0aW9uOiBbJ3JvdGF0aW9uWCcsICdyb3RhdGlvblknLCAncm90YXRpb25aJ10sXG4gICAgICAgIHNrZWV3OiBbJ3NrZWV3WCcsICdza2Vld1knXSxcbiAgICAgICAgcGVyc3BlY3RpdmVPcmlnaW46IFsncGVyc3BlY3RpdmVPcmlnaW5YJywgJ3BlcnNwZWN0aXZlT3JpZ2luWScsICdwZXJzcGVjdGl2ZU9yaWdpblonXSxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBbJ3RyYW5zZm9ybU9yaWdpblgnLCAndHJhbnNmb3JtT3JpZ2luWSddLFxuICAgICAgICBib3hTaGFkb3c6IFsnYm94U2hhZG93WCcsICdib3hTaGFkb3dZJywgJ2JveFNoYWRvd0JsdXInXSxcbiAgICAgICAgY2xpcDogWydjbGlwVG9wJywgICdjbGlwUmlnaHQnLCAgJ2NsaXBCb3R0b20nLCAgJ2NsaXBMZWZ0J10sXG4gICAgfTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IENzc1BhcmFtRmFjdG9yeTtcbmluaGVyaXRzKENzc1BhcmFtRmFjdG9yeSwgUGFyYW1GYWN0b3J5KTtcbnZhciBwID0gQ3NzUGFyYW1GYWN0b3J5LnByb3RvdHlwZTtcblxuXG5wLl9hc3NlbWJsZVBhcmFtID0gZnVuY3Rpb24gKG9wdD17fSkge1xuXG4gICAgaWYgKCFfLmhhcyhvcHQsICdoaWRkZW4nKSAmJiBfLmluY2x1ZGUoZGVmYXVsdEhpZGRlbiwgb3B0Lm5hbWUpKSBvcHQuaGlkZGVuID0gdHJ1ZTtcbiAgICBpZiAoIV8uaGFzKG9wdCwnb3B0aW9uTGluZScpKSBvcHQub3B0aW9uTGluZSA9IHt9O1xuICAgIGlmICghXy5oYXMob3B0Lm9wdGlvbkxpbmUsJ2lucHV0cycpKSBvcHQub3B0aW9uTGluZS5pbnB1dHMgPSBbXTtcbiAgICBpZiAoXy5pc0VtcHR5KG9wdC5vcHRpb25MaW5lLmlucHV0cykpIG9wdC5vcHRpb25MaW5lLmlucHV0cy5wdXNoKHtuYW1lOiAnaW5wdXQnfSk7XG5cbiAgICB2YXIgaW5wdXQgPSBvcHQub3B0aW9uTGluZS5pbnB1dHNbMF07XG5cbiAgICB0aGlzLmlmaXQob3B0Lm5hbWUpXG4gICAgICAgIC5pcygneCx5LHosdHJhbnNmb3JtT3JpZ2luWicsICgpID0+IHtcblxuICAgICAgICAgICAgb3B0LmRlZmF1bHRWYWx1ZSA9ICcwcHgnO1xuICAgICAgICAgICAgaW5wdXQudW5pdHMgPSBbJ3B4J107XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygnc2NhbGVYLHNjYWxlWSxzY2FsZVonLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndW5pdCc7XG4gICAgICAgICAgICBvcHQuZGVmYXVsdFZhbHVlID0gMTtcbiAgICAgICAgICAgIGlucHV0LmRyYWdTcGVlZCA9IDAuMDE7XG4gICAgICAgICAgICBpbnB1dC5wcmVjaXNpb24gPSAyO1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ3JvdGF0aW9uWCxyb3RhdGlvblkscm90YXRpb25aJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQuZGVmYXVsdFZhbHVlID0gJzBkZWcnO1xuICAgICAgICAgICAgaW5wdXQudW5pdHMgPSBbJ2RlZycsICdyYWQnXTtcbiAgICAgICAgICAgIGlucHV0LnByZWNpc2lvbiA9IDE7XG4gICAgICAgICAgICBpbnB1dC5jb252ZXJ0ZXJzID0ge1xuICAgICAgICAgICAgICAgIGRlZzJyYWQ6IGZ1bmN0aW9uIChkZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZyAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByYWQyZGVnOiBmdW5jdGlvbiAocmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYWQgLyBNYXRoLlBJICogMTgwO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ3RyYW5zZm9ybU9yaWdpblgsdHJhbnNmb3JtT3JpZ2luWScsICgpID0+IHtcblxuICAgICAgICAgICAgb3B0LmRlZmF1bHRWYWx1ZSA9ICc1MCUnO1xuICAgICAgICAgICAgaW5wdXQudW5pdHMgPSBbJyUnXTtcbiAgICAgICAgICAgIGlucHV0LmRyYWdTcGVlZCA9IDAuMDE7XG4gICAgICAgICAgICBpbnB1dC5wcmVjaXNpb24gPSAyO1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ3hQZXJjZW50LHlQZXJjZW50JywgKCkgPT4ge1xuXG4gICAgICAgICAgICBpbnB1dC51bml0cyA9IFtdO1xuICAgICAgICAgICAgaW5wdXQuZHJhZ1NwZWVkID0gMTtcbiAgICAgICAgICAgIGlucHV0LnByZWNpc2lvbiA9IDE7XG4gICAgICAgIH0pXG4gICAgICAgIC5pcygnY29sb3IsYm9yZGVyQ29sb3JUb3AsYm9yZGVyQ29sb3JSaWdodCxib3JkZXJDb2xvckJvdHRvbSxib3JkZXJDb2xvckxlZnQsYmFja2dyb3VuZENvbG9yJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBpbnB1dC50eXBlID0gJ2NvbG9yJztcbiAgICAgICAgfSlcbiAgICAgICAgLmlzKCdib3JkZXJXaWR0aCx0b3AscmlnaHQsYm90dG9tLGxlZnQsd2lkdGgsaGVpZ2h0JywgKCkgPT4ge1xuXG4gICAgICAgICAgICBpbnB1dC51bml0cyA9IFsncHgnXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmlzKCdvcGFjaXR5JywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQuZGVmYXVsdFZhbHVlID0gMTtcbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndW5pdCc7XG4gICAgICAgICAgICBpbnB1dC5kcmFnU3BlZWQgPSAwLjAxO1xuICAgICAgICAgICAgaW5wdXQucHJlY2lzaW9uID0gMjtcbiAgICAgICAgICAgIGlucHV0Lm1pbiA9IDA7XG4gICAgICAgICAgICBpbnB1dC5tYXggPSAxO1xuICAgICAgICB9KVxuICAgICAgICAuaXMoJ2JvcmRlclRvcFdpZHRoLGJvcmRlclRvcExlZnRSYWRpdXMsYm9yZGVyVG9wQ29sb3IsYm9yZGVyVG9wU3R5bGUnLCAoKSA9PiBvcHQudGl0bGUgPSAndG9wJylcbiAgICAgICAgLmlzKCdib3JkZXJSaWdodFdpZHRoLGJvcmRlclRvcFJpZ2h0UmFkaXVzLGJvcmRlclJpZ2h0Q29sb3IsYm9yZGVyUmlnaHRTdHlsZScsICgpID0+IG9wdC50aXRsZSA9ICdyaWdodCcpXG4gICAgICAgIC5pcygnYm9yZGVyQm90dG9tV2lkdGgsYm9yZGVyQm90dG9tTGVmdFJhZGl1cyxib3JkZXJCb3R0b21Db2xvcixib3JkZXJCb3R0b21TdHlsZScsICgpID0+IG9wdC50aXRsZSA9ICdib3R0b20nKVxuICAgICAgICAuaXMoJ2JvcmRlckxlZnRXaWR0aCxib3JkZXJCb3R0b21SaWdodFJhZGl1cyxib3JkZXJMZWZ0Q29sb3IsYm9yZGVyTGVmdFN0eWxlJywgKCkgPT4gb3B0LnRpdGxlID0gJ2xlZnQnKVxuICAgICAgICAuaXMoJ3NrZWV3WCcsICgpID0+IG9wdC50aXRsZSA9ICd4JylcbiAgICAgICAgLmlzKCdza2Vld1knLCAoKSA9PiBvcHQudGl0bGUgPSAneScpXG4gICAgICAgIC5pcygnYmV6aWVyJywgKCkgPT4ge1xuXG4gICAgICAgICAgICBvcHQub3B0aW9uTGluZS5pbnB1dHMgPSBbXTtcbiAgICAgICAgfSk7XG5cbiAgICBpZiAoaW5wdXQudW5pdHMpIHtcbiAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICB9XG5cbiAgICB2YXIgcGFyYW07XG5cbiAgICBpZiAob3B0Lm5hbWUgPT09ICdiZXppZXInKSB7XG5cbiAgICAgICAgcGFyYW0gPSBuZXcgQmV6aWVyQ3NzUGFyYW0ob3B0LCB0aGlzLnRpbWVsaW5lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmFtID0gbmV3IENzc1BhcmFtKG9wdCwgdGhpcy50aW1lbGluZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtO1xufTtcblxucC5fYXNzZW1ibGVHcm91cCA9IGZ1bmN0aW9uIChvcHQ9e30pIHtcblxuICAgIF8uZGVmYXVsdHMob3B0LCB7XG4gICAgICAgIGNvbGxhcHNlZDogZmFsc2UsXG4gICAgICAgIG1lcmdlZDogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiBmYWxzZSxcbiAgICAgICAgYm9ycm93Q2hpbGRJbnB1dHNPbkNvbGxhcHNlOiB0cnVlLFxuICAgICAgICBvcHRpb25MaW5lOiB7XG4gICAgICAgICAgICBpbnB1dHM6IFtdLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIHBhcmFtR3JvdXAgPSBuZXcgQ3NzUGFyYW1Hcm91cChvcHQsIHRoaXMudGltZWxpbmUpO1xuXG4gICAgaWYgKG9wdC5uYW1lID09PSAndHJhbnNsYXRlJykge1xuXG4gICAgICAgIHBhcmFtR3JvdXAub3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICAgICAgaWNvbjogJ3ZlY3RvcicsXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ2NvbnZlcnQgdG8gYmV6aWVyIHBhdGgnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHBhcmFtR3JvdXAuZW1pdCgndHJhbnNsYXRlVG9CZXppZXInKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgICAgICBjaGlsZElkeDogMCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtR3JvdXA7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUGFyYW1Hcm91cCA9IHJlcXVpcmUoJy4uLy4uL3RyYWNrL1BhcmFtR3JvdXAnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtR3JvdXAgKG9wdD17fSkge1xuXG4gICAgUGFyYW1Hcm91cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0cyhDc3NQYXJhbUdyb3VwLCBQYXJhbUdyb3VwKTtcbnZhciBwID0gQ3NzUGFyYW1Hcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1BhcmFtR3JvdXA7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxuZnVuY3Rpb24gQ3NzUGFyYW1zVGFiKCkge1xuXG4gICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcyA9IFtdO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgYW0ub24oJ2NoYW5nZS5jdXJyVHJhY2snLCB0aGlzLl9vbkNoYW5nZUN1cnJUcmFjaywgdGhpcyk7XG59XG5cbnZhciBwID0gQ3NzUGFyYW1zVGFiLnByb3RvdHlwZTtcblxuXG5cblxuXG5wLl9vbkNoYW5nZUN1cnJUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgdGhpcy5fdW5saXN0ZW4oKTtcblxuICAgIHRoaXMuX2N1cnJUcmFjayA9IHRyYWNrO1xuXG4gICAgdGhpcy5fbGlzdGVuKCk7XG59O1xuXG5cbnAuX29uSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAocGFyYW1OYW1lLCB2YWx1ZSkge1xuXG4gICAgaWYgKCF0aGlzLl9jdXJyVHJhY2spIHJldHVybjtcblxuICAgIHZhciBwYXJhbSA9IHRoaXMuX2N1cnJUcmFjay5nZXRQYXJhbShwYXJhbU5hbWUpO1xuXG4gICAgaWYgKCFwYXJhbSkge1xuXG4gICAgICAgIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmFkZFBhcmFtKHtuYW1lOiBwYXJhbU5hbWV9KTtcbiAgICAgICAgcGFyYW0uYWRkS2V5KHt2YWx1ZTogdmFsdWV9KTtcbiAgICB9XG59O1xuXG5wLl9vblRyYWNrQWRkUGFyYW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9saXN0ZW4oKTtcbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hLZXlCdXR0b25zKCk7XG59O1xuXG5wLl9vbkNoYW5nZVBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaEtleUJ1dHRvbnMoKTtcbn07XG5cblxuXG5cblxuXG5wLl91bmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fY3VyclRyYWNrKSByZXR1cm47XG5cbiAgICB0aGlzLl9zaG93SGlkZU5vVHJhY2tNc2codHJ1ZSk7XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sucGFyYW1Hcm91cC5vZmYoJ2NoYW5nZS5zdHJ1Y3R1cmUnLCB0aGlzLl9vblRyYWNrQWRkUGFyYW0sIHRoaXMpO1xuICAgIHRoaXMuX2N1cnJUcmFjay50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZm9yRWFjaElucHV0KGZ1bmN0aW9uIChpbnB1dCwgcGFyYW1OYW1lKSB7XG5cbiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmdldFBhcmFtKHBhcmFtTmFtZSk7XG5cbiAgICAgICAgaWYgKHBhcmFtKSB7XG5cbiAgICAgICAgICAgIHBhcmFtLm9mZignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZVBhcmFtLCB0aGlzKTtcbiAgICAgICAgICAgIHBhcmFtLmRldGFjaElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIGlucHV0LnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX2xpc3RlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fY3VyclRyYWNrKSByZXR1cm47XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sucGFyYW1Hcm91cC5vbignY2hhbmdlLnN0cnVjdHVyZScsIHRoaXMuX29uVHJhY2tBZGRQYXJhbSwgdGhpcyk7XG4gICAgdGhpcy5fY3VyclRyYWNrLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lLCB0aGlzKTtcblxuICAgIHRoaXMuX3Nob3dIaWRlTm9UcmFja01zZyhmYWxzZSk7XG5cbiAgICB0aGlzLl9mb3JFYWNoSW5wdXQoZnVuY3Rpb24gKGlucHV0LCBwYXJhbU5hbWUpIHtcblxuICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suZ2V0UGFyYW0ocGFyYW1OYW1lKTtcblxuICAgICAgICBpZiAocGFyYW0pIHtcblxuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBwYXJhbS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgcGFyYW0uYXR0YWNoSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgcGFyYW0ub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fb25DaGFuZ2VQYXJhbSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX3Nob3dIaWRlTm9UcmFja01zZyA9IGZ1bmN0aW9uIChzaG93KSB7XG5cbiAgICB0aGlzLl9kZU1zZ05vVHJhY2suc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9kZVNjcm9sbENvbnQuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnbm9uZScgOiAnJztcbn07XG5cbnAuX2ZvckVhY2hJbnB1dCA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuXG4gICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25MaW5lKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9uTGluZS5pbnB1dHMpLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXNBcmcsIG9wdGlvbkxpbmUuaW5wdXRzW3BhcmFtTmFtZV0sIHBhcmFtTmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaEtleUJ1dHRvbnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25MaW5lKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbkxpbmUucmVmcmVzaEtleSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB0aGlzLl9kZU1zZ05vVHJhY2sgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBjb2xvcjogYW1ndWkuY29sb3IudGV4dEluYWN0aXZlLFxuICAgICAgICB0ZXh0OiBhbS5pMThuLmNzc01vZHVsZS5ub1RyYWNrU2VsZWN0ZWQsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZVNjcm9sbENvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgIH0pO1xuXG4gICAgYW1ndWkubWFrZVNjcm9sbGFibGUoe1xuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlU2Nyb2xsQ29udFxuICAgIH0pO1xuXG4gICAgdmFyIGJvZGVyU3R5bGVPcHRpb25zID0gJ25vbmUsaGlkZGVuLGRvdHRlZCxkYXNoZWQsc29saWQsZG91YmxlLGdyb292ZSxyaWRnZSxpbnNldCxvdXRzZXQsaW5pdGlhbCxpbmhlcml0Jy5zcGxpdCgnLCcpO1xuXG4gICAgdmFyIHBhcmFtVHJlZSA9IFtcblxuICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ2ZvbnQnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LWZhbWlseScsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC1zaXplJywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LXdlaWdodCcsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC1zdHlsZScsIGlucHV0OiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnZm9udC12YXJpYW50JywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd0ZXh0LXRyYW5zZm9ybScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6ICdub25lLGNhcGl0YWxpemUsdXBwZXJjYXNlLGxvd2VyY2FzZSxmdWxsLXdpZHRoJy5zcGxpdCgnLCcpfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAndGV4dC1kZWNvcmF0aW9uJywgaW5wdXQ6IHt0eXBlOiAnc3RyaW5nJywgZGVmYXVsdFZhbHVlOiAnbm9uZSd9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdjb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHt0aXRsZTogJ2JvcmRlcicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJDb2xvcicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyVG9wQ29sb3InLCBpbnB1dDogJ2NvbG9yJ30sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRDb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJCb3R0b21Db2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJMZWZ0Q29sb3InLCBpbnB1dDogJ2NvbG9yJ30sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlcldpZHRoJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJUb3BXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyQm90dG9tV2lkdGgnLCBpbnB1dDoge3R5cGU6ICd1bml0JywgdW5pdHM6IFsncHgnXX19LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckxlZnRXaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlclN0eWxlJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJUb3BTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyUmlnaHRTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyQm90dG9tU3R5bGUnLCBpbnB1dDoge3R5cGU6ICdzZWxlY3QnLCBvcHRpb25zOiBib2RlclN0eWxlT3B0aW9uc319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckxlZnRTdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgXX0sXG4gICAgICAgIHt0aXRsZTogJ2JhY2tncm91bmQnLCBjaGlsZHJlbjogW119LFxuICAgICAgICB7dGl0bGU6ICd0cmFuc2Zvcm0nLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAge3RpdGxlOiAndHJhbnNsYXRlJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd4JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd5JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd6JywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICAgICAge3RpdGxlOiAnc2NhbGUnLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3NjYWxlWCcsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnc2NhbGVZJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdzY2FsZVonLCBpbnB1dDoge319LFxuICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICB7dGl0bGU6ICdyb3RhdGlvbicsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAncm90YXRpb25YJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdyb3RhdGlvblknLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3JvdGF0aW9uWicsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgXX0sXG4gICAgICAgIHt0aXRsZTogJ2xheW91dCcsIGNoaWxkcmVuOiBbXX0sXG4gICAgXTtcbiAgICB2YXIgYnVpbGQgPSBmdW5jdGlvbiAobm9kZUxpc3QsIHBhcmVudCwgaW5kZW50KSB7XG5cbiAgICAgICAgbm9kZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuXG4gICAgICAgICAgICB2YXIgb3B0aW9uTGluZSxcbiAgICAgICAgICAgICAgICBpc0NoaWxkcmVuVmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIG5vZGUuaW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgbm9kZS5rZWVwU3BhY2VGb3JUZ2dsQ2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAobm9kZS5pbnB1dCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihub2RlLmlucHV0KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnB1dCA9IHt0eXBlOiBub2RlLmlucHV0fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlLmlucHV0Lm5hbWUgPSBub2RlLnRpdGxlO1xuXG4gICAgICAgICAgICAgICAgbm9kZS5pbnB1dHMgPSBbbm9kZS5pbnB1dF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5vZGUuaW5wdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlucHV0cykge1xuXG4gICAgICAgICAgICAgICAgbm9kZS5idG5LZXkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJUcmFjaykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmFkZFBhcmFtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbm9kZS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS50b2dnbGVLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgICAgICBub2RlLnRnZ2xDaGlsZHJlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogb25Ub2dnbGVDaGlsZHJlbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2NyZWF0ZVxuICAgICAgICAgICAgb3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcy5wdXNoKG9wdGlvbkxpbmUpO1xuXG4gICAgICAgICAgICAvL2xpc3RlbiB0byBpbnB1dHNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbkxpbmUuaW5wdXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dE5hbWUpIHtcblxuICAgICAgICAgICAgICAgIG9wdGlvbkxpbmUuaW5wdXRzW2lucHV0TmFtZV0ucmVzZXQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VIYW5kbGVyID0gdGhpcy5fb25JbnB1dENoYW5nZS5iaW5kKHRoaXMsIGlucHV0TmFtZSk7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lLmlucHV0c1tpbnB1dE5hbWVdLm9uKCdjaGFuZ2UnLCBjaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG5cbiAgICAgICAgICAgIC8vYWRkIHBhcmFtIGJ1dHRvblxuICAgICAgICAgICAgdmFyIHBhcmFtTmFtZXMgPSBjb2xsZWN0UGFyYW1OYW1lcyhub2RlKTtcblxuICAgICAgICAgICAgb3B0aW9uTGluZS5yZWZyZXNoS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25MaW5lLmJ1dHRvbnMua2V5KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB0aGlzLl9jdXJyVHJhY2sudGltZWxpbmUuY3VyclRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suZ2V0UGFyYW0ocGFyYW1OYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtICYmIHBhcmFtLmdldEtleSh0aW1lKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzS2V5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3B0aW9uTGluZS5idXR0b25zLmtleS5zZXRIaWdobGlnaHQoISFoYXNLZXkpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG5cbiAgICAgICAgICAgIC8vYXBwZW5kIHRvIHBhcmVudFxuICAgICAgICAgICAgaWYgKHBhcmVudC5hZGRPcHRpb25MaW5lKSB7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkT3B0aW9uTGluZShvcHRpb25MaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChvcHRpb25MaW5lLmRvbUVsZW0pO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgICAgICBvblRvZ2dsZUNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICBidWlsZChub2RlLmNoaWxkcmVuLCBvcHRpb25MaW5lLCBpbmRlbnQgKyAxKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvblRvZ2dsZUNoaWxkcmVuKCkge1xuXG4gICAgICAgICAgICAgICAgaXNDaGlsZHJlblZpc2libGUgPSAhaXNDaGlsZHJlblZpc2libGU7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lLmJ1dHRvbnMudGdnbENoaWxkcmVuLnNldFRvZ2dsZShpc0NoaWxkcmVuVmlzaWJsZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDaGlsZHJlblZpc2libGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25MaW5lLnNob3dTdWJsaW5lcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGluZS5oaWRlU3VibGluZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBidWlsZChwYXJhbVRyZWUsIHRoaXMuX2RlU2Nyb2xsQ29udCwgMCk7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UGFyYW1OYW1lcyhub2RlKSB7XG5cbiAgICAgICAgdmFyIHJldCA9IFtdO1xuXG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG5cbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQobm9kZS5jaGlsZHJlbi5mb3JFYWNoKGNvbGxlY3RQYXJhbU5hbWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXQucHVzaChub2RlLnRpdGxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDc3NQYXJhbXNUYWI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUcmFjayA9IHJlcXVpcmUoJy4uLy4uL3RyYWNrL1RyYWNrJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBDc3NQYXJhbUZhY3RvcnkgPSByZXF1aXJlKCcuL0Nzc1BhcmFtRmFjdG9yeScpO1xuXG5mdW5jdGlvbiBDc3NUcmFjayAob3B0PXt9LCB0aW1lbGluZSkge1xuXG4gICAgdGhpcy5fcGFyYW1GYWN0b3J5ID0gbmV3IENzc1BhcmFtRmFjdG9yeSh7fSwgdGltZWxpbmUpO1xuXG4gICAgVHJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbk9uOiAnZXllJyxcbiAgICAgICAgICAgIGljb25PZmY6ICdleWUtb2ZmJyxcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5fb25DbGlja1RnZ2xIaWRlKCksXG4gICAgICAgIH0pLFxuICAgICAgICBuYW1lOiAndGdnbEhpZGUnLFxuICAgICAgICBjaGlsZElkeDogMSxcbiAgICB9KTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgdG9vbHRpcDogJ2VuYWJsZS9kaXNhYmxlIDNkJyxcbiAgICAgICAgICAgIGljb246ICdjdWJlJyxcbiAgICAgICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ3RnZ2wzZCcsXG4gICAgICAgIGNoaWxkSWR4OiAxLFxuICAgIH0pO1xuXG4gICAgLy9UT0RPIGRvIHRoaXMgc29tZWhvdyBlbHNlXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9uKCdhZGRQYXJhbScsIHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0ubmFtZSA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIHBhcmFtLm9uKCd0cmFuc2xhdGVUb0JlemllcicsIHRoaXMuX3N3aXRjaEZyb21UcmFuc2xhdGVUb0JlemllciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW0ubmFtZSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgICAgIHBhcmFtLnBhcmVudFRyYWNrID0gdGhpczsvL2hhY2shXG4gICAgICAgICAgICBwYXJhbS5vbignYmV6aWVyVG9UcmFuc2xhdGUnLCB0aGlzLl9zd2l0Y2hGcm9tQmV6aWVyVG9UcmFuc2xhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wYXJhbUdyb3VwLmdldFBhcmFtKCd0cmFuc2xhdGUnKSkge1xuICAgICAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ3RyYW5zbGF0ZScpLm9uKCd0cmFuc2xhdGVUb0JlemllcicsIHRoaXMuX3N3aXRjaEZyb21UcmFuc2xhdGVUb0JlemllciwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1Hcm91cC5nZXRQYXJhbSgnYmV6aWVyJykpIHtcbiAgICAgICAgdGhpcy5wYXJhbUdyb3VwLmdldFBhcmFtKCdiZXppZXInKS5wYXJlbnRUcmFjayA9IHRoaXM7Ly9oYWNrIVxuICAgICAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ2JlemllcicpLm9uKCdiZXppZXJUb1RyYW5zbGF0ZScsIHRoaXMuX3N3aXRjaEZyb21CZXppZXJUb1RyYW5zbGF0ZSwgdGhpcyk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhDc3NUcmFjaywgVHJhY2spO1xudmFyIHAgPSBDc3NUcmFjay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1RyYWNrO1xuXG5wLnR5cGUgPSAnY3NzX3RyYWNrX3R5cGUnO1xuXG5cbnAuZm9jdXNUcmFuc2Zvcm1lciA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgZGUgPSBkZSB8fCB0aGlzLl9jdXJySGFuZGxlZERlO1xuICAgIHRoaXMuX2N1cnJIYW5kbGVkRGUgPSBkZTtcblxuICAgIGlmICghdGhpcy5fY3VyckhhbmRsZWREZSkgcmV0dXJuIHRoaXMuX2JsdXJUcmFuc2Zvcm1lcigpO1xuXG4gICAgdGhpcy5lbWl0KCdmb2N1c1RyYW5zZm9ybWVyJyk7XG5cbiAgICB2YXIgaGFuZE9wdCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2Zvcm1lcicsXG4gICAgICAgICAgICBiYXNlOiB7XG4gICAgICAgICAgICAgICAgeDogZGUub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICB5OiBkZS5vZmZzZXRUb3AsXG4gICAgICAgICAgICAgICAgdzogZGUub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgaDogZGUub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIH0sXG4gICAgICAgIHhQZXJjZW50ID0gMCxcbiAgICAgICAgeVBlcmNlbnQgPSAwO1xuXG4gICAgdmFyIHAgPSBoYW5kT3B0LnBhcmFtcztcbiAgICB0aGlzLl9lbmRQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChwYXJhbS5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlICd4JzogcC50eCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneSc6IHAudHkgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWCc6IHAuc3ggPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWSc6IHAuc3kgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uWic6IHAucnogPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpIC8gMTgwICogTWF0aC5QSTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFuc2Zvcm1PcmlnaW5YJzogcC5veCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSkgLyAxMDA7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNmb3JtT3JpZ2luWSc6IHAub3kgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpIC8gMTAwOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Jlemllcic6XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW0uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBwLnR4ID0gcGFyc2VGbG9hdCh2YWx1ZS54KTtcbiAgICAgICAgICAgICAgICBwLnR5ID0gcGFyc2VGbG9hdCh2YWx1ZS55KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneFBlcmNlbnQnOiB4UGVyY2VudCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneVBlcmNlbnQnOiB5UGVyY2VudCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIHRoaXMuX3RyYW5zZm9ybWVyLnNldExvY2FsUm9vdChkZS5wYXJlbnROb2RlKTtcbiAgICB0aGlzLl90cmFuc2Zvcm1lci5zZXR1cCh7XG4gICAgICAgIGhhbmQ6IGhhbmRPcHQsXG4gICAgfSk7XG4gICAgdGhpcy5fdHJhbnNmb3JtZXIuYWN0aXZhdGUoKTtcblxuICAgIGFtLmRlSGFuZGxlckNvbnQuYXBwZW5kQ2hpbGQodGhpcy5fdHJhbnNmb3JtZXIuZG9tRWxlbSk7XG59O1xuXG5wLl9ibHVyVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jdXJySGFuZGxlZERlID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5lbWl0KCdibHVyVHJhbnNmb3JtZXInKTtcblxuICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciAmJiB0aGlzLl90cmFuc2Zvcm1lci5kb21FbGVtICYmIHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIuZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0pO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxucC5fc3dpdGNoRnJvbVRyYW5zbGF0ZVRvQmV6aWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHhQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ3gnKSxcbiAgICAgICAgeVBhcmFtID0gdGhpcy5nZXRQYXJhbSgneScpLFxuICAgICAgICB4UGFyYW1TYXZlID0geFBhcmFtLmdldFNhdmUoKSxcbiAgICAgICAgeVBhcmFtU2F2ZSA9IHlQYXJhbS5nZXRTYXZlKCksXG4gICAgICAgIHhLZXlzID0geFBhcmFtU2F2ZS5rZXlzLFxuICAgICAgICB5S2V5cyA9IHlQYXJhbVNhdmUua2V5cyxcbiAgICAgICAgYmV6aWVyS2V5cyA9IFtdLFxuICAgICAgICB0aW1lcyA9IF8uc29ydEJ5KF8udW5pcShfLnBsdWNrKHhLZXlzLCAndGltZScpLmNvbmNhdChfLnBsdWNrKHlLZXlzLCAndGltZScpKSkpLFxuICAgICAgICBvbGRCZXppZXJLZXlzID0gdGhpcy5fX2JlemllclBhcmFtU2F2ZSA/IHRoaXMuX19iZXppZXJQYXJhbVNhdmUua2V5cyA6IFtdO1xuXG4gICAgdGltZXMuZm9yRWFjaChmdW5jdGlvbiAodGltZSkge1xuXG4gICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdCh4UGFyYW0uZ2V0VmFsdWUodGltZSkpLFxuICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoeVBhcmFtLmdldFZhbHVlKHRpbWUpKSxcbiAgICAgICAgICAgIHhLZXkgPSB4UGFyYW0uZ2V0S2V5KHRpbWUpLFxuICAgICAgICAgICAgeUtleSA9IHlQYXJhbS5nZXRLZXkodGltZSksXG4gICAgICAgICAgICBvbGRLZXkgPSBfLmZpbmQob2xkQmV6aWVyS2V5cywge3RpbWU6IHRpbWUsIGFuY2hvcjoge3g6eCwgeTp5fX0pO1xuXG4gICAgICAgIGJlemllcktleXMucHVzaChvbGRLZXkgfHwge1xuICAgICAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgICAgIGVhc2U6ICh4S2V5ICYmIHhLZXkuZWFzZSkgfHwgKHlLZXkgJiYgeUtleS5lYXNlKSxcbiAgICAgICAgICAgIHZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIGFuY2hvcjoge3gsIHl9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUxlZnQ6IHt4LCB5fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3gsIHl9LFxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgYmV6aWVyUGFyYW0gPSB0aGlzLmFkZFBhcmFtKHtcbiAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgIGtleXM6IGJlemllcktleXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9feFBhcmFtU2F2ZSA9IHhQYXJhbVNhdmU7XG4gICAgdGhpcy5fX3lQYXJhbVNhdmUgPSB5UGFyYW1TYXZlO1xuICAgIGJlemllclBhcmFtLm9uY2UoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX194UGFyYW1TYXZlO1xuICAgICAgICBkZWxldGUgdGhpcy5fX3lQYXJhbVNhdmU7XG4gICAgfSk7XG5cbiAgICB4UGFyYW0uaGlkZGVuID0gdHJ1ZTtcbiAgICB5UGFyYW0uaGlkZGVuID0gdHJ1ZTtcbiAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ3RyYW5zbGF0ZScpLmhpZGRlbiA9IHRydWU7XG4gICAgYmV6aWVyUGFyYW0uaGlkZGVuID0gZmFsc2U7XG59O1xuXG5wLl9zd2l0Y2hGcm9tQmV6aWVyVG9UcmFuc2xhdGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE8gcmVzdG9yZSBvcmlnaW5hbCB4LCB5IGtleXMgd2hlbiBiZXppZXIgd2Fzbid0IGNoYW5nZWRcblxuICAgIHZhciBiZXppZXJQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ2JlemllcicpLFxuICAgICAgICBiZXppZXJQYXJhbVNhdmUgPSBiZXppZXJQYXJhbS5nZXRTYXZlKCksXG4gICAgICAgIHhLZXlzID0gW10sXG4gICAgICAgIHlLZXlzID0gW107XG5cbiAgICBiZXppZXJQYXJhbVNhdmUua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChiZXppZXJLZXkpIHtcblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gXy5sYXN0KGJlemllcktleS52YWx1ZSk7XG5cbiAgICAgICAgeEtleXMucHVzaCh7XG4gICAgICAgICAgICB0aW1lOiBiZXppZXJLZXkudGltZSxcbiAgICAgICAgICAgIHZhbHVlOiBsYXN0UG9pbnQuYW5jaG9yLnggKyAncHgnLFxuICAgICAgICB9KTtcbiAgICAgICAgeUtleXMucHVzaCh7XG4gICAgICAgICAgICB0aW1lOiBiZXppZXJLZXkudGltZSxcbiAgICAgICAgICAgIHZhbHVlOiBsYXN0UG9pbnQuYW5jaG9yLnkgKyAncHgnLFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciB4UGFyYW0gPSB0aGlzLmFkZFBhcmFtKHRoaXMuX194UGFyYW1TYXZlIHx8IHtcbiAgICAgICAgbmFtZTogJ3gnLFxuICAgICAgICBrZXlzOiB4S2V5cyxcbiAgICB9KTtcbiAgICB2YXIgeVBhcmFtID0gdGhpcy5hZGRQYXJhbSh0aGlzLl9feVBhcmFtU2F2ZSB8fCB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAga2V5czogeUtleXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9fYmV6aWVyUGFyYW1TYXZlID0gYmV6aWVyUGFyYW1TYXZlO1xuXG4gICAgeFBhcmFtLmhpZGRlbiA9IGZhbHNlO1xuICAgIHlQYXJhbS5oaWRkZW4gPSBmYWxzZTtcbiAgICB0aGlzLnBhcmFtR3JvdXAuZ2V0UGFyYW0oJ3RyYW5zbGF0ZScpLmhpZGRlbiA9IGZhbHNlO1xuICAgIGJlemllclBhcmFtLmhpZGRlbiA9IHRydWU7XG59O1xuXG5cblxuXG5cblxuXG5cblxucC5fb25DbGlja1RnZ2xIaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcykge1xuICAgICAgICB0aGlzLl9zaG93U2VsZWN0ZWRFbGVtcygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5faGlkZVNlbGVjdGVkRWxlbXMoKTtcbiAgICB9XG59O1xuXG5wLl9oaWRlU2VsZWN0ZWRFbGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMpIHJldHVybjtcbiAgICB0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMgPSB0cnVlO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9wdGlvbkxpbmUuYnV0dG9ucy50Z2dsSGlkZS5zZXRUb2dnbGUodHJ1ZSk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1zLmZvckVhY2goZnVuY3Rpb24gKGRlKSB7XG5cbiAgICAgICAgZGUuX2FtVmlzaWJpbGl0eVNhdmUgPSBkZS5zdHlsZS52aXNpYmlsaXR5O1xuICAgICAgICBkZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgfSk7XG59O1xuXG5wLl9zaG93U2VsZWN0ZWRFbGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zKSByZXR1cm47XG4gICAgdGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zID0gZmFsc2U7XG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5idXR0b25zLnRnZ2xIaWRlLnNldFRvZ2dsZShmYWxzZSk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1zLmZvckVhY2goZnVuY3Rpb24gKGRlKSB7XG5cbiAgICAgICAgZGUuc3R5bGUudmlzaWJpbGl0eSA9IGRlLl9hbVZpc2liaWxpdHlTYXZlO1xuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENzc1RyYWNrID0gcmVxdWlyZSgnLi9Dc3NUcmFjaycpO1xudmFyIFBhcmFtc1RhYiA9IHJlcXVpcmUoJy4vQ3NzUGFyYW1zVGFiJyk7XG52YXIgcXNnZW4gPSByZXF1aXJlKCcuLi8uLi9xc2dlbicpO1xuXG52YXIgcGFyYW1zVGFiO1xuXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBwYXJhbXNUYWIgPSBuZXcgUGFyYW1zVGFiKCk7XG5cbiAgICBhbS5yZWdpc3RlclRyYWNrVHlwZShDc3NUcmFjaywgQ3NzVHJhY2sucHJvdG90eXBlLnR5cGUpO1xuXG4gICAgYW0ub24oJ3NlbGVjdERvbUVsZW0nLCBvblNlbGVjdERvbUVsZW0pO1xuXG4gICAgYW0ud29ya3NwYWNlLmZpbGxUYWIoJ0NzcyBTdHlsZScsIHBhcmFtc1RhYi5kb21FbGVtKTtcblxuICAgIGFtLmRvbVBpY2tlci5vbignYWRkJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICBlLmRlbWFuZCgxMCkudGhlbigoKSA9PiB7XG5cbiAgICAgICAgICAgIGFtLmRvbVBpY2tlci5oaWRlKCk7XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHFzZ2VuKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RvcjonLCBzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciB0cmFjayA9IG5ldyBDc3NUcmFjayh7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzOiBbe3R5cGU6ICdjc3MnLCB2YWx1ZTogc2VsZWN0b3J9XSxcbiAgICAgICAgICAgICAgICBwYXJhbVRyZWU6IHtzYXZlOiB7bmFtZTogc2VsZWN0b3J9fSxcbiAgICAgICAgICAgIH0sIGFtLmN1cnJUaW1lbGluZSk7XG5cbiAgICAgICAgICAgIGFtLmN1cnJUaW1lbGluZS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICB0cmFjay5zZWxlY3QoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBvblNlbGVjdERvbUVsZW0oZGUpIHtcblxuICAgIGFtLmN1cnJUaW1lbGluZS50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICBpZiAodHJhY2sgaW5zdGFuY2VvZiBDc3NUcmFjaykge1xuXG4gICAgICAgICAgICBpZiAodHJhY2suaXNPd25lZERvbUVsZW0oZGUpKSB7XG5cbiAgICAgICAgICAgICAgICB0cmFjay5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB0cmFjay5mb2N1c1RyYW5zZm9ybWVyKGRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWNrLmlzU2VsZWN0ZWQoKSkge1xuXG4gICAgICAgICAgICAgICAgdHJhY2suZGVzZWxlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIE1vdXNlKCkge1xuXG4gICAgdGhpcy5zY3JlZW5YID0gMDtcbiAgICB0aGlzLnNjcmVlblkgPSAwO1xuXG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbn1cblxuaW5oZXJpdHMoTW91c2UsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IE1vdXNlLnByb3RvdHlwZTtcblxucC5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdGhpcy5zY3JlZW5YID0gZS5zY3JlZW5YO1xuICAgIHRoaXMuc2NyZWVuWSA9IGUuc2NyZWVuWTtcbn0gXG5cblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgVGltZWxpbmUgPSByZXF1aXJlKCcuLi90aW1lbGluZScpO1xudmFyIGRlZmluZUNvbXBhY3RQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3V0aWxzL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xudmFyIG1zdFNjcmlwdCA9IHJlcXVpcmUoJy4vc2NyaXB0LnByb2plY3QubXN0Jyk7XG5cbmZ1bmN0aW9uIFByb2plY3Qoc2F2ZSA9IHt9KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3RpbWVsaW5lcyA9IFtdO1xuICAgIHRoaXMuaW5wdXRzID0ge307XG5cbiAgICB0aGlzLnVzZVNhdmUoc2F2ZSk7XG59XG5cbmluaGVyaXRzKFByb2plY3QsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFByb2plY3QucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBQcm9qZWN0O1xuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICduYW1lJywgdHlwZTogJ3N0cmluZycsIHN0YXJ0VmFsdWU6ICduZXcgcHJvamVjdCd9KTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUgPSB7fSkge1xuXG4gICAgdmFyIGJsb2NrID0gYW0uaGlzdG9yeS5ibG9ja1NhdmluZygpO1xuXG4gICAgaWYgKF8uaGFzKHNhdmUsICduYW1lJykpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gc2F2ZS5uYW1lO1xuICAgIH1cblxuICAgIGlmIChfLmlzQXJyYXkoc2F2ZS50aW1lbGluZXMpKSB7XG5cbiAgICAgICAgc2F2ZS50aW1lbGluZXMuZm9yRWFjaCh0bCA9PiB0aGlzLmFkZFRpbWVsaW5lKHRsKSk7XG4gICAgfVxuXG4gICAgaWYgKF8uaGFzKHNhdmUsICdjdXJyVGltZWxpbmVJZHgnKSkge1xuICAgICAgICB0aGlzLnNlbGVjdFRpbWVsaW5lKHNhdmUuY3VyclRpbWVsaW5lSWR4KTtcbiAgICB9XG5cbiAgICBhbS5oaXN0b3J5LnJlbGVhc2VCbG9jayhibG9jayk7XG59O1xuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2F2ZSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB0aW1lbGluZXM6IHRoaXMuX3RpbWVsaW5lcy5tYXAodGwgPT4gdGwuZ2V0U2F2ZSgpKSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY3VyclRpbWVsaW5lKSB7XG4gICAgICAgIHNhdmUuY3VyclRpbWVsaW5lSWR4ID0gdGhpcy5fdGltZWxpbmVzLmluZGV4T2YodGhpcy5jdXJyVGltZWxpbmUpO1xuICAgIH1cblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC5nZXRTY3JpcHQgPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICB2YXIgdGltZWxpbmVzID0gW107XG5cbiAgICB0aGlzLl90aW1lbGluZXMuZm9yRWFjaCh0aW1lbGluZSA9PiB7XG4gICAgICAgIHRpbWVsaW5lcy5wdXNoKHRpbWVsaW5lLm5hbWUgKyAnOicgKyB0aW1lbGluZS5nZXRTY3JpcHQoKSk7XG4gICAgfSk7XG5cbiAgICB2YXIgc2NyaXB0ID0gTXVzdGFjaGUucmVuZGVyKG1zdFNjcmlwdCwge1xuICAgICAgICB0aW1lbGluZXM6ICd7JyArIHRpbWVsaW5lcy5qb2luKCdcXG4nKSArICd9JyxcbiAgICAgICAgc2F2ZUpzb246IG9wdC5pbmNsdWRlU2F2ZSAmJiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFNhdmUoKSksXG4gICAgfSk7XG5cbiAgICBpZiAob3B0Lm1pbmlmeSkge1xuXG4gICAgICAgIHNjcmlwdCA9IG1pbmlmeShzY3JpcHQpO1xuICAgIH1cblxuICAgIHJldHVybiBzY3JpcHQ7XG5cbiAgICBmdW5jdGlvbiBtaW5pZnkoY29kZSkge1xuXG4gICAgICAgIHJldHVybiBjb2RlOy8vVE9ET1xuXG4gICAgICAgIC8vIHZhciByZXN1bHQgPSBVZ2xpZnlKUy5taW5pZnkoY29kZSwge1xuICAgICAgICAvLyAgICAgZnJvbVN0cmluZzogdHJ1ZSxcbiAgICAgICAgLy8gICAgIG1hbmdsZTogZmFsc2UsXG4gICAgICAgIC8vICAgICBvdXRwdXQ6IHtcbiAgICAgICAgLy8gICAgICAgICBjb21tZW50czogL0BhbXNhdmUvLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIGNvbXByZXNzOiB7XG4gICAgICAgIC8vICAgICAgICAgLy8gcmVzZXJ2ZWQ6ICdKU09OX1NBVkUnLFxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gcmV0dXJuIHJlc3VsdC5jb2RlO1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgdG9wbGV2ZWwgPSBudWxsO1xuICAgICAgICAvLyB0b3BsZXZlbCA9IFVnbGlmeUpTLnBhcnNlKGNvZGUsIHtcbiAgICAgICAgLy8gICAgIGZpbGVuYW1lOiAnc2F2ZScsXG4gICAgICAgIC8vICAgICB0b3BsZXZlbDogdG9wbGV2ZWxcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRvcGxldmVsLmZpZ3VyZV9vdXRfc2NvcGUoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdmFyIGNvbXByZXNzb3IgPSBVZ2xpZnlKUy5Db21wcmVzc29yKHttYW5nbGU6IGZhbHNlfSk7XG4gICAgICAgIC8vIHZhciBjb21wcmVzc2VkX2FzdCA9IHRvcGxldmVsLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gY29tcHJlc3NlZF9hc3QuZmlndXJlX291dF9zY29wZSgpO1xuICAgICAgICAvLyBjb21wcmVzc2VkX2FzdC5jb21wdXRlX2NoYXJfZnJlcXVlbmN5KCk7XG4gICAgICAgIC8vIGNvbXByZXNzZWRfYXN0Lm1hbmdsZV9uYW1lcygpO1xuICAgICAgICAvL1xuICAgICAgICAvLyByZXR1cm4gY29tcHJlc3NlZF9hc3QucHJpbnRfdG9fc3RyaW5nKHtjb21tZW50czogJ2FsbCd9KTtcbiAgICB9XG59O1xuXG5wLmFkZFRpbWVsaW5lID0gZnVuY3Rpb24gKHRpbWVsaW5lKSB7XG5cbiAgICAvL2NyZWF0ZSB0aGUgaW5zdGFuY2UgaWYgdGhlIHBhcmFtZXRlciBpcyBhIHNhdmUgb2JqZWN0XG4gICAgaWYgKCEodGltZWxpbmUgaW5zdGFuY2VvZiBUaW1lbGluZSkpIHtcblxuICAgICAgICB0aW1lbGluZSA9IG5ldyBUaW1lbGluZSh0aW1lbGluZSk7XG4gICAgfVxuICAgIC8vcmVtb3ZlIHRoZSB0aW1lbGluZSBpZiBpdCdzIGFscmVhZHkgYWRkZWQgdG8gYW4gb3RoZXIgcHJvamVjdFxuICAgIGVsc2UgaWYgKHRpbWVsaW5lLnBhcmVudFByb2plY3QgJiYgdGltZWxpbmUucGFyZW50UHJvamVjdCAhPT0gdGhpcykge1xuXG4gICAgICAgIHRpbWVsaW5lLnBhcmVudFByb2plY3QucmVtb3ZlVGltZWxpbmUodGltZWxpbmUpO1xuICAgIH1cblxuICAgIHRpbWVsaW5lLnBhcmVudFByb2plY3QgPSB0aGlzO1xuXG4gICAgLy9hdm9pZCB0byBhZGQgdHdpY2VcbiAgICBpZiAoXy5pbmNsdWRlKHRoaXMuX3RpbWVsaW5lcywgdGltZWxpbmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhbS5oaXN0b3J5LnNhdmUoe1xuICAgICAgICB1bmRvOiAoKSA9PiB0aGlzLnJlbW92ZVRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5hZGRUaW1lbGluZSh0aW1lbGluZSksXG4gICAgICAgIG5hbWU6ICdhZGQgdGltZWxpbmUnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fdGltZWxpbmVzLnB1c2godGltZWxpbmUpO1xuXG4gICAgdGhpcy5lbWl0KCdhZGRUaW1lbGluZScpO1xufTtcblxucC5yZW1vdmVUaW1lbGluZSA9IGZ1bmN0aW9uICh0aW1lbGluZSkge1xuXG4gICAgaWYgKCFfLmluY2x1ZGUodGhpcy5fdGltZWxpbmVzLCB0aW1lbGluZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVsaW5lLnBhcmVudFByb2plY3QgPSB1bmRlZmluZWQ7XG5cbiAgICBhbS5oaXN0b3J5LnNhdmUoe1xuICAgICAgICB1bmRvOiAoKSA9PiB0aGlzLmFkZFRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5yZW1vdmVUaW1lbGluZSh0aW1lbGluZSksXG4gICAgICAgIG5hbWU6ICdyZW1vdmUgdGltZWxpbmUnLFxuICAgIH0pO1xuXG4gICAgXy5wdWxsKHRoaXMuX3RpbWVsaW5lcywgdGltZWxpbmUpO1xuXG4gICAgdGhpcy5lbWl0KCdyZW1vdmVUaW1lbGluZScpO1xufTtcblxucC5zZWxlY3RUaW1lbGluZSA9IGZ1bmN0aW9uICh0aW1lbGluZSkge1xuXG4gICAgaWYgKF8uaXNOdW1iZXIodGltZWxpbmUpKSB7XG5cbiAgICAgICAgdGltZWxpbmUgPSB0aGlzLl90aW1lbGluZXNbdGltZWxpbmVdO1xuICAgIH1cblxuICAgIGlmICghdGltZWxpbmUgfHwgdGltZWxpbmUgPT09IHRoaXMuY3VyclRpbWVsaW5lKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5jdXJyVGltZWxpbmUpIHtcblxuICAgICAgICB0aGlzLmN1cnJUaW1lbGluZS5wYXVzZSgpO1xuICAgIH1cblxuICAgIHRoaXMuY3VyclRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5jdXJyVGltZWxpbmUnLCB0aGlzLmN1cnJUaW1lbGluZSk7XG59O1xuXG5wLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLmN1cnJUaW1lbGluZSAmJiAhXy5pc0VtcHR5KHRoaXMuX3RpbWVsaW5lcykpIHtcblxuICAgICAgICB0aGlzLnNlbGVjdFRpbWVsaW5lKHRoaXMuX3RpbWVsaW5lc1swXSk7XG4gICAgfVxufTtcblxucC5ibHVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuY3VyclRpbWVsaW5lKSB7XG5cbiAgICAgICAgdGhpcy5jdXJyVGltZWxpbmUucGF1c2UoKTtcbiAgICB9XG59O1xuXG5cblxuXG5wLmFkZElucHV0ID0gZnVuY3Rpb24gKHBhdGgsIHZhbHVlKSB7XG5cbiAgICB2YXIgb2JqID0gdGhpcy5pbnB1dHM7XG5cbiAgICBpZiAodHlwZW9mKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvL1RPRE86IHRocm93IGEgZGV0YWlsZWQgZXJyb3JcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICB9XG5cbiAgICBwYXRoID0gcGF0aC5zcGxpdCgnLicpO1xuXG4gICAgcGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpZHgsIGFycikge1xuXG4gICAgICAgIGlmIChpZHggPT09IGFyci5sZW5ndGgtMSkge1xuXG4gICAgICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IF8uaXNQbGFpbk9iamVjdChvYmpbbmFtZV0pID8gb2JqW25hbWVdIDoge307XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlLmlucHV0cycpO1xufTtcblxucC5zZXRJbnB1dHMgPSBmdW5jdGlvbiAoaW5wdXRzKSB7XG5cbiAgICBpZiAoIV8uaXNQbGFpbk9iamVjdChpbnB1dHMpKSB7XG4gICAgICAgIC8vVE9ETzogdGhyb3cgYSBkZXRhaWxlZCBlcnJvclxuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgIH1cblxuICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UuaW5wdXRzJyk7XG59O1xuXG5wLmdldElucHV0UGF0aHMgPSBmdW5jdGlvbiAobWF4TGV2ZWwgPSA0KSB7XG5cbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICB2YXIgc3RlcCA9IChvYmosIHBhdGgsIGxldmVsKSA9PiB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoKHBhdGggKyBrZXkpO1xuXG4gICAgICAgICAgICBpZiAoXy5pc1BsYWluT2JqZWN0KG9ialtrZXldKSAmJiBsZXZlbCA8PSBtYXhMZXZlbCkge1xuXG4gICAgICAgICAgICAgICAgc3RlcChvYmpba2V5XSwgcGF0aCArIGtleSArICcuJywgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHN0ZXAodGhpcy5pbnB1dHMsICcnLCAwKTtcblxuICAgIHJldHVybiByZXQ7XG59O1xuXG5cblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgXy5pbnZva2UodGhpcy5fdGltZWxpbmVzLCAnZGlzcG9zZScpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIFByb2plY3RUYWIgPSByZXF1aXJlKCcuL1Byb2plY3RUYWInKTtcbnZhciBQcm9qZWN0ID0gcmVxdWlyZSgnLi9Qcm9qZWN0Jyk7XG5cbmZ1bmN0aW9uIFByb2plY3RNYXAoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3Byb2plY3RzID0gW107XG5cbiAgICB0aGlzLnByb2plY3RUYWIgPSBuZXcgUHJvamVjdFRhYih0aGlzKTtcbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYignUHJvamVjdCcsIHRoaXMucHJvamVjdFRhYi5kb21FbGVtKTtcbn1cblxuaW5oZXJpdHMoUHJvamVjdE1hcCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gUHJvamVjdE1hcC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFByb2plY3RNYXA7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcbiAgICBjdXJyUHJvamVjdDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuICB0aGlzLmdldEN1cnJQcm9qZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5sb2FkID0gZnVuY3Rpb24gKHByb2plY3QpIHtcblxuICAgIGlmICghKHByb2plY3QgaW5zdGFuY2VvZiBQcm9qZWN0KSkge1xuXG4gICAgICAgIHByb2plY3QgPSBuZXcgUHJvamVjdChwcm9qZWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIV8uaW5jbHVkZSh0aGlzLl9wcm9qZWN0cywgcHJvamVjdCkpIHtcblxuICAgICAgICB0aGlzLl9wcm9qZWN0cy5wdXNoKHByb2plY3QpO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnbG9hZCcsIHByb2plY3QpO1xuXG4gICAgcmV0dXJuIHByb2plY3Q7XG59O1xuXG5wLnVubG9hZCA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG5cbiAgICBfLnB1bGwodGhpcy5fcHJvamVjdHMsIHByb2plY3QpO1xuXG4gICAgcHJvamVjdC5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLmVtaXQoJ3VubG9hZCcsIHByb2plY3QpO1xufTtcblxucC5mb2N1cyA9IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG5cbiAgICBwcm9qZWN0ID0gdGhpcy5sb2FkKHByb2plY3QpO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJQcm9qZWN0KSB7XG5cbiAgICAgICAgdGhpcy5fY3VyclByb2plY3QuYmx1cigpO1xuICAgICAgICB0aGlzLl9jdXJyUHJvamVjdC5vZmYoJ2NoYW5nZS5jdXJyVGltZWxpbmUnLCBhbS5zZXRUaW1lbGluZSwgYW0pO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJQcm9qZWN0ID0gcHJvamVjdDtcbiAgICB0aGlzLl9jdXJyUHJvamVjdC5mb2N1cygpO1xuXG4gICAgYW0uc2V0VGltZWxpbmUodGhpcy5fY3VyclByb2plY3QuY3VyclRpbWVsaW5lKTtcbiAgICB0aGlzLl9jdXJyUHJvamVjdC5vbignY2hhbmdlLmN1cnJUaW1lbGluZScsIGFtLnNldFRpbWVsaW5lLCBhbSk7XG5cbiAgICB0aGlzLnByb2plY3RUYWIuZm9jdXModGhpcy5fY3VyclByb2plY3QpO1xufTtcblxucC5ibHVyID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5wLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcHJvamVjdHMuc2xpY2UoKS5mb3JFYWNoKHAgPT4gdGhpcy5jbG9zZVByb2plY3QocCkpO1xufTtcblxucC5nZXRDdXJyUHJvamVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLl9jdXJyUHJvamVjdDtcbn07XG5cbnAuZ2V0UHJvamVjdHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fcHJvamVjdHM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi91dGlscy9PcHRpb25MaW5lJyk7XG5cbmZ1bmN0aW9uIFByb2plY3RUYWIocHJvamVjdE1hcCkge1xuXG4gICAgdGhpcy5fcHJvamVjdE1hcCA9IHByb2plY3RNYXA7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG59XG5cbnZhciBwID0gUHJvamVjdFRhYi5wcm90b3R5cGU7XG5cbnAuZm9jdXMgPSBmdW5jdGlvbiAocHJvamVjdCkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJQcm9qZWN0KSB7XG5cbiAgICAgICAgdGhpcy5fY3VyclByb2plY3Qub2ZmKFsnYWRkVGltZWxpbmUnLCAncmVtb3ZlVGltZWxpbmUnXSwgdGhpcy5fcmVmcmVzaExpYnJhcnksIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJQcm9qZWN0ID0gcHJvamVjdDtcblxuICAgIHRoaXMuX2RlU2VsZWN0ZWQudGV4dCA9IHRoaXMuX2N1cnJQcm9qZWN0Lm5hbWU7XG5cbiAgICB0aGlzLl9yZWZyZXNoTGlicmFyeSgpO1xuICAgIHRoaXMuX2N1cnJQcm9qZWN0Lm9mZihbJ2FkZFRpbWVsaW5lJywgJ3JlbW92ZVRpbWVsaW5lJ10sIHRoaXMuX3JlZnJlc2hMaWJyYXJ5LCB0aGlzKTtcbn07XG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hMaWJyYXJ5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fb3B0TGlicmFyeS5yZW1vdmVBbGxPcHRpb25MaW5lcygpO1xuXG4gICAgdGhpcy5fY3VyclByb2plY3QuX3RpbWVsaW5lcy5mb3JFYWNoKHRpbWVsaW5lID0+IHtcblxuICAgICAgICB2YXIgb3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgICAgIHRpdGxlOiB0aW1lbGluZS5uYW1lIHx8ICd1bm5hbWVkIHRpbWVsaW5lJyxcbiAgICAgICAgICAgIG9uRGJsY2xpY2s6ICgpID0+IHRoaXMuX2N1cnJQcm9qZWN0LnNlbGVjdFRpbWVsaW5lKHRpbWVsaW5lKSxcbiAgICAgICAgICAgIGtlZXBTcGFjZUZvclRnZ2xDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGltZWxpbmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aW1lbGluZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29wdExpYnJhcnkuYWRkT3B0aW9uTGluZShvcHRpb25MaW5lKTtcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcwO1xuXG4gICAgdGhpcy5fc2Nyb2xsQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3Njcm9sbENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3Njcm9sbENvbnQpO1xuXG4gICAgYW1ndWkubWFrZVNjcm9sbGFibGUoe1xuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX3Njcm9sbENvbnQsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9jcmVhdGVQcm9qZWN0SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9jcmVhdGVMaWJyYXJ5KCk7XG59O1xuXG5wLl9jcmVhdGVQcm9qZWN0SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcmVmcmVzaFNlbGVjdElucHV0ID0gKCkgPT4ge1xuXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuX3Byb2plY3RNYXAuZ2V0UHJvamVjdHMoKS5tYXAocHJvamVjdCA9PiB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogcHJvamVjdC5uYW1lLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuX3Byb2plY3RNYXAuZm9jdXMocHJvamVjdCksXG4gICAgICAgICAgICAgICAgaWNvblJpZ2h0OiBwcm9qZWN0ID09PSB0aGlzLl9jdXJyUHJvamVjdCA/ICdwYXcnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RkU2VsZWN0LnNldEl0ZW1zKGl0ZW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZGVTZWxlY3RlZCA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9zY3JvbGxDb250LFxuICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgaWNvblJpZ2h0OiAnZG93bi1kaXInLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGRTZWxlY3QgPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7fSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fZGVTZWxlY3RlZCxcbiAgICAgICAgZGVEcm9wZG93bjogdGhpcy5fZGRTZWxlY3QsXG4gICAgfSk7XG5cbiAgICByZWZyZXNoU2VsZWN0SW5wdXQoKTtcbiAgICB0aGlzLl9wcm9qZWN0TWFwLm9uKFsnbG9hZCcsICd1bmxvYWQnXSwgcmVmcmVzaFNlbGVjdElucHV0KTtcblxuXG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX3Njcm9sbENvbnQsXG4gICAgICAgICAgICBpY29uOiAnZWxsaXBzaXMnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIH0pLFxuICAgICAgICBkZURyb3Bkb3duOiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgIHRleHQ6ICduZXcgcHJvamVjdCcsXG4gICAgICAgICAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2plY3QgPSB0aGlzLl9wcm9qZWN0TWFwLmxvYWQoe25hbWU6ICduZXcgcHJvamVjdCd9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvamVjdE1hcC5mb2N1cyhwcm9qZWN0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdjbG9zZSB0aGlzIHByb2plY3QnLFxuICAgICAgICAgICAgICAgIGljb246ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKSxcbiAgICAgICAgICAgIH1dLFxuICAgICAgICB9KSxcbiAgICB9KVxufTtcblxucC5fY3JlYXRlTGlicmFyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX29wdExpYnJhcnkgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnTGlicmFyeScsXG4gICAgICAgIHBhcmVudDogdGhpcy5fc2Nyb2xsQ29udCxcbiAgICAgICAgdGdnbENoaWxkcmVuOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgdmFyIGJ0bk5ldyA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBpY29uOiAncGx1cydcbiAgICB9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgIGRlVGFyZ2V0OiBidG5OZXcsXG4gICAgICAgIGRlRHJvcGRvd246IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7dGV4dDogJ3RpbWVsaW5lJywgaWNvbjogJ2JhcmNvZGUnLCBvbkNsaWNrOiAoKSA9PiB0aGlzLl9jdXJyUHJvamVjdC5hZGRUaW1lbGluZSgpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ2ZvbGRlcicsIGljb246ICdmb2xkZXItZW1wdHknLCBvbkNsaWNrOiAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCl9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnaW1hZ2UnLCBpY29uOiAnZmlsZS1pbWFnZScsIG9uQ2xpY2s6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdjdXN0b20gYXNzZXQnLCBpY29uOiAnZG9jJywgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fb3B0TGlicmFyeS5hZGRCdXR0b24oe1xuICAgICAgICBkb21FbGVtOiBidG5OZXcsXG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2plY3RUYWI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiOyhmdW5jdGlvbiAocm9vdCkge1xcbiAgICAndXNlIHN0cmljdCc7XFxuXFxuICAgIHt7I3NhdmVKc29ufX1cXG4gICAgLyoqQGFtc2F2ZSovXFxuICAgIHZhciBTQVZFSlNPTiA9ICd7e3tzYXZlSnNvbn19fSc7XFxuICAgIHt7L3NhdmVKc29ufX1cXG5cXG4gICAgdmFyIHByb2plY3RSZWcgPSB7XFxuICAgICAgICB0aW1lbGluZXM6IHt7dGltZWxpbmVzfX0sXFxuICAgICAgICB7eyNzYXZlSnNvbn19XFxuICAgICAgICBzYXZlSnNvbjogU0FWRUpTT04sXFxuICAgICAgICB7ey9zYXZlSnNvbn19XFxuICAgIH07XFxuXFxuICAgIHJvb3QuYW0gPSByb290LmFtIHx8IHt9O1xcbiAgICByb290LmFtLnByb2plY3RzID0gcm9vdC5hbS5wcm9qZWN0cyB8fCB7fTtcXG4gICAgcm9vdC5hbS5wcm9qZWN0cy57e3Byb2plY3ROYW1lfX0gPSBwcm9qZWN0UmVnO1xcblxcblxcblxcbiAgICAvLy0tIENKUyAtLS8vXFxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcXG5cXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gcHJvamVjdFJlZztcXG4gICAgfVxcblxcbiAgICAvLy0tIEFNRCAtLS8vXFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcXG5cXG4gICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgcmV0dXJuIHByb2plY3RSZWc7XFxuICAgICAgICB9KTtcXG4gICAgfVxcblxcbiAgICAvL3V0aWxzXFxuICAgIGZ1bmN0aW9uIGdldEFuaW1UYXJnZXRzKHNlbGVjdG9ycywgaW5wdXRzKSB7XFxuXFxuICAgICAgICB2YXIgbGlzdCA9IFtdO1xcblxcbiAgICAgICAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XFxuXFxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yLnR5cGUgPT09ICdjc3MnKSB7XFxuXFxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChzZWxlY3Rvci52YWx1ZSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0cyAmJiBzZWxlY3Rvci50eXBlID09PSAnaW5wdXQnKSB7XFxuXFxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBpbnB1dHM7XFxuXFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yLnZhbHVlLnNwbGl0KCcuJykuZXZlcnkoZnVuY3Rpb24gKG5hbWUpIHtcXG5cXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQgPSBwYXJlbnRbbmFtZV07XFxuICAgICAgICAgICAgICAgIH0pO1xcblxcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XFxuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2gocGFyZW50KTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcblxcbiAgICAgICAgcmV0dXJuIGxpc3Q7XFxuICAgIH07XFxuXFxufSh0aGlzKSk7XFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuLyoqXFxuICogQmV6aWVyRWFzaW5nIC0gdXNlIGJlemllciBjdXJ2ZSBmb3IgdHJhbnNpdGlvbiBlYXNpbmcgZnVuY3Rpb25cXG4gKiBieSBHYcOrdGFuIFJlbmF1ZGVhdSAyMDE0IOKAkyBNSVQgTGljZW5zZVxcbiAqXFxuICogQ3JlZGl0czogaXMgYmFzZWQgb24gRmlyZWZveCdzIG5zU01JTEtleVNwbGluZS5jcHBcXG4gKiBVc2FnZTpcXG4gKiB2YXIgc3BsaW5lID0gQmV6aWVyRWFzaW5nKDAuMjUsIDAuMSwgMC4yNSwgMS4wKVxcbiAqIHNwbGluZSh4KSA9PiByZXR1cm5zIHRoZSBlYXNpbmcgdmFsdWUgfCB4IG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlXFxuICpcXG4gKi9cXG4hZnVuY3Rpb24oYSl7d2luZG93LkJlemllckVhc2luZz1hKCl9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShhLGksaixrKXtmdW5jdGlvbiBuKGEsYil7cmV0dXJuIDEtMypiKzMqYX1mdW5jdGlvbiBvKGEsYil7cmV0dXJuIDMqYi02KmF9ZnVuY3Rpb24gcChhKXtyZXR1cm4gMyphfWZ1bmN0aW9uIHEoYSxiLGMpe3JldHVybigobihiLGMpKmErbyhiLGMpKSphK3AoYikpKmF9ZnVuY3Rpb24gcihhLGIsYyl7cmV0dXJuIDMqbihiLGMpKmEqYSsyKm8oYixjKSphK3AoYil9ZnVuY3Rpb24gcyhjLGQpe2Zvcih2YXIgZT0wO2I+ZTsrK2Upe3ZhciBmPXIoZCxhLGopO2lmKDA9PT1mKXJldHVybiBkO3ZhciBnPXEoZCxhLGopLWM7ZC09Zy9mfXJldHVybiBkfWZ1bmN0aW9uIHQoKXtmb3IodmFyIGI9MDtmPmI7KytiKW1bYl09cShiKmcsYSxqKX1mdW5jdGlvbiB1KGIsYyxmKXt2YXIgZyxoLGk9MDtkbyBoPWMrKGYtYykvMixnPXEoaCxhLGopLWIsZz4wP2Y9aDpjPWg7d2hpbGUoTWF0aC5hYnMoZyk+ZCYmKytpPGUpO3JldHVybiBofWZ1bmN0aW9uIHYoYil7Zm9yKHZhciBkPTAsZT0xLGg9Zi0xO2UhPWgmJm1bZV08PWI7KytlKWQrPWc7LS1lO3ZhciBpPShiLW1bZV0pLyhtW2UrMV0tbVtlXSksaz1kK2kqZyxsPXIoayxhLGopO3JldHVybiBsPj1jP3MoYixrKTowPT09bD9rOnUoYixkLGQrZyl9ZnVuY3Rpb24geCgpe3c9ITAsKGEhPWl8fGohPWspJiZ0KCl9aWYoNCE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFxcXCJCZXppZXJFYXNpbmcgcmVxdWlyZXMgNCBhcmd1bWVudHMuXFxcIik7Zm9yKHZhciBsPTA7ND5sOysrbClpZihcXFwibnVtYmVyXFxcIiE9dHlwZW9mIGFyZ3VtZW50c1tsXXx8aXNOYU4oYXJndW1lbnRzW2xdKXx8IWlzRmluaXRlKGFyZ3VtZW50c1tsXSkpdGhyb3cgbmV3IEVycm9yKFxcXCJCZXppZXJFYXNpbmcgYXJndW1lbnRzIHNob3VsZCBiZSBpbnRlZ2Vycy5cXFwiKTtpZigwPmF8fGE+MXx8MD5qfHxqPjEpdGhyb3cgbmV3IEVycm9yKFxcXCJCZXppZXJFYXNpbmcgeCB2YWx1ZXMgbXVzdCBiZSBpbiBbMCwgMV0gcmFuZ2UuXFxcIik7dmFyIG09aD9uZXcgRmxvYXQzMkFycmF5KGYpOm5ldyBBcnJheShmKSx3PSExLHk9ZnVuY3Rpb24oYil7cmV0dXJuIHd8fHgoKSxhPT09aSYmaj09PWs/YjowPT09Yj8wOjE9PT1iPzE6cSh2KGIpLGksayl9O3kuZ2V0Q29udHJvbFBvaW50cz1mdW5jdGlvbigpe3JldHVyblt7eDphLHk6aX0se3g6aix5Omt9XX07dmFyIHo9W2EsaSxqLGtdLEE9XFxcIkJlemllckVhc2luZyhcXFwiK3orXFxcIilcXFwiO3kudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQX07dmFyIEI9XFxcImN1YmljLWJlemllcihcXFwiK3orXFxcIilcXFwiO3JldHVybiB5LnRvQ1NTPWZ1bmN0aW9uKCl7cmV0dXJuIEJ9LHl9dmFyIGE9dGhpcyxiPTQsYz0uMDAxLGQ9MWUtNyxlPTEwLGY9MTEsZz0xLyhmLTEpLGg9XFxcIkZsb2F0MzJBcnJheVxcXCJpbiBhO3JldHVybiBpLmNzcz17ZWFzZTppKC4yNSwuMSwuMjUsMSksbGluZWFyOmkoMCwwLDEsMSksXFxcImVhc2UtaW5cXFwiOmkoLjQyLDAsMSwxKSxcXFwiZWFzZS1vdXRcXFwiOmkoMCwwLC41OCwxKSxcXFwiZWFzZS1pbi1vdXRcXFwiOmkoLjQyLDAsLjU4LDEpfSxpfSk7XFxuXCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFWEFUVFIgPSBbJ2lkJywgJ2NsYXNzJywgJ3N0eWxlJ107XG5cbmZ1bmN0aW9uIGdlbmVyYXRlKGRlLCByb290KSB7XG5cbiAgICByb290ID0gcm9vdCB8fCBkb2N1bWVudDtcblxuICAgIHZhciBkZUN1cnIgPSBkZSxcbiAgICAgICAgcm9vdEN1cnIgPSByb290LCBcbiAgICAgICAgcXNDdXJyLCBxc1BhcmVudCA9ICcnO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBxc0N1cnIgPSBnZW4oZGVDdXJyLCByb290Q3Vycik7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUoIXFzQ3VyciAmJiBkZUN1cnIucGFyZW50Tm9kZSAmJlxuICAgICAgICAgICAgZGVDdXJyLnBhcmVudE5vZGUgIT09IHJvb3RDdXJyICYmXG4gICAgICAgICAgICAoZGVDdXJyID0gZGVDdXJyLnBhcmVudE5vZGUpKTtcblxuICAgICAgICBpZiAoIXFzQ3Vycikge1xuXG4gICAgICAgICAgICBpZiAoZGVDdXJyLnBhcmVudE5vZGUgPT09IHJvb3RDdXJyKSB7XG5cbiAgICAgICAgICAgICAgICBxc0N1cnIgPSAnPiA6bnRoLWNoaWxkKCcgK1xuICAgICAgICAgICAgICAgICAgICAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChyb290Q3Vyci5jaGlsZHJlbiwgZGVDdXJyKSArIDEpICsgJyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvL2Nhbid0IGZpbmQgdW5pcXVlIHF1ZXJ5IHNlbGVjdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBxc1BhcmVudCArPSAocXNQYXJlbnQgPyAnICcgOiAnJykgKyBxc0N1cnI7XG5cbiAgICAgICAgaWYgKGRlQ3VyciA9PT0gZGUpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHFzUGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXNDdXJyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcm9vdEN1cnIgPSBkZUN1cnI7XG4gICAgICAgICAgICBkZUN1cnIgPSBkZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuKGRlLCByb290KSB7XG5cblxuICAgIHZhciBzaW5nbGVzLCBzZWxlY3RvcnMsIG1hdGNoZXMgPSBbXTtcblxuICAgIHNpbmdsZXMgPSBzZWxlY3RvcnMgPSBwb3NzaWJsZUlkcyhkZSkuY29uY2F0KFxuICAgICAgICBbZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgcG9zc2libGVDbGFzc2VzKGRlLCBpKSxcbiAgICAgICAgcG9zc2libGVBdHRyaWJ1dGVzKGRlLCBpKVxuICAgICk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7ICsraSkge1xuXG4gICAgICAgIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICBpZiAocm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RvcnMgPSBjb21iaW5lKHNlbGVjdG9ycywgc2luZ2xlcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBvc3NpYmxlSWRzKGRlKSB7XG5cbiAgICByZXR1cm4gZGUuaWQgPyBbJyMnICsgQ1NTLmVzY2FwZShkZS5pZCldIDogW107XG59XG5cbmZ1bmN0aW9uIHBvc3NpYmxlQ2xhc3NlcyhkZSwgbWF4KSB7XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGUuY2xhc3NMaXN0LCAwKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnLicgKyBDU1MuZXNjYXBlKGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBwb3NzaWJsZUF0dHJpYnV0ZXMoZGUpIHtcblxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkZS5hdHRyaWJ1dGVzLCAwKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiBFWEFUVFIuaW5kZXhPZihhdHRyLm5hbWUpID09PSAtMTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgcmV0dXJuICdbJyArIENTUy5lc2NhcGUoYXR0ci5uYW1lKSArIChhdHRyLnZhbHVlID8gJz1cIicrYXR0ci52YWx1ZSsnXCInOiAnJykgKyAnXSc7XG4gICAgICAgIH0pO1xufVxuXG4vLyBmdW5jdGlvbiB2YXJpYXRlKF9saXN0LCBsZW5ndGgpIHtcblxuLy8gICAgIHJldHVybiBzdGVwKF9saXN0LCAyKTtcblxuLy8gICAgIGZ1bmN0aW9uIHN0ZXAobGlzdCwgYmFjaykge1xuXG4vLyAgICAgICAgIHZhciBjb21iaW5lZCA9IGNvbWJpbmUoYXR0cmlidXRlcywgbGlzdCk7XG4vLyAgICAgICAgIHJldHVybiBsaXN0LmNvbmNhdChiYWNrID09PSAwID8gY29tYmluZWQgOiBzdGVwKGNvbWJpbmVkLCAtLWJhY2spKTtcbi8vICAgICB9XG4vLyB9XG5cbmZ1bmN0aW9uIGNvbWJpbmUoc291cmNlQSwgc291cmNlQikge1xuXG4gICAgdmFyIGNvbWJpbmVkID0gW107XG5cbiAgICBzb3VyY2VBLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgc291cmNlQi5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICBpZiAoYS5pbmRleE9mKGIpID09PSAtMSAmJiBiLmluZGV4T2YoYSkgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgJyMuWzonLmluZGV4T2YoYi5jaGFyQXQoMCkpICE9PSAtMSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tYmluZWQucHVzaChhICsgYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbWJpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlO1xuIiwidmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxudmFyIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuXG4gICAgY3JlYXRlQ29udGVudDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBkZVNjcm9sbENvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUNvbnRlbnQsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVMZWZ0ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogZGVTY3JvbGxDb250LFxuICAgICAgICAgICAgd2lkdGg6ICcyMzRweCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkZVJpZ2h0ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogZGVTY3JvbGxDb250LFxuICAgICAgICAgICAgZmxleDogJzEnLFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlU2hvcnRjdXRMYWJlbCh2YWx1ZSkge1xuXG4gICAgdmFyIGRlTGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIFxuICAgIH0pXG59IiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgZGlhbG9nU2V0dGluZ3MgPSByZXF1aXJlKCcuL2RpYWxvZ1NldHRpbmdzJyk7XG5cbnZhciBzaG9ydGN1dHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5tb2R1bGUuZXhwb3J0cyA9IHNob3J0Y3V0cztcblxudmFyIG1hcCA9IHtcbiAgICAnY29weSc6IFsnY3RybCtjJ10sXG4gICAgJ2N1dCc6IFsnY3RybCt4J10sXG4gICAgJ2RlbGV0ZSc6IFsnZGVsJywgJ2JhY2tzcGFjZSddLFxuICAgICdkdXBsaWNhdGUnOiBbJ2N0cmwrZCddLFxuICAgICdrZXlib2FyZFNob3J0Y3V0cyc6IFsnY3RybCtrJ10sXG4gICAgJ3Bhc3RlJzogWydjdHJsK3YnXSxcbiAgICAndW5kbyc6IFsnY3RybCt6J10sXG4gICAgJ3JlZG8nOiBbJ2N0cmwreScsICdjdHJsK3NoaWZ0K3onXSxcbiAgICAnc2VsZWN0QWxsJzogWydjdHJsK2MnXSxcbiAgICAnc2F2ZSc6IFsnY3RybCtzJ10sXG4gICAgJ3NhdmVBcyc6IFsnY3RybCtzaGlmdCtzJ10sXG4gICAgJ3BsYXkvcGF1c2UnOiBbJ3NwYWNlJ10sXG4gICAgJ2dyb3VwRWxlbWVudHMnOiBbJ2N0cmwrZyddLFxuICAgICdzaG93L2hpZGVQYW5lbHMnOiBbJ3RhYiddLFxufTtcblxuc2hvcnRjdXRzLnJlYWRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG5cbiAgICBNb3VzZXRyYXAucmVzZXQoKTtcblxuICAgIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgbWFwW2tleV0uZm9yRWFjaChmdW5jdGlvbiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAvLyBNb3VzZXRyYXAuYmluZChzdHJva2UsIHRoaXMuZW1pdC5iaW5kKHRoaXMsIGtleSkpO1xuICAgICAgICAgICAgTW91c2V0cmFwLmJpbmQoc3Ryb2tlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coa2V5LCBzdHJva2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChrZXkpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSwgdGhpcyk7XG59O1xuXG5zaG9ydGN1dHMucmVhZE1hcChtYXApO1xuXG5zaG9ydGN1dHMuZ2V0U2hvcnRjdXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICByZXR1cm4gbWFwW2tleV0uam9pbignLCAnKTtcbn1cblxuTW91c2V0cmFwLnJlY29yZChmdW5jdGlvbihzdHJva2VzKSB7XG5cbiAgICB2YXIgc3Ryb2tlID0gc3Ryb2tlc1tzdHJva2VzLmxlbmd0aC0xXTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiBFYXNlTWFwKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9tYXAgPSB7fTtcbn1cblxuaW5oZXJpdHMoRWFzZU1hcCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRWFzZU1hcC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEVhc2VNYXA7XG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLl9tYXApO1xufVxuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCFzYXZlKSB0aHJvdyBFcnJvcjtcblxuICAgIHRoaXMuX21hcCA9IF8uY2xvbmVEZWVwKHRoaXMuX21hcCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufVxuXG5wLnNldCA9IGZ1bmN0aW9uIChuYW1lLCBlYXNlKSB7XG5cbiAgICB0aGlzLl9tYXBbbmFtZV0gPSBlYXNlO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuc2hvd1NldERpYWxvZyA9IGZ1bmN0aW9uIChuYW1lLCBlYXNlKSB7XG5cbiAgICAvL1RPRE9cbn07XG5cbnAuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9tYXBbbmFtZV07XG59O1xuXG5wLmxpc3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fbWFwKTtcbn07XG5cbnAucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xuXG4gICAgZGVsZXRlIHRoaXMuX21hcFtuYW1lXTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gSW5saW5lRWFzZUVkaXRvcihvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5fY29sb3IgPSAnIzAwQkZGRic7XG5cbiAgICB0aGlzLnRpbWVsaW5lID0gb3B0LnRpbWVsaW5lO1xuICAgIFxuICAgIHRoaXMuX3BvaW50cyA9IFswLCAwLCAxLCAxXTtcblxuICAgIHRoaXMuX3JlbmRlciA9IGFtZ3VpLmRlbGF5V2l0aFJBRih0aGlzLl9yZW5kZXIsIHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuICAgIHRoaXMuaGlkZSgpO1xufVxuXG5pbmhlcml0cyhJbmxpbmVFYXNlRWRpdG9yLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBJbmxpbmVFYXNlRWRpdG9yLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gSW5saW5lRWFzZUVkaXRvcjtcblxuXG5cblxucC5zaG93ID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgaWYgKCFvcHQua2V5IHx8ICghb3B0LmtleS5lYXNlICYmICFvcHQuZWFzZXMpKSByZXR1cm47XG5cbiAgICB0aGlzLl9rZXkgPSBvcHQua2V5O1xuICAgIHRoaXMuX2Vhc2VzID0gb3B0LmVhc2VzID8gb3B0LmVhc2VzLnNsaWNlKCkgOiBbb3B0LmtleS5lYXNlXTtcblxuICAgIHRoaXMuX3BvaW50c1swXSA9IHRoaXMuX2Vhc2VzWzBdLnBvaW50c1swXTtcbiAgICB0aGlzLl9wb2ludHNbMV0gPSB0aGlzLl9lYXNlc1swXS5wb2ludHNbMV07XG4gICAgdGhpcy5fcG9pbnRzWzJdID0gdGhpcy5fZWFzZXNbMF0ucG9pbnRzWzJdO1xuICAgIHRoaXMuX3BvaW50c1szXSA9IHRoaXMuX2Vhc2VzWzBdLnBvaW50c1szXTtcblxuICAgIHRoaXMuX2Vhc2VzLmZvckVhY2goZWFzZSA9PiB7XG5cbiAgICAgICAgZWFzZS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VFYXNlLCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlbmRlcigpO1xuXG4gICAgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja1dpbmRvdywgdGhpcyk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2Vhc2VzKSB7XG5cbiAgICAgICAgdGhpcy5fZWFzZXMuZm9yRWFjaChlYXNlID0+IHtcblxuICAgICAgICAgICAgZWFzZS5vZmYoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRWFzZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3N0b3BBdXRvUmVmcmVzaCgpO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja1dpbmRvdywgdGhpcyk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cblxuXG5cbnAuX3N0YXJ0QXV0b1JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcmVmcmVzaCA9ICgpID0+IHtcblxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fX3JhZklkQXV0b1JlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMuX19yYWZJZEF1dG9SZWZyZXNoID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZWZyZXNoKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgcmVmcmVzaCgpO1xufTtcblxucC5fc3RvcEF1dG9SZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX19yYWZJZEF1dG9SZWZyZXNoKTtcbn07XG5cbnAuX3JlbmRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGtleSA9IHRoaXMuX2tleSxcbiAgICAgICAgcHJldktleSA9IGtleS5nZXRQcmV2S2V5KCksXG4gICAgICAgIGJyS2V5TGluZSA9IGtleS5wYXJlbnRLZXlMaW5lLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIGJyUGFyZW50ID0gdGhpcy5kb21FbGVtLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIHAgPSB0aGlzLl9wb2ludHMsXG4gICAgICAgIHggPSB0aGlzLnRpbWVsaW5lLnRpbWVUb1NjcmVlblgocHJldktleSA/IHByZXZLZXkudGltZSA6IDApLFxuICAgICAgICB3ID0gdGhpcy50aW1lbGluZS50aW1lVG9TY3JlZW5YKGtleS50aW1lKSAtIHgsXG4gICAgICAgIGggPSB0aGlzLl9oZWlnaHQsXG4gICAgICAgIGQgPSAnJyxcbiAgICAgICAgZWFzZSA9IHRoaXMuX2Vhc2VzWzBdO1xuXG4gICAgdGhpcy5fd2lkdGggPSB3O1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUudG9wID0gKGJyS2V5TGluZS5ib3R0b20gLSBiclBhcmVudC50b3ApICsgJ3B4JztcblxuICAgIGQgKz0gJ00nICsgKHcqcFswXSkgKyAnLCcgKyAoaCpwWzFdKSArICcgJztcbiAgICBkICs9ICdMMCwwICc7XG4gICAgZCArPSAnQycgKyAodypwWzBdKSArICcsJyArIChoKnBbMV0pICsgJyAnO1xuICAgIGQgKz0gKHcqcFsyXSkgKyAnLCcgKyAoaCpwWzNdKSArICcgJztcbiAgICBkICs9IHcgKyAnLCcgKyBoICsgJyAnO1xuICAgIGQgKz0gJ0wnICsgKHcqcFsyXSkgKyAnLCcgKyAoaCpwWzNdKTtcblxuICAgIGlmIChlYXNlKSB7XG4gICAgICAgIFxuICAgICAgICBkICs9ICdNMCwwICc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyArK2kpIHtcblxuICAgICAgICAgICAgZCArPSAnTCcgKyBpICsgJywnICsgKGgqZWFzZS5nZXRSYXRpbyhpL3cpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGQpO1xuICBcbiAgICB0aGlzLl9kZUNwMC5yZWZyZXNoUG9zaXRpb24oKTtcbiAgICB0aGlzLl9kZUNwMS5yZWZyZXNoUG9zaXRpb24oKTtcbn07XG5cbnAuX3NldFBvaW50ID0gZnVuY3Rpb24gKHBpZHgsIHgsIHkpIHtcblxuICAgIHRoaXMuX3BvaW50c1twaWR4XSA9IHg7XG4gICAgdGhpcy5fcG9pbnRzW3BpZHgrMV0gPSB5O1xuXG4gICAgdGhpcy5fZWFzZXMuZm9yRWFjaChlYXNlID0+IGVhc2UucG9pbnRzID0gdGhpcy5fcG9pbnRzKTtcbn07XG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcbn07XG5cbnAuX29uQ2xpY2tXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmhpZGUoKTtcbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVZKC0xKSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cbiAgICB0aGlzLl9zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgIC8vIHRoaXMuX3N2Zy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XG4gICAgdGhpcy5fc3ZnLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9zdmcuc3R5bGUudG9wID0gJzBweCc7XG4gICAgdGhpcy5fc3ZnLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICB0aGlzLl9zdmcuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3N2Zyk7XG5cbiAgICB0aGlzLl9wYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgdGhpcy5fcGF0aC5zdHlsZS5zdHJva2UgPSB0aGlzLl9jb2xvcjtcbiAgICB0aGlzLl9wYXRoLnN0eWxlLmZpbGwgPSAnbm9uZSc7XG4gICAgdGhpcy5fc3ZnLmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpO1xuICBcbiAgICB0aGlzLl9kZUNwMCA9IHRoaXMuX2NyZWF0ZUNwKDApO1xuICAgIHRoaXMuX2RlQ3AxID0gdGhpcy5fY3JlYXRlQ3AoMik7XG59O1xuXG5wLl9jcmVhdGVDcCA9IGZ1bmN0aW9uKHBvaW50SWR4KSB7XG5cbiAgICB2YXIgciA9IDM7XG5cbiAgICB2YXIgZGVDcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQ3Auc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRlQ3Auc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgIGRlQ3Auc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIGRlQ3Auc3R5bGUud2lkdGggPSByKjIgKyAncHgnO1xuICAgIGRlQ3Auc3R5bGUuaGVpZ2h0ID0gcioyICsgJ3B4JztcbiAgICBkZUNwLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLScrcisncHgsLScrcisncHgpJztcbiAgICBkZUNwLnN0eWxlLmJvcmRlclJhZGl1cyA9IHIgKyAncHgnO1xuICAgIGRlQ3Auc3R5bGUuYmFja2dyb3VuZCA9IHRoaXMuX2NvbG9yO1xuICAgIGRlQ3Auc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoZGVDcCk7XG5cbiAgICBkZUNwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsvL3ByZXZlbnQgY2FsbGluZyBfb25DbGlja1dpbmRvdygpO1xuICAgIH0pO1xuICBcbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlQ3AsXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgICAgICAgICAgdmFyIGJyID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRQb2ludChwb2ludElkeCxcbiAgICAgICAgICAgICAgICBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAobXggLSBici5sZWZ0KSAvIHRoaXMuX3dpZHRoKSksXG4gICAgICAgICAgICAgICAgKGJyLnRvcCAtIG15KSAvIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgZGVDcC5yZWZyZXNoUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFxuICAgICAgICBkZUNwLnN0eWxlLmxlZnQgPSAodGhpcy5fcG9pbnRzW3BvaW50SWR4XSAqIHRoaXMuX3dpZHRoKSArICdweCc7XG4gICAgICAgIGRlQ3Auc3R5bGUudG9wID0gKHRoaXMuX3BvaW50c1twb2ludElkeCsxXSAqIHRoaXMuX2hlaWdodCkgKyAncHgnO1xuICAgIH0uYmluZCh0aGlzKTtcbiAgICBkZUNwLnJlZnJlc2hQb3NpdGlvbigpO1xuICBcbiAgICByZXR1cm4gZGVDcDtcbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWNvclRpbWViYXJOYXZpZ2F0b3IgPSByZXF1aXJlKCcuL2RlY29yVGltZWJhck5hdmlnYXRvcicpO1xuXG5mdW5jdGlvbiBUaW1lYmFyKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG4gICAgXG4gICAgdGhpcy5fc3RhcnQgPSBvcHQuc3RhcnQgfHwgMDtcbiAgICB0aGlzLl93aWR0aCA9IG9wdC53aWR0aCB8fCAwO1xuICAgIHRoaXMuX2hlaWdodCA9IG9wdC5oZWlnaHQgfHwgMjE7XG4gICAgdGhpcy5fdGltZXNjYWxlID0gb3B0LnRpbWVzY2FsZSB8fCAwO1xuICAgIHRoaXMuX2N1cnJUaW1lID0gb3B0LmN1cnJUaW1lIHx8IDA7XG4gICAgdGhpcy5fbGVuZ3RoID0gb3B0Lmxlbmd0aCB8fCA2MDAwMDtcblxuICAgIHRoaXMuX21hZ25ldFBvaW50cyA9IFtdO1xuICAgIHRoaXMuX21hZ25ldERpc3RhbmNlUHggPSAyLjUwO1xuICAgIHRoaXMuX3N0YXJ0TWFyZ2luID0gKCdzdGFydE1hcmdpbicgaW4gb3B0KSA/IG9wdC5zdGFydE1hcmdpbiA6IDY7XG5cbiAgICB0aGlzLl9vbk1Eb3duID0gb25NRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTU1vdmUgPSBvbk1Nb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25NVXAgPSBvbk1VcC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fc3RlcHMgPSBnZXRTdGVwcygpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuICAgIHRoaXMuX2NyZWF0ZVBvaW50ZXIoKTtcbiAgICB0aGlzLl9jcmVhdGVFbmRTaGFkb3coKTtcblxuICAgIHRoaXMuX3JlbmRlclRhcGUoKTtcbi8vVE9ETyB1c2UgYW1ndWkubWFrZURyYWdnYWJsZSgpXG4gICAgdGhpcy5fY2FudmFzVGFwZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1Eb3duKTtcblxuICAgIGRlY29yVGltZWJhck5hdmlnYXRvcih0aGlzKTtcblxuICAgIHRoaXMuc2Vla1RvWmVybygpO1xufVxuXG5pbmhlcml0cyhUaW1lYmFyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUaW1lYmFyLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVGltZWJhcjtcblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgLyoqIHB4L21zICovXG4gICAgdGltZXNjYWxlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fdGltZXNjYWxlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVzY2FsZSA9IE1hdGgubWluKDMsIE1hdGgubWF4KDAuMDAwMSwgdikpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRpbWVzY2FsZScpO1xuICAgICAgICAgICAgLy9wcmV2ZW50IHRvIGdldCBiaWdnZXIgc3RhcnQgbWFyZ2luIHRoYW4gXCJfc3RhcnRNYXJnaW5cIiBcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLnN0YXJ0O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RhcnQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gTWF0aC5taW4odGhpcy5fc3RhcnRNYXJnaW4gLyB0aGlzLnRpbWVzY2FsZSwgcGFyc2VJbnQodikpO1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl9zdGFydCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnQ7XG4gICAgICAgIH1cbiAgICB9LCBcblxuICAgIC8qKnB4Ki9cbiAgICB3aWR0aDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUludCh2KTtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fd2lkdGggPT09IHYpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2O1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9XG4gICAgfSwgXG4gICAgXG4gICAgZW5kOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0ICsgKHRoaXMuX3dpZHRoIC8gdGhpcy5fdGltZXNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqbXMqL1xuICAgIHZpc2libGVUaW1lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXNjYWxlID0gdGhpcy5fd2lkdGggLyB2O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGltZXNjYWxlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBjdXJyVGltZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBNYXRoLm1heCgwLCBwYXJzZUludCh2KSk7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX2N1cnJUaW1lID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJUaW1lID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaFBvaW50ZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUaW1lJywgdGhpcy5fY3VyclRpbWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyVGltZTtcbiAgICAgICAgfVxuICAgIH0sIFxuICAgIFxuICAgIG1hZ25ldFBvaW50czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLl9tYWduZXRQb2ludHMgPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYWduZXRQb2ludHM7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbGVuZ3RoOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlSW50KHYpO1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl9sZW5ndGggPT09IHYpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlVGFwZScpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RhcnRNYXJnaW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VJbnQodik7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX3N0YXJ0TWFyZ2luID09PSB2KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLl9zdGFydE1hcmdpbiA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlVGFwZScpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydE1hcmdpbjtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5cblxuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL1RPRE9cbn1cblxucC51c2VTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vVE9ET1xufVxuXG5wLnNjcmVlblhUb1RpbWUgPSBmdW5jdGlvbiAoc2NyZWVuWCkge1xuXG4gICAgdmFyIGxlZnQgPSB0aGlzLl9jYW52YXNUYXBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsXG4gICAgICAgIG1vdXNlWCA9IHNjcmVlblggLSBsZWZ0LFxuICAgICAgICB0aW1lID0gKG1vdXNlWCAvIHRoaXMud2lkdGgpICogdGhpcy52aXNpYmxlVGltZTtcblxuICAgIHRpbWUgLT0gdGhpcy5zdGFydDtcblxuICAgIHJldHVybiB0aW1lO1xufTtcblxucC5tYWduZXRpemVUaW1lID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHZhciBtYWduZXRQb2ludCwgbWFnbmV0UG9pbnREaWZmID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5fbWFnbmV0UG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKG1wKSB7XG5cbiAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhtcCAtIHRpbWUpO1xuXG4gICAgICAgIGlmIChkaWZmIDwgbWFnbmV0UG9pbnREaWZmIHx8IG1hZ25ldFBvaW50RGlmZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtYWduZXRQb2ludCA9IG1wO1xuICAgICAgICAgICAgbWFnbmV0UG9pbnREaWZmID0gZGlmZjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmICgobWFnbmV0UG9pbnREaWZmICogdGhpcy5fdGltZXNjYWxlKSA8IHRoaXMuX21hZ25ldERpc3RhbmNlUHgpIHtcblxuICAgICAgICB0aW1lID0gbWFnbmV0UG9pbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbWU7XG59O1xuXG5wLnNlZWtUb1plcm8gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnN0YXJ0ID0gdGhpcy5fc3RhcnRNYXJnaW4gLyB0aGlzLnRpbWVzY2FsZTtcbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZW5kZXJUYXBlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5fc3RhcnQsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgdmlzaWJsZVRpbWUgPSB0aGlzLnZpc2libGVUaW1lLFxuICAgICAgICBoZWlnaHQgPSB0aGlzLl9oZWlnaHQsXG4gICAgICAgIHNjYWxlID0gdGhpcy50aW1lc2NhbGUsIFxuICAgICAgICB3aWR0aCA9IHRoaXMuX3dpZHRoLFxuICAgICAgICBtYXhNYXJrZXJzID0gd2lkdGggLyA0LFxuICAgICAgICBzdGVwLCBpLCB0ZXh0LCB0ZXh0VyxcbiAgICAgICAgY3R4ID0gdGhpcy5fY3R4VGFwZTtcblxuICAgIHRoaXMuX2NhbnZhc1RhcGUud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLl9jYW52YXNUYXBlLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuX3N0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblxuICAgICAgICBpZiAoKHRoaXMudmlzaWJsZVRpbWUgLyBzLnNtYWxsKSA8IG1heE1hcmtlcnMgJiYgKCFzdGVwIHx8IHN0ZXAuc21hbGwgPiBzLnNtYWxsKSkge1xuXG4gICAgICAgICAgICBzdGVwID0gcztcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgaWYgKHN0ZXApIHtcblxuICAgICAgICBjdHgubGlud2VpZHRoID0gMC41O1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgICAgIGN0eC5mb250ID0gfn4odGhpcy5faGVpZ2h0ICogMC41KSArICdweCBcIk9wZW4gU2Fuc1wiJztcblxuICAgICAgICBmb3IgKGkgPSBzdGFydCAlIHN0ZXAuc21hbGw7IGkgPCB2aXNpYmxlVGltZTsgaSArPSBzdGVwLnNtYWxsKSB7XG5cbiAgICAgICAgICAgIGN0eC5tb3ZlVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0ICogMC43NSk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0ICUgc3RlcC5iaWc7IGkgPCB2aXNpYmxlVGltZTsgaSArPSBzdGVwLmJpZykge1xuXG4gICAgICAgICAgICBjdHgubW92ZVRvKH5+KGkgKiBzY2FsZSkgKyAwLjUsIGhlaWdodCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKH5+KGkgKiBzY2FsZSkgKyAwLjUsIGhlaWdodCAqIDAuNjIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICBmb3IgKGkgPSBzdGFydCAlIHN0ZXAudGltZTsgaSA8IHZpc2libGVUaW1lOyBpICs9IHN0ZXAudGltZSkge1xuXG4gICAgICAgICAgICB0ZXh0ID0gc3RlcC5mb3JtYXQoaSAtIHN0YXJ0KTtcbiAgICAgICAgICAgIHRleHRXID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoIC8gMjtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCBpICogc2NhbGUgLSB0ZXh0VywgMTIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZyZXNoUG9pbnRlcigpO1xuXG4gICAgdmFyIGVuZFdpZHRoID0gKCh2aXNpYmxlVGltZSAtIChzdGFydCArIGxlbmd0aCkpICogc2NhbGUpO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLndpZHRoID0gTWF0aC5tYXgoMCwgTWF0aC5taW4od2lkdGgsIGVuZFdpZHRoKSkgKyAncHgnO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIG9uTURvd24oZSkge1xuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoZS5zaGlmdEtleSkgdGhpcy5fZHJhZ01vZGUgPSAndHJhbnNsYXRlJztcbiAgICBlbHNlIGlmIChlLmN0cmxLZXkpIHRoaXMuX2RyYWdNb2RlID0gJ3NjYWxlJztcbiAgICBlbHNlIHRoaXMuX2RyYWdNb2RlID0gJ3NlZWsnO1xuXG4gICAgdGhpcy5fbWRYID0gZS5wYWdlWDtcbiAgICB0aGlzLl9tZFN0YXJ0ID0gdGhpcy5fc3RhcnQ7XG4gICAgdGhpcy5fbWRUaW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG5cbiAgICB0aGlzLl9vbk1Nb3ZlKGUpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTU1vdmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25NVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25NVXApO1xufVxuXG5mdW5jdGlvbiBvbk1Nb3ZlKGUpIHtcblxuICAgIHZhciBtb3ZlID0gZS5zY3JlZW5YIC0gdGhpcy5fbWRYLFxuICAgICAgICB0aW1lLCBtYWduZXRQb2ludCwgbWFnbmV0UG9pbnREaWZmO1xuXG4gICAgaWYgKHRoaXMuX2RyYWdNb2RlID09PSAnc2VlaycpIHtcblxuICAgICAgICB0aW1lID0gdGhpcy5zY3JlZW5YVG9UaW1lKGUuc2NyZWVuWCk7XG4gICAgICAgIHRpbWUgPSB0aGlzLm1hZ25ldGl6ZVRpbWUodGltZSk7XG5cbiAgICAgICAgdGhpcy5jdXJyVGltZSA9IHRpbWU7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdzZWVrJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdNb2RlID09PSAndHJhbnNsYXRlJykge1xuXG4gICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLl9tZFN0YXJ0ICsgKG1vdmUgLyB0aGlzLnRpbWVzY2FsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdNb2RlID09PSAnc2NhbGUnKSB7XG5cbiAgICAgICAgdGhpcy50aW1lc2NhbGUgPSB0aGlzLl9tZFRpbWVzY2FsZSArIChtb3ZlLzEwMDApO1xuXG4gICAgICAgIHZhciBtZFBvcyA9ICh0aGlzLl9tZFN0YXJ0ICsgdGhpcy5jdXJyVGltZSkgKiB0aGlzLl9tZFRpbWVzY2FsZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IC0oKHRoaXMuY3VyclRpbWUgKiB0aGlzLnRpbWVzY2FsZSkgLSBtZFBvcykgLyB0aGlzLnRpbWVzY2FsZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTVVwKCkge1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTU1vdmUpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25NVXApO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25NVXApO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoUG9pbnRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBwb3MgPSAoKHRoaXMuc3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAvIHRoaXMudmlzaWJsZVRpbWUpICogdGhpcy53aWR0aDtcblxuICAgIHRoaXMuX2RlUG9pbnRlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKCcgKyBwb3MgKyAncHgpJztcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBhbWd1aS5jb2xvci5iZzA7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5kb21FbGVtfSk7XG5cbiAgICB0aGlzLl9jYW52YXNUYXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fY3R4VGFwZSA9IHRoaXMuX2NhbnZhc1RhcGUuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLl9jYW52YXNUYXBlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXNUYXBlKTsgXG59O1xuXG5wLl9jcmVhdGVQb2ludGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJhZGl1cyA9IDU7XG4gICAgdGhpcy5fZGVQb2ludGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVQb2ludGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZVBvaW50ZXIuc3R5bGUuYm90dG9tID0gMipyYWRpdXMgKyAncHgnO1xuICAgIHZhciBwb2ludGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcG9pbnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgcG9pbnRlci5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG4gICAgcG9pbnRlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHBvaW50ZXIuc3R5bGUubGVmdCA9IC1yYWRpdXMgKyAncHgnO1xuICAgIHBvaW50ZXIuc3R5bGUud2lkdGggPSAyKnJhZGl1cyArICdweCc7XG4gICAgcG9pbnRlci5zdHlsZS5oZWlnaHQgPSAyKnJhZGl1cyArICdweCc7XG4gICAgcG9pbnRlci5zdHlsZS5ib3JkZXIgPSAnc29saWQgJythbWd1aS5jb2xvci5yZWQrJyAxcHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzICsgJ3B4JztcbiAgICB0aGlzLl9kZVBvaW50ZXIuYXBwZW5kQ2hpbGQocG9pbnRlcik7IFxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXIpOyBcbn07XG5cbnAuX2NyZWF0ZUVuZFNoYWRvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlRW5kU2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLnJpZ2h0ID0gJzBweCc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLndpZHRoID0gJzBweCc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSg4Myw4Myw4MywwLjczKSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRW5kU2hhZG93KTsgXG5cbiAgICB2YXIgaGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhhbmRsZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGhhbmRsZXIuc3R5bGUudG9wID0gJzBweCc7XG4gICAgaGFuZGxlci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgaGFuZGxlci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgaGFuZGxlci5zdHlsZS53aWR0aCA9ICczcHgnO1xuICAgIGhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgaGFuZGxlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LmFwcGVuZENoaWxkKGhhbmRsZXIpO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBoYW5kbGVyLFxuICAgICAgICB0aGlzQXJnOiB0aGlzLFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciB0aW1lID0gdGhpcy5zY3JlZW5YVG9UaW1lKG14KTtcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLm1hZ25ldGl6ZVRpbWUodGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGltZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuXG5cblxuXG5cblxuXG4vL1N0ZXBzXG5mdW5jdGlvbiBnZXRTdGVwcygpIHtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNtYWxsOiA1LCBcbiAgICAgICAgICAgIGJpZzogNTAsIFxuICAgICAgICAgICAgdGltZTogNTAsIFxuICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobXMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbXMgKyAnbXMnO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDEwLCBcbiAgICAgICAgICAgIGJpZzogMTAwLCBcbiAgICAgICAgICAgIHRpbWU6IDEwMCwgXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChtcykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBtcyArICdtcyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAwLCBcbiAgICAgICAgICAgIGJpZzogMTAwMCwgXG4gICAgICAgICAgICB0aW1lOiAxMDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQobXMvMTAwMCkgJSA2MDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAobWluID8gbWluKyc6Jyt0d28oc2VjKSA6IHNlYykgKyAncyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogNTAwLCBcbiAgICAgICAgICAgIGJpZzogNTAwMCwgXG4gICAgICAgICAgICB0aW1lOiA1MDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQobXMvMTAwMCkgJSA2MDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAobWluID8gbWluKyc6Jyt0d28oc2VjKSA6IHNlYykgKyAncyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAwMDAsIFxuICAgICAgICAgICAgYmlnOiA2MDAwMCwgXG4gICAgICAgICAgICB0aW1lOiA2MDAwMCwgXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChtcykge1xuICAgICAgICAgICAgICAgIHZhciBtaW4gPSBwYXJzZUludChtcy82MDAwMCkgJSA2MDtcbiAgICAgICAgICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KG1zLzM2MDAwMDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChob3VyID8gaG91cisnOicrdHdvKG1pbikgOiBtaW4pICsgJ20nO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDYwMDAwLCBcbiAgICAgICAgICAgIGJpZzogNSo2MDAwMCwgXG4gICAgICAgICAgICB0aW1lOiA1KjYwMDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKSAlIDYwO1xuICAgICAgICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQobXMvMzYwMDAwMCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKGhvdXIgPyBob3VyKyc6Jyt0d28obWluKSA6IG1pbikgKyAnbSc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIHR3byhudW0pIHtcblxuICAgICAgICByZXR1cm4gKCcwMCcgKyBudW0pLnN1YnN0cigtMik7XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgVGltZWJhciA9IHJlcXVpcmUoJy4vVGltZWJhcicpO1xudmFyIEVhc2VNYXAgPSByZXF1aXJlKCcuL0Vhc2VNYXAnKTtcbnZhciBUcmlnZ2VyTWFwID0gcmVxdWlyZSgnLi9UcmlnZ2VyTWFwJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIFVnbGlmeUpTID0gcmVxdWlyZSgndWdsaWZ5LWpzJyk7XG52YXIgbXN0U2NyaXB0ID0gcmVxdWlyZSgnLi9zY3JpcHQudGltZWxpbmUubXN0Jyk7XG52YXIgSW5saW5lRWFzZUVkaXRvciA9IHJlcXVpcmUoJy4vSW5saW5lRWFzZUVkaXRvcicpO1xudmFyIFRvb2xiYXIgPSByZXF1aXJlKCcuLi90b29sYmFyJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIFRpbWVsaW5lKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMTExMTEpO1xuXG4gICAgdGhpcy5faGVhZGVySCA9IDIzO1xuXG4gICAgdGhpcy5fb25TZWxlY3RUcmFjayA9IHRoaXMuX29uU2VsZWN0VHJhY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRyYWNrS2V5cyA9IHRoaXMuX29uQ2hhbmdlVHJhY2tLZXlzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25SZW1vdmVUcmFjayA9IHRoaXMuX29uUmVtb3ZlVHJhY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdmVUcmFjayA9IHRoaXMuX29uTW92ZVRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUaW1lID0gdGhpcy5fb25DaGFuZ2VUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUYXBlID0gdGhpcy5fb25DaGFuZ2VUYXBlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25XaW5kb3dSZXNpemUgPSB0aGlzLl9vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0TmV3VHJhY2sgPSB0aGlzLl9vblNlbGVjdE5ld1RyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Ub2dnbGVQbGF5UGF1c2UgPSB0aGlzLl9vblRvZ2dsZVBsYXlQYXVzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVGltZWJhclNlZWsgPSB0aGlzLl9vblRpbWViYXJTZWVrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUcmFja0hlaWdodCA9IHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblN0YXJ0RWRpdEN1cnJUaW1lID0gdGhpcy5fb25TdGFydEVkaXRDdXJyVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRmluaXNoRWRpdEN1cnJUaW1lID0gdGhpcy5fb25GaW5pc2hFZGl0Q3VyclRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZUlucEN1cnJUaW1lID0gdGhpcy5fb25DaGFuZ2VJbnBDdXJyVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2FuaW1QbGF5ID0gdGhpcy5fYW5pbVBsYXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3RpbWViYXIgPSBuZXcgVGltZWJhcih7XG4gICAgICAgIGhlaWdodDogdGhpcy5faGVhZGVySCxcbiAgICAgICAgdGltZXNjYWxlOiAwLjEyLFxuICAgICAgICBsZW5ndGg6IDYwMDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih7XG4gICAgICAgIGhlaWdodDogdGhpcy5faGVhZGVySCxcbiAgICAgICAgYmdDb2xvcjogJ25vbmUnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuICAgIHRoaXMuX2NyZWF0ZVBvaW50ZXJMaW5lKCk7XG5cbiAgICB0aGlzLmlubGluZUVhc2VFZGl0b3IgPSBuZXcgSW5saW5lRWFzZUVkaXRvcih7dGltZWxpbmU6IHRoaXN9KTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5pbmxpbmVFYXNlRWRpdG9yLmRvbUVsZW0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaFRpbWViYXJXaWR0aCgpO1xuICAgIHRoaXMuX3JlZnJlc2hEZUN1cnJUaW1lKCk7XG5cbiAgICB0aGlzLl90cmFja3MgPSBbXTtcbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzID0gbmV3IFdlYWtNYXAoKTtcblxuICAgIHRoaXMuZWFzZU1hcCA9IG5ldyBFYXNlTWFwKCk7XG4gICAgdGhpcy50cmlnZ2VyTWFwID0gbmV3IFRyaWdnZXJNYXAoKTtcblxuICAgIHRoaXMuX3RpbWViYXIub24oJ2NoYW5nZVRpbWUnLCB0aGlzLmVtaXQuYmluZCh0aGlzLCAnY2hhbmdlVGltZScpKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdjaGFuZ2VUYXBlJywgdGhpcy5lbWl0LmJpbmQodGhpcywgJ2NoYW5nZVRhcGUnKSk7XG4gICAgdGhpcy5fdGltZWJhci5vbignY2hhbmdlVGltZXNjYWxlJywgdGhpcy5lbWl0LmJpbmQodGhpcywgJ2NoYW5nZVRpbWVzY2FsZScpKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdjaGFuZ2VUYXBlJywgdGhpcy5fb25DaGFuZ2VUYXBlKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdzZWVrJywgdGhpcy5fb25UaW1lYmFyU2Vlayk7XG5cbiAgICBhbWd1aS5jYWxsT25BZGRlZCh0aGlzLmRvbUVsZW0sIHRoaXMuX3JlZnJlc2hUaW1lYmFyV2lkdGgsIHRoaXMpO1xuICAgIHRoaXMuX3JlZnJlc2hQb2ludGVyTGluZSA9IGFtZ3VpLmRlbGF5V2l0aFJBRih0aGlzLl9yZWZyZXNoUG9pbnRlckxpbmUsIHRoaXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uV2luZG93UmVzaXplKTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgdGhpcy51c2VTYXZlKG9wdCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhUaW1lbGluZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVGltZWxpbmUucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUaW1lbGluZTtcblxuXG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGN1cnJUaW1lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmN1cnJUaW1lO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0aW1lc2NhbGU6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci50aW1lc2NhbGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyYWNrczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFja3M7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxlbmd0aDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci53aWR0aDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3RhcnQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci5zdGFydDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdwYXJlbnRQcm9qZWN0JywgZXZlbnQ6ICdhZGRlZCd9KTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHNhdmUgPSBfLmV4dGVuZCh7XG4gICAgICAgIHRpbWViYXI6IHt9LFxuICAgICAgICB0cmFja3M6IFtdXG4gICAgfSwgc2F2ZSk7XG5cbiAgICB0aGlzLl90aW1lYmFyLmN1cnJUaW1lID0gc2F2ZS50aW1lYmFyLmN1cnJUaW1lO1xuICAgIHRoaXMuX3RpbWViYXIudGltZXNjYWxlID0gc2F2ZS50aW1lYmFyLnRpbWVzY2FsZTtcbiAgICB0aGlzLl90aW1lYmFyLmxlbmd0aCA9IHNhdmUudGltZWJhci5sZW5ndGg7XG5cbiAgICBpZiAoJ2Vhc2VNYXAnIGluIHNhdmUpIHRoaXMuZWFzZU1hcC51c2VTYXZlKHNhdmUuZWFzZU1hcCk7XG4gICAgaWYgKCd0cmlnZ2VyTWFwJyBpbiBzYXZlKSB0aGlzLnRyaWdnZXJNYXAudXNlU2F2ZShzYXZlLnRyaWdnZXJNYXApO1xuXG4gICAgc2F2ZS50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2tEYXRhKSB7XG5cbiAgICAgICAgdmFyIFRyYWNrQ2xhc3MgPSBhbS50cmFja1R5cGVzW3RyYWNrRGF0YS50eXBlXSxcbiAgICAgICAgICAgIHRyYWNrID0gbmV3IFRyYWNrQ2xhc3ModHJhY2tEYXRhLmRhdGEsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRkVHJhY2sodHJhY2spO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgXy5pbnZva2UodGhpcy5fdHJhY2tzLCAncmVuZGVyVGltZScsIHRoaXMuY3VyclRpbWUpO1xuXG4gICAgdGhpcy5fcmVmcmVzaE1hZ25ldFBvaW50cygpO1xuXG4gICAgaWYgKF8uaGFzKHNhdmUsICdjdXJyVHJhY2tJZHgnKSkge1xuXG4gICAgICAgIHRoaXMuX3RyYWNrc1tzYXZlLmN1cnJUcmFja0lkeF0uc2VsZWN0KCk7XG4gICAgfVxuXG4gICAgYW0uaGlzdG9yeS5jbGVhcigpO1xufTtcblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIHRpbWViYXI6IHtcbiAgICAgICAgICAgIGN1cnJUaW1lOiB0aGlzLl90aW1lYmFyLmN1cnJUaW1lLFxuICAgICAgICAgICAgdGltZXNjYWxlOiB0aGlzLl90aW1lYmFyLnRpbWVzY2FsZSxcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy5fdGltZWJhci5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrczogW10sXG4gICAgICAgIGVhc2VNYXA6IHRoaXMuZWFzZU1hcC5nZXRTYXZlKCksXG4gICAgICAgIHRyaWdnZXJNYXA6IHRoaXMudHJpZ2dlck1hcC5nZXRTYXZlKCksXG4gICAgfTtcblxuICAgIGlmICh0aGlzLl9jdXJyVHJhY2spIHtcblxuICAgICAgICBzYXZlLmN1cnJUcmFja0lkeCA9IHRoaXMuX3RyYWNrcy5pbmRleE9mKHRoaXMuX2N1cnJUcmFjayk7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICAgICAgc2F2ZS50cmFja3MucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0cmFjay50eXBlLFxuICAgICAgICAgICAgZGF0YTogdHJhY2suZ2V0U2F2ZSgpXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNhdmU7XG59O1xuXG5wLmdldFNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzY3JpcHQsIHBsYXllclNjcmlwdHMgPSBbXTtcblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBwbGF5ZXJTY3JpcHRzLnB1c2godHJhY2suZ2V0U2NyaXB0KCkpO1xuICAgIH0pO1xuXG4gICAgc2NyaXB0ID0gTXVzdGFjaGUucmVuZGVyKG1zdFNjcmlwdCwge1xuICAgICAgICB0cmFja1BsYXllckdlbnM6IHBsYXllclNjcmlwdHMuam9pbignLFxcbicpLFxuICAgICAgICB0cmlnZ2VyU2NyaXB0OiB0aGlzLnRyaWdnZXJNYXAuZ2V0U2NyaXB0KCksXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2NyaXB0O1xufTtcblxucC5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdoaWxlICh0aGlzLl90cmFja3MubGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVUcmFjayh0aGlzLl90cmFja3NbMF0pO1xuICAgIH1cbn07XG5cbnAuYWRkVHJhY2sgPSBmdW5jdGlvbiAodHJhY2spIHtcblxuICAgIGlmIChfLmluY2x1ZGUodGhpcy5fdHJhY2tzLCB0cmFjaykpIHJldHVybjtcblxuICAgIGFtLmhpc3Rvcnkuc2F2ZSh7XG4gICAgICAgIHVuZG86ICgpID0+IHRoaXMucmVtb3ZlVHJhY2sodHJhY2spLFxuICAgICAgICByZWRvOiAoKSA9PiB0aGlzLmFkZFRyYWNrKHRyYWNrKSxcbiAgICAgICAgbmFtZTogJ2FkZCB0cmFjaycsXG4gICAgfSk7XG5cbiAgICB0aGlzLl90cmFja3MucHVzaCh0cmFjayk7XG5cbiAgICB0cmFjay5wYXJlbnRUaW1lbGluZSA9IHRoaXM7XG5cbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzLnNldCh0cmFjaywge1xuICAgICAgICBkZUNvbnRPcHQ6IGNyZWF0ZUNvbnQodHJhY2suZGVPcHRpb25MaW5lLCB0aGlzLl9kZU9wdGlvbkxpbmVDb250KSxcbiAgICAgICAgZGVDb250S2Y6IGNyZWF0ZUNvbnQodHJhY2suZGVLZXlMaW5lLCB0aGlzLl9kZUtleUxpbmVDb250KSxcbiAgICB9KTtcblxuICAgIHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQodHJhY2spO1xuXG4gICAgdHJhY2sub24oJ2NoYW5nZS5rZXlzJywgdGhpcy5fb25DaGFuZ2VUcmFja0tleXMsIHRoaXMpO1xuICAgIHRyYWNrLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdFRyYWNrLCB0aGlzKTtcbiAgICB0cmFjay5vbigncmVtb3ZlJywgdGhpcy5fb25SZW1vdmVUcmFjaywgdGhpcyk7XG4gICAgdHJhY2sub24oJ21vdmUnLCB0aGlzLl9vbk1vdmVUcmFjaywgdGhpcyk7XG4gICAgdHJhY2sub24oJ2NoYW5nZUhlaWdodCcsIHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQsIHRoaXMpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29udChjb250ZW50LCBwYXJlbnQpIHtcblxuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRlLnN0eWxlLmhlaWdodCA9IHRyYWNrLmhlaWdodCArICdweCc7XG4gICAgICAgIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG59O1xuXG5wLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICBpZiAoIV8uaW5jbHVkZSh0aGlzLl90cmFja3MsIHRyYWNrKSkgcmV0dXJuO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5hZGRUcmFjayh0cmFjayksXG4gICAgICAgIHJlZG86ICgpID0+IHRoaXMucmVtb3ZlVHJhY2sodHJhY2spLFxuICAgICAgICBuYW1lOiAncmVtb3ZlIHRyYWNrJyxcbiAgICB9KTtcblxuICAgIHRyYWNrLnBhcmVudFRpbWVsaW5lID0gdW5kZWZpbmVkO1xuXG4gICAgXy5wdWxsKHRoaXMuX3RyYWNrcywgdHJhY2spO1xuXG4gICAgdmFyIHRyYWNrRGF0YSA9IHRoaXMuX21hcFRyYWNrRGF0YXMuZ2V0KHRyYWNrKTtcbiAgICAkKHRyYWNrRGF0YS5kZUNvbnRPcHQpLnJlbW92ZSgpO1xuICAgICQodHJhY2tEYXRhLmRlQ29udEtmKS5yZW1vdmUoKTtcbiAgICB0aGlzLl9tYXBUcmFja0RhdGFzLmRlbGV0ZSh0cmFjayk7XG5cbiAgICB0cmFjay5vZmYoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0VHJhY2ssIHRoaXMpO1xuICAgIHRyYWNrLm9mZignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZVRyYWNrS2V5cywgdGhpcyk7XG4gICAgdHJhY2sub2ZmKCdyZW1vdmUnLCB0aGlzLl9vblJlbW92ZVRyYWNrLCB0aGlzKTtcbiAgICB0cmFjay5vZmYoJ21vdmUnLCB0aGlzLl9vbk1vdmVUcmFjaywgdGhpcyk7XG4gICAgdHJhY2sub2ZmKCdjaGFuZ2VIZWlnaHQnLCB0aGlzLl9vbkNoYW5nZVRyYWNrSGVpZ2h0LCB0aGlzKTtcblxuICAgIHRyYWNrLmRpc3Bvc2UoKTtcbn07XG5cbnAubW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCB3YXkpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl90cmFja3MuaW5kZXhPZih0cmFjayk7XG5cbiAgICB0aGlzLl90cmFja3Muc3BsaWNlKGlkeCwgMSk7XG4gICAgaWR4ID0gTWF0aC5taW4odGhpcy5fdHJhY2tzLmxlbmd0aCwgTWF0aC5tYXgoMCwgaWR4ICsgd2F5KSk7XG4gICAgdGhpcy5fdHJhY2tzLnNwbGljZShpZHgsIDAsIHRyYWNrKTtcblxuICAgIHRoaXMuX3JlZnJlc2hUcmFja09yZGVyaW5nKCk7XG59O1xuXG5wLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNQbGF5aW5nKSByZXR1cm47XG4gICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX2J0blRvZ2dsZVBsYXkuc2V0VG9nZ2xlKHRydWUpO1xuXG4gICAgXy5pbnZva2UodGhpcy5fdHJhY2tzLCAncGxheScsIHRoaXMuY3VyclRpbWUpO1xuXG4gICAgdGhpcy5fcGxheVN0YXJ0VGltZVN0YW1wID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5fcGxheVN0YXJ0Q3VyclRpbWUgPSB0aGlzLmN1cnJUaW1lO1xuICAgIHRoaXMuX2FuaW1QbGF5KCk7XG59O1xuXG5wLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1BsYXlpbmcpIHJldHVybjtcbiAgICB0aGlzLl9pc1BsYXlpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX2J0blRvZ2dsZVBsYXkuc2V0VG9nZ2xlKGZhbHNlKTtcblxuICAgIF8uaW52b2tlKHRoaXMuX3RyYWNrcywgJ3BhdXNlJyk7XG5cbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbVBsYXlSYWZpZCk7XG59O1xuXG5wLnNjcmVlblhUb1RpbWUgPSBmdW5jdGlvbiAoc2NyZWVuWCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX3RpbWViYXIuc2NyZWVuWFRvVGltZShzY3JlZW5YKTtcbn07XG5cbnAudGltZVRvUmVuZGVyUG9zID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiAodGltZSArIHRoaXMuc3RhcnQpICogdGhpcy50aW1lc2NhbGU7XG59O1xuXG5wLnRpbWVUb1NjcmVlblggPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX3RpbWViYXIuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgdGhpcy50aW1lVG9SZW5kZXJQb3ModGltZSk7XG59O1xuXG5cblxuXG5cblxuXG5wLl9hbmltUGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2FuaW1QbGF5UmFmaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5KTtcblxuICAgIHZhciB0ID0gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuX3BsYXlTdGFydFRpbWVTdGFtcCk7XG4gICAgdGhpcy5fdGltZWJhci5jdXJyVGltZSA9ICh0aGlzLl9wbGF5U3RhcnRDdXJyVGltZSArIHQpICUgdGhpcy5fdGltZWJhci5sZW5ndGg7XG59O1xuXG5wLl9vblRpbWViYXJTZWVrID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5wYXVzZSgpO1xufTtcblxucC5fb25TZWxlY3RUcmFjayA9IGZ1bmN0aW9uKHRyYWNrKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclRyYWNrID09PSB0cmFjaylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJUcmFjaykge1xuXG4gICAgICAgIHRoaXMuX2N1cnJUcmFjay5kZXNlbGVjdCgpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJUcmFjayA9IHRyYWNrO1xuXG4gICAgYW0uc2V0Q3VyclRyYWNrKHRyYWNrKTtcbn07XG5cbnAuX29uQ2hhbmdlVHJhY2tLZXlzID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoTWFnbmV0UG9pbnRzKCk7XG59O1xuXG5wLl9vblJlbW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICB0aGlzLnJlbW92ZVRyYWNrKHRyYWNrKTtcbn07XG5cbnAuX29uTW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCB3YXkpIHtcblxuICAgIHRoaXMubW92ZVRyYWNrKHRyYWNrLCB3YXkpO1xufTtcblxucC5fb25DaGFuZ2VUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaFBvaW50ZXJMaW5lKCk7XG5cbiAgICB0aGlzLl9yZWZyZXNoRGVDdXJyVGltZSgpO1xufTtcblxucC5fb25DaGFuZ2VUYXBlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gdmFyIGxlZnQgPSAodGhpcy5fdGltZWJhci5zdGFydCAqIHRoaXMudGltZXNjYWxlKTtcblxuICAgIC8vIHRoaXMuX2RlS2V5TGluZUNvbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgIC8vIHRoaXMuX2RlS2V5TGluZUNvbnQuc3R5bGUud2lkdGggPSAnY2FsYygxMDAlICsgJyArICgtbGVmdCkgKyAncHgpJztcblxuICAgIHRoaXMuX3JlZnJlc2hQb2ludGVyTGluZSgpO1xufTtcblxucC5fb25DaGFuZ2VUcmFja0hlaWdodCA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgdmFyIGggPSB0cmFjay5oZWlnaHQsXG4gICAgICAgIHRyYWNrRGF0YSA9IHRoaXMuX21hcFRyYWNrRGF0YXMuZ2V0KHRyYWNrKTtcblxuICAgIHRyYWNrRGF0YS5kZUNvbnRPcHQuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgdHJhY2tEYXRhLmRlQ29udEtmLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xufTtcblxucC5fb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoVGltZWJhcldpZHRoKCk7XG59O1xuXG5wLl9vblRvZ2dsZVBsYXlQYXVzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGFtLnJlcG9ydCh7ZXZ0TmFtZTogJ19vblRvZ2dsZVBsYXlQYXVzZScsIHZhbHVlOiAyfSlcblxuICAgIGlmICh0aGlzLl9pc1BsYXlpbmcpIHtcblxuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG59O1xuXG5wLl9vblNlbGVjdE5ld1RyYWNrID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBhZGRUcmFjayA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cbiAgICAgICAgdmFyIFRyYWNrQ2xhc3MgPSBhbS50cmFja1R5cGVzW3R5cGVdO1xuXG4gICAgICAgIHRoaXMuYWRkVHJhY2sobmV3IFRyYWNrQ2xhc3Moe30sIHRoaXMpKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBzd2l0Y2ggKGUuZGV0YWlsLnNlbGVjdGlvbikge1xuXG4gICAgICAgIGNhc2UgJ2Nzcyc6XG4gICAgICAgICAgICBhZGRUcmFjaygnY3NzX3RyYWNrX3R5cGUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG5cbiAgICB9XG59O1xuXG5wLl9vblN0YXJ0RWRpdEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUudmFsdWUgPSB0aGlzLmN1cnJUaW1lO1xuXG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUuZm9jdXMoKTtcbn07XG5cbnAuX29uRmluaXNoRWRpdEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufTtcblxucC5fb25DaGFuZ2VJbnBDdXJyVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSB0aGlzLl9pbnBDdXJyVGltZS52YWx1ZTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaFRyYWNrT3JkZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl90cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICB2YXIgdHJhY2tEYXRhID0gdGhpcy5fbWFwVHJhY2tEYXRhcy5nZXQodHJhY2spO1xuXG4gICAgICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQuYXBwZW5kQ2hpbGQodHJhY2tEYXRhLmRlQ29udE9wdCk7XG4gICAgICAgIHRoaXMuX2RlS2V5TGluZUNvbnQuYXBwZW5kQ2hpbGQodHJhY2tEYXRhLmRlQ29udEtmKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX3JlZnJlc2hNYWduZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgbWFnbmV0UG9pbnRzID0gW107XG5cbiAgICB0aGlzLl90cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcblxuICAgICAgICBpZiAodHlwZW9mIHRyYWNrLmdldE1hZ25ldFBvaW50cyA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICBtYWduZXRQb2ludHMgPSBtYWduZXRQb2ludHMuY29uY2F0KHRyYWNrLmdldE1hZ25ldFBvaW50cygpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWFnbmV0UG9pbnRzID0gXy51bmlxKG1hZ25ldFBvaW50cyk7XG5cbiAgICB0aGlzLl90aW1lYmFyLm1hZ25ldFBvaW50cyA9IG1hZ25ldFBvaW50cztcbn07XG5cbnAuX3JlZnJlc2hUaW1lYmFyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl90aW1lYmFyLndpZHRoID0gdGhpcy5fZGVSaWdodC5vZmZzZXRXaWR0aDtcbn07XG5cbnAuX3JlZnJlc2hQb2ludGVyTGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBjYW52YXMgPSB0aGlzLl9kZVBvaW50ZXJMaW5lLFxuICAgICAgICBjdHggPSB0aGlzLl9kZVBvaW50ZXJMaW5lQ3R4O1xuXG4gICAgY2FudmFzLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIHZhciBsZWZ0ID0gKHRoaXMuX3RpbWViYXIuc3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAqIHRoaXMudGltZXNjYWxlO1xuICAgIGxlZnQgPSBwYXJzZUludChsZWZ0KSArIDAuNTtcblxuICAgIGN0eC5zdHJva2VTdHlsZSA9IGFtZ3VpLmNvbG9yLnJlZDtcbiAgICBjdHgubW92ZVRvKGxlZnQsIDApO1xuICAgIGN0eC5saW5lVG8obGVmdCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgLy8gdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgbGVmdCArICdweCknO1xuICAgIC8vIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudmlzaWJpbGl0eSA9IGxlZnQgPCAwID8gJ2hpZGRlbicgOiAnJztcbn07XG5cbnAuX3JlZnJlc2hEZUN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRpbWUgPSB0aGlzLmN1cnJUaW1lLFxuICAgICAgICBtaW4sIHNlYywgbXMsIHN0ciAgPSAnJztcblxuICAgIG1pbiA9IH5+KHRpbWUgLyA2MDAwMCk7XG4gICAgdGltZSAlPSA2MDAwMDtcbiAgICBzZWMgPSB+fih0aW1lIC8gMTAwMCk7XG4gICAgdGltZSAlPSAxMDAwO1xuICAgIG1zID0gfn50aW1lO1xuXG4gICAgaWYgKG1pbikge1xuICAgICAgICBzdHIgKz0gbWluICsgJzonO1xuICAgICAgICBzZWMgPSAoJzAwJyArIHNlYykuc3Vic3RyKC0yKTtcbiAgICB9XG4gICAgaWYgKHNlYykge1xuICAgICAgICBzdHIgKz0gc2VjICsgJy4nO1xuICAgICAgICBtcyA9ICgnMDAwJyArIG1zKS5zdWJzdHIoLTMpO1xuICAgIH1cbiAgICBzdHIgKz0gbXM7XG4gICAgdGhpcy5fZGVDdXJyVGltZS50ZXh0Q29udGVudCA9IHN0cjtcbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgdGhpcy5fZGVMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVMZWZ0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgIHRoaXMuX2RlTGVmdC5zdHlsZS53aWR0aCA9ICczMDBweCc7XG4gICAgdGhpcy5fZGVMZWZ0LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVMZWZ0KTtcblxuICAgIHRoaXMuX2NyZWF0ZVNldHRpbmdzSGVhZCgpO1xuXG4gICAgdGhpcy5fZGVEaXZpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVEaXZpZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICB0aGlzLl9kZURpdmlkZXIuc3R5bGUud2lkdGggPSAnMXB4JztcbiAgICB0aGlzLl9kZURpdmlkZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZURpdmlkZXIpO1xuXG4gICAgdGhpcy5fZGVSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5fZGVSaWdodC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlUmlnaHQpO1xuXG4gICAgdGhpcy5fdGltZWJhci5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcyM3B4JztcbiAgICB0aGlzLl9kZVJpZ2h0LmFwcGVuZENoaWxkKHRoaXMuX3RpbWViYXIuZG9tRWxlbSk7XG5cbiAgICAvL2tlZXBzIHRoZSBzY3JvbGwgYmFyIGFuZCB0aGUgc2Nyb2xsIGNvbnRhaW5lcihfZGVLZXlMaW5lQ29udDIpXG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMuX2RlUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fZGVLZXlMaW5lQ29udDMpO1xuXG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB0aGlzLl9kZUxlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVPcHRpb25MaW5lQ29udDIpO1xuXG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250Mi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDIuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5hcHBlbmRDaGlsZCh0aGlzLl9kZUtleUxpbmVDb250Mik7XG5cbiAgICAvL3RoaXMgY29udGFpbmVyIGlzIG1vdmluZyB3aXRoIHRoZSB0aW1lbGluZVxuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQyLmFwcGVuZENoaWxkKHRoaXMuX2RlS2V5TGluZUNvbnQpO1xuXG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQyLmFwcGVuZENoaWxkKHRoaXMuX2RlT3B0aW9uTGluZUNvbnQpO1xuXG4gICAgdGhpcy5fZGVSYW5nZSA9IGFtZ3VpLmNyZWF0ZVJhbmdlKHtcbiAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVLZXlMaW5lQ29udDMsXG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogW3RoaXMuX2RlT3B0aW9uTGluZUNvbnQyLCB0aGlzLl9kZUtleUxpbmVDb250M10sXG4gICAgICAgIGRlVGFyZ2V0OiBbdGhpcy5fZGVPcHRpb25MaW5lQ29udCwgdGhpcy5fZGVLZXlMaW5lQ29udF0sXG4gICAgICAgIGRlUmFuZ2U6IHRoaXMuX2RlUmFuZ2VcbiAgICB9KTtcblxuICAgIHRoaXMuX2NyZWF0ZURpdmlkZXJIYW5kbGVyKCk7XG59O1xuXG5cbnAuX2NyZWF0ZVNldHRpbmdzSGVhZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2RhcmtncmVleSc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVMZWZ0LmFwcGVuZENoaWxkKHRoaXMuX2RlU2V0dGluZ3NIZWFkKTtcbiAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5fZGVTZXR0aW5nc0hlYWR9KTtcblxuICAgIHRoaXMuX2RlU2V0dGluZ3NIZWFkLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhci5kb21FbGVtKTtcblxuICAgIHRoaXMuX2J0bk5ld1RyYWNrID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdhZGQgbmV3IHRyYWNrJyxcbiAgICAgICAgaWNvbjogJ3BsdXMtc3F1YXJlZCcsXG4gICAgICAgIHNpemU6IHRoaXMuX2hlYWRlckgsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIH0pO1xuICAgIHRoaXMudG9vbGJhci5hZGRJY29uKHtkZUljb246IHRoaXMuX2J0bk5ld1RyYWNrfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fYnRuTmV3VHJhY2ssXG4gICAgICAgIGRlTWVudTogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogWydjc3MnLCAnanMnLCAnYXR0cmlidXRlJywgJ21lZGlhJywgJ3RpbWVsaW5lJywgJ3RocmVlLmpzJywgJ3BpeGkuanMnLCAnZWFzZWwuanMnLCAna2luZXRpYy5qcycsICdyYXBoYWVsLmpzJywgJ3NuYXAuanMnXSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLl9vblNlbGVjdE5ld1RyYWNrLFxuICAgICAgICB9KSxcbiAgICB9KTtcblxuXG4gICAgdGhpcy5fYnRuRWRpdFRyaWdnZXJzID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHRvb2x0aXA6ICdzZXQgdGltZWxpbmUgdHJpZ2dlcnMnLFxuICAgICAgICBpY29uOiAnZ2FtZXBhZCcsXG4gICAgICAgIHNpemU6IHRoaXMuX2hlYWRlckgsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnRyaWdnZXJNYXAuc2hvd0VkaXRvcigpLFxuICAgIH0pO1xuICAgIHRoaXMudG9vbGJhci5hZGRJY29uKHtcbiAgICAgICAgZGVJY29uOiB0aGlzLl9idG5FZGl0VHJpZ2dlcnMsXG4gICAgfSk7XG5cblxuICAgIHRoaXMuX2J0blRvZ2dsZVBsYXkgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3BsYXkvcGF1c2UgcHJldmlldycsXG4gICAgICAgIGljb25PbjogJ3BhdXNlJyxcbiAgICAgICAgaWNvbk9mZjogJ3BsYXknLFxuICAgICAgICBzaXplOiB0aGlzLl9oZWFkZXJILFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25Ub2dnbGVQbGF5UGF1c2VcbiAgICB9KTtcbiAgICB0aGlzLnRvb2xiYXIuYWRkSWNvbih7XG4gICAgICAgIGRlSWNvbjogdGhpcy5fYnRuVG9nZ2xlUGxheSxcbiAgICAgICAgc2VwYXJhdG9yOiAnY29udHJvbGxzJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlQ3VyclRpbWUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU2V0dGluZ3NIZWFkXG4gICAgfSk7XG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUubWFyZ2luUmlnaHQgPSAnMnB4JztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IuYmczO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblN0YXJ0RWRpdEN1cnJUaW1lKTtcblxuICAgIHRoaXMuX2lucEN1cnJUaW1lID0gYW1ndWkuY3JlYXRlSW5wdXQoe1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZVNldHRpbmdzSGVhZFxuICAgIH0pO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzJweCc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uRmluaXNoRWRpdEN1cnJUaW1lKTtcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUlucEN1cnJUaW1lKTtcbn07XG5cbnAuX2NyZWF0ZURpdmlkZXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUudG9wID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlci5zdHlsZS5sZWZ0ID0gdGhpcy5fZGVMZWZ0LnN0eWxlLndpZHRoO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUud2lkdGggPSAnMXB4JztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmhlaWdodCA9ICdjYWxjKDEwMCUgLSAnICsgdGhpcy5faGVhZGVySCArICdweCknO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMXB4KSBzY2FsZVgoMyknO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRGl2aWRlckhhbmRsZXIpO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG5cbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlRGl2aWRlckhhbmRsZXIsXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG5cbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBsZWZ0ID0gbXggLSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICdweCc7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlTGVmdC5zdHlsZS53aWR0aCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmxlZnQgPSBsZWZ0O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoVGltZWJhcldpZHRoKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbnAuX2NyZWF0ZVBvaW50ZXJMaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVQb2ludGVyTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudG9wID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5fZGVSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXJMaW5lKTtcblxuICAgIHRoaXMuX2RlUG9pbnRlckxpbmVDdHggPSB0aGlzLl9kZVBvaW50ZXJMaW5lLmdldENvbnRleHQoJzJkJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbHMvRGlhbG9nJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBBQ1RJT05TID0gW3tcbiAgICBtZXRob2Q6ICdwbGF5JyxcbiAgICBhcmd1bWVudHM6IFt7dHlwZTogJ251bWJlcid9LCB7fV0sXG59XTtcblxuZnVuY3Rpb24gVHJpZ2dlck1hcCgpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fdHJpZ2dlcnMgPSB7fTtcblxuICAgIHRoaXMuX2NyZWF0ZUVkaXREaWFsb2coKTtcbn1cblxuaW5oZXJpdHMoVHJpZ2dlck1hcCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVHJpZ2dlck1hcC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRyaWdnZXJNYXA7XG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLl90cmlnZ2Vycyk7XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCFzYXZlKSB0aHJvdyBFcnJvcjtcblxuICAgIHRoaXMuX3RyaWdnZXJzID0gXy5jbG9uZURlZXAodGhpcy5fdHJpZ2dlcnMpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuZ2V0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgXy5mb3JFYWNoKHRoaXMuX3RyaWdnZXJzLCB0cmlnZ2VyID0+IHtcblxuICAgICAgICBsZXQgYWRkLFxuICAgICAgICAgICAgYXJncyA9IF8ucGx1Y2sodHJpZ2dlci5hY3Rpb24uYXJndW1lbnQsICd2YWx1ZScpLmpvaW4oJywgJyksXG4gICAgICAgICAgICBhY3Rpb24gPSBgZnVuY3Rpb24gKCkge3RsLiR7dHJpZ2dlci5hY3Rpb24ubWV0aG9kfSgke2FyZ3N9KX1gO1xuXG4gICAgICAgIGlmICh0cmlnZ2VyLnR5cGUgPT09ICdqUXVlcnknKSB7XG5cbiAgICAgICAgICAgIGFkZCA9IGAkKCR7dHJpZ2dlci50YXJnZXRzfSkub25gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyaWdnZXIudHlwZSA9PT0gJ1JldmVhbC5qcycpIHtcblxuICAgICAgICAgICAgYWRkID0gJ1JldmVhbC5hZGRFdmVudExpc3RlbmVyJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldC5wdXNoKGAke2FkZH0oJHt0cmlnZ2VyLmV2ZW50c30sICR7YWN0aW9ufSk7YCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0LmpvaW4oJ1xcbicpO1xufTtcblxucC5zaG93RWRpdG9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZWRpdERpYWxvZy5zaG93KCk7XG59O1xuXG5wLmFkZFRyaWdnZXIgPSBmdW5jdGlvbiAodHJpZ2dlcikge1xuXG4gICAgdHJpZ2dlciA9IHRyaWdnZXIgfHwgdGhpcy5fY3JlYXRlVHJpZ2dlcigpO1xuXG4gICAgdGhpcy5fdHJpZ2dlcnMucHVzaCh0cmlnZ2VyKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG5cbiAgICByZXR1cm4gdHJpZ2dlcjtcbn07XG5cbnAucmVtb3ZlVHJpZ2dlciA9IGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fdHJpZ2dlcnMuaW5kZXhPZih0cmlnZ2VyKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuICAgIHRoaXMudHJpZ2dlcnMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5fY3JlYXRlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdqUXVlcnknLFxuICAgICAgICBuYW1lOiAnbXlUcmlnZ2VyJyxcbiAgICAgICAgZXZlbnRzOiBbJ2NsaWNrJ10sXG4gICAgICAgIHRhcmdldHM6IFsnI3NlbGVjdG9yJ10sXG4gICAgICAgIGFjdGlvbnM6IFt7bWV0aG9kOiAncGxheScsIGFyZ3VtZW50czogW119XSxcbiAgICB9O1xufTtcblxucC5fY3JlYXRlRWRpdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHt0aXRsZTogJ1RyaWdnZXJNYXAgKFdJUCknfSlcbiAgICAgICAgICAgIC5hZGRCdXR0b24oJ29rJywgJ2hpZGUnKSxcbiAgICAgICAgZGVDb250ID0gZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgY3VyclRyaWdnZXI7XG5cbiAgICB0aGlzLl9lZGl0RGlhbG9nID0gZGlhbG9nO1xuXG4gICAgdmFyIHNlbGVjdFRyaWdnZXIgPSB0cmlnZ2VyID0+IHtcblxuICAgICAgICBpZiAoIXRyaWdnZXIpIHJldHVybjtcblxuICAgICAgICBjdXJyVHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIG9wdE5hbWUuaW5wdXRzLmlucHV0LnZhbHVlID0gY3VyclRyaWdnZXIubmFtZTtcbiAgICAgICAgb3B0VHlwZS5pbnB1dHMuaW5wdXQudmFsdWUgPSBjdXJyVHJpZ2dlci5ldmVudHNbMF07XG4gICAgICAgIG9wdEV2ZW50LmlucHV0cy5pbnB1dC52YWx1ZSA9IGN1cnJUcmlnZ2VyLmV2ZW50c1swXTtcbiAgICAgICAgb3B0U2VsZWN0b3IuaW5wdXRzLmlucHV0LnZhbHVlID0gY3VyclRyaWdnZXIuc2VsZWN0b3JzWzBdO1xuICAgICAgICBvcHRNZXRob2QuaW5wdXRzLm1ldGhvZC52YWx1ZSA9IGN1cnJUcmlnZ2VyLmFjdGlvbnNbMF0ubWV0aG9kO1xuICAgICAgICBvcHRNZXRob2QuaW5wdXRzLmFyZ3VtZW50cy52YWx1ZSA9IGN1cnJUcmlnZ2VyLmFjdGlvbnNbMF0uYXJndW1lbnRzWzBdO1xuICAgIH07XG5cbiAgICBhbWd1aS5jcmVhdGVCdG4oe1xuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgdGV4dDogJ25ldyB0cmlnZ2VyJyxcbiAgICAgICAgb25DbGljazogKCkgPT4gc2VsZWN0VHJpZ2dlcih0aGlzLmFkZFRyaWdnZXIoKSksXG4gICAgfSk7XG5cbiAgICB2YXIgcmVmcmVzaFRyaWdnZXJMaXN0ID0gKCkgPT4gZGVUcmlnZ2VyTGlzdC5zZXRJdGVtcyhfLnBsdWNrKHRoaXMuX3RyaWdnZXJzLCBuYW1lKSk7XG4gICAgdmFyIGRlVHJpZ2dlckxpc3QgPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIHBhcmVudDogZGVDb250LFxuICAgICAgICBvblNlbGVjdDogZSA9PiBzZWxlY3RUcmlnZ2VyKF8uZmluZCh0aGlzLl90cmlnZ2Vycywge25hbWU6IGUuZGV0YWlsLnNlbGVjdGlvbn0pKSxcbiAgICB9KTtcbiAgICByZWZyZXNoVHJpZ2dlckxpc3QoKTtcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCByZWZyZXNoVHJpZ2dlckxpc3QpO1xuXG4gICAgdmFyIG9wdE5hbWUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnbmFtZTonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICd0aGUgbmFtZSBvZiB0aGUgdHJpZ2dlcicsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdteVRyaWdnZXInLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIubmFtZSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdFR5cGUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAndHlwZTonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIudHlwZSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFsnalF1ZXJ5JywgJ3JldmVhbC5qcyddLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICB2YXIgb3B0RXZlbnQgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAnZXZlbnQ6JyxcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAndGhlIG5hbWUgb2YgdGhlIGV2ZW50JyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ2NsaWNrJyxcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiAnY2xpY2ssbW91c2Vkb3duLG1vdXNldXAsbW91c2VvdmVyLG1vdXNlb3V0LHJlYWR5LG1vdXNlZW50ZXIsbW91c2VsZWF2ZSxjaGFuZ2UnLnNwbGl0KCcsJyksXG4gICAgICAgICAgICBvbkNoYW5nZTogdiA9PiBjdXJyVHJpZ2dlci5ldmVudHNbMF0gPSB2LFxuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIHZhciBvcHRTZWxlY3RvciA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdzZWxlY3RvcjonLFxuICAgICAgICBwYXJlbnQ6IGRlQ29udCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICd0aGUgR1NBUCBUaW1lbGluZU1heCBtZXRob2QgbmFtZScsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcjc2VsZWN0b3InLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIudGFyZ2V0c1swXSA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdE1ldGhvZCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdhY3Rpb246JyxcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAndGhlIEdTQVAgVGltZWxpbmVNYXggbWV0aG9kIG5hbWUnLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAncGxheScsXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogXy5wbHVjayhBQ1RJT05TLCAnbWV0aG9kJyksXG4gICAgICAgICAgICBvbkNoYW5nZTogdiA9PiBjdXJyVHJpZ2dlci5hY3Rpb25zWzBdLm1ldGhvZCA9IHYsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIG5hbWU6ICdtZXRob2QnLFxuICAgICAgICB9LHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnY29tbWEgc2VsZWN0ZWQgYXJndW1lbnRzJyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJzAnLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHYgPT4gY3VyclRyaWdnZXIuYWN0aW9uc1swXS5hcmd1bWVudHNbMF0gPSB2LFxuICAgICAgICAgICAgbmFtZTogJ2FyZ3VtZW50cycsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY3JlYXRlQnRuKHtcbiAgICAgICAgcGFyZW50OiBkZUNvbnQsXG4gICAgICAgIHRleHQ6ICdyZW1vdmUgdHJpZ2dlcicsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVHJpZ2dlcihjdXJyVHJpZ2dlcik7XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5cbmZ1bmN0aW9uIGRlY29yVGltZWJhck5hdmlnYXRvciAodGltZWJhcikge1xuXG4gICAgdmFyIGRlTmF2LCBkZUNvbG9yLCBkZUxlZnRIYW5kLCBkZVJpZ2h0SGFuZCwgZHJhZ01vZGU7XG4gICAgXG4gICAgY3JlYXRlQmFzZSgpO1xuICAgIHRpbWViYXIuZG9tRWxlbS5hcHBlbmRDaGlsZChkZU5hdik7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlTmF2LFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVMZWZ0SGFuZCkgZHJhZ01vZGUgPSAnc3RhcnQnO1xuICAgICAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQgPT09IGRlUmlnaHRIYW5kKSBkcmFnTW9kZSA9ICdlbmQnO1xuICAgICAgICAgICAgZWxzZSBkcmFnTW9kZSA9ICdtb3ZlJztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGltZWJhci5zdGFydCxcbiAgICAgICAgICAgICAgICB2aXNpYmxlVGltZTogdGltZWJhci52aXNpYmxlVGltZSxcbiAgICAgICAgICAgICAgICB0aW1lc2NhbGU6IHRpbWViYXIudGltZXNjYWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBzY2FsZSA9IHRpbWViYXIud2lkdGggLyB0aW1lYmFyLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtb3ZlID0gKG14IC0gbWQubXgpIC8gc2NhbGUsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBtZC5zdGFydCAtIG1vdmU7XG5cbiAgICAgICAgICAgIGlmIChkcmFnTW9kZSA9PT0gJ21vdmUnKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ3N0YXJ0Jykge1xuXG4gICAgICAgICAgICAgICAgdGltZWJhci5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSAtIG1vdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ2VuZCcpIHtcblxuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSArIG1vdmU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWRQb3MgPSAobWQuc3RhcnQgKyB0aW1lYmFyLmN1cnJUaW1lKSAqIG1kLnRpbWVzY2FsZTtcbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gLSgodGltZWJhci5jdXJyVGltZSAqIHRpbWViYXIudGltZXNjYWxlKSAtIG1kUG9zKSAvIHRpbWViYXIudGltZXNjYWxlO1xuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9LFxuICAgICAgICBvblVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRyYWdNb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25NTGVhdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBkZUNvbG9yLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVkoMSknO1xuICAgICAgICAgICAgZGVDb2xvci5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iuc2VsZWN0ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTGVhdmU6IG9uTUxlYXZlXG4gICAgfSk7XG5cbiAgICB0aW1lYmFyLm9uKCdjaGFuZ2VUYXBlJywgb25DaGFuZ2VUYXBlKTtcblxuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VUYXBlKCkge1xuXG4gICAgICAgIHZhciBzY2FsZSA9IHRpbWViYXIud2lkdGggLyB0aW1lYmFyLmxlbmd0aDtcblxuICAgICAgICBkZU5hdi5zdHlsZS5sZWZ0ID0gKCgtdGltZWJhci5zdGFydCAqIHNjYWxlKSArIHRpbWViYXIuX3N0YXJ0TWFyZ2luKSArICdweCc7XG4gICAgICAgIGRlTmF2LnN0eWxlLndpZHRoID0gKHRpbWViYXIudmlzaWJsZVRpbWUgKiBzY2FsZSkgKyAncHgnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTUxlYXZlKCkge1xuXG4gICAgICAgIGlmICghZHJhZ01vZGUpIHtcbiAgICAgICAgICAgIGRlQ29sb3Iuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWSgwLjQpJztcbiAgICAgICAgICAgIGRlQ29sb3Iuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2UgKCkge1xuXG4gICAgICAgIGRlTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlTmF2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVOYXYuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIGRlTmF2LnN0eWxlLmhlaWdodCA9ICc3cHgnO1xuICAgICAgICBkZU5hdi5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG5cbiAgICAgICAgZGVDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZUNvbG9yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVDb2xvci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZGVDb2xvci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIGRlQ29sb3Iuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRlQ29sb3Iuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkZUNvbG9yLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdjZW50ZXIgdG9wJztcbiAgICAgICAgZGVOYXYuYXBwZW5kQ2hpbGQoZGVDb2xvcik7XG5cbiAgICAgICAgZGVSaWdodEhhbmQgPSBjcmVhdGVIYW5kbGVyKCdyaWdodCcpO1xuICAgICAgICBkZUxlZnRIYW5kID0gY3JlYXRlSGFuZGxlcignbGVmdCcpO1xuICAgICAgICBvbk1MZWF2ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZXIoc2lkZSkge1xuXG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlLnN0eWxlW3NpZGVdID0gJzBweCc7XG4gICAgICAgIGRlLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICBkZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzglJztcbiAgICAgICAgZGUuc3R5bGUubWluV2lkdGggPSAnMXB4JztcbiAgICAgICAgZGUuc3R5bGUubWF4V2lkdGggPSAnN3B4JztcbiAgICAgICAgZGUuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgICAgIGRlTmF2LmFwcGVuZENoaWxkKGRlKTtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29yVGltZWJhck5hdmlnYXRvcjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiKGZ1bmN0aW9uICgpIHtcXG4gICAgdmFyIHRyYWNrUGxheWVyR2VucyA9IFt7e3t0cmFja1BsYXllckdlbnN9fX1dO1xcblxcbiAgICB2YXIgcmVnID0ge1xcblxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoaW5wdXRzKSB7XFxuXFxuICAgICAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KHtwYXVzZWQ6IHRydWV9KTtcXG5cXG4gICAgICAgICAgICB0cmFja1BsYXllckdlbnMuZm9yRWFjaChmdW5jdGlvbiAoY3JlYXRlKSB7XFxuXFxuICAgICAgICAgICAgICAgIHRsLmFkZChjcmVhdGUoaW5wdXRzKSwgMCk7XFxuICAgICAgICAgICAgfSk7XFxuXFxuICAgICAgICAgICAgcmV0dXJuIHRsO1xcbiAgICAgICAgfSxcXG4gICAgfTtcXG5cXG4gICAge3sjdHJpZ2dlclNjcmlwdH19XFxuICAgIChmdW5jdGlvbiAoKSB7XFxuXFxuICAgICAgICB2YXIgdGwgPSByZWcuY3JlYXRlKCk7XFxuXFxuICAgICAgICB7e3RyaWdnZXJTY3JpcHR9fVxcbiAgICB9KVxcbiAgICB7ey90cmlnZ2VyU2NyaXB0fX0vL1xcblxcbiAgICByZXR1cm4gcmVnO1xcbn0oKSk7XFxuXCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFRvb2xiYXIob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX2hlaWdodCA9IG9wdC5oZWlnaHQgfHwgMjQ7XG4gICAgdGhpcy5faWNvbnMgPSBbXTtcbiAgICB0aGlzLl9zZXBhcmF0b3JzID0ge307XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBvcHQuYmdDb2xvciB8fCBhbWd1aS5jb2xvci5iZzA7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9IHRoaXMuX2hlaWdodCArICdweCc7XG5cbiAgICB0aGlzLmFkZFNlcGFyYXRvcih7bmFtZTogJ2ZpcnN0J30pO1xuICAgIHRoaXMuYWRkU2VwYXJhdG9yKHtuYW1lOiAndG9vbHMnfSk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3Ioe25hbWU6ICdoYW5kbGVyJ30pO1xuICAgIHRoaXMuYWRkU2VwYXJhdG9yKHtuYW1lOiAnZ2xvYmFsJ30pO1xuICAgIHRoaXMuYWRkU2VwYXJhdG9yKHtuYW1lOiAncmVzdCd9KTtcbiAgICB0aGlzLmFkZFNlcGFyYXRvcih7bmFtZTogJ2NvbnRyb2xzJywgZmxleDogMX0pO1xufVxuXG5pbmhlcml0cyhUb29sYmFyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUb29sYmFyLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVG9vbGJhcjtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcbiAgICBoZWlnaHQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxucC5hZGRJY29uID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgaWYgKF8uaXNBcnJheShvcHQpKSB7XG5cbiAgICAgICAgcmV0dXJuIG9wdC5tYXAobyA9PiB0aGlzLmFkZEljb24obykpO1xuICAgIH1cblxuICAgIHZhciBkZUljb247XG5cbiAgICBpZiAoXy5pc0VsZW1lbnQob3B0KSkge1xuICAgICAgICBcbiAgICAgICAgZGVJY29uID0gb3B0O1xuICAgIH0gXG4gICAgZWxzZSBpZiAoXy5pc0VsZW1lbnQob3B0LmRlSWNvbikpIHtcbiAgICAgICAgXG4gICAgICAgIGRlSWNvbiA9IG9wdC5kZUljb247XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgICAgZGVJY29uID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBzaXplOiB0aGlzLl9oZWlnaHQsXG4gICAgICAgICAgICBpY29uOiBvcHQuaWNvbixcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9wdC5vbkNsaWNrXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQudG9vbHRpcCkge1xuICAgICAgICBcbiAgICAgICAgYW1ndWkuYWRkVG9vbHRpcCh7XG4gICAgICAgICAgICBkZVRhcmdldDogZGVJY29uLFxuICAgICAgICAgICAgdGV4dDogb3B0LnRvb2x0aXAsXG4gICAgICAgICAgICBzaWRlOiAnYm90dG9tJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZUljb24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXG4gICAgdGhpcy5kb21FbGVtLmluc2VydEJlZm9yZShkZUljb24sIHRoaXMuX3NlcGFyYXRvcnNbb3B0LnNlcGFyYXRvciB8fCAncmVzdCddKTtcblxuICAgIHJldHVybiBkZUljb247XG59O1xuXG5wLnJlbW92ZUljb24gPSBmdW5jdGlvbiAoZGVJY29uKSB7XG5cbiAgICBkZUljb24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZUljb24pO1xufTtcblxucC5hZGRTZXBhcmF0b3IgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKGRlKTtcbiAgICB0aGlzLl9zZXBhcmF0b3JzW29wdC5uYW1lXSA9IGRlO1xuXG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIHtcbiAgICAgICAgZGUuc3R5bGUuZmxleCA9IG9wdC5mbGV4O1xuICAgIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIENoZWNrYm94SW5wdXQgPSByZXF1aXJlKCcuLi91dGlscy9DaGVja2JveElucHV0Jyk7XG5cbnZhciBjc3NBbWd1aSA9IHJlcXVpcmUoJy4uL2Fzc2V0cy9mb250ZWxsby9jc3MvYW1ndWkuY3NzJyk7XG5cbmZ1bmN0aW9uIFRvdXIoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxufVxuXG5pbmhlcml0cyhUb3VyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUb3VyLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVG91cjtcblxucC5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2luaXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2luaXRlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9jYWxsUnVubmluZ0xvb3AgPSB0aGlzLl9jYWxsUnVubmluZ0xvb3AuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3N0ZXBzID0gW107XG4gICAgdGhpcy5fZGVQb2ludGVycyA9IFtdO1xuICAgIHRoaXMuX2RlQ2hlY2tib3hlcyA9IFtdO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCd0b3VyJywgdGhpcy5kb21FbGVtKTtcblxuICAgIHRoaXMucHJldiA9IHRoaXMucHJldi5iaW5kKHRoaXMpO1xuICAgIHRoaXMubmV4dCA9IHRoaXMubmV4dC5iaW5kKHRoaXMpO1xufVxuXG5wLnNldHVwID0gZnVuY3Rpb24gKGRhdGEpIHtcblxuXG4gICAgdmFyIGNyZWF0ZUNoZWNrID0gKHRvb2x0aXApID0+IHtcblxuICAgICAgICB2YXIgY2IgPSBuZXcgQ2hlY2tib3hJbnB1dCh7XG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlQ2hlY2tib3hDb250LFxuICAgICAgICAgICAgdG9vbHRpcDogdG9vbHRpcCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2IuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHJldHVybiBjYjtcbiAgICB9XG5cbiAgICB0aGlzLmluaXQoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NhbGxSdW5uaW5nTG9vcCk7XG5cblxuICAgIGRhdGEuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCkge1xuXG4gICAgICAgIHN0ZXAuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzdGVwLmRvbUVsZW0uaW5uZXJIVE1MID0gc3RlcC5jb250ZW50O1xuICAgICAgICBzdGVwLmNoZWNrbGlzdCA9IHN0ZXAuY2hlY2tsaXN0ID8gc3RlcC5jaGVja2xpc3QubWFwKGNyZWF0ZUNoZWNrKSA6IFtdO1xuXG4gICAgICAgIHRoaXMuX3N0ZXBzLnB1c2goc3RlcCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmdvdG8oMCk7XG59O1xuXG5wLm5leHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fc3RlcHMuaW5kZXhPZih0aGlzLl9jdXJyU3RlcCkgKyAxO1xuICAgIHRoaXMuZ290byhpZHgpO1xufTtcblxucC5wcmV2ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX3N0ZXBzLmluZGV4T2YodGhpcy5fY3VyclN0ZXApIC0gMTtcbiAgICB0aGlzLmdvdG8oaWR4KTtcbn07XG5cbnAuZ290byA9IGZ1bmN0aW9uIChpZHgpIHtcblxuICAgIGlkeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuX3N0ZXBzLmxlbmd0aC0xLCBpZHgpKTtcblxuICAgIHRoaXMucmVtb3ZlQWxsUG9pbnRlcigpO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJTdGVwKSB7XG5cbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9ydW5uaW5nTG9vcFNldEkpO1xuXG4gICAgICAgIGlmICh0eXBlb2YodGhpcy5fY3VyclN0ZXAub25DbG9zZSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgXG4gICAgICAgICAgICB0aGlzLl9jdXJyU3RlcC5vbkNsb3NlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlU3RlcENvbnRlbnQucmVtb3ZlQ2hpbGQodGhpcy5fY3VyclN0ZXAuZG9tRWxlbSk7XG4gICAgICAgIHRoaXMuX2N1cnJTdGVwLmNoZWNrbGlzdC5mb3JFYWNoKGNiID0+IGNiLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VyclN0ZXAgPSB0aGlzLl9zdGVwc1tpZHhdO1xuXG4gICAgdGhpcy5fZGVTdGVwQ29udGVudC5hcHBlbmRDaGlsZCh0aGlzLl9jdXJyU3RlcC5kb21FbGVtKTtcbiAgICB0aGlzLl9jdXJyU3RlcC5jaGVja2xpc3QuZm9yRWFjaChjYiA9PiBjYi5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJyk7XG4gICAgXG4gICAgaWYgKHR5cGVvZih0aGlzLl9jdXJyU3RlcC5vblJlYWR5KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fY3VyclN0ZXAub25SZWFkeSh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZih0aGlzLl9jdXJyU3RlcC5ydW5uaW5nTG9vcCkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3J1bm5pbmdMb29wU2V0SSA9IHNldEludGVydmFsKHRoaXMuX2NhbGxSdW5uaW5nTG9vcCwgMzEyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZVN0YXRlLnRleHRDb250ZW50ID0gKGlkeCsxKSsnLycrdGhpcy5fc3RlcHMubGVuZ3RoKycgJysodGhpcy5fY3VyclN0ZXAudGl0bGUgfHwgJycpO1xuXG4gICAgdGhpcy5fcmVmcmVzaENoZWNrbGlzdCgpO1xufTtcblxucC5jaGVja0luID0gZnVuY3Rpb24gKGlkeCwgc3RlcCkge1xuXG4gICAgdGhpcy5fY2hlY2soaWR4LCBzdGVwLCB0cnVlKVxufTtcblxucC5jaGVja091dCA9IGZ1bmN0aW9uIChpZHgsIHN0ZXApIHtcblxuICAgIHRoaXMuX2NoZWNrKGlkeCwgc3RlcCwgZmFsc2UpXG59O1xuXG5wLl9jaGVjayA9IGZ1bmN0aW9uIChpZHgsIHN0ZXAsIHZhbCkge1xuXG4gICAgc3RlcCA9IHN0ZXAgfHwgdGhpcy5fY3VyclN0ZXA7XG4gICAgaWYgKCFzdGVwKSByZXR1cm47XG5cbiAgICBzdGVwLmNoZWNrbGlzdFtpZHhdLnZhbHVlID0gISF2YWw7XG5cbiAgICB0aGlzLl9yZWZyZXNoQ2hlY2tsaXN0KCk7XG59O1xuXG5wLmlzQ2hlY2tlZCA9IGZ1bmN0aW9uIChpZHgsIHN0ZXApIHtcblxuICAgIHN0ZXAgPSBzdGVwIHx8IHRoaXMuX2N1cnJTdGVwO1xuICAgIGlmICghc3RlcCkgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHN0ZXAuY2hlY2tsaXN0W2lkeF0udmFsdWU7IFxufTtcblxucC5hZGRQb2ludGVyID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdmFyIGRlUG9pbnRlciA9IHRoaXMuX2NyZWF0ZVRyaWFuZ2xlKCk7XG4gICAgdGhpcy5fZGVQb2ludGVycy5wdXNoKGRlUG9pbnRlcik7XG5cbiAgICB2YXIgeCwgeSwgciwgYnJ0ID0gb3B0LmRlVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgc3dpdGNoIChvcHQuc2lkZSkge1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICB4ID0gYnJ0LnJpZ2h0O1xuICAgICAgICAgICAgeSA9IGJydC50b3AgKyBicnQuaGVpZ2h0LzI7XG4gICAgICAgICAgICByID0gMDtcblxuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgeCA9IGJydC5sZWZ0ICsgYnJ0LndpZHRoLzI7XG4gICAgICAgICAgICB5ID0gYnJ0LmJvdHRvbTtcbiAgICAgICAgICAgIHIgPSA5MDtcblxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHggPSBicnQubGVmdDtcbiAgICAgICAgICAgIHkgPSBicnQudG9wICsgYnJ0LmhlaWdodC8yO1xuICAgICAgICAgICAgciA9IDE4MDtcblxuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgeCA9IGJydC5sZWZ0ICsgYnJ0LndpZHRoLzI7XG4gICAgICAgICAgICB5ID0gYnJ0LnRvcDtcbiAgICAgICAgICAgIHIgPSAtOTA7XG4gICAgfVxuXG4gICAgZGVQb2ludGVyLnN0eWxlLmxlZnQgPSB4ICsgJ3B4J1xuICAgIGRlUG9pbnRlci5zdHlsZS50b3AgPSB5ICsgJ3B4J1xuICAgIGRlUG9pbnRlci5yb3RhdGUocik7XG5cbiAgICByZXR1cm4gZGVQb2ludGVyO1xufTtcblxucC5yZW1vdmVQb2ludGVyID0gZnVuY3Rpb24gKGRlUG9pbnRlcikge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX2RlUG9pbnRlcnMuaW5kZXhPZihkZVBvaW50ZXIpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcblxuICAgICAgICB0aGlzLl9kZVBvaW50ZXJzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICAgIGlmIChkZVBvaW50ZXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZGVQb2ludGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGVQb2ludGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnAucmVtb3ZlQWxsUG9pbnRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdoaWxlICh0aGlzLl9kZVBvaW50ZXJzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlUG9pbnRlcih0aGlzLl9kZVBvaW50ZXJzWzBdKTtcbiAgICB9XG59O1xuXG5wLl9jYWxsUnVubmluZ0xvb3AgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclN0ZXAgJiYgdGhpcy5fY3VyclN0ZXAucnVubmluZ0xvb3ApIHtcblxuICAgICAgICB0aGlzLl9jdXJyU3RlcC5ydW5uaW5nTG9vcCh0aGlzKTtcbiAgICB9XG59XG5cblxuXG5cblxucC5fcmVmcmVzaENoZWNrbGlzdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fY3VyclN0ZXApIHJldHVybjtcblxuICAgIHZhciBhbGxDaGVja2VkID0gIF8uZXZlcnkodGhpcy5fY3VyclN0ZXAuY2hlY2tsaXN0LCAndmFsdWUnKSxcbiAgICAgICAgaXNMYXN0ID0gXy5sYXN0KHRoaXMuX3N0ZXBzKSA9PT0gdGhpcy5fY3VyclN0ZXA7XG5cbiAgICB0aGlzLl9idG5Eb25lLnN0eWxlLnZpc2liaWxpdHkgPSBhbGxDaGVja2VkICYmICFpc0xhc3QgPyAnJyA6ICdoaWRkZW4nO1xufVxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcblxuICAgIHRoaXMuX2RlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlSGVhZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlSGVhZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUhlYWQuc3R5bGUuaGVpZ2h0ID0gJzIzcHgnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUhlYWQpO1xuXG4gICAgdGhpcy5fZGVTdGVwQ29udFNjcm9sbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlU3RlcENvbnRTY3JvbGwuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlU3RlcENvbnRTY3JvbGwuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVTdGVwQ29udFNjcm9sbCk7IFxuICAgIFxuICAgIHRoaXMuX3NyU3RlcENvbnRTY3JvbGwgPSB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLmNyZWF0ZVNoYWRvd1Jvb3QoKTtcblxuICAgIHRoaXMuX2RlU3RlcENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVN0ZXBDb250LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZVN0ZXBDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX3NyU3RlcENvbnRTY3JvbGwuYXBwZW5kQ2hpbGQodGhpcy5fZGVTdGVwQ29udCk7XG5cbiAgICB0aGlzLl9kZVN0ZXBDb250ZW50ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZVN0ZXBDb250LFxuICAgIH0pO1xuXG4gICAgdGhpcy5fYnRuRG9uZSA9IGFtZ3VpLmNyZWF0ZUJ0bih7XG4gICAgICAgICd0ZXh0JzogJ25leHQnLFxuICAgICAgICBjb2xvcjogYW1ndWkuY29sb3IuYmcwLFxuICAgICAgICBiYWNrZ3JvdW5kOiBhbWd1aS5jb2xvci5ncmVlbixcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZVN0ZXBDb250LFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLm5leHQoKSxcbiAgICB9KTtcblxuICAgIHRoaXMuX2J0bkRvbmUuc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xuICAgIHRoaXMuX2J0bkRvbmUuc3R5bGUubWFyZ2luUmlnaHQgPSAnMnB4JztcblxuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuaW5uZXJIVE1MID0gY3NzQW1ndWk7XG4gICAgdGhpcy5fc3JTdGVwQ29udFNjcm9sbC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cblxuICAgIHRoaXMuX3Njcm9sbFJhbmdlID0gYW1ndWkuY3JlYXRlUmFuZ2Uoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU3RlcENvbnRTY3JvbGwsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fc2Nyb2xsUmFuZ2Uuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX3Njcm9sbFJhbmdlLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIHRoaXMuX3Njcm9sbFJhbmdlLnN0eWxlLnJpZ2h0ID0gJzBweCc7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogdGhpcy5fZGVTdGVwQ29udFNjcm9sbCxcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlU3RlcENvbnQsXG4gICAgICAgIGRlUmFuZ2U6IHRoaXMuX3Njcm9sbFJhbmdlXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZVN0YXRlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZCxcbiAgICB9KTtcbiAgICB0aGlzLl9kZVN0YXRlLnN0eWxlLmZsZXggPSAxO1xuXG4gICAgdGhpcy5fZGVDaGVja2JveENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGhpcy5fZGVIZWFkLmFwcGVuZENoaWxkKHRoaXMuX2RlQ2hlY2tib3hDb250KTtcblxuICAgIHRoaXMuX2J0blByZXYgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWQsXG4gICAgICAgIGljb246ICdhbmdsZS1sZWZ0JyxcbiAgICAgICAgb25DbGljazogdGhpcy5wcmV2LmJpbmQodGhpcylcbiAgICB9KTtcblxuICAgIHRoaXMuX2J0bk5leHQgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWQsXG4gICAgICAgIGljb246ICdhbmdsZS1yaWdodCcsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dC5iaW5kKHRoaXMpXG4gICAgfSk7XG59XG5cbnAuX2NyZWF0ZVRyaWFuZ2xlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNpemUgPSAxMjtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIGFtLmRlRGlhbG9nQ29udC5hcHBlbmRDaGlsZChkZSk7XG5cbiAgICB2YXIgZGVUcmlhbmdsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlVHJpYW5nbGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRlVHJpYW5nbGUuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnbGVmdCBjZW50ZXInO1xuICAgIGRlVHJpYW5nbGUuc3R5bGUuYm9yZGVyV2lkdGggPSBzaXplKydweCAnKygyKnNpemUpKydweCAnK3NpemUrJ3B4IDAnO1xuICAgIGRlVHJpYW5nbGUuc3R5bGUuYm9yZGVyQ29sb3IgPSAndHJhbnNwYXJlbnQgI2ZmMDAwZCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCc7XG5cbiAgICBkZS5hcHBlbmRDaGlsZChkZVRyaWFuZ2xlKTtcblxuXG4gICAgZGUucm90YXRlID0gZnVuY3Rpb24gKHIpIHtcblxuICAgICAgICBkZVRyaWFuZ2xlLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHIgKyAnZGVnKSc7XG4gICAgfTtcblxuICAgIHJldHVybiBkZTtcbn1cblxuXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBCZXppZXJFYXNpbmcgPSByZXF1aXJlKCdiZXppZXItZWFzaW5nJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG52YXIgZGlhbG9nRWFzZU9wdGlvbnMgPSByZXF1aXJlKCcuL2RpYWxvZ0Vhc2VPcHRpb25zJyk7XG52YXIgZGVidWdJZCA9IDBcbmZ1bmN0aW9uIEVhc2Uob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLl9hYWFEZWJ1Z0lkID0gKytkZWJ1Z0lkO1xuICAgIHRoaXMuX3R5cGUgPSAgJ2Jlemllcic7XG4gICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgdGhpcy5wb2ludHMgPSBbMCwgMCwgMSwgMV07XG4gICAgdGhpcy5fZWFzZXI7XG5cbiAgICB0aGlzLm9uKCdjaGFuZ2Uucm91Z2gnLCB0aGlzLl9yZWZyZXNoRWFzZXIsIHRoaXMpO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKEVhc2UsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEVhc2UucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBFYXNlO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB0eXBlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgLy9jdXJyZW50bHkgdGhlIG9ubHkgc3VwcHJvdGVkIHR5cGUgaXMgYmV6aWVyXG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBvaW50czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5fcG9pbnRzO1xuXG4gICAgICAgICAgICBpZiAocC5sZW5ndGggPT09IHYubGVuZ3RoICYmIFxuICAgICAgICAgICAgICAgIHAuZXZlcnkoZnVuY3Rpb24gKHAsIGlkeCkge3JldHVybiBwID09PSB2W2lkeF07fSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBwLnB1c2guYXBwbHkodGhpcy5fcG9pbnRzLCB2KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaEVhc2VyKClcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludHM7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hFYXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5lYXNlJ30pO1xuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hTdHJlbmd0aCcsIHR5cGU6ICdmbG9hdCcsIHN0YXJ0VmFsdWU6IDEsIGV2dE5hbWU6ICdjaGFuZ2Uucm91Z2guc3RyZW5ndGgnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaFBvaW50cycsIHR5cGU6ICdpbnQnLCBzdGFydFZhbHVlOiAyMCwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5wb2ludHMnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaENsYW1wJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5jbGFtcCd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoUmFuZG9taXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiB0cnVlLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnJhbmRvbWlzZSd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoVGFwZXInLCB0eXBlOiAnc3RyaW5nJywgc3RhcnRWYWx1ZTogJ25vbmUnLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnRhcGVyJ30pO1xuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgcG9pbnRzOiB0aGlzLnBvaW50cyxcbiAgICB9O1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICghc2F2ZSkgcmV0dXJuO1xuXG4gICAgaWYgKCd0eXBlJyBpbiBzYXZlKSB0aGlzLnR5cGUgPSBzYXZlLnR5cGU7XG4gICAgaWYgKCdwb2ludHMnIGluIHNhdmUpIHRoaXMucG9pbnRzID0gc2F2ZS5wb2ludHM7XG59O1xuXG5wLmdldFJhdGlvID0gZnVuY3Rpb24gKHApIHtcblxuICAgIHJldHVybiB0aGlzLl9lYXNlci5nZXRSYXRpbyhwKTtcbn07XG5cbnAuZ2V0RWFzZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fZWFzZXI7XG59O1xuXG5wLmdldFNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiYXNlID0gJ25ldyBFYXNlKEJlemllckVhc2luZygnK3RoaXMucG9pbnRzLmpvaW4oKSsnKSknO1xuXG4gICAgaWYgKHRoaXMucm91Z2hFYXNlKSB7XG5cbiAgICAgICAgdmFyIHJvdWdoT3B0ID0ge1xuICAgICAgICAgICAgZWFzZTogJ3t7ZWFzZX19JyxcbiAgICAgICAgICAgIHN0cmVuZ3RoOiB0aGlzLnJvdWdoU3RyZW5ndGgsXG4gICAgICAgICAgICBwb2ludHM6IHRoaXMucm91Z2hQb2ludHMsXG4gICAgICAgICAgICBjbGFtcDogdGhpcy5yb3VnaENsYW1wLFxuICAgICAgICAgICAgcmFuZG9taXNlOiB0aGlzLnJvdWdoUmFuZG9taXNlLFxuICAgICAgICAgICAgdGFwZXI6IHRoaXMucm91Z2hUYXBlcixcbiAgICAgICAgfTtcbiAgICAgICAgcm91Z2hPcHQgPSBKU09OLnN0cmluZ2lmeShyb3VnaE9wdCk7XG4gICAgICAgIC8vdGhpcyBpcyBmb3IgYXZvaWQgdGhlIHF1b3RlcyBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIGNhbGxcbiAgICAgICAgcm91Z2hPcHQgPSByb3VnaE9wdC5yZXBsYWNlKCdcInt7ZWFzZX19XCInLCBiYXNlKTtcblxuICAgICAgICByZXR1cm4gJ25ldyBSb3VnaEVhc2UoJytyb3VnaE9wdCsnKSc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG59O1xuXG5wLmNsb25lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIG5ldyBFYXNlKHRoaXMpO1xufTtcblxucC5tYXRjaCA9IGZ1bmN0aW9uIChlYXNlKSB7XG5cbiAgICByZXR1cm4gZWFzZS50eXBlID09PSB0aGlzLnR5cGUgJiZcbiAgICAgICAgZWFzZS5wb2ludHNbMF0gPT09IHRoaXMucG9pbnRzWzBdICYmXG4gICAgICAgIGVhc2UucG9pbnRzWzFdID09PSB0aGlzLnBvaW50c1sxXSAmJlxuICAgICAgICBlYXNlLnBvaW50c1syXSA9PT0gdGhpcy5wb2ludHNbMl0gJiZcbiAgICAgICAgZWFzZS5wb2ludHNbM10gPT09IHRoaXMucG9pbnRzWzNdICYmXG4gICAgICAgIGVhc2Uucm91Z2hFYXNlID09PSB0aGlzLnJvdWdoRWFzZSAmJlxuICAgICAgICBlYXNlLnJvdWdoU3RyZW5ndGggPT09IHRoaXMucm91Z2hTdHJlbmd0aCAmJlxuICAgICAgICBlYXNlLnJvdWdoUG9pbnRzID09PSB0aGlzLnJvdWdoUG9pbnRzICYmXG4gICAgICAgIGVhc2Uucm91Z2hDbGFtcCA9PT0gdGhpcy5yb3VnaENsYW1wICYmXG4gICAgICAgIGVhc2Uucm91Z2hSYW5kb21pc2UgPT09IHRoaXMucm91Z2hSYW5kb21pc2UgJiZcbiAgICAgICAgZWFzZS5yb3VnaFRhcGVyID09PSB0aGlzLnJvdWdoVGFwZXI7XG59O1xuXG5cbnAuc2hvd09wdGlvbnNEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBkaWFsb2dFYXNlT3B0aW9ucy5zaG93KHtcbiAgICAgICAgZWFzZTogdGhpcyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAgICdjaGFuZ2Uucm91Z2hFYXNlJzogdiA9PiB0aGlzLnJvdWdoRWFzZSA9IHYsXG4gICAgICAgICAgICAnY2hhbmdlLnJvdWdoU3RyZW5ndGgnOiB2ID0+IHRoaXMucm91Z2hTdHJlbmd0aCA9IHYsXG4gICAgICAgICAgICAnY2hhbmdlLnJvdWdoUG9pbnRzJzogdiA9PiB0aGlzLnJvdWdoUG9pbnRzID0gdixcbiAgICAgICAgICAgICdjaGFuZ2Uucm91Z2hDbGFtcCc6IHYgPT4gdGhpcy5yb3VnaENsYW1wID0gdixcbiAgICAgICAgICAgICdjaGFuZ2Uucm91Z2hSYW5kb21pc2UnOiB2ID0+IHRoaXMucm91Z2hSYW5kb21pc2UgPSB2LFxuICAgICAgICAgICAgJ2NoYW5nZS5yb3VnaFRhcGVyJzogdiA9PiB0aGlzLnJvdWdoVGFwZXIgPSB2LFxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5cblxuXG5cbnAuX3JlZnJlc2hFYXNlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2Vhc2VyID0gbmV3IEdyZWVuU29ja0dsb2JhbHMuRWFzZShCZXppZXJFYXNpbmcoLi4udGhpcy5fcG9pbnRzKSk7XG5cbiAgICBpZiAodGhpcy5yb3VnaEVhc2UpIHtcblxuICAgICAgICB0aGlzLl9lYXNlciA9IG5ldyBSb3VnaEVhc2Uoe1xuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuX2Vhc2VyLFxuICAgICAgICAgICAgc3RyZW5ndGg6IHRoaXMucm91Z2hTdHJlbmd0aCxcbiAgICAgICAgICAgIHBvaW50czogdGhpcy5yb3VnaFBvaW50cyxcbiAgICAgICAgICAgIGNsYW1wOiB0aGlzLnJvdWdoQ2xhbXAsXG4gICAgICAgICAgICByYW5kb21pc2U6IHRoaXMucm91Z2hSYW5kb21pc2UsXG4gICAgICAgICAgICB0YXBlcjogdGhpcy5yb3VnaFRhcGVyLFxuICAgICAgICB9KTtcbiAgICB9XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBFYXNlID0gcmVxdWlyZSgnLi9FYXNlJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIEtleShvcHQsIHRpbWVsaW5lKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuX2NyZWF0ZUVhc2UoKTtcblxuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcblxuXG4gICAgdGhpcy5sb29rcyA9IG9wdC5sb29rcztcblxuICAgIHRoaXMuX2RlRHJvcGRvd24gPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIG9wdGlvbnM6IFsnZWFzZScsICdkZWxldGUnLCAncmFuZG9taXNlJ10sXG4gICAgICAgIG9uU2VsZWN0OiBlID0+IHRoaXMuX29uU2VsZWN0RHJvcGRvd24oZSksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kcmFnZ2VyID0gYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG4gICAgICAgIG9uRG93bjogZSA9PiB7XG5cbiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lbGluZS5lbWl0KCdkZXNlbGVjdEFsbEtleXMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9UT0RPIHNoaWZ0K3NlbGVjdCAoaWYgYW4gb3RoZXIga2V5KHMpIHNlbGVjdGVkIGluIHRoaXMgbGluZSBpdHMgc2hvdWxkIHNlbGVjdCB0aG9lcyBhcmUgYmV0d2VlbiB0aGVtKVxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRyYWdnZWQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdmU6IG1kID0+IHtcblxuICAgICAgICAgICAgdmFyIGRpZmZUaW1lID0gKG1kLmR4IC8gdGhpcy50aW1lbGluZS50aW1lc2NhbGUpIC0gbWQuZHJhZ2dlZDtcblxuICAgICAgICAgICAgbWQuZHJhZ2dlZCArPSBkaWZmVGltZTtcblxuICAgICAgICAgICAgdGhpcy50aW1lbGluZS5lbWl0KCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCBkaWZmVGltZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgYW0uaGlzdG9yeS5kb250U2F2ZSgoKSA9PiB0aGlzLnVzZVNhdmUob3B0KSk7XG4gICAgfVxuXG4gICAgdGhpcy50aW1lbGluZS5vbignZGVzZWxlY3RBbGxLZXlzJywgdGhpcy5fb25EZXNlbGVjdEFsbEtleXMsIHRoaXMpO1xuICAgIHRoaXMudGltZWxpbmUub24oJ3RyYW5zbGF0ZVNlbGVjdGVkS2V5cycsIHRoaXMuX29uVHJhbnNsYXRlU2VsZWN0ZWRLZXlzLCB0aGlzKTtcbiAgICAvLyB0aGlzLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lbGluZVRpbWUsIHRoaXMpO1xufVxuXG5pbmhlcml0cyhLZXksIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEtleS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleTtcblxuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwgW1xuICAgIHtuYW1lOiAndGltZScsIHR5cGU6ICdpbnQnLCBoaXN0b3J5OiB0cnVlfSxcbiAgICB7bmFtZTogJ3ZhbHVlJywgaGlzdG9yeTogdHJ1ZX0sXG4gICAge25hbWU6ICdwYXJlbnRLZXlMaW5lJywgZXZlbnQ6ICdhZGRlZCd9LFxuXSk7XG5cblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogXy5jbG9uZURlZXAodGhpcy52YWx1ZSksXG4gICAgICAgIHRpbWU6IHRoaXMudGltZSxcbiAgICAgICAgZWFzZTogdGhpcy5lYXNlLmdldFNhdmUoKSxcbiAgICB9O1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICgndmFsdWUnIGluIHNhdmUpIHRoaXMudmFsdWUgPSBzYXZlLnZhbHVlO1xuICAgIGlmICgndGltZScgaW4gc2F2ZSkgdGhpcy50aW1lID0gc2F2ZS50aW1lO1xuICAgIGlmICgnZWFzZScgaW4gc2F2ZSkgdGhpcy5lYXNlLnVzZVNhdmUoc2F2ZS5lYXNlKTtcbn07XG5cbnAuc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHJldHVybjtcblxuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5lbWl0KCdzZWxlY3QnKTtcbn07XG5cbnAuZGVzZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2lzU2VsZWN0ZWQpIHJldHVybjtcblxuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuZW1pdCgnZGVzZWxlY3QnKTtcbn07XG5cbnAuZ3JhYiA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB0aGlzLl9kcmFnZ2VyLmVtaXREb3duKGUpO1xufTtcblxucC5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ25lZWQucmVtb3ZlJywgdGhpcyk7XG59O1xuXG5wLmdldFByZXZLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5wYXJlbnRLZXlMaW5lLmdldFByZXZLZXkodGhpcy50aW1lKTtcbn07XG5cbnAuZ2V0TmV4dEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLnBhcmVudEtleUxpbmUuZ2V0TmV4dEtleSh0aGlzLnRpbWUpO1xufTtcblxucC5yZW5kZXJUb0xpbmUgPSBmdW5jdGlvbiAoY3R4KSB7XG5cbiAgICB2YXIgbG9va3MgPSB0aGlzLmxvb2tzIHx8IHRoaXMucGFyZW50S2V5TGluZS5rZXlMb29rcyxcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0LFxuICAgICAgICBrZXlQb3MgPSB+fnRoaXMudGltZWxpbmUudGltZVRvUmVuZGVyUG9zKHRoaXMudGltZSkgKyAwLjUsXG4gICAgICAgIGxpbmUgPSBsb29rcy5saW5lLFxuICAgICAgICBjaXJjbGUgPSBsb29rcy5jaXJjbGUsXG4gICAgICAgIHIgPSAyLFxuICAgICAgICBpc1NlbGVjdGVkID0gdGhpcy5faXNTZWxlY3RlZDtcblxuICAgIHRoaXMucmVuZGVyRWFzZVRvTGluZShjdHgpO1xuXG4gICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInLCBjdHgsIHRoaXMpO1xuXG4gICAgaWYgKGxpbmUpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBpc1NlbGVjdGVkID8gYW1ndWkuY29sb3Iuc2VsZWN0ZWQgOiAobGluZS5jb2xvciB8fCAnI2VlZScpO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gbGluZS53aWR0aCB8fCAxO1xuICAgICAgICBjdHgubW92ZVRvKGtleVBvcywgMCk7XG4gICAgICAgIGN0eC5saW5lVG8oa2V5UG9zLCBoZWlnaHQpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgaWYgKGNpcmNsZSkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGlzU2VsZWN0ZWQgPyBhbWd1aS5jb2xvci5zZWxlY3RlZCA6IChjaXJjbGUuY29sb3IgfHwgJyNlZWUnKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGlzU2VsZWN0ZWQgPyBhbWd1aS5jb2xvci5zZWxlY3RlZCA6IChjaXJjbGUuZmlsbENvbG9yIHx8ICcjZWVlJyk7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBjaXJjbGUud2lkdGggfHwgMTtcbiAgICAgICAgY3R4LmFyYyhrZXlQb3MsIGhlaWdodC8yLFxuICAgICAgICAgICAgJ3InIGluIGNpcmNsZSA/IGNpcmNsZS5yIDogcixcbiAgICAgICAgICAgICdhcmNTdGFydCcgaW4gY2lyY2xlID8gY2lyY2xlLmFyY1N0YXJ0IDogMCxcbiAgICAgICAgICAgICdhcmNFbmQnIGluIGNpcmNsZSA/IGNpcmNsZS5hcmNFbmQgOiAyICogTWF0aC5QSSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50aW1lbGluZS5jdXJyVGltZSA9PT0gdGhpcy50aW1lKSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYW1ndWkuY29sb3IucmVkO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LmFyYyhrZXlQb3MsIGhlaWdodC8yLCA2LCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInLCBjdHgsIHRoaXMpO1xufTtcblxucC5yZW5kZXJFYXNlVG9MaW5lID0gZnVuY3Rpb24gKGN0eCkge1xuXG4gICAgaWYgKCF0aGlzLmVhc2UpIHJldHVybjtcblxuICAgIHZhciBsb29rcyA9IHRoaXMubG9va3MgfHwgdGhpcy5wYXJlbnRLZXlMaW5lLmtleUxvb2tzO1xuXG4gICAgdmFyIGVhc2UgPSB0aGlzLmVhc2UsXG4gICAgICAgIGNvbG9yID0gKGxvb2tzLmVhc2UgJiYgbG9va3MuZWFzZS5jb2xvcikgfHwgJ3JnYmEoMjI1LDIyNSwyMjUsLjIzKScsXG4gICAgICAgIGhlaWdodCA9IHRoaXMuX2hlaWdodCxcbiAgICAgICAga2V5UG9zID0gdGhpcy50aW1lbGluZS50aW1lVG9SZW5kZXJQb3ModGhpcy50aW1lKSxcbiAgICAgICAgcHJldktleSA9IHRoaXMuZ2V0UHJldktleSgpLFxuICAgICAgICBwcmV2S2V5UG9zID0gdGhpcy50aW1lbGluZS50aW1lVG9SZW5kZXJQb3MocHJldktleSA/IHByZXZLZXkudGltZSA6IDApLFxuICAgICAgICB3aWR0aCA9IGtleVBvcyAtIHByZXZLZXlQb3M7XG5cbiAgICBpZiAod2lkdGggPT09IDApIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSAxLjI7XG4gICAgY3R4Lm1vdmVUbyhwcmV2S2V5UG9zLCBoZWlnaHQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgKytpKSB7XG5cbiAgICAgICAgY3R4LmxpbmVUbyhwcmV2S2V5UG9zICsgaSwgaGVpZ2h0IC0gaGVpZ2h0ICogZWFzZS5nZXRSYXRpbyhpL3dpZHRoKSk7XG4gICAgfVxuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59O1xuXG5wLmdldERyb3Bkb3duID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2RlRHJvcGRvd247XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uU2VsZWN0RHJvcGRvd24gPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IGUuZGV0YWlsLnNlbGVjdGlvbjtcblxuICAgIGlmIChzZWxlY3Rpb24gPT09ICdlYXNlJykge1xuXG4gICAgICAgIHRoaXMuZWFzZS5zaG93T3B0aW9uc0RpYWxvZygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxlY3Rpb24gPT09ICdkZWxldGUnKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2VsZWN0aW9uID09PSAncmFuZG9taXNlJykge1xuXG4gICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICB9XG59O1xuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5lYXNlJyk7XG59O1xuXG5wLl9vbkRlc2VsZWN0QWxsS2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZGVzZWxlY3QoKTtcbn07XG5cbnAuX29uVHJhbnNsYXRlU2VsZWN0ZWRLZXlzID0gZnVuY3Rpb24gKG9mZnNldCkge1xuXG4gICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcblxuICAgICAgICB0aGlzLnRpbWUgKz0gb2Zmc2V0O1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlVGltZWxpbmVUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGlzSW5UaW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZSA9PT0gdGhpcy50aW1lO1xuXG4gICAgaWYgKGlzSW5UaW1lICE9PSB0aGlzLl9pc0luVGltZSkge1xuXG4gICAgICAgIHRoaXMuZW1pdCgnbmVlZC5yZW5kZXInKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVhc2UgPSBuZXcgRWFzZSgpO1xuICAgIHRoaXMuZWFzZS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VFYXNlLCB0aGlzKTtcbn07XG5cblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlRHJvcGRvd24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25TZWxlY3REcm9wZG93bik7XG4gICAgdGhpcy50aW1lbGluZS5vZmYoJ2Rlc2VsZWN0QWxsS2V5cycsIHRoaXMuX29uRGVzZWxlY3RBbGxLZXlzLCB0aGlzKTtcbiAgICB0aGlzLnRpbWVsaW5lLm9mZigndHJhbnNsYXRlU2VsZWN0ZWRLZXlzJywgdGhpcy5fb25UcmFuc2xhdGVTZWxlY3RlZEtleSwgdGhpcyk7XG4gICAgdGhpcy50aW1lbGluZS5vZmYoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWVsaW5lVGltZSwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5fZGVEcm9wZG93bi5wYXJlbnROb2RlKSB0aGlzLl9kZURyb3Bkb3duLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZGVEcm9wZG93bik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgS2V5ID0gcmVxdWlyZSgnLi9LZXknKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIEtleUdyb3VwKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5fc3Via2V5cyA9IFtdO1xuXG4gICAgS2V5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnRpbWVsaW5lLnJlbW92ZUxpc3RlbmVyKCdkZXNlbGVjdEFsbEtleXMnLCB0aGlzLl9vbkRlc2VsZWN0QWxsS2V5cyk7XG4gICAgdGhpcy50aW1lbGluZS5yZW1vdmVMaXN0ZW5lcigndHJhbnNsYXRlU2VsZWN0ZWRLZXlzJywgdGhpcy5fb25UcmFuc2xhdGVTZWxlY3RlZEtleXMpO1xufVxuXG5pbmhlcml0cyhLZXlHcm91cCwgS2V5KTtcbnZhciBwID0gS2V5R3JvdXAucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBLZXlHcm91cDtcblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgZWFzZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlYXNlKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3N1YmtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgICAgICAgICBrZXkuZWFzZS51c2VTYXZlKGVhc2UuZ2V0U2F2ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCBbXG4gICAge25hbWU6ICd0aW1lJywgdHlwZTogJ2ludCcsIGhpc3Rvcnk6IGZhbHNlfSxcbiAgICB7bmFtZTogJ3ZhbHVlJywgaGlzdG9yeTogZmFsc2V9LFxuXSk7XG5cblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4ge307XG59O1xuXG5wLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3N1YmtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAga2V5LnNlbGVjdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkKCk7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkuZGVzZWxlY3QoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZCgpO1xufTtcblxucC5zZXRTdWJrZXlzID0gZnVuY3Rpb24gKG5ld1N1YmtleXMpIHtcblxuICAgIHRoaXMuX3N1YmtleXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9zdWJrZXlzLnB1c2guYXBwbHkodGhpcy5fc3Via2V5cywgbmV3U3Via2V5cyk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWQoKTtcbn07XG5cbnAucmVtb3ZlU3Via2V5ID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX3N1YmtleXMuaW5kZXhPZihrZXkpO1xuXG4gICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjtcblxuICAgIHRoaXMuX3N1YmtleXMuc3BsaWNlKGlkeCwgMSk7XG59O1xuXG5wLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3N1YmtleXMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkucmVtb3ZlKCk7XG4gICAgfSk7XG59O1xuXG5wLnJlbmRlckVhc2VUb0xpbmUgPSBmdW5jdGlvbiAoY3R4KSB7XG5cbiAgICB0aGlzLl9zdWJrZXlzLmZvckVhY2goa2V5ID0+IGtleS5yZW5kZXJFYXNlVG9MaW5lKGN0eCkpO1xufTtcblxuXG5cblxuXG5cblxuXG5cbnAuX29uU2VsZWN0RHJvcGRvd24gPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IGUuZGV0YWlsLnNlbGVjdGlvbjtcblxuICAgIGlmIChzZWxlY3Rpb24gPT09ICdlYXNlJykge1xuXG4gICAgICAgIHRoaXMuZWFzZS5zaG93T3B0aW9uc0RpYWxvZygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxlY3Rpb24gPT09ICdkZWxldGUnKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG59O1xuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoZWFzZSkge1xuXG4gICAgdGhpcy5lYXNlID0gZWFzZTtcbn07XG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuX3N1YmtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHJldHVybiBrZXkuX2lzU2VsZWN0ZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQgIT09IHRoaXMuX2lzU2VsZWN0ZWQpIHtcblxuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gc2VsZWN0ZWQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KHRoaXMuX2lzU2VsZWN0ZWQgPyAnc2VsZWN0JyA6ICdkZXNlbGVjdCcpO1xuICAgIH1cbn07XG5cblxuXG5cblxucC5fY3JlYXRlRWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL292ZXJyaWRlLCBLZXlHcm91cCBpc24ndCBuZWVkIGl0cyBvd24gRWFzZVxufTtcblxuXG5cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGVmaW5lQ29tcGFjdFByb3BlcnR5Jyk7XG5cbmZ1bmN0aW9uIEtleUxpbmUgKG9wdCwgdGltZWxpbmUpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lbGluZSA9IHRpbWVsaW5lO1xuXG4gICAgdGhpcy5fa2V5cyA9IFtdO1xuICAgIHRoaXMuX2hlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUO1xuICAgIHRoaXMuX2hpZGRlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5rZXlMb29rcyA9IHtcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgY29sb3I6ICcjZWVlJ1xuICAgICAgICB9LFxuICAgICAgICBjaXJjbGU6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuX29uRGJsQ2xpY2sgPSB0aGlzLl9vbkRibENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZURvd24gPSB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fcmVuZGVyID0gYW1ndWkuZGVsYXlXaXRoUkFGKHRoaXMuX3JlbmRlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG5cbiAgICB2YXIgZHJvcGRvd25CaW5kaW5nID0gYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2NhbnZhcyxcbiAgICAgICAgYXNDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgICAgb25PcGVuaW5nOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXlVbmRlclBvcyhlLngpLFxuICAgICAgICAgICAgICAgIGRyb3Bkb3duID0ga2V5ICYmIGtleS5nZXREcm9wZG93bigpO1xuXG4gICAgICAgICAgICBpZiAoZHJvcGRvd24pIHtcblxuICAgICAgICAgICAgICAgIGRyb3Bkb3duQmluZGluZy5zZXREcm9wZG93bihkcm9wZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmNhbGxPbkFkZGVkKHRoaXMuZG9tRWxlbSwgKCkgPT4gdGhpcy5fcmVuZGVyKCkpO1xuXG4gICAgdGhpcy50aW1lbGluZS5vbihbJ2NoYW5nZVRpbWVzY2FsZScsICdjaGFuZ2VUYXBlJ10sIHRoaXMuX3JlbmRlciwgdGhpcyk7XG59XG5cbmluaGVyaXRzKEtleUxpbmUsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEtleUxpbmUucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBLZXlMaW5lO1xuXG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAga2V5Q291bnQ6IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoaWRkZW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5faGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2hpZGRlbiA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gdiA/ICdub25lJyA6ICcnO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hpZGRlbjtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5cbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCBbXG4gICAge25hbWU6ICdiZ0hpZ2hsaWdodCcsIHR5cGU6ICdib29sZWFuJywgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2ID8gYW1ndWkuY29sb3IuYmcxIDogYW1ndWkuY29sb3IuYmcwO1xuICAgIH19XG5dKTtcblxuXG5cbnAuYWRkS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAga2V5LnBhcmVudEtleUxpbmUgPSB0aGlzO1xuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5yZW1vdmVLZXkoa2V5KSxcbiAgICAgICAgcmVkbzogKCkgPT4gdGhpcy5hZGRLZXkoa2V5KSxcbiAgICAgICAgbmFtZTogJ2FkZCBrZXknLFxuICAgIH0pO1xuXG4gICAga2V5Lm9uKFsnY2hhbmdlLnZhbHVlJywgJ2NoYW5nZS50aW1lJ10sIHRoaXMuX29uQ2hhbmdlS2V5VmFsdWUsIHRoaXMpO1xuICAgIGtleS5vbihbJ25lZWQucmVuZGVyJywgJ3NlbGVjdCcsICdkZXNlbGVjdCcsICdjaGFuZ2UudGltZSddLCB0aGlzLl9vbktleU5lZWRSZW5kZXIsIHRoaXMpO1xuICAgIGtleS5vbignbmVlZC5yZW1vdmUnLCB0aGlzLl9vbktleU5lZWRSZW1vdmUsIHRoaXMpO1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5yZW1vdmVLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGtleSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5cy5zcGxpY2UoaWR4LCAxKTtcbiAgICBrZXkucGFyZW50S2V5TGluZSA9IHVuZGVmaW5lZDtcblxuICAgIGFtLmhpc3Rvcnkuc2F2ZSh7XG4gICAgICAgIHVuZG86ICgpID0+IHRoaXMuYWRkS2V5KGtleSksXG4gICAgICAgIHJlZG86ICgpID0+IHRoaXMucmVtb3ZlS2V5KGtleSksXG4gICAgICAgIG5hbWU6ICdyZW1vdmUga2V5JyxcbiAgICB9KTtcblxuICAgIGtleS5vZmYoWydjaGFuZ2UudmFsdWUnLCAnY2hhbmdlLnRpbWUnXSwgdGhpcy5fb25DaGFuZ2VLZXlWYWx1ZSwgdGhpcyk7XG4gICAga2V5Lm9mZihbJ25lZWQucmVuZGVyJywgJ3NlbGVjdCcsICdkZXNlbGVjdCcsICdjaGFuZ2UudGltZSddLCB0aGlzLl9vbktleU5lZWRSZW5kZXIsIHRoaXMpO1xuICAgIGtleS5vZmYoJ25lZWQucmVtb3ZlJywgdGhpcy5fb25LZXlOZWVkUmVtb3ZlLCB0aGlzKTtcblxuICAgIGtleS5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5rZXlzJyk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbnAuZm9yRWFjaEtleXMgPSBmdW5jdGlvbiAoZm4sIHRoaXNBcmcpIHtcblxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmbiwgdGhpc0FyZyk7XG59O1xuXG5wLmdldEtleUJ5VGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fa2V5cy5maW5kKGtleSA9PiBrZXkudGltZSA9PT0gdGltZSk7XG59O1xuXG5wLmdldFByZXZLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdmFyIHJldEtleTtcblxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPCB0aW1lICYmICghcmV0S2V5IHx8IHJldEtleS50aW1lIDwga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIHJldEtleSA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldEtleTtcbn07XG5cbnAuZ2V0TmV4dEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgcmV0S2V5O1xuXG4gICAgdGhpcy5fa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICAgIGlmIChrZXkudGltZSA+IHRpbWUgJiYgKCFyZXRLZXkgfHwgcmV0S2V5LnRpbWUgPiBrZXkudGltZSkpIHtcblxuICAgICAgICAgICAgcmV0S2V5ID0ga2V5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0S2V5O1xufTtcblxucC5nZXRDbG9zZXN0S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHZhciByZXRLZXksIHJldERpc3Q7XG5cbiAgICB0aGlzLl9rZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cbiAgICAgICAgdmFyIGRpc3QgPSBNYXRoLmFicyh0aW1lIC0ga2V5LnRpbWUpO1xuXG4gICAgICAgIGlmICghcmV0S2V5IHx8IHJldERpc3QgPiBkaXN0KSB7XG5cbiAgICAgICAgICAgIHJldERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgcmV0S2V5ID0ga2V5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0S2V5O1xufTtcblxucC5nZXRLZXlVbmRlclBvcyA9IGZ1bmN0aW9uICh4KSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuc2NyZWVuWFRvVGltZSh4KSxcbiAgICAgICAga2V5ID0gdGhpcy5nZXRDbG9zZXN0S2V5KHRpbWUpO1xuXG4gICAgaWYgKGtleSAmJiAoTWF0aC5hYnModGltZSAtIGtleS50aW1lKSAqIHRoaXMudGltZWxpbmUudGltZXNjYWxlKSA8IDQpIHtcblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbn07XG5cbnAuZ2V0S2V5VGltZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gXy5wbHVjayh0aGlzLl9rZXlzLCAndGltZScpO1xufTtcblxuXG5cblxuXG5cblxuXG5cbnAuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9za2lwUmVuZGVyIHx8IHRoaXMuaGlkZGVuKSByZXR1cm47XG5cbiAgICB2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzLFxuICAgICAgICBjdHggPSB0aGlzLl9jdHg7XG5cbiAgICBjYW52YXMud2lkdGggPSB0aGlzLnRpbWVsaW5lLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG5cbiAgICBfLnNvcnRCeSh0aGlzLl9rZXlzLCAndGltZScpLmZvckVhY2goa2V5ID0+IGtleS5yZW5kZXJUb0xpbmUoY3R4KSk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlS2V5VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5rZXlzJyk7XG59O1xuXG5wLl9vbktleU5lZWRSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcbn07XG5cbnAuX29uS2V5TmVlZFJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIHRoaXMucmVtb3ZlS2V5KGtleSk7XG59O1xuXG5wLl9vbkRibENsaWNrID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciB0aW1lID0gdGhpcy50aW1lbGluZS5zY3JlZW5YVG9UaW1lKGUuc2NyZWVuWCksXG4gICAgICAgIGtleSA9IHRoaXMuZ2V0TmV4dEtleSh0aW1lKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgICAgdGhpcy50aW1lbGluZS5pbmxpbmVFYXNlRWRpdG9yLnNob3coe2tleX0pO1xuICAgIH1cbn07XG5cbnAuX29uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleVVuZGVyUG9zKGUuc2NyZWVuWCk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGtleS5ncmFiKGUpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gY3JlYXRlS2V5bGluZSgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuZG9tRWxlbS5zZXRBdHRyaWJ1dGUoJ2RlYnVnLWtleWxpbmUnLCAxKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuXG4gICAgLy9UT0RPIHJlbW92ZSBfZGVMaW5lIGlmIGl0J3MgZG9lc24ndCBuZWVkZWQ7XG4gICAgdGhpcy5fZGVMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVMaW5lLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUxpbmUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVMaW5lLnN0eWxlLmhlaWdodCA9IHRoaXMuX2hlaWdodCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlTGluZSk7XG5cbiAgICB0aGlzLl9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlTGluZS5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpO1xuICAgIHRoaXMuX2N0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlTGluZX0pO1xuXG4gICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5fb25EYmxDbGljayk7XG4gICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duKTtcbn07XG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgS2V5TGluZSA9IHJlcXVpcmUoJy4vS2V5TGluZScpO1xudmFyIEtleUdyb3VwID0gcmVxdWlyZSgnLi9LZXlHcm91cCcpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gS2V5TGluZUdyb3VwICgpIHtcblxuICAgIEtleUxpbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX2tleUxpbmVzID0gW107XG5cbiAgICB0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmUgPSBhbWd1aS5kZWxheVdpdGhSQUYodGhpcy5fcmVmcmVzaEhlYWRLZXlsaW5lLCB0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZVN1YmNvbnQoKTtcbn1cblxuaW5oZXJpdHMoS2V5TGluZUdyb3VwLCBLZXlMaW5lKTtcbnZhciBwID0gS2V5TGluZUdyb3VwLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gS2V5TGluZUdyb3VwO1xuXG5cblxuXG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGtleUNvdW50OiB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5wLmFkZEtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIGlmKCEoa2V5IGluc3RhbmNlb2YgS2V5R3JvdXApKSB0aHJvdyBFcnJvcjtcblxuICAgIGFtLmhpc3RvcnkuZG9udFNhdmUoKCkgPT4gS2V5TGluZS5wcm90b3R5cGUuYWRkS2V5LmNhbGwodGhpcywga2V5KSk7XG59O1xuXG5cbnAucmVtb3ZlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgYW0uaGlzdG9yeS5kb250U2F2ZSgoKSA9PiBLZXlMaW5lLnByb3RvdHlwZS5yZW1vdmVLZXkuY2FsbCh0aGlzLCBrZXkpKTtcbn07XG5cblxucC5hZGRLZXlMaW5lID0gZnVuY3Rpb24gKGtleUxpbmUpIHtcblxuICAgIGlmICh0aGlzLl9rZXlMaW5lcy5pbmRleE9mKGtleUxpbmUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAga2V5TGluZS5vbignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZUtleUxpbmVLZXlzLCB0aGlzKTtcblxuICAgIHRoaXMuX2tleUxpbmVzLnB1c2goa2V5TGluZSk7XG5cbiAgICB0aGlzLl9kZVN1YmNvbnQuYXBwZW5kQ2hpbGQoa2V5TGluZS5kb21FbGVtKTtcblxuICAgIHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZSgpO1xufTtcblxucC5yZW1vdmVLZXlsaW5lID0gZnVuY3Rpb24gKGtleUxpbmUpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9rZXlMaW5lcy5pbmRleE9mKGtleUxpbmUpO1xuICAgIGlmIChpZHggPT09IC0xKSByZXR1cm47XG5cbiAgICBrZXlMaW5lLm9mZignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZUtleUxpbmVLZXlzLCB0aGlzKTtcblxuICAgIHRoaXMuX2tleUxpbmVzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgaWYgKGtleUxpbmUuZG9tRWxlbS5wYXJlbnROb2RlID09PSB0aGlzLl9kZVN1YmNvbnQpIHtcbiAgICAgICAgdGhpcy5fZGVTdWJjb250LnJlbW92ZUNoaWxkKGtleUxpbmUuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaEhlYWRLZXlsaW5lKCk7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlS2V5TGluZUtleXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmUoKTtcbn07XG5cbnAuX29uRGJsQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyIHRpbWUgPSB0aGlzLnRpbWVsaW5lLnNjcmVlblhUb1RpbWUoZS5zY3JlZW5YKSxcbiAgICAgICAga2V5ID0gdGhpcy5nZXROZXh0S2V5KHRpbWUpLFxuICAgICAgICBlYXNlcyA9IFtdO1xuXG4gICAgY29sbGVjdEVhc2VzKGtleSk7XG5cbiAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgdGhpcy50aW1lbGluZS5pbmxpbmVFYXNlRWRpdG9yLnNob3coe2tleSwgZWFzZXN9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RFYXNlcyhrZXkpIHtcblxuICAgICAgICBrZXkuX3N1YmtleXMuZm9yRWFjaChzdWJLZXkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoc3ViS2V5IGluc3RhbmNlb2YgS2V5R3JvdXApIHtcblxuICAgICAgICAgICAgICAgIGNvbGxlY3RFYXNlcyhzdWJLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWFzZXMucHVzaChzdWJLZXkuZWFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuXG5cblxucC5fcmVmcmVzaEhlYWRLZXlsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fc2tpcFJlbmRlciA9IHRydWU7XG5cbiAgICB2YXIgdGltZXMgPSBbXSwga2V5c09uVGltZXMgPSBbXTtcblxuICAgIHRoaXMuX2tleUxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGtleUxpbmUpIHtcblxuICAgICAgICBpZiAoa2V5TGluZS5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICBrZXlMaW5lLmZvckVhY2hLZXlzKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICAgICAgdmFyIHRpZHggPSB0aW1lcy5pbmRleE9mKGtleS50aW1lKTtcblxuICAgICAgICAgICAgaWYgKHRpZHggPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKGtleS50aW1lKTtcbiAgICAgICAgICAgICAgICBrZXlzT25UaW1lcy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICB0aWR4ID0gdGltZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAga2V5c09uVGltZXNbdGlkeF0ucHVzaChrZXkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcblxuXG4gICAgd2hpbGUgKHRpbWVzLmxlbmd0aCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVLZXkodGhpcy5fa2V5c1t0aGlzLl9rZXlzLmxlbmd0aC0xXSk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRpbWVzLmxlbmd0aCA+IHRoaXMuX2tleXMubGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5hZGRLZXkobmV3IEtleUdyb3VwKHt9LCB0aGlzLnRpbWVsaW5lKSk7XG4gICAgfVxuXG5cbiAgICB0aW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lLCBpZHgpIHtcblxuICAgICAgICB2YXIga2V5ID0gdGhpcy5fa2V5c1tpZHhdO1xuXG4gICAgICAgIGtleS50aW1lID0gdGltZTtcblxuICAgICAgICBrZXkuc2V0U3Via2V5cyhrZXlzT25UaW1lc1tpZHhdKTtcblxuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5fc2tpcFJlbmRlciA9IGZhbHNlO1xuICAgIHRoaXMuX3JlbmRlcigpO1xufTtcblxuXG5cblxucC5fY3JlYXRlU3ViY29udCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU3ViY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlU3ViY29udC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVTdWJjb250KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuLi91dGlscy9kZWZpbmVDb21wYWN0UHJvcGVydHknKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi4vdXRpbHMvT3B0aW9uTGluZScpO1xudmFyIEtleSA9IHJlcXVpcmUoJy4vS2V5Jyk7XG52YXIgS2V5TGluZSA9IHJlcXVpcmUoJy4vS2V5TGluZScpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gUGFyYW0gKG9wdD17fSwgdGltZWxpbmUpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lbGluZSA9IHRpbWVsaW5lO1xuXG4gICAgdGhpcy5fbGluZUggPSAgYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5faW5wdXRzID0gW107XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAwO1xuXG4gICAgdGhpcy5fb25DaGFuZ2VJbnB1dCA9IHRoaXMuX29uQ2hhbmdlSW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRpbWUgPSB0aGlzLl9vbkNoYW5nZVRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZUtleUxpbmVLZXlzID0gdGhpcy5fb25DaGFuZ2VLZXlMaW5lS2V5cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tUZ2dsS2V5ID0gdGhpcy5fb25DbGlja1RnZ2xLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUtleWxpbmUob3B0LmtleUxpbmUpO1xuICAgIHRoaXMuX2NyZWF0ZU9wdGlvbnMob3B0Lm9wdGlvbkxpbmUpO1xuXG4gICAgdGhpcy5rZXlMaW5lLnBhcmVudFBhcmFtID0gdGhpcztcblxuICAgIHRoaXMuZGVPcHRpb25MaW5lID0gdGhpcy5vcHRpb25MaW5lLmRvbUVsZW07XG4gICAgdGhpcy5kZUtleUxpbmUgPSB0aGlzLmtleUxpbmUuZG9tRWxlbTtcblxuICAgIC8vaGFjayFcbiAgICAkKFt0aGlzLm9wdGlvbkxpbmUuZG9tRWxlbSwgdGhpcy5rZXlMaW5lLmRvbUVsZW1dKVxuICAgICAgICAub24oJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbkxpbmUuYmdIaWdobGlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5rZXlMaW5lLmJnSGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLmJnSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmtleUxpbmUuYmdIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB0aGlzLnNldE1heExpc3RlbmVycygxMjM0KTtcblxuXG4gICAgdGhpcy51c2VTYXZlKG9wdCk7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lKTtcbn1cblxuaW5oZXJpdHMoUGFyYW0sIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFBhcmFtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gUGFyYW07XG5cblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGRlbiA/IDAgOiB0aGlzLl9saW5lSDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwgW1xuICAgIHtuYW1lOiAnbmFtZScsIHR5cGU6ICdzdHJpbmcnfSxcbiAgICB7bmFtZTogJ3RpdGxlJywgdHlwZTogJ3N0cmluZycsIG9uQ2hhbmdlOiBmdW5jdGlvbiAodikge1xuICAgICAgICB0aGlzLm9wdGlvbkxpbmUudGl0bGUgPSB2O1xuICAgIH19LFxuICAgIHtuYW1lOiAnaGlkZGVuJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHRoaXMua2V5TGluZS5oaWRkZW4gPSB2O1xuICAgICAgICB0aGlzLm9wdGlvbkxpbmUuaGlkZGVuID0gdjtcbiAgICB9fSxcbiAgICB7bmFtZTogJ3N0YXRpYycsIHR5cGU6ICdib29sZWFuJ30sXG5dKTtcblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzYXZlID0ge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgICBoaWRkZW46IHRoaXMuaGlkZGVuLFxuICAgICAgICBzdGF0aWM6IHRoaXMuc3RhdGljLFxuICAgICAgICBrZXlzOiBbXSxcbiAgICB9O1xuXG4gICAgdGhpcy5rZXlMaW5lLmZvckVhY2hLZXlzKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBzYXZlLmtleXMucHVzaChrZXkuZ2V0U2F2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24oc2F2ZSkge1xuXG4gICAgdGhpcy5uYW1lID0gc2F2ZS5uYW1lO1xuICAgIHRoaXMudGl0bGUgPSBzYXZlLnRpdGxlIHx8IHNhdmUubmFtZTtcbiAgICB0aGlzLmhpZGRlbiA9IHNhdmUuaGlkZGVuO1xuICAgIHRoaXMuc3RhdGljID0gc2F2ZS5zdGF0aWM7XG5cbiAgICBpZiAoc2F2ZS5rZXlzKSB7XG5cbiAgICAgICAgc2F2ZS5rZXlzLmZvckVhY2godGhpcy5hZGRLZXksIHRoaXMpO1xuICAgIH1cbn07XG5cbnAuZ2V0U2NyaXB0S2V5cyA9IGZ1bmN0aW9uIChvcHQgPSB7fSkge1xuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIHRoaXMua2V5TGluZS5mb3JFYWNoS2V5cyhmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgdmFyIGsgPSB7XG4gICAgICAgICAgICB0aW1lOiBrZXkudGltZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBlYXNlOiBvcHQucnVubmFibGUgPyBrZXkuZWFzZS5nZXRFYXNlcigpIDoga2V5LmVhc2UuZ2V0U2NyaXB0KCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGsub3B0aW9uc1t0aGlzLm5hbWVdID0ga2V5LnZhbHVlO1xuICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gXy5zb3J0Qnkoa2V5cywgJ3RpbWUnKTtcbn07XG5cbnAuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKCFfLmlzTnVtYmVyKHRpbWUpKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lO1xuICAgIH1cblxuICAgIHZhciByZXQsIGJlZm9yZSwgYWZ0ZXIsIHNhbWU7XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGlmIChrZXkudGltZSA9PT0gdGltZSkge1xuXG4gICAgICAgICAgICBzYW1lID0ga2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleS50aW1lIDwgdGltZSAmJiAoIWJlZm9yZSB8fCBiZWZvcmUudGltZSA8IGtleS50aW1lKSkge1xuXG4gICAgICAgICAgICBiZWZvcmUgPSBrZXk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5LnRpbWUgPiB0aW1lICYmICghYWZ0ZXIgfHwgYWZ0ZXIudGltZSA+IGtleS50aW1lKSkge1xuXG4gICAgICAgICAgICBhZnRlciA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHNhbWUpIHtcblxuICAgICAgICByZXQgPSBzYW1lLnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgICBpZiAoYWZ0ZXIgJiYgYmVmb3JlKSB7XG5cbiAgICAgICAgICAgIHZhciBwID0gKHRpbWUgLSBiZWZvcmUudGltZSkgLyAoYWZ0ZXIudGltZSAtIGJlZm9yZS50aW1lKSxcbiAgICAgICAgICAgICAgICBhdiA9IGFmdGVyLnZhbHVlLCBidiA9IGJlZm9yZS52YWx1ZTtcblxuICAgICAgICAgICAgcCA9IGFmdGVyLmVhc2UuZ2V0UmF0aW8ocCk7XG5cbiAgICAgICAgICAgIHJldCA9IGNyZWF0ZUNhbGMoYXYsIGJ2LCBwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUpIHtcblxuICAgICAgICAgICAgcmV0ID0gYmVmb3JlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyKSB7XG5cbiAgICAgICAgICAgIHJldCA9IGFmdGVyLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogcmV0O1xuXG5cblxuXG4gICAgLy9UT0RPIGRvbnQgdGhpbmsgaXMgaXQncyBuZWVkZWQgYW55bW9yZVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGMoYXYsIGJ2LCBwKSB7XG5cbiAgICAgICAgaWYgKCFpc05hTihhdikgJiYgIWlzTmFOKGJ2KSkge1xuXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChidikgKyAoKGF2IC0gYnYpICogcCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYVVuaXQgPSBnZXRVbml0KGF2KTtcbiAgICAgICAgdmFyIGJVbml0ID0gZ2V0VW5pdChidik7XG5cbiAgICAgICAgaWYgKGFVbml0ID09PSBiVW5pdCkge1xuXG4gICAgICAgICAgICBhdiA9IHBhcnNlRmxvYXQoYXYpO1xuICAgICAgICAgICAgYnYgPSBwYXJzZUZsb2F0KGJ2KTtcblxuICAgICAgICAgICAgcmV0dXJuIChidiArICgoYXYgLSBidikgKiBwKSkgKyBhVW5pdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhdnMgPSBfLmNvbXBhY3QoYXYuc3BsaXQoJyAnKSksXG4gICAgICAgICAgICBidnMgPSBfLmNvbXBhY3QoYnYuc3BsaXQoJyAnKSksXG4gICAgICAgICAgICBhdmwgPSBhdnMubGVuZ3RoLFxuICAgICAgICAgICAgYnZsID0gYnZzLmxlbmd0aCxcbiAgICAgICAgICAgIHJldCA9IFtdO1xuXG4gICAgICAgIGlmIChhdmwgIT09IGJ2bCkge1xuXG4gICAgICAgICAgICBpZiAoYXZsIDwgYnZsKSB7XG5cbiAgICAgICAgICAgICAgICBhdnMgPSBhdnMuY29uY2F0KGJ2cy5zbGljZShhdmwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ2cyA9IGJ2cy5jb25jYXQoYXZzLnNsaWNlKGJ2bCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXZzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXG4gICAgICAgICAgICByZXQucHVzaChjYWxjKGEsIGJ2c1tpZHhdKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXQuam9pbignICcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGMoYSwgYikge1xuXG4gICAgICAgICAgICByZXR1cm4gJ2NhbGMoJyArIGIgKyAnICsgKCcgKyBhICsgJyAtICcgKyBiICsgJykqJyArIHAgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRVbml0KHYpIHtcblxuICAgICAgICAgICAgdmFyIG0gPSAvKFthLXolXSspJC8uZXhlYyh2KTtcblxuICAgICAgICAgICAgcmV0dXJuIG0gJiYgbVsxXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnAuYWRkS2V5ID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdGhpcy50aW1lbGluZS5wYXVzZSgpO1xuXG4gICAgaWYgKCFfLmhhcyhvcHQsICd0aW1lJykpIHtcblxuICAgICAgICBvcHQudGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KG9wdC50aW1lKTtcblxuICAgIGlmIChrZXkpIHtcblxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBvcHQpIHtcblxuICAgICAgICAgICAga2V5LnZhbHVlID0gb3B0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBrZXkgPSBuZXcgS2V5KG9wdCwgdGhpcy50aW1lbGluZSk7XG4gICAgICAgIGtleS52YWx1ZSA9ICd2YWx1ZScgaW4gb3B0ID8gb3B0LnZhbHVlIDogdGhpcy5nZXRWYWx1ZShvcHQudGltZSk7XG5cbiAgICAgICAgdGhpcy5rZXlMaW5lLmFkZEtleShrZXkpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkS2V5Jywga2V5LCB0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZyZXNoSW5wdXRzKCk7XG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xLZXkoKTtcblxuICAgIHJldHVybiBrZXk7XG59O1xuXG5wLnJlbW92ZUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIGlmICghdGhpcy5rZXlMaW5lLnJlbW92ZUtleShrZXkpKSB7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG59O1xuXG5wLmdldEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldEtleUJ5VGltZSh0aW1lKTtcbn07XG5cbnAuZ2V0UHJldktleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldFByZXZLZXkodGltZSk7XG59O1xuXG5wLmdldE5leHRLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMua2V5TGluZS5nZXROZXh0S2V5KHRpbWUpO1xufTtcblxucC5nb3RvUHJldktleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICBpZiAodGltZSA9PT0gdW5kZWZpbmVkKSB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldFByZXZLZXkodGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIHRoaXMudGltZWxpbmUuY3VyclRpbWUgPSBrZXkudGltZTtcbiAgICB9XG59O1xuXG5wLmdvdG9OZXh0S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIGlmICh0aW1lID09PSB1bmRlZmluZWQpIHRpbWUgPSB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lO1xuXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0TmV4dEtleSh0aW1lKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgICAgdGhpcy50aW1lbGluZS5jdXJyVGltZSA9IGtleS50aW1lO1xuICAgIH1cbn07XG5cbnAuZ2V0S2V5VGltZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldEtleVRpbWVzKCk7XG59O1xuXG5wLnRvZ2dsZUtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleSh0aGlzLnRpbWVsaW5lLmN1cnJUaW1lKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVLZXkoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkS2V5KHt0aW1lOiB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lfSk7XG4gICAgfVxufTtcblxucC5pc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMua2V5TGluZS5rZXlDb3VudCAhPT0gMDtcbn07XG5cbnAuYXR0YWNoSW5wdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcblxuICAgIHRoaXMuZGV0YWNoSW5wdXQoaW5wdXQpO1xuXG4gICAgaW5wdXQub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSW5wdXQpO1xuXG4gICAgdGhpcy5faW5wdXRzLnB1c2goaW5wdXQpO1xufTtcblxucC5kZXRhY2hJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX2lucHV0cy5pbmRleE9mKGlucHV0KTtcblxuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnB1dC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VJbnB1dCk7XG5cbiAgICB0aGlzLl9pbnB1dHMuc3BsaWNlKGlkeCwgMSk7XG59O1xuXG5wLl9pc0tleVNldCA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gISF0aGlzLmdldEtleSh0aW1lKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fb25DaGFuZ2VJbnB1dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgaWYgKFN0cmluZyh2YWx1ZSkgPT09IFN0cmluZyhvbGRWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYWRkS2V5KHtcbiAgICAgICAgdGltZTogdGhpcy50aW1lbGluZS5jdXJyVGltZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSk7XG59O1xuXG5wLl9vbkNoYW5nZUtleUxpbmVLZXlzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5fb25DaGFuZ2VUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaElucHV0cygpO1xuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudG9nZ2xlS2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrU3RlcFByZXZLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmdvdG9QcmV2S2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrU3RlcE5leHRLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmdvdG9OZXh0S2V5KCk7XG59O1xuXG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaElucHV0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLmdldFZhbHVlKCkgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgICAgICAgICAvL2dldCB0aGUgdmFsdWUgYWdhaW4sIGJlY2F1c2UgaXQgY2FuIGNoYW5nZSBvdmVyIHRoZSBpdGVyYXRpb25cbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59O1xuXG5wLl9yZWZyZXNoVGdnbEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLmtleS5zZXRIaWdobGlnaHQodGhpcy5faXNLZXlTZXQodGltZSkpO1xuICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLmtleS5zZXRTdGVwcGVycyghIXRoaXMuZ2V0UHJldktleSh0aW1lKSwgISF0aGlzLmdldE5leHRLZXkodGltZSkpO1xufTtcblxuXG5cblxuXG5cbnAuX2NyZWF0ZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUgPSBuZXcgT3B0aW9uTGluZShfLmFzc2lnbih7XG4gICAgICAgIGtlZXBTcGFjZUZvclRnZ2xDaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgY29udGV4dE1lbnVPcHRpb25zOiBbXG4gICAgICAgICAgICB7dGV4dDogJ21vdmUgdXAnLCBvblNlbGVjdDogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpfSxcbiAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSBkb3duJywgb25TZWxlY3Q6ICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICB7dGV4dDogJ2RlbGV0ZScsIG9uU2VsZWN0OiAoKSA9PiB0aGlzLmVtaXQoJ25lZWQucmVtb3ZlJyl9LFxuICAgICAgICBdLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5uYW1lLFxuICAgICAgICB9LFxuICAgICAgICBidG5LZXk6IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tUZ2dsS2V5LFxuICAgICAgICAgICAgb25DbGlja1ByZXY6IHRoaXMuX29uQ2xpY2tTdGVwUHJldktleSxcbiAgICAgICAgICAgIG9uQ2xpY2tOZXh0OiB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXksXG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIHVuaXRzOiBbXSxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCdcbiAgICAgICAgfV0sXG4gICAgICAgIGluZGVudDogMCxcbiAgICB9LCBvcHQpKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbkxpbmUuaW5wdXRzLmlucHV0KXtcblxuICAgICAgICB0aGlzLmF0dGFjaElucHV0KHRoaXMub3B0aW9uTGluZS5pbnB1dHMuaW5wdXQpO1xuICAgIH1cbn07XG5cbnAuX2NyZWF0ZUtleWxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmtleUxpbmUgPSBuZXcgS2V5TGluZSh7fSwgdGhpcy50aW1lbGluZSk7XG4gICAgdGhpcy5rZXlMaW5lLm9uKCdjaGFuZ2Uua2V5cycsIHRoaXMuX29uQ2hhbmdlS2V5TGluZUtleXMpO1xufTtcblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vVE9ET1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFBhcmFtID0gcmVxdWlyZSgnLi9QYXJhbScpO1xudmFyIFBhcmFtR3JvdXAgPSByZXF1aXJlKCcuL1BhcmFtR3JvdXAnKTtcblxuZnVuY3Rpb24gUGFyYW1GYWN0b3J5KG9wdCwgdGltZWxpbmUpIHtcblxuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuZ3JvdXBzID0ge1xuICAgICAgICAvLyBncm91cG5hbWU6IHtzdWJnb3VwbmFtZTogWydtZW1iZXJzJ119XG4gICAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJhbUZhY3Rvcnk7XG52YXIgcCA9IFBhcmFtRmFjdG9yeS5wcm90b3R5cGU7XG5cblxucC5jcmVhdGUgPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICBpZiAoIV8uaGFzKG9wdCwgJ3RpdGxlJykpIG9wdC50aXRsZSA9IG9wdC5uYW1lO1xuXG4gICAgaWYgKG9wdC5jaGlsZHJlbiB8fCBvcHQuaXNHcm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHcm91cChvcHQpO1xuICAgIH1cblxuICAgIGlmKCFvcHQuZG9udEJ1aWxkRnJvbVJvb3QpIHtcblxuICAgICAgICB2YXIgcnBnTmFtZSA9IHRoaXMuZ2V0Um9vdFBhcmFtR3JvdXBOYW1lKG9wdC5uYW1lKTtcblxuICAgICAgICBpZiAocnBnTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR3JvdXAoe25hbWU6IHJwZ05hbWV9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hc3NlbWJsZVBhcmFtKG9wdCk7XG59O1xuXG5wLmNyZWF0ZUdyb3VwID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgb3B0LnBhcmFtRmFjdG9yeSA9IHRoaXM7XG5cbiAgICBpZiAoIW9wdC5wYXRoICYmICFvcHQubmFtZSkgdGhyb3cgRXJyb3I7XG5cbiAgICBvcHQucGF0aCA9IG9wdC5wYXRoIHx8IFtvcHQubmFtZV07XG4gICAgb3B0Lm5hbWUgPSBvcHQubmFtZSB8fCBfLmxhc3Qob3B0LnBhdGgpO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5nZXRHcm91cE1lbWJlck5hbWVzKG9wdC5wYXRoKTtcbiAgICBvcHQuc3RhdGljID0gXy5oYXMob3B0LCAnc3RhdGljJykgPyBvcHQuc3RhdGljIDogY2hpbGRyZW4ubGVuZ3RoICE9PSAwO1xuXG4gICAgdmFyIGdyb3VwID0gIHRoaXMuX2Fzc2VtYmxlR3JvdXAob3B0KTtcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcblxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkTmFtZSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChncm91cC5nZXRQYXJhbShjaGlsZE5hbWUpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBzdGF0aWM6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hpbGROYW1lLFxuICAgICAgICAgICAgICAgIHBhdGg6IG9wdC5wYXRoLmNvbmNhdChjaGlsZE5hbWUpLFxuICAgICAgICAgICAgICAgIGRvbnRCdWlsZEZyb21Sb290OiB0cnVlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdyb3VwLmFkZFBhcmFtKGNoaWxkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3VwO1xufTtcblxucC5fYXNzZW1ibGVQYXJhbSA9IGZ1bmN0aW9uIChvcHQpIHtcbiAgICAvL2ZvciBvdmVyd3JpdGluZ1xuICAgIHJldHVybiBuZXcgUGFyYW0ob3B0LCB0aGlzLnRpbWVsaW5lKTtcbn07XG5cbnAuX2Fzc2VtYmxlR3JvdXAgPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgLy9mb3Igb3ZlcndyaXRpbmdcbiAgICByZXR1cm4gbmV3IFBhcmFtR3JvdXAob3B0LCB0aGlzLnRpbWVsaW5lKTtcbn07XG5cbnAuZ2V0Um9vdFBhcmFtR3JvdXBOYW1lID0gZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ3JvdXBzKS5maW5kKHJvb3RLZXkgPT4ge1xuXG4gICAgICAgIHJldHVybiBzZWFyY2godGhpcy5ncm91cHNbcm9vdEtleV0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2VhcmNoKGdyb3VwKSB7XG5cbiAgICAgICAgaWYgKF8uaXNBcnJheShncm91cCkpIHtcblxuICAgICAgICAgICAgaWYgKGdyb3VwLmluZGV4T2YocGFyYW1OYW1lKSAhPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZ3JvdXApIHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2goZ3JvdXBba2V5XSkpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLmdldEdyb3VwTWVtYmVyTmFtZXMgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cHM7XG5cbiAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuXG4gICAgd2hpbGUgKHBhdGgubGVuZ3RoKSB7XG5cbiAgICAgICAgZ3JvdXAgPSBncm91cFtwYXRoLnNoaWZ0KCldO1xuICAgIH1cblxuICAgIGlmIChfLmlzUGxhaW5PYmplY3QoZ3JvdXApKSBncm91cCA9IE9iamVjdC5rZXlzKGdyb3VwKTtcblxuICAgIHJldHVybiBncm91cCB8fCBbXTtcbn07XG5cbnAuaWZpdCA9IGZ1bmN0aW9uIChzdHIpIHtcblxuICAgIHZhciByeCA9IG5ldyBSZWdFeHAoJyhefCwpJytzdHIrJygsfCQpJyk7XG5cbiAgICB2YXIgcmV0ID0ge1xuICAgICAgICBpczogKGNhc2VzLCBjYikgPT4ge1xuXG4gICAgICAgICAgICBpZiAoY2FzZXMubWF0Y2gocngpKSB7XG5cbiAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gcmV0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi4vdXRpbHMvT3B0aW9uTGluZScpO1xudmFyIEtleUxpbmVHcm91cCA9IHJlcXVpcmUoJy4vS2V5TGluZUdyb3VwJyk7XG52YXIgUGFyYW0gPSByZXF1aXJlKCcuL1BhcmFtJyk7XG5cbmZ1bmN0aW9uIFBhcmFtR3JvdXAgKG9wdD17fSkge1xuXG4gICAgdGhpcy5wYXJhbUZhY3RvcnkgPSBvcHQucGFyYW1GYWN0b3J5O1xuXG4gICAgdGhpcy5fcGFyYW1zID0gW107XG4gICAgdGhpcy5fbWVyZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5fY29sbGFwc2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLmJvcnJvd0NoaWxkSW5wdXRzT25Db2xsYXBzZSA9IG9wdC5ib3Jyb3dDaGlsZElucHV0c09uQ29sbGFwc2U7XG5cbiAgICBQYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5rZXlMaW5lLmtleUxvb2tzLmNpcmNsZSA9IHVuZGVmaW5lZDtcblxuXG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcblxuICAgIHRoaXMub24oJ2NoYW5nZS5oaWRkZW4nLCAoKSA9PiB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpKTtcbn1cblxuaW5oZXJpdHMoUGFyYW1Hcm91cCwgUGFyYW0pO1xudmFyIHAgPSBQYXJhbUdyb3VwLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gUGFyYW1Hcm91cDtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGhlaWdodDoge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgcmV0ID0gdGhpcy5oaWRkZW4gPyAwIDogdGhpcy5fbGluZUg7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChwYXJhbSA9PiByZXQgKz0gcGFyYW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWVyZ2VkOiB7XG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX21lcmdlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9tZXJnZWQgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy50Z2dsTWVyZ2Uuc2V0VG9nZ2xlKHYpO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLmJ1dHRvbnMudGdnbENoaWxkcmVuLmluYWN0aXZlID0gdjtcbiAgICAgICAgICAgIHRoaXMua2V5TGluZS5rZXlMb29rcy5jaXJjbGUgPSB2ID8ge30gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmtleUxpbmUuX3JlbmRlcigpOy8vVE9ETzogZG8gdGhpcyBrZXlMb29rcyB0aGluZyBzb21laG93IGJldHRlclxuICAgICAgICAgICAgdGhpcy5jb2xsYXBzZWQgPSB2O1xuXG4gICAgICAgICAgICBpZiAodikgdGhpcy5fbWFrZUtleUxpbmVzU3ltbWV0cmljKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb2xsYXBzZWQ6IHtcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fY29sbGFwc2VkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5zZXRUb2dnbGUoIXYpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCcnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hIZWlnaHRzKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJvcnJvd0NoaWxkSW5wdXRzT25Db2xsYXBzZSkge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5ib3Jyb3dDaGlsZElucHV0cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLnJldHVybkNoaWxkSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxhcHNlZDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzYXZlID0gUGFyYW0ucHJvdG90eXBlLmdldFNhdmUuY2FsbCh0aGlzKTtcbiAgICBkZWxldGUgc2F2ZS5rZXlzO1xuXG4gICAgc2F2ZS5tZXJnZWQgPSB0aGlzLm1lcmdlZDtcbiAgICBzYXZlLmNvbGxhcHNlZCA9IHRoaXMuY29sbGFwc2VkO1xuICAgIHNhdmUuY2hpbGRyZW4gPSB0aGlzLl9wYXJhbXMubWFwKHAgPT4gcC5nZXRTYXZlKCkpO1xuXG4gICAgcmV0dXJuIHNhdmU7XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgUGFyYW0ucHJvdG90eXBlLnVzZVNhdmUuY2FsbCh0aGlzLCBzYXZlKTtcblxuICAgIGlmICgnY29sbGFwc2VkJyBpbiBzYXZlKSB0aGlzLmNvbGxhcHNlZCA9IHNhdmUuY29sbGFwc2VkO1xuICAgIGlmICgnbWVyZ2VkJyBpbiBzYXZlKSB0aGlzLm1lcmdlZCA9IHNhdmUubWVyZ2VkO1xuICAgIGlmICgnY2hpbGRyZW4nIGluIHNhdmUpIHNhdmUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZE9wdCA9PiB7XG5cbiAgICAgICAgY2hpbGRPcHQuZG9udEJ1aWxkRnJvbVJvb3QgPSB0cnVlO1xuICAgICAgICB0aGlzLmFkZFBhcmFtKGNoaWxkT3B0KTtcbiAgICB9KTtcbn07XG5cbnAuYWRkUGFyYW0gPSBmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgIGlmIChwYXJhbSA9PT0gdGhpcykgdGhyb3cgRXJyb3I7XG5cbiAgICBpZiAoIShwYXJhbSBpbnN0YW5jZW9mIFBhcmFtKSkge1xuXG4gICAgICAgIHBhcmFtID0gdGhpcy5wYXJhbUZhY3RvcnkuY3JlYXRlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW0ucGFyZW50R3JvdXApIHtcblxuICAgICAgICBwYXJhbS5wYXJlbnRHcm91cC5yZW1vdmVQYXJhbShwYXJhbSk7XG4gICAgfVxuICAgIHBhcmFtLnBhcmVudEdyb3VwID0gdGhpcztcblxuICAgIGFtLmhpc3Rvcnkuc2F2ZSh7XG4gICAgICAgIHVuZG86ICgpID0+IHRoaXMucmVtb3ZlUGFyYW0ocGFyYW0pLFxuICAgICAgICByZWRvOiAoKSA9PiB0aGlzLmFkZFBhcmFtKHBhcmFtKSxcbiAgICAgICAgbmFtZTogJ2FkZCBwYXJhbSAnICsgcGFyYW0ubmFtZSxcbiAgICB9KTtcblxuICAgIHRoaXMuX3BhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICB0aGlzLm9wdGlvbkxpbmUuYWRkT3B0aW9uTGluZShwYXJhbS5vcHRpb25MaW5lKTtcbiAgICB0aGlzLmtleUxpbmUuYWRkS2V5TGluZShwYXJhbS5rZXlMaW5lKTtcblxuICAgIHBhcmFtLm9wdGlvbkxpbmUuaW5kZW50ID0gdGhpcy5vcHRpb25MaW5lLmluZGVudCArIDE7XG4gICAgcGFyYW0ub24oJ2NoYW5nZS5rZXlzJywgKC4uLmFyZ3MpID0+IHRoaXMuZW1pdCgnY2hhbmdlLmtleXMnLCAuLi5hcmdzKSk7XG4gICAgcGFyYW0ub24oJ2NoYW5nZS5oZWlnaHQnLCB0aGlzLl9vbkNoYW5nZVN1YnBhcmFtSGVpZ2h0LCB0aGlzKTtcbiAgICBwYXJhbS5vbignYWRkS2V5JywgdGhpcy5fb25BZGRLZXlTdWJwYXJhbSwgdGhpcyk7XG4gICAgcGFyYW0ub24oJ25lZWQucmVtb3ZlJywgdGhpcy5fb25TdWJwYXJhbU5lZWRSZW1vdmUsIHRoaXMpO1xuXG4gICAgaWYgKHBhcmFtLm5hbWUgaW4gdGhpcy5vcHRpb25MaW5lLmlucHV0cykge1xuXG4gICAgICAgIHBhcmFtLmF0dGFjaElucHV0KHRoaXMub3B0aW9uTGluZS5pbnB1dHNbcGFyYW0ubmFtZV0pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnYWRkUGFyYW0nLCBwYXJhbSwgdGhpcyk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uuc3RydWN0dXJlJyk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UuaGVpZ2h0Jyk7XG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcblxuICAgIHJldHVybiBwYXJhbTtcbn07XG5cbnAucmVtb3ZlUGFyYW0gPSBmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9wYXJhbXMuaW5kZXhPZihwYXJhbSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYW0uaGlzdG9yeS5zYXZlKHtcbiAgICAgICAgdW5kbzogKCkgPT4gdGhpcy5hZGRQYXJhbShwYXJhbSksXG4gICAgICAgIHJlZG86ICgpID0+IHRoaXMucmVtb3ZlUGFyYW0ocGFyYW0pLFxuICAgICAgICBuYW1lOiAncmVtb3ZlIHBhcmFtICcgKyBwYXJhbS5uYW1lLFxuICAgIH0pO1xuXG4gICAgcGFyZW50LnBhcmVudEdyb3VwID0gdW5kZWZpbmVkO1xuXG4gICAgcGFyYW0ub2ZmKCcnLCB0aGlzLl9vbkNoYW5nZVN1YnBhcmFtSGVpZ2h0LCB0aGlzKTtcbiAgICBwYXJhbS5vZmYoJ2FkZEtleScsIHRoaXMuX29uQWRkS2V5U3VicGFyYW0sIHRoaXMpO1xuICAgIHBhcmFtLm9mZignbmVlZC5yZW1vdmUnLCB0aGlzLl9vblN1YnBhcmFtTmVlZFJlbW92ZSwgdGhpcyk7XG5cbiAgICB0aGlzLl9wYXJhbXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5rZXlMaW5lLnJlbW92ZUtleWxpbmUocGFyYW0ua2V5TGluZSk7XG5cbiAgICB0aGlzLmVtaXQoJ3JlbW92ZVBhcmFtJywgcGFyYW0sIHRoaXMpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlLnN0cnVjdHVyZScsIHRoaXMpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlLmhlaWdodCcpO1xuICAgIHRoaXMuX3JlZnJlc2hIZWlnaHRzKCk7XG59O1xuXG5wLmdldFBhcmFtID0gZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX3BhcmFtcy5maW5kKHBhcmFtID0+IHBhcmFtLm5hbWUgPT09IHBhcmFtTmFtZSk7XG59O1xuXG5wLmdldFBhcmFtTmFtZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gXy5wbHVjayh0aGlzLl9wYXJhbXMsICduYW1lJyk7XG59O1xuXG5wLmdldEVuZFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByZXQgPSBbXTtcblxuICAgIHRoaXMuX3BhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcblxuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBQYXJhbUdyb3VwKSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoLmFwcGx5KHJldCwgcGFyYW0uZ2V0RW5kUGFyYW1zKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0LnB1c2gocGFyYW0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxucC5tb3ZlUGFyYW0gPSBmdW5jdGlvbiAoKSB7XG5cblxufTtcblxucC50b2dnbGVLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHZhciBoYXNLZXkgPSB0aGlzLl9wYXJhbXMuc29tZShmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICByZXR1cm4gcGFyYW0uZ2V0S2V5KHRpbWUpO1xuICAgIH0pO1xuXG4gICAgaWYgKGhhc0tleSkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5QWxsKHRpbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRLZXlBbGwodGltZSk7XG4gICAgfVxufTtcblxucC5fbWFrZUtleUxpbmVzU3ltbWV0cmljID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUudGltZSgnX21ha2VLZXlMaW5lc1N5bW1ldHJpYycpO1xuICAgIHZhciB0aW1lcyA9IFtdO1xuXG4gICAgdGhpcy5fcGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuXG4gICAgICAgIGlmIChwYXJhbS5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICBbXS5wdXNoLmFwcGx5KHRpbWVzLCBwYXJhbS5nZXRLZXlUaW1lcygpKTtcbiAgICB9KTtcblxuICAgIF8udW5pcSh0aW1lcykuZm9yRWFjaCh0aW1lID0+IHRoaXMuYWRkS2V5QWxsKHRpbWUpKTtcbiAgICBjb25zb2xlLnRpbWVFbmQoJ19tYWtlS2V5TGluZXNTeW1tZXRyaWMnKTtcbn07XG5cblxucC5hZGRLZXlBbGwgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdGltZSA9IHRpbWUgPT09IHVuZGVmaW5lZCA/IHRoaXMudGltZWxpbmUuY3VyclRpbWUgOiB0aW1lO1xuXG4gICAgdGhpcy5fcGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuXG4gICAgICAgIGlmIChwYXJhbS5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBQYXJhbUdyb3VwKSB7XG5cbiAgICAgICAgICAgIHBhcmFtLmFkZEtleUFsbCh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtLmFkZEtleSh7dGltZTogdGltZX0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5wLnJlbW92ZUtleUFsbCA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB0aW1lID0gdGltZSB8fCB0aGlzLnRpbWVsaW5lLmN1cnJUaW1lO1xuXG4gICAgdGhpcy5fcGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xuXG4gICAgICAgIGlmIChwYXJhbS5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICB2YXIga2V5ID0gcGFyYW0uZ2V0S2V5KHRpbWUpO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBwYXJhbS5yZW1vdmVLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuXG5cblxucC5faXNLZXlTZXQgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgLy9lbXB0eSBncm91cHMgcmV0dXJucyB0cnVlIGV4Y2VwdCBpZiB0aGlzIGlzIHRoZSByb290IHBhcmFtR3JvdXBcbiAgICByZXR1cm4gKHRoaXMucGFyZW50R3JvdXAgfHwgdGhpcy5fcGFyYW1zLmxlbmd0aCAhPT0gMCkgJiZcbiAgICAgICAgdGhpcy5fcGFyYW1zLmV2ZXJ5KHAgPT4gcC5faXNLZXlTZXQodGltZSkpO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9vblN1YnBhcmFtTmVlZFJlbW92ZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgaWYgKHRoaXMuc3RhdGljKSB7XG5cbiAgICAgICAgdGhpcy5lbWl0KCduZWVkLnJlbW92ZScsIHRoaXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVQYXJhbShwYXJhbSk7XG4gICAgfVxufTtcblxucC5fb25DaGFuZ2VUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xLZXkoKTtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZDtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsTWVyZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLm1lcmdlZCA9ICF0aGlzLm1lcmdlZDtcbn07XG5cbnAuX29uQ2hhbmdlU3VicGFyYW1IZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJycsIHRoaXMpO1xuICAgIHRoaXMuX3JlZnJlc2hIZWlnaHRzKCk7XG59O1xuXG5wLl9vbkFkZEtleVN1YnBhcmFtID0gZnVuY3Rpb24gKGtleSwgcGFyYW0pIHtcblxuICAgIGlmICh0aGlzLl9tZXJnZWQgJiYgIXBhcmFtLmhpZGRlbikge1xuXG4gICAgICAgIHRoaXMuYWRkS2V5QWxsKGtleS50aW1lKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoSGVpZ2h0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBoID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5rZXlMaW5lLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgdGhpcy5vcHRpb25MaW5lLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG59O1xuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVPcHRpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdGhpcy5vcHRpb25MaW5lID0gbmV3IE9wdGlvbkxpbmUoXy5tZXJnZSh7XG4gICAgICAgIHRnZ2xDaGlsZHJlbjoge1xuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5fb25DbGlja1RnZ2xDaGlsZHJlbigpLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0TWVudU9wdGlvbnM6IFtcbiAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSB1cCcsIG9uU2VsZWN0OiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbW92ZScsIHRoaXMsIC0xKX0sXG4gICAgICAgICAgICB7dGV4dDogJ21vdmUgZG93bicsIG9uU2VsZWN0OiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbW92ZScsIHRoaXMsIDEpfSxcbiAgICAgICAgICAgIHt0ZXh0OiAnZGVsZXRlJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdkZWxldGUnLCB0aGlzKX1cbiAgICAgICAgXSxcbiAgICAgICAgdGdnbE1lcmdlOiB7XG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLl9vbkNsaWNrVGdnbE1lcmdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIGJ0bktleToge1xuICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1RnZ2xLZXksXG4gICAgICAgICAgICBvbkNsaWNrUHJldjogdGhpcy5fb25DbGlja1N0ZXBQcmV2S2V5LFxuICAgICAgICAgICAgb25DbGlja05leHQ6IHRoaXMuX29uQ2xpY2tTdGVwTmV4dEtleSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZW50OiAwLFxuICAgICAgICBoYXNTdWJjb250YWluZXI6IHRydWUsXG4gICAgfSwgb3B0KSk7XG5cbiAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy50Z2dsQ2hpbGRyZW4uc2V0VG9nZ2xlKHRydWUpO1xufTtcblxucC5fY3JlYXRlS2V5bGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMua2V5TGluZSA9IG5ldyBLZXlMaW5lR3JvdXAoe30sIHRoaXMudGltZWxpbmUpO1xufTtcblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vVE9ET1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBQYXJhbUZhY3RvcnkgPSByZXF1aXJlKCcuL1BhcmFtRmFjdG9yeScpO1xudmFyIFRyYW5zaGFuZCA9IHJlcXVpcmUoJ3RyYW5zaGFuZCcpO1xudmFyIFBhcmFtR3JvdXAgPSByZXF1aXJlKCcuL1BhcmFtR3JvdXAnKTtcbnZhciBkaWFsb2dUcmFja09wdGlvbnMgPSByZXF1aXJlKCcuL2RpYWxvZ1RyYWNrT3B0aW9ucycpO1xudmFyIGRpYWxvZ05ld1BhcmFtID0gcmVxdWlyZSgnLi9kaWFsb2dOZXdQYXJhbScpO1xudmFyIG1zdFBsYXllciA9IHJlcXVpcmUoJy4vc2NyaXB0LnBsYXllci5tc3QnKTtcblxuXG5mdW5jdGlvbiBUcmFjayhvcHQsIHRpbWVsaW5lKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcblxuICAgIHRoaXMuX3NlbGVjdG9ycyA9IFtdO1xuICAgIHRoaXMuX2VuZFBhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgaWYgKCF0aGlzLl9wYXJhbUZhY3RvcnkpIHRoaXMuX3BhcmFtRmFjdG9yeSA9IG5ldyBQYXJhbUZhY3Rvcnkoe30sIHRoaXMudGltZWxpbmUpO1xuXG4gICAgdGhpcy5fb25TZWxlY3RDbGljayA9IHRoaXMuX29uU2VsZWN0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVNlbGVjdG9ycyA9IHRoaXMuX29uQ2hhbmdlU2VsZWN0b3JzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25XaW5kb3dSZXNpemUgPSB0aGlzLl9vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uV2luZG93U2Nyb2xsID0gdGhpcy5fb25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9hbmltUGxheSA9IHRoaXMuX2FuaW1QbGF5LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gYW0uaGlzdG9yeS53cmFwKHtcbiAgICAgICAgZm46IHRoaXMuX29uQ2hhbmdlVHJhbnNmb3JtZXIsXG4gICAgICAgIG5hbWU6ICd0cmFuc2Zvcm0nLFxuICAgICAgICBkZWxheTogMzEyLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwID0gbmV3IFBhcmFtR3JvdXAoe1xuICAgICAgICBuYW1lOiAnbmV3IHRyYWNrJyxcbiAgICAgICAgcGFyYW1GYWN0b3J5OiB0aGlzLl9wYXJhbUZhY3RvcnksXG4gICAgICAgIG9wdGlvbkxpbmU6IHtcbiAgICAgICAgICAgIHRnZ2xNZXJnZTogZmFsc2UsXG4gICAgICAgICAgICB0aXRsZTogJy0nLFxuICAgICAgICAgICAgY29udGV4dE1lbnVPcHRpb25zOiBbXG4gICAgICAgICAgICAgICAge3RleHQ6ICdvcHRpb25zJywgb25TZWxlY3Q6ICgpID0+IHRoaXMuX3Nob3dTZXR0aW5ncygpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ21vdmUgdXAnLCBvblNlbGVjdDogKCkgPT4gdGhpcy5lbWl0KCdtb3ZlJywgdGhpcywgLTEpfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ21vdmUgZG93bicsIG9uU2VsZWN0OiAoKSA9PiB0aGlzLmVtaXQoJ21vdmUnLCB0aGlzLCAxKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdkZWxldGUnLCBvblNlbGVjdDogKCkgPT4gdGhpcy5lbWl0KCdyZW1vdmUnKX0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgb25EYmxjbGljazogKCkgPT4gdGhpcy5fc2hvd1NldHRpbmdzKCksXG4gICAgICAgIH0sXG4gICAgfSwgdGhpcy50aW1lbGluZSk7XG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub24oJ2NoYW5nZS5zdHJ1Y3R1cmUnLCB0aGlzLl9yZWZyZXNoRW5kUGFyYW1zLCB0aGlzKTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vbignY2hhbmdlLmtleXMnLCB0aGlzLl9vbkNoYW5nZUtleXMsIHRoaXMpO1xuXG4gICAgLy90ZXN0IGhhY2tcbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5fZGVUaXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuXG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICBkb21FbGVtOiBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgICAgIHRvb2x0aXA6ICdhZGQgbmV3IHBhcmFtZXRlcicsXG4gICAgICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBkaWFsb2dOZXdQYXJhbS5zaG93KHt0cmFjazogdGhpc30pLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ25ld1BhcmFtJyxcbiAgICAgICAgY2hpbGRJZHg6IDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLmRlT3B0aW9uTGluZSA9IHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmRvbUVsZW07XG4gICAgdGhpcy5kZUtleUxpbmUgPSB0aGlzLnBhcmFtR3JvdXAua2V5TGluZS5kb21FbGVtO1xuXG4gICAgdGhpcy5kZU9wdGlvbkxpbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblNlbGVjdENsaWNrKTtcbiAgICB0aGlzLmRlS2V5TGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU2VsZWN0Q2xpY2spO1xuXG4gICAgdGhpcy5wYXJhbUdyb3VwLm9uKCdjaGFuZ2VIZWlnaHQnLCB0aGlzLl9vbkNoYW5nZUhlaWdodCwgdGhpcyk7XG5cbiAgICB0aGlzLnNldE1heExpc3RlbmVycygxMjM0KTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgdGhpcy51c2VTYXZlKG9wdCk7XG4gICAgfVxuXG4gICAgdGhpcy50aW1lbGluZS5vbignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZSwgdGhpcyk7XG59XG5cbmluaGVyaXRzKFRyYWNrLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUcmFjay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNrO1xuXG5wLnR5cGUgPSAncGxhaW5fdHJhY2tfdHlwZSc7XG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1Hcm91cC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIHNlbGVjdG9yczogXy5jbG9uZSh0aGlzLl9zZWxlY3RvcnMpLFxuICAgICAgICBwYXJhbVRyZWU6IHRoaXMucGFyYW1Hcm91cC5nZXRTYXZlKCksXG4gICAgfTtcblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICghc2F2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2VsZWN0b3JzID0gc2F2ZS5zZWxlY3RvcnMgfHwgW107XG4gICAgaWYgKHNhdmUucGFyYW1UcmVlKSB0aGlzLnBhcmFtR3JvdXAudXNlU2F2ZShzYXZlLnBhcmFtVHJlZSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoRW5kUGFyYW1zKCk7XG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkRWxlbXMoKTtcbiAgICB0aGlzLl9yZWZyZXNoUGxheWVyKCk7XG59O1xuXG5wLl9nZXRTY3JpcHRQYXJhbXMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICB0aGlzLl9lbmRQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGxhc3RUaW1lID0gMDtcblxuICAgICAgICBwYXJhbSA9IHBhcmFtLmdldFNjcmlwdEtleXMoe3J1bm5hYmxlOiBvcHQucnVubmFibGV9KS5tYXAoa2V5ID0+IHtcblxuICAgICAgICAgICAga2V5LmR1cmF0aW9uID0gKGtleS50aW1lIC0gbGFzdFRpbWUpLzEwMDA7XG4gICAgICAgICAgICBsYXN0VGltZSA9IGtleS50aW1lO1xuICAgICAgICAgICAgZGVsZXRlIGtleS50aW1lO1xuXG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFyYW0ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaGFuZGxlVHJhbnNmb3JtT3JpZ2luKCk7XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuXG5cblxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVHJhbnNmb3JtT3JpZ2luKCkge1xuXG4gICAgICAgIHZhciB0b3ggPSBfLmZpbmQocGFyYW1zLCBwYXJhbSA9PiAndHJhbnNmb3JtT3JpZ2luWCcgaW4gcGFyYW1bMF0ub3B0aW9ucyk7XG4gICAgICAgIHZhciB0b3kgPSBfLmZpbmQocGFyYW1zLCBwYXJhbSA9PiAndHJhbnNmb3JtT3JpZ2luWScgaW4gcGFyYW1bMF0ub3B0aW9ucyk7XG4gICAgICAgIHZhciB0b3ogPSBfLmZpbmQocGFyYW1zLCBwYXJhbSA9PiAndHJhbnNmb3JtT3JpZ2luWicgaW4gcGFyYW1bMF0ub3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCF0b3gpIHJldHVybjtcblxuICAgICAgICB2YXIgdG8gPSBbXTtcbiAgICAgICAgdG94LmZvckVhY2goZnVuY3Rpb24gKGtleSwgaWR4KSB7XG5cbiAgICAgICAgICAgIHRvLnB1c2goe1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBrZXkuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBlYXNlOiBrZXkub3B0aW9ucy5lYXNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICh0b3ggJiYgdG94W2lkeF0gPyB0b3hbaWR4XS5vcHRpb25zLnRyYW5zZm9ybU9yaWdpblggOiAnNTAlJykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHRveSAmJiB0b3lbaWR4XSA/IHRveVtpZHhdLm9wdGlvbnMudHJhbnNmb3JtT3JpZ2luWSA6ICc1MCUnKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodG96ICYmIHRveltpZHhdID8gKHRveltpZHhdLm9wdGlvbnMudHJhbnNmb3JtT3JpZ2luWiB8fCAnMHB4JykgOiAnJyksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0b3gpIHBhcmFtcy5zcGxpY2UocGFyYW1zLmluZGV4T2YodG94KSwgMSk7XG4gICAgICAgIGlmICh0b3kpIHBhcmFtcy5zcGxpY2UocGFyYW1zLmluZGV4T2YodG95KSwgMSk7XG4gICAgICAgIGlmICh0b3opIHBhcmFtcy5zcGxpY2UocGFyYW1zLmluZGV4T2YodG96KSwgMSk7XG4gICAgICAgIHBhcmFtcy5wdXNoKHRvKTtcbiAgICB9XG59O1xuXG5wLmdldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByb290VGwgPSBuZXcgVGltZWxpbmVNYXgoKS5wYXVzZSgpLFxuICAgICAgICBzY3JpcHRQYXJhbXMgPSB0aGlzLl9nZXRTY3JpcHRQYXJhbXMoe3J1bm5hYmxlOiB0cnVlfSksXG4gICAgICAgIHNlbGVjdGVkRWxlbXMgPSB0aGlzLl9zZWxlY3RlZEVsZW1zO1xuXG4gICAgc2NyaXB0UGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KCk7XG4gICAgICAgIHJvb3RUbC5hZGQodGwsIDApO1xuXG4gICAgICAgIHBhcmFtLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgICAgICB0bC50byhzZWxlY3RlZEVsZW1zLCBrZXkuZHVyYXRpb24sIGtleS5vcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm9vdFRsO1xufTtcblxucC5nZXRTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgY29kZSA9ICcnLCBzZWxlY3RvcnMsXG4gICAgICAgIHRpbWVsaW5lcyA9IHRoaXMuX2dldFNjcmlwdFBhcmFtcyh7cnVubmFibGU6IGZhbHNlfSk7XG5cblxuICAgIC8vVE9ETzogbWVyZ2UgdGltZWxpbmVzIGlmIGl0J3MgcG9zc2libGVcbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgIC8vICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRpbWVsaW5lcy5sZW5ndGg7ICsraikge1xuXG4gICAgLy8gICAgICAgICBpZiAoaSAhPT0gaiAmJiB0aW1lbGluZXNbaV0ubGVuZ3RoID09PSB0aW1lbGluZXNbal0ubGVuZ3RoKSB7XG5cbiAgICAvLyAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB0aW1lbGluZXNbaV0uZXZlcnkoZnVuY3Rpb24gKGlLZXksIGlkeCkge1xuXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciBqS2V5ID0gdGltZWxpbmVzW2pdW2lkeF07XG5cbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIGlLZXkudGltZSA9PT0gaktleS50aW1lICYmIGlLZXkuZWFzZS5tYXRjaChqS2V5LmVhc2UpO1xuICAgIC8vICAgICAgICAgICAgIH0pO1xuXG4gICAgLy8gICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG5cbiAgICAvLyAgICAgICAgICAgICAgICAgdGltZWxpbmVzW2ldLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaWR4KSB7XG5cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIF8uYXNzaWduKGtleSwgdGltZWxpbmVzW2pdW2lkeF0pO1xuXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aW1lbGluZXMuc3BsaWNlKGosIGlkeCk7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoLS1qIDwgaSkge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgfSk7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgc2VsZWN0b3JzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5fc2VsZWN0b3JzKTtcbiAgICB0aW1lbGluZXMgPSBKU09OLnN0cmluZ2lmeSh0aW1lbGluZXMpO1xuICAgIC8vcmVtb3ZlIHF1b3RlcyBhcm91bmQgdGhlIEVhc2UgY29uc3RydWN0b3IgY2FsbHNcbiAgICAvL1RPRE86IGRvIHRoaXMgc29tZWhvdyBuaWNlclxuICAgIHRpbWVsaW5lcyA9IHRpbWVsaW5lcy5yZXBsYWNlKC9cImVhc2VcIjpcIiguKj8pXCIvZywgJ1wiZWFzZVwiOiQxJyk7XG5cbiAgICBjb2RlID0gTXVzdGFjaGUucmVuZGVyKG1zdFBsYXllciwge1xuICAgICAgICB0aW1lbGluZXM6IHRpbWVsaW5lcyxcbiAgICAgICAgc2VsZWN0b3JzOiBzZWxlY3RvcnMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29kZTtcbn07XG5cbnAuYWRkUGFyYW0gPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgcGFyYW0gPSB0aGlzLmdldFBhcmFtKG9wdC5uYW1lKTtcblxuICAgIGlmIChwYXJhbSkge1xuXG4gICAgICAgIGlmIChvcHQua2V5cykge1xuXG4gICAgICAgICAgICBvcHQua2V5cy5mb3JFYWNoKHBhcmFtLmFkZEtleSwgcGFyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdoaWRkZW4nIGluIG9wdCkge1xuXG4gICAgICAgICAgICBwYXJhbS5oaWRkZW4gPSBvcHQuaGlkZGVuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnBhcmFtR3JvdXAuYWRkUGFyYW0ob3B0KTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaEVuZFBhcmFtcygpO1xuICAgICAgICBwYXJhbSA9IF8uZmluZCh0aGlzLl9lbmRQYXJhbXMsIHtuYW1lOiBvcHQubmFtZX0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbTtcbn07XG5cbnAuZ2V0UGFyYW0gPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2VuZFBhcmFtcy5maW5kKGZ1bmN0aW9uKHBhcmFtKSB7XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtLm5hbWUgPT09IG5hbWU7XG4gICAgfSk7XG59O1xuXG5wLnNlbGVjdCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIGlmICh0aGlzLl9pc1NlbGVjdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IHRydWU7XG5cblxuICAgIGlmICghdGhpcy5fdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgVHJhbnNoYW5kKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJhbnNmb3JtZXIub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uV2luZG93U2Nyb2xsKTtcblxuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZEVsZW1zKCk7XG5cbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRFbGVtcy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLmZvY3VzVHJhbnNmb3JtZXIob3B0LmZvY3VzRWxlbSB8fCB0aGlzLl9zZWxlY3RlZEVsZW1zWzBdKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcmFtR3JvdXAub3B0aW9uTGluZS5oaWdobGlnaHQgPSB0cnVlO1xuXG4gICAgdGhpcy5lbWl0KCdzZWxlY3QnLCB0aGlzKTtcbn07XG5cbnAuZGVzZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2lzU2VsZWN0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc1NlbGVjdGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9ibHVyVHJhbnNmb3JtZXIoKTtcblxuICAgIHRoaXMucGFyYW1Hcm91cC5vcHRpb25MaW5lLmhpZ2hsaWdodCA9IGZhbHNlO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uV2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25XaW5kb3dTY3JvbGwpO1xuXG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyKSB7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIub2ZmKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZVRyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICB9XG59O1xuXG5wLmlzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5faXNTZWxlY3RlZDtcbn07XG5cbnAucmVuZGVyVGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICBpZiAodGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRpbWVsaW5lID8gdGhpcy50aW1lbGluZS5jdXJyVGltZSA6IDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3NlbGVjdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3BsYXllci50aW1lKHRpbWUvMTAwMCk7XG4gICAgcmV0dXJuO1xufTtcblxucC5wbGF5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX2FuaW1QbGF5KCk7XG59O1xuXG5wLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XG5cbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbVBsYXlSYWZpZCk7XG59O1xuXG5wLmdldE1hZ25ldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLnBhcmFtR3JvdXAua2V5TGluZS5nZXRLZXlUaW1lcygpO1xufTtcblxucC5fc2hvd1NldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgZGlhbG9nVHJhY2tPcHRpb25zLnNob3coe1xuICAgICAgICBuYW1lOiB0aGlzLnBhcmFtR3JvdXAubmFtZSxcbiAgICAgICAgc2VsZWN0b3JzOiB0aGlzLl9zZWxlY3RvcnMsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgICAnY2hhbmdlLm5hbWUnOiBuYW1lID0+IHRoaXMucGFyYW1Hcm91cC5uYW1lID0gbmFtZSxcbiAgICAgICAgICAgICdjaGFuZ2Uuc2VsZWN0b3JzJzogdGhpcy5fb25DaGFuZ2VTZWxlY3RvcnMsXG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuXG5wLl9hbmltUGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2FuaW1QbGF5UmFmaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5KTtcblxuICAgIHRoaXMucmVuZGVyVGltZSh0aGlzLnRpbWVsaW5lLmN1cnJUaW1lKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fb25TZWxlY3RDbGljayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuc2VsZWN0KCk7XG59O1xuXG5wLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gZnVuY3Rpb24ocGFyYW1zLCB0eXBlKSB7XG5cbiAgICB2YXIgdGltZSA9IHRoaXMudGltZWxpbmUuY3VyclRpbWU7XG5cbiAgICB2YXIgYWRkID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICd4JyB8fCBuYW1lID09PSAneScpIHtcblxuICAgICAgICAgICAgbGV0IGJlemllclBhcmFtID0gdGhpcy5nZXRQYXJhbSgnYmV6aWVyJyk7XG5cbiAgICAgICAgICAgIGlmIChiZXppZXJQYXJhbSAmJiAhYmV6aWVyUGFyYW0uaGlkZGVuKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gYmV6aWVyUGFyYW0uZ2V0S2V5KHRpbWUpLFxuICAgICAgICAgICAgICAgICAgICBrZXlPcHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAga2V5T3B0ID0ga2V5LmdldFNhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7eCwgeX0gPSBiZXppZXJQYXJhbS5nZXRWYWx1ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPIGJlemllclBhcmFtLmluemVydFBvaW50KHRpbWUsIC4uLilcbiAgICAgICAgICAgICAgICAgICAga2V5T3B0ID0ge3RpbWUsIHZhbHVlOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiB7eCwgeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eCwgeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSaWdodDoge3gsIHl9LFxuICAgICAgICAgICAgICAgICAgICB9XX07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFBvaW50ID0gXy5sYXN0KGtleU9wdC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpZmYgPSB2YWx1ZSAtIGxhc3RQb2ludC5hbmNob3JbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQuYW5jaG9yW25hbWVdICs9IGRpZmY7XG4gICAgICAgICAgICAgICAgbGFzdFBvaW50LmhhbmRsZUxlZnRbbmFtZV0gKz0gZGlmZjtcbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQuaGFuZGxlUmlnaHRbbmFtZV0gKz0gZGlmZjtcblxuICAgICAgICAgICAgICAgIGJlemllclBhcmFtLmFkZEtleShrZXlPcHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5hZGRQYXJhbSh7bmFtZTogbmFtZX0pO1xuXG4gICAgICAgIHBhcmFtLmFkZEtleSh7XG4gICAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBpZiAodHlwZSA9PT0gJ3RyYW5zZm9ybScpIHtcblxuICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndHgnOiBhZGQoJ3gnLCBwYXJhbXNbbmFtZV0gKyAncHgnKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndHknOiBhZGQoJ3knLCBwYXJhbXNbbmFtZV0gKyAncHgnKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3gnOiBhZGQoJ3NjYWxlWCcsIHBhcmFtc1tuYW1lXSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N5JzogYWRkKCdzY2FsZVknLCBwYXJhbXNbbmFtZV0pOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyeic6IGFkZCgncm90YXRpb25aJywgKHBhcmFtc1tuYW1lXSAvIE1hdGguUEkgKiAxODApICsgJ2RlZycpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdveCc6IGFkZCgndHJhbnNmb3JtT3JpZ2luWCcsIChwYXJhbXNbbmFtZV0gKiAxMDApICsgJyUnKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb3knOiBhZGQoJ3RyYW5zZm9ybU9yaWdpblknLCAocGFyYW1zW25hbWVdICogMTAwKSArICclJyk7IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKHRoaXMuX2lzUGxheWluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJUaW1lKHRpbWUpO1xuICAgIHRoaXMuZm9jdXNUcmFuc2Zvcm1lcigpO1xufTtcblxucC5fb25DaGFuZ2VLZXlzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaFBsYXllcigpO1xuICAgIHRoaXMucmVuZGVyVGltZSgpO1xuICAgIHRoaXMuZm9jdXNUcmFuc2Zvcm1lcigpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2Uua2V5cycpO1xufTtcblxucC5fb25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZvY3VzVHJhbnNmb3JtZXIoKTtcbn07XG5cbnAuX29uV2luZG93U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mb2N1c1RyYW5zZm9ybWVyKCk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gdGhpcy50aW1lbGluZS5jdXJyVGltZSxcbiAgICAgICAgYWxsSGF2ZUtleSA9IHRoaXMuX2lzQWxsUGFyYW1zSGF2ZUtleSh0aW1lKSxcbiAgICAgICAgZmxhZyA9IGFtLmhpc3Rvcnkuc3RhcnRGbGFnKCd0b2dnbGUga2V5cycpO1xuXG4gICAgdGhpcy5fZW5kUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgaWYgKHBhcmFtLmlzVmFsaWQoKSkge1xuXG4gICAgICAgICAgICBpZiAoYWxsSGF2ZUtleSkge1xuICAgICAgICAgICAgICAgIHBhcmFtLnJlbW92ZUtleShwYXJhbS5nZXRLZXkodGltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uYWRkS2V5KHt0aW1lOiB0aW1lfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFtLmhpc3RvcnkuZW5kRmxhZyhmbGFnKTtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsSGlkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMpIHtcbiAgICAgICAgdGhpcy5fc2hvd1NlbGVjdGVkRWxlbXMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2hpZGVTZWxlY3RlZEVsZW1zKCk7XG4gICAgfVxufTtcblxucC5fb25DaGFuZ2VTZWxlY3RvcnMgPSBmdW5jdGlvbiAoc2VsZWN0b3JzKSB7XG5cbiAgICB0aGlzLl9zZWxlY3RvcnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9zZWxlY3RvcnMgPSB0aGlzLl9zZWxlY3RvcnMuY29uY2F0KHNlbGVjdG9ycyk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWRFbGVtcygpO1xuICAgIHRoaXMuX3JlZnJlc2hQbGF5ZXIoKTtcblxuICAgIGlmICh0aGlzLl9zZWxlY3RlZEVsZW1zLmluZGV4T2YodGhpcy5fY3VyckhhbmRsZWREZSkgPT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLmZvY3VzVHJhbnNmb3JtZXIodGhpcy5fY3VyckhhbmRsZWREZSB8fCB0aGlzLl9zZWxlY3RlZEVsZW1zWzBdKTtcbn07XG5cbnAuX29uQ2hhbmdlSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VIZWlnaHQnLCB0aGlzKTtcbn07XG5cblxuXG5cblxuXG5wLl9yZWZyZXNoUGxheWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX3BsYXllcikgdGhpcy5fcGxheWVyLmtpbGwoKTtcblxuICAgIHRoaXMuX3BsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XG59O1xuXG5cblxuXG5cblxucC5faXNBbGxQYXJhbXNIYXZlS2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9lbmRQYXJhbXMuZXZlcnkoZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtLmdldEtleSh0aW1lKSB8fCAhcGFyYW0uaXNWYWxpZCgpO1xuICAgIH0pO1xufTtcblxuXG5cblxuXG5cbnAuaXNPd25lZERvbUVsZW0gPSBmdW5jdGlvbiAoZGUpIHtcblxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEVsZW1zLmluZGV4T2YoZGUpICE9PSAtMTtcbn07XG5cbnAuX3JlZnJlc2hFbmRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9lbmRQYXJhbXMgPSB0aGlzLnBhcmFtR3JvdXAuZ2V0RW5kUGFyYW1zKCk7XG59XG5cbnAuX3JlZnJlc2hTZWxlY3RlZEVsZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGxpc3QgPSBbXTtcblxuICAgIHRoaXMuX3NlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuXG4gICAgICAgIGlmIChzZWxlY3Rvci50eXBlID09PSAnY3NzJykge1xuXG4gICAgICAgICAgICBhZGQoc2VsZWN0b3IudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlbGVjdG9yLnR5cGUgPT09ICdpbnB1dCcpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMudGltZWxpbmUuaW5wdXRzO1xuXG4gICAgICAgICAgICBzZWxlY3Rvci52YWx1ZS5zcGxpdCgnLicpLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRbbmFtZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBhZGQocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtcyA9IGxpc3Q7XG5cbiAgICBmdW5jdGlvbiBhZGQoaXRlbSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YoaXRlbSkgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGFtLmRlUm9vdC5xdWVyeVNlbGVjdG9yQWxsKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVtcyk7XG4gICAgICAgICAgICBsaXN0ID0gbGlzdC5jb25jYXQoaXRlbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdpbmRvdy5qUXVlcnkgJiYgaXRlbSBpbnN0YW5jZW9mIHdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChpdGVtLnRvQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnRpbWVsaW5lLm9mZignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZSwgdGhpcyk7XG5cbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi91dGlscy9PcHRpb25MaW5lJyk7XG5cbnZhciBjdXJyRWFzZSwgXG4gICAgYmVpemVyRWRpdG9yLFxuICAgIG9wdFJvdWdoRWFzZSxcbiAgICBvcHRSb3VnaFN0cmVuZ3RoLFxuICAgIG9wdFJvdWdoUG9pbnRzLFxuICAgIG9wdFJvdWdoQ2xhbXAsXG4gICAgb3B0Um91Z2hSYW5kb21pc2UsXG4gICAgb3B0Um91Z2hUYXBlcixcbiAgICBvcHRSb3VnaFN0cmVuZ3RoLCBcbiAgICBkaWFsb2cgID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiAnS2V5JyxcbiAgICB9KTtcblxuY3JlYXRlQ29udGVudCgpO1xuXG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaEVhc2UnLCBpbnB1dDogb3B0Um91Z2hFYXNlLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hTdHJlbmd0aCcsIGlucHV0OiBvcHRSb3VnaFN0cmVuZ3RoLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hQb2ludHMnLCBpbnB1dDogb3B0Um91Z2hQb2ludHMuaW5wdXRzLmlucHV0fSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaENsYW1wJywgaW5wdXQ6IG9wdFJvdWdoQ2xhbXAuaW5wdXRzLmlucHV0fSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaFJhbmRvbWlzZScsIGlucHV0OiBvcHRSb3VnaFJhbmRvbWlzZS5pbnB1dHMuaW5wdXR9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3JvdWdoVGFwZXInLCBpbnB1dDogb3B0Um91Z2hUYXBlci5pbnB1dHMuaW5wdXR9KTtcblxuXG5cblxuZGlhbG9nLnNob3cgPSBmdW5jdGlvbiAob3B0PXt9KSB7XG5cbiAgICBvcHQucm91Z2hFYXNlID0gb3B0LmVhc2Uucm91Z2hFYXNlO1xuICAgIG9wdC5yb3VnaFN0cmVuZ3RoID0gb3B0LmVhc2Uucm91Z2hTdHJlbmd0aDtcbiAgICBvcHQucm91Z2hQb2ludHMgPSBvcHQuZWFzZS5yb3VnaFBvaW50cztcbiAgICBvcHQucm91Z2hDbGFtcCA9IG9wdC5lYXNlLnJvdWdoQ2xhbXA7XG4gICAgb3B0LnJvdWdoUmFuZG9taXNlID0gb3B0LmVhc2Uucm91Z2hSYW5kb21pc2U7XG4gICAgb3B0LnJvdWdoVGFwZXIgPSBvcHQuZWFzZS5yb3VnaFRhcGVyO1xuXG4gICAgRGlhbG9nLnByb3RvdHlwZS5zaG93LmNhbGwodGhpcywgb3B0KTtcblxuICAgIGlmICghKCdlYXNlJyBpbiBvcHQpKSB0aHJvdygnb3B0LmVhc2UgbXVzdCBiZSBzZXQnKTtcblxuICAgIGN1cnJFYXNlID0gb3B0LmVhc2U7XG4gICAgYmVpemVyRWRpdG9yLnNldEVhc2UoY3VyckVhc2UpO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcblxuICAgIGRpYWxvZy5hZGRCdXR0b24oJ29rJywgJ2hpZGUnKTtcblxuICAgIGFtZ3VpLmNyZWF0ZUJ0bih7XG4gICAgICAgIHRleHQ6ICdzYXZlL2xvYWQgZWFzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgIH0pO1xuXG4gICAgYmVpemVyRWRpdG9yID0gYW1ndWkuY3JlYXRlQmV6aWVyRWRpdG9yKHtcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgIH0pO1xuXG5cbiAgICBvcHRSb3VnaEVhc2UgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAncm91Z2ggZWFzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB2ID0+IHNldFJvdWdoT3B0aW9uc1Zpc2liaWxpdHkodiksXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hTdHJlbmd0aCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdzdHJlbmd0aCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMC4wMixcbiAgICAgICAgICAgIHByZWNpc2lvbjogMlxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIG9wdFJvdWdoUG9pbnRzID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3BvaW50cycsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMSxcbiAgICAgICAgICAgIHByZWNpc2lvbjogMCxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICBvcHRSb3VnaENsYW1wID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ2NsYW1wJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0J1xuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIG9wdFJvdWdoUmFuZG9taXNlID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3JhbmRvbWlzZScsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCdcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICBvcHRSb3VnaFRhcGVyID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3RhcGVyJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgICAgICBvcHRpb25zOiBbJ25vbmUnLCAnaW4nLCAnb3V0JywgJ2JvdGgnXVxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNldFJvdWdoT3B0aW9uc1Zpc2liaWxpdHkodikge1xuXG4gICAgICAgIG9wdFJvdWdoU3RyZW5ndGguZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gdiA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIG9wdFJvdWdoUG9pbnRzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICBvcHRSb3VnaENsYW1wLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICBvcHRSb3VnaFJhbmRvbWlzZS5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgb3B0Um91Z2hUYXBlci5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9XG4gICAgc2V0Um91Z2hPcHRpb25zVmlzaWJpbGl0eShmYWxzZSk7XG59O1xuXG4vLyBwLl9vblNlbGVjdEVhc2UgPSBmdW5jdGlvbiAoZSkge1xuXG4vLyAgICAgdGhpcy5lYXNlID0gZS5kZXRhaWwuc2VsZWN0aW9uO1xuLy8gfTtcblxuLy8gcC5fb25DaGFuZ2VFYXNlID0gZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgdGhpcy5lYXNlID0gdGhpcy5faW5wRWFzZS52YWx1ZTtcbi8vIH07XG5cbmZ1bmN0aW9uIG9uQ2hhbmdlQmV6aWVyKGUpIHtcbiAgICBjdXJyRWFzZS5wb2ludHMgPSBlLmRldGFpbC5wb2ludHM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBTdHJpbmdJbnB1dCA9IHJlcXVpcmUoJy4uL3V0aWxzL1N0cmluZ0lucHV0Jyk7XG5cbnZhciBpbml0ZWQgPSBmYWxzZSxcbiAgICBpbnBQYXJhbU5hbWUsXG4gICAgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiAnTmV3IHBhcmFtJyxcbiAgICB9KTsgXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcblxuZGlhbG9nLmFkZEJ1dHRvbignYWRkJywgZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKGlucFBhcmFtTmFtZS52YWx1ZSkge1xuXG4gICAgICAgIGRpYWxvZy50cmFjay5hZGRQYXJhbSh7bmFtZTogaW5wUGFyYW1OYW1lLnZhbHVlfSk7XG4gICAgfVxuXG4gICAgZGlhbG9nLmhpZGUoKTtcbn0pO1xuZGlhbG9nLmFkZEJ1dHRvbignY2xvc2UnLCAnaGlkZScpO1xuXG5kaWFsb2cub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgY3JlYXRlQ29udGVudCgpO1xuXG4gICAgaW5wUGFyYW1OYW1lLnZhbHVlID0gJyc7XG59KTtcblxuXG5cbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3RyYWNrJywgaW5wdXQ6IGlucFBhcmFtTmFtZX0pO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICBpZiAoaW5pdGVkKSByZXR1cm47XG4gICAgaW5pdGVkID0gdHJ1ZTtcblxuICAgIHZhciBzdWdnZXN0aW9ucyA9IGdldENzc1BhcmFtcygpLm1hcChmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgcmV0dXJuIHt2YWx1ZTogY2FtZWxDYXNlKHN1Z2dlc3Rpb24ucHJvcGVydHkpfTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNhbWVsQ2FzZShpbnB1dCkgeyBcbiAgICAgIHJldHVybiBpbnB1dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywgZnVuY3Rpb24obWF0Y2gsIGdyb3VwMSkge1xuICAgICAgICAgIHJldHVybiBncm91cDEudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlucFBhcmFtTmFtZSA9IG5ldyBTdHJpbmdJbnB1dCh7XG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdjc3MgcGFyYW1ldGVyIG5hbWUnLFxuICAgICAgICBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnNcbiAgICB9KTtcbn1cblxuXG5cblxuXG5cblxuXG5cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NTU192YWx1ZXNfc3ludGF4XG5cbi8vIHZhciBtZG5Dc3NTeW50YXggPSBbXTtcbi8vICQoJ3Rib2R5IHRyJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbi8vICAgICB2YXIgY2hpbGRyZW4gPSAkKHRoaXMpLmNoaWxkcmVuKCk7XG5cbi8vICAgICBtZG5Dc3NTeW50YXgucHVzaCh7XG4vLyAgICAgICAgIHByb3BlcnR5OiAkKGNoaWxkcmVuWzBdKS50ZXh0KCksXG4vLyAgICAgICAgIHN5bnRheDogJChjaGlsZHJlblsxXSkudGV4dCgpLFxuLy8gICAgICAgICBpbml0aWFsVmFsdWU6ICQoY2hpbGRyZW5bMl0pLnRleHQoKSxcbi8vICAgICAgICAgaW5oZXJpdGVkOiAkKGNoaWxkcmVuWzNdKS50ZXh0KCksXG4vLyAgICAgICAgIG1lZGlhOiAkKGNoaWxkcmVuWzRdKS50ZXh0KCksXG4vLyAgICAgfSk7XG4vLyB9KTtcbi8vIG1kbkNzc1N5bnRheDtcbi8vIEpTT04uc3RyaW5naWZ5KG1kbkNzc1N5bnRheCwgbnVsbCwgMik7XG5cbmZ1bmN0aW9uIGdldENzc1BhcmFtcygpIHtcbiAgICByZXR1cm4gW1xuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiPHNpbmdsZS1hbmltYXRpb24tbmFtZT4gfHwgPHRpbWU+IHx8IDx0aW1pbmctZnVuY3Rpb24+IHx8IDx0aW1lPiB8fCA8c2luZ2xlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ+IHx8IDxzaW5nbGUtYW5pbWF0aW9uLWRpcmVjdGlvbj4gfHwgPHNpbmdsZS1hbmltYXRpb24tZmlsbC1tb2RlPiB8fCA8c2luZ2xlLWFuaW1hdGlvbi1wbGF5LXN0YXRlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmFuaW1hdGlvbi1uYW1lOiBub25lYW5pbWF0aW9uLWR1cmF0aW9uOiAwc2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2VhbmltYXRpb24tZGVsYXk6IDBzYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMWFuaW1hdGlvbi1kaXJlY3Rpb246IG5vcm1hbGFuaW1hdGlvbi1maWxsLW1vZGU6IG5vbmVhbmltYXRpb24tcGxheS1zdGF0ZTogcnVubmluZ1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24tZGVsYXlcIixcbiAgICBcInN5bnRheFwiOiBcIjx0aW1lPiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBzXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi1kaXJlY3Rpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjxzaW5nbGUtYW5pbWF0aW9uLWRpcmVjdGlvbj4jXFxuICAgIHdoZXJlIDxzaW5nbGUtYW5pbWF0aW9uLWRpcmVjdGlvbj4gPSBub3JtYWwgfCByZXZlcnNlIHwgYWx0ZXJuYXRlIHwgYWx0ZXJuYXRlLXJldmVyc2VcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24tZHVyYXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjx0aW1lPiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBzXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi1maWxsLW1vZGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxzaW5nbGUtYW5pbWF0aW9uLWZpbGwtbW9kZT4jXFxuICAgIHdoZXJlIDxzaW5nbGUtYW5pbWF0aW9uLWZpbGwtbW9kZT4gPSBub25lIHwgZm9yd2FyZHMgfCBiYWNrd2FyZHMgfCBib3RoXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxzaW5nbGUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudD4jXFxuICAgIHdoZXJlIDxzaW5nbGUtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudD4gPSBpbmZpbml0ZSB8IDxudW1iZXI+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIxXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi1uYW1lXCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2luZ2xlLWFuaW1hdGlvbi1uYW1lPiNcXG4gICAgd2hlcmUgPHNpbmdsZS1hbmltYXRpb24tbmFtZT4gPSBub25lIHwgSURFTlRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxzaW5nbGUtYW5pbWF0aW9uLXBsYXktc3RhdGU+I1xcbiAgICB3aGVyZSA8c2luZ2xlLWFuaW1hdGlvbi1wbGF5LXN0YXRlPiA9IHJ1bm5pbmcgfCBwYXVzZWRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInJ1bm5pbmdcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiPHRpbWluZy1mdW5jdGlvbj4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJlYXNlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zaXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIlsgbm9uZSB8IDxzaW5nbGUtdHJhbnNpdGlvbi1wcm9wZXJ0eT4gXSB8fCA8dGltZT4gfHwgPHRpbWluZy1mdW5jdGlvbj4gfHwgPHRpbWU+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6dHJhbnNpdGlvbi1kZWxheTogMHN0cmFuc2l0aW9uLWR1cmF0aW9uOiAwc3RyYW5zaXRpb24tcHJvcGVydHk6IGFsbHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidHJhbnNpdGlvbi1kZWxheVwiLFxuICAgIFwic3ludGF4XCI6IFwiPHRpbWU+I1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMHNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8dGltZT4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwc1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zaXRpb24tcHJvcGVydHlcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8c2luZ2xlLXRyYW5zaXRpb24tcHJvcGVydHk+I8KgIFsg4oCYLOKAmSA8c2luZ2xlLXRyYW5zaXRpb24tcHJvcGVydHk+IyBdKlxcbiAgICBcXG4gICAgd2hlcmUgPHNpbmdsZS10cmFuc2l0aW9uLXByb3BlcnR5PiA9IGFsbCB8IElERU5UXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhbGxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjx0aW1pbmctZnVuY3Rpb24+I1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiZWFzZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zZm9ybVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IDx0cmFuc2Zvcm0tZnVuY3Rpb24+K1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+IHwgbGVmdCB8IGNlbnRlciB8IHJpZ2h0IHwgdG9wIHwgYm90dG9tXSB8IFsgWyA8cGVyY2VudGFnZT4gfCA8bGVuZ3RoPiB8IGxlZnQgfCBjZW50ZXIgfCByaWdodCBdICYmIFsgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD4gfCB0b3AgfCBjZW50ZXIgfCBib3R0b20gXSBdIDxsZW5ndGg+P1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiNTAlIDUwJSAwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zZm9ybS1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwiZmxhdCB8IHByZXNlcnZlLTNkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJmbGF0XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBlcnNwZWN0aXZlXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGVyc3BlY3RpdmUtb3JpZ2luXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+IHwgbGVmdCB8IGNlbnRlciB8IHJpZ2h0IHwgdG9wIHwgYm90dG9tXSB8IFsgWyA8cGVyY2VudGFnZT4gfCA8bGVuZ3RoPiB8IGxlZnQgfCBjZW50ZXIgfCByaWdodCBdICYmIFsgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD4gfCB0b3AgfCBjZW50ZXIgfCBib3R0b20gXSBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCI1MCUgNTAlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tmYWNlLXZpc2liaWxpdHlcIixcbiAgICBcInN5bnRheFwiOiBcInZpc2libGUgfCBoaWRkZW5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInZpc2libGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIlZhcmllcyBmcm9tIG9uZSBicm93c2VyIHRvIGFub3RoZXJcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm9wYWNpdHlcIixcbiAgICBcInN5bnRheFwiOiBcIjxudW1iZXI+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIxLjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sdW1uc1wiLFxuICAgIFwic3ludGF4XCI6IFwiPCdjb2x1bW4td2lkdGgnPiB8fCA8J2NvbHVtbi1jb3VudCc+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Y29sdW1uLXdpZHRoOiBhdXRvY29sdW1uLWNvdW50OiBhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi1jb3VudFwiLFxuICAgIFwic3ludGF4XCI6IFwiPG51bWJlcj4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi1nYXBcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgbm9ybWFsXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sdW1uLXJ1bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjwnY29sdW1uLXJ1bGUtd2lkdGgnPiB8fCA8J2NvbHVtbi1ydWxlLXN0eWxlJz4gfHwgPCdjb2x1bW4tcnVsZS1jb2xvcic+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Y29sdW1uLXJ1bGUtd2lkdGg6IG1lZGl1bWNvbHVtbi1ydWxlLXN0eWxlOiBub25lY29sdW1uLXJ1bGUtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tcnVsZS1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi1ydWxlLXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItc3R5bGU+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi1ydWxlLXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYnJlYWstYmVmb3JlXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHQgfCBwYWdlIHwgY29sdW1uIHwgYXZvaWQtcGFnZSB8IGF2b2lkLWNvbHVtXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJwYWdlZFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYnJlYWstYWZ0ZXJcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBhbHdheXMgfCBhdm9pZCB8IGxlZnQgfCByaWdodCB8IHBhZ2UgfCBjb2x1bW4gfCBhdm9pZC1wYWdlIHwgYXZvaWQtY29sdW1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJicmVhay1pbnNpZGVcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBhdm9pZCB8IGF2b2lkLXBhZ2UgfCBhdm9pZC1jb2x1bW5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tc3BhblwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IGFsbFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tZmlsbFwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGJhbGFuY2VcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImJhbGFuY2VcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgYnV0LCBpbiBjb250aW51b3VzIG1lZGlhLCBoYXMgbm8gZWZmZWN0IGluIG92ZXJmbG93IGNvbHVtbnNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImh5cGhlbnNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBtYW51YWwgfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtYW51YWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImxldHRlci1zcGFjaW5nXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCA8bGVuZ3RoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3b3JkLXdyYXBcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGJyZWFrLXdvcmRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3ZlcmZsb3ctd3JhcFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgYnJlYWstd29yZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LXRyYW5zZm9ybVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IGNhcGl0YWxpemUgfCB1cHBlcmNhc2UgfCBsb3dlcmNhc2UgfCBmdWxsLXdpZHRoXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0YWItc2l6ZVwiLFxuICAgIFwic3ludGF4XCI6IFwifCA8bGVuZ3RoXFxcIj48aW50ZWdlcj4gfCA8bGVuZ3RoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiOFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1hbGlnblwiLFxuICAgIFwic3ludGF4XCI6IFwic3RhcnQgfCBlbmQgfCBsZWZ0IHwgcmlnaHQgfCBjZW50ZXIgfCBqdXN0aWZ5IHwgbWF0Y2gtcGFyZW50IHwgc3RhcnQgZW5kXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzdGFydCwgb3IgYSBuYW1lbGVzcyB2YWx1ZSB0aGF0IGFjdHMgYXMgbGVmdCBpZiBkaXJlY3Rpb24gaXMgbHRyLCByaWdodCBpZiBkaXJlY3Rpb24gaXMgcnRsIGlmIHN0YXJ0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWFsaWduLWxhc3RcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBzdGFydCB8IGVuZCB8IGxlZnQgfCByaWdodCB8IGNlbnRlciB8IGp1c3RpZnlcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtaW5kZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiAmJiBbIGhhbmdpbmcgfHwgZWFjaC1saW5lIF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImRpcmVjdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwibHRyIHwgcnRsXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJsdHJcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIndoaXRlLXNwYWNlXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBwcmUgfCBub3dyYXAgfCBwcmUtd3JhcCB8IHByZS1saW5lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIndvcmQtYnJlYWtcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGJyZWFrLWFsbCB8IGtlZXAtYWxsXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIndvcmQtc3BhY2luZ1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibGluZS1icmVha1wiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGxvb3NlIHwgbm9ybWFsIHwgc3RyaWN0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtZGVjb3JhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiPCd0ZXh0LWRlY29yYXRpb24tbGluZSc+IHx8IDwndGV4dC1kZWNvcmF0aW9uLXN0eWxlJz4gfHwgPCd0ZXh0LWRlY29yYXRpb24tY29sb3InPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOnRleHQtZGVjb3JhdGlvbi1jb2xvcjogY3VycmVudENvbG9ydGV4dC1kZWNvcmF0aW9uLXN0eWxlOiBzb2xpZHRleHQtZGVjb3JhdGlvbi1saW5lOiBub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtZGVjb3JhdGlvbi1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwic29saWQgfCBkb3VibGUgfCBkb3R0ZWQgfCBkYXNoZWQgfCB3YXZ5XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzb2xpZFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWRlY29yYXRpb24tbGluZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IFsgdW5kZXJsaW5lIHx8IG92ZXJsaW5lIHx8IGxpbmUtdGhyb3VnaCB8fCBibGluayBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtZGVjb3JhdGlvbi1za2lwXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgWyBvYmplY3RzIHx8IHNwYWNlcyB8fCBpbmsgfHwgZWRnZXMgfHwgYm94LWRlY29yYXRpb24gXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwib2JqZWN0c1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1zaGFkb3dcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8c2hhZG93LXQ+I1xcbiAgICB3aGVyZSA8c2hhZG93LXQ+ID0gWyA8bGVuZ3RoPnsyLDN9ICYmIDxjb2xvcj4/IF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtdW5kZXJsaW5lLXBvc2l0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgWyB1bmRlciB8fCBbIGxlZnQgfCByaWdodCBdIF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFsaWduLWNvbnRlbnRcIixcbiAgICBcInN5bnRheFwiOiBcImZsZXgtc3RhcnQgfCBmbGV4LWVuZCB8IGNlbnRlciB8IHNwYWNlLWJldHdlZW4gfCBzcGFjZS1hcm91bmQgfCBzdHJldGNoXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzdHJldGNoXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFsaWduLWl0ZW1zXCIsXG4gICAgXCJzeW50YXhcIjogXCJmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBiYXNlbGluZSB8IHN0cmV0Y2hcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInN0cmV0Y2hcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYWxpZ24tc2VsZlwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGZsZXgtc3RhcnQgfCBmbGV4LWVuZCB8IGNlbnRlciB8IGJhc2VsaW5lIHwgc3RyZXRjaFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4LWJhc2lzXCIsXG4gICAgXCJzeW50YXhcIjogXCJjb250ZW50IHwgPCd3aWR0aCc+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZsZXgtZGlyZWN0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCJyb3cgfCByb3ctcmV2ZXJzZSB8IGNvbHVtbiB8IGNvbHVtbi1yZXZlcnNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJyb3dcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZmxleC1mbG93XCIsXG4gICAgXCJzeW50YXhcIjogXCI8J2ZsZXgtZGlyZWN0aW9uJz4gfHwgPCdmbGV4LXdyYXAnPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmZsZXgtZGlyZWN0aW9uOiByb3dmbGV4LXdyYXA6IG5vd3JhcFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4LWdyb3dcIixcbiAgICBcInN5bnRheFwiOiBcIjxudW1iZXI+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZsZXgtc2hyaW5rXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4XCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgWyA8J2ZsZXgtZ3Jvdyc+IDwnZmxleC1zaHJpbmsnPj8gfHwgPCdmbGV4LWJhc2lzJz4gXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmZsZXgtZ3JvdzogMGZsZXgtc2hyaW5rOiAxZmxleC1iYXNpczogYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4LXdyYXBcIixcbiAgICBcInN5bnRheFwiOiBcIm5vd3JhcCB8IHdyYXAgfCB3cmFwLXJldmVyc2VcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vd3JhcFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJqdXN0aWZ5LWNvbnRlbnRcIixcbiAgICBcInN5bnRheFwiOiBcImZsZXgtc3RhcnQgfCBmbGV4LWVuZCB8IGNlbnRlciB8IHNwYWNlLWJldHdlZW4gfCBzcGFjZS1hcm91bmRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImZsZXgtc3RhcnRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3JkZXJcIixcbiAgICBcInN5bnRheFwiOiBcIjxpbnRlZ2VyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxiZy1sYXllcj4gLCBdKiA8ZmluYWwtYmctbGF5ZXI+XFxuICAgIHdoZXJlIDxiZy1sYXllcj4gPSA8YmctaW1hZ2U+IHx8IDxwb3NpdGlvbj4gWyAvIDxiZy1zaXplPiBdPyB8fCA8cmVwZWF0LXN0eWxlPiB8fCA8YXR0YWNobWVudD4gfHwgPGJveD57MSwyfVxcbiAgICBhbmQgPGZpbmFsLWJnLWxheWVyPiA9IDxiZy1pbWFnZT4gfHwgPHBvc2l0aW9uPiBbIC8gPGJnLXNpemU+IF0/IHx8IDxyZXBlYXQtc3R5bGU+IHx8IDxhdHRhY2htZW50PiB8fCA8Ym94PnsxLDJ9IHx8IDwnYmFja2dyb3VuZC1jb2xvcic+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6YmFja2dyb3VuZC1pbWFnZTogbm9uZWJhY2tncm91bmQtcG9zaXRpb246IDAlIDAlYmFja2dyb3VuZC1zaXplOiBhdXRvIGF1dG9iYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0YmFja2dyb3VuZC1vcmlnaW46IHBhZGRpbmctYm94YmFja2dyb3VuZC1zdHlsZTogaXMgaXRzZWxmIGEgc2hvcnRoYW5kLCBpdHMgaW5pdGlhbCB2YWx1ZSBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBpdHMgb3duIGxvbmdoYW5kIHByb3BlcnRpZXNiYWNrZ3JvdW5kLWNsaXA6IGJvcmRlci1ib3hiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxhdHRhY2htZW50PiNcXG4gICAgd2hlcmUgPGF0dGFjaG1lbnQ+ID0gc2Nyb2xsIHwgZml4ZWQgfCBsb2NhbFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic2Nyb2xsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtY2xpcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJveD4jXFxuICAgIHdoZXJlIDxib3g+ID0gYm9yZGVyLWJveCB8IHBhZGRpbmctYm94IHwgY29udGVudC1ib3hcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImJvcmRlci1ib3hcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidHJhbnNwYXJlbnRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1pbWFnZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJnLWltYWdlPiNcXG4gICAgd2hlcmUgPGJnLWltYWdlPiA9IG5vbmUgfCA8aW1hZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtb3JpZ2luXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Ym94PiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInBhZGRpbmctYm94XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtcG9zaXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjxwb3NpdGlvbj4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwJSAwJVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHJlcGVhdC1zdHlsZT4jXFxuICAgIHdoZXJlIDxyZXBlYXQtc3R5bGU+ID0gcmVwZWF0LXggfCByZXBlYXQteSB8IFtyZXBlYXQgfCBzcGFjZSB8IHJvdW5kIHwgbm8tcmVwZWF0XXsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJyZXBlYXRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1zaXplXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Ymctc2l6ZT4jXFxuICAgIHdoZXJlIDxiZy1zaXplPiA9IFsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvIF17MSwyfSB8IGNvdmVyIHwgY29udGFpblwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0byBhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPiB8fCA8YnItc3R5bGU+IHx8IDxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItd2lkdGg6IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItdG9wLXdpZHRoOiBtZWRpdW1ib3JkZXItcmlnaHQtd2lkdGg6IG1lZGl1bWJvcmRlci1ib3R0b20td2lkdGg6IG1lZGl1bWJvcmRlci1sZWZ0LXdpZHRoOiBtZWRpdW1ib3JkZXItc3R5bGU6IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItdG9wLXN0eWxlOiBub25lYm9yZGVyLXJpZ2h0LXN0eWxlOiBub25lYm9yZGVyLWJvdHRvbS1zdHlsZTogbm9uZWJvcmRlci1sZWZ0LXN0eWxlOiBub25lYm9yZGVyLWNvbG9yOiB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLXJpZ2h0LWNvbG9yOiBjdXJyZW50Q29sb3Jib3JkZXItYm90dG9tLWNvbG9yOiBjdXJyZW50Q29sb3Jib3JkZXItbGVmdC1jb2xvcjogY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1ib3R0b21cIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD4gfHwgPGJyLXN0eWxlPiB8fCA8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLWJvdHRvbS13aWR0aDogbWVkaXVtYm9yZGVyLWJvdHRvbS1zdHlsZTogbm9uZWJvcmRlci1ib3R0b20tY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJjdXJyZW50Q29sb3JcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiBdezEsMn1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1ib3R0b20tc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxici1zdHlsZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPnsxLDR9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLXJpZ2h0LWNvbG9yOiBjdXJyZW50Q29sb3Jib3JkZXItYm90dG9tLWNvbG9yOiBjdXJyZW50Q29sb3Jib3JkZXItbGVmdC1jb2xvcjogY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPCdib3JkZXItaW1hZ2Utc291cmNlJz4gfHwgPCdib3JkZXItaW1hZ2Utc2xpY2UnPiBbIC8gPCdib3JkZXItaW1hZ2Utd2lkdGgnPiB8IC8gPCdib3JkZXItaW1hZ2Utd2lkdGgnPj8gLyA8J2JvcmRlci1pbWFnZS1vdXRzZXQnPiBdPyB8fCA8J2JvcmRlci1pbWFnZS1yZXBlYXQnPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci1pbWFnZS1zb3VyY2U6IG5vbmVib3JkZXItaW1hZ2Utc2xpY2U6IDEwMCVib3JkZXItaW1hZ2Utd2lkdGg6IDFib3JkZXItaW1hZ2Utb3V0c2V0OiAwc2JvcmRlci1pbWFnZS1yZXBlYXQ6IHN0cmV0Y2hcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWltYWdlLW91dHNldFwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxudW1iZXI+IF17MSw0fVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMHNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWltYWdlLXJlcGVhdFwiLFxuICAgIFwic3ludGF4XCI6IFwiWyBzdHJldGNoIHwgcmVwZWF0IHwgcm91bmQgXXsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzdHJldGNoXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZS1zbGljZVwiLFxuICAgIFwic3ludGF4XCI6IFwiWzxudW1iZXI+IHwgPHBlcmNlbnRhZ2U+XXsxLDR9ICYmIGZpbGw/XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIxMDAlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZS1zb3VyY2VcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8aW1hZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZS13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IDxudW1iZXI+IHwgYXV0byBdezEsNH1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjFcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWxlZnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD4gfHwgPGJyLXN0eWxlPiB8fCA8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLWxlZnQtd2lkdGg6IG1lZGl1bWJvcmRlci1sZWZ0LXN0eWxlOiBub25lYm9yZGVyLWxlZnQtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItbGVmdC1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1sZWZ0LXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItc3R5bGU+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1sZWZ0LXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXJhZGl1c1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiBdezEsNH0gWyAvIFsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDR9IF0/XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1yaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPiB8fCA8YnItc3R5bGU+IHx8IDxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItcmlnaHQtd2lkdGg6IG1lZGl1bWJvcmRlci1yaWdodC1zdHlsZTogbm9uZWJvcmRlci1yaWdodC1jb2xvcjogY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1yaWdodC1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1yaWdodC1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXN0eWxlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm1lZGl1bVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxici1zdHlsZT57MSw0fVxcbiAgICB3aGVyZSA8YnItc3R5bGU+ID0gbm9uZSB8IGhpZGRlbiB8IGRvdHRlZCB8IGRhc2hlZCB8IHNvbGlkIHwgZG91YmxlIHwgZ3Jvb3ZlIHwgcmlkZ2UgfCBpbnNldCB8IG91dHNldFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci10b3Atc3R5bGU6IG5vbmVib3JkZXItcmlnaHQtc3R5bGU6IG5vbmVib3JkZXItYm90dG9tLXN0eWxlOiBub25lYm9yZGVyLWxlZnQtc3R5bGU6IG5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXRvcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPiB8fCA8YnItc3R5bGU+IHx8IDxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItdG9wLXdpZHRoOiBtZWRpdW1ib3JkZXItdG9wLXN0eWxlOiBub25lYm9yZGVyLXRvcC1jb2xvcjogY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci10b3AtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IF17MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiBdezEsMn1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXRvcC1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXN0eWxlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItdG9wLXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+ezEsNH1cXG4gICAgd2hlcmUgPGJyLXdpZHRoPiA9IDxsZW5ndGg+IHwgdGhpbiB8IG1lZGl1bSB8IHRoaWNrXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC13aWR0aDogbWVkaXVtYm9yZGVyLXJpZ2h0LXdpZHRoOiBtZWRpdW1ib3JkZXItYm90dG9tLXdpZHRoOiBtZWRpdW1ib3JkZXItbGVmdC13aWR0aDogbWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJveC1kZWNvcmF0aW9uLWJyZWFrXCIsXG4gICAgXCJzeW50YXhcIjogXCJzbGljZSB8IGNsb25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzbGljZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3gtc2hhZG93XCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPHNoYWRvdz4jXFxuICAgIHdoZXJlIDxzaGFkb3c+ID0gaW5zZXQ/ICYmIFsgPGxlbmd0aD57Miw0fSAmJiA8Y29sb3I+PyBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1hcmdpblwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG8gXXsxLDR9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6bWFyZ2luLWJvdHRvbTogMG1hcmdpbi1sZWZ0OiAwbWFyZ2luLXJpZ2h0OiAwbWFyZ2luLXRvcDogMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWFyZ2luLWxlZnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXJnaW4tcmlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXJnaW4tdG9wXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFkZGluZ1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiBdezEsNH1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpwYWRkaW5nLWJvdHRvbTogMHBhZGRpbmctbGVmdDogMHBhZGRpbmctcmlnaHQ6IDBwYWRkaW5nLXRvcDogMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFkZGluZy1sZWZ0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWRkaW5nLXJpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWRkaW5nLXRvcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm94LXNpemluZ1wiLFxuICAgIFwic3ludGF4XCI6IFwiY29udGVudC1ib3ggfCBwYWRkaW5nLWJveCB8IGJvcmRlci1ib3hcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImNvbnRlbnQtYm94XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1heC1oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgbm9uZSB8IG1heC1jb250ZW50IHwgbWluLWNvbnRlbnQgfCBmaXQtY29udGVudCB8IGZpbGwtYXZhaWxhYmxlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1pbi1oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0byB8IG1heC1jb250ZW50IHwgbWluLWNvbnRlbnQgfCBmaXQtY29udGVudCB8IGZpbGwtYXZhaWxhYmxlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImhlaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1heC13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBub25lIHwgbWF4LWNvbnRlbnQgfCBtaW4tY29udGVudCB8IGZpdC1jb250ZW50IHwgZmlsbC1hdmFpbGFibGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWluLXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG8gfCBtYXgtY29udGVudCB8IG1pbi1jb250ZW50IHwgZml0LWNvbnRlbnQgfCBmaWxsLWF2YWlsYWJsZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiWzxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XSAmJiBbYm9yZGVyLWJveCB8IGNvbnRlbnQtYm94XT8gfCBhdmFpbGFibGUgfCBtaW4tY29udGVudCB8IG1heC1jb250ZW50IHwgZml0LWNvbnRlbnQgfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm92ZXJmbG93XCIsXG4gICAgXCJzeW50YXhcIjogXCJ2aXNpYmxlIHwgaGlkZGVuIHwgc2Nyb2xsIHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidmlzaWJsZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdmVyZmxvdy14XCIsXG4gICAgXCJzeW50YXhcIjogXCJ2aXNpYmxlIHwgaGlkZGVuIHwgc2Nyb2xsIHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidmlzaWJsZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdmVyZmxvdy15XCIsXG4gICAgXCJzeW50YXhcIjogXCJ2aXNpYmxlIHwgaGlkZGVuIHwgc2Nyb2xsIHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidmlzaWJsZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ2aXNpYmlsaXR5XCIsXG4gICAgXCJzeW50YXhcIjogXCJ2aXNpYmxlIHwgaGlkZGVuIHwgY29sbGFwc2VcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInZpc2libGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1jb2xsYXBzZVwiLFxuICAgIFwic3ludGF4XCI6IFwiY29sbGFwc2UgfCBzZXBhcmF0ZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic2VwYXJhdGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1zcGFjaW5nXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiA8bGVuZ3RoPj9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNhcHRpb24tc2lkZVwiLFxuICAgIFwic3ludGF4XCI6IFwidG9wIHwgYm90dG9tXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0b3BcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImVtcHR5LWNlbGxzXCIsXG4gICAgXCJzeW50YXhcIjogXCJzaG93IHwgaGlkZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic2hvd1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGFibGUtbGF5b3V0XCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgZml4ZWRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidmVydGljYWwtYWxpZ25cIixcbiAgICBcInN5bnRheFwiOiBcImJhc2VsaW5lIHwgc3ViIHwgc3VwZXIgfCB0ZXh0LXRvcCB8IHRleHQtYm90dG9tIHwgbWlkZGxlIHwgdG9wIHwgYm90dG9tIHwgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImJhc2VsaW5lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvdHRvbVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImxlZnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJyaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRvcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZsb2F0XCIsXG4gICAgXCJzeW50YXhcIjogXCJsZWZ0IHwgcmlnaHQgfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNsZWFyXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgbGVmdCB8IHJpZ2h0IHwgYm90aFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwb3NpdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwic3RhdGljIHwgcmVsYXRpdmUgfCBhYnNvbHV0ZSB8IHN0aWNreSB8IGZpeGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzdGF0aWNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiei1pbmRleFwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IDxpbnRlZ2VyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250XCIsXG4gICAgXCJzeW50YXhcIjogXCJbIFsgPOKAmGZvbnQtc3R5bGXigJk+IHx8IDxmb250LXZhcmlhbnQtY3NzMjE+IHx8IDzigJhmb250LXdlaWdodOKAmT4gfHwgPOKAmGZvbnQtc3RyZXRjaOKAmT4gXT8gPOKAmGZvbnQtc2l6ZeKAmT4gWyAvIDzigJhsaW5lLWhlaWdodOKAmT4gXT8gPOKAmGZvbnQtZmFtaWx54oCZPiBdIHwgY2FwdGlvbiB8IGljb24gfCBtZW51IHwgbWVzc2FnZS1ib3ggfCBzbWFsbC1jYXB0aW9uIHwgc3RhdHVzLWJhclwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmZvbnQtc3R5bGU6IG5vcm1hbGZvbnQtdmFyaWFudDogbm9ybWFsZm9udC13ZWlnaHQ6IG5vcm1hbGZvbnQtc3RyZXRjaDogbm9ybWFsZm9udC1zaXplOiBtZWRpdW1saW5lLWhlaWdodDogbm9ybWFsZm9udC1mYW1pbHk6IGRlcGVuZHMgb24gdXNlciBhZ2VudFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC1mYW1pbHlcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGZhbWlseS1uYW1lPiB8IDxnZW5lcmljLWZhbWlseT4gXSNcXG4gICAgd2hlcmUgPGZhbWlseS1uYW1lPiA9IDxzdHJpbmc+IHwgPElERU5UPitcXG4gICAgYW5kIDxnZW5lcmljLW5hbWU+ID0gc2VyaWYgfCBzYW5zLXNlcmlmIHwgY3Vyc2l2ZSB8IGZhbnRhc3kgfCBtb25vc3BhY2VcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImRlcGVuZHMgb24gdXNlciBhZ2VudFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC12YXJpYW50XCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBub25lIHwgWyA8Y29tbW9uLWxpZy12YWx1ZXM+IHx8IDxkaXNjcmV0aW9uYXJ5LWxpZy12YWx1ZXM+IHx8IDxoaXN0b3JpY2FsLWxpZy12YWx1ZXM+IHx8IDxjb250ZXh0dWFsLWFsdC12YWx1ZXM+IHx8IHN0eWxpc3RpYyg8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgaGlzdG9yaWNhbC1mb3JtcyB8fCBzdHlsZXNldCg8ZmVhdHVyZS12YWx1ZS1uYW1lPiAjKSB8fCBjaGFyYWN0ZXItdmFyaWFudCg8ZmVhdHVyZS12YWx1ZS1uYW1lPiAjKSB8fCBzd2FzaCg8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgb3JuYW1lbnRzKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSB8fCBhbm5vdGF0aW9uKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSB8fCBbIHNtYWxsLWNhcHMgfCBhbGwtc21hbGwtY2FwcyB8IHBldGl0ZS1jYXBzIHwgYWxsLXBldGl0ZS1jYXBzIHwgdW5pY2FzZSB8IHRpdGxpbmctY2FwcyBdIHx8IDxudW1lcmljLWZpZ3VyZS12YWx1ZXM+IHx8IDxudW1lcmljLXNwYWNpbmctdmFsdWVzPiB8fCA8bnVtZXJpYy1mcmFjdGlvbi12YWx1ZXM+IHx8IG9yZGluYWwgfHwgc2xhc2hlZC16ZXJvIHx8IDxlYXN0LWFzaWFuLXZhcmlhbnQtdmFsdWVzPiB8fCA8ZWFzdC1hc2lhbi13aWR0aC12YWx1ZXM+IHx8IHJ1YnkgXSBcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC13ZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGJvbGQgfCBib2xkZXIgfCBsaWdodGVyIHwgMTAwIHwgMjAwIHwgMzAwIHwgNDAwIHwgNTAwIHwgNjAwIHwgNzAwIHwgODAwIHwgOTAwXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtc3RyZXRjaFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgdWx0cmEtY29uZGVuc2VkIHwgZXh0cmEtY29uZGVuc2VkIHwgY29uZGVuc2VkIHwgc2VtaS1jb25kZW5zZWQgfCBzZW1pLWV4cGFuZGVkIHwgZXhwYW5kZWQgfCBleHRyYS1leHBhbmRlZCB8IHVsdHJhLWV4cGFuZGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtc2l6ZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGFic29sdXRlLXNpemU+IHwgPHJlbGF0aXZlLXNpemU+IHwgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cXG4gICAgd2hlcmUgPGFic29sdXRlLXNpemU+ID0geHgtc21hbGwgfCBzLXNtYWxsIHwgc21hbGwgfCBtZWRpdW0gfCBsYXJnZSB8IHgtbGFyZ2UgfCB4eC1sYXJnZVxcbiAgICBhbmQgPHJlbGF0aXZlLXNpemU+ID0gbGFyZ2VyIHwgc21hbGxlclwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsaW5lLWhlaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgPG51bWJlcj4gfCA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IDxmZWF0dXJlLXRhZy12YWx1ZT4jXFxuICAgIHdoZXJlIDxmZWF0dXJlLXRhZy12YWx1ZT4gPSA8c3RyaW5nPiBbIDxpbnRlZ2VyPiB8IG9uIHwgb2ZmIF0/XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtbGFuZ3VhZ2Utb3ZlcnJpZGVcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IDxzdHJpbmc+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtc2l6ZS1hZGp1c3RcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgaXRhbGljIHwgb2JsaXF1ZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXN5bnRoZXNpc1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IFsgd2VpZ2h0IHx8IHN0eWxlIF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIndlaWdodCBzdHlsZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC1rZXJuaW5nXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgbm9ybWFsIHwgbm9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC12YXJpYW50LWxpZ2F0dXJlc1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgbm9uZSB8IFsgPGNvbW1vbi1saWctdmFsdWVzPiB8fCA8ZGlzY3JldGlvbmFyeS1saWctdmFsdWVzPiB8fCA8aGlzdG9yaWNhbC1saWctdmFsdWVzPiB8fCA8Y29udGV4dHVhbC1hbHQtdmFsdWVzPiBdXFxuICAgIHdoZXJlIDxjb21tb24tbGlnLXZhbHVlcz4gPSBbIGNvbW1vbi1saWdhdHVyZXMgfCBuby1jb21tb24tbGlnYXR1cmVzIF1cXG4gICAgYW5kIDxkaXNjcmV0aW9uYXJ5LWxpZy12YWx1ZXM+ID0gWyBkaXNjcmV0aW9uYXJ5LWxpZ2F0dXJlcyB8IG5vLWRpc2NyZXRpb25hcnktbGlnYXR1cmVzIF1cXG4gICAgYW5kIDxoaXN0b3JpY2FsLWxpZy12YWx1ZXM+ID0gWyBoaXN0b3JpY2FsLWxpZ2F0dXJlcyB8IG5vLWhpc3RvcmljYWwtbGlnYXR1cmVzIF1cXG4gICAgYW5kIDxjb250ZXh0dWFsLWFsdC12YWx1ZXM+ID0gWyBjb250ZXh0dWFsIHwgbm8tY29udGV4dHVhbCBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudC1wb3NpdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgc3ViIHwgc3VwZXJcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC12YXJpYW50LWNhcHNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IHNtYWxsLWNhcHMgfCBhbGwtc21hbGwtY2FwcyB8IHBldGl0ZS1jYXBzIHwgYWxsLXBldGl0ZS1jYXBzIHwgdW5pY2FzZSB8IHRpdGxpbmctY2Fwc1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXZhcmlhbnQtbnVtZXJpY1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgWyA8bnVtZXJpYy1maWd1cmUtdmFsdWVzPiB8fCA8bnVtZXJpYy1zcGFjaW5nLXZhbHVlcz4gfHwgPG51bWVyaWMtZnJhY3Rpb24tdmFsdWVzPiB8fCBvcmRpbmFsIHx8IHNsYXNoZWQtemVybyBdXFxuICAgIHdoZXJlIDxudW1lcmljLWZpZ3VyZS12YWx1ZXM+ID0gWyBsaW5pbmctbnVtcyB8IG9sZHN0eWxlLW51bXMgXVxcbiAgICBhbmQgPG51bWVyaWMtc3BhY2luZy12YWx1ZXM+ID0gWyBwcm9wb3J0aW9uYWwtbnVtcyB8IHRhYnVsYXItbnVtcyBdXFxuICAgIGFuZCA8bnVtZXJpYy1mcmFjdGlvbi12YWx1ZXM+ID0gWyBkaWFnb25hbC1mcmFjdGlvbnMgfCBzdGFja2VkLWZyYWN0aW9ucyBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudC1lYXN0LWFzaWFuXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBbIDxlYXN0LWFzaWFuLXZhcmlhbnQtdmFsdWVzPiB8fCA8ZWFzdC1hc2lhbi13aWR0aC12YWx1ZXM+IHx8IHJ1YnkgXSBcXG4gICAgd2hlcmUgPGVhc3QtYXNpYW4tdmFyaWFudC12YWx1ZXM+ID0gWyBqaXM3OCB8IGppczgzIHwgamlzOTAgfCBqaXMwNCB8IHNpbXBsaWZpZWQgfCB0cmFkaXRpb25hbCBdXFxuICAgIGFuZCA8ZWFzdC1hc2lhbi13aWR0aC12YWx1ZXM+ID0gWyBmdWxsLXdpZHRoIHwgcHJvcG9ydGlvbmFsLXdpZHRoIF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC12YXJpYW50LWFsdGVybmF0ZXNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IFsgc3R5bGlzdGljKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSB8fCBoaXN0b3JpY2FsLWZvcm1zIHx8IHN0eWxlc2V0KDxmZWF0dXJlLXZhbHVlLW5hbWU+ICMpIHx8IGNoYXJhY3Rlci12YXJpYW50KDxmZWF0dXJlLXZhbHVlLW5hbWU+ICMpIHx8IHN3YXNoKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSB8fCBvcm5hbWVudHMoPGZlYXR1cmUtdmFsdWUtbmFtZT4pIHx8IGFubm90YXRpb24oPGZlYXR1cmUtdmFsdWUtbmFtZT4pIF0gXFxuICAgIHdoZXJlIDxmZWF0dXJlLXZhbHVlLW5hbWU+ID0gSURFTlRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib2JqZWN0LWZpdFwiLFxuICAgIFwic3ludGF4XCI6IFwiZmlsbCB8IGNvbnRhaW4gfCBjb3ZlciB8IG5vbmUgfCBzY2FsZS1kb3duXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJmaWxsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvYmplY3QtcG9zaXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjxwb3NpdGlvbj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjUwJSA1MCVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImltYWdlLXJlbmRlcmluZ1wiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGNyaXNwLWVkZ2VzIHwgcGl4ZWxhdGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJpbWFnZS1vcmllbnRhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiZnJvbS1pbWFnZSB8IDxhbmdsZT4gfCBbPGFuZ2xlPj8gZmxpcF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBkZWdcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvdW50ZXItaW5jcmVtZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCJbPHVzZXItaWRlbnQ+IDxpbnRlZ2VyPj9dKyB8IG5vbmVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImFsbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY291bnRlci1yZXNldFwiLFxuICAgIFwic3ludGF4XCI6IFwiWzx1c2VyLWlkZW50PiA8aW50ZWdlcj4/XSsgfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJhbGxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImxpc3Qtc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjwnbGlzdC1zdHlsZS10eXBlJz4gfHwgPCdsaXN0LXN0eWxlLXBvc2l0aW9uJz4gfHwgPCdsaXN0LXN0eWxlLWltYWdlJz5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpsaXN0LXN0eWxlLXR5cGU6IGRpc2NsaXN0LXN0eWxlLXBvc2l0aW9uOiBvdXRzaWRlbGlzdC1zdHlsZS1pbWFnZTogbm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibGlzdC1zdHlsZS1pbWFnZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPHVyaT4gfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCJpbnNpZGUgfCBvdXRzaWRlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJvdXRzaWRlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsaXN0LXN0eWxlLXR5cGVcIixcbiAgICBcInN5bnRheFwiOiBcImRpc2MgfCBjaXJjbGUgfCBzcXVhcmUgfCBkZWNpbWFsIHwgZGVjaW1hbC1sZWFkaW5nLXplcm8gfCBsb3dlci1yb21hbiB8IHVwcGVyLXJvbWFuIHwgbG93ZXItZ3JlZWsgfCBsb3dlci1sYXRpbiB8IHVwcGVyLWxhdGluIHwgYXJtZW5pYW4gfCBnZW9yZ2lhbiB8IGxvd2VyLWFscGhhIHwgdXBwZXItYWxwaGEgfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJkaXNjXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvcnBoYW5zXCIsXG4gICAgXCJzeW50YXhcIjogXCI8aW50ZWdlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjJcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIHBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWdlLWJyZWFrLWFmdGVyXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgcGFnZWRcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBhZ2UtYnJlYWstYmVmb3JlXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgcGFnZWRcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBhZ2UtYnJlYWstaW5zaWRlXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYXZvaWRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgcGFnZWRcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIndpZG93c1wiLFxuICAgIFwic3ludGF4XCI6IFwiPGludGVnZXI+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIyXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBwYWdlZFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3V0bGluZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPCdvdXRsaW5lLWNvbG9yJz4gfHwgPCdvdXRsaW5lLXN0eWxlJz4gfHwgPCdvdXRsaW5lLXdpZHRoJz5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpvdXRsaW5lLWNvbG9yOiBpbnZlcnQsIGZvciBicm93c2VycyBzdXBwb3J0aW5nIGl0LCBjdXJyZW50Q29sb3IgZm9yIHRoZSBvdGhlcm91dGxpbmUtc3R5bGU6IG5vbmVvdXRsaW5lLXdpZHRoOiBtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm91dGxpbmUtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj4gfCBpbnZlcnRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImludmVydCwgZm9yIGJyb3dzZXJzIHN1cHBvcnRpbmcgaXQsIGN1cnJlbnRDb2xvciBmb3IgdGhlIG90aGVyXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdXRsaW5lLXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm91dGxpbmUtc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8YnItc3R5bGU+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdXRsaW5lLW9mZnNldFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImN1cnNvclwiLFxuICAgIFwic3ludGF4XCI6IFwiWyBbIDx1cmk+IFs8eD4gPHk+XT8sXSogWyBhdXRvIHwgZGVmYXVsdCB8IG5vbmUgfCBjb250ZXh0LW1lbnUgfCBoZWxwIHwgcG9pbnRlciB8IHByb2dyZXNzIHwgd2FpdCB8IGNlbGwgfCBjcm9zc2hhaXIgfCB0ZXh0IHwgdmVydGljYWwtdGV4dCB8IGFsaWFzIHwgY29weSB8IG1vdmUgfCBuby1kcm9wIHwgbm90LWFsbG93ZWQgfCBlLXJlc2l6ZSB8IG4tcmVzaXplIHwgbmUtcmVzaXplIHwgbnctcmVzaXplIHwgcy1yZXNpemUgfCBzZS1yZXNpemUgfCBzdy1yZXNpemUgfCB3LXJlc2l6ZSB8IGV3LXJlc2l6ZSB8IG5zLXJlc2l6ZSB8IG5lc3ctcmVzaXplIHwgbndzZS1yZXNpemUgfCBjb2wtcmVzaXplIHwgcm93LXJlc2l6ZSB8IGFsbC1zY3JvbGwgfCB6b29tLWluIHwgem9vbS1vdXQgfCBncmFiIHwgZ3JhYmJpbmcgXSBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicmVzaXplXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgYm90aCB8IGhvcml6b250YWwgfCB2ZXJ0aWNhbFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LW92ZXJmbG93XCIsXG4gICAgXCJzeW50YXhcIjogXCJbIGNsaXAgfCBlbGxpcHNpcyB8IDxzdHJpbmc+IF17MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY2xpcFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb250ZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBub25lIHwgWyA8c3RyaW5nPiB8IDx1cmk+IHwgPGNvdW50ZXI+IHwgYXR0cigpIHwgb3Blbi1xdW90ZSB8IGNsb3NlLXF1b3RlIHwgbm8tb3Blbi1xdW90ZSB8IG5vLWNsb3NlLXF1b3RlIF0rXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImFsbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicXVvdGVzXCIsXG4gICAgXCJzeW50YXhcIjogXCJbPHN0cmluZz4gPHN0cmluZz5dKyB8IG5vbmVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInVzZXIgYWdlbnQgc3BlY2lmaWNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJveC1kZWNvcmF0aW9uLWJyZWFrXCIsXG4gICAgXCJzeW50YXhcIjogXCJzbGljZSB8IGNsb25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzbGljZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjbGlwXCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2hhcGU+IHwgYXV0b1xcbiAgICB3aGVyZSA8c2hhcGU+ID0gcmVjdCg8dG9wPiwgPHJpZ2h0PiwgPGJvdHRvbT4sIDxsZWZ0PilcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZGlzcGxheVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IGlubGluZSB8IGJsb2NrIHwgbGlzdC1pdGVtIHwgaW5saW5lLWJsb2NrIHwgaW5saW5lLXRhYmxlIHwgdGFibGUgfCB0YWJsZS1jZWxsIHwgdGFibGUtY29sdW1uIHwgdGFibGUtY29sdW1uLWdyb3VwIHwgdGFibGUtZm9vdGVyLWdyb3VwIHwgdGFibGUtaGVhZGVyLWdyb3VwIHwgdGFibGUtcm93IHwgdGFibGUtcm93LWdyb3VwIHwgZmxleCB8IGlubGluZS1mbGV4IHwgZ3JpZCB8IGlubGluZS1ncmlkIHwgcnVuLWluIHwgcnVieSB8IHJ1YnktYmFzZSB8IHJ1YnktdGV4dCB8IHJ1YnktYmFzZS1jb250YWluZXIgfCBydWJ5LXRleHQtY29udGFpbmVyIHwgY29udGVudHNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImlubGluZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiYWxsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ1bmljb2RlLWJpZGlcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGVtYmVkIHwgaXNvbGF0ZSB8IGJpZGktb3ZlcnJpZGUgfCBpc29sYXRlLW92ZXJyaWRlIHwgcGxhaW50ZXh0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1vcmllbnRhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwibWl4ZWQgfCB1cHJpZ2h0IHwgc2lkZXdheXMtcmlnaHQgfCBzaWRld2F5cy1sZWZ0IHwgc2lkZXdheXMgfCB1c2UtZ2x5cGgtb3JpZW50YXRpb25cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm1peGVkXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJpbWUtbW9kZVwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IG5vcm1hbCB8IGFjdGl2ZSB8IGluYWN0aXZlIHwgZGlzYWJsZWRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbGxcIixcbiAgICBcInN5bnRheFwiOiBcImluaXRpYWwgfCBpbmhlcml0IHwgdW5zZXRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIlRoZXJlIGlzIG5vIHByYWN0aWNhbCBpbml0aWFsIHZhbHVlIGZvciBpdC5cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcIlRoZXJlIGlzIG5vIHByYWN0aWNhbCBtZWRpYSBmb3IgaXQuXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3aWxsLWNoYW5nZVwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IDxhbmltYXRlYWJsZS1mZWF0dXJlPiNcXG4gICAgd2hlcmUgPGFuaW1hdGVhYmxlLWZlYXR1cmU+ID0gc2Nyb2xsLXBvc2l0aW9uIHwgY29udGVudHMgfCA8Y3VzdG9tLWlkZW50PlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiYWxsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLWJsZW5kLW1vZGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxibGVuZC1tb2RlPiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwibm9uZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWl4LWJsZW5kLW1vZGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxibGVuZC1tb2RlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImlzb2xhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGlzb2xhdGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwic2hhcGUtb3V0c2lkZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IDxzaGFwZS1ib3g+IHx8IDxiYXNpYy1zaGFwZT4gfCA8aW1hZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInNoYXBlLW1hcmdpblwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwic2hhcGUtaW1hZ2UtdGhyZXNob2xkXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMC4wXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRvdWNoLWFjdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IG5vbmUgfCBbIHBhbi14IHx8IHBhbi15IF0gfCBtYW5pcHVsYXRpb25cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21pbi13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHZpZXdwb3J0LWxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21heC13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHZpZXdwb3J0LWxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L3dpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8dmlld3BvcnQtbGVuZ3RoPnsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6QHZpZXdwb3J0L21pbi13aWR0aDogaXMgaXRzZWxmIGEgc2hvcnRoYW5kLCBpdHMgaW5pdGlhbCB2YWx1ZSBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBpdHMgb3duIGxvbmdoYW5kIHByb3BlcnRpZXNAdmlld3BvcnQvbWF4LXdpZHRoOiBpcyBpdHNlbGYgYSBzaG9ydGhhbmQsIGl0cyBpbml0aWFsIHZhbHVlIGlzIHRoZSBjb25jYXRlbmF0aW9uIG9mIGl0cyBvd24gbG9uZ2hhbmQgcHJvcGVydGllc1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBjb250aW51b3VzXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJAdmlld3BvcnQvbWluLWhlaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHZpZXdwb3J0LWxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21heC1oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjx2aWV3cG9ydC1sZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC9oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjx2aWV3cG9ydC1sZW5ndGg+ezEsMn1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpAdmlld3BvcnQvbWluLWhlaWdodDogaXMgaXRzZWxmIGEgc2hvcnRoYW5kLCBpdHMgaW5pdGlhbCB2YWx1ZSBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBpdHMgb3duIGxvbmdoYW5kIHByb3BlcnRpZXNAdmlld3BvcnQvbWF4LWhlaWdodDogaXMgaXRzZWxmIGEgc2hvcnRoYW5kLCBpdHMgaW5pdGlhbCB2YWx1ZSBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBpdHMgb3duIGxvbmdoYW5kIHByb3BlcnRpZXNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L3pvb21cIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8bnVtYmVyPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBjb250aW51b3VzXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJAdmlld3BvcnQvbWluLXpvb21cIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8bnVtYmVyPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBjb250aW51b3VzXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJAdmlld3BvcnQvbWF4LXpvb21cIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8bnVtYmVyPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBjb250aW51b3VzXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJAdmlld3BvcnQvdXNlci16b29tXCIsXG4gICAgXCJzeW50YXhcIjogXCJ6b29tIHwgZml4ZWRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInpvb21cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L29yaWVudGF0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgcG9ydHJhaXQgfCBsYW5kc2NhcGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH1cbl07fSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBVbml0SW5wdXQgPSByZXF1aXJlKCcuLi91dGlscy9Vbml0SW5wdXQnKTtcbnZhciBUYXJnZXRzSW5wdXQgPSByZXF1aXJlKCcuLi91dGlscy9UYXJnZXRzSW5wdXQnKTtcbnZhciBTdHJpbmdJbnB1dCA9IHJlcXVpcmUoJy4uL3V0aWxzL1N0cmluZ0lucHV0Jyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxudmFyIHRhcmdldHNJbnB1dCxcbiAgICBkZVNlbGVjdG9yQ29udCxcbiAgICBkZVNlbGVjdG9ycyA9IFtdLFxuICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogJ1RyYWNrJyxcbiAgICB9KTsgXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcblxuY3JlYXRlQ29udGVudCgpO1xuZGlhbG9nLmFkZEJ1dHRvbignb2snLCAnaGlkZScpO1xuXG5cbmRpYWxvZy5vbignY2hhbmdlLm5hbWUnLCBuYW1lID0+IGRpYWxvZy50aXRsZSA9IG5hbWUpO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICB2YXIgb3B0TmFtZSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICduYW1lOicsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICB0ZXh0OiAnU2VsZWN0b3JzOicsXG4gICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICB9KTtcblxuICAgIHRhcmdldHNJbnB1dCA9IG5ldyBUYXJnZXRzSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIG9uQ2hhbmdlOiAoKSA9PiBkaWFsb2cuZW1pdCgnY2hhbmdlU2VsZWN0b3JzJywgdGFyZ2V0c0lucHV0LnZhbHVlKSxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmNyZWF0ZUxpbmVicmVhayh7cGFyZW50OiBkaWFsb2cuZGVDb250ZW50fSk7XG5cbiAgICB2YXIgb3B0UmVwZWF0ID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3JlcGVhdCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ3JlcGVhdCcsXG4gICAgICAgICAgICBtaW46IC0xLFxuICAgICAgICAgICAgdW5pdHM6IFsneCddLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuICAgIHZhciBvcHRSZXBlYXREZWxheSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdyZXBlYXQgZGVsYXknLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdyZXBlYXREZWxheScsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBwcmVjaXNpb246IDMsXG4gICAgICAgICAgICBkcmFnU3BlZWQ6IDAuMDAxLFxuICAgICAgICAgICAgdW5pdHM6IFsnc2VjJ10sXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgdmFyIG9wdEtleVN0cmV0Y2ggPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAna2V5IHN0cmV0Y2gnLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdrZXlTdHJldGNoJyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMC4wMSxcbiAgICAgICAgICAgIHByZWNpc2lvbjogMyxcbiAgICAgICAgICAgIHVuaXRzOiBbJ3gnXSxcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICB2YXIgb3B0WW95byA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICd5b3lvJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgbmFtZTogJ3lveW8nLFxuICAgICAgICB9XSxcbiAgICB9KTtcblxuXG4gICAgJChvcHRSZXBlYXQuZG9tRWxlbSkub25lKCdtb3VzZWRvd24nLCAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCkpO1xuICAgICQob3B0UmVwZWF0RGVsYXkuZG9tRWxlbSkub25lKCdtb3VzZWRvd24nLCAoKSA9PiBhbS5kaWFsb2dzLldJUC5zaG93KCkpO1xuICAgICQob3B0S2V5U3RyZXRjaC5kb21FbGVtKS5vbmUoJ21vdXNlZG93bicsICgpID0+IGFtLmRpYWxvZ3MuV0lQLnNob3coKSk7XG4gICAgJChvcHRZb3lvLmRvbUVsZW0pLm9uZSgnbW91c2Vkb3duJywgKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpKTtcblxuICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICduYW1lJywgXG4gICAgICAgIHN0YXJ0VmFsdWU6ICdUcmFjaycsXG4gICAgICAgIGlucHV0OiBvcHROYW1lLmlucHV0cy5uYW1lXG4gICAgfSk7XG4gICAgZGlhbG9nLmFkZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ3NlbGVjdG9ycycsIFxuICAgICAgICBzdGFydFZhbHVlOiBbXSxcbiAgICAgICAgaW5wdXQ6IHRhcmdldHNJbnB1dCxcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAncmVwZWF0JywgXG4gICAgICAgIHN0YXJ0VmFsdWU6IDAsXG4gICAgICAgIGlucHV0OiBvcHRSZXBlYXQuaW5wdXRzLnJlcGVhdCxcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAncmVwZWF0RGVsYXknLCBcbiAgICAgICAgc3RhcnRWYWx1ZTogMCxcbiAgICAgICAgaW5wdXQ6IG9wdFJlcGVhdERlbGF5LmlucHV0cy5yZXBlYXREZWxheSxcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAna2V5U3RyZXRjaCcsIFxuICAgICAgICBzdGFydFZhbHVlOiAxLFxuICAgICAgICBpbnB1dDogb3B0S2V5U3RyZXRjaC5pbnB1dHMua2V5U3RyZXRjaCxcbiAgICB9KTtcbiAgICBkaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgICAgICBuYW1lOiAneW95bycsIFxuICAgICAgICBzdGFydFZhbHVlOiBmYWxzZSxcbiAgICAgICAgaW5wdXQ6IG9wdFlveW8uaW5wdXRzLnlveW8sXG4gICAgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcImZ1bmN0aW9uIChpbnB1dHMpIHtcXG4gICAgXFxuICAgIHZhciB0aW1lbGluZXMgPSB7e3t0aW1lbGluZXN9fX0sXFxuICAgICAgICBzZWxlY3RvcnMgPSB7e3tzZWxlY3RvcnN9fX0sXFxuICAgICAgICBhbmltVGFyZ2V0cyA9IGdldEFuaW1UYXJnZXRzKHNlbGVjdG9ycywgaW5wdXRzKSxcXG4gICAgICAgIHJvb3RUbCA9IG5ldyBUaW1lbGluZU1heCgpO1xcblxcbiAgICB0aW1lbGluZXMuZm9yRWFjaChmdW5jdGlvbiAodGltZWxpbmUpIHtcXG5cXG4gICAgICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZU1heCgpO1xcbiAgICAgICAgcm9vdFRsLmFkZCh0bCwgMCk7XFxuICAgICAgICBcXG4gICAgICAgIHRpbWVsaW5lLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaWR4KSB7XFxuXFxuICAgICAgICAgICAgdGwudG8oYW5pbVRhcmdldHMsIGtleS5kdXJhdGlvbiwga2V5Lm9wdGlvbnMpO1xcbiAgICAgICAgfSk7XFxuICAgIH0pO1xcblxcbiAgICByZXR1cm4gcm9vdFRsO1xcbn1cXG5cIjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIENoZWNrYm94SW5wdXQob3B0PXt9KSB7XG5cbiAgICBJbnB1dC5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZUlucHV0ID0gdGhpcy5fb25DaGFuZ2VJbnB1dC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fdmFsdWUgPSBvcHQudmFsdWUgfHwgZmFsc2U7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCBmYWxzZTtcbn1cblxuaW5oZXJpdHMoQ2hlY2tib3hJbnB1dCwgSW5wdXQpO1xudmFyIHAgPSBDaGVja2JveElucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ2hlY2tib3hJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fdmFsdWUpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoSW5wdXQoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnZhbHVlID0gdGhpcy5faW5wdXQuY2hlY2tlZDtcbn07XG5cblxuXG5wLl9yZWZyZXNoSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faW5wdXQuY2hlY2tlZCAhPT0gdGhpcy5fdmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9pbnB1dC5jaGVja2VkID0gdGhpcy5fdmFsdWU7XG4gICAgfVxufTtcblxuXG5cblxucC5fY3JlYXRlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGFtZ3VpLmNyZWF0ZUNoZWNrYm94KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZUlucHV0LFxuICAgICAgICBmbGV4OiAxLFxuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBjb2xvclBpY2tlcjtcblxuZnVuY3Rpb24gQ29sb3JJbnB1dChvcHQ9e30pIHtcblxuICAgIElucHV0LmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuX3ZhbHVlID0gb3B0LnZhbHVlIHx8ICcnO1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0VmFsdWUgfHwgJyMwMDAwMDAnO1xufVxuXG5pbmhlcml0cyhDb2xvcklucHV0LCBJbnB1dCk7XG52YXIgcCA9IENvbG9ySW5wdXQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDb2xvcklucHV0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgKz0gJyc7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl92YWx1ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hJbnB1dCgpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5wLl9vbkNoYW5nZVBpY2tlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSBjb2xvclBpY2tlci5nZXRDb2xvcigpO1xufTtcblxucC5fb25DbGlja1Nob3dQaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG4gICAgLy8gdmFyIGJyID0gdGhpcy5fYnRuU2hvd1BpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBjb2xvclBpY2tlci5zaG93KGJyLmxlZnQsIGJyLmJvdHRvbSxcbiAgICAvLyAgICAgdGhpcy52YWx1ZSB8fCB0aGlzLl9kZWZhdWx0VmFsdWUsXG4gICAgLy8gICAgIHRoaXMuX29uQ2hhbmdlUGlja2VyKTtcbn07XG5cblxuXG5wLl9yZWZyZXNoSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faW5wdXQudmFsdWUgIT09IHRoaXMuX3ZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICB9XG59O1xuXG5cblxuXG5wLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lucHV0ID0gYW1ndWkuY3JlYXRlSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgb25DaGFuZ2U6IHYgPT4gdGhpcy5fb25DaGFuZ2VJbnB1dCh2KSxcbiAgICAgICAgZmxleDogMSxcbiAgICB9KTtcbiAgICB0aGlzLl9pbnB1dC5zdHlsZS50ZXh0QWxpZ24gPSAgJ3JpZ2h0JztcbiAgICB0aGlzLl9pbnB1dC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAgJzJweCc7XG5cbiAgICB0aGlzLl9idG5TaG93UGlja2VyID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBpY29uOiAnYWp1c3QnLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9vbkNsaWNrU2hvd1BpY2tlcixcbiAgICB9KTtcbn07XG5cbi8vIENvbG9ySW5wdXQuaW5pdENvbG9yUGlja2VyID0gZnVuY3Rpb24gKCkge1xuXG5cbi8vICAgICBpZiAoY29sb3JQaWNrZXIpIHJldHVybjtcblxuLy8gICAgIHZhciBvbkNoYW5nZSxcbi8vICAgICAgICAgZGUgPSBhbWd1aS5jcmVhdGVEaXYoe1xuLy8gICAgICAgICAgICAgLy8gcGFyZW50OiBhbS5kZURpYWxvZ0NvbnQsXG4vLyAgICAgICAgICAgICBwYXJlbnQ6IGRvY3VtZW50LmJvZHksXG4vLyAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4vLyAgICAgICAgICAgICB3aWR0aDogJzM0NXB4Jyxcbi8vICAgICAgICAgICAgIGhlaWdodDogJzM0NXB4Jyxcbi8vICAgICAgICAgfSk7XG5cbi8vICAgICBkZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW0tbm9waWNrJywgMSk7XG4vLyAgICAgZGUuc3R5bGUuekluZGV4ID0gOTk5OTk5O1xuXG4vLyAgICAgY29sb3JQaWNrZXIgPSBuZXcgQ29sb3JQaWNrZXIoe1xuLy8gICAgICAgICBzaXplOiAyLFxuLy8gICAgICAgICBhcHBlblRvOiBkZSxcbi8vICAgICAgICAgYWN0aW9uQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcblxuLy8gICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2UoY29sb3JQaWNrZXIuZ2V0Q29sb3IoKSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcblxuLy8gICAgIGNvbG9yUGlja2VyLmRvbUVsZW0gPSBkZTtcblxuLy8gICAgICQoJy5jcC1hcHAnKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJylcblxuLy8gICAgIGNvbG9yUGlja2VyLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgICAgIGlmIChjb2xvclBpY2tlci5jb2xvci5hbHBoYSA9PT0gMSkge1xuXG4vLyAgICAgICAgICAgICByZXR1cm4gJyMnICsgY29sb3JQaWNrZXIuY29sb3IuSEVYO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgcmV0dXJuICdyZ2JhKCcgK1xuLy8gICAgICAgICAgICAgICAgIH5+KGNvbG9yUGlja2VyLmNvbG9yLmNvbG9ycy5STkQucmdiLnIpKycsJytcbi8vICAgICAgICAgICAgICAgICB+fihjb2xvclBpY2tlci5jb2xvci5jb2xvcnMuUk5ELnJnYi5nKSsnLCcrXG4vLyAgICAgICAgICAgICAgICAgfn4oY29sb3JQaWNrZXIuY29sb3IuY29sb3JzLlJORC5yZ2IuYikrJywnK1xuLy8gICAgICAgICAgICAgICAgIGNvbG9yUGlja2VyLmNvbG9yLmNvbG9ycy5hbHBoYSArICcpJztcbi8vICAgICAgICAgfVxuLy8gICAgIH07XG5cbi8vICAgICBjb2xvclBpY2tlci5zaG93ID0gZnVuY3Rpb24gKHgsIHksIGNvbG9yLCBfb25DaGFuZ2UpIHtcblxuLy8gICAgICAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbi8vICAgICAgICAgYW1ndWkucGxhY2VUb1BvaW50KGRlLCB4LCB5KTtcblxuLy8gICAgICAgICBjb2xvclBpY2tlci5zZXRDb2xvcihjb2xvciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpO1xuXG4vLyAgICAgICAgIG9uQ2hhbmdlID0gX29uQ2hhbmdlO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbG9yUGlja2VyLmhpZGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuXG4vLyAgICAgICAgIG9uQ2hhbmdlID0gdW5kZWZpbmVkO1xuXG4vLyAgICAgICAgIGRlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4vLyAgICAgfVxuLy8gICAgICQoJy5jcC1leGl0JykuY2xpY2soY29sb3JQaWNrZXIuaGlkZSlcbi8vIH1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xuXG5mdW5jdGlvbiBEaWFsb2cgKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9zZXR1cFByb3BlcnRpZXMgPSBbXTtcbiAgICB0aGlzLl9vZmZzZXRYID0gMDtcbiAgICB0aGlzLl9vZmZzZXRZID0gMDtcbiAgICB0aGlzLl9vZmZPbkhpZGVMaXN0ZW5lcnMgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgIGRlQ29udGVudDogdGhpcy5kZUNvbnRlbnQsXG4gICAgICAgIGJ1dHRvbnM6IFtdLFxuICAgICAgICB0aXRsZTogb3B0LnRpdGxlIHx8ICdEaWFsb2cnLFxuICAgICAgICBvbkhpZGU6ICgpID0+IHRoaXMuX29uSGlkZSgpLFxuICAgIH07XG59XG5cbmluaGVyaXRzKERpYWxvZywgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRGlhbG9nLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRGlhbG9nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB0aXRsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghdiB8fCB0aGlzLl9vcHRpb25zLnRpdGxlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMudGl0bGUgPSB2O1xuXG4gICAgICAgICAgICBhbS53b3Jrc3BhY2UuZGlhbG9ncy5zZXRUaXRsZSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLl90aXRsZTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGlzT3BlbmVkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNPcGVuZWQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5wLnNob3cgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAodGhpcy5faXNPcGVuZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc09wZW5lZCA9IHRydWU7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBpZiAob3B0Lm9uKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0Lm9uKS5mb3JFYWNoKGV2dE5hbWUgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLm9uKGV2dE5hbWUsIG9wdC5vbltldnROYW1lXSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZk9uSGlkZUxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBldnROYW1lOiBldnROYW1lLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBvcHQub25bZXZ0TmFtZV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0dXBQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BEYXRhKSB7XG5cbiAgICAgICAgaWYgKHByb3BEYXRhLm5hbWUgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIHRoaXNbcHJvcERhdGEubmFtZV0gPSBvcHRbcHJvcERhdGEubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb25PcHQgPSAnb24nICsgcHJvcERhdGEuZXZ0TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BEYXRhLmV2dE5hbWUuc2xpY2UoMSk7XG5cbiAgICAgICAgaWYgKG9uT3B0IGluIG9wdCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdkZXByZWNhdGVkLCB1c2Ugb3B0Lm9uIHRvIGJpbmQgbGlzdGVuZXJzIScpO1xuICAgICAgICAgICAgdGhpcy5fb2ZmT25IaWRlTGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2dE5hbWU6IHByb3BEYXRhLmV2dE5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IG9wdFtvbk9wdF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24ocHJvcERhdGEuZXZ0TmFtZSwgb3B0W29uT3B0XSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZW1pdCgnc2hvdycpO1xuXG4gICAgYW0ud29ya3NwYWNlLmRpYWxvZ3Muc2hvd0RpYWxvZyh0aGlzLl9vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0ud29ya3NwYWNlLmRpYWxvZ3MuaGlkZURpYWxvZyh0aGlzLl9vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5fb25IaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc09wZW5lZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzT3BlbmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9vZmZPbkhpZGVMaXN0ZW5lcnMuZm9yRWFjaChyZWcgPT4ge1xuICAgICAgICB0aGlzLm9mZihyZWcuZXZ0TmFtZSwgcmVnLmNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW1pdCgnaGlkZScpO1xufTtcblxucC5hZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciByZWcgPSBkZWZpbmVDb21wYWN0UHJvcGVydHkodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3NldHVwUHJvcGVydGllcy5wdXNoKHJlZyk7XG5cbiAgICBpZiAob3B0LmlucHV0KSB7XG5cbiAgICAgICAgb3B0LmlucHV0LnZhbHVlID0gdGhpc1tyZWcubmFtZV07XG4gICAgICAgIG9wdC5pbnB1dC5vbignY2hhbmdlJywgdiA9PiB0aGlzW3JlZy5uYW1lXSA9IHYpO1xuICAgICAgICB0aGlzLm9uKHJlZy5ldnROYW1lLCB2ID0+IG9wdC5pbnB1dC52YWx1ZSA9IHYpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5hZGRCdXR0b24gPSBmdW5jdGlvbiAodGV4dCwgb25DbGljaykge1xuXG4gICAgaWYgKG9uQ2xpY2sgPT09ICdoaWRlJykge1xuICAgICAgICBvbkNsaWNrID0gKCkgPT4gdGhpcy5oaWRlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3B0aW9ucy5idXR0b25zLnB1c2goe3RleHQsIG9uQ2xpY2t9KTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxucC5oaWRlQnV0dG9uID0gZnVuY3Rpb24gKHRleHQpIHtcblxuICAgIHZhciBidG4gPSBfLmZpbmQodGhpcy5fb3B0aW9ucy5idXR0b25zLCB7dGV4dH0pO1xuXG4gICAgaWYgKGJ0bikgYnRuLmhpZGRlbiA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbnAuc2hvd0J1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cbiAgICB2YXIgYnRuID0gXy5maW5kKHRoaXMuX29wdGlvbnMuYnV0dG9ucywge3RleHR9KTtcblxuICAgIGlmIChidG4pIGJ0bi5oaWRkZW4gPSBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCA9IHRydWU7XG5cbiAgICB0aGlzLmRlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZGVDb250ZW50LnN0eWxlLndpZHRoID0gJzMzMHB4JztcbiAgICB0aGlzLmRlQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzMwcHggMTJweCc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBJbnB1dChvcHQ9e30pIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAnJztcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCB0aGlzLl9kZWZhdWx0VmFsdWU7XG5cbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgaWYgKG9wdC5vbkNoYW5nZSkgdGhpcy5vbignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbn1cblxuaW5oZXJpdHMoSW5wdXQsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IElucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gSW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxucC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG59O1xuXG5wLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiAkKHRoaXMuX2lucHV0KS5mb2N1cygpLDEyMyk7XG59O1xuXG5wLmJsdXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+ICQodGhpcy5faW5wdXQpLmJsdXIoKSwxMjMpO1xufTtcblxuXG5cblxuXG5cblxucC5fb25DaGFuZ2VJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9pbnB1dC52YWx1ZTtcbn07XG5cblxuXG5wLl9yZWZyZXNoSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG59O1xuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXG4gICAgdGhpcy5fY3JlYXRlSW5wdXQoKTtcbn07XG5cbnAuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wdXQgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxLFxuICAgICAgICBvbkNoYW5nZTogdiA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KHYpLFxuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBVbml0SW5wdXQgPSByZXF1aXJlKCcuL1VuaXRJbnB1dCcpO1xudmFyIFN0cmluZ0lucHV0ID0gcmVxdWlyZSgnLi9TdHJpbmdJbnB1dCcpO1xudmFyIFNlbGVjdElucHV0ID0gcmVxdWlyZSgnLi9TZWxlY3RJbnB1dCcpO1xudmFyIENvbG9ySW5wdXQgPSByZXF1aXJlKCcuL0NvbG9ySW5wdXQnKTtcbnZhciBDaGVja2JveElucHV0ID0gcmVxdWlyZSgnLi9DaGVja2JveElucHV0Jyk7XG52YXIgZGVmaW5lQ29tcGFjdFByb3BlcnR5ID0gcmVxdWlyZSgnLi9kZWZpbmVDb21wYWN0UHJvcGVydHknKTtcblxuZnVuY3Rpb24gT3B0aW9uTGluZShvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5pbnB1dHMgPSB7fTtcbiAgICB0aGlzLmJ1dHRvbnMgPSB7fTtcbiAgICB0aGlzLl9pbmRlbnQgPSAwO1xuICAgIHRoaXMuX2xpbmVIID0gYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5faGlkZGVuID0gZmFsc2U7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5fY3JlYXRlSGlnaGxpZ2h0KCk7XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcyA9IFtdO1xuXG4gICAgaWYgKG9wdC5zZXBhcmF0b3IpIHtcblxuICAgICAgICBhbWd1aS5jcmVhdGVTZXBhcmF0b3Ioe3BhcmVudDogdGhpcy5fZGVIZWFkQ29udH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQucGFyZW50KSB7XG5cbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW0pO1xuICAgIH1cblxuICAgIGlmIChvcHQuY29udGV4dE1lbnVPcHRpb25zKSB7XG5cbiAgICAgICAgdGhpcy5kcm9wZG93biA9IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdC5jb250ZXh0TWVudU9wdGlvbnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgICAgICBhc0NvbnRleHRNZW51OiB0cnVlLFxuICAgICAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2RlSGVhZENvbnQsXG4gICAgICAgICAgICBkZU1lbnU6IHRoaXMuZHJvcGRvd24sXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgaWYgKG9wdC50Z2dsQ2hpbGRyZW4pIHtcblxuICAgICAgICB0aGlzLmJ1dHRvbnMudGdnbENoaWxkcmVuID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uT246ICdhbmdsZS1kb3duJyxcbiAgICAgICAgICAgIGljb25PZmY6ICdhbmdsZS1yaWdodCcsXG4gICAgICAgICAgICBvbkNsaWNrOiBvcHQudGdnbENoaWxkcmVuLm9uQ2xpY2ssXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdC5rZWVwU3BhY2VGb3JUZ2dsQ2hpbGRyZW4pIHtcblxuICAgICAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5tYXJnaW5SaWdodCA9ICcxNnB4JztcbiAgICB9XG5cbiAgICB0aGlzLl9jcmVhdGVJbmRlbnQoKTtcblxuICAgIGlmIChvcHQuaW5kZW50KSB7XG5cbiAgICAgICAgdGhpcy5pbmRlbnQgPSBvcHQuaW5kZW50O1xuICAgIH1cblxuICAgIGlmIChvcHQudGl0bGUpIHtcblxuICAgICAgICB0aGlzLl9kZVRpdGxlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICAgICAgdGV4dDogdHlwZW9mIG9wdC50aXRsZSA9PT0gJ3N0cmluZycgPyBvcHQudGl0bGUgOiAob3B0LnRpdGxlLnRleHQgfHwgJycpLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9kZVRpdGxlLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzNweCc7XG4gICAgfVxuXG4gICAgdGhpcy5faW5wdXRDb250ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXg6ICcxJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2J0bkNvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnQsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSk7XG5cbiAgICBpZiAob3B0LmlucHV0cykge1xuXG4gICAgICAgIG9wdC5pbnB1dHMuZm9yRWFjaCh0aGlzLmFkZElucHV0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0LnRnZ2xNZXJnZSkge1xuXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgICAgIGljb25PbjogJ2Zsb3ctbGluZScsXG4gICAgICAgICAgICAgICAgaWNvbk9mZjogJ2Zsb3ctcGFyYWxsZWwnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9wdC50Z2dsTWVyZ2Uub25DbGljayxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmFtZTogJ3RnZ2xNZXJnZScsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQuYnRuS2V5KSB7XG5cbiAgICAgICAgdGhpcy5hZGRCdXR0b24oe1xuICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlU3RlcHBlcktleSh7XG4gICAgICAgICAgICAgICAgb25DbGljazogb3B0LmJ0bktleS5vbkNsaWNrLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2tQcmV2OiBvcHQuYnRuS2V5Lm9uQ2xpY2tQcmV2LFxuICAgICAgICAgICAgICAgIG9uQ2xpY2tOZXh0OiBvcHQuYnRuS2V5Lm9uQ2xpY2tOZXh0LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBuYW1lOiAna2V5JyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5vbkRibGNsaWNrKSB7XG5cbiAgICAgICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgb3B0Lm9uRGJsY2xpY2spO1xuICAgIH1cblxuICAgIGlmIChvcHQuZGF0YSkge1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IG9wdC5kYXRhO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoT3B0aW9uTGluZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gT3B0aW9uTGluZS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbkxpbmU7XG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdGl0bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fZGVUaXRsZS50ZXh0ID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9kZVRpdGxlLnRleHQ7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUub3BhY2l0eSA9IHYgPyAxIDogMDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgaW5kZW50OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlSW50KHYpO1xuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2luZGVudCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9pbmRlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5fZGVJbmRlbnQuc3R5bGUud2lkdGggPSB0aGlzLl9pbmRlbnQgKiA2ICsgJ3B4JztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5kZW50O1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgaGlkZGVuOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX2hpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9oaWRkZW4gPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnbm9uZScgOiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIFtcbiAgICB7bmFtZTogJ2JnSGlnaGxpZ2h0JywgdHlwZTogJ2Jvb2xlYW4nLCBvbkNoYW5nZTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2ID8gYW1ndWkuY29sb3IuYmcxIDogYW1ndWkuY29sb3IudHJhbnNwYXJlbnQ7XG4gICAgfX1cbl0pO1xuXG5cbnAuYWRkSW5wdXQgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgaW5wdXQ7XG5cbiAgICBvcHQgPSBfLmFzc2lnbih7XG4gICAgICAgIG9uQ2hhbmdlOiBvcHQub25DaGFuZ2UsXG4gICAgICAgIGZsZXg6ICcxJyxcbiAgICB9LCBvcHQpO1xuXG4gICAgc3dpdGNoIChvcHQudHlwZSkge1xuXG4gICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgVW5pdElucHV0KG9wdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgU2VsZWN0SW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IENvbG9ySW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IENoZWNrYm94SW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBTdHJpbmdJbnB1dChvcHQpO1xuICAgIH1cblxuICAgIGlmIChvcHQubmFtZSkge1xuXG4gICAgICAgIHRoaXMuaW5wdXRzW29wdC5uYW1lXSA9IGlucHV0O1xuICAgIH1cblxuICAgIHRoaXMuX2lucHV0Q29udC5hcHBlbmRDaGlsZChpbnB1dC5kb21FbGVtKTtcbn07XG5cbnAuYWRkQnV0dG9uID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgaWYgKCdjaGlsZElkeCcgaW4gb3B0ICYmIHRoaXMuX2J0bkNvbnQuY2hpbGRyZW5bb3B0LmNoaWxkSWR4XSkge1xuXG4gICAgICAgIHRoaXMuX2J0bkNvbnQuaW5zZXJ0QmVmb3JlKG9wdC5kb21FbGVtLCB0aGlzLl9idG5Db250LmNoaWxkcmVuW29wdC5jaGlsZElkeF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYnRuQ29udC5hcHBlbmRDaGlsZChvcHQuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgb3B0LmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIG9wdC5kb21FbGVtLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAndG9wJztcblxuICAgIGlmIChvcHQubmFtZSkge1xuXG4gICAgICAgIHRoaXMuYnV0dG9uc1tvcHQubmFtZV0gPSBvcHQuZG9tRWxlbTtcbiAgICB9XG5cbiAgICBpZiAob3B0LmhvdmVyTW9kZSkge1xuXG4gICAgICAgIG9wdC5kb21FbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblxuICAgICAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcbiAgICAgICAgICAgIG9wdC5kb21FbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsKCkgPT4ge1xuICAgICAgICAgICAgb3B0LmRvbUVsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5wLmFkZE9wdGlvbkxpbmUgPSBmdW5jdGlvbiAob3B0aW9uTGluZSkge1xuXG4gICAgdGhpcy5fc3ViT3B0aW9uTGluZXMucHVzaChvcHRpb25MaW5lKTtcbiAgICB0aGlzLl9kZVN1YmNvbnQuYXBwZW5kQ2hpbGQob3B0aW9uTGluZS5kb21FbGVtKTtcblxuICAgIG9wdGlvbkxpbmUuaW5kZW50ID0gdGhpcy5pbmRlbnQgKyAxO1xuXG4gICAgaWYgKHRoaXMuX2lzQm9ycm93aW5nQ2hpbGRJbnB1dHMpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5DaGlsZElucHV0cygpO1xuICAgICAgICB0aGlzLmJvcnJvd0NoaWxkSW5wdXRzKCk7XG4gICAgfVxufTtcblxucC5yZW1vdmVPcHRpb25MaW5lID0gZnVuY3Rpb24gKG9wdGlvbkxpbmUpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9zdWJPcHRpb25MaW5lcy5pbmRleE9mKG9wdGlvbkxpbmUpO1xuICAgIGlmIChpZHggPT09IC0xKSByZXR1cm47XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAkKG9wdGlvbkxpbmUpLnJlbW92ZSgpO1xuXG4gICAgaWYgKHRoaXMuX2lzQm9ycm93aW5nQ2hpbGRJbnB1dHMpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5DaGlsZElucHV0cygpO1xuICAgICAgICB0aGlzLmJvcnJvd0NoaWxkSW5wdXRzKCk7XG4gICAgfVxufTtcblxucC5yZW1vdmVBbGxPcHRpb25MaW5lcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3N1Yk9wdGlvbkxpbmVzLnNsaWNlKCkuZm9yRWFjaChvbCA9PiB0aGlzLnJlbW92ZU9wdGlvbkxpbmUob2wpKTtcbn07XG5cbnAuc2hvd1N1YmxpbmVzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVTdWJjb250LnN0eWxlLmRpc3BsYXkgPSAnJztcbn07XG5cbnAuaGlkZVN1YmxpbmVzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVTdWJjb250LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5wLndhbGtDaGlsZHJlbiA9IGZ1bmN0aW9uIChmbikge1xuXG4gICAgdGhpcy5fc3ViT3B0aW9uTGluZXMuZm9yRWFjaChzdWJPcHRpb25MaW5lID0+IHtcblxuICAgICAgICBmbihzdWJPcHRpb25MaW5lLCB0aGlzKTtcblxuICAgICAgICBzdWJPcHRpb25MaW5lLndhbGtDaGlsZHJlbihmbik7XG4gICAgfSk7XG59O1xuXG5wLmJvcnJvd0NoaWxkSW5wdXRzID0gZnVuY3Rpb24gKCkge1xuLy9UT0RPOiBkbyB0aGlzIHR3byBzb21laG93IGJldHRlclxuXG4gICAgdGhpcy5faXNCb3Jyb3dpbmdDaGlsZElucHV0cyA9IHRydWU7XG5cbiAgICB0aGlzLl9zdWJPcHRpb25MaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuXG4gICAgICAgIGlmIChsaW5lLmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGxpbmUuaW5wdXRzKS5mb3JFYWNoKGlucE5hbWUgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dENvbnQuYXBwZW5kQ2hpbGQobGluZS5pbnB1dHNbaW5wTmFtZV0uZG9tRWxlbSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxucC5yZXR1cm5DaGlsZElucHV0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzQm9ycm93aW5nQ2hpbGRJbnB1dHMgPSBmYWxzZTtcblxuICAgIHZhciBkZUlucHV0cyA9IF8udG9BcnJheSh0aGlzLl9pbnB1dENvbnQuY2hpbGRyZW4pO1xuXG4gICAgdGhpcy5fc3ViT3B0aW9uTGluZXMuZm9yRWFjaChsaW5lID0+IHtcblxuICAgICAgICBPYmplY3Qua2V5cyhsaW5lLmlucHV0cykuZm9yRWFjaChpbnBOYW1lID0+IHtcblxuICAgICAgICAgICAgdmFyIGlkeCA9IGRlSW5wdXRzLmluZGV4T2YobGluZS5pbnB1dHNbaW5wTmFtZV0uZG9tRWxlbSk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgICAgICAgbGluZS5faW5wdXRDb250LmFwcGVuZENoaWxkKGRlSW5wdXRzW2lkeF0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICB0aGlzLl9kZUhlYWRDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9saW5lSCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlSGVhZENvbnQpO1xuXG4gICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnR9KTtcblxuICAgIHRoaXMuX2RlU3ViY29udCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH0pO1xufTtcblxucC5fY3JlYXRlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVIaWdobGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUud2lkdGggPSAnMnB4JztcbiAgICB0aGlzLl9kZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9saW5lSCArICdweCc7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLnNlbGVjdGVkO1xuICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVIaWdobGlnaHQpO1xufTtcblxucC5fY3JlYXRlSW5kZW50ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVJbmRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUluZGVudC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgdGhpcy5fZGVJbmRlbnQuc3R5bGUud2lkdGggPSAnMHB4JztcbiAgICB0aGlzLl9kZUhlYWRDb250LmFwcGVuZENoaWxkKHRoaXMuX2RlSW5kZW50KTtcbn07XG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBJbnB1dCA9IHJlcXVpcmUoJy4vSW5wdXQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBTZWxlY3RJbnB1dChvcHQ9e30pIHtcblxuICAgIElucHV0LmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHQub3B0aW9ucyB8fCBbXTtcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCB0aGlzLl9vcHRpb25zWzBdIHx8ICcnO1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0VmFsdWUgfHwgdGhpcy5fb3B0aW9uc1swXSB8fCAnJztcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcbn1cblxuaW5oZXJpdHMoU2VsZWN0SW5wdXQsIElucHV0KTtcbnZhciBwID0gU2VsZWN0SW5wdXQucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ICs9ICcnO1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fdmFsdWUgfHwgdGhpcy5fb3B0aW9ucy5pbmRleE9mKHYpID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlVmFsdWUudGV4dCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5wLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgdGhpcy5fZGVEcm9wZG93bi5zZXRJdGVtcyhvcHRpb25zKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZVZhbHVlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgdGV4dDogdGhpcy52YWx1ZSxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmNyZWF0ZUljb24oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgaWNvbjogJ2Rvd24tZGlyJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlRHJvcGRvd24gPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIG9wdGlvbnM6IHRoaXMuX29wdGlvbnMsXG4gICAgICAgIG9uU2VsZWN0OiBlID0+IHRoaXMudmFsdWUgPSBlLmRldGFpbC5zZWxlY3Rpb24sXG4gICAgfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5kb21FbGVtLFxuICAgICAgICBkZURyb3Bkb3duOiB0aGlzLl9kZURyb3Bkb3duLFxuICAgIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0ID0gcmVxdWlyZSgnLi9JbnB1dCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFN0cmluZ0lucHV0KG9wdD17fSkge1xuXG4gICAgSW5wdXQuY2FsbCh0aGlzLCBvcHQpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAnJztcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCB0aGlzLl9kZWZhdWx0VmFsdWU7XG5cbiAgICBpZiAob3B0LnBsYWNlaG9sZGVyKSB7XG5cbiAgICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSBvcHQucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5zdWdnZXN0aW9ucykge1xuICAgICAgICB0aGlzLl9wcmVwYXJlU3VnZ2VzdGlvbnMob3B0LnN1Z2dlc3Rpb25zLCBvcHQudHlwZWFoZWFkT3B0aW9ucywgb3B0LmRhdGFzZXRPcHRpb25zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG59XG5cbmluaGVyaXRzKFN0cmluZ0lucHV0LCBJbnB1dCk7XG52YXIgcCA9IFN0cmluZ0lucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gU3RyaW5nSW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiArPSAnJztcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5wLnNldFN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKHN1Z2dlc3Rpb25zKSB7XG5cbiAgICBzdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zLm1hcCgoc3VnZ2VzdGlvbiwgaWR4KSA9PiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdWdnZXN0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogc3VnZ2VzdGlvbn07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUpIHtcblxuICAgICAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUubG9jYWwgPSBzdWdnZXN0aW9ucztcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGlvbkVuZ2luZS5pbml0aWFsaXplKHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJlcGFyZVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX2lucHV0LnZhbHVlO1xufTtcblxuXG5cbnAuX3JlZnJlc2hJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbnB1dC52YWx1ZSAhPT0gdGhpcy5fdmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgIH1cbn07XG5cblxuXG5cbnAuX2NyZWF0ZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wdXQgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBmbGV4OiAxLFxuICAgICAgICBvbkNoYW5nZTogdiA9PiB0aGlzLl9vbkNoYW5nZUlucHV0KHYpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmNvbG9yID0gdGhpcy5faW5wdXQuc3R5bGUuY29sb3I7XG4gICAgdGhpcy5faW5wdXQuc3R5bGUuY29sb3IgPSAnaW5oZXJpdCc7XG5cbiAgICAvLyB0aGlzLl9pbnB1dC5zdHlsZS50ZXh0QWxpZ24gPSAgJ3JpZ2h0JztcbiAgICB0aGlzLl9pbnB1dC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAgJzJweCc7XG59O1xuXG5wLl9wcmVwYXJlU3VnZ2VzdGlvbnMgPSBmdW5jdGlvbiAoc3VnZ2VzdGlvbnMpIHtcblxuICAgIHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUgPSBuZXcgQmxvb2Rob3VuZCh7XG4gICAgICAgIGRhdHVtVG9rZW5pemVyOiBCbG9vZGhvdW5kLnRva2VuaXplcnMub2JqLndoaXRlc3BhY2UoJ3ZhbHVlJyksXG4gICAgICAgIHF1ZXJ5VG9rZW5pemVyOiBCbG9vZGhvdW5kLnRva2VuaXplcnMud2hpdGVzcGFjZSxcbiAgICAgICAgLy8gYHN0YXRlc2AgaXMgYW4gYXJyYXkgb2Ygc3RhdGUgbmFtZXMgZGVmaW5lZCBpbiBcIlRoZSBCYXNpY3NcIlxuICAgICAgICBsb2NhbDogc3VnZ2VzdGlvbnMsXG4gICAgfSk7XG5cbiAgICAvLyBraWNrcyBvZmYgdGhlIGxvYWRpbmcvcHJvY2Vzc2luZyBvZiBgbG9jYWxgIGFuZCBgcHJlZmV0Y2hgXG4gICAgdGhpcy5fc3VnZ2VzdGlvbkVuZ2luZS5pbml0aWFsaXplKCk7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZ3Vlc3NcIiBzdHlsZT1cInBhZGRpbmc6IDJweDtjb2xvcjonK2FtZ3VpLmNvbG9yLnRleHRDb2xvcisnO2JhY2tncm91bmQtY29sb3I6JythbWd1aS5jb2xvci5iZzErJztcIj4nLFxuICAgICAgICAgICc8c3Bhbj57e3t2YWx1ZX19fTwvc3Bhbj4nLFxuICAgICAgICAnPC9kaXY+J10uam9pbignJyk7XG5cbiAgICBhbWd1aS5jYWxsT25BZGRlZCh0aGlzLl9pbnB1dCwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQodGhpcy5faW5wdXQpLnR5cGVhaGVhZCh7XG4gICAgICAgICAgICAgICAgaGludDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgfSx7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3N0YXRlcycsXG4gICAgICAgICAgICAgICAgZGlzcGxheUtleTogJ3ZhbHVlJyxcbiAgICAgICAgICAgICAgICAvLyBgdHRBZGFwdGVyYCB3cmFwcyB0aGUgc3VnZ2VzdGlvbiBlbmdpbmUgaW4gYW4gYWRhcHRlciB0aGF0XG4gICAgICAgICAgICAgICAgLy8gaXMgY29tcGF0aWJsZSB3aXRoIHRoZSB0eXBlYWhlYWQgalF1ZXJ5IHBsdWdpblxuICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5fc3VnZ2VzdGlvbkVuZ2luZS50dEFkYXB0ZXIoKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbjogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbigndHlwZWFoZWFkOm9wZW5lZCcsIGZ1bmN0aW9uICgpIHtjb25zb2xlLmxvZygnb25PcGVuZWQnKX0pXG4gICAgICAgICAgICAub24oJ3R5cGVhaGVhZDphdXRvY29tcGxldGVkJywgZnVuY3Rpb24gKCkge2NvbnNvbGUubG9nKCdvbkF1dG9jb21wbGV0ZWQnKX0pXG4gICAgICAgICAgICAub24oJ3R5cGVhaGVhZDpzZWxlY3RlZCcsIGZ1bmN0aW9uICgpIHtjb25zb2xlLmxvZygnb25TZWxlY3RlZCcpfSk7XG4gICAgfSwgdGhpcyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSW5wdXQgPSByZXF1aXJlKCcuL0lucHV0Jyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi9PcHRpb25MaW5lJyk7XG5cbmZ1bmN0aW9uIFRhcmdldHNJbnB1dChvcHQ9e30pIHtcblxuICAgIElucHV0LmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3RhcmdldHMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCBbXTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8IFtdO1xufVxuXG5pbmhlcml0cyhUYXJnZXRzSW5wdXQsIElucHV0KTtcbnZhciBwID0gVGFyZ2V0c0lucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVGFyZ2V0c0lucHV0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2KSkgdGhyb3cgRXJyb3I7XG5cbiAgICAgICAgICAgIHRoaXMuX3RhcmdldHMuc2xpY2UoKS5mb3JFYWNoKHRhcmdldCA9PiB0aGlzLnJlbW92ZVRhcmdldCh0YXJnZXQpKTtcblxuICAgICAgICAgICAgdi5mb3JFYWNoKGkgPT4gdGhpcy5hZGRUYXJnZXQoaSkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIF8ucGx1Y2sodGhpcy5fdGFyZ2V0cywgJ2RhdGEnKTtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5cblxucC5hZGRUYXJnZXQgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fY3JlYXRlVGFyZ2V0KG9wdCk7XG5cbiAgICB0aGlzLl90YXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICB0aGlzLl9yb290T3B0aW9uTGluZS5hZGRPcHRpb25MaW5lKHRhcmdldC5vcHRpb25MaW5lKTtcbn07XG5cbnAucmVtb3ZlVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX3RhcmdldHMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjtcblxuICAgIHRoaXMuX3RhcmdldHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5fcm9vdE9wdGlvbkxpbmUucmVtb3ZlT3B0aW9uTGluZSh0YXJnZXQub3B0aW9uTGluZSk7XG4gICAgdGFyZ2V0LmRpc3Bvc2UoKTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yb290T3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdUYXJnZXRzJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgfSk7XG5cbiAgICB0aGlzLl9yb290T3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICBuYW1lOiAnYWRkJyxcbiAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgICAgICB0b29sdGlwOiAnYWRkIG5ldyBpbnB1dCdcbiAgICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5fcm9vdE9wdGlvbkxpbmUuYnV0dG9ucy5hZGQsXG4gICAgICAgIGRlRHJvcGRvd246IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IFt7XG4gICAgICAgICAgICAgICAgaWNvbjogJ2hhc2gnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICdjc3Mgc2VsZWN0b3InLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuYWRkVGFyZ2V0KHt0eXBlOiAnY3NzJywgdmFsdWU6ICcnfSksXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ25ldyBjc3Mgc2VsZWN0b3IgaW5wdXQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaWNvbjogJ2NvZGUnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICdqcyBpbnB1dCcsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5hZGRUYXJnZXQoe3R5cGU6ICdpbnB1dCcsIHZhbHVlOiAnJ30pLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICduZXcganMgaW5wdXQnXG5cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuXG5wLl9jcmVhdGVUYXJnZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgdmFyIHRhcmdldCA9IHtkYXRhfSwgaW5wdXRQYXRocyA9IFtdO1xuXG4gICAgdGFyZ2V0Lm9wdGlvbkxpbmUgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAndHlwZSBoZXJlJyxcbiAgICAgICAgICAgIHZhbHVlOiB0YXJnZXQuZGF0YS52YWx1ZSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB2YWx1ZSA9PiB7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXQuZGF0YS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnaW5wdXQnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gaW5wdXRQYXRocy5pbmRleE9mKGlucHV0LnZhbHVlKSA9PT0gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IG1hdGNoID8gYW1ndWkuY29sb3IudGV4dCA6IGFtZ3VpLmNvbG9yLmFxdWE7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgfSk7XG5cbiAgICB2YXIgaW5wdXQgPSB0YXJnZXQub3B0aW9uTGluZS5pbnB1dHMuaW5wdXQ7XG4gICAgaW5wdXQuZm9jdXMoKTtcblxuICAgIHRhcmdldC5vcHRpb25MaW5lLmhpZ2hsaWdodCA9IGRhdGEudHlwZSA9PT0gJ2lucHV0JyA/IGFtZ3VpLmNvbG9yLmJsdWUgOiBhbWd1aS5jb2xvci5wdXJwbGU7XG5cblxuXG4gICAgdmFyIHJlZnJlc2hTdWdnZXN0aW9ucyA9ICgpID0+IHtcblxuICAgICAgICBpbnB1dFBhdGhzID0gYW0ucHJvamVjdE1hcC5nZXRDdXJyUHJvamVjdCgpLmdldElucHV0UGF0aHMoKTtcbiAgICAgICAgaW5wdXQuc2V0U3VnZ2VzdGlvbnMoaW5wdXRQYXRocyk7XG4gICAgfTtcblxuICAgIGlmICh0YXJnZXQuZGF0YS50eXBlID09PSAnaW5wdXQnKSB7XG5cbiAgICAgICAgcmVmcmVzaFN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIC8vIHRoaXMudGltZWxpbmUub24oJ2NoYW5nZS5pbnB1dHMnLCByZWZyZXNoU3VnZ2VzdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQuZGF0YS50eXBlID09PSAnY3NzJykge1xuXG4gICAgICAgIHZhciBidG5QaWNrID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiAndGFyZ2V0JyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gYW0uZGlhbG9ncy5XSVAuc2hvdygpLFxuICAgICAgICAgICAgdG9vbHRpcDogJ3BpY2sgRE9NIGVsZW1lbnQnXG4gICAgICAgIH0pO1xuICAgICAgICB0YXJnZXQub3B0aW9uTGluZS5hZGRCdXR0b24oe2RvbUVsZW06IGJ0blBpY2ssIGhvdmVyTW9kZTogdHJ1ZX0pO1xuICAgIH1cblxuICAgIHZhciBidG5EZWwgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgaWNvbjogJ2NhbmNlbCcsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnJlbW92ZVRhcmdldCh0YXJnZXQpLFxuICAgIH0pO1xuICAgIHRhcmdldC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7ZG9tRWxlbTogYnRuRGVsLCBob3Zlck1vZGU6IHRydWV9KTtcblxuICAgIHRhcmdldC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vVE9ET1xuICAgICAgICB0YXJnZXQub3B0aW9uTGluZS5kaXNwb3NlKCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSW5wdXQgPSByZXF1aXJlKCcuL0lucHV0Jyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gVW5pdElucHV0KG9wdD17fSkge1xuXG4gICAgSW5wdXQuY2FsbCh0aGlzLCBvcHQpO1xuXG4gICAgdGhpcy5fcnhBbW91bnQgPSAvXlxccyooW1xcKy1dP1xcZCpcXC4/XFxkKikvO1xuICAgIHRoaXMuX3J4VW5pdDtcblxuICAgIHRoaXMuX29uQ2hhbmdlSW5wdXRBbW91bnQgPSB0aGlzLl9vbkNoYW5nZUlucHV0QW1vdW50LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLnVuaXRzID0gb3B0LnVuaXRzICYmIG9wdC51bml0cy5sZW5ndGggPyBvcHQudW5pdHMgOiBbJyddO1xuICAgIHRoaXMubWluID0gb3B0Lm1pbjtcbiAgICB0aGlzLm1heCA9IG9wdC5tYXg7XG4gICAgdGhpcy5fYW1vdW50ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3VuaXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcHJlY2lzb24gPSBvcHQucHJlY2lzaW9uIHx8IDA7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAwO1xuICAgIHRoaXMuX2RyYWdTcGVlZCA9IG9wdC5kcmFnU3BlZWQgfHwgMTtcblxuICAgIHRoaXMuX3NldFZhbHVlUGFydHMob3B0LmFtb3VudCB8fCAwLCB0aGlzLl91bml0c1swXSk7XG5cbiAgICB0aGlzLmNvbnZlcnRlcnMgPSBvcHQuY29udmVydGVycztcbn1cblxuaW5oZXJpdHMoVW5pdElucHV0LCBJbnB1dCk7XG52YXIgcCA9IFVuaXRJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFVuaXRJbnB1dDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdmFsdWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ICs9ICcnO1xuXG4gICAgICAgICAgICB2YXIgbUFtb3VudCA9IHRoaXMuX3J4QW1vdW50LmV4ZWModiksXG4gICAgICAgICAgICAgICAgbVVuaXQgPSB0aGlzLl9yeFVuaXQuZXhlYyh2KSxcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBtQW1vdW50ID8gbUFtb3VudFsxXSA6ICcwJyxcbiAgICAgICAgICAgICAgICB1bml0ID0gbVVuaXQgPyBtVW5pdFsxXSA6ICcnO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRWYWx1ZVBhcnRzKGFtb3VudCwgdW5pdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gIHRoaXMuX2Ftb3VudCArIHRoaXMuX3VuaXQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHByZWNpc2lvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgID0gcGFyc2VJbnQodilcbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9wcmVjaXNvbiB8fCB0aGlzLl9wcmVjaXNvbi5pbmRleE9mKHYpID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmVjaXNvbiA9IHY7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAgdGhpcy5fcHJlY2lzb247XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVuaXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKCEodiBpbnN0YW5jZW9mIEFycmF5KSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl91bml0cyA9IHYuc2xpY2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fcnhVbml0ID0gbmV3IFJlZ0V4cCgnKCcgKyB0aGlzLl91bml0cy5qb2luKCd8JykgKyAnKStcXFxccyokJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuXG4gICAgICAgICAgICBpZiAoIV8uaXNGaW5pdGUodikgfHwgdGhpcy5fbWluID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX21pbiA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWluO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXg6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VGbG9hdCh2KTtcblxuICAgICAgICAgICAgaWYgKCFfLmlzRmluaXRlKHYpIHx8IHRoaXMuX21heCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9tYXggPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5cblxucC5fc2V0VmFsdWVQYXJ0cyA9IGZ1bmN0aW9uIChhbW91bnQsIHVuaXQpIHtcblxuICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KSB8fCAwO1xuICAgIHVuaXQgPSBTdHJpbmcodW5pdCkgfHwgJyc7XG5cbiAgICBpZiAodGhpcy5fYW1vdW50ID09PSBhbW91bnQgJiYgdGhpcy5fdW5pdCA9PT0gdW5pdCkgcmV0dXJuO1xuXG4gICAgaWYgKF8uaXNGaW5pdGUodGhpcy5taW4pKSBhbW91bnQgPSBNYXRoLm1heCh0aGlzLm1pbiwgYW1vdW50KTtcbiAgICBpZiAoXy5pc0Zpbml0ZSh0aGlzLm1heCkpIGFtb3VudCA9IE1hdGgubWluKHRoaXMubWF4LCBhbW91bnQpO1xuXG4gICAgdGhpcy5fYW1vdW50ID0gYW1vdW50O1xuICAgIHZhciBmaXhBbW91bnQgPSB0aGlzLl90b0ZpeGVkQW1vdW50KGFtb3VudCk7XG5cbiAgICBpZiAodGhpcy5faW5wQW1vdW50LnZhbHVlICE9PSBmaXhBbW91bnQpIHtcblxuICAgICAgICB0aGlzLl9pbnBBbW91bnQudmFsdWUgPSBmaXhBbW91bnQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3VuaXQgIT09IHVuaXQgJiYgdGhpcy5fdW5pdHMuaW5kZXhPZih1bml0KSAhPT0gLTEpIHtcblxuICAgICAgICB0aGlzLl91bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5fZGVVbml0LnRleHQgPSB1bml0O1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZSk7XG59O1xuXG5wLl90b0ZpeGVkQW1vdW50ID0gZnVuY3Rpb24gKGFtb3VudCkge1xuXG4gICAgdmFyIGZpeEFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KS50b0ZpeGVkKHRoaXMuX3ByZWNpc29uKTtcblxuICAgIGlmIChmaXhBbW91bnQuaW5kZXhPZignLicpICE9PSAtMSkge1xuXG4gICAgICAgIGZpeEFtb3VudCA9IGZpeEFtb3VudC5yZXBsYWNlKC9cXC4/MCokLywgJycpO1xuICAgIH1cblxuICAgIHJldHVybiBmaXhBbW91bnQ7XG59O1xuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXRBbW91bnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZml4QW1vdW50ID0gdGhpcy5fdG9GaXhlZEFtb3VudCh0aGlzLl9hbW91bnQpLFxuICAgICAgICB2YWx1ZSA9IHRoaXMuX2lucEFtb3VudC52YWx1ZTtcblxuICAgIGlmIChmaXhBbW91bnQgIT09IHZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5fc2V0VmFsdWVQYXJ0cyh2YWx1ZSwgdGhpcy5fdW5pdCk7XG4gICAgfVxufTtcblxuXG5cblxuXG5wLl9jcmVhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lucEFtb3VudCA9IGFtZ3VpLmNyZWF0ZUlucHV0KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZUlucHV0QW1vdW50LFxuICAgICAgICBmbGV4OiAxLFxuICAgIH0pO1xuICAgIHRoaXMuX2lucEFtb3VudC5zdHlsZS50ZXh0QWxpZ24gPSAgJ3JpZ2h0JztcbiAgICB0aGlzLl9pbnBBbW91bnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gICcycHgnO1xuICAgIHRoaXMuX2lucEFtb3VudC5zdHlsZS5jdXJzb3IgPSAgJ2V3LXJlc2l6ZSc7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2lucEFtb3VudCxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW1vdW50OiB0aGlzLl9hbW91bnQsXG4gICAgICAgICAgICAgICAgbW92ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIG1kLm1vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIGR4ID0gbXggLSBtZC5teDtcblxuICAgICAgICAgICAgdGhpcy5fc2V0VmFsdWVQYXJ0cyhtZC5hbW91bnQgKyB0aGlzLl9kcmFnU3BlZWQgKiBkeCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVXA6IGZ1bmN0aW9uIChtZCkge1xuICAgICAgICAgICAgaWYgKCFtZC5tb3ZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lucEFtb3VudC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZVVuaXQgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICB0ZXh0OiAnJyxcbiAgICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lQ29tcGFjdFByb3BlcnR5KHByb3RvLCBvcHQpIHtcblxuICAgIGlmIChfLmlzQXJyYXkob3B0KSkge1xuXG4gICAgICAgIG9wdC5mb3JFYWNoKG8gPT4gZGVmaW5lQ29tcGFjdFByb3BlcnR5KHByb3RvLCBvKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV8uaGFzKG9wdCwgJ25hbWUnKSkgdGhyb3cgRXJyb3I7XG4gICAgaWYgKF8uaGFzKG9wdCwgJ2V2ZW50TmFtZScpKSB0aHJvdyBFcnJvcjtcblxuICAgIHZhciB2YWxNYXAgPSBuZXcgV2Vha01hcCgpLFxuICAgICAgICBuYW1lID0gb3B0Lm5hbWUsXG4gICAgICAgIGhpc3RvcnkgPSBvcHQuaGlzdG9yeSxcbiAgICAgICAgc3RhcnRWYWx1ZSA9IG9wdC5zdGFydFZhbHVlLFxuICAgICAgICBvbkNoYW5nZSA9IG9wdC5vbkNoYW5nZSxcbiAgICAgICAgZXZ0TmFtZSA9IG9wdC5ldmVudCB8fCBvcHQuZXZ0TmFtZSB8fCAnY2hhbmdlLicgKyBuYW1lO1xuXG4gICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZihoaXN0b3J5KSAhPT0gJ29iamVjdCcpIGhpc3RvcnkgPSB7fTtcbiAgICAgICAgaWYgKCFoaXN0b3J5Lmhhc093blByb3BlcnR5KCd0YWcnKSkgaGlzdG9yeS50YWcgPSAnY2hhbmdlICcgKyBuYW1lO1xuICAgICAgICBpZiAoIWhpc3RvcnkuaGFzT3duUHJvcGVydHkoJ2NoYWluSWQnKSkgaGlzdG9yeS5jaGFpbklkID0gU3ltYm9sKCk7Ly9UT0RPIG1ha2UgdGhpcyB1bmlxdWUgcGVyIGluc3RhbmNlXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7c2V0OiBzZXQsIGdldDogZ2V0fSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBldnROYW1lOiBldnROYW1lLFxuICAgIH07XG5cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdmFsTWFwLmhhcyh0aGlzKSA/IHZhbE1hcC5nZXQodGhpcykgOiBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCh2KSB7XG5cbiAgICAgICAgdiA9IGZpeFR5cGUodik7XG4gICAgICAgIHZhciB2YWx1ZSA9IGdldC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh2ID09PSB2YWx1ZSB8fCBpc0ludmFsaWRWYWx1ZSh2KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzYXZlLmNhbGwodGhpcywgdmFsdWUsIHYpO1xuXG4gICAgICAgIHZhbHVlID0gdjtcblxuICAgICAgICB2YWxNYXAuc2V0KHRoaXMsIHZhbHVlKTtcblxuICAgICAgICBpZiAob25DaGFuZ2UpIG9uQ2hhbmdlLmNhbGwodGhpcywgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZW1pdChldnROYW1lLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZShvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcblxuICAgICAgICBpZiAoIWhpc3RvcnkpIHJldHVybjtcblxuICAgICAgICBhbS5oaXN0b3J5LnNhdmVDaGFpbih7XG4gICAgICAgICAgICBpZDogaGlzdG9yeS5jaGFpbklkLCBcbiAgICAgICAgICAgIHVuZG86IFtzZXQsIHRoaXMsIG9sZFZhbHVlXSwgXG4gICAgICAgICAgICByZWRvOiBbc2V0LCB0aGlzLCBuZXdWYWx1ZV0sIFxuICAgICAgICAgICAgbmFtZTogaGlzdG9yeS50YWcsIFxuICAgICAgICAgICAgZGVsYXk6IDMxMixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZml4VHlwZSh2KSB7XG5cbiAgICAgICAgc3dpdGNoIChvcHQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZmxvYXQnOiB2ID0gcGFyc2VGbG9hdCh2KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbnQnOiB2ID0gcGFyc2VJbnQodik7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6IHYgPSAhIXY7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzogdiA9ICcnICsgdjsgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ludmFsaWRWYWx1ZSh2KSB7XG5cbiAgICAgICAgcmV0dXJuICgob3B0LnR5cGUgPT09ICdmbG9hdCcgfHwgb3B0LnR5cGUgPT09ICdpbnQnKSAmJiAhXy5pc0Zpbml0ZSh2KSk7XG4gICAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBXZWJTdG9yYWdlbWFuID0gcmVxdWlyZSgnLi9zdG9yYWdlcy9XZWJTdG9yYWdlbWFuJyk7XG52YXIgUGFnZVNjcmlwdCA9IHJlcXVpcmUoJy4vc3RvcmFnZXMvUGFnZVNjcmlwdCcpO1xudmFyIERvd25sb2FkID0gcmVxdWlyZSgnLi9zdG9yYWdlcy9Eb3dubG9hZCcpO1xudmFyIGRlY29yRGlhbG9nID0gcmVxdWlyZSgnLi9kZWNvckRpYWxvZycpO1xuXG5mdW5jdGlvbiBXYXJlaG91c2VlbWFuKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBkZWNvckRpYWxvZyh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX3N0b3JhZ2VzID0gW107XG4gICAgdGhpcy5hZGRTdG9yYWdlKG5ldyBQYWdlU2NyaXB0KCkpO1xuICAgIHRoaXMuYWRkU3RvcmFnZShuZXcgV2ViU3RvcmFnZW1hbigpKTtcbiAgICB0aGlzLmFkZFN0b3JhZ2UobmV3IERvd25sb2FkKCkpO1xuICAgIC8vIHRoaXMuYWRkU3RvcmFnZShuZXcgQ29weSgpKTtcbiAgICB0aGlzLmFkZFN0b3JhZ2Uoe2ljb246ICdoZGQnLCB0b29sdGlwOiAnbG9jYWwgZmlsZSBzeXN0ZW0nfSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKHtpY29uOiAnZ2l0JywgdG9vbHRpcDogJ0dpdCd9KTtcbiAgICB0aGlzLmFkZFN0b3JhZ2Uoe2ljb246ICdnb29nbGUnLCB0b29sdGlwOiAnR29vZ2xlIERyaXZlJ30pO1xuICAgIHRoaXMuYWRkU3RvcmFnZSh7aWNvbjogJ2Ryb3Bib3gnLCB0b29sdGlwOiAnRHJvcGJveCd9KTtcbiAgICB0aGlzLmFkZFN0b3JhZ2Uoe2ljb246ICdoaXN0b3J5JywgdG9vbHRpcDogJ2F1dG8gc2F2ZSd9KTtcblxuICAgIHRoaXMuc2VsZWN0U3RvcmFnZSh0aGlzLl9zdG9yYWdlc1syXSk7XG59XG5cbmluaGVyaXRzKFdhcmVob3VzZWVtYW4sIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFdhcmVob3VzZWVtYW4ucHJvdG90eXBlO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBzZWxlY3RlZFN0b3JhZ2VUeXBlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJTdG9yYWdlICYmIHRoaXMuX2N1cnJTdG9yYWdlLnR5cGU7XG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5wLmFkZFN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZSkge1xuXG4gICAgc3RvcmFnZS5mZWF0dXJlcyA9IHN0b3JhZ2UuZmVhdHVyZXMgfHwge1xuICAgICAgICBwbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICB9O1xuXG4gICAgdGhpcy5fc3RvcmFnZXMucHVzaChzdG9yYWdlKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZVN0b3JhZ2VzJyk7XG59O1xuXG5wLnNlbGVjdFN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZSkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJTdG9yYWdlID09PSBzdG9yYWdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jdXJyU3RvcmFnZSA9IHN0b3JhZ2U7XG5cbiAgICBpZiAoc3RvcmFnZS5mZWF0dXJlcy5wbGFjZWhvbGRlcikge1xuXG4gICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZVNlbGVjdGVkU3RvcmFnZScpO1xufTtcblxucC5zYXZlID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsIHBhdGgpIHtcblxuICAgIHJldHVybiB0aGlzLl9jdXJyU3RvcmFnZS5zYXZlKG5hbWUsIGRhdGEsIHBhdGgpO1xufTtcblxucC5sb2FkID0gZnVuY3Rpb24gKG5hbWUsIHBhdGggICApIHtcblxuICAgIHJldHVybiB0aGlzLl9jdXJyU3RvcmFnZS5sb2FkKG5hbWUsIHBhdGgpO1xufTtcblxucC5ta2RpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fY3VyclN0b3JhZ2UubWtkaXIocGF0aCk7XG59O1xuXG5wLmRpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fY3VyclN0b3JhZ2UuZGlyKHBhdGgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBXYXJlaG91c2VlbWFuO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbHMvRGlhbG9nJyk7XG5cbmZ1bmN0aW9uIGRlY29yRGlhbG9nKHdobSkge1xuXG4gICAgdmFyIGRpYWxvZywgZGVMZWZ0LCBkZUhlYWQsIGRlQnJlYWRjcnVtYnMsIGlucE5hbWUsIFxuICAgICAgICBkZVN0b3JhZ2VTZWxlY3RvciwgZGVEaXJlY3RvcnksIGJ0bk5ld0ZvbGRlciwgaXNJbml0ZWQsIGRlT3B0aW9ucyxcbiAgICAgICAgb3Blbk9wdGlvbnMgPSB7fSwgbW9kZTtcblxuXG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuXG4gICAgICAgIGlmIChpc0luaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzSW5pdGVkID0gdHJ1ZTtcblxuICAgICAgICBkaWFsb2cgPSBuZXcgRGlhbG9nKCk7XG4gICAgICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3NlbGVjdGVkTmFtZScsIHN0YXJ0VmFsdWU6ICcnfSk7XG4gICAgICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3NlbGVjdGVkRGF0YScsIHN0YXJ0VmFsdWU6ICcnfSk7XG4gICAgICAgIGRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3NlbGVjdGVkUGF0aCcsIHN0YXJ0VmFsdWU6ICcnfSk7XG5cbiAgICAgICAgY3JlYXRlRGlhbG9nKCk7XG4gICAgICAgIGNyZWF0ZVN0b3JhZ2VTZWxlY3RvcigpO1xuICAgICAgICBjcmVhdGVCcmVhZGNydW1icygpO1xuICAgICAgICBjcmVhdGVCdG5OZXdGb2xkZXIoKTtcbiAgICAgICAgY3JlYXRlQnRuU2V0dGluZ3MoKTtcbiAgICAgICAgY3JlYXRlTmFtZUlucHV0KCk7XG4gICAgICAgIGNyZWF0ZURpcmVjdG9yeSgpO1xuICAgICAgICBjcmVhdGVPcHRpb25zKCk7XG5cbiAgICAgICAgd2htLmRpYWxvZyA9IGRpYWxvZztcbiAgICB9XG5cbiAgICB3aG0uc2hvd1NhdmVEaWFsb2cgPSBmdW5jdGlvbihvcHQpIHtcblxuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgb3Blbk9wdGlvbnMgPSBvcHQ7XG4gICAgICAgIG1vZGUgPSAnc2F2ZSc7XG5cbiAgICAgICAgZGlhbG9nLnNlbGVjdGVkTmFtZSA9IG9wdC5uYW1lIHx8ICdhbmltLmFtLmpzJztcbiAgICAgICAgZGlhbG9nLnNlbGVjdGVkRGF0YSA9IG9wdC5kYXRhIHx8ICcnO1xuICAgICAgICBkaWFsb2cuc2VsZWN0ZWRQYXRoID0gb3B0LnBhdGggfHwgJyc7XG5cbiAgICAgICAgaW5wTmFtZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBkaWFsb2cudGl0bGUgPSAnU2F2ZSc7XG4gICAgICAgIGRpYWxvZy5zaG93QnV0dG9uKCdzYXZlJyk7XG4gICAgICAgIGRpYWxvZy5oaWRlQnV0dG9uKCdvcGVuJyk7XG5cbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IucmVmcmVzaCgpO1xuICAgICAgICBzZXR1cE1vZHVsZXMoKTtcbiAgICAgICAgZGlhbG9nLnNob3coKTtcbiAgICB9O1xuXG4gICAgd2htLnNob3dPcGVuRGlhbG9nID0gZnVuY3Rpb24ob3B0KSB7XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIG9wZW5PcHRpb25zID0gb3B0O1xuICAgICAgICBtb2RlID0gJ29wZW4nO1xuXG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBvcHQubmFtZSB8fCAnJztcbiAgICAgICAgZGlhbG9nLnNlbGVjdGVkUGF0aCA9IG9wdC5wYXRoIHx8ICcnO1xuXG4gICAgICAgIGlucE5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBkaWFsb2cudGl0bGUgPSAnT3Blbic7XG4gICAgICAgIGRpYWxvZy5zaG93QnV0dG9uKCdvcGVuJyk7XG4gICAgICAgIGRpYWxvZy5oaWRlQnV0dG9uKCdzYXZlJyk7XG5cbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IucmVmcmVzaCgpO1xuICAgICAgICBzZXR1cE1vZHVsZXMoKTtcbiAgICAgICAgZGlhbG9nLnNob3coKTtcbiAgICB9O1xuXG4gICAgd2htLnNldFNhdmVPdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICAgICAgZGVPcHRpb25zLnNldE9wdGlvbnMob3B0KTtcbiAgICB9O1xuXG4gICAgd2htLmdldFNhdmVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHJldHVybiBkZU9wdGlvbnMuZ2V0T3B0aW9ucygpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmZWF0dXJlKG5hbWUpIHtcblxuICAgICAgICByZXR1cm4gd2htLl9jdXJyU3RvcmFnZS5mZWF0dXJlcyAmJlxuICAgICAgICAgICAgd2htLl9jdXJyU3RvcmFnZS5mZWF0dXJlc1tuYW1lXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cE1vZHVsZXMoKSB7XG5cbiAgICAgICAgc2hvd0hpZGUoZGVEaXJlY3RvcnksIGZlYXR1cmUoJ2Jyb3dzZScpKTtcbiAgICAgICAgc2hvd0hpZGUoZGVCcmVhZGNydW1icywgZmVhdHVyZSgnYnJvd3NlJykpO1xuICAgICAgICBzaG93SGlkZShidG5OZXdGb2xkZXIsIGZlYXR1cmUoJ21rZGlyJykpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNob3dIaWRlKGRlLCBzaG93KSB7XG5cbiAgICAgICAgICAgIGRlLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gJ2Jsb2NrJyB8fCBkZS5iYXNlRGlzcGxheSA6ICdoaWRkZW4nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TYXZlKCkge1xuXG4gICAgICAgIHZhciBzYXZlID0gb3Blbk9wdGlvbnMuZ2V0U2F2ZSgpLFxuICAgICAgICAgICAgbmFtZSA9IGRpYWxvZy5zZWxlY3RlZE5hbWUgfHwgJ2FuaW0uYW0uanMnO1xuXG4gICAgICAgIHdobS5zYXZlKG5hbWUsIHNhdmUsIGRpYWxvZy5zZWxlY3RlZFBhdGgpO1xuXG4gICAgICAgIGRpYWxvZy5oaWRlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25PcGVuKCkge1xuXG4gICAgICAgIHZhciBzYXZlID0gd2htLmxvYWQoZGlhbG9nLnNlbGVjdGVkTmFtZSwgZGlhbG9nLnNlbGVjdGVkUGF0aCk7XG5cbiAgICAgICAgaWYgKG9wZW5PcHRpb25zLm9uT3Blbikge1xuXG4gICAgICAgICAgICBvcGVuT3B0aW9ucy5vbk9wZW4oc2F2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkaWFsb2cuaGlkZSgpO1xuICAgIH1cblxuXG5cblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2cgKCkge1xuXG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnNzAwcHgnO1xuICAgICAgICBkaWFsb2cuZGVDb250ZW50LnN0eWxlLmhlaWdodCA9ICc0MDBweCc7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG5cbiAgICAgICAgZGVMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlTGVmdC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRlTGVmdC5zdHlsZS5mbGV4ID0gJzEnO1xuICAgICAgICBkZUxlZnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGVMZWZ0LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5hcHBlbmRDaGlsZChkZUxlZnQpO1xuXG4gICAgICAgIGRlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZUhlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRlSGVhZC5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgICAgIGRlSGVhZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBkZUxlZnQuYXBwZW5kQ2hpbGQoZGVIZWFkKTtcblxuICAgICAgICBkaWFsb2cuYWRkQnV0dG9uKCdzYXZlJywgb25TYXZlKTtcbiAgICAgICAgZGlhbG9nLmFkZEJ1dHRvbignb3BlbicsIG9uT3Blbik7XG4gICAgICAgIGRpYWxvZy5hZGRCdXR0b24oJ2Nsb3NlJywgJ2hpZGUnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJyZWFkY3J1bWJzKCkge1xuXG4gICAgICAgIGRlQnJlYWRjcnVtYnMgPSBhbWd1aS5jcmVhdGVCcmVhZGNydW1icyh7XG4gICAgICAgICAgICBwYXJlbnQ6IGRlSGVhZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGRlQnJlYWRjcnVtYnMuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBkZUJyZWFkY3J1bWJzLnN0eWxlLmZsZXggPSAnMSc7XG5cbiAgICAgICAgZGVCcmVhZGNydW1icy5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICB3aG0uY2QoZS5kZXRhaWwuc2VsZWN0aW9uLnZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlhbG9nLm9uKCdjaGFuZ2Uuc2VsZWN0ZWRQYXRoJywgcmVmcmVzaCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaCAoKSB7XG5cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IGRpYWxvZy5zZWxlY3RlZFBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnJyxcbiAgICAgICAgICAgICAgICBjcnVtYnMgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3J1bWJzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICh3aG0uX2N1cnJTdG9yYWdlLnJvb3ROYW1lIHx8ICdyb290JykgKyAnOi8vJywgXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoY3J1bWJOYW1lKSB7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBjcnVtYk5hbWUgKyAnLyc7XG5cbiAgICAgICAgICAgICAgICBjcnVtYnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNydW1iTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVCcmVhZGNydW1icy5zZXRJdGVtcyhjcnVtYnMpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCdG5TZXR0aW5ncygpIHtcblxuICAgICAgICBidG5OZXdGb2xkZXIgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICAgICAgaWNvbjogJ3dyZW5jaCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVPcHRpb25zLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQnRuTmV3Rm9sZGVyKCkge1xuXG4gICAgICAgIGJ0bk5ld0ZvbGRlciA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgcGFyZW50OiBkZUhlYWQsXG4gICAgICAgICAgICBpY29uOiAnZm9sZGVyLWFkZCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVOYW1lSW5wdXQoKSB7XG5cbiAgICAgICAgaW5wTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucE5hbWUudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgICAgIGlucE5hbWUuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgIGlucE5hbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgICAgICBpbnBOYW1lLnN0eWxlLmZvbnRTaXplID0gYW1ndWkuRk9OVF9TSVpFO1xuICAgICAgICBpbnBOYW1lLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICAgICAgaW5wTmFtZS5wbGFjZWhvbGRlciA9ICdGaWxlIG5hbWUnO1xuICAgICAgICBkZUxlZnQuYXBwZW5kQ2hpbGQoaW5wTmFtZSk7XG5cbiAgICAgICAgaW5wTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBpbnBOYW1lLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaWFsb2cub24oJ2NoYW5nZS5zZWxlY3RlZE5hbWUnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmIChpbnBOYW1lLnZhbHVlICE9PSBkaWFsb2cuc2VsZWN0ZWROYW1lKSB7XG5cbiAgICAgICAgICAgICAgICBpbnBOYW1lLnZhbHVlID0gZGlhbG9nLnNlbGVjdGVkTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEaXJlY3RvcnkoKSB7XG5cbiAgICAgICAgZGVEaXJlY3RvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVEaXJlY3Rvcnkuc3R5bGUubGlzdFN0eWxlID0gJ25vbmUnO1xuICAgICAgICBkZURpcmVjdG9yeS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIGRlRGlyZWN0b3J5LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkZURpcmVjdG9yeS5zdHlsZS5mbGV4ID0gJzEnO1xuICAgICAgICBkZUxlZnQuYXBwZW5kQ2hpbGQoZGVEaXJlY3RvcnkpO1xuXG4gICAgICAgIHZhciBkZUl0ZW1zID0gW10sIG92ZXJJdGVtLCBjdXJySXRlbTtcblxuICAgICAgICBkaWFsb2cub24oJ2NoYW5nZS5zZWxlY3RlZFBhdGgnLCByZWZyZXNoKTtcbiAgICAgICAgd2htLm9uKCdjaGFuZ2VTZWxlY3RlZFN0b3JhZ2UnLCByZWZyZXNoKTtcbiAgICAgICAgZGlhbG9nLm9uKCdjaGFuZ2Uuc2VsZWN0ZWROYW1lJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBjdXJySXRlbSA9IF8uZmluZChkZUl0ZW1zLCB7bmFtZTogZGlhbG9nLnNlbGVjdGVkTmFtZX0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoKCkge1xuXG4gICAgICAgICAgICB3aGlsZSAoZGVJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKGRlSXRlbXMucG9wKCkpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZlYXR1cmUoJ2Jyb3dzZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbGlzdCA9IHdobS5kaXIoKTtcblxuICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBjcmVhdGVJdGVtKGl0ZW0ubmFtZSwgaXRlbS50eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSB0aGlzLm5hbWU7XG5cbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdkYmxjbGljaycpIHtcblxuICAgICAgICAgICAgICAgIG9uT3BlbihkaWFsb2cuc2VsZWN0ZWRQYXRoLCBkaWFsb2cuc2VsZWN0ZWROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGRlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGVJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVJdGVtID09PSBvdmVySXRlbSB8fCBkZUl0ZW0gPT09IGN1cnJJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZ0hvdmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdmVyKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBvdmVySXRlbSA9IHRoaXM7XG4gICAgICAgICAgICByZWZyZXNoU2VsZWN0aW9uKCk7ICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdXQoKSB7XG5cbiAgICAgICAgICAgIGlmIChvdmVySXRlbSA9PT0gdGhpcykge1xuXG4gICAgICAgICAgICAgICAgb3Zlckl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJdGVtKG5hbWUsIHR5cGUpIHtcblxuICAgICAgICAgICAgdmFyIGRlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGVJdGVtLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICBpY29uOiB0eXBlID09PSAnZm9sZGVyJyA/ICdmb2xkZXItZW1wdHknIDogJ2RvYycsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBkZUl0ZW0sXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGRlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGRlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgICAgICBkZUl0ZW0uYXBwZW5kQ2hpbGQoZGVOYW1lKTtcblxuICAgICAgICAgICAgZGVEaXJlY3RvcnkuYXBwZW5kQ2hpbGQoZGVJdGVtKTtcblxuICAgICAgICAgICAgZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgICAgICAgICBkZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIGRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvbk1PdmVyKTtcbiAgICAgICAgICAgIGRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIG9uTU91dCk7XG5cbiAgICAgICAgICAgIGRlSXRlbXMucHVzaChkZUl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlSXRlbTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN0b3JhZ2VTZWxlY3RvcigpIHtcblxuICAgICAgICB2YXIgYnRuU2l6ZSA9IDMzLCBidXR0b25zID0gW107XG5cbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3Iuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS53aWR0aCA9IGJ0blNpemUgKyAncHgnO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuaW5zZXJ0QmVmb3JlKGRlU3RvcmFnZVNlbGVjdG9yLCBkZUxlZnQpO1xuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgdmFyIGlkeCA9IGUudGFyZ2V0Ll9zdG9yYWdlSWR4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIHdobS5zZWxlY3RTdG9yYWdlKHdobS5fc3RvcmFnZXNbaWR4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdobS5vbignY2hhbmdlU2VsZWN0ZWRTdG9yYWdlJywgcmVmcmVzaFNlbGVjdGlvbik7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQnV0dG9ucygpIHtcblxuICAgICAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcblxuICAgICAgICAgICAgICAgIGlmIChidG4uZG9tRWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5kb21FbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnRuLmRvbUVsZW0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ0bi5kb21FbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGlja0J0bik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbnMoKTtcblxuICAgICAgICAgICAgd2htLl9zdG9yYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yYWdlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZS5mZWF0dXJlcy5wbGFjZWhvbGRlciB8fCBzdG9yYWdlLmZlYXR1cmVzW21vZGVdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSXRlbShzdG9yYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0aW9uKCkge1xuXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICAgICAgYnRuLmRvbUVsZW0uZml4ZWRIaWdobGlnaHQgPSBidG4uc3RvcmFnZSA9PT0gd2htLl9jdXJyU3RvcmFnZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2tCdG4oZSkge1xuXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICAgICAgaWYgKGJ0bi5kb21FbGVtID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcblxuICAgICAgICAgICAgICAgICAgICB3aG0uc2VsZWN0U3RvcmFnZShidG4uc3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oc3RvcmFnZSkge1xuXG4gICAgICAgICAgICB2YXIgYnRuID0ge1xuICAgICAgICAgICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgICAgICAgICBpY29uOiBzdG9yYWdlLmljb24sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogZGVTdG9yYWdlU2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBidG5TaXplLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGJ0blNpemUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBvbkNsaWNrQnRuLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHN0b3JhZ2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFtZ3VpLmFkZFRvb2x0aXAoe1xuICAgICAgICAgICAgICAgIGRlVGFyZ2V0OiBidG4uZG9tRWxlbSwgXG4gICAgICAgICAgICAgICAgdGV4dDogc3RvcmFnZS50b29sdGlwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKGJ0bik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKCkge1xuXG4gICAgICAgIHZhciBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIGRlT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZU9wdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZGVPcHRpb25zLnN0eWxlLndpZHRoID0gJzEzOHB4JztcbiAgICAgICAgZGVPcHRpb25zLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5hcHBlbmRDaGlsZChkZU9wdGlvbnMpO1xuXG4gICAgICAgIGFtZ3VpLmNyZWF0ZUJ0bih7XG4gICAgICAgICAgICB0ZXh0OiAnYWRkIHRyaWdnZXInLFxuICAgICAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge2FtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICBwYXJlbnQ6IGRlT3B0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoZWNrU2F2ZSA9IGNyZWF0ZUNoZWNrYm94KCdpbmNsdWRlIHNhdmUnLCB0cnVlKTtcbiAgICAgICAgdmFyIGNoZWNrTWluaWZ5ID0gY3JlYXRlQ2hlY2tib3goJ21pbmlmeScpO1xuICAgICAgICB2YXIgY2hlY2tBdXRvID0gY3JlYXRlQ2hlY2tib3goJ2F1dG8gcGxheScsIHRydWUpO1xuICAgICAgICB2YXIgY2hlY2tEZWJ1ZyA9IGNyZWF0ZUNoZWNrYm94KCdkZWJ1ZycsIHRydWUpO1xuXG4gICAgICAgIGRlT3B0aW9ucy5nZXRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluY2x1ZGVTYXZlOiBjaGVja1NhdmUuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICBtaW5pZnk6IGNoZWNrTWluaWZ5LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgYXV0b1BsYXk6IGNoZWNrQXV0by5jaGVja2VkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlT3B0aW9ucy5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgICAgICBjaGVja1NhdmUuY2hlY2tlZCA9IG9wdC5pbmNsdWRlU2F2ZTtcbiAgICAgICAgICAgIGNoZWNrTWluaWZ5LmNoZWNrZWQgPSBvcHQubWluaWZ5O1xuICAgICAgICAgICAgY2hlY2tBdXRvLmNoZWNrZWQgPSBvcHQuYXV0b1BsYXk7XG4gICAgICAgICAgICBjaGVja0RlYnVnLmNoZWNrZWQgPSBvcHQuZGVidWc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGVPcHRpb25zLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaXNPcGVuZWQgPSAhaXNPcGVuZWQ7XG5cbiAgICAgICAgICAgIGRlT3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gaXNPcGVuZWQgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KG5hbWUsIGNoZWNrZWQpIHtcblxuICAgICAgICAgICAgdmFyIGNiID0gYW1ndWkuY3JlYXRlQ2hlY2tib3goe1xuICAgICAgICAgICAgICAgIHRleHQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGRlT3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGNiKS5vbmUoJ2NsaWNrJywgZnVuY3Rpb24gKCkge2FtLmRpYWxvZ3MuV0lQLnNob3coKX0pO1xuXG4gICAgICAgICAgICByZXR1cm4gY2I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBkZWNvckRpYWxvZztcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIERvd25sb2FkKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9yb290ID0gb3B0LnJvb3QgfHwgJ19Eb3dubG9hZC8nO1xuXG4gICAgdGhpcy5pY29uID0gJ2Rvd25sb2FkJztcbiAgICB0aGlzLnRvb2x0aXAgPSAnRG93bmxvYWQnO1xufVxuXG5pbmhlcml0cyhEb3dubG9hZCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRG93bmxvYWQucHJvdG90eXBlO1xuXG5wLmZlYXR1cmVzID0ge1xuICAgIHNhdmU6IHRydWUsXG59O1xuXG5wLnNhdmUgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xuXG4gICAgZGF0YSA9ICdkYXRhOmFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgICQoJzxhIGRvd25sb2FkPVwiJyArIG5hbWUgKyAnXCIgaHJlZj1cIicgKyBkYXRhICsgJ1wiPjwvYT4nKVswXS5jbGljaygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZDsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxudmFyIEZPTERFUlMgPSAnPGZvbGRlcnM+JztcblxuZnVuY3Rpb24gUGFnZVNjcmlwdChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5fcm9vdCA9IG9wdC5yb290IHx8ICdfUGFnZVNjcmlwdC8nO1xuXG4gICAgdGhpcy5pY29uID0gJ2NvZGUnO1xuICAgIHRoaXMudG9vbHRpcCA9ICdydW5uaW5nIEFuaW1hY2hpbmUgcGFnZXNjcmlwdHMnO1xuXG4gICAgdGhpcy5fZm9sZGVycyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9yb290ICsgRk9MREVSUyk7XG4gICAgXG4gICAgdHJ5IHsgXG4gICAgICAgIHRoaXMuZm9sZGVycyA9IEpTT04ucGFyc2UodGhpcy5fZm9sZGVycyk7IFxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLl9mb2xkZXJzID0gW107XG4gICAgfVxufVxuXG5pbmhlcml0cyhQYWdlU2NyaXB0LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBQYWdlU2NyaXB0LnByb3RvdHlwZTtcblxucC5zYXZlID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsIHBhdGgpIHtcblxuICAgIG5hbWUgPSB0aGlzLl92YWxpZE5hbWUobmFtZSk7XG4gICAgXG4gICAgdGhpcy5ta2RpcihwYXRoKTtcbiAgICB0aGlzLl9zZXQocGF0aCArIG5hbWUsIGRhdGEpO1xuXG4gICAgcmV0dXJuIG5hbWU7XG59O1xuXG5wLm9wZW4gPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgaWYgKG5hbWUgaW4gcGFnZVNjcmlwdHMoKSkge1xuXG4gICAgICAgIHJldHVybiBwYWdlU2NyaXB0cygpW25hbWVdO1xuICAgIH1cbn07XG5cbnAuZGlyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMocGFnZVNjcmlwdHMoKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIHBhZ2VTY3JpcHRzKCkge1xuXG4gICAgcmV0dXJuICh3aW5kb3cuYW0gJiYgd2luZG93LmFtLnBhZ2VTY3JpcHRzKSB8fCBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlU2NyaXB0OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG52YXIgUk9PVCA9ICdfd2Vic3RvcmFnZW1hbi8nLCBcbiAgICBGT0xERVJTID0gJzxmb2xkZXJzPic7XG5cbmZ1bmN0aW9uIFdlYlN0b3JhZ2VtYW4ob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuaWNvbiA9ICdidWxsc2V5ZSc7XG4gICAgdGhpcy5yb290TmFtZSA9ICd3ZWJzdG9yYWdlJztcbiAgICB0aGlzLnR5cGUgPSAnd2Vic3RvcmFnZSc7XG4gICAgdGhpcy50b29sdGlwID0gJ3dlYnN0b3JhZ2UsIHN0b3JlIGRhdGEgaW4geW91ciBicm93c2VyJztcblxuICAgIHRoaXMuX2ZvbGRlcnMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oUk9PVCArIEZPTERFUlMpO1xuICAgIFxuICAgIHRyeSB7IFxuICAgICAgICB0aGlzLl9mb2xkZXJzID0gSlNPTi5wYXJzZSh0aGlzLl9mb2xkZXJzKTsgXG4gICAgfVxuICAgIGNhdGNoIChlKSB7fVxuXG4gICAgaWYgKCEodGhpcy5fZm9sZGVycyBpbnN0YW5jZW9mIEFycmF5KSkge1xuXG4gICAgICAgIHRoaXMuX2ZvbGRlcnMgPSBbXTtcbiAgICB9IFxufVxuXG5pbmhlcml0cyhXZWJTdG9yYWdlbWFuLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBXZWJTdG9yYWdlbWFuLnByb3RvdHlwZTtcblxucC5mZWF0dXJlcyA9IHtcbiAgICBzYXZlOiB0cnVlLFxuICAgIG9wZW46IHRydWUsXG4gICAgYnJvd3NlOiB0cnVlLFxufTtcblxuXG5wLnNhdmUgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgcGF0aCkge1xuXG4gICAgbmFtZSA9IHRoaXMuX3ZhbGlkTmFtZShuYW1lKTtcbiAgICBwYXRoID0gdGhpcy5fdmFsaWRQYXRoKHBhdGgpO1xuICAgIFxuICAgIHRoaXMubWtkaXIocGF0aCk7XG4gICAgdGhpcy5fc2V0KHBhdGggKyBuYW1lLCBkYXRhKTtcblxuICAgIHJldHVybiBuYW1lO1xufTtcblxucC5sb2FkID0gZnVuY3Rpb24gKG5hbWUsIHBhdGgpIHtcblxuICAgIG5hbWUgPSB0aGlzLl92YWxpZE5hbWUobmFtZSk7XG4gICAgcGF0aCA9IHRoaXMuX3ZhbGlkUGF0aChwYXRoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5fZ2V0KHBhdGggKyBuYW1lKTtcbn07XG5cbnAubWtkaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgcGF0aCA9IHRoaXMuX3ZhbGlkUGF0aChwYXRoKS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcblxuICAgIHZhciBmb2xkZXJQYXRoID0gJyc7XG5cbiAgICBwYXRoLmZvckVhY2goZnVuY3Rpb24gKGZvbGRlcikge1xuXG4gICAgICAgIHRoaXMuX2FkZEZvbGRlcihmb2xkZXIgKyAnLycpO1xuXG4gICAgfSwgdGhpcyk7XG59O1xuXG5wLmRpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICBwYXRoID0gUk9PVCArIHRoaXMuX3ZhbGlkUGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSBbXTtcblxuICAgIE9iamVjdC5rZXlzKHdpbmRvdy5sb2NhbFN0b3JhZ2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihGT0xERVJTKSA9PT0gLTEpIHtcblxuICAgICAgICAgICAgdGVzdEtleShrZXksICdmaWxlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2ZvbGRlcnMuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgICAgIHRlc3RLZXkoUk9PVCArIHBhdGguc2xpY2UoMCwgLTEpLCAnZm9sZGVyJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xuXG4gICAgZnVuY3Rpb24gdGVzdEtleShrZXksIHR5cGUpIHtcblxuICAgICAgICBpZiAoa2V5LmluZGV4T2YocGF0aCkgPT09IDApIHtcblxuICAgICAgICAgICAga2V5ID0ga2V5LnN1YnN0cihwYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignLycpID09PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnAuX2FkZEZvbGRlciA9IGZ1bmN0aW9uKHBhdGgpIHtcblxuICAgIGlmICh0aGlzLl9mb2xkZXJzLmluZGV4T2YocGF0aCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9mb2xkZXJzLnB1c2gocGF0aCk7XG5cbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oUk9PVCArIEZPTERFUlMsIEpTT04uc3RyaW5naWZ5KHRoaXMuX2ZvbGRlcnMpKTtcbn07XG5cbnAuX3NldCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEpIHtcblxuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oUk9PVCArIHBhdGgsIGRhdGEpO1xufTtcblxucC5fZ2V0ID0gZnVuY3Rpb24ocGF0aCkge1xuXG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShST09UICsgcGF0aCk7XG59O1xuXG5wLl92YWxpZFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgcGF0aCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICBpZiAocGF0aC5jaGFyQXQocGF0aC5sZW5ndGgtMSkgIT09ICcvJyAmJiBwYXRoLmxlbmd0aCkge1xuICAgICAgICBwYXRoICs9ICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn07XG5cbnAuX3ZhbGlkTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuICAgIHJldHVybiBuYW1lLnJlcGxhY2UoLzx8XFwvL2csICdfJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlN0b3JhZ2VtYW47IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIEJsb2NrKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG5cbiAgICB0aGlzLnNpemUgPSBvcHQuc2l6ZSB8fCAxO1xuICAgIHRoaXMuc2NhbGVNb2RlID0gb3B0LnNjYWxlTW9kZSB8fCAnZmxleCc7XG59XG5cbmluaGVyaXRzKEJsb2NrLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBCbG9jay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEJsb2NrO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBzaXplOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ251bWJlcicgfHwgdGhpcy5fc2l6ZSA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gdjtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuYnViYmxlUmVzaXplKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2NhbGVNb2RlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ3N0cmluZycgfHwgdGhpcy5fc2NhbGVNb2RlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3NjYWxlTW9kZSA9IHY7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLmJ1YmJsZVJlc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlTW9kZTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5wLmJ1YmJsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZvciBvdmVycmlkZVxufTtcblxucC5fcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBmbGV4ID0gJycsIHdpZHRoID0gJycsIGhlaWdodCA9ICcnO1xuXG4gICAgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZml4Jykge1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyb3cnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5zaXplICsgJ3B4JztcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnNpemUgKyAncHgnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZmxleCcpIHtcblxuICAgICAgICBmbGV4ID0gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBmbGV4O1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmFsaWduU2VsZiA9ICdzdHJldGNoJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHRoaXMuZG9tRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAnYmxvY2snKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrJyk7XG52YXIgUGFuZWwgPSByZXF1aXJlKCcuL1BhbmVsJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gQ29udGFpbmVyKG9wdCkge1xuICAgIFxuICAgIEJsb2NrLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgdGhpcy5fZGVIYW5kbGVycyA9IFtdO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBvcHQuZGlyZWN0aW9uIHx8ICdyb3cnO1xuXG4gICAgb3B0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNEYXRhKSB7XG5cbiAgICAgICAgaWYgKGNEYXRhLnR5cGUgPT09ICdjb250YWluZXInKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IENvbnRhaW5lcihjRGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNEYXRhLnR5cGUgPT09ICdwYW5lbCcpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgUGFuZWwoY0RhdGEpKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5kb21FbGVtLCB0aGlzLl9yZWZyZXNoSGFuZGxlcnMuYmluZCh0aGlzKSk7XG59XG5cbmluaGVyaXRzKENvbnRhaW5lciwgQmxvY2spO1xudmFyIHAgPSBDb250YWluZXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDb250YWluZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGRpcmVjdGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHY7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZmxleERpcmVjdGlvbiA9IHRoaXMuX2RpcmVjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5hZGRDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXG4gICAgdGhpcy5hZGRDaGlsZEF0KGNoaWxkLCB0aGlzLl9jaGlsZHJlbi5sZW5ndGgpO1xufTtcblxucC5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpZHgpIHtcblxuICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpZHgsIDAsIGNoaWxkKTtcbiAgICB0aGlzLl9yZWZyZXNoQ2hpbGRyZW4oKTtcbiAgICB0aGlzLl9yZWZyZXNoSGFuZGxlcnMoKTtcbn07XG5cbnAuZmluZFRhYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgdGFiO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICB0YWIgPSBjaGlsZC5maW5kVGFiKG5hbWUpO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhYjtcbn07XG5cbnAuYnViYmxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9jaGlsZHJlbiB8fCAhdGhpcy5fZGVIYW5kbGVycykgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICBjaGlsZC5idWJibGVSZXNpemUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufTtcblxuXG5cblxuXG5cbnAuX2dldEZsZXhQZXJQeCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiciA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgZnVsbFB4ID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gYnIud2lkdGggOiBici5oZWlnaHQsXG4gICAgICAgIGZ1bGxGbGV4ID0gMDtcblxuICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG5cbiAgICAgICAgaWYgKGNoaWxkLnNjYWxlTW9kZSA9PT0gJ2ZpeCcpIHtcblxuICAgICAgICAgICAgZnVsbFB4IC09IGNoaWxkLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmdWxsRmxleCArPSBjaGlsZC5zaXplO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVsbEZsZXggLyBmdWxsUHg7XG59O1xuXG5wLl9yZWZyZXNoQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKGNoaWxkLmRvbUVsZW0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5fcmVmcmVzaEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGksIGRlSGFuZGxlciwgbmNCciwgXG4gICAgICAgIHRoaWNrbmVzcyA9IDQsXG4gICAgICAgIGJyID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCAtIDE7ICsraSkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZGVIYW5kbGVyc1tpXSkge1xuICAgICAgICAgICAgdGhpcy5fZGVIYW5kbGVycy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZXIoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIG5jQnIgPSB0aGlzLl9jaGlsZHJlbltpKzFdLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGRlSGFuZGxlciA9IHRoaXMuX2RlSGFuZGxlcnNbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncm93Jykge1xuXG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUubGVmdCA9IChuY0JyLmxlZnQgLSBici5sZWZ0IC0gdGhpY2tuZXNzLzIpICsgJ3B4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS53aWR0aCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAobmNCci50b3AgLSBici50b3AgLSB0aGlja25lc3MvMikgKyAncHgnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmhlaWdodCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ25zLXJlc2l6ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9kZUhhbmRsZXJzLnNwbGljZShpKS5mb3JFYWNoKGZ1bmN0aW9uIChkZUhhbmRsZXIpIHtcblxuICAgICAgICBkZUhhbmRsZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZUhhbmRsZXIpO1xuICAgIH0pXG59O1xuXG5cblxuXG5cblxuXG5wLl9vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5wLl9vbkRyYWdIYW5kbGVyID0gZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgIHZhciBtb3ZlID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gbXggLSBtZC5teCA6IG15IC0gbWQubXksXG4gICAgICAgIG1vdmVGbGV4ID0gbW92ZSAqIHRoaXMuX2dldEZsZXhQZXJQeCgpLFxuICAgICAgICBwcmV2Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHhdLFxuICAgICAgICBuZXh0Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHggKyAxXTtcblxuICAgIHByZXZDaGlsZC5zaXplID0gbWQucHJldkNoaWxkU2l6ZSArIChwcmV2Q2hpbGQuc2NhbGVNb2RlID09PSAnZml4JyA/IG1vdmUgOiBtb3ZlRmxleCk7XG4gICAgbmV4dENoaWxkLnNpemUgPSBtZC5uZXh0Q2hpbGRTaXplIC0gKG5leHRDaGlsZC5zY2FsZU1vZGUgPT09ICdmaXgnID8gbW92ZSA6IG1vdmVGbGV4KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGVIYW5kbGVycy5pbmRleE9mKGRlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWR4OiBpZHgsXG4gICAgICAgICAgICAgICAgcHJldkNoaWxkU2l6ZTogdGhpcy5fY2hpbGRyZW5baWR4XS5zaXplLFxuICAgICAgICAgICAgICAgIG5leHRDaGlsZFNpemU6IHRoaXMuX2NoaWxkcmVuW2lkeCArIDFdLnNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiB0aGlzLl9vbkRyYWdIYW5kbGVyLFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgICAgICB9LFxuICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZSk7XG5cbiAgICByZXR1cm4gZGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIERpYWxvZ3MoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcbiAgICB0aGlzLl9jcmVhdGVGcmFtZSgpO1xuXG4gICAgdGhpcy5fZGlhbG9nU3RhY2sgPSBbXTtcblxuICAgIHRoaXMuX29mZnNldFggPSAwO1xuICAgIHRoaXMuX29mZnNldFkgPSAwO1xufVxuXG5pbmhlcml0cyhEaWFsb2dzLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEaWFsb2dzLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRGlhbG9ncztcblxucC5zaG93RGlhbG9nID0gZnVuY3Rpb24gKHBvcHVwKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclBvcHVwKSB7XG5cbiAgICAgICAgdGhpcy5fZGlhbG9nU3RhY2sucHVzaCh0aGlzLl9jdXJyUG9wdXApO1xuICAgIH1cblxuICAgIHRoaXMubW92ZSgwLCAwKTtcblxuICAgIHRoaXMuX2N1cnJQb3B1cCA9IHBvcHVwO1xuXG4gICAgdGhpcy5fZGVGcmFtZS5zZXRUaXRsZShwb3B1cC50aXRsZSk7XG4gICAgdGhpcy5fZGVGcmFtZS5zZXRDb250ZW50KHBvcHVwLmRlQ29udGVudCk7XG4gICAgdGhpcy5fZGVGcmFtZS5zZXRCdXR0b25zKHBvcHVwLmJ1dHRvbnMpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgaWYgKHBvcHVwLm9uU2hvdykgcG9wdXAub25TaG93KCk7XG59O1xuXG5wLmhpZGVEaWFsb2cgPSBmdW5jdGlvbiAocG9wdXApIHtcblxuICAgIHBvcHVwID0gcG9wdXAgfHwgdGhpcy5fY3VyclBvcHVwO1xuXG4gICAgaWYgKCFwb3B1cCkgcmV0dXJuO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICBpZiAocG9wdXAub25IaWRlKSBwb3B1cC5vbkhpZGUoKTtcblxuICAgIGlmIChfLmhhcyh0aGlzLl9kaWxhb2dTdGFjaywgcG9wdXApKSB7XG5cbiAgICAgICAgXy5wdWxsKHRoaXMuX2RpbGFvZ1N0YWNrLCBwb3B1cCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcHVwID09PSB0aGlzLl9jdXJyUG9wdXApIHtcblxuICAgICAgICB0aGlzLl9jdXJyUG9wdXAgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RpYWxvZ1N0YWNrLmxlbmd0aCkge1xuXG4gICAgICAgICAgICB0aGlzLnNob3dEaWFsb2codGhpcy5fZGlhbG9nU3RhY2sucG9wKCkpOyAgIFxuICAgICAgICB9XG4gICAgfVxufTtcblxucC5tb3ZlID0gZnVuY3Rpb24gKHgsIHkpIHtcblxuICAgIHRoaXMuX29mZnNldFggPSB4O1xuICAgIHRoaXMuX29mZnNldFkgPSB5O1xuXG4gICAgdGhpcy5fZGVGcmFtZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKCcreCsncHgsJyt5KydweCknO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5wLnNldFRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG5cbiAgICBpZiAodGhpcy5fY3VyclBvcHVwKSB7XG4gICAgICAgIHRoaXMuX2N1cnJQb3B1cC50aXRsZSA9IHRpdGxlO1xuICAgIH1cblxuICAgIHRoaXMuX2RlRnJhbWUuc2V0VGl0bGUodGl0bGUpO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZURvbUVsZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMjU1LDI1NSwyNTUsLjMpJztcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB0aGlzLmhpZGVEaWFsb2coKTtcbiAgICB9KTtcbn07XG5cbnAuX2NyZWF0ZUZyYW1lID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZGUsIGRlVGl0bGUsIGRlVGl0bGVUZXh0LCBkZVRpdGxlSWNvbixcbiAgICAgICAgZGVDb250ZW50Q29udCwgZGVCdXR0b25zQ29udCwgYnV0dG9ucyA9IFtdO1xuXG4gICAgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGUuc3R5bGUubGVmdCA9ICcwJztcbiAgICBkZS5zdHlsZS5yaWdodCA9ICcwJztcbiAgICBkZS5zdHlsZS50b3AgPSAnMCc7XG4gICAgZGUuc3R5bGUuYm90dG9tID0gJzAnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJy13ZWJraXQtZml0LWNvbnRlbnQnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICctd2Via2l0LWZpdC1jb250ZW50JztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICctbW96LWZpdC1jb250ZW50JztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAnLW1vei1maXQtY29udGVudCc7XG4gICAgZGUuc3R5bGUud2lkdGggPSAnZml0LWNvbnRlbnQnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICdmaXQtY29udGVudCc7XG4gICAgZGUuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcblxuICAgIHRoaXMuX2RlRnJhbWUgPSBkZTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVGcmFtZSk7XG5cblxuICAgIGRlVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZVRpdGxlLnN0eWxlLnBhZGRpbmcgPSAnMCAxOHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmhlaWdodCA9ICczNHB4JztcbiAgICBkZVRpdGxlLnN0eWxlLmZvbnRTaXplID0gJzIzcHgnO1xuICAgIGRlVGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICc3MDAnO1xuICAgIGRlVGl0bGUuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVUaXRsZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVUaXRsZSk7XG5cbiAgICBkZVRpdGxlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkZVRpdGxlLmFwcGVuZENoaWxkKGRlVGl0bGVUZXh0KTtcblxuICAgIGRlVGl0bGVJY29uID0gYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgIHBhcmVudDogZGVUaXRsZSxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgfSk7XG5cbiAgICBcblxuICAgIGRlQ29udGVudENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZUNvbnRlbnRDb250LnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5O1xuICAgIGRlLmFwcGVuZENoaWxkKGRlQ29udGVudENvbnQpO1xuXG4gICAgZGVCdXR0b25zQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQnV0dG9uc0NvbnQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVCdXR0b25zQ29udC5zdHlsZS5mbG9hdCA9ICdyaWdodCc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGVCdXR0b25zQ29udCk7XG5cblxuICAgIGRlLnNldFRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZih0aXRsZSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aXRsZSA9IHt0ZXh0OiB0aXRsZX07XG4gICAgICAgIH1cblxuICAgICAgICBkZVRpdGxlVGV4dC50ZXh0Q29udGVudCA9IHRpdGxlLnRleHQgfHwgJ0RpYWxvZyc7XG5cbiAgICAgICAgaWYgKHRpdGxlLmljb24pIHtcblxuICAgICAgICAgICAgZGVUaXRsZUljb24uc2V0SWNvbih0aXRsZS5pY29uKTtcbiAgICAgICAgICAgIGRlVGl0bGVJY29uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlVGl0bGVJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChkZUNvbnRlbnQpIHtcblxuICAgICAgICBpZiAoIWRlQ29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVDb250ZW50Q29udC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZGVDb250ZW50Q29udC5hcHBlbmRDaGlsZChkZUNvbnRlbnQpO1xuICAgIH07XG5cbiAgICBkZS5zZXRCdXR0b25zID0gZnVuY3Rpb24gKGJ0bkRhdGFMaXN0KSB7XG5cbiAgICAgICAgaWYgKCFidXR0b25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBidXR0b25zLmxlbmd0aCA9IDA7XG4gICAgICAgIGRlQnV0dG9uc0NvbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgYnRuRGF0YUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoYnRuRGF0YSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mKGJ0bkRhdGEpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhLnRleHQsIGJ0bkRhdGEub25DbGljayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5hZGRCdXR0b24gPSBmdW5jdGlvbiAodGV4dCwgaGFuZGxlcikge1xuXG4gICAgICAgIHZhciBidG4gPSBhbWd1aS5jcmVhdGVCdG4oe1xuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsMCknLFxuICAgICAgICB9KTtcbiAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgYnRuLnN0eWxlLmZvbnRXZWlnaHQgPSAnNzAwJztcbiAgICAgICAgYnRuLnN0eWxlLmZvbnRTaXplID0gJzE4cHgnO1xuICAgICAgICBkZUJ1dHRvbnNDb250LmFwcGVuZENoaWxkKGJ0bik7XG5cbiAgICAgICAgYnV0dG9ucy5wdXNoKGJ0bik7XG5cbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikgaGFuZGxlcigpO1xuXG4gICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2tfJyArIHRleHQudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIHRoaXNBcmc6IHRoaXMsXG4gICAgICAgIG9uRG93bjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9mZnNldFg6IHRoaXMuX29mZnNldFgsXG4gICAgICAgICAgICAgICAgb2Zmc2V0WTogdGhpcy5fb2Zmc2V0WSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAobWQpIHtcblxuICAgICAgICAgICAgdGhpcy5tb3ZlKG1kLm9mZnNldFggKyBtZC5keCwgbWQub2Zmc2V0WSArIG1kLmR5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFRhYiA9IHJlcXVpcmUoJy4vVGFiJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIEJsb2NrID0gcmVxdWlyZSgnLi9CbG9jaycpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gUGFuZWwob3B0KSB7XG5cbiAgICBCbG9jay5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLl90YWJzID0gW107XG5cbiAgICB0aGlzLl9vblRvZ2dsZUNvbGxhcHNlZCA9IHRoaXMuX29uVG9nZ2xlQ29sbGFwc2VkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVUYWJCYXNlKCk7XG5cbiAgICB0aGlzLl9lbXB0eSA9IGZhbHNlO1xuICAgIHRoaXMuX2NvbGxhcHNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX25vSGVhZCA9IGZhbHNlO1xuXG4gICAgaWYgKCdlbXB0eScgaW4gb3B0KSB0aGlzLmVtcHR5ID0gb3B0LmVtcHR5O1xuICAgIGlmICgnY29sbGFwc2VkJyBpbiBvcHQpIHRoaXMuY29sbGFwc2VkID0gb3B0LmNvbGxhcHNlZDtcbiAgICBpZiAoJ25vSGVhZCcgaW4gb3B0KSB0aGlzLm5vSGVhZCA9IG9wdC5ub0hlYWQ7XG5cbiAgICBpZiAob3B0LnRhYnMpIHtcbiAgICAgICAgb3B0LnRhYnMuZm9yRWFjaCh0aGlzLmFkZFRhYiwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl90YWJzLnNvbWUoZnVuY3Rpb24gKHRhYikge3JldHVybiB0YWIuc2VsZWN0ZWQ7fSkgJiZcbiAgICAgICAgdGhpcy5fdGFicy5sZW5ndGgpXG4gICAge1xuICAgICAgICB0aGlzLl90YWJzWzBdLnNlbGVjdCgpO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoUGFuZWwsIEJsb2NrKTtcbnZhciBwID0gUGFuZWwucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBQYW5lbDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgZW1wdHk6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VtcHR5ID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2VtcHR5ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gdGhpcy5fZW1wdHkgPyAnbm9uZScgOiAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuX2VtcHR5ID8gJ2hpZGRlbicgOiAndmlzaWJpbGUnO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbXB0eTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgY29sbGFwc2VkOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsYXBzZWQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fY29sbGFwc2VkID0gdjtcbiAgICAgICAgICAgIHRoaXMuX2RlVGFiQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fY29sbGFwc2VkID8gJ25vbmUnIDogJ2ZsZXgnO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xsYXBzZWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIG5vSGVhZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodGhpcy5fbm9IZWFkID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25vSGVhZCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuZGlzcGxheSA9IHRoaXMuX25vSGVhZCA/ICdub25lJyA6ICdmbGV4JztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9IZWFkO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnAuYWRkVGFiID0gZnVuY3Rpb24gKHREYXRhKSB7XG5cbiAgICB2YXIgdGFiID0gbmV3IFRhYih0RGF0YSk7XG4gICAgdGhpcy5fZGVUYWJIZWFkLmFwcGVuZENoaWxkKHRhYi5kZUVhcik7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LmFwcGVuZENoaWxkKHRhYi5kb21FbGVtKTtcbiAgICB0aGlzLl90YWJzLnB1c2godGFiKTtcblxuICAgIHRhYi5kZUVhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd1RhYi5iaW5kKHRoaXMsIHRhYikpO1xufTtcblxuXG5wLmZpbmRUYWIgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgdmFyIHRhYjtcblxuICAgIHRoaXMuX3RhYnMuc29tZShmdW5jdGlvbiAodCkge1xuXG4gICAgICAgIGlmICh0Lm5hbWUgPT09IG5hbWUpIHtcblxuICAgICAgICAgICAgcmV0dXJuICh0YWIgPSB0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhYjtcbn07XG5cbnAuc2hvd1RhYiA9IGZ1bmN0aW9uICh0YWIpIHtcblxuICAgIHRoaXMuX3RhYnMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICBcbiAgICAgICAgaWYgKHRhYiA9PT0gdCkge1xuICAgICAgICAgICAgdC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHQuZGVzZWxlY3QoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxucC5idWJibGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX3RhYnMpIHJldHVybjtcblxuICAgIHRoaXMuX3RhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiKSB7XG5cbiAgICAgICAgdGFiLmJ1YmJsZVJlc2l6ZSgpO1xuICAgIH0pO1xufTtcblxuXG5cblxuXG5cblxucC5fb25Ub2dnbGVDb2xsYXBzZWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZDtcblxuICAgIHRoaXMuX2J0blRvZ2dsZUNvbGxhcHNlZC5zZXRUb2dnbGUodGhpcy5jb2xsYXBzZWQpO1xufTtcblxuXG5cblxuXG5cbnAuX2NyZWF0ZVRhYkJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZVRhYkJhc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVRhYkJhc2Uuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVRhYkJhc2Uuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgIHRoaXMuX2RlVGFiQmFzZS5zdHlsZS5hbGlnblNlbGYgPSAnc3RyZXRjaCc7XG4gICAgdGhpcy5fZGVUYWJCYXNlLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlVGFiQmFzZSk7XG5cbiAgICB0aGlzLl9kZVRhYkhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVUYWJIZWFkLnN0eWxlLmhlaWdodCA9IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuYWxpZ25JdGVtcyA9ICdzdHJldGNoJztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgJ3RhYmhlYWQnKVxuICAgIHRoaXMuX2RlVGFiQmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9kZVRhYkhlYWQpO1xuXG4gICAgdGhpcy5fZGVUYWJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLmZsZXggPSAxO1xuICAgIHRoaXMuX2RlVGFiQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAndGFiY29udGVudCcpXG4gICAgdGhpcy5fZGVUYWJCYXNlLmFwcGVuZENoaWxkKHRoaXMuX2RlVGFiQ29udGVudCk7XG5cbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3Nob3cvaGlkZSB0YWJzJyxcbiAgICAgICAgaWNvbk9uOiAnY29sbGFwc2UnLCBcbiAgICAgICAgaWNvbk9mZjogJ2V4cGFuZCcsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVUYWJIZWFkLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25Ub2dnbGVDb2xsYXBzZWRcbiAgICB9KTtcbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQuc3R5bGUub3JkZXIgPSAxO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFRhYihvcHQpIHtcblxuICAgIHRoaXMubmFtZSA9IG9wdC5uYW1lO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5kZUVhciA9IHRoaXMuX2NyZWF0ZVRhYkVhcigpO1xuXG4gICAgdGhpc1t0aGlzLnNlbGVjdGVkID8gJ3NlbGVjdCcgOiAnZGVzZWxlY3QnXSgpO1xufVxuXG52YXIgcCA9IFRhYi5wcm90b3R5cGU7XG5cbnAuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChkZUNvbnRlbnQpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoZGVDb250ZW50KTtcbiAgICBkZUNvbnRlbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xufTtcblxucC5idWJibGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbn07XG5cblxuXG5wLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmRlRWFyLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoID0gJzFweCc7XG4gICAgdGhpcy5kZUVhci5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5kZUVhci5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aCA9ICcwcHgnO1xuICAgIHRoaXMuZGVFYXIuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0SW5hY3RpdmU7XG59O1xuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ3JlYWx0aXZlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmRvbUVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgJ3RhYiAtICcgKyB0aGlzLm5hbWUpO1xufTtcblxucC5fY3JlYXRlVGFiRWFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIGZsZXg6IDEsXG4gICAgfSk7XG4gICAgZGUuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIGRlLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICBkZS5zdHlsZS5ib3JkZXJCb3R0b20gPSAnc29saWQgMXB4IHdoaXRlJztcbiAgICBkZS5zdHlsZS5hbGlnblNlbGYgPSAnc3RyZXRjaCc7XG4gICAgZGUuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBkZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcblxuICAgIHJldHVybiBkZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGFiOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIENvbnRhaW5lciA9IHJlcXVpcmUoJy4vQ29udGFpbmVyJyk7XG52YXIgRGlhbG9ncyA9IHJlcXVpcmUoJy4vRGlhbG9ncycpO1xuXG5mdW5jdGlvbiBXaW5kb29tYW4oKSB7XG5cbiAgICB0aGlzLl90YWJNYXAgPSB7fTtcbiAgICB0aGlzLl93b3Jrc3BhY2VzID0ge307XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5faW5pdFJlc2l6ZSgpO1xuXG4gICAgdGhpcy5kaWFsb2dzID0gbmV3IERpYWxvZ3MoKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5kaWFsb2dzLmRvbUVsZW0pO1xufVxuXG52YXIgcCA9IFdpbmRvb21hbi5wcm90b3R5cGU7XG5cbnAubG9hZFdvcmtzcGFjZSA9IGZ1bmN0aW9uIChuYW1lLCB3b3Jrc3BhY2UpIHtcblxuICAgIHRoaXMuX3dvcmtzcGFjZXNbbmFtZV0gPSB3b3Jrc3BhY2U7XG59O1xuXG5wLmdldFdvcmtzcGFjZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICByZXR1cm4gXy5jbG9uZURlZXAodGhpcy5fd29ya3NwYWNlc1tuYW1lXSk7XG59XG5cbnAubG9hZCA9IGZ1bmN0aW9uIChuYW1lLCB3b3Jrc3BhY2UpIHtcblxuICAgIGlmICh3b3Jrc3BhY2UpIHtcbiAgICAgICAgdGhpcy5sb2FkV29ya3NwYWNlKG5hbWUsIHdvcmtzcGFjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1hcCA9IHRoaXMuX3dvcmtzcGFjZXNbbmFtZV07XG5cbiAgICBpZiAoIW1hcCB8fCBtYXAudHlwZSAhPT0gJ2NvbnRhaW5lcicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2NhblxcJ3QgbG9hZCAnICsgbWFwKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yb290ID0gbmV3IENvbnRhaW5lcihtYXApO1xuICAgIFxuICAgIHRoaXMuX2RlQ29udC5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLl9kZUNvbnQuYXBwZW5kQ2hpbGQodGhpcy5fcm9vdC5kb21FbGVtKTtcblxuICAgIE9iamVjdC5rZXlzKHRoaXMuX3RhYk1hcCkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgIHRoaXMuZmlsbFRhYihuYW1lLCB0aGlzLl90YWJNYXBbbmFtZV0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5maW5kVGFiID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIGlmICh0aGlzLl9yb290KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuZmluZFRhYihuYW1lKTtcbiAgICB9XG59O1xuXG5wLmZpbGxUYWIgPSBmdW5jdGlvbiAobmFtZSwgY29udGVudCkge1xuXG4gICAgdGhpcy5fdGFiTWFwW25hbWVdID0gY29udGVudDtcblxuICAgIHZhciB0YWIgPSB0aGlzLmZpbmRUYWIobmFtZSk7XG5cbiAgICBpZiAodGFiKSB7XG4gICAgICAgIHRhYi5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcblxuICAgIH1cbn07XG5cbnAuX2luaXRSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaXNXYWl0aW5nID0gZmFsc2U7XG5cbiAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QpIHtcblxuICAgICAgICAgICAgdGhpcy5fcm9vdC5idWJibGVSZXNpemUoKTtcbiAgICAgICAgICAgIGlzV2FpdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIWlzV2FpdGluZykge1xuXG4gICAgICAgICAgICBpc1dhaXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXG4gICAgdGhpcy5fZGVDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlQ29udC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVDb250LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlQ29udCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdpbmRvb21hbjsiXX0=

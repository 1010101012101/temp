(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/editor/main.js":[function(require,module,exports){
"use strict";

var amgui = require("./amgui");
var EventEmitter = require("eventman");
var Timeline = require("./timeline");
var Windooman = require("./windooman");
var HistoryTab = require("./historyTab");
var Warehouseman = require("./warehouseman");
var shortcuts = require("./shortcuts");
var Chronicler = require("./chronicler");
var DomPicker = require("./dom-picker");
var i18n = require("./i18n");
var Tour = require("./tour");
var Mouse = require("./mouse");
var dialogWIP = require("./commonDialogs/dialogWIP");
var dialogFeedback = require("./commonDialogs/dialogFeedback");
var modules = {
  css: require("./modules/css"),
  js: require("./modules/javascript"),
  domTree: require("./modules/am-domtree") };
var externalStylesheets = [
// require('./assets/fontello/css/amgui.css'),
require("./am.css")];

var isInited = false, handlerBuff = [];


var am = window.am = module.exports = _.extend(new EventEmitter(), {
  trackTypes: {},

  selectedDomElem: undefined,
  selectedTrack: undefined,

  registerTrackType: function (Track, type) {
    this.trackTypes[type] = Track;
  }
});

am.throwHandler = function (handler) {
  handlerBuff.push(handler);
};

am.open = function (save) {
  if (!window.chrome) {
    return alertUnsupportedBrowsers();
  }

  am._init();

  if (save) {
    if (typeof (save) === "string") {
      save = JSON.parse(save);
    }

    am.timeline.useSave(save);
  }
};

am._init = function () {
  if (isInited) return;

  am.i18n = i18n;

  am.dialogs = {
    WIP: dialogWIP,
    feedback: dialogFeedback };

  am.workspace = new Windooman();
  am.workspace.loadWorkspace("base", getBaseWorkspace());
  am.workspace.load("base");

  am.mouse = new Mouse();

  am.storage = new Warehouseman();

  am.tour = new Tour();

  am.domElem = createAmRoot();
  am.deHandlerCont = createAmLayer();
  am.deGuiCont = createAmLayer();
  am.deDialogCont = createAmLayer();


  amgui.deOverlayCont = am.deDialogCont;

  am.deGuiCont.appendChild(am.workspace.domElem);

  am.deRoot = document.body;

  am.history = new Chronicler();
  shortcuts.on("undo", am.history.undo.bind(am.history));
  shortcuts.on("redo", am.history.redo.bind(am.history));

  am.historyTab = new HistoryTab();
  am.timeline = new Timeline();
  am.domPicker = new DomPicker();

  am.workspace.fillTab("History", am.historyTab.domElem);

  am.deHandlerCont.appendChild(am.domPicker.domElem);
  am.domPicker.on("pick", onSelectWithDomPicker);

  am.timeline.toolbar.addIcon({
    tooltip: "undo",
    icon: "ccw",
    onClick: am.history.undo.bind(am.history)
  });

  am.timeline.toolbar.addIcon({
    tooltip: "redo",
    icon: "cw",
    onClick: am.history.redo.bind(am.history)
  });


  am.timeline.toolbar.addIcon({
    tooltip: "feedback",
    icon: "megaphone",
    separator: "rest",
    onClick: function () {
      am.dialogs.feedback.show();
    }
  });



  // am.timeline.domElem.style.position = 'fixed';
  am.timeline.domElem.style.width = "100%";
  am.timeline.domElem.style.height = "100%";
  // am.timeline.domElem.style.bottom = '0px';
  am.workspace.fillTab("timeline", am.timeline.domElem);

  addToggleGui();

  window.addEventListener("click", onClickRoot);

  Object.keys(modules).forEach(function (moduleName) {
    console.log("init", moduleName, "module...");

    modules[moduleName].init(am);
  });

  createMenu();
  createStatusLabel();
};

am.selectTrack = function (track) {
  if (!track) throw Error;
  if (am.selectedTrack === track) return;

  am.selectedTrack = track;
  am.emit("selectTrack", am.selectedTrack);
};

am.deselectTrack = function () {
  if (!am.selectedTrack) return;

  am.selectedTrack = undefined;
  am.emit("deselectTrack");
};

am.selectDomElem = function (de) {
  if (!de) throw Error;
  if (am.selectedDomElem === de) return;

  am.selectedDomElem = de;
  am.emit("selectDomElement", am.selectedDomElem);
};

am.deselectDomElem = function () {
  if (!am.selectedDomElem) return;

  am.selectedDomElem = undefined;
  am.emit("deselectDomElem");
};

am.isPickableDomElem = function (deTest) {
  //TODO use .compareDocumentPosition()
  if (!deTest) {
    return false;
  }

  return step(deTest);

  function step(de) {
    if (!de) {
      return false;
    } else if (de.nodeType === 9) {
      return false;
    } else if (de.hasAttribute("data-am-pick")) {
      return true;
    } else if (de.hasAttribute("data-am-nopick")) {
      return false;
    } else if (de === document.body) {
      return de !== deTest;
    } else if (de) {
      return step(de.parentNode);
    }
  }
};














function addToggleGui() {
  var isHidden = false;

  am.timeline.toolbar.addIcon({
    tooltip: "show/hide editor",
    icon: "resize-small",
    separator: "first",
    onClick: hide });

  var btnFull = amgui.createIconBtn({
    size: 24,
    icon: "resize-full",
    tooltip: "show editor",
    onClick: show });

  shortcuts.on("show/hidePanels", toggle);

  function toggle() {
    if (isHidden) {
      show();
    } else {
      hide();
    }
  }

  function hide() {
    if (isHidden) return;
    isHidden = true;

    am.deGuiCont.style.display = "none";

    document.body.appendChild(btnFull);

    var zIndex = getMaxZIndex();
    if (zIndex) {
      btnFull.style.zIndex = zIndex + 1000;
    }
  }

  function show() {
    if (!isHidden) return;
    isHidden = false;

    am.deGuiCont.style.display = "block";
    btnFull.parentElement.removeChild(btnFull);
  }

  btnFull.style.top = "0px";
  btnFull.style.left = "0px";
  btnFull.style.position = "fixed";
}




function getMaxZIndex() {
  var zIndex = 0, els, x, xLen, el, val;

  els = document.querySelectorAll("*");
  for (x = 0, xLen = els.length; x < xLen; x += 1) {
    el = els[x];
    if (window.getComputedStyle(el).getPropertyValue("position") !== "static") {
      val = window.getComputedStyle(el).getPropertyValue("z-index");
      if (val) {
        val = +val;
        if (val > zIndex) {
          zIndex = val;
        }
      }
    }
  }
  return zIndex;
}
















function onClickRoot(e) {
  if (am.isPickableDomElem(e.target)) {
    if (e.target !== am.selectedDomElem) {
      //hack!

      am.domPicker.focusElem(e.target);
    }
  } else if (e.target === document.body || e.target.parentNode === document) {
    am.deselectDomElem();
  }
}

function onSelectWithDomPicker(de) {
  am.selectDomElem(de);
}











function createAmRoot() {
  // $('body').css('opacity', 0)
  // .mouseenter(function () {$('body').css('opacity', 1)})
  // .mouseleave(function () {$('body').css('opacity', .23)});

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.left = "0px";
  de.style.top = "0px";
  de.style.width = "100%";
  de.style.height = "100%";
  de.style.pointerEvents = "none";
  de.style.userSelect = "none";
  de.style.webktUserSelect = "none";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;

  de.setAttribute("data-am-nopick", "");

  var zIndex = getMaxZIndex();
  if (zIndex) {
    de.style.zIndex = zIndex + 1000;
  }

  document.body.appendChild(de);

  var sr = de.createShadowRoot();

  sr.appendChild(amgui.getStyleSheet());

  externalStylesheets.forEach(function (css) {
    var style = document.createElement("style");
    style.innerHTML = css;
    sr.appendChild(style);
    // document.head.appendChild(style);
  });

  return sr;
  // return de;
}

function createAmLayer() {
  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.width = "100%";
  de.style.height = "100%";
  de.setAttribute("data-am-nopick", "");
  am.domElem.appendChild(de);
  return de;
}

function createMenu() {
  var iconMenu = am.timeline.toolbar.addIcon({
    tooltip: "file",
    icon: "floppy",
    separator: "global" });

  amgui.bindDropdown({
    deTarget: iconMenu,
    deMenu: amgui.createDropdown({
      options: [{ text: "new", onSelect: onSelectNew }, { text: "save", onSelect: onSelectSave }, { text: "saveAs", onSelect: onSelectSave }, { text: "open", onSelect: onSelectOpen }]
    })
  });

  function onSelectNew() {
    am.timeline.clear();
  }

  function onSelectSave() {
    am.storage.showSaveDialog({
      getSave: function () {
        var opt = am.storage.getSaveOptions();

        return am.timeline.getScript(opt);
      }
    });
  }

  function onSelectOpen() {
    am.storage.showOpenDialog({
      onOpen: function (save) {
        console.log(save);

        am.timeline.clear();
        am.timeline.useSave(save);
      }
    });
  }
}


function getBaseWorkspace() {
  return {
    type: "container",
    direction: "column",
    children: [{
      type: "container",
      direction: "row",
      size: 2.7,
      scaleMode: "flex",
      children: [{
        type: "panel",
        size: 1,
        scaleMode: "flex",
        tabs: [{ name: "Css Style" }, { name: "Dom Tree" }, { name: "History" }]
      }, {
        type: "panel",
        empty: true,
        size: 2.7,
        scaleMode: "flex" }]
    }, {
      type: "panel",
      size: 1,
      scaleMode: "flex",
      noHead: true,
      tabs: [{ name: "timeline" }] }]
  };
}

function createStatusLabel() {
  var deTitle = amgui.createLabel({
    caption: "Animachine (alpha)",
    parent: am.deDialogCont,
    position: "fixed",
    fontSize: "18px"
  });

  deTitle.style.pointerEvents = "none";
  deTitle.style.width = "100%";
  deTitle.style.textAlign = "center";
  deTitle.style.opacity = "0.23";
  deTitle.style.fontWeight = "bold";
}

function alertUnsupportedBrowsers() {
  var deSorry = document.createElement("div");
  deSorry.textContent = "Sorry, this demo is currently only supported by chrome. ";
  amgui.createIcon({ icon: "emo-unhappy", parent: deSorry, display: "inline" });
  deSorry.style.display = "fixed";
  deSorry.style.margin = "auto";
  deSorry.style.fontFamily = amgui.FONT_FAMILY;
  deSorry.style.fontSize = "21px";
  deSorry.style.color = amgui.color.text;
  deSorry.style.background = amgui.color.overlay;
  deSorry.style.top = 0;
  deSorry.style.right = 0;
  deSorry.style.bottom = 0;
  deSorry.style.left = 0;
  document.body.innerHTML = "";
  document.body.appendChild(deSorry);
}

///polyfills
if (!Array.prototype.find) {
  Object.defineProperty(Array.prototype, "find", {
    enumerable: false,
    configurable: true,
    writable: true,
    value: function (predicate) {
      if (this == null) {
        throw new TypeError("Array.prototype.find called on null or undefined");
      }
      if (typeof predicate !== "function") {
        throw new TypeError("predicate must be a function");
      }
      var list = Object(this);
      var length = list.length >>> 0;
      var thisArg = arguments[1];
      var value;

      for (var i = 0; i < length; i++) {
        if (i in list) {
          value = list[i];
          if (predicate.call(thisArg, value, i, list)) {
            return value;
          }
        }
      }
      return undefined;
    }
  });
}

},{"./am.css":"/home/azazdeaz/repos/animachine/src/editor/am.css","./amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./chronicler":"/home/azazdeaz/repos/animachine/src/editor/chronicler/Chronicler.js","./commonDialogs/dialogFeedback":"/home/azazdeaz/repos/animachine/src/editor/commonDialogs/dialogFeedback.js","./commonDialogs/dialogWIP":"/home/azazdeaz/repos/animachine/src/editor/commonDialogs/dialogWIP.js","./dom-picker":"/home/azazdeaz/repos/animachine/src/editor/dom-picker/DomPicker.js","./historyTab":"/home/azazdeaz/repos/animachine/src/editor/historyTab/HistoryTab.js","./i18n":"/home/azazdeaz/repos/animachine/src/editor/i18n.js","./modules/am-domtree":"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/am-domtree.js","./modules/css":"/home/azazdeaz/repos/animachine/src/editor/modules/css/cssModule.js","./modules/javascript":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/jsModule.js","./mouse":"/home/azazdeaz/repos/animachine/src/editor/mouse/Mouse.js","./shortcuts":"/home/azazdeaz/repos/animachine/src/editor/shortcuts/shortcuts.js","./timeline":"/home/azazdeaz/repos/animachine/src/editor/timeline/Timeline.js","./tour":"/home/azazdeaz/repos/animachine/src/editor/tour/Tour.js","./warehouseman":"/home/azazdeaz/repos/animachine/src/editor/warehouseman/Warehouseman.js","./windooman":"/home/azazdeaz/repos/animachine/src/editor/windooman/Windooman.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js"}],"/home/azazdeaz/repos/animachine/node_modules/bezier-easing/index.js":[function(require,module,exports){
/**
 * BezierEasing - use bezier curve for transition easing function
 * by Gaëtan Renaudeau 2014 – MIT License
 *
 * Credits: is based on Firefox's nsSMILKeySpline.cpp
 * Usage:
 * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)
 * spline(x) => returns the easing value | x must be in [0, 1] range
 *
 */
(function (definition) {
  if (typeof exports === "object") {
    module.exports = definition();
  } else if (typeof define === 'function' && define.amd) {
    define([], definition);
  } else {
    window.BezierEasing = definition();
  }
}(function () {
  var global = this;

  // These values are established by empiricism with tests (tradeoff: performance VS precision)
  var NEWTON_ITERATIONS = 4;
  var NEWTON_MIN_SLOPE = 0.001;
  var SUBDIVISION_PRECISION = 0.0000001;
  var SUBDIVISION_MAX_ITERATIONS = 10;

  var kSplineTableSize = 11;
  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);

  var float32ArraySupported = 'Float32Array' in global;

  function BezierEasing (mX1, mY1, mX2, mY2) {
    // Validate arguments
    if (arguments.length !== 4) {
      throw new Error("BezierEasing requires 4 arguments.");
    }
    for (var i=0; i<4; ++i) {
      if (typeof arguments[i] !== "number" || isNaN(arguments[i]) || !isFinite(arguments[i])) {
        throw new Error("BezierEasing arguments should be integers.");
      } 
    }
    if (mX1 < 0 || mX1 > 1 || mX2 < 0 || mX2 > 1) {
      throw new Error("BezierEasing x values must be in [0, 1] range.");
    }

    var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
   
    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }
    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }
    function C (aA1)      { return 3.0 * aA1; }
   
    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.
    function calcBezier (aT, aA1, aA2) {
      return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;
    }
   
    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.
    function getSlope (aT, aA1, aA2) {
      return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);
    }

    function newtonRaphsonIterate (aX, aGuessT) {
      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {
        var currentSlope = getSlope(aGuessT, mX1, mX2);
        if (currentSlope === 0.0) return aGuessT;
        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
        aGuessT -= currentX / currentSlope;
      }
      return aGuessT;
    }

    function calcSampleValues () {
      for (var i = 0; i < kSplineTableSize; ++i) {
        mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
      }
    }

    function binarySubdivide (aX, aA, aB) {
      var currentX, currentT, i = 0;
      do {
        currentT = aA + (aB - aA) / 2.0;
        currentX = calcBezier(currentT, mX1, mX2) - aX;
        if (currentX > 0.0) {
          aB = currentT;
        } else {
          aA = currentT;
        }
      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);
      return currentT;
    }

    function getTForX (aX) {
      var intervalStart = 0.0;
      var currentSample = 1;
      var lastSample = kSplineTableSize - 1;

      for (; currentSample != lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {
        intervalStart += kSampleStepSize;
      }
      --currentSample;

      // Interpolate to provide an initial guess for t
      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);
      var guessForT = intervalStart + dist * kSampleStepSize;

      var initialSlope = getSlope(guessForT, mX1, mX2);
      if (initialSlope >= NEWTON_MIN_SLOPE) {
        return newtonRaphsonIterate(aX, guessForT);
      } else if (initialSlope === 0.0) {
        return guessForT;
      } else {
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);
      }
    }

    var _precomputed = false;
    function precompute() {
      _precomputed = true;
      if (mX1 != mY1 || mX2 != mY2)
        calcSampleValues();
    }

    var f = function (aX) {
      if (!_precomputed) precompute();
      if (mX1 === mY1 && mX2 === mY2) return aX; // linear
      // Because JavaScript number are imprecise, we should guarantee the extremes are right.
      if (aX === 0) return 0;
      if (aX === 1) return 1;
      return calcBezier(getTForX(aX), mY1, mY2);
    };

    f.getControlPoints = function() { return [{ x: mX1, y: mY1 }, { x: mX2, y: mY2 }]; };

    var args = [mX1, mY1, mX2, mY2];
    var str = "BezierEasing("+args+")";
    f.toString = function () { return str; };

    var css = "cubic-bezier("+args+")";
    f.toCSS = function () { return css; };

    return f;
  }

  // CSS mapping
  BezierEasing.css = {
    "ease":        BezierEasing(0.25, 0.1, 0.25, 1.0),
    "linear":      BezierEasing(0.00, 0.0, 1.00, 1.0),
    "ease-in":     BezierEasing(0.42, 0.0, 1.00, 1.0),
    "ease-out":    BezierEasing(0.00, 0.0, 0.58, 1.0),
    "ease-in-out": BezierEasing(0.42, 0.0, 0.58, 1.0)
  };

  return BezierEasing;

}));

},{}],"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/path-browserify/index.js":[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))
},{"_process":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/process/browser.js"}],"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/process/browser.js":[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}],"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/util/support/isBufferBrowser.js":[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/util/util.js":[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/util/support/isBufferBrowser.js","_process":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/process/browser.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js":[function(require,module,exports){
'use strict';

function EventMan () {

    this._listenerCount = 0;
    this._maxListeners = 10;
    this._events = Object.create(null);
}

module.exports = EventMan;
var p = EventMan.prototype;

p.addListener = function (evtName, cb, scope) {

    if (evtName instanceof Array) {

        for (var i = 0; i < evtName.length; ++i) {

            this.addListener(evtName[i], cb, scope);
        }
        
        return;
    }

    if (!(evtName in this._events)) {

        this._events[evtName] = [];
    }

    if (typeof evtName !== 'string') throw 'event name must be a string';
    if (typeof cb !== 'function') throw 'Callback must be a function!';

    this.removeListener(evtName, cb, scope);

    var liteners = this._events[evtName];

    liteners.push(scope ? [cb, scope] : cb);

    if (this._maxListeners > 0 && liteners.length > this._maxListeners) {

        console.error('(node) warning: possible EventEmitter memory ' +
            'leak detected. %d listeners added. ' +
            'Use emitter.setMaxListeners() to increase limit.',
            listeners.length);
        console.trace();
    }
};

p.removeListener = function (evtName, cb, scope) {

    var reg, cb, listeners = this._events[evtName];

    if (listeners) {

        for (var i = 0; i < listeners.length; ++i) {

            reg = listeners[i];

            if (typeof(reg) === 'function') {

                if (cb === reg && !scope) {

                    listeners.splice(i--, 1);
                }
            }
            else {
                if (reg[0] === cb && reg[1] === scope) {
                    
                    listeners.splice(i--, 1);
                }
            }
        }
    }
};

p.emit = function (evtName) {

    var reg, args = Array.prototype.slice.call(arguments, 1),
        listeners = this.listeners(evtName);

    for (var i = 0, l = listeners.length; i < l; ++i) {

        reg = listeners[i];

        if (typeof (reg) === 'function') {

            reg.apply(this, args);
        }
        else {
            reg[0].apply(reg[1], args);
        }
    }
};

p.listeners = function (evtName) {

    var listeners, i, l, ret = [];

    do {
        listeners = this._events[evtName];

        if (listeners) {

            ret.push.apply(ret, listeners);
        }

        evtName = evtName.slice(0, Math.max(0, evtName.lastIndexOf('.')));
    }
    while (evtName);

    return ret;
};

p.setMaxListeners = function (maxListeners) {

    this._maxListeners = parseInt(maxListeners) || 0;
};

p.removeAllListeners = function (evtName) {

    this.listeners(evtName).forEach(function (reg) {
        
        if (typeof (reg) === 'function') {

            this.removeListener(evtName, reg);
        }
        else {
            this.removeListener(evtName, reg[0], reg[1]);
        }
    }, this);
}

//aliases
p.on = p.addListener;
p.off = p.removeListener;
},{}],"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js":[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],"/home/azazdeaz/repos/animachine/node_modules/lodash/dist/lodash.js":[function(require,module,exports){
(function (global){
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
;(function() {

  /** Used as a safe reference for `undefined` in pre ES5 environments */
  var undefined;

  /** Used to pool arrays and objects used internally */
  var arrayPool = [],
      objectPool = [];

  /** Used to generate unique IDs */
  var idCounter = 0;

  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */
  var keyPrefix = +new Date + '';

  /** Used as the size when optimizations are enabled for large arrays */
  var largeArraySize = 75;

  /** Used as the max size of the `arrayPool` and `objectPool` */
  var maxPoolSize = 40;

  /** Used to detect and test whitespace */
  var whitespace = (
    // whitespace
    ' \t\x0B\f\xA0\ufeff' +

    // line terminators
    '\n\r\u2028\u2029' +

    // unicode category "Zs" space separators
    '\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000'
  );

  /** Used to match empty string literals in compiled template source */
  var reEmptyStringLeading = /\b__p \+= '';/g,
      reEmptyStringMiddle = /\b(__p \+=) '' \+/g,
      reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;

  /**
   * Used to match ES6 template delimiters
   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals
   */
  var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;

  /** Used to match regexp flags from their coerced string values */
  var reFlags = /\w*$/;

  /** Used to detected named functions */
  var reFuncName = /^\s*function[ \n\r\t]+\w/;

  /** Used to match "interpolate" template delimiters */
  var reInterpolate = /<%=([\s\S]+?)%>/g;

  /** Used to match leading whitespace and zeros to be removed */
  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');

  /** Used to ensure capturing order of template delimiters */
  var reNoMatch = /($^)/;

  /** Used to detect functions containing a `this` reference */
  var reThis = /\bthis\b/;

  /** Used to match unescaped characters in compiled string literals */
  var reUnescapedString = /['\n\r\t\u2028\u2029\\]/g;

  /** Used to assign default `context` object properties */
  var contextProps = [
    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',
    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',
    'parseInt', 'setTimeout'
  ];

  /** Used to make template sourceURLs easier to identify */
  var templateCounter = 0;

  /** `Object#toString` result shortcuts */
  var argsClass = '[object Arguments]',
      arrayClass = '[object Array]',
      boolClass = '[object Boolean]',
      dateClass = '[object Date]',
      funcClass = '[object Function]',
      numberClass = '[object Number]',
      objectClass = '[object Object]',
      regexpClass = '[object RegExp]',
      stringClass = '[object String]';

  /** Used to identify object classifications that `_.clone` supports */
  var cloneableClasses = {};
  cloneableClasses[funcClass] = false;
  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =
  cloneableClasses[boolClass] = cloneableClasses[dateClass] =
  cloneableClasses[numberClass] = cloneableClasses[objectClass] =
  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;

  /** Used as an internal `_.debounce` options object */
  var debounceOptions = {
    'leading': false,
    'maxWait': 0,
    'trailing': false
  };

  /** Used as the property descriptor for `__bindData__` */
  var descriptor = {
    'configurable': false,
    'enumerable': false,
    'value': null,
    'writable': false
  };

  /** Used to determine if values are of the language type Object */
  var objectTypes = {
    'boolean': false,
    'function': true,
    'object': true,
    'number': false,
    'string': false,
    'undefined': false
  };

  /** Used to escape characters for inclusion in compiled string literals */
  var stringEscapes = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\t': 't',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  /** Used as a reference to the global object */
  var root = (objectTypes[typeof window] && window) || this;

  /** Detect free variable `exports` */
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  /** Detect free variable `module` */
  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports` */
  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;

  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */
  var freeGlobal = objectTypes[typeof global] && global;
  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {
    root = freeGlobal;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * The base implementation of `_.indexOf` without support for binary searches
   * or `fromIndex` constraints.
   *
   * @private
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {number} Returns the index of the matched value or `-1`.
   */
  function baseIndexOf(array, value, fromIndex) {
    var index = (fromIndex || 0) - 1,
        length = array ? array.length : 0;

    while (++index < length) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * An implementation of `_.contains` for cache objects that mimics the return
   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.
   *
   * @private
   * @param {Object} cache The cache object to inspect.
   * @param {*} value The value to search for.
   * @returns {number} Returns `0` if `value` is found, else `-1`.
   */
  function cacheIndexOf(cache, value) {
    var type = typeof value;
    cache = cache.cache;

    if (type == 'boolean' || value == null) {
      return cache[value] ? 0 : -1;
    }
    if (type != 'number' && type != 'string') {
      type = 'object';
    }
    var key = type == 'number' ? value : keyPrefix + value;
    cache = (cache = cache[type]) && cache[key];

    return type == 'object'
      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)
      : (cache ? 0 : -1);
  }

  /**
   * Adds a given value to the corresponding cache object.
   *
   * @private
   * @param {*} value The value to add to the cache.
   */
  function cachePush(value) {
    var cache = this.cache,
        type = typeof value;

    if (type == 'boolean' || value == null) {
      cache[value] = true;
    } else {
      if (type != 'number' && type != 'string') {
        type = 'object';
      }
      var key = type == 'number' ? value : keyPrefix + value,
          typeCache = cache[type] || (cache[type] = {});

      if (type == 'object') {
        (typeCache[key] || (typeCache[key] = [])).push(value);
      } else {
        typeCache[key] = true;
      }
    }
  }

  /**
   * Used by `_.max` and `_.min` as the default callback when a given
   * collection is a string value.
   *
   * @private
   * @param {string} value The character to inspect.
   * @returns {number} Returns the code unit of given character.
   */
  function charAtCallback(value) {
    return value.charCodeAt(0);
  }

  /**
   * Used by `sortBy` to compare transformed `collection` elements, stable sorting
   * them in ascending order.
   *
   * @private
   * @param {Object} a The object to compare to `b`.
   * @param {Object} b The object to compare to `a`.
   * @returns {number} Returns the sort order indicator of `1` or `-1`.
   */
  function compareAscending(a, b) {
    var ac = a.criteria,
        bc = b.criteria,
        index = -1,
        length = ac.length;

    while (++index < length) {
      var value = ac[index],
          other = bc[index];

      if (value !== other) {
        if (value > other || typeof value == 'undefined') {
          return 1;
        }
        if (value < other || typeof other == 'undefined') {
          return -1;
        }
      }
    }
    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
    // that causes it, under certain circumstances, to return the same value for
    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247
    //
    // This also ensures a stable sort in V8 and other engines.
    // See http://code.google.com/p/v8/issues/detail?id=90
    return a.index - b.index;
  }

  /**
   * Creates a cache object to optimize linear searches of large arrays.
   *
   * @private
   * @param {Array} [array=[]] The array to search.
   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.
   */
  function createCache(array) {
    var index = -1,
        length = array.length,
        first = array[0],
        mid = array[(length / 2) | 0],
        last = array[length - 1];

    if (first && typeof first == 'object' &&
        mid && typeof mid == 'object' && last && typeof last == 'object') {
      return false;
    }
    var cache = getObject();
    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;

    var result = getObject();
    result.array = array;
    result.cache = cache;
    result.push = cachePush;

    while (++index < length) {
      result.push(array[index]);
    }
    return result;
  }

  /**
   * Used by `template` to escape characters for inclusion in compiled
   * string literals.
   *
   * @private
   * @param {string} match The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeStringChar(match) {
    return '\\' + stringEscapes[match];
  }

  /**
   * Gets an array from the array pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Array} The array from the pool.
   */
  function getArray() {
    return arrayPool.pop() || [];
  }

  /**
   * Gets an object from the object pool or creates a new one if the pool is empty.
   *
   * @private
   * @returns {Object} The object from the pool.
   */
  function getObject() {
    return objectPool.pop() || {
      'array': null,
      'cache': null,
      'criteria': null,
      'false': false,
      'index': 0,
      'null': false,
      'number': null,
      'object': null,
      'push': null,
      'string': null,
      'true': false,
      'undefined': false,
      'value': null
    };
  }

  /**
   * Releases the given array back to the array pool.
   *
   * @private
   * @param {Array} [array] The array to release.
   */
  function releaseArray(array) {
    array.length = 0;
    if (arrayPool.length < maxPoolSize) {
      arrayPool.push(array);
    }
  }

  /**
   * Releases the given object back to the object pool.
   *
   * @private
   * @param {Object} [object] The object to release.
   */
  function releaseObject(object) {
    var cache = object.cache;
    if (cache) {
      releaseObject(cache);
    }
    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;
    if (objectPool.length < maxPoolSize) {
      objectPool.push(object);
    }
  }

  /**
   * Slices the `collection` from the `start` index up to, but not including,
   * the `end` index.
   *
   * Note: This function is used instead of `Array#slice` to support node lists
   * in IE < 9 and to ensure dense arrays are returned.
   *
   * @private
   * @param {Array|Object|string} collection The collection to slice.
   * @param {number} start The start index.
   * @param {number} end The end index.
   * @returns {Array} Returns the new array.
   */
  function slice(array, start, end) {
    start || (start = 0);
    if (typeof end == 'undefined') {
      end = array ? array.length : 0;
    }
    var index = -1,
        length = end - start || 0,
        result = Array(length < 0 ? 0 : length);

    while (++index < length) {
      result[index] = array[start + index];
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Create a new `lodash` function using the given context object.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns the `lodash` function.
   */
  function runInContext(context) {
    // Avoid issues with some ES3 environments that attempt to use values, named
    // after built-in constructors like `Object`, for the creation of literals.
    // ES5 clears this up by stating that literals must use built-in constructors.
    // See http://es5.github.io/#x11.1.5.
    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;

    /** Native constructor references */
    var Array = context.Array,
        Boolean = context.Boolean,
        Date = context.Date,
        Function = context.Function,
        Math = context.Math,
        Number = context.Number,
        Object = context.Object,
        RegExp = context.RegExp,
        String = context.String,
        TypeError = context.TypeError;

    /**
     * Used for `Array` method references.
     *
     * Normally `Array.prototype` would suffice, however, using an array literal
     * avoids issues in Narwhal.
     */
    var arrayRef = [];

    /** Used for native method references */
    var objectProto = Object.prototype;

    /** Used to restore the original `_` reference in `noConflict` */
    var oldDash = context._;

    /** Used to resolve the internal [[Class]] of values */
    var toString = objectProto.toString;

    /** Used to detect if a method is native */
    var reNative = RegExp('^' +
      String(toString)
        .replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
        .replace(/toString| for [^\]]+/g, '.*?') + '$'
    );

    /** Native method shortcuts */
    var ceil = Math.ceil,
        clearTimeout = context.clearTimeout,
        floor = Math.floor,
        fnToString = Function.prototype.toString,
        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,
        hasOwnProperty = objectProto.hasOwnProperty,
        push = arrayRef.push,
        setTimeout = context.setTimeout,
        splice = arrayRef.splice,
        unshift = arrayRef.unshift;

    /** Used to set meta data on functions */
    var defineProperty = (function() {
      // IE 8 only accepts DOM elements
      try {
        var o = {},
            func = isNative(func = Object.defineProperty) && func,
            result = func(o, o, o) && func;
      } catch(e) { }
      return result;
    }());

    /* Native method shortcuts for methods with the same name as other `lodash` methods */
    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,
        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,
        nativeIsFinite = context.isFinite,
        nativeIsNaN = context.isNaN,
        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,
        nativeMax = Math.max,
        nativeMin = Math.min,
        nativeParseInt = context.parseInt,
        nativeRandom = Math.random;

    /** Used to lookup a built-in constructor by [[Class]] */
    var ctorByClass = {};
    ctorByClass[arrayClass] = Array;
    ctorByClass[boolClass] = Boolean;
    ctorByClass[dateClass] = Date;
    ctorByClass[funcClass] = Function;
    ctorByClass[objectClass] = Object;
    ctorByClass[numberClass] = Number;
    ctorByClass[regexpClass] = RegExp;
    ctorByClass[stringClass] = String;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object which wraps the given value to enable intuitive
     * method chaining.
     *
     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:
     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,
     * and `unshift`
     *
     * Chaining is supported in custom builds as long as the `value` method is
     * implicitly or explicitly included in the build.
     *
     * The chainable wrapper functions are:
     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,
     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,
     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,
     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,
     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,
     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,
     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,
     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,
     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,
     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,
     * and `zip`
     *
     * The non-chainable wrapper functions are:
     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,
     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,
     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,
     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,
     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,
     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,
     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,
     * `template`, `unescape`, `uniqueId`, and `value`
     *
     * The wrapper functions `first` and `last` return wrapped values when `n` is
     * provided, otherwise they return unwrapped values.
     *
     * Explicit chaining can be enabled by using the `_.chain` method.
     *
     * @name _
     * @constructor
     * @category Chaining
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns a `lodash` instance.
     * @example
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // returns an unwrapped value
     * wrapped.reduce(function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * // returns a wrapped value
     * var squares = wrapped.map(function(num) {
     *   return num * num;
     * });
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */
    function lodash(value) {
      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor
      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))
       ? value
       : new lodashWrapper(value);
    }

    /**
     * A fast path for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap in a `lodash` instance.
     * @param {boolean} chainAll A flag to enable chaining for all methods
     * @returns {Object} Returns a `lodash` instance.
     */
    function lodashWrapper(value, chainAll) {
      this.__chain__ = !!chainAll;
      this.__wrapped__ = value;
    }
    // ensure `new lodashWrapper` is an instance of `lodash`
    lodashWrapper.prototype = lodash.prototype;

    /**
     * An object used to flag environments features.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    var support = lodash.support = {};

    /**
     * Detect if functions can be decompiled by `Function#toString`
     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);

    /**
     * Detect if `Function#name` is supported (all but IE).
     *
     * @memberOf _.support
     * @type boolean
     */
    support.funcNames = typeof Function.name == 'string';

    /**
     * By default, the template delimiters used by Lo-Dash are similar to those in
     * embedded Ruby (ERB). Change the following template settings to use alternative
     * delimiters.
     *
     * @static
     * @memberOf _
     * @type Object
     */
    lodash.templateSettings = {

      /**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'escape': /<%-([\s\S]+?)%>/g,

      /**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'evaluate': /<%([\s\S]+?)%>/g,

      /**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type RegExp
       */
      'interpolate': reInterpolate,

      /**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type string
       */
      'variable': '',

      /**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type Object
       */
      'imports': {

        /**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type Function
         */
        '_': lodash
      }
    };

    /*--------------------------------------------------------------------------*/

    /**
     * The base implementation of `_.bind` that creates the bound function and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new bound function.
     */
    function baseBind(bindData) {
      var func = bindData[0],
          partialArgs = bindData[2],
          thisArg = bindData[4];

      function bound() {
        // `Function#bind` spec
        // http://es5.github.io/#x15.3.4.5
        if (partialArgs) {
          // avoid `arguments` object deoptimizations by using `slice` instead
          // of `Array.prototype.slice.call` and not assigning `arguments` to a
          // variable as a ternary expression
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        // mimic the constructor's `return` behavior
        // http://es5.github.io/#x13.2.2
        if (this instanceof bound) {
          // ensure `new bound` is an instance of `func`
          var thisBinding = baseCreate(func.prototype),
              result = func.apply(thisBinding, args || arguments);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisArg, args || arguments);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.clone` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates clones with source counterparts.
     * @returns {*} Returns the cloned value.
     */
    function baseClone(value, isDeep, callback, stackA, stackB) {
      if (callback) {
        var result = callback(value);
        if (typeof result != 'undefined') {
          return result;
        }
      }
      // inspect [[Class]]
      var isObj = isObject(value);
      if (isObj) {
        var className = toString.call(value);
        if (!cloneableClasses[className]) {
          return value;
        }
        var ctor = ctorByClass[className];
        switch (className) {
          case boolClass:
          case dateClass:
            return new ctor(+value);

          case numberClass:
          case stringClass:
            return new ctor(value);

          case regexpClass:
            result = ctor(value.source, reFlags.exec(value));
            result.lastIndex = value.lastIndex;
            return result;
        }
      } else {
        return value;
      }
      var isArr = isArray(value);
      if (isDeep) {
        // check for circular references and return corresponding clone
        var initedStack = !stackA;
        stackA || (stackA = getArray());
        stackB || (stackB = getArray());

        var length = stackA.length;
        while (length--) {
          if (stackA[length] == value) {
            return stackB[length];
          }
        }
        result = isArr ? ctor(value.length) : {};
      }
      else {
        result = isArr ? slice(value) : assign({}, value);
      }
      // add array properties assigned by `RegExp#exec`
      if (isArr) {
        if (hasOwnProperty.call(value, 'index')) {
          result.index = value.index;
        }
        if (hasOwnProperty.call(value, 'input')) {
          result.input = value.input;
        }
      }
      // exit for shallow clone
      if (!isDeep) {
        return result;
      }
      // add the source value to the stack of traversed objects
      // and associate it with its clone
      stackA.push(value);
      stackB.push(result);

      // recursively populate clone (susceptible to call stack limits)
      (isArr ? forEach : forOwn)(value, function(objValue, key) {
        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);
      });

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} prototype The object to inherit from.
     * @returns {Object} Returns the new object.
     */
    function baseCreate(prototype, properties) {
      return isObject(prototype) ? nativeCreate(prototype) : {};
    }
    // fallback for browsers without `Object.create`
    if (!nativeCreate) {
      baseCreate = (function() {
        function Object() {}
        return function(prototype) {
          if (isObject(prototype)) {
            Object.prototype = prototype;
            var result = new Object;
            Object.prototype = null;
          }
          return result || context.Object();
        };
      }());
    }

    /**
     * The base implementation of `_.createCallback` without support for creating
     * "_.pluck" or "_.where" style callbacks.
     *
     * @private
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     */
    function baseCreateCallback(func, thisArg, argCount) {
      if (typeof func != 'function') {
        return identity;
      }
      // exit early for no `thisArg` or already bound by `Function#bind`
      if (typeof thisArg == 'undefined' || !('prototype' in func)) {
        return func;
      }
      var bindData = func.__bindData__;
      if (typeof bindData == 'undefined') {
        if (support.funcNames) {
          bindData = !func.name;
        }
        bindData = bindData || !support.funcDecomp;
        if (!bindData) {
          var source = fnToString.call(func);
          if (!support.funcNames) {
            bindData = !reFuncName.test(source);
          }
          if (!bindData) {
            // checks if `func` references the `this` keyword and stores the result
            bindData = reThis.test(source);
            setBindData(func, bindData);
          }
        }
      }
      // exit early if there are no `this` references or `func` is bound
      if (bindData === false || (bindData !== true && bindData[1] & 1)) {
        return func;
      }
      switch (argCount) {
        case 1: return function(value) {
          return func.call(thisArg, value);
        };
        case 2: return function(a, b) {
          return func.call(thisArg, a, b);
        };
        case 3: return function(value, index, collection) {
          return func.call(thisArg, value, index, collection);
        };
        case 4: return function(accumulator, value, index, collection) {
          return func.call(thisArg, accumulator, value, index, collection);
        };
      }
      return bind(func, thisArg);
    }

    /**
     * The base implementation of `createWrapper` that creates the wrapper and
     * sets its meta data.
     *
     * @private
     * @param {Array} bindData The bind data array.
     * @returns {Function} Returns the new function.
     */
    function baseCreateWrapper(bindData) {
      var func = bindData[0],
          bitmask = bindData[1],
          partialArgs = bindData[2],
          partialRightArgs = bindData[3],
          thisArg = bindData[4],
          arity = bindData[5];

      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          key = func;

      function bound() {
        var thisBinding = isBind ? thisArg : this;
        if (partialArgs) {
          var args = slice(partialArgs);
          push.apply(args, arguments);
        }
        if (partialRightArgs || isCurry) {
          args || (args = slice(arguments));
          if (partialRightArgs) {
            push.apply(args, partialRightArgs);
          }
          if (isCurry && args.length < arity) {
            bitmask |= 16 & ~32;
            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);
          }
        }
        args || (args = arguments);
        if (isBindKey) {
          func = thisBinding[key];
        }
        if (this instanceof bound) {
          thisBinding = baseCreate(func.prototype);
          var result = func.apply(thisBinding, args);
          return isObject(result) ? result : thisBinding;
        }
        return func.apply(thisBinding, args);
      }
      setBindData(bound, bindData);
      return bound;
    }

    /**
     * The base implementation of `_.difference` that accepts a single array
     * of values to exclude.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {Array} [values] The array of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     */
    function baseDifference(array, values) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          isLarge = length >= largeArraySize && indexOf === baseIndexOf,
          result = [];

      if (isLarge) {
        var cache = createCache(values);
        if (cache) {
          indexOf = cacheIndexOf;
          values = cache;
        } else {
          isLarge = false;
        }
      }
      while (++index < length) {
        var value = array[index];
        if (indexOf(values, value) < 0) {
          result.push(value);
        }
      }
      if (isLarge) {
        releaseObject(values);
      }
      return result;
    }

    /**
     * The base implementation of `_.flatten` without support for callback
     * shorthands or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.
     * @param {number} [fromIndex=0] The index to start from.
     * @returns {Array} Returns a new flattened array.
     */
    function baseFlatten(array, isShallow, isStrict, fromIndex) {
      var index = (fromIndex || 0) - 1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];

        if (value && typeof value == 'object' && typeof value.length == 'number'
            && (isArray(value) || isArguments(value))) {
          // recursively flatten arrays (susceptible to call stack limits)
          if (!isShallow) {
            value = baseFlatten(value, isShallow, isStrict);
          }
          var valIndex = -1,
              valLength = value.length,
              resIndex = result.length;

          result.length += valLength;
          while (++valIndex < valLength) {
            result[resIndex++] = value[valIndex];
          }
        } else if (!isStrict) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.isEqual`, without support for `thisArg` binding,
     * that allows partial "_.where" style comparisons.
     *
     * @private
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.
     * @param {Array} [stackA=[]] Tracks traversed `a` objects.
     * @param {Array} [stackB=[]] Tracks traversed `b` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {
      // used to indicate that when comparing objects, `a` has at least the properties of `b`
      if (callback) {
        var result = callback(a, b);
        if (typeof result != 'undefined') {
          return !!result;
        }
      }
      // exit early for identical values
      if (a === b) {
        // treat `+0` vs. `-0` as not equal
        return a !== 0 || (1 / a == 1 / b);
      }
      var type = typeof a,
          otherType = typeof b;

      // exit early for unlike primitive values
      if (a === a &&
          !(a && objectTypes[type]) &&
          !(b && objectTypes[otherType])) {
        return false;
      }
      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior
      // http://es5.github.io/#x15.3.4.4
      if (a == null || b == null) {
        return a === b;
      }
      // compare [[Class]] names
      var className = toString.call(a),
          otherClass = toString.call(b);

      if (className == argsClass) {
        className = objectClass;
      }
      if (otherClass == argsClass) {
        otherClass = objectClass;
      }
      if (className != otherClass) {
        return false;
      }
      switch (className) {
        case boolClass:
        case dateClass:
          // coerce dates and booleans to numbers, dates to milliseconds and booleans
          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal
          return +a == +b;

        case numberClass:
          // treat `NaN` vs. `NaN` as equal
          return (a != +a)
            ? b != +b
            // but treat `+0` vs. `-0` as not equal
            : (a == 0 ? (1 / a == 1 / b) : a == +b);

        case regexpClass:
        case stringClass:
          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)
          // treat string primitives and their corresponding object instances as equal
          return a == String(b);
      }
      var isArr = className == arrayClass;
      if (!isArr) {
        // unwrap any `lodash` wrapped values
        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),
            bWrapped = hasOwnProperty.call(b, '__wrapped__');

        if (aWrapped || bWrapped) {
          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);
        }
        // exit for functions and DOM nodes
        if (className != objectClass) {
          return false;
        }
        // in older versions of Opera, `arguments` objects have `Array` constructors
        var ctorA = a.constructor,
            ctorB = b.constructor;

        // non `Object` object instances with different constructors are not equal
        if (ctorA != ctorB &&
              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&
              ('constructor' in a && 'constructor' in b)
            ) {
          return false;
        }
      }
      // assume cyclic structures are equal
      // the algorithm for detecting cyclic structures is adapted from ES 5.1
      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)
      var initedStack = !stackA;
      stackA || (stackA = getArray());
      stackB || (stackB = getArray());

      var length = stackA.length;
      while (length--) {
        if (stackA[length] == a) {
          return stackB[length] == b;
        }
      }
      var size = 0;
      result = true;

      // add `a` and `b` to the stack of traversed objects
      stackA.push(a);
      stackB.push(b);

      // recursively compare objects and arrays (susceptible to call stack limits)
      if (isArr) {
        // compare lengths to determine if a deep comparison is necessary
        length = a.length;
        size = b.length;
        result = size == length;

        if (result || isWhere) {
          // deep compare the contents, ignoring non-numeric properties
          while (size--) {
            var index = length,
                value = b[size];

            if (isWhere) {
              while (index--) {
                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {
                  break;
                }
              }
            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {
              break;
            }
          }
        }
      }
      else {
        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`
        // which, in this case, is more costly
        forIn(b, function(value, key, b) {
          if (hasOwnProperty.call(b, key)) {
            // count the number of properties.
            size++;
            // deep compare each property value.
            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));
          }
        });

        if (result && !isWhere) {
          // ensure both objects have the same number of properties
          forIn(a, function(value, key, a) {
            if (hasOwnProperty.call(a, key)) {
              // `size` will be `-1` if `a` has more properties than `b`
              return (result = --size > -1);
            }
          });
        }
      }
      stackA.pop();
      stackB.pop();

      if (initedStack) {
        releaseArray(stackA);
        releaseArray(stackB);
      }
      return result;
    }

    /**
     * The base implementation of `_.merge` without argument juggling or support
     * for `thisArg` binding.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {Array} [stackA=[]] Tracks traversed source objects.
     * @param {Array} [stackB=[]] Associates values with source counterparts.
     */
    function baseMerge(object, source, callback, stackA, stackB) {
      (isArray(source) ? forEach : forOwn)(source, function(source, key) {
        var found,
            isArr,
            result = source,
            value = object[key];

        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {
          // avoid merging previously merged cyclic sources
          var stackLength = stackA.length;
          while (stackLength--) {
            if ((found = stackA[stackLength] == source)) {
              value = stackB[stackLength];
              break;
            }
          }
          if (!found) {
            var isShallow;
            if (callback) {
              result = callback(value, source);
              if ((isShallow = typeof result != 'undefined')) {
                value = result;
              }
            }
            if (!isShallow) {
              value = isArr
                ? (isArray(value) ? value : [])
                : (isPlainObject(value) ? value : {});
            }
            // add `source` and associated `value` to the stack of traversed objects
            stackA.push(source);
            stackB.push(value);

            // recursively merge objects and arrays (susceptible to call stack limits)
            if (!isShallow) {
              baseMerge(value, source, callback, stackA, stackB);
            }
          }
        }
        else {
          if (callback) {
            result = callback(value, source);
            if (typeof result == 'undefined') {
              result = source;
            }
          }
          if (typeof result != 'undefined') {
            value = result;
          }
        }
        object[key] = value;
      });
    }

    /**
     * The base implementation of `_.random` without argument juggling or support
     * for returning floating-point numbers.
     *
     * @private
     * @param {number} min The minimum possible value.
     * @param {number} max The maximum possible value.
     * @returns {number} Returns a random number.
     */
    function baseRandom(min, max) {
      return min + floor(nativeRandom() * (max - min + 1));
    }

    /**
     * The base implementation of `_.uniq` without support for callback shorthands
     * or `thisArg` binding.
     *
     * @private
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function} [callback] The function called per iteration.
     * @returns {Array} Returns a duplicate-value-free array.
     */
    function baseUniq(array, isSorted, callback) {
      var index = -1,
          indexOf = getIndexOf(),
          length = array ? array.length : 0,
          result = [];

      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,
          seen = (callback || isLarge) ? getArray() : result;

      if (isLarge) {
        var cache = createCache(seen);
        indexOf = cacheIndexOf;
        seen = cache;
      }
      while (++index < length) {
        var value = array[index],
            computed = callback ? callback(value, index, array) : value;

        if (isSorted
              ? !index || seen[seen.length - 1] !== computed
              : indexOf(seen, computed) < 0
            ) {
          if (callback || isLarge) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
      if (isLarge) {
        releaseArray(seen.array);
        releaseObject(seen);
      } else if (callback) {
        releaseArray(seen);
      }
      return result;
    }

    /**
     * Creates a function that aggregates a collection, creating an object composed
     * of keys generated from the results of running each element of the collection
     * through a callback. The given `setter` function sets the keys and values
     * of the composed object.
     *
     * @private
     * @param {Function} setter The setter function.
     * @returns {Function} Returns the new aggregator function.
     */
    function createAggregator(setter) {
      return function(collection, callback, thisArg) {
        var result = {};
        callback = lodash.createCallback(callback, thisArg, 3);

        var index = -1,
            length = collection ? collection.length : 0;

        if (typeof length == 'number') {
          while (++index < length) {
            var value = collection[index];
            setter(result, value, callback(value, index, collection), collection);
          }
        } else {
          forOwn(collection, function(value, key, collection) {
            setter(result, value, callback(value, key, collection), collection);
          });
        }
        return result;
      };
    }

    /**
     * Creates a function that, when called, either curries or invokes `func`
     * with an optional `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to reference.
     * @param {number} bitmask The bitmask of method flags to compose.
     *  The bitmask may be composed of the following flags:
     *  1 - `_.bind`
     *  2 - `_.bindKey`
     *  4 - `_.curry`
     *  8 - `_.curry` (bound)
     *  16 - `_.partial`
     *  32 - `_.partialRight`
     * @param {Array} [partialArgs] An array of arguments to prepend to those
     *  provided to the new function.
     * @param {Array} [partialRightArgs] An array of arguments to append to those
     *  provided to the new function.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new function.
     */
    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {
      var isBind = bitmask & 1,
          isBindKey = bitmask & 2,
          isCurry = bitmask & 4,
          isCurryBound = bitmask & 8,
          isPartial = bitmask & 16,
          isPartialRight = bitmask & 32;

      if (!isBindKey && !isFunction(func)) {
        throw new TypeError;
      }
      if (isPartial && !partialArgs.length) {
        bitmask &= ~16;
        isPartial = partialArgs = false;
      }
      if (isPartialRight && !partialRightArgs.length) {
        bitmask &= ~32;
        isPartialRight = partialRightArgs = false;
      }
      var bindData = func && func.__bindData__;
      if (bindData && bindData !== true) {
        // clone `bindData`
        bindData = slice(bindData);
        if (bindData[2]) {
          bindData[2] = slice(bindData[2]);
        }
        if (bindData[3]) {
          bindData[3] = slice(bindData[3]);
        }
        // set `thisBinding` is not previously bound
        if (isBind && !(bindData[1] & 1)) {
          bindData[4] = thisArg;
        }
        // set if previously bound but not currently (subsequent curried functions)
        if (!isBind && bindData[1] & 1) {
          bitmask |= 8;
        }
        // set curried arity if not yet set
        if (isCurry && !(bindData[1] & 4)) {
          bindData[5] = arity;
        }
        // append partial left arguments
        if (isPartial) {
          push.apply(bindData[2] || (bindData[2] = []), partialArgs);
        }
        // append partial right arguments
        if (isPartialRight) {
          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);
        }
        // merge flags
        bindData[1] |= bitmask;
        return createWrapper.apply(null, bindData);
      }
      // fast path for `_.bind`
      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;
      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);
    }

    /**
     * Used by `escape` to convert characters to HTML entities.
     *
     * @private
     * @param {string} match The matched character to escape.
     * @returns {string} Returns the escaped character.
     */
    function escapeHtmlChar(match) {
      return htmlEscapes[match];
    }

    /**
     * Gets the appropriate "indexOf" function. If the `_.indexOf` method is
     * customized, this method returns the custom method, otherwise it returns
     * the `baseIndexOf` function.
     *
     * @private
     * @returns {Function} Returns the "indexOf" function.
     */
    function getIndexOf() {
      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;
      return result;
    }

    /**
     * Checks if `value` is a native function.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.
     */
    function isNative(value) {
      return typeof value == 'function' && reNative.test(value);
    }

    /**
     * Sets `this` binding data on a given function.
     *
     * @private
     * @param {Function} func The function to set data on.
     * @param {Array} value The data array to set.
     */
    var setBindData = !defineProperty ? noop : function(func, value) {
      descriptor.value = value;
      defineProperty(func, '__bindData__', descriptor);
    };

    /**
     * A fallback implementation of `isPlainObject` which checks if a given value
     * is an object created by the `Object` constructor, assuming objects created
     * by the `Object` constructor have no inherited enumerable properties and that
     * there are no `Object.prototype` extensions.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     */
    function shimIsPlainObject(value) {
      var ctor,
          result;

      // avoid non Object objects, `arguments` objects, and DOM elements
      if (!(value && toString.call(value) == objectClass) ||
          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {
        return false;
      }
      // In most environments an object's own properties are iterated before
      // its inherited properties. If the last iterated property is an object's
      // own property then there are no inherited enumerable properties.
      forIn(value, function(value, key) {
        result = key;
      });
      return typeof result == 'undefined' || hasOwnProperty.call(value, result);
    }

    /**
     * Used by `unescape` to convert HTML entities to characters.
     *
     * @private
     * @param {string} match The matched character to unescape.
     * @returns {string} Returns the unescaped character.
     */
    function unescapeHtmlChar(match) {
      return htmlUnescapes[match];
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Checks if `value` is an `arguments` object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.
     * @example
     *
     * (function() { return _.isArguments(arguments); })(1, 2, 3);
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    function isArguments(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == argsClass || false;
    }

    /**
     * Checks if `value` is an array.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.
     * @example
     *
     * (function() { return _.isArray(arguments); })();
     * // => false
     *
     * _.isArray([1, 2, 3]);
     * // => true
     */
    var isArray = nativeIsArray || function(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        toString.call(value) == arrayClass || false;
    };

    /**
     * A fallback implementation of `Object.keys` which produces an array of the
     * given object's own enumerable property names.
     *
     * @private
     * @type Function
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     */
    var shimKeys = function(object) {
      var index, iterable = object, result = [];
      if (!iterable) return result;
      if (!(objectTypes[typeof object])) return result;
        for (index in iterable) {
          if (hasOwnProperty.call(iterable, index)) {
            result.push(index);
          }
        }
      return result
    };

    /**
     * Creates an array composed of the own enumerable property names of an object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names.
     * @example
     *
     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });
     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)
     */
    var keys = !nativeKeys ? shimKeys : function(object) {
      if (!isObject(object)) {
        return [];
      }
      return nativeKeys(object);
    };

    /**
     * Used to convert characters to HTML entities:
     *
     * Though the `>` character is escaped for symmetry, characters like `>` and `/`
     * don't require escaping in HTML and have no special meaning unless they're part
     * of a tag or an unquoted attribute value.
     * http://mathiasbynens.be/notes/ambiguous-ampersands (under "semi-related fun fact")
     */
    var htmlEscapes = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };

    /** Used to convert HTML entities to characters */
    var htmlUnescapes = invert(htmlEscapes);

    /** Used to match HTML entities and HTML characters */
    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),
        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');

    /*--------------------------------------------------------------------------*/

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object. Subsequent sources will overwrite property assignments of previous
     * sources. If a callback is provided it will be executed to produce the
     * assigned values. The callback is bound to `thisArg` and invoked with two
     * arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @type Function
     * @alias extend
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize assigning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });
     * // => { 'name': 'fred', 'employer': 'slate' }
     *
     * var defaults = _.partialRight(_.assign, function(a, b) {
     *   return typeof a == 'undefined' ? b : a;
     * });
     *
     * var object = { 'name': 'barney' };
     * defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var assign = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {
        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);
      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {
        callback = args[--argsLength];
      }
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];
        }
        }
      }
      return result
    };

    /**
     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also
     * be cloned, otherwise they will be assigned by reference. If a callback
     * is provided it will be executed to produce the cloned values. If the
     * callback returns `undefined` cloning will be handled by the method instead.
     * The callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to clone.
     * @param {boolean} [isDeep=false] Specify a deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var shallow = _.clone(characters);
     * shallow[0] === characters[0];
     * // => true
     *
     * var deep = _.clone(characters, true);
     * deep[0] === characters[0];
     * // => false
     *
     * _.mixin({
     *   'clone': _.partialRight(_.clone, function(value) {
     *     return _.isElement(value) ? value.cloneNode(false) : undefined;
     *   })
     * });
     *
     * var clone = _.clone(document.body);
     * clone.childNodes.length;
     * // => 0
     */
    function clone(value, isDeep, callback, thisArg) {
      // allows working with "Collections" methods without using their `index`
      // and `collection` arguments for `isDeep` and `callback`
      if (typeof isDeep != 'boolean' && isDeep != null) {
        thisArg = callback;
        callback = isDeep;
        isDeep = false;
      }
      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates a deep clone of `value`. If a callback is provided it will be
     * executed to produce the cloned values. If the callback returns `undefined`
     * cloning will be handled by the method instead. The callback is bound to
     * `thisArg` and invoked with one argument; (value).
     *
     * Note: This method is loosely based on the structured clone algorithm. Functions
     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and
     * objects created by constructors other than `Object` are cloned to plain `Object` objects.
     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to deep clone.
     * @param {Function} [callback] The function to customize cloning values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the deep cloned value.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * var deep = _.cloneDeep(characters);
     * deep[0] === characters[0];
     * // => false
     *
     * var view = {
     *   'label': 'docs',
     *   'node': element
     * };
     *
     * var clone = _.cloneDeep(view, function(value) {
     *   return _.isElement(value) ? value.cloneNode(true) : undefined;
     * });
     *
     * clone.node == view.node;
     * // => false
     */
    function cloneDeep(value, callback, thisArg) {
      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));
    }

    /**
     * Creates an object that inherits from the given `prototype` object. If a
     * `properties` object is provided its own enumerable properties are assigned
     * to the created object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */
    function create(prototype, properties) {
      var result = baseCreate(prototype);
      return properties ? assign(result, properties) : result;
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object for all destination properties that resolve to `undefined`. Once a
     * property is set, additional defaults of the same property will be ignored.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param- {Object} [guard] Allows working with `_.reduce` without using its
     *  `key` and `object` arguments as sources.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var object = { 'name': 'barney' };
     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });
     * // => { 'name': 'barney', 'employer': 'slate' }
     */
    var defaults = function(object, source, guard) {
      var index, iterable = object, result = iterable;
      if (!iterable) return result;
      var args = arguments,
          argsIndex = 0,
          argsLength = typeof guard == 'number' ? 2 : args.length;
      while (++argsIndex < argsLength) {
        iterable = args[argsIndex];
        if (iterable && objectTypes[typeof iterable]) {
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (typeof result[index] == 'undefined') result[index] = iterable[index];
        }
        }
      }
      return result
    };

    /**
     * This method is like `_.findIndex` except that it returns the key of the
     * first element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': false },
     *   'fred': {    'age': 40, 'blocked': true },
     *   'pebbles': { 'age': 1,  'blocked': false }
     * };
     *
     * _.findKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => 'barney' (property order is not guaranteed across environments)
     *
     * // using "_.where" callback shorthand
     * _.findKey(characters, { 'age': 1 });
     * // => 'pebbles'
     *
     * // using "_.pluck" callback shorthand
     * _.findKey(characters, 'blocked');
     * // => 'fred'
     */
    function findKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwn(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * This method is like `_.findKey` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to search.
     * @param {Function|Object|string} [callback=identity] The function called per
     *  iteration. If a property name or object is provided it will be used to
     *  create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {string|undefined} Returns the key of the found element, else `undefined`.
     * @example
     *
     * var characters = {
     *   'barney': {  'age': 36, 'blocked': true },
     *   'fred': {    'age': 40, 'blocked': false },
     *   'pebbles': { 'age': 1,  'blocked': true }
     * };
     *
     * _.findLastKey(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => returns `pebbles`, assuming `_.findKey` returns `barney`
     *
     * // using "_.where" callback shorthand
     * _.findLastKey(characters, { 'age': 40 });
     * // => 'fred'
     *
     * // using "_.pluck" callback shorthand
     * _.findLastKey(characters, 'blocked');
     * // => 'pebbles'
     */
    function findLastKey(object, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forOwnRight(object, function(value, key, object) {
        if (callback(value, key, object)) {
          result = key;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over own and inherited enumerable properties of an object,
     * executing the callback for each property. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, key, object). Callbacks may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forIn(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)
     */
    var forIn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        for (index in iterable) {
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forIn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * Shape.prototype.move = function(x, y) {
     *   this.x += x;
     *   this.y += y;
     * };
     *
     * _.forInRight(new Shape, function(value, key) {
     *   console.log(key);
     * });
     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'
     */
    function forInRight(object, callback, thisArg) {
      var pairs = [];

      forIn(object, function(value, key) {
        pairs.push(key, value);
      });

      var length = pairs.length;
      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(pairs[length--], pairs[length], object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Iterates over own enumerable properties of an object, executing the callback
     * for each property. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, key, object). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)
     */
    var forOwn = function(collection, callback, thisArg) {
      var index, iterable = collection, result = iterable;
      if (!iterable) return result;
      if (!objectTypes[typeof iterable]) return result;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
        var ownIndex = -1,
            ownProps = objectTypes[typeof iterable] && keys(iterable),
            length = ownProps ? ownProps.length : 0;

        while (++ownIndex < length) {
          index = ownProps[ownIndex];
          if (callback(iterable[index], index, collection) === false) return result;
        }
      return result
    };

    /**
     * This method is like `_.forOwn` except that it iterates over elements
     * of a `collection` in the opposite order.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns `object`.
     * @example
     *
     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
     *   console.log(key);
     * });
     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'
     */
    function forOwnRight(object, callback, thisArg) {
      var props = keys(object),
          length = props.length;

      callback = baseCreateCallback(callback, thisArg, 3);
      while (length--) {
        var key = props[length];
        if (callback(object[key], key, object) === false) {
          break;
        }
      }
      return object;
    }

    /**
     * Creates a sorted array of property names of all enumerable properties,
     * own and inherited, of `object` that have function values.
     *
     * @static
     * @memberOf _
     * @alias methods
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property names that have function values.
     * @example
     *
     * _.functions(_);
     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]
     */
    function functions(object) {
      var result = [];
      forIn(object, function(value, key) {
        if (isFunction(value)) {
          result.push(key);
        }
      });
      return result.sort();
    }

    /**
     * Checks if the specified property name exists as a direct property of `object`,
     * instead of an inherited property.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to check.
     * @returns {boolean} Returns `true` if key is a direct property, else `false`.
     * @example
     *
     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');
     * // => true
     */
    function has(object, key) {
      return object ? hasOwnProperty.call(object, key) : false;
    }

    /**
     * Creates an object composed of the inverted keys and values of the given object.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the created inverted object.
     * @example
     *
     * _.invert({ 'first': 'fred', 'second': 'barney' });
     * // => { 'fred': 'first', 'barney': 'second' }
     */
    function invert(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = {};

      while (++index < length) {
        var key = props[index];
        result[object[key]] = key;
      }
      return result;
    }

    /**
     * Checks if `value` is a boolean value.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.
     * @example
     *
     * _.isBoolean(null);
     * // => false
     */
    function isBoolean(value) {
      return value === true || value === false ||
        value && typeof value == 'object' && toString.call(value) == boolClass || false;
    }

    /**
     * Checks if `value` is a date.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     */
    function isDate(value) {
      return value && typeof value == 'object' && toString.call(value) == dateClass || false;
    }

    /**
     * Checks if `value` is a DOM element.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     */
    function isElement(value) {
      return value && value.nodeType === 1 || false;
    }

    /**
     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a
     * length of `0` and objects with no own enumerable properties are considered
     * "empty".
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object|string} value The value to inspect.
     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({});
     * // => true
     *
     * _.isEmpty('');
     * // => true
     */
    function isEmpty(value) {
      var result = true;
      if (!value) {
        return result;
      }
      var className = toString.call(value),
          length = value.length;

      if ((className == arrayClass || className == stringClass || className == argsClass ) ||
          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {
        return !length;
      }
      forOwn(value, function() {
        return (result = false);
      });
      return result;
    }

    /**
     * Performs a deep comparison between two values to determine if they are
     * equivalent to each other. If a callback is provided it will be executed
     * to compare values. If the callback returns `undefined` comparisons will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (a, b).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} a The value to compare.
     * @param {*} b The other value to compare.
     * @param {Function} [callback] The function to customize comparing values.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var copy = { 'name': 'fred' };
     *
     * object == copy;
     * // => false
     *
     * _.isEqual(object, copy);
     * // => true
     *
     * var words = ['hello', 'goodbye'];
     * var otherWords = ['hi', 'goodbye'];
     *
     * _.isEqual(words, otherWords, function(a, b) {
     *   var reGreet = /^(?:hello|hi)$/i,
     *       aGreet = _.isString(a) && reGreet.test(a),
     *       bGreet = _.isString(b) && reGreet.test(b);
     *
     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;
     * });
     * // => true
     */
    function isEqual(a, b, callback, thisArg) {
      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));
    }

    /**
     * Checks if `value` is, or can be coerced to, a finite number.
     *
     * Note: This is not the same as native `isFinite` which will return true for
     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.
     * @example
     *
     * _.isFinite(-101);
     * // => true
     *
     * _.isFinite('10');
     * // => true
     *
     * _.isFinite(true);
     * // => false
     *
     * _.isFinite('');
     * // => false
     *
     * _.isFinite(Infinity);
     * // => false
     */
    function isFinite(value) {
      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));
    }

    /**
     * Checks if `value` is a function.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     */
    function isFunction(value) {
      return typeof value == 'function';
    }

    /**
     * Checks if `value` is the language type of Object.
     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(1);
     * // => false
     */
    function isObject(value) {
      // check if the value is the ECMAScript language type of Object
      // http://es5.github.io/#x8
      // and avoid a V8 bug
      // http://code.google.com/p/v8/issues/detail?id=2291
      return !!(value && objectTypes[typeof value]);
    }

    /**
     * Checks if `value` is `NaN`.
     *
     * Note: This is not the same as native `isNaN` which will return `true` for
     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */
    function isNaN(value) {
      // `NaN` as a primitive is the only value that is not equal to itself
      // (perform the [[Class]] check first to avoid errors with some host objects in IE)
      return isNumber(value) && value != +value;
    }

    /**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(undefined);
     * // => false
     */
    function isNull(value) {
      return value === null;
    }

    /**
     * Checks if `value` is a number.
     *
     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(8.4 * 5);
     * // => true
     */
    function isNumber(value) {
      return typeof value == 'number' ||
        value && typeof value == 'object' && toString.call(value) == numberClass || false;
    }

    /**
     * Checks if `value` is an object created by the `Object` constructor.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * _.isPlainObject(new Shape);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     */
    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {
      if (!(value && toString.call(value) == objectClass)) {
        return false;
      }
      var valueOf = value.valueOf,
          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);

      return objProto
        ? (value == objProto || getPrototypeOf(value) == objProto)
        : shimIsPlainObject(value);
    };

    /**
     * Checks if `value` is a regular expression.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.
     * @example
     *
     * _.isRegExp(/fred/);
     * // => true
     */
    function isRegExp(value) {
      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;
    }

    /**
     * Checks if `value` is a string.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.
     * @example
     *
     * _.isString('fred');
     * // => true
     */
    function isString(value) {
      return typeof value == 'string' ||
        value && typeof value == 'object' && toString.call(value) == stringClass || false;
    }

    /**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     */
    function isUndefined(value) {
      return typeof value == 'undefined';
    }

    /**
     * Creates an object with the same keys as `object` and values generated by
     * running each own enumerable property of `object` through the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new object with values of the results of each `callback` execution.
     * @example
     *
     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     *
     * var characters = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // using "_.pluck" callback shorthand
     * _.mapValues(characters, 'age');
     * // => { 'fred': 40, 'pebbles': 1 }
     */
    function mapValues(object, callback, thisArg) {
      var result = {};
      callback = lodash.createCallback(callback, thisArg, 3);

      forOwn(object, function(value, key, object) {
        result[key] = callback(value, key, object);
      });
      return result;
    }

    /**
     * Recursively merges own enumerable properties of the source object(s), that
     * don't resolve to `undefined` into the destination object. Subsequent sources
     * will overwrite property assignments of previous sources. If a callback is
     * provided it will be executed to produce the merged values of the destination
     * and source properties. If the callback returns `undefined` merging will
     * be handled by the method instead. The callback is bound to `thisArg` and
     * invoked with two arguments; (objectValue, sourceValue).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The destination object.
     * @param {...Object} [source] The source objects.
     * @param {Function} [callback] The function to customize merging properties.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the destination object.
     * @example
     *
     * var names = {
     *   'characters': [
     *     { 'name': 'barney' },
     *     { 'name': 'fred' }
     *   ]
     * };
     *
     * var ages = {
     *   'characters': [
     *     { 'age': 36 },
     *     { 'age': 40 }
     *   ]
     * };
     *
     * _.merge(names, ages);
     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }
     *
     * var food = {
     *   'fruits': ['apple'],
     *   'vegetables': ['beet']
     * };
     *
     * var otherFood = {
     *   'fruits': ['banana'],
     *   'vegetables': ['carrot']
     * };
     *
     * _.merge(food, otherFood, function(a, b) {
     *   return _.isArray(a) ? a.concat(b) : undefined;
     * });
     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }
     */
    function merge(object) {
      var args = arguments,
          length = 2;

      if (!isObject(object)) {
        return object;
      }
      // allows working with `_.reduce` and `_.reduceRight` without using
      // their `index` and `collection` arguments
      if (typeof args[2] != 'number') {
        length = args.length;
      }
      if (length > 3 && typeof args[length - 2] == 'function') {
        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);
      } else if (length > 2 && typeof args[length - 1] == 'function') {
        callback = args[--length];
      }
      var sources = slice(arguments, 1, length),
          index = -1,
          stackA = getArray(),
          stackB = getArray();

      while (++index < length) {
        baseMerge(object, sources[index], callback, stackA, stackB);
      }
      releaseArray(stackA);
      releaseArray(stackB);
      return object;
    }

    /**
     * Creates a shallow clone of `object` excluding the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` omitting the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The properties to omit or the
     *  function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object without the omitted properties.
     * @example
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');
     * // => { 'name': 'fred' }
     *
     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {
     *   return typeof value == 'number';
     * });
     * // => { 'name': 'fred' }
     */
    function omit(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var props = [];
        forIn(object, function(value, key) {
          props.push(key);
        });
        props = baseDifference(props, baseFlatten(arguments, true, false, 1));

        var index = -1,
            length = props.length;

        while (++index < length) {
          var key = props[index];
          result[key] = object[key];
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (!callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * Creates a two dimensional array of an object's key-value pairs,
     * i.e. `[[key1, value1], [key2, value2]]`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns new array of key-value pairs.
     * @example
     *
     * _.pairs({ 'barney': 36, 'fred': 40 });
     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)
     */
    function pairs(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        var key = props[index];
        result[index] = [key, object[key]];
      }
      return result;
    }

    /**
     * Creates a shallow clone of `object` composed of the specified properties.
     * Property names may be specified as individual arguments or as arrays of
     * property names. If a callback is provided it will be executed for each
     * property of `object` picking the properties the callback returns truey
     * for. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The source object.
     * @param {Function|...string|string[]} [callback] The function called per
     *  iteration or property names to pick, specified as individual property
     *  names or arrays of property names.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns an object composed of the picked properties.
     * @example
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');
     * // => { 'name': 'fred' }
     *
     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {
     *   return key.charAt(0) != '_';
     * });
     * // => { 'name': 'fred' }
     */
    function pick(object, callback, thisArg) {
      var result = {};
      if (typeof callback != 'function') {
        var index = -1,
            props = baseFlatten(arguments, true, false, 1),
            length = isObject(object) ? props.length : 0;

        while (++index < length) {
          var key = props[index];
          if (key in object) {
            result[key] = object[key];
          }
        }
      } else {
        callback = lodash.createCallback(callback, thisArg, 3);
        forIn(object, function(value, key, object) {
          if (callback(value, key, object)) {
            result[key] = value;
          }
        });
      }
      return result;
    }

    /**
     * An alternative to `_.reduce` this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable properties through a callback, with each callback execution
     * potentially mutating the `accumulator` object. The callback is bound to
     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).
     * Callbacks may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Array|Object} object The object to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {
     *   num *= num;
     *   if (num % 2) {
     *     return result.push(num) < 3;
     *   }
     * });
     * // => [1, 9, 25]
     *
     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     * });
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function transform(object, callback, accumulator, thisArg) {
      var isArr = isArray(object);
      if (accumulator == null) {
        if (isArr) {
          accumulator = [];
        } else {
          var ctor = object && object.constructor,
              proto = ctor && ctor.prototype;

          accumulator = baseCreate(proto);
        }
      }
      if (callback) {
        callback = lodash.createCallback(callback, thisArg, 4);
        (isArr ? forEach : forOwn)(object, function(value, index, object) {
          return callback(accumulator, value, index, object);
        });
      }
      return accumulator;
    }

    /**
     * Creates an array composed of the own enumerable property values of `object`.
     *
     * @static
     * @memberOf _
     * @category Objects
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns an array of property values.
     * @example
     *
     * _.values({ 'one': 1, 'two': 2, 'three': 3 });
     * // => [1, 2, 3] (property order is not guaranteed across environments)
     */
    function values(object) {
      var index = -1,
          props = keys(object),
          length = props.length,
          result = Array(length);

      while (++index < length) {
        result[index] = object[props[index]];
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array of elements from the specified indexes, or keys, of the
     * `collection`. Indexes may be specified as individual arguments or as arrays
     * of indexes.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`
     *   to retrieve, specified as individual indexes or arrays of indexes.
     * @returns {Array} Returns a new array of elements corresponding to the
     *  provided indexes.
     * @example
     *
     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);
     * // => ['a', 'c', 'e']
     *
     * _.at(['fred', 'barney', 'pebbles'], 0, 2);
     * // => ['fred', 'pebbles']
     */
    function at(collection) {
      var args = arguments,
          index = -1,
          props = baseFlatten(args, true, false, 1),
          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,
          result = Array(length);

      while(++index < length) {
        result[index] = collection[props[index]];
      }
      return result;
    }

    /**
     * Checks if a given value is present in a collection using strict equality
     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the
     * offset from the end of the collection.
     *
     * @static
     * @memberOf _
     * @alias include
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {*} target The value to check for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.
     * @example
     *
     * _.contains([1, 2, 3], 1);
     * // => true
     *
     * _.contains([1, 2, 3], 1, 2);
     * // => false
     *
     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');
     * // => true
     *
     * _.contains('pebbles', 'eb');
     * // => true
     */
    function contains(collection, target, fromIndex) {
      var index = -1,
          indexOf = getIndexOf(),
          length = collection ? collection.length : 0,
          result = false;

      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;
      if (isArray(collection)) {
        result = indexOf(collection, target, fromIndex) > -1;
      } else if (typeof length == 'number') {
        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;
      } else {
        forOwn(collection, function(value) {
          if (++index >= fromIndex) {
            return !(result = value === target);
          }
        });
      }
      return result;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` through the callback. The corresponding value
     * of each key is the number of times the key was returned by the callback.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': 1, '6': 2 }
     *
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */
    var countBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);
    });

    /**
     * Checks if the given callback returns truey value for **all** elements of
     * a collection. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias all
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if all elements passed the callback check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes']);
     * // => false
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.every(characters, 'age');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.every(characters, { 'age': 36 });
     * // => false
     */
    function every(collection, callback, thisArg) {
      var result = true;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if (!(result = !!callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return (result = !!callback(value, index, collection));
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning an array of all elements
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias select
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that passed the callback check.
     * @example
     *
     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [2, 4, 6]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.filter(characters, 'blocked');
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     *
     * // using "_.where" callback shorthand
     * _.filter(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     */
    function filter(collection, callback, thisArg) {
      var result = [];
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            result.push(value);
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result.push(value);
          }
        });
      }
      return result;
    }

    /**
     * Iterates over elements of a collection, returning the first element that
     * the callback returns truey for. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias detect, findWhere
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.find(characters, function(chr) {
     *   return chr.age < 40;
     * });
     * // => { 'name': 'barney', 'age': 36, 'blocked': false }
     *
     * // using "_.where" callback shorthand
     * _.find(characters, { 'age': 1 });
     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }
     *
     * // using "_.pluck" callback shorthand
     * _.find(characters, 'blocked');
     * // => { 'name': 'fred', 'age': 40, 'blocked': true }
     */
    function find(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          if (callback(value, index, collection)) {
            return value;
          }
        }
      } else {
        var result;
        forOwn(collection, function(value, index, collection) {
          if (callback(value, index, collection)) {
            result = value;
            return false;
          }
        });
        return result;
      }
    }

    /**
     * This method is like `_.find` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the found element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(num) {
     *   return num % 2 == 1;
     * });
     * // => 3
     */
    function findLast(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);
      forEachRight(collection, function(value, index, collection) {
        if (callback(value, index, collection)) {
          result = value;
          return false;
        }
      });
      return result;
    }

    /**
     * Iterates over elements of a collection, executing the callback for each
     * element. The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection). Callbacks may exit iteration early by
     * explicitly returning `false`.
     *
     * Note: As with other "Collections" methods, objects with a `length` property
     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`
     * may be used for object iteration.
     *
     * @static
     * @memberOf _
     * @alias each
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');
     * // => logs each number and returns '1,2,3'
     *
     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });
     * // => logs each number and returns the object (property order is not guaranteed across environments)
     */
    function forEach(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (++index < length) {
          if (callback(collection[index], index, collection) === false) {
            break;
          }
        }
      } else {
        forOwn(collection, callback);
      }
      return collection;
    }

    /**
     * This method is like `_.forEach` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias eachRight
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array|Object|string} Returns `collection`.
     * @example
     *
     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');
     * // => logs each number from right to left and returns '3,2,1'
     */
    function forEachRight(collection, callback, thisArg) {
      var length = collection ? collection.length : 0;
      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        while (length--) {
          if (callback(collection[length], length, collection) === false) {
            break;
          }
        }
      } else {
        var props = keys(collection);
        length = props.length;
        forOwn(collection, function(value, key, collection) {
          key = props ? props[--length] : --length;
          return callback(collection[key], key, collection);
        });
      }
      return collection;
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of a collection through the callback. The corresponding value
     * of each key is an array of the elements responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
     * // => { '4': [4.2], '6': [6.1, 6.4] }
     *
     * // using "_.pluck" callback shorthand
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */
    var groupBy = createAggregator(function(result, value, key) {
      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);
    });

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of the collection through the given callback. The corresponding
     * value of each key is the last element responsible for generating the key.
     * The callback is bound to `thisArg` and invoked with three arguments;
     * (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var keys = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.indexBy(keys, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     */
    var indexBy = createAggregator(function(result, value, key) {
      result[key] = value;
    });

    /**
     * Invokes the method named by `methodName` on each element in the `collection`
     * returning an array of the results of each invoked method. Additional arguments
     * will be provided to each invoked method. If `methodName` is a function it
     * will be invoked for, and `this` bound to, each element in the `collection`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|string} methodName The name of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [arg] Arguments to invoke the method with.
     * @returns {Array} Returns a new array of the results of each invoked method.
     * @example
     *
     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invoke([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */
    function invoke(collection, methodName) {
      var args = slice(arguments, 2),
          index = -1,
          isFunc = typeof methodName == 'function',
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);
      });
      return result;
    }

    /**
     * Creates an array of values by running each element in the collection
     * through the callback. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias collect
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of the results of each `callback` execution.
     * @example
     *
     * _.map([1, 2, 3], function(num) { return num * 3; });
     * // => [3, 6, 9]
     *
     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });
     * // => [3, 6, 9] (property order is not guaranteed across environments)
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(characters, 'name');
     * // => ['barney', 'fred']
     */
    function map(collection, callback, thisArg) {
      var index = -1,
          length = collection ? collection.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      if (typeof length == 'number') {
        var result = Array(length);
        while (++index < length) {
          result[index] = callback(collection[index], index, collection);
        }
      } else {
        result = [];
        forOwn(collection, function(value, key, collection) {
          result[++index] = callback(value, key, collection);
        });
      }
      return result;
    }

    /**
     * Retrieves the maximum value of a collection. If the collection is empty or
     * falsey `-Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.max(characters, function(chr) { return chr.age; });
     * // => { 'name': 'fred', 'age': 40 };
     *
     * // using "_.pluck" callback shorthand
     * _.max(characters, 'age');
     * // => { 'name': 'fred', 'age': 40 };
     */
    function max(collection, callback, thisArg) {
      var computed = -Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value > result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current > computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the minimum value of a collection. If the collection is empty or
     * falsey `Infinity` is returned. If a callback is provided it will be executed
     * for each value in the collection to generate the criterion by which the value
     * is ranked. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.min(characters, function(chr) { return chr.age; });
     * // => { 'name': 'barney', 'age': 36 };
     *
     * // using "_.pluck" callback shorthand
     * _.min(characters, 'age');
     * // => { 'name': 'barney', 'age': 36 };
     */
    function min(collection, callback, thisArg) {
      var computed = Infinity,
          result = computed;

      // allows working with functions like `_.map` without using
      // their `index` argument as a callback
      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
        callback = null;
      }
      if (callback == null && isArray(collection)) {
        var index = -1,
            length = collection.length;

        while (++index < length) {
          var value = collection[index];
          if (value < result) {
            result = value;
          }
        }
      } else {
        callback = (callback == null && isString(collection))
          ? charAtCallback
          : lodash.createCallback(callback, thisArg, 3);

        forEach(collection, function(value, index, collection) {
          var current = callback(value, index, collection);
          if (current < computed) {
            computed = current;
            result = value;
          }
        });
      }
      return result;
    }

    /**
     * Retrieves the value of a specified property from all elements in the collection.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {string} property The name of the property to pluck.
     * @returns {Array} Returns a new array of property values.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * _.pluck(characters, 'name');
     * // => ['barney', 'fred']
     */
    var pluck = map;

    /**
     * Reduces a collection to a value which is the accumulated result of running
     * each element in the collection through the callback, where each successive
     * callback execution consumes the return value of the previous execution. If
     * `accumulator` is not provided the first element of the collection will be
     * used as the initial `accumulator` value. The callback is bound to `thisArg`
     * and invoked with four arguments; (accumulator, value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @alias foldl, inject
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var sum = _.reduce([1, 2, 3], function(sum, num) {
     *   return sum + num;
     * });
     * // => 6
     *
     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
     *   result[key] = num * 3;
     *   return result;
     * }, {});
     * // => { 'a': 3, 'b': 6, 'c': 9 }
     */
    function reduce(collection, callback, accumulator, thisArg) {
      if (!collection) return accumulator;
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);

      var index = -1,
          length = collection.length;

      if (typeof length == 'number') {
        if (noaccum) {
          accumulator = collection[++index];
        }
        while (++index < length) {
          accumulator = callback(accumulator, collection[index], index, collection);
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          accumulator = noaccum
            ? (noaccum = false, value)
            : callback(accumulator, value, index, collection)
        });
      }
      return accumulator;
    }

    /**
     * This method is like `_.reduce` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @alias foldr
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function} [callback=identity] The function called per iteration.
     * @param {*} [accumulator] Initial value of the accumulator.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * var list = [[0, 1], [2, 3], [4, 5]];
     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */
    function reduceRight(collection, callback, accumulator, thisArg) {
      var noaccum = arguments.length < 3;
      callback = lodash.createCallback(callback, thisArg, 4);
      forEachRight(collection, function(value, index, collection) {
        accumulator = noaccum
          ? (noaccum = false, value)
          : callback(accumulator, value, index, collection);
      });
      return accumulator;
    }

    /**
     * The opposite of `_.filter` this method returns the elements of a
     * collection that the callback does **not** return truey for.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of elements that failed the callback check.
     * @example
     *
     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
     * // => [1, 3, 5]
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.reject(characters, 'blocked');
     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
     *
     * // using "_.where" callback shorthand
     * _.reject(characters, { 'age': 36 });
     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
     */
    function reject(collection, callback, thisArg) {
      callback = lodash.createCallback(callback, thisArg, 3);
      return filter(collection, function(value, index, collection) {
        return !callback(value, index, collection);
      });
    }

    /**
     * Retrieves a random element or `n` random elements from a collection.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to sample.
     * @param {number} [n] The number of elements to sample.
     * @param- {Object} [guard] Allows working with functions like `_.map`
     *  without using their `index` arguments as `n`.
     * @returns {Array} Returns the random sample(s) of `collection`.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     *
     * _.sample([1, 2, 3, 4], 2);
     * // => [3, 1]
     */
    function sample(collection, n, guard) {
      if (collection && typeof collection.length != 'number') {
        collection = values(collection);
      }
      if (n == null || guard) {
        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;
      }
      var result = shuffle(collection);
      result.length = nativeMin(nativeMax(0, n), result.length);
      return result;
    }

    /**
     * Creates an array of shuffled values, using a version of the Fisher-Yates
     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to shuffle.
     * @returns {Array} Returns a new shuffled collection.
     * @example
     *
     * _.shuffle([1, 2, 3, 4, 5, 6]);
     * // => [4, 1, 6, 3, 5, 2]
     */
    function shuffle(collection) {
      var index = -1,
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      forEach(collection, function(value) {
        var rand = baseRandom(0, ++index);
        result[index] = result[rand];
        result[rand] = value;
      });
      return result;
    }

    /**
     * Gets the size of the `collection` by returning `collection.length` for arrays
     * and array-like objects or the number of own enumerable properties for objects.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns `collection.length` or number of own enumerable properties.
     * @example
     *
     * _.size([1, 2]);
     * // => 2
     *
     * _.size({ 'one': 1, 'two': 2, 'three': 3 });
     * // => 3
     *
     * _.size('pebbles');
     * // => 7
     */
    function size(collection) {
      var length = collection ? collection.length : 0;
      return typeof length == 'number' ? length : keys(collection).length;
    }

    /**
     * Checks if the callback returns a truey value for **any** element of a
     * collection. The function returns as soon as it finds a passing value and
     * does not iterate over the entire collection. The callback is bound to
     * `thisArg` and invoked with three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias any
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {boolean} Returns `true` if any element passed the callback check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'blocked': false },
     *   { 'name': 'fred',   'age': 40, 'blocked': true }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.some(characters, 'blocked');
     * // => true
     *
     * // using "_.where" callback shorthand
     * _.some(characters, { 'age': 1 });
     * // => false
     */
    function some(collection, callback, thisArg) {
      var result;
      callback = lodash.createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          if ((result = callback(collection[index], index, collection))) {
            break;
          }
        }
      } else {
        forOwn(collection, function(value, index, collection) {
          return !(result = callback(value, index, collection));
        });
      }
      return !!result;
    }

    /**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection through the callback. This method
     * performs a stable sort, that is, it will preserve the original sort order
     * of equal elements. The callback is bound to `thisArg` and invoked with
     * three arguments; (value, index|key, collection).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an array of property names is provided for `callback` the collection
     * will be sorted by each property value.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Array|Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of sorted elements.
     * @example
     *
     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });
     * // => [3, 1, 2]
     *
     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);
     * // => [3, 1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'barney',  'age': 26 },
     *   { 'name': 'fred',    'age': 30 }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.map(_.sortBy(characters, 'age'), _.values);
     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]
     *
     * // sorting by multiple properties
     * _.map(_.sortBy(characters, ['name', 'age']), _.values);
     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]
     */
    function sortBy(collection, callback, thisArg) {
      var index = -1,
          isArr = isArray(callback),
          length = collection ? collection.length : 0,
          result = Array(typeof length == 'number' ? length : 0);

      if (!isArr) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      forEach(collection, function(value, key, collection) {
        var object = result[++index] = getObject();
        if (isArr) {
          object.criteria = map(callback, function(key) { return value[key]; });
        } else {
          (object.criteria = getArray())[0] = callback(value, key, collection);
        }
        object.index = index;
        object.value = value;
      });

      length = result.length;
      result.sort(compareAscending);
      while (length--) {
        var object = result[length];
        result[length] = object.value;
        if (!isArr) {
          releaseArray(object.criteria);
        }
        releaseObject(object);
      }
      return result;
    }

    /**
     * Converts the `collection` to an array.
     *
     * @static
     * @memberOf _
     * @category Collections
     * @param {Array|Object|string} collection The collection to convert.
     * @returns {Array} Returns the new converted array.
     * @example
     *
     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
     * // => [2, 3, 4]
     */
    function toArray(collection) {
      if (collection && typeof collection.length == 'number') {
        return slice(collection);
      }
      return values(collection);
    }

    /**
     * Performs a deep comparison of each element in a `collection` to the given
     * `properties` object, returning an array of all elements that have equivalent
     * property values.
     *
     * @static
     * @memberOf _
     * @type Function
     * @category Collections
     * @param {Array|Object|string} collection The collection to iterate over.
     * @param {Object} props The object of property values to filter by.
     * @returns {Array} Returns a new array of elements that have the given properties.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * _.where(characters, { 'age': 36 });
     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]
     *
     * _.where(characters, { 'pets': ['dino'] });
     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]
     */
    var where = filter;

    /*--------------------------------------------------------------------------*/

    /**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are all falsey.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to compact.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */
    function compact(array) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      while (++index < length) {
        var value = array[index];
        if (value) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * Creates an array excluding all values of the provided arrays using strict
     * equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {...Array} [values] The arrays of values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);
     * // => [1, 3, 4]
     */
    function difference(array) {
      return baseDifference(array, baseFlatten(arguments, true, true, 1));
    }

    /**
     * This method is like `_.find` except that it returns the index of the first
     * element that passes the callback check, instead of the element itself.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': false },
     *   { 'name': 'fred',    'age': 40, 'blocked': true },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
     * ];
     *
     * _.findIndex(characters, function(chr) {
     *   return chr.age < 20;
     * });
     * // => 2
     *
     * // using "_.where" callback shorthand
     * _.findIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findIndex(characters, 'blocked');
     * // => 1
     */
    function findIndex(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0;

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        if (callback(array[index], index, array)) {
          return index;
        }
      }
      return -1;
    }

    /**
     * This method is like `_.findIndex` except that it iterates over elements
     * of a `collection` from right to left.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36, 'blocked': true },
     *   { 'name': 'fred',    'age': 40, 'blocked': false },
     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }
     * ];
     *
     * _.findLastIndex(characters, function(chr) {
     *   return chr.age > 30;
     * });
     * // => 1
     *
     * // using "_.where" callback shorthand
     * _.findLastIndex(characters, { 'age': 36 });
     * // => 0
     *
     * // using "_.pluck" callback shorthand
     * _.findLastIndex(characters, 'blocked');
     * // => 2
     */
    function findLastIndex(array, callback, thisArg) {
      var length = array ? array.length : 0;
      callback = lodash.createCallback(callback, thisArg, 3);
      while (length--) {
        if (callback(array[length], length, array)) {
          return length;
        }
      }
      return -1;
    }

    /**
     * Gets the first element or first `n` elements of an array. If a callback
     * is provided elements at the beginning of the array are returned as long
     * as the callback returns truey. The callback is bound to `thisArg` and
     * invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias head, take
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the first element(s) of `array`.
     * @example
     *
     * _.first([1, 2, 3]);
     * // => 1
     *
     * _.first([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.first([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [1, 2]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.first(characters, 'blocked');
     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');
     * // => ['barney', 'fred']
     */
    function first(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = -1;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[0] : undefined;
        }
      }
      return slice(array, 0, nativeMin(nativeMax(0, n), length));
    }

    /**
     * Flattens a nested array (the nesting can be to any depth). If `isShallow`
     * is truey, the array will only be flattened a single level. If a callback
     * is provided each element of the array is passed through the callback before
     * flattening. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to flatten.
     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new flattened array.
     * @example
     *
     * _.flatten([1, [2], [3, [[4]]]]);
     * // => [1, 2, 3, 4];
     *
     * _.flatten([1, [2], [3, [[4]]]], true);
     * // => [1, 2, 3, [[4]]];
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },
     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.flatten(characters, 'pets');
     * // => ['hoppy', 'baby puss', 'dino']
     */
    function flatten(array, isShallow, callback, thisArg) {
      // juggle arguments
      if (typeof isShallow != 'boolean' && isShallow != null) {
        thisArg = callback;
        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;
        isShallow = false;
      }
      if (callback != null) {
        array = map(array, callback, thisArg);
      }
      return baseFlatten(array, isShallow);
    }

    /**
     * Gets the index at which the first occurrence of `value` is found using
     * strict equality for comparisons, i.e. `===`. If the array is already sorted
     * providing `true` for `fromIndex` will run a faster binary search.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {boolean|number} [fromIndex=0] The index to search from or `true`
     *  to perform a binary search on a sorted array.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 1
     *
     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 4
     *
     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);
     * // => 2
     */
    function indexOf(array, value, fromIndex) {
      if (typeof fromIndex == 'number') {
        var length = array ? array.length : 0;
        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);
      } else if (fromIndex) {
        var index = sortedIndex(array, value);
        return array[index] === value ? index : -1;
      }
      return baseIndexOf(array, value, fromIndex);
    }

    /**
     * Gets all but the last element or last `n` elements of an array. If a
     * callback is provided elements at the end of the array are excluded from
     * the result as long as the callback returns truey. The callback is bound
     * to `thisArg` and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     *
     * _.initial([1, 2, 3], 2);
     * // => [1]
     *
     * _.initial([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [1]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.initial(characters, 'blocked');
     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]
     *
     * // using "_.where" callback shorthand
     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');
     * // => ['barney', 'fred']
     */
    function initial(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : callback || n;
      }
      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));
    }

    /**
     * Creates an array of unique values present in all provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of shared values.
     * @example
     *
     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2]
     */
    function intersection() {
      var args = [],
          argsIndex = -1,
          argsLength = arguments.length,
          caches = getArray(),
          indexOf = getIndexOf(),
          trustIndexOf = indexOf === baseIndexOf,
          seen = getArray();

      while (++argsIndex < argsLength) {
        var value = arguments[argsIndex];
        if (isArray(value) || isArguments(value)) {
          args.push(value);
          caches.push(trustIndexOf && value.length >= largeArraySize &&
            createCache(argsIndex ? args[argsIndex] : seen));
        }
      }
      var array = args[0],
          index = -1,
          length = array ? array.length : 0,
          result = [];

      outer:
      while (++index < length) {
        var cache = caches[0];
        value = array[index];

        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {
          argsIndex = argsLength;
          (cache || seen).push(value);
          while (--argsIndex) {
            cache = caches[argsIndex];
            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {
              continue outer;
            }
          }
          result.push(value);
        }
      }
      while (argsLength--) {
        cache = caches[argsLength];
        if (cache) {
          releaseObject(cache);
        }
      }
      releaseArray(caches);
      releaseArray(seen);
      return result;
    }

    /**
     * Gets the last element or last `n` elements of an array. If a callback is
     * provided elements at the end of the array are returned as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback] The function called
     *  per element or the number of elements to return. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {*} Returns the last element(s) of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     *
     * _.last([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.last([1, 2, 3], function(num) {
     *   return num > 1;
     * });
     * // => [2, 3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.last(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.last(characters, { 'employer': 'na' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function last(array, callback, thisArg) {
      var n = 0,
          length = array ? array.length : 0;

      if (typeof callback != 'number' && callback != null) {
        var index = length;
        callback = lodash.createCallback(callback, thisArg, 3);
        while (index-- && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = callback;
        if (n == null || thisArg) {
          return array ? array[length - 1] : undefined;
        }
      }
      return slice(array, nativeMax(0, length - n));
    }

    /**
     * Gets the index at which the last occurrence of `value` is found using strict
     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used
     * as the offset from the end of the collection.
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to search.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value or `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);
     * // => 4
     *
     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);
     * // => 1
     */
    function lastIndexOf(array, value, fromIndex) {
      var index = array ? array.length : 0;
      if (typeof fromIndex == 'number') {
        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;
      }
      while (index--) {
        if (array[index] === value) {
          return index;
        }
      }
      return -1;
    }

    /**
     * Removes all provided values from the given array using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {...*} [value] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3, 1, 2, 3];
     * _.pull(array, 2, 3);
     * console.log(array);
     * // => [1, 1]
     */
    function pull(array) {
      var args = arguments,
          argsIndex = 0,
          argsLength = args.length,
          length = array ? array.length : 0;

      while (++argsIndex < argsLength) {
        var index = -1,
            value = args[argsIndex];
        while (++index < length) {
          if (array[index] === value) {
            splice.call(array, index--, 1);
            length--;
          }
        }
      }
      return array;
    }

    /**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to but not including `end`. If `start` is less than `stop` a
     * zero-length range is created unless a negative `step` is specified.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns a new range array.
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */
    function range(start, end, step) {
      start = +start || 0;
      step = typeof step == 'number' ? step : (+step || 1);

      if (end == null) {
        end = start;
        start = 0;
      }
      // use `Array(length)` so engines like Chakra and V8 avoid slower modes
      // http://youtu.be/XAqIpGU8ZZk#t=17m25s
      var index = -1,
          length = nativeMax(0, ceil((end - start) / (step || 1))),
          result = Array(length);

      while (++index < length) {
        result[index] = start;
        start += step;
      }
      return result;
    }

    /**
     * Removes all elements from an array that the callback returns truey for
     * and returns an array of removed elements. The callback is bound to `thisArg`
     * and invoked with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to modify.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4, 5, 6];
     * var evens = _.remove(array, function(num) { return num % 2 == 0; });
     *
     * console.log(array);
     * // => [1, 3, 5]
     *
     * console.log(evens);
     * // => [2, 4, 6]
     */
    function remove(array, callback, thisArg) {
      var index = -1,
          length = array ? array.length : 0,
          result = [];

      callback = lodash.createCallback(callback, thisArg, 3);
      while (++index < length) {
        var value = array[index];
        if (callback(value, index, array)) {
          result.push(value);
          splice.call(array, index--, 1);
          length--;
        }
      }
      return result;
    }

    /**
     * The opposite of `_.initial` this method gets all but the first element or
     * first `n` elements of an array. If a callback function is provided elements
     * at the beginning of the array are excluded from the result as long as the
     * callback returns truey. The callback is bound to `thisArg` and invoked
     * with three arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias drop, tail
     * @category Arrays
     * @param {Array} array The array to query.
     * @param {Function|Object|number|string} [callback=1] The function called
     *  per element or the number of elements to exclude. If a property name or
     *  object is provided it will be used to create a "_.pluck" or "_.where"
     *  style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a slice of `array`.
     * @example
     *
     * _.rest([1, 2, 3]);
     * // => [2, 3]
     *
     * _.rest([1, 2, 3], 2);
     * // => [3]
     *
     * _.rest([1, 2, 3], function(num) {
     *   return num < 3;
     * });
     * // => [3]
     *
     * var characters = [
     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },
     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }
     * ];
     *
     * // using "_.pluck" callback shorthand
     * _.pluck(_.rest(characters, 'blocked'), 'name');
     * // => ['fred', 'pebbles']
     *
     * // using "_.where" callback shorthand
     * _.rest(characters, { 'employer': 'slate' });
     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
     */
    function rest(array, callback, thisArg) {
      if (typeof callback != 'number' && callback != null) {
        var n = 0,
            index = -1,
            length = array ? array.length : 0;

        callback = lodash.createCallback(callback, thisArg, 3);
        while (++index < length && callback(array[index], index, array)) {
          n++;
        }
      } else {
        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);
      }
      return slice(array, n);
    }

    /**
     * Uses a binary search to determine the smallest index at which a value
     * should be inserted into a given sorted array in order to maintain the sort
     * order of the array. If a callback is provided it will be executed for
     * `value` and each element of `array` to compute their sort ranking. The
     * callback is bound to `thisArg` and invoked with one argument; (value).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([20, 30, 50], 40);
     * // => 2
     *
     * // using "_.pluck" callback shorthand
     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');
     * // => 2
     *
     * var dict = {
     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }
     * };
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return dict.wordToNumber[word];
     * });
     * // => 2
     *
     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
     *   return this.wordToNumber[word];
     * }, dict);
     * // => 2
     */
    function sortedIndex(array, value, callback, thisArg) {
      var low = 0,
          high = array ? array.length : low;

      // explicitly reference `identity` for better inlining in Firefox
      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;
      value = callback(value);

      while (low < high) {
        var mid = (low + high) >>> 1;
        (callback(array[mid]) < value)
          ? low = mid + 1
          : high = mid;
      }
      return low;
    }

    /**
     * Creates an array of unique values, in order, of the provided arrays using
     * strict equality for comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of combined values.
     * @example
     *
     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);
     * // => [1, 2, 3, 5, 4]
     */
    function union() {
      return baseUniq(baseFlatten(arguments, true, true));
    }

    /**
     * Creates a duplicate-value-free version of an array using strict equality
     * for comparisons, i.e. `===`. If the array is sorted, providing
     * `true` for `isSorted` will use a faster algorithm. If a callback is provided
     * each element of `array` is passed through the callback before uniqueness
     * is computed. The callback is bound to `thisArg` and invoked with three
     * arguments; (value, index, array).
     *
     * If a property name is provided for `callback` the created "_.pluck" style
     * callback will return the property value of the given element.
     *
     * If an object is provided for `callback` the created "_.where" style callback
     * will return `true` for elements that have the properties of the given object,
     * else `false`.
     *
     * @static
     * @memberOf _
     * @alias unique
     * @category Arrays
     * @param {Array} array The array to process.
     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
     * @param {Function|Object|string} [callback=identity] The function called
     *  per iteration. If a property name or object is provided it will be used
     *  to create a "_.pluck" or "_.where" style callback, respectively.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns a duplicate-value-free array.
     * @example
     *
     * _.uniq([1, 2, 1, 3, 1]);
     * // => [1, 2, 3]
     *
     * _.uniq([1, 1, 2, 2, 3], true);
     * // => [1, 2, 3]
     *
     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });
     * // => ['A', 'b', 'C']
     *
     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);
     * // => [1, 2.5, 3]
     *
     * // using "_.pluck" callback shorthand
     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */
    function uniq(array, isSorted, callback, thisArg) {
      // juggle arguments
      if (typeof isSorted != 'boolean' && isSorted != null) {
        thisArg = callback;
        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;
        isSorted = false;
      }
      if (callback != null) {
        callback = lodash.createCallback(callback, thisArg, 3);
      }
      return baseUniq(array, isSorted, callback);
    }

    /**
     * Creates an array excluding all provided values using strict equality for
     * comparisons, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {Array} array The array to filter.
     * @param {...*} [value] The values to exclude.
     * @returns {Array} Returns a new array of filtered values.
     * @example
     *
     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);
     * // => [2, 3, 4]
     */
    function without(array) {
      return baseDifference(array, slice(arguments, 1));
    }

    /**
     * Creates an array that is the symmetric difference of the provided arrays.
     * See http://en.wikipedia.org/wiki/Symmetric_difference.
     *
     * @static
     * @memberOf _
     * @category Arrays
     * @param {...Array} [array] The arrays to inspect.
     * @returns {Array} Returns an array of values.
     * @example
     *
     * _.xor([1, 2, 3], [5, 2, 1, 4]);
     * // => [3, 5, 4]
     *
     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);
     * // => [1, 4, 5]
     */
    function xor() {
      var index = -1,
          length = arguments.length;

      while (++index < length) {
        var array = arguments[index];
        if (isArray(array) || isArguments(array)) {
          var result = result
            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))
            : array;
        }
      }
      return result || [];
    }

    /**
     * Creates an array of grouped elements, the first of which contains the first
     * elements of the given arrays, the second of which contains the second
     * elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @alias unzip
     * @category Arrays
     * @param {...Array} [array] Arrays to process.
     * @returns {Array} Returns a new array of grouped elements.
     * @example
     *
     * _.zip(['fred', 'barney'], [30, 40], [true, false]);
     * // => [['fred', 30, true], ['barney', 40, false]]
     */
    function zip() {
      var array = arguments.length > 1 ? arguments : arguments[0],
          index = -1,
          length = array ? max(pluck(array, 'length')) : 0,
          result = Array(length < 0 ? 0 : length);

      while (++index < length) {
        result[index] = pluck(array, index);
      }
      return result;
    }

    /**
     * Creates an object composed from arrays of `keys` and `values`. Provide
     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`
     * or two arrays, one of `keys` and one of corresponding `values`.
     *
     * @static
     * @memberOf _
     * @alias object
     * @category Arrays
     * @param {Array} keys The array of keys.
     * @param {Array} [values=[]] The array of values.
     * @returns {Object} Returns an object composed of the given keys and
     *  corresponding values.
     * @example
     *
     * _.zipObject(['fred', 'barney'], [30, 40]);
     * // => { 'fred': 30, 'barney': 40 }
     */
    function zipObject(keys, values) {
      var index = -1,
          length = keys ? keys.length : 0,
          result = {};

      if (!values && length && !isArray(keys[0])) {
        values = [];
      }
      while (++index < length) {
        var key = keys[index];
        if (values) {
          result[key] = values[index];
        } else if (key) {
          result[key[0]] = key[1];
        }
      }
      return result;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that executes `func`, with  the `this` binding and
     * arguments of the created function, only after being called `n` times.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {number} n The number of times the function must be called before
     *  `func` is executed.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('Done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => logs 'Done saving!', after all saves have completed
     */
    function after(n, func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (--n < 1) {
          return func.apply(this, arguments);
        }
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with the `this`
     * binding of `thisArg` and prepends any additional `bind` arguments to those
     * provided to the bound function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to bind.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var func = function(greeting) {
     *   return greeting + ' ' + this.name;
     * };
     *
     * func = _.bind(func, { 'name': 'fred' }, 'hi');
     * func();
     * // => 'hi fred'
     */
    function bind(func, thisArg) {
      return arguments.length > 2
        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)
        : createWrapper(func, 1, null, null, thisArg);
    }

    /**
     * Binds methods of an object to the object itself, overwriting the existing
     * method. Method names may be specified as individual arguments or as arrays
     * of method names. If no method names are provided all the function properties
     * of `object` will be bound.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...string} [methodName] The object method names to
     *  bind, specified as individual method names or arrays of method names.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'onClick': function() { console.log('clicked ' + this.label); }
     * };
     *
     * _.bindAll(view);
     * jQuery('#docs').on('click', view.onClick);
     * // => logs 'clicked docs', when the button is clicked
     */
    function bindAll(object) {
      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),
          index = -1,
          length = funcs.length;

      while (++index < length) {
        var key = funcs[index];
        object[key] = createWrapper(object[key], 1, null, null, object);
      }
      return object;
    }

    /**
     * Creates a function that, when called, invokes the method at `object[key]`
     * and prepends any additional `bindKey` arguments to those provided to the bound
     * function. This method differs from `_.bind` by allowing bound functions to
     * reference methods that will be redefined or don't yet exist.
     * See http://michaux.ca/articles/lazy-function-definition-pattern.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Object} object The object the method belongs to.
     * @param {string} key The key of the method.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'name': 'fred',
     *   'greet': function(greeting) {
     *     return greeting + ' ' + this.name;
     *   }
     * };
     *
     * var func = _.bindKey(object, 'greet', 'hi');
     * func();
     * // => 'hi fred'
     *
     * object.greet = function(greeting) {
     *   return greeting + 'ya ' + this.name + '!';
     * };
     *
     * func();
     * // => 'hiya fred!'
     */
    function bindKey(object, key) {
      return arguments.length > 2
        ? createWrapper(key, 19, slice(arguments, 2), null, object)
        : createWrapper(key, 3, null, null, object);
    }

    /**
     * Creates a function that is the composition of the provided functions,
     * where each function consumes the return value of the function that follows.
     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.
     * Each function is executed with the `this` binding of the composed function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {...Function} [func] Functions to compose.
     * @returns {Function} Returns the new composed function.
     * @example
     *
     * var realNameMap = {
     *   'pebbles': 'penelope'
     * };
     *
     * var format = function(name) {
     *   name = realNameMap[name.toLowerCase()] || name;
     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
     * };
     *
     * var greet = function(formatted) {
     *   return 'Hiya ' + formatted + '!';
     * };
     *
     * var welcome = _.compose(greet, format);
     * welcome('pebbles');
     * // => 'Hiya Penelope!'
     */
    function compose() {
      var funcs = arguments,
          length = funcs.length;

      while (length--) {
        if (!isFunction(funcs[length])) {
          throw new TypeError;
        }
      }
      return function() {
        var args = arguments,
            length = funcs.length;

        while (length--) {
          args = [funcs[length].apply(this, args)];
        }
        return args[0];
      };
    }

    /**
     * Creates a function which accepts one or more arguments of `func` that when
     * invoked either executes `func` returning its result, if all `func` arguments
     * have been provided, or returns a function that accepts one or more of the
     * remaining `func` arguments, and so on. The arity of `func` can be specified
     * if `func.length` is not sufficient.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var curried = _.curry(function(a, b, c) {
     *   console.log(a + b + c);
     * });
     *
     * curried(1)(2)(3);
     * // => 6
     *
     * curried(1, 2)(3);
     * // => 6
     *
     * curried(1, 2, 3);
     * // => 6
     */
    function curry(func, arity) {
      arity = typeof arity == 'number' ? arity : (+arity || func.length);
      return createWrapper(func, 4, null, null, null, arity);
    }

    /**
     * Creates a function that will delay the execution of `func` until after
     * `wait` milliseconds have elapsed since the last time it was invoked.
     * Provide an options object to indicate that `func` should be invoked on
     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls
     * to the debounced function will return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the debounced function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to debounce.
     * @param {number} wait The number of milliseconds to delay.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.
     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // avoid costly calculations while the window size is in flux
     * var lazyLayout = _.debounce(calculateLayout, 150);
     * jQuery(window).on('resize', lazyLayout);
     *
     * // execute `sendMail` when the click event is fired, debouncing subsequent calls
     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * });
     *
     * // ensure `batchLog` is executed once after 1 second of debounced calls
     * var source = new EventSource('/stream');
     * source.addEventListener('message', _.debounce(batchLog, 250, {
     *   'maxWait': 1000
     * }, false);
     */
    function debounce(func, wait, options) {
      var args,
          maxTimeoutId,
          result,
          stamp,
          thisArg,
          timeoutId,
          trailingCall,
          lastCalled = 0,
          maxWait = false,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      wait = nativeMax(0, wait) || 0;
      if (options === true) {
        var leading = true;
        trailing = false;
      } else if (isObject(options)) {
        leading = options.leading;
        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      var delayed = function() {
        var remaining = wait - (now() - stamp);
        if (remaining <= 0) {
          if (maxTimeoutId) {
            clearTimeout(maxTimeoutId);
          }
          var isCalled = trailingCall;
          maxTimeoutId = timeoutId = trailingCall = undefined;
          if (isCalled) {
            lastCalled = now();
            result = func.apply(thisArg, args);
            if (!timeoutId && !maxTimeoutId) {
              args = thisArg = null;
            }
          }
        } else {
          timeoutId = setTimeout(delayed, remaining);
        }
      };

      var maxDelayed = function() {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        maxTimeoutId = timeoutId = trailingCall = undefined;
        if (trailing || (maxWait !== wait)) {
          lastCalled = now();
          result = func.apply(thisArg, args);
          if (!timeoutId && !maxTimeoutId) {
            args = thisArg = null;
          }
        }
      };

      return function() {
        args = arguments;
        stamp = now();
        thisArg = this;
        trailingCall = trailing && (timeoutId || !leading);

        if (maxWait === false) {
          var leadingCall = leading && !timeoutId;
        } else {
          if (!maxTimeoutId && !leading) {
            lastCalled = stamp;
          }
          var remaining = maxWait - (stamp - lastCalled),
              isCalled = remaining <= 0;

          if (isCalled) {
            if (maxTimeoutId) {
              maxTimeoutId = clearTimeout(maxTimeoutId);
            }
            lastCalled = stamp;
            result = func.apply(thisArg, args);
          }
          else if (!maxTimeoutId) {
            maxTimeoutId = setTimeout(maxDelayed, remaining);
          }
        }
        if (isCalled && timeoutId) {
          timeoutId = clearTimeout(timeoutId);
        }
        else if (!timeoutId && wait !== maxWait) {
          timeoutId = setTimeout(delayed, wait);
        }
        if (leadingCall) {
          isCalled = true;
          result = func.apply(thisArg, args);
        }
        if (isCalled && !timeoutId && !maxTimeoutId) {
          args = thisArg = null;
        }
        return result;
      };
    }

    /**
     * Defers executing the `func` function until the current call stack has cleared.
     * Additional arguments will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to defer.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) { console.log(text); }, 'deferred');
     * // logs 'deferred' after one or more milliseconds
     */
    function defer(func) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 1);
      return setTimeout(function() { func.apply(undefined, args); }, 1);
    }

    /**
     * Executes the `func` function after `wait` milliseconds. Additional arguments
     * will be provided to `func` when it is invoked.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay execution.
     * @param {...*} [arg] Arguments to invoke the function with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) { console.log(text); }, 1000, 'later');
     * // => logs 'later' after one second
     */
    function delay(func, wait) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var args = slice(arguments, 2);
      return setTimeout(function() { func.apply(undefined, args); }, wait);
    }

    /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided it will be used to determine the cache key for storing the result
     * based on the arguments provided to the memoized function. By default, the
     * first argument provided to the memoized function is used as the cache key.
     * The `func` is executed with the `this` binding of the memoized function.
     * The result cache is exposed as the `cache` property on the memoized function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] A function used to resolve the cache key.
     * @returns {Function} Returns the new memoizing function.
     * @example
     *
     * var fibonacci = _.memoize(function(n) {
     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
     * });
     *
     * fibonacci(9)
     * // => 34
     *
     * var data = {
     *   'fred': { 'name': 'fred', 'age': 40 },
     *   'pebbles': { 'name': 'pebbles', 'age': 1 }
     * };
     *
     * // modifying the result cache
     * var get = _.memoize(function(name) { return data[name]; }, _.identity);
     * get('pebbles');
     * // => { 'name': 'pebbles', 'age': 1 }
     *
     * get.cache.pebbles.name = 'penelope';
     * get('pebbles');
     * // => { 'name': 'penelope', 'age': 1 }
     */
    function memoize(func, resolver) {
      if (!isFunction(func)) {
        throw new TypeError;
      }
      var memoized = function() {
        var cache = memoized.cache,
            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];

        return hasOwnProperty.call(cache, key)
          ? cache[key]
          : (cache[key] = func.apply(this, arguments));
      }
      memoized.cache = {};
      return memoized;
    }

    /**
     * Creates a function that is restricted to execute `func` once. Repeat calls to
     * the function will return the value of the first call. The `func` is executed
     * with the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // `initialize` executes `createApplication` once
     */
    function once(func) {
      var ran,
          result;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      return function() {
        if (ran) {
          return result;
        }
        ran = true;
        result = func.apply(this, arguments);

        // clear the `func` variable so the function may be garbage collected
        func = null;
        return result;
      };
    }

    /**
     * Creates a function that, when called, invokes `func` with any additional
     * `partial` arguments prepended to those provided to the new function. This
     * method is similar to `_.bind` except it does **not** alter the `this` binding.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var greet = function(greeting, name) { return greeting + ' ' + name; };
     * var hi = _.partial(greet, 'hi');
     * hi('fred');
     * // => 'hi fred'
     */
    function partial(func) {
      return createWrapper(func, 16, slice(arguments, 1));
    }

    /**
     * This method is like `_.partial` except that `partial` arguments are
     * appended to those provided to the new function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [arg] Arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * var defaultsDeep = _.partialRight(_.merge, _.defaults);
     *
     * var options = {
     *   'variable': 'data',
     *   'imports': { 'jq': $ }
     * };
     *
     * defaultsDeep(options, _.templateSettings);
     *
     * options.variable
     * // => 'data'
     *
     * options.imports
     * // => { '_': _, 'jq': $ }
     */
    function partialRight(func) {
      return createWrapper(func, 32, null, slice(arguments, 1));
    }

    /**
     * Creates a function that, when executed, will only call the `func` function
     * at most once per every `wait` milliseconds. Provide an options object to
     * indicate that `func` should be invoked on the leading and/or trailing edge
     * of the `wait` timeout. Subsequent calls to the throttled function will
     * return the result of the last `func` call.
     *
     * Note: If `leading` and `trailing` options are `true` `func` will be called
     * on the trailing edge of the timeout only if the the throttled function is
     * invoked more than once during the `wait` timeout.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {Function} func The function to throttle.
     * @param {number} wait The number of milliseconds to throttle executions to.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // avoid excessively updating the position while scrolling
     * var throttled = _.throttle(updatePosition, 100);
     * jQuery(window).on('scroll', throttled);
     *
     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes
     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {
     *   'trailing': false
     * }));
     */
    function throttle(func, wait, options) {
      var leading = true,
          trailing = true;

      if (!isFunction(func)) {
        throw new TypeError;
      }
      if (options === false) {
        leading = false;
      } else if (isObject(options)) {
        leading = 'leading' in options ? options.leading : leading;
        trailing = 'trailing' in options ? options.trailing : trailing;
      }
      debounceOptions.leading = leading;
      debounceOptions.maxWait = wait;
      debounceOptions.trailing = trailing;

      return debounce(func, wait, debounceOptions);
    }

    /**
     * Creates a function that provides `value` to the wrapper function as its
     * first argument. Additional arguments provided to the function are appended
     * to those provided to the wrapper function. The wrapper is executed with
     * the `this` binding of the created function.
     *
     * @static
     * @memberOf _
     * @category Functions
     * @param {*} value The value to wrap.
     * @param {Function} wrapper The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('Fred, Wilma, & Pebbles');
     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'
     */
    function wrap(value, wrapper) {
      return createWrapper(wrapper, 16, [value]);
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var object = { 'name': 'fred' };
     * var getter = _.constant(object);
     * getter() === object;
     * // => true
     */
    function constant(value) {
      return function() {
        return value;
      };
    }

    /**
     * Produces a callback bound to an optional `thisArg`. If `func` is a property
     * name the created callback will return the property value for a given element.
     * If `func` is an object the created callback will return `true` for elements
     * that contain the equivalent object properties, otherwise it will return `false`.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} [func=identity] The value to convert to a callback.
     * @param {*} [thisArg] The `this` binding of the created callback.
     * @param {number} [argCount] The number of arguments the callback accepts.
     * @returns {Function} Returns a callback function.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // wrap to create custom callback shorthands
     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {
     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);
     *   return !match ? func(callback, thisArg) : function(object) {
     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];
     *   };
     * });
     *
     * _.filter(characters, 'age__gt38');
     * // => [{ 'name': 'fred', 'age': 40 }]
     */
    function createCallback(func, thisArg, argCount) {
      var type = typeof func;
      if (func == null || type == 'function') {
        return baseCreateCallback(func, thisArg, argCount);
      }
      // handle "_.pluck" style callback shorthands
      if (type != 'object') {
        return property(func);
      }
      var props = keys(func),
          key = props[0],
          a = func[key];

      // handle "_.where" style callback shorthands
      if (props.length == 1 && a === a && !isObject(a)) {
        // fast path the common case of providing an object with a single
        // property containing a primitive value
        return function(object) {
          var b = object[key];
          return a === b && (a !== 0 || (1 / a == 1 / b));
        };
      }
      return function(object) {
        var length = props.length,
            result = false;

        while (length--) {
          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {
            break;
          }
        }
        return result;
      };
    }

    /**
     * Converts the characters `&`, `<`, `>`, `"`, and `'` in `string` to their
     * corresponding HTML entities.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('Fred, Wilma, & Pebbles');
     * // => 'Fred, Wilma, &amp; Pebbles'
     */
    function escape(string) {
      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);
    }

    /**
     * This method returns the first argument provided to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.identity(object) === object;
     * // => true
     */
    function identity(value) {
      return value;
    }

    /**
     * Adds function properties of a source object to the destination object.
     * If `object` is a function methods will be added to its prototype as well.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Function|Object} [object=lodash] object The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options] The options object.
     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.
     * @example
     *
     * function capitalize(string) {
     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
     * }
     *
     * _.mixin({ 'capitalize': capitalize });
     * _.capitalize('fred');
     * // => 'Fred'
     *
     * _('fred').capitalize().value();
     * // => 'Fred'
     *
     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });
     * _('fred').capitalize();
     * // => 'Fred'
     */
    function mixin(object, source, options) {
      var chain = true,
          methodNames = source && functions(source);

      if (!source || (!options && !methodNames.length)) {
        if (options == null) {
          options = source;
        }
        ctor = lodashWrapper;
        source = object;
        object = lodash;
        methodNames = functions(source);
      }
      if (options === false) {
        chain = false;
      } else if (isObject(options) && 'chain' in options) {
        chain = options.chain;
      }
      var ctor = object,
          isFunc = isFunction(ctor);

      forEach(methodNames, function(methodName) {
        var func = object[methodName] = source[methodName];
        if (isFunc) {
          ctor.prototype[methodName] = function() {
            var chainAll = this.__chain__,
                value = this.__wrapped__,
                args = [value];

            push.apply(args, arguments);
            var result = func.apply(object, args);
            if (chain || chainAll) {
              if (value === result && isObject(result)) {
                return this;
              }
              result = new ctor(result);
              result.__chain__ = chainAll;
            }
            return result;
          };
        }
      });
    }

    /**
     * Reverts the '_' variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */
    function noConflict() {
      context._ = oldDash;
      return this;
    }

    /**
     * A no-operation function.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var object = { 'name': 'fred' };
     * _.noop(object) === undefined;
     * // => true
     */
    function noop() {
      // no operation performed
    }

    /**
     * Gets the number of milliseconds that have elapsed since the Unix epoch
     * (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @example
     *
     * var stamp = _.now();
     * _.defer(function() { console.log(_.now() - stamp); });
     * // => logs the number of milliseconds it took for the deferred function to be called
     */
    var now = isNative(now = Date.now) && now || function() {
      return new Date().getTime();
    };

    /**
     * Converts the given value into an integer of the specified radix.
     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the
     * `value` is a hexadecimal, in which case a `radix` of `16` is used.
     *
     * Note: This method avoids differences in native ES3 and ES5 `parseInt`
     * implementations. See http://es5.github.io/#E.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} value The value to parse.
     * @param {number} [radix] The radix used to interpret the value to parse.
     * @returns {number} Returns the new integer value.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     */
    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {
      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`
      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);
    };

    /**
     * Creates a "_.pluck" style function, which returns the `key` value of a
     * given object.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} key The name of the property to retrieve.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var characters = [
     *   { 'name': 'fred',   'age': 40 },
     *   { 'name': 'barney', 'age': 36 }
     * ];
     *
     * var getName = _.property('name');
     *
     * _.map(characters, getName);
     * // => ['barney', 'fred']
     *
     * _.sortBy(characters, getName);
     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]
     */
    function property(key) {
      return function(object) {
        return object[key];
      };
    }

    /**
     * Produces a random number between `min` and `max` (inclusive). If only one
     * argument is provided a number between `0` and the given number will be
     * returned. If `floating` is truey or either `min` or `max` are floats a
     * floating-point number will be returned instead of an integer.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} [min=0] The minimum possible value.
     * @param {number} [max=1] The maximum possible value.
     * @param {boolean} [floating=false] Specify returning a floating-point number.
     * @returns {number} Returns a random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */
    function random(min, max, floating) {
      var noMin = min == null,
          noMax = max == null;

      if (floating == null) {
        if (typeof min == 'boolean' && noMax) {
          floating = min;
          min = 1;
        }
        else if (!noMax && typeof max == 'boolean') {
          floating = max;
          noMax = true;
        }
      }
      if (noMin && noMax) {
        max = 1;
      }
      min = +min || 0;
      if (noMax) {
        max = min;
        min = 0;
      } else {
        max = +max || 0;
      }
      if (floating || min % 1 || max % 1) {
        var rand = nativeRandom();
        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);
      }
      return baseRandom(min, max);
    }

    /**
     * Resolves the value of property `key` on `object`. If `key` is a function
     * it will be invoked with the `this` binding of `object` and its result returned,
     * else the property value is returned. If `object` is falsey then `undefined`
     * is returned.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {Object} object The object to inspect.
     * @param {string} key The name of the property to resolve.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = {
     *   'cheese': 'crumpets',
     *   'stuff': function() {
     *     return 'nonsense';
     *   }
     * };
     *
     * _.result(object, 'cheese');
     * // => 'crumpets'
     *
     * _.result(object, 'stuff');
     * // => 'nonsense'
     */
    function result(object, key) {
      if (object) {
        var value = object[key];
        return isFunction(value) ? object[key]() : value;
      }
    }

    /**
     * A micro-templating method that handles arbitrary delimiters, preserves
     * whitespace, and correctly escapes quotes within interpolated code.
     *
     * Note: In the development build, `_.template` utilizes sourceURLs for easier
     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
     *
     * For more information on precompiling templates see:
     * http://lodash.com/custom-builds
     *
     * For more information on Chrome extension sandboxes see:
     * http://developer.chrome.com/stable/extensions/sandboxingEval.html
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} text The template text.
     * @param {Object} data The data object used to populate the text.
     * @param {Object} [options] The options object.
     * @param {RegExp} [options.escape] The "escape" delimiter.
     * @param {RegExp} [options.evaluate] The "evaluate" delimiter.
     * @param {Object} [options.imports] An object to import into the template as local variables.
     * @param {RegExp} [options.interpolate] The "interpolate" delimiter.
     * @param {string} [sourceURL] The sourceURL of the template's compiled source.
     * @param {string} [variable] The data object variable name.
     * @returns {Function|string} Returns a compiled function when no `data` object
     *  is given, else it returns the interpolated text.
     * @example
     *
     * // using the "interpolate" delimiter to create a compiled template
     * var compiled = _.template('hello <%= name %>');
     * compiled({ 'name': 'fred' });
     * // => 'hello fred'
     *
     * // using the "escape" delimiter to escape HTML in data property values
     * _.template('<b><%- value %></b>', { 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // using the "evaluate" delimiter to generate HTML
     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the ES6 delimiter as an alternative to the default "interpolate" delimiter
     * _.template('hello ${ name }', { 'name': 'pebbles' });
     * // => 'hello pebbles'
     *
     * // using the internal `print` function in "evaluate" delimiters
     * _.template('<% print("hello " + name); %>!', { 'name': 'barney' });
     * // => 'hello barney!'
     *
     * // using a custom template delimiters
     * _.templateSettings = {
     *   'interpolate': /{{([\s\S]+?)}}/g
     * };
     *
     * _.template('hello {{ name }}!', { 'name': 'mustache' });
     * // => 'hello mustache!'
     *
     * // using the `imports` option to import jQuery
     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';
     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // using the `sourceURL` option to specify a custom sourceURL for the template
     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector
     *
     * // using the `variable` option to ensure a with-statement isn't used in the compiled template
     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     *   var __t, __p = '', __e = _.escape;
     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';
     *   return __p;
     * }
     *
     * // using the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and a stack trace
     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */
    function template(text, data, options) {
      // based on John Resig's `tmpl` implementation
      // http://ejohn.org/blog/javascript-micro-templating/
      // and Laura Doktorova's doT.js
      // https://github.com/olado/doT
      var settings = lodash.templateSettings;
      text = String(text || '');

      // avoid missing dependencies when `iteratorTemplate` is not defined
      options = defaults({}, options, settings);

      var imports = defaults({}, options.imports, settings.imports),
          importsKeys = keys(imports),
          importsValues = values(imports);

      var isEvaluating,
          index = 0,
          interpolate = options.interpolate || reNoMatch,
          source = "__p += '";

      // compile the regexp to match each delimiter
      var reDelimiters = RegExp(
        (options.escape || reNoMatch).source + '|' +
        interpolate.source + '|' +
        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +
        (options.evaluate || reNoMatch).source + '|$'
      , 'g');

      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
        interpolateValue || (interpolateValue = esTemplateValue);

        // escape characters that cannot be included in string literals
        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);

        // replace delimiters with snippets
        if (escapeValue) {
          source += "' +\n__e(" + escapeValue + ") +\n'";
        }
        if (evaluateValue) {
          isEvaluating = true;
          source += "';\n" + evaluateValue + ";\n__p += '";
        }
        if (interpolateValue) {
          source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
        }
        index = offset + match.length;

        // the JS engine embedded in Adobe products requires returning the `match`
        // string in order to produce the correct `offset` value
        return match;
      });

      source += "';\n";

      // if `variable` is not specified, wrap a with-statement around the generated
      // code to add the data object to the top of the scope chain
      var variable = options.variable,
          hasVariable = variable;

      if (!hasVariable) {
        variable = 'obj';
        source = 'with (' + variable + ') {\n' + source + '\n}\n';
      }
      // cleanup code by stripping empty strings
      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)
        .replace(reEmptyStringMiddle, '$1')
        .replace(reEmptyStringTrailing, '$1;');

      // frame code as the function body
      source = 'function(' + variable + ') {\n' +
        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\n') +
        "var __t, __p = '', __e = _.escape" +
        (isEvaluating
          ? ', __j = Array.prototype.join;\n' +
            "function print() { __p += __j.call(arguments, '') }\n"
          : ';\n'
        ) +
        source +
        'return __p\n}';

      // Use a sourceURL for easier debugging.
      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
      var sourceURL = '\n/*\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\n*/';

      try {
        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);
      } catch(e) {
        e.source = source;
        throw e;
      }
      if (data) {
        return result(data);
      }
      // provide the compiled function's source by its `toString` method, in
      // supported environments, or the `source` property as a convenience for
      // inlining compiled templates during the build process
      result.source = source;
      return result;
    }

    /**
     * Executes the callback `n` times, returning an array of the results
     * of each callback execution. The callback is bound to `thisArg` and invoked
     * with one argument; (index).
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {number} n The number of times to execute the callback.
     * @param {Function} callback The function called per iteration.
     * @param {*} [thisArg] The `this` binding of `callback`.
     * @returns {Array} Returns an array of the results of each `callback` execution.
     * @example
     *
     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));
     * // => [3, 6, 4]
     *
     * _.times(3, function(n) { mage.castSpell(n); });
     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively
     *
     * _.times(3, function(n) { this.cast(n); }, mage);
     * // => also calls `mage.castSpell(n)` three times
     */
    function times(n, callback, thisArg) {
      n = (n = +n) > -1 ? n : 0;
      var index = -1,
          result = Array(n);

      callback = baseCreateCallback(callback, thisArg, 1);
      while (++index < n) {
        result[index] = callback(index);
      }
      return result;
    }

    /**
     * The inverse of `_.escape` this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their
     * corresponding characters.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} string The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('Fred, Barney &amp; Pebbles');
     * // => 'Fred, Barney & Pebbles'
     */
    function unescape(string) {
      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);
    }

    /**
     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.
     *
     * @static
     * @memberOf _
     * @category Utilities
     * @param {string} [prefix] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */
    function uniqueId(prefix) {
      var id = ++idCounter;
      return String(prefix == null ? '' : prefix) + id;
    }

    /*--------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object that wraps the given value with explicit
     * method chaining enabled.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney',  'age': 36 },
     *   { 'name': 'fred',    'age': 40 },
     *   { 'name': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _.chain(characters)
     *     .sortBy('age')
     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })
     *     .first()
     *     .value();
     * // => 'pebbles is 1'
     */
    function chain(value) {
      value = new lodashWrapper(value);
      value.__chain__ = true;
      return value;
    }

    /**
     * Invokes `interceptor` with the `value` as the first argument and then
     * returns `value`. The purpose of this method is to "tap into" a method
     * chain in order to perform operations on intermediate results within
     * the chain.
     *
     * @static
     * @memberOf _
     * @category Chaining
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3, 4])
     *  .tap(function(array) { array.pop(); })
     *  .reverse()
     *  .value();
     * // => [3, 2, 1]
     */
    function tap(value, interceptor) {
      interceptor(value);
      return value;
    }

    /**
     * Enables explicit method chaining on the wrapper object.
     *
     * @name chain
     * @memberOf _
     * @category Chaining
     * @returns {*} Returns the wrapper object.
     * @example
     *
     * var characters = [
     *   { 'name': 'barney', 'age': 36 },
     *   { 'name': 'fred',   'age': 40 }
     * ];
     *
     * // without explicit chaining
     * _(characters).first();
     * // => { 'name': 'barney', 'age': 36 }
     *
     * // with explicit chaining
     * _(characters).chain()
     *   .first()
     *   .pick('age')
     *   .value();
     * // => { 'age': 36 }
     */
    function wrapperChain() {
      this.__chain__ = true;
      return this;
    }

    /**
     * Produces the `toString` result of the wrapped value.
     *
     * @name toString
     * @memberOf _
     * @category Chaining
     * @returns {string} Returns the string result.
     * @example
     *
     * _([1, 2, 3]).toString();
     * // => '1,2,3'
     */
    function wrapperToString() {
      return String(this.__wrapped__);
    }

    /**
     * Extracts the wrapped value.
     *
     * @name valueOf
     * @memberOf _
     * @alias value
     * @category Chaining
     * @returns {*} Returns the wrapped value.
     * @example
     *
     * _([1, 2, 3]).valueOf();
     * // => [1, 2, 3]
     */
    function wrapperValueOf() {
      return this.__wrapped__;
    }

    /*--------------------------------------------------------------------------*/

    // add functions that return wrapped values when chaining
    lodash.after = after;
    lodash.assign = assign;
    lodash.at = at;
    lodash.bind = bind;
    lodash.bindAll = bindAll;
    lodash.bindKey = bindKey;
    lodash.chain = chain;
    lodash.compact = compact;
    lodash.compose = compose;
    lodash.constant = constant;
    lodash.countBy = countBy;
    lodash.create = create;
    lodash.createCallback = createCallback;
    lodash.curry = curry;
    lodash.debounce = debounce;
    lodash.defaults = defaults;
    lodash.defer = defer;
    lodash.delay = delay;
    lodash.difference = difference;
    lodash.filter = filter;
    lodash.flatten = flatten;
    lodash.forEach = forEach;
    lodash.forEachRight = forEachRight;
    lodash.forIn = forIn;
    lodash.forInRight = forInRight;
    lodash.forOwn = forOwn;
    lodash.forOwnRight = forOwnRight;
    lodash.functions = functions;
    lodash.groupBy = groupBy;
    lodash.indexBy = indexBy;
    lodash.initial = initial;
    lodash.intersection = intersection;
    lodash.invert = invert;
    lodash.invoke = invoke;
    lodash.keys = keys;
    lodash.map = map;
    lodash.mapValues = mapValues;
    lodash.max = max;
    lodash.memoize = memoize;
    lodash.merge = merge;
    lodash.min = min;
    lodash.omit = omit;
    lodash.once = once;
    lodash.pairs = pairs;
    lodash.partial = partial;
    lodash.partialRight = partialRight;
    lodash.pick = pick;
    lodash.pluck = pluck;
    lodash.property = property;
    lodash.pull = pull;
    lodash.range = range;
    lodash.reject = reject;
    lodash.remove = remove;
    lodash.rest = rest;
    lodash.shuffle = shuffle;
    lodash.sortBy = sortBy;
    lodash.tap = tap;
    lodash.throttle = throttle;
    lodash.times = times;
    lodash.toArray = toArray;
    lodash.transform = transform;
    lodash.union = union;
    lodash.uniq = uniq;
    lodash.values = values;
    lodash.where = where;
    lodash.without = without;
    lodash.wrap = wrap;
    lodash.xor = xor;
    lodash.zip = zip;
    lodash.zipObject = zipObject;

    // add aliases
    lodash.collect = map;
    lodash.drop = rest;
    lodash.each = forEach;
    lodash.eachRight = forEachRight;
    lodash.extend = assign;
    lodash.methods = functions;
    lodash.object = zipObject;
    lodash.select = filter;
    lodash.tail = rest;
    lodash.unique = uniq;
    lodash.unzip = zip;

    // add functions to `lodash.prototype`
    mixin(lodash);

    /*--------------------------------------------------------------------------*/

    // add functions that return unwrapped values when chaining
    lodash.clone = clone;
    lodash.cloneDeep = cloneDeep;
    lodash.contains = contains;
    lodash.escape = escape;
    lodash.every = every;
    lodash.find = find;
    lodash.findIndex = findIndex;
    lodash.findKey = findKey;
    lodash.findLast = findLast;
    lodash.findLastIndex = findLastIndex;
    lodash.findLastKey = findLastKey;
    lodash.has = has;
    lodash.identity = identity;
    lodash.indexOf = indexOf;
    lodash.isArguments = isArguments;
    lodash.isArray = isArray;
    lodash.isBoolean = isBoolean;
    lodash.isDate = isDate;
    lodash.isElement = isElement;
    lodash.isEmpty = isEmpty;
    lodash.isEqual = isEqual;
    lodash.isFinite = isFinite;
    lodash.isFunction = isFunction;
    lodash.isNaN = isNaN;
    lodash.isNull = isNull;
    lodash.isNumber = isNumber;
    lodash.isObject = isObject;
    lodash.isPlainObject = isPlainObject;
    lodash.isRegExp = isRegExp;
    lodash.isString = isString;
    lodash.isUndefined = isUndefined;
    lodash.lastIndexOf = lastIndexOf;
    lodash.mixin = mixin;
    lodash.noConflict = noConflict;
    lodash.noop = noop;
    lodash.now = now;
    lodash.parseInt = parseInt;
    lodash.random = random;
    lodash.reduce = reduce;
    lodash.reduceRight = reduceRight;
    lodash.result = result;
    lodash.runInContext = runInContext;
    lodash.size = size;
    lodash.some = some;
    lodash.sortedIndex = sortedIndex;
    lodash.template = template;
    lodash.unescape = unescape;
    lodash.uniqueId = uniqueId;

    // add aliases
    lodash.all = every;
    lodash.any = some;
    lodash.detect = find;
    lodash.findWhere = find;
    lodash.foldl = reduce;
    lodash.foldr = reduceRight;
    lodash.include = contains;
    lodash.inject = reduce;

    mixin(function() {
      var source = {}
      forOwn(lodash, function(func, methodName) {
        if (!lodash.prototype[methodName]) {
          source[methodName] = func;
        }
      });
      return source;
    }(), false);

    /*--------------------------------------------------------------------------*/

    // add functions capable of returning wrapped and unwrapped values when chaining
    lodash.first = first;
    lodash.last = last;
    lodash.sample = sample;

    // add aliases
    lodash.take = first;
    lodash.head = first;

    forOwn(lodash, function(func, methodName) {
      var callbackable = methodName !== 'sample';
      if (!lodash.prototype[methodName]) {
        lodash.prototype[methodName]= function(n, guard) {
          var chainAll = this.__chain__,
              result = func(this.__wrapped__, n, guard);

          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))
            ? result
            : new lodashWrapper(result, chainAll);
        };
      }
    });

    /*--------------------------------------------------------------------------*/

    /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type string
     */
    lodash.VERSION = '2.4.1';

    // add "Chaining" functions to the wrapper
    lodash.prototype.chain = wrapperChain;
    lodash.prototype.toString = wrapperToString;
    lodash.prototype.value = wrapperValueOf;
    lodash.prototype.valueOf = wrapperValueOf;

    // add `Array` functions that return unwrapped values
    forEach(['join', 'pop', 'shift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        var chainAll = this.__chain__,
            result = func.apply(this.__wrapped__, arguments);

        return chainAll
          ? new lodashWrapper(result, chainAll)
          : result;
      };
    });

    // add `Array` functions that return the existing wrapped value
    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        func.apply(this.__wrapped__, arguments);
        return this;
      };
    });

    // add `Array` functions that return new wrapped values
    forEach(['concat', 'slice', 'splice'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);
      };
    });

    return lodash;
  }

  /*--------------------------------------------------------------------------*/

  // expose Lo-Dash
  var _ = runInContext();

  // some AMD build optimizers like r.js check for condition patterns like the following:
  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
    // Expose Lo-Dash to the global object even when an AMD loader is present in
    // case Lo-Dash is loaded with a RequireJS shim config.
    // See http://requirejs.org/docs/api.html#config-shim
    root._ = _;

    // define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module
    define(function() {
      return _;
    });
  }
  // check for `exports` after `define` in case a build optimizer adds an `exports` object
  else if (freeExports && freeModule) {
    // in Node.js or RingoJS
    if (moduleExports) {
      (freeModule.exports = _)._ = _;
    }
    // in Narwhal or Rhino -require
    else {
      freeExports._ = _;
    }
  }
  else {
    // in a browser or Rhino
    root._ = _;
  }
}.call(this));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"/home/azazdeaz/repos/animachine/node_modules/transhand/src/Transhand.js":[function(require,module,exports){
'use strict';

var Transformer = require('./hands/Transformer');
var Boxer = require('./hands/Boxer');
var Curver = require('./hands/curver/Curver');
var EventEmitter = require('eventman');
var inherits = require('inherits');

function Transhand() {

    EventEmitter.call(this);

    this.hands = {};

    this._createDomElem();

    this._buffMockDiv = [];

    [Transformer, Boxer, Curver].forEach(function (Hand) {

        var hand = new Hand(this);

        hand.on('change', this.emit.bind(this, 'change'));

        this.hands[Hand.id] = hand;
    }, this);
}

inherits(Transhand, EventEmitter);
var p = Transhand.prototype;
module.exports = Transhand;

p.setup = function (opt) {

    var hand = this.hands[opt.hand.type];

    if (this._currHand && this._currHand !== hand) {

        this.deactivate();
    }

    if (hand) {

        hand.setup(opt.hand);
        this._currHand = hand;
    }
    else {
        throw 'Unknown hand type: ' + opt.hand.type;
    }

    if (typeof(opt.on) === 'object') {

        Object.keys(opt.on).forEach(function (eventType) {

            this.on(eventType, opt.on[eventType]);
        }, this);
    }
};

p.activate = function () {

    if (this._currHand) {

        this._currHand.activate();
        
        this.domElem.appendChild(this._currHand.domElem);
    }
};

p.deactivate = function () {

    if (this._currHand) {

        this._currHand.deactivate();

        if (this._currHand.domElem.parentNode === this.domElem) {

            this.domElem.removeChild(this._currHand.domElem);
        }
    }
};

p.L2G = function (p) {

    if (!this._deLocalRootPicker) {
        return p;
    }

    this._deLocalRootPicker.style.left = p.x + 'px';
    this._deLocalRootPicker.style.top = p.y + 'px';

    document.body.appendChild(this._deLocalRoot);
    var br = this._deLocalRootPicker.getBoundingClientRect();
    document.body.removeChild(this._deLocalRoot);

    return {
        x: br.left,
        y: br.top,
    }
};

p.G2L = function (p) {

    if (!this._deLocalRootPicker) {
        return p;
    }

    document.body.appendChild(this._deLocalRoot);
    var ret = nastyLocal2Global(p, this._deLocalRootPicker);
    document.body.removeChild(this._deLocalRoot);
    console.log('G2L', p, '>', ret)
    return ret;
};

p.setLocalRoot = function (de) {

    var that = this, 
        deRoot = getDiv(), 
        dePicker = getDiv();

    deRoot.appendChild(dePicker);

    if (this._deLocalRoot) {
        disassemble(this._deLocalRoot);
    }
    assemble(de);

    this._deLocalRoot = deRoot;
    this._deLocalRootPicker = dePicker;
    this._deLocalRootPicker.setAttribute('picker', 1);
    // document.body.appendChild(this._deLocalRoot);

    function assemble(de) {

        var transformed;

        if (de.offsetLeft) {
            deRoot.style.left = (parseInt(deRoot.style.left || 0) + de.offsetLeft) + 'px'
        }
        if (de.offsetTop) {
            deRoot.style.top = (parseInt(deRoot.style.top || 0) + de.offsetTop) + 'px'
        }

        if (de.style.transform) {
            transformed = true;
            deRoot.style.transform = de.style.transform;
            //for the transform-origin
            deRoot.style.width = (parseInt(deRoot.style.width || 0) + de.offsetWidth) + 'px';
            deRoot.style.height = (parseInt(deRoot.style.height || 0) + de.offsetHeight) + 'px';
            
            if (de.style.transformOrigin) {
                deRoot.style.transformOrigin = de.style.transformOrigin;
            }
        }
        if (de.style.prespective) {
            transformed = true;
            deRoot.style.prespective = de.style.prespective;
            
            if (de.style.prespectiveOrigin) {
                deRoot.style.prespectiveOrigin = de.style.prespectiveOrigin;
            }
        }
        if (de.style.transformStyle) {
            transformed = true;
            deRoot.style.transformStyle = de.style.transformStyle;
        }

        if (transformed) {

            var parent = getDiv();
            parent.appendChild(deRoot);
            deRoot = parent;
        }

        if (de.parentNode &&  de.parentNode.nodeName !== '#document' && de.parentNode.nodeName !== 'HTML') {
            assemble(de.parentNode);
        }
    }

    function disassemble(de) {

        de.removeAttribute('style');
        that._buffMockDiv.push(de);

        var child = de.firstChild;
        if (child) {
            de.removeChild(child);            
            disassemble(child);
        }
    }

    function getDiv() {
        
        var de = that._buffMockDiv.pop() || document.createElement('div');
        de.style.position = 'absolute';
        de.setAttribute('mock', 1);

        return de;
    }
}



p._createDomElem = function () {

    this.domElem = document.createElement('div');
    this.domElem.style.position = 'fixed';
    this.domElem.style.pointerEvents = 'none';
    this.domElem.style.left = '0px';
    this.domElem.style.top = '0px';
    this.domElem.style.width = '100%';
    this.domElem.style.height = '100%';
}














function nastyLocal2Global (mPos, dePicker) {

    var tweakDist = 128,
        tweakDistStep = 0,
        tweakRad = Math.PI / 2,
        dist = tweakDist * 2,
        rad = 0,
        nullPos = {x:0, y: 0},
        globalNullPos = L2G(nullPos),
        globalRad = getRad(globalNullPos, mPos),
        globalDist = posDist(globalNullPos, mPos);

    while (tweakRad > .000001) {

        var globalTestRad = getRad(mPos, L2G(Rad2Pos(rad, tweakDist)));

        if (radDiff(globalRad, globalTestRad) < 0) {

            rad += tweakRad;
        }
        else {
            rad -= tweakRad;
        }

        tweakRad /= 2;
    }


    while (posDist(globalNullPos, L2G(Rad2Pos(rad, dist + 2*tweakDist))) < globalDist && dist < tweakDist * 64) {

        dist += 4*tweakDist;
    }
    
    while (tweakDist > 1) {

        if (posDist(globalNullPos, L2G(Rad2Pos(rad, dist))) < globalDist) {

            dist += tweakDist;
        }
        else {
            dist -= tweakDist;
        }

        tweakDist /= 2;
    }
  
    return Rad2Pos(rad, dist);
  
    
  
  
    function closestRad(aRad, bRad) {

        var aPos = L2G(Rad2Pos(aRad, tweakDist)),
            bPos = L2G(Rad2Pos(bRad, tweakDist)),
            gARad = getRad(globalNullPos, aPos),
            gBRad = getRad(globalNullPos, bPos);

      
        $('#s0').css('left', aPos.x);
        $('#s0').css('top', aPos.y);
        $('#s1').css('left', bPos.x);
        $('#s1').css('top', bPos.y);

      return radDiff(gARad, globalRad) < radDiff(gBRad, globalRad) ? aRad : bRad;
    }
  
    function getRad(aPos, bPos) {
      
       return Math.atan2(bPos.y - aPos.y, bPos.x - aPos.x);
    }

    function Rad2Pos(rad, dist) {

        return {
            x: Math.cos(rad) * dist,
            y: Math.sin(rad) * dist,
        };
    }

    function L2G(pos) {

        dePicker.style.left = pos.x + 'px';
        dePicker.style.top = pos.y + 'px';

        var br = dePicker.getBoundingClientRect();

        return {x: br.left, y: br.top};
    }
  
    function radDiff(aRad, bRad) {

      bRad -= aRad;
      bRad %= Math.PI*2;

      if (bRad > Math.PI) bRad -= 2*Math.PI;
      else if (bRad < -Math.PI) bRad += 2*Math.PI;
      
      return bRad;
    }

    function posDist(aP, bP) {

        var dx = aP.x - bP.x,
            dy = aP.y - bP.y;

        return Math.sqrt(dx*dx+ dy*dy);
    }
}
},{"./hands/Boxer":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/Boxer.js","./hands/Transformer":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/Transformer.js","./hands/curver/Curver":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/curver/Curver.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/Boxer.js":[function(require,module,exports){
'use strict';

var EventEmitter = require('eventman');
var inherits = require('inherits');
var _ = require('lodash');

var MOUSESTATES = {
    'move': 'move',
    '1000': 'ns-resize',
    '1100': 'nesw-resize',
    '0100': 'ew-resize',
    '0110': 'nwse-resize',
    '0010': 'ns-resize',
    '0011': 'nesw-resize',
    '0001': 'ew-resize',
    '1001': 'nwse-resize',
};

var INIT_PARAMS = {
    x: 0, 
    y: 0, 
    w: 0, 
    h: 0,
};


function Boxer() {

    EventEmitter.call(this);

    this._params = _.clone(INIT_PARAMS);

    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}

Boxer.id = 'boxer';

inherits(Boxer, EventEmitter);
var p = Boxer.prototype;

p.setup = function (opt) {

    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    this._renderHandler();
};

p.activate = function () {

    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener('mousemove', this._onMouseMove);
    this._deBox.addEventListener('mousedown', this._onMouseDown);
};

p.deactivate = function () {

    if (!this._isActivated) return;
    this._isActivated = false;
    
    window.removeEventListener('mousemove', this._onMouseMove);
    this._deBox.removeEventListener('mousedown', this._onMouseDown);
};





p._onMouseDown = function (e) {

    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = 'auto';

    this._mdPos = {
        mx: e.clientX, 
        my: e.clientY,
        params: _.clone(this._params),
    };

    window.addEventListener('mouseup', this._onMouseUp);
    window.addEventListener('mouseleave', this._onMouseUp);
    window.addEventListener('mousemove', this._onDrag);
};

p._onMouseMove = function (e) {

    if (!this._isHandle && this._isOverHitbox) {
        
        this._setFinger(e);
    }
}; 

p._onMouseUp = function () {

    window.removeEventListener('mouseup', this._onMouseUp);
    window.removeEventListener('mouseleave', this._onMouseUp);
    window.removeEventListener('mousemove', this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }
    
    this._isHandle = false;

    this._deFullHit.style.pointerEvents = 'none';
};

p._onOverHitbox = function () {

    this._isOverHitbox = true;
};

p._onOutHitbox = function () {

    this._isOverHitbox = false;
};











p._renderHandler = function () {

    var params = this._params;

    this._deBox.style.left = params.x + 'px';
    this._deBox.style.top = params.y + 'px';
    this._deBox.style.width = params.w + 'px';
    this._deBox.style.height = params.h + 'px';

};










p._onDrag = function (e) {

    this._onDragMe = e;

    if (!this._rafOnDragRafId) {

        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {

    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        md = this._mdPos,
        finger = this._finger,
        mx = e.clientX, 
        my = e.clientY,
        dx = mx - md.mx,
        dy = my - md.my,
        change = {};


        
    if (finger === 'move') {

        change.x = md.params.x + dx;
        change.y = md.params.y + dy;
    }
    
    if (finger.charAt(0) === '1') {

        change.y = md.params.y + dy;
        change.h = md.params.h - dy;
    }

    if (finger.charAt(1) === '1') {

        change.w = md.params.w + dx;
    }

    if (finger.charAt(2) === '1') {

        change.h = md.params.h + dy;
    }

    if (finger.charAt(3) === '1') {

        change.x = md.params.x + dx;
        change.w = md.params.w - dx;
    }



    this.emit('change', change, 'transform');
};














p._setFinger = function (e) {

    var params = this._params,
        mx = e.clientX,
        my = e.clientY,
        diff = 6,
        dTop = Math.abs(params.y - my),
        dRight = Math.abs((params.x + params.w) - mx),
        dBottom = Math.abs((params.y + params.h) - my),
        dLeft = Math.abs(params.x - mx),
        top = dTop < diff,
        right = dRight < diff,
        bottom = dBottom < diff,
        left = dLeft < diff,
        inside = mx > params.x && mx < params.x + params.w && my > params.y && my < params.y + params.h;

    if (params.w * params.sx < diff * 2 && inside) {
        
        left = false;
        right = false;
    }

    if (params.h * params.sy < diff * 2 && inside) {
    
        top = false;
        bottom = false;
    }
    
    if (top || right || bottom || left) {
        this._finger = ('000' + (top * 1000 + right * 100 + bottom * 10 + left * 1)).substr(-4);
    }
    else if (inside) {

        this._finger = 'move';
    }
    
    if (this._finger) {

        this._setCursor(MOUSESTATES[this._finger]);
    }
    else {
        this._setCursor('auto');
    }
};










p._setCursor = function (cursor) {

    this._deBox.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor
};







p.createGraphics = function () {

    this.domElem = document.createElement('div');
    this.domElem.style.pointerEvents = 'none';

    this._deFullHit = document.createElement('div');
    this._deFullHit.style.position = 'absolute';
    this._deFullHit.style.pointerEvents = 'none';
    this._deFullHit.style.width = '100%';
    this._deFullHit.style.height = '100%';
    this.domElem.appendChild(this._deFullHit);

    this._deBox = document.createElement('div');
    this._deBox.style.position = 'absolute';
    this._deBox.style.boxSizing = 'border-box';
    this._deBox.style.border = 'solid 1px red';
    this._deBox.addEventListener('mouseenter', this._onOverHitbox);
    this._deBox.addEventListener('mouseleave', this._onOutHitbox);
    this.domElem.style.pointerEvents = 'auto';
    this.domElem.appendChild(this._deBox);


    var onFitstMove = function () {

        this._onOverHitbox();
        this._deBox.removeEventListener('mousemove', onFitstMove);
    }.bind(this);
};


module.exports = Boxer;
},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","lodash":"/home/azazdeaz/repos/animachine/node_modules/lodash/dist/lodash.js"}],"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/Transformer.js":[function(require,module,exports){
'use strict';

var EventEmitter = require('eventman');
var inherits = require('inherits');
var _ = require('lodash');

var MOUSESTATES = {
    'move': 'move',
    'rotate': '-webkit-grab',
    'origin': 'crosshair',
    '1000': 'ns-resize',
    '1100': 'nesw-resize',
    '0100': 'ew-resize',
    '0110': 'nwse-resize',
    '0010': 'ns-resize',
    '0011': 'nesw-resize',
    '0001': 'ew-resize',
    '1001': 'nwse-resize',
};

var INIT_PARAMS = {
    tx: 0, ty: 0,
    sx: 1, sy: 1,
    rz: 0,
    ox: 0.5, oy: 0.5,
};

var INIT_BASE = {
    x: 0, 
    y: 0, 
    w: 0, 
    h: 0,
};


function Transformer(transhand) {

    EventEmitter.call(this);

    this._th = transhand;
    this._params = _.clone(INIT_PARAMS);
    this._base = _.clone(INIT_BASE);
    this._points = [{}, {}, {}, {}];
    this._pOrigin = {};
    this._originRadius = 6;
    this._rotateFingerDist = 16;


    this._onDrag = this._onDrag.bind(this);
    this._onMouseUp = this._onMouseUp.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._rafOnDrag = this._rafOnDrag.bind(this);
    this._onOverHitbox = this._onOverHitbox.bind(this);
    this._onOutHitbox = this._onOutHitbox.bind(this);
}

Transformer.id = 'transformer';

inherits(Transformer, EventEmitter);
var p = Transformer.prototype;

p.setup = function (opt) {

    if (!this.domElem) {
        this.createGraphics();
    }

    _.extend(this._params, INIT_PARAMS, opt.params);
    _.extend(this._base, INIT_BASE, opt.base);
    this._refreshPoints();
    this._renderHandler();
    this._refreshHitbox();
};

p.activate = function () {

    if (this._isActivated) return;
    this._isActivated = true;

    window.addEventListener('mousemove', this._onMouseMove);
    this._deHitbox.addEventListener('mousedown', this._onMouseDown);
    this._deOriginHit.addEventListener('mousedown', this._onMouseDown);
};

p.deactivate = function () {

    if (!this._isActivated) return;
    this._isActivated = false;
    
    window.removeEventListener('mousemove', this._onMouseMove);
    this._deHitbox.removeEventListener('mousedown', this._onMouseDown);
    this._deOriginHit.removeEventListener('mousedown', this._onMouseDown);
};





p._onMouseDown = function (e) {

    if (!this._finger) {
        return;
    }

    e.stopPropagation();
    e.preventDefault();

    this._isHandle = true;

    this._deFullHit.style.pointerEvents = 'auto';

    this._mdPos = {
        m: this._th.G2L({x: e.clientX, y: e.clientY}),
        params: _.cloneDeep(this._params),
        points: _.cloneDeep(this._points),
        pOrigin: _.cloneDeep(this._pOrigin)
    };

    window.addEventListener('mouseup', this._onMouseUp);
    window.addEventListener('mouseleave', this._onMouseUp);
    window.addEventListener('mousemove', this._onDrag);
};

p._onMouseMove = function (e) {

    if (!this._isHandle && this._isOverHitbox) {
        
        this._setFinger(e);
    }

    if (this._cursorFunc) {
        this._setCursor(this._cursorFunc(e.clientX, e.clientY));
    }
}; 

p._onMouseUp = function () {

    window.removeEventListener('mouseup', this._onMouseUp);
    window.removeEventListener('mouseleave', this._onMouseUp);
    window.removeEventListener('mousemove', this._onDrag);

    if (this._rafOnDragRafId) {
        this._rafOnDrag();
    }
    
    this._isHandle = false;

    this._deFullHit.style.pointerEvents = 'none';
};

p._onOverHitbox = function () {

    this._isOverHitbox = true;
};

p._onOutHitbox = function () {

    this._isOverHitbox = false;
};








p._refreshPoints = function () {

    var base = _.clone(this._base), 
        params = this._params,
        p = this._points,
        po = this._pOrigin;

    base.x += params.tx;
    base.y += params.ty;
    
    po.x = base.x + (base.w * params.ox);
    po.y = base.y + (base.h * params.oy);

    var tox = base.x + params.ox * base.w,
        toy = base.y + params.oy * base.h;

    t(p[0], base.x, base.y);
    t(p[1], base.x + base.w, base.y);
    t(p[2], base.x + base.w, base.y + base.h);
    t(p[3], base.x, base.y + base.h);

    function t(p, x, y) {

        var dx = (x - tox) * params.sx,
            dy = (y - toy) * params.sy,
            d = Math.sqrt(dx*dx + dy*dy),
            rad = Math.atan2(dy, dx) + params.rz;

        p.x = tox + (d * Math.cos(rad));
        p.y = toy + (d * Math.sin(rad));
    }
};



p._renderHandler = function () {

    var p = this._points.map(this._th.L2G, this._th),
        po = this._th.L2G(this._pOrigin),
        c = this._deCanvas,
        or = this._originRadius,
        ctx = c.getContext('2d'),
        margin = 7,
        minX = Math.min(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        maxX = Math.max(p[0].x, p[1].x, p[2].x, p[3].x, po.x),
        minY = Math.min(p[0].y, p[1].y, p[2].y, p[3].y, po.y),
        maxY = Math.max(p[0].y, p[1].y, p[2].y, p[3].y, po.y);

    c.style.left = (minX - margin) + 'px';
    c.style.top = (minY - margin) + 'px';
    c.width = (maxX - minX) + (margin * 2);
    c.height = (maxY - minY) + (margin * 2);

    ctx.save();
    ctx.translate(margin - minX, margin - minY);
    ctx.beginPath();
    ctx.moveTo(p[0].x, p[0].y);
    ctx.lineTo(p[1].x, p[1].y);
    ctx.lineTo(p[2].x, p[2].y);
    ctx.lineTo(p[3].x, p[3].y);
    ctx.closePath();

    ctx.moveTo(po.x - or, po.y);
    ctx.lineTo(po.x + or, po.y);
    ctx.moveTo(po.x, po.y - or);
    ctx.lineTo(po.x, po.y + or);
    

    // ctx.shadowColor = '#f00';
    // ctx.shadowBlur = 3;
    // ctx.shadowOffsetX = 0;
    // ctx.shadowOffsetY = 0;

    ctx.strokeStyle = '#4f2';
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.restore();



    //hitboxes

    this._deOriginHit.style.left = (po.x - this._rotateFingerDist) + 'px';
    this._deOriginHit.style.top = (po.y - this._rotateFingerDist) + 'px';

    var hbp = '';
    hbp += p[0].x + ',' + p[0].y + ' ';
    hbp += p[1].x + ',' + p[1].y + ' ';
    hbp += p[2].x + ',' + p[2].y + ' ';
    hbp += p[3].x + ',' + p[3].y;
    this._deHitbox.setAttribute('points', hbp);
};

p._refreshHitbox = function () {

    // var base = this._base, 
    //     params = this._params,
    //     po = this._pOrigin,
    //     leftScale = (base.w * params.ox * (params.sx-1)),
    //     topScale = (base.h * params.oy * (params.sy-1)),
    //     w = (base.w * params.sx),
    //     h = (base.h * params.sy),
    //     ox = rfd + (w * params.ox),
    //     oy = rfd + (h * params.oy);


    // this._deHitbox.style.left = (-rfd + base.x + params.tx - leftScale) + 'px';
    // this._deHitbox.style.top = (-rfd + base.y + params.ty - topScale) + 'px';
    // this._deHitbox.style.width = w + 'px';
    // this._deHitbox.style.height = h + 'px';
    // this._deHitbox.style.transformOrigin = ox + 'px ' + oy + 'px';
    // this._deHitbox.style.transform = 'rotate(' + this._params.rz + 'rad)'; 
};


















p._onDrag = function (e) {

    this._onDragMe = e;

    if (!this._rafOnDragRafId) {

        this._rafOnDragRafId = requestAnimationFrame(this._rafOnDrag);
    }
};

p._rafOnDrag = function () {

    var e = this._onDragMe;
    this._onDragMe = undefined;

    window.cancelAnimationFrame(this._rafOnDragRafId);
    this._rafOnDragRafId = undefined;

    var params = this._params,
        base = this._base,
        pOrigin = this._pOrigin,
        md = this._mdPos,
        finger = this._finger,
        m = this._th.G2L({x: e.clientX, y: e.clientY}),
        dx = m.x - md.m.x,
        dy = m.y - md.m.y,
        alt = e.altKey,
        shift = e.shiftKey,
        change = {};

    if (finger === 'origin') {
        
        setOrigin();
    }
        
    if (finger === 'move') {

        setTransform();
    }
    
    if (finger.charAt(0) === '1') {

        setScale(-Math.PI/2, 'sy', -1);
    }

    if (finger.charAt(1) === '1') {

        setScale(0, 'sx', 1);
    }

    if (finger.charAt(2) === '1') {

        setScale(Math.PI/2, 'sy', 1);
    }

    if (finger.charAt(3) === '1') {

        setScale(Math.PI, 'sx', -1);
    }

    if (finger === 'rotate') {

        setRotation();
    }

    if (shift && 'sx' in change && 'sy' in change) {

        fixProportion();
    }


    this.emit('change', change, 'transform');





    function setScale(r, sN, way) {

        var rad = r + md.params.rz,
            mdDist = distToPointInAngle(md.pOrigin, md.m, rad),
            dragDist = distToPointInAngle(md.pOrigin, m, rad),
            scale = (dragDist / mdDist) * md.params[sN];

        if (alt) {
            var es = (scale - md.params[sN]) / 2,
                tN = 't' + sN.charAt(1),
                dN = sN.charAt(1) === 'x' ? 'w' : 'h';

            scale -= es;
            change[tN] = params[tN] = md.params[tN] + base[dN] * es/2 * way;            
        }

        change[sN] = params[sN] = scale;
    }

    function fixProportion() {

        var mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.abs(radDiff(params.rz, Math.atan2(my, mx))),
            isVertical = mr > Math.PI/4 && mr < Math.PI/4 * 3,
            spx = params.sx / md.params.sx,
            spy = params.sy / md.params.sy;

        spx *= spx < 0 ? -1 : 1;
        spy *= spy < 0 ? -1 : 1;
        
        var sp = isVertical ? spy : spx;

        change.sx = params.sx = md.params.sx * sp;
        change.sy = params.sy = md.params.sy * sp;
    }

    function setRotation() {

        var mdx = md.m.x - pOrigin.x,
            mdy = md.m.y - pOrigin.y,
            mdr = Math.atan2(mdy, mdx),
            mx = m.x - pOrigin.x,
            my = m.y - pOrigin.y,
            mr = Math.atan2(my, mx),
            r = mr - mdr;

        if (shift) {

            r = Math.floor(r / (Math.PI / 12)) * (Math.PI / 12);
        }

        change.rz = params.rz = md.params.rz + r;
    }

    function setTransform() {

        if (shift) {
            
            if (Math.abs(dx) > Math.abs(dy)) {

                change.tx = params.tx = md.params.tx + dx;
                change.ty = params.ty = md.params.ty;
            }
            else {
                change.tx = params.tx = md.params.tx;
                change.ty = params.ty = md.params.ty + dy;
            }
        }
        else {
            change.tx = params.tx = md.params.tx + dx;
            change.ty = params.ty = md.params.ty + dy;
        }
    }

    function setOrigin() {

        var mx = m.x - md.pOrigin.x,
            my = m.y - md.pOrigin.y,
            dist = Math.sqrt(mx*mx + my*my),
            r = Math.atan2(my, mx) - params.rz,
            x = (Math.cos(r) * dist) / params.sx,
            y = (Math.sin(r) * dist) / params.sy;

        x = parseInt(x * 1000) / 1000;//?hack??
        y = parseInt(y * 1000) / 1000;

        change.ox = params.ox = md.params.ox + (x / base.w);
        change.oy = params.oy = md.params.oy + (y / base.h);
        change.tx = params.tx = md.params.tx + (mx - x);
        change.ty = params.ty = md.params.ty + (my - y);
    }
};














p._setFinger = function (e) {

    var base = this._base,
        params = this._params,
        p = this._points,
        po = this._pOrigin,
        diff = 3,
        rDiff = 16,
        m = this._th.G2L({x: e.clientX, y: e.clientY}),
        dox = po.x - m.x,
        doy = po.y - m.y,
        dOrigin = Math.sqrt(dox*dox + doy*doy),
        dTop = distToSegment(m, p[0], p[1]),
        dLeft = distToSegment(m, p[1], p[2]),
        dBottom = distToSegment(m, p[2], p[3]),
        dRight = distToSegment(m, p[3], p[0]),
        top = dTop < diff,
        left = dLeft < diff,
        bottom = dBottom < diff,
        right = dRight < diff,
        inside = isInside(m, p),
        cursorScale;

    if (base.w * params.sx < diff * 2 && inside) {
        
        left = false;
        right = false;
    }

    if (base.h * params.sy < diff * 2 && inside) {
    
        top = false;
        bottom = false;
    }
    
    if (dOrigin < this._originRadius) {

        this._finger = 'origin';
    }
    else if (top || right || bottom || left) {
        //TODO its sould be top-right-bottom-left
        this._finger = ('000' + (top * 1000 + left * 100 + bottom * 10 + right * 1)).substr(-4);
        cursorScale = true;
    }
    else if (inside) {

        this._finger = 'move';
    }
    else if (dTop < rDiff || dRight < rDiff || dBottom < rDiff || dLeft < rDiff || dOrigin < rDiff) {

        this._finger = 'rotate';
    }
    else {
        this._finger = false;
    }

    if (this._finger === 'rotate') {

        this._cursorFunc = this._getRotateCursor;
    }
    else if (cursorScale) {

        this._cursorFunc = this._getScaleCursor;
    }
    else {
        this._cursorFunc = undefined;
        
        if (this._finger) {

            this._setCursor(MOUSESTATES[this._finger]);
        }
        else {
            this._setCursor('auto');
        }
    }
};










p._setCursor = function (cursor) {

    this._deHitbox.style.cursor = cursor;
    this._deOriginHit.style.cursor = cursor;
    this._deFullHit.style.cursor = cursor
};

p._getRotateCursor = function (mx, my) {

    var po = this._th.L2G(this._pOrigin),
        r = Math.atan2(my - po.y, mx - po.x) / Math.PI * 180;

    return 'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" ><path transform="rotate('+r+', 16, 16)" d="M18.907 3.238l-7.54-2.104s8.35 3.9 8.428 15.367c.08 11.794-7.807 14.49-7.807 14.49l7.363-1.725" stroke="#000" stroke-width="2.054" fill="none"/></svg>\') 16 16, auto';
};

p._getScaleCursor = (function () {

    var FINGERS = ['0100', '0110', '0010', '0011', '0001', '1001', '1000', '1100'];

    return function () {

        var sideDeg = FINGERS.indexOf(this._finger) * 45,
            po = this._th.L2G(this._pOrigin),
            oTweak = {x: this._pOrigin.x + 1234, y: this._pOrigin.y},
            pot = this._th.L2G(oTweak),
            baseRad = Math.atan2(pot.y - po.y, pot.x - po.x) + this._params.rz,
            r = sideDeg + (baseRad / Math.PI * 180);


        return 'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path transform="rotate('+r+', 16, 16)" d="M22.406 12.552l5.88 4.18H3.677l5.728 4.36" stroke="#000" stroke-width="2.254" fill="none"/></svg>\') 16 16, auto';
    };
}());







p.createGraphics = function () {

    this.domElem = document.createElement('div');
    this.domElem.style.pointerEvents = 'none';

    this._deCanvas = document.createElement('canvas');
    this._deCanvas.style.position = 'absolute';
    this.domElem.appendChild(this._deCanvas);

    this._deFullHit = document.createElement('div');
    this._deFullHit.style.position = 'absolute';
    this._deFullHit.style.pointerEvents = 'none';
    this._deFullHit.style.width = '100%';
    this._deFullHit.style.height = '100%';
    this.domElem.appendChild(this._deFullHit);

    var onFirstMove = function () {

        this._onOverHitbox();
        this._deHitbox.removeEventListener('mousemove', onFirstMove);
        this._deOriginHit.removeEventListener('mousemove', onFirstMove);
    }.bind(this);

    var addHitboxEvents = function (de) {

        de.style.pointerEvents = 'auto';
        de.addEventListener('mouseenter', this._onOverHitbox);
        de.addEventListener('mouseleave', this._onOutHitbox);
        de.addEventListener('mousemove', onFirstMove);

        return de;
    }.bind(this);

    this._deOriginHit = addHitboxEvents(document.createElement('div'));
    this._deOriginHit.style.position = 'absolute';
    this._deOriginHit.style.border = this._rotateFingerDist + 'px solid rgba(234,0,0,0)';
    this._deOriginHit.style.borderRadius = this._rotateFingerDist + 'px';
    this.domElem.appendChild(this._deOriginHit);

    this._svgRoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    this._svgRoot.style.overflow = 'visible';
    this.domElem.appendChild(this._svgRoot);

    this._deHitbox = addHitboxEvents(document.createElementNS('http://www.w3.org/2000/svg', 'polygon'));
    this._deHitbox.style.strokeWidth = this._rotateFingerDist * 2;
    this._deHitbox.style.stroke = 'rgba(0,0,0,0)';
    this._deHitbox.style.fill = 'rgba(0,0,0,0)';
    this._deHitbox.style.strokeLinejoin = 'round';
    this._svgRoot.appendChild(this._deHitbox);
};

module.exports = Transformer;












//utils/////////////////////////////////////////////////////

function radDiff(r0, r1) {

    r0 %= Math.PI;
    r1 %= Math.PI;
    r0 += Math.PI;
    r1 += Math.PI;

    return r1 - r0;
}

function sqr(x) { 
    return x * x;
}

function dist2(v, w) { 
    return sqr(v.x - w.x) + sqr(v.y - w.y);
}

function distToSegmentSquared(p, v, w) {

    var l2 = dist2(v, w);

    if (l2 === 0) return dist2(p, v);

    var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;

    if (t < 0) return dist2(p, v);
    if (t > 1) return dist2(p, w);

    return dist2(p, { x: v.x + t * (w.x - v.x), y: v.y + t * (w.y - v.y) });
}

function distToSegment(p, v, w) { 
    return Math.sqrt(distToSegmentSquared(p, v, w));
}

function distToPointInAngle(p0, p1, rad) {

    var dx = p1.x - p0.x,
        dy = p1.y - p0.y,
        d = Math.sqrt(dx*dx + dy*dy),
        mRad = Math.atan2(dy, dx);

    rad = mRad - rad;

    // console.log('dx', dx, 'dy', dy, 'd', d, 'mRad', mRad, 'rad', rad, 'return', Math.cos(rad) * d)

    return Math.cos(rad) * d;

}

function isInside(point, vs) {
    // ray-casting algorithm based on
    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html
    
    var x = point.x, y = point.y;
    
    var inside = false;
    for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
        var xi = vs[i].x, yi = vs[i].y;
        var xj = vs[j].x, yj = vs[j].y;
        
        var intersect = ((yi > y) !== (yj > y)) &&
            (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
        if (intersect) inside = !inside;
    }
    
    return inside;
}
},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","lodash":"/home/azazdeaz/repos/animachine/node_modules/lodash/dist/lodash.js"}],"/home/azazdeaz/repos/animachine/node_modules/transhand/src/hands/curver/Curver.js":[function(require,module,exports){
'use strict';

var EventEmitter = require('eventman');
var inherits = require('inherits');
var _ = require('lodash');
var makeDraggable = require('../../make-draggable');


var BASE_POINT_STYLE = {
    anchorFill: 'deepskyblue',
    anchorRadius: 3,
    handleFill: 'deepskyblue',
    handleRadius: 3,
    handleLineStroke: 'deepskyblue',
    handleLineStrokeWidth: 1,
    pathStroke: 'deepskyblue',
    pathStrokeWidth: 2,
};

// point: {
//     anchor: {x: 0, y: 0},
//     handleLeft: {x: 0, y: 0},
//     handleRight: {x: 0, y: 0},
//     linked: false,
//     close: false,
// }


function Curver() {

    EventEmitter.call(this);

    this._points = [];
    this._buffPoints = [];

    this._offset = {
        x: 0,
        y: 0,
    }

    this._clickActions = [
        {target: 'anchor', action: 'move_anchor'},
        {target: 'anchor', action: 'remove_point', ctrl: true},
        {target: 'anchor', action: 'reset_anchor', alt: true},
        {target: 'handle', action: 'move_handle'},
        {target: 'handle', action: 'unlink_handle', alt: true},
        {target: 'curve', action: 'add_point'},
        {target: 'curve', action: 'drag_path', ctrl: true},
        {target: 'curve', action: 'rotate_path', alt: true},
        {target: 'curve', action: 'scale_path', ctrl: true, alt: true},
    ];
}

Curver.id = 'curver';

inherits(Curver, EventEmitter);
var p = Curver.prototype;
module.exports = Curver;

p.setup = function (opt) {

    if (!this.domElem) {
        this.createGraphics();
    }

    while (this._points.length < opt.points.length) {
        this._addPoint();
    }
    while (this._points.length > opt.points.length) {
        this._splicePoint(this._points.length-1);
    }

    opt.points.forEach(function (srcPoint, idx) {

        this._setupPoint(this._points[idx], srcPoint);
    }, this);

    this._offset.x = (opt.offset && opt.offset.x) || 0;
    this._offset.y = (opt.offset && opt.offset.y) || 0;

    this.render();
};

p.activate = function () {

    if (this._isActivated) return;
    this._isActivated = true;
};

p.deactivate = function () {

    if (!this._isActivated) return;
    this._isActivated = false;
};



p._emitChange = (function () {

    return function (detailes) {

        detailes = _.assign({
            type: '',
            point: undefined,
            idx: undefined,
            points: this._points,
            flatPoints: flatPoints,
            flat: flat,
            svgPath: svgPath,
            clone: clone,
        }, detailes);

        if (detailes.idx === undefined && detailes.point) {

            detailes.idx = this._points.indexOf(detailes.point);
        }

        this.emit('change', detailes);
    };

    function flatPoints() {

        var ret = [];
        
        this.points.forEach(function (point) {

            ret.push({
                x: point.handleLeft.x,
                y: point.handleLeft.y 
            });
            ret.push({
                x: point.anchor.x,
                y: point.anchor.y 
            });
            ret.push({
                x: point.handleRight.x,
                y: point.handleRight.y 
            });
        });

        return ret;
    }
    function flat () {/*TODO*/}
    function svgPath () {/*TODO*/}
    function clone () {/*TODO*/}
}());

p._getClickAction = function (target, e) {

    var ctrl = e.ctrlKey,
        shift = e.shiftlKey,
        alt = e.altKey,
        ret;

    this._clickActions.some(function (clickAction) {

        if (clickAction.target === target &&
            !!clickAction.ctrl === !!ctrl &&
            !!clickAction.shift === !!shift &&
            !!clickAction.alt === !!alt)
        {
            ret = clickAction.action;
            return true;
        }
    });

    return ret;
}







p.render = function () {

    var i, l, point, pointB, cmd;

    for (i = 0, l = this._points.length; i < l; ++i) {
        
        point = this._points[i];

        if (i !== l - 1) {
            
            pointB = this._points[i+1];
            
            cmd = 'M' + point.anchor.x + ',' + point.anchor.y + ' ';
            cmd += 'C' + point.handleRight.x + ',' + point.handleRight.y + ' ';
            cmd += pointB.handleLeft.x + ',' + pointB.handleLeft.y + ' ';
            cmd += pointB.anchor.x + ',' + pointB.anchor.y + ' ';
            point._de.setAttribute('d', cmd);
        }

        moveCircle(point.anchor);

        moveCircle(point.handleLeft);
        moveLine(point.handleLeft, point.anchor);

        moveCircle(point.handleRight);
        moveLine(point.handleRight, point.anchor);

        this.domElem.style.left = this._offset.x + 'px';
        this.domElem.style.top = this._offset.y + 'px';
    }

    function moveCircle(pt) {

        pt._de.setAttribute('cx', pt.x);
        pt._de.setAttribute('cy', pt.y);
    }

    function moveLine(pt1, pt2) {

        pt1._deLine.setAttribute('x1', pt1.x);
        pt1._deLine.setAttribute('y1', pt1.y);
        pt1._deLine.setAttribute('x2', pt2.x);
        pt1._deLine.setAttribute('y2', pt2.y);
    }
};

p._addPoint = function (idx) {

    var that = this, 
        point = {
            anchor: {x: 0, y: 0},
            handleLeft: {x: 0, y: 0},
            handleRight: {x: 0, y: 0},
            style: {},
            linked: false,
        };
    //TODO use _buffPoints[]
    this._points.splice(idx, 0, point);

    createPath();
    createAnchor();
    createHandle(point.handleLeft);
    createHandle(point.handleRight);

    return point;

    function createPath() {

        point._de = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        point._de.style.fill = 'none';
        point._de.style.pointerEvents = 'auto';
        that._dePathCont.appendChild(point._de);

        point._de.addEventListener('mousedown', function (e) {

            var idx = this._points.indexOf(point),
                srcPoint = this._splitCurve(this._points[idx], this._points[idx+1], e.x, e.y);

            var newPoint = this._addPoint(idx+1);
            this._setupPoint(newPoint, srcPoint);

            this._emitChange({type: 'add', point: newPoint});

            newPoint.anchor._dragger.emitDown(e);
        }.bind(that));
    }

    function createAnchor() {

        point.anchor._de = createCircle();
        that._deAnchorCont.appendChild(point.anchor._de);

        point.anchor._dragger = makeDraggable({
            deTarget: point.anchor._de,
            thisArg: that,
            onDown: function (e) {

                var action = this._getClickAction('anchor', e);

                if (action === 'reset_anchor') {

                    point.handleLeft.x = point.anchor.x;
                    point.handleLeft.y = point.anchor.y;
                    point.handleRight.x = point.anchor.x;
                    point.handleRight.y = point.anchor.y;
                    point.linked = true;

                    this.render();

                    e = Object.create(e);
                    e.syncronSize = true;

                    this._emitChange({type: 'edit', point: point});

                    point.handleLeft._dragger.emitDown(e);

                    return false;
                }
                else if (action === 'remove_point') {

                    var idx = this._points.indexOf(point);

                    this._splicePoint(idx);

                    this._emitChange({type: 'remove', idx: idx});

                    return false;
                }

                return {
                    axStart: point.anchor.x,
                    ayStart: point.anchor.y,
                    hlxStart: point.handleLeft.x,
                    hlyStart: point.handleLeft.y,
                    hrxStart: point.handleRight.x,
                    hryStart: point.handleRight.y,
                };
            },
            onDrag: function (md) {

                point.anchor.x = md.axStart + md.dx;
                point.anchor.y = md.ayStart + md.dy;
                point.handleLeft.x = md.hlxStart + md.dx;
                point.handleLeft.y = md.hlyStart + md.dy;
                point.handleRight.x = md.hrxStart + md.dx;
                point.handleRight.y = md.hryStart + md.dy;

                this._emitChange({type: 'edit', point: point});
                this.render();
            }
        });
    }

    function createHandle(handle) {

        var oppositeHandle = point.handleLeft === handle ? point.handleRight : point.handleLeft;

        handle._de = createCircle();
        that._deHandleCont.appendChild(handle._de);

        handle._deLine = createLine();
        that._deHandleCont.appendChild(handle._deLine);

        handle._dragger = makeDraggable({
            deTarget: handle._de,
            thisArg: that,
            onDown: function (e) {

                var action = this._getClickAction('handle', e);
                
                if (!e.syncronSize && action === 'unlink_handle' && point.linked) {

                    point.linked = false;

                    this._emitChange({type: 'edit', point: point});
                }
             
                return {
                    xStart: handle.x,
                    yStart: handle.y,
                    oppositeLength: dist(oppositeHandle, point.anchor),
                    syncronSize: e.syncronSize,
                }
            },
            onDrag: function (md) {

                handle.x = md.xStart + md.dx;
                handle.y = md.yStart + md.dy;

                if (point.linked) {

                    var dx = handle.x - point.anchor.x,
                        dy = handle.y - point.anchor.y,
                        rad = Math.atan2(dy, dx),
                        length = md.syncronSize ? dist(handle, point.anchor) : md.oppositeLength;

                    oppositeHandle.x = point.anchor.x - (length * Math.cos(rad));
                    oppositeHandle.y = point.anchor.y - (length * Math.sin(rad));
                }

                this._emitChange({type: 'edit', point: point});
                this.render();
            }
        });
    }

    function createCircle(color) {

        var de = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        de.style.cursor = 'pointer';
        de.style.pointerEvents = 'auto';

        return de;
    }

    function createLine(color) {

        var de = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        de.style.pointerEvents = 'none';

        return de;
    }

    function dist(pa, pb) {

        var ox = pa.x - pb.x,
            oy = pa.y - pb.y;
        
        return Math.sqrt(ox*ox + oy*oy);
    }
};

p._setupPoint = function (point, src) {

    point.anchor.x = src.anchor.x;
    point.anchor.y = src.anchor.y;
    point.handleLeft.x = src.handleLeft.x;
    point.handleLeft.y = src.handleLeft.y;
    point.handleRight.x = src.handleRight.x;
    point.handleRight.y = src.handleRight.y;
    point.linked = !!src.linked;
    
    var s = _.defaults(point.style, src.style, BASE_POINT_STYLE);

    point._de.style.stroke = s.pathStroke;
    point._de.style.strokeWidth = s.pathStrokeWidth;

    point.anchor._de.setAttribute('r', s.anchorRadius);
    point.anchor._de.style.fill = s.anchorFill;

    point.handleLeft._deLine.style.stroke = s.handleLineStroke;
    point.handleLeft._deLine.style.strokeWidth = s.handleLineStrokeWidth;
    point.handleRight._deLine.style.stroke = s.handleLineStroke;
    point.handleRight._deLine.style.strokeWidth = s.handleLineStrokeWidth;

    point.handleLeft._de.setAttribute('r', s.handleRadius);
    point.handleLeft._de.style.fill = s.handleFill;
    point.handleRight._de.setAttribute('r', s.handleRadius);
    point.handleRight._de.style.fill = s.handleFill;

    return point;
};


p._splicePoint = function (idx) {

    if (typeof(idx) === 'object') {

        idx = this._points.indexOf(idx);
    }

    var removedPoint = this._points.splice(idx, 1)[0];

    this._emitChange({type: 'splice', idx: idx});
    
    this.render();

    removedPoint._de.parentNode.removeChild(removedPoint._de);
    removedPoint.anchor._de.parentNode.removeChild(removedPoint.anchor._de);
    removedPoint.handleLeft._de.parentNode.removeChild(removedPoint.handleLeft._de);
    removedPoint.handleLeft._deLine.parentNode.removeChild(removedPoint.handleLeft._deLine);
    removedPoint.handleRight._de.parentNode.removeChild(removedPoint.handleRight._de);
    removedPoint.handleRight._deLine.parentNode.removeChild(removedPoint.handleRight._deLine);

    this._buffPoints.push(removedPoint);
};

p._splitCurve = function (pa, pb, x, y) {

    var curve = [
            pa.anchor.x, pa.anchor.y,
            pa.handleRight.x, pa.handleRight.y,
            pb.handleLeft.x, pb.handleLeft.y,
            pb.anchor.x, pb.anchor.y
        ],
        mPos = {x: x, y: y},
        p = {
            anchor: {x: 0, y: 0},//jsBezier.pointOnCurve(curve, loc),
            handleLeft: {x: 0, y: 0},
            handleRight: {x: 0, y: 0},
            linked: true,
        },
        pm = {},
        dl = dist(pa.anchor, pa.handleRight) + 
            dist(pa.handleRight, pb.handleLeft) + 
            dist(pb.handleLeft, pb.anchor),
        minDist, pos, loc;

    for (var di = 0; di < dl; ++di) {

        var _loc = di/dl,
            _pos = calcPos(_loc),
            _dist = dist(_pos, mPos);

        if (minDist === undefined || minDist > _dist) {

            minDist = _dist;
            loc = _loc;
            pos = _pos;
        }
    };

    p.anchor = pos;

    pm.x = pa.handleRight.x + (pb.handleLeft.x - pa.handleRight.x) * loc;
    pm.y = pa.handleRight.y + (pb.handleLeft.y - pa.handleRight.y) * loc;
    pa.handleRight.x = pa.anchor.x + (pa.handleRight.x - pa.anchor.x) * loc;
    pa.handleRight.y = pa.anchor.y + (pa.handleRight.y - pa.anchor.y) * loc;
    pb.handleLeft.x = pb.handleLeft.x + (pb.anchor.x - pb.handleLeft.x) * loc;
    pb.handleLeft.y = pb.handleLeft.y + (pb.anchor.y - pb.handleLeft.y) * loc;
    p.handleLeft.x = pa.handleRight.x + (pm.x - pa.handleRight.x) * loc;
    p.handleLeft.y = pa.handleRight.y + (pm.y - pa.handleRight.y) * loc;
    p.handleRight.x = pm.x + (pb.handleLeft.x - pm.x) * loc;
    p.handleRight.y = pm.y + (pb.handleLeft.y - pm.y) * loc;

    function calcPos(pos) {

        var p = curve.slice(),
            l = p.length / 2;

        while (--l > 0) {

            for (var i = 0; i < l; ++i) {
                count(i*2);
            }
        }

        return {x: p[0], y: p[1]};

        function count(i) {

            p[i+0] = p[i+0] + (p[i+2] - p[i+0]) * pos;
            p[i+1] = p[i+1] + (p[i+3] - p[i+1]) * pos;
        }
    };

    function dist(pa, pb) {

        var dx = pb.x - pa.x,
            dy = pb.y - pa.y;

        return Math.sqrt(dx*dx + dy*dy);
    }

    return p;
};


p.createGraphics = function () {

    this.domElem = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    this.domElem.style.position = 'absolute';
    this.domElem.style.overflow = 'visible';

    this._dePathCont = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    this.domElem.appendChild(this._dePathCont);

    this._deHandleCont = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    this.domElem.appendChild(this._deHandleCont);

    this._deAnchorCont = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    this.domElem.appendChild(this._deAnchorCont);
};
},{"../../make-draggable":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/make-draggable.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","lodash":"/home/azazdeaz/repos/animachine/node_modules/lodash/dist/lodash.js"}],"/home/azazdeaz/repos/animachine/node_modules/transhand/src/make-draggable.js":[function(require,module,exports){
'use strict';

module.exports = function makeDraggable(opt) {

    opt = opt || {};

    var md, isOver, isDrag, 
        waitingMoveEvent, waitingMoveRaf;

    if (opt.deTarget) {
        
        opt.deTarget.addEventListener('mousedown', onDown);
        opt.deTarget.addEventListener('mouseover', onEnter);
        opt.deTarget.addEventListener('mouseleave', onLeave);
    }

    return {
        emitDown: function (e) {

            onDown(e);
        },
        destroy: function () {}
    }

    function onDown(e) {

        if (e.button !== 0) {
            
            return;
        }

        // e.stopPropagation();
        // e.preventDefault();

        isDrag = true;

        var custom = call('onDown', [e]);

        if (custom === false) {//prevent dragging

            return;
        }

        md = custom || {};

        md.mx = e.clientX;
        md.my = e.clientY;
        md.dx = 0;
        md.dy = 0;

        window.addEventListener('mousemove', onMove);
        window.addEventListener('mouseup', onUp);
        window.addEventListener('mouseleave', onUp);
    }

    function onMove(e) {

        waitingMoveEvent = e;

        if (!waitingMoveRaf) {
            
            waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
        }
    }

    function rafOnMove() {

        window.cancelAnimationFrame(waitingMoveRaf);

        var wme = waitingMoveEvent;
        waitingMoveRaf = undefined;
        waitingMoveEvent = undefined;

        var mx = wme.clientX,
            my = wme.clientY;

        md.dx = mx - md.mx;
        md.dy = my - md.my;

        call(['onMove', 'onDrag'], [md, mx, my]);
    }

    function onUp(e) {

        window.removeEventListener('mousemove', onMove);
        window.removeEventListener('mouseup', onUp);
        window.removeEventListener('mouseleave', onUp);

        if (waitingMoveEvent) {
            rafOnMove();
        }

        isDrag = false;
        if (!isOver) {
            onLeave();
        }

        call('onUp', [md, e.clientX, e.clientY, e]);
    }

    function onEnter() {

        isOver = true;

        if (!isDrag) {
            call('onEnter');
        }
    }

    function onLeave() {

        isOver = false;
        
        if (!isDrag) {
            call('onLeave');
        }
    }

    function call(name, args) {

        if (name instanceof Array) {

            name.forEach(function (name) {

                call(name, args);
            });

            return;
        }
        
        if (name in opt) {

            return opt[name].apply(opt.thisArg, args);
        }
    }
};
},{}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map.js":[function(require,module,exports){
/*
 * Copyright 2009-2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE.txt or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
exports.SourceMapGenerator = require('./source-map/source-map-generator').SourceMapGenerator;
exports.SourceMapConsumer = require('./source-map/source-map-consumer').SourceMapConsumer;
exports.SourceNode = require('./source-map/source-node').SourceNode;

},{"./source-map/source-map-consumer":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-map-consumer.js","./source-map/source-map-generator":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-map-generator.js","./source-map/source-node":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-node.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/array-set.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var util = require('./util');

  /**
   * A data structure which is a combination of an array and a set. Adding a new
   * member is O(1), testing for membership is O(1), and finding the index of an
   * element is O(1). Removing elements from the set is not supported. Only
   * strings are supported for membership.
   */
  function ArraySet() {
    this._array = [];
    this._set = {};
  }

  /**
   * Static method for creating ArraySet instances from an existing array.
   */
  ArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {
    var set = new ArraySet();
    for (var i = 0, len = aArray.length; i < len; i++) {
      set.add(aArray[i], aAllowDuplicates);
    }
    return set;
  };

  /**
   * Add the given string to this set.
   *
   * @param String aStr
   */
  ArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {
    var isDuplicate = this.has(aStr);
    var idx = this._array.length;
    if (!isDuplicate || aAllowDuplicates) {
      this._array.push(aStr);
    }
    if (!isDuplicate) {
      this._set[util.toSetString(aStr)] = idx;
    }
  };

  /**
   * Is the given string a member of this set?
   *
   * @param String aStr
   */
  ArraySet.prototype.has = function ArraySet_has(aStr) {
    return Object.prototype.hasOwnProperty.call(this._set,
                                                util.toSetString(aStr));
  };

  /**
   * What is the index of the given string in the array?
   *
   * @param String aStr
   */
  ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {
    if (this.has(aStr)) {
      return this._set[util.toSetString(aStr)];
    }
    throw new Error('"' + aStr + '" is not in the set.');
  };

  /**
   * What is the element at the given index?
   *
   * @param Number aIdx
   */
  ArraySet.prototype.at = function ArraySet_at(aIdx) {
    if (aIdx >= 0 && aIdx < this._array.length) {
      return this._array[aIdx];
    }
    throw new Error('No element indexed by ' + aIdx);
  };

  /**
   * Returns the array representation of this set (which has the proper indices
   * indicated by indexOf). Note that this is a copy of the internal array used
   * for storing the members so that no one can mess with internal state.
   */
  ArraySet.prototype.toArray = function ArraySet_toArray() {
    return this._array.slice();
  };

  exports.ArraySet = ArraySet;

});

},{"./util":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/util.js","amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/base64-vlq.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * Based on the Base 64 VLQ implementation in Closure Compiler:
 * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
 *
 * Copyright 2011 The Closure Compiler Authors. All rights reserved.
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *  * Neither the name of Google Inc. nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var base64 = require('./base64');

  // A single base 64 digit can contain 6 bits of data. For the base 64 variable
  // length quantities we use in the source map spec, the first bit is the sign,
  // the next four bits are the actual value, and the 6th bit is the
  // continuation bit. The continuation bit tells us whether there are more
  // digits in this value following this digit.
  //
  //   Continuation
  //   |    Sign
  //   |    |
  //   V    V
  //   101011

  var VLQ_BASE_SHIFT = 5;

  // binary: 100000
  var VLQ_BASE = 1 << VLQ_BASE_SHIFT;

  // binary: 011111
  var VLQ_BASE_MASK = VLQ_BASE - 1;

  // binary: 100000
  var VLQ_CONTINUATION_BIT = VLQ_BASE;

  /**
   * Converts from a two-complement value to a value where the sign bit is
   * is placed in the least significant bit.  For example, as decimals:
   *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)
   *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)
   */
  function toVLQSigned(aValue) {
    return aValue < 0
      ? ((-aValue) << 1) + 1
      : (aValue << 1) + 0;
  }

  /**
   * Converts to a two-complement value from a value where the sign bit is
   * is placed in the least significant bit.  For example, as decimals:
   *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1
   *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2
   */
  function fromVLQSigned(aValue) {
    var isNegative = (aValue & 1) === 1;
    var shifted = aValue >> 1;
    return isNegative
      ? -shifted
      : shifted;
  }

  /**
   * Returns the base 64 VLQ encoded value.
   */
  exports.encode = function base64VLQ_encode(aValue) {
    var encoded = "";
    var digit;

    var vlq = toVLQSigned(aValue);

    do {
      digit = vlq & VLQ_BASE_MASK;
      vlq >>>= VLQ_BASE_SHIFT;
      if (vlq > 0) {
        // There are still more digits in this value, so we must make sure the
        // continuation bit is marked.
        digit |= VLQ_CONTINUATION_BIT;
      }
      encoded += base64.encode(digit);
    } while (vlq > 0);

    return encoded;
  };

  /**
   * Decodes the next base 64 VLQ value from the given string and returns the
   * value and the rest of the string.
   */
  exports.decode = function base64VLQ_decode(aStr) {
    var i = 0;
    var strLen = aStr.length;
    var result = 0;
    var shift = 0;
    var continuation, digit;

    do {
      if (i >= strLen) {
        throw new Error("Expected more digits in base 64 VLQ value.");
      }
      digit = base64.decode(aStr.charAt(i++));
      continuation = !!(digit & VLQ_CONTINUATION_BIT);
      digit &= VLQ_BASE_MASK;
      result = result + (digit << shift);
      shift += VLQ_BASE_SHIFT;
    } while (continuation);

    return {
      value: fromVLQSigned(result),
      rest: aStr.slice(i)
    };
  };

});

},{"./base64":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/base64.js","amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/base64.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var charToIntMap = {};
  var intToCharMap = {};

  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    .split('')
    .forEach(function (ch, index) {
      charToIntMap[ch] = index;
      intToCharMap[index] = ch;
    });

  /**
   * Encode an integer in the range of 0 to 63 to a single base 64 digit.
   */
  exports.encode = function base64_encode(aNumber) {
    if (aNumber in intToCharMap) {
      return intToCharMap[aNumber];
    }
    throw new TypeError("Must be between 0 and 63: " + aNumber);
  };

  /**
   * Decode a single base 64 digit to an integer.
   */
  exports.decode = function base64_decode(aChar) {
    if (aChar in charToIntMap) {
      return charToIntMap[aChar];
    }
    throw new TypeError("Not a valid base 64 digit: " + aChar);
  };

});

},{"amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/binary-search.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  /**
   * Recursive implementation of binary search.
   *
   * @param aLow Indices here and lower do not contain the needle.
   * @param aHigh Indices here and higher do not contain the needle.
   * @param aNeedle The element being searched for.
   * @param aHaystack The non-empty array being searched.
   * @param aCompare Function which takes two elements and returns -1, 0, or 1.
   */
  function recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare) {
    // This function terminates when one of the following is true:
    //
    //   1. We find the exact element we are looking for.
    //
    //   2. We did not find the exact element, but we can return the next
    //      closest element that is less than that element.
    //
    //   3. We did not find the exact element, and there is no next-closest
    //      element which is less than the one we are searching for, so we
    //      return null.
    var mid = Math.floor((aHigh - aLow) / 2) + aLow;
    var cmp = aCompare(aNeedle, aHaystack[mid], true);
    if (cmp === 0) {
      // Found the element we are looking for.
      return aHaystack[mid];
    }
    else if (cmp > 0) {
      // aHaystack[mid] is greater than our needle.
      if (aHigh - mid > 1) {
        // The element is in the upper half.
        return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare);
      }
      // We did not find an exact match, return the next closest one
      // (termination case 2).
      return aHaystack[mid];
    }
    else {
      // aHaystack[mid] is less than our needle.
      if (mid - aLow > 1) {
        // The element is in the lower half.
        return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare);
      }
      // The exact needle element was not found in this haystack. Determine if
      // we are in termination case (2) or (3) and return the appropriate thing.
      return aLow < 0
        ? null
        : aHaystack[aLow];
    }
  }

  /**
   * This is an implementation of binary search which will always try and return
   * the next lowest value checked if there is no exact hit. This is because
   * mappings between original and generated line/col pairs are single points,
   * and there is an implicit region between each of them, so a miss just means
   * that you aren't on the very start of a region.
   *
   * @param aNeedle The element you are looking for.
   * @param aHaystack The array that is being searched.
   * @param aCompare A function which takes the needle and an element in the
   *     array and returns -1, 0, or 1 depending on whether the needle is less
   *     than, equal to, or greater than the element, respectively.
   */
  exports.search = function search(aNeedle, aHaystack, aCompare) {
    return aHaystack.length > 0
      ? recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare)
      : null;
  };

});

},{"amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-map-consumer.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var util = require('./util');
  var binarySearch = require('./binary-search');
  var ArraySet = require('./array-set').ArraySet;
  var base64VLQ = require('./base64-vlq');

  /**
   * A SourceMapConsumer instance represents a parsed source map which we can
   * query for information about the original file positions by giving it a file
   * position in the generated source.
   *
   * The only parameter is the raw source map (either as a JSON string, or
   * already parsed to an object). According to the spec, source maps have the
   * following attributes:
   *
   *   - version: Which version of the source map spec this map is following.
   *   - sources: An array of URLs to the original source files.
   *   - names: An array of identifiers which can be referrenced by individual mappings.
   *   - sourceRoot: Optional. The URL root from which all sources are relative.
   *   - sourcesContent: Optional. An array of contents of the original source files.
   *   - mappings: A string of base64 VLQs which contain the actual mappings.
   *   - file: Optional. The generated file this source map is associated with.
   *
   * Here is an example source map, taken from the source map spec[0]:
   *
   *     {
   *       version : 3,
   *       file: "out.js",
   *       sourceRoot : "",
   *       sources: ["foo.js", "bar.js"],
   *       names: ["src", "maps", "are", "fun"],
   *       mappings: "AA,AB;;ABCDE;"
   *     }
   *
   * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#
   */
  function SourceMapConsumer(aSourceMap) {
    var sourceMap = aSourceMap;
    if (typeof aSourceMap === 'string') {
      sourceMap = JSON.parse(aSourceMap.replace(/^\)\]\}'/, ''));
    }

    var version = util.getArg(sourceMap, 'version');
    var sources = util.getArg(sourceMap, 'sources');
    // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which
    // requires the array) to play nice here.
    var names = util.getArg(sourceMap, 'names', []);
    var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);
    var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);
    var mappings = util.getArg(sourceMap, 'mappings');
    var file = util.getArg(sourceMap, 'file', null);

    // Once again, Sass deviates from the spec and supplies the version as a
    // string rather than a number, so we use loose equality checking here.
    if (version != this._version) {
      throw new Error('Unsupported version: ' + version);
    }

    // Pass `true` below to allow duplicate names and sources. While source maps
    // are intended to be compressed and deduplicated, the TypeScript compiler
    // sometimes generates source maps with duplicates in them. See Github issue
    // #72 and bugzil.la/889492.
    this._names = ArraySet.fromArray(names, true);
    this._sources = ArraySet.fromArray(sources, true);

    this.sourceRoot = sourceRoot;
    this.sourcesContent = sourcesContent;
    this._mappings = mappings;
    this.file = file;
  }

  /**
   * Create a SourceMapConsumer from a SourceMapGenerator.
   *
   * @param SourceMapGenerator aSourceMap
   *        The source map that will be consumed.
   * @returns SourceMapConsumer
   */
  SourceMapConsumer.fromSourceMap =
    function SourceMapConsumer_fromSourceMap(aSourceMap) {
      var smc = Object.create(SourceMapConsumer.prototype);

      smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);
      smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);
      smc.sourceRoot = aSourceMap._sourceRoot;
      smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),
                                                              smc.sourceRoot);
      smc.file = aSourceMap._file;

      smc.__generatedMappings = aSourceMap._mappings.slice()
        .sort(util.compareByGeneratedPositions);
      smc.__originalMappings = aSourceMap._mappings.slice()
        .sort(util.compareByOriginalPositions);

      return smc;
    };

  /**
   * The version of the source mapping spec that we are consuming.
   */
  SourceMapConsumer.prototype._version = 3;

  /**
   * The list of original sources.
   */
  Object.defineProperty(SourceMapConsumer.prototype, 'sources', {
    get: function () {
      return this._sources.toArray().map(function (s) {
        return this.sourceRoot ? util.join(this.sourceRoot, s) : s;
      }, this);
    }
  });

  // `__generatedMappings` and `__originalMappings` are arrays that hold the
  // parsed mapping coordinates from the source map's "mappings" attribute. They
  // are lazily instantiated, accessed via the `_generatedMappings` and
  // `_originalMappings` getters respectively, and we only parse the mappings
  // and create these arrays once queried for a source location. We jump through
  // these hoops because there can be many thousands of mappings, and parsing
  // them is expensive, so we only want to do it if we must.
  //
  // Each object in the arrays is of the form:
  //
  //     {
  //       generatedLine: The line number in the generated code,
  //       generatedColumn: The column number in the generated code,
  //       source: The path to the original source file that generated this
  //               chunk of code,
  //       originalLine: The line number in the original source that
  //                     corresponds to this chunk of generated code,
  //       originalColumn: The column number in the original source that
  //                       corresponds to this chunk of generated code,
  //       name: The name of the original symbol which generated this chunk of
  //             code.
  //     }
  //
  // All properties except for `generatedLine` and `generatedColumn` can be
  // `null`.
  //
  // `_generatedMappings` is ordered by the generated positions.
  //
  // `_originalMappings` is ordered by the original positions.

  SourceMapConsumer.prototype.__generatedMappings = null;
  Object.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {
    get: function () {
      if (!this.__generatedMappings) {
        this.__generatedMappings = [];
        this.__originalMappings = [];
        this._parseMappings(this._mappings, this.sourceRoot);
      }

      return this.__generatedMappings;
    }
  });

  SourceMapConsumer.prototype.__originalMappings = null;
  Object.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {
    get: function () {
      if (!this.__originalMappings) {
        this.__generatedMappings = [];
        this.__originalMappings = [];
        this._parseMappings(this._mappings, this.sourceRoot);
      }

      return this.__originalMappings;
    }
  });

  /**
   * Parse the mappings in a string in to a data structure which we can easily
   * query (the ordered arrays in the `this.__generatedMappings` and
   * `this.__originalMappings` properties).
   */
  SourceMapConsumer.prototype._parseMappings =
    function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
      var generatedLine = 1;
      var previousGeneratedColumn = 0;
      var previousOriginalLine = 0;
      var previousOriginalColumn = 0;
      var previousSource = 0;
      var previousName = 0;
      var mappingSeparator = /^[,;]/;
      var str = aStr;
      var mapping;
      var temp;

      while (str.length > 0) {
        if (str.charAt(0) === ';') {
          generatedLine++;
          str = str.slice(1);
          previousGeneratedColumn = 0;
        }
        else if (str.charAt(0) === ',') {
          str = str.slice(1);
        }
        else {
          mapping = {};
          mapping.generatedLine = generatedLine;

          // Generated column.
          temp = base64VLQ.decode(str);
          mapping.generatedColumn = previousGeneratedColumn + temp.value;
          previousGeneratedColumn = mapping.generatedColumn;
          str = temp.rest;

          if (str.length > 0 && !mappingSeparator.test(str.charAt(0))) {
            // Original source.
            temp = base64VLQ.decode(str);
            mapping.source = this._sources.at(previousSource + temp.value);
            previousSource += temp.value;
            str = temp.rest;
            if (str.length === 0 || mappingSeparator.test(str.charAt(0))) {
              throw new Error('Found a source, but no line and column');
            }

            // Original line.
            temp = base64VLQ.decode(str);
            mapping.originalLine = previousOriginalLine + temp.value;
            previousOriginalLine = mapping.originalLine;
            // Lines are stored 0-based
            mapping.originalLine += 1;
            str = temp.rest;
            if (str.length === 0 || mappingSeparator.test(str.charAt(0))) {
              throw new Error('Found a source and line, but no column');
            }

            // Original column.
            temp = base64VLQ.decode(str);
            mapping.originalColumn = previousOriginalColumn + temp.value;
            previousOriginalColumn = mapping.originalColumn;
            str = temp.rest;

            if (str.length > 0 && !mappingSeparator.test(str.charAt(0))) {
              // Original name.
              temp = base64VLQ.decode(str);
              mapping.name = this._names.at(previousName + temp.value);
              previousName += temp.value;
              str = temp.rest;
            }
          }

          this.__generatedMappings.push(mapping);
          if (typeof mapping.originalLine === 'number') {
            this.__originalMappings.push(mapping);
          }
        }
      }

      this.__generatedMappings.sort(util.compareByGeneratedPositions);
      this.__originalMappings.sort(util.compareByOriginalPositions);
    };

  /**
   * Find the mapping that best matches the hypothetical "needle" mapping that
   * we are searching for in the given "haystack" of mappings.
   */
  SourceMapConsumer.prototype._findMapping =
    function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,
                                           aColumnName, aComparator) {
      // To return the position we are searching for, we must first find the
      // mapping for the given position and then return the opposite position it
      // points to. Because the mappings are sorted, we can use binary search to
      // find the best mapping.

      if (aNeedle[aLineName] <= 0) {
        throw new TypeError('Line must be greater than or equal to 1, got '
                            + aNeedle[aLineName]);
      }
      if (aNeedle[aColumnName] < 0) {
        throw new TypeError('Column must be greater than or equal to 0, got '
                            + aNeedle[aColumnName]);
      }

      return binarySearch.search(aNeedle, aMappings, aComparator);
    };

  /**
   * Returns the original source, line, and column information for the generated
   * source's line and column positions provided. The only argument is an object
   * with the following properties:
   *
   *   - line: The line number in the generated source.
   *   - column: The column number in the generated source.
   *
   * and an object is returned with the following properties:
   *
   *   - source: The original source file, or null.
   *   - line: The line number in the original source, or null.
   *   - column: The column number in the original source, or null.
   *   - name: The original identifier, or null.
   */
  SourceMapConsumer.prototype.originalPositionFor =
    function SourceMapConsumer_originalPositionFor(aArgs) {
      var needle = {
        generatedLine: util.getArg(aArgs, 'line'),
        generatedColumn: util.getArg(aArgs, 'column')
      };

      var mapping = this._findMapping(needle,
                                      this._generatedMappings,
                                      "generatedLine",
                                      "generatedColumn",
                                      util.compareByGeneratedPositions);

      if (mapping && mapping.generatedLine === needle.generatedLine) {
        var source = util.getArg(mapping, 'source', null);
        if (source && this.sourceRoot) {
          source = util.join(this.sourceRoot, source);
        }
        return {
          source: source,
          line: util.getArg(mapping, 'originalLine', null),
          column: util.getArg(mapping, 'originalColumn', null),
          name: util.getArg(mapping, 'name', null)
        };
      }

      return {
        source: null,
        line: null,
        column: null,
        name: null
      };
    };

  /**
   * Returns the original source content. The only argument is the url of the
   * original source file. Returns null if no original source content is
   * availible.
   */
  SourceMapConsumer.prototype.sourceContentFor =
    function SourceMapConsumer_sourceContentFor(aSource) {
      if (!this.sourcesContent) {
        return null;
      }

      if (this.sourceRoot) {
        aSource = util.relative(this.sourceRoot, aSource);
      }

      if (this._sources.has(aSource)) {
        return this.sourcesContent[this._sources.indexOf(aSource)];
      }

      var url;
      if (this.sourceRoot
          && (url = util.urlParse(this.sourceRoot))) {
        // XXX: file:// URIs and absolute paths lead to unexpected behavior for
        // many users. We can help them out when they expect file:// URIs to
        // behave like it would if they were running a local HTTP server. See
        // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.
        var fileUriAbsPath = aSource.replace(/^file:\/\//, "");
        if (url.scheme == "file"
            && this._sources.has(fileUriAbsPath)) {
          return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]
        }

        if ((!url.path || url.path == "/")
            && this._sources.has("/" + aSource)) {
          return this.sourcesContent[this._sources.indexOf("/" + aSource)];
        }
      }

      throw new Error('"' + aSource + '" is not in the SourceMap.');
    };

  /**
   * Returns the generated line and column information for the original source,
   * line, and column positions provided. The only argument is an object with
   * the following properties:
   *
   *   - source: The filename of the original source.
   *   - line: The line number in the original source.
   *   - column: The column number in the original source.
   *
   * and an object is returned with the following properties:
   *
   *   - line: The line number in the generated source, or null.
   *   - column: The column number in the generated source, or null.
   */
  SourceMapConsumer.prototype.generatedPositionFor =
    function SourceMapConsumer_generatedPositionFor(aArgs) {
      var needle = {
        source: util.getArg(aArgs, 'source'),
        originalLine: util.getArg(aArgs, 'line'),
        originalColumn: util.getArg(aArgs, 'column')
      };

      if (this.sourceRoot) {
        needle.source = util.relative(this.sourceRoot, needle.source);
      }

      var mapping = this._findMapping(needle,
                                      this._originalMappings,
                                      "originalLine",
                                      "originalColumn",
                                      util.compareByOriginalPositions);

      if (mapping) {
        return {
          line: util.getArg(mapping, 'generatedLine', null),
          column: util.getArg(mapping, 'generatedColumn', null)
        };
      }

      return {
        line: null,
        column: null
      };
    };

  SourceMapConsumer.GENERATED_ORDER = 1;
  SourceMapConsumer.ORIGINAL_ORDER = 2;

  /**
   * Iterate over each mapping between an original source/line/column and a
   * generated line/column in this source map.
   *
   * @param Function aCallback
   *        The function that is called with each mapping.
   * @param Object aContext
   *        Optional. If specified, this object will be the value of `this` every
   *        time that `aCallback` is called.
   * @param aOrder
   *        Either `SourceMapConsumer.GENERATED_ORDER` or
   *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to
   *        iterate over the mappings sorted by the generated file's line/column
   *        order or the original's source/line/column order, respectively. Defaults to
   *        `SourceMapConsumer.GENERATED_ORDER`.
   */
  SourceMapConsumer.prototype.eachMapping =
    function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {
      var context = aContext || null;
      var order = aOrder || SourceMapConsumer.GENERATED_ORDER;

      var mappings;
      switch (order) {
      case SourceMapConsumer.GENERATED_ORDER:
        mappings = this._generatedMappings;
        break;
      case SourceMapConsumer.ORIGINAL_ORDER:
        mappings = this._originalMappings;
        break;
      default:
        throw new Error("Unknown order of iteration.");
      }

      var sourceRoot = this.sourceRoot;
      mappings.map(function (mapping) {
        var source = mapping.source;
        if (source && sourceRoot) {
          source = util.join(sourceRoot, source);
        }
        return {
          source: source,
          generatedLine: mapping.generatedLine,
          generatedColumn: mapping.generatedColumn,
          originalLine: mapping.originalLine,
          originalColumn: mapping.originalColumn,
          name: mapping.name
        };
      }).forEach(aCallback, context);
    };

  exports.SourceMapConsumer = SourceMapConsumer;

});

},{"./array-set":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/array-set.js","./base64-vlq":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/base64-vlq.js","./binary-search":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/binary-search.js","./util":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/util.js","amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-map-generator.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var base64VLQ = require('./base64-vlq');
  var util = require('./util');
  var ArraySet = require('./array-set').ArraySet;

  /**
   * An instance of the SourceMapGenerator represents a source map which is
   * being built incrementally. You may pass an object with the following
   * properties:
   *
   *   - file: The filename of the generated source.
   *   - sourceRoot: A root for all relative URLs in this source map.
   */
  function SourceMapGenerator(aArgs) {
    if (!aArgs) {
      aArgs = {};
    }
    this._file = util.getArg(aArgs, 'file', null);
    this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);
    this._sources = new ArraySet();
    this._names = new ArraySet();
    this._mappings = [];
    this._sourcesContents = null;
  }

  SourceMapGenerator.prototype._version = 3;

  /**
   * Creates a new SourceMapGenerator based on a SourceMapConsumer
   *
   * @param aSourceMapConsumer The SourceMap.
   */
  SourceMapGenerator.fromSourceMap =
    function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {
      var sourceRoot = aSourceMapConsumer.sourceRoot;
      var generator = new SourceMapGenerator({
        file: aSourceMapConsumer.file,
        sourceRoot: sourceRoot
      });
      aSourceMapConsumer.eachMapping(function (mapping) {
        var newMapping = {
          generated: {
            line: mapping.generatedLine,
            column: mapping.generatedColumn
          }
        };

        if (mapping.source) {
          newMapping.source = mapping.source;
          if (sourceRoot) {
            newMapping.source = util.relative(sourceRoot, newMapping.source);
          }

          newMapping.original = {
            line: mapping.originalLine,
            column: mapping.originalColumn
          };

          if (mapping.name) {
            newMapping.name = mapping.name;
          }
        }

        generator.addMapping(newMapping);
      });
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          generator.setSourceContent(sourceFile, content);
        }
      });
      return generator;
    };

  /**
   * Add a single mapping from original source line and column to the generated
   * source's line and column for this source map being created. The mapping
   * object should have the following properties:
   *
   *   - generated: An object with the generated line and column positions.
   *   - original: An object with the original line and column positions.
   *   - source: The original source file (relative to the sourceRoot).
   *   - name: An optional original token name for this mapping.
   */
  SourceMapGenerator.prototype.addMapping =
    function SourceMapGenerator_addMapping(aArgs) {
      var generated = util.getArg(aArgs, 'generated');
      var original = util.getArg(aArgs, 'original', null);
      var source = util.getArg(aArgs, 'source', null);
      var name = util.getArg(aArgs, 'name', null);

      this._validateMapping(generated, original, source, name);

      if (source && !this._sources.has(source)) {
        this._sources.add(source);
      }

      if (name && !this._names.has(name)) {
        this._names.add(name);
      }

      this._mappings.push({
        generatedLine: generated.line,
        generatedColumn: generated.column,
        originalLine: original != null && original.line,
        originalColumn: original != null && original.column,
        source: source,
        name: name
      });
    };

  /**
   * Set the source content for a source file.
   */
  SourceMapGenerator.prototype.setSourceContent =
    function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {
      var source = aSourceFile;
      if (this._sourceRoot) {
        source = util.relative(this._sourceRoot, source);
      }

      if (aSourceContent !== null) {
        // Add the source content to the _sourcesContents map.
        // Create a new _sourcesContents map if the property is null.
        if (!this._sourcesContents) {
          this._sourcesContents = {};
        }
        this._sourcesContents[util.toSetString(source)] = aSourceContent;
      } else {
        // Remove the source file from the _sourcesContents map.
        // If the _sourcesContents map is empty, set the property to null.
        delete this._sourcesContents[util.toSetString(source)];
        if (Object.keys(this._sourcesContents).length === 0) {
          this._sourcesContents = null;
        }
      }
    };

  /**
   * Applies the mappings of a sub-source-map for a specific source file to the
   * source map being generated. Each mapping to the supplied source file is
   * rewritten using the supplied source map. Note: The resolution for the
   * resulting mappings is the minimium of this map and the supplied map.
   *
   * @param aSourceMapConsumer The source map to be applied.
   * @param aSourceFile Optional. The filename of the source file.
   *        If omitted, SourceMapConsumer's file property will be used.
   * @param aSourceMapPath Optional. The dirname of the path to the source map
   *        to be applied. If relative, it is relative to the SourceMapConsumer.
   *        This parameter is needed when the two source maps aren't in the same
   *        directory, and the source map to be applied contains relative source
   *        paths. If so, those relative source paths need to be rewritten
   *        relative to the SourceMapGenerator.
   */
  SourceMapGenerator.prototype.applySourceMap =
    function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
      // If aSourceFile is omitted, we will use the file property of the SourceMap
      if (!aSourceFile) {
        if (!aSourceMapConsumer.file) {
          throw new Error(
            'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +
            'or the source map\'s "file" property. Both were omitted.'
          );
        }
        aSourceFile = aSourceMapConsumer.file;
      }
      var sourceRoot = this._sourceRoot;
      // Make "aSourceFile" relative if an absolute Url is passed.
      if (sourceRoot) {
        aSourceFile = util.relative(sourceRoot, aSourceFile);
      }
      // Applying the SourceMap can add and remove items from the sources and
      // the names array.
      var newSources = new ArraySet();
      var newNames = new ArraySet();

      // Find mappings for the "aSourceFile"
      this._mappings.forEach(function (mapping) {
        if (mapping.source === aSourceFile && mapping.originalLine) {
          // Check if it can be mapped by the source map, then update the mapping.
          var original = aSourceMapConsumer.originalPositionFor({
            line: mapping.originalLine,
            column: mapping.originalColumn
          });
          if (original.source !== null) {
            // Copy mapping
            mapping.source = original.source;
            if (aSourceMapPath) {
              mapping.source = util.join(aSourceMapPath, mapping.source)
            }
            if (sourceRoot) {
              mapping.source = util.relative(sourceRoot, mapping.source);
            }
            mapping.originalLine = original.line;
            mapping.originalColumn = original.column;
            if (original.name !== null && mapping.name !== null) {
              // Only use the identifier name if it's an identifier
              // in both SourceMaps
              mapping.name = original.name;
            }
          }
        }

        var source = mapping.source;
        if (source && !newSources.has(source)) {
          newSources.add(source);
        }

        var name = mapping.name;
        if (name && !newNames.has(name)) {
          newNames.add(name);
        }

      }, this);
      this._sources = newSources;
      this._names = newNames;

      // Copy sourcesContents of applied map.
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          if (aSourceMapPath) {
            sourceFile = util.join(aSourceMapPath, sourceFile);
          }
          if (sourceRoot) {
            sourceFile = util.relative(sourceRoot, sourceFile);
          }
          this.setSourceContent(sourceFile, content);
        }
      }, this);
    };

  /**
   * A mapping can have one of the three levels of data:
   *
   *   1. Just the generated position.
   *   2. The Generated position, original position, and original source.
   *   3. Generated and original position, original source, as well as a name
   *      token.
   *
   * To maintain consistency, we validate that any new mapping being added falls
   * in to one of these categories.
   */
  SourceMapGenerator.prototype._validateMapping =
    function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,
                                                aName) {
      if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
          && aGenerated.line > 0 && aGenerated.column >= 0
          && !aOriginal && !aSource && !aName) {
        // Case 1.
        return;
      }
      else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
               && aOriginal && 'line' in aOriginal && 'column' in aOriginal
               && aGenerated.line > 0 && aGenerated.column >= 0
               && aOriginal.line > 0 && aOriginal.column >= 0
               && aSource) {
        // Cases 2 and 3.
        return;
      }
      else {
        throw new Error('Invalid mapping: ' + JSON.stringify({
          generated: aGenerated,
          source: aSource,
          original: aOriginal,
          name: aName
        }));
      }
    };

  /**
   * Serialize the accumulated mappings in to the stream of base 64 VLQs
   * specified by the source map format.
   */
  SourceMapGenerator.prototype._serializeMappings =
    function SourceMapGenerator_serializeMappings() {
      var previousGeneratedColumn = 0;
      var previousGeneratedLine = 1;
      var previousOriginalColumn = 0;
      var previousOriginalLine = 0;
      var previousName = 0;
      var previousSource = 0;
      var result = '';
      var mapping;

      // The mappings must be guaranteed to be in sorted order before we start
      // serializing them or else the generated line numbers (which are defined
      // via the ';' separators) will be all messed up. Note: it might be more
      // performant to maintain the sorting as we insert them, rather than as we
      // serialize them, but the big O is the same either way.
      this._mappings.sort(util.compareByGeneratedPositions);

      for (var i = 0, len = this._mappings.length; i < len; i++) {
        mapping = this._mappings[i];

        if (mapping.generatedLine !== previousGeneratedLine) {
          previousGeneratedColumn = 0;
          while (mapping.generatedLine !== previousGeneratedLine) {
            result += ';';
            previousGeneratedLine++;
          }
        }
        else {
          if (i > 0) {
            if (!util.compareByGeneratedPositions(mapping, this._mappings[i - 1])) {
              continue;
            }
            result += ',';
          }
        }

        result += base64VLQ.encode(mapping.generatedColumn
                                   - previousGeneratedColumn);
        previousGeneratedColumn = mapping.generatedColumn;

        if (mapping.source) {
          result += base64VLQ.encode(this._sources.indexOf(mapping.source)
                                     - previousSource);
          previousSource = this._sources.indexOf(mapping.source);

          // lines are stored 0-based in SourceMap spec version 3
          result += base64VLQ.encode(mapping.originalLine - 1
                                     - previousOriginalLine);
          previousOriginalLine = mapping.originalLine - 1;

          result += base64VLQ.encode(mapping.originalColumn
                                     - previousOriginalColumn);
          previousOriginalColumn = mapping.originalColumn;

          if (mapping.name) {
            result += base64VLQ.encode(this._names.indexOf(mapping.name)
                                       - previousName);
            previousName = this._names.indexOf(mapping.name);
          }
        }
      }

      return result;
    };

  SourceMapGenerator.prototype._generateSourcesContent =
    function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {
      return aSources.map(function (source) {
        if (!this._sourcesContents) {
          return null;
        }
        if (aSourceRoot) {
          source = util.relative(aSourceRoot, source);
        }
        var key = util.toSetString(source);
        return Object.prototype.hasOwnProperty.call(this._sourcesContents,
                                                    key)
          ? this._sourcesContents[key]
          : null;
      }, this);
    };

  /**
   * Externalize the source map.
   */
  SourceMapGenerator.prototype.toJSON =
    function SourceMapGenerator_toJSON() {
      var map = {
        version: this._version,
        file: this._file,
        sources: this._sources.toArray(),
        names: this._names.toArray(),
        mappings: this._serializeMappings()
      };
      if (this._sourceRoot) {
        map.sourceRoot = this._sourceRoot;
      }
      if (this._sourcesContents) {
        map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
      }

      return map;
    };

  /**
   * Render the source map being generated to a string.
   */
  SourceMapGenerator.prototype.toString =
    function SourceMapGenerator_toString() {
      return JSON.stringify(this);
    };

  exports.SourceMapGenerator = SourceMapGenerator;

});

},{"./array-set":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/array-set.js","./base64-vlq":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/base64-vlq.js","./util":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/util.js","amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-node.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  var SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;
  var util = require('./util');

  // Matches a Windows-style `\r\n` newline or a `\n` newline used by all other
  // operating systems these days (capturing the result).
  var REGEX_NEWLINE = /(\r?\n)/g;

  // Matches a Windows-style newline, or any character.
  var REGEX_CHARACTER = /\r\n|[\s\S]/g;

  /**
   * SourceNodes provide a way to abstract over interpolating/concatenating
   * snippets of generated JavaScript source code while maintaining the line and
   * column information associated with the original source code.
   *
   * @param aLine The original line number.
   * @param aColumn The original column number.
   * @param aSource The original source's filename.
   * @param aChunks Optional. An array of strings which are snippets of
   *        generated JS, or other SourceNodes.
   * @param aName The original identifier.
   */
  function SourceNode(aLine, aColumn, aSource, aChunks, aName) {
    this.children = [];
    this.sourceContents = {};
    this.line = aLine === undefined ? null : aLine;
    this.column = aColumn === undefined ? null : aColumn;
    this.source = aSource === undefined ? null : aSource;
    this.name = aName === undefined ? null : aName;
    if (aChunks != null) this.add(aChunks);
  }

  /**
   * Creates a SourceNode from generated code and a SourceMapConsumer.
   *
   * @param aGeneratedCode The generated code
   * @param aSourceMapConsumer The SourceMap for the generated code
   */
  SourceNode.fromStringWithSourceMap =
    function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer) {
      // The SourceNode we want to fill with the generated code
      // and the SourceMap
      var node = new SourceNode();

      // All even indices of this array are one line of the generated code,
      // while all odd indices are the newlines between two adjacent lines
      // (since `REGEX_NEWLINE` captures its match).
      // Processed fragments are removed from this array, by calling `shiftNextLine`.
      var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
      var shiftNextLine = function() {
        var lineContents = remainingLines.shift();
        // The last line of a file might not have a newline.
        var newLine = remainingLines.shift() || "";
        return lineContents + newLine;
      };

      // We need to remember the position of "remainingLines"
      var lastGeneratedLine = 1, lastGeneratedColumn = 0;

      // The generate SourceNodes we need a code range.
      // To extract it current and last mapping is used.
      // Here we store the last mapping.
      var lastMapping = null;

      aSourceMapConsumer.eachMapping(function (mapping) {
        if (lastMapping !== null) {
          // We add the code from "lastMapping" to "mapping":
          // First check if there is a new line in between.
          if (lastGeneratedLine < mapping.generatedLine) {
            var code = "";
            // Associate first line with "lastMapping"
            addMappingWithCode(lastMapping, shiftNextLine());
            lastGeneratedLine++;
            lastGeneratedColumn = 0;
            // The remaining code is added without mapping
          } else {
            // There is no new line in between.
            // Associate the code between "lastGeneratedColumn" and
            // "mapping.generatedColumn" with "lastMapping"
            var nextLine = remainingLines[0];
            var code = nextLine.substr(0, mapping.generatedColumn -
                                          lastGeneratedColumn);
            remainingLines[0] = nextLine.substr(mapping.generatedColumn -
                                                lastGeneratedColumn);
            lastGeneratedColumn = mapping.generatedColumn;
            addMappingWithCode(lastMapping, code);
            // No more remaining code, continue
            lastMapping = mapping;
            return;
          }
        }
        // We add the generated code until the first mapping
        // to the SourceNode without any mapping.
        // Each line is added as separate string.
        while (lastGeneratedLine < mapping.generatedLine) {
          node.add(shiftNextLine());
          lastGeneratedLine++;
        }
        if (lastGeneratedColumn < mapping.generatedColumn) {
          var nextLine = remainingLines[0];
          node.add(nextLine.substr(0, mapping.generatedColumn));
          remainingLines[0] = nextLine.substr(mapping.generatedColumn);
          lastGeneratedColumn = mapping.generatedColumn;
        }
        lastMapping = mapping;
      }, this);
      // We have processed all mappings.
      if (remainingLines.length > 0) {
        if (lastMapping) {
          // Associate the remaining code in the current line with "lastMapping"
          addMappingWithCode(lastMapping, shiftNextLine());
        }
        // and add the remaining lines without any mapping
        node.add(remainingLines.join(""));
      }

      // Copy sourcesContent into SourceNode
      aSourceMapConsumer.sources.forEach(function (sourceFile) {
        var content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content) {
          node.setSourceContent(sourceFile, content);
        }
      });

      return node;

      function addMappingWithCode(mapping, code) {
        if (mapping === null || mapping.source === undefined) {
          node.add(code);
        } else {
          node.add(new SourceNode(mapping.originalLine,
                                  mapping.originalColumn,
                                  mapping.source,
                                  code,
                                  mapping.name));
        }
      }
    };

  /**
   * Add a chunk of generated JS to this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */
  SourceNode.prototype.add = function SourceNode_add(aChunk) {
    if (Array.isArray(aChunk)) {
      aChunk.forEach(function (chunk) {
        this.add(chunk);
      }, this);
    }
    else if (aChunk instanceof SourceNode || typeof aChunk === "string") {
      if (aChunk) {
        this.children.push(aChunk);
      }
    }
    else {
      throw new TypeError(
        "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
      );
    }
    return this;
  };

  /**
   * Add a chunk of generated JS to the beginning of this source node.
   *
   * @param aChunk A string snippet of generated JS code, another instance of
   *        SourceNode, or an array where each member is one of those things.
   */
  SourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {
    if (Array.isArray(aChunk)) {
      for (var i = aChunk.length-1; i >= 0; i--) {
        this.prepend(aChunk[i]);
      }
    }
    else if (aChunk instanceof SourceNode || typeof aChunk === "string") {
      this.children.unshift(aChunk);
    }
    else {
      throw new TypeError(
        "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
      );
    }
    return this;
  };

  /**
   * Walk over the tree of JS snippets in this node and its children. The
   * walking function is called once for each snippet of JS and is passed that
   * snippet and the its original associated source's line/column location.
   *
   * @param aFn The traversal function.
   */
  SourceNode.prototype.walk = function SourceNode_walk(aFn) {
    var chunk;
    for (var i = 0, len = this.children.length; i < len; i++) {
      chunk = this.children[i];
      if (chunk instanceof SourceNode) {
        chunk.walk(aFn);
      }
      else {
        if (chunk !== '') {
          aFn(chunk, { source: this.source,
                       line: this.line,
                       column: this.column,
                       name: this.name });
        }
      }
    }
  };

  /**
   * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between
   * each of `this.children`.
   *
   * @param aSep The separator.
   */
  SourceNode.prototype.join = function SourceNode_join(aSep) {
    var newChildren;
    var i;
    var len = this.children.length;
    if (len > 0) {
      newChildren = [];
      for (i = 0; i < len-1; i++) {
        newChildren.push(this.children[i]);
        newChildren.push(aSep);
      }
      newChildren.push(this.children[i]);
      this.children = newChildren;
    }
    return this;
  };

  /**
   * Call String.prototype.replace on the very right-most source snippet. Useful
   * for trimming whitespace from the end of a source node, etc.
   *
   * @param aPattern The pattern to replace.
   * @param aReplacement The thing to replace the pattern with.
   */
  SourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {
    var lastChild = this.children[this.children.length - 1];
    if (lastChild instanceof SourceNode) {
      lastChild.replaceRight(aPattern, aReplacement);
    }
    else if (typeof lastChild === 'string') {
      this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
    }
    else {
      this.children.push(''.replace(aPattern, aReplacement));
    }
    return this;
  };

  /**
   * Set the source content for a source file. This will be added to the SourceMapGenerator
   * in the sourcesContent field.
   *
   * @param aSourceFile The filename of the source file
   * @param aSourceContent The content of the source file
   */
  SourceNode.prototype.setSourceContent =
    function SourceNode_setSourceContent(aSourceFile, aSourceContent) {
      this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
    };

  /**
   * Walk over the tree of SourceNodes. The walking function is called for each
   * source file content and is passed the filename and source content.
   *
   * @param aFn The traversal function.
   */
  SourceNode.prototype.walkSourceContents =
    function SourceNode_walkSourceContents(aFn) {
      for (var i = 0, len = this.children.length; i < len; i++) {
        if (this.children[i] instanceof SourceNode) {
          this.children[i].walkSourceContents(aFn);
        }
      }

      var sources = Object.keys(this.sourceContents);
      for (var i = 0, len = sources.length; i < len; i++) {
        aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);
      }
    };

  /**
   * Return the string representation of this source node. Walks over the tree
   * and concatenates all the various snippets together to one string.
   */
  SourceNode.prototype.toString = function SourceNode_toString() {
    var str = "";
    this.walk(function (chunk) {
      str += chunk;
    });
    return str;
  };

  /**
   * Returns the string representation of this source node along with a source
   * map.
   */
  SourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {
    var generated = {
      code: "",
      line: 1,
      column: 0
    };
    var map = new SourceMapGenerator(aArgs);
    var sourceMappingActive = false;
    var lastOriginalSource = null;
    var lastOriginalLine = null;
    var lastOriginalColumn = null;
    var lastOriginalName = null;
    this.walk(function (chunk, original) {
      generated.code += chunk;
      if (original.source !== null
          && original.line !== null
          && original.column !== null) {
        if(lastOriginalSource !== original.source
           || lastOriginalLine !== original.line
           || lastOriginalColumn !== original.column
           || lastOriginalName !== original.name) {
          map.addMapping({
            source: original.source,
            original: {
              line: original.line,
              column: original.column
            },
            generated: {
              line: generated.line,
              column: generated.column
            },
            name: original.name
          });
        }
        lastOriginalSource = original.source;
        lastOriginalLine = original.line;
        lastOriginalColumn = original.column;
        lastOriginalName = original.name;
        sourceMappingActive = true;
      } else if (sourceMappingActive) {
        map.addMapping({
          generated: {
            line: generated.line,
            column: generated.column
          }
        });
        lastOriginalSource = null;
        sourceMappingActive = false;
      }
      chunk.match(REGEX_CHARACTER).forEach(function (ch, idx, array) {
        if (REGEX_NEWLINE.test(ch)) {
          generated.line++;
          generated.column = 0;
          // Mappings end at eol
          if (idx + 1 === array.length) {
            lastOriginalSource = null;
            sourceMappingActive = false;
          } else if (sourceMappingActive) {
            map.addMapping({
              source: original.source,
              original: {
                line: original.line,
                column: original.column
              },
              generated: {
                line: generated.line,
                column: generated.column
              },
              name: original.name
            });
          }
        } else {
          generated.column += ch.length;
        }
      });
    });
    this.walkSourceContents(function (sourceFile, sourceContent) {
      map.setSourceContent(sourceFile, sourceContent);
    });

    return { code: generated.code, map: map };
  };

  exports.SourceNode = SourceNode;

});

},{"./source-map-generator":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/source-map-generator.js","./util":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/util.js","amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map/util.js":[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function') {
    var define = require('amdefine')(module, require);
}
define(function (require, exports, module) {

  /**
   * This is a helper function for getting values from parameter/options
   * objects.
   *
   * @param args The object we are extracting values from
   * @param name The name of the property we are getting.
   * @param defaultValue An optional value to return if the property is missing
   * from the object. If this is not specified and the property is missing, an
   * error will be thrown.
   */
  function getArg(aArgs, aName, aDefaultValue) {
    if (aName in aArgs) {
      return aArgs[aName];
    } else if (arguments.length === 3) {
      return aDefaultValue;
    } else {
      throw new Error('"' + aName + '" is a required argument.');
    }
  }
  exports.getArg = getArg;

  var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;
  var dataUrlRegexp = /^data:.+\,.+$/;

  function urlParse(aUrl) {
    var match = aUrl.match(urlRegexp);
    if (!match) {
      return null;
    }
    return {
      scheme: match[1],
      auth: match[2],
      host: match[3],
      port: match[4],
      path: match[5]
    };
  }
  exports.urlParse = urlParse;

  function urlGenerate(aParsedUrl) {
    var url = '';
    if (aParsedUrl.scheme) {
      url += aParsedUrl.scheme + ':';
    }
    url += '//';
    if (aParsedUrl.auth) {
      url += aParsedUrl.auth + '@';
    }
    if (aParsedUrl.host) {
      url += aParsedUrl.host;
    }
    if (aParsedUrl.port) {
      url += ":" + aParsedUrl.port
    }
    if (aParsedUrl.path) {
      url += aParsedUrl.path;
    }
    return url;
  }
  exports.urlGenerate = urlGenerate;

  /**
   * Normalizes a path, or the path portion of a URL:
   *
   * - Replaces consequtive slashes with one slash.
   * - Removes unnecessary '.' parts.
   * - Removes unnecessary '<dir>/..' parts.
   *
   * Based on code in the Node.js 'path' core module.
   *
   * @param aPath The path or url to normalize.
   */
  function normalize(aPath) {
    var path = aPath;
    var url = urlParse(aPath);
    if (url) {
      if (!url.path) {
        return aPath;
      }
      path = url.path;
    }
    var isAbsolute = (path.charAt(0) === '/');

    var parts = path.split(/\/+/);
    for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {
      part = parts[i];
      if (part === '.') {
        parts.splice(i, 1);
      } else if (part === '..') {
        up++;
      } else if (up > 0) {
        if (part === '') {
          // The first part is blank if the path is absolute. Trying to go
          // above the root is a no-op. Therefore we can remove all '..' parts
          // directly after the root.
          parts.splice(i + 1, up);
          up = 0;
        } else {
          parts.splice(i, 2);
          up--;
        }
      }
    }
    path = parts.join('/');

    if (path === '') {
      path = isAbsolute ? '/' : '.';
    }

    if (url) {
      url.path = path;
      return urlGenerate(url);
    }
    return path;
  }
  exports.normalize = normalize;

  /**
   * Joins two paths/URLs.
   *
   * @param aRoot The root path or URL.
   * @param aPath The path or URL to be joined with the root.
   *
   * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a
   *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended
   *   first.
   * - Otherwise aPath is a path. If aRoot is a URL, then its path portion
   *   is updated with the result and aRoot is returned. Otherwise the result
   *   is returned.
   *   - If aPath is absolute, the result is aPath.
   *   - Otherwise the two paths are joined with a slash.
   * - Joining for example 'http://' and 'www.example.com' is also supported.
   */
  function join(aRoot, aPath) {
    var aPathUrl = urlParse(aPath);
    var aRootUrl = urlParse(aRoot);
    if (aRootUrl) {
      aRoot = aRootUrl.path || '/';
    }

    // `join(foo, '//www.example.org')`
    if (aPathUrl && !aPathUrl.scheme) {
      if (aRootUrl) {
        aPathUrl.scheme = aRootUrl.scheme;
      }
      return urlGenerate(aPathUrl);
    }

    if (aPathUrl || aPath.match(dataUrlRegexp)) {
      return aPath;
    }

    // `join('http://', 'www.example.com')`
    if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
      aRootUrl.host = aPath;
      return urlGenerate(aRootUrl);
    }

    var joined = aPath.charAt(0) === '/'
      ? aPath
      : normalize(aRoot.replace(/\/+$/, '') + '/' + aPath);

    if (aRootUrl) {
      aRootUrl.path = joined;
      return urlGenerate(aRootUrl);
    }
    return joined;
  }
  exports.join = join;

  /**
   * Because behavior goes wacky when you set `__proto__` on objects, we
   * have to prefix all the strings in our set with an arbitrary character.
   *
   * See https://github.com/mozilla/source-map/pull/31 and
   * https://github.com/mozilla/source-map/issues/30
   *
   * @param String aStr
   */
  function toSetString(aStr) {
    return '$' + aStr;
  }
  exports.toSetString = toSetString;

  function fromSetString(aStr) {
    return aStr.substr(1);
  }
  exports.fromSetString = fromSetString;

  function relative(aRoot, aPath) {
    aRoot = aRoot.replace(/\/$/, '');

    var url = urlParse(aRoot);
    if (aPath.charAt(0) == "/" && url && url.path == "/") {
      return aPath.slice(1);
    }

    return aPath.indexOf(aRoot + '/') === 0
      ? aPath.substr(aRoot.length + 1)
      : aPath;
  }
  exports.relative = relative;

  function strcmp(aStr1, aStr2) {
    var s1 = aStr1 || "";
    var s2 = aStr2 || "";
    return (s1 > s2) - (s1 < s2);
  }

  /**
   * Comparator between two mappings where the original positions are compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same original source/line/column, but different generated
   * line and column the same. Useful when searching for a mapping with a
   * stubbed out mapping.
   */
  function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {
    var cmp;

    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp || onlyCompareOriginal) {
      return cmp;
    }

    cmp = strcmp(mappingA.name, mappingB.name);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp) {
      return cmp;
    }

    return mappingA.generatedColumn - mappingB.generatedColumn;
  };
  exports.compareByOriginalPositions = compareByOriginalPositions;

  /**
   * Comparator between two mappings where the generated positions are
   * compared.
   *
   * Optionally pass in `true` as `onlyCompareGenerated` to consider two
   * mappings with the same generated line and column, but different
   * source/name/original line and column the same. Useful when searching for a
   * mapping with a stubbed out mapping.
   */
  function compareByGeneratedPositions(mappingA, mappingB, onlyCompareGenerated) {
    var cmp;

    cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    if (cmp || onlyCompareGenerated) {
      return cmp;
    }

    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp) {
      return cmp;
    }

    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp) {
      return cmp;
    }

    return strcmp(mappingA.name, mappingB.name);
  };
  exports.compareByGeneratedPositions = compareByGeneratedPositions;

});

},{"amdefine":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js":[function(require,module,exports){
(function (process,__filename){
/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 0.1.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */

/*jslint node: true */
/*global module, process */
'use strict';

/**
 * Creates a define for node.
 * @param {Object} module the "module" object that is defined by Node for the
 * current module.
 * @param {Function} [requireFn]. Node's require function for the current module.
 * It only needs to be passed in Node versions before 0.5, when module.require
 * did not exist.
 * @returns {Function} a define function that is usable for the current node
 * module.
 */
function amdefine(module, requireFn) {
    'use strict';
    var defineCache = {},
        loaderCache = {},
        alreadyCalled = false,
        path = require('path'),
        makeRequire, stringRequire;

    /**
     * Trims the . and .. from an array of path segments.
     * It will keep a leading path segment if a .. will become
     * the first path segment, to help with module name lookups,
     * which act like paths, but can be remapped. But the end result,
     * all paths that use this function should look normalized.
     * NOTE: this method MODIFIES the input array.
     * @param {Array} ary the array of path segments.
     */
    function trimDots(ary) {
        var i, part;
        for (i = 0; ary[i]; i+= 1) {
            part = ary[i];
            if (part === '.') {
                ary.splice(i, 1);
                i -= 1;
            } else if (part === '..') {
                if (i === 1 && (ary[2] === '..' || ary[0] === '..')) {
                    //End of the line. Keep at least one non-dot
                    //path segment at the front so it can be mapped
                    //correctly to disk. Otherwise, there is likely
                    //no path mapping for a path starting with '..'.
                    //This can still fail, but catches the most reasonable
                    //uses of ..
                    break;
                } else if (i > 0) {
                    ary.splice(i - 1, 2);
                    i -= 2;
                }
            }
        }
    }

    function normalize(name, baseName) {
        var baseParts;

        //Adjust any relative paths.
        if (name && name.charAt(0) === '.') {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                baseParts = baseName.split('/');
                baseParts = baseParts.slice(0, baseParts.length - 1);
                baseParts = baseParts.concat(name.split('/'));
                trimDots(baseParts);
                name = baseParts.join('/');
            }
        }

        return name;
    }

    /**
     * Create the normalize() function passed to a loader plugin's
     * normalize method.
     */
    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(id) {
        function load(value) {
            loaderCache[id] = value;
        }

        load.fromText = function (id, text) {
            //This one is difficult because the text can/probably uses
            //define, and any relative paths and requires should be relative
            //to that id was it would be found on disk. But this would require
            //bootstrapping a module/require fairly deeply from node core.
            //Not sure how best to go about that yet.
            throw new Error('amdefine does not implement load.fromText');
        };

        return load;
    }

    makeRequire = function (systemRequire, exports, module, relId) {
        function amdRequire(deps, callback) {
            if (typeof deps === 'string') {
                //Synchronous, single module require('')
                return stringRequire(systemRequire, exports, module, deps, relId);
            } else {
                //Array of dependencies with a callback.

                //Convert the dependencies to modules.
                deps = deps.map(function (depName) {
                    return stringRequire(systemRequire, exports, module, depName, relId);
                });

                //Wait for next tick to call back the require call.
                process.nextTick(function () {
                    callback.apply(null, deps);
                });
            }
        }

        amdRequire.toUrl = function (filePath) {
            if (filePath.indexOf('.') === 0) {
                return normalize(filePath, path.dirname(module.filename));
            } else {
                return filePath;
            }
        };

        return amdRequire;
    };

    //Favor explicit value, passed in if the module wants to support Node 0.4.
    requireFn = requireFn || function req() {
        return module.require.apply(module, arguments);
    };

    function runFactory(id, deps, factory) {
        var r, e, m, result;

        if (id) {
            e = loaderCache[id] = {};
            m = {
                id: id,
                uri: __filename,
                exports: e
            };
            r = makeRequire(requireFn, e, m, id);
        } else {
            //Only support one define call per file
            if (alreadyCalled) {
                throw new Error('amdefine with no module ID cannot be called more than once per file.');
            }
            alreadyCalled = true;

            //Use the real variables from node
            //Use module.exports for exports, since
            //the exports in here is amdefine exports.
            e = module.exports;
            m = module;
            r = makeRequire(requireFn, e, m, module.id);
        }

        //If there are dependencies, they are strings, so need
        //to convert them to dependency values.
        if (deps) {
            deps = deps.map(function (depName) {
                return r(depName);
            });
        }

        //Call the factory with the right dependencies.
        if (typeof factory === 'function') {
            result = factory.apply(m.exports, deps);
        } else {
            result = factory;
        }

        if (result !== undefined) {
            m.exports = result;
            if (id) {
                loaderCache[id] = m.exports;
            }
        }
    }

    stringRequire = function (systemRequire, exports, module, id, relId) {
        //Split the ID by a ! so that
        var index = id.indexOf('!'),
            originalId = id,
            prefix, plugin;

        if (index === -1) {
            id = normalize(id, relId);

            //Straight module lookup. If it is one of the special dependencies,
            //deal with it, otherwise, delegate to node.
            if (id === 'require') {
                return makeRequire(systemRequire, exports, module, relId);
            } else if (id === 'exports') {
                return exports;
            } else if (id === 'module') {
                return module;
            } else if (loaderCache.hasOwnProperty(id)) {
                return loaderCache[id];
            } else if (defineCache[id]) {
                runFactory.apply(null, defineCache[id]);
                return loaderCache[id];
            } else {
                if(systemRequire) {
                    return systemRequire(originalId);
                } else {
                    throw new Error('No module with ID: ' + id);
                }
            }
        } else {
            //There is a plugin in play.
            prefix = id.substring(0, index);
            id = id.substring(index + 1, id.length);

            plugin = stringRequire(systemRequire, exports, module, prefix, relId);

            if (plugin.normalize) {
                id = plugin.normalize(id, makeNormalize(relId));
            } else {
                //Normalize the ID normally.
                id = normalize(id, relId);
            }

            if (loaderCache[id]) {
                return loaderCache[id];
            } else {
                plugin.load(id, makeRequire(systemRequire, exports, module, relId), makeLoad(id), {});

                return loaderCache[id];
            }
        }
    };

    //Create a define function specific to the module asking for amdefine.
    function define(id, deps, factory) {
        if (Array.isArray(id)) {
            factory = deps;
            deps = id;
            id = undefined;
        } else if (typeof id !== 'string') {
            factory = id;
            id = deps = undefined;
        }

        if (deps && !Array.isArray(deps)) {
            factory = deps;
            deps = undefined;
        }

        if (!deps) {
            deps = ['require', 'exports', 'module'];
        }

        //Set up properties for this module. If an ID, then use
        //internal cache. If no ID, then use the external variables
        //for this node module.
        if (id) {
            //Put the module in deep freeze until there is a
            //require call for it.
            defineCache[id] = [id, deps, factory];
        } else {
            runFactory(id, deps, factory);
        }
    }

    //define.require, which has access to all the values in the
    //cache. Useful for AMD modules that all have IDs in the file,
    //but need to finally export a value to node based on one of those
    //IDs.
    define.require = function (id) {
        if (loaderCache[id]) {
            return loaderCache[id];
        }

        if (defineCache[id]) {
            runFactory.apply(null, defineCache[id]);
            return loaderCache[id];
        }
    };

    define.amd = {};

    return define;
}

module.exports = amdefine;

}).call(this,require('_process'),"/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js")
},{"_process":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/process/browser.js","path":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/path-browserify/index.js"}],"/home/azazdeaz/repos/animachine/node_modules/uglify-js/tools/node.js":[function(require,module,exports){
var sys = require("util");
var MOZ_SourceMap = require("source-map");
var UglifyJS = exports;
/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function array_to_hash(a) {
    var ret = Object.create(null);
    for (var i = 0; i < a.length; ++i)
        ret[a[i]] = true;
    return ret;
};

function slice(a, start) {
    return Array.prototype.slice.call(a, start || 0);
};

function characters(str) {
    return str.split("");
};

function member(name, array) {
    for (var i = array.length; --i >= 0;)
        if (array[i] == name)
            return true;
    return false;
};

function find_if(func, array) {
    for (var i = 0, n = array.length; i < n; ++i) {
        if (func(array[i]))
            return array[i];
    }
};

function repeat_string(str, i) {
    if (i <= 0) return "";
    if (i == 1) return str;
    var d = repeat_string(str, i >> 1);
    d += d;
    if (i & 1) d += str;
    return d;
};

function DefaultsError(msg, defs) {
    Error.call(this, msg);
    this.msg = msg;
    this.defs = defs;
};
DefaultsError.prototype = Object.create(Error.prototype);
DefaultsError.prototype.constructor = DefaultsError;

DefaultsError.croak = function(msg, defs) {
    throw new DefaultsError(msg, defs);
};

function defaults(args, defs, croak) {
    if (args === true)
        args = {};
    var ret = args || {};
    if (croak) for (var i in ret) if (ret.hasOwnProperty(i) && !defs.hasOwnProperty(i))
        DefaultsError.croak("`" + i + "` is not a supported option", defs);
    for (var i in defs) if (defs.hasOwnProperty(i)) {
        ret[i] = (args && args.hasOwnProperty(i)) ? args[i] : defs[i];
    }
    return ret;
};

function merge(obj, ext) {
    for (var i in ext) if (ext.hasOwnProperty(i)) {
        obj[i] = ext[i];
    }
    return obj;
};

function noop() {};

var MAP = (function(){
    function MAP(a, f, backwards) {
        var ret = [], top = [], i;
        function doit() {
            var val = f(a[i], i);
            var is_last = val instanceof Last;
            if (is_last) val = val.v;
            if (val instanceof AtTop) {
                val = val.v;
                if (val instanceof Splice) {
                    top.push.apply(top, backwards ? val.v.slice().reverse() : val.v);
                } else {
                    top.push(val);
                }
            }
            else if (val !== skip) {
                if (val instanceof Splice) {
                    ret.push.apply(ret, backwards ? val.v.slice().reverse() : val.v);
                } else {
                    ret.push(val);
                }
            }
            return is_last;
        };
        if (a instanceof Array) {
            if (backwards) {
                for (i = a.length; --i >= 0;) if (doit()) break;
                ret.reverse();
                top.reverse();
            } else {
                for (i = 0; i < a.length; ++i) if (doit()) break;
            }
        }
        else {
            for (i in a) if (a.hasOwnProperty(i)) if (doit()) break;
        }
        return top.concat(ret);
    };
    MAP.at_top = function(val) { return new AtTop(val) };
    MAP.splice = function(val) { return new Splice(val) };
    MAP.last = function(val) { return new Last(val) };
    var skip = MAP.skip = {};
    function AtTop(val) { this.v = val };
    function Splice(val) { this.v = val };
    function Last(val) { this.v = val };
    return MAP;
})();

function push_uniq(array, el) {
    if (array.indexOf(el) < 0)
        array.push(el);
};

function string_template(text, props) {
    return text.replace(/\{(.+?)\}/g, function(str, p){
        return props[p];
    });
};

function remove(array, el) {
    for (var i = array.length; --i >= 0;) {
        if (array[i] === el) array.splice(i, 1);
    }
};

function mergeSort(array, cmp) {
    if (array.length < 2) return array.slice();
    function merge(a, b) {
        var r = [], ai = 0, bi = 0, i = 0;
        while (ai < a.length && bi < b.length) {
            cmp(a[ai], b[bi]) <= 0
                ? r[i++] = a[ai++]
                : r[i++] = b[bi++];
        }
        if (ai < a.length) r.push.apply(r, a.slice(ai));
        if (bi < b.length) r.push.apply(r, b.slice(bi));
        return r;
    };
    function _ms(a) {
        if (a.length <= 1)
            return a;
        var m = Math.floor(a.length / 2), left = a.slice(0, m), right = a.slice(m);
        left = _ms(left);
        right = _ms(right);
        return merge(left, right);
    };
    return _ms(array);
};

function set_difference(a, b) {
    return a.filter(function(el){
        return b.indexOf(el) < 0;
    });
};

function set_intersection(a, b) {
    return a.filter(function(el){
        return b.indexOf(el) >= 0;
    });
};

// this function is taken from Acorn [1], written by Marijn Haverbeke
// [1] https://github.com/marijnh/acorn
function makePredicate(words) {
    if (!(words instanceof Array)) words = words.split(" ");
    var f = "", cats = [];
    out: for (var i = 0; i < words.length; ++i) {
        for (var j = 0; j < cats.length; ++j)
            if (cats[j][0].length == words[i].length) {
                cats[j].push(words[i]);
                continue out;
            }
        cats.push([words[i]]);
    }
    function compareTo(arr) {
        if (arr.length == 1) return f += "return str === " + JSON.stringify(arr[0]) + ";";
        f += "switch(str){";
        for (var i = 0; i < arr.length; ++i) f += "case " + JSON.stringify(arr[i]) + ":";
        f += "return true}return false;";
    }
    // When there are more than three length categories, an outer
    // switch first dispatches on the lengths, to save on comparisons.
    if (cats.length > 3) {
        cats.sort(function(a, b) {return b.length - a.length;});
        f += "switch(str.length){";
        for (var i = 0; i < cats.length; ++i) {
            var cat = cats[i];
            f += "case " + cat[0].length + ":";
            compareTo(cat);
        }
        f += "}";
        // Otherwise, simply generate a flat `switch` statement.
    } else {
        compareTo(words);
    }
    return new Function("str", f);
};

function all(array, predicate) {
    for (var i = array.length; --i >= 0;)
        if (!predicate(array[i]))
            return false;
    return true;
};

function Dictionary() {
    this._values = Object.create(null);
    this._size = 0;
};
Dictionary.prototype = {
    set: function(key, val) {
        if (!this.has(key)) ++this._size;
        this._values["$" + key] = val;
        return this;
    },
    add: function(key, val) {
        if (this.has(key)) {
            this.get(key).push(val);
        } else {
            this.set(key, [ val ]);
        }
        return this;
    },
    get: function(key) { return this._values["$" + key] },
    del: function(key) {
        if (this.has(key)) {
            --this._size;
            delete this._values["$" + key];
        }
        return this;
    },
    has: function(key) { return ("$" + key) in this._values },
    each: function(f) {
        for (var i in this._values)
            f(this._values[i], i.substr(1));
    },
    size: function() {
        return this._size;
    },
    map: function(f) {
        var ret = [];
        for (var i in this._values)
            ret.push(f(this._values[i], i.substr(1)));
        return ret;
    }
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function DEFNODE(type, props, methods, base) {
    if (arguments.length < 4) base = AST_Node;
    if (!props) props = [];
    else props = props.split(/\s+/);
    var self_props = props;
    if (base && base.PROPS)
        props = props.concat(base.PROPS);
    var code = "return function AST_" + type + "(props){ if (props) { ";
    for (var i = props.length; --i >= 0;) {
        code += "this." + props[i] + " = props." + props[i] + ";";
    }
    var proto = base && new base;
    if (proto && proto.initialize || (methods && methods.initialize))
        code += "this.initialize();";
    code += "}}";
    var ctor = new Function(code)();
    if (proto) {
        ctor.prototype = proto;
        ctor.BASE = base;
    }
    if (base) base.SUBCLASSES.push(ctor);
    ctor.prototype.CTOR = ctor;
    ctor.PROPS = props || null;
    ctor.SELF_PROPS = self_props;
    ctor.SUBCLASSES = [];
    if (type) {
        ctor.prototype.TYPE = ctor.TYPE = type;
    }
    if (methods) for (i in methods) if (methods.hasOwnProperty(i)) {
        if (/^\$/.test(i)) {
            ctor[i.substr(1)] = methods[i];
        } else {
            ctor.prototype[i] = methods[i];
        }
    }
    ctor.DEFMETHOD = function(name, method) {
        this.prototype[name] = method;
    };
    return ctor;
};

var AST_Token = DEFNODE("Token", "type value line col pos endpos nlb comments_before file", {
}, null);

var AST_Node = DEFNODE("Node", "start end", {
    clone: function() {
        return new this.CTOR(this);
    },
    $documentation: "Base class of all AST nodes",
    $propdoc: {
        start: "[AST_Token] The first token of this node",
        end: "[AST_Token] The last token of this node"
    },
    _walk: function(visitor) {
        return visitor._visit(this);
    },
    walk: function(visitor) {
        return this._walk(visitor); // not sure the indirection will be any help
    }
}, null);

AST_Node.warn_function = null;
AST_Node.warn = function(txt, props) {
    if (AST_Node.warn_function)
        AST_Node.warn_function(string_template(txt, props));
};

/* -----[ statements ]----- */

var AST_Statement = DEFNODE("Statement", null, {
    $documentation: "Base class of all statements",
});

var AST_Debugger = DEFNODE("Debugger", null, {
    $documentation: "Represents a debugger statement",
}, AST_Statement);

var AST_Directive = DEFNODE("Directive", "value scope", {
    $documentation: "Represents a directive, like \"use strict\";",
    $propdoc: {
        value: "[string] The value of this directive as a plain string (it's not an AST_String!)",
        scope: "[AST_Scope/S] The scope that this directive affects"
    },
}, AST_Statement);

var AST_SimpleStatement = DEFNODE("SimpleStatement", "body", {
    $documentation: "A statement consisting of an expression, i.e. a = 1 + 2",
    $propdoc: {
        body: "[AST_Node] an expression node (should not be instanceof AST_Statement)"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.body._walk(visitor);
        });
    }
}, AST_Statement);

function walk_body(node, visitor) {
    if (node.body instanceof AST_Statement) {
        node.body._walk(visitor);
    }
    else node.body.forEach(function(stat){
        stat._walk(visitor);
    });
};

var AST_Block = DEFNODE("Block", "body", {
    $documentation: "A body of statements (usually bracketed)",
    $propdoc: {
        body: "[AST_Statement*] an array of statements"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            walk_body(this, visitor);
        });
    }
}, AST_Statement);

var AST_BlockStatement = DEFNODE("BlockStatement", null, {
    $documentation: "A block statement",
}, AST_Block);

var AST_EmptyStatement = DEFNODE("EmptyStatement", null, {
    $documentation: "The empty statement (empty block or simply a semicolon)",
    _walk: function(visitor) {
        return visitor._visit(this);
    }
}, AST_Statement);

var AST_StatementWithBody = DEFNODE("StatementWithBody", "body", {
    $documentation: "Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",
    $propdoc: {
        body: "[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.body._walk(visitor);
        });
    }
}, AST_Statement);

var AST_LabeledStatement = DEFNODE("LabeledStatement", "label", {
    $documentation: "Statement with a label",
    $propdoc: {
        label: "[AST_Label] a label definition"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.label._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_StatementWithBody);

var AST_IterationStatement = DEFNODE("IterationStatement", null, {
    $documentation: "Internal class.  All loops inherit from it."
}, AST_StatementWithBody);

var AST_DWLoop = DEFNODE("DWLoop", "condition", {
    $documentation: "Base class for do/while statements",
    $propdoc: {
        condition: "[AST_Node] the loop condition.  Should not be instanceof AST_Statement"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_Do = DEFNODE("Do", null, {
    $documentation: "A `do` statement",
}, AST_DWLoop);

var AST_While = DEFNODE("While", null, {
    $documentation: "A `while` statement",
}, AST_DWLoop);

var AST_For = DEFNODE("For", "init condition step", {
    $documentation: "A `for` statement",
    $propdoc: {
        init: "[AST_Node?] the `for` initialization code, or null if empty",
        condition: "[AST_Node?] the `for` termination clause, or null if empty",
        step: "[AST_Node?] the `for` update clause, or null if empty"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            if (this.init) this.init._walk(visitor);
            if (this.condition) this.condition._walk(visitor);
            if (this.step) this.step._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_ForIn = DEFNODE("ForIn", "init name object", {
    $documentation: "A `for ... in` statement",
    $propdoc: {
        init: "[AST_Node] the `for/in` initialization code",
        name: "[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",
        object: "[AST_Node] the object that we're looping through"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.init._walk(visitor);
            this.object._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_IterationStatement);

var AST_With = DEFNODE("With", "expression", {
    $documentation: "A `with` statement",
    $propdoc: {
        expression: "[AST_Node] the `with` expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.body._walk(visitor);
        });
    }
}, AST_StatementWithBody);

/* -----[ scope and functions ]----- */

var AST_Scope = DEFNODE("Scope", "directives variables functions uses_with uses_eval parent_scope enclosed cname", {
    $documentation: "Base class for all statements introducing a lexical scope",
    $propdoc: {
        directives: "[string*/S] an array of directives declared in this scope",
        variables: "[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",
        functions: "[Object/S] like `variables`, but only lists function declarations",
        uses_with: "[boolean/S] tells whether this scope uses the `with` statement",
        uses_eval: "[boolean/S] tells whether this scope contains a direct call to the global `eval`",
        parent_scope: "[AST_Scope?/S] link to the parent scope",
        enclosed: "[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",
        cname: "[integer/S] current index for mangling variables (used internally by the mangler)",
    },
}, AST_Block);

var AST_Toplevel = DEFNODE("Toplevel", "globals", {
    $documentation: "The toplevel scope",
    $propdoc: {
        globals: "[Object/S] a map of name -> SymbolDef for all undeclared names",
    },
    wrap_enclose: function(arg_parameter_pairs) {
        var self = this;
        var args = [];
        var parameters = [];

        arg_parameter_pairs.forEach(function(pair) {
            var splitAt = pair.lastIndexOf(":");

            args.push(pair.substr(0, splitAt));
            parameters.push(pair.substr(splitAt + 1));
        });

        var wrapped_tl = "(function(" + parameters.join(",") + "){ '$ORIG'; })(" + args.join(",") + ")";
        wrapped_tl = parse(wrapped_tl);
        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node){
            if (node instanceof AST_Directive && node.value == "$ORIG") {
                return MAP.splice(self.body);
            }
        }));
        return wrapped_tl;
    },
    wrap_commonjs: function(name, export_all) {
        var self = this;
        var to_export = [];
        if (export_all) {
            self.figure_out_scope();
            self.walk(new TreeWalker(function(node){
                if (node instanceof AST_SymbolDeclaration && node.definition().global) {
                    if (!find_if(function(n){ return n.name == node.name }, to_export))
                        to_export.push(node);
                }
            }));
        }
        var wrapped_tl = "(function(exports, global){ global['" + name + "'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";
        wrapped_tl = parse(wrapped_tl);
        wrapped_tl = wrapped_tl.transform(new TreeTransformer(function before(node){
            if (node instanceof AST_SimpleStatement) {
                node = node.body;
                if (node instanceof AST_String) switch (node.getValue()) {
                  case "$ORIG":
                    return MAP.splice(self.body);
                  case "$EXPORTS":
                    var body = [];
                    to_export.forEach(function(sym){
                        body.push(new AST_SimpleStatement({
                            body: new AST_Assign({
                                left: new AST_Sub({
                                    expression: new AST_SymbolRef({ name: "exports" }),
                                    property: new AST_String({ value: sym.name }),
                                }),
                                operator: "=",
                                right: new AST_SymbolRef(sym),
                            }),
                        }));
                    });
                    return MAP.splice(body);
                }
            }
        }));
        return wrapped_tl;
    }
}, AST_Scope);

var AST_Lambda = DEFNODE("Lambda", "name argnames uses_arguments", {
    $documentation: "Base class for functions",
    $propdoc: {
        name: "[AST_SymbolDeclaration?] the name of this function",
        argnames: "[AST_SymbolFunarg*] array of function arguments",
        uses_arguments: "[boolean/S] tells whether this function accesses the arguments array"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            if (this.name) this.name._walk(visitor);
            this.argnames.forEach(function(arg){
                arg._walk(visitor);
            });
            walk_body(this, visitor);
        });
    }
}, AST_Scope);

var AST_Accessor = DEFNODE("Accessor", null, {
    $documentation: "A setter/getter function.  The `name` property is always null."
}, AST_Lambda);

var AST_Function = DEFNODE("Function", null, {
    $documentation: "A function expression"
}, AST_Lambda);

var AST_Defun = DEFNODE("Defun", null, {
    $documentation: "A function definition"
}, AST_Lambda);

/* -----[ JUMPS ]----- */

var AST_Jump = DEFNODE("Jump", null, {
    $documentation: "Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"
}, AST_Statement);

var AST_Exit = DEFNODE("Exit", "value", {
    $documentation: "Base class for “exits” (`return` and `throw`)",
    $propdoc: {
        value: "[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"
    },
    _walk: function(visitor) {
        return visitor._visit(this, this.value && function(){
            this.value._walk(visitor);
        });
    }
}, AST_Jump);

var AST_Return = DEFNODE("Return", null, {
    $documentation: "A `return` statement"
}, AST_Exit);

var AST_Throw = DEFNODE("Throw", null, {
    $documentation: "A `throw` statement"
}, AST_Exit);

var AST_LoopControl = DEFNODE("LoopControl", "label", {
    $documentation: "Base class for loop control statements (`break` and `continue`)",
    $propdoc: {
        label: "[AST_LabelRef?] the label, or null if none",
    },
    _walk: function(visitor) {
        return visitor._visit(this, this.label && function(){
            this.label._walk(visitor);
        });
    }
}, AST_Jump);

var AST_Break = DEFNODE("Break", null, {
    $documentation: "A `break` statement"
}, AST_LoopControl);

var AST_Continue = DEFNODE("Continue", null, {
    $documentation: "A `continue` statement"
}, AST_LoopControl);

/* -----[ IF ]----- */

var AST_If = DEFNODE("If", "condition alternative", {
    $documentation: "A `if` statement",
    $propdoc: {
        condition: "[AST_Node] the `if` condition",
        alternative: "[AST_Statement?] the `else` part, or null if not present"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.body._walk(visitor);
            if (this.alternative) this.alternative._walk(visitor);
        });
    }
}, AST_StatementWithBody);

/* -----[ SWITCH ]----- */

var AST_Switch = DEFNODE("Switch", "expression", {
    $documentation: "A `switch` statement",
    $propdoc: {
        expression: "[AST_Node] the `switch` “discriminant”"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_Block);

var AST_SwitchBranch = DEFNODE("SwitchBranch", null, {
    $documentation: "Base class for `switch` branches",
}, AST_Block);

var AST_Default = DEFNODE("Default", null, {
    $documentation: "A `default` switch branch",
}, AST_SwitchBranch);

var AST_Case = DEFNODE("Case", "expression", {
    $documentation: "A `case` switch branch",
    $propdoc: {
        expression: "[AST_Node] the `case` expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_SwitchBranch);

/* -----[ EXCEPTIONS ]----- */

var AST_Try = DEFNODE("Try", "bcatch bfinally", {
    $documentation: "A `try` statement",
    $propdoc: {
        bcatch: "[AST_Catch?] the catch block, or null if not present",
        bfinally: "[AST_Finally?] the finally block, or null if not present"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            walk_body(this, visitor);
            if (this.bcatch) this.bcatch._walk(visitor);
            if (this.bfinally) this.bfinally._walk(visitor);
        });
    }
}, AST_Block);

var AST_Catch = DEFNODE("Catch", "argname", {
    $documentation: "A `catch` node; only makes sense as part of a `try` statement",
    $propdoc: {
        argname: "[AST_SymbolCatch] symbol for the exception"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.argname._walk(visitor);
            walk_body(this, visitor);
        });
    }
}, AST_Block);

var AST_Finally = DEFNODE("Finally", null, {
    $documentation: "A `finally` node; only makes sense as part of a `try` statement"
}, AST_Block);

/* -----[ VAR/CONST ]----- */

var AST_Definitions = DEFNODE("Definitions", "definitions", {
    $documentation: "Base class for `var` or `const` nodes (variable declarations/initializations)",
    $propdoc: {
        definitions: "[AST_VarDef*] array of variable definitions"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.definitions.forEach(function(def){
                def._walk(visitor);
            });
        });
    }
}, AST_Statement);

var AST_Var = DEFNODE("Var", null, {
    $documentation: "A `var` statement"
}, AST_Definitions);

var AST_Const = DEFNODE("Const", null, {
    $documentation: "A `const` statement"
}, AST_Definitions);

var AST_VarDef = DEFNODE("VarDef", "name value", {
    $documentation: "A variable declaration; only appears in a AST_Definitions node",
    $propdoc: {
        name: "[AST_SymbolVar|AST_SymbolConst] name of the variable",
        value: "[AST_Node?] initializer, or null of there's no initializer"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.name._walk(visitor);
            if (this.value) this.value._walk(visitor);
        });
    }
});

/* -----[ OTHER ]----- */

var AST_Call = DEFNODE("Call", "expression args", {
    $documentation: "A function call expression",
    $propdoc: {
        expression: "[AST_Node] expression to invoke as function",
        args: "[AST_Node*] array of arguments"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.args.forEach(function(arg){
                arg._walk(visitor);
            });
        });
    }
});

var AST_New = DEFNODE("New", null, {
    $documentation: "An object instantiation.  Derives from a function call since it has exactly the same properties"
}, AST_Call);

var AST_Seq = DEFNODE("Seq", "car cdr", {
    $documentation: "A sequence expression (two comma-separated expressions)",
    $propdoc: {
        car: "[AST_Node] first element in sequence",
        cdr: "[AST_Node] second element in sequence"
    },
    $cons: function(x, y) {
        var seq = new AST_Seq(x);
        seq.car = x;
        seq.cdr = y;
        return seq;
    },
    $from_array: function(array) {
        if (array.length == 0) return null;
        if (array.length == 1) return array[0].clone();
        var list = null;
        for (var i = array.length; --i >= 0;) {
            list = AST_Seq.cons(array[i], list);
        }
        var p = list;
        while (p) {
            if (p.cdr && !p.cdr.cdr) {
                p.cdr = p.cdr.car;
                break;
            }
            p = p.cdr;
        }
        return list;
    },
    to_array: function() {
        var p = this, a = [];
        while (p) {
            a.push(p.car);
            if (p.cdr && !(p.cdr instanceof AST_Seq)) {
                a.push(p.cdr);
                break;
            }
            p = p.cdr;
        }
        return a;
    },
    add: function(node) {
        var p = this;
        while (p) {
            if (!(p.cdr instanceof AST_Seq)) {
                var cell = AST_Seq.cons(p.cdr, node);
                return p.cdr = cell;
            }
            p = p.cdr;
        }
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.car._walk(visitor);
            if (this.cdr) this.cdr._walk(visitor);
        });
    }
});

var AST_PropAccess = DEFNODE("PropAccess", "expression property", {
    $documentation: "Base class for property access expressions, i.e. `a.foo` or `a[\"foo\"]`",
    $propdoc: {
        expression: "[AST_Node] the “container” expression",
        property: "[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"
    }
});

var AST_Dot = DEFNODE("Dot", null, {
    $documentation: "A dotted property access expression",
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
        });
    }
}, AST_PropAccess);

var AST_Sub = DEFNODE("Sub", null, {
    $documentation: "Index-style property access, i.e. `a[\"foo\"]`",
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
            this.property._walk(visitor);
        });
    }
}, AST_PropAccess);

var AST_Unary = DEFNODE("Unary", "operator expression", {
    $documentation: "Base class for unary expressions",
    $propdoc: {
        operator: "[string] the operator",
        expression: "[AST_Node] expression that this unary operator applies to"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.expression._walk(visitor);
        });
    }
});

var AST_UnaryPrefix = DEFNODE("UnaryPrefix", null, {
    $documentation: "Unary prefix expression, i.e. `typeof i` or `++i`"
}, AST_Unary);

var AST_UnaryPostfix = DEFNODE("UnaryPostfix", null, {
    $documentation: "Unary postfix expression, i.e. `i++`"
}, AST_Unary);

var AST_Binary = DEFNODE("Binary", "left operator right", {
    $documentation: "Binary expression, i.e. `a + b`",
    $propdoc: {
        left: "[AST_Node] left-hand side expression",
        operator: "[string] the operator",
        right: "[AST_Node] right-hand side expression"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.left._walk(visitor);
            this.right._walk(visitor);
        });
    }
});

var AST_Conditional = DEFNODE("Conditional", "condition consequent alternative", {
    $documentation: "Conditional expression using the ternary operator, i.e. `a ? b : c`",
    $propdoc: {
        condition: "[AST_Node]",
        consequent: "[AST_Node]",
        alternative: "[AST_Node]"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.condition._walk(visitor);
            this.consequent._walk(visitor);
            this.alternative._walk(visitor);
        });
    }
});

var AST_Assign = DEFNODE("Assign", null, {
    $documentation: "An assignment expression — `a = b + 5`",
}, AST_Binary);

/* -----[ LITERALS ]----- */

var AST_Array = DEFNODE("Array", "elements", {
    $documentation: "An array literal",
    $propdoc: {
        elements: "[AST_Node*] array of elements"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.elements.forEach(function(el){
                el._walk(visitor);
            });
        });
    }
});

var AST_Object = DEFNODE("Object", "properties", {
    $documentation: "An object literal",
    $propdoc: {
        properties: "[AST_ObjectProperty*] array of properties"
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.properties.forEach(function(prop){
                prop._walk(visitor);
            });
        });
    }
});

var AST_ObjectProperty = DEFNODE("ObjectProperty", "key value", {
    $documentation: "Base class for literal object properties",
    $propdoc: {
        key: "[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",
        value: "[AST_Node] property value.  For setters and getters this is an AST_Function."
    },
    _walk: function(visitor) {
        return visitor._visit(this, function(){
            this.value._walk(visitor);
        });
    }
});

var AST_ObjectKeyVal = DEFNODE("ObjectKeyVal", null, {
    $documentation: "A key: value object property",
}, AST_ObjectProperty);

var AST_ObjectSetter = DEFNODE("ObjectSetter", null, {
    $documentation: "An object setter property",
}, AST_ObjectProperty);

var AST_ObjectGetter = DEFNODE("ObjectGetter", null, {
    $documentation: "An object getter property",
}, AST_ObjectProperty);

var AST_Symbol = DEFNODE("Symbol", "scope name thedef", {
    $propdoc: {
        name: "[string] name of this symbol",
        scope: "[AST_Scope/S] the current scope (not necessarily the definition scope)",
        thedef: "[SymbolDef/S] the definition of this symbol"
    },
    $documentation: "Base class for all symbols",
});

var AST_SymbolAccessor = DEFNODE("SymbolAccessor", null, {
    $documentation: "The name of a property accessor (setter/getter function)"
}, AST_Symbol);

var AST_SymbolDeclaration = DEFNODE("SymbolDeclaration", "init", {
    $documentation: "A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",
    $propdoc: {
        init: "[AST_Node*/S] array of initializers for this declaration."
    }
}, AST_Symbol);

var AST_SymbolVar = DEFNODE("SymbolVar", null, {
    $documentation: "Symbol defining a variable",
}, AST_SymbolDeclaration);

var AST_SymbolConst = DEFNODE("SymbolConst", null, {
    $documentation: "A constant declaration"
}, AST_SymbolDeclaration);

var AST_SymbolFunarg = DEFNODE("SymbolFunarg", null, {
    $documentation: "Symbol naming a function argument",
}, AST_SymbolVar);

var AST_SymbolDefun = DEFNODE("SymbolDefun", null, {
    $documentation: "Symbol defining a function",
}, AST_SymbolDeclaration);

var AST_SymbolLambda = DEFNODE("SymbolLambda", null, {
    $documentation: "Symbol naming a function expression",
}, AST_SymbolDeclaration);

var AST_SymbolCatch = DEFNODE("SymbolCatch", null, {
    $documentation: "Symbol naming the exception in catch",
}, AST_SymbolDeclaration);

var AST_Label = DEFNODE("Label", "references", {
    $documentation: "Symbol naming a label (declaration)",
    $propdoc: {
        references: "[AST_LoopControl*] a list of nodes referring to this label"
    },
    initialize: function() {
        this.references = [];
        this.thedef = this;
    }
}, AST_Symbol);

var AST_SymbolRef = DEFNODE("SymbolRef", null, {
    $documentation: "Reference to some symbol (not definition/declaration)",
}, AST_Symbol);

var AST_LabelRef = DEFNODE("LabelRef", null, {
    $documentation: "Reference to a label symbol",
}, AST_Symbol);

var AST_This = DEFNODE("This", null, {
    $documentation: "The `this` symbol",
}, AST_Symbol);

var AST_Constant = DEFNODE("Constant", null, {
    $documentation: "Base class for all constants",
    getValue: function() {
        return this.value;
    }
});

var AST_String = DEFNODE("String", "value", {
    $documentation: "A string literal",
    $propdoc: {
        value: "[string] the contents of this string"
    }
}, AST_Constant);

var AST_Number = DEFNODE("Number", "value", {
    $documentation: "A number literal",
    $propdoc: {
        value: "[number] the numeric value"
    }
}, AST_Constant);

var AST_RegExp = DEFNODE("RegExp", "value", {
    $documentation: "A regexp literal",
    $propdoc: {
        value: "[RegExp] the actual regexp"
    }
}, AST_Constant);

var AST_Atom = DEFNODE("Atom", null, {
    $documentation: "Base class for atoms",
}, AST_Constant);

var AST_Null = DEFNODE("Null", null, {
    $documentation: "The `null` atom",
    value: null
}, AST_Atom);

var AST_NaN = DEFNODE("NaN", null, {
    $documentation: "The impossible value",
    value: 0/0
}, AST_Atom);

var AST_Undefined = DEFNODE("Undefined", null, {
    $documentation: "The `undefined` value",
    value: (function(){}())
}, AST_Atom);

var AST_Hole = DEFNODE("Hole", null, {
    $documentation: "A hole in an array",
    value: (function(){}())
}, AST_Atom);

var AST_Infinity = DEFNODE("Infinity", null, {
    $documentation: "The `Infinity` value",
    value: 1/0
}, AST_Atom);

var AST_Boolean = DEFNODE("Boolean", null, {
    $documentation: "Base class for booleans",
}, AST_Atom);

var AST_False = DEFNODE("False", null, {
    $documentation: "The `false` atom",
    value: false
}, AST_Boolean);

var AST_True = DEFNODE("True", null, {
    $documentation: "The `true` atom",
    value: true
}, AST_Boolean);

/* -----[ TreeWalker ]----- */

function TreeWalker(callback) {
    this.visit = callback;
    this.stack = [];
};
TreeWalker.prototype = {
    _visit: function(node, descend) {
        this.stack.push(node);
        var ret = this.visit(node, descend ? function(){
            descend.call(node);
        } : noop);
        if (!ret && descend) {
            descend.call(node);
        }
        this.stack.pop();
        return ret;
    },
    parent: function(n) {
        return this.stack[this.stack.length - 2 - (n || 0)];
    },
    push: function (node) {
        this.stack.push(node);
    },
    pop: function() {
        return this.stack.pop();
    },
    self: function() {
        return this.stack[this.stack.length - 1];
    },
    find_parent: function(type) {
        var stack = this.stack;
        for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof type) return x;
        }
    },
    has_directive: function(type) {
        return this.find_parent(AST_Scope).has_directive(type);
    },
    in_boolean_context: function() {
        var stack = this.stack;
        var i = stack.length, self = stack[--i];
        while (i > 0) {
            var p = stack[--i];
            if ((p instanceof AST_If           && p.condition === self) ||
                (p instanceof AST_Conditional  && p.condition === self) ||
                (p instanceof AST_DWLoop       && p.condition === self) ||
                (p instanceof AST_For          && p.condition === self) ||
                (p instanceof AST_UnaryPrefix  && p.operator == "!" && p.expression === self))
            {
                return true;
            }
            if (!(p instanceof AST_Binary && (p.operator == "&&" || p.operator == "||")))
                return false;
            self = p;
        }
    },
    loopcontrol_target: function(label) {
        var stack = this.stack;
        if (label) for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof AST_LabeledStatement && x.label.name == label.name) {
                return x.body;
            }
        } else for (var i = stack.length; --i >= 0;) {
            var x = stack[i];
            if (x instanceof AST_Switch || x instanceof AST_IterationStatement)
                return x;
        }
    }
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>
    Parser based on parse-js (http://marijn.haverbeke.nl/parse-js/).

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

var KEYWORDS = 'break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with';
var KEYWORDS_ATOM = 'false null true';
var RESERVED_WORDS = 'abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield'
    + " " + KEYWORDS_ATOM + " " + KEYWORDS;
var KEYWORDS_BEFORE_EXPRESSION = 'return new delete throw else case';

KEYWORDS = makePredicate(KEYWORDS);
RESERVED_WORDS = makePredicate(RESERVED_WORDS);
KEYWORDS_BEFORE_EXPRESSION = makePredicate(KEYWORDS_BEFORE_EXPRESSION);
KEYWORDS_ATOM = makePredicate(KEYWORDS_ATOM);

var OPERATOR_CHARS = makePredicate(characters("+-*&%=<>!?|~^"));

var RE_HEX_NUMBER = /^0x[0-9a-f]+$/i;
var RE_OCT_NUMBER = /^0[0-7]+$/;
var RE_DEC_NUMBER = /^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i;

var OPERATORS = makePredicate([
    "in",
    "instanceof",
    "typeof",
    "new",
    "void",
    "delete",
    "++",
    "--",
    "+",
    "-",
    "!",
    "~",
    "&",
    "|",
    "^",
    "*",
    "/",
    "%",
    ">>",
    "<<",
    ">>>",
    "<",
    ">",
    "<=",
    ">=",
    "==",
    "===",
    "!=",
    "!==",
    "?",
    "=",
    "+=",
    "-=",
    "/=",
    "*=",
    "%=",
    ">>=",
    "<<=",
    ">>>=",
    "|=",
    "^=",
    "&=",
    "&&",
    "||"
]);

var WHITESPACE_CHARS = makePredicate(characters(" \u00a0\n\r\t\f\u000b\u200b\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000"));

var PUNC_BEFORE_EXPRESSION = makePredicate(characters("[{(,.;:"));

var PUNC_CHARS = makePredicate(characters("[]{}(),;:"));

var REGEXP_MODIFIERS = makePredicate(characters("gmsiy"));

/* -----[ Tokenizer ]----- */

// regexps adapted from http://xregexp.com/plugins/#unicode
var UNICODE = {
    letter: new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
    non_spacing_mark: new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),
    space_combining_mark: new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),
    connector_punctuation: new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")
};

function is_letter(code) {
    return (code >= 97 && code <= 122)
        || (code >= 65 && code <= 90)
        || (code >= 0xaa && UNICODE.letter.test(String.fromCharCode(code)));
};

function is_digit(code) {
    return code >= 48 && code <= 57; //XXX: find out if "UnicodeDigit" means something else than 0..9
};

function is_alphanumeric_char(code) {
    return is_digit(code) || is_letter(code);
};

function is_unicode_combining_mark(ch) {
    return UNICODE.non_spacing_mark.test(ch) || UNICODE.space_combining_mark.test(ch);
};

function is_unicode_connector_punctuation(ch) {
    return UNICODE.connector_punctuation.test(ch);
};

function is_identifier(name) {
    return !RESERVED_WORDS(name) && /^[a-z_$][a-z0-9_$]*$/i.test(name);
};

function is_identifier_start(code) {
    return code == 36 || code == 95 || is_letter(code);
};

function is_identifier_char(ch) {
    var code = ch.charCodeAt(0);
    return is_identifier_start(code)
        || is_digit(code)
        || code == 8204 // \u200c: zero-width non-joiner <ZWNJ>
        || code == 8205 // \u200d: zero-width joiner <ZWJ> (in my ECMA-262 PDF, this is also 200c)
        || is_unicode_combining_mark(ch)
        || is_unicode_connector_punctuation(ch)
    ;
};

function is_identifier_string(str){
    return /^[a-z_$][a-z0-9_$]*$/i.test(str);
};

function parse_js_number(num) {
    if (RE_HEX_NUMBER.test(num)) {
        return parseInt(num.substr(2), 16);
    } else if (RE_OCT_NUMBER.test(num)) {
        return parseInt(num.substr(1), 8);
    } else if (RE_DEC_NUMBER.test(num)) {
        return parseFloat(num);
    }
};

function JS_Parse_Error(message, line, col, pos) {
    this.message = message;
    this.line = line;
    this.col = col;
    this.pos = pos;
    this.stack = new Error().stack;
};

JS_Parse_Error.prototype.toString = function() {
    return this.message + " (line: " + this.line + ", col: " + this.col + ", pos: " + this.pos + ")" + "\n\n" + this.stack;
};

function js_error(message, filename, line, col, pos) {
    throw new JS_Parse_Error(message, line, col, pos);
};

function is_token(token, type, val) {
    return token.type == type && (val == null || token.value == val);
};

var EX_EOF = {};

function tokenizer($TEXT, filename, html5_comments) {

    var S = {
        text            : $TEXT.replace(/\r\n?|[\n\u2028\u2029]/g, "\n").replace(/\uFEFF/g, ''),
        filename        : filename,
        pos             : 0,
        tokpos          : 0,
        line            : 1,
        tokline         : 0,
        col             : 0,
        tokcol          : 0,
        newline_before  : false,
        regex_allowed   : false,
        comments_before : []
    };

    function peek() { return S.text.charAt(S.pos); };

    function next(signal_eof, in_string) {
        var ch = S.text.charAt(S.pos++);
        if (signal_eof && !ch)
            throw EX_EOF;
        if (ch == "\n") {
            S.newline_before = S.newline_before || !in_string;
            ++S.line;
            S.col = 0;
        } else {
            ++S.col;
        }
        return ch;
    };

    function forward(i) {
        while (i-- > 0) next();
    };

    function looking_at(str) {
        return S.text.substr(S.pos, str.length) == str;
    };

    function find(what, signal_eof) {
        var pos = S.text.indexOf(what, S.pos);
        if (signal_eof && pos == -1) throw EX_EOF;
        return pos;
    };

    function start_token() {
        S.tokline = S.line;
        S.tokcol = S.col;
        S.tokpos = S.pos;
    };

    var prev_was_dot = false;
    function token(type, value, is_comment) {
        S.regex_allowed = ((type == "operator" && !UNARY_POSTFIX(value)) ||
                           (type == "keyword" && KEYWORDS_BEFORE_EXPRESSION(value)) ||
                           (type == "punc" && PUNC_BEFORE_EXPRESSION(value)));
        prev_was_dot = (type == "punc" && value == ".");
        var ret = {
            type   : type,
            value  : value,
            line   : S.tokline,
            col    : S.tokcol,
            pos    : S.tokpos,
            endpos : S.pos,
            nlb    : S.newline_before,
            file   : filename
        };
        if (!is_comment) {
            ret.comments_before = S.comments_before;
            S.comments_before = [];
            // make note of any newlines in the comments that came before
            for (var i = 0, len = ret.comments_before.length; i < len; i++) {
                ret.nlb = ret.nlb || ret.comments_before[i].nlb;
            }
        }
        S.newline_before = false;
        return new AST_Token(ret);
    };

    function skip_whitespace() {
        while (WHITESPACE_CHARS(peek()))
            next();
    };

    function read_while(pred) {
        var ret = "", ch, i = 0;
        while ((ch = peek()) && pred(ch, i++))
            ret += next();
        return ret;
    };

    function parse_error(err) {
        js_error(err, filename, S.tokline, S.tokcol, S.tokpos);
    };

    function read_num(prefix) {
        var has_e = false, after_e = false, has_x = false, has_dot = prefix == ".";
        var num = read_while(function(ch, i){
            var code = ch.charCodeAt(0);
            switch (code) {
              case 120: case 88: // xX
                return has_x ? false : (has_x = true);
              case 101: case 69: // eE
                return has_x ? true : has_e ? false : (has_e = after_e = true);
              case 45: // -
                return after_e || (i == 0 && !prefix);
              case 43: // +
                return after_e;
              case (after_e = false, 46): // .
                return (!has_dot && !has_x && !has_e) ? (has_dot = true) : false;
            }
            return is_alphanumeric_char(code);
        });
        if (prefix) num = prefix + num;
        var valid = parse_js_number(num);
        if (!isNaN(valid)) {
            return token("num", valid);
        } else {
            parse_error("Invalid syntax: " + num);
        }
    };

    function read_escaped_char(in_string) {
        var ch = next(true, in_string);
        switch (ch.charCodeAt(0)) {
          case 110 : return "\n";
          case 114 : return "\r";
          case 116 : return "\t";
          case 98  : return "\b";
          case 118 : return "\u000b"; // \v
          case 102 : return "\f";
          case 48  : return "\0";
          case 120 : return String.fromCharCode(hex_bytes(2)); // \x
          case 117 : return String.fromCharCode(hex_bytes(4)); // \u
          case 10  : return ""; // newline
          default  : return ch;
        }
    };

    function hex_bytes(n) {
        var num = 0;
        for (; n > 0; --n) {
            var digit = parseInt(next(true), 16);
            if (isNaN(digit))
                parse_error("Invalid hex-character pattern in string");
            num = (num << 4) | digit;
        }
        return num;
    };

    var read_string = with_eof_error("Unterminated string constant", function(){
        var quote = next(), ret = "";
        for (;;) {
            var ch = next(true);
            if (ch == "\\") {
                // read OctalEscapeSequence (XXX: deprecated if "strict mode")
                // https://github.com/mishoo/UglifyJS/issues/178
                var octal_len = 0, first = null;
                ch = read_while(function(ch){
                    if (ch >= "0" && ch <= "7") {
                        if (!first) {
                            first = ch;
                            return ++octal_len;
                        }
                        else if (first <= "3" && octal_len <= 2) return ++octal_len;
                        else if (first >= "4" && octal_len <= 1) return ++octal_len;
                    }
                    return false;
                });
                if (octal_len > 0) ch = String.fromCharCode(parseInt(ch, 8));
                else ch = read_escaped_char(true);
            }
            else if (ch == quote) break;
            ret += ch;
        }
        return token("string", ret);
    });

    function skip_line_comment(type) {
        var regex_allowed = S.regex_allowed;
        var i = find("\n"), ret;
        if (i == -1) {
            ret = S.text.substr(S.pos);
            S.pos = S.text.length;
        } else {
            ret = S.text.substring(S.pos, i);
            S.pos = i;
        }
        S.comments_before.push(token(type, ret, true));
        S.regex_allowed = regex_allowed;
        return next_token();
    };

    var skip_multiline_comment = with_eof_error("Unterminated multiline comment", function(){
        var regex_allowed = S.regex_allowed;
        var i = find("*/", true);
        var text = S.text.substring(S.pos, i);
        var a = text.split("\n"), n = a.length;
        // update stream position
        S.pos = i + 2;
        S.line += n - 1;
        if (n > 1) S.col = a[n - 1].length;
        else S.col += a[n - 1].length;
        S.col += 2;
        var nlb = S.newline_before = S.newline_before || text.indexOf("\n") >= 0;
        S.comments_before.push(token("comment2", text, true));
        S.regex_allowed = regex_allowed;
        S.newline_before = nlb;
        return next_token();
    });

    function read_name() {
        var backslash = false, name = "", ch, escaped = false, hex;
        while ((ch = peek()) != null) {
            if (!backslash) {
                if (ch == "\\") escaped = backslash = true, next();
                else if (is_identifier_char(ch)) name += next();
                else break;
            }
            else {
                if (ch != "u") parse_error("Expecting UnicodeEscapeSequence -- uXXXX");
                ch = read_escaped_char();
                if (!is_identifier_char(ch)) parse_error("Unicode char: " + ch.charCodeAt(0) + " is not valid in identifier");
                name += ch;
                backslash = false;
            }
        }
        if (KEYWORDS(name) && escaped) {
            hex = name.charCodeAt(0).toString(16).toUpperCase();
            name = "\\u" + "0000".substr(hex.length) + hex + name.slice(1);
        }
        return name;
    };

    var read_regexp = with_eof_error("Unterminated regular expression", function(regexp){
        var prev_backslash = false, ch, in_class = false;
        while ((ch = next(true))) if (prev_backslash) {
            regexp += "\\" + ch;
            prev_backslash = false;
        } else if (ch == "[") {
            in_class = true;
            regexp += ch;
        } else if (ch == "]" && in_class) {
            in_class = false;
            regexp += ch;
        } else if (ch == "/" && !in_class) {
            break;
        } else if (ch == "\\") {
            prev_backslash = true;
        } else {
            regexp += ch;
        }
        var mods = read_name();
        return token("regexp", new RegExp(regexp, mods));
    });

    function read_operator(prefix) {
        function grow(op) {
            if (!peek()) return op;
            var bigger = op + peek();
            if (OPERATORS(bigger)) {
                next();
                return grow(bigger);
            } else {
                return op;
            }
        };
        return token("operator", grow(prefix || next()));
    };

    function handle_slash() {
        next();
        switch (peek()) {
          case "/":
            next();
            return skip_line_comment("comment1");
          case "*":
            next();
            return skip_multiline_comment();
        }
        return S.regex_allowed ? read_regexp("") : read_operator("/");
    };

    function handle_dot() {
        next();
        return is_digit(peek().charCodeAt(0))
            ? read_num(".")
            : token("punc", ".");
    };

    function read_word() {
        var word = read_name();
        if (prev_was_dot) return token("name", word);
        return KEYWORDS_ATOM(word) ? token("atom", word)
            : !KEYWORDS(word) ? token("name", word)
            : OPERATORS(word) ? token("operator", word)
            : token("keyword", word);
    };

    function with_eof_error(eof_error, cont) {
        return function(x) {
            try {
                return cont(x);
            } catch(ex) {
                if (ex === EX_EOF) parse_error(eof_error);
                else throw ex;
            }
        };
    };

    function next_token(force_regexp) {
        if (force_regexp != null)
            return read_regexp(force_regexp);
        skip_whitespace();
        start_token();
        if (html5_comments) {
            if (looking_at("<!--")) {
                forward(4);
                return skip_line_comment("comment3");
            }
            if (looking_at("-->") && S.newline_before) {
                forward(3);
                return skip_line_comment("comment4");
            }
        }
        var ch = peek();
        if (!ch) return token("eof");
        var code = ch.charCodeAt(0);
        switch (code) {
          case 34: case 39: return read_string();
          case 46: return handle_dot();
          case 47: return handle_slash();
        }
        if (is_digit(code)) return read_num();
        if (PUNC_CHARS(ch)) return token("punc", next());
        if (OPERATOR_CHARS(ch)) return read_operator();
        if (code == 92 || is_identifier_start(code)) return read_word();
        parse_error("Unexpected character '" + ch + "'");
    };

    next_token.context = function(nc) {
        if (nc) S = nc;
        return S;
    };

    return next_token;

};

/* -----[ Parser (constants) ]----- */

var UNARY_PREFIX = makePredicate([
    "typeof",
    "void",
    "delete",
    "--",
    "++",
    "!",
    "~",
    "-",
    "+"
]);

var UNARY_POSTFIX = makePredicate([ "--", "++" ]);

var ASSIGNMENT = makePredicate([ "=", "+=", "-=", "/=", "*=", "%=", ">>=", "<<=", ">>>=", "|=", "^=", "&=" ]);

var PRECEDENCE = (function(a, ret){
    for (var i = 0; i < a.length; ++i) {
        var b = a[i];
        for (var j = 0; j < b.length; ++j) {
            ret[b[j]] = i + 1;
        }
    }
    return ret;
})(
    [
        ["||"],
        ["&&"],
        ["|"],
        ["^"],
        ["&"],
        ["==", "===", "!=", "!=="],
        ["<", ">", "<=", ">=", "in", "instanceof"],
        [">>", "<<", ">>>"],
        ["+", "-"],
        ["*", "/", "%"]
    ],
    {}
);

var STATEMENTS_WITH_LABELS = array_to_hash([ "fo" + "r", "do", "while", "switch" ]);

var ATOMIC_START_TOKEN = array_to_hash([ "atom", "num", "string", "regexp", "name" ]);

/* -----[ Parser ]----- */

function parse($TEXT, options) {

    options = defaults(options, {
        strict         : false,
        filename       : null,
        toplevel       : null,
        expression     : false,
        html5_comments : true,
    });

    var S = {
        input         : (typeof $TEXT == "string"
                         ? tokenizer($TEXT, options.filename,
                                     options.html5_comments)
                         : $TEXT),
        token         : null,
        prev          : null,
        peeked        : null,
        in_function   : 0,
        in_directives : true,
        in_loop       : 0,
        labels        : []
    };

    S.token = next();

    function is(type, value) {
        return is_token(S.token, type, value);
    };

    function peek() { return S.peeked || (S.peeked = S.input()); };

    function next() {
        S.prev = S.token;
        if (S.peeked) {
            S.token = S.peeked;
            S.peeked = null;
        } else {
            S.token = S.input();
        }
        S.in_directives = S.in_directives && (
            S.token.type == "string" || is("punc", ";")
        );
        return S.token;
    };

    function prev() {
        return S.prev;
    };

    function croak(msg, line, col, pos) {
        var ctx = S.input.context();
        js_error(msg,
                 ctx.filename,
                 line != null ? line : ctx.tokline,
                 col != null ? col : ctx.tokcol,
                 pos != null ? pos : ctx.tokpos);
    };

    function token_error(token, msg) {
        croak(msg, token.line, token.col);
    };

    function unexpected(token) {
        if (token == null)
            token = S.token;
        token_error(token, "Unexpected token: " + token.type + " (" + token.value + ")");
    };

    function expect_token(type, val) {
        if (is(type, val)) {
            return next();
        }
        token_error(S.token, "Unexpected token " + S.token.type + " «" + S.token.value + "»" + ", expected " + type + " «" + val + "»");
    };

    function expect(punc) { return expect_token("punc", punc); };

    function can_insert_semicolon() {
        return !options.strict && (
            S.token.nlb || is("eof") || is("punc", "}")
        );
    };

    function semicolon() {
        if (is("punc", ";")) next();
        else if (!can_insert_semicolon()) unexpected();
    };

    function parenthesised() {
        expect("(");
        var exp = expression(true);
        expect(")");
        return exp;
    };

    function embed_tokens(parser) {
        return function() {
            var start = S.token;
            var expr = parser();
            var end = prev();
            expr.start = start;
            expr.end = end;
            return expr;
        };
    };

    function handle_regexp() {
        if (is("operator", "/") || is("operator", "/=")) {
            S.peeked = null;
            S.token = S.input(S.token.value.substr(1)); // force regexp
        }
    };

    var statement = embed_tokens(function() {
        var tmp;
        handle_regexp();
        switch (S.token.type) {
          case "string":
            var dir = S.in_directives, stat = simple_statement();
            // XXXv2: decide how to fix directives
            if (dir && stat.body instanceof AST_String && !is("punc", ","))
                return new AST_Directive({ value: stat.body.value });
            return stat;
          case "num":
          case "regexp":
          case "operator":
          case "atom":
            return simple_statement();

          case "name":
            return is_token(peek(), "punc", ":")
                ? labeled_statement()
                : simple_statement();

          case "punc":
            switch (S.token.value) {
              case "{":
                return new AST_BlockStatement({
                    start : S.token,
                    body  : block_(),
                    end   : prev()
                });
              case "[":
              case "(":
                return simple_statement();
              case ";":
                next();
                return new AST_EmptyStatement();
              default:
                unexpected();
            }

          case "keyword":
            switch (tmp = S.token.value, next(), tmp) {
              case "break":
                return break_cont(AST_Break);

              case "continue":
                return break_cont(AST_Continue);

              case "debugger":
                semicolon();
                return new AST_Debugger();

              case "do":
                return new AST_Do({
                    body      : in_loop(statement),
                    condition : (expect_token("keyword", "while"), tmp = parenthesised(), semicolon(), tmp)
                });

              case "while":
                return new AST_While({
                    condition : parenthesised(),
                    body      : in_loop(statement)
                });

              case "fo" + "r":
                return for_();

              case "function":
                return function_(AST_Defun);

              case "if":
                return if_();

              case "return":
                if (S.in_function == 0)
                    croak("'return' outside of function");
                return new AST_Return({
                    value: ( is("punc", ";")
                             ? (next(), null)
                             : can_insert_semicolon()
                             ? null
                             : (tmp = expression(true), semicolon(), tmp) )
                });

              case "switch":
                return new AST_Switch({
                    expression : parenthesised(),
                    body       : in_loop(switch_body_)
                });

              case "throw":
                if (S.token.nlb)
                    croak("Illegal newline after 'throw'");
                return new AST_Throw({
                    value: (tmp = expression(true), semicolon(), tmp)
                });

              case "try":
                return try_();

              case "var":
                return tmp = var_(), semicolon(), tmp;

              case "const":
                return tmp = const_(), semicolon(), tmp;

              case "with":
                return new AST_With({
                    expression : parenthesised(),
                    body       : statement()
                });

              default:
                unexpected();
            }
        }
    });

    function labeled_statement() {
        var label = as_symbol(AST_Label);
        if (find_if(function(l){ return l.name == label.name }, S.labels)) {
            // ECMA-262, 12.12: An ECMAScript program is considered
            // syntactically incorrect if it contains a
            // LabelledStatement that is enclosed by a
            // LabelledStatement with the same Identifier as label.
            croak("Label " + label.name + " defined twice");
        }
        expect(":");
        S.labels.push(label);
        var stat = statement();
        S.labels.pop();
        if (!(stat instanceof AST_IterationStatement)) {
            // check for `continue` that refers to this label.
            // those should be reported as syntax errors.
            // https://github.com/mishoo/UglifyJS2/issues/287
            label.references.forEach(function(ref){
                if (ref instanceof AST_Continue) {
                    ref = ref.label.start;
                    croak("Continue label `" + label.name + "` refers to non-IterationStatement.",
                          ref.line, ref.col, ref.pos);
                }
            });
        }
        return new AST_LabeledStatement({ body: stat, label: label });
    };

    function simple_statement(tmp) {
        return new AST_SimpleStatement({ body: (tmp = expression(true), semicolon(), tmp) });
    };

    function break_cont(type) {
        var label = null, ldef;
        if (!can_insert_semicolon()) {
            label = as_symbol(AST_LabelRef, true);
        }
        if (label != null) {
            ldef = find_if(function(l){ return l.name == label.name }, S.labels);
            if (!ldef)
                croak("Undefined label " + label.name);
            label.thedef = ldef;
        }
        else if (S.in_loop == 0)
            croak(type.TYPE + " not inside a loop or switch");
        semicolon();
        var stat = new type({ label: label });
        if (ldef) ldef.references.push(stat);
        return stat;
    };

    function for_() {
        expect("(");
        var init = null;
        if (!is("punc", ";")) {
            init = is("keyword", "var")
                ? (next(), var_(true))
                : expression(true, true);
            if (is("operator", "in")) {
                if (init instanceof AST_Var && init.definitions.length > 1)
                    croak("Only one variable declaration allowed in for..in loop");
                next();
                return for_in(init);
            }
        }
        return regular_for(init);
    };

    function regular_for(init) {
        expect(";");
        var test = is("punc", ";") ? null : expression(true);
        expect(";");
        var step = is("punc", ")") ? null : expression(true);
        expect(")");
        return new AST_For({
            init      : init,
            condition : test,
            step      : step,
            body      : in_loop(statement)
        });
    };

    function for_in(init) {
        var lhs = init instanceof AST_Var ? init.definitions[0].name : null;
        var obj = expression(true);
        expect(")");
        return new AST_ForIn({
            init   : init,
            name   : lhs,
            object : obj,
            body   : in_loop(statement)
        });
    };

    var function_ = function(ctor) {
        var in_statement = ctor === AST_Defun;
        var name = is("name") ? as_symbol(in_statement ? AST_SymbolDefun : AST_SymbolLambda) : null;
        if (in_statement && !name)
            unexpected();
        expect("(");
        return new ctor({
            name: name,
            argnames: (function(first, a){
                while (!is("punc", ")")) {
                    if (first) first = false; else expect(",");
                    a.push(as_symbol(AST_SymbolFunarg));
                }
                next();
                return a;
            })(true, []),
            body: (function(loop, labels){
                ++S.in_function;
                S.in_directives = true;
                S.in_loop = 0;
                S.labels = [];
                var a = block_();
                --S.in_function;
                S.in_loop = loop;
                S.labels = labels;
                return a;
            })(S.in_loop, S.labels)
        });
    };

    function if_() {
        var cond = parenthesised(), body = statement(), belse = null;
        if (is("keyword", "else")) {
            next();
            belse = statement();
        }
        return new AST_If({
            condition   : cond,
            body        : body,
            alternative : belse
        });
    };

    function block_() {
        expect("{");
        var a = [];
        while (!is("punc", "}")) {
            if (is("eof")) unexpected();
            a.push(statement());
        }
        next();
        return a;
    };

    function switch_body_() {
        expect("{");
        var a = [], cur = null, branch = null, tmp;
        while (!is("punc", "}")) {
            if (is("eof")) unexpected();
            if (is("keyword", "case")) {
                if (branch) branch.end = prev();
                cur = [];
                branch = new AST_Case({
                    start      : (tmp = S.token, next(), tmp),
                    expression : expression(true),
                    body       : cur
                });
                a.push(branch);
                expect(":");
            }
            else if (is("keyword", "default")) {
                if (branch) branch.end = prev();
                cur = [];
                branch = new AST_Default({
                    start : (tmp = S.token, next(), expect(":"), tmp),
                    body  : cur
                });
                a.push(branch);
            }
            else {
                if (!cur) unexpected();
                cur.push(statement());
            }
        }
        if (branch) branch.end = prev();
        next();
        return a;
    };

    function try_() {
        var body = block_(), bcatch = null, bfinally = null;
        if (is("keyword", "catch")) {
            var start = S.token;
            next();
            expect("(");
            var name = as_symbol(AST_SymbolCatch);
            expect(")");
            bcatch = new AST_Catch({
                start   : start,
                argname : name,
                body    : block_(),
                end     : prev()
            });
        }
        if (is("keyword", "finally")) {
            var start = S.token;
            next();
            bfinally = new AST_Finally({
                start : start,
                body  : block_(),
                end   : prev()
            });
        }
        if (!bcatch && !bfinally)
            croak("Missing catch/finally blocks");
        return new AST_Try({
            body     : body,
            bcatch   : bcatch,
            bfinally : bfinally
        });
    };

    function vardefs(no_in, in_const) {
        var a = [];
        for (;;) {
            a.push(new AST_VarDef({
                start : S.token,
                name  : as_symbol(in_const ? AST_SymbolConst : AST_SymbolVar),
                value : is("operator", "=") ? (next(), expression(false, no_in)) : null,
                end   : prev()
            }));
            if (!is("punc", ","))
                break;
            next();
        }
        return a;
    };

    var var_ = function(no_in) {
        return new AST_Var({
            start       : prev(),
            definitions : vardefs(no_in, false),
            end         : prev()
        });
    };

    var const_ = function() {
        return new AST_Const({
            start       : prev(),
            definitions : vardefs(false, true),
            end         : prev()
        });
    };

    var new_ = function() {
        var start = S.token;
        expect_token("operator", "new");
        var newexp = expr_atom(false), args;
        if (is("punc", "(")) {
            next();
            args = expr_list(")");
        } else {
            args = [];
        }
        return subscripts(new AST_New({
            start      : start,
            expression : newexp,
            args       : args,
            end        : prev()
        }), true);
    };

    function as_atom_node() {
        var tok = S.token, ret;
        switch (tok.type) {
          case "name":
          case "keyword":
            ret = _make_symbol(AST_SymbolRef);
            break;
          case "num":
            ret = new AST_Number({ start: tok, end: tok, value: tok.value });
            break;
          case "string":
            ret = new AST_String({ start: tok, end: tok, value: tok.value });
            break;
          case "regexp":
            ret = new AST_RegExp({ start: tok, end: tok, value: tok.value });
            break;
          case "atom":
            switch (tok.value) {
              case "false":
                ret = new AST_False({ start: tok, end: tok });
                break;
              case "true":
                ret = new AST_True({ start: tok, end: tok });
                break;
              case "null":
                ret = new AST_Null({ start: tok, end: tok });
                break;
            }
            break;
        }
        next();
        return ret;
    };

    var expr_atom = function(allow_calls) {
        if (is("operator", "new")) {
            return new_();
        }
        var start = S.token;
        if (is("punc")) {
            switch (start.value) {
              case "(":
                next();
                var ex = expression(true);
                ex.start = start;
                ex.end = S.token;
                expect(")");
                return subscripts(ex, allow_calls);
              case "[":
                return subscripts(array_(), allow_calls);
              case "{":
                return subscripts(object_(), allow_calls);
            }
            unexpected();
        }
        if (is("keyword", "function")) {
            next();
            var func = function_(AST_Function);
            func.start = start;
            func.end = prev();
            return subscripts(func, allow_calls);
        }
        if (ATOMIC_START_TOKEN[S.token.type]) {
            return subscripts(as_atom_node(), allow_calls);
        }
        unexpected();
    };

    function expr_list(closing, allow_trailing_comma, allow_empty) {
        var first = true, a = [];
        while (!is("punc", closing)) {
            if (first) first = false; else expect(",");
            if (allow_trailing_comma && is("punc", closing)) break;
            if (is("punc", ",") && allow_empty) {
                a.push(new AST_Hole({ start: S.token, end: S.token }));
            } else {
                a.push(expression(false));
            }
        }
        next();
        return a;
    };

    var array_ = embed_tokens(function() {
        expect("[");
        return new AST_Array({
            elements: expr_list("]", !options.strict, true)
        });
    });

    var object_ = embed_tokens(function() {
        expect("{");
        var first = true, a = [];
        while (!is("punc", "}")) {
            if (first) first = false; else expect(",");
            if (!options.strict && is("punc", "}"))
                // allow trailing comma
                break;
            var start = S.token;
            var type = start.type;
            var name = as_property_name();
            if (type == "name" && !is("punc", ":")) {
                if (name == "get") {
                    a.push(new AST_ObjectGetter({
                        start : start,
                        key   : as_atom_node(),
                        value : function_(AST_Accessor),
                        end   : prev()
                    }));
                    continue;
                }
                if (name == "set") {
                    a.push(new AST_ObjectSetter({
                        start : start,
                        key   : as_atom_node(),
                        value : function_(AST_Accessor),
                        end   : prev()
                    }));
                    continue;
                }
            }
            expect(":");
            a.push(new AST_ObjectKeyVal({
                start : start,
                key   : name,
                value : expression(false),
                end   : prev()
            }));
        }
        next();
        return new AST_Object({ properties: a });
    });

    function as_property_name() {
        var tmp = S.token;
        next();
        switch (tmp.type) {
          case "num":
          case "string":
          case "name":
          case "operator":
          case "keyword":
          case "atom":
            return tmp.value;
          default:
            unexpected();
        }
    };

    function as_name() {
        var tmp = S.token;
        next();
        switch (tmp.type) {
          case "name":
          case "operator":
          case "keyword":
          case "atom":
            return tmp.value;
          default:
            unexpected();
        }
    };

    function _make_symbol(type) {
        var name = S.token.value;
        return new (name == "this" ? AST_This : type)({
            name  : String(name),
            start : S.token,
            end   : S.token
        });
    };

    function as_symbol(type, noerror) {
        if (!is("name")) {
            if (!noerror) croak("Name expected");
            return null;
        }
        var sym = _make_symbol(type);
        next();
        return sym;
    };

    var subscripts = function(expr, allow_calls) {
        var start = expr.start;
        if (is("punc", ".")) {
            next();
            return subscripts(new AST_Dot({
                start      : start,
                expression : expr,
                property   : as_name(),
                end        : prev()
            }), allow_calls);
        }
        if (is("punc", "[")) {
            next();
            var prop = expression(true);
            expect("]");
            return subscripts(new AST_Sub({
                start      : start,
                expression : expr,
                property   : prop,
                end        : prev()
            }), allow_calls);
        }
        if (allow_calls && is("punc", "(")) {
            next();
            return subscripts(new AST_Call({
                start      : start,
                expression : expr,
                args       : expr_list(")"),
                end        : prev()
            }), true);
        }
        return expr;
    };

    var maybe_unary = function(allow_calls) {
        var start = S.token;
        if (is("operator") && UNARY_PREFIX(start.value)) {
            next();
            handle_regexp();
            var ex = make_unary(AST_UnaryPrefix, start.value, maybe_unary(allow_calls));
            ex.start = start;
            ex.end = prev();
            return ex;
        }
        var val = expr_atom(allow_calls);
        while (is("operator") && UNARY_POSTFIX(S.token.value) && !S.token.nlb) {
            val = make_unary(AST_UnaryPostfix, S.token.value, val);
            val.start = start;
            val.end = S.token;
            next();
        }
        return val;
    };

    function make_unary(ctor, op, expr) {
        if ((op == "++" || op == "--") && !is_assignable(expr))
            croak("Invalid use of " + op + " operator");
        return new ctor({ operator: op, expression: expr });
    };

    var expr_op = function(left, min_prec, no_in) {
        var op = is("operator") ? S.token.value : null;
        if (op == "in" && no_in) op = null;
        var prec = op != null ? PRECEDENCE[op] : null;
        if (prec != null && prec > min_prec) {
            next();
            var right = expr_op(maybe_unary(true), prec, no_in);
            return expr_op(new AST_Binary({
                start    : left.start,
                left     : left,
                operator : op,
                right    : right,
                end      : right.end
            }), min_prec, no_in);
        }
        return left;
    };

    function expr_ops(no_in) {
        return expr_op(maybe_unary(true), 0, no_in);
    };

    var maybe_conditional = function(no_in) {
        var start = S.token;
        var expr = expr_ops(no_in);
        if (is("operator", "?")) {
            next();
            var yes = expression(false);
            expect(":");
            return new AST_Conditional({
                start       : start,
                condition   : expr,
                consequent  : yes,
                alternative : expression(false, no_in),
                end         : prev()
            });
        }
        return expr;
    };

    function is_assignable(expr) {
        if (!options.strict) return true;
        if (expr instanceof AST_This) return false;
        return (expr instanceof AST_PropAccess || expr instanceof AST_Symbol);
    };

    var maybe_assign = function(no_in) {
        var start = S.token;
        var left = maybe_conditional(no_in), val = S.token.value;
        if (is("operator") && ASSIGNMENT(val)) {
            if (is_assignable(left)) {
                next();
                return new AST_Assign({
                    start    : start,
                    left     : left,
                    operator : val,
                    right    : maybe_assign(no_in),
                    end      : prev()
                });
            }
            croak("Invalid assignment");
        }
        return left;
    };

    var expression = function(commas, no_in) {
        var start = S.token;
        var expr = maybe_assign(no_in);
        if (commas && is("punc", ",")) {
            next();
            return new AST_Seq({
                start  : start,
                car    : expr,
                cdr    : expression(true, no_in),
                end    : peek()
            });
        }
        return expr;
    };

    function in_loop(cont) {
        ++S.in_loop;
        var ret = cont();
        --S.in_loop;
        return ret;
    };

    if (options.expression) {
        return expression(true);
    }

    return (function(){
        var start = S.token;
        var body = [];
        while (!is("eof"))
            body.push(statement());
        var end = prev();
        var toplevel = options.toplevel;
        if (toplevel) {
            toplevel.body = toplevel.body.concat(body);
            toplevel.end = end;
        } else {
            toplevel = new AST_Toplevel({ start: start, body: body, end: end });
        }
        return toplevel;
    })();

};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

// Tree transformer helpers.

function TreeTransformer(before, after) {
    TreeWalker.call(this);
    this.before = before;
    this.after = after;
}
TreeTransformer.prototype = new TreeWalker;

(function(undefined){

    function _(node, descend) {
        node.DEFMETHOD("transform", function(tw, in_list){
            var x, y;
            tw.push(this);
            if (tw.before) x = tw.before(this, descend, in_list);
            if (x === undefined) {
                if (!tw.after) {
                    x = this;
                    descend(x, tw);
                } else {
                    tw.stack[tw.stack.length - 1] = x = this.clone();
                    descend(x, tw);
                    y = tw.after(x, in_list);
                    if (y !== undefined) x = y;
                }
            }
            tw.pop();
            return x;
        });
    };

    function do_list(list, tw) {
        return MAP(list, function(node){
            return node.transform(tw, true);
        });
    };

    _(AST_Node, noop);

    _(AST_LabeledStatement, function(self, tw){
        self.label = self.label.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_SimpleStatement, function(self, tw){
        self.body = self.body.transform(tw);
    });

    _(AST_Block, function(self, tw){
        self.body = do_list(self.body, tw);
    });

    _(AST_DWLoop, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_For, function(self, tw){
        if (self.init) self.init = self.init.transform(tw);
        if (self.condition) self.condition = self.condition.transform(tw);
        if (self.step) self.step = self.step.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_ForIn, function(self, tw){
        self.init = self.init.transform(tw);
        self.object = self.object.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_With, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = self.body.transform(tw);
    });

    _(AST_Exit, function(self, tw){
        if (self.value) self.value = self.value.transform(tw);
    });

    _(AST_LoopControl, function(self, tw){
        if (self.label) self.label = self.label.transform(tw);
    });

    _(AST_If, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.body = self.body.transform(tw);
        if (self.alternative) self.alternative = self.alternative.transform(tw);
    });

    _(AST_Switch, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Case, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Try, function(self, tw){
        self.body = do_list(self.body, tw);
        if (self.bcatch) self.bcatch = self.bcatch.transform(tw);
        if (self.bfinally) self.bfinally = self.bfinally.transform(tw);
    });

    _(AST_Catch, function(self, tw){
        self.argname = self.argname.transform(tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Definitions, function(self, tw){
        self.definitions = do_list(self.definitions, tw);
    });

    _(AST_VarDef, function(self, tw){
        self.name = self.name.transform(tw);
        if (self.value) self.value = self.value.transform(tw);
    });

    _(AST_Lambda, function(self, tw){
        if (self.name) self.name = self.name.transform(tw);
        self.argnames = do_list(self.argnames, tw);
        self.body = do_list(self.body, tw);
    });

    _(AST_Call, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.args = do_list(self.args, tw);
    });

    _(AST_Seq, function(self, tw){
        self.car = self.car.transform(tw);
        self.cdr = self.cdr.transform(tw);
    });

    _(AST_Dot, function(self, tw){
        self.expression = self.expression.transform(tw);
    });

    _(AST_Sub, function(self, tw){
        self.expression = self.expression.transform(tw);
        self.property = self.property.transform(tw);
    });

    _(AST_Unary, function(self, tw){
        self.expression = self.expression.transform(tw);
    });

    _(AST_Binary, function(self, tw){
        self.left = self.left.transform(tw);
        self.right = self.right.transform(tw);
    });

    _(AST_Conditional, function(self, tw){
        self.condition = self.condition.transform(tw);
        self.consequent = self.consequent.transform(tw);
        self.alternative = self.alternative.transform(tw);
    });

    _(AST_Array, function(self, tw){
        self.elements = do_list(self.elements, tw);
    });

    _(AST_Object, function(self, tw){
        self.properties = do_list(self.properties, tw);
    });

    _(AST_ObjectProperty, function(self, tw){
        self.value = self.value.transform(tw);
    });

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function SymbolDef(scope, index, orig) {
    this.name = orig.name;
    this.orig = [ orig ];
    this.scope = scope;
    this.references = [];
    this.global = false;
    this.mangled_name = null;
    this.undeclared = false;
    this.constant = false;
    this.index = index;
};

SymbolDef.prototype = {
    unmangleable: function(options) {
        return (this.global && !(options && options.toplevel))
            || this.undeclared
            || (!(options && options.eval) && (this.scope.uses_eval || this.scope.uses_with));
    },
    mangle: function(options) {
        if (!this.mangled_name && !this.unmangleable(options)) {
            var s = this.scope;
            if (!options.screw_ie8 && this.orig[0] instanceof AST_SymbolLambda)
                s = s.parent_scope;
            this.mangled_name = s.next_mangled(options, this);
        }
    }
};

AST_Toplevel.DEFMETHOD("figure_out_scope", function(options){
    options = defaults(options, {
        screw_ie8: false
    });

    // pass 1: setup scope chaining and handle definitions
    var self = this;
    var scope = self.parent_scope = null;
    var defun = null;
    var nesting = 0;
    var tw = new TreeWalker(function(node, descend){
        if (options.screw_ie8 && node instanceof AST_Catch) {
            var save_scope = scope;
            scope = new AST_Scope(node);
            scope.init_scope_vars(nesting);
            scope.parent_scope = save_scope;
            descend();
            scope = save_scope;
            return true;
        }
        if (node instanceof AST_Scope) {
            node.init_scope_vars(nesting);
            var save_scope = node.parent_scope = scope;
            var save_defun = defun;
            defun = scope = node;
            ++nesting; descend(); --nesting;
            scope = save_scope;
            defun = save_defun;
            return true;        // don't descend again in TreeWalker
        }
        if (node instanceof AST_Directive) {
            node.scope = scope;
            push_uniq(scope.directives, node.value);
            return true;
        }
        if (node instanceof AST_With) {
            for (var s = scope; s; s = s.parent_scope)
                s.uses_with = true;
            return;
        }
        if (node instanceof AST_Symbol) {
            node.scope = scope;
        }
        if (node instanceof AST_SymbolLambda) {
            defun.def_function(node);
        }
        else if (node instanceof AST_SymbolDefun) {
            // Careful here, the scope where this should be defined is
            // the parent scope.  The reason is that we enter a new
            // scope when we encounter the AST_Defun node (which is
            // instanceof AST_Scope) but we get to the symbol a bit
            // later.
            (node.scope = defun.parent_scope).def_function(node);
        }
        else if (node instanceof AST_SymbolVar
                 || node instanceof AST_SymbolConst) {
            var def = defun.def_variable(node);
            def.constant = node instanceof AST_SymbolConst;
            def.init = tw.parent().value;
        }
        else if (node instanceof AST_SymbolCatch) {
            (options.screw_ie8 ? scope : defun)
                .def_variable(node);
        }
    });
    self.walk(tw);

    // pass 2: find back references and eval
    var func = null;
    var globals = self.globals = new Dictionary();
    var tw = new TreeWalker(function(node, descend){
        if (node instanceof AST_Lambda) {
            var prev_func = func;
            func = node;
            descend();
            func = prev_func;
            return true;
        }
        if (node instanceof AST_SymbolRef) {
            var name = node.name;
            var sym = node.scope.find_variable(name);
            if (!sym) {
                var g;
                if (globals.has(name)) {
                    g = globals.get(name);
                } else {
                    g = new SymbolDef(self, globals.size(), node);
                    g.undeclared = true;
                    g.global = true;
                    globals.set(name, g);
                }
                node.thedef = g;
                if (name == "eval" && tw.parent() instanceof AST_Call) {
                    for (var s = node.scope; s && !s.uses_eval; s = s.parent_scope)
                        s.uses_eval = true;
                }
                if (func && name == "arguments") {
                    func.uses_arguments = true;
                }
            } else {
                node.thedef = sym;
            }
            node.reference();
            return true;
        }
    });
    self.walk(tw);
});

AST_Scope.DEFMETHOD("init_scope_vars", function(nesting){
    this.directives = [];     // contains the directives defined in this scope, i.e. "use strict"
    this.variables = new Dictionary(); // map name to AST_SymbolVar (variables defined in this scope; includes functions)
    this.functions = new Dictionary(); // map name to AST_SymbolDefun (functions defined in this scope)
    this.uses_with = false;   // will be set to true if this or some nested scope uses the `with` statement
    this.uses_eval = false;   // will be set to true if this or nested scope uses the global `eval`
    this.parent_scope = null; // the parent scope
    this.enclosed = [];       // a list of variables from this or outer scope(s) that are referenced from this or inner scopes
    this.cname = -1;          // the current index for mangling functions/variables
    this.nesting = nesting;   // the nesting level of this scope (0 means toplevel)
});

AST_Scope.DEFMETHOD("strict", function(){
    return this.has_directive("use strict");
});

AST_Lambda.DEFMETHOD("init_scope_vars", function(){
    AST_Scope.prototype.init_scope_vars.apply(this, arguments);
    this.uses_arguments = false;
});

AST_SymbolRef.DEFMETHOD("reference", function() {
    var def = this.definition();
    def.references.push(this);
    var s = this.scope;
    while (s) {
        push_uniq(s.enclosed, def);
        if (s === def.scope) break;
        s = s.parent_scope;
    }
    this.frame = this.scope.nesting - def.scope.nesting;
});

AST_Scope.DEFMETHOD("find_variable", function(name){
    if (name instanceof AST_Symbol) name = name.name;
    return this.variables.get(name)
        || (this.parent_scope && this.parent_scope.find_variable(name));
});

AST_Scope.DEFMETHOD("has_directive", function(value){
    return this.parent_scope && this.parent_scope.has_directive(value)
        || (this.directives.indexOf(value) >= 0 ? this : null);
});

AST_Scope.DEFMETHOD("def_function", function(symbol){
    this.functions.set(symbol.name, this.def_variable(symbol));
});

AST_Scope.DEFMETHOD("def_variable", function(symbol){
    var def;
    if (!this.variables.has(symbol.name)) {
        def = new SymbolDef(this, this.variables.size(), symbol);
        this.variables.set(symbol.name, def);
        def.global = !this.parent_scope;
    } else {
        def = this.variables.get(symbol.name);
        def.orig.push(symbol);
    }
    return symbol.thedef = def;
});

AST_Scope.DEFMETHOD("next_mangled", function(options){
    var ext = this.enclosed;
    out: while (true) {
        var m = base54(++this.cname);
        if (!is_identifier(m)) continue; // skip over "do"

        // https://github.com/mishoo/UglifyJS2/issues/242 -- do not
        // shadow a name excepted from mangling.
        if (options.except.indexOf(m) >= 0) continue;

        // we must ensure that the mangled name does not shadow a name
        // from some parent scope that is referenced in this or in
        // inner scopes.
        for (var i = ext.length; --i >= 0;) {
            var sym = ext[i];
            var name = sym.mangled_name || (sym.unmangleable(options) && sym.name);
            if (m == name) continue out;
        }
        return m;
    }
});

AST_Function.DEFMETHOD("next_mangled", function(options, def){
    // #179, #326
    // in Safari strict mode, something like (function x(x){...}) is a syntax error;
    // a function expression's argument cannot shadow the function expression's name

    var tricky_def = def.orig[0] instanceof AST_SymbolFunarg && this.name && this.name.definition();
    while (true) {
        var name = AST_Lambda.prototype.next_mangled.call(this, options, def);
        if (!(tricky_def && tricky_def.mangled_name == name))
            return name;
    }
});

AST_Scope.DEFMETHOD("references", function(sym){
    if (sym instanceof AST_Symbol) sym = sym.definition();
    return this.enclosed.indexOf(sym) < 0 ? null : sym;
});

AST_Symbol.DEFMETHOD("unmangleable", function(options){
    return this.definition().unmangleable(options);
});

// property accessors are not mangleable
AST_SymbolAccessor.DEFMETHOD("unmangleable", function(){
    return true;
});

// labels are always mangleable
AST_Label.DEFMETHOD("unmangleable", function(){
    return false;
});

AST_Symbol.DEFMETHOD("unreferenced", function(){
    return this.definition().references.length == 0
        && !(this.scope.uses_eval || this.scope.uses_with);
});

AST_Symbol.DEFMETHOD("undeclared", function(){
    return this.definition().undeclared;
});

AST_LabelRef.DEFMETHOD("undeclared", function(){
    return false;
});

AST_Label.DEFMETHOD("undeclared", function(){
    return false;
});

AST_Symbol.DEFMETHOD("definition", function(){
    return this.thedef;
});

AST_Symbol.DEFMETHOD("global", function(){
    return this.definition().global;
});

AST_Toplevel.DEFMETHOD("_default_mangler_options", function(options){
    return defaults(options, {
        except   : [],
        eval     : false,
        sort     : false,
        toplevel : false,
        screw_ie8 : false
    });
});

AST_Toplevel.DEFMETHOD("mangle_names", function(options){
    options = this._default_mangler_options(options);
    // We only need to mangle declaration nodes.  Special logic wired
    // into the code generator will display the mangled name if it's
    // present (and for AST_SymbolRef-s it'll use the mangled name of
    // the AST_SymbolDeclaration that it points to).
    var lname = -1;
    var to_mangle = [];
    var tw = new TreeWalker(function(node, descend){
        if (node instanceof AST_LabeledStatement) {
            // lname is incremented when we get to the AST_Label
            var save_nesting = lname;
            descend();
            lname = save_nesting;
            return true;        // don't descend again in TreeWalker
        }
        if (node instanceof AST_Scope) {
            var p = tw.parent(), a = [];
            node.variables.each(function(symbol){
                if (options.except.indexOf(symbol.name) < 0) {
                    a.push(symbol);
                }
            });
            if (options.sort) a.sort(function(a, b){
                return b.references.length - a.references.length;
            });
            to_mangle.push.apply(to_mangle, a);
            return;
        }
        if (node instanceof AST_Label) {
            var name;
            do name = base54(++lname); while (!is_identifier(name));
            node.mangled_name = name;
            return true;
        }
        if (options.screw_ie8 && node instanceof AST_SymbolCatch) {
            to_mangle.push(node.definition());
            return;
        }
    });
    this.walk(tw);
    to_mangle.forEach(function(def){ def.mangle(options) });
});

AST_Toplevel.DEFMETHOD("compute_char_frequency", function(options){
    options = this._default_mangler_options(options);
    var tw = new TreeWalker(function(node){
        if (node instanceof AST_Constant)
            base54.consider(node.print_to_string());
        else if (node instanceof AST_Return)
            base54.consider("return");
        else if (node instanceof AST_Throw)
            base54.consider("throw");
        else if (node instanceof AST_Continue)
            base54.consider("continue");
        else if (node instanceof AST_Break)
            base54.consider("break");
        else if (node instanceof AST_Debugger)
            base54.consider("debugger");
        else if (node instanceof AST_Directive)
            base54.consider(node.value);
        else if (node instanceof AST_While)
            base54.consider("while");
        else if (node instanceof AST_Do)
            base54.consider("do while");
        else if (node instanceof AST_If) {
            base54.consider("if");
            if (node.alternative) base54.consider("else");
        }
        else if (node instanceof AST_Var)
            base54.consider("var");
        else if (node instanceof AST_Const)
            base54.consider("const");
        else if (node instanceof AST_Lambda)
            base54.consider("function");
        else if (node instanceof AST_For)
            base54.consider("fo" + "r");
        else if (node instanceof AST_ForIn)
            base54.consider("for in");
        else if (node instanceof AST_Switch)
            base54.consider("switch");
        else if (node instanceof AST_Case)
            base54.consider("case");
        else if (node instanceof AST_Default)
            base54.consider("default");
        else if (node instanceof AST_With)
            base54.consider("with");
        else if (node instanceof AST_ObjectSetter)
            base54.consider("set" + node.key);
        else if (node instanceof AST_ObjectGetter)
            base54.consider("get" + node.key);
        else if (node instanceof AST_ObjectKeyVal)
            base54.consider(node.key);
        else if (node instanceof AST_New)
            base54.consider("new");
        else if (node instanceof AST_This)
            base54.consider("this");
        else if (node instanceof AST_Try)
            base54.consider("try");
        else if (node instanceof AST_Catch)
            base54.consider("catch");
        else if (node instanceof AST_Finally)
            base54.consider("finally");
        else if (node instanceof AST_Symbol && node.unmangleable(options))
            base54.consider(node.name);
        else if (node instanceof AST_Unary || node instanceof AST_Binary)
            base54.consider(node.operator);
        else if (node instanceof AST_Dot)
            base54.consider(node.property);
    });
    this.walk(tw);
    base54.sort();
});

var base54 = (function() {
    var string = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";
    var chars, frequency;
    function reset() {
        frequency = Object.create(null);
        chars = string.split("").map(function(ch){ return ch.charCodeAt(0) });
        chars.forEach(function(ch){ frequency[ch] = 0 });
    }
    base54.consider = function(str){
        for (var i = str.length; --i >= 0;) {
            var code = str.charCodeAt(i);
            if (code in frequency) ++frequency[code];
        }
    };
    base54.sort = function() {
        chars = mergeSort(chars, function(a, b){
            if (is_digit(a) && !is_digit(b)) return 1;
            if (is_digit(b) && !is_digit(a)) return -1;
            return frequency[b] - frequency[a];
        });
    };
    base54.reset = reset;
    reset();
    base54.get = function(){ return chars };
    base54.freq = function(){ return frequency };
    function base54(num) {
        var ret = "", base = 54;
        do {
            ret += String.fromCharCode(chars[num % base]);
            num = Math.floor(num / base);
            base = 64;
        } while (num > 0);
        return ret;
    };
    return base54;
})();

AST_Toplevel.DEFMETHOD("scope_warnings", function(options){
    options = defaults(options, {
        undeclared       : false, // this makes a lot of noise
        unreferenced     : true,
        assign_to_global : true,
        func_arguments   : true,
        nested_defuns    : true,
        eval             : true
    });
    var tw = new TreeWalker(function(node){
        if (options.undeclared
            && node instanceof AST_SymbolRef
            && node.undeclared())
        {
            // XXX: this also warns about JS standard names,
            // i.e. Object, Array, parseInt etc.  Should add a list of
            // exceptions.
            AST_Node.warn("Undeclared symbol: {name} [{file}:{line},{col}]", {
                name: node.name,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.assign_to_global)
        {
            var sym = null;
            if (node instanceof AST_Assign && node.left instanceof AST_SymbolRef)
                sym = node.left;
            else if (node instanceof AST_ForIn && node.init instanceof AST_SymbolRef)
                sym = node.init;
            if (sym
                && (sym.undeclared()
                    || (sym.global() && sym.scope !== sym.definition().scope))) {
                AST_Node.warn("{msg}: {name} [{file}:{line},{col}]", {
                    msg: sym.undeclared() ? "Accidental global?" : "Assignment to global",
                    name: sym.name,
                    file: sym.start.file,
                    line: sym.start.line,
                    col: sym.start.col
                });
            }
        }
        if (options.eval
            && node instanceof AST_SymbolRef
            && node.undeclared()
            && node.name == "eval") {
            AST_Node.warn("Eval is used [{file}:{line},{col}]", node.start);
        }
        if (options.unreferenced
            && (node instanceof AST_SymbolDeclaration || node instanceof AST_Label)
            && node.unreferenced()) {
            AST_Node.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]", {
                type: node instanceof AST_Label ? "Label" : "Symbol",
                name: node.name,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.func_arguments
            && node instanceof AST_Lambda
            && node.uses_arguments) {
            AST_Node.warn("arguments used in function {name} [{file}:{line},{col}]", {
                name: node.name ? node.name.name : "anonymous",
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
        if (options.nested_defuns
            && node instanceof AST_Defun
            && !(tw.parent() instanceof AST_Scope)) {
            AST_Node.warn("Function {name} declared in nested statement \"{type}\" [{file}:{line},{col}]", {
                name: node.name.name,
                type: tw.parent().TYPE,
                file: node.start.file,
                line: node.start.line,
                col: node.start.col
            });
        }
    });
    this.walk(tw);
});

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function OutputStream(options) {

    options = defaults(options, {
        indent_start     : 0,
        indent_level     : 4,
        quote_keys       : false,
        space_colon      : true,
        ascii_only       : false,
        unescape_regexps : false,
        inline_script    : false,
        width            : 80,
        max_line_len     : 32000,
        beautify         : false,
        source_map       : null,
        bracketize       : false,
        semicolons       : true,
        comments         : false,
        preserve_line    : false,
        screw_ie8        : false,
        preamble         : null,
    }, true);

    var indentation = 0;
    var current_col = 0;
    var current_line = 1;
    var current_pos = 0;
    var OUTPUT = "";

    function to_ascii(str, identifier) {
        return str.replace(/[\u0080-\uffff]/g, function(ch) {
            var code = ch.charCodeAt(0).toString(16);
            if (code.length <= 2 && !identifier) {
                while (code.length < 2) code = "0" + code;
                return "\\x" + code;
            } else {
                while (code.length < 4) code = "0" + code;
                return "\\u" + code;
            }
        });
    };

    function make_string(str) {
        var dq = 0, sq = 0;
        str = str.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g, function(s){
            switch (s) {
              case "\\": return "\\\\";
              case "\b": return "\\b";
              case "\f": return "\\f";
              case "\n": return "\\n";
              case "\r": return "\\r";
              case "\u2028": return "\\u2028";
              case "\u2029": return "\\u2029";
              case '"': ++dq; return '"';
              case "'": ++sq; return "'";
              case "\0": return "\\x00";
            }
            return s;
        });
        if (options.ascii_only) str = to_ascii(str);
        if (dq > sq) return "'" + str.replace(/\x27/g, "\\'") + "'";
        else return '"' + str.replace(/\x22/g, '\\"') + '"';
    };

    function encode_string(str) {
        var ret = make_string(str);
        if (options.inline_script)
            ret = ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi, "<\\/script$1");
        return ret;
    };

    function make_name(name) {
        name = name.toString();
        if (options.ascii_only)
            name = to_ascii(name, true);
        return name;
    };

    function make_indent(back) {
        return repeat_string(" ", options.indent_start + indentation - back * options.indent_level);
    };

    /* -----[ beautification/minification ]----- */

    var might_need_space = false;
    var might_need_semicolon = false;
    var last = null;

    function last_char() {
        return last.charAt(last.length - 1);
    };

    function maybe_newline() {
        if (options.max_line_len && current_col > options.max_line_len)
            print("\n");
    };

    var requireSemicolonChars = makePredicate("( [ + * / - , .");

    function print(str) {
        str = String(str);
        var ch = str.charAt(0);
        if (might_need_semicolon) {
            if ((!ch || ";}".indexOf(ch) < 0) && !/[;]$/.test(last)) {
                if (options.semicolons || requireSemicolonChars(ch)) {
                    OUTPUT += ";";
                    current_col++;
                    current_pos++;
                } else {
                    OUTPUT += "\n";
                    current_pos++;
                    current_line++;
                    current_col = 0;
                }
                if (!options.beautify)
                    might_need_space = false;
            }
            might_need_semicolon = false;
            maybe_newline();
        }

        if (!options.beautify && options.preserve_line && stack[stack.length - 1]) {
            var target_line = stack[stack.length - 1].start.line;
            while (current_line < target_line) {
                OUTPUT += "\n";
                current_pos++;
                current_line++;
                current_col = 0;
                might_need_space = false;
            }
        }

        if (might_need_space) {
            var prev = last_char();
            if ((is_identifier_char(prev)
                 && (is_identifier_char(ch) || ch == "\\"))
                || (/^[\+\-\/]$/.test(ch) && ch == prev))
            {
                OUTPUT += " ";
                current_col++;
                current_pos++;
            }
            might_need_space = false;
        }
        var a = str.split(/\r?\n/), n = a.length - 1;
        current_line += n;
        if (n == 0) {
            current_col += a[n].length;
        } else {
            current_col = a[n].length;
        }
        current_pos += str.length;
        last = str;
        OUTPUT += str;
    };

    var space = options.beautify ? function() {
        print(" ");
    } : function() {
        might_need_space = true;
    };

    var indent = options.beautify ? function(half) {
        if (options.beautify) {
            print(make_indent(half ? 0.5 : 0));
        }
    } : noop;

    var with_indent = options.beautify ? function(col, cont) {
        if (col === true) col = next_indent();
        var save_indentation = indentation;
        indentation = col;
        var ret = cont();
        indentation = save_indentation;
        return ret;
    } : function(col, cont) { return cont() };

    var newline = options.beautify ? function() {
        print("\n");
    } : noop;

    var semicolon = options.beautify ? function() {
        print(";");
    } : function() {
        might_need_semicolon = true;
    };

    function force_semicolon() {
        might_need_semicolon = false;
        print(";");
    };

    function next_indent() {
        return indentation + options.indent_level;
    };

    function with_block(cont) {
        var ret;
        print("{");
        newline();
        with_indent(next_indent(), function(){
            ret = cont();
        });
        indent();
        print("}");
        return ret;
    };

    function with_parens(cont) {
        print("(");
        //XXX: still nice to have that for argument lists
        //var ret = with_indent(current_col, cont);
        var ret = cont();
        print(")");
        return ret;
    };

    function with_square(cont) {
        print("[");
        //var ret = with_indent(current_col, cont);
        var ret = cont();
        print("]");
        return ret;
    };

    function comma() {
        print(",");
        space();
    };

    function colon() {
        print(":");
        if (options.space_colon) space();
    };

    var add_mapping = options.source_map ? function(token, name) {
        try {
            if (token) options.source_map.add(
                token.file || "?",
                current_line, current_col,
                token.line, token.col,
                (!name && token.type == "name") ? token.value : name
            );
        } catch(ex) {
            AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]", {
                file: token.file,
                line: token.line,
                col: token.col,
                cline: current_line,
                ccol: current_col,
                name: name || ""
            })
        }
    } : noop;

    function get() {
        return OUTPUT;
    };

    if (options.preamble) {
        print(options.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g, "\n"));
    }

    var stack = [];
    return {
        get             : get,
        toString        : get,
        indent          : indent,
        indentation     : function() { return indentation },
        current_width   : function() { return current_col - indentation },
        should_break    : function() { return options.width && this.current_width() >= options.width },
        newline         : newline,
        print           : print,
        space           : space,
        comma           : comma,
        colon           : colon,
        last            : function() { return last },
        semicolon       : semicolon,
        force_semicolon : force_semicolon,
        to_ascii        : to_ascii,
        print_name      : function(name) { print(make_name(name)) },
        print_string    : function(str) { print(encode_string(str)) },
        next_indent     : next_indent,
        with_indent     : with_indent,
        with_block      : with_block,
        with_parens     : with_parens,
        with_square     : with_square,
        add_mapping     : add_mapping,
        option          : function(opt) { return options[opt] },
        line            : function() { return current_line },
        col             : function() { return current_col },
        pos             : function() { return current_pos },
        push_node       : function(node) { stack.push(node) },
        pop_node        : function() { return stack.pop() },
        stack           : function() { return stack },
        parent          : function(n) {
            return stack[stack.length - 2 - (n || 0)];
        }
    };

};

/* -----[ code generators ]----- */

(function(){

    /* -----[ utils ]----- */

    function DEFPRINT(nodetype, generator) {
        nodetype.DEFMETHOD("_codegen", generator);
    };

    AST_Node.DEFMETHOD("print", function(stream, force_parens){
        var self = this, generator = self._codegen;
        function doit() {
            self.add_comments(stream);
            self.add_source_map(stream);
            generator(self, stream);
        }
        stream.push_node(self);
        if (force_parens || self.needs_parens(stream)) {
            stream.with_parens(doit);
        } else {
            doit();
        }
        stream.pop_node();
    });

    AST_Node.DEFMETHOD("print_to_string", function(options){
        var s = OutputStream(options);
        this.print(s);
        return s.get();
    });

    /* -----[ comments ]----- */

    AST_Node.DEFMETHOD("add_comments", function(output){
        var c = output.option("comments"), self = this;
        if (c) {
            var start = self.start;
            if (start && !start._comments_dumped) {
                start._comments_dumped = true;
                var comments = start.comments_before || [];

                // XXX: ugly fix for https://github.com/mishoo/UglifyJS2/issues/112
                //               and https://github.com/mishoo/UglifyJS2/issues/372
                if (self instanceof AST_Exit && self.value) {
                    self.value.walk(new TreeWalker(function(node){
                        if (node.start && node.start.comments_before) {
                            comments = comments.concat(node.start.comments_before);
                            node.start.comments_before = [];
                        }
                        if (node instanceof AST_Function ||
                            node instanceof AST_Array ||
                            node instanceof AST_Object)
                        {
                            return true; // don't go inside.
                        }
                    }));
                }

                if (c.test) {
                    comments = comments.filter(function(comment){
                        return c.test(comment.value);
                    });
                } else if (typeof c == "function") {
                    comments = comments.filter(function(comment){
                        return c(self, comment);
                    });
                }
                comments.forEach(function(c){
                    if (/comment[134]/.test(c.type)) {
                        output.print("//" + c.value + "\n");
                        output.indent();
                    }
                    else if (c.type == "comment2") {
                        output.print("/*" + c.value + "*/");
                        if (start.nlb) {
                            output.print("\n");
                            output.indent();
                        } else {
                            output.space();
                        }
                    }
                });
            }
        }
    });

    /* -----[ PARENTHESES ]----- */

    function PARENS(nodetype, func) {
        nodetype.DEFMETHOD("needs_parens", func);
    };

    PARENS(AST_Node, function(){
        return false;
    });

    // a function expression needs parens around it when it's provably
    // the first token to appear in a statement.
    PARENS(AST_Function, function(output){
        return first_in_statement(output);
    });

    // same goes for an object literal, because otherwise it would be
    // interpreted as a block of code.
    PARENS(AST_Object, function(output){
        return first_in_statement(output);
    });

    PARENS(AST_Unary, function(output){
        var p = output.parent();
        return p instanceof AST_PropAccess && p.expression === this;
    });

    PARENS(AST_Seq, function(output){
        var p = output.parent();
        return p instanceof AST_Call             // (foo, bar)() or foo(1, (2, 3), 4)
            || p instanceof AST_Unary            // !(foo, bar, baz)
            || p instanceof AST_Binary           // 1 + (2, 3) + 4 ==> 8
            || p instanceof AST_VarDef           // var a = (1, 2), b = a + a; ==> b == 4
            || p instanceof AST_PropAccess       // (1, {foo:2}).foo or (1, {foo:2})["foo"] ==> 2
            || p instanceof AST_Array            // [ 1, (2, 3), 4 ] ==> [ 1, 3, 4 ]
            || p instanceof AST_ObjectProperty   // { foo: (1, 2) }.foo ==> 2
            || p instanceof AST_Conditional      /* (false, true) ? (a = 10, b = 20) : (c = 30)
                                                  * ==> 20 (side effect, set a := 10 and b := 20) */
        ;
    });

    PARENS(AST_Binary, function(output){
        var p = output.parent();
        // (foo && bar)()
        if (p instanceof AST_Call && p.expression === this)
            return true;
        // typeof (foo && bar)
        if (p instanceof AST_Unary)
            return true;
        // (foo && bar)["prop"], (foo && bar).prop
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
        // this deals with precedence: 3 * (2 + 1)
        if (p instanceof AST_Binary) {
            var po = p.operator, pp = PRECEDENCE[po];
            var so = this.operator, sp = PRECEDENCE[so];
            if (pp > sp
                || (pp == sp
                    && this === p.right)) {
                return true;
            }
        }
    });

    PARENS(AST_PropAccess, function(output){
        var p = output.parent();
        if (p instanceof AST_New && p.expression === this) {
            // i.e. new (foo.bar().baz)
            //
            // if there's one call into this subtree, then we need
            // parens around it too, otherwise the call will be
            // interpreted as passing the arguments to the upper New
            // expression.
            try {
                this.walk(new TreeWalker(function(node){
                    if (node instanceof AST_Call) throw p;
                }));
            } catch(ex) {
                if (ex !== p) throw ex;
                return true;
            }
        }
    });

    PARENS(AST_Call, function(output){
        var p = output.parent(), p1;
        if (p instanceof AST_New && p.expression === this)
            return true;

        // workaround for Safari bug.
        // https://bugs.webkit.org/show_bug.cgi?id=123506
        return this.expression instanceof AST_Function
            && p instanceof AST_PropAccess
            && p.expression === this
            && (p1 = output.parent(1)) instanceof AST_Assign
            && p1.left === p;
    });

    PARENS(AST_New, function(output){
        var p = output.parent();
        if (no_constructor_parens(this, output)
            && (p instanceof AST_PropAccess // (new Date).getTime(), (new Date)["getTime"]()
                || p instanceof AST_Call && p.expression === this)) // (new foo)(bar)
            return true;
    });

    PARENS(AST_Number, function(output){
        var p = output.parent();
        if (this.getValue() < 0 && p instanceof AST_PropAccess && p.expression === this)
            return true;
    });

    PARENS(AST_NaN, function(output){
        var p = output.parent();
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
    });

    function assign_and_conditional_paren_rules(output) {
        var p = output.parent();
        // !(a = false) → true
        if (p instanceof AST_Unary)
            return true;
        // 1 + (a = 2) + 3 → 6, side effect setting a = 2
        if (p instanceof AST_Binary && !(p instanceof AST_Assign))
            return true;
        // (a = func)() —or— new (a = Object)()
        if (p instanceof AST_Call && p.expression === this)
            return true;
        // (a = foo) ? bar : baz
        if (p instanceof AST_Conditional && p.condition === this)
            return true;
        // (a = foo)["prop"] —or— (a = foo).prop
        if (p instanceof AST_PropAccess && p.expression === this)
            return true;
    };

    PARENS(AST_Assign, assign_and_conditional_paren_rules);
    PARENS(AST_Conditional, assign_and_conditional_paren_rules);

    /* -----[ PRINTERS ]----- */

    DEFPRINT(AST_Directive, function(self, output){
        output.print_string(self.value);
        output.semicolon();
    });
    DEFPRINT(AST_Debugger, function(self, output){
        output.print("debugger");
        output.semicolon();
    });

    /* -----[ statements ]----- */

    function display_body(body, is_toplevel, output) {
        var last = body.length - 1;
        body.forEach(function(stmt, i){
            if (!(stmt instanceof AST_EmptyStatement)) {
                output.indent();
                stmt.print(output);
                if (!(i == last && is_toplevel)) {
                    output.newline();
                    if (is_toplevel) output.newline();
                }
            }
        });
    };

    AST_StatementWithBody.DEFMETHOD("_do_print_body", function(output){
        force_statement(this.body, output);
    });

    DEFPRINT(AST_Statement, function(self, output){
        self.body.print(output);
        output.semicolon();
    });
    DEFPRINT(AST_Toplevel, function(self, output){
        display_body(self.body, true, output);
        output.print("");
    });
    DEFPRINT(AST_LabeledStatement, function(self, output){
        self.label.print(output);
        output.colon();
        self.body.print(output);
    });
    DEFPRINT(AST_SimpleStatement, function(self, output){
        self.body.print(output);
        output.semicolon();
    });
    function print_bracketed(body, output) {
        if (body.length > 0) output.with_block(function(){
            display_body(body, false, output);
        });
        else output.print("{}");
    };
    DEFPRINT(AST_BlockStatement, function(self, output){
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_EmptyStatement, function(self, output){
        output.semicolon();
    });
    DEFPRINT(AST_Do, function(self, output){
        output.print("do");
        output.space();
        self._do_print_body(output);
        output.space();
        output.print("while");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.semicolon();
    });
    DEFPRINT(AST_While, function(self, output){
        output.print("while");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_For, function(self, output){
        output.print("fo" + "r");
        output.space();
        output.with_parens(function(){
            if (self.init && !(self.init instanceof AST_EmptyStatement)) {
                if (self.init instanceof AST_Definitions) {
                    self.init.print(output);
                } else {
                    parenthesize_for_noin(self.init, output, true);
                }
                output.print(";");
                output.space();
            } else {
                output.print(";");
            }
            if (self.condition) {
                self.condition.print(output);
                output.print(";");
                output.space();
            } else {
                output.print(";");
            }
            if (self.step) {
                self.step.print(output);
            }
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_ForIn, function(self, output){
        output.print("fo" + "r");
        output.space();
        output.with_parens(function(){
            self.init.print(output);
            output.space();
            output.print("in");
            output.space();
            self.object.print(output);
        });
        output.space();
        self._do_print_body(output);
    });
    DEFPRINT(AST_With, function(self, output){
        output.print("with");
        output.space();
        output.with_parens(function(){
            self.expression.print(output);
        });
        output.space();
        self._do_print_body(output);
    });

    /* -----[ functions ]----- */
    AST_Lambda.DEFMETHOD("_do_print", function(output, nokeyword){
        var self = this;
        if (!nokeyword) {
            output.print("function");
        }
        if (self.name) {
            output.space();
            self.name.print(output);
        }
        output.with_parens(function(){
            self.argnames.forEach(function(arg, i){
                if (i) output.comma();
                arg.print(output);
            });
        });
        output.space();
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_Lambda, function(self, output){
        self._do_print(output);
    });

    /* -----[ exits ]----- */
    AST_Exit.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        if (this.value) {
            output.space();
            this.value.print(output);
        }
        output.semicolon();
    });
    DEFPRINT(AST_Return, function(self, output){
        self._do_print(output, "return");
    });
    DEFPRINT(AST_Throw, function(self, output){
        self._do_print(output, "throw");
    });

    /* -----[ loop control ]----- */
    AST_LoopControl.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        if (this.label) {
            output.space();
            this.label.print(output);
        }
        output.semicolon();
    });
    DEFPRINT(AST_Break, function(self, output){
        self._do_print(output, "break");
    });
    DEFPRINT(AST_Continue, function(self, output){
        self._do_print(output, "continue");
    });

    /* -----[ if ]----- */
    function make_then(self, output) {
        if (output.option("bracketize")) {
            make_block(self.body, output);
            return;
        }
        // The squeezer replaces "block"-s that contain only a single
        // statement with the statement itself; technically, the AST
        // is correct, but this can create problems when we output an
        // IF having an ELSE clause where the THEN clause ends in an
        // IF *without* an ELSE block (then the outer ELSE would refer
        // to the inner IF).  This function checks for this case and
        // adds the block brackets if needed.
        if (!self.body)
            return output.force_semicolon();
        if (self.body instanceof AST_Do
            && !output.option("screw_ie8")) {
            // https://github.com/mishoo/UglifyJS/issues/#issue/57 IE
            // croaks with "syntax error" on code like this: if (foo)
            // do ... while(cond); else ...  we need block brackets
            // around do/while
            make_block(self.body, output);
            return;
        }
        var b = self.body;
        while (true) {
            if (b instanceof AST_If) {
                if (!b.alternative) {
                    make_block(self.body, output);
                    return;
                }
                b = b.alternative;
            }
            else if (b instanceof AST_StatementWithBody) {
                b = b.body;
            }
            else break;
        }
        force_statement(self.body, output);
    };
    DEFPRINT(AST_If, function(self, output){
        output.print("if");
        output.space();
        output.with_parens(function(){
            self.condition.print(output);
        });
        output.space();
        if (self.alternative) {
            make_then(self, output);
            output.space();
            output.print("else");
            output.space();
            force_statement(self.alternative, output);
        } else {
            self._do_print_body(output);
        }
    });

    /* -----[ switch ]----- */
    DEFPRINT(AST_Switch, function(self, output){
        output.print("switch");
        output.space();
        output.with_parens(function(){
            self.expression.print(output);
        });
        output.space();
        if (self.body.length > 0) output.with_block(function(){
            self.body.forEach(function(stmt, i){
                if (i) output.newline();
                output.indent(true);
                stmt.print(output);
            });
        });
        else output.print("{}");
    });
    AST_SwitchBranch.DEFMETHOD("_do_print_body", function(output){
        if (this.body.length > 0) {
            output.newline();
            this.body.forEach(function(stmt){
                output.indent();
                stmt.print(output);
                output.newline();
            });
        }
    });
    DEFPRINT(AST_Default, function(self, output){
        output.print("default:");
        self._do_print_body(output);
    });
    DEFPRINT(AST_Case, function(self, output){
        output.print("case");
        output.space();
        self.expression.print(output);
        output.print(":");
        self._do_print_body(output);
    });

    /* -----[ exceptions ]----- */
    DEFPRINT(AST_Try, function(self, output){
        output.print("try");
        output.space();
        print_bracketed(self.body, output);
        if (self.bcatch) {
            output.space();
            self.bcatch.print(output);
        }
        if (self.bfinally) {
            output.space();
            self.bfinally.print(output);
        }
    });
    DEFPRINT(AST_Catch, function(self, output){
        output.print("catch");
        output.space();
        output.with_parens(function(){
            self.argname.print(output);
        });
        output.space();
        print_bracketed(self.body, output);
    });
    DEFPRINT(AST_Finally, function(self, output){
        output.print("finally");
        output.space();
        print_bracketed(self.body, output);
    });

    /* -----[ var/const ]----- */
    AST_Definitions.DEFMETHOD("_do_print", function(output, kind){
        output.print(kind);
        output.space();
        this.definitions.forEach(function(def, i){
            if (i) output.comma();
            def.print(output);
        });
        var p = output.parent();
        var in_for = p instanceof AST_For || p instanceof AST_ForIn;
        var avoid_semicolon = in_for && p.init === this;
        if (!avoid_semicolon)
            output.semicolon();
    });
    DEFPRINT(AST_Var, function(self, output){
        self._do_print(output, "var");
    });
    DEFPRINT(AST_Const, function(self, output){
        self._do_print(output, "const");
    });

    function parenthesize_for_noin(node, output, noin) {
        if (!noin) node.print(output);
        else try {
            // need to take some precautions here:
            //    https://github.com/mishoo/UglifyJS2/issues/60
            node.walk(new TreeWalker(function(node){
                if (node instanceof AST_Binary && node.operator == "in")
                    throw output;
            }));
            node.print(output);
        } catch(ex) {
            if (ex !== output) throw ex;
            node.print(output, true);
        }
    };

    DEFPRINT(AST_VarDef, function(self, output){
        self.name.print(output);
        if (self.value) {
            output.space();
            output.print("=");
            output.space();
            var p = output.parent(1);
            var noin = p instanceof AST_For || p instanceof AST_ForIn;
            parenthesize_for_noin(self.value, output, noin);
        }
    });

    /* -----[ other expressions ]----- */
    DEFPRINT(AST_Call, function(self, output){
        self.expression.print(output);
        if (self instanceof AST_New && no_constructor_parens(self, output))
            return;
        output.with_parens(function(){
            self.args.forEach(function(expr, i){
                if (i) output.comma();
                expr.print(output);
            });
        });
    });
    DEFPRINT(AST_New, function(self, output){
        output.print("new");
        output.space();
        AST_Call.prototype._codegen(self, output);
    });

    AST_Seq.DEFMETHOD("_do_print", function(output){
        this.car.print(output);
        if (this.cdr) {
            output.comma();
            if (output.should_break()) {
                output.newline();
                output.indent();
            }
            this.cdr.print(output);
        }
    });
    DEFPRINT(AST_Seq, function(self, output){
        self._do_print(output);
        // var p = output.parent();
        // if (p instanceof AST_Statement) {
        //     output.with_indent(output.next_indent(), function(){
        //         self._do_print(output);
        //     });
        // } else {
        //     self._do_print(output);
        // }
    });
    DEFPRINT(AST_Dot, function(self, output){
        var expr = self.expression;
        expr.print(output);
        if (expr instanceof AST_Number && expr.getValue() >= 0) {
            if (!/[xa-f.]/i.test(output.last())) {
                output.print(".");
            }
        }
        output.print(".");
        // the name after dot would be mapped about here.
        output.add_mapping(self.end);
        output.print_name(self.property);
    });
    DEFPRINT(AST_Sub, function(self, output){
        self.expression.print(output);
        output.print("[");
        self.property.print(output);
        output.print("]");
    });
    DEFPRINT(AST_UnaryPrefix, function(self, output){
        var op = self.operator;
        output.print(op);
        if (/^[a-z]/i.test(op)
            || (/[+-]$/.test(op)
                && self.expression instanceof AST_UnaryPrefix
                && /^[+-]/.test(self.expression.operator))) {
            output.space();
        }
        self.expression.print(output);
    });
    DEFPRINT(AST_UnaryPostfix, function(self, output){
        self.expression.print(output);
        output.print(self.operator);
    });
    DEFPRINT(AST_Binary, function(self, output){
        self.left.print(output);
        output.space();
        output.print(self.operator);
        if (self.operator == "<"
            && self.right instanceof AST_UnaryPrefix
            && self.right.operator == "!"
            && self.right.expression instanceof AST_UnaryPrefix
            && self.right.expression.operator == "--") {
            // space is mandatory to avoid outputting <!--
            // http://javascript.spec.whatwg.org/#comment-syntax
            output.print(" ");
        } else {
            // the space is optional depending on "beautify"
            output.space();
        }
        self.right.print(output);
    });
    DEFPRINT(AST_Conditional, function(self, output){
        self.condition.print(output);
        output.space();
        output.print("?");
        output.space();
        self.consequent.print(output);
        output.space();
        output.colon();
        self.alternative.print(output);
    });

    /* -----[ literals ]----- */
    DEFPRINT(AST_Array, function(self, output){
        output.with_square(function(){
            var a = self.elements, len = a.length;
            if (len > 0) output.space();
            a.forEach(function(exp, i){
                if (i) output.comma();
                exp.print(output);
                // If the final element is a hole, we need to make sure it
                // doesn't look like a trailing comma, by inserting an actual
                // trailing comma.
                if (i === len - 1 && exp instanceof AST_Hole)
                  output.comma();
            });
            if (len > 0) output.space();
        });
    });
    DEFPRINT(AST_Object, function(self, output){
        if (self.properties.length > 0) output.with_block(function(){
            self.properties.forEach(function(prop, i){
                if (i) {
                    output.print(",");
                    output.newline();
                }
                output.indent();
                prop.print(output);
            });
            output.newline();
        });
        else output.print("{}");
    });
    DEFPRINT(AST_ObjectKeyVal, function(self, output){
        var key = self.key;
        if (output.option("quote_keys")) {
            output.print_string(key + "");
        } else if ((typeof key == "number"
                    || !output.option("beautify")
                    && +key + "" == key)
                   && parseFloat(key) >= 0) {
            output.print(make_num(key));
        } else if (RESERVED_WORDS(key) ? output.option("screw_ie8") : is_identifier_string(key)) {
            output.print_name(key);
        } else {
            output.print_string(key);
        }
        output.colon();
        self.value.print(output);
    });
    DEFPRINT(AST_ObjectSetter, function(self, output){
        output.print("set");
        output.space();
        self.key.print(output);
        self.value._do_print(output, true);
    });
    DEFPRINT(AST_ObjectGetter, function(self, output){
        output.print("get");
        output.space();
        self.key.print(output);
        self.value._do_print(output, true);
    });
    DEFPRINT(AST_Symbol, function(self, output){
        var def = self.definition();
        output.print_name(def ? def.mangled_name || def.name : self.name);
    });
    DEFPRINT(AST_Undefined, function(self, output){
        output.print("void 0");
    });
    DEFPRINT(AST_Hole, noop);
    DEFPRINT(AST_Infinity, function(self, output){
        output.print("1/0");
    });
    DEFPRINT(AST_NaN, function(self, output){
        output.print("0/0");
    });
    DEFPRINT(AST_This, function(self, output){
        output.print("this");
    });
    DEFPRINT(AST_Constant, function(self, output){
        output.print(self.getValue());
    });
    DEFPRINT(AST_String, function(self, output){
        output.print_string(self.getValue());
    });
    DEFPRINT(AST_Number, function(self, output){
        output.print(make_num(self.getValue()));
    });

    function regexp_safe_literal(code) {
        return [
            0x5c   , // \
            0x2f   , // /
            0x2e   , // .
            0x2b   , // +
            0x2a   , // *
            0x3f   , // ?
            0x28   , // (
            0x29   , // )
            0x5b   , // [
            0x5d   , // ]
            0x7b   , // {
            0x7d   , // }
            0x24   , // $
            0x5e   , // ^
            0x3a   , // :
            0x7c   , // |
            0x21   , // !
            0x0a   , // \n
            0x0d   , // \r
            0x00   , // \0
            0xfeff , // Unicode BOM
            0x2028 , // unicode "line separator"
            0x2029 , // unicode "paragraph separator"
        ].indexOf(code) < 0;
    };

    DEFPRINT(AST_RegExp, function(self, output){
        var str = self.getValue().toString();
        if (output.option("ascii_only")) {
            str = output.to_ascii(str);
        } else if (output.option("unescape_regexps")) {
            str = str.split("\\\\").map(function(str){
                return str.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g, function(s){
                    var code = parseInt(s.substr(2), 16);
                    return regexp_safe_literal(code) ? String.fromCharCode(code) : s;
                });
            }).join("\\\\");
        }
        output.print(str);
        var p = output.parent();
        if (p instanceof AST_Binary && /^in/.test(p.operator) && p.left === self)
            output.print(" ");
    });

    function force_statement(stat, output) {
        if (output.option("bracketize")) {
            if (!stat || stat instanceof AST_EmptyStatement)
                output.print("{}");
            else if (stat instanceof AST_BlockStatement)
                stat.print(output);
            else output.with_block(function(){
                output.indent();
                stat.print(output);
                output.newline();
            });
        } else {
            if (!stat || stat instanceof AST_EmptyStatement)
                output.force_semicolon();
            else
                stat.print(output);
        }
    };

    // return true if the node at the top of the stack (that means the
    // innermost node in the current output) is lexically the first in
    // a statement.
    function first_in_statement(output) {
        var a = output.stack(), i = a.length, node = a[--i], p = a[--i];
        while (i > 0) {
            if (p instanceof AST_Statement && p.body === node)
                return true;
            if ((p instanceof AST_Seq           && p.car === node        ) ||
                (p instanceof AST_Call          && p.expression === node && !(p instanceof AST_New) ) ||
                (p instanceof AST_Dot           && p.expression === node ) ||
                (p instanceof AST_Sub           && p.expression === node ) ||
                (p instanceof AST_Conditional   && p.condition === node  ) ||
                (p instanceof AST_Binary        && p.left === node       ) ||
                (p instanceof AST_UnaryPostfix  && p.expression === node ))
            {
                node = p;
                p = a[--i];
            } else {
                return false;
            }
        }
    };

    // self should be AST_New.  decide if we want to show parens or not.
    function no_constructor_parens(self, output) {
        return self.args.length == 0 && !output.option("beautify");
    };

    function best_of(a) {
        var best = a[0], len = best.length;
        for (var i = 1; i < a.length; ++i) {
            if (a[i].length < len) {
                best = a[i];
                len = best.length;
            }
        }
        return best;
    };

    function make_num(num) {
        var str = num.toString(10), a = [ str.replace(/^0\./, ".").replace('e+', 'e') ], m;
        if (Math.floor(num) === num) {
            if (num >= 0) {
                a.push("0x" + num.toString(16).toLowerCase(), // probably pointless
                       "0" + num.toString(8)); // same.
            } else {
                a.push("-0x" + (-num).toString(16).toLowerCase(), // probably pointless
                       "-0" + (-num).toString(8)); // same.
            }
            if ((m = /^(.*?)(0+)$/.exec(num))) {
                a.push(m[1] + "e" + m[2].length);
            }
        } else if ((m = /^0?\.(0+)(.*)$/.exec(num))) {
            a.push(m[2] + "e-" + (m[1].length + m[2].length),
                   str.substr(str.indexOf(".")));
        }
        return best_of(a);
    };

    function make_block(stmt, output) {
        if (stmt instanceof AST_BlockStatement) {
            stmt.print(output);
            return;
        }
        output.with_block(function(){
            output.indent();
            stmt.print(output);
            output.newline();
        });
    };

    /* -----[ source map generators ]----- */

    function DEFMAP(nodetype, generator) {
        nodetype.DEFMETHOD("add_source_map", function(stream){
            generator(this, stream);
        });
    };

    // We could easily add info for ALL nodes, but it seems to me that
    // would be quite wasteful, hence this noop in the base class.
    DEFMAP(AST_Node, noop);

    function basic_sourcemap_gen(self, output) {
        output.add_mapping(self.start);
    };

    // XXX: I'm not exactly sure if we need it for all of these nodes,
    // or if we should add even more.

    DEFMAP(AST_Directive, basic_sourcemap_gen);
    DEFMAP(AST_Debugger, basic_sourcemap_gen);
    DEFMAP(AST_Symbol, basic_sourcemap_gen);
    DEFMAP(AST_Jump, basic_sourcemap_gen);
    DEFMAP(AST_StatementWithBody, basic_sourcemap_gen);
    DEFMAP(AST_LabeledStatement, noop); // since the label symbol will mark it
    DEFMAP(AST_Lambda, basic_sourcemap_gen);
    DEFMAP(AST_Switch, basic_sourcemap_gen);
    DEFMAP(AST_SwitchBranch, basic_sourcemap_gen);
    DEFMAP(AST_BlockStatement, basic_sourcemap_gen);
    DEFMAP(AST_Toplevel, noop);
    DEFMAP(AST_New, basic_sourcemap_gen);
    DEFMAP(AST_Try, basic_sourcemap_gen);
    DEFMAP(AST_Catch, basic_sourcemap_gen);
    DEFMAP(AST_Finally, basic_sourcemap_gen);
    DEFMAP(AST_Definitions, basic_sourcemap_gen);
    DEFMAP(AST_Constant, basic_sourcemap_gen);
    DEFMAP(AST_ObjectProperty, function(self, output){
        output.add_mapping(self.start, self.key);
    });

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

function Compressor(options, false_by_default) {
    if (!(this instanceof Compressor))
        return new Compressor(options, false_by_default);
    TreeTransformer.call(this, this.before, this.after);
    this.options = defaults(options, {
        sequences     : !false_by_default,
        properties    : !false_by_default,
        dead_code     : !false_by_default,
        drop_debugger : !false_by_default,
        unsafe        : false,
        unsafe_comps  : false,
        conditionals  : !false_by_default,
        comparisons   : !false_by_default,
        evaluate      : !false_by_default,
        booleans      : !false_by_default,
        loops         : !false_by_default,
        unused        : !false_by_default,
        hoist_funs    : !false_by_default,
        keep_fargs    : false,
        hoist_vars    : false,
        if_return     : !false_by_default,
        join_vars     : !false_by_default,
        cascade       : !false_by_default,
        side_effects  : !false_by_default,
        pure_getters  : false,
        pure_funcs    : null,
        negate_iife   : !false_by_default,
        screw_ie8     : false,
        drop_console  : false,
        angular       : false,

        warnings      : true,
        global_defs   : {}
    }, true);
};

Compressor.prototype = new TreeTransformer;
merge(Compressor.prototype, {
    option: function(key) { return this.options[key] },
    warn: function() {
        if (this.options.warnings)
            AST_Node.warn.apply(AST_Node, arguments);
    },
    before: function(node, descend, in_list) {
        if (node._squeezed) return node;
        var was_scope = false;
        if (node instanceof AST_Scope) {
            node = node.hoist_declarations(this);
            was_scope = true;
        }
        descend(node, this);
        node = node.optimize(this);
        if (was_scope && node instanceof AST_Scope) {
            node.drop_unused(this);
            descend(node, this);
        }
        node._squeezed = true;
        return node;
    }
});

(function(){

    function OPT(node, optimizer) {
        node.DEFMETHOD("optimize", function(compressor){
            var self = this;
            if (self._optimized) return self;
            var opt = optimizer(self, compressor);
            opt._optimized = true;
            if (opt === self) return opt;
            return opt.transform(compressor);
        });
    };

    OPT(AST_Node, function(self, compressor){
        return self;
    });

    AST_Node.DEFMETHOD("equivalent_to", function(node){
        // XXX: this is a rather expensive way to test two node's equivalence:
        return this.print_to_string() == node.print_to_string();
    });

    function make_node(ctor, orig, props) {
        if (!props) props = {};
        if (orig) {
            if (!props.start) props.start = orig.start;
            if (!props.end) props.end = orig.end;
        }
        return new ctor(props);
    };

    function make_node_from_constant(compressor, val, orig) {
        // XXX: WIP.
        // if (val instanceof AST_Node) return val.transform(new TreeTransformer(null, function(node){
        //     if (node instanceof AST_SymbolRef) {
        //         var scope = compressor.find_parent(AST_Scope);
        //         var def = scope.find_variable(node);
        //         node.thedef = def;
        //         return node;
        //     }
        // })).transform(compressor);

        if (val instanceof AST_Node) return val.transform(compressor);
        switch (typeof val) {
          case "string":
            return make_node(AST_String, orig, {
                value: val
            }).optimize(compressor);
          case "number":
            return make_node(isNaN(val) ? AST_NaN : AST_Number, orig, {
                value: val
            }).optimize(compressor);
          case "boolean":
            return make_node(val ? AST_True : AST_False, orig).optimize(compressor);
          case "undefined":
            return make_node(AST_Undefined, orig).optimize(compressor);
          default:
            if (val === null) {
                return make_node(AST_Null, orig).optimize(compressor);
            }
            if (val instanceof RegExp) {
                return make_node(AST_RegExp, orig).optimize(compressor);
            }
            throw new Error(string_template("Can't handle constant of type: {type}", {
                type: typeof val
            }));
        }
    };

    function as_statement_array(thing) {
        if (thing === null) return [];
        if (thing instanceof AST_BlockStatement) return thing.body;
        if (thing instanceof AST_EmptyStatement) return [];
        if (thing instanceof AST_Statement) return [ thing ];
        throw new Error("Can't convert thing to statement array");
    };

    function is_empty(thing) {
        if (thing === null) return true;
        if (thing instanceof AST_EmptyStatement) return true;
        if (thing instanceof AST_BlockStatement) return thing.body.length == 0;
        return false;
    };

    function loop_body(x) {
        if (x instanceof AST_Switch) return x;
        if (x instanceof AST_For || x instanceof AST_ForIn || x instanceof AST_DWLoop) {
            return (x.body instanceof AST_BlockStatement ? x.body : x);
        }
        return x;
    };

    function tighten_body(statements, compressor) {
        var CHANGED;
        do {
            CHANGED = false;
            if (compressor.option("angular")) {
                statements = process_for_angular(statements);
            }
            statements = eliminate_spurious_blocks(statements);
            if (compressor.option("dead_code")) {
                statements = eliminate_dead_code(statements, compressor);
            }
            if (compressor.option("if_return")) {
                statements = handle_if_return(statements, compressor);
            }
            if (compressor.option("sequences")) {
                statements = sequencesize(statements, compressor);
            }
            if (compressor.option("join_vars")) {
                statements = join_consecutive_vars(statements, compressor);
            }
        } while (CHANGED);

        if (compressor.option("negate_iife")) {
            negate_iifes(statements, compressor);
        }

        return statements;

        function process_for_angular(statements) {
            function make_injector(func, name) {
                return make_node(AST_SimpleStatement, func, {
                    body: make_node(AST_Assign, func, {
                        operator: "=",
                        left: make_node(AST_Dot, name, {
                            expression: make_node(AST_SymbolRef, name, name),
                            property: "$inject"
                        }),
                        right: make_node(AST_Array, func, {
                            elements: func.argnames.map(function(sym){
                                return make_node(AST_String, sym, { value: sym.name });
                            })
                        })
                    })
                });
            }
            return statements.reduce(function(a, stat){
                a.push(stat);
                var token = stat.start;
                var comments = token.comments_before;
                if (comments && comments.length > 0) {
                    var last = comments.pop();
                    if (/@ngInject/.test(last.value)) {
                        // case 1: defun
                        if (stat instanceof AST_Defun) {
                            a.push(make_injector(stat, stat.name));
                        }
                        else if (stat instanceof AST_Definitions) {
                            stat.definitions.forEach(function(def){
                                if (def.value && def.value instanceof AST_Lambda) {
                                    a.push(make_injector(def.value, def.name));
                                }
                            });
                        }
                        else {
                            compressor.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]", token);
                        }
                    }
                }
                return a;
            }, []);
        }

        function eliminate_spurious_blocks(statements) {
            var seen_dirs = [];
            return statements.reduce(function(a, stat){
                if (stat instanceof AST_BlockStatement) {
                    CHANGED = true;
                    a.push.apply(a, eliminate_spurious_blocks(stat.body));
                } else if (stat instanceof AST_EmptyStatement) {
                    CHANGED = true;
                } else if (stat instanceof AST_Directive) {
                    if (seen_dirs.indexOf(stat.value) < 0) {
                        a.push(stat);
                        seen_dirs.push(stat.value);
                    } else {
                        CHANGED = true;
                    }
                } else {
                    a.push(stat);
                }
                return a;
            }, []);
        };

        function handle_if_return(statements, compressor) {
            var self = compressor.self();
            var in_lambda = self instanceof AST_Lambda;
            var ret = [];
            loop: for (var i = statements.length; --i >= 0;) {
                var stat = statements[i];
                switch (true) {
                  case (in_lambda && stat instanceof AST_Return && !stat.value && ret.length == 0):
                    CHANGED = true;
                    // note, ret.length is probably always zero
                    // because we drop unreachable code before this
                    // step.  nevertheless, it's good to check.
                    continue loop;
                  case stat instanceof AST_If:
                    if (stat.body instanceof AST_Return) {
                        //---
                        // pretty silly case, but:
                        // if (foo()) return; return; ==> foo(); return;
                        if (((in_lambda && ret.length == 0)
                             || (ret[0] instanceof AST_Return && !ret[0].value))
                            && !stat.body.value && !stat.alternative) {
                            CHANGED = true;
                            var cond = make_node(AST_SimpleStatement, stat.condition, {
                                body: stat.condition
                            });
                            ret.unshift(cond);
                            continue loop;
                        }
                        //---
                        // if (foo()) return x; return y; ==> return foo() ? x : y;
                        if (ret[0] instanceof AST_Return && stat.body.value && ret[0].value && !stat.alternative) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.alternative = ret[0];
                            ret[0] = stat.transform(compressor);
                            continue loop;
                        }
                        //---
                        // if (foo()) return x; [ return ; ] ==> return foo() ? x : undefined;
                        if ((ret.length == 0 || ret[0] instanceof AST_Return) && stat.body.value && !stat.alternative && in_lambda) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.alternative = ret[0] || make_node(AST_Return, stat, {
                                value: make_node(AST_Undefined, stat)
                            });
                            ret[0] = stat.transform(compressor);
                            continue loop;
                        }
                        //---
                        // if (foo()) return; [ else x... ]; y... ==> if (!foo()) { x...; y... }
                        if (!stat.body.value && in_lambda) {
                            CHANGED = true;
                            stat = stat.clone();
                            stat.condition = stat.condition.negate(compressor);
                            stat.body = make_node(AST_BlockStatement, stat, {
                                body: as_statement_array(stat.alternative).concat(ret)
                            });
                            stat.alternative = null;
                            ret = [ stat.transform(compressor) ];
                            continue loop;
                        }
                        //---
                        if (ret.length == 1 && in_lambda && ret[0] instanceof AST_SimpleStatement
                            && (!stat.alternative || stat.alternative instanceof AST_SimpleStatement)) {
                            CHANGED = true;
                            ret.push(make_node(AST_Return, ret[0], {
                                value: make_node(AST_Undefined, ret[0])
                            }).transform(compressor));
                            ret = as_statement_array(stat.alternative).concat(ret);
                            ret.unshift(stat);
                            continue loop;
                        }
                    }

                    var ab = aborts(stat.body);
                    var lct = ab instanceof AST_LoopControl ? compressor.loopcontrol_target(ab.label) : null;
                    if (ab && ((ab instanceof AST_Return && !ab.value && in_lambda)
                               || (ab instanceof AST_Continue && self === loop_body(lct))
                               || (ab instanceof AST_Break && lct instanceof AST_BlockStatement && self === lct))) {
                        if (ab.label) {
                            remove(ab.label.thedef.references, ab);
                        }
                        CHANGED = true;
                        var body = as_statement_array(stat.body).slice(0, -1);
                        stat = stat.clone();
                        stat.condition = stat.condition.negate(compressor);
                        stat.body = make_node(AST_BlockStatement, stat, {
                            body: as_statement_array(stat.alternative).concat(ret)
                        });
                        stat.alternative = make_node(AST_BlockStatement, stat, {
                            body: body
                        });
                        ret = [ stat.transform(compressor) ];
                        continue loop;
                    }

                    var ab = aborts(stat.alternative);
                    var lct = ab instanceof AST_LoopControl ? compressor.loopcontrol_target(ab.label) : null;
                    if (ab && ((ab instanceof AST_Return && !ab.value && in_lambda)
                               || (ab instanceof AST_Continue && self === loop_body(lct))
                               || (ab instanceof AST_Break && lct instanceof AST_BlockStatement && self === lct))) {
                        if (ab.label) {
                            remove(ab.label.thedef.references, ab);
                        }
                        CHANGED = true;
                        stat = stat.clone();
                        stat.body = make_node(AST_BlockStatement, stat.body, {
                            body: as_statement_array(stat.body).concat(ret)
                        });
                        stat.alternative = make_node(AST_BlockStatement, stat.alternative, {
                            body: as_statement_array(stat.alternative).slice(0, -1)
                        });
                        ret = [ stat.transform(compressor) ];
                        continue loop;
                    }

                    ret.unshift(stat);
                    break;
                  default:
                    ret.unshift(stat);
                    break;
                }
            }
            return ret;
        };

        function eliminate_dead_code(statements, compressor) {
            var has_quit = false;
            var orig = statements.length;
            var self = compressor.self();
            statements = statements.reduce(function(a, stat){
                if (has_quit) {
                    extract_declarations_from_unreachable_code(compressor, stat, a);
                } else {
                    if (stat instanceof AST_LoopControl) {
                        var lct = compressor.loopcontrol_target(stat.label);
                        if ((stat instanceof AST_Break
                             && lct instanceof AST_BlockStatement
                             && loop_body(lct) === self) || (stat instanceof AST_Continue
                                                             && loop_body(lct) === self)) {
                            if (stat.label) {
                                remove(stat.label.thedef.references, stat);
                            }
                        } else {
                            a.push(stat);
                        }
                    } else {
                        a.push(stat);
                    }
                    if (aborts(stat)) has_quit = true;
                }
                return a;
            }, []);
            CHANGED = statements.length != orig;
            return statements;
        };

        function sequencesize(statements, compressor) {
            if (statements.length < 2) return statements;
            var seq = [], ret = [];
            function push_seq() {
                seq = AST_Seq.from_array(seq);
                if (seq) ret.push(make_node(AST_SimpleStatement, seq, {
                    body: seq
                }));
                seq = [];
            };
            statements.forEach(function(stat){
                if (stat instanceof AST_SimpleStatement) seq.push(stat.body);
                else push_seq(), ret.push(stat);
            });
            push_seq();
            ret = sequencesize_2(ret, compressor);
            CHANGED = ret.length != statements.length;
            return ret;
        };

        function sequencesize_2(statements, compressor) {
            function cons_seq(right) {
                ret.pop();
                var left = prev.body;
                if (left instanceof AST_Seq) {
                    left.add(right);
                } else {
                    left = AST_Seq.cons(left, right);
                }
                return left.transform(compressor);
            };
            var ret = [], prev = null;
            statements.forEach(function(stat){
                if (prev) {
                    if (stat instanceof AST_For) {
                        var opera = {};
                        try {
                            prev.body.walk(new TreeWalker(function(node){
                                if (node instanceof AST_Binary && node.operator == "in")
                                    throw opera;
                            }));
                            if (stat.init && !(stat.init instanceof AST_Definitions)) {
                                stat.init = cons_seq(stat.init);
                            }
                            else if (!stat.init) {
                                stat.init = prev.body;
                                ret.pop();
                            }
                        } catch(ex) {
                            if (ex !== opera) throw ex;
                        }
                    }
                    else if (stat instanceof AST_If) {
                        stat.condition = cons_seq(stat.condition);
                    }
                    else if (stat instanceof AST_With) {
                        stat.expression = cons_seq(stat.expression);
                    }
                    else if (stat instanceof AST_Exit && stat.value) {
                        stat.value = cons_seq(stat.value);
                    }
                    else if (stat instanceof AST_Exit) {
                        stat.value = cons_seq(make_node(AST_Undefined, stat));
                    }
                    else if (stat instanceof AST_Switch) {
                        stat.expression = cons_seq(stat.expression);
                    }
                }
                ret.push(stat);
                prev = stat instanceof AST_SimpleStatement ? stat : null;
            });
            return ret;
        };

        function join_consecutive_vars(statements, compressor) {
            var prev = null;
            return statements.reduce(function(a, stat){
                if (stat instanceof AST_Definitions && prev && prev.TYPE == stat.TYPE) {
                    prev.definitions = prev.definitions.concat(stat.definitions);
                    CHANGED = true;
                }
                else if (stat instanceof AST_For
                         && prev instanceof AST_Definitions
                         && (!stat.init || stat.init.TYPE == prev.TYPE)) {
                    CHANGED = true;
                    a.pop();
                    if (stat.init) {
                        stat.init.definitions = prev.definitions.concat(stat.init.definitions);
                    } else {
                        stat.init = prev;
                    }
                    a.push(stat);
                    prev = stat;
                }
                else {
                    prev = stat;
                    a.push(stat);
                }
                return a;
            }, []);
        };

        function negate_iifes(statements, compressor) {
            statements.forEach(function(stat){
                if (stat instanceof AST_SimpleStatement) {
                    stat.body = (function transform(thing) {
                        return thing.transform(new TreeTransformer(function(node){
                            if (node instanceof AST_Call && node.expression instanceof AST_Function) {
                                return make_node(AST_UnaryPrefix, node, {
                                    operator: "!",
                                    expression: node
                                });
                            }
                            else if (node instanceof AST_Call) {
                                node.expression = transform(node.expression);
                            }
                            else if (node instanceof AST_Seq) {
                                node.car = transform(node.car);
                            }
                            else if (node instanceof AST_Conditional) {
                                var expr = transform(node.condition);
                                if (expr !== node.condition) {
                                    // it has been negated, reverse
                                    node.condition = expr;
                                    var tmp = node.consequent;
                                    node.consequent = node.alternative;
                                    node.alternative = tmp;
                                }
                            }
                            return node;
                        }));
                    })(stat.body);
                }
            });
        };

    };

    function extract_declarations_from_unreachable_code(compressor, stat, target) {
        compressor.warn("Dropping unreachable code [{file}:{line},{col}]", stat.start);
        stat.walk(new TreeWalker(function(node){
            if (node instanceof AST_Definitions) {
                compressor.warn("Declarations in unreachable code! [{file}:{line},{col}]", node.start);
                node.remove_initializers();
                target.push(node);
                return true;
            }
            if (node instanceof AST_Defun) {
                target.push(node);
                return true;
            }
            if (node instanceof AST_Scope) {
                return true;
            }
        }));
    };

    /* -----[ boolean/negation helpers ]----- */

    // methods to determine whether an expression has a boolean result type
    (function (def){
        var unary_bool = [ "!", "delete" ];
        var binary_bool = [ "in", "instanceof", "==", "!=", "===", "!==", "<", "<=", ">=", ">" ];
        def(AST_Node, function(){ return false });
        def(AST_UnaryPrefix, function(){
            return member(this.operator, unary_bool);
        });
        def(AST_Binary, function(){
            return member(this.operator, binary_bool) ||
                ( (this.operator == "&&" || this.operator == "||") &&
                  this.left.is_boolean() && this.right.is_boolean() );
        });
        def(AST_Conditional, function(){
            return this.consequent.is_boolean() && this.alternative.is_boolean();
        });
        def(AST_Assign, function(){
            return this.operator == "=" && this.right.is_boolean();
        });
        def(AST_Seq, function(){
            return this.cdr.is_boolean();
        });
        def(AST_True, function(){ return true });
        def(AST_False, function(){ return true });
    })(function(node, func){
        node.DEFMETHOD("is_boolean", func);
    });

    // methods to determine if an expression has a string result type
    (function (def){
        def(AST_Node, function(){ return false });
        def(AST_String, function(){ return true });
        def(AST_UnaryPrefix, function(){
            return this.operator == "typeof";
        });
        def(AST_Binary, function(compressor){
            return this.operator == "+" &&
                (this.left.is_string(compressor) || this.right.is_string(compressor));
        });
        def(AST_Assign, function(compressor){
            return (this.operator == "=" || this.operator == "+=") && this.right.is_string(compressor);
        });
        def(AST_Seq, function(compressor){
            return this.cdr.is_string(compressor);
        });
        def(AST_Conditional, function(compressor){
            return this.consequent.is_string(compressor) && this.alternative.is_string(compressor);
        });
        def(AST_Call, function(compressor){
            return compressor.option("unsafe")
                && this.expression instanceof AST_SymbolRef
                && this.expression.name == "String"
                && this.expression.undeclared();
        });
    })(function(node, func){
        node.DEFMETHOD("is_string", func);
    });

    function best_of(ast1, ast2) {
        return ast1.print_to_string().length >
            ast2.print_to_string().length
            ? ast2 : ast1;
    };

    // methods to evaluate a constant expression
    (function (def){
        // The evaluate method returns an array with one or two
        // elements.  If the node has been successfully reduced to a
        // constant, then the second element tells us the value;
        // otherwise the second element is missing.  The first element
        // of the array is always an AST_Node descendant; if
        // evaluation was successful it's a node that represents the
        // constant; otherwise it's the original or a replacement node.
        AST_Node.DEFMETHOD("evaluate", function(compressor){
            if (!compressor.option("evaluate")) return [ this ];
            try {
                var val = this._eval(compressor);
                return [ best_of(make_node_from_constant(compressor, val, this), this), val ];
            } catch(ex) {
                if (ex !== def) throw ex;
                return [ this ];
            }
        });
        def(AST_Statement, function(){
            throw new Error(string_template("Cannot evaluate a statement [{file}:{line},{col}]", this.start));
        });
        def(AST_Function, function(){
            // XXX: AST_Function inherits from AST_Scope, which itself
            // inherits from AST_Statement; however, an AST_Function
            // isn't really a statement.  This could byte in other
            // places too. :-( Wish JS had multiple inheritance.
            throw def;
        });
        function ev(node, compressor) {
            if (!compressor) throw new Error("Compressor must be passed");

            return node._eval(compressor);
        };
        def(AST_Node, function(){
            throw def;          // not constant
        });
        def(AST_Constant, function(){
            return this.getValue();
        });
        def(AST_UnaryPrefix, function(compressor){
            var e = this.expression;
            switch (this.operator) {
              case "!": return !ev(e, compressor);
              case "typeof":
                // Function would be evaluated to an array and so typeof would
                // incorrectly return 'object'. Hence making is a special case.
                if (e instanceof AST_Function) return typeof function(){};

                e = ev(e, compressor);

                // typeof <RegExp> returns "object" or "function" on different platforms
                // so cannot evaluate reliably
                if (e instanceof RegExp) throw def;

                return typeof e;
              case "void": return void ev(e, compressor);
              case "~": return ~ev(e, compressor);
              case "-":
                e = ev(e, compressor);
                if (e === 0) throw def;
                return -e;
              case "+": return +ev(e, compressor);
            }
            throw def;
        });
        def(AST_Binary, function(c){
            var left = this.left, right = this.right;
            switch (this.operator) {
              case "&&"         : return ev(left, c) &&         ev(right, c);
              case "||"         : return ev(left, c) ||         ev(right, c);
              case "|"          : return ev(left, c) |          ev(right, c);
              case "&"          : return ev(left, c) &          ev(right, c);
              case "^"          : return ev(left, c) ^          ev(right, c);
              case "+"          : return ev(left, c) +          ev(right, c);
              case "*"          : return ev(left, c) *          ev(right, c);
              case "/"          : return ev(left, c) /          ev(right, c);
              case "%"          : return ev(left, c) %          ev(right, c);
              case "-"          : return ev(left, c) -          ev(right, c);
              case "<<"         : return ev(left, c) <<         ev(right, c);
              case ">>"         : return ev(left, c) >>         ev(right, c);
              case ">>>"        : return ev(left, c) >>>        ev(right, c);
              case "=="         : return ev(left, c) ==         ev(right, c);
              case "==="        : return ev(left, c) ===        ev(right, c);
              case "!="         : return ev(left, c) !=         ev(right, c);
              case "!=="        : return ev(left, c) !==        ev(right, c);
              case "<"          : return ev(left, c) <          ev(right, c);
              case "<="         : return ev(left, c) <=         ev(right, c);
              case ">"          : return ev(left, c) >          ev(right, c);
              case ">="         : return ev(left, c) >=         ev(right, c);
              case "in"         : return ev(left, c) in         ev(right, c);
              case "instanceof" : return ev(left, c) instanceof ev(right, c);
            }
            throw def;
        });
        def(AST_Conditional, function(compressor){
            return ev(this.condition, compressor)
                ? ev(this.consequent, compressor)
                : ev(this.alternative, compressor);
        });
        def(AST_SymbolRef, function(compressor){
            var d = this.definition();
            if (d && d.constant && d.init) return ev(d.init, compressor);
            throw def;
        });
        def(AST_Dot, function(compressor){
            if (compressor.option("unsafe") && this.property == "length") {
                var str = ev(this.expression, compressor);
                if (typeof str == "string")
                    return str.length;
            }
            throw def;
        });
    })(function(node, func){
        node.DEFMETHOD("_eval", func);
    });

    // method to negate an expression
    (function(def){
        function basic_negation(exp) {
            return make_node(AST_UnaryPrefix, exp, {
                operator: "!",
                expression: exp
            });
        };
        def(AST_Node, function(){
            return basic_negation(this);
        });
        def(AST_Statement, function(){
            throw new Error("Cannot negate a statement");
        });
        def(AST_Function, function(){
            return basic_negation(this);
        });
        def(AST_UnaryPrefix, function(){
            if (this.operator == "!")
                return this.expression;
            return basic_negation(this);
        });
        def(AST_Seq, function(compressor){
            var self = this.clone();
            self.cdr = self.cdr.negate(compressor);
            return self;
        });
        def(AST_Conditional, function(compressor){
            var self = this.clone();
            self.consequent = self.consequent.negate(compressor);
            self.alternative = self.alternative.negate(compressor);
            return best_of(basic_negation(this), self);
        });
        def(AST_Binary, function(compressor){
            var self = this.clone(), op = this.operator;
            if (compressor.option("unsafe_comps")) {
                switch (op) {
                  case "<=" : self.operator = ">"  ; return self;
                  case "<"  : self.operator = ">=" ; return self;
                  case ">=" : self.operator = "<"  ; return self;
                  case ">"  : self.operator = "<=" ; return self;
                }
            }
            switch (op) {
              case "==" : self.operator = "!="; return self;
              case "!=" : self.operator = "=="; return self;
              case "===": self.operator = "!=="; return self;
              case "!==": self.operator = "==="; return self;
              case "&&":
                self.operator = "||";
                self.left = self.left.negate(compressor);
                self.right = self.right.negate(compressor);
                return best_of(basic_negation(this), self);
              case "||":
                self.operator = "&&";
                self.left = self.left.negate(compressor);
                self.right = self.right.negate(compressor);
                return best_of(basic_negation(this), self);
            }
            return basic_negation(this);
        });
    })(function(node, func){
        node.DEFMETHOD("negate", function(compressor){
            return func.call(this, compressor);
        });
    });

    // determine if expression has side effects
    (function(def){
        def(AST_Node, function(compressor){ return true });

        def(AST_EmptyStatement, function(compressor){ return false });
        def(AST_Constant, function(compressor){ return false });
        def(AST_This, function(compressor){ return false });

        def(AST_Call, function(compressor){
            var pure = compressor.option("pure_funcs");
            if (!pure) return true;
            return pure.indexOf(this.expression.print_to_string()) < 0;
        });

        def(AST_Block, function(compressor){
            for (var i = this.body.length; --i >= 0;) {
                if (this.body[i].has_side_effects(compressor))
                    return true;
            }
            return false;
        });

        def(AST_SimpleStatement, function(compressor){
            return this.body.has_side_effects(compressor);
        });
        def(AST_Defun, function(compressor){ return true });
        def(AST_Function, function(compressor){ return false });
        def(AST_Binary, function(compressor){
            return this.left.has_side_effects(compressor)
                || this.right.has_side_effects(compressor);
        });
        def(AST_Assign, function(compressor){ return true });
        def(AST_Conditional, function(compressor){
            return this.condition.has_side_effects(compressor)
                || this.consequent.has_side_effects(compressor)
                || this.alternative.has_side_effects(compressor);
        });
        def(AST_Unary, function(compressor){
            return this.operator == "delete"
                || this.operator == "++"
                || this.operator == "--"
                || this.expression.has_side_effects(compressor);
        });
        def(AST_SymbolRef, function(compressor){ return false });
        def(AST_Object, function(compressor){
            for (var i = this.properties.length; --i >= 0;)
                if (this.properties[i].has_side_effects(compressor))
                    return true;
            return false;
        });
        def(AST_ObjectProperty, function(compressor){
            return this.value.has_side_effects(compressor);
        });
        def(AST_Array, function(compressor){
            for (var i = this.elements.length; --i >= 0;)
                if (this.elements[i].has_side_effects(compressor))
                    return true;
            return false;
        });
        def(AST_Dot, function(compressor){
            if (!compressor.option("pure_getters")) return true;
            return this.expression.has_side_effects(compressor);
        });
        def(AST_Sub, function(compressor){
            if (!compressor.option("pure_getters")) return true;
            return this.expression.has_side_effects(compressor)
                || this.property.has_side_effects(compressor);
        });
        def(AST_PropAccess, function(compressor){
            return !compressor.option("pure_getters");
        });
        def(AST_Seq, function(compressor){
            return this.car.has_side_effects(compressor)
                || this.cdr.has_side_effects(compressor);
        });
    })(function(node, func){
        node.DEFMETHOD("has_side_effects", func);
    });

    // tell me if a statement aborts
    function aborts(thing) {
        return thing && thing.aborts();
    };
    (function(def){
        def(AST_Statement, function(){ return null });
        def(AST_Jump, function(){ return this });
        function block_aborts(){
            var n = this.body.length;
            return n > 0 && aborts(this.body[n - 1]);
        };
        def(AST_BlockStatement, block_aborts);
        def(AST_SwitchBranch, block_aborts);
        def(AST_If, function(){
            return this.alternative && aborts(this.body) && aborts(this.alternative);
        });
    })(function(node, func){
        node.DEFMETHOD("aborts", func);
    });

    /* -----[ optimizers ]----- */

    OPT(AST_Directive, function(self, compressor){
        if (self.scope.has_directive(self.value) !== self.scope) {
            return make_node(AST_EmptyStatement, self);
        }
        return self;
    });

    OPT(AST_Debugger, function(self, compressor){
        if (compressor.option("drop_debugger"))
            return make_node(AST_EmptyStatement, self);
        return self;
    });

    OPT(AST_LabeledStatement, function(self, compressor){
        if (self.body instanceof AST_Break
            && compressor.loopcontrol_target(self.body.label) === self.body) {
            return make_node(AST_EmptyStatement, self);
        }
        return self.label.references.length == 0 ? self.body : self;
    });

    OPT(AST_Block, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    OPT(AST_BlockStatement, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        switch (self.body.length) {
          case 1: return self.body[0];
          case 0: return make_node(AST_EmptyStatement, self);
        }
        return self;
    });

    AST_Scope.DEFMETHOD("drop_unused", function(compressor){
        var self = this;
        if (compressor.option("unused")
            && !(self instanceof AST_Toplevel)
            && !self.uses_eval
           ) {
            var in_use = [];
            var initializations = new Dictionary();
            // pass 1: find out which symbols are directly used in
            // this scope (not in nested scopes).
            var scope = this;
            var tw = new TreeWalker(function(node, descend){
                if (node !== self) {
                    if (node instanceof AST_Defun) {
                        initializations.add(node.name.name, node);
                        return true; // don't go in nested scopes
                    }
                    if (node instanceof AST_Definitions && scope === self) {
                        node.definitions.forEach(function(def){
                            if (def.value) {
                                initializations.add(def.name.name, def.value);
                                if (def.value.has_side_effects(compressor)) {
                                    def.value.walk(tw);
                                }
                            }
                        });
                        return true;
                    }
                    if (node instanceof AST_SymbolRef) {
                        push_uniq(in_use, node.definition());
                        return true;
                    }
                    if (node instanceof AST_Scope) {
                        var save_scope = scope;
                        scope = node;
                        descend();
                        scope = save_scope;
                        return true;
                    }
                }
            });
            self.walk(tw);
            // pass 2: for every used symbol we need to walk its
            // initialization code to figure out if it uses other
            // symbols (that may not be in_use).
            for (var i = 0; i < in_use.length; ++i) {
                in_use[i].orig.forEach(function(decl){
                    // undeclared globals will be instanceof AST_SymbolRef
                    var init = initializations.get(decl.name);
                    if (init) init.forEach(function(init){
                        var tw = new TreeWalker(function(node){
                            if (node instanceof AST_SymbolRef) {
                                push_uniq(in_use, node.definition());
                            }
                        });
                        init.walk(tw);
                    });
                });
            }
            // pass 3: we should drop declarations not in_use
            var tt = new TreeTransformer(
                function before(node, descend, in_list) {
                    if (node instanceof AST_Lambda && !(node instanceof AST_Accessor)) {
                        if (!compressor.option("keep_fargs")) {
                            for (var a = node.argnames, i = a.length; --i >= 0;) {
                                var sym = a[i];
                                if (sym.unreferenced()) {
                                    a.pop();
                                    compressor.warn("Dropping unused function argument {name} [{file}:{line},{col}]", {
                                        name : sym.name,
                                        file : sym.start.file,
                                        line : sym.start.line,
                                        col  : sym.start.col
                                    });
                                }
                                else break;
                            }
                        }
                    }
                    if (node instanceof AST_Defun && node !== self) {
                        if (!member(node.name.definition(), in_use)) {
                            compressor.warn("Dropping unused function {name} [{file}:{line},{col}]", {
                                name : node.name.name,
                                file : node.name.start.file,
                                line : node.name.start.line,
                                col  : node.name.start.col
                            });
                            return make_node(AST_EmptyStatement, node);
                        }
                        return node;
                    }
                    if (node instanceof AST_Definitions && !(tt.parent() instanceof AST_ForIn)) {
                        var def = node.definitions.filter(function(def){
                            if (member(def.name.definition(), in_use)) return true;
                            var w = {
                                name : def.name.name,
                                file : def.name.start.file,
                                line : def.name.start.line,
                                col  : def.name.start.col
                            };
                            if (def.value && def.value.has_side_effects(compressor)) {
                                def._unused_side_effects = true;
                                compressor.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]", w);
                                return true;
                            }
                            compressor.warn("Dropping unused variable {name} [{file}:{line},{col}]", w);
                            return false;
                        });
                        // place uninitialized names at the start
                        def = mergeSort(def, function(a, b){
                            if (!a.value && b.value) return -1;
                            if (!b.value && a.value) return 1;
                            return 0;
                        });
                        // for unused names whose initialization has
                        // side effects, we can cascade the init. code
                        // into the next one, or next statement.
                        var side_effects = [];
                        for (var i = 0; i < def.length;) {
                            var x = def[i];
                            if (x._unused_side_effects) {
                                side_effects.push(x.value);
                                def.splice(i, 1);
                            } else {
                                if (side_effects.length > 0) {
                                    side_effects.push(x.value);
                                    x.value = AST_Seq.from_array(side_effects);
                                    side_effects = [];
                                }
                                ++i;
                            }
                        }
                        if (side_effects.length > 0) {
                            side_effects = make_node(AST_BlockStatement, node, {
                                body: [ make_node(AST_SimpleStatement, node, {
                                    body: AST_Seq.from_array(side_effects)
                                }) ]
                            });
                        } else {
                            side_effects = null;
                        }
                        if (def.length == 0 && !side_effects) {
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (def.length == 0) {
                            return side_effects;
                        }
                        node.definitions = def;
                        if (side_effects) {
                            side_effects.body.unshift(node);
                            node = side_effects;
                        }
                        return node;
                    }
                    if (node instanceof AST_For) {
                        descend(node, this);

                        if (node.init instanceof AST_BlockStatement) {
                            // certain combination of unused name + side effect leads to:
                            //    https://github.com/mishoo/UglifyJS2/issues/44
                            // that's an invalid AST.
                            // We fix it at this stage by moving the `var` outside the `for`.

                            var body = node.init.body.slice(0, -1);
                            node.init = node.init.body.slice(-1)[0].body;
                            body.push(node);

                            return in_list ? MAP.splice(body) : make_node(AST_BlockStatement, node, {
                                body: body
                            });
                        }
                    }
                    if (node instanceof AST_Scope && node !== self)
                        return node;
                }
            );
            self.transform(tt);
        }
    });

    AST_Scope.DEFMETHOD("hoist_declarations", function(compressor){
        var hoist_funs = compressor.option("hoist_funs");
        var hoist_vars = compressor.option("hoist_vars");
        var self = this;
        if (hoist_funs || hoist_vars) {
            var dirs = [];
            var hoisted = [];
            var vars = new Dictionary(), vars_found = 0, var_decl = 0;
            // let's count var_decl first, we seem to waste a lot of
            // space if we hoist `var` when there's only one.
            self.walk(new TreeWalker(function(node){
                if (node instanceof AST_Scope && node !== self)
                    return true;
                if (node instanceof AST_Var) {
                    ++var_decl;
                    return true;
                }
            }));
            hoist_vars = hoist_vars && var_decl > 1;
            var tt = new TreeTransformer(
                function before(node) {
                    if (node !== self) {
                        if (node instanceof AST_Directive) {
                            dirs.push(node);
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (node instanceof AST_Defun && hoist_funs) {
                            hoisted.push(node);
                            return make_node(AST_EmptyStatement, node);
                        }
                        if (node instanceof AST_Var && hoist_vars) {
                            node.definitions.forEach(function(def){
                                vars.set(def.name.name, def);
                                ++vars_found;
                            });
                            var seq = node.to_assignments();
                            var p = tt.parent();
                            if (p instanceof AST_ForIn && p.init === node) {
                                if (seq == null) return node.definitions[0].name;
                                return seq;
                            }
                            if (p instanceof AST_For && p.init === node) {
                                return seq;
                            }
                            if (!seq) return make_node(AST_EmptyStatement, node);
                            return make_node(AST_SimpleStatement, node, {
                                body: seq
                            });
                        }
                        if (node instanceof AST_Scope)
                            return node; // to avoid descending in nested scopes
                    }
                }
            );
            self = self.transform(tt);
            if (vars_found > 0) {
                // collect only vars which don't show up in self's arguments list
                var defs = [];
                vars.each(function(def, name){
                    if (self instanceof AST_Lambda
                        && find_if(function(x){ return x.name == def.name.name },
                                   self.argnames)) {
                        vars.del(name);
                    } else {
                        def = def.clone();
                        def.value = null;
                        defs.push(def);
                        vars.set(name, def);
                    }
                });
                if (defs.length > 0) {
                    // try to merge in assignments
                    for (var i = 0; i < self.body.length;) {
                        if (self.body[i] instanceof AST_SimpleStatement) {
                            var expr = self.body[i].body, sym, assign;
                            if (expr instanceof AST_Assign
                                && expr.operator == "="
                                && (sym = expr.left) instanceof AST_Symbol
                                && vars.has(sym.name))
                            {
                                var def = vars.get(sym.name);
                                if (def.value) break;
                                def.value = expr.right;
                                remove(defs, def);
                                defs.push(def);
                                self.body.splice(i, 1);
                                continue;
                            }
                            if (expr instanceof AST_Seq
                                && (assign = expr.car) instanceof AST_Assign
                                && assign.operator == "="
                                && (sym = assign.left) instanceof AST_Symbol
                                && vars.has(sym.name))
                            {
                                var def = vars.get(sym.name);
                                if (def.value) break;
                                def.value = assign.right;
                                remove(defs, def);
                                defs.push(def);
                                self.body[i].body = expr.cdr;
                                continue;
                            }
                        }
                        if (self.body[i] instanceof AST_EmptyStatement) {
                            self.body.splice(i, 1);
                            continue;
                        }
                        if (self.body[i] instanceof AST_BlockStatement) {
                            var tmp = [ i, 1 ].concat(self.body[i].body);
                            self.body.splice.apply(self.body, tmp);
                            continue;
                        }
                        break;
                    }
                    defs = make_node(AST_Var, self, {
                        definitions: defs
                    });
                    hoisted.push(defs);
                };
            }
            self.body = dirs.concat(hoisted, self.body);
        }
        return self;
    });

    OPT(AST_SimpleStatement, function(self, compressor){
        if (compressor.option("side_effects")) {
            if (!self.body.has_side_effects(compressor)) {
                compressor.warn("Dropping side-effect-free statement [{file}:{line},{col}]", self.start);
                return make_node(AST_EmptyStatement, self);
            }
        }
        return self;
    });

    OPT(AST_DWLoop, function(self, compressor){
        var cond = self.condition.evaluate(compressor);
        self.condition = cond[0];
        if (!compressor.option("loops")) return self;
        if (cond.length > 1) {
            if (cond[1]) {
                return make_node(AST_For, self, {
                    body: self.body
                });
            } else if (self instanceof AST_While) {
                if (compressor.option("dead_code")) {
                    var a = [];
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    return make_node(AST_BlockStatement, self, { body: a });
                }
            }
        }
        return self;
    });

    function if_break_in_loop(self, compressor) {
        function drop_it(rest) {
            rest = as_statement_array(rest);
            if (self.body instanceof AST_BlockStatement) {
                self.body = self.body.clone();
                self.body.body = rest.concat(self.body.body.slice(1));
                self.body = self.body.transform(compressor);
            } else {
                self.body = make_node(AST_BlockStatement, self.body, {
                    body: rest
                }).transform(compressor);
            }
            if_break_in_loop(self, compressor);
        }
        var first = self.body instanceof AST_BlockStatement ? self.body.body[0] : self.body;
        if (first instanceof AST_If) {
            if (first.body instanceof AST_Break
                && compressor.loopcontrol_target(first.body.label) === self) {
                if (self.condition) {
                    self.condition = make_node(AST_Binary, self.condition, {
                        left: self.condition,
                        operator: "&&",
                        right: first.condition.negate(compressor),
                    });
                } else {
                    self.condition = first.condition.negate(compressor);
                }
                drop_it(first.alternative);
            }
            else if (first.alternative instanceof AST_Break
                     && compressor.loopcontrol_target(first.alternative.label) === self) {
                if (self.condition) {
                    self.condition = make_node(AST_Binary, self.condition, {
                        left: self.condition,
                        operator: "&&",
                        right: first.condition,
                    });
                } else {
                    self.condition = first.condition;
                }
                drop_it(first.body);
            }
        }
    };

    OPT(AST_While, function(self, compressor) {
        if (!compressor.option("loops")) return self;
        self = AST_DWLoop.prototype.optimize.call(self, compressor);
        if (self instanceof AST_While) {
            if_break_in_loop(self, compressor);
            self = make_node(AST_For, self, self).transform(compressor);
        }
        return self;
    });

    OPT(AST_For, function(self, compressor){
        var cond = self.condition;
        if (cond) {
            cond = cond.evaluate(compressor);
            self.condition = cond[0];
        }
        if (!compressor.option("loops")) return self;
        if (cond) {
            if (cond.length > 1 && !cond[1]) {
                if (compressor.option("dead_code")) {
                    var a = [];
                    if (self.init instanceof AST_Statement) {
                        a.push(self.init);
                    }
                    else if (self.init) {
                        a.push(make_node(AST_SimpleStatement, self.init, {
                            body: self.init
                        }));
                    }
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    return make_node(AST_BlockStatement, self, { body: a });
                }
            }
        }
        if_break_in_loop(self, compressor);
        return self;
    });

    OPT(AST_If, function(self, compressor){
        if (!compressor.option("conditionals")) return self;
        // if condition can be statically determined, warn and drop
        // one of the blocks.  note, statically determined implies
        // “has no side effects”; also it doesn't work for cases like
        // `x && true`, though it probably should.
        var cond = self.condition.evaluate(compressor);
        self.condition = cond[0];
        if (cond.length > 1) {
            if (cond[1]) {
                compressor.warn("Condition always true [{file}:{line},{col}]", self.condition.start);
                if (compressor.option("dead_code")) {
                    var a = [];
                    if (self.alternative) {
                        extract_declarations_from_unreachable_code(compressor, self.alternative, a);
                    }
                    a.push(self.body);
                    return make_node(AST_BlockStatement, self, { body: a }).transform(compressor);
                }
            } else {
                compressor.warn("Condition always false [{file}:{line},{col}]", self.condition.start);
                if (compressor.option("dead_code")) {
                    var a = [];
                    extract_declarations_from_unreachable_code(compressor, self.body, a);
                    if (self.alternative) a.push(self.alternative);
                    return make_node(AST_BlockStatement, self, { body: a }).transform(compressor);
                }
            }
        }
        if (is_empty(self.alternative)) self.alternative = null;
        var negated = self.condition.negate(compressor);
        var negated_is_best = best_of(self.condition, negated) === negated;
        if (self.alternative && negated_is_best) {
            negated_is_best = false; // because we already do the switch here.
            self.condition = negated;
            var tmp = self.body;
            self.body = self.alternative || make_node(AST_EmptyStatement);
            self.alternative = tmp;
        }
        if (is_empty(self.body) && is_empty(self.alternative)) {
            return make_node(AST_SimpleStatement, self.condition, {
                body: self.condition
            }).transform(compressor);
        }
        if (self.body instanceof AST_SimpleStatement
            && self.alternative instanceof AST_SimpleStatement) {
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Conditional, self, {
                    condition   : self.condition,
                    consequent  : self.body.body,
                    alternative : self.alternative.body
                })
            }).transform(compressor);
        }
        if (is_empty(self.alternative) && self.body instanceof AST_SimpleStatement) {
            if (negated_is_best) return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "||",
                    left     : negated,
                    right    : self.body.body
                })
            }).transform(compressor);
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "&&",
                    left     : self.condition,
                    right    : self.body.body
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_EmptyStatement
            && self.alternative
            && self.alternative instanceof AST_SimpleStatement) {
            return make_node(AST_SimpleStatement, self, {
                body: make_node(AST_Binary, self, {
                    operator : "||",
                    left     : self.condition,
                    right    : self.alternative.body
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_Exit
            && self.alternative instanceof AST_Exit
            && self.body.TYPE == self.alternative.TYPE) {
            return make_node(self.body.CTOR, self, {
                value: make_node(AST_Conditional, self, {
                    condition   : self.condition,
                    consequent  : self.body.value || make_node(AST_Undefined, self.body).optimize(compressor),
                    alternative : self.alternative.value || make_node(AST_Undefined, self.alternative).optimize(compressor)
                })
            }).transform(compressor);
        }
        if (self.body instanceof AST_If
            && !self.body.alternative
            && !self.alternative) {
            self.condition = make_node(AST_Binary, self.condition, {
                operator: "&&",
                left: self.condition,
                right: self.body.condition
            }).transform(compressor);
            self.body = self.body.body;
        }
        if (aborts(self.body)) {
            if (self.alternative) {
                var alt = self.alternative;
                self.alternative = null;
                return make_node(AST_BlockStatement, self, {
                    body: [ self, alt ]
                }).transform(compressor);
            }
        }
        if (aborts(self.alternative)) {
            var body = self.body;
            self.body = self.alternative;
            self.condition = negated_is_best ? negated : self.condition.negate(compressor);
            self.alternative = null;
            return make_node(AST_BlockStatement, self, {
                body: [ self, body ]
            }).transform(compressor);
        }
        return self;
    });

    OPT(AST_Switch, function(self, compressor){
        if (self.body.length == 0 && compressor.option("conditionals")) {
            return make_node(AST_SimpleStatement, self, {
                body: self.expression
            }).transform(compressor);
        }
        for(;;) {
            var last_branch = self.body[self.body.length - 1];
            if (last_branch) {
                var stat = last_branch.body[last_branch.body.length - 1]; // last statement
                if (stat instanceof AST_Break && loop_body(compressor.loopcontrol_target(stat.label)) === self)
                    last_branch.body.pop();
                if (last_branch instanceof AST_Default && last_branch.body.length == 0) {
                    self.body.pop();
                    continue;
                }
            }
            break;
        }
        var exp = self.expression.evaluate(compressor);
        out: if (exp.length == 2) try {
            // constant expression
            self.expression = exp[0];
            if (!compressor.option("dead_code")) break out;
            var value = exp[1];
            var in_if = false;
            var in_block = false;
            var started = false;
            var stopped = false;
            var ruined = false;
            var tt = new TreeTransformer(function(node, descend, in_list){
                if (node instanceof AST_Lambda || node instanceof AST_SimpleStatement) {
                    // no need to descend these node types
                    return node;
                }
                else if (node instanceof AST_Switch && node === self) {
                    node = node.clone();
                    descend(node, this);
                    return ruined ? node : make_node(AST_BlockStatement, node, {
                        body: node.body.reduce(function(a, branch){
                            return a.concat(branch.body);
                        }, [])
                    }).transform(compressor);
                }
                else if (node instanceof AST_If || node instanceof AST_Try) {
                    var save = in_if;
                    in_if = !in_block;
                    descend(node, this);
                    in_if = save;
                    return node;
                }
                else if (node instanceof AST_StatementWithBody || node instanceof AST_Switch) {
                    var save = in_block;
                    in_block = true;
                    descend(node, this);
                    in_block = save;
                    return node;
                }
                else if (node instanceof AST_Break && this.loopcontrol_target(node.label) === self) {
                    if (in_if) {
                        ruined = true;
                        return node;
                    }
                    if (in_block) return node;
                    stopped = true;
                    return in_list ? MAP.skip : make_node(AST_EmptyStatement, node);
                }
                else if (node instanceof AST_SwitchBranch && this.parent() === self) {
                    if (stopped) return MAP.skip;
                    if (node instanceof AST_Case) {
                        var exp = node.expression.evaluate(compressor);
                        if (exp.length < 2) {
                            // got a case with non-constant expression, baling out
                            throw self;
                        }
                        if (exp[1] === value || started) {
                            started = true;
                            if (aborts(node)) stopped = true;
                            descend(node, this);
                            return node;
                        }
                        return MAP.skip;
                    }
                    descend(node, this);
                    return node;
                }
            });
            tt.stack = compressor.stack.slice(); // so that's able to see parent nodes
            self = self.transform(tt);
        } catch(ex) {
            if (ex !== self) throw ex;
        }
        return self;
    });

    OPT(AST_Case, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    OPT(AST_Try, function(self, compressor){
        self.body = tighten_body(self.body, compressor);
        return self;
    });

    AST_Definitions.DEFMETHOD("remove_initializers", function(){
        this.definitions.forEach(function(def){ def.value = null });
    });

    AST_Definitions.DEFMETHOD("to_assignments", function(){
        var assignments = this.definitions.reduce(function(a, def){
            if (def.value) {
                var name = make_node(AST_SymbolRef, def.name, def.name);
                a.push(make_node(AST_Assign, def, {
                    operator : "=",
                    left     : name,
                    right    : def.value
                }));
            }
            return a;
        }, []);
        if (assignments.length == 0) return null;
        return AST_Seq.from_array(assignments);
    });

    OPT(AST_Definitions, function(self, compressor){
        if (self.definitions.length == 0)
            return make_node(AST_EmptyStatement, self);
        return self;
    });

    OPT(AST_Function, function(self, compressor){
        self = AST_Lambda.prototype.optimize.call(self, compressor);
        if (compressor.option("unused")) {
            if (self.name && self.name.unreferenced()) {
                self.name = null;
            }
        }
        return self;
    });

    OPT(AST_Call, function(self, compressor){
        if (compressor.option("unsafe")) {
            var exp = self.expression;
            if (exp instanceof AST_SymbolRef && exp.undeclared()) {
                switch (exp.name) {
                  case "Array":
                    if (self.args.length != 1) {
                        return make_node(AST_Array, self, {
                            elements: self.args
                        }).transform(compressor);
                    }
                    break;
                  case "Object":
                    if (self.args.length == 0) {
                        return make_node(AST_Object, self, {
                            properties: []
                        });
                    }
                    break;
                  case "String":
                    if (self.args.length == 0) return make_node(AST_String, self, {
                        value: ""
                    });
                    if (self.args.length <= 1) return make_node(AST_Binary, self, {
                        left: self.args[0],
                        operator: "+",
                        right: make_node(AST_String, self, { value: "" })
                    }).transform(compressor);
                    break;
                  case "Number":
                    if (self.args.length == 0) return make_node(AST_Number, self, {
                        value: 0
                    });
                    if (self.args.length == 1) return make_node(AST_UnaryPrefix, self, {
                        expression: self.args[0],
                        operator: "+"
                    }).transform(compressor);
                  case "Boolean":
                    if (self.args.length == 0) return make_node(AST_False, self);
                    if (self.args.length == 1) return make_node(AST_UnaryPrefix, self, {
                        expression: make_node(AST_UnaryPrefix, null, {
                            expression: self.args[0],
                            operator: "!"
                        }),
                        operator: "!"
                    }).transform(compressor);
                    break;
                  case "Function":
                    if (all(self.args, function(x){ return x instanceof AST_String })) {
                        // quite a corner-case, but we can handle it:
                        //   https://github.com/mishoo/UglifyJS2/issues/203
                        // if the code argument is a constant, then we can minify it.
                        try {
                            var code = "(function(" + self.args.slice(0, -1).map(function(arg){
                                return arg.value;
                            }).join(",") + "){" + self.args[self.args.length - 1].value + "})()";
                            var ast = parse(code);
                            ast.figure_out_scope({ screw_ie8: compressor.option("screw_ie8") });
                            var comp = new Compressor(compressor.options);
                            ast = ast.transform(comp);
                            ast.figure_out_scope({ screw_ie8: compressor.option("screw_ie8") });
                            ast.mangle_names();
                            var fun;
                            try {
                                ast.walk(new TreeWalker(function(node){
                                    if (node instanceof AST_Lambda) {
                                        fun = node;
                                        throw ast;
                                    }
                                }));
                            } catch(ex) {
                                if (ex !== ast) throw ex;
                            };
                            var args = fun.argnames.map(function(arg, i){
                                return make_node(AST_String, self.args[i], {
                                    value: arg.print_to_string()
                                });
                            });
                            var code = OutputStream();
                            AST_BlockStatement.prototype._codegen.call(fun, fun, code);
                            code = code.toString().replace(/^\{|\}$/g, "");
                            args.push(make_node(AST_String, self.args[self.args.length - 1], {
                                value: code
                            }));
                            self.args = args;
                            return self;
                        } catch(ex) {
                            if (ex instanceof JS_Parse_Error) {
                                compressor.warn("Error parsing code passed to new Function [{file}:{line},{col}]", self.args[self.args.length - 1].start);
                                compressor.warn(ex.toString());
                            } else {
                                console.log(ex);
                                throw ex;
                            }
                        }
                    }
                    break;
                }
            }
            else if (exp instanceof AST_Dot && exp.property == "toString" && self.args.length == 0) {
                return make_node(AST_Binary, self, {
                    left: make_node(AST_String, self, { value: "" }),
                    operator: "+",
                    right: exp.expression
                }).transform(compressor);
            }
            else if (exp instanceof AST_Dot && exp.expression instanceof AST_Array && exp.property == "join") EXIT: {
                var separator = self.args.length == 0 ? "," : self.args[0].evaluate(compressor)[1];
                if (separator == null) break EXIT; // not a constant
                var elements = exp.expression.elements.reduce(function(a, el){
                    el = el.evaluate(compressor);
                    if (a.length == 0 || el.length == 1) {
                        a.push(el);
                    } else {
                        var last = a[a.length - 1];
                        if (last.length == 2) {
                            // it's a constant
                            var val = "" + last[1] + separator + el[1];
                            a[a.length - 1] = [ make_node_from_constant(compressor, val, last[0]), val ];
                        } else {
                            a.push(el);
                        }
                    }
                    return a;
                }, []);
                if (elements.length == 0) return make_node(AST_String, self, { value: "" });
                if (elements.length == 1) return elements[0][0];
                if (separator == "") {
                    var first;
                    if (elements[0][0] instanceof AST_String
                        || elements[1][0] instanceof AST_String) {
                        first = elements.shift()[0];
                    } else {
                        first = make_node(AST_String, self, { value: "" });
                    }
                    return elements.reduce(function(prev, el){
                        return make_node(AST_Binary, el[0], {
                            operator : "+",
                            left     : prev,
                            right    : el[0],
                        });
                    }, first).transform(compressor);
                }
                // need this awkward cloning to not affect original element
                // best_of will decide which one to get through.
                var node = self.clone();
                node.expression = node.expression.clone();
                node.expression.expression = node.expression.expression.clone();
                node.expression.expression.elements = elements.map(function(el){
                    return el[0];
                });
                return best_of(self, node);
            }
        }
        if (compressor.option("side_effects")) {
            if (self.expression instanceof AST_Function
                && self.args.length == 0
                && !AST_Block.prototype.has_side_effects.call(self.expression, compressor)) {
                return make_node(AST_Undefined, self).transform(compressor);
            }
        }
        if (compressor.option("drop_console")) {
            if (self.expression instanceof AST_PropAccess &&
                self.expression.expression instanceof AST_SymbolRef &&
                self.expression.expression.name == "console" &&
                self.expression.expression.undeclared()) {
                return make_node(AST_Undefined, self).transform(compressor);
            }
        }
        return self.evaluate(compressor)[0];
    });

    OPT(AST_New, function(self, compressor){
        if (compressor.option("unsafe")) {
            var exp = self.expression;
            if (exp instanceof AST_SymbolRef && exp.undeclared()) {
                switch (exp.name) {
                  case "Object":
                  case "RegExp":
                  case "Function":
                  case "Error":
                  case "Array":
                    return make_node(AST_Call, self, self).transform(compressor);
                }
            }
        }
        return self;
    });

    OPT(AST_Seq, function(self, compressor){
        if (!compressor.option("side_effects"))
            return self;
        if (!self.car.has_side_effects(compressor)) {
            // we shouldn't compress (1,eval)(something) to
            // eval(something) because that changes the meaning of
            // eval (becomes lexical instead of global).
            var p;
            if (!(self.cdr instanceof AST_SymbolRef
                  && self.cdr.name == "eval"
                  && self.cdr.undeclared()
                  && (p = compressor.parent()) instanceof AST_Call
                  && p.expression === self)) {
                return self.cdr;
            }
        }
        if (compressor.option("cascade")) {
            if (self.car instanceof AST_Assign
                && !self.car.left.has_side_effects(compressor)) {
                if (self.car.left.equivalent_to(self.cdr)) {
                    return self.car;
                }
                if (self.cdr instanceof AST_Call
                    && self.cdr.expression.equivalent_to(self.car.left)) {
                    self.cdr.expression = self.car;
                    return self.cdr;
                }
            }
            if (!self.car.has_side_effects(compressor)
                && !self.cdr.has_side_effects(compressor)
                && self.car.equivalent_to(self.cdr)) {
                return self.car;
            }
        }
        if (self.cdr instanceof AST_UnaryPrefix
            && self.cdr.operator == "void"
            && !self.cdr.expression.has_side_effects(compressor)) {
            self.cdr.operator = self.car;
            return self.cdr;
        }
        if (self.cdr instanceof AST_Undefined) {
            return make_node(AST_UnaryPrefix, self, {
                operator   : "void",
                expression : self.car
            });
        }
        return self;
    });

    AST_Unary.DEFMETHOD("lift_sequences", function(compressor){
        if (compressor.option("sequences")) {
            if (this.expression instanceof AST_Seq) {
                var seq = this.expression;
                var x = seq.to_array();
                this.expression = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
        }
        return this;
    });

    OPT(AST_UnaryPostfix, function(self, compressor){
        return self.lift_sequences(compressor);
    });

    OPT(AST_UnaryPrefix, function(self, compressor){
        self = self.lift_sequences(compressor);
        var e = self.expression;
        if (compressor.option("booleans") && compressor.in_boolean_context()) {
            switch (self.operator) {
              case "!":
                if (e instanceof AST_UnaryPrefix && e.operator == "!") {
                    // !!foo ==> foo, if we're in boolean context
                    return e.expression;
                }
                break;
              case "typeof":
                // typeof always returns a non-empty string, thus it's
                // always true in booleans
                compressor.warn("Boolean expression always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            if (e instanceof AST_Binary && self.operator == "!") {
                self = best_of(self, e.negate(compressor));
            }
        }
        return self.evaluate(compressor)[0];
    });

    function has_side_effects_or_prop_access(node, compressor) {
        var save_pure_getters = compressor.option("pure_getters");
        compressor.options.pure_getters = false;
        var ret = node.has_side_effects(compressor);
        compressor.options.pure_getters = save_pure_getters;
        return ret;
    }

    AST_Binary.DEFMETHOD("lift_sequences", function(compressor){
        if (compressor.option("sequences")) {
            if (this.left instanceof AST_Seq) {
                var seq = this.left;
                var x = seq.to_array();
                this.left = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
            if (this.right instanceof AST_Seq
                && this instanceof AST_Assign
                && !has_side_effects_or_prop_access(this.left, compressor)) {
                var seq = this.right;
                var x = seq.to_array();
                this.right = x.pop();
                x.push(this);
                seq = AST_Seq.from_array(x).transform(compressor);
                return seq;
            }
        }
        return this;
    });

    var commutativeOperators = makePredicate("== === != !== * & | ^");

    OPT(AST_Binary, function(self, compressor){
        var reverse = compressor.has_directive("use asm") ? noop
            : function(op, force) {
                if (force || !(self.left.has_side_effects(compressor) || self.right.has_side_effects(compressor))) {
                    if (op) self.operator = op;
                    var tmp = self.left;
                    self.left = self.right;
                    self.right = tmp;
                }
            };
        if (commutativeOperators(self.operator)) {
            if (self.right instanceof AST_Constant
                && !(self.left instanceof AST_Constant)) {
                // if right is a constant, whatever side effects the
                // left side might have could not influence the
                // result.  hence, force switch.

                if (!(self.left instanceof AST_Binary
                      && PRECEDENCE[self.left.operator] >= PRECEDENCE[self.operator])) {
                    reverse(null, true);
                }
            }
            if (/^[!=]==?$/.test(self.operator)) {
                if (self.left instanceof AST_SymbolRef && self.right instanceof AST_Conditional) {
                    if (self.right.consequent instanceof AST_SymbolRef
                        && self.right.consequent.definition() === self.left.definition()) {
                        if (/^==/.test(self.operator)) return self.right.condition;
                        if (/^!=/.test(self.operator)) return self.right.condition.negate(compressor);
                    }
                    if (self.right.alternative instanceof AST_SymbolRef
                        && self.right.alternative.definition() === self.left.definition()) {
                        if (/^==/.test(self.operator)) return self.right.condition.negate(compressor);
                        if (/^!=/.test(self.operator)) return self.right.condition;
                    }
                }
                if (self.right instanceof AST_SymbolRef && self.left instanceof AST_Conditional) {
                    if (self.left.consequent instanceof AST_SymbolRef
                        && self.left.consequent.definition() === self.right.definition()) {
                        if (/^==/.test(self.operator)) return self.left.condition;
                        if (/^!=/.test(self.operator)) return self.left.condition.negate(compressor);
                    }
                    if (self.left.alternative instanceof AST_SymbolRef
                        && self.left.alternative.definition() === self.right.definition()) {
                        if (/^==/.test(self.operator)) return self.left.condition.negate(compressor);
                        if (/^!=/.test(self.operator)) return self.left.condition;
                    }
                }
            }
        }
        self = self.lift_sequences(compressor);
        if (compressor.option("comparisons")) switch (self.operator) {
          case "===":
          case "!==":
            if ((self.left.is_string(compressor) && self.right.is_string(compressor)) ||
                (self.left.is_boolean() && self.right.is_boolean())) {
                self.operator = self.operator.substr(0, 2);
            }
            // XXX: intentionally falling down to the next case
          case "==":
          case "!=":
            if (self.left instanceof AST_String
                && self.left.value == "undefined"
                && self.right instanceof AST_UnaryPrefix
                && self.right.operator == "typeof"
                && compressor.option("unsafe")) {
                if (!(self.right.expression instanceof AST_SymbolRef)
                    || !self.right.expression.undeclared()) {
                    self.right = self.right.expression;
                    self.left = make_node(AST_Undefined, self.left).optimize(compressor);
                    if (self.operator.length == 2) self.operator += "=";
                }
            }
            break;
        }
        if (compressor.option("booleans") && compressor.in_boolean_context()) switch (self.operator) {
          case "&&":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && !ll[1]) || (rr.length > 1 && !rr[1])) {
                compressor.warn("Boolean && always false [{file}:{line},{col}]", self.start);
                return make_node(AST_False, self);
            }
            if (ll.length > 1 && ll[1]) {
                return rr[0];
            }
            if (rr.length > 1 && rr[1]) {
                return ll[0];
            }
            break;
          case "||":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && ll[1]) || (rr.length > 1 && rr[1])) {
                compressor.warn("Boolean || always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            if (ll.length > 1 && !ll[1]) {
                return rr[0];
            }
            if (rr.length > 1 && !rr[1]) {
                return ll[0];
            }
            break;
          case "+":
            var ll = self.left.evaluate(compressor);
            var rr = self.right.evaluate(compressor);
            if ((ll.length > 1 && ll[0] instanceof AST_String && ll[1]) ||
                (rr.length > 1 && rr[0] instanceof AST_String && rr[1])) {
                compressor.warn("+ in boolean context always true [{file}:{line},{col}]", self.start);
                return make_node(AST_True, self);
            }
            break;
        }
        if (compressor.option("comparisons")) {
            if (!(compressor.parent() instanceof AST_Binary)
                || compressor.parent() instanceof AST_Assign) {
                var negated = make_node(AST_UnaryPrefix, self, {
                    operator: "!",
                    expression: self.negate(compressor)
                });
                self = best_of(self, negated);
            }
            switch (self.operator) {
              case "<": reverse(">"); break;
              case "<=": reverse(">="); break;
            }
        }
        if (self.operator == "+" && self.right instanceof AST_String
            && self.right.getValue() === "" && self.left instanceof AST_Binary
            && self.left.operator == "+" && self.left.is_string(compressor)) {
            return self.left;
        }
        if (compressor.option("evaluate")) {
            if (self.operator == "+") {
                if (self.left instanceof AST_Constant
                    && self.right instanceof AST_Binary
                    && self.right.operator == "+"
                    && self.right.left instanceof AST_Constant
                    && self.right.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: make_node(AST_String, null, {
                            value: "" + self.left.getValue() + self.right.left.getValue(),
                            start: self.left.start,
                            end: self.right.left.end
                        }),
                        right: self.right.right
                    });
                }
                if (self.right instanceof AST_Constant
                    && self.left instanceof AST_Binary
                    && self.left.operator == "+"
                    && self.left.right instanceof AST_Constant
                    && self.left.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: self.left.left,
                        right: make_node(AST_String, null, {
                            value: "" + self.left.right.getValue() + self.right.getValue(),
                            start: self.left.right.start,
                            end: self.right.end
                        })
                    });
                }
                if (self.left instanceof AST_Binary
                    && self.left.operator == "+"
                    && self.left.is_string(compressor)
                    && self.left.right instanceof AST_Constant
                    && self.right instanceof AST_Binary
                    && self.right.operator == "+"
                    && self.right.left instanceof AST_Constant
                    && self.right.is_string(compressor)) {
                    self = make_node(AST_Binary, self, {
                        operator: "+",
                        left: make_node(AST_Binary, self.left, {
                            operator: "+",
                            left: self.left.left,
                            right: make_node(AST_String, null, {
                                value: "" + self.left.right.getValue() + self.right.left.getValue(),
                                start: self.left.right.start,
                                end: self.right.left.end
                            })
                        }),
                        right: self.right.right
                    });
                }
            }
        }
        // x * (y * z)  ==>  x * y * z
        if (self.right instanceof AST_Binary
            && self.right.operator == self.operator
            && (self.operator == "*" || self.operator == "&&" || self.operator == "||"))
        {
            self.left = make_node(AST_Binary, self.left, {
                operator : self.operator,
                left     : self.left,
                right    : self.right.left
            });
            self.right = self.right.right;
            return self.transform(compressor);
        }
        return self.evaluate(compressor)[0];
    });

    OPT(AST_SymbolRef, function(self, compressor){
        if (self.undeclared()) {
            var defines = compressor.option("global_defs");
            if (defines && defines.hasOwnProperty(self.name)) {
                return make_node_from_constant(compressor, defines[self.name], self);
            }
            switch (self.name) {
              case "undefined":
                return make_node(AST_Undefined, self);
              case "NaN":
                return make_node(AST_NaN, self);
              case "Infinity":
                return make_node(AST_Infinity, self);
            }
        }
        return self;
    });

    OPT(AST_Undefined, function(self, compressor){
        if (compressor.option("unsafe")) {
            var scope = compressor.find_parent(AST_Scope);
            var undef = scope.find_variable("undefined");
            if (undef) {
                var ref = make_node(AST_SymbolRef, self, {
                    name   : "undefined",
                    scope  : scope,
                    thedef : undef
                });
                ref.reference();
                return ref;
            }
        }
        return self;
    });

    var ASSIGN_OPS = [ '+', '-', '/', '*', '%', '>>', '<<', '>>>', '|', '^', '&' ];
    OPT(AST_Assign, function(self, compressor){
        self = self.lift_sequences(compressor);
        if (self.operator == "="
            && self.left instanceof AST_SymbolRef
            && self.right instanceof AST_Binary
            && self.right.left instanceof AST_SymbolRef
            && self.right.left.name == self.left.name
            && member(self.right.operator, ASSIGN_OPS)) {
            self.operator = self.right.operator + "=";
            self.right = self.right.right;
        }
        return self;
    });

    OPT(AST_Conditional, function(self, compressor){
        if (!compressor.option("conditionals")) return self;
        if (self.condition instanceof AST_Seq) {
            var car = self.condition.car;
            self.condition = self.condition.cdr;
            return AST_Seq.cons(car, self);
        }
        var cond = self.condition.evaluate(compressor);
        if (cond.length > 1) {
            if (cond[1]) {
                compressor.warn("Condition always true [{file}:{line},{col}]", self.start);
                return self.consequent;
            } else {
                compressor.warn("Condition always false [{file}:{line},{col}]", self.start);
                return self.alternative;
            }
        }
        var negated = cond[0].negate(compressor);
        if (best_of(cond[0], negated) === negated) {
            self = make_node(AST_Conditional, self, {
                condition: negated,
                consequent: self.alternative,
                alternative: self.consequent
            });
        }
        var consequent = self.consequent;
        var alternative = self.alternative;
        if (consequent instanceof AST_Assign
            && alternative instanceof AST_Assign
            && consequent.operator == alternative.operator
            && consequent.left.equivalent_to(alternative.left)
           ) {
            /*
             * Stuff like this:
             * if (foo) exp = something; else exp = something_else;
             * ==>
             * exp = foo ? something : something_else;
             */
            return make_node(AST_Assign, self, {
                operator: consequent.operator,
                left: consequent.left,
                right: make_node(AST_Conditional, self, {
                    condition: self.condition,
                    consequent: consequent.right,
                    alternative: alternative.right
                })
            });
        }
        if (consequent instanceof AST_Call
            && alternative.TYPE === consequent.TYPE
            && consequent.args.length == alternative.args.length
            && consequent.expression.equivalent_to(alternative.expression)) {
            if (consequent.args.length == 0) {
                return make_node(AST_Seq, self, {
                    car: self.condition,
                    cdr: consequent
                });
            }
            if (consequent.args.length == 1) {
                consequent.args[0] = make_node(AST_Conditional, self, {
                    condition: self.condition,
                    consequent: consequent.args[0],
                    alternative: alternative.args[0]
                });
                return consequent;
            }
        }
        // x?y?z:a:a --> x&&y?z:a
        if (consequent instanceof AST_Conditional
            && consequent.alternative.equivalent_to(alternative)) {
            return make_node(AST_Conditional, self, {
                condition: make_node(AST_Binary, self, {
                    left: self.condition,
                    operator: "&&",
                    right: consequent.condition
                }),
                consequent: consequent.consequent,
                alternative: alternative
            });
        }
        return self;
    });

    OPT(AST_Boolean, function(self, compressor){
        if (compressor.option("booleans")) {
            var p = compressor.parent();
            if (p instanceof AST_Binary && (p.operator == "=="
                                            || p.operator == "!=")) {
                compressor.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]", {
                    operator : p.operator,
                    value    : self.value,
                    file     : p.start.file,
                    line     : p.start.line,
                    col      : p.start.col,
                });
                return make_node(AST_Number, self, {
                    value: +self.value
                });
            }
            return make_node(AST_UnaryPrefix, self, {
                operator: "!",
                expression: make_node(AST_Number, self, {
                    value: 1 - self.value
                })
            });
        }
        return self;
    });

    OPT(AST_Sub, function(self, compressor){
        var prop = self.property;
        if (prop instanceof AST_String && compressor.option("properties")) {
            prop = prop.getValue();
            if (RESERVED_WORDS(prop) ? compressor.option("screw_ie8") : is_identifier_string(prop)) {
                return make_node(AST_Dot, self, {
                    expression : self.expression,
                    property   : prop
                }).optimize(compressor);
            }
            var v = parseFloat(prop);
            if (!isNaN(v) && v.toString() == prop) {
                self.property = make_node(AST_Number, self.property, {
                    value: v
                });
            }
        }
        return self;
    });

    OPT(AST_Dot, function(self, compressor){
        return self.evaluate(compressor)[0];
    });

    function literals_in_boolean_context(self, compressor) {
        if (compressor.option("booleans") && compressor.in_boolean_context()) {
            return make_node(AST_True, self);
        }
        return self;
    };
    OPT(AST_Array, literals_in_boolean_context);
    OPT(AST_Object, literals_in_boolean_context);
    OPT(AST_RegExp, literals_in_boolean_context);

})();

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

// a small wrapper around fitzgen's source-map library
function SourceMap(options) {
    options = defaults(options, {
        file : null,
        root : null,
        orig : null,

        orig_line_diff : 0,
        dest_line_diff : 0,
    });
    var generator = new MOZ_SourceMap.SourceMapGenerator({
        file       : options.file,
        sourceRoot : options.root
    });
    var orig_map = options.orig && new MOZ_SourceMap.SourceMapConsumer(options.orig);
    function add(source, gen_line, gen_col, orig_line, orig_col, name) {
        if (orig_map) {
            var info = orig_map.originalPositionFor({
                line: orig_line,
                column: orig_col
            });
            if (info.source === null) {
                return;
            }
            source = info.source;
            orig_line = info.line;
            orig_col = info.column;
            name = info.name;
        }
        generator.addMapping({
            generated : { line: gen_line + options.dest_line_diff, column: gen_col },
            original  : { line: orig_line + options.orig_line_diff, column: orig_col },
            source    : source,
            name      : name
        });
    };
    return {
        add        : add,
        get        : function() { return generator },
        toString   : function() { return generator.toString() }
    };
};

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

"use strict";

(function(){

    var MOZ_TO_ME = {
        TryStatement : function(M) {
            return new AST_Try({
                start    : my_start_token(M),
                end      : my_end_token(M),
                body     : from_moz(M.block).body,
                bcatch   : from_moz(M.handlers ? M.handlers[0] : M.handler),
                bfinally : M.finalizer ? new AST_Finally(from_moz(M.finalizer)) : null
            });
        },
        CatchClause : function(M) {
            return new AST_Catch({
                start   : my_start_token(M),
                end     : my_end_token(M),
                argname : from_moz(M.param),
                body    : from_moz(M.body).body
            });
        },
        ObjectExpression : function(M) {
            return new AST_Object({
                start      : my_start_token(M),
                end        : my_end_token(M),
                properties : M.properties.map(function(prop){
                    var key = prop.key;
                    var name = key.type == "Identifier" ? key.name : key.value;
                    var args = {
                        start    : my_start_token(key),
                        end      : my_end_token(prop.value),
                        key      : name,
                        value    : from_moz(prop.value)
                    };
                    switch (prop.kind) {
                      case "init":
                        return new AST_ObjectKeyVal(args);
                      case "set":
                        args.value.name = from_moz(key);
                        return new AST_ObjectSetter(args);
                      case "get":
                        args.value.name = from_moz(key);
                        return new AST_ObjectGetter(args);
                    }
                })
            });
        },
        SequenceExpression : function(M) {
            return AST_Seq.from_array(M.expressions.map(from_moz));
        },
        MemberExpression : function(M) {
            return new (M.computed ? AST_Sub : AST_Dot)({
                start      : my_start_token(M),
                end        : my_end_token(M),
                property   : M.computed ? from_moz(M.property) : M.property.name,
                expression : from_moz(M.object)
            });
        },
        SwitchCase : function(M) {
            return new (M.test ? AST_Case : AST_Default)({
                start      : my_start_token(M),
                end        : my_end_token(M),
                expression : from_moz(M.test),
                body       : M.consequent.map(from_moz)
            });
        },
        Literal : function(M) {
            var val = M.value, args = {
                start  : my_start_token(M),
                end    : my_end_token(M)
            };
            if (val === null) return new AST_Null(args);
            switch (typeof val) {
              case "string":
                args.value = val;
                return new AST_String(args);
              case "number":
                args.value = val;
                return new AST_Number(args);
              case "boolean":
                return new (val ? AST_True : AST_False)(args);
              default:
                args.value = val;
                return new AST_RegExp(args);
            }
        },
        UnaryExpression: From_Moz_Unary,
        UpdateExpression: From_Moz_Unary,
        Identifier: function(M) {
            var p = FROM_MOZ_STACK[FROM_MOZ_STACK.length - 2];
            return new (M.name == "this" ? AST_This
                        : p.type == "LabeledStatement" ? AST_Label
                        : p.type == "VariableDeclarator" && p.id === M ? (p.kind == "const" ? AST_SymbolConst : AST_SymbolVar)
                        : p.type == "FunctionExpression" ? (p.id === M ? AST_SymbolLambda : AST_SymbolFunarg)
                        : p.type == "FunctionDeclaration" ? (p.id === M ? AST_SymbolDefun : AST_SymbolFunarg)
                        : p.type == "CatchClause" ? AST_SymbolCatch
                        : p.type == "BreakStatement" || p.type == "ContinueStatement" ? AST_LabelRef
                        : AST_SymbolRef)({
                            start : my_start_token(M),
                            end   : my_end_token(M),
                            name  : M.name
                        });
        }
    };

    function From_Moz_Unary(M) {
        var prefix = "prefix" in M ? M.prefix
            : M.type == "UnaryExpression" ? true : false;
        return new (prefix ? AST_UnaryPrefix : AST_UnaryPostfix)({
            start      : my_start_token(M),
            end        : my_end_token(M),
            operator   : M.operator,
            expression : from_moz(M.argument)
        });
    };

    var ME_TO_MOZ = {};

    map("Node", AST_Node);
    map("Program", AST_Toplevel, "body@body");
    map("Function", AST_Function, "id>name, params@argnames, body%body");
    map("EmptyStatement", AST_EmptyStatement);
    map("BlockStatement", AST_BlockStatement, "body@body");
    map("ExpressionStatement", AST_SimpleStatement, "expression>body");
    map("IfStatement", AST_If, "test>condition, consequent>body, alternate>alternative");
    map("LabeledStatement", AST_LabeledStatement, "label>label, body>body");
    map("BreakStatement", AST_Break, "label>label");
    map("ContinueStatement", AST_Continue, "label>label");
    map("WithStatement", AST_With, "object>expression, body>body");
    map("SwitchStatement", AST_Switch, "discriminant>expression, cases@body");
    map("ReturnStatement", AST_Return, "argument>value");
    map("ThrowStatement", AST_Throw, "argument>value");
    map("WhileStatement", AST_While, "test>condition, body>body");
    map("DoWhileStatement", AST_Do, "test>condition, body>body");
    map("ForStatement", AST_For, "init>init, test>condition, update>step, body>body");
    map("ForInStatement", AST_ForIn, "left>init, right>object, body>body");
    map("DebuggerStatement", AST_Debugger);
    map("FunctionDeclaration", AST_Defun, "id>name, params@argnames, body%body");
    map("VariableDeclaration", AST_Var, "declarations@definitions");
    map("VariableDeclarator", AST_VarDef, "id>name, init>value");

    map("ThisExpression", AST_This);
    map("ArrayExpression", AST_Array, "elements@elements");
    map("FunctionExpression", AST_Function, "id>name, params@argnames, body%body");
    map("BinaryExpression", AST_Binary, "operator=operator, left>left, right>right");
    map("AssignmentExpression", AST_Assign, "operator=operator, left>left, right>right");
    map("LogicalExpression", AST_Binary, "operator=operator, left>left, right>right");
    map("ConditionalExpression", AST_Conditional, "test>condition, consequent>consequent, alternate>alternative");
    map("NewExpression", AST_New, "callee>expression, arguments@args");
    map("CallExpression", AST_Call, "callee>expression, arguments@args");

    /* -----[ tools ]----- */

    function my_start_token(moznode) {
        return new AST_Token({
            file   : moznode.loc && moznode.loc.source,
            line   : moznode.loc && moznode.loc.start.line,
            col    : moznode.loc && moznode.loc.start.column,
            pos    : moznode.start,
            endpos : moznode.start
        });
    };

    function my_end_token(moznode) {
        return new AST_Token({
            file   : moznode.loc && moznode.loc.source,
            line   : moznode.loc && moznode.loc.end.line,
            col    : moznode.loc && moznode.loc.end.column,
            pos    : moznode.end,
            endpos : moznode.end
        });
    };

    function map(moztype, mytype, propmap) {
        var moz_to_me = "function From_Moz_" + moztype + "(M){\n";
        moz_to_me += "return new mytype({\n" +
            "start: my_start_token(M),\n" +
            "end: my_end_token(M)";

        if (propmap) propmap.split(/\s*,\s*/).forEach(function(prop){
            var m = /([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(prop);
            if (!m) throw new Error("Can't understand property map: " + prop);
            var moz = "M." + m[1], how = m[2], my = m[3];
            moz_to_me += ",\n" + my + ": ";
            if (how == "@") {
                moz_to_me += moz + ".map(from_moz)";
            } else if (how == ">") {
                moz_to_me += "from_moz(" + moz + ")";
            } else if (how == "=") {
                moz_to_me += moz;
            } else if (how == "%") {
                moz_to_me += "from_moz(" + moz + ").body";
            } else throw new Error("Can't understand operator in propmap: " + prop);
        });
        moz_to_me += "\n})}";

        // moz_to_me = parse(moz_to_me).print_to_string({ beautify: true });
        // console.log(moz_to_me);

        moz_to_me = new Function("mytype", "my_start_token", "my_end_token", "from_moz", "return(" + moz_to_me + ")")(
            mytype, my_start_token, my_end_token, from_moz
        );
        return MOZ_TO_ME[moztype] = moz_to_me;
    };

    var FROM_MOZ_STACK = null;

    function from_moz(node) {
        FROM_MOZ_STACK.push(node);
        var ret = node != null ? MOZ_TO_ME[node.type](node) : null;
        FROM_MOZ_STACK.pop();
        return ret;
    };

    AST_Node.from_mozilla_ast = function(node){
        var save_stack = FROM_MOZ_STACK;
        FROM_MOZ_STACK = [];
        var ast = from_moz(node);
        FROM_MOZ_STACK = save_stack;
        return ast;
    };

})();


exports.sys = sys;
exports.MOZ_SourceMap = MOZ_SourceMap;
exports.UglifyJS = UglifyJS;
exports.array_to_hash = array_to_hash;
exports.slice = slice;
exports.characters = characters;
exports.member = member;
exports.find_if = find_if;
exports.repeat_string = repeat_string;
exports.DefaultsError = DefaultsError;
exports.defaults = defaults;
exports.merge = merge;
exports.noop = noop;
exports.MAP = MAP;
exports.push_uniq = push_uniq;
exports.string_template = string_template;
exports.remove = remove;
exports.mergeSort = mergeSort;
exports.set_difference = set_difference;
exports.set_intersection = set_intersection;
exports.makePredicate = makePredicate;
exports.all = all;
exports.Dictionary = Dictionary;
exports.DEFNODE = DEFNODE;
exports.AST_Token = AST_Token;
exports.AST_Node = AST_Node;
exports.AST_Statement = AST_Statement;
exports.AST_Debugger = AST_Debugger;
exports.AST_Directive = AST_Directive;
exports.AST_SimpleStatement = AST_SimpleStatement;
exports.walk_body = walk_body;
exports.AST_Block = AST_Block;
exports.AST_BlockStatement = AST_BlockStatement;
exports.AST_EmptyStatement = AST_EmptyStatement;
exports.AST_StatementWithBody = AST_StatementWithBody;
exports.AST_LabeledStatement = AST_LabeledStatement;
exports.AST_IterationStatement = AST_IterationStatement;
exports.AST_DWLoop = AST_DWLoop;
exports.AST_Do = AST_Do;
exports.AST_While = AST_While;
exports.AST_For = AST_For;
exports.AST_ForIn = AST_ForIn;
exports.AST_With = AST_With;
exports.AST_Scope = AST_Scope;
exports.AST_Toplevel = AST_Toplevel;
exports.AST_Lambda = AST_Lambda;
exports.AST_Accessor = AST_Accessor;
exports.AST_Function = AST_Function;
exports.AST_Defun = AST_Defun;
exports.AST_Jump = AST_Jump;
exports.AST_Exit = AST_Exit;
exports.AST_Return = AST_Return;
exports.AST_Throw = AST_Throw;
exports.AST_LoopControl = AST_LoopControl;
exports.AST_Break = AST_Break;
exports.AST_Continue = AST_Continue;
exports.AST_If = AST_If;
exports.AST_Switch = AST_Switch;
exports.AST_SwitchBranch = AST_SwitchBranch;
exports.AST_Default = AST_Default;
exports.AST_Case = AST_Case;
exports.AST_Try = AST_Try;
exports.AST_Catch = AST_Catch;
exports.AST_Finally = AST_Finally;
exports.AST_Definitions = AST_Definitions;
exports.AST_Var = AST_Var;
exports.AST_Const = AST_Const;
exports.AST_VarDef = AST_VarDef;
exports.AST_Call = AST_Call;
exports.AST_New = AST_New;
exports.AST_Seq = AST_Seq;
exports.AST_PropAccess = AST_PropAccess;
exports.AST_Dot = AST_Dot;
exports.AST_Sub = AST_Sub;
exports.AST_Unary = AST_Unary;
exports.AST_UnaryPrefix = AST_UnaryPrefix;
exports.AST_UnaryPostfix = AST_UnaryPostfix;
exports.AST_Binary = AST_Binary;
exports.AST_Conditional = AST_Conditional;
exports.AST_Assign = AST_Assign;
exports.AST_Array = AST_Array;
exports.AST_Object = AST_Object;
exports.AST_ObjectProperty = AST_ObjectProperty;
exports.AST_ObjectKeyVal = AST_ObjectKeyVal;
exports.AST_ObjectSetter = AST_ObjectSetter;
exports.AST_ObjectGetter = AST_ObjectGetter;
exports.AST_Symbol = AST_Symbol;
exports.AST_SymbolAccessor = AST_SymbolAccessor;
exports.AST_SymbolDeclaration = AST_SymbolDeclaration;
exports.AST_SymbolVar = AST_SymbolVar;
exports.AST_SymbolConst = AST_SymbolConst;
exports.AST_SymbolFunarg = AST_SymbolFunarg;
exports.AST_SymbolDefun = AST_SymbolDefun;
exports.AST_SymbolLambda = AST_SymbolLambda;
exports.AST_SymbolCatch = AST_SymbolCatch;
exports.AST_Label = AST_Label;
exports.AST_SymbolRef = AST_SymbolRef;
exports.AST_LabelRef = AST_LabelRef;
exports.AST_This = AST_This;
exports.AST_Constant = AST_Constant;
exports.AST_String = AST_String;
exports.AST_Number = AST_Number;
exports.AST_RegExp = AST_RegExp;
exports.AST_Atom = AST_Atom;
exports.AST_Null = AST_Null;
exports.AST_NaN = AST_NaN;
exports.AST_Undefined = AST_Undefined;
exports.AST_Hole = AST_Hole;
exports.AST_Infinity = AST_Infinity;
exports.AST_Boolean = AST_Boolean;
exports.AST_False = AST_False;
exports.AST_True = AST_True;
exports.TreeWalker = TreeWalker;
exports.KEYWORDS = KEYWORDS;
exports.KEYWORDS_ATOM = KEYWORDS_ATOM;
exports.RESERVED_WORDS = RESERVED_WORDS;
exports.KEYWORDS_BEFORE_EXPRESSION = KEYWORDS_BEFORE_EXPRESSION;
exports.OPERATOR_CHARS = OPERATOR_CHARS;
exports.RE_HEX_NUMBER = RE_HEX_NUMBER;
exports.RE_OCT_NUMBER = RE_OCT_NUMBER;
exports.RE_DEC_NUMBER = RE_DEC_NUMBER;
exports.OPERATORS = OPERATORS;
exports.WHITESPACE_CHARS = WHITESPACE_CHARS;
exports.PUNC_BEFORE_EXPRESSION = PUNC_BEFORE_EXPRESSION;
exports.PUNC_CHARS = PUNC_CHARS;
exports.REGEXP_MODIFIERS = REGEXP_MODIFIERS;
exports.UNICODE = UNICODE;
exports.is_letter = is_letter;
exports.is_digit = is_digit;
exports.is_alphanumeric_char = is_alphanumeric_char;
exports.is_unicode_combining_mark = is_unicode_combining_mark;
exports.is_unicode_connector_punctuation = is_unicode_connector_punctuation;
exports.is_identifier = is_identifier;
exports.is_identifier_start = is_identifier_start;
exports.is_identifier_char = is_identifier_char;
exports.is_identifier_string = is_identifier_string;
exports.parse_js_number = parse_js_number;
exports.JS_Parse_Error = JS_Parse_Error;
exports.js_error = js_error;
exports.is_token = is_token;
exports.EX_EOF = EX_EOF;
exports.tokenizer = tokenizer;
exports.UNARY_PREFIX = UNARY_PREFIX;
exports.UNARY_POSTFIX = UNARY_POSTFIX;
exports.ASSIGNMENT = ASSIGNMENT;
exports.PRECEDENCE = PRECEDENCE;
exports.STATEMENTS_WITH_LABELS = STATEMENTS_WITH_LABELS;
exports.ATOMIC_START_TOKEN = ATOMIC_START_TOKEN;
exports.parse = parse;
exports.TreeTransformer = TreeTransformer;
exports.SymbolDef = SymbolDef;
exports.base54 = base54;
exports.OutputStream = OutputStream;
exports.Compressor = Compressor;
exports.SourceMap = SourceMap;

exports.AST_Node.warn_function = function (txt) { if (typeof console != "undefined" && typeof console.warn === "function") console.warn(txt) }

exports.minify = function (files, options) {
    options = UglifyJS.defaults(options, {
        spidermonkey : false,
        outSourceMap : null,
        sourceRoot   : null,
        inSourceMap  : null,
        fromString   : false,
        warnings     : false,
        mangle       : {},
        output       : null,
        compress     : {}
    });
    UglifyJS.base54.reset();

    // 1. parse
    var toplevel = null,
        sourcesContent = {};

    if (options.spidermonkey) {
        toplevel = UglifyJS.AST_Node.from_mozilla_ast(files);
    } else {
        if (typeof files == "string")
            files = [ files ];
        files.forEach(function(file){
            var code = options.fromString
                ? file
                : fs.readFileSync(file, "utf8");
            sourcesContent[file] = code;
            toplevel = UglifyJS.parse(code, {
                filename: options.fromString ? "?" : file,
                toplevel: toplevel
            });
        });
    }

    // 2. compress
    if (options.compress) {
        var compress = { warnings: options.warnings };
        UglifyJS.merge(compress, options.compress);
        toplevel.figure_out_scope();
        var sq = UglifyJS.Compressor(compress);
        toplevel = toplevel.transform(sq);
    }

    // 3. mangle
    if (options.mangle) {
        toplevel.figure_out_scope();
        toplevel.compute_char_frequency();
        toplevel.mangle_names(options.mangle);
    }

    // 4. output
    var inMap = options.inSourceMap;
    var output = {};
    if (typeof options.inSourceMap == "string") {
        inMap = fs.readFileSync(options.inSourceMap, "utf8");
    }
    if (options.outSourceMap) {
        output.source_map = UglifyJS.SourceMap({
            file: options.outSourceMap,
            orig: inMap,
            root: options.sourceRoot
        });
        if (options.sourceMapIncludeSources) {
            for (var file in sourcesContent) {
                if (sourcesContent.hasOwnProperty(file)) {
                    output.source_map.get().setSourceContent(file, sourcesContent[file]);
                }
            }
        }

    }
    if (options.output) {
        UglifyJS.merge(output, options.output);
    }
    var stream = UglifyJS.OutputStream(output);
    toplevel.print(stream);

    if(options.outSourceMap){
        stream += "\n//# sourceMappingURL=" + options.outSourceMap;
    }

    return {
        code : stream + "",
        map  : output.source_map + ""
    };
};

exports.describe_ast = function () {
    var out = UglifyJS.OutputStream({ beautify: true });
    function doitem(ctor) {
        out.print("AST_" + ctor.TYPE);
        var props = ctor.SELF_PROPS.filter(function(prop){
            return !/^\$/.test(prop);
        });
        if (props.length > 0) {
            out.space();
            out.with_parens(function(){
                props.forEach(function(prop, i){
                    if (i) out.space();
                    out.print(prop);
                });
            });
        }
        if (ctor.documentation) {
            out.space();
            out.print_string(ctor.documentation);
        }
        if (ctor.SUBCLASSES.length > 0) {
            out.space();
            out.with_block(function(){
                ctor.SUBCLASSES.forEach(function(ctor, i){
                    out.indent();
                    doitem(ctor);
                    out.newline();
                });
            });
        }
    };
    doitem(UglifyJS.AST_Node);
    return out + "";
};
},{"source-map":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/node_modules/source-map/lib/source-map.js","util":"/home/azazdeaz/repos/animachine/node_modules/browserify/node_modules/util/util.js"}],"/home/azazdeaz/repos/animachine/src/editor/am.css":[function(require,module,exports){
module.exports = "/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n}\n\n.CodeMirror-scroll {\n  /* Set scrolling behaviour here */\n  overflow: auto;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n\n.CodeMirror pre {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n\n\n\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-guttermarker {\n  color: black;\n}\n\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n\n/* CURSOR */\n\n.CodeMirror div.CodeMirror-cursor {\n  border-left: 1px solid black;\n}\n\n/* Shown when moving in bi-directional text */\n\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor {\n  width: auto;\n  border: 0;\n  background: #7e7;\n}\n\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n\n@-moz-keyframes blink {\n  0% {\n    background: #7e7;\n  }\n\n  50% {\n    background: none;\n  }\n\n  100% {\n    background: #7e7;\n  }\n}\n\n@-webkit-keyframes blink {\n  0% {\n    background: #7e7;\n  }\n\n  50% {\n    background: none;\n  }\n\n  100% {\n    background: #7e7;\n  }\n}\n\n@keyframes blink {\n  0% {\n    background: #7e7;\n  }\n\n  50% {\n    background: none;\n  }\n\n  100% {\n    background: #7e7;\n  }\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n\n\n\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n\n.cm-s-default .cm-atom {\n  color: #219;\n}\n\n.cm-s-default .cm-number {\n  color: #164;\n}\n\n.cm-s-default .cm-def {\n  color: #00f;\n}\n\n\n\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n\n.cm-s-default .cm-variable-3 {\n  color: #085;\n}\n\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n\n.cm-s-default .cm-string {\n  color: #a11;\n}\n\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n\n.cm-s-default .cm-meta {\n  color: #555;\n}\n\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n\n.cm-s-default .cm-tag {\n  color: #170;\n}\n\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n\n.cm-s-default .cm-header {\n  color: blue;\n}\n\n.cm-s-default .cm-quote {\n  color: #090;\n}\n\n.cm-s-default .cm-hr {\n  color: #999;\n}\n\n.cm-s-default .cm-link {\n  color: #00c;\n}\n\n.cm-negative {\n  color: #d44;\n}\n\n.cm-positive {\n  color: #292;\n}\n\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n\n.cm-em {\n  font-style: italic;\n}\n\n.cm-link {\n  text-decoration: underline;\n}\n\n.cm-s-default .cm-error {\n  color: #f00;\n}\n\n.cm-invalidchar {\n  color: #f00;\n}\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0f0;\n}\n\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #f22;\n}\n\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, .3);\n}\n\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  line-height: 1;\n  position: relative;\n  overflow: hidden;\n  background: white;\n  color: black;\n}\n\n.CodeMirror-scroll {\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px;\n  margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actuall scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding-bottom: 30px;\n  z-index: 3;\n}\n\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  padding-bottom: 30px;\n  margin-bottom: -32px;\n  display: inline-block;\n  /* Hack to make IE7 behave */\n  *zoom: 1;\n  *display: inline;\n}\n\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n}\n\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n\n\n.CodeMirror-wrap .CodeMirror-scroll {\n  overflow-x: hidden;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-measure pre {\n  position: static;\n}\n\n.CodeMirror div.CodeMirror-cursor {\n  position: absolute;\n  border-right: none;\n  width: 0;\n}\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n\n.CodeMirror span {\n  *vertical-align: text-bottom;\n}\n\n/* Used to force a border model for a node */\n\n.cm-force-border {\n  padding-right: .1px;\n}\n\n@media print {\n  /* Hide the cursor when printing */\n\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* Help users use markselection to safely style text background */\n\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n/**\n * Pastel On Dark theme ported from ACE editor\n * @license MIT\n * @copyright AtomicPages LLC 2014\n * @author Dennis Thompson, AtomicPages LLC\n * @version 1.1\n * @source https://github.com/atomicpages/codemirror-pastel-on-dark-theme\n */\n\n.cm-s-pastel-on-dark.CodeMirror {\n  background: #2c2827;\n  color: #8F938F;\n  line-height: 1.5;\n  font-size: 14px;\n}\n\n.cm-s-pastel-on-dark div.CodeMirror-selected {\n  background: rgba(221,240,255,0.2) !important;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-gutters {\n  background: #34302f;\n  border-right: 0px;\n  padding: 0 3px;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-guttermarker {\n  color: white;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-guttermarker-subtle {\n  color: #8F938F;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-linenumber {\n  color: #8F938F;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-cursor {\n  border-left: 1px solid #A7A7A7 !important;\n}\n\n.cm-s-pastel-on-dark span.cm-comment {\n  color: #A6C6FF;\n}\n\n.cm-s-pastel-on-dark span.cm-atom {\n  color: #DE8E30;\n}\n\n.cm-s-pastel-on-dark span.cm-number {\n  color: #CCCCCC;\n}\n\n.cm-s-pastel-on-dark span.cm-property {\n  color: #8F938F;\n}\n\n.cm-s-pastel-on-dark span.cm-attribute {\n  color: #a6e22e;\n}\n\n.cm-s-pastel-on-dark span.cm-keyword {\n  color: #AEB2F8;\n}\n\n.cm-s-pastel-on-dark span.cm-string {\n  color: #66A968;\n}\n\n.cm-s-pastel-on-dark span.cm-variable {\n  color: #AEB2F8;\n}\n\n.cm-s-pastel-on-dark span.cm-variable-2 {\n  color: #BEBF55;\n}\n\n.cm-s-pastel-on-dark span.cm-variable-3 {\n  color: #DE8E30;\n}\n\n.cm-s-pastel-on-dark span.cm-def {\n  color: #757aD8;\n}\n\n.cm-s-pastel-on-dark span.cm-bracket {\n  color: #f8f8f2;\n}\n\n.cm-s-pastel-on-dark span.cm-tag {\n  color: #C1C144;\n}\n\n.cm-s-pastel-on-dark span.cm-link {\n  color: #ae81ff;\n}\n\n.cm-s-pastel-on-dark span.cm-qualifier,\n.cm-s-pastel-on-dark span.cm-builtin {\n  color: #C1C144;\n}\n\n.cm-s-pastel-on-dark span.cm-error {\n  background: #757aD8;\n  color: #f8f8f0;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-activeline-background {\n  background: rgba(255, 255, 255, 0.031) !important;\n}\n\n.cm-s-pastel-on-dark .CodeMirror-matchingbracket {\n  border: 1px solid rgba(255,255,255,0.25);\n  color: #8F938F !important;\n  margin: -1px -1px 0 -1px;\n}";

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.bezierEditor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBezierEditor: createBezierEditor };
};


function createBezierEditor(opt) {
  opt = opt || {};

  var p0 = { x: 0.3, y: 0.3 }, p1 = { x: 0.7, y: 0.7 }, w = opt.width || 312, h = opt.height || 312;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = w + "px";
  de.style.height = h + "px";

  var c = document.createElement("canvas");
  c.width = w;
  c.height = h;
  de.appendChild(c);

  var ctx = c.getContext("2d");

  var deCp0 = createCp(p0);
  var deCp1 = createCp(p1);

  de.getValue = function () {
    return [p0.x, p0.y, p1.x, p1.y];
  };

  de.setPoints = function (points) {
    p0.x = points[0];
    p0.y = points[1];
    p1.x = points[2];
    p1.y = points[3];

    render();
  };

  render();

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;





  function render() {
    ctx.clearRect(0, 0, w, h);
    ctx.beginPath();
    ctx.moveTo(x(p0.x), y(p0.y));
    ctx.lineTo(0, y(0));
    ctx.bezierCurveTo(x(p0.x), y(p0.y), x(p1.x), y(p1.y), x(1), y(1));
    ctx.lineTo(x(p1.x), y(p1.y));

    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.beginPath();
    ctx.rect(x(0), y(0), x(1), y(1) - y(0));
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 1;
    ctx.stroke();

    deCp0.refreshPosition();
    deCp1.refreshPosition();
  }

  function x(p) {
    return p * w;
  }

  function y(p) {
    var min = minY(), max = maxY(), full = max - min;

    return h - (((p - min) / full) * h);
  }

  function minY() {
    return Math.min(0, p0.y, p1.y);
  }

  function maxY() {
    return Math.max(1, p0.y, p1.y);
  }

  function createCp(point) {
    var r = 6;

    var deCp = document.createElement("div");
    deCp.style.position = "absolute";
    deCp.style.cursor = "grab";
    deCp.style.boxSizing = "border-box";
    deCp.style.width = r * 2 + "px";
    deCp.style.height = r * 2 + "px";
    deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
    deCp.style.borderRadius = r + "px";
    deCp.style.background = "rgba(256, 256, 256, 1)";
    de.appendChild(deCp);

    amgui.makeDraggable({
      deTarget: deCp,
      onDown: function () {
        deCp.style.cursor = "grabbing";

        var md = {};
        md.minY = minY();
        md.fullY = maxY() - md.minY;
        return md;
      },
      onMove: function (md, mx, my) {
        var br = de.getBoundingClientRect();

        point.x = Math.max(0, Math.min(1, (mx - br.left) / w));
        point.y = (((br.bottom - my) / h) * md.fullY) - md.minY;

        var fix = 1000;
        point.x = parseInt(point.x * fix) / fix;
        point.y = parseInt(point.y * fix) / fix;

        render();

        de.dispatchEvent(new CustomEvent("change", { detail: { points: de.getValue() } }));
      },
      onUp: function () {
        deCp.style.cursor = "grab";
      }
    });

    deCp.refreshPosition = function () {
      deCp.style.left = x(point.x) + "px";
      deCp.style.top = y(point.y) + "px";
    };
    deCp.refreshPosition();

    return deCp;
  }
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.breadcrumbs.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createBreadcrumbs: createBreadcrumbs };
};


function createBreadcrumbs(opt) {
  var de = document.createElement("div"), crumbs = [];

  // de.style.overflow = 'hidden';
  de.style.position = "relative";
  // de.style.display = 'inline-block';
  de.style.whiteSpace = "nowrap";

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.addEventListener("click", function () {
    var crumb = getCrumbByDe(this);

    if (crumb) {
      if (crumb.onSelect) {
        crumb.onSelect();
      }

      de.dispatchEvent(new CustomEvent("select", { selection: crumb }));
    }
  });

  de.setItems = function (_crumbs) {
    removeItems();

    _crumbs.forEach(function (crumb) {
      crumb.domElem = createCrumb(crumb.name, crumb.value);
      crumb.deSlash = createSlash();
      crumbs.push(crumb);
    });
  };

  return de;





  function removeItems() {
    var crumb;

    while (crumbs.length) {
      crumb = crumbs.pop();

      crumb.domElem.parentNode.removeChild(crumb.domElem);
      crumb.deSlash.parentNode.removeChild(crumb.deSlash);
    }
  }

  function getCrumbByDe(deCrumb) {
    var ret;

    crumbs.some(function (crumb) {
      if (crumb.domElem === deCrumb) {
        ret = deChrumb;
      }
    });

    return ret;
  }

  function createCrumb(name, value) {
    var deChrumb = createLi(name);

    return deChrumb;
  }

  function createSlash() {
    var deSlash = createLi(" / ");
    deSlash.style.pointerEvents = "none";

    return deSlash;
  }

  function createLi(content) {
    var li = document.createElement("div");
    li.textContent = content;
    // li.style.float = 'left';
    li.style.display = "inline-block";

    de.appendChild(li);

    return li;
  }
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.button.js":[function(require,module,exports){
"use strict";

var fontelloConf = require("../assets/fontello/config.json");
var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createIcon: createIcon,
    createLabel: createLabel,
    createBtn: createBtn,
    createIconBtn: createIconBtn,
    createToggleIconBtn: createToggleIconBtn,
    createLinebreak: createLinebreak };
};


function createLinebreak(opt) {
  var de = document.createElement("br");
  de.innerHTML = opt.caption || "label";

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createLabel(opt) {
  var de = amgui.createDiv(opt);

  de.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  de.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  de.style.display = opt.display || "inline-block";
  if ("flex" in opt) de.style.flex = opt.flex;
  if ("position" in opt) de.style.position = opt.position;
  if ("color" in opt) de.style.color = opt.color;

  de.setText = function (text) {
    de.innerHTML = text || "";
  };

  opt.text = opt.text || opt.caption; //TODO: change caption sets to text
  de.setText(opt.text);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createBtn(opt) {
  opt.backgroundColor = opt.backgroundColor || amgui.color.bg0;

  var de = amgui.createDiv(opt);
  de.style.height = (opt.height || amgui.LINE_HEIGHT) + "px";
  de.style.padding = "0 15px";
  de.style.cursor = "pointer";
  de.style.color = amgui.color.text;
  de.style.backgroundColor = opt.backgroundColor;

  Object.defineProperties(de, {
    text: {
      set: function (v) {
        de.textContent = v;
      },
      get: function () {
        return de.textContent;
      }
    }
  });

  de.text = opt.text || opt.caption || "button";

  behaviorBtn(de, opt);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

function createIconBtn(opt) {
  var isFixedHighlight = false;

  var de = amgui.createIcon(opt);
  de.style.cursor = "pointer";
  de.style.overflow = "hidden";

  behaviorBtn(de, opt);

  return de;
}

function behaviorBtn(de, opt) {
  var _inactive = false, _fixedHighlight = false, _mouseOver = false;

  de.addEventListener("mouseenter", onMOver);
  de.addEventListener("mouseleave", onMOut);

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  Object.defineProperties(de, {
    inactive: {
      set: function () {
        v = !!v;
        if (_inactive === v) return;

        _inactive = v;
        refreshDe();
      },
      get: function () {
        return _inactive;
      }
    },
    fixedHighlight: {
      set: function () {
        v = !!v;
        if (_fixedHighlight === v) return;

        _fixedHighlight = v;
        refreshDe();
      },
      get: function () {
        return _fixedHighlight;
      }
    } });

  function onMOver() {
    _mouseOver = true;
    refreshDe();
  }

  function onMOut() {
    _mouseOver = false;
    refreshDe();
  }

  function refreshDe() {
    de.style.opacity = _inactive ? 0.43 : 1;
    de.style.pointerEvents = _inactive ? "none" : "auto";
    de.style.background = (_mouseOver || _fixedHighlight) ? amgui.color.bgHover : "none";
  }
}

function createToggleIconBtn(opt) {
  opt.iconOn = opt.iconOn || opt.icon;
  opt.iconOff = opt.iconOff || opt.icon;
  opt.onColor = opt.onColor || opt.color || amgui.color.text;
  opt.offColor = opt.offColor || opt.color || amgui.color.textInactive;

  var isOn = opt.defaultToggle || false;
  var de = amgui.createIconBtn(opt);
  setIcon();

  if ("autoToggle" in opt ? opt.autoToggle : !opt.onClick) {
    de.addEventListener("click", onToggleClick);
  }

  if ("onToggle" in opt) {
    de.addEventListener("toggle", opt.onToggle);
  }

  if ("onClick" in opt) {
    de.addEventListener("click", opt.onClick);
  }

  de.setToggle = function (on) {
    on = !!on;
    if (on === isOn) {
      return;
    }

    isOn = on;
    setIcon();

    de.dispatchEvent(new CustomEvent("toggle", { detail: { state: isOn } }));
    de.dispatchEvent(new Event(isOn ? "toggleOn" : "toggleOff"));
  };

  de.state = function () {
    return isOn;
  };


  function onToggleClick() {
    de.setToggle(!isOn);
  }

  function setIcon() {
    de.setIcon(isOn ? opt.iconOn : opt.iconOff);

    if (opt.changeColor) {
      de.style.color = isOn ? opt.onColor : opt.offColor;
    }
  }

  return de;
}

function createIcon(opt) {
  opt = opt || {};
  opt.size = opt.size || opt.height || amgui.LINE_HEIGHT;

  var de = amgui.createDiv();
  de.style.color = amgui.color.text;
  de.style.width = (opt.width || opt.size) + "px";
  de.style.height = (opt.height || opt.size) + "px";
  de.style.lineHeight = opt.size + "px";
  de.style.textAlign = "center";
  de.style.fontFamily = "amgui";
  de.style.fontSize = Math.round(opt.size * 0.72) + "px";
  de.style.display = opt.display || "block";

  var textNode = document.createTextNode("");
  de.appendChild(textNode);

  de.setIcon = function (icon) {
    var glyph = fontelloConf.glyphs.find(function (glyph) {
      return glyph.css === icon;
    });

    var code = glyph ? glyph.code : 59407;
    textNode.textContent = String.fromCharCode(code);
  };

  de.setIcon(opt.icon);

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: de,
      text: opt.tooltip
    });
  }

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  return de;
}

},{"../assets/fontello/config.json":"/home/azazdeaz/repos/animachine/src/editor/assets/fontello/config.json"}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.checkbox.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCheckbox: createCheckbox };
};



function createCheckbox(opt) {
  var de = amgui.createDiv({
    display: "flex",
    parent: opt.parent }), isChecked = false;

  Object.defineProperty(de, "checked", {
    set: function (v) {
      v = !!v;

      if (isChecked === v) return;

      isChecked = v;

      cb.setToggle(isChecked);

      de.dispatchEvent(new CustomEvent("change", { checked: isChecked }));
    },
    get: function () {
      return isChecked;
    }
  });

  var cb = amgui.createToggleIconBtn({
    iconOn: "check",
    iconOff: "check-empty",
    parent: de,
    display: "inline-block" });

  var label = amgui.createLabel({
    text: opt.text,
    parent: de });

  de.addEventListener("click", function () {
    de.checked = !de.checked;
  });

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  de.checked = opt.checked;

  return de;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.cursor.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createCursorFromText: createCursorFromText };
};

var buff = [];

function createCursorFromText(opt) {
  opt = opt || {};
  opt.width = opt.width || 24;
  opt.height = opt.height || 24;
  opt.hotspotX = opt.hotspotX || opt.width / 2;
  opt.hotspotY = opt.hotspotY || opt.height / 2;
  opt.textX = opt.textX || 0;
  opt.textY = opt.textY || 0;
  opt.fontFamily = opt.fontFamily || "amgui";
  opt.fontSize = opt.fontSize || opt.height / 2 + "px";
  opt.color = opt.color || "#000";
  opt.rotate = opt.rotate || 0;
  opt.rotateOriginX = opt.rotateOriginX || 0;
  opt.rotateOriginY = opt.rotateOriginY || 0;
  opt.text = opt.text || "A";

  var buffered = buff.find(function (b) {
    if (b.opt.width === opt.width && b.opt.height === opt.height && b.opt.hotspotX === opt.hotspotX && b.opt.hotspotY === opt.hotspotY && b.opt.textX === opt.textX && b.opt.textY === opt.textY && b.opt.fontFamily === opt.fontFamily && b.opt.fontSize === opt.fontSize && b.opt.color === opt.color && b.opt.rotate === opt.rotate && b.opt.rotateOriginX === opt.rotateOriginX && b.opt.rotateOriginY === opt.rotateOriginY && b.opt.text === opt.text) {
      return true;
    }
  });

  if (buffered) {
    return buffered.url;
  }

  var canvas = document.createElement("canvas"), ctx = canvas.getContext("2d");

  canvas.width = opt.width;
  canvas.height = opt.height;

  if (opt.backgroundColor) {
    ctx.fillStyle = opt.backgroundColor;
    ctx.fillRect(0, 0, opt.width, opt.height);
  }

  ctx.translate(opt.rotateOriginX, opt.rotateOriginY);
  ctx.rotate(opt.rotate);
  ctx.translate(-opt.rotateOriginX, -opt.rotateOriginY);

  ctx.font = opt.fontSize + " " + opt.fontFamily;
  ctx.textBaseline = "top";

  if (opt.stroke) {
    ctx.strokeStyle = opt.stroke.color;
    ctx.lineWidth = opt.stroke.width;
    ctx.strokeText(opt.text, opt.textX, opt.textY);
  }

  ctx.fillStyle = opt.color;
  ctx.fillText(opt.text, opt.textX, opt.textY);

  if (opt.hotspotColor) {
    ctx.fillStyle = opt.hotspotColor;
    ctx.fillRect(opt.hotspotX, opt.hotspotY, 1, 1);
  }

  var uri = canvas.toDataURL(), url = "url('" + uri + "') " + opt.hotspotX + " " + opt.hotspotY + ", auto";

  buff.push({
    opt: opt,
    url: url });

  return url;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.dialog.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDialog: createDialog };
};



function createDialog(opt) {
  var de, deTitle, deTitleText, deTitleIcon, deTitleEnd, deContentCont, deButtonsCont, deButtonsEnd, buttons = [];

  de = document.createElement("dialog");
  (opt.parent || document.body).appendChild(de);

  de.style.background = "none";
  de.style.border = "none";
  de.style.pointerEvents = "auto";
  de.style.fontFamily = amgui.FONT_FAMILY;
  de.style.color = amgui.color.text;


  deTitle = document.createElement("div");
  deTitle.style.display = "inline-block";
  deTitle.style.padding = "0 18px";
  deTitle.style.height = "34px";
  deTitle.style.fontSize = "23px";
  deTitle.style.fontWeight = "700";
  deTitle.style.background = amgui.color.overlay;
  deTitle.style.color = amgui.color.text;
  de.appendChild(deTitle);

  deTitleText = document.createElement("span");
  deTitle.appendChild(deTitleText);

  if (opt.titleIcon) {
    deTitleIcon = amgui.createIcon({
      icon: opt.titleIcon,
      parent: deTitle,
      display: "inline-block" });
  }

  deTitleEnd = document.createElement("div");
  deTitleEnd.style.display = "inline-block";
  deTitleEnd.style.width = "0";
  deTitleEnd.style.height = "0";
  deTitleEnd.style.verticalAlign = "bottom";
  deTitleEnd.style.borderStyle = "solid";
  deTitleEnd.style.borderWidth = "34px 0 0 8px";
  deTitleEnd.style.borderColor = "transparent transparent transparent " + amgui.color.overlay;
  de.appendChild(deTitleEnd);



  deContentCont = document.createElement("div");
  deContentCont.style.background = amgui.color.overlay;
  de.appendChild(deContentCont);

  deButtonsCont = document.createElement("div");
  deButtonsCont.style.background = amgui.color.overlay;
  deButtonsCont.style.display = "inline-block";
  deButtonsCont.style.float = "right";
  de.appendChild(deButtonsCont);


  de.setTitle = function (title) {
    deTitleText.textContent = title || "Dialog";
  };

  de.setContent = function (content) {
    if (!content) {
      return;
    }

    deContentCont.innerHTML = "";
    deContentCont.appendChild(content);
  };

  de.setButtons = function (buttons) {
    if (!buttons) {
      return;
    }

    buttons.length = [];
    deButtonsCont.innerHTML = "";

    buttons.forEach(function (btnData) {
      if (typeof (btnData) === "string") {
        de.addButton(btnData);
      } else {
        de.addButton(btnData.text, btnData.onClick);
      }
    });
  };

  de.addButton = function (text, handler) {
    var btn = amgui.createBtn({
      text: text,
      height: "100%",
      backgroundColor: "rgba(0,0,0,0)" });
    btn.style.display = "inline-block";
    btn.style.fontWeight = "700";
    btn.style.fontSize = "18px";
    deButtonsCont.appendChild(btn);

    buttons.push(btn);

    btn.addEventListener("click", function () {
      if (handler) handler();

      de.dispatchEvent(new Event("click_" + text.toLowerCase()));
    });
  };

  de.hideButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "none";
      }
    });
  };

  de.showButton = function (text) {
    buttons.forEach(function (btn) {
      if (btn.text === text) {
        btn.style.display = "inline-block";
      }
    });
  };

  de.setTitle(opt.title);
  de.setContent(opt.content);
  de.setButtons(opt.buttons);

  deButtonsEnd = document.createElement("div");
  deButtonsEnd.style.display = "inline-block";
  deButtonsEnd.style.float = "right";
  deButtonsEnd.style.width = "0";
  deButtonsEnd.style.height = "0";
  deButtonsEnd.style.verticalAlign = "top";
  deButtonsEnd.style.borderStyle = "solid";
  deButtonsEnd.style.borderWidth = "0 6px 21px 0";
  deButtonsEnd.style.borderColor = "transparent " + amgui.color.overlay + " transparent transparent";
  de.appendChild(deButtonsEnd);

  return de;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.drawer.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDrawer: createDrawer };
};


function createDrawer(opt) {
  opt = opt || {};

  var isOpened = false;

  var de = document.createElement("div");

  de.deHead = document.createElement("div");
  de.deHead.style.height = amgui.LINE_HEIGHT + "px";
  de.deHead.style.display = "flex";
  de.appendChild(de.deHead);

  de.deContent = document.createElement("div");
  de.appendChild(de.deContent);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  var toggleBtn = amgui.createToggleIconBtn({
    iconOn: "angle-down",
    iconOff: "angle-right",
    onClick: onToggleClick,
    parent: de.deHead,
    display: "inline-block"
  });

  var labelTitle = amgui.createLabel({
    caption: opt.text || "drawer",
    parent: de.deHead,
    display: "inline-block"
  });






  de.toggle = function () {
    isOpened ? de.close() : de.open();
  };

  de.open = function () {
    if (isOpened) return;
    isOpened = true;

    refreshOpen();
  };

  de.close = function () {
    if (!isOpened) return;
    isOpened = false;

    refreshOpen();
  };

  refreshOpen();
  return de;







  function onToggleClick() {
    de.toggle();
  }

  function refreshOpen() {
    toggleBtn.setToggle(isOpened);
    de.deContent.style.display = isOpened ? "block" : "none";
  }

  return inp;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.dropdown.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createDropdown: createDropdown,
    bindDropdown: bindDropdown };
};



function createDropdown(opt) {
  opt = opt || {};

  var de = document.createElement("ul");
  de.style.listStyleType = "none";
  de.style.margin = 0;
  de.style.padding = 0;

  de.addItem = function (optItem) {
    if (typeof (optItem) === "string") {
      optItem = { text: optItem };
    }

    var li = document.createElement("li");
    li.textContent = optItem.text;
    li.style.textAlign = "left";
    li.style.fontFamily = amgui.FONT_FAMILY;
    li.style.fontSize = "14px";
    li.style.padding = "0 3px";
    li.style.cursor = "pointer";
    li.style.color = amgui.color.textInverse;
    li.style.background = amgui.color.overlayInverse;

    li.addEventListener("click", function (e) {
      e.stopPropagation();

      if (optItem.onSelect) {
        optItem.onSelect();
      }

      de.dispatchEvent(new CustomEvent("select", { detail: { selection: optItem.text } }));
    });
    de.appendChild(li);

    li.addEventListener("mouseenter", function () {
      li.style.background = amgui.color.bgInverse;
    });

    li.addEventListener("mouseleave", function () {
      li.style.background = amgui.color.overlayInverse;
    });

    return li;
  };

  de.removeItem = function (li) {
    if (li.parentNode) {
      li.parentNode.removeChild(li);
    }
  };

  if (opt.options) {
    opt.options.forEach(function (optItem) {
      de.addItem(optItem);
    });
  }

  if (opt.onSelect) {
    de.addEventListener("select", opt.onSelect);
  }

  return de;
}

function bindDropdown(opt) {
  var isOpened = false;
  var deBtn = opt.deTarget;
  var deDropdown = opt.deMenu;

  if (opt.asContextMenu) {
    deBtn.addEventListener("contextmenu", function (e) {
      // e.stopPropagation();
      e.preventDefault();
      isOpened ? close(e) : open(e);
    });
  } else {
    deBtn.addEventListener("click", function (e) {
      // e.stopPropagation();
      isOpened ? close(e) : open(e);
    });
  }



  return {
    setDropdown: function (dd) {
      deDropdown = dd;
    }
  };

  function open(e) {
    if (opt.onOpening && opt.onOpening(e) === false) {
      return;
    }

    if (isOpened) return;
    isOpened = true;

    var deCont = opt.menuParent || amgui.deOverlayCont || deBtn;

    deDropdown.style.position = "fixed";
    deDropdown.style.pointerEvents = "auto";
    deCont.appendChild(deDropdown);

    amgui.placeToPoint(deDropdown, e.clientX, e.clientY, opt.side);

    deDropdown.addEventListener("select", close);
    window.addEventListener("click", close);
    window.addEventListener("contextmenu", close);
  }

  function close(e) {
    if (!isOpened) return;
    isOpened = false;

    if (deDropdown.parentElement) {
      deDropdown.parentElement.removeChild(deDropdown);
    }
    deDropdown.removeEventListener("select", close);
    window.removeEventListener("click", close);
    window.removeEventListener("contextmenu", close);
  }
};

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.input.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createInput: createInput };
};


function createInput(opt) {
  opt = opt || {};

  var inp = document.createElement("input");
  inp.type = opt.type || "text";
  inp.style.width = opt.width || "245px";
  inp.style.height = opt.height || amgui.LINE_HEIGHT + "px";
  inp.style.fontSize = opt.fontSize || amgui.FONT_SIZE;
  inp.style.fontFamily = amgui.FONT_FAMILY;
  inp.style.color = amgui.color.text;
  inp.style.background = "none";
  inp.style.border = "none";
  inp.style.padding = "0";

  if ("palceholder" in opt) inp.palceholder = opt.palceholder;
  if ("value" in opt) inp.value = opt.value;
  if ("flex" in opt) inp.style.flex = opt.flex;

  if (opt.onChange) {
    inp.addEventListener("change", opt.onChange);
  }

  if (opt.parent) {
    opt.parent.appendChild(inp);
  }

  inp.setValue = function (v) {
    if (v === inp.value) return;

    inp.value = v;
  };

  return inp;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");

WebFont.load({
  google: {
    families: ["Open+Sans:400,700,300,600,800:latin,latin-ext"]
  }
});

var amgui = new EventEmitter();

_.extend(amgui, require("./amgui.bezierEditor")(amgui), require("./amgui.breadcrumbs")(amgui), require("./amgui.button")(amgui), require("./amgui.checkbox")(amgui), require("./amgui.cursor")(amgui), require("./amgui.dialog")(amgui), require("./amgui.drawer")(amgui), require("./amgui.dropdown")(amgui), require("./amgui.input")(amgui), require("./amgui.keyValueInput")(amgui), require("./amgui.makeDraggable")(amgui), require("./amgui.scroll")(amgui), require("./amgui.stepperKey")(amgui), require("./amgui.tooltip")(amgui), require("./amgui.utils")(amgui), {
  FONT_FAMILY: "\"Open Sans\", sans-serif",
  FONT_SIZE: "12px",
  LINE_HEIGHT: 16,

  deOverlayCont: undefined, //am._init() fill this

  color: {
    bg0: "#000",
    bg1: "#222",
    bg2: "#444",
    bg3: "#666",
    bgInverse: "#eee",
    text: "#eee",
    textInverse: "#000",
    textInactive: "rgba(255,255,255,.23)",
    overlay: "rgba(0,0,0,.785)",
    overlayInverse: "rgba(222,232,222,.785)",
    bgHover: "rgba(255,255,255,0.12)" },

  getStyleSheet: function () {
    var style = document.createElement("style");

    style.innerHTML = "dialog::backdrop { background:" + amgui.color.bgHover + " }";

    return style;
  },

  createDiv: function (opt) {
    var de = document.createElement("div");
    de.style.webkitUserSelect = "none";
    de.style.mozUserSelect = "none";
    de.style.msUserSelect = "none";
    de.style.userSelect = "none";

    if (typeof (opt) === "object") {
      if ("display" in opt) de.style.display = opt.display;
      if ("flex" in opt) de.style.flex = opt.flex;
      if ("position" in opt) de.style.position = opt.position;
      if ("parent" in opt) opt.parent.appendChild(de);
      if ("width" in opt) de.style.width = opt.width;
      if ("height" in opt) de.style.height = opt.height;
    }

    return de;
  },

  createSeparator: function (opt) {
    var de = amgui.createDiv(opt);
    de.style.width = "100%";
    de.style.height = "0px";
    de.style.bottom = "0px";
    de.style.position = "absolute";
    de.style.borderBottom = "solid 1px rgba(255,255,255,.11)";
  } });


amgui.setMaxListeners(0);

module.exports = amgui;

},{"./amgui.bezierEditor":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.bezierEditor.js","./amgui.breadcrumbs":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.breadcrumbs.js","./amgui.button":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.button.js","./amgui.checkbox":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.checkbox.js","./amgui.cursor":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.cursor.js","./amgui.dialog":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.dialog.js","./amgui.drawer":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.drawer.js","./amgui.dropdown":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.dropdown.js","./amgui.input":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.input.js","./amgui.keyValueInput":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.keyValueInput.js","./amgui.makeDraggable":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.makeDraggable.js","./amgui.scroll":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.scroll.js","./amgui.stepperKey":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.stepperKey.js","./amgui.tooltip":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.tooltip.js","./amgui.utils":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.utils.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js"}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.keyValueInput.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createKeyValueInput: createKeyValueInput };
};



function createKeyValueInput(opt) {
  opt = opt || {};

  var de = document.createElement("div");
  de.style.margin = "0 1px";
  de.style.height = amgui.LINE_HEIGHT + "px";
  de.style.position = "relative";

  var keyOn = false;

  var oldKey, oldValue;

  var inpKey = createInput("parameter name");
  inpKey.addEventListener("keypress", onKeyPress);

  var divider = createDivider();

  var inpValue = createInput("value");
  // inpValue.style.color = 'lightblue';
  inpValue.style.textAlign = "right";
  inpValue.style.right = "0px";

  showHideValue(keyOn);

  de.getKey = function () {
    return inpKey.value;
  };

  de.setKey = function (v) {
    if (v === oldKey) return;

    oldKey = v;
    inpKey.value = v;
    checkKeyOn();
  };

  de.getValue = function () {
    return inpValue.value;
  };

  de.setValue = function (v) {
    if (v === oldValue) return;

    oldValue = v;
    inpValue.value = v;
  };

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  if (opt.key) {
    de.setKey(opt.key);
  }

  if (opt.value) {
    de.setValue(opt.value);
  }

  if (opt.onChange) {
    de.addEventListener("change", opt.onChange);
  }

  function onChange(e) {
    e.preventDefault();
    e.stopPropagation();

    checkKeyOn();

    var detail = {};

    if (de.getKey() !== oldKey) {
      oldKey = detail.key = de.getKey();
    }
    if (de.getValue() !== oldValue) {
      oldValue = detail.value = de.getValue();
    }

    if ("value" in detail || "key" in detail) {
      de.dispatchEvent(new CustomEvent("change", { detail: detail }));
    }
  }

  function onKeyPress(e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      e.stopPropagation();

      inpValue.focus();
    }
  }

  function checkKeyOn() {
    var on = !!inpKey.value;

    if (on !== keyOn) {
      keyOn = on;
      showHideValue(keyOn);
    }
  }

  function showHideValue(show) {
    divider.style.display = show ? "inline" : "none";
    inpValue.style.display = show ? "inline-block" : "none";
    inpKey.style.width = show ? "calc(50% - 5px)" : "100%";
  }

  function createInput(placeholder) {
    var inp = document.createElement("input");
    inp.type = "text";
    inp.placeholder = placeholder;
    inp.style.width = "50%";
    inp.style.height = "100%";
    inp.style.fontSize = amgui.FONT_SIZE;
    inp.style.fontFamily = amgui.FONT_FAMILY;
    inp.style.background = "none";
    inp.style.border = "none";
    inp.style.color = amgui.color.text;
    inp.addEventListener("change", onChange);
    inp.addEventListener("keyup", onChange);
    // $(inp).autosizeInput({space: 0});
    de.appendChild(inp);
    return inp;
  }

  function createDivider() {
    var divider = document.createElement("span");
    divider.textContent = ":";
    divider.style.color = amgui.color.text;
    divider.style.width = "2px";
    divider.style.fontSize = amgui.FONT_SIZE;
    divider.style.fontFamily = amgui.FONT_FAMILY;
    de.appendChild(divider);

    return divider;
  }

  return de;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.makeDraggable.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    makeDraggable: makeDraggable };
};

function makeDraggable(opt) {
  opt = opt || {};

  var md, isOver, isDrag, waitingMoveEvent, waitingMoveRaf;

  if (opt.deTarget) {
    opt.deTarget.addEventListener("mousedown", onDown);
    opt.deTarget.addEventListener("mouseover", onEnter);
    opt.deTarget.addEventListener("mouseleave", onLeave);
  }

  return {
    emitDown: function (e) {
      onDown(e);
    },
    destroy: function () {}
  };

  function onDown(e) {
    if (e.button !== 0) {
      return;
    }

    // e.stopPropagation();
    // e.preventDefault();

    isDrag = true;

    var custom = call("onDown", [e]);

    if (custom === false) {
      //prevent dragging

      return;
    }

    md = custom || {};

    md.mx = e.clientX;
    md.my = e.clientY;
    md.dx = 0;
    md.dy = 0;

    window.addEventListener("mousemove", onMove);
    window.addEventListener("mouseup", onUp);
    window.addEventListener("mouseleave", onUp);
  }

  function onMove(e) {
    waitingMoveEvent = e;

    if (!waitingMoveRaf) {
      waitingMoveRaf = window.requestAnimationFrame(rafOnMove);
    }
  }

  function rafOnMove() {
    window.cancelAnimationFrame(waitingMoveRaf);

    var wme = waitingMoveEvent;
    waitingMoveRaf = undefined;
    waitingMoveEvent = undefined;

    var mx = wme.clientX, my = wme.clientY;

    md.dx = mx - md.mx;
    md.dy = my - md.my;

    call(["onMove", "onDrag"], [md, mx, my]);
  }

  function onUp(e) {
    window.removeEventListener("mousemove", onMove);
    window.removeEventListener("mouseup", onUp);
    window.removeEventListener("mouseleave", onUp);

    if (waitingMoveEvent) {
      rafOnMove();
    }

    isDrag = false;
    if (!isOver) {
      onLeave();
    }

    call("onUp", [md, e.clientX, e.clientY, e]);
  }

  function onEnter() {
    isOver = true;

    if (!isDrag) {
      call("onEnter");
    }
  }

  function onLeave() {
    isOver = false;

    if (!isDrag) {
      call("onLeave");
    }
  }

  function call(name, args) {
    if (name instanceof Array) {
      name.forEach(function (name) {
        call(name, args);
      });

      return;
    }

    if (name in opt) {
      return opt[name].apply(opt.thisArg, args);
    }
  }
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.scroll.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createRange: createRange,
    makeScrollable: makeScrollable };
};



function makeScrollable(opt) {
  var pos = 0, deConts = opt.deCont, deTargets = opt.deTarget, deRange = opt.deRange, ret = { dispose: dispose };

  if (!Array.isArray(deConts)) deConts = [deConts];
  if (!Array.isArray(deTargets)) deTargets = [deTargets];

  deConts.forEach(function (cont) {
    if (!cont) throw "false contaiter";
  });
  deTargets.forEach(function (target) {
    if (!target) throw "false target";
  });

  deConts.forEach(function (deC) {
    deC.addEventListener("wheel", onWheel);
  });


  //create a basic scroll bar if it is not set at all
  if (!("deRange" in opt)) {
    deRange = this._scrollRange = amgui.createRange({
      parent: deConts[0],
      height: "100%",
      vertical: true
    });

    deRange.style.position = "absolute";
    deRange.style.top = "0px";
    deRange.style.right = "0px";
  }

  if (deRange) {
    initRange();
  }


  return ret;





  function onWheel(e) {
    var way = e.deltaY / 3, maxH = getTargetMaxH();

    pos = Math.max(0, Math.min(maxH, pos + way));

    if (deRange) {
      deRange.setValue(pos / maxH);
    }

    scroll();
  }

  function onChangeRange(e) {
    pos = getTargetMaxH() * e.detail.value;
    scroll();
  }

  function scroll() {
    deTargets.forEach(function (deT) {
      deT.style.top = -pos + "px";
    });
  }

  function getTargetMaxH() {
    var contH = Math.max.apply(null, deConts.slice().map(getH)), targetH = Math.max.apply(null, deTargets.slice().map(getH));

    return targetH - contH;
  }

  function getH(de) {
    return de.getBoundingClientRect().height;
  }

  function initRange() {
    var saveDisplay = deRange.style.display, isShowing = false, refreshSetI;

    deRange.style.display = "none";

    deRange.addEventListener("change", onChangeRange);

    refreshSetI = setInterval(function () {
      var needsRange = getTargetMaxH() > 0;

      if (isShowing !== needsRange) {
        isShowing = needsRange;

        deRange.style.display = isShowing ? saveDisplay : "none";
      }
    }, 312);

    var saveDispose = ret.dispose;
    ret.dispose = function dispose() {
      saveDispose();

      clearInterval(refreshSetI);

      deRange.removeEventListener("change", onChangeRange);
    };
  }

  function dispose() {
    deConts.forEach(function (deC) {
      deC.removeEventListener("wheel", onWheel);
    });
  }
}




function createRange(opt) {
  opt = opt || {};

  var value = 0, cursorWidth = 0, isVertical = !!opt.vertical;

  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = opt.width || "6px";
  de.style.height = opt.height || "140px";
  de.style.background = amgui.color.bg1;
  de.style.cursor = "pointer";

  var deCursor = document.createElement("div");
  deCursor.style.position = "absolute";
  deCursor.style[d("left", "top")] = "0";
  deCursor.style[d("right", "bottom")] = "0";
  deCursor.style.margin = d("auto 0", "0 auto");
  deCursor.style.background = amgui.color.bg3;
  deCursor.style[d("width", "height")] = opt.cursorHeight || "100%";
  de.appendChild(deCursor);

  if (opt.parent) {
    opt.parent.appendChild(de);
  }

  de.setCursorWidth = function (w) {
    deCursor.style[d("height", "width")] = w + "px";
    cursorWidth = w;
  };
  de.setCursorWidth(opt.cursorWidth || 12);

  amgui.makeDraggable({
    deTarget: de,
    onMove: function (md, mx, my) {
      var br = de.getBoundingClientRect(), p = d(my, mx) - (d(br.top, br.left) + cursorWidth / 2), fw = d(br.height, br.width) - cursorWidth, pos = Math.max(0, Math.min(1, p / fw));

      de.setValue(pos);
    }
  });

  de.setValue = function (v) {
    if (v === value) return;

    value = v;

    var width = de.getBoundingClientRect()[d("height", "width")];
    deCursor.style[d("top", "left")] = ((width - cursorWidth) * value) + "px";

    de.dispatchEvent(new CustomEvent("change", { detail: { value: value } }));
  };

  de.getValue = function () {
    return value;
  };

  function d(vertical, horisontal) {
    return isVertical ? vertical : horisontal;
  }

  return de;
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.stepperKey.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    createStepperKey: createStepperKey };
};


function createStepperKey(opt) {
  opt = opt || {};

  opt.height = opt.height || amgui.LINE_HEIGHT;

  var hasPrev = false, hasNext = false, isShowingSteppers = false, isMOverKey = false, isMOverStepper = false, stepperW = 8;

  var de = amgui.createToggleIconBtn({
    icon: "key",
    height: opt.height,
    onClick: opt.onClick,
    changeColor: true,
    parent: opt.parent
  });
  de.style.position = "relative";
  de.style.overflow = "";

  de.addEventListener("mouseenter", onMOverKey);
  de.addEventListener("mouseleave", onMOutKey);

  var dePrev = createStepper(true);
  var deNext = createStepper(false);

  de.setSteppers = function (_hasPrev, _hasNext) {
    hasPrev = _hasPrev;
    hasNext = _hasNext;

    if (isShowingSteppers) {
      hideSteppers();
      showSteppers();
    }
  };

  de.setHighlight = function (on) {
    de.style.color = on ? amgui.color.text : amgui.color.textInactive;
  };

  return de;

  function onMOverKey() {
    isMOverKey = true;onChangeOver();
  }
  function onMOutKey() {
    isMOverKey = false;onChangeOver();
  }
  function onMOverStepper() {
    isMOverStepper = true;onChangeOver();
  }
  function onMOutStepper() {
    isMOverStepper = false;onChangeOver();
  }

  function onChangeOver() {
    if (isMOverKey || isMOverStepper) {
      if (!isShowingSteppers) {
        showSteppers();
      }
    } else if (!isMOverKey && !isMOverStepper) {
      if (isShowingSteppers) {
        hideSteppers();
      }
    }
  };

  function showSteppers() {
    isShowingSteppers = true;

    var br = de.getBoundingClientRect();

    if (hasPrev) {
      amgui.deOverlayCont.appendChild(dePrev);
      dePrev.style.left = (br.left - stepperW) + "px";
      dePrev.style.top = br.top + "px";
    }

    if (hasNext) {
      amgui.deOverlayCont.appendChild(deNext);
      deNext.style.left = br.right + "px";
      deNext.style.top = br.top + "px";
    }
  }

  function hideSteppers() {
    isShowingSteppers = false;

    if (dePrev.parentNode) {
      dePrev.parentNode.removeChild(dePrev);
    }

    if (deNext.parentNode) {
      deNext.parentNode.removeChild(deNext);
    }
  }

  function createStepper(isLeft) {
    var deStepper = amgui.createIconBtn({
      icon: isLeft ? "angle-left" : "angle-right",
      height: opt.height,
      width: stepperW,
      onClick: isLeft ? opt.onClickPrev : opt.onClickNext
    });
    deStepper.style.position = "absolute";
    deStepper.style.pointerEvents = "auto";
    deStepper.addEventListener("mouseenter", onMOverStepper);
    deStepper.addEventListener("mouseleave", onMOutStepper);

    return deStepper;
  }
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.tooltip.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    addTooltip: addTooltip,
    removeTooltip: removeTooltip,
    getTooltip: getTooltip };
};

var tooltipMap = new Map();



function addTooltip(opt) {
  var showSetT, delay = 423, mx = 0, my = 0;

  var de = document.createElement("div");
  de.textContent = opt.text;
  de.style.position = "fixed";
  de.style.padding = "12px";
  de.style.display = "inline-block";
  de.style.background = amgui.color.overlayInverse;
  de.style.color = amgui.color.textInverse;

  de.remove = function () {
    opt.deTarget.removeEventListener("mouseenter", onMEnter);
    onMLeave();
  };

  de.setContent = function (content) {
    de.textContent = content;
  };

  tooltipMap.set(opt.deTarget, de);

  opt.deTarget.addEventListener("mouseenter", onMEnter);

  function onMEnter(e) {
    opt.deTarget.addEventListener("mousemove", onMMove);
    opt.deTarget.addEventListener("mouseleave", onMLeave);
    opt.deTarget.addEventListener("mousedown", onMLeave);

    onMMove(e);
  }

  function onMLeave() {
    opt.deTarget.removeEventListener("mousemove", onMMove);
    opt.deTarget.removeEventListener("mouseleave", onMLeave);
    opt.deTarget.removeEventListener("mousedown", onMLeave);

    hide();
    clearShowSetT();
  }

  function onMMove(e) {
    hide();
    refreshShowSetT();
    mx = e.clientX;
    my = e.clientY;
  }

  function refreshShowSetT() {
    clearShowSetT();
    showSetT = setTimeout(show, delay);
  }

  function clearShowSetT() {
    clearTimeout(showSetT);
  }

  function show() {
    amgui.deOverlayCont.appendChild(de);
    amgui.placeToPoint(de, mx, my, opt.side);
  }

  function hide() {
    if (de.parentElement) {
      de.parentElement.removeChild(de);
    }
  }
};

function removeTooltip(deTarget) {
  var tooltip = amgui.getTooltip(deTarget);

  if (tooltip) {
    tooltip.remove();
  }
};

function getTooltip(deTarget) {
  return tooltipMap.get(deTarget);
};

},{}],"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.utils.js":[function(require,module,exports){
"use strict";

var amgui;

module.exports = function (_amgui) {
  amgui = _amgui;

  return {
    placeToPoint: placeToPoint,
    callOnAdded: callOnAdded };
};


function placeToPoint(de, mx, my, way) {
  amgui.callOnAdded(de, function () {
    var px = 0, py = 0, br = de.getBoundingClientRect(), w = br.width, h = br.height, ww = window.innerWidth, wh = window.innerHeight;

    way = way || "left";

    switch (way) {
      case "top":
        px = mx - (w / 2);
        py = my - h;
        break;

      case "right":
        px = mx;
        py = my - (h / 2);
        break;

      case "bottom":
        px = mx - (w / 2);
        py = my;
        break;

      default:
      case "left":
        px = mx - w;
        py = my - (h / 2);
    }

    if (py < 0) py = 0;
    if (px + w > ww) px -= (px + w) - ww;
    if (py + h > wh) py -= (py + h) - wh;
    if (px < 0) px = 0;

    de.style.left = px + "px";
    de.style.top = py + "px";
  });
}

function callOnAdded(de, cb, thisArg) {
  if (de instanceof Array) {
    var deRest = de;
    de = deRest.shift();

    if (deRest.length !== 0) {
      cb = callOnAdded.bind(this, deRest, cb, thisArg);
    }
  }


  var setT, setTTime = 1;
  checkLoop();

  function checkLoop() {
    if (check(de)) {
      cb.call(thisArg);
    } else {
      if (setTTime < 256) {
        setTTime *= 2;
      }

      clearTimeout(setT);
      setT = setTimeout(checkLoop, setTTime);
    }
  }

  function check(node) {
    while (node.parentNode) {
      node = node.parentNode;

      if (node.nodeType === 9 || node.nodeType === 11) {
        return true;
      }
    }
  }
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/assets/fontello/config.json":[function(require,module,exports){
module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={
  "name": "amgui",
  "css_prefix_text": "icon-",
  "css_use_suffix": false,
  "hinting": true,
  "units_per_em": 1000,
  "ascent": 850,
  "glyphs": [
    {
      "uid": "53ed8570225581269cd7eff5795e8bea",
      "css": "emo-unhappy",
      "code": 59412,
      "src": "fontelico"
    },
    {
      "uid": "68e298ff2d8b25dd7f647ed64f5ae690",
      "css": "emo-surprised",
      "code": 59432,
      "src": "fontelico"
    },
    {
      "uid": "8ce732688587909ad0a9d8323eaca8ad",
      "css": "marquee",
      "code": 59413,
      "src": "fontelico"
    },
    {
      "uid": "5211af474d3a9848f67f945e2ccaf143",
      "css": "cancel",
      "code": 59427,
      "src": "fontawesome"
    },
    {
      "uid": "44e04715aecbca7f266a17d5a7863c68",
      "css": "plus",
      "code": 59431,
      "src": "fontawesome"
    },
    {
      "uid": "1a5cfa186647e8c929c2b17b9fc4dac1",
      "css": "plus-squared",
      "code": 59398,
      "src": "fontawesome"
    },
    {
      "uid": "0ddd3e8201ccc7d41f7b7c9d27eca6c1",
      "css": "link",
      "code": 59460,
      "src": "fontawesome"
    },
    {
      "uid": "1dcd2b2148b7f086a4eb47f6a746bdee",
      "css": "unlink",
      "code": 59461,
      "src": "fontawesome"
    },
    {
      "uid": "c5fd349cbd3d23e4ade333789c29c729",
      "css": "eye",
      "code": 59438,
      "src": "fontawesome"
    },
    {
      "uid": "7fd683b2c518ceb9e5fa6757f2276faa",
      "css": "eye-off",
      "code": 59439,
      "src": "fontawesome"
    },
    {
      "uid": "9a76bc135eac17d2c8b8ad4a5774fc87",
      "css": "download",
      "code": 59414,
      "src": "fontawesome"
    },
    {
      "uid": "f5999a012fc3752386635ec02a858447",
      "css": "download-cloud",
      "code": 115,
      "src": "fontawesome"
    },
    {
      "uid": "de2fc7a5c986ab8c622f63455d7cf814",
      "css": "upload-cloud",
      "code": 117,
      "src": "fontawesome"
    },
    {
      "uid": "7034e4d22866af82bef811f52fb1ba46",
      "css": "code",
      "code": 59417,
      "src": "fontawesome"
    },
    {
      "uid": "d35a1d35efeb784d1dc9ac18b9b6c2b6",
      "css": "pencil",
      "code": 59448,
      "src": "fontawesome"
    },
    {
      "uid": "f48ae54adfb27d8ada53d0fd9e34ee10",
      "css": "trash",
      "code": 59396,
      "src": "fontawesome"
    },
    {
      "uid": "1b5a5d7b7e3c71437f5a26befdd045ed",
      "css": "doc",
      "code": 59405,
      "src": "fontawesome"
    },
    {
      "uid": "26613a2e6bc41593c54bead46f8c8ee3",
      "css": "file-code",
      "code": 59400,
      "src": "fontawesome"
    },
    {
      "uid": "b091a8bd0fdade174951f17d936f51e4",
      "css": "folder-empty",
      "code": 59403,
      "src": "fontawesome"
    },
    {
      "uid": "6533bdc16ab201eb3f3b27ce989cab33",
      "css": "folder-open-empty",
      "code": 59404,
      "src": "fontawesome"
    },
    {
      "uid": "559647a6f430b3aeadbecd67194451dd",
      "css": "menu",
      "code": 59440,
      "src": "fontawesome"
    },
    {
      "uid": "e99461abfef3923546da8d745372c995",
      "css": "cog",
      "code": 59393,
      "src": "fontawesome"
    },
    {
      "uid": "5bb103cd29de77e0e06a52638527b575",
      "css": "wrench",
      "code": 59415,
      "src": "fontawesome"
    },
    {
      "uid": "21b42d3c3e6be44c3cc3d73042faa216",
      "css": "sliders",
      "code": 59416,
      "src": "fontawesome"
    },
    {
      "uid": "598a5f2bcf3521d1615de8e1881ccd17",
      "css": "clock",
      "code": 59458,
      "src": "fontawesome"
    },
    {
      "uid": "e594fc6e5870b4ab7e49f52571d52577",
      "css": "resize-full",
      "code": 59437,
      "src": "fontawesome"
    },
    {
      "uid": "3c24ee33c9487bbf18796ca6dffa1905",
      "css": "resize-small",
      "code": 59436,
      "src": "fontawesome"
    },
    {
      "uid": "d3b3f17bc3eb7cd809a07bbd4d178bee",
      "css": "resize-vertical",
      "code": 59452,
      "src": "fontawesome"
    },
    {
      "uid": "3c73d058e4589b65a8d959c0fc8f153d",
      "css": "resize-horizontal",
      "code": 59450,
      "src": "fontawesome"
    },
    {
      "uid": "6605ee6441bf499ffa3c63d3c7409471",
      "css": "move",
      "code": 59451,
      "src": "fontawesome"
    },
    {
      "uid": "c53068fe21c8410b0a098b4c52c3d37e",
      "css": "down-circled2",
      "code": 59433,
      "src": "fontawesome"
    },
    {
      "uid": "f3f90c8c89795da30f7444634476ea4f",
      "css": "angle-left",
      "code": 59434,
      "src": "fontawesome"
    },
    {
      "uid": "7bf14281af5633a597f85b061ef1cfb9",
      "css": "angle-right",
      "code": 59394,
      "src": "fontawesome"
    },
    {
      "uid": "5de9370846a26947e03f63142a3f1c07",
      "css": "angle-up",
      "code": 59435,
      "src": "fontawesome"
    },
    {
      "uid": "e4dde1992f787163e2e2b534b8c8067d",
      "css": "angle-down",
      "code": 59395,
      "src": "fontawesome"
    },
    {
      "uid": "bc71f4c6e53394d5ba46b063040014f1",
      "css": "cw",
      "code": 59425,
      "src": "fontawesome"
    },
    {
      "uid": "f9c3205df26e7778abac86183aefdc99",
      "css": "ccw",
      "code": 59426,
      "src": "fontawesome"
    },
    {
      "uid": "37c5ab63f10d7ad0b84d0978dcd0c7a8",
      "css": "shuffle",
      "code": 59469,
      "src": "fontawesome"
    },
    {
      "uid": "6020aff067fc3c119cdd75daa5249220",
      "css": "exchange",
      "code": 59470,
      "src": "fontawesome"
    },
    {
      "uid": "d4816c0845aa43767213d45574b3b145",
      "css": "history",
      "code": 59418,
      "src": "fontawesome"
    },
    {
      "uid": "84bb9695b8662fa4783242f84c9e4682",
      "css": "expand",
      "code": 59446,
      "src": "fontawesome"
    },
    {
      "uid": "7960517a504e42aea0641f15bc55fbed",
      "css": "collapse",
      "code": 59447,
      "src": "fontawesome"
    },
    {
      "uid": "ed5a38704f0329e610ee1c92bec3ad3d",
      "css": "expand-right",
      "code": 59471,
      "src": "fontawesome"
    },
    {
      "uid": "ea2ec99fbce03864e593bbf4f302a79d",
      "css": "collapse-left",
      "code": 59472,
      "src": "fontawesome"
    },
    {
      "uid": "ce06b5805120d0c2f8d60cd3f1a4fdb5",
      "css": "play",
      "code": 59397,
      "src": "fontawesome"
    },
    {
      "uid": "0b28050bac9d3facf2f0226db643ece0",
      "css": "pause",
      "code": 59399,
      "src": "fontawesome"
    },
    {
      "uid": "e75c54c282c0bf22186c5c7ec4b03eac",
      "css": "target",
      "code": 59457,
      "src": "fontawesome"
    },
    {
      "uid": "8772331a9fec983cdb5d72902a6f9e0e",
      "css": "scissors",
      "code": 59424,
      "src": "fontawesome"
    },
    {
      "uid": "107ce08c7231097c7447d8f4d059b55f",
      "css": "ellipsis",
      "code": 59444,
      "src": "fontawesome"
    },
    {
      "uid": "750058837a91edae64b03d60fc7e81a7",
      "css": "ellipsis-vert",
      "code": 59443,
      "src": "fontawesome"
    },
    {
      "uid": "2a4e6c99b732a57da40e32fa2a7800a4",
      "css": "toggle-off",
      "code": 59464,
      "src": "fontawesome"
    },
    {
      "uid": "3256ef03b16e7ab51235bc7378b53bb5",
      "css": "toggle-on",
      "code": 59463,
      "src": "fontawesome"
    },
    {
      "uid": "dd6c6b221a1088ff8a9b9cd32d0b3dd5",
      "css": "check",
      "code": 59454,
      "src": "fontawesome"
    },
    {
      "uid": "4b900d04e8ab8c82f080c1cfbac5772c",
      "css": "check-empty",
      "code": 59462,
      "src": "fontawesome"
    },
    {
      "uid": "130380e481a7defc690dfb24123a1f0c",
      "css": "circle",
      "code": 59442,
      "src": "fontawesome"
    },
    {
      "uid": "422e07e5afb80258a9c4ed1706498f8a",
      "css": "circle-empty",
      "code": 59441,
      "src": "fontawesome"
    },
    {
      "uid": "5774d0a0e50f6eefc8be01bd761e5dd3",
      "css": "circle-thin",
      "code": 59423,
      "src": "fontawesome"
    },
    {
      "uid": "266d5d9adf15a61800477a5acf9a4462",
      "css": "chart-bar",
      "code": 59419,
      "src": "fontawesome"
    },
    {
      "uid": "f4445feb55521283572ee88bc304f928",
      "css": "floppy",
      "code": 59401,
      "src": "fontawesome"
    },
    {
      "uid": "3e674995cacc2b09692c096ea7eb6165",
      "css": "megaphone",
      "code": 59430,
      "src": "fontawesome"
    },
    {
      "uid": "795efd07cd5205b589c883916a76cff0",
      "css": "hdd",
      "code": 59411,
      "src": "fontawesome"
    },
    {
      "uid": "6fe95ffc3c807e62647d4f814a96e0d7",
      "css": "sitemap",
      "code": 59445,
      "src": "fontawesome"
    },
    {
      "uid": "fa10777b2d88cc64cd6e4f26ef0e5264",
      "css": "terminal",
      "code": 59429,
      "src": "fontawesome"
    },
    {
      "uid": "c92ad3028acce9d51bae0ac82f5de8a2",
      "css": "bullseye",
      "code": 59408,
      "src": "fontawesome"
    },
    {
      "uid": "55605ca79a65def1a9c300037ff1d0d5",
      "css": "paw",
      "code": 59420,
      "src": "fontawesome"
    },
    {
      "uid": "fbede3c5584282a0e9b131926dff71da",
      "css": "cube",
      "code": 59428,
      "src": "fontawesome"
    },
    {
      "uid": "c53415fbd2695033bd7180d7a9ed4934",
      "css": "rebel",
      "code": 59421,
      "src": "fontawesome"
    },
    {
      "uid": "6632ce1019f9115842335622cb55f4e7",
      "css": "empire",
      "code": 59422,
      "src": "fontawesome"
    },
    {
      "uid": "9e34a047fee949eae9b6e613d790d6cf",
      "css": "dropbox",
      "code": 59409,
      "src": "fontawesome"
    },
    {
      "uid": "e7cb72a17f3b21e3576f35c3f0a7639b",
      "css": "git",
      "code": 59406,
      "src": "fontawesome"
    },
    {
      "uid": "f06fe7ff18d1c591bc1183cb3ab105e9",
      "css": "google",
      "code": 59453,
      "src": "fontawesome"
    },
    {
      "uid": "2c2ca8a96b31781c9c8056d05c0a8980",
      "css": "blank",
      "code": 59407,
      "src": "fontawesome"
    },
    {
      "uid": "6cea40aa6cc50057083e4f0a5b92410c",
      "css": "flow-line",
      "code": 59467,
      "src": "entypo"
    },
    {
      "uid": "5f88095dc5e638863a0c733e99c32568",
      "css": "flow-parallel",
      "code": 59468,
      "src": "entypo"
    },
    {
      "uid": "e536c80e011366046360f5ffe669dbfd",
      "css": "folder-add",
      "code": 59402,
      "src": "typicons"
    },
    {
      "uid": "e2aba9565be51ca70224c07282afbba6",
      "css": "cursor",
      "code": 59449,
      "src": "iconic"
    },
    {
      "uid": "77928c849ac2ae6e77d4eae9f2927c00",
      "css": "flash",
      "code": 59466,
      "src": "mfglabs"
    },
    {
      "uid": "14e9aa28bf2a3531274f85194e733b71",
      "css": "color-adjust",
      "code": 59459,
      "src": "mfglabs"
    },
    {
      "uid": "33afa0f624ce5dae73f62a3f21a67f83",
      "css": "vector",
      "code": 59455,
      "src": "mfglabs"
    },
    {
      "uid": "134af7f39e491515cc1a6d1eb94d9d8a",
      "css": "vector-pencil",
      "code": 59456,
      "src": "mfglabs"
    },
    {
      "uid": "da72ab64b02d997ff0521339f2997233",
      "css": "hash",
      "code": 59465,
      "src": "mfglabs"
    },
    {
      "uid": "366510ecfb08cd0110134b1ea907fb81",
      "css": "evernote",
      "code": 59410,
      "src": "zocial"
    },
    {
      "uid": "272e08e0e16226aadf94dcbf33aab2b2",
      "css": "key",
      "code": 59392,
      "src": "elusive"
    }
  ]
}
},{}],"/home/azazdeaz/repos/animachine/src/editor/assets/fontello/css/amgui.css":[function(require,module,exports){
module.exports = "@font-face {\n  font-family: 'amgui';\n  src: url('../font/amgui.eot?94583732');\n  src: url('../font/amgui.eot?94583732#iefix') format('embedded-opentype'),\n       url('../font/amgui.woff?94583732') format('woff'),\n       url('../font/amgui.ttf?94583732') format('truetype'),\n       url('../font/amgui.svg?94583732#amgui') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'amgui';\n    src: url('../font/amgui.svg?94583732#amgui') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"amgui\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n     \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-download-cloud:before { content: '\\73'; } /* 's' */\n.icon-upload-cloud:before { content: '\\75'; } /* 'u' */\n.icon-key:before { content: '\\e800'; } /* '' */\n.icon-cog:before { content: '\\e801'; } /* '' */\n.icon-angle-right:before { content: '\\e802'; } /* '' */\n.icon-angle-down:before { content: '\\e803'; } /* '' */\n.icon-trash:before { content: '\\e804'; } /* '' */\n.icon-play:before { content: '\\e805'; } /* '' */\n.icon-plus-squared:before { content: '\\e806'; } /* '' */\n.icon-pause:before { content: '\\e807'; } /* '' */\n.icon-file-code:before { content: '\\e808'; } /* '' */\n.icon-floppy:before { content: '\\e809'; } /* '' */\n.icon-folder-add:before { content: '\\e80a'; } /* '' */\n.icon-folder-empty:before { content: '\\e80b'; } /* '' */\n.icon-folder-open-empty:before { content: '\\e80c'; } /* '' */\n.icon-doc:before { content: '\\e80d'; } /* '' */\n.icon-git:before { content: '\\e80e'; } /* '' */\n.icon-blank:before { content: '\\e80f'; } /* '' */\n.icon-bullseye:before { content: '\\e810'; } /* '' */\n.icon-dropbox:before { content: '\\e811'; } /* '' */\n.icon-evernote:before { content: '\\e812'; } /* '' */\n.icon-hdd:before { content: '\\e813'; } /* '' */\n.icon-emo-unhappy:before { content: '\\e814'; } /* '' */\n.icon-marquee:before { content: '\\e815'; } /* '' */\n.icon-download:before { content: '\\e816'; } /* '' */\n.icon-wrench:before { content: '\\e817'; } /* '' */\n.icon-sliders:before { content: '\\e818'; } /* '' */\n.icon-code:before { content: '\\e819'; } /* '' */\n.icon-history:before { content: '\\e81a'; } /* '' */\n.icon-chart-bar:before { content: '\\e81b'; } /* '' */\n.icon-paw:before { content: '\\e81c'; } /* '' */\n.icon-rebel:before { content: '\\e81d'; } /* '' */\n.icon-empire:before { content: '\\e81e'; } /* '' */\n.icon-circle-thin:before { content: '\\e81f'; } /* '' */\n.icon-scissors:before { content: '\\e820'; } /* '' */\n.icon-cw:before { content: '\\e821'; } /* '' */\n.icon-ccw:before { content: '\\e822'; } /* '' */\n.icon-cancel:before { content: '\\e823'; } /* '' */\n.icon-cube:before { content: '\\e824'; } /* '' */\n.icon-terminal:before { content: '\\e825'; } /* '' */\n.icon-megaphone:before { content: '\\e826'; } /* '' */\n.icon-plus:before { content: '\\e827'; } /* '' */\n.icon-emo-surprised:before { content: '\\e828'; } /* '' */\n.icon-down-circled2:before { content: '\\e829'; } /* '' */\n.icon-angle-left:before { content: '\\e82a'; } /* '' */\n.icon-angle-up:before { content: '\\e82b'; } /* '' */\n.icon-resize-small:before { content: '\\e82c'; } /* '' */\n.icon-resize-full:before { content: '\\e82d'; } /* '' */\n.icon-eye:before { content: '\\e82e'; } /* '' */\n.icon-eye-off:before { content: '\\e82f'; } /* '' */\n.icon-menu:before { content: '\\e830'; } /* '' */\n.icon-circle-empty:before { content: '\\e831'; } /* '' */\n.icon-circle:before { content: '\\e832'; } /* '' */\n.icon-ellipsis-vert:before { content: '\\e833'; } /* '' */\n.icon-ellipsis:before { content: '\\e834'; } /* '' */\n.icon-sitemap:before { content: '\\e835'; } /* '' */\n.icon-expand:before { content: '\\e836'; } /* '' */\n.icon-collapse:before { content: '\\e837'; } /* '' */\n.icon-pencil:before { content: '\\e838'; } /* '' */\n.icon-cursor:before { content: '\\e839'; } /* '' */\n.icon-resize-horizontal:before { content: '\\e83a'; } /* '' */\n.icon-move:before { content: '\\e83b'; } /* '' */\n.icon-resize-vertical:before { content: '\\e83c'; } /* '' */\n.icon-google:before { content: '\\e83d'; } /* '' */\n.icon-check:before { content: '\\e83e'; } /* '' */\n.icon-vector:before { content: '\\e83f'; } /* '' */\n.icon-vector-pencil:before { content: '\\e840'; } /* '' */\n.icon-target:before { content: '\\e841'; } /* '' */\n.icon-clock:before { content: '\\e842'; } /* '' */\n.icon-color-adjust:before { content: '\\e843'; } /* '' */\n.icon-link:before { content: '\\e844'; } /* '' */\n.icon-unlink:before { content: '\\e845'; } /* '' */\n.icon-check-empty:before { content: '\\e846'; } /* '' */\n.icon-toggle-on:before { content: '\\e847'; } /* '' */\n.icon-toggle-off:before { content: '\\e848'; } /* '' */\n.icon-hash:before { content: '\\e849'; } /* '' */\n.icon-flash:before { content: '\\e84a'; } /* '' */\n.icon-flow-line:before { content: '\\e84b'; } /* '' */\n.icon-flow-parallel:before { content: '\\e84c'; } /* '' */\n.icon-shuffle:before { content: '\\e84d'; } /* '' */\n.icon-exchange:before { content: '\\e84e'; } /* '' */\n.icon-expand-right:before { content: '\\e84f'; } /* '' */\n.icon-collapse-left:before { content: '\\e850'; } /* '' */";

},{}],"/home/azazdeaz/repos/animachine/src/editor/chronicler/Chronicler.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Chronicler() {
  EventEmitter.call(this);

  this._stack = [], this._pointer = -1;
  this._chains = [];
}

inherits(Chronicler, EventEmitter);
module.exports = Chronicler;
var p = Chronicler.prototype;

p.undo = function () {
  if (this._pointer < 0) {
    return false;
  }

  var rec = this._stack[this._pointer--];

  if (rec instanceof Flag) {
    var startFlagIdx = this._stack.indexOf(rec.pair);

    if (startFlagIdx !== -1) {
      while (this._pointer !== startFlagIdx) {
        call(this._stack[this._pointer--].undo);
      }

      this._pointer--;
    }
  } else {
    call(rec.undo);
  }

  this.emit("change");
};

p.redo = function () {
  if (this._pointer >= this._stack.length - 1) {
    return false;
  }

  var rec = this._stack[++this._pointer];

  if (rec instanceof Flag) {
    var endFlagIdx = this._stack.indexOf(rec.pair);

    if (endFlagIdx !== -1) {
      while (++this._pointer !== endFlagIdx) {
        call(this._stack[this._pointer].redo);
      }
    }
  } else {
    call(rec.redo);
  }

  this.emit("change");
};

function call(reg) {
  if (typeof reg === "function") {
    reg();
  } else {
    reg[0].apply(reg[1], reg.slice(2));
  }
}

p.save = function (undo, redo, name) {
  var reg = { undo: undo, redo: redo, name: name };

  this._saveReg(reg);

  this.emit("change");

  return reg;
};


p._saveReg = function (reg) {
  this._stack.splice(++this._pointer, this._stack.length, reg);
};



p.getRecords = function () {
  var items = [], currFlag, pointer = this._pointer;

  this._stack.forEach(function (item, idx) {
    if (currFlag) {
      if (item === currFlag.pair) {
        currFlag = undefined;
      }
    } else {
      if (item instanceof Flag) {
        currFlag = item;
        add(item.name, this._stack.indexOf(item.pair) - 1);
      } else {
        add(item.name, idx);
      }
    }
  }, this);

  return items;


  function add(name, idx) {
    items.push({
      name: name || "unnamed redord",
      idx: idx,
      executed: idx <= pointer
    });
  }
};

p.goto = function (idx) {
  idx = Math.max(-1, Math.min(this._stack.length - 1, parseInt(idx)));

  if (idx < this._pointer) {
    while (idx < this._pointer) {
      this.undo();
    }
  } else if (idx > this._pointer) {
    while (idx > this._pointer) {
      this.redo();
    }
  }
};







function Flag(name, pair) {
  this.name = name;
  this.pair = pair || new Flag(name, this);

  Object.freeze(this);
}

p.startFlag = function (name) {
  var flag = new Flag(name);

  this._saveReg(flag);

  return flag.pair;
};

p.endFlag = function (flag) {
  this._saveReg(flag);
};

p.wrap = function (fn, ctx) {
  return function () {
    var endFlag = this.startFlag();

    fn.apply(ctx, Array.prototype.slice.call(arguments, 2));

    this.endFlag(endFlag);
  }.bind(this);
};








p.saveChain = function (id, undo, redo, name, delay) {
  var chain = this.getChain(id);

  if (chain) {
    chain.reg.redo = redo;
  } else {
    chain = {
      id: id,
      reg: this.save(undo, redo, name)
    };
    this._chains.push(chain);
  }

  if (delay === undefined) {
    delay = 312;
  }

  clearTimeout(chain.tid);
  chain.tid = setTimeout(this.closeChain.bind(this, id), delay);
};

p.closeChain = function (id) {
  var chain = this.getChain(id);

  if (!chain) {
    return;
  }

  clearTimeout(chain.tid);
  this._chains.splice(this._chains.indexOf(chain), 1);
};

p.clear = function () {
  while (this._chains.length) {
    this.closeChain(this._chains[0].id);
  }

  this._stack.length = 0, this._pointer = -1;

  this.emit("change");
};

p.getChain = function (id) {
  return this._chains.find(function (chain) {
    return chain.id === id;
  });
};







//TODO
// p.wrapFunctionPairs(opt) {
//     var slice = Array.prototype.slice,
//         oriUndoFn = opt.undoRoot[opt.undoFnName],
//         history = this,
//         dummyHistory = {
//             save: function () {},
//             flag: function () {},
//             endFlag: function () {},
//         },
//         undoHistory = Object.create(dummyHistory),
//         redoHistory = Object.create(dummyHistory);

//     undoHistory.save = function () {
//         history.save([opt.undo.addParam, this, param, true],
//             [this.removeParam, this, param, true], 'remove param ' + opt.name);
//     }

//     opt.undo.parent[opt.undo.fnName] = function () {
//         var args = slice.call(arguments);
//         args.push(undoHistory);

//         oriUndoFn.apply(opt.undo.thisArg, args)
//     }
// }

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/commonDialogs/dialogFeedback.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Feedback" });

dialog.addButton("ok", "hide");

createContent();

function createContent() {
  amgui.createLabel({
    caption: "Hi! This program is in alpha state, so most of the things will change and most of the bugs are known. But if you have any question, feedback, feature request, bug report or just feel the need for contact, you can use the azazdeaz@gmail.com or the <a style=\"color:white;\" href=\"https://github.com/animachine/animachine/issues\">github issues</a>.",
    fontSize: "18px",
    height: "auto",
    display: "block",
    parent: dialog.deContent });
};

module.exports = dialog;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js"}],"/home/azazdeaz/repos/animachine/src/editor/commonDialogs/dialogWIP.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  title: "Work in progress" });

dialog.addButton("ok", "hide");

createContent();

function createContent() {
  amgui.createLabel({
    caption: "This feature doesn't ready yet. (But we are on it!)",
    fontSize: "18px",
    height: "auto",
    display: "block",
    parent: dialog.deContent
  });
};

module.exports = dialog;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js"}],"/home/azazdeaz/repos/animachine/src/editor/dom-picker/DomPicker.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function DomPicker() {
  EventEmitter.call(this);

  this._isMouseOver = false;
  this._crumbs = [];

  this._onMMove = this._onMMove.bind(this);
  this._render = this._render.bind(this);
  window.addEventListener("mousemove", this._onMMove);

  this._createBase();
}

inherits(DomPicker, EventEmitter);
var p = DomPicker.prototype;

module.exports = DomPicker;

p.focusElem = function (target) {
  var oldTarget = this._deTarget, crumbs = this._crumbs, lastCrumb = crumbs[crumbs.length - 1];

  if (oldTarget && oldTarget.parentElement === target) {
    crumbs.push(oldTarget);
  } else if (target === lastCrumb) {
    crumbs.pop();
  } else if (target.parentElement === lastCrumb) {
    crumbs.length = 0;
  }

  this._deTarget = target;


  var p = am.isPickableDomElem, top = p(target.parentElement), right = p(target.nextElementSibling), bottom = p(target.firstElementChild), left = p(target.previousElementSibling);

  this._btnTop.style.display = top ? "block" : "none";
  this._btnRight.style.display = right ? "block" : "none";
  this._btnBottom.style.display = bottom ? "block" : "none";
  this._btnLeft.style.display = left ? "block" : "none";

  this.domElem.style.display = "block";

  this._render();

  this._rerenderSetI = setInterval(this._render, 123);
  window.addEventListener("resize", this._render);

  this.emit("pick", target);
};

p.hide = function () {
  clearInterval(this._rerenderSetI);
  window.removeEventListener("resize", this._render);

  this.domElem.style.display = "none";
};

p.setRightLeftBtn = function (opt) {
  this._btnRightLeft.setIcon(opt.icon);

  //TODO remove the previous
  this._btnRightLeft.addEventListener("click", opt.onClick);

  var tooltip = amgui.getTooltip(this._btnRightLeft);
  tooltip.setContent(opt.tooltip);
};








p._render = function () {
  var br = this._deTarget.getBoundingClientRect();

  this.domElem.style.left = br.left + "px";
  this.domElem.style.top = br.top + "px";
  this.domElem.style.width = br.width + "px";
  this.domElem.style.height = br.height + "px";
};

p._onMMove = function (e) {
  var br = this.domElem.getBoundingClientRect(), mx = e.clientX, my = e.clientY, s = this._isMouseOver ? 21 : 0, over = mx >= br.left - s && mx <= br.right + s && my >= br.top - s && my <= br.bottom + s;

  if (over !== this._isMouseOver) {
    this._isMouseOver = over;

    var v = over ? "visible" : "hidden";

    this._btnTop.style.visibility = v;
    this._btnRight.style.visibility = v;
    this._btnBottom.style.visibility = v;
    this._btnLeft.style.visibility = v;
    this._btnClose.style.visibility = v;
    this._btnRightLeft.style.visibility = v;
  }
};

p._createBase = function () {
  var btnSize = 21, borderSize = "2px";

  var de = document.createElement("div");
  de.style.position = "fixed";
  de.style.boxSizing = "border-box";
  de.style.display = "none";
  de.style.pointerEvents = "none";
  de.style.border = "solid #eee " + borderSize;
  de.style.pointerEvents = "none";
  am.deHandlerCont.appendChild(de);


  var deDashed = document.createElement("div");
  deDashed.style.width = "100%";
  deDashed.style.height = "100%";
  deDashed.style.border = "dashed #444 " + borderSize;
  deDashed.style.transform = "translate(-" + borderSize + ",-" + borderSize + ")";
  de.appendChild(deDashed);

  de.addEventListener("mouseenter", this._onMEnter);
  de.addEventListener("mouseleave", this._onMLeave);

  this.domElem = de;

  this._btnTop = createBtn("angle-up", "up one level", function () {
    this.focusElem(this._deTarget.parentElement);
  }.bind(this));
  this._btnTop.style.top = -btnSize + "px";
  this._btnTop.style.left = "0";
  this._btnTop.style.right = "0";
  this._btnTop.style.margin = "0 auto";


  this._btnRight = createBtn("angle-right", "next sibling", function () {
    this.focusElem(this._deTarget.nextElementSibling);
  }.bind(this));
  this._btnRight.style.right = -btnSize + "px";
  this._btnRight.style.top = "0";
  this._btnRight.style.bottom = "0";
  this._btnRight.style.margin = "auto 0";

  this._btnBottom = createBtn("angle-down", "down one level", function () {
    this.focusElem(this._crumbs[this._crumbs.length - 1] || this._deTarget.firstElementChild);
  }.bind(this));
  this._btnBottom.style.bottom = -btnSize + "px";
  this._btnBottom.style.left = "0";
  this._btnBottom.style.right = "0";
  this._btnBottom.style.margin = "0 auto";

  this._btnLeft = createBtn("angle-left", "previous sibling", function () {
    this.focusElem(this._deTarget.previousElementSibling);
  }.bind(this));
  this._btnLeft.style.left = -btnSize + "px";
  this._btnLeft.style.top = "0";
  this._btnLeft.style.bottom = "0";
  this._btnLeft.style.margin = "auto 0";

  this._btnClose = createBtn("cancel", "close", function () {
    this.hide();
  }.bind(this));
  this._btnClose.style.right = -btnSize + "px";
  this._btnClose.style.top = -btnSize + "px";

  this._btnRightLeft = createBtn("plus", "");
  this._btnRightLeft.style.right = -btnSize + "px";
  this._btnRightLeft.style.bottom = -btnSize + "px";

  function createBtn(icon, tooltip, onClick) {
    var deIcon = amgui.createIconBtn({
      icon: icon,
      widht: btnSize,
      height: btnSize,
      parent: de
    });

    deIcon.style.textShadow = "0 0 4px #000";

    if (onClick) {
      deIcon.addEventListener("click", function (e) {
        e.stopPropagation();
        onClick();
      });
    }

    amgui.addTooltip({
      deTarget: deIcon,
      text: tooltip
    });

    deIcon.style.position = "absolute";
    deIcon.style.pointerEvents = "auto";

    return deIcon;
  }
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/historyTab/HistoryTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Item = require("./Item");

function HistoryTab() {
  this._onHistoryChage = this._onHistoryChage.bind(this);

  this._items = [];

  this._createBase();

  am.history.on("change", this._onHistoryChage);
}

var p = HistoryTab.prototype;
module.exports = HistoryTab;

p._addItem = function () {
  var item = new Item();
  this._items.push(item);

  this._scrollCont.appendChild(item.domElem);
};

p._removeItem = function (item) {
  var idx = this._items.indexOf(item);

  if (item !== -1) {
    this._items.splice(idx, 1);

    if (item.domElem.parentNode) {
      item.domElem.parentNode.removeChild(item.domElem);
    }
  }
};

p._onHistoryChage = function () {
  var records = am.history.getRecords();

  records.forEach(function (rec, idx) {
    if (!this._items[idx]) {
      this._addItem();
    }

    this._items[idx].setup(rec);
  }, this);

  while (this._items.length > records.length) {
    this._removeItem(this._items[records.length]);
  }
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Item":"/home/azazdeaz/repos/animachine/src/editor/historyTab/Item.js"}],"/home/azazdeaz/repos/animachine/src/editor/historyTab/Item.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Item() {
  this._createBase();

  this.domElem.addEventListener("click", function () {
    var idx = this._rec.executed ? this._rec.idx - 1 : this._rec.idx;
    am.history.goto(idx);
  }.bind(this));
}

var p = Item.prototype;
module.exports = Item;

p.setup = function (record) {
  this._rec = record;

  this._label.innerHTML = record.name;
  this._toggleState.setToggle(record.executed);
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "21px";
  this.domElem.style.background = amgui.color.bg1;

  this._toggleState = amgui.createToggleIconBtn({
    parent: this.domElem,
    iconOn: "circle",
    iconOff: "circle-thin" });

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js"}],"/home/azazdeaz/repos/animachine/src/editor/i18n.js":[function(require,module,exports){
"use strict";

module.exports = {
  cssModule: {
    noTrackSelected: "No track selected." }
};

},{}],"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/Branch.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");

function Branch() {
  EventEmitter.call(this);

  this._onClick = this._onClick.bind(this);

  this._createBase();
}

inherits(Branch, EventEmitter);
var p = Branch.prototype;
module.exports = Branch;

p.setup = function (opt) {
  this._label.innerHTML = opt.domElem.nodeName;
  this.domElem.style.marginLeft = (opt.indent * 6) + "px";
};




p._onClick = function () {
  this.emit("select");
};

p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "21px";
  this.domElem.style.background = amgui.color.bg1;

  this.domElem.addEventListener("click", this._onClick);

  this._label = amgui.createLabel({
    parent: this.domElem,
    flex: 1
  });
};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/DomTreeTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var Branch = require("./Branch");

function DomTreeTab() {
  this._branches = [];
  this._buffBranch = [];

  this._createBase();

  this._onSelectBranch = this._onSelectBranch.bind(this);
  this._onSelectCrumb = this._onSelectCrumb.bind(this);
}

var p = DomTreeTab.prototype;
module.exports = DomTreeTab;

p._addBranch = function (opt) {
  var branch = this._buffBranch.pop() || new Branch();
  this._branches.push(branch);

  branch.setup(opt);

  branch.on("select", this._onSelectBranch);

  this._scrollCont.appendChild(branch.domElem);
};

p._removeBranch = function (branch) {
  var idx = this._branches.indexOf(branch);

  if (branch !== -1) {
    this._branches.splice(idx, 1);

    if (branch.domElem.parentNode) {
      branch.domElem.parentNode.removeChild(branch.domElem);
    }

    this._buffBranch.push(branch);
  }

  branch.removeListener("select", this._onSelectBranch);
};

p.focusElem = function (de) {
  var path = [], deStep = de, maxDeep = 3;

  while (this._branches.lenght) {
    this._removeBranch(this._branches[0]);
  }

  while (deStep.parentNode && deStep.nodeName !== "HTML") {
    var deStep = deStep.parentNode;

    path.unshift({
      name: deStep.nodeName,
      value: deStep
    });
  }

  this._breadcrumbs.setItems(path);

  var step = function (de, deep) {
    this._addBranch({
      domElem: de,
      indent: deep
    });

    if (deep < maxDeep) {
      var childNodes = de.childNodes;

      for (var i = 0, l = childNodes.length; i < l; ++i) {
        step(childNodes[i], deep + 1);
      }
    }
  }.bind(this);

  step(de, 0);
};






p._onSelectBranch = function (branch) {
  am.selectDomElem(branch.domElem);
};

p._onSelectCrumb = function (e) {
  am.selectDomElem(e.detail.selection.value);
};






p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._scrollCont = document.createElement("div");
  this._scrollCont.style.width = "100%";
  this.domElem.appendChild(this._scrollCont);

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._scrollCont
  });

  this._breadcrumbs = amgui.createBreadcrumbs({
    parent: this._scrollCont,
    onSelect: this._onSelectCrumb
  });
  this._breadcrumbs.style.height = "22px";
  this._breadcrumbs.style.minWidth = "100%";
  // this._breadcrumbs.style.position = 'absolute';
};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Branch":"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/Branch.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/am-domtree.js":[function(require,module,exports){
"use strict";

var DomTreeTab = require("./DomTreeTab");

var domTreeTab;

exports.init = function () {
  domTreeTab = new DomTreeTab();

  am.on("selectDomElement", onSelectDomElement);

  am.workspace.fillTab("Dom Tree", domTreeTab.domElem);
};

function onSelectDomElement(de) {
  domTreeTab.focusElem(de);
}

},{"./DomTreeTab":"/home/azazdeaz/repos/animachine/src/editor/modules/am-domtree/DomTreeTab.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/BezierCssParam.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var CssParam = require("./CssParam");
var Key = require("../../utils/Key");
var amgui = require("../../amgui");
var Transhand = require("transhand");

function BezierCssParam(opt) {
  opt = opt || {};

  CssParam.call(this, opt);

  this._defaultValue = { x: 0, y: 0 };
}

inherits(BezierCssParam, CssParam);
var p = BezierCssParam.prototype;
module.exports = BezierCssParam;

Object.defineProperties(p, {
  parentTrack: {
    set: function (v) {
      if (this._parentTrack) {
        this._parentTrack.off("focusHandler", this._focusTransformer, this);
        this._parentTrack.off("blurHandler", this._blurTransformer, this);
      }

      this._parentTrack = v;


      if (this._parentTrack) {
        this._parentTrack.on("focusHandler", this._focusTransformer, this);
        this._parentTrack.on("blurHandler", this._blurTransformer, this);
      }
    },
    get: function () {
      return this._parentTrack;
    }
  }
});







p.getScriptKeys = function () {
  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var nextKey = key.getNextKey();

    if (!nextKey) return;

    var values = [], k = {
      time: key.time,
      options: {
        bezier: {
          type: "cubic",
          values: values },
        ease: key.ease.getEaser() }
    };

    key.value.forEach(function (point, idx, arr) {
      if (idx !== 0) values.push(point.handleLeft);
      values.push(point.anchor);
      if (idx !== arr.length - 1) values.push(point.handleRight);
    });

    values.push(nextKey.value[0].handleLeft);
    values.push(nextKey.value[0].anchor);
  }, this);

  return _.sortBy(keys, "time");
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = am.timeline.currTime;
  }

  var ret, before, after, same;

  this.keyLine.forEachKeys(function (key) {
    if (key.time === time) {
      same = key;
    }

    if (key.time < time && (!before || before.time < key.time)) {
      before = key;
    }

    if (key.time > time && (!after || after.time > key.time)) {
      after = key;
    }
  });

  if (same) {
    var point = same.value[0];

    ret = {
      x: point.anchor.x + "px",
      y: point.anchor.y + "px" };
  } else {
    if (after && before) {
      var p = (time - before.time) / (after.time - before.time), bv = before.value, av = after.value, points = [];

      p = after.ease.getRatio(p);

      bv.forEach(function (point, idx) {
        if (idx !== 0) {
          points.push(point.handleLeft.x, point.handleLeft.y);
        }
        points.push(point.anchor.x, point.anchor.y);
        points.push(point.handleRight.x, point.handleRight.y);
      });
      points.push(av[0].handleLeft.x, av[0].handleLeft.y);
      points.push(av[0].anchor.x, av[0].anchor.y);



      ret = this._calcEase(points, p);
    } else if (before) {
      ret = _.clone(before.value[0].anchor);
    } else if (after) {
      ret = _.clone(after.value[0].anchor);
    }
  }

  return ret === undefined ? this._defaultValue : ret;
};

p.addKey = function (opt, skipHistory) {
  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      if (!skipHistory) {
        am.history.saveChain(key, [this.addKey, this, key, true], [this.addKey, this, opt, true], "edit key");
      }

      key.value.length = 0;
      [].push.apply(key.value, opt.value);
    }
  } else {
    key = new Key(opt);

    key.on("prerender", this._onKeyPrerender, this);

    this.keyLine.addKey(key);

    if (!skipHistory) {
      am.history.closeChain(key);
      am.history.save([this.removeKey, this, opt.time, true], [this.addKey, this, opt, true], "add key");
    }

    this.emit("addKey");
  }

  this._refreshInputs();
  this._refreshTgglKey();

  this.emit("change");

  return key;
};

//TODO removeKey -> key.off('prerender', this._onKeyPrerender, this);



p._calcEase = function (p, pos) {
  var l = p.length / 2;

  while (--l > 0) {
    for (var i = 0; i < l; ++i) {
      count(i * 2);
    }
  }

  return { x: p[0], y: p[1] };

  function count(i) {
    p[i + 0] = p[i + 0] + (p[i + 2] - p[i + 0]) * pos;
    p[i + 1] = p[i + 1] + (p[i + 3] - p[i + 1]) * pos;
  }
};

p._focusTransformer = function (de) {
  de = de || this.parentTrack._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe) return this._blurTransformer();

  if (!this._transformer) {
    this._transformer = new Transhand();
    this._transformer.on("change", this._onChangeTransformer, this);
  }

  var transformSave;
  if (de.style.transform) {
    transformSave = de.style.transform;
    de.style.transform = "";
  }

  var br = de.getBoundingClientRect();

  de.style.transform = transformSave;

  var points = [];

  this.keyLine.forEachKeys(function (key) {
    key.value.forEach(function (point, idx) {
      points.push({
        anchor: { x: point.anchor.x, y: point.anchor.y },
        handleLeft: { x: point.handleLeft.x, y: point.handleLeft.y },
        handleRight: { x: point.handleRight.x, y: point.handleRight.y },
        style: {
          anchorFill: idx !== 0 ? "navajowhite" : undefined },
        linked: point.linked });
    });
  });

  this._transformer.setup({
    hand: {
      type: "curver",
      points: points,
      offset: {
        x: br.left,
        y: br.top }
    } });
  this._transformer.activate();

  am.deHandlerCont.appendChild(this._transformer.domElem);
};

p._blurTransformer = function () {
  if (this._transformer && this._transformer.domElem && this._transformer.domElem.parentNode) {
    this._transformer.deactivate();
  }
};






p._onChangeTransformer = function (change) {
  var idx = change.idx, key;

  for (var i = 0, l = this.keyLine._keys.length; i < l; ++i) {
    key = this.keyLine._keys[i];

    if (key.value.length <= idx) {
      idx -= key.value.length;
    } else {
      break;
    }
  }

  if (change.type === "add") {
    key.value.splice(idx, 0, {
      anchor: { x: change.point.anchor.x, y: change.point.anchor.y },
      handleLeft: { x: change.point.handleLeft.x, y: change.point.handleLeft.y },
      handleRight: { x: change.point.handleRight.x, y: change.point.handleRight.y },
      linked: change.point.linked });
  } else if (change.type === "remove") {
    key.value.splice(idx, 1);

    if (key.value.length === 0) {
      this.keyLine.removeKey(key);
    }
  } else if (change.type === "edit") {
    var point = key.value[idx];
    point.anchor.x = change.point.anchor.x;
    point.anchor.y = change.point.anchor.y;
    point.handleLeft.x = change.point.handleLeft.x;
    point.handleLeft.y = change.point.handleLeft.y;
    point.handleRight.x = change.point.handleRight.x;
    point.handleRight.y = change.point.handleRight.y;
    point.linked = change.point.linked;
  }

  this._focusTransformer();
};

p._onKeyPrerender = function (ctx, key) {
  for (var i = 1; i < key.value.length; ++i) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = "deepskyblue";
    ctx.fillStyle = "deepskyblue";
    ctx.lineWidth = 1;
    ctx.arc(start, key._height / 2, 3, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.restore();
  }
};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/Key":"/home/azazdeaz/repos/animachine/src/editor/utils/Key.js","./CssParam":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParam.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","transhand":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/Transhand.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParam.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var uncalc = require("./uncalc");
var Key = require("../../utils/Key");
var OptionLine = require("../../utils/OptionLine");
var KeyLine = require("../../utils/KeyLine");
var amgui = require("../../amgui");

function CssParam(opt) {
  opt = opt || {};

  EventEmitter.call(this);

  this._lineH = amgui.LINE_HEIGHT;
  this._inputs = [];
  this._hidden = false;
  this._defaultValue = opt.defaultValue || 0;

  this._onChangeInput = this._onChangeInput.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeKeyLine = this._onChangeKeyLine.bind(this);
  this._onKeyNeedsRemove = this._onKeyNeedsRemove.bind(this);
  this._onClickTgglKey = this._onClickTgglKey.bind(this);
  this._onClickStepPrevKey = this._onClickStepPrevKey.bind(this);
  this._onClickStepNextKey = this._onClickStepNextKey.bind(this);

  this._createKeyline(opt.keyLine);
  this._createOptions(opt.optionLine);

  this.deOptionLine = this.optionLine.domElem;
  this.deKeyLine = this.keyLine.domElem;

  am.timeline.on("changeTime", this._onChangeTime);

  this.setMaxListeners(1234);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(CssParam, EventEmitter);
var p = CssParam.prototype;
module.exports = CssParam;









Object.defineProperties(p, {
  height: {
    get: function () {
      return this.hidden ? 0 : this._lineH;
    }
  },
  name: {
    set: function (v) {
      if (v === this._name) return;

      this._name = v;
      this.optionLine.title = v;
    },
    get: function () {
      return this._name;
    }
  },
  hidden: {
    set: function (v) {
      v = !!v;

      if (v === this._hidden) return;

      this._hidden = v;

      if (this._hidden) {
        this.keyLine.hide();
        this.optionLine.hide();
      } else {
        this.keyLine.show();
        this.optionLine.show();
      }
    },
    get: function () {
      return this._hidden;
    }
  }
});





p.getSave = function () {
  var save = {
    name: this.name,
    hidden: this.hidden,
    keys: [] };

  this.keyLine.forEachKeys(function (key) {
    save.keys.push(key.getSave());
  });

  return save;
};

p.useSave = function (save) {
  this.name = save.name;
  this.hidden = save.hidden;

  if (save.keys) {
    save.keys.forEach(this.addKey, this);
  }
};

p.getScriptKeys = function (runnable) {
  var keys = [];

  this.keyLine.forEachKeys(function (key) {
    var k = {
      time: key.time,
      options: {
        ease: runnable ? key.ease.getEaser() : key.ease.getScript() }
    };
    k.options[this.name] = key.value;
    keys.push(k);
  }, this);

  return _.sortBy(keys, "time");
};

p.getValue = function (time) {
  if (!_.isNumber(time)) {
    time = am.timeline.currTime;
  }

  var ret, before, after, same;

  this.keyLine.forEachKeys(function (key) {
    if (key.time === time) {
      same = key;
    }

    if (key.time < time && (!before || before.time < key.time)) {
      before = key;
    }

    if (key.time > time && (!after || after.time > key.time)) {
      after = key;
    }
  });

  if (same) {
    ret = same.value;
  } else {
    if (after && before) {
      var p = (time - before.time) / (after.time - before.time), av = uncalc(after.value), bv = uncalc(before.value);

      p = after.ease.getRatio(p);

      ret = createCalc(av, bv, p);
    } else if (before) {
      ret = before.value;
    } else if (after) {
      ret = after.value;
    }
  }

  return ret === undefined ? this._defaultValue : ret;





  function createCalc(av, bv, p) {
    if (!isNaN(av) && !isNaN(bv)) {
      return parseFloat(bv) + ((av - bv) * p);
    }

    var aUnit = getUnit(av);
    var bUnit = getUnit(bv);

    if (aUnit === bUnit) {
      av = parseFloat(av);
      bv = parseFloat(bv);

      return (bv + ((av - bv) * p)) + aUnit;
    };

    var avs = _.compact(av.split(" ")), bvs = _.compact(bv.split(" ")), avl = avs.length, bvl = bvs.length, ret = [];

    if (avl !== bvl) {
      if (avl < bvl) {
        avs = avs.concat(bvs.slice(avl));
      } else {
        bvs = bvs.concat(avs.slice(bvl));
      }
    }

    avs.forEach(function (a, idx) {
      ret.push(calc(a, bvs[idx]));
    });

    return ret.join(" ");

    function calc(a, b) {
      return "calc(" + b + " + (" + a + " - " + b + ")*" + p + ")";
    }

    function getUnit(v) {
      var m = /([a-z]+)$/.exec(v);

      return m && m[1];
    }
  }
};

p.addKey = function (opt, skipHistory) {
  var key = this.getKey(opt.time);

  if (key) {
    if ("value" in opt) {
      if (!skipHistory) {
        am.history.saveChain(key, [this.addKey, this, key, true], [this.addKey, this, opt, true], "edit key");
      }

      key.value = opt.value;
    }
  } else {
    key = new Key(opt);
    key.value = "value" in opt ? opt.value : this.getValue(opt.time);

    this.keyLine.addKey(key);

    if (!skipHistory) {
      am.history.closeChain(key);
      am.history.save([this.removeKey, this, opt.time, true], [this.addKey, this, opt, true], "add key");
    }

    this.emit("addKey");
  }

  this._refreshInputs();
  this._refreshTgglKey();

  this.emit("change");

  return key;
};

p.removeKey = function (key, skipHistory) {
  if (!this.keyLine.removeKey(key)) {
    return;
  }


  if (!skipHistory) {
    am.history.save([this.addKey, this, key, true], [this.removeKey, this, key, true], "remove key");
  }

  this._refreshTgglKey();

  this.emit("change");
};

p.getKey = function (time) {
  return this.keyLine.getKeyByTime(time);
};

p.getPrevKey = function (time) {
  return this.keyLine.getPrevKey(time);
};

p.getNextKey = function (time) {
  return this.keyLine.getNextKey(time);
};

p.gotoPrevKey = function (time) {
  var key = this.getPrevKey(am.timeline.currTime);

  if (key) {
    am.timeline.currTime = key.time;
  }
};

p.gotoNextKey = function (time) {
  var key = this.getNextKey(am.timeline.currTime);

  if (key) {
    am.timeline.currTime = key.time;
  }
};

p.getKeyTimes = function () {
  return this.keyLine.getKeyTimes();
};

p.toggleKey = function () {
  var key = this.getKey(am.timeline.currTime);

  if (key) {
    this.removeKey(key);
  } else {
    this.addKey({ time: am.timeline.currTime });
  }
};

p.isValid = function () {
  return this.keyLine.keyCount !== 0;
};

p.attachInput = function (input) {
  this.detachInput(input);

  input.on("change", this._onChangeInput);

  this._inputs.push(input);
};

p.detachInput = function (input) {
  var idx = this._inputs.indexOf(input);

  if (idx === -1) {
    return;
  }

  input.removeListener("change", this._onChangeInput);

  this._inputs.splice(idx, 1);
};








p._onChangeInput = function (value) {
  if (String(value) === String(this.getValue())) {
    return;
  }

  this.addKey({
    time: am.timeline.currTime,
    value: value
  });

  this.emit("change");
};

p._onChangeKeyLine = function () {
  this.emit("change");
};

p._onKeyNeedsRemove = function (key) {
  this.removeKey(key);
};

p._onChangeTime = function () {
  this._refreshInputs();
  this._refreshTgglKey();
};

p._onClickTgglKey = function () {
  this.toggleKey();
};

p._onClickStepPrevKey = function () {
  this.gotoPrevKey();
};

p._onClickStepNextKey = function () {
  this.gotoNextKey();
};









p._refreshInputs = function () {
  if (this.getValue() !== undefined) {
    this._inputs.forEach(function (input) {
      //get the value again, because it can change over the iteration
      input.value = this.getValue();
    }, this);
  }
};

p._refreshTgglKey = function () {
  var time = am.timeline.currTime, key = this.getKey(time);

  this.optionLine.buttons.key.setHighlight(!!key);
  this.optionLine.buttons.key.setSteppers(!!this.getPrevKey(time), !!this.getNextKey(time));
};






p._createOptions = function (opt) {
  this.optionLine = new OptionLine(_.assign({
    contextMenuOptions: [{ text: "move up", onSelect: this.emit.bind(this, "move", this, -1) }, { text: "move down", onSelect: this.emit.bind(this, "move", this, 1) }, { text: "delete", onSelect: this.emit.bind(this, "delete", this) }],
    title: {
      text: this.name
    },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    inputs: [{
      type: "unit",
      units: [],
      name: "input"
    }],
    indent: 0 }, opt));

  if (this.optionLine.inputs.input) {
    this.attachInput(this.optionLine.inputs.input);
  }
};

p._createKeyline = function () {
  this.keyLine = new KeyLine();
  this.keyLine.on("change", this._onChangeKeyLine);
  this.keyLine.on("keyNeedsRemove", this._onKeyNeedsRemove);
};






p.dispose = function () {};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/Key":"/home/azazdeaz/repos/animachine/src/editor/utils/Key.js","../../utils/KeyLine":"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLine.js","../../utils/OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","./uncalc":"/home/azazdeaz/repos/animachine/src/editor/modules/css/uncalc.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParamGroup.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var OptionLine = require("../../utils/OptionLine");
var KeyLineGroup = require("../../utils/KeyLineGroup");
var CssParam = require("./CssParam");
var amgui = require("../../amgui");

function CssParamGroup(opt) {
  this._onChangeSubparamHeight = this._onChangeSubparamHeight.bind(this);
  this._onAddKeySubparam = this._onAddKeySubparam.bind(this);
  this._onClickTgglChildren = this._onClickTgglChildren.bind(this);
  this._onClickTgglMerge = this._onClickTgglMerge.bind(this);

  CssParam.call(this, opt);

  this._params = [];

  this._merged = opt.merged || false;

  this._refreshHeights();
}

inherits(CssParamGroup, CssParam);
var p = CssParamGroup.prototype;
module.exports = CssParamGroup;



Object.defineProperties(p, {
  height: {
    get: function () {
      var ret = this._lineH;

      if (this._isShowingSubparams) {
        this._params.forEach(function (param) {
          ret += param.height;
        });
      }

      return ret;
    }
  },
  merged: {
    set: function (v) {
      v = !!v;
      if (v === this._merged) return;

      this._merged = v;

      this.optionLine.buttons.tgglMerge.setToggle(this._merged);
      this.optionLine.buttons.tgglChildren.inactive = this._merged;

      if (this._merged) {
        this.hideSubparams();
        this._makeKeyLinesSymmetric();
      } else {
        this.showSubparams();
      }
    },
    get: function () {
      return this._merged;
    }
  }
});




p.addParam = function (param) {
  if (param.parentGroup) {
    param.parentGroup.removeParam(param);
  }
  parent.parentGroup = this;

  this._params.push(param);
  this.optionLine.addSubline(param.optionLine.domElem);
  this.keyLine.addKeyLine(param.keyLine);

  param.optionLine.indent = this.optionLine.indent + 1;
  param.on("changeHeight", this._onChangeSubparamHeight);
  param.on("addKey", this._onAddKeySubparam);

  if (param.name in this.optionLine.inputs) {
    param.attachInput(this.optionLine.inputs[param.name]);
  }

  this.emit("changeHeight");
  this._refreshHeights();
};

p.removeParam = function (param) {
  var idx = this._params.indexOf(param);

  if (idx === -1) {
    return;
  }

  parent.parentGroup = undefined;

  param.removeListener("changeHeight", this._onChangeSubparamHeight);
  param.removeListener("addKey", this._onAddKeySubparam);

  this._params.splice(idx, 1);
  this.keyLine.removeKeyline(param.keyLine);

  this.emit("changeHeight");
  this._refreshHeights();
};

p.moveParam = function () {};

p.getParam = function (paramName) {
  return this._params.find(function (param) {
    return param.name === paramName;
  });
};

p.toggleKey = function (time) {
  time = time || am.timeline.currTime;

  var hasKey = this._params.some(function (param) {
    return param.getKey(time);
  });

  if (hasKey) {
    this.removeKeyAll(time);
  } else {
    this.addKeyAll(time);
  }
};

p._makeKeyLinesSymmetric = function (time) {
  times = [];

  this._params.forEach(function (param) {
    [].push.apply(times, param.getKeyTimes());
  });

  _.uniq(times).forEach(this.addKeyAll, this);
};


p.addKeyAll = function (time) {
  time = time || am.timeline.currTime;

  this._params.forEach(function (param) {
    if (param instanceof CssParamGroup) {
      param.addKeyAll(time);
    } else {
      param.addKey({ time: time });
    }
  });
};

p.removeKeyAll = function (time) {
  time = time || am.timeline.currTime;

  this._params.forEach(function (param) {
    var key = param.getKey(time);
    if (key) {
      param.removeKey(key);
    }
  });
};

p.showSubparams = function () {
  if (this._isShowingSubparams) return;
  this._isShowingSubparams = true;

  this.optionLine.buttons.tgglChildren.setToggle(true);
  this.emit("changeHeight", this);
  this._refreshHeights();
};

p.hideSubparams = function () {
  if (!this._isShowingSubparams) return;
  this._isShowingSubparams = false;

  this.optionLine.buttons.tgglChildren.setToggle(false);
  this.emit("changeHeight", this);
  this._refreshHeights();
};







p._onKeyNeedsRemove = function (key) {
  this._params.forEach(function (param) {
    var key = param.getKey(time);
    if (key) param.removeKey(key);
  });
};

p._onChangeTime = function () {
  this._refreshTgglKey();
};

p._onClickTgglChildren = function () {
  if (this._isShowingSubparams) {
    this.hideSubparams();
  } else {
    this.showSubparams();
  }
};

p._onClickTgglMerge = function () {
  this.merged = !this.merged;
};

p._onChangeSubparamHeight = function () {
  this.emit("changeHeight", this);
  this._refreshHeights();
};

p._onAddKeySubparam = function () {
  if (this._merged) {
    this.addKeyAll();
  }
};







p._refreshHeights = function () {
  var h = this.height;
  this.keyLine.domElem.style.height = h + "px";
  this.optionLine.domElem.style.height = h + "px";
};







p._createOptions = function (opt) {
  this.optionLine = new OptionLine(_.merge({
    tgglChildren: {
      onClick: this._onClickTgglChildren },
    contextMenuOptions: [{ text: "move up", onSelect: this.emit.bind(this, "move", this, -1) }, { text: "move down", onSelect: this.emit.bind(this, "move", this, 1) }, { text: "delete", onSelect: this.emit.bind(this, "delete", this) }],
    tgglMerge: {
      onClick: this._onClickTgglMerge },
    title: {
      text: this.name },
    btnKey: {
      onClick: this._onClickTgglKey,
      onClickPrev: this._onClickStepPrevKey,
      onClickNext: this._onClickStepNextKey },
    indent: 0,
    hasSubcontainer: true }, opt));
};

p._createKeyline = function () {
  this.keyLine = new KeyLineGroup();
  this.keyLine.on("keyNeedsRemove", this._onKeyNeedsRemove);
};






p.dispose = function () {};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/KeyLineGroup":"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLineGroup.js","../../utils/OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","./CssParam":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParam.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssTrack.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");
var paramFactory = require("./paramFactory");
var Transhand = require("transhand");
var KeyLineGroup = require("../../utils/KeyLineGroup");
var OptionLine = require("../../utils/OptionLine");
var CssParamGroup = require("./CssParamGroup");
var dialogTrackOptions = require("./dialogTrackOptions");
var dialogNewParam = require("./dialogNewParam");
var mstPlayer = require("./script.player.mst");
window.dialogNewParam = dialogNewParam;


function CssTrack(opt) {
  EventEmitter.call(this);

  this._selectors = [];
  this._endParams = [];
  this._name = "unnamed";

  this._selectedElems = [];
  this._isHidingSelectedElems = false;
  this._isPlaying = false;

  this._onSelectClick = this._onSelectClick.bind(this);
  this._onDeleteParameter = this._onDeleteParameter.bind(this);
  this._onMoveParameter = this._onMoveParameter.bind(this);
  this._onClickTgglKey = this._onClickTgglKey.bind(this);
  this._onClickTgglHide = this._onClickTgglHide.bind(this);
  this._onClickName = this._onClickName.bind(this);
  this._onChangeHeight = this._onChangeHeight.bind(this);
  this._onChangeHandler = this._onChangeHandler.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeParameter = this._onChangeParameter.bind(this);
  this._onChangeName = this._onChangeName.bind(this);
  this._onChangeSelectors = this._onChangeSelectors.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onWindowScroll = this._onWindowScroll.bind(this);
  this._onSelectTrack = this._onSelectTrack.bind(this);
  this._onDeselectTrack = this._onDeselectTrack.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._paramGroup = new CssParamGroup({
    optionLine: {
      tgglMerge: false,
      title: {
        onClick: this._onClickName } } });

  this._paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      iconOn: "eye",
      iconOff: "eye-off",
      changeColor: true,
      onClick: this._onClickTgglHide }),
    name: "tgglHide",
    childIdx: 0 });

  this._paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      icon: "cube",
      changeColor: true,
      onClick: function () {
        am.dialogs.WIP.show();
      }
    }),
    name: "tggl3d",
    childIdx: 0 });


  this._paramGroup.optionLine.addButton({
    domElem: amgui.createToggleIconBtn({
      icon: "plus",
      changeColor: true,
      onClick: function () {
        dialogNewParam.show({
          track: this });
      }.bind(this) }),
    name: "newParam",
    childIdx: 0 });

  this.deOptionLine = this._paramGroup.optionLine.domElem;
  this.deKeyLine = this._paramGroup.keyLine.domElem;

  this.deOptionLine.addEventListener("click", this._onSelectClick);
  this.deKeyLine.addEventListener("click", this._onSelectClick);

  this._paramGroup.on("changeHeight", this._onChangeHeight);
  am.timeline.on("changeTime", this._onChangeTime);
  am.on("selectTrack", this._onSelectTrack);
  am.on("deselectTrack", this._onDeselectTrack);

  this.setMaxListeners(1234);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(CssTrack, EventEmitter);
var p = CssTrack.prototype;
module.exports = CssTrack;

p.type = "css_track_type";






Object.defineProperties(p, {
  height: {
    get: function () {
      return this._paramGroup.height;
    }
  },
  name: {
    set: function (v) {
      if (v === this._name) return;

      this._name = v;
      this._paramGroup.optionLine.title = this._name;
    },
    get: function () {
      return this._name;
    }
  }
});






p.getSave = function () {
  var save = {
    name: this.name,
    selectors: _.clone(this._selectors),
    endParams: [],
    isShowingParams: this._isShowingParams };

  this._endParams.forEach(function (param) {
    save.endParams.push(param.getSave());
  });

  return save;
};

p.useSave = function (save) {
  if (!save) {
    return;
  }

  this._selectors = save.selectors || [];

  if ("name" in save) this.name = save.name;

  if (save.endParams) {
    save.endParams.forEach(this.addParam, this);
  }

  this._refreshSelectedElems();
  this._refreshPlayer();

  if (save.isShowingParams) {
    this._showParams();
  }
};

p._getScriptParams = function (runnable) {
  var params = [];

  this._endParams.forEach(function (param) {
    if (param.hidden) return;

    var tl = new TimelineMax(), lastTime = 0;

    var param = param.getScriptKeys(runnable).map(function (key) {
      key.duration = (key.time - lastTime) / 1000;
      lastTime = key.time;
      delete key.time;

      return key;
    });

    if (param.length) {
      params.push(param);
    }
  });

  handleTransformOrigin();

  return params;




  function handleTransformOrigin() {
    var tox = _.find(params, function (param) {
      return "transformOriginX" in param[0].options;
    });
    var toy = _.find(params, function (param) {
      return "transformOriginY" in param[0].options;
    });
    var toz = _.find(params, function (param) {
      return "transformOriginZ" in param[0].options;
    });

    if (!tox) return;

    var to = [];
    tox.forEach(function (key, idx) {
      to.push({
        duration: key.duration,
        options: {
          ease: key.options.ease,
          transformOrigin: "" + (tox[idx].options.transformOriginX || "50%") + " " + (toy[idx].options.transformOriginY || "50%") + " " + (toz ? (toz[idx].options.transformOriginZ || "0px") : "") }
      });
    });

    params.splice(params.indexOf(tox), 1);
    params.splice(params.indexOf(toy), 1);
    params.splice(params.indexOf(toz), 1);
    params.push(to);
  }
};

p.getPlayer = function () {
  var rootTl = new TimelineMax().pause(), scriptParams = this._getScriptParams(true), selectedElems = this._selectedElems;

  scriptParams.forEach(function (param) {
    var tl = new TimelineMax();

    param.forEach(function (key) {
      tl.to(selectedElems, key.duration, key.options);
    });

    rootTl.add(tl, 0);
  });

  return rootTl;
};

p.getScript = function () {
  var timelines = [], code = "", optionLine, selectors, scriptParams = this._getScriptParams(false);

  scriptParams.forEach(function (param) {
    timelines.push(param);
  });

  //TODO: merge timelines if it's possible
  // for (var i = 0; i < timelines.length; ++i) {
  //     for (var j = 0; j < timelines.length; ++j) {
  //         if (i !== j && timelines[i].length === timelines[j].length) {
  //             var match = timelines[i].every(function (iKey, idx) {
  //                 var jKey = timelines[j][idx];

  //                 return iKey.time === jKey.time && iKey.ease.match(jKey.ease);
  //             });

  //             if (match) {
  //                 timelines[i].forEach(function (key, idx) {
  //                     _.assign(key, timelines[j][idx]);

  //                     timelines.splice(j, idx);
  //                     if (--j < i) {
  //                         --i;
  //                     }
  //                 });
  //             }
  //         }
  //     }
  // }

  selectors = JSON.stringify(this._selectors);
  timelines = JSON.stringify(timelines);
  //remove quotes around the Ease constructor calls
  //TODO: do this somehow nicer
  timelines = timelines.replace(/"ease":"(.*?)"/, "\"ease\":$1");

  code = Mustache.render(mstPlayer, {
    timelines: timelines,
    animTargets: selectors });

  return code;
};

p.addParam = function (opt, skipHistory) {
  opt = opt || {};

  var param = this.getParam(opt.name);


  if (param) {
    if (opt.keys) {
      opt.keys.forEach(param.addKey, param);
    }

    if ("hidden" in opt) {
      param.hidden = opt.hidden;
    }
  } else {
    param = paramFactory.create(opt);

    param.parentTrack = this;

    //TODO history.flag();

    if (!skipHistory) {
      am.history.save([this.removeParam, this, param, true], [this.addParam, this, param, true], "add param " + opt.name);
    }

    this._endParams.push(param);
    this._paramGroup.addParam(param);

    param.on("change", this._onChangeParameter);
    param.on("delete", this._onDeleteParameter);

    this._prepareBuiltInGroup(opt.name);

    //TODO history.endFlag();

    this.emit("addParam");
    this.emit("change");
  }

  return param;
};

p.removeParam = function (param, skipHistory) {
  var idx = this._endParams.indexOf(param);

  if (idx === -1) {
    return;
  }

  if (!skipHistory) {
    am.history.save([this.addParam, this, param, true], [this.removeParam, this, param, true], "remove param " + param.name);
  }

  this._endParams.splice(idx, 1);
  param.parentTrack = undefined;

  param.removeListener("change", this._onChangeParameter);
  param.removeListener("delete", this._onDeleteParameter);

  this._paramGroup.removeParam(param);

  $(param.deOptionLine).remove();
  $(param.deKeyline).remove();

  this.emit("change");
};

p.getParam = function (name) {
  return this._endParams.find(function (param) {
    return param.name === name;
  });
};

p.addGroup = function (path, history) {
  path = path.slice();

  var name = path.pop(), parent = this._paramGroup;

  path.forEach(function (parentName, idx) {
    parent = this.addGroup(path.slice(0, idx + 1));
  }, this);

  var paramGroup = parent.getParam(name);

  if (!paramGroup) {
    //TODO history.save()

    paramGroup = paramFactory.createGroup({ name: name });
    parent.addParam(paramGroup);
    paramGroup.on("bezierToTranslate", this._switchFromBezierToTranslate, this);
    paramGroup.on("translateToBezier", this._switchFromTranslateToBezier, this);
  }

  return paramGroup;
};

p.removeGroup = function (path, history) {
  path = path.slice();

  var name = path.pop(), parent = this._paramGroup;

  while (path.length) {
    parent = parent.getParam(path.shift());

    if (!parent) return;
  }

  //TODO history.save()
  paramGroup = parent.getParam(name);

  paramGroup.off("bezierToTranslate", this._switchFromBezierToTranslate, this);
  paramGroup.off("translateToBezier", this._switchFromTranslateToBezier, this);

  parent.removeParam();
};



p._prepareBuiltInGroup = function (paramName) {
  var rootGroupName = paramFactory.getRootParamGroupName(paramName);

  if (!rootGroupName || this._paramGroup.getParam(rootGroupName)) return;

  var walk = function (groupName, path) {
    var newPath = path.slice();
    newPath.push(groupName);

    var memberNames = paramFactory.getGroupMemberNames(newPath);

    if (memberNames.length) {
      memberNames.forEach(function (memberName) {
        return walk(memberName, newPath);
      });
    } else {
      var param = this.addParam({ name: groupName }), group = this.addGroup(path);

      group.addParam(param);
    }
  }.bind(this);

  walk(rootGroupName, []);
};

p.select = function (opt) {
  opt = opt || {};

  if (this._isSelected) return;
  this._isSelected = true;


  if (!this._handler) {
    this._handler = new Transhand();
  }

  this._handler.on("change", this._onChangeHandler);
  window.addEventListener("resize", this._onWindowResize);
  window.addEventListener("scroll", this._onWindowScroll);

  this._refreshSelectedElems();

  if (this._selectedElems.length) {
    this.focusHandler(opt.focusElem || this._selectedElems[0]);
  }

  this._paramGroup.highlight = true;

  this.emit("select", this);
};

p.deselect = function () {
  if (!this._isSelected) return;
  this._isSelected = false;

  this._blurHandler();

  this._paramGroup.highlight = false;

  window.removeEventListener("resize", this._onWindowResize);
  window.removeEventListener("scroll", this._onWindowScroll);

  if (this._handler) {
    this._handler.removeListener("change", this._onChangeHandler);
  }
};

p.renderTime = function (time) {
  if (time === undefined) {
    time = am.timeline.currTime;
  }

  if (this._selectors.length === 0) {
    return;
  }

  this._player.time(time / 1000);
  return;
};

p.play = function () {
  this._isPlaying = true;

  this._animPlay();
};

p.pause = function () {
  this._isPlaying = false;

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.getMagnetPoints = function () {
  return this._paramGroup.keyLine.getKeyTimes();
};

p.focusHandler = function (de) {
  de = de || this._currHandledDe;
  this._currHandledDe = de;

  if (!this._currHandledDe) return this._blurHandler();

  this.emit("focusHandler");

  var transformSave;
  if (de.style.transform) {
    transformSave = de.style.transform;
    de.style.transform = "";
  }

  var br = de.getBoundingClientRect();

  de.style.transform = transformSave;

  var handOpt = {
    type: "transformer",
    base: {
      x: br.left,
      y: br.top,
      w: br.width,
      h: br.height },
    params: {}
  };

  var p = handOpt.params;
  this._endParams.forEach(function (param) {
    switch (param.name) {
      case "x": p.tx = parseFloat(param.getValue());break;
      case "y": p.ty = parseFloat(param.getValue());break;
      case "scaleX": p.sx = parseFloat(param.getValue());break;
      case "scaleY": p.sy = parseFloat(param.getValue());break;
      case "rotationZ": p.rz = parseFloat(param.getValue()) / 180 * Math.PI;break;
      case "transformOriginX": p.ox = parseFloat(param.getValue()) / 100;break;
      case "transformOriginY": p.oy = parseFloat(param.getValue()) / 100;break;
      case "bezier":
        var value = param.getValue();
        p.tx = value.x;
        p.ty = value.y;
        break;
    }
  });

  this._handler.setup({
    hand: handOpt });
  this._handler.activate();

  am.deHandlerCont.appendChild(this._handler.domElem);
};

p._blurHandler = function () {
  this._currHandledDe = undefined;

  this.emit("blurHandler");

  if (this._handler && this._handler.domElem && this._handler.domElem.parentNode) {
    this._handler.deactivate();
    this._handler.domElem.parentNode.removeChild(this._handler.domElem);
  }
};










p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  this.renderTime(am.timeline.currTime);
};

p._hideSelectedElems = function () {
  if (this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = true;

  this._paramGroup.optionLine.buttons.tgglHide.setToggle(true);

  this._selectedElems.forEach(function (de) {
    de._amVisibilitySave = de.style.visibility;
    de.style.visibility = "hidden";
  });
};

p._showSelectedElems = function () {
  if (!this._isHidingSelectedElems) return;
  this._isHidingSelectedElems = false;

  this._paramGroup.optionLine.buttons.tgglHide.setToggle(false);

  this._selectedElems.forEach(function (de) {
    de.style.visibility = de._amVisibilitySave;
  });
};

p._switchFromTranslateToBezier = function () {
  var xParam = this.getParam("x"), yParam = this.getParam("y"), keysX = xParam.getSave().keys, keysY = yParam.getSave().keys, bezierKeys = [], times = _.uniq(_.pluck(keysX, "time").concat(_.pluck(keysY, "time"))).sort(), oldBezierKeys = this.__savedBezierKeys || [];

  times.forEach(function (time) {
    var x = parseFloat(xParam.getValue(time)), y = parseFloat(yParam.getValue(time)), oldKey = _.find(oldBezierKeys, { time: time, anchor: { x: x, y: y } });

    bezierKeys.push(oldKey || {
      time: time,
      value: [{
        anchor: { x: x, y: y },
        handleLeft: { x: x, y: y },
        handleRight: { x: x, y: y } }]
    });
  });

  var bezierParam = this.addParam({
    name: "bezier",
    keys: bezierKeys });

  xParam.hidden = true;
  yParam.hidden = true;
  bezierParam.hidden = false;
};

p._switchFromBezierToTranslate = function () {
  //TODO restore original x, y keys when bezier wasn't changed

  var bezierParam = this.getParam("bezier"), bezierKeys = bezierParam.getSave().keys, xKeys = [], yKeys = [];

  this.__savedBezierKeys = keys;

  bezierKeys.forEach(function (bezierKey) {
    xKeys.push(oldKey || {
      time: time,
      value: bezierKey.value[0].anchor.x + "px" });
    yKeys.push(oldKey || {
      time: time,
      value: bezierKey.value[0].anchor.y + "px" });
  });

  var xParam = this.addParam({
    name: "x",
    keys: xKeys });
  var yParam = this.addParam({
    name: "y",
    keys: yKeys });

  xParam.hidden = false;
  yParam.hidden = false;
  bezierParam.hidden = true;

  this.focusHandler();
};










p._onSelectTrack = function (track) {
  if (track === this) {
    this.select();
  }
};

p._onDeselectTrack = function () {
  this.deselect();
};

p._onSelectClick = function () {
  am.selectTrack(this);
};

p._onChangeHandler = function (params, type) {
  var time = am.timeline.currTime;

  var add = function (name, value) {
    var param;

    if (name === "x" || name === "y") {
      var param = this.getParam("bezier");

      if (param && !param.hidden) {
        var keyOpt = { time: time };
        keyOpt[name] = parseFloat(value);
        param.addKey(keyOpt);

        return;
      }
    }

    param = this.addParam({ name: name });

    param.addKey({
      time: time,
      value: value });
  }.bind(this);

  if (type === "transform") {
    Object.keys(params).forEach(function (name) {
      switch (name) {
        case "tx": add("x", params[name] + "px");break;
        case "ty": add("y", params[name] + "px");break;
        case "sx": add("scaleX", params[name]);break;
        case "sy": add("scaleY", params[name]);break;
        case "rz": add("rotationZ", (params[name] / Math.PI * 180) + "deg");break;
        case "ox": add("transformOriginX", (params[name] * 100) + "%");break;
        case "oy": add("transformOriginY", (params[name] * 100) + "%");break;
      }
    });
  }
};

p._onChangeTime = function (time) {
  if (this._isPlaying) {
    return;
  }

  this.renderTime(time);
  this.focusHandler();
};

p._onChangeParameter = function () {
  this._refreshPlayer();
  this.renderTime();
  this.focusHandler();

  this.emit("change");
};

p._onWindowResize = function () {
  this.focusHandler();
};

p._onWindowScroll = function () {
  this.focusHandler();
};

p._onDeleteParameter = function (param) {
  this.removeParam(param);
};

p._onMoveParameter = function (param, way) {
  this.moveParameter(param, way);
};

p._onClickTgglKey = function () {
  var time = am.timeline.currTime, allHaveKey = this._isAllParamsHaveKey(time), flag = am.history.startFlag("toggle keys");

  this._endParams.forEach(function (param) {
    if (param.isValid()) {
      if (allHaveKey) {
        param.removeKey(param.getKey(time));
      } else {
        param.addKey({ time: time });
      }
    }
  });

  am.history.endFlag(flag);
};

p._onClickTgglHide = function () {
  if (this._isHidingSelectedElems) {
    this._showSelectedElems();
  } else {
    this._hideSelectedElems();
  }
};

p._onClickName = function () {
  dialogTrackOptions.show({
    name: this._name,
    selectors: this._selectors,
    onChangeName: this._onChangeName,
    onChangeSelectors: this._onChangeSelectors });
};

p._onChangeName = function (name) {
  this.name = name;
};

p._onChangeSelectors = function (selectors) {
  this._selectors.length = 0;
  this._selectors = this._selectors.concat(selectors);

  this._refreshSelectedElems();
  this._refreshPlayer();

  if (this._selectedElems.indexOf(this._currHandledDe) === -1) {
    this._currHandledDe = undefined;
  }

  this.focusHandler(this._currHandledDe || this._selectedElems[0]);
};

p._onChangeHeight = function (selectors) {
  this.emit("changeHeight", this);
};






p._refreshPlayer = function () {
  if (this._player) this._player.kill();

  this._player = this.getPlayer();
};






p._isAllParamsHaveKey = function (time) {
  return this._endParams.every(function (param) {
    return param.getKey(time) || !param.isValid();
  });
};






// am.anims.myAnim.create({
//     targets: {
//         head: maci.$head,
//         floor: '#ground2',
//     }
// });






p.isOwnedDomElem = function (de) {
  return this._selectedElems.indexOf(de) !== -1;
};

p._refreshSelectedElems = function () {
  var list = [];

  this._selectors.forEach(function (selector) {
    if (selector.type === "css") {
      add(selector.value);
    } else if (selector.type === "input") {
      var parent = am.timeline.inputs;

      selector.value.split(".").every(function (name) {
        return parent = parent[name];
      });

      if (parent) {
        add(parent);
      }
    }
  });

  this._selectedElems = list;

  function add(item) {
    if (typeof (item) === "string") {
      var items = am.deRoot.querySelectorAll(item);
      items = Array.prototype.slice.call(items);
      list = list.concat(items);
    } else {
      list.push(item);
    }
  }
};

p.dispose = function () {
  am.timeline.removeListener("changeTime", this._onChangeTime);

  //TODO
};

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/KeyLineGroup":"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLineGroup.js","../../utils/OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","./CssParamGroup":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParamGroup.js","./dialogNewParam":"/home/azazdeaz/repos/animachine/src/editor/modules/css/dialogNewParam.js","./dialogTrackOptions":"/home/azazdeaz/repos/animachine/src/editor/modules/css/dialogTrackOptions.js","./paramFactory":"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramFactory.js","./script.player.mst":"/home/azazdeaz/repos/animachine/src/editor/modules/css/script.player.mst","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","transhand":"/home/azazdeaz/repos/animachine/node_modules/transhand/src/Transhand.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/cssModule.js":[function(require,module,exports){
"use strict";

var CssTrack = require("./CssTrack");
var ParamsTab = require("./paramsTab/ParamsTab");
var qsgen = require("../../qsgen");

var iconNew, paramsTab;

exports.init = function () {
  paramsTab = new ParamsTab();

  am.registerTrackType(CssTrack, CssTrack.prototype.type);

  am.on("selectDomElement", onSelectDomElement);

  am.workspace.fillTab("Css Style", paramsTab.domElem);

  am.domPicker.setRightLeftBtn({
    icon: "plus",
    tooltip: "create a new css track with this element",
    onClick: function () {
      am.domPicker.hide();

      var selector = qsgen(am.selectedDomElem);
      console.log("selector:", selector);

      var track = new CssTrack({
        selectors: [{ type: "css", value: selector }],
        name: selector
      });

      am.timeline.addTrack(track);

      am.selectTrack(track);
    }
  });
};

function onSelectDomElement(de) {
  am.timeline.tracks.forEach(function (track) {
    if (track instanceof CssTrack) {
      if (track.isOwnedDomElem(de)) {
        am.selectTrack(track);
        track.focusHandler(de);
        am.domPicker.hide();
      } else {
        if (am.selectedTrack === track) {
          am.deselectTrack();
        }
      }
    }
  });
}

},{"../../qsgen":"/home/azazdeaz/repos/animachine/src/editor/qsgen.js","./CssTrack":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssTrack.js","./paramsTab/ParamsTab":"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramsTab/ParamsTab.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/dialogNewParam.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var Dialog = require("../../utils/Dialog");
var StringInput = require("../../utils/StringInput");

var inited = false, inpParamName, dialog = new Dialog({
  title: "New param" });
module.exports = dialog;

dialog.addButton("add", function () {
  if (inpParamName.value) {
    dialog.track.addParam({ name: inpParamName.value });
  }

  dialog.hide();
});
dialog.addButton("close", "hide");

dialog.on("show", function () {
  createContent();

  inpParamName.value = "";
});



dialog.addProperty({ name: "track" });


function createContent() {
  if (inited) return;
  inited = true;

  var suggestions = getCssParams().map(function (suggestion) {
    return { value: suggestion.property };
  });

  inpParamName = new StringInput({
    parent: dialog.deContent,
    placeholder: "css parameter name",
    suggestions: suggestions
  });
  window.inpParamName = inpParamName;
}


// https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_values_syntax

// var mdnCssSyntax = [];
// $('tbody tr').each(function () {
//     var children = $(this).children();

//     mdnCssSyntax.push({
//         property: $(children[0]).text(),
//         syntax: $(children[1]).text(),
//         initialValue: $(children[2]).text(),
//         inherited: $(children[3]).text(),
//         media: $(children[4]).text(),
//     });
// });
// mdnCssSyntax;
// JSON.stringify(mdnCssSyntax, null, 2);

function getCssParams() {
  return [{
    property: "animation",
    syntax: "<single-animation-name> || <time> || <timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state>",
    initialValue: "the concatenation of the initial values of its longhand properties:animation-name: noneanimation-duration: 0sanimation-timing-function: easeanimation-delay: 0sanimation-iteration-count: 1animation-direction: normalanimation-fill-mode: noneanimation-play-state: running",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-delay",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-direction",
    syntax: "<single-animation-direction>#\n    where <single-animation-direction> = normal | reverse | alternate | alternate-reverse",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-duration",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-fill-mode",
    syntax: "<single-animation-fill-mode>#\n    where <single-animation-fill-mode> = none | forwards | backwards | both",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-iteration-count",
    syntax: "<single-animation-iteration-count>#\n    where <single-animation-iteration-count> = infinite | <number>",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-name",
    syntax: "<single-animation-name>#\n    where <single-animation-name> = none | IDENT",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-play-state",
    syntax: "<single-animation-play-state>#\n    where <single-animation-play-state> = running | paused",
    initialValue: "running",
    inherited: "no",
    media: "visual"
  }, {
    property: "animation-timing-function",
    syntax: "<timing-function>#",
    initialValue: "ease",
    inherited: "no",
    media: "visual"
  }, {
    property: "transition",
    syntax: "[ none | <single-transition-property> ] || <time> || <timing-function> || <time>",
    initialValue: "the concatenation of the initial values of its longhand properties:transition-delay: 0stransition-duration: 0stransition-property: alltransition-timing-function: ease",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-delay",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-duration",
    syntax: "<time>#",
    initialValue: "0s",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transition-property",
    syntax: "none | <single-transition-property>#\u00a0 [ \u2018,\u2019 <single-transition-property># ]*\n    \n    where <single-transition-property> = all | IDENT",
    initialValue: "all",
    inherited: "no",
    media: "visual"
  }, {
    property: "transition-timing-function",
    syntax: "<timing-function>#",
    initialValue: "ease",
    inherited: "no",
    media: "interactive"
  }, {
    property: "transform",
    syntax: "none | <transform-function>+",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "transform-origin",
    syntax: "[ <percentage> | <length> | left | center | right | top | bottom] | [ [ <percentage> | <length> | left | center | right ] && [ <percentage> | <length> | top | center | bottom ] ] <length>?",
    initialValue: "50% 50% 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "transform-style",
    syntax: "flat | preserve-3d",
    initialValue: "flat",
    inherited: "no",
    media: "visual"
  }, {
    property: "perspective",
    syntax: "none | <length>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "perspective-origin",
    syntax: "[ <percentage> | <length> | left | center | right | top | bottom] | [ [ <percentage> | <length> | left | center | right ] && [ <percentage> | <length> | top | center | bottom ] ]",
    initialValue: "50% 50%",
    inherited: "no",
    media: "visual"
  }, {
    property: "backface-visibility",
    syntax: "visible | hidden",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "color",
    syntax: "<color>",
    initialValue: "Varies from one browser to another",
    inherited: "yes",
    media: "visual"
  }, {
    property: "opacity",
    syntax: "<number>",
    initialValue: "1.0",
    inherited: "no",
    media: "visual"
  }, {
    property: "columns",
    syntax: "<'column-width'> || <'column-count'>",
    initialValue: "the concatenation of the initial values of its longhand properties:column-width: autocolumn-count: auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-width",
    syntax: "<length> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-count",
    syntax: "<number> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-gap",
    syntax: "<length> | normal",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule",
    syntax: "<'column-rule-width'> || <'column-rule-style'> || <'column-rule-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:column-rule-width: mediumcolumn-rule-style: nonecolumn-rule-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-rule-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "break-before",
    syntax: "auto | always | avoid | left | right | page | column | avoid-page | avoid-colum",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "break-after",
    syntax: "auto | always | avoid | left | right | page | column | avoid-page | avoid-colum",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "break-inside",
    syntax: "auto | avoid | avoid-page | avoid-column",
    initialValue: "auto",
    inherited: "no",
    media: "paged"
  }, {
    property: "column-span",
    syntax: "none | all",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "column-fill",
    syntax: "auto | balance",
    initialValue: "balance",
    inherited: "no",
    media: "visual, but, in continuous media, has no effect in overflow columns"
  }, {
    property: "hyphens",
    syntax: "none | manual | auto",
    initialValue: "manual",
    inherited: "yes",
    media: "visual"
  }, {
    property: "letter-spacing",
    syntax: "normal | <length>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-wrap",
    syntax: "normal | break-word",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "overflow-wrap",
    syntax: "normal | break-word",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-transform",
    syntax: "none | capitalize | uppercase | lowercase | full-width",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "tab-size",
    syntax: "| <length\"><integer> | <length>",
    initialValue: "8",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-align",
    syntax: "start | end | left | right | center | justify | match-parent | start end",
    initialValue: "start, or a nameless value that acts as left if direction is ltr, right if direction is rtl if start is not supported by the browser.",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-align-last",
    syntax: "auto | start | end | left | right | center | justify",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-indent",
    syntax: "<length> | <percentage> && [ hanging || each-line ]",
    initialValue: "0",
    inherited: "yes",
    media: "visual"
  }, {
    property: "direction",
    syntax: "ltr | rtl",
    initialValue: "ltr",
    inherited: "yes",
    media: "visual"
  }, {
    property: "white-space",
    syntax: "normal | pre | nowrap | pre-wrap | pre-line",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-break",
    syntax: "normal | break-all | keep-all",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "word-spacing",
    syntax: "normal | <length>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "line-break",
    syntax: "auto | loose | normal | strict",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration",
    syntax: "<'text-decoration-line'> || <'text-decoration-style'> || <'text-decoration-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:text-decoration-color: currentColortext-decoration-style: solidtext-decoration-line: none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-style",
    syntax: "solid | double | dotted | dashed | wavy",
    initialValue: "solid",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-line",
    syntax: "none | [ underline || overline || line-through || blink ]",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-decoration-skip",
    syntax: "none | [ objects || spaces || ink || edges || box-decoration ]",
    initialValue: "objects",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-shadow",
    syntax: "none | <shadow-t>#\n    where <shadow-t> = [ <length>{2,3} && <color>? ]",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "text-underline-position",
    syntax: "auto | [ under || [ left | right ] ]",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "align-content",
    syntax: "flex-start | flex-end | center | space-between | space-around | stretch",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "align-items",
    syntax: "flex-start | flex-end | center | baseline | stretch",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "align-self",
    syntax: "auto | flex-start | flex-end | center | baseline | stretch",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-basis",
    syntax: "content | <'width'>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-direction",
    syntax: "row | row-reverse | column | column-reverse",
    initialValue: "row",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-flow",
    syntax: "<'flex-direction'> || <'flex-wrap'>",
    initialValue: "the concatenation of the initial values of its longhand properties:flex-direction: rowflex-wrap: nowrap",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-grow",
    syntax: "<number>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-shrink",
    syntax: "<number>",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex",
    syntax: "none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]",
    initialValue: "the concatenation of the initial values of its longhand properties:flex-grow: 0flex-shrink: 1flex-basis: auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "flex-wrap",
    syntax: "nowrap | wrap | wrap-reverse",
    initialValue: "nowrap",
    inherited: "no",
    media: "visual"
  }, {
    property: "justify-content",
    syntax: "flex-start | flex-end | center | space-between | space-around",
    initialValue: "flex-start",
    inherited: "no",
    media: "visual"
  }, {
    property: "order",
    syntax: "<integer>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "background",
    syntax: "[ <bg-layer> , ]* <final-bg-layer>\n    where <bg-layer> = <bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2}\n    and <final-bg-layer> = <bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2} || <'background-color'>",
    initialValue: "the concatenation of the initial values of its longhand properties:background-image: nonebackground-position: 0% 0%background-size: auto autobackground-repeat: repeatbackground-origin: padding-boxbackground-style: is itself a shorthand, its initial value is the concatenation of its own longhand propertiesbackground-clip: border-boxbackground-color: transparent",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-attachment",
    syntax: "<attachment>#\n    where <attachment> = scroll | fixed | local",
    initialValue: "scroll",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-clip",
    syntax: "<box>#\n    where <box> = border-box | padding-box | content-box",
    initialValue: "border-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-color",
    syntax: "<color>",
    initialValue: "transparent",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-image",
    syntax: "<bg-image>#\n    where <bg-image> = none | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-origin",
    syntax: "<box>#",
    initialValue: "padding-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-position",
    syntax: "<position>#",
    initialValue: "0% 0%",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-repeat",
    syntax: "<repeat-style>#\n    where <repeat-style> = repeat-x | repeat-y | [repeat | space | round | no-repeat]{1,2}",
    initialValue: "repeat",
    inherited: "no",
    media: "visual"
  }, {
    property: "background-size",
    syntax: "<bg-size>#\n    where <bg-size> = [ <length> | <percentage> | auto ]{1,2} | cover | contain",
    initialValue: "auto auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "border",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-width: the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-right-width: mediumborder-bottom-width: mediumborder-left-width: mediumborder-style: the concatenation of the initial values of its longhand properties:border-top-style: noneborder-right-style: noneborder-bottom-style: noneborder-left-style: noneborder-color: the concatenation of the initial values of its longhand properties:border-top-color: currentColorborder-right-color: currentColorborder-bottom-color: currentColorborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-bottom-width: mediumborder-bottom-style: noneborder-bottom-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-left-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-right-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-bottom-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-color",
    syntax: "<color>{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-color: currentColorborder-right-color: currentColorborder-bottom-color: currentColorborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image",
    syntax: "<'border-image-source'> || <'border-image-slice'> [ / <'border-image-width'> | / <'border-image-width'>? / <'border-image-outset'> ]? || <'border-image-repeat'>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-image-source: noneborder-image-slice: 100%border-image-width: 1border-image-outset: 0sborder-image-repeat: stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-outset",
    syntax: "[ <length> | <number> ]{1,4}",
    initialValue: "0s",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-repeat",
    syntax: "[ stretch | repeat | round ]{1,2}",
    initialValue: "stretch",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-slice",
    syntax: "[<number> | <percentage>]{1,4} && fill?",
    initialValue: "100%",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-source",
    syntax: "none | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-image-width",
    syntax: "[ <length> | <percentage> | <number> | auto ]{1,4}",
    initialValue: "1",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-left-width: mediumborder-left-style: noneborder-left-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-left-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-radius",
    syntax: "[ <length> | <percentage> ]{1,4} [ / [ <length> | <percentage> ]{1,4} ]?",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-left-radius: 0border-top-right-radius: 0border-bottom-right-radius: 0border-bottom-left-radius: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-right-width: mediumborder-right-style: noneborder-right-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-right-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-style",
    syntax: "<br-style>{1,4}\n    where <br-style> = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-style: noneborder-right-style: noneborder-bottom-style: noneborder-left-style: none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top",
    syntax: "<br-width> || <br-style> || <color>",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-top-style: noneborder-top-color: currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-color",
    syntax: "<color>",
    initialValue: "currentColor",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-left-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-right-radius",
    syntax: "[ <length> | <percentage> ]{1,2}",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-style",
    syntax: "<br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-top-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "border-width",
    syntax: "<br-width>{1,4}\n    where <br-width> = <length> | thin | medium | thick",
    initialValue: "the concatenation of the initial values of its longhand properties:border-top-width: mediumborder-right-width: mediumborder-bottom-width: mediumborder-left-width: medium",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-decoration-break",
    syntax: "slice | clone",
    initialValue: "slice",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-shadow",
    syntax: "none | <shadow>#\n    where <shadow> = inset? && [ <length>{2,4} && <color>? ]",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin",
    syntax: "[ <length> | <percentage> | auto ]{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:margin-bottom: 0margin-left: 0margin-right: 0margin-top: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-bottom",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-left",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-right",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "margin-top",
    syntax: "<length> | <percentage> | auto",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding",
    syntax: "[ <length> | <percentage> ]{1,4}",
    initialValue: "the concatenation of the initial values of its longhand properties:padding-bottom: 0padding-left: 0padding-right: 0padding-top: 0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-bottom",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-left",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-right",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "padding-top",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "box-sizing",
    syntax: "content-box | padding-box | border-box",
    initialValue: "content-box",
    inherited: "no",
    media: "visual"
  }, {
    property: "max-height",
    syntax: "<length> | <percentage> | none | max-content | min-content | fit-content | fill-available",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "min-height",
    syntax: "<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "height",
    syntax: "auto | <length> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "max-width",
    syntax: "<length> | <percentage> | none | max-content | min-content | fit-content | fill-available",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "min-width",
    syntax: "<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "width",
    syntax: "[<length> | <percentage>] && [border-box | content-box]? | available | min-content | max-content | fit-content | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow-x",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "overflow-y",
    syntax: "visible | hidden | scroll | auto",
    initialValue: "visible",
    inherited: "no",
    media: "visual"
  }, {
    property: "visibility",
    syntax: "visible | hidden | collapse",
    initialValue: "visible",
    inherited: "yes",
    media: "visual"
  }, {
    property: "border-collapse",
    syntax: "collapse | separate",
    initialValue: "separate",
    inherited: "yes",
    media: "visual"
  }, {
    property: "border-spacing",
    syntax: "<length> <length>?",
    initialValue: "0",
    inherited: "yes",
    media: "visual"
  }, {
    property: "caption-side",
    syntax: "top | bottom",
    initialValue: "top",
    inherited: "yes",
    media: "visual"
  }, {
    property: "empty-cells",
    syntax: "show | hide",
    initialValue: "show",
    inherited: "yes",
    media: "visual"
  }, {
    property: "table-layout",
    syntax: "auto | fixed",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "vertical-align",
    syntax: "baseline | sub | super | text-top | text-bottom | middle | top | bottom | <percentage> | <length>",
    initialValue: "baseline",
    inherited: "no",
    media: "visual"
  }, {
    property: "bottom",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "left",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "right",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "top",
    syntax: "<length> | <percentage> | auto",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "float",
    syntax: "left | right | none",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "clear",
    syntax: "none | left | right | both",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "position",
    syntax: "static | relative | absolute | sticky | fixed",
    initialValue: "static",
    inherited: "no",
    media: "visual"
  }, {
    property: "z-index",
    syntax: "auto | <integer>",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "font",
    syntax: "[ [ <\u2018font-style\u2019> || <font-variant-css21> || <\u2018font-weight\u2019> || <\u2018font-stretch\u2019> ]? <\u2018font-size\u2019> [ / <\u2018line-height\u2019> ]? <\u2018font-family\u2019> ] | caption | icon | menu | message-box | small-caption | status-bar",
    initialValue: "the concatenation of the initial values of its longhand properties:font-style: normalfont-variant: normalfont-weight: normalfont-stretch: normalfont-size: mediumline-height: normalfont-family: depends on user agent",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-family",
    syntax: "[ <family-name> | <generic-family> ]#\n    where <family-name> = <string> | <IDENT>+\n    and <generic-name> = serif | sans-serif | cursive | fantasy | monospace",
    initialValue: "depends on user agent",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant",
    syntax: "normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> || stylistic(<feature-value-name>) || historical-forms || styleset(<feature-value-name> #) || character-variant(<feature-value-name> #) || swash(<feature-value-name>) || ornaments(<feature-value-name>) || annotation(<feature-value-name>) || [ small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps ] || <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero || <east-asian-variant-values> || <east-asian-width-values> || ruby ] ",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-weight",
    syntax: "normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-stretch",
    syntax: "normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-size",
    syntax: "<absolute-size> | <relative-size> | <length> | <percentage>\n    where <absolute-size> = xx-small | s-small | small | medium | large | x-large | xx-large\n    and <relative-size> = larger | smaller",
    initialValue: "medium",
    inherited: "yes",
    media: "visual"
  }, {
    property: "line-height",
    syntax: "normal | <number> | <length> | <percentage>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-feature-settings",
    syntax: "normal | <feature-tag-value>#\n    where <feature-tag-value> = <string> [ <integer> | on | off ]?",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-language-override",
    syntax: "normal | <string>",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-size-adjust",
    syntax: "none | <number>",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-style",
    syntax: "normal | italic | oblique",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-synthesis",
    syntax: "none | [ weight || style ]",
    initialValue: "weight style",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-kerning",
    syntax: "auto | normal | none",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-ligatures",
    syntax: "normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> ]\n    where <common-lig-values> = [ common-ligatures | no-common-ligatures ]\n    and <discretionary-lig-values> = [ discretionary-ligatures | no-discretionary-ligatures ]\n    and <historical-lig-values> = [ historical-ligatures | no-historical-ligatures ]\n    and <contextual-alt-values> = [ contextual | no-contextual ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-position",
    syntax: "normal | sub | super",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-caps",
    syntax: "normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-numeric",
    syntax: "normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]\n    where <numeric-figure-values> = [ lining-nums | oldstyle-nums ]\n    and <numeric-spacing-values> = [ proportional-nums | tabular-nums ]\n    and <numeric-fraction-values> = [ diagonal-fractions | stacked-fractions ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-east-asian",
    syntax: "normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ] \n    where <east-asian-variant-values> = [ jis78 | jis83 | jis90 | jis04 | simplified | traditional ]\n    and <east-asian-width-values> = [ full-width | proportional-width ]",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "font-variant-alternates",
    syntax: "normal | [ stylistic(<feature-value-name>) || historical-forms || styleset(<feature-value-name> #) || character-variant(<feature-value-name> #) || swash(<feature-value-name>) || ornaments(<feature-value-name>) || annotation(<feature-value-name>) ] \n    where <feature-value-name> = IDENT",
    initialValue: "normal",
    inherited: "yes",
    media: "visual"
  }, {
    property: "object-fit",
    syntax: "fill | contain | cover | none | scale-down",
    initialValue: "fill",
    inherited: "yes",
    media: "visual"
  }, {
    property: "object-position",
    syntax: "<position>",
    initialValue: "50% 50%",
    inherited: "yes",
    media: "visual"
  }, {
    property: "image-rendering",
    syntax: "auto | crisp-edges | pixelated",
    initialValue: "auto",
    inherited: "yes",
    media: "visual"
  }, {
    property: "image-orientation",
    syntax: "from-image | <angle> | [<angle>? flip]",
    initialValue: "0deg",
    inherited: "yes",
    media: "visual"
  }, {
    property: "counter-increment",
    syntax: "[<user-ident> <integer>?]+ | none",
    initialValue: "none",
    inherited: "no",
    media: "all"
  }, {
    property: "counter-reset",
    syntax: "[<user-ident> <integer>?]+ | none",
    initialValue: "none",
    inherited: "no",
    media: "all"
  }, {
    property: "list-style",
    syntax: "<'list-style-type'> || <'list-style-position'> || <'list-style-image'>",
    initialValue: "the concatenation of the initial values of its longhand properties:list-style-type: disclist-style-position: outsidelist-style-image: none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-image",
    syntax: "<uri> | none",
    initialValue: "none",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-position",
    syntax: "inside | outside",
    initialValue: "outside",
    inherited: "yes",
    media: "visual"
  }, {
    property: "list-style-type",
    syntax: "disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none",
    initialValue: "disc",
    inherited: "yes",
    media: "visual"
  }, {
    property: "orphans",
    syntax: "<integer>",
    initialValue: "2",
    inherited: "yes",
    media: "visual, paged"
  }, {
    property: "page-break-after",
    syntax: "auto | always | avoid | left | right",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "page-break-before",
    syntax: "auto | always | avoid | left | right",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "page-break-inside",
    syntax: "auto | avoid",
    initialValue: "auto",
    inherited: "no",
    media: "visual, paged"
  }, {
    property: "widows",
    syntax: "<integer>",
    initialValue: "2",
    inherited: "yes",
    media: "visual, paged"
  }, {
    property: "outline",
    syntax: "<'outline-color'> || <'outline-style'> || <'outline-width'>",
    initialValue: "the concatenation of the initial values of its longhand properties:outline-color: invert, for browsers supporting it, currentColor for the otheroutline-style: noneoutline-width: medium",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-color",
    syntax: "<color> | invert",
    initialValue: "invert, for browsers supporting it, currentColor for the other",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-width",
    syntax: "<br-width>",
    initialValue: "medium",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-style",
    syntax: "auto | <br-style>",
    initialValue: "none",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "outline-offset",
    syntax: "<length>",
    initialValue: "0",
    inherited: "no",
    media: "visual, interactive"
  }, {
    property: "cursor",
    syntax: "[ [ <uri> [<x> <y>]?,]* [ auto | default | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out | grab | grabbing ] ]",
    initialValue: "auto",
    inherited: "yes",
    media: "visual, interactive"
  }, {
    property: "resize",
    syntax: "none | both | horizontal | vertical",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-overflow",
    syntax: "[ clip | ellipsis | <string> ]{1,2}",
    initialValue: "clip",
    inherited: "no",
    media: "visual"
  }, {
    property: "content",
    syntax: "normal | none | [ <string> | <uri> | <counter> | attr() | open-quote | close-quote | no-open-quote | no-close-quote ]+",
    initialValue: "normal",
    inherited: "no",
    media: "all"
  }, {
    property: "quotes",
    syntax: "[<string> <string>]+ | none",
    initialValue: "user agent specific",
    inherited: "yes",
    media: "visual"
  }, {
    property: "box-decoration-break",
    syntax: "slice | clone",
    initialValue: "slice",
    inherited: "no",
    media: "visual"
  }, {
    property: "clip",
    syntax: "<shape> | auto\n    where <shape> = rect(<top>, <right>, <bottom>, <left>)",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "display",
    syntax: "none | inline | block | list-item | inline-block | inline-table | table | table-cell | table-column | table-column-group | table-footer-group | table-header-group | table-row | table-row-group | flex | inline-flex | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents",
    initialValue: "inline",
    inherited: "no",
    media: "all"
  }, {
    property: "unicode-bidi",
    syntax: "normal | embed | isolate | bidi-override | isolate-override | plaintext",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "text-orientation",
    syntax: "mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation",
    initialValue: "mixed",
    inherited: "yes",
    media: "visual"
  }, {
    property: "ime-mode",
    syntax: "auto | normal | active | inactive | disabled",
    initialValue: "auto",
    inherited: "no",
    media: "interactive"
  }, {
    property: "all",
    syntax: "initial | inherit | unset",
    initialValue: "There is no practical initial value for it.",
    inherited: "no",
    media: "There is no practical media for it."
  }, {
    property: "will-change",
    syntax: "auto | <animateable-feature>#\n    where <animateable-feature> = scroll-position | contents | <custom-ident>",
    initialValue: "auto",
    inherited: "no",
    media: "all"
  }, {
    property: "background-blend-mode",
    syntax: "<blend-mode>#",
    initialValue: "normal",
    inherited: "no",
    media: "none"
  }, {
    property: "mix-blend-mode",
    syntax: "<blend-mode>",
    initialValue: "normal",
    inherited: "no",
    media: "visual"
  }, {
    property: "isolation",
    syntax: "auto | isolate",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-outside",
    syntax: "none | <shape-box> || <basic-shape> | <image>",
    initialValue: "none",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-margin",
    syntax: "<length> | <percentage>",
    initialValue: "0",
    inherited: "no",
    media: "visual"
  }, {
    property: "shape-image-threshold",
    syntax: "<number>",
    initialValue: "0.0",
    inherited: "no",
    media: "visual"
  }, {
    property: "touch-action",
    syntax: "auto | none | [ pan-x || pan-y ] | manipulation",
    initialValue: "auto",
    inherited: "no",
    media: "visual"
  }, {
    property: "@viewport/min-width",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-width",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/width",
    syntax: "<viewport-length>{1,2}",
    initialValue: "the concatenation of the initial values of its longhand properties:@viewport/min-width: is itself a shorthand, its initial value is the concatenation of its own longhand properties@viewport/max-width: is itself a shorthand, its initial value is the concatenation of its own longhand properties",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/min-height",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-height",
    syntax: "<viewport-length>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/height",
    syntax: "<viewport-length>{1,2}",
    initialValue: "the concatenation of the initial values of its longhand properties:@viewport/min-height: is itself a shorthand, its initial value is the concatenation of its own longhand properties@viewport/max-height: is itself a shorthand, its initial value is the concatenation of its own longhand properties",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/min-zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/max-zoom",
    syntax: "auto | <number> | <percentage>",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/user-zoom",
    syntax: "zoom | fixed",
    initialValue: "zoom",
    inherited: "no",
    media: "visual, continuous"
  }, {
    property: "@viewport/orientation",
    syntax: "auto | portrait | landscape",
    initialValue: "auto",
    inherited: "no",
    media: "visual, continuous"
  }];
}

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js","../../utils/StringInput":"/home/azazdeaz/repos/animachine/src/editor/utils/StringInput.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/dialogTrackOptions.js":[function(require,module,exports){
"use strict";

var amgui = require("../../amgui");
var Dialog = require("../../utils/Dialog");
var UnitInput = require("../../utils/UnitInput");
var StringInput = require("../../utils/StringInput");
var OptionLine = require("../../utils/OptionLine");

var deSelectorCont, deSelectors = [], dialog = new Dialog({
  title: "Track" });
module.exports = dialog;

createContent();
dialog.addButton("ok", "hide");



dialog.addProperty({ name: "repeat", startValue: 0 });
dialog.addProperty({ name: "repeatDelay", startValue: 0 });
dialog.addProperty({ name: "yoyo", startValue: false });
dialog.addProperty({ name: "keyStretch", startValue: 1 });
dialog.addProperty({
  name: "selectors",
  startValue: [],
  set: function (v) {
    deSelectors.slice().map(removeSelector);
    v.forEach(addSelector);
    dialog.emit("changeSelectors", dialog.selectors);
  },
  get: function () {
    return _.pluck(deSelectors, "value");
  }
});


function createContent() {
  amgui.createLabel({
    caption: "Name: ",
    fontSize: "18px",
    parent: dialog.deContent
  });

  var inpTitle = new StringInput({
    parent: dialog.deContent });
  inpTitle.domElem.style.width = "245px";
  inpTitle.domElem.style.fontSize = "14px";
  inpTitle.domElem.style.fontFamily = amgui.FONT_FAMILY;
  inpTitle.domElem.style.background = "none";
  inpTitle.domElem.style.border = "none";
  inpTitle.domElem.style.marginBottom = "12px";
  inpTitle.domElem.style.color = amgui.color.text;
  inpTitle.on("change", function (v) {
    dialog.title = v;
  });
  dialog.on("changeTitle", function () {
    inpTitle.value = dialog.title;
  });

  amgui.createLabel({
    caption: "Selectors",
    fontSize: "18px",
    display: "block",
    parent: dialog.deContent
  });

  deSelectorCont = amgui.createDiv({
    width: "100%",
    parent: dialog.deContent });

  amgui.createIconBtn({
    icon: "hash",
    display: "inline-block",
    onClick: addSelector.bind(null, ""),
    parent: dialog.deContent
  });

  amgui.createIconBtn({
    icon: "code",
    display: "inline-block",
    onClick: function () {
      am.dialogs.WIP.show();
    },
    parent: dialog.deContent,
    tooltip: "select from options"
  });

  amgui.createLinebreak({ parent: dialog.deContent });

  var optRepeat = new OptionLine({
    title: "repeat",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeat",
      min: -1,
      units: ["x"],
      onChange: function (v) {
        dialog.repeat = v;
      }
    }] });
  dialog.on("changeRepeat", function () {
    optRepeat.inputs.repeat.value = dialog.repeat;
  });
  $(optRepeat.domElem).one("mousedown", showWIPDialog);

  var optRepeatDelay = new OptionLine({
    title: "repeat delay",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "repeatDelay",
      min: 0,
      precision: 3,
      dragSpeed: 0.001,
      units: ["sec"],
      onChange: function (v) {
        dialog.repeatDelay = v;
      }
    }] });
  dialog.on("changeRepeatDelay", function () {
    optRepeatDelay.inputs.repeatDelay.value = dialog.repeatDelay;
  });
  $(optRepeatDelay.domElem).one("mousedown", showWIPDialog);

  var optKeyStretch = new OptionLine({
    title: "key stretch",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "keyStretch",
      min: 0,
      dragSpeed: 0.01,
      precision: 3,
      units: ["x"],
      onChange: function (v) {
        dialog.keyStretch = v;
      }
    }] });
  dialog.on("changeKeyStretch", function () {
    optKeyStretch.inputs.keyStretch.value = dialog.keyStretch;
  });
  $(optKeyStretch.domElem).one("mousedown", showWIPDialog);

  var cbYoyo = amgui.createCheckbox({
    text: "yoyo",
    onChange: function (e) {
      dialog.yoyo = e.detail.checked;
    },
    parent: dialog.deContent });
  dialog.on("changeYoyo", function () {
    cbYoyo.checked = dialog.yoyo;
  });
  $(cbYoyo).one("click", showWIPDialog);

  function showWIPDialog() {
    am.dialogs.WIP.show();
  }
}

function addSelector(value) {
  var selector = {
    value: value || "" };
  dialog.selectors.push(selector);

  var height = 23;

  selector.domElem = document.createElement("div");
  selector.domElem.style.display = "flex";
  selector.domElem.style.height = height + "px";
  selector.domElem.style.paddingLeft = "2px";
  selector.domElem.style.margin = "1px 0";
  selector.domElem.style.background = amgui.color.bg2;
  deSelectorCont.appendChild(selector.domElem);

  var inp = document.createElement("input");
  inp.type = "text";
  inp.value = value;
  inp.placeholder = "selector";
  inp.style.width = "245px";
  inp.style.height = height + "px";
  inp.style.fontSize = "14px";
  inp.style.fontFamily = amgui.FONT_FAMILY;
  inp.style.flex = "1";
  inp.style.background = "none";
  inp.style.border = "none";
  inp.style.color = amgui.color.text;
  selector.domElem.appendChild(inp);

  inp.addEventListener("change", function () {
    selector.value = inp.value;
    dialog.emit("changeSelectors", dialog.selectors);
  });

  var btnDel = amgui.createIconBtn({
    icon: "cancel",
    height: height,
    display: "inline-block",
    onClick: removeSelector.bind(null, selector),
    parent: selector.domElem
  });
  btnDel.style.visibility = "hidden";

  selector.domElem.addEventListener("mouseenter", function () {
    btnDel.style.visibility = "visible";
  });
  selector.domElem.addEventListener("mouseleave", function () {
    btnDel.style.visibility = "hidden";
  });
}

function removeSelector(selector) {
  dialog.selectors.splice(dialog.selectors.indexOf(selector), 1);

  selector.domElem.parentNode.removeChild(selector.domElem);
}

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js","../../utils/OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","../../utils/StringInput":"/home/azazdeaz/repos/animachine/src/editor/utils/StringInput.js","../../utils/UnitInput":"/home/azazdeaz/repos/animachine/src/editor/utils/UnitInput.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramFactory.js":[function(require,module,exports){
"use strict";

var CssParam = require("./CssParam");
var BezierCssParam = require("./BezierCssParam");
var CssParamGroup = require("./CssParamGroup");
var amgui = require("../../amgui");

var defaultHidden = "z,rotationX,rotationY,scaleZ,perspectiveOriginX,transformOriginZ".split(",");

module.exports = {
  create: function (opt) {
    var paramOpt = {
      name: opt.name,
      keys: opt.keys,
      optionLine: {
        inputs: [{ name: "input" }]
      }
    }, input = paramOpt.optionLine.inputs[0];


    switch (opt.name) {
      case "x":
      case "y":
      case "z":
      case "transformOriginZ":
        paramOpt.defaultValue = "0px";
        input.units = ["px"];
        break;

      case "scaleX":
      case "scaleY":
      case "scaleZ":
        // input.units = [''];
        input.type = "unit";
        paramOpt.defaultValue = 1;
        input.dragSpeed = 0.01;
        input.precision = 2;
        break;

      case "rotateX":
      case "rotateY":
      case "rotateZ":
        paramOpt.defaultValue = "0deg";
        input.units = ["deg", "rad"];
        input.precision = 1;
        input.conterters = {
          deg2rad: function (deg) {
            return deg / 180 * Math.PI;
          },
          rad2deg: function (rad) {
            return rad / Math.PI * 180;
          } };
        break;

      case "transformOriginX":
      case "transformOriginY":
        paramOpt.defaultValue = "50%";
        input.units = ["%"];
        input.dragSpeed = 0.01;
        input.precision = 2;
        break;

      case "color":
      case "borderColorTop":
      case "borderColorRight":
      case "borderColorBottom":
      case "borderColorLeft":
      case "backgroundColor":
        input.type = "color";
        break;

      case "borderWidth":
      case "top":
      case "right":
      case "bottom":
      case "left":
      case "width":
      case "height":
        input.units = ["px"];
        break;

      case "opacity":
        paramOpt.defaultValue = 1;
        input.type = "unit";
        input.dragSpeed = 0.01;
        input.precision = 2;
        input.min = 0;
        input.max = 1;
        break;

    }

    if (defaultHidden.indexOf(opt.name) !== -1) {
      if (!("hidden" in opt)) {
        paramOpt.hidden = true;
      }
    }

    if (input.units) {
      input.type = "unit";
    }

    var param;

    if (opt.name === "bezier") {
      param = new BezierCssParam(paramOpt);
    } else {
      param = new CssParam(paramOpt);
    }

    return param;
  },

  createGroup: function (opt) {
    opt = opt || {};

    var pgOpt = {
      name: opt.name,
      optionLine: {
        inputs: [] } };

    if (opt.name === "translate") {
      pgOpt.optionLine.inputs.push({ name: "x", type: "unit", units: ["px"] });
      pgOpt.optionLine.inputs.push({ name: "y", type: "unit", units: ["px"] });
    }

    var paramGroup = new CssParamGroup(pgOpt);

    if (opt.name === "translate") {
      paramGroup.optionLine.addButton({
        domElem: amgui.createIconBtn({
          icon: "vector",
          tooltip: "use bezier path",
          onClick: function () {
            paramGroup.emit("translateToBezier");
          } }),
        name: "bezier" });
    }

    return paramGroup;
  },

  getRootParamGroupName: function (paramName) {
    return Object.keys(groups).find(function (rootKey) {
      return search(groups[rootKey]);
    });

    function search(group) {
      if (_.isArray(group)) {
        if (group.indexOf(paramName) !== -1) {
          return true;
        }
      } else {
        for (var key in group) {
          if (search(group[key])) {
            return true;
          }
        }
      }
    }
  },

  getGroupMemberNames: function (path) {
    var group = groups;

    path = path.slice();

    while (path.length) {
      group = group[path.shift()];
    };

    if (_.isPlainObject(group)) group = Object.keys(group);

    return group || [];
  } };



var groups = {
  padding: ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"],
  margin: ["marginTop", "marginRight", "marginBottom", "marginLeft"],
  border: {
    width: ["borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"],
    radius: ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomLeftRadius", "borderBottomRightRadius"],
    color: ["borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor"],
    style: ["borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle"] },
  backgroundPosition: ["backgroundPositionX", "backgroundPositionY"],
  textShadow: ["textShadowX", "textShadowY", "textShadowBlur"],
  translate: ["x", "y", "z"],
  scale: ["scaleX", "scaleY", "scaleZ"],
  rotation: ["rotationX", "rotationY", "rotationZ"],
  skeew: ["skeewX", "skeewY"],
  perspectiveOrigin: ["perspectiveOriginX", "perspectiveOriginY", "perspectiveOriginZ"],
  transformOrigin: ["transformOriginX", "transformOriginY"],
  boxShadow: ["boxShadowX", "boxShadowY", "boxShadowBlur"],
  clip: ["clipTop", "clipRight", "clipBottom", "clipLeft"] };

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./BezierCssParam":"/home/azazdeaz/repos/animachine/src/editor/modules/css/BezierCssParam.js","./CssParam":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParam.js","./CssParamGroup":"/home/azazdeaz/repos/animachine/src/editor/modules/css/CssParamGroup.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramsTab/Input.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../../amgui");

function Input(opt) {
  EventEmitter.call(this);

  this._onChangeInput = this._onChangeInput.bind(this);
  this._onChangeParam = this._onChangeParam.bind(this);
  this._onSelect = this._onSelect.bind(this);
  this._onClickStepPrevKey = this._onClickStepPrevKey.bind(this);
  this._onClickStepNextKey = this._onClickStepNextKey.bind(this);
  this._onClickTgglKey = this._onClickTgglKey.bind(this);

  this._name = "";

  if ("name" in opt) this.name = opt.name;

  this._createBase();
}

inherits(Input, EventEmitter);
var p = Input.prototype;
module.exports = Input;



Object.defineProperties(p, {
  name: {
    set: function (v) {
      if (this._name === v) return;

      this._name = v;
    },
    get: function () {
      return this._name;
    }
  }
});

p.setParam = function (param) {
  if (this._currParam === param) return;

  this.removeParam();

  this._currParam = param;
  this._currParam.on("change", this._onChangeParam);

  this._refreshLayout();
};

p.removeParam = function () {
  if (!this._currParam) return;

  this._currParam.removeListener("change", this._onChangeParam);
};





p._onChangeInput = function () {
  this._currParam.addKey({
    time: am.timeline.currTime,
    value: this._inputValue.value });
};

p._onChangeParam = function () {
  this._refreshInput();
};

p._onClickStepPrevKey = function () {
  this._currParam.gotoPrevKey();
};

p._onClickStepNextKey = function () {
  this._currParam.gotoNextKey();
};

p._onClickTgglKey = function () {
  this._currParam.toggleKey();
};

p._onSelect = function () {
  if (!this._currParam) {
    this.emit("create", this);
  }
};






p._refreshInput = function () {
  var paramValue = this._currParam.getValue();

  if (this._inputValue.value !== paramValue) {
    this._inputValue.value = paramValue;
  }
};

p._refreshLayout = function () {
  var hasParam = !!this._currParam;

  this._iconAdd.style.display = hasParam ? "none" : "inline-block";
  this._inputValue.style.display = hasParam ? "inline-block" : "none";
  this._btnKey.style.display = hasParam ? "inline-block" : "none";
  this._labelName.style.color = hasParam ? amgui.color.text : amgui.color.textInactive;
};






p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "23px";

  this.domElem.addEventListener("click", this._onSelect);

  this._iconAdd = amgui.createIcon({
    icon: "plus",
    parent: this.domElem });

  this._labelName = amgui.createLabel({
    display: "inline-block",
    caption: this.name + " : ",
    parent: this.domElem });

  this._inputValue = amgui.createInput({
    flex: 1,
    fontSize: "16px",
    parent: this.domElem,
    onChange: this._onChangeInput });
  this._inputValue.style.padding = "0 5px";

  this._btnKey = amgui.createStepperKey({
    parent: this.domElem,
    onClickPrev: this._onClickStepPrevKey,
    onClickNext: this._onClickStepNextKey,
    onClick: this._onClickTgglKey });

  this._refreshLayout();
};

},{"../../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramsTab/ParamsTab.js":[function(require,module,exports){
"use strict";

var amgui = require("../../../amgui");
var Input = require("./Input");
var OptionLine = require("../../../utils/OptionLine");

function ParamsTab() {
  this._paramOptionLines = [];

  this._onSelectTrack = this._onSelectTrack.bind(this);
  this._onDeselectTrack = this._onDeselectTrack.bind(this);
  this._onTrackAddParam = this._onTrackAddParam.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeParam = this._onChangeParam.bind(this);

  this._createBase();

  am.on("selectTrack", this._onSelectTrack);
  am.on("deselectTrack", this._onDeselectTrack);
  am.timeline.on("changeTime", this._onChangeTime);
}

var p = ParamsTab.prototype;





p._onSelectTrack = function (track) {
  this._unlisten();

  this._currTrack = track;

  this._listen();
};

p._onDeselectTrack = function () {
  this._unlisten();
};


p._onInputChange = function (paramName, value) {
  if (!this._currTrack) return;

  var param = this._currTrack.getParam(paramName);

  if (!param) {
    param = this._currTrack.addParam({ name: paramName });
    param.addKey({ value: value });
  }
};

p._onTrackAddParam = function () {
  this._listen();
};

p._onChangeTime = function () {
  this._refreshKeyButtons();
};

p._onChangeParam = function () {
  this._refreshKeyButtons();
};






p._unlisten = function () {
  if (!this._currTrack) return;

  this._showHideNoTrackMsg(true);

  this._currTrack.removeListener("addParam", this._onTrackAddParam);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      param.removeListener("change", this._onChangeParam);
      param.detachInput(input);
      input.reset();
    }
  }, this);
};

p._listen = function () {
  this._currTrack.on("addParam", this._onTrackAddParam);

  this._showHideNoTrackMsg(false);

  this._forEachInput(function (input, paramName) {
    var param = this._currTrack.getParam(paramName);

    if (param) {
      input.value = param.getValue();
      param.attachInput(input);
      param.on("change", this._onChangeParam);
    }
  }, this);
};

p._showHideNoTrackMsg = function (show) {
  this._deMsgNoTrack.style.display = show ? "inline-block" : "none";
  this._deScrollCont.style.display = show ? "none" : "";
};

p._forEachInput = function (fn, thisArg) {
  this._paramOptionLines.forEach(function (optionLine) {
    Object.keys(optionLine.inputs).forEach(function (paramName) {
      fn.call(thisArg, optionLine.inputs[paramName], paramName);
    });
  }, this);
};










p._refreshKeyButtons = function () {
  if (this._currTrack) {
    this._paramOptionLines.forEach(function (optionLine) {
      optionLine.refreshKey();
    });
  }
};







p._createBase = function () {
  var that = this;

  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;

  this._deMsgNoTrack = amgui.createLabel({
    parent: this.domElem,
    color: amgui.color.textInactive,
    text: am.i18n.cssModule.noTrackSelected });

  this._deScrollCont = amgui.createDiv({
    display: "none",
    width: "100%",
    parent: this.domElem });

  amgui.makeScrollable({
    deCont: this.domElem,
    deTarget: this._deScrollCont
  });

  var boderStyleOptions = "none,hidden,dotted,dashed,solid,double,groove,ridge,inset,outset,initial,inherit".split(",");

  var paramTree = [{
    title: "font",
    children: [{ title: "font-family", input: "string" }, { title: "font-size", input: "string" }, { title: "font-weight", input: "string" }, { title: "font-style", input: "string" }, { title: "font-variant", input: "string" }, { title: "text-transform", input: "string" }, { title: "text-decoration", input: "string" }, { title: "color", input: "color" }] }, { title: "border", children: [{ title: "borderColor", children: [{ title: "borderTopColor", input: "color" }, { title: "borderRightColor", input: "color" }, { title: "borderBottomColor", input: "color" }, { title: "borderLeftColor", input: "color" }] }, { title: "borderWidth", children: [{ title: "borderTopWidth", input: { type: "unit", units: ["px"] } }, { title: "borderRightWidth", input: { type: "unit", units: ["px"] } }, { title: "borderBottomWidth", input: { type: "unit", units: ["px"] } }, { title: "borderLeftWidth", input: { type: "unit", units: ["px"] } }] }, { title: "borderStyle", children: [{ title: "borderTopStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderRightStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderBottomStyle", input: { type: "select", options: boderStyleOptions } }, { title: "borderLeftStyle", input: { type: "select", options: boderStyleOptions } }] }] }, { title: "background", children: [] }, { title: "transform", children: [{ title: "translate", children: [{ title: "x", input: {} }, { title: "y", input: {} }, { title: "z", input: {} }] }, { title: "scale", children: [{ title: "scaleX", input: {} }, { title: "scaleY", input: {} }, { title: "scaleZ", input: {} }] }, { title: "rotation", children: [{ title: "rotationX", input: {} }, { title: "rotationY", input: {} }, { title: "rotationZ", input: {} }] }] }, { title: "layout", children: [] }];
  var build = function (nodeList, parent, indent) {
    nodeList.forEach(function (node) {
      var optionLine, isChildrenVisible = true;

      node.indent = indent;

      if (node.input) {
        if (typeof (node.input) === "string") {
          node.input = { type: node.input };
        }

        node.input.name = node.title;

        node.inputs = [node.input];
        delete node.input;
      }

      if (node.inputs) {
        node.btnKey = {
          onClick: function () {
            if (this._currTrack) {
              var param = this._currTrack.addParam({
                name: node.title });
              param.toggleKey();
            }
          }.bind(this) };
      }

      if (node.children) {
        node.tgglChildren = {
          onClick: onToggleChildren };
      }

      //create
      optionLine = new OptionLine(node);
      this._paramOptionLines.push(optionLine);

      //listen to inputs
      Object.keys(optionLine.inputs).forEach(function (inputName) {
        var changeHandler = this._onInputChange.bind(this, inputName);

        optionLine.inputs[inputName].on("change", changeHandler);
      }, this);


      //add param button
      var paramNames = collectParamNames(node);

      optionLine.refreshKey = function () {
        if (!optionLine.buttons.key) return;

        var hasKey = false;

        if (this._currTrack) {
          paramNames.forEach(function (paramName) {
            var time = am.timeline.currTime, param = this._currTrack.getParam(paramName);

            if (param && param.getKey(time)) {
              hasKey = true;
            }
          }, this);
        }

        optionLine.buttons.key.setHighlight(!!hasKey);
      }.bind(this);


      //append to parent
      if (parent.addSubline) {
        parent.addSubline(optionLine.domElem);
      } else {
        parent.appendChild(optionLine.domElem);
      }


      if (node.children) {
        onToggleChildren();

        build(node.children, optionLine, indent + 1);
      }


      function onToggleChildren() {
        isChildrenVisible = !isChildrenVisible;

        optionLine.buttons.tgglChildren.setToggle(isChildrenVisible);

        if (isChildrenVisible) {
          optionLine.showSubline();
        } else {
          optionLine.hideSubline();
        }
      }
    }, this);
  }.bind(this);

  build(paramTree, this._deScrollCont, 0);

  function collectParamNames(node) {
    var ret = [];

    if (node.children) {
      ret = ret.concat(node.children.forEach(collectParamNames));
    } else {
      ret.push(node.title);
    }

    return ret;
  }
};

module.exports = ParamsTab;

},{"../../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../../../utils/OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","./Input":"/home/azazdeaz/repos/animachine/src/editor/modules/css/paramsTab/Input.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/script.player.mst":[function(require,module,exports){
module.exports = "function (opt) {\n    \n    var timelines = {{{timelines}}},\n        animTargets = {{{animTargets}}},\n        rootTl = TimelineMax();\n\n    timelines.forEach(function (timeline) {\n\n        var prevTime = 0;\n\n        var tl = TimelineMax();\n        rootTl.add(tl);\n        \n        timeline.forEach(function (key, idx) {\n\n            tl.to(animTargets, key.duration, key.options);\n        });\n    });\n\n    return rootTl;\n}";

},{}],"/home/azazdeaz/repos/animachine/src/editor/modules/css/uncalc.js":[function(require,module,exports){
"use strict";

var rx = /^calc\((.*?)\)$/;

module.exports = function uncalc(value) {
  if (typeof (value) === "string" && value.indexOf("calc(") !== -1) {
    var m = rx.exec(value);
    return m ? "( " + m[1] + " )" : value;
  } else {
    return value;
  }
};

},{}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/Interval.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");

function Interval(opt) {
  EventEmitter.call(this);

  this._lineH = 21;
  this._start = 0;
  this._end = am.timeline.length;

  this._onDragResize = this._onDragResize.bind(this);
  this._onFinishResize = this._onFinishResize.bind(this);
  this._onDragMove = this._onDragMove.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);

  this._createDomElem();
  this._refreshDomElem();

  am.timeline.on("changeTime", this._onChangeTime);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Interval, EventEmitter);
var p = Interval.prototype;









Object.defineProperties(p, {
  start: {
    set: function (v) {
      v = parseInt(v);

      if (this._start === v) return;

      this._start = v;

      this._refreshDomElem();
    },
    get: function () {
      return this._start;
    }
  },
  end: {
    set: function (v) {
      v = parseInt(v);

      if (this._end === v) return;

      this._end = v;

      this._refreshDomElem();
    },
    get: function () {
      return this._end;
    }
  } });





p.getSave = function () {
  var save = {
    start: this.start,
    end: this.end };

  return save;
};

p.useSave = function (save) {
  if ("start" in save) this.start = save.start;
  if ("end" in save) this.end = save.end;
};

p.showNeighbours = function (neighbours) {
  this._neighbourIntervals = neighbours;
};










p._nextInterval = function () {
  return this.__neighbourInterval(true);
};

p._prevInterval = function () {
  return this.__neighbourInterval(false);
};

p.__neighbourInterval = function (forward) {
  var pos, neighbour;

  this._neighbourIntervals.forEach(function (interval) {
    var next = forward ? interval.start : interval.end;

    if (interval !== this && (forward ? next > this.end : next < this.start) && (pos === undefined || (forward === (pos > next)))) {
      pos = next;
      neighbour = interval;
    }
  }, this);

  return neighbour;
};

p._remove = function () {
  this.emit("remove", this);
};










p._onChangeTime = function () {
  this._refreshDomElem();
};

p._onDragResize = function (md, mx) {
  var neighbour, timePos = am.timeline.screenXToTime(mx);

  if (md.side === "left") {
    neighbour = this._prevInterval();

    if (neighbour && timePos < neighbour.end) {
      timePos = neighbour.end;
    }

    this.start = timePos;
  } else {
    neighbour = this._nextInterval();

    if (neighbour && timePos > neighbour.start) {
      timePos = neighbour.start;
    }

    this.end = timePos;
  }
};

p._onFinishResize = function (md) {
  var neighbour;

  if (md.side === "left") {
    neighbour = this._prevInterval();

    if (neighbour && neighbour.end === this.start) {
      neighbour.end = this.end;
      this._remove();
    }
  } else {
    neighbour = this._nextInterval();

    if (neighbour && neighbour.start === this.end) {
      neighbour.start = this.start;
      this._remove();
    }
  }
};

p._onDragMove = function (md, mx) {
  var timePos = am.timeline.screenXToTime(mx), move = timePos - md.timePos, nextInterval = this._nextInterval(), prevInterval = this._prevInterval();

  if (nextInterval && md.end + move > nextInterval.start) {
    move = nextInterval.start - md.end;
  }

  if (prevInterval && md.start + move < prevInterval.end) {
    move = prevInterval.end - md.start;
  }

  if (md.start + move < 0) {
    move = -md.start;
  }

  this.start = md.start + move;
  this.end = md.end + move;
};








p._refreshDomElem = function () {
  this.domElem.style.left = this.start * am.timeline.timescale + "px";
  this.domElem.style.width = (this.end - this.start) * am.timeline.timescale + "px";
};








p._createDomElem = function () {
  var de = document.createElement("div");
  de.style.width = "100%";
  de.style.height = this._lineH + "px";
  de.style.background = "blue";
  de.style.position = "relative";

  createHandler.call(this, "left");
  createHandler.call(this, "right");

  this.domElem = de;

  amgui.makeDraggable({
    deTarget: de,
    thisArg: this,
    onDown: function (e) {
      return {
        start: this.start,
        end: this.end,
        timePos: am.timeline.screenXToTime(e.screenX)
      };
    },
    onMove: this._onDragMove });

  amgui.bindDropdown({
    asContextMenu: true,
    deTarget: de,
    deMenu: amgui.createDropdown({
      options: [{ text: "split here" }, { text: "remove" }]
    }),
    onSelect: function (selection) {
      if (selection === "split here") {
        this._remove();
      } else {
        am.dialogs.WIP.show();
      }
    }
  });

  function createHandler(side) {
    var handler = document.createElement("div");
    handler.style.position = "absolute";
    handler.style.top = "0px";
    handler.style[side] = "0px";
    handler.style.height = "100%";
    handler.style.width = "3px";
    handler.style.cursor = "ew-resize";
    handler.style.pointerEvents = "auto";
    de.appendChild(handler);

    amgui.makeDraggable({
      deTarget: handler,
      onDown: function () {
        return {
          side: side
        };
      },
      onMove: this._onDragResize,
      onUp: this._onFinishResize,
      onEnter: function () {
        handler.style.background = "white";
      },
      onLeave: function () {
        handler.style.background = "";
      }
    });
  }
};



p.dispose = function () {};

module.exports = Interval;

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/IntervalScript.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var dialogScriptEditor = require("./dialogScriptEditor");
var amgui = require("../../amgui");
var Interval = require("./Interval");

function IntervalScript(opt) {
  EventEmitter.call(this);

  this._lineH = 21;
  this._script = "/**/";
  this._intervals = [];

  this._onClickOpenScript = this._onClickOpenScript.bind(this);
  this._onChangeScript = this._onChangeScript.bind(this);
  this._onRemoveInterval = this._onRemoveInterval.bind(this);
  this.onSelectAddInterval = this.onSelectAddInterval.bind(this);
  this._onDblclickKeyline = this._onDblclickKeyline.bind(this);

  this.deOptions = this._createParameterOptions();
  this.deKeyline = this._createBoundsLine();

  this._addInterval();

  this.deKeyline.addEventListener("dblclick", this._onDblclickKeyline);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(IntervalScript, EventEmitter);
var p = IntervalScript.prototype;









Object.defineProperties(p, {
  height: {
    get: function () {
      return this._lineH;
    }
  },
  script: {
    set: function (v) {
      v = v || "";

      if (this._script === v) return;

      this._script = v;
    },
    get: function () {
      return this._script;
    }
  }
});





p.getSave = function () {
  var save = {
    name: this.name,
    script: JSON.stringify(this.script).slice(1, -1).replace(/'/g, "\\'"),
    intervals: [] };

  this._intervals.forEach(function (interval) {
    save.intervals.push(interval.getSave());
  });

  return save;
};

p.useSave = function (save) {
  if ("name" in save) this.name = save.name;
  if ("script" in save) this.script = save.script;
  if ("intervals" in save) {
    while (this._intervals.length) {
      this._removeInterval(this._intervals[0]);
    }

    save.intervals.forEach(function (intervalSave) {
      this._addInterval(intervalSave);
    }, this);
  }
};

p.isInsideBounds = function (time) {
  return this._intervals.some(function (interval) {
    if (interval.start <= time && interval.end >= time) {
      return true;
    }
  });
};

p.runScript = function () {
  (new Function(this.script))(); //TODO hack!!!
};

p.editScript = function () {
  dialogScriptEditor.show({
    script: this.script,
    onChangeScript: function (script) {
      this.script = script;
    }
  });
};









p._addInterval = function (opt) {
  var interval = new Interval(opt);

  interval.showNeighbours(this._intervals);
  interval.on("remove", this._onRemoveInterval);

  this.deKeyline.appendChild(interval.domElem);
  this._intervals.push(interval);
};

p._removeInterval = function (interval) {
  var idx = this._intervals.indexOf(interval);

  if (idx === -1) {
    return;
  }

  this._intervals.splice(idx, 1);

  interval.domElem.parentNode.removeChild(interval.domElem);
  interval.removeListener("remove", this._onRemoveInterval);
  interval.dispose();
};








p._onDeleteKey = function (key) {
  this.removeKey(key);
};

p._onClickOpenScript = function () {
  dialogScriptEditor.show({
    script: this.script,
    onChangeScript: this._onChangeScript });
};

p._onChangeScript = function (script) {
  this.script = script;
};

p._onRemoveInterval = function (interval) {
  this._removeInterval(interval);
};

p._onDblclickKeyline = function () {
  this.editScript();
};

p.onSelectAddInterval = function () {
  var time = am.timeline.screenXToTime(am.mouse.screenX), nextStart = time - 500, prevEnd = time + 500;

  if (this.isInsideBounds(time)) {
    return;
  }

  this._intervals.forEach(function (interval) {
    if (interval.end < time && (!prevEnd || prevEnd < interval.end)) {
      prevEnd = interval.end;
    }

    if (interval.start > time && (!nextStart || nextStart > interval.start)) {
      nextStart = interval.start;
    }
  });

  this._addInterval({
    start: time - Math.min(500, (prevEnd - time) * 0.8, time),
    end: time + Math.min(500, (time - nextStart) * 0.8) });
};














p._createBoundsLine = function () {
  var de = document.createElement("div");
  de.style.width = "100%";
  de.style.height = this._lineH + "px";
  de.style.background = "grey";
  de.style.position = "relative";

  amgui.bindDropdown({
    asContextMenu: true,
    deTarget: de,
    deMenu: amgui.createDropdown({
      options: [{ text: "add interval", onSelect: this.onSelectAddInterval }]
    })
  });

  return de;
};


p._createParameterOptions = function () {
  var de = document.createElement("div");
  de.style.display = "flex";
  de.style.width = "100%";
  de.style.height = this._lineH + "px";
  de.style.background = "linear-gradient(to bottom, blue 18%,darkblue 96%)";

  var space = document.createElement("div");
  space.style.display = "inline-block";
  space.style.flex = "1";
  space.style.pointerEvents = "none";
  de.appendChild(space);

  this._btnOpenScript = amgui.createIconBtn({
    icon: "code",
    height: this._baseH,
    onClick: this._onClickOpenScript,
    parent: de
  });

  // this._btnEdit = amgui.createIconBtn({
  //     icon: 'wrench',
  //     height: this._baseH,
  //     parent: de
  // });

  // amgui.bindDropdown({
  //     deTarget: this._btnEdit,
  //     deMenu: amgui.createDropdown({
  //         options: [
  //             {text: 'merge'},
  //             {text: 'split'},
  //             {text: 'end here'},
  //             {text: 'start here'},
  //             {text: 'add', icon: 'plus'},
  //             {text: 'remove', icon: 'minus'},
  //         ]
  //     }),
  //     onSelect: function () {
  //         am.dialogs.WIP.show();
  //     }
  // });

  amgui.bindDropdown({
    asContextMenu: true,
    deTarget: de,
    deMenu: amgui.createDropdown({
      options: [{ text: "move up", onSelect: this.emit.bind(this, "move", this, -1) }, { text: "move down", onSelect: this.emit.bind(this, "move", this, 1) }, { text: "delete", onSelect: this.emit.bind(this, "delete", this) }]
    })
  });

  return de;
};

p.dispose = function () {};

module.exports = IntervalScript;

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Interval":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/Interval.js","./dialogScriptEditor":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/dialogScriptEditor.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/JsTrack.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");
var IntervalScript = require("./IntervalScript");
var MomentScript = require("./MomentScript");
var mstPlayer = require("./script.player.mst");
var dialogTrackOptions = require("./dialogTrackOptions");

function JsTrack(opt) {
  EventEmitter.call(this);

  this._intervalScripts = [];
  this._momentScripts = [];
  this._baseH = 21;
  this._isShowingIntervalScrips = false;
  this._isHidingSelectedElems = false;
  this._isPlaying = false;

  this._onSelectClick = this._onSelectClick.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeIntervalScript = this._onChangeIntervalScript.bind(this);
  this._onDeleteIntervalScript = this._onDeleteIntervalScript.bind(this);
  this._onMoveIntervalScript = this._onMoveIntervalScript.bind(this);
  this._onClickAddIntervalScript = this._onClickAddIntervalScript.bind(this);
  this._onClickTgglShowIntervalScripts = this._onClickTgglShowIntervalScripts.bind(this);
  this._onClickTgglMomentScript = this._onClickTgglMomentScript.bind(this);
  this._onClickEditMomentScript = this._onClickEditMomentScript.bind(this);
  this._onClickName = this._onClickName.bind(this);
  this._onChangeName = this._onChangeName.bind(this);
  this._onChangeName = this._onChangeName.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this.deOptions = document.createElement("div");
  this.deKeys = document.createElement("div");

  this._deHeadOptinos = this._createHeadOptions();
  this._deHeadKeyline = amgui.createKeyline({});
  this.deKeys.appendChild(this._deHeadKeyline);

  am.timeline.on("changeTime", this._onChangeTime);
  this.deOptions.addEventListener("click", this._onSelectClick);
  this.deKeys.addEventListener("click", this._onSelectClick);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(JsTrack, EventEmitter);
var p = JsTrack.prototype;

p.type = "js_track_type";






Object.defineProperties(p, {
  height: {
    get: function () {
      var ret = this._baseH;

      if (this._isShowingIntervalScrips) {
        this._intervalScripts.forEach(function (intervalScript) {
          ret += intervalScript.height;
        });
      }

      return ret;
    }
  },

  name: {
    set: function (v) {
      if (v === this._name) return;

      this._name = v || "unnamed";
      this._deName.textContent = this._name;
    },
    get: function () {
      return this._name;
    }
  }
});






p.getSave = function () {
  var save = {
    name: this.name,
    intervalScripts: [],
    momentScripts: [],
    isShowingIntervalScripts: this._isShowingIntervalScrips };

  this._intervalScripts.forEach(function (intervalScript) {
    save.intervalScripts.push(intervalScript.getSave());
  });

  this._momentScripts.forEach(function (momentScript) {
    save.momentScripts.push(momentScript.getSave());
  });

  return save;
};

p.useSave = function (save) {
  if (!save) {
    return;
  }

  this._selectors = save.selectors || [];

  if ("name" in save) this.name = save.name;

  if (save.intervalScripts) {
    save.intervalScripts.forEach(this.addIntervalScript, this);
  }

  if (save.momentScripts) {
    save.momentScripts.forEach(this.addMomentScript, this);
  }

  if (save.isShowingIntervalScripts) {
    this._showIntervalScripts();
  }
};

p.getScript = function () {
  //TODO

  var momentScripts = [], intervalScripts = [];

  this._intervalScripts.forEach(function (intervalScript) {});

  var code = Mustache.render(mstPlayer, {
    momentScripts: JSON.stringify(momentScripts),
    intervalScripts: JSON.stringify(intervalScripts)
  });

  return "function () {/*TODO*/}";
};

p.addIntervalScript = function (opt, skipHistory) {
  opt = opt || {};

  var intervalScript = new IntervalScript(opt);

  if (!skipHistory) {
    am.history.save([this._removeIntervalScript, this, intervalScript, true], [this.addIntervalScript, this, opt, true], "add interval script");
  }

  this._intervalScripts.push(intervalScript);
  intervalScript.on("change", this._onChangeIntervalScript);
  intervalScript.on("delete", this._onDeleteIntervalScript);
  intervalScript.on("move", this._onMoveIntervalScript);

  this._refreshIntervalScriptOrdering();
  this.emit("changeHeight", this);

  return intervalScript;
};

p.removeIntervalScript = function (intervalScript, skipHistory) {
  if (!skipHistory) {
    am.history.save([this.addIntervalScript, this, intervalScript, true], [this.removeIntervalScript, this, intervalScript, true], "remove interval script");
  }

  var idx = this._intervalScripts.indexOf(intervalScript);

  if (idx === -1) {
    return;
  }

  this._intervalScripts.splice(idx, 1);

  intervalScript.removeListener("change", this._onChangeIntervalScript);
  intervalScript.removeListener("delete", this._onDeleteIntervalScript);
  intervalScript.removeListener("move", this._onMoveIntervalScript);

  $(intervalScript.deOptions).remove();
  $(intervalScript.deKeyline).remove();
};

p.moveIntervalScript = function (intervalScript, way) {
  var idx = this._intervalScripts.indexOf(intervalScript);

  this._intervalScripts.splice(idx, 1);
  idx = Math.min(this._intervalScripts.length, Math.max(0, idx + way));
  this._intervalScripts.splice(idx, 0, intervalScript);

  this._refreshIntervalScriptOrdering();
};


p.addMomentScript = function (opt, skipHistory) {
  var ms = this.getMomentScript(opt.time);

  if (ms) {
    if ("script" in opt) {
      if (!skipHistory) {
        am.history.saveChain(ms, [this.addMomentScript, this, ms, true], [this.addMomentScript, this, opt, true], "edit moment script");
      }

      ms.script = opt.script;
    }
  } else {
    ms = new MomentScript(_.extend({ deKeyline: this._deHeadKeyline }, opt));

    // ms.on('changeTime', this._onChangeKeyTime);//TODO
    // ms.on('delete', this._onDeleteKey);//TODO

    this._momentScripts.push(ms);

    if (!skipHistory) {
      am.history.closeChain(ms);
      am.history.save([this.removeMomentScript, this, opt.time, true], [this.addMomentScript, this, opt, true], "add moment script");
    }
  }

  this._refreshTgglMomentScript();

  this.emit("change");

  return ms;
};

p.removeMomentScript = function (ms, skipHistory) {
  if (typeof (ms) === "number") {
    ms = this.getMomentScript(ms);
  }

  var idx = this._momentScripts.indexOf(ms);

  if (idx === -1) {
    return;
  }

  if (!skipHistory) {
    am.history.save([this.addMomentScript, this, ms, true], [this.removeMomentScript, this, ms, true], "remove moment script");
  }

  this._momentScripts.splice(idx, 1);

  ms.dispose();

  // ms.removeListener('changeTime', this._onChangeKeyTime);//TODO
  // ms.removeListener('delete', this._onDeleteKey);//TODO

  this._refreshTgglMomentScript();

  this.emit("change");
};

p.getMomentScript = function (time) {
  return this._momentScripts.find(function (ms) {
    return ms.time === time;
  });
};


p.select = function (opt) {
  opt = opt || {};

  if (this._isSelected) return;
  this._isSelected = true;

  this.deHighlight.style.opacity = 1;

  this.emit("select", this);
};

p.deselect = function () {
  if (!this._isSelected) return;
  this._isSelected = false;

  this.deHighlight.style.opacity = 0;
};

p.renderTime = function (time) {};

p.play = function () {
  this._isPlaying = true;

  this._animPlay();
};

p.pause = function () {
  this._isPlaying = false;

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.getMagnetPoints = function () {
  var times = [];

  this._momentScripts.forEach(function (momentScript) {
    times.push(momentScript.time);
  });

  return times;
};










p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  var currTime = am.timeline.currTime, prevTime = this.prevRenderTime;

  this._momentScripts.forEach(function (momentScript) {
    if (momentScript.time > prevTime && momentScript.time <= currTime) {
      momentScript.runScript();
    }
  });

  this._intervalScripts.forEach(function (intervalScript) {
    if (intervalScript.isInsideBounds(currTime)) {
      intervalScript.runScript();
    }
  });

  this.prevRenderTime = currTime;
};

p._showIntervalScripts = function () {
  if (this._isShowingIntervalScrips) return;
  this._isShowingIntervalScrips = true;

  this._tgglShowIntervalScripts.setToggle(true);
  this.emit("changeHeight", this);
};

p._hideIntervalScripts = function () {
  if (!this._isShowingIntervalScrips) return;
  this._isShowingIntervalScrips = false;

  this._tgglShowIntervalScripts.setToggle(false);
  this.emit("changeHeight", this);
};








p._onSelectClick = function () {
  this.select();
};

p._onChangeTime = function () {
  if (this._isPlaying) {
    return;
  }

  this._refreshTgglMomentScript();
};

p._onChangeIntervalScript = function () {
  this.renderTime();

  this.emit("change");
};

p._onDeleteIntervalScript = function (intervalScript) {
  this.removeIntervalScript(intervalScript);
};

p._onMoveIntervalScript = function (intervalScript, way) {
  this.moveIntervalScript(intervalScript, way);
};

p._onClickTgglMomentScript = function () {
  var time = am.timeline.currTime, momentScript = this.getMomentScript(time);

  if (momentScript) {
    this.removeMomentScript(momentScript);
  } else {
    this.addMomentScript({ time: time });
  }

  this._refreshTgglMomentScript();
};

p._onClickEditMomentScript = function () {
  var momentScript = this.getMomentScript(am.timeline.currTime);

  if (momentScript) {
    momentScript.editScript();
  }
};

p._onClickTgglShowIntervalScripts = function () {
  if (this._isShowingIntervalScrips) {
    this._hideIntervalScripts();
  } else {
    this._showIntervalScripts();
  }
};

p._onClickAddIntervalScript = function () {
  this.addIntervalScript();
};

p._onClickName = function () {
  dialogTrackOptions.show({
    name: this._name,
    onChangeName: this._onChangeName });
};

p._onChangeName = function (name) {
  this.name = name;
};













p._refreshTgglMomentScript = function () {
  var momentScript = this.getMomentScript(am.timeline.currTime);

  this._tgglMomentScript.setToggle(!!momentScript);
  this._tgglEditMomentScript.setToggle(!!momentScript);
};

p._refreshIntervalScriptOrdering = function () {
  this._intervalScripts.forEach(function (intervalScript) {
    this.deOptions.appendChild(intervalScript.deOptions);
    this.deKeys.appendChild(intervalScript.deKeyline);
  }, this);
};











p._createHeadOptions = function () {
  var de = document.createElement("div");
  de.style.position = "relative";
  de.style.width = "100%";
  de.style.display = "flex";
  de.style.height = this._baseH + "px";
  de.style.background = "linear-gradient(to bottom, blue 18%,darkblue 96%)";
  this.deOptions.appendChild(de);

  this.deHighlight = document.createElement("div");
  this.deHighlight.style.display = "inline-block";
  this.deHighlight.style.width = "2px";
  this.deHighlight.style.height = this._baseH + "px";
  this.deHighlight.style.background = "gold";
  this.deHighlight.style.opacity = 0;
  de.appendChild(this.deHighlight);

  this._tgglShowIntervalScripts = amgui.createToggleIconBtn({
    iconOn: "angle-down",
    iconOff: "angle-right",
    height: this._baseH,
    onClick: this._onClickTgglShowIntervalScripts,
    parent: de
  });

  this._deName = amgui.createLabel({ caption: this._name, parent: de });
  this._deName.style.height = this._baseH + "px";
  this._deName.style.cursor = "pointer";
  this._deName.addEventListener("click", this._onClickName);

  var deNameIcon = amgui.createIcon({
    icon: "cog",
    parent: de
  });
  deNameIcon.style.display = "none";
  this._deName.addEventListener("mouseenter", function () {
    deNameIcon.style.display = "inline-block";
  });
  this._deName.addEventListener("mouseleave", function () {
    deNameIcon.style.display = "none";
  });

  var space = document.createElement("div");
  space.style.display = "inline-block";
  space.style.flex = "1";
  space.style.pointerEvents = "none";
  de.appendChild(space);

  this._btnAddIntervalScript = amgui.createIconBtn({
    icon: "plus",
    height: this._baseH,
    defaultToggle: false,
    onClick: this._onClickAddIntervalScript,
    parent: de
  });

  this._tgglEditMomentScript = amgui.createToggleIconBtn({
    icon: "code",
    height: this._baseH,
    onClick: this._onClickEditMomentScript,
    changeColor: true,
    parent: de
  });

  this._tgglMomentScript = amgui.createToggleIconBtn({
    iconOn: "circle",
    iconOff: "circle-empty",
    height: this._baseH,
    onClick: this._onClickTgglMomentScript,
    changeColor: true,
    parent: de
  });
  this._refreshTgglMomentScript();

  amgui.bindDropdown({
    asContextMenu: true,
    deTarget: de,
    deMenu: amgui.createDropdown({
      options: [{ text: "move up", onSelect: this.emit.bind(this, "move", this, -1) }, { text: "move down", onSelect: this.emit.bind(this, "move", this, 1) }, { text: "delete", onSelect: this.emit.bind(this, "delete", this) }]
    })
  });

  return de;
};

p.isOwnedDomElem = function () {
  return false;
};

p.dispose = function () {
  am.timeline.removeListener("changeTime", this._onChangeTime);

  //TODO
};

module.exports = JsTrack;

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./IntervalScript":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/IntervalScript.js","./MomentScript":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/MomentScript.js","./dialogTrackOptions":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/dialogTrackOptions.js","./script.player.mst":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/script.player.mst","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/MomentScript.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var dialogScriptEditor = require("./dialogScriptEditor");
var amgui = require("../../amgui");

function MomentScript(opt) {
  EventEmitter.call(this);

  this._time = 0;
  this._script = "";
  this._deKeyline = opt.deKeyline;

  this._onChangeDeTime = this._onChangeDeTime.bind(this);
  this._onSelectDropdown = this._onSelectDropdown.bind(this);
  this._onChangeTape = this._onChangeTape.bind(this);
  this._onDblclickKey = this._onDblclickKey.bind(this);

  this.domElem = this._deKeyline.addKey({
    timescale: am.timeline.timescale,
    time: this.time,
    ease: "none"
  });


  this._deMenu = amgui.createDropdown({
    options: ["script", "delete"]
  });
  this._deMenu.addEventListener("select", this._onSelectDropdown);

  this.domElem.addEventListener("changeTime", this._onChangeDeTime);
  am.timeline.on("changeTape", this._onChangeTape);

  amgui.bindDropdown({
    deTarget: this.domElem,
    deMenu: this._deMenu,
    asContextMenu: true
  });

  this.domElem.addEventListener("dblclick", this._onDblclickKey);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(MomentScript, EventEmitter);
var p = MomentScript.prototype;

Object.defineProperties(p, {
  time: {
    set: function (v) {
      if (!Number.isFinite(v) || this._time === v) return;

      this._time = v;

      this.domElem.setTime(this._time);
    },
    get: function () {
      return this._time;
    }
  },
  script: {
    set: function (v) {
      if (this._script === v) return;

      this._script = v;
    },
    get: function () {
      return this._script;
    }
  }
});


p.getSave = function () {
  return {
    script: JSON.stringify(this.script).slice(1, -1).replace(/'/g, "\\'"),
    time: this.time };
};

p.useSave = function (save) {
  if ("script" in save) this.script = save.script;
  if ("time" in save) this.time = save.time;
};

p.runScript = function () {
  (new Function(this.script))(); //TODO hack!!!
};

p.editScript = function () {
  dialogScriptEditor.show({
    script: this.script,
    onChangeScript: function (script) {
      this.script = script;
    }
  });
};






p._onChangeDeTime = function (e) {
  this.time = e.detail.time;

  this.emit("changeTime");
};

p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "delete") {
    this.emit("delete", this);
  } else if (selection === "edit script") {
    this.editScript();
  }
};

p._onChangeTape = function () {
  this.domElem.setTimescale(am.timeline.timescale);
};

p._onDblclickKey = function () {
  this.editScript();
};




p.dispose = function () {
  this.domElem.removeEventListener("changeTime", this._onChangeDeTime);
  this._deMenu.removeEventListener("select", this._onSelectDropdown);
  am.timeline.removeListener("changeTape", this._onChangeTape);

  this.domElem.remove();
  if (this._deMenu.parentNode) this._deMenu.parentNode.removeChild(this._deMenu);
};

module.exports = MomentScript;

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./dialogScriptEditor":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/dialogScriptEditor.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/dialogScriptEditor.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");

function DialogScriptEditor() {
  EventEmitter.call(this);

  this._name = "";
  this._selectors = [];

  this._onClickOk = this._onClickOk.bind(this);
  this._onChangeScript = this._onChangeScript.bind(this);
}

inherits(DialogScriptEditor, EventEmitter);
var p = DialogScriptEditor.prototype;



Object.defineProperties(p, {
  script: {
    set: function (v) {
      v = v || "";

      if (this._script === v) {
        return;
      }

      this._script = v;

      if (this._cm && this._cm.getValue() !== v) {
        this._cm.setValue(v);
      }
      this.emit("changeScript", v);
    },
    get: function () {
      return this._script;
    }
  }
});

p.show = function (opt) {
  opt = opt || {};

  this._createDialog();

  if ("script" in opt) this.script = opt.script;

  this.domElem.showModal();

  if (this._cm) {
    this._cm.refresh();
  }

  if ("onChangeScript" in opt) this.on("changeScript", opt.onChangeScript);
};

p.hide = function () {
  this.domElem.close();

  this.removeAllListeners("changeScript");
};

p._createDialog = function () {
  if (this._isDialogCreated) return;
  this._isDialogCreated = true;

  this._createContent();

  this.domElem = amgui.createDialog({
    title: "Script",
    content: this._deContent,
    parent: am.deDialogCont,
    buttons: ["ok"] });

  this.domElem.addEventListener("click_ok", this._onClickOk);
};

p._onClickOk = function () {
  this.hide();
};

p._onChangeScript = function () {
  this.script = this._cm.getValue();
};


p._createContent = function () {
  this._deContent = document.createElement("div");
  this._deContent.style.width = "480px";
  this._deContent.style.height = "330px";
  this._deContent.style.padding = "30px 12px";

  this._textarea = document.createElement("textarea");
  this._deContent.appendChild(this._textarea);

  amgui.callOnAdded(this._textarea, function () {
    this._cm = new CodeMirror.fromTextArea(this._textarea, {
      lineNumbers: true,
      theme: "pastel-on-dark",
      mode: "javascript"
    });

    this._cm.setValue(this.script);
    this._cm.on("change", this._onChangeScript);
  }, this);
};

module.exports = new DialogScriptEditor();

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/dialogTrackOptions.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../../amgui");

function DialogTrackOptions() {
  EventEmitter.call(this);

  this._name = "";
  this._selectors = [];

  this._onClickOk = this._onClickOk.bind(this);
  this._onChangeName = this._onChangeName.bind(this);
}

inherits(DialogTrackOptions, EventEmitter);
var p = DialogTrackOptions.prototype;



Object.defineProperties(p, {
  name: {
    set: function (v) {
      if (this._name === v) {
        return;
      }

      this._name = v;
      this._inpName.value = v;
      this.emit("changeName", v);
    },
    get: function () {
      return this._name;
    }
  } });

p.show = function (opt) {
  opt = opt || {};

  this._createDialog();

  if ("name" in opt) this.name = opt.name;

  if ("onChangeName" in opt) this.on("changeName", opt.onChangeName);

  this.domElem.showModal();
};

p.hide = function () {
  this.domElem.close();

  this.removeAllListeners("changeName");
};

p._createDialog = function () {
  if (this._isDialogCreated) return;
  this._isDialogCreated = true;

  this._createContent();

  this.domElem = amgui.createDialog({
    title: "Track",
    content: this._deContent,
    parent: am.deDialogCont,
    buttons: ["ok"] });

  this.domElem.addEventListener("click_ok", this._onClickOk);
};

p._onClickOk = function () {
  this.hide();
};

p._onChangeName = function () {
  this.name = this._inpName.value;
};


p._createContent = function () {
  this._deContent = document.createElement("div");
  this._deContent.style.width = "330px";
  this._deContent.style.padding = "30px 12px";

  amgui.createLabel({
    caption: "Name",
    fontSize: "18px",
    display: "block",
    parent: this._deContent
  });

  this._inpName = document.createElement("input");
  this._inpName.type = "text";
  this._inpName.value = this.name;
  this._inpName.style.width = "245px";
  this._inpName.style.fontSize = "14px";
  this._inpName.style.fontFamily = amgui.FONT_FAMILY;
  this._inpName.style.background = "none";
  this._inpName.style.border = "none";
  this._inpName.style.marginBottom = "12px";
  this._inpName.style.color = amgui.color.text;
  this._inpName.addEventListener("change", this._onChangeName);
  this._deContent.appendChild(this._inpName);
};

module.exports = new DialogTrackOptions();

},{"../../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/jsModule.js":[function(require,module,exports){
"use strict";

var JsTrack = require("./JsTrack");

exports.init = function () {
  am.registerTrackType(JsTrack, JsTrack.prototype.type);
};

},{"./JsTrack":"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/JsTrack.js"}],"/home/azazdeaz/repos/animachine/src/editor/modules/javascript/script.player.mst":[function(require,module,exports){
module.exports = " function () {\n\n    return function () {\n\n        var currTime = 0,\n            prevTime = 0,\n            speed = 0;\n        \n        this.startSystemTime = 0;\n        this.momentFunctions = [{{{momentFunctions}}}];\n        this.intervalFunctions = [{{{intervalFunctions}}}];\n\n        this.step = function(time) {\n\n            this.stepRafId = requestAnimationFrame(this.step);\n            \n            prevTime = currTime;\n            currTime = performance.now();\n\n            this.momentFunctions.forEach(function (fnData) {\n\n                if (fnData.time > prevTime && fnData.time <= currTime) {\n\n                    fnData.fn();\n                }\n            });\n\n            this.intervalFunctions.forEach(function (fnData) {\n\n                for (var i = 0; i < fnData.bounds; i += 2) {\n\n                    if (fnData.bounds[i] > prevTime && fnData.bounds[i+1] <= currTime) {\n\n                        fnData.fn();\n                    }\n                }\n            });\n\n        }.bind(this);\n\n        var ret = {};\n\n        ret.play = function () {\n\n            this.step();\n\n        }.bind(this);\n\n        ret.pause = function () {\n\n            cancelAnimationFrame(this.stepRafId);\n\n        }.bind(this);\n\n        ret.seek = function (time) {\n\n            currTime = time;\n            prevTime = time;\n\n        }.bind(this);\n\n    }.call({});\n};";

},{}],"/home/azazdeaz/repos/animachine/src/editor/mouse/Mouse.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Mouse() {
  this.screenX = 0;
  this.screenY = 0;

  this._onMouseMove = this._onMouseMove.bind(this);

  window.addEventListener("mousemove", this._onMouseMove);
}

inherits(Mouse, EventEmitter);
var p = Mouse.prototype;

p._onMouseMove = function (e) {
  this.screenX = e.screenX;
  this.screenY = e.screenY;
};


module.exports = Mouse;

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/qsgen.js":[function(require,module,exports){
"use strict";

var EXATTR = ["id", "class", "style"];

function generate(de, root) {
  root = root || document;

  var deCurr = de, rootCurr = root, qsCurr, qsParent = "";

  while (true) {
    do {
      qsCurr = gen(deCurr, rootCurr);
    } while (!qsCurr && deCurr.parentNode !== rootCurr && (deCurr = deCurr.parentNode));

    if (!qsCurr) {
      if (deCurr.parentNode === rootCurr) {
        qsCurr = "> " + deCurr.tagName + ":nth-child(" + (Array.prototype.indexOf.call(rootCurr.childNodes, deCurr) + 1) + ")";
      } else {
        return; //can't find unique query selector
      }
    }

    qsParent += (qsParent ? " " : "") + qsCurr;

    if (deCurr === de) {
      return qsParent;
    } else {
      qsCurr = undefined;
      rootCurr = deCurr;
      deCurr = de;
    }
  }
}

function gen(de, root) {
  var singles, selectors, matches = [];

  singles = selectors = possibleIds(de).concat([de.tagName], possibleClasses(de, i), possibleAttributes(de, i));

  for (var i = 0; i < 5; ++i) {
    selectors.forEach(function (selector) {
      if (root.querySelectorAll(selector).length === 1) {
        matches.push(selector);
      }
    });

    if (matches.length) {
      return matches[0];
    } else {
      selectors = combine(selectors, singles);
    }
  }
}

function possibleIds(de) {
  return de.id ? ["#" + CSS.escape(de.id)] : [];
}

function possibleClasses(de, max) {
  return Array.prototype.slice.call(de.classList, 0).map(function (className) {
    return "." + CSS.escape(className);
  });
}

function possibleAttributes(de) {
  return Array.prototype.slice.call(de.attributes, 0).filter(function (attr) {
    return EXATTR.indexOf(attr.name) === -1;
  }).map(function (attr) {
    return "[" + CSS.escape(attr.name) + (attr.value ? "=\"" + attr.value + "\"" : "") + "]";
  });
}

// function variate(_list, length) {
//     return step(_list, 2);

//     function step(list, back) {
//         var combined = combine(attributes, list);
//         return list.concat(back === 0 ? combined : step(combined, --back));
//     }
// }

function combine(sourceA, sourceB) {
  var combined = [];

  sourceA.forEach(function (a) {
    sourceB.forEach(function (b) {
      if (a.indexOf(b) === -1 && b.indexOf(a) === -1 && "#.[:".indexOf(b.charAt(0)) !== -1) {
        combined.push(a + b);
      }
    });
  });

  return combined;
}

module.exports = generate;

},{}],"/home/azazdeaz/repos/animachine/src/editor/shortcuts/dialogSettings.js":[function(require,module,exports){
"use strict";

var Dialog = require("../utils/Dialog");
var amgui = require("../amgui");

var dialog = new Dialog({
  createContent: function () {
    var deScrollCont = amgui.createDiv({
      parent: this._deContent,
      width: "100%",
      display: "flex" });

    var deLeft = amgui.createDiv({
      parent: deScrollCont,
      width: "234px" });

    var deRight = amgui.createDiv({
      parent: deScrollCont,
      flex: "1" });
  }
});

function createShortcutLabel(value) {
  var deLabel = amgui.createLabel({});
}

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js"}],"/home/azazdeaz/repos/animachine/src/editor/shortcuts/shortcuts.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var dialogSettings = require("./dialogSettings");

var shortcuts = new EventEmitter();
module.exports = shortcuts;

var map = {
  copy: ["ctrl+c"],
  cut: ["ctrl+x"],
  "delete": ["del", "backspace"],
  duplicate: ["ctrl+d"],
  keyboardShortcuts: ["ctrl+k"],
  paste: ["ctrl+v"],
  redo: ["ctrl+shift+z"],
  selectAll: ["ctrl+c"],
  undo: ["ctrl+z"],
  save: ["ctrl+s"],
  saveAs: ["ctrl+shift+s"],
  "play/pause": ["space"],
  groupElements: ["ctrl+g"],
  "show/hidePanels": ["tab"] };

shortcuts.readMap = function (map) {
  Mousetrap.reset();

  Object.keys(map).forEach(function (key) {
    map[key].forEach(function (stroke) {
      // Mousetrap.bind(stroke, this.emit.bind(this, key));
      Mousetrap.bind(stroke, function () {
        console.log(key, stroke);
        this.emit(key);
      }.bind(this));
    }, this);
  }, this);
};

shortcuts.readMap(map);

shortcuts.getShortcut = function (key) {
  return map[key].join(", ");
};

Mousetrap.record(function (strokes) {
  var stroke = strokes[strokes.length - 1];
});

},{"./dialogSettings":"/home/azazdeaz/repos/animachine/src/editor/shortcuts/dialogSettings.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/EaseMap.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function EaseMap(opt) {
  EventEmitter.call(this);

  this._map = {};
}

inherits(EaseMap, EventEmitter);
var p = EaseMap.prototype;
module.exports = EaseMap;


p.set = function (name, ease) {
  this._map[name] = ease;
};

p.showSetDialog = function (name, ease) {};

p.get = function (name) {
  return this._map[name];
};

p.list = function () {
  return Object.keys(this._map);
};

p.remove = function (name) {
  delete this._map[name];
};

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/InlineEaseEditor.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function InlineEaseEditor(opt) {
  EventEmitter.call(this);

  this._onChangeEase = this._onChangeEase.bind(this);
  this._onClickWindow = this._onClickWindow.bind(this);

  this._height = amgui.LINE_HEIGHT;
  this._color = "#00BFFF";

  this._points = [0, 0, 1, 1];

  this._createBase();
  this.hide();
}

inherits(InlineEaseEditor, EventEmitter);
var p = InlineEaseEditor.prototype;
module.exports = InlineEaseEditor;




p.show = function (opt) {
  var _this = this;


  if (!opt.key || (!opt.key.ease && !opt.eases)) return;

  this._key = opt.key;
  this._eases = opt.eases ? opt.eases.slice() : [opt.key.ease];

  this._points[0] = this._eases[0].points[0];
  this._points[1] = this._eases[0].points[1];
  this._points[2] = this._eases[0].points[2];
  this._points[3] = this._eases[0].points[3];

  this._eases.forEach(function (ease) {
    ease.on("change", _this._onChangeEase);
  });

  this._render();

  this.domElem.style.display = "";
};

p.hide = function () {
  var _this2 = this;


  if (this._eases) {
    this._eases.forEach(function (ease) {
      ease.off("change", _this2._onChangeEase);
    });
  }

  window.removeEventListener("click", this._onClickWindow);

  this.domElem.style.display = "none";
};






p._render = function () {
  var key = this._key, prevKey = key.getPrevKey(), brKeyLine = key.parentKeyLine.domElem.getBoundingClientRect(), brParent = this.domElem.parentNode.getBoundingClientRect(), p = this._points, x = am.timeline.timeToScreenX(prevKey ? prevKey.time : 0), w = am.timeline.timeToScreenX(key.time) - x, h = this._height, d = "";

  this._width = w;

  this.domElem.style.left = x + "px";
  this.domElem.style.top = (brKeyLine.bottom - brParent.top) + "px";

  d += "M" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += "L0,0 ";
  d += "C" + (w * p[0]) + "," + (h * p[1]) + " ";
  d += (w * p[2]) + "," + (h * p[3]) + " ";
  d += w + "," + h + " ";
  d += "L" + (w * p[2]) + "," + (h * p[3]);

  this._path.setAttribute("d", d);

  this._deCp0.refreshPosition();
  this._deCp1.refreshPosition();
};

p._setPoint = function (pidx, x, y) {
  var _this3 = this;


  this._points[pidx] = x;
  this._points[pidx + 1] = y;

  this._eases.forEach(function (ease) {
    return ease.points = _this3._points;
  });
};






p._onChangeEase = function () {
  this._render();
};

p._onClickWindow = function () {
  this.hide();
};







p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "absolute";
  this.domElem.style.transform = "scaleY(-1)";
  this.domElem.style.pointerEvents = "none";

  this._svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  // this._svg.style.background = 'red';
  this._svg.style.position = "absolute";
  this._svg.style.top = "0px";
  this._svg.style.left = "0px";
  this._svg.style.overflow = "visible";
  this.domElem.appendChild(this._svg);

  this._path = document.createElementNS("http://www.w3.org/2000/svg", "path");
  this._path.style.stroke = this._color;
  this._path.style.fill = "none";
  this._svg.appendChild(this._path);

  this._deCp0 = this._createCp(0);
  this._deCp1 = this._createCp(2);
};

p._createCp = function (pointIdx) {
  var r = 3;

  var deCp = document.createElement("div");
  deCp.style.position = "absolute";
  deCp.style.cursor = "grab";
  deCp.style.boxSizing = "border-box";
  deCp.style.width = r * 2 + "px";
  deCp.style.height = r * 2 + "px";
  deCp.style.transform = "translate(-" + r + "px,-" + r + "px)";
  deCp.style.borderRadius = r + "px";
  deCp.style.background = this._color;
  deCp.style.pointerEvents = "auto";
  this.domElem.appendChild(deCp);

  deCp.addEventListener("click", function (e) {
    e.stopPropagation(); //prevent calling _onClickWindow();
  });

  amgui.makeDraggable({
    deTarget: deCp,
    thisArg: this,
    onMove: function (md, mx, my) {
      var br = this.domElem.getBoundingClientRect();

      this._setPoint(pointIdx, Math.max(0, Math.min(1, (mx - br.left) / this._width)), (br.top - my) / this._height);
    }
  });

  deCp.refreshPosition = function () {
    deCp.style.left = (this._points[pointIdx] * this._width) + "px";
    deCp.style.top = (this._points[pointIdx + 1] * this._height) + "px";
  }.bind(this);
  deCp.refreshPosition();

  return deCp;
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/Timebar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var decorTimebarNavigator = require("./decorTimebarNavigator");

function Timebar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._start = opt.start || 0;
  this._width = opt.width || 0;
  this._height = opt.height || 21;
  this._timescale = opt.timescale || 0;
  this._currTime = opt.currTime || 0;
  this._length = opt.length || 60000;

  this._magnetPoints = [];
  this._magnetDistancePx = 2.5;
  this._startMargin = ("startMargin" in opt) ? opt.startMargin : 6;

  this._onMDown = onMDown.bind(this);
  this._onMMove = onMMove.bind(this);
  this._onMUp = onMUp.bind(this);

  this._steps = getSteps();

  this._createBase();
  this._createPointer();
  this._createEndShadow();

  this._renderTape();
  //TODO use amgui.makeDraggable()
  this._canvasTape.addEventListener("mousedown", this._onMDown);

  decorTimebarNavigator(this);

  this.seekToZero();
}

inherits(Timebar, EventEmitter);
var p = Timebar.prototype;
module.exports = Timebar;




Object.defineProperties(p, {
  /** px/ms */
  timescale: {
    set: function (v) {
      if (!Number.isFinite(v) || this._timescale === v) return;

      this._timescale = Math.min(1, Math.max(0.0001, v));
      this._renderTape();
      this.emit("changeTape");
      this.emit("changeTimescale");
      //prevent to get bigger start margin than "_startMargin"
      this.start = this.start;
    },
    get: function () {
      return this._timescale;
    }
  },

  start: {
    set: function (v) {
      v = Math.min(this._startMargin / this.timescale, parseInt(v));

      if (!Number.isFinite(v) || this._start === v) return;

      this._start = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._start;
    }
  },

  /**px*/
  width: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._width === v) return;

      this._width = v;
      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._width;
    }
  },

  end: {
    get: function () {
      return this._start + (this._width / this._timescale);
    }
  },
  /**ms*/
  visibleTime: {
    set: function (v) {
      this.timescale = this._width / v;
    },

    get: function () {
      return this._width / this._timescale;
    }
  },

  currTime: {
    set: function (v) {
      v = Math.max(0, parseInt(v));

      if (!Number.isFinite(v) || this._currTime === v) return;

      this._currTime = v;

      this._refreshPointer();

      this.emit("changeTime", this._currTime);
    },
    get: function () {
      return this._currTime;
    }
  },

  magnetPoints: {
    set: function (v) {
      this._magnetPoints = v;
    },
    get: function () {
      return this._magnetPoints;
    }
  },

  length: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._length === v) return;
      this._length = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._length;
    }
  },

  startMargin: {
    set: function (v) {
      v = parseInt(v);

      if (!Number.isFinite(v) || this._startMargin === v) return;
      this._startMargin = v;

      this._renderTape();
      this.emit("changeTape");
    },
    get: function () {
      return this._startMargin;
    }
  } });











p.screenXToTime = function (screenX) {
  var left = this._canvasTape.getBoundingClientRect().left, mouseX = screenX - left, time = (mouseX / this.width) * this.visibleTime;

  time -= this.start;

  return time;
};

p.magnetizeTime = function (time) {
  var magnetPoint, magnetPointDiff = undefined;

  this._magnetPoints.forEach(function (mp) {
    var diff = Math.abs(mp - time);

    if (diff < magnetPointDiff || magnetPointDiff === undefined) {
      magnetPoint = mp;
      magnetPointDiff = diff;
    }
  });

  if ((magnetPointDiff * this._timescale) < this._magnetDistancePx) {
    time = magnetPoint;
  }

  return time;
};

p.seekToZero = function () {
  this.start = this._startMargin / this.timescale;
};











p._renderTape = function () {
  var start = this._start, length = this._length, visibleTime = this.visibleTime, height = this._height, scale = this.timescale, width = this._width, maxMarkers = width / 4, step, i, text, textW, ctx = this._ctxTape;

  this._canvasTape.width = width;
  this._canvasTape.height = height;

  this._steps.forEach(function (s) {
    if ((this.visibleTime / s.small) < maxMarkers && (!step || step.small > s.small)) {
      step = s;
    }
  }, this);

  if (step) {
    ctx.linweidth = 0.5;
    ctx.strokeStyle = amgui.color.bg3;
    ctx.fillStyle = amgui.color.bg3;
    ctx.font = ~ ~(this._height * 0.5) + "px \"Open Sans\"";

    for (i = start % step.small; i < visibleTime; i += step.small) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.75);
    }
    ctx.stroke();

    for (i = start % step.big; i < visibleTime; i += step.big) {
      ctx.moveTo(~ ~(i * scale) + 0.5, height);
      ctx.lineTo(~ ~(i * scale) + 0.5, height * 0.62);
    }
    ctx.stroke();

    for (i = start % step.time; i < visibleTime; i += step.time) {
      text = step.format(i - start);
      textW = ctx.measureText(text).width / 2;
      ctx.fillText(text, i * scale - textW, 12);
    }
    ctx.stroke();
  }

  this._refreshPointer();

  var endWidth = ((visibleTime - (start + length)) * scale);
  this._deEndShadow.style.width = Math.max(0, Math.min(width, endWidth)) + "px";
};












function onMDown(e) {
  e.stopPropagation();
  e.preventDefault();

  if (e.shiftKey) this._dragMode = "translate";else if (e.ctrlKey) this._dragMode = "scale";else this._dragMode = "seek";

  this._mdX = e.pageX;
  this._mdStart = this._start;
  this._mdTimescale = this._timescale;

  this._onMMove(e);

  window.addEventListener("mousemove", this._onMMove);
  window.addEventListener("mouseup", this._onMUp);
  window.addEventListener("mouseleave", this._onMUp);
}

function onMMove(e) {
  var move = e.screenX - this._mdX, time, magnetPoint, magnetPointDiff;

  if (this._dragMode === "seek") {
    time = this.screenXToTime(e.screenX);
    time = this.magnetizeTime(time);

    this.currTime = time;

    this.emit("seek");
  } else if (this._dragMode === "translate") {
    this.start = this._mdStart + (move / this.timescale);
  } else if (this._dragMode === "scale") {
    this.timescale = this._mdTimescale + (move / 1000);

    var mdPos = (this._mdStart + this.currTime) * this._mdTimescale;
    this.start = -((this.currTime * this.timescale) - mdPos) / this.timescale;
  }
}

function onMUp() {
  window.removeEventListener("mousemove", this._onMMove);
  window.removeEventListener("mouseup", this._onMUp);
  window.removeEventListener("mouseleave", this._onMUp);
}










p._refreshPointer = function () {
  var pos = ((this.start + this.currTime) / this.visibleTime) * this.width;

  this._dePointer.style.transform = "translate(" + pos + "px)";
};











p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.position = "relative";
  amgui.createSeparator({ parent: this.domElem });

  this._canvasTape = document.createElement("canvas");
  this._ctxTape = this._canvasTape.getContext("2d");
  this._canvasTape.style.display = "block";
  this.domElem.appendChild(this._canvasTape);
};

p._createPointer = function () {
  var radius = 5.5;
  this._dePointer = document.createElement("div");
  this._dePointer.style.position = "absolute";
  this._dePointer.style.bottom = 2 * radius + "px";
  var pointer = document.createElement("div");
  pointer.style.position = "absolute";
  pointer.style.boxSizing = "border-box";
  pointer.style.pointerEvents = "none";
  pointer.style.left = -radius + "px";
  pointer.style.width = 2 * radius + "px";
  pointer.style.height = 2 * radius + "px";
  pointer.style.border = "solid red 1px";
  pointer.style.borderRadius = radius + "px";
  this._dePointer.appendChild(pointer);
  this.domElem.appendChild(this._dePointer);
};

p._createEndShadow = function () {
  this._deEndShadow = document.createElement("div");
  this._deEndShadow.style.position = "absolute";
  this._deEndShadow.style.top = "0px";
  this._deEndShadow.style.right = "0px";
  this._deEndShadow.style.height = "100%";
  this._deEndShadow.style.width = "0px";
  this._deEndShadow.style.pointerEvents = "none";
  this._deEndShadow.style.backgroundColor = "rgba(83,83,83,0.73)";
  this.domElem.appendChild(this._deEndShadow);

  var handler = document.createElement("div");
  handler.style.position = "absolute";
  handler.style.top = "0px";
  handler.style.left = "0px";
  handler.style.height = "100%";
  handler.style.width = "3px";
  handler.style.cursor = "ew-resize";
  handler.style.pointerEvents = "auto";
  this._deEndShadow.appendChild(handler);

  amgui.makeDraggable({
    deTarget: handler,
    thisArg: this,
    onDown: function () {
      return {
        length: this.length };
    },
    onMove: function (md, mx) {
      var time = this.screenXToTime(mx);
      time = this.magnetizeTime(time);

      this.length = time;
    }
  });
};








//Steps
function getSteps() {
  return [{
    small: 5,
    big: 50,
    time: 50,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 10,
    big: 100,
    time: 100,
    format: function (ms) {
      return ms + "ms";
    }
  }, {
    small: 100,
    big: 1000,
    time: 1000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 500,
    big: 5000,
    time: 5000,
    format: function (ms) {
      var min = parseInt(ms / 60000);
      var sec = parseInt(ms / 1000) % 60;

      return (min ? min + ":" + two(sec) : sec) + "s";
    }
  }, {
    small: 10000,
    big: 60000,
    time: 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }, {
    small: 60000,
    big: 5 * 60000,
    time: 5 * 60000,
    format: function (ms) {
      var min = parseInt(ms / 60000) % 60;
      var hour = parseInt(ms / 3600000);

      return (hour ? hour + ":" + two(min) : min) + "m";
    }
  }];

  function two(num) {
    return ("00" + num).substr(-2);
  }
}

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./decorTimebarNavigator":"/home/azazdeaz/repos/animachine/src/editor/timeline/decorTimebarNavigator.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/Timeline.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var Timebar = require("./Timebar");
var EaseMap = require("./EaseMap");
var amgui = require("../amgui");
var mineSave = require("./mineSave");
var UglifyJS = require("uglify-js");
var mstSaveScript = require("./script.save.mst");
var InlineEaseEditor = require("./InlineEaseEditor");
var Toolbar = require("../toolbar");

function Timeline(opt) {
  EventEmitter.call(this);
  this.setMaxListeners(1100);

  this.inputs = {};

  this._headerH = 23;

  this._onSelectTrack = this._onSelectTrack.bind(this);
  this._onChangeTrack = this._onChangeTrack.bind(this);
  this._onDeleteTrack = this._onDeleteTrack.bind(this);
  this._onMoveTrack = this._onMoveTrack.bind(this);
  this._onChangeTime = this._onChangeTime.bind(this);
  this._onChangeTape = this._onChangeTape.bind(this);
  this._onWindowResize = this._onWindowResize.bind(this);
  this._onSelectNewTrack = this._onSelectNewTrack.bind(this);
  this._onTogglePlayPause = this._onTogglePlayPause.bind(this);
  this._onTimebarSeek = this._onTimebarSeek.bind(this);
  this._onChangeTrackHeight = this._onChangeTrackHeight.bind(this);
  this._onStartEditCurrTime = this._onStartEditCurrTime.bind(this);
  this._onFinishEditCurrTime = this._onFinishEditCurrTime.bind(this);
  this._onChangeInpCurrTime = this._onChangeInpCurrTime.bind(this);
  this._animPlay = this._animPlay.bind(this);

  this._timebar = new Timebar({
    height: this._headerH,
    timescale: 0.12,
    length: 6000
  });

  this.toolbar = new Toolbar({
    height: this._headerH,
    bgColor: "none" });

  this._createBase();
  this._createPointerLine();

  this.inlineEaseEditor = new InlineEaseEditor();
  this.domElem.appendChild(this.inlineEaseEditor.domElem);

  this._refreshTimebarWidth();
  this._refreshDeCurrTime();

  this._tracks = [];
  this._mapTrackDatas = new WeakMap();

  this.easeMap = new EaseMap();

  this._timebar.on("changeTime", this.emit.bind(this, "changeTime"));
  this._timebar.on("changeTape", this.emit.bind(this, "changeTape"));
  this._timebar.on("changeTimescale", this.emit.bind(this, "changeTimescale"));
  this._timebar.on("changeTime", this._onChangeTime);
  this._timebar.on("changeTape", this._onChangeTape);
  this._timebar.on("seek", this._onTimebarSeek);

  amgui.callOnAdded(this.domElem, this._refreshTimebarWidth, this);

  window.addEventListener("resize", this._onWindowResize);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Timeline, EventEmitter);
var p = Timeline.prototype;
module.exports = Timeline;






Object.defineProperties(p, {
  currTime: {
    set: function (v) {
      this._timebar.currTime = v;
    },
    get: function () {
      return this._timebar.currTime;
    }
  },
  timescale: {
    get: function () {
      return this._timebar.timescale;
    }
  },
  tracks: {
    get: function () {
      return this._tracks;
    }
  },
  length: {
    get: function () {
      return this._timebar.length;
    }
  },
  width: {
    get: function () {
      return this._timebar.width;
    }
  },
  start: {
    get: function () {
      return this._timebar.start;
    }
  } });

p.getSave = function () {
  var save = {
    timebar: {
      currTime: this._timebar.currTime,
      timescale: this._timebar.timescale,
      length: this._timebar.length },
    tracks: [] };

  this._tracks.forEach(function (track) {
    save.tracks.push({
      type: track.type,
      data: track.getSave()
    });
  });

  console.log(JSON.stringify(save));

  return JSON.stringify(save);
};

p.useSave = function (save) {
  save = mineSave(save);

  if (!save) {
    alert("Can't use this save");
  }

  this.clear();

  save = _.extend({
    timebar: {},
    tracks: []
  }, save);

  this._timebar.currTime = save.timebar.currTime;
  this._timebar.timescale = save.timebar.timescale;
  this._timebar.length = save.timebar.length;

  save.tracks.forEach(function (trackData) {
    var TrackClass = am.trackTypes[trackData.type], track = new TrackClass(trackData.data);

    this.addTrack(track);
  }, this);

  _.invoke(this._tracks, "renderTime", this.currTime);

  this._refreshMagnetPoints();

  am.history.clear();
};

p.getScript = function (opt) {
  opt = opt || {};

  var script, playerScripts = [];

  this._tracks.forEach(function (track) {
    playerScripts.push(track.getScript());
  });

  script = Mustache.render(mstSaveScript, {
    name: "amsave",
    saveJson: opt.includeSave && this.getSave(),
    trackPlayerGens: playerScripts.join(",\n"),
    autoPlay: opt.autoPlay
  });

  if (opt.minify) {
    console.log(script);
    script = minify(script);
  }

  console.log(script);

  return script;

  function minify(code) {
    return code; //TODO

    var result = UglifyJS.minify(code, {
      fromString: true,
      mangle: false,
      output: {
        comments: /@amsave/ },
      compress: {}
    });

    return result.code;

    var toplevel = null;
    toplevel = UglifyJS.parse(code, {
      filename: "save",
      toplevel: toplevel
    });

    toplevel.figure_out_scope();

    var compressor = UglifyJS.Compressor({ mangle: false });
    var compressed_ast = toplevel.transform(compressor);

    compressed_ast.figure_out_scope();
    compressed_ast.compute_char_frequency();
    compressed_ast.mangle_names();

    return compressed_ast.print_to_string({ comments: "all" });
  }
};

p.clear = function () {
  while (this._tracks.length) {
    this.removeTrack(this._tracks[0]);
  }
};

p.addTrack = function (track, skipHistory) {
  if (!skipHistory) {
    am.history.save([this.removeTrack, this, track, true], [this.addTrack, this, track, true], "add track");
  }

  this._tracks.push(track);

  this._mapTrackDatas.set(track, {
    deContOpt: createCont(track.deOptionLine, this._deOptionLineCont),
    deContKf: createCont(track.deKeyLine, this._deKeyLineCont) });

  this._onChangeTrackHeight(track);

  track.on("select", this._onSelectTrack);
  track.on("change", this._onChangeTrack);
  track.on("delete", this._onDeleteTrack);
  track.on("move", this._onMoveTrack);
  track.on("changeHeight", this._onChangeTrackHeight);

  function createCont(content, parent) {
    var de = document.createElement("div");
    de.style.width = "100%";
    de.style.height = track.height + "px";
    de.style.overflow = "hidden";
    de.style.transform = "height 0.12 easeOut";
    de.appendChild(content);
    parent.appendChild(de);

    return de;
  }
};

p.removeTrack = function (track, skipHistory) {
  if (!skipHistory) {
    am.history.save([this.addTrack, this, track, true], [this.removeTrack, this, track, true], "remove track");
  }

  var idx = this._tracks.indexOf(track);

  if (idx === -1) {
    return;
  }

  this._tracks.splice(idx, 1);

  var trackData = this._mapTrackDatas.get(track);
  $(trackData.deContOpt).remove();
  $(trackData.deContKf).remove();
  this._mapTrackDatas["delete"](track);

  track.removeListener("select", this._onSelectTrack);
  track.removeListener("change", this._onChangeTrack);
  track.removeListener("delete", this._onDeleteTrack);
  track.removeListener("move", this._onMoveTrack);
  track.removeListener("changeHeight", this._onChangeTrackHeight);

  track.dispose();
};

p.moveTrack = function (track, way) {
  var idx = this._tracks.indexOf(track);

  this._tracks.splice(idx, 1);
  idx = Math.min(this._tracks.length, Math.max(0, idx + way));
  this._tracks.splice(idx, 0, track);

  this._refreshTrackOrdering();
};

p.play = function () {
  if (this._isPlaying) return;
  this._isPlaying = true;

  this._btnTogglePlay.setToggle(true);

  _.invoke(this._tracks, "play", this.currTime);

  this._playStartTimeStamp = performance.now();
  this._playStartCurrTime = this.currTime;
  this._animPlay();
};

p.pause = function () {
  if (!this._isPlaying) return;
  this._isPlaying = false;

  this._btnTogglePlay.setToggle(false);

  _.invoke(this._tracks, "pause");

  window.cancelAnimationFrame(this._animPlayRafid);
};

p.screenXToTime = function (screenX) {
  return this._timebar.screenXToTime(screenX);
};

p.timeToRenderPos = function (time) {
  return (time + am.timeline.start) * am.timeline.timescale;
};

p.timeToScreenX = function (time) {
  return this._timebar.domElem.getBoundingClientRect().left + this.timeToRenderPos(time);
};

p.addInput = function (path, value) {
  var obj = this.inputs;

  if (typeof (path) !== "string") {
    //TODO: throw a detailed error
    throw Error();
  }

  path = path.split(".");

  path.forEach(function (name, idx, arr) {
    if (idx === arr.length - 1) {
      obj[name] = value;
    } else {
      obj = _.isPlainObject(obj[name]) ? obj[name] : {};
    }
  });

  this.emit("change.inputs");
};

p.setInputs = function (inputs) {
  if (!_.isPlainObject(inputs)) {
    //TODO: throw a detailed error
    throw Error();
  }

  this.inputs = inputs;

  this.emit("change.inputs");
};







p._animPlay = function () {
  this._animPlayRafid = window.requestAnimationFrame(this._animPlay);

  var t = Math.round(performance.now() - this._playStartTimeStamp);
  this._timebar.currTime = (this._playStartCurrTime + t) % this._timebar.length;
};

p._onTimebarSeek = function () {
  this.pause();
};

p._onSelectTrack = function (track) {
  if (this._currTrack === track) return;

  if (this._currTrack) {
    this._currTrack.deselect();
  }

  this._currTrack = track;
};

p._onChangeTrack = function () {
  this._refreshMagnetPoints();
};

p._onDeleteTrack = function (track) {
  this.removeTrack(track);
};

p._onMoveTrack = function (track, way) {
  this.moveTrack(track, way);
};

p._onChangeTime = function () {
  this._refreshDePointer();

  this._refreshDeCurrTime();
};

p._onChangeTape = function () {
  // var left = (this._timebar.start * this.timescale);

  // this._deKeyLineCont.style.left = left + 'px';
  // this._deKeyLineCont.style.width = 'calc(100% + ' + (-left) + 'px)';

  this._refreshDePointer();
};

p._onChangeTrackHeight = function (track) {
  var h = track.height, trackData = this._mapTrackDatas.get(track);

  trackData.deContOpt.style.height = h + "px";
  trackData.deContKf.style.height = h + "px";
};

p._onWindowResize = function () {
  this._refreshTimebarWidth();
};

p._onTogglePlayPause = function () {
  if (this._isPlaying) {
    this.pause();
  } else {
    this.play();
  }
};

p._onSelectNewTrack = function (e) {
  var addTrack = function (type) {
    var TrackClassf = am.trackTypes[type];

    this.addTrack(new TrackClass());
  }.bind(this);

  switch (e.detail.selection) {
    case "css":
      addTrack("css_track_type");
      break;

    case "js":
      addTrack("js_track_type");
      break;

    default:
      am.dialogs.WIP.show();

  }
};

p._onStartEditCurrTime = function () {
  this._inpCurrTime.value = this.currTime;

  this._deCurrTime.style.display = "none";
  this._inpCurrTime.style.display = "block";

  this._inpCurrTime.focus();
};

p._onFinishEditCurrTime = function () {
  this._inpCurrTime.style.display = "none";
  this._deCurrTime.style.display = "block";
};

p._onChangeInpCurrTime = function () {
  this._timebar.currTime = this._inpCurrTime.value;
};








p._refreshTrackOrdering = function () {
  this._tracks.forEach(function (track) {
    var trackData = this._mapTrackDatas.get(track);

    this._deOptionLineCont.appendChild(trackData.deContOpt);
    this._deKeyLineCont.appendChild(trackData.deContKf);
  }, this);
};

p._refreshMagnetPoints = function () {
  var magnetPoints = [];

  this._tracks.forEach(function (track) {
    if (typeof track.getMagnetPoints === "function") {
      magnetPoints = magnetPoints.concat(track.getMagnetPoints());
    }
  });

  magnetPoints = _.uniq(magnetPoints);

  this._timebar.magnetPoints = magnetPoints;
};

p._refreshTimebarWidth = function () {
  this._timebar.width = this._deRight.offsetWidth;
};

p._refreshDePointer = function () {
  var left = (this._timebar.start + this.currTime) * this.timescale;
  this._dePointerLine.style.transform = "translateX(" + left + "px)";
  this._dePointerLine.style.visibility = left < 0 ? "hidden" : "";
};

p._refreshDeCurrTime = function () {
  var time = this.currTime, min, sec, ms, str = "";

  min = ~ ~(time / 60000);
  time %= 60000;
  sec = ~ ~(time / 1000);
  time %= 1000;
  ms = ~ ~time;

  if (min) {
    str += min + ":";
    sec = ("00" + sec).substr(-2);
  }
  if (sec) {
    str += sec + ".";
    ms = ("000" + ms).substr(-3);
  }
  str += ms;
  this._deCurrTime.textContent = str;
};







p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.backgroundColor = amgui.color.bg0;
  this.domElem.style.display = "flex";
  this.domElem.style.pointerEvents = "auto";

  this._deLeft = document.createElement("div");
  this._deLeft.style.backgroundColor = amgui.color.bg0;
  this._deLeft.style.display = "flex";
  this._deLeft.style.flexDirection = "column";
  this._deLeft.style.width = "300px";
  this._deLeft.style.height = "100%";
  this.domElem.appendChild(this._deLeft);

  this._createSettingsHead();

  this._deDivider = document.createElement("div");
  this._deDivider.style.backgroundColor = amgui.color.bg3;
  this._deDivider.style.width = "1px";
  this._deDivider.style.height = "100%";
  this.domElem.appendChild(this._deDivider);

  this._deRight = document.createElement("div");
  this._deRight.style.display = "flex";
  this._deRight.style.flexDirection = "column";
  this._deRight.style.position = "relative";
  this._deRight.style.backgroundColor = amgui.color.bg0;
  this._deRight.style.flex = "1";
  this._deRight.style.height = "100%";
  this.domElem.appendChild(this._deRight);

  this._timebar.domElem.style.height = "23px";
  this._deRight.appendChild(this._timebar.domElem);

  //keeps the scroll bar and the scroll container(_deKeyLineCont2)
  this._deKeyLineCont3 = document.createElement("div");
  this._deKeyLineCont3.style.position = "relative";
  this._deKeyLineCont3.style.display = "flex";
  this._deKeyLineCont3.style.flex = "1";
  this._deKeyLineCont3.style.height = "100%";
  this._deKeyLineCont3.style.width = "100%";
  this._deKeyLineCont3.style.overflow = "hidden";
  this._deRight.appendChild(this._deKeyLineCont3);

  this._deOptionLineCont2 = document.createElement("div");
  this._deOptionLineCont2.style.position = "relative";
  this._deOptionLineCont2.style.flex = "1";
  this._deOptionLineCont2.style.width = "100%";
  this._deOptionLineCont2.style.height = "100%";
  this._deOptionLineCont2.style.overflow = "hidden";
  this._deLeft.appendChild(this._deOptionLineCont2);

  this._deKeyLineCont2 = document.createElement("div");
  this._deKeyLineCont2.style.position = "relative";
  this._deKeyLineCont2.style.flex = "1";
  this._deKeyLineCont3.appendChild(this._deKeyLineCont2);

  //this container is moving with the timeline
  this._deKeyLineCont = document.createElement("div");
  this._deKeyLineCont.style.position = "relative";
  this._deKeyLineCont.style.width = "100%";
  this._deKeyLineCont2.appendChild(this._deKeyLineCont);

  this._deOptionLineCont = document.createElement("div");
  this._deOptionLineCont.style.position = "relative";
  this._deOptionLineCont2.appendChild(this._deOptionLineCont);

  this._deRange = amgui.createRange({
    height: "auto",
    parent: this._deKeyLineCont3,
    vertical: true
  });

  amgui.makeScrollable({
    deCont: [this._deOptionLineCont2, this._deKeyLineCont3],
    deTarget: [this._deOptionLineCont, this._deKeyLineCont],
    deRange: this._deRange
  });

  this._createDividerHandler();
};


p._createSettingsHead = function () {
  this._deSettingsHead = document.createElement("div");
  this._deSettingsHead.style.backgroundColor = "darkgreey";
  this._deSettingsHead.style.position = "relative";
  this._deSettingsHead.style.display = "flex";
  this._deSettingsHead.style.width = "100%";
  this._deSettingsHead.style.height = this._headerH + "px";
  this._deLeft.appendChild(this._deSettingsHead);
  amgui.createSeparator({ parent: this._deSettingsHead });

  this._deSettingsHead.appendChild(this.toolbar.domElem);

  this._btnNewTrack = amgui.createIconBtn({
    tooltip: "add new track",
    icon: "plus-squared",
    size: this._headerH,
    // parent: this._deSettingsHead,
    display: "inline-block" });
  this.toolbar.addIcon({ deIcon: this._btnNewTrack });

  amgui.bindDropdown({
    deTarget: this._btnNewTrack,
    deMenu: amgui.createDropdown({
      options: ["css", "js", "attribute", "media", "timeline", "three.js", "pixi.js", "easel.js", "kinetic.js", "raphael.js", "snap.js"],
      onSelect: this._onSelectNewTrack }) });


  this._btnTogglePlay = amgui.createToggleIconBtn({
    tooltip: "play/pause preview",
    iconOn: "pause",
    iconOff: "play",
    size: this._headerH,
    // parent: this._deSettingsHead,
    display: "inline-block",
    onClick: this._onTogglePlayPause
  });
  this.toolbar.addIcon({ deIcon: this._btnTogglePlay });

  this._deCurrTime = amgui.createLabel({
    caption: "",
    parent: this._deSettingsHead
  });
  this._deCurrTime.style.flex = "1";
  this._deCurrTime.style.textAlign = "right";
  this._deCurrTime.style.fontSize = "12px";
  this._deCurrTime.style.marginRight = "2px";
  this._deCurrTime.style.color = amgui.color.bg3;
  this._deCurrTime.addEventListener("click", this._onStartEditCurrTime);

  this._inpCurrTime = amgui.createInput({
    type: "number",
    parent: this._deSettingsHead
  });
  this._inpCurrTime.style.display = "none";
  this._inpCurrTime.style.flex = "1";
  this._inpCurrTime.style.textAlign = "right";
  this._inpCurrTime.style.fontSize = "12px";
  this._inpCurrTime.style.marginRight = "2px";
  this._inpCurrTime.style.color = amgui.color.bg3;
  this._inpCurrTime.addEventListener("blur", this._onFinishEditCurrTime);
  this._inpCurrTime.addEventListener("change", this._onChangeInpCurrTime);
};

p._createDividerHandler = function () {
  this._deDividerHandler = document.createElement("div");
  this._deDividerHandler.style.top = this._headerH + "px";
  this._deDividerHandler.style.left = this._deLeft.style.width;
  this._deDividerHandler.style.width = "1px";
  this._deDividerHandler.style.position = "absolute";
  this._deDividerHandler.style.height = "calc(100% - " + this._headerH + "px)";
  this._deDividerHandler.style.transform = "scaleX(3)";
  this._deDividerHandler.style.cursor = "ew-resize";
  this.domElem.appendChild(this._deDividerHandler);

  amgui.makeDraggable({
    deTarget: this._deDividerHandler,
    thisArg: this,

    onMove: function (md, mx) {
      var left = mx - this.domElem.getBoundingClientRect().left + "px";

      this._deLeft.style.width = left;
      this._deDividerHandler.style.left = left;

      this._refreshTimebarWidth();
    }
  });
};

p._createPointerLine = function () {
  this._dePointerLine = document.createElement("div");
  this._dePointerLine.style.top = this._headerH + "px";
  this._dePointerLine.style.width = "0px";
  this._dePointerLine.style.position = "absolute";
  this._dePointerLine.style.pointerEvents = "none";
  this._dePointerLine.style.height = "100%";
  this._dePointerLine.style.borderLeft = "1px solid red";
  this._deRight.appendChild(this._dePointerLine);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../toolbar":"/home/azazdeaz/repos/animachine/src/editor/toolbar/Toolbar.js","./EaseMap":"/home/azazdeaz/repos/animachine/src/editor/timeline/EaseMap.js","./InlineEaseEditor":"/home/azazdeaz/repos/animachine/src/editor/timeline/InlineEaseEditor.js","./Timebar":"/home/azazdeaz/repos/animachine/src/editor/timeline/Timebar.js","./mineSave":"/home/azazdeaz/repos/animachine/src/editor/timeline/mineSave.js","./script.save.mst":"/home/azazdeaz/repos/animachine/src/editor/timeline/script.save.mst","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js","uglify-js":"/home/azazdeaz/repos/animachine/node_modules/uglify-js/tools/node.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/decorTimebarNavigator.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");


function decorTimebarNavigator(timebar) {
  var deNav, deLeftHand, deRightHand, dragMode;

  createBase();
  timebar.domElem.appendChild(deNav);

  amgui.makeDraggable({
    deTarget: deNav,
    onDown: function (e) {
      if (e.target === deLeftHand) dragMode = "start";else if (e.target === deRightHand) dragMode = "end";else dragMode = "move";

      return {
        start: timebar.start,
        visibleTime: timebar.visibleTime,
        timescale: timebar.timescale };
    },
    onMove: function (md, mx) {
      var scale = timebar.width / timebar.length, move = (mx - md.mx) / scale, start = md.start - move;

      if (dragMode === "move") {
        timebar.start = start;
      } else if (dragMode === "start") {
        timebar.start = start;
        timebar.visibleTime = md.visibleTime - move;
      } else if (dragMode === "end") {
        timebar.visibleTime = md.visibleTime + move;

        var mdPos = (md.start + timebar.currTime) * md.timescale;
        timebar.start = -((timebar.currTime * timebar.timescale) - mdPos) / timebar.timescale;
      }
    },
    onUp: function () {
      dragMode = undefined;
      onMLeave();
    },
    onEnter: function () {
      deNav.style.transform = "scaleY(1)";
    },
    onLeave: onMLeave
  });

  timebar.on("changeTape", onChangeTape);


  function onChangeTape() {
    var scale = timebar.width / timebar.length;

    deNav.style.left = (-timebar.start * scale) + "px";
    deNav.style.width = (timebar.visibleTime * scale) + "px";
  }

  function onMLeave() {
    if (!dragMode) {
      deNav.style.transform = "scaleY(0.4)";
    }
  }

  function createBase() {
    deNav = document.createElement("div");
    deNav.style.position = "absolute";
    deNav.style.top = "0px";
    deNav.style.height = "7px";
    deNav.style.cursor = "move";
    deNav.style.transformOrigin = "center top";
    deNav.style.background = amgui.color.bg2;

    deRightHand = createHandler("right");
    deLeftHand = createHandler("left");
    onMLeave();
  }

  function createHandler(side) {
    var de = document.createElement("div");
    de.style.position = "absolute";
    de.style[side] = "0px";
    de.style.top = "0px";
    de.style.height = "100%";
    de.style.width = "8%";
    de.style.minWidth = "1px";
    de.style.maxWidth = "7px";
    de.style.cursor = "ew-resize";
    deNav.appendChild(de);

    return de;
  }
}

module.exports = decorTimebarNavigator;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js"}],"/home/azazdeaz/repos/animachine/src/editor/timeline/mineSave.js":[function(require,module,exports){
"use strict";

module.exports = mine;

function mine(str) {
  if (typeof (str) === "object") {
    return str;
  }

  var rx = /\/\*\*[\s\S]*@amsave[\s\S]*\*\/[\s\S].*var\s.*SAVEJSON\s.*=([\s\S].*)/, m = rx.exec(str), json;

  if (m && m[1]) {
    json = extractJSON(m[1])[0];

    if (json) {
      return json;
    }
  }
}

//http://stackoverflow.com/a/10574546/3615288
function extractJSON(str) {
  var firstOpen, firstClose, candidate;
  firstOpen = str.indexOf("{", firstOpen + 1);
  do {
    firstClose = str.lastIndexOf("}");
    console.log("firstOpen: " + firstOpen, "firstClose: " + firstClose);
    if (firstClose <= firstOpen) {
      return null;
    }
    do {
      candidate = str.substring(firstOpen, firstClose + 1);
      console.log("candidate: " + candidate);
      try {
        var res = JSON.parse(candidate);
        console.log("...found");
        return [res, firstOpen, firstClose + 1];
      } catch (e) {
        console.log("...failed");
      }
      firstClose = str.substr(0, firstClose).lastIndexOf("}");
    } while (firstClose > firstOpen);
    firstOpen = str.indexOf("{", firstOpen + 1);
  } while (firstOpen !== -1);
}

},{}],"/home/azazdeaz/repos/animachine/src/editor/timeline/script.save.mst":[function(require,module,exports){
module.exports = ";(function (root) {\n    'use strict';\n\n    {{#saveJson}}\n    /**@amsave*/\n    var SAVEJSON = '{{{saveJson}}}';\n    {{/saveJson}}\n\n    var trackPlayerGens = [{{{trackPlayerGens}}}];\n\n    root.am = root.am || {};\n    root.am.pageScripts = root.am.pageScripts || {};\n\n    var reg = root.am.pageScripts.{{name}} = {\n        \n        createPlayer: function (opt) {\n\n            var tl = new TimelineMax({paused: true});\n\n            trackPlayerGens.forEach(function (create) {\n\n                tl.add(create(opt), 0);\n            });\n\n            return tl;\n        },\n        \n        {{#saveJson}}\n        saveJson: SAVEJSON,\n        {{/saveJson}}\n    };\n\n\n    if (typeof exports === 'object') {\n        \n        module.exports = reg;\n    }\n\n\n    {{#autoPlay}}\n    if (document.readyState == 'interactive' || document.readyState == 'complete') {\n\n        reg.createPlayer().play();\n    }\n    else {\n        document.addEventListener('DOMContentLoaded', function () {\n\n            reg.createPlayer().play();\n        });\n    }\n    {{/autoPlay}}\n\n    //-- AMD --//\n    if (typeof define === 'function' && define.amd) {\n        \n        define(function () {\n            return reg;\n        });\n    }\n    \n}(this));\n\n\n\n\n\n\n\n\n\n/**\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 – MIT License\n *\n * Credits: is based on Firefox's nsSMILKeySpline.cpp\n * Usage:\n * var spline = BezierEasing(0.25, 0.1, 0.25, 1.0)\n * spline(x) => returns the easing value | x must be in [0, 1] range\n *\n */\n!function(a){window.BezierEasing=a()}(function(){function i(a,i,j,k){function n(a,b){return 1-3*b+3*a}function o(a,b){return 3*b-6*a}function p(a){return 3*a}function q(a,b,c){return((n(b,c)*a+o(b,c))*a+p(b))*a}function r(a,b,c){return 3*n(b,c)*a*a+2*o(b,c)*a+p(b)}function s(c,d){for(var e=0;b>e;++e){var f=r(d,a,j);if(0===f)return d;var g=q(d,a,j)-c;d-=g/f}return d}function t(){for(var b=0;f>b;++b)m[b]=q(b*g,a,j)}function u(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=q(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function v(b){for(var d=0,e=1,h=f-1;e!=h&&m[e]<=b;++e)d+=g;--e;var i=(b-m[e])/(m[e+1]-m[e]),k=d+i*g,l=r(k,a,j);return l>=c?s(b,k):0===l?k:u(b,d,d+g)}function x(){w=!0,(a!=i||j!=k)&&t()}if(4!==arguments.length)throw new Error(\"BezierEasing requires 4 arguments.\");for(var l=0;4>l;++l)if(\"number\"!=typeof arguments[l]||isNaN(arguments[l])||!isFinite(arguments[l]))throw new Error(\"BezierEasing arguments should be integers.\");if(0>a||a>1||0>j||j>1)throw new Error(\"BezierEasing x values must be in [0, 1] range.\");var m=h?new Float32Array(f):new Array(f),w=!1,y=function(b){return w||x(),a===i&&j===k?b:0===b?0:1===b?1:q(v(b),i,k)};y.getControlPoints=function(){return[{x:a,y:i},{x:j,y:k}]};var z=[a,i,j,k],A=\"BezierEasing(\"+z+\")\";y.toString=function(){return A};var B=\"cubic-bezier(\"+z+\")\";return y.toCSS=function(){return B},y}var a=this,b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h=\"Float32Array\"in a;return i.css={ease:i(.25,.1,.25,1),linear:i(0,0,1,1),\"ease-in\":i(.42,0,1,1),\"ease-out\":i(0,0,.58,1),\"ease-in-out\":i(.42,0,.58,1)},i});";

},{}],"/home/azazdeaz/repos/animachine/src/editor/toolbar/Toolbar.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function Toolbar(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._height = opt.height || 24;
  this._icons = [];
  this._separators = {};

  this.domElem = document.createElement("div");
  this.domElem.style.position = "fixed";
  this.domElem.style.backgroundColor = opt.bgColor || amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.style.height = this._height + "px";

  this.addSeparator("first");
  this.addSeparator("tools");
  this.addSeparator("handler");
  this.addSeparator("global");
  this.addSeparator("rest");
}

inherits(Toolbar, EventEmitter);
var p = Toolbar.prototype;
module.exports = Toolbar;


p.addIcon = function (opt) {
  var deIcon = opt.deIcon || amgui.createIconBtn({
    size: this._height,
    icon: opt.icon,
    onClick: opt.onClick
  });

  if (opt.tooltip) {
    amgui.addTooltip({
      deTarget: deIcon,
      text: opt.tooltip,
      side: "bottom"
    });
  }

  deIcon.style.display = "inline-block";

  this.domElem.insertBefore(deIcon, this._separators[opt.separator || "rest"]);

  return deIcon;
};

p.removeIcon = function (deIcon) {
  deIcon.parentNode.removeChild(deIcon);
};

p.addSeparator = function (name) {
  var de = document.createElement("span");
  this.domElem.appendChild(de);
  this._separators[name] = de;
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/tour/Tour.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

var cssAmgui = require("../assets/fontello/css/amgui.css");

function Tour() {
  EventEmitter.call(this);
}

inherits(Tour, EventEmitter);
var p = Tour.prototype;
module.exports = Tour;

p.init = function () {
  if (this._inited) return;
  this._inited = true;

  this._callRunningLoop = this._callRunningLoop.bind(this);

  this._steps = [];
  this._dePointers = [];
  this._deCheckboxes = [];

  this._createBase();
  am.workspace.fillTab("tour", this.domElem);

  this.prev = this.prev.bind(this);
  this.next = this.next.bind(this);
};

p.setup = function (data) {
  this.init();

  window.addEventListener("click", this._callRunningLoop);

  data.steps.forEach(function (step) {
    step.domElem = document.createElement("div");
    step.domElem.innerHTML = step.content;
    step._checklist = [];

    this._steps.push(step);
  }, this);

  this.goto(0);
};

p.next = function () {
  var idx = this._steps.indexOf(this._currStep) + 1;
  this.goto(idx);
};

p.prev = function () {
  var idx = this._steps.indexOf(this._currStep) - 1;
  this.goto(idx);
};

p.goto = function (idx) {
  idx = Math.max(0, Math.min(this._steps.length - 1, idx));

  this.removeAllPointer();

  if (this._currStep) {
    clearInterval(this._runningLoopSetI);

    if (typeof (this._currStep.onClose) === "function") {
      this._currStep.onClose(this);
    }
    this._deStepCont.removeChild(this._currStep.domElem);
  }

  this._currStep = this._steps[idx];
  this._deStepCont.appendChild(this._currStep.domElem);

  if (typeof (this._currStep.onReady) === "function") {
    this._currStep.onReady(this);
  }

  if (typeof (this._currStep.runningLoop) === "function") {
    this._runningLoopSetI = setInterval(this._callRunningLoop, 312);
  }

  this._deState.textContent = (idx + 1) + "/" + this._steps.length + " " + (this._currStep.title || "");

  this._refreshChecklist();
};

p.checkIn = function (idx, step) {
  this._check(idx, step, true);
};

p.checkOut = function (idx, step) {
  this._check(idx, step, false);
};

p._check = function (idx, step, val) {
  step = step || this._currStep;
  if (!step) return;

  step._checklist[idx] = val;

  this._refreshChecklist();
};

p.isChecked = function (idx, step) {
  step = step || this._currStep;
  if (!step) return;

  return step._checklist[idx];
};

p.addPointer = function (opt) {
  var dePointer = this._createTriangle();
  this._dePointers.push(dePointer);

  var x, y, r, brt = opt.deTarget.getBoundingClientRect();

  switch (opt.side) {
    case "right":
      x = brt.right;
      y = brt.top + brt.height / 2;
      r = 0;

    case "bottom":
      x = brt.left + brt.width / 2;
      y = brt.bottom;
      r = 90;

    case "left":
      x = brt.left;
      y = brt.top + brt.height / 2;
      r = 180;

    case "top":
    default:
      x = brt.left + brt.width / 2;
      y = brt.top;
      r = -90;
  }

  dePointer.style.left = x + "px";
  dePointer.style.top = y + "px";
  dePointer.rotate(r);

  return dePointer;
};

p.removePointer = function (dePointer) {
  var idx = this._dePointers.indexOf(dePointer);

  if (idx !== -1) {
    this._dePointers.splice(idx, 1);

    if (dePointer.parentNode) {
      dePointer.parentNode.removeChild(dePointer);
    }
  }
};

p.removeAllPointer = function () {
  while (this._dePointers.length) {
    this.removePointer(this._dePointers[0]);
  }
};

p._callRunningLoop = function () {
  if (this._currStep && this._currStep.runningLoop) {
    this._currStep.runningLoop(this);
  }
};





p._refreshChecklist = function () {
  if (!this._currStep) return;

  for (var i = 0; i < this._currStep.checklistLength; ++i) {
    if (!this._deCheckboxes[i]) {
      this._deCheckboxes.push(this._createCheckbox());
    }

    this._deCheckboxes[i].setToggle(!!this._currStep._checklist[i]);
    this._deCheckboxes[i].style.display = "inline-block";
  }

  for (; i < this._deCheckboxes.length; ++i) {
    this._deCheckboxes[i].style.display = "none";
  }
};




p._createBase = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";
  this.domElem.style.flexDirection = "column";
  this.domElem.style.background = amgui.color.bg0;

  this._deHead = document.createElement("div");
  this._deHead.style.display = "flex";
  this._deHead.style.width = "100%";
  this._deHead.style.height = "23px";
  this.domElem.appendChild(this._deHead);

  this._deStepContScroll = document.createElement("div");
  this._deStepContScroll.style.position = "relative";
  this._deStepContScroll.style.flex = "1";
  this.domElem.appendChild(this._deStepContScroll);

  this._srStepContScroll = this._deStepContScroll.createShadowRoot();

  this._deStepCont = document.createElement("div");
  this._deStepCont.style.position = "absolute";
  this._deStepCont.style.width = "100%";
  this._srStepContScroll.appendChild(this._deStepCont);

  var style = document.createElement("style");
  style.innerHTML = cssAmgui;
  this._srStepContScroll.appendChild(style);


  this._scrollRange = amgui.createRange({
    parent: this._deStepContScroll,
    height: "100%",
    vertical: true
  });

  this._scrollRange.style.position = "absolute";
  this._scrollRange.style.top = "0px";
  this._scrollRange.style.right = "0px";

  amgui.makeScrollable({
    deCont: this._deStepContScroll,
    deTarget: this._deStepCont,
    deRange: this._scrollRange
  });

  this._deState = amgui.createLabel({
    parent: this._deHead });
  this._deState.style.flex = 1;

  this._deCheckboxCont = document.createElement("span");
  this._deHead.appendChild(this._deCheckboxCont);

  this._btnPrev = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-left",
    onClick: this.prev.bind(this)
  });

  this._btnNext = amgui.createIconBtn({
    parent: this._deHead,
    icon: "angle-right",
    onClick: this.next.bind(this)
  });
};

p._createCheckbox = function () {
  var de = amgui.createToggleIconBtn({
    parent: this._deCheckboxCont,
    iconOn: "circle",
    iconOff: "circle-thin",
    changeColor: true,
    colorOn: "lime" });

  de.style.pointerEvents = "none";

  return de;
};

p._createTriangle = function () {
  var size = 12;

  var de = document.createElement("div");
  de.style.position = "absolute";
  de.style.pointerEvents = "none";
  am.deDialogCont.appendChild(de);

  var deTriangle = document.createElement("div");
  deTriangle.style.position = "absolute";
  deTriangle.style.width = "0";
  deTriangle.style.height = "0";
  deTriangle.style.borderStyle = "solid";
  deTriangle.style.transformOrigin = "left center";
  deTriangle.style.borderWidth = size + "px " + (2 * size) + "px " + size + "px 0";
  deTriangle.style.borderColor = "transparent #ff000d transparent transparent";

  de.appendChild(deTriangle);


  de.rotate = function (r) {
    deTriangle.style.transform = "rotate(" + r + "deg)";
  };

  return de;
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../assets/fontello/css/amgui.css":"/home/azazdeaz/repos/animachine/src/editor/assets/fontello/css/amgui.css","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/CheckboxInput.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function CheckboxInput(opt) {
  EventEmitter.call(this);

  this._onChangeInput = this._onChangeInput.bind(this);

  this._createBase();

  this._value = opt.value || "";
  this._defaultValue = opt.defaultValue || "";

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(CheckboxInput, EventEmitter);
var p = CheckboxInput.prototype;
module.exports = CheckboxInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v = !!v;

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};







p._onChangeInput = function () {
  this.value = this._input.checked;
};



p._refreshInput = function () {
  if (this._input.checked !== this._value) {
    this._input.checked = this._value;
  }
};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";

  this._input = amgui.createCheckbox({
    parent: this.domElem,
    onChange: this._onChangeInput,
    flex: 1 });
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/ColorInput.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

var colorPicker;

function ColorInput(opt) {
  EventEmitter.call(this);

  this._onChangeInput = this._onChangeInput.bind(this);
  this._onChangePicker = this._onChangePicker.bind(this);
  this._onClickShowPicker = this._onClickShowPicker.bind(this);

  this._createBase();

  this._value = opt.value || "";
  this._defaultValue = opt.defaultValue || "#000000";

  ColorInput.initColorPicker();

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(ColorInput, EventEmitter);
var p = ColorInput.prototype;
module.exports = ColorInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};







p._onChangeInput = function () {
  this.value = this._input.value;
};

p._onChangePicker = function () {
  this.value = colorPicker.getColor();
};

p._onClickShowPicker = function () {
  var br = this._btnShowPicker.getBoundingClientRect();
  colorPicker.show(br.left, br.bottom, this.value || this._defaultValue, this._onChangePicker);
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";

  this._input = amgui.createInput({
    parent: this.domElem,
    onChange: this._onChangeInput,
    flex: 1 });
  this._input.style.textAlign = "right";
  this._input.style.paddingRight = "2px";

  this._btnShowPicker = amgui.createIconBtn({
    parent: this.domElem,
    icon: "color-adjust",
    onClick: this._onClickShowPicker });
};

ColorInput.initColorPicker = function () {
  if (colorPicker) return;

  var onChange, de = amgui.createDiv({
    // parent: am.deDialogCont,
    parent: document.body,
    display: "none",
    width: "345px",
    height: "345px" });

  de.setAttribute("data-am-nopick", 1);
  de.style.zIndex = 999999;

  colorPicker = new ColorPicker({
    size: 2,
    appenTo: de,
    actionCallback: function () {
      if (onChange) {
        onChange(colorPicker.getColor());
      }
    }
  });

  colorPicker.domElem = de;

  $(".cp-app").css("position", "relative");

  colorPicker.getColor = function () {
    if (colorPicker.color.alpha === 1) {
      return "#" + colorPicker.color.HEX;
    } else {
      return "rgba(" + ~ ~(colorPicker.color.colors.RND.rgb.r) + "," + ~ ~(colorPicker.color.colors.RND.rgb.g) + "," + ~ ~(colorPicker.color.colors.RND.rgb.b) + "," + colorPicker.color.colors.alpha + ")";
    }
  };

  colorPicker.show = function (x, y, color, _onChange) {
    de.style.display = "block";
    amgui.placeToPoint(de, x, y);

    colorPicker.setColor(color, undefined, undefined, true);

    onChange = _onChange;
  };

  colorPicker.hide = function (x, y) {
    onChange = undefined;

    de.style.display = "none";
  };
  $(".cp-exit").click(colorPicker.hide);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var defineCompactProperty = require("./defineCompactProperty");

function Dialog(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._setupProperties = [];
  this._offsetX = 0;
  this._offsetY = 0;

  this._createDialog();

  this.title = opt.title || "Dialog";
}

inherits(Dialog, EventEmitter);
var p = Dialog.prototype;
module.exports = Dialog;

Object.defineProperties(p, {
  title: {
    set: function (v) {
      if (!v || this._title === v) return;

      this._title = v;
      this.domElem.setTitle(this._title);
    },
    get: function () {
      return this._title;
    } },
  isOpened: {
    get: function () {
      return this._isOpened;
    }
  }
});


p.show = function (opt) {
  if (this._isOpened) return;
  this._isOpened = true;

  opt = opt || {};

  am.deDialogCont.appendChild(this.domElem);

  this._setupProperties.forEach(function (propData) {
    if (propData.name in opt) {
      this[propData.name] = opt[propData.name];
    }

    var onOpt = "on" + propData.evtName.charAt(0).toUpperCase() + propData.evtName.slice(1);

    if (onOpt in opt) {
      this.on(propData.evtName, opt[onOpt]);
    }
  }, this);

  this.emit("show");

  this.domElem.showModal();
};

p.hide = function () {
  if (!this._isOpened) return;
  this._isOpened = false;

  this.domElem.close();

  this._setupProperties.forEach(function (propData) {
    this.removeAllListeners(propData.evtName);
  }, this);

  this.emit("hide");
};

p.addProperty = function (opt) {
  this._setupProperties.push(defineCompactProperty(this, opt));
};

p.addButton = function (text, handler) {
  if (handler === "hide") {
    handler = this.hide.bind(this);
  }

  this.domElem.addButton(text, handler);
};

p.hideButton = function (text) {
  this.domElem.hideButton(text);
};

p.showButton = function (text) {
  this.domElem.showButton(text);
};

p.move = function (x, y) {
  this._offsetX = x;
  this._offsetY = y;

  this.domElem.style.transform = "translate(" + x + "px," + y + "px)";
};



p._createDialog = function () {
  if (this._isDialogCreated) return;
  this._isDialogCreated = true;

  this.deContent = document.createElement("div");
  this.deContent.style.width = "330px";
  this.deContent.style.padding = "30px 12px";
  this.deContent.setAttribute("deContent", 1);


  this.domElem = amgui.createDialog({
    title: this.title,
    content: this.deContent,
    // parent: am.deDialogCont,
    buttons: [] });

  amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function () {
      return {
        offsetX: this._offsetX,
        offsetY: this._offsetY };
    },
    onDrag: function (md) {
      this.move(md.offsetX + md.dx, md.offsetY + md.dy);
    }
  });

  this.domElem.addEventListener("click_ok", this._onClickOk);

  this.domElem.addEventListener("click", function (e) {
    var rect = this.domElem.getBoundingClientRect();

    if (rect.left > e.x || rect.right < e.x || rect.top > e.y || rect.bottom < e.y) {
      this.hide();
    }
  }.bind(this));
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./defineCompactProperty":"/home/azazdeaz/repos/animachine/src/editor/utils/defineCompactProperty.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/Ease.js":[function(require,module,exports){
"use strict";

var _toArray = function (arr) {
  return Array.isArray(arr) ? arr : Array.from(arr);
};

"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var BezierEasing = require("bezier-easing");
var defineCompactProperty = require("./defineCompactProperty");
var dialogEaseOptions = require("./dialogEaseOptions");
window.BezierEasing = BezierEasing;
function Ease(opt) {
  EventEmitter.call(this);

  this._type = "bezier";
  this._points = [];
  this.points = [0, 0, 1, 1];
  this._easer;

  this.on("change.rough", this._refreshEaser, this);

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Ease, EventEmitter);
var p = Ease.prototype;
module.exports = Ease;

Object.defineProperties(p, {
  type: {
    set: function (v) {},
    get: function () {
      return this._type;
    } },
  points: {
    set: function (v) {
      var p = this._points;

      if (p.length === v.length && p.every(function (p, idx) {
        return p === v[idx];
      })) {
        return;
      }

      p.length = 0;
      p.push.apply(this._points, v);

      this._refreshEaser();

      this.emit("change");
    },
    get: function () {
      return this._points;
    }
  }
});

defineCompactProperty(p, { name: "roughEase", type: "boolean", startValue: false, evtName: "change.rough.ease" });
defineCompactProperty(p, { name: "roughStrength", type: "float", startValue: 1, evtName: "change.rough.strength" });
defineCompactProperty(p, { name: "roughPoints", type: "int", startValue: 20, evtName: "change.rough.points" });
defineCompactProperty(p, { name: "roughClamp", type: "boolean", startValue: false, evtName: "change.rough.clamp" });
defineCompactProperty(p, { name: "roughRandomise", type: "boolean", startValue: true, evtName: "change.rough.randomise" });
defineCompactProperty(p, { name: "roughTaper", type: "string", startValue: "none", evtName: "change.rough.taper" });





p.getSave = function () {
  return {
    type: this.type,
    points: this.points };
};

p.useSave = function (save) {
  if (!save) return;

  if ("type" in save) this.type = save.type;
  if ("points" in save) this.points = save.points;
};

p.getRatio = function (p) {
  return this._easer.getRatio(p);
};

p.getEaser = function () {
  return this._easer;
};

p.getScript = function () {
  var base = "new Ease(BezierEasing(" + this.points.join() + "))";

  if (this.roughEase) {
    var roughOpt = {
      ease: "{{ease}}",
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper };
    roughOpt = JSON.stringify(roughOpt);
    //this is for avoid the quotes around the constructor call
    roughOpt = roughOpt.replace("\"{{ease}}\"", base);

    return "new RoughEase(" + roughOpt + ")";
  } else {
    return base;
  }
};

p.clone = function () {
  return new Ease(this);
};

p.match = function (ease) {
  return ease.type === this.type && ease.points[0] === this.points[0] && ease.points[1] === this.points[1] && ease.points[2] === this.points[2] && ease.points[3] === this.points[3] && ease.roughEase === this.roughEase && ease.roughStrength === this.roughStrength && ease.roughPoints === this.roughPoints && ease.roughClamp === this.roughClamp && ease.roughRandomise === this.roughRandomise && ease.roughTaper === this.roughTaper;
};


p.showOptionsDialog = function () {
  dialogEaseOptions.show({
    ease: this,
    onChangeRoughEase: function (v) {
      this.roughEase = v;
    }.bind(this),
    onChangeRoughStrength: function (v) {
      this.roughStrength = v;
    }.bind(this),
    onChangeRoughPoints: function (v) {
      this.roughPoints = v;
    }.bind(this),
    onChangeRoughClamp: function (v) {
      this.roughClamp = v;
    }.bind(this),
    onChangeRoughRandomise: function (v) {
      this.roughRandomise = v;
    }.bind(this),
    onChangeRoughTaper: function (v) {
      this.roughTaper = v;
    }.bind(this) });
};





p._refreshEaser = function () {
  this._easer = new GreenSockGlobals.Ease(BezierEasing.apply(null, _toArray(this._points)));

  if (this.roughEase) {
    this._easer = new RoughEase({
      ease: this._easer,
      strength: this.roughStrength,
      points: this.roughPoints,
      clamp: this.roughClamp,
      randomise: this.roughRandomise,
      taper: this.roughTaper });
  }
};

},{"./defineCompactProperty":"/home/azazdeaz/repos/animachine/src/editor/utils/defineCompactProperty.js","./dialogEaseOptions":"/home/azazdeaz/repos/animachine/src/editor/utils/dialogEaseOptions.js","bezier-easing":"/home/azazdeaz/repos/animachine/node_modules/bezier-easing/index.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/Key.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var Ease = require("./Ease");

function Key(opt) {
  EventEmitter.call(this);

  this._time = 0;
  this._value = "";
  this.ease = new Ease();
  this._isSelected = false;
  this._height = amgui.LINE_HEIGHT;


  this.looks = opt.looks || {
    line: {
      color: "#eee"
    },
    circle: {}
  };

  this._onSelectDropdown = this._onSelectDropdown.bind(this);
  this._onChangeEase = this._onChangeEase.bind(this);
  this._onDeselectAllKeys = this._onDeselectAllKeys.bind(this);
  this._onTranslateSelectedKeys = this._onTranslateSelectedKeys.bind(this);

  this._deDropdown = amgui.createDropdown({
    options: ["ease", "delete"],
    onSelect: this._onSelectDropdown });

  am.timeline.on("deselectAllKeys", this._onDeselectAllKeys);
  am.timeline.on("translateSelectedKeys", this._onTranslateSelectedKeys);

  if (this.ease) {
    this.ease.on("change", this._onChangeEase);
  }

  this._dragger = amgui.makeDraggable({
    deTarget: this.domElem,
    thisArg: this,
    onDown: function (e) {
      if (!e.shiftKey && !e.ctrlKey) {
        am.timeline.emit("deselectAllKeys");
      }

      //TODO shift+select (if an other key(s) selected in this line its should select thoes are between them)
      if (e.shiftKey || e.ctrlKey) {
        if (this._isSelected) {
          this.select();
        } else {
          this.deselect();
        }
      } else {
        this.select();
      }

      return {
        dragged: 0 };
    },
    onMove: function (md) {
      var diffTime = (md.dx / am.timeline.timescale) - md.dragged;

      md.dragged += diffTime;

      am.timeline.emit("translateSelectedKeys", diffTime);
    }
  });

  if (opt) {
    this.useSave(opt);
  }
}

inherits(Key, EventEmitter);
var p = Key.prototype;
module.exports = Key;

Object.defineProperties(p, {
  time: {
    set: function (v) {
      v = Math.max(0, v);

      if (!Number.isFinite(v) || this._time === v) return;

      this._time = parseInt(v);

      this.emit("changeTime", this);
    },
    get: function () {
      return this._time;
    }
  },
  value: {
    set: function (v) {
      if (this._value === v) return;

      this._value = v;
    },
    get: function () {
      return this._value;
    }
  } });









p.getSave = function () {
  return {
    value: this.value,
    time: this.time,
    ease: this.ease.getSave() };
};

p.useSave = function (save) {
  if ("value" in save) this.value = save.value;
  if ("time" in save) this.time = save.time;
  if ("ease" in save) this.ease.useSave(save.ease);
};

p.select = function () {
  if (this._isSelected) return;

  this._isSelected = true;

  this.emit("select");
};

p.deselect = function () {
  if (!this._isSelected) return;

  this._isSelected = false;

  this.emit("deselect");
};

p.grab = function (e) {
  this._dragger.emitDown(e);
};

p.remove = function () {
  this.emit("needsRemove", this);
};

p.getPrevKey = function (time) {
  return this.parentKeyLine.getPrevKey(this.time);
};

p.getNextKey = function (time) {
  return this.parentKeyLine.getNextKey(this.time);
};

p.renderToLine = function (ctx) {
  var looks = this.looks, height = this._height, keyPos = ~ ~am.timeline.timeToRenderPos(this.time) + 0.5, prevKey = this.getPrevKey(), prevKeyPos = am.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), line = looks.line, circle = looks.circle, r = 2, isSelected = this._isSelected;

  this.renderEaseToLine(ctx);

  this.emit("prerender", ctx, this);

  if (line) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? "gold" : (line.color || "#eee");
    ctx.lineWidth = line.width || 1;
    ctx.moveTo(keyPos, 0);
    ctx.lineTo(keyPos, height);
    ctx.stroke();
    ctx.restore();
  }

  if (circle) {
    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = isSelected ? "gold" : (circle.color || "#eee");
    ctx.fillStyle = isSelected ? "gold" : (circle.fillColor || "#eee");
    ctx.lineWidth = circle.width || 1;
    ctx.arc(keyPos, height / 2, "r" in circle ? circle.r : r, "arcStart" in circle ? circle.arcStart : 0, "arcEnd" in circle ? circle.arcEnd : 2 * Math.PI);
    ctx.fill();
    ctx.stroke();
    ctx.restore();
  }

  this.emit("postrender", ctx, this);
};

p.renderEaseToLine = function (ctx) {
  if (!this.ease) return;

  var ease = this.ease, color = (this.looks.ease && this.looks.ease.color) || "rgba(225,225,225,.23)", height = this._height, keyPos = am.timeline.timeToRenderPos(this.time), prevKey = this.getPrevKey(), prevKeyPos = am.timeline.timeToRenderPos(prevKey ? prevKey.time : 0), width = keyPos - prevKeyPos;

  if (width === 0) return;

  ctx.save();
  ctx.beginPath();
  ctx.strokeStyle = color;
  ctx.lineWidth = 1.2;
  ctx.moveTo(prevKeyPos, height);

  for (var i = 0; i < width; ++i) {
    ctx.lineTo(prevKeyPos + i, height - height * ease.getRatio(i / width));
  }

  ctx.stroke();
  ctx.restore();
};

p.getDropdown = function () {
  return this._deDropdown;
};








p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    this.ease.showOptionsDialog();
  } else if (selection === "delete") {
    this.emit("needsRemove", this);
  }
};

p._onChangeEase = function (ease) {
  this.emit("changeEase");
};

p._onDeselectAllKeys = function () {
  this.deselect();
};

p._onTranslateSelectedKeys = function (offset) {
  if (this._isSelected) {
    this.time += offset;
  }
};














p.dispose = function () {
  this._deDropdown.removeEventListener("select", this._onSelectDropdown);
  am.timeline.removeListener("changeTape", this._onChangeTape);
  am.timeline.removeListener("deselectAllKeys", this._onDeselectAllKeys);
  am.timeline.removeListener("translateSelectedKeys", this._onTranslateSelectedKeys);

  if (this._deDropdown.parentNode) this._deDropdown.parentNode.removeChild(this._deDropdown);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Ease":"/home/azazdeaz/repos/animachine/src/editor/utils/Ease.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/KeyGroup.js":[function(require,module,exports){
"use strict";

var Key = require("./Key");
var inherits = require("inherits");
var dialogEaseOptions = require("./dialogEaseOptions");
var amgui = require("../amgui");
var Ease = require("./Ease");

function KeyGroup(opt) {
  opt = opt || {};

  this._subkeys = [];

  Key.call(this, opt);

  this.looks = {
    line: {
      color: "#eee"
    }
  };

  am.timeline.removeListener("deselectAllKeys", this._onDeselectAllKeys);
  am.timeline.removeListener("translateSelectedKeys", this._onTranslateSelectedKeys);
}

inherits(KeyGroup, Key);
var p = KeyGroup.prototype;
module.exports = KeyGroup;




Object.defineProperties(p, {
  ease: {
    set: function (ease) {
      this._subkeys.forEach(function (key) {
        key.ease.useSave(ease);
      });
    }
  }
});








p.select = function () {
  this._subkeys.forEach(function (key) {
    key.select();
  });

  this._refreshSelected();
};

p.deselect = function () {
  this._subkeys.forEach(function (key) {
    key.deselect();
  });

  this._refreshSelected();
};

p.setSubkeys = function (newSubkeys) {
  this._subkeys.length = 0;
  this._subkeys.push.apply(this._subkeys, newSubkeys);

  this._refreshSelected();
};

p.removeSubkey = function (key) {
  var idx = this._subkeys.indexOf(key);

  if (idx === -1) return;

  this._subkeys.splice(idx, 1);
};

p.remove = function () {
  this._subkeys.forEach(function (key) {
    key.remove();
  });
};

p.renderEaseToLine = function (ctx, start, width) {
  this._subkeys.forEach(function (key) {
    return key.renderEaseToLine(ctx);
  });
};









p._onSelectDropdown = function (e) {
  var selection = e.detail.selection;

  if (selection === "ease") {
    this.ease.showOptionsDialog();
  } else if (selection === "delete") {
    this.remove();
  }
};

p._onChangeEase = function (ease) {
  this.ease = ease;
};







p._refreshSelected = function () {
  var selected = this._subkeys.every(function (key) {
    return key._isSelected;
  });

  if (selected !== this._isSelected) {
    this._isSelected = selected;

    this.emit(this._isSelected ? "select" : "deselect");
  }
};







p.dispose = function () {
  this._deDropdown.removeEventListener("select", this._onSelectDropdown);
  am.timeline.removeListener("changeTape", this._onChangeTape);
  am.timeline.removeListener("deselectAllKeys", this._onDeselectAllKeys);
  am.timeline.removeListener("translateSelectedKeys", this._onTranslateSelectedKeys);

  if (this._deDropdown.parentNode) this._deDropdown.parentNode.removeChild(this._deDropdown);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Ease":"/home/azazdeaz/repos/animachine/src/editor/utils/Ease.js","./Key":"/home/azazdeaz/repos/animachine/src/editor/utils/Key.js","./dialogEaseOptions":"/home/azazdeaz/repos/animachine/src/editor/utils/dialogEaseOptions.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function KeyLine(opt) {
  EventEmitter.call(this);

  this._keys = [];

  this._height = amgui.LINE_HEIGHT;

  this._onChangeKey = this._onChangeKey.bind(this);
  this._onKeyNeedsRemove = this._onKeyNeedsRemove.bind(this);
  this._onDblClick = this._onDblClick.bind(this);
  this._onMouseDown = this._onMouseDown.bind(this);

  this._createDomElem();

  amgui.callOnAdded(this.domElem, this._render.bind(this));

  am.timeline.on(["changeTimescale", "changeTape"], this._render, this);

  var dropdownBinding = amgui.bindDropdown({
    deTarget: this.domElem,
    onOpening: function (e) {
      var key = this.getKeyUnderPos(e.screenX), dropdown = key && key.getDropdown();

      if (dropdown) {
        dropdownBinding.setDropdown(dropdown);
      } else {
        return false;
      }
    }.bind(this) });
}

inherits(KeyLine, EventEmitter);
var p = KeyLine.prototype;
module.exports = KeyLine;








Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  }
});







p.addKey = function (key) {
  this._keys.push(key);
  key.parentKeyLine = this;

  key.on("changeTime", this._onChangeKey);
  key.on("changeEase", this._onChangeKey);
  key.on("select", this._onChangeKey);
  key.on("deselect", this._onChangeKey);
  key.on("needsRemove", this._onKeyNeedsRemove);

  this._render();
  this.emit("change");
};

p.removeKey = function (key) {
  var idx = this._keys.indexOf(key);

  if (idx === -1) {
    return false;
  }

  this._keys.splice(idx, 1);
  key.parentKeyLine = undefined;

  key.removeListener("changeTime", this._onChangeKey);
  key.removeListener("changeEase", this._onChangeKey);
  key.removeListener("select", this._onChangeKey);
  key.removeListener("deselect", this._onChangeKey);
  key.removeListener("needsRemove", this._onKeyNeedsRemove);

  key.dispose();

  this._render();
  this.emit("change");

  return true;
};

p.forEachKeys = function (fn, thisArg) {
  this._keys.forEach(fn, thisArg);
};

p.getKeyByTime = function (time) {
  return this._keys.find(function (key) {
    return key.time === time;
  });
};

p.getPrevKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time < time && (!retKey || retKey.time < key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getNextKey = function (time) {
  var retKey;

  this._keys.forEach(function (key) {
    if (key.time > time && (!retKey || retKey.time > key.time)) {
      retKey = key;
    }
  });

  return retKey;
};

p.getClosestKey = function (time) {
  var retKey, retDist;

  this._keys.forEach(function (key) {
    var dist = Math.abs(time - key.time);

    if (!retKey || retDist > dist) {
      retDist = dist;
      retKey = key;
    }
  });

  return retKey;
};

p.getKeyUnderPos = function (x) {
  var time = am.timeline.screenXToTime(x), key = this.getClosestKey(time);

  if (key && (Math.abs(time - key.time) * am.timeline.timescale) < 4) {
    return key;
  }
};

p.getKeyTimes = function () {
  var times = [];

  this._keys.forEach(function (key) {
    times.push(key.time);
  });

  return times;
};









p._render = function () {
  var canvas = this._canvas, ctx = this._ctx;

  canvas.width = am.timeline.width;
  canvas.height = this._height;

  _.sortBy(this._keys, "time").forEach(function (key) {
    return key.renderToLine(ctx);
  });
};

p._sortKeys = function () {
  this._keys.sort(function (a, b) {
    return a.time - b.time;
  });
};

p.show = function () {
  this.domElem.style.display = "";
};

p.hide = function () {
  this.domElem.style.display = "none";
};








p._onChangeKey = function (key) {
  this._render();
  this.emit("change");
};

p._onKeyNeedsRemove = function (key) {
  this.removeKey(key);
};

p._onDblClick = function (e) {
  var time = am.timeline.screenXToTime(e.screenX), key = this.getNextKey(time);

  if (key) {
    am.timeline.inlineEaseEditor.show({ key: key });
  }
};

p._onMouseDown = function (e) {
  var key = this.getKeyUnderPos(e.screenX);

  if (key) {
    key.grab(e);
  }
};












p._createDomElem = function createKeyline(opt) {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.position = "relative";
  this.domElem.setAttribute("debug-keyline", 1);
  this.domElem.style.overflow = "hidden";


  //TODO remove _deLine if it's doesn't needed;
  this._deLine = document.createElement("div");
  this._deLine.style.position = "relative";
  this._deLine.style.width = "100%";
  this._deLine.style.height = this._height + "px";
  this.domElem.appendChild(this._deLine);
  amgui.createSeparator({ parent: this._deLine });

  this._canvas = document.createElement("canvas");
  this._canvas.style.position = "absolute";
  this._deLine.appendChild(this._canvas);
  this._ctx = this._canvas.getContext("2d");

  this._canvas.addEventListener("dblclick", this._onDblClick);
  this._canvas.addEventListener("mousedown", this._onMouseDown);
};

p.dispose = function () {};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLineGroup.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var KeyLine = require("./KeyLine");
var KeyGroup = require("./KeyGroup");
var amgui = require("../amgui");

function KeyLineGroup(opt) {
  KeyLine.call(this);

  this._keyLines = [];

  this._onChangeKeyLine = this._onChangeKeyLine.bind(this);
  this._onKeyNeedsRemove = this._onKeyNeedsRemove.bind(this);
  this._delayedRefreshHeadKeyline = this._delayedRefreshHeadKeyline.bind(this);

  this._createSubcont();
}

inherits(KeyLineGroup, KeyLine);
var p = KeyLineGroup.prototype;
module.exports = KeyLineGroup;








Object.defineProperties(p, {
  keyCount: {
    get: function () {
      return this._keys.length;
    }
  }
});




p.addKey = function (key) {
  if (!(key instanceof KeyGroup)) throw Error;

  KeyLine.prototype.addKey.call(this, key);
};


p.addKeyLine = function (keyLine) {
  if (this._keyLines.indexOf(keyLine) !== -1) {
    return;
  }

  keyLine.on("change", this._onChangeKeyLine);

  this._keyLines.push(keyLine);

  this._deSubcont.appendChild(keyLine.domElem);

  this._refreshHeadKeyline();
};

p.removeKeyline = function (keyLine) {
  var idx = this._keyLines.indexOf(keyLine);
  if (idx === -1) return;

  keyLine.removeListener("change", this._onChangeKeyLine);

  this._keyLines.splice(idx, 1);

  if (keyLine.domElem.parentNode === this._deSubcont) {
    this._deSubcont.removeChild(keyLine.domElem);
  }

  this._refreshHeadKeyline();
};

p.moveKeylineTo = function (keyline, idx) {
  var keyline = this._keyLines.splice(idx, 1);
};











p._onChangeKeyLine = function (key) {
  this._refreshHeadKeyline();

  this.emit("change");
};

p._onDblClick = function (e) {
  var time = am.timeline.screenXToTime(e.screenX), key = this.getNextKey(time), eases = [];

  collectEases(key);

  if (key) {
    am.timeline.inlineEaseEditor.show({ key: key, eases: eases });
  }


  function collectEases(key) {
    key._subkeys.forEach(function (subKey) {
      if (subKey instanceof KeyGroup) {
        collectEases(subKey);
      } else {
        eases.push(subKey.ease);
      }
    });
  }
};





p._refreshHeadKeyline = function () {
  if (!this._refreshHeadKeylineRafId) {
    this._refreshHeadKeylineRafId = requestAnimationFrame(this._delayedRefreshHeadKeyline);
  }
};

p._delayedRefreshHeadKeyline = function () {
  this._refreshHeadKeylineRafId = undefined;

  var times = [], keysOnTimes = [];

  this._keyLines.forEach(function (keyLine) {
    keyLine.forEachKeys(function (key, idx) {
      var tidx = times.indexOf(key.time);

      if (tidx === -1) {
        times.push(key.time);
        keysOnTimes.push([]);
        tidx = times.length - 1;
      }

      keysOnTimes[tidx].push(key);
    }, this);
  }, this);


  while (times.length < this._keys.length) {
    this.removeKey(this._keys[this._keys.length - 1]);
  }

  while (times.length > this._keys.length) {
    this.addKey(new KeyGroup({}));
  }


  times.forEach(function (time, idx) {
    var key = this._keys[idx];

    key.time = time;

    key.setSubkeys(keysOnTimes[idx]);
  }, this);

  this._render();
};




p._createSubcont = function () {
  this._deSubcont = document.createElement("div");
  this._deSubcont.style.width = "100%";
  this.domElem.appendChild(this._deSubcont);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./KeyGroup":"/home/azazdeaz/repos/animachine/src/editor/utils/KeyGroup.js","./KeyLine":"/home/azazdeaz/repos/animachine/src/editor/utils/KeyLine.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");
var UnitInput = require("./UnitInput");
var StringInput = require("./StringInput");
var SelectInput = require("./SelectInput");
var ColorInput = require("./ColorInput");
var CheckboxInput = require("./CheckboxInput");

function OptionLine(opt) {
  EventEmitter.call(this);

  this.inputs = {};
  this.buttons = {};
  this._indent = 0;
  this._lineH = amgui.LINE_HEIGHT;

  this._createDomElem();
  this._createHighlight();

  if (opt.separator) {
    amgui.createSeparator({ parent: this._deHeadCont });;
  }

  if (opt.parent) {
    opt.parent.appendChild(this.domElem);
  }

  if (opt.contextMenuOptions) {
    amgui.bindDropdown({
      asContextMenu: true,
      deTarget: this._deHeadCont,
      deMenu: amgui.createDropdown({
        options: opt.contextMenuOptions
      })
    });
  }


  if (opt.tgglChildren) {
    this.buttons.tgglChildren = amgui.createToggleIconBtn({
      iconOn: "angle-down",
      iconOff: "angle-right",
      onClick: opt.tgglChildren.onClick,
      parent: this._deHeadCont
    });
  } else {
    this._deHighlight.style.marginRight = "16px";
  }

  this._createIndent();

  if (opt.indent) {
    this.indent = opt.indent;
  }

  if (opt.title) {
    this._deTitle = amgui.createLabel({
      text: typeof opt.title === "string" ? opt.title : (opt.title.text || ""),
      parent: this._deHeadCont });

    if (opt.title.onClick) {
      this._deTitle.addEventListener("click", opt.title.onClick);

      var deNameIcon = amgui.createIcon({
        icon: "cog",
        parent: this._deHeadCont });
      deNameIcon.style.display = "none";
      this._deTitle.addEventListener("mouseenter", function () {
        deNameIcon.style.display = "inline-block";
      });
      this._deTitle.addEventListener("mouseleave", function () {
        deNameIcon.style.display = "none";
      });
    }
  }

  this._inputCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "flex",
    flex: "1" });

  this._btnCont = amgui.createDiv({
    parent: this._deHeadCont,
    display: "inline-block"
  });

  if (opt.inputs) {
    opt.inputs.forEach(this.addInput, this);
  }

  if (opt.tgglMerge) {
    this.addButton({
      domElem: amgui.createToggleIconBtn({
        iconOn: "flow-line",
        iconOff: "flow-parallel",
        onClick: opt.tgglMerge.onClick }),
      name: "tgglMerge" });
  }

  if (opt.btnKey) {
    this.addButton({
      domElem: amgui.createStepperKey({
        onClick: opt.btnKey.onClick,
        onClickPrev: opt.btnKey.onClickPrev,
        onClickNext: opt.btnKey.onClickNext }),
      name: "key" });
  }
}

inherits(OptionLine, EventEmitter);
var p = OptionLine.prototype;
module.exports = OptionLine;





Object.defineProperties(p, {
  title: {
    set: function (v) {
      this._deTitle.setText(v);
    } },
  highlight: {
    set: function (v) {
      this._deHighlight.style.opacity = v ? 1 : 0;
    } },
  indent: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._indent) return;

      this._indent = v;
      this._deIndent.style.width = this._indent * 6 + "px";
    },
    get: function (v) {
      return this._indent;
    } } });




p.addInput = function (opt) {
  var input;

  opt = _.assign({
    onChange: opt.onChange,
    flex: "1" }, opt);

  switch (opt.type) {
    case "unit":
      input = new UnitInput(opt);
      break;

    case "select":
      input = new SelectInput(opt);
      break;

    case "color":
      input = new ColorInput(opt);
      break;

    case "checkbox":
      input = new CheckboxInput(opt);
      break;

    case "string":
    default:
      input = new StringInput(opt);
  }

  if (opt.name) {
    this.inputs[opt.name] = input;
  }

  this._inputCont.appendChild(input.domElem);
};

p.addButton = function (opt) {
  if ("childIdx" in opt && this._btnCont.childNodes[opt.childIdx]) {
    this._btnCont.insertBefore(opt.domElem, this._btnCont.childNodes[opt.childIdx]);
  } else {
    this._btnCont.appendChild(opt.domElem);
  }

  opt.domElem.style.display = "inline-block";
  opt.domElem.style.verticalAlign = "top";

  if (opt.name) {
    this.buttons[opt.name] = opt.domElem;
  }
};

p.addSubline = function (de) {
  this._deSubcont.appendChild(de);
};

p.show = function () {
  this.domElem.style.display = "";
};

p.hide = function () {
  this.domElem.style.display = "none";
};

p.showSubline = function () {
  this._deSubcont.style.display = "";
};

p.hideSubline = function () {
  this._deSubcont.style.display = "none";
};









p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.overflow = "hidden";

  this._deHeadCont = document.createElement("div");
  this._deHeadCont.style.position = "relative";
  this._deHeadCont.style.display = "flex";
  this._deHeadCont.style.width = "100%";
  this._deHeadCont.style.height = this._lineH + "px";
  this.domElem.appendChild(this._deHeadCont);

  amgui.createSeparator({ parent: this._deHeadCont });

  this._deSubcont = document.createElement("div");
  this._deSubcont.style.width = "100%";
  this.domElem.appendChild(this._deSubcont);
};

p._createHighlight = function () {
  this._deHighlight = document.createElement("div");
  this._deHighlight.style.display = "inline-block";
  this._deHighlight.style.width = "2px";
  this._deHighlight.style.height = this._lineH + "px";
  this._deHighlight.style.background = "gold";
  this._deHighlight.style.opacity = 0;
  this._deHeadCont.appendChild(this._deHighlight);
};

p._createIndent = function () {
  this._deIndent = document.createElement("div");
  this._deIndent.style.display = "inline-block";
  this._deIndent.style.width = "0px";
  this._deHeadCont.appendChild(this._deIndent);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./CheckboxInput":"/home/azazdeaz/repos/animachine/src/editor/utils/CheckboxInput.js","./ColorInput":"/home/azazdeaz/repos/animachine/src/editor/utils/ColorInput.js","./SelectInput":"/home/azazdeaz/repos/animachine/src/editor/utils/SelectInput.js","./StringInput":"/home/azazdeaz/repos/animachine/src/editor/utils/StringInput.js","./UnitInput":"/home/azazdeaz/repos/animachine/src/editor/utils/UnitInput.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/SelectInput.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function SelectInput(opt) {
  EventEmitter.call(this);

  this._onSelect = this._onSelect.bind(this);

  this._createBase();

  this._options = opt.options || [];
  this.value = opt.value || this._options[0] || "";
  this._defaultValue = opt.defaultValue || this._options[0] || "";

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(SelectInput, EventEmitter);
var p = SelectInput.prototype;
module.exports = SelectInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value || this._options.indexOf(v) === -1) return;

      this._value = v;

      this._deValue.setText(v);

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};






p._onSelect = function (e) {
  this.value = e.detail.selection;
};








p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";

  this._deValue = amgui.createLabel({
    parent: this.domElem,
    text: "" });

  amgui.bindDropdown({
    deTarget: this._deValue,
    onSelect: this._onSelect,
    deMenu: amgui.createDropdown({
      options: this._options })
  });
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/StringInput.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function StringInput(opt) {
  EventEmitter.call(this);

  this._onChangeInput = this._onChangeInput.bind(this);

  this._createBase();

  this._value = opt.value || "";
  this._defaultValue = opt.defaultValue || "";

  if (opt.placeholder) {
    this._input.placeholder = opt.placeholder;
  }

  if (opt.suggestions) {
    this._prepareSuggestions(opt.suggestions, opt.typeaheadOptions, opt.datasetOptions);
  };
  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(StringInput, EventEmitter);
var p = StringInput.prototype;
module.exports = StringInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      if (v === this._value) return;

      this._value = v;

      this._refreshInput();

      this.emit("change", this._value);
    },
    get: function () {
      return this._value;
    }
  } });






p.reset = function () {
  this.value = this._defaultValue;
};

p.setSuggestions = function (suggestions) {
  if (this._suggestionEngine) {
    this._suggestionEngine.clear();
    this._suggestionEngine.local = suggestions;
    this._suggestionEngine.initialize(true);
  } else {
    this._prepareSuggestions(suggestions);
  }
};







p._onChangeInput = function () {
  console.log("_onChangeInput", this._input.value);
  this.value = this._input.value;
};



p._refreshInput = function () {
  if (this._input.value !== this._value) {
    this._input.value = this._value;
  }
};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";

  this._input = amgui.createInput({
    parent: this.domElem,
    onChange: this._onChangeInput,
    flex: 1 });

  // this._input.style.textAlign =  'right';
  this._input.style.paddingRight = "2px";
};

p._prepareSuggestions = function (suggestions) {
  this._suggestionEngine = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace("value"),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    // `states` is an array of state names defined in "The Basics"
    local: suggestions });

  // kicks off the loading/processing of `local` and `prefetch`
  this._suggestionEngine.initialize();

  var template = ["<div class=\"guess\" style=\"padding: 2px;color:" + amgui.color.textColor + ";background-color:" + amgui.color.bg1 + ";\">", "<span>{{{value}}}</span>", "</div>"].join("");

  amgui.callOnAdded(this._input, function () {
    $(this._input).typeahead({
      hint: true,
      highlight: true,
      minLength: 0
    }, {
      name: "states",
      displayKey: "value",
      // `ttAdapter` wraps the suggestion engine in an adapter that
      // is compatible with the typeahead jQuery plugin
      source: this._suggestionEngine.ttAdapter(),
      templates: {
        suggestion: function (context) {
          return Mustache.render(template, context);
        }
      }
    }).on("typeahead:opened", function () {
      console.log("onOpened");
    }).on("typeahead:autocompleted", function () {
      console.log("onAutocompleted");
    }).on("typeahead:selected", function () {
      console.log("onSelected");
    });
  }, this);
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/UnitInput.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var amgui = require("../amgui");

function UnitInput(opt) {
  EventEmitter.call(this);

  this._rxAmount = /^\s*([\+-]?\d*\.?\d*)/;
  this._rxUnit;

  this._onChangeInputAmount = this._onChangeInputAmount.bind(this);

  this._createBase();

  this.units = opt.units || [""];
  this.min = opt.min;
  this.max = opt.max;
  this._amount = undefined;
  this._unit = undefined;
  this._precison = opt.precision || 0;
  this._defaultValue = opt.defaultValue || 0;
  this._dragSpeed = opt.dragSpeed || 1;

  this._setValueParts(opt.amount || 0, this._units[0]);

  this.converters = opt.converters;

  if ("flex" in opt) this.domElem.style.flex = opt.flex;
  if ("parent" in opt) opt.parent.appendChild(this.domElem);
  if (opt.onChange) this.on("change", opt.onChange);
}

inherits(UnitInput, EventEmitter);
var p = UnitInput.prototype;
module.exports = UnitInput;

Object.defineProperties(p, {
  value: {
    set: function (v) {
      v += "";

      var mAmount = this._rxAmount.exec(v), mUnit = this._rxUnit.exec(v), amount = mAmount ? mAmount[1] : "0", unit = mUnit ? mUnit[1] : "";

      this._setValueParts(amount, unit);
    },
    get: function () {
      return this._amount + this._unit;
    }
  },
  precision: {
    set: function (v) {
      v = parseInt(v);
      if (v === this._precison || this._precison.indexOf(v) === -1) return;

      this._precison = v;
      this.value = this.value;
    },
    get: function () {
      return this._precison;
    }
  },
  units: {
    set: function (v) {
      if (!(v instanceof Array)) return;

      this._units = v.slice();

      this._rxUnit = new RegExp("(" + this._units.join("|") + ")+\\s*$");
    }
  },
  min: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._min === v) return;

      this._min = v;
    },
    get: function () {
      return this._min;
    }
  },
  max: {
    set: function (v) {
      v = parseFloat(v);

      if (!_.isFinite(v) || this._max === v) return;

      this._max = v;
    },
    get: function () {
      return this._max;
    }
  }
});






p.reset = function () {
  this.value = this._defaultValue;
};






p._setValueParts = function (amount, unit) {
  amount = parseFloat(amount) || 0;
  unit = String(unit) || "";

  if (this._amount === amount && this._unit === unit) return;

  if (_.isFinite(this.min)) amount = Math.max(this.min, amount);
  if (_.isFinite(this.max)) amount = Math.min(this.max, amount);

  this._amount = amount;
  var fixAmount = this._toFixedAmount(amount);

  if (this._inpAmount.value !== fixAmount) {
    this._inpAmount.value = fixAmount;
  }

  if (this._unit !== unit && this._units.indexOf(unit) !== -1) {
    this._unit = unit;
    this._deUnit.setText(unit);
  }

  this.emit("change", this.value);
};

p._toFixedAmount = function (amount) {
  var fixAmount = parseFloat(amount).toFixed(this._precison);

  if (fixAmount.indexOf(".") !== -1) {
    fixAmount = fixAmount.replace(/\.?0*$/, "");
  }

  return fixAmount;
};





p._onChangeInputAmount = function () {
  var fixAmount = this._toFixedAmount(this._amount), value = this._inpAmount.value;

  if (fixAmount !== value) {
    this._setValueParts(value, this._unit);
  }
};



p.refreshDisplay = function () {
  this._inpAmount.value = this._getFixedValue();
  this._deUnit.setText(v);
};




p._createBase = function () {
  this.domElem = amgui.createDiv();
  this.domElem.style.display = "flex";

  this._inpAmount = amgui.createInput({
    parent: this.domElem,
    onChange: this._onChangeInputAmount,
    flex: 1 });
  this._inpAmount.style.textAlign = "right";
  this._inpAmount.style.paddingRight = "2px";
  this._inpAmount.style.cursor = "ew-resize";

  amgui.makeDraggable({
    deTarget: this._inpAmount,
    thisArg: this,
    onDown: function () {
      return {
        amount: this._amount };
    },
    onMove: function (md, mx) {
      var dx = mx - md.mx;

      this._setValueParts(md.amount + this._dragSpeed * dx);
    }
  });

  this._deUnit = amgui.createLabel({
    parent: this.domElem,
    text: "" });
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/utils/defineCompactProperty.js":[function(require,module,exports){
"use strict";

module.exports = function (that, opt) {
  var value = opt.startValue, name = opt.name, evtName = opt.evtName || "change" + name.charAt(0).toUpperCase() + name.slice(1);

  Object.defineProperty(that, name, {
    set: opt.set || function (v) {
      switch (opt.type) {
        case "float": v = parseFloat(v);break;
        case "int": v = parseInt(v);break;
        case "boolean": v = !!v;break;
        case "string": v = "" + v;break;
      }

      if (v === value || ((opt.type === "float" || opt.type === "int") && !_.isFinite(v))) {
        return;
      }

      value = v;
      refreshInput();

      that.emit(evtName, value);
    },
    get: opt.get || function (v) {
      return value;
    }
  });

  if (opt.input) {
    opt.input.on("change", function (v) {
      that[name] = v;
    }.bind(that));

    refreshInput();
  }

  function refreshInput() {
    if (opt.input && opt.input.value !== value) {
      opt.input.value = value;
    }
  }

  return {
    name: name,
    evtName: evtName };
};

},{}],"/home/azazdeaz/repos/animachine/src/editor/utils/dialogEaseOptions.js":[function(require,module,exports){
"use strict";

var inherits = require("inherits");
var amgui = require("../amgui");
var Dialog = require("./Dialog");
var OptionLine = require("./OptionLine");

var currEase, beizerEditor, optRoughEase, optRoughStrength, optRoughPoints, optRoughClamp, optRoughRandomise, optRoughTaper, optRoughStrength, dialog = new Dialog({
  title: "Key" });

createContent();

dialog.addProperty({ name: "roughEase", input: optRoughEase.inputs.input });
dialog.addProperty({ name: "roughStrengh", input: optRoughStrength.inputs.input });
dialog.addProperty({ name: "roughPoints", input: optRoughPoints.inputs.input });
dialog.addProperty({ name: "roughClamp", input: optRoughClamp.inputs.input });
dialog.addProperty({ name: "roughRandomise", input: optRoughRandomise.inputs.input });
dialog.addProperty({ name: "roughTaper", input: optRoughTaper.inputs.input });




dialog.show = function (opt) {
  opt = opt || {};

  Dialog.prototype.show.call(this, opt);

  if (!("ease" in opt)) throw ("opt.ease must be set");

  currEase = opt.ease;
  beizerEditor.setPoints(currEase.points);
};

function createContent() {
  dialog.addButton("ok", "hide");

  beizerEditor = amgui.createBezierEditor({
    // width: 330,
    // height: 330,
    parent: dialog.deContent,
    onChange: onChangeBezier
  });


  optRoughEase = new OptionLine({
    title: "rough ease",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input",
      onChange: function (v) {
        optRoughStrength.domElem.style.display = v ? "block" : "none";
        optRoughPoints.domElem.style.display = v ? "block" : "none";
        optRoughClamp.domElem.style.display = v ? "block" : "none";
        optRoughRandomise.domElem.style.display = v ? "block" : "none";
        optRoughTaper.domElem.style.display = v ? "block" : "none";
      }
    }] });

  optRoughStrength = new OptionLine({
    title: "strength",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 0.1,
      precision: 1
    }] });

  optRoughPoints = new OptionLine({
    title: "points",
    parent: dialog.deContent,
    inputs: [{
      type: "unit",
      name: "input",
      min: 0,
      dragSpeed: 1,
      precision: 0
    }] });

  optRoughClamp = new OptionLine({
    title: "clamp",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughRandomise = new OptionLine({
    title: "randomise",
    parent: dialog.deContent,
    inputs: [{
      type: "checkbox",
      name: "input"
    }] });

  optRoughTaper = new OptionLine({
    title: "taper",
    parent: dialog.deContent,
    inputs: [{
      type: "select",
      name: "input",
      options: ["none", "ease", "opt", "both"]
    }] });
};

// p._onSelectEase = function (e) {
//     this.ease = e.detail.selection;
// };

// p._onChangeEase = function () {
//     this.ease = this._inpEase.value;
// };

function onChangeBezier(e) {
  currEase.points = e.detail.points;
};

module.exports = dialog;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js","./OptionLine":"/home/azazdeaz/repos/animachine/src/editor/utils/OptionLine.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/warehouseman/Warehouseman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");
var WebStorageman = require("./storages/WebStorageman");
var PageScript = require("./storages/PageScript");
var Download = require("./storages/Download");
var decorDialog = require("./decorDialog");

function Warehouseeman(opt) {
  EventEmitter.call(this);

  decorDialog(this);

  opt = opt || {};

  this._storages = [];
  this.addStorage(new PageScript());
  this.addStorage(new WebStorageman());
  this.addStorage(new Download());
  // this.addStorage(new Copy());
  this.addStorage({ icon: "hdd", tooltip: "local file system" });
  this.addStorage({ icon: "git", tooltip: "Git" });
  this.addStorage({ icon: "google", tooltip: "Google Drive" });
  this.addStorage({ icon: "dropbox", tooltip: "Dropbox" });
  this.addStorage({ icon: "history", tooltip: "auto save" });

  this.selectStorage(this._storages[2]);
}

inherits(Warehouseeman, EventEmitter);
var p = Warehouseeman.prototype;

Object.defineProperties(p, {
  selectedStorageType: {
    get: function () {
      return this._currStorage && this._currStorage.type;
    }
  }
});

p.addStorage = function (storage) {
  storage.features = storage.features || {
    placeholder: true };

  this._storages.push(storage);
  this.emit("changeStorages");
};

p.selectStorage = function (storage) {
  if (this._currStorage === storage) {
    return;
  }

  this._currStorage = storage;

  if (storage.features.placeholder) {
    am.dialogs.WIP.show();
  }

  this.emit("changeSelectedStorage");
};

p.save = function (name, data, path) {
  return this._currStorage.save(name, data, path);
};

p.load = function (name, path) {
  return this._currStorage.load(name, path);
};

p.mkdir = function (path) {
  return this._currStorage.mkdir(path);
};

p.dir = function (path) {
  return this._currStorage.dir(path);
};

module.exports = Warehouseeman;

},{"./decorDialog":"/home/azazdeaz/repos/animachine/src/editor/warehouseman/decorDialog.js","./storages/Download":"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/Download.js","./storages/PageScript":"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/PageScript.js","./storages/WebStorageman":"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/WebStorageman.js","eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/warehouseman/decorDialog.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");
var Dialog = require("../utils/Dialog");

function decorDialog(whm) {
  var dialog, deLeft, deHead, deBreadcrumbs, inpName, deStorageSelector, deDirectory, btnNewFolder, isInited, deOptions, openOptions = {}, mode;



  function init() {
    if (isInited) {
      return;
    }
    isInited = true;

    dialog = new Dialog();
    dialog.addProperty({ name: "selectedName", startValue: "" });
    dialog.addProperty({ name: "selectedData", startValue: "" });
    dialog.addProperty({ name: "selectedPath", startValue: "" });

    createDialog();
    createStorageSelector();
    createBreadcrumbs();
    createBtnNewFolder();
    createBtnSettings();
    createNameInput();
    createDirectory();
    createOptions();

    whm.dialog = dialog;
  }

  whm.showSaveDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "save";

    dialog.selectedName = opt.name || "anim.am.js";
    dialog.selectedData = opt.data || "";
    dialog.selectedPath = opt.path || "";

    inpName.style.display = "block";

    dialog.title = "Save";
    dialog.showButton("save");
    dialog.hideButton("open");

    deStorageSelector.refresh();
    setupModules();
    dialog.show();
  };

  whm.showOpenDialog = function (opt) {
    init();

    openOptions = opt;
    mode = "open";

    dialog.selectedName = opt.name || "";
    dialog.selectedPath = opt.path || "";

    inpName.style.display = "none";

    dialog.title = "Open";
    dialog.showButton("open");
    dialog.hideButton("save");

    deStorageSelector.refresh();
    setupModules();
    dialog.show();
  };

  whm.setSaveOtions = function (opt) {
    deOptions.setOptions(opt);
  };

  whm.getSaveOptions = function () {
    return deOptions.getOptions();
  };

  function feature(name) {
    return whm._currStorage.features && whm._currStorage.features[name];
  }

  function setupModules() {
    showHide(deDirectory, feature("browse"));
    showHide(deBreadcrumbs, feature("browse"));
    showHide(btnNewFolder, feature("mkdir"));

    function showHide(de, show) {
      de.style.display = show ? "block" || de.baseDisplay : "hidden";
    }
  }

  function onSave() {
    var save = openOptions.getSave(), name = dialog.selectedName || "anim.am.js";

    whm.save(name, save, dialog.selectedPath);

    dialog.hide();
  }

  function onOpen() {
    var save = whm.load(dialog.selectedName, dialog.selectedPath);

    if (openOptions.onOpen) {
      openOptions.onOpen(save);
    }

    dialog.hide();
  }









  function createDialog() {
    dialog.deContent.style.width = "700px";
    dialog.deContent.style.height = "400px";
    dialog.deContent.style.display = "flex";
    dialog.deContent.style.color = "white";

    deLeft = document.createElement("div");
    deLeft.style.height = "100%";
    deLeft.style.flex = "1";
    deLeft.style.display = "flex";
    deLeft.style.flexDirection = "column";
    dialog.deContent.appendChild(deLeft);

    deHead = document.createElement("div");
    deHead.style.width = "100%";
    deHead.style.height = "21px";
    deHead.style.display = "flex";
    deLeft.appendChild(deHead);

    dialog.addButton("save", onSave);
    dialog.addButton("open", onOpen);
    dialog.addButton("close", "hide");
  }


  function createBreadcrumbs() {
    deBreadcrumbs = amgui.createBreadcrumbs({
      parent: deHead });
    deBreadcrumbs.style.display = "inline-block";
    deBreadcrumbs.style.flex = "1";

    deBreadcrumbs.addEventListener("select", function (e) {
      whm.cd(e.detail.selection.value);
    });

    dialog.on("changeSelectedPath", refresh);

    function refresh() {
      var names = dialog.selectedPath.split("/").filter(Boolean), value = "", crumbs = [];

      crumbs.push({
        name: (whm._currStorage.rootName || "root") + "://",
        value: value
      });

      names.forEach(function (crumbName) {
        value += crumbName + "/";

        crumbs.push({
          name: crumbName,
          value: value
        });
      });

      deBreadcrumbs.setItems(crumbs);
    };
  }



  function createBtnSettings() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "wrench",
      width: 21,
      onClick: function () {
        deOptions.toggle();
      }
    });
  }



  function createBtnNewFolder() {
    btnNewFolder = amgui.createIconBtn({
      parent: deHead,
      icon: "folder-add",
      width: 21,
      onClick: function () {
        am.dialogs.WIP.show();
      }
    });
  }

  function createNameInput() {
    inpName = document.createElement("input");
    inpName.type = "text";
    inpName.style.width = "100%";
    inpName.style.height = "21px";
    inpName.style.background = "none";
    inpName.style.border = "none";
    inpName.style.color = amgui.color.text;
    inpName.style.fontSize = amgui.FONT_SIZE;
    inpName.style.fontFamily = amgui.FONT_FAMILY;
    inpName.placeholder = "File name";
    deLeft.appendChild(inpName);

    inpName.addEventListener("change", function () {
      dialog.selectedName = inpName.value;
    });

    dialog.on("changeSelectedName", function () {
      if (inpName.value !== dialog.selectedName) {
        inpName.value = dialog.selectedName;
      }
    });
  }


  function createDirectory() {
    deDirectory = document.createElement("div");
    deDirectory.style.listStyle = "none";
    deDirectory.style.display = "inline-block";
    deDirectory.style.width = "100%";
    deDirectory.style.flex = "1";
    deLeft.appendChild(deDirectory);

    var deItems = [], overItem, currItem;

    dialog.on("changeSelectedPath", refresh);
    whm.on("changeSelectedStorage", refresh);
    dialog.on("changeSelectedName", function () {
      currItem = _.find(deItems, { name: dialog.selectedName });
    });

    function refresh() {
      while (deItems.length) {
        $(deItems.pop()).remove();
      }

      if (!feature("browse")) {
        return;
      }

      var list = whm.dir();

      list.forEach(function (item) {
        createItem(item.name, item.type);
      });
    }

    function onClick(e) {
      dialog.selectedName = this.name;

      if (e.type === "dblclick") {
        onOpen(dialog.selectedPath, dialog.selectedName);
      }
    }

    function refreshSelection() {
      deItems.forEach(function (deItem) {
        if (deItem === overItem || deItem === currItem) {
          deItem.style.background = amgui.color.bgHover;
        } else {
          deItem.style.background = "none";
        }
      });
    }

    function onMOver() {
      overItem = this;
      refreshSelection();
    }

    function onMOut() {
      if (overItem === this) {
        overItem = undefined;
        refreshSelection();
      }
    }

    function createItem(name, type) {
      var deItem = document.createElement("div");
      deItem.name = name;

      amgui.createIcon({
        icon: type === "folder" ? "folder-empty" : "doc",
        parent: deItem,
        display: "inline-block" });

      var deName = document.createElement("span");
      deName.textContent = name;
      deItem.appendChild(deName);

      deDirectory.appendChild(deItem);

      deItem.addEventListener("click", onClick);
      deItem.addEventListener("dblclick", onClick);
      deItem.addEventListener("mouseover", onMOver);
      deItem.addEventListener("mouseout", onMOut);

      deItems.push(deItem);
      return deItem;
    }
  }




  function createStorageSelector() {
    var btnSize = 33, buttons = [];

    deStorageSelector = document.createElement("div");
    deStorageSelector.style.display = "inline-block";
    deStorageSelector.style.width = btnSize + "px";
    deStorageSelector.style.height = "100%";
    dialog.deContent.insertBefore(deStorageSelector, deLeft);

    deStorageSelector.addEventListener("click", function (e) {
      var idx = e.target._storageIdx;

      if (idx !== undefined) {
        whm.selectStorage(whm._storages[idx]);
      }
    });

    whm.on("changeSelectedStorage", refreshSelection);

    function removeButtons() {
      buttons.forEach(function (btn) {
        if (btn.domElem.parentNode) {
          btn.domElem.parentNode.removeChild(btn.domElem);
        }

        btn.domElem.removeEventListener("click", onClickBtn);
      });
    }

    deStorageSelector.refresh = function () {
      removeButtons();

      whm._storages.forEach(function (storage) {
        if (storage.features.placeholder || storage.features[mode]) {
          createItem(storage);
        }
      });
    };

    function refreshSelection() {
      buttons.forEach(function (btn) {
        btn.domElem.fixedHighlight = btn.storage === whm._currStorage;
      });
    };

    function onClickBtn(e) {
      buttons.forEach(function (btn) {
        if (btn.domElem === e.currentTarget) {
          whm.selectStorage(btn.storage);
        }
      });
    }

    function createItem(storage) {
      var btn = {
        domElem: amgui.createIconBtn({
          icon: storage.icon,
          parent: deStorageSelector,
          width: btnSize,
          height: btnSize,
          display: "inline-block",
          onClick: onClickBtn }),
        storage: storage
      };

      amgui.addTooltip({
        deTarget: btn.domElem,
        text: storage.tooltip
      });

      buttons.push(btn);
    }
  }

  function createOptions() {
    var isOpened = false;

    deOptions = document.createElement("div");
    deOptions.style.display = "none";
    deOptions.style.width = "138px";
    deOptions.style.height = "100%";
    dialog.deContent.appendChild(deOptions);

    amgui.createButton({
      text: "add trigger",
      icon: "plus",
      onClick: function () {
        am.dialogs.WIP.show();
      },
      parent: deOptions });

    var checkSave = createCheckbox("include save", true);
    var checkMinify = createCheckbox("minify");
    var checkAuto = createCheckbox("auto play", true);
    var checkAuto = createCheckbox("debug", true);

    deOptions.getOptions = function () {
      return {
        includeSave: checkSave.checked,
        minify: checkMinify.checked,
        autoPlay: checkAuto.checked
      };
    };

    deOptions.setOptions = function (opt) {
      checkSave.checked = opt.includeSave;
      checkMinify.checked = opt.minify;
      checkAuto.checked = opt.autoPlay;
    };

    deOptions.toggle = function () {
      isOpened = !isOpened;

      deOptions.style.display = isOpened ? "block" : "none";
    };

    function createCheckbox(name, checked) {
      var cb = amgui.createCheckbox({
        text: name,
        checked: checked,
        parent: deOptions });

      $(cb).one("click", function () {
        am.dialogs.WIP.show();
      });

      return cb;
    }
  }
}


module.exports = decorDialog;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","../utils/Dialog":"/home/azazdeaz/repos/animachine/src/editor/utils/Dialog.js"}],"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/Download.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Download(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_Download/";

  this.icon = "download";
  this.tooltip = "Download";
}

inherits(Download, EventEmitter);
var p = Download.prototype;

p.features = {
  save: true };

p.save = function (name, data) {
  data = "data:application/javascript;charset=utf-8," + encodeURIComponent(data);
  $("<a download=\"" + name + "\" href=\"" + data + "\"></a>")[0].click();
};

module.exports = Download;

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/PageScript.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var FOLDERS = "<folders>";

function PageScript(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this._root = opt.root || "_PageScript/";

  this.icon = "code";
  this.tooltip = "running Animachine pagescripts";

  this._folders = window.localStorage.getItem(this._root + FOLDERS);

  try {
    this.folders = JSON.parse(this._folders);
  } catch (e) {
    this._folders = [];
  }
}

inherits(PageScript, EventEmitter);
var p = PageScript.prototype;

p.save = function (name, data, path) {
  name = this._validName(name);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.open = function (name) {
  if (name in pageScripts()) {
    return pageScripts()[name];
  }
};

p.dir = function () {
  var ret = [];

  Object.keys(pageScripts()).forEach(function (key) {
    ret.push({
      name: key,
      type: "file"
    });
  });

  return ret;
};

function pageScripts() {
  return (window.am && window.am.pageScripts) || [];
}

module.exports = PageScript;

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/warehouseman/storages/WebStorageman.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

var ROOT = "_webstorageman/", FOLDERS = "<folders>";

function WebStorageman(opt) {
  EventEmitter.call(this);

  opt = opt || {};

  this.icon = "bullseye";
  this.rootName = "webstorage";
  this.type = "webstorage";
  this.tooltip = "webstorage, store data in your browser";

  this._folders = window.localStorage.getItem(ROOT + FOLDERS);

  try {
    this._folders = JSON.parse(this._folders);
  } catch (e) {}

  if (!(this._folders instanceof Array)) {
    this._folders = [];
  }
}

inherits(WebStorageman, EventEmitter);
var p = WebStorageman.prototype;

p.features = {
  save: true,
  open: true,
  browse: true };


p.save = function (name, data, path) {
  name = this._validName(name);
  path = this._validPath(path);

  this.mkdir(path);
  this._set(path + name, data);

  return name;
};

p.load = function (name, path) {
  name = this._validName(name);
  path = this._validPath(path);

  return this._get(path + name);
};

p.mkdir = function (path) {
  path = this._validPath(path).split("/").filter(Boolean);

  var folderPath = "";

  path.forEach(function (folder) {
    this._addFolder(folder + "/");
  }, this);
};

p.dir = function (path) {
  path = ROOT + this._validPath(path);

  var ret = [];

  Object.keys(window.localStorage).forEach(function (key) {
    if (key.indexOf(FOLDERS) === -1) {
      testKey(key, "file");
    }
  });

  this._folders.forEach(function (path) {
    testKey(ROOT + path.slice(0, -1), "folder");
  });

  return ret;

  function testKey(key, type) {
    if (key.indexOf(path) === 0) {
      key = key.substr(path.length);

      if (key.indexOf("/") === -1) {
        ret.push({
          name: key,
          type: type
        });
      }
    }
  }
};

p._addFolder = function (path) {
  if (this._folders.indexOf(path) !== -1) {
    return;
  }

  this._folders.push(path);

  window.localStorage.setItem(ROOT + FOLDERS, JSON.stringify(this._folders));
};

p._set = function (path, data) {
  return window.localStorage.setItem(ROOT + path, data);
};

p._get = function (path) {
  return window.localStorage.getItem(ROOT + path);
};

p._validPath = function (path) {
  if (!path) {
    path = "";
  }

  if (path.charAt(0) === "/") {
    path = path.substr(1);
  }

  if (path.charAt(path.length - 1) !== "/" && path.length) {
    path += "/";
  }

  return path;
};

p._validName = function (name) {
  return name.replace(/<|\//g, "_");
};

module.exports = WebStorageman;

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/windooman/Block.js":[function(require,module,exports){
"use strict";

var EventEmitter = require("eventman");
var inherits = require("inherits");

function Block(opt) {
  EventEmitter.call(this);

  this._createDomElem();

  this.size = opt.size || 1;
  this.scaleMode = opt.scaleMode || "flex";
}

inherits(Block, EventEmitter);
var p = Block.prototype;
module.exports = Block;

Object.defineProperties(p, {
  size: {
    set: function (v) {
      if (v == 32) debugger;
      if (typeof (v) !== "number" || this._size === v) return;

      this._size = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._size;
    }
  },
  scaleMode: {
    set: function (v) {
      if (typeof (v) !== "string" || this._scaleMode === v) return;

      this._scaleMode = v;
      this._refresh();
      this.bubbleResize();
    },
    get: function () {
      return this._scaleMode;
    }
  }
});

p.bubbleResize = function () {};

p._refresh = function () {
  var flex = "", width = "", height = "";

  if (this.scaleMode === "fix") {
    if (this._direction === "row") {
      width = this.size + "px";
    } else {
      height = this.size + "px";
    }
  } else if (this.scaleMode === "flex") {
    flex = this.size;
  }

  this.domElem.style.width = width;
  this.domElem.style.height = height;
  this.domElem.style.flex = flex;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "relative";
  this.domElem.style.display = "flex";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.flex = "1";
  this.domElem.style.alignSelf = "stretch";
  this.domElem.style.pointerEvents = "none";

  this.domElem.setAttribute("data-debug", "block");
};

},{"eventman":"/home/azazdeaz/repos/animachine/node_modules/eventman/eventman.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/windooman/Container.js":[function(require,module,exports){
"use strict";

var Block = require("./Block");
var Panel = require("./Panel");
var inherits = require("inherits");
var amgui = require("../amgui");

function Container(opt) {
  Block.call(this, opt);

  this._children = [];
  this._deHandlers = [];

  this.direction = opt.direction || "row";

  opt.children.forEach(function (cData) {
    if (cData.type === "container") {
      this.addChild(new Container(cData));
    } else if (cData.type === "panel") {
      this.addChild(new Panel(cData));
    }
  }, this);

  amgui.callOnAdded(this.domElem, this._refreshHandlers.bind(this));
}

inherits(Container, Block);
var p = Container.prototype;
module.exports = Container;

Object.defineProperties(p, {
  direction: {
    set: function (v) {
      this._direction = v;
      this.domElem.style.flexDirection = this._direction;
    },
    get: function () {
      return this._direction;
    }
  }
});

p.addChild = function (child) {
  this.addChildAt(child, this._children.length);
};

p.addChildAt = function (child, idx) {
  this._children.splice(idx, 0, child);
  this._refreshChildren();
  this._refreshHandlers();
};

p.findTab = function (name) {
  var tab;

  this._children.some(function (child) {
    tab = child.findTab(name);
    return tab;
  });

  return tab;
};

p.bubbleResize = function () {
  if (!this._children || !this._deHandlers) return;

  this._children.forEach(function (child) {
    child.bubbleResize();
  });

  this._refreshHandlers();
};






p._getFlexPerPx = function () {
  var br = this.domElem.getBoundingClientRect(), fullPx = this.direction === "row" ? br.width : br.height, fullFlex = 0;

  this._children.forEach(function (child) {
    if (child.scaleMode === "fix") {
      fullPx -= child.size;
    } else {
      fullFlex += child.size;
    }
  });

  return fullFlex / fullPx;
};

p._refreshChildren = function () {
  this._children.forEach(function (child) {
    this.domElem.appendChild(child.domElem);
  }, this);
};

p._refreshHandlers = function () {
  var i, deHandler, ncBr, thickness = 4, br = this.domElem.getBoundingClientRect();

  for (i = 0; i < this._children.length - 1; ++i) {
    if (!this._deHandlers[i]) {
      this._deHandlers.push(this._createHandler());
    }

    ncBr = this._children[i + 1].domElem.getBoundingClientRect();
    deHandler = this._deHandlers[i];

    if (this.direction === "row") {
      deHandler.style.left = (ncBr.left - br.left - thickness / 2) + "px";
      deHandler.style.top = "0px";
      deHandler.style.width = thickness + "px";
      deHandler.style.height = "100%";
      deHandler.style.cursor = "ew-resize";
    } else {
      deHandler.style.left = "0px";
      deHandler.style.top = (ncBr.top - br.top - thickness / 2) + "px";
      deHandler.style.width = "100%";
      deHandler.style.height = thickness + "px";
      deHandler.style.cursor = "ns-resize";
    }
  }

  this._deHandlers.splice(i).forEach(function (deHandler) {
    deHandler.parentNode.removeChild(deHandler);
  });
};







p._onResize = function () {
  this._refreshHandlers();
};

p._onDragHandler = function (md, mx, my) {
  var move = this.direction === "row" ? mx - md.mx : my - md.my, moveFlex = move * this._getFlexPerPx(), prevChild = this._children[md.idx], nextChild = this._children[md.idx + 1];

  prevChild.size = md.prevChildSize + (prevChild.scaleMode === "fix" ? move : moveFlex);
  nextChild.size = md.nextChildSize - (nextChild.scaleMode === "fix" ? move : moveFlex);

  this._refreshHandlers();
};









p._createHandler = function () {
  var de = document.createElement("div");
  de.style.position = "absolute";
  de.style.cursor = "crosshair";
  de.style.pointerEvents = "auto";

  amgui.makeDraggable({
    deTarget: de,
    thisArg: this,
    onDown: function () {
      var idx = this._deHandlers.indexOf(de);
      return {
        idx: idx,
        prevChildSize: this._children[idx].size,
        nextChildSize: this._children[idx + 1].size
      };
    },
    onMove: this._onDragHandler,
    onEnter: function () {
      de.style.background = "#fff";
    },
    onLeave: function () {
      de.style.background = "";
    }
  });

  this.domElem.appendChild(de);

  return de;
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Block":"/home/azazdeaz/repos/animachine/src/editor/windooman/Block.js","./Panel":"/home/azazdeaz/repos/animachine/src/editor/windooman/Panel.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/windooman/Panel.js":[function(require,module,exports){
"use strict";

var Tab = require("./Tab");
var amgui = require("../amgui");
var Block = require("./Block");
var inherits = require("inherits");

function Panel(opt) {
  Block.call(this, opt);

  this._tabs = [];

  this._onToggleCollapsed = this._onToggleCollapsed.bind(this);

  this._createTabBase();

  this._empty = false;
  this._collapsed = false;
  this._noHead = false;

  if ("empty" in opt) this.empty = opt.empty;
  if ("collapsed" in opt) this.collapsed = opt.collapsed;
  if ("noHead" in opt) this.noHead = opt.noHead;

  if (opt.tabs) {
    opt.tabs.forEach(this.addTab, this);
  }

  if (!this._tabs.some(function (tab) {
    return tab.selected;
  }) && this._tabs.length) {
    this._tabs[0].select();
  }
}

inherits(Panel, Block);
var p = Panel.prototype;
module.exports = Panel;

Object.defineProperties(p, {
  empty: {
    set: function (v) {
      v = !!v;
      if (this._empty === v) return;

      this._empty = v;
      this.domElem.style.pointerEvents = this._empty ? "none" : "auto";
      this.domElem.style.visibility = this._empty ? "hidden" : "visibile";
    },
    get: function () {
      return this._empty;
    }
  },

  collapsed: {
    set: function (v) {
      v = !!v;
      if (this._collapsed === v) return;

      this._collapsed = v;
      this._deTabContent.style.display = this._collapsed ? "none" : "flex";
    },
    get: function () {
      return this._collapsed;
    }
  },

  noHead: {
    set: function (v) {
      v = !!v;
      if (this._noHead === v) return;

      this._noHead = v;
      this._deTabHead.style.display = this._noHead ? "none" : "flex";
    },
    get: function () {
      return this._noHead;
    }
  }
});

p.addTab = function (tData) {
  var tab = new Tab(tData);
  this._deTabHead.appendChild(tab.deEar);
  this._deTabContent.appendChild(tab.domElem);
  this._tabs.push(tab);

  tab.deEar.addEventListener("click", this.showTab.bind(this, tab));
};


p.findTab = function (name) {
  var tab;

  this._tabs.some(function (t) {
    if (t.name === name) {
      return (tab = t);
    }
  });

  return tab;
};

p.showTab = function (tab) {
  this._tabs.forEach(function (t) {
    if (tab === t) {
      t.select();
    } else {
      t.deselect();
    }
  });
};

p.bubbleResize = function () {
  if (!this._tabs) return;

  this._tabs.forEach(function (tab) {
    tab.bubbleResize();
  });
};







p._onToggleCollapsed = function () {
  this.collapsed = !this.collapsed;

  this._btnToggleCollapsed.setToggle(this.collapsed);
};






p._createTabBase = function () {
  this._deTabBase = document.createElement("div");
  this._deTabBase.style.display = "flex";
  this._deTabBase.style.flexDirection = "column";
  this._deTabBase.style.alignSelf = "stretch";
  this._deTabBase.style.flex = "1";
  this.domElem.appendChild(this._deTabBase);

  this._deTabHead = document.createElement("div");
  this._deTabHead.style.width = "100%";
  this._deTabHead.style.height = amgui.LINE_HEIGHT + "px";
  this._deTabHead.style.display = "flex";
  this._deTabHead.style.alignItems = "stretch";
  this._deTabHead.style.background = amgui.color.bg0;
  this._deTabHead.style.pointerEvents = "auto";
  this._deTabHead.setAttribute("data-debug", "tabhead");
  this._deTabBase.appendChild(this._deTabHead);

  this._deTabContent = document.createElement("div");
  this._deTabContent.style.width = "100%";
  this._deTabContent.style.flex = 1;
  this._deTabContent.setAttribute("data-debug", "tabcontent");
  this._deTabBase.appendChild(this._deTabContent);

  this._btnToggleCollapsed = amgui.createToggleIconBtn({
    tooltip: "show/hide tabs",
    iconOn: "collapse",
    iconOff: "expand",
    parent: this._deTabHead,
    display: "inline-block",
    onClick: this._onToggleCollapsed
  });
  this._btnToggleCollapsed.style.order = 1;
};

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js","./Block":"/home/azazdeaz/repos/animachine/src/editor/windooman/Block.js","./Tab":"/home/azazdeaz/repos/animachine/src/editor/windooman/Tab.js","inherits":"/home/azazdeaz/repos/animachine/node_modules/inherits/inherits_browser.js"}],"/home/azazdeaz/repos/animachine/src/editor/windooman/Tab.js":[function(require,module,exports){
"use strict";

var amgui = require("../amgui");

function Tab(opt) {
  this.name = opt.name;
  this.selected = opt.selected;

  this._createDomElem();
  this.deEar = this._createTabEar();

  this[this.selected ? "select" : "deselect"]();
}

var p = Tab.prototype;

p.setContent = function (deContent) {
  this.domElem.innerHTML = "";
  this.domElem.appendChild(deContent);
  deContent.style.position = "absolute";
};

p.bubbleResize = function () {
  this.domElem.dispatchEvent(new Event("resize"));
};



p.select = function () {
  this.domElem.style.display = "block";
  this.deEar.style.borderBottomWidth = "1px";
  this.deEar.style.color = amgui.color.text;
};

p.deselect = function () {
  this.domElem.style.display = "none";
  this.deEar.style.borderBottomWidth = "0px";
  this.deEar.style.color = amgui.color.textInactive;
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.position = "realtive";
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.background = amgui.color.bg0;
  this.domElem.style.pointerEvents = "auto";
  this.domElem.setAttribute("data-debug", "tab - " + this.name);
};

p._createTabEar = function () {
  var de = amgui.createLabel({
    text: this.name,
    flex: 1 });
  de.style.boxSizing = "border-box";
  de.style.cursor = "default";
  de.style.borderBottom = "solid 1px white";
  de.style.alignSelf = "stretch";
  de.style.overflow = "hidden";
  de.style.textAlign = "center";

  return de;
};

module.exports = Tab;

},{"../amgui":"/home/azazdeaz/repos/animachine/src/editor/amgui/amgui.js"}],"/home/azazdeaz/repos/animachine/src/editor/windooman/Windooman.js":[function(require,module,exports){
"use strict";

var Container = require("./Container");

function Windooman() {
  this._tabMap = {};
  this._workspaces = {};

  this._createDomElem();
  this._initResize();
}

var p = Windooman.prototype;

p.loadWorkspace = function (name, workspace) {
  this._workspaces[name] = workspace;
};

p.getWorkspace = function (name) {
  return _.cloneDeep(this._workspaces[name]);
};

p.load = function (name, workspace) {
  if (workspace) {
    this.loadWorkspace(name, workspace);
  }

  var map = this._workspaces[name];

  if (!map || map.type !== "container") {
    throw Error("can't load " + map);
  }

  this._root = new Container(map);

  this.domElem.innerHTML = "";
  this.domElem.appendChild(this._root.domElem);

  Object.keys(this._tabMap).forEach(function (name) {
    this.fillTab(name, this._tabMap[name]);
  }, this);
};

p.findTab = function (name) {
  if (this._root) {
    return this._root.findTab(name);
  }
};

p.fillTab = function (name, content) {
  this._tabMap[name] = content;

  var tab = this.findTab(name);

  if (tab) {
    tab.setContent(content);
  }
};

p._initResize = function () {
  var isWaiting = false;

  var cb = function () {
    if (this._root) {
      this._root.bubbleResize();
      isWaiting = false;
    }
  }.bind(this);

  window.addEventListener("resize", function () {
    if (!isWaiting) {
      isWaiting = true;
      window.requestAnimationFrame(cb);
    }
  });
};

p._createDomElem = function () {
  this.domElem = document.createElement("div");
  this.domElem.style.width = "100%";
  this.domElem.style.height = "100%";
  this.domElem.style.display = "flex";
};

module.exports = Windooman;

},{"./Container":"/home/azazdeaz/repos/animachine/src/editor/windooman/Container.js"}]},{},["./src/editor/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tYWluLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvYmV6aWVyLWVhc2luZy9pbmRleC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9ldmVudG1hbi9ldmVudG1hbi5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy9sb2Rhc2gvZGlzdC9sb2Rhc2guanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvc3JjL1RyYW5zaGFuZC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3RyYW5zaGFuZC9zcmMvaGFuZHMvQm94ZXIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy90cmFuc2hhbmQvc3JjL2hhbmRzL1RyYW5zZm9ybWVyLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL3NyYy9oYW5kcy9jdXJ2ZXIvQ3VydmVyLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdHJhbnNoYW5kL3NyYy9tYWtlLWRyYWdnYWJsZS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9hcnJheS1zZXQuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAvYmFzZTY0LXZscS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9iYXNlNjQuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAvYmluYXJ5LXNlYXJjaC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvbm9kZV9tb2R1bGVzL3VnbGlmeS1qcy9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9zb3VyY2UtbWFwLWNvbnN1bWVyLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwL3NvdXJjZS1tYXAtZ2VuZXJhdG9yLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwL3NvdXJjZS1ub2RlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwL3V0aWwuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL25vZGVfbW9kdWxlcy91Z2xpZnktanMvbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbm9kZV9tb2R1bGVzL2FtZGVmaW5lL2FtZGVmaW5lLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL3Rvb2xzL25vZGUuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW0uY3NzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmJlemllckVkaXRvci5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5icmVhZGNydW1icy5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5idXR0b24uanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuY2hlY2tib3guanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuY3Vyc29yLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLmRpYWxvZy5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5kcmF3ZXIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuZHJvcGRvd24uanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuaW5wdXQuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkua2V5VmFsdWVJbnB1dC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5tYWtlRHJhZ2dhYmxlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLnNjcm9sbC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9hbWd1aS9hbWd1aS5zdGVwcGVyS2V5LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2FtZ3VpL2FtZ3VpLnRvb2x0aXAuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYW1ndWkvYW1ndWkudXRpbHMuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvYXNzZXRzL2ZvbnRlbGxvL2NvbmZpZy5qc29uIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2Fzc2V0cy9mb250ZWxsby9jc3MvYW1ndWkuY3NzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2Nocm9uaWNsZXIvQ2hyb25pY2xlci5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9jb21tb25EaWFsb2dzL2RpYWxvZ0ZlZWRiYWNrLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2NvbW1vbkRpYWxvZ3MvZGlhbG9nV0lQLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2RvbS1waWNrZXIvRG9tUGlja2VyLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL2hpc3RvcnlUYWIvSGlzdG9yeVRhYi5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9oaXN0b3J5VGFiL0l0ZW0uanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvaTE4bi5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2FtLWRvbXRyZWUvQnJhbmNoLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvYW0tZG9tdHJlZS9Eb21UcmVlVGFiLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvYW0tZG9tdHJlZS9hbS1kb210cmVlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0JlemllckNzc1BhcmFtLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0Nzc1BhcmFtLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL0Nzc1BhcmFtR3JvdXAuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvQ3NzVHJhY2suanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvY3NzTW9kdWxlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL2RpYWxvZ05ld1BhcmFtLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL2RpYWxvZ1RyYWNrT3B0aW9ucy5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2Nzcy9wYXJhbUZhY3RvcnkuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvcGFyYW1zVGFiL0lucHV0LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvY3NzL3BhcmFtc1RhYi9QYXJhbXNUYWIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3Mvc2NyaXB0LnBsYXllci5tc3QiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9jc3MvdW5jYWxjLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvamF2YXNjcmlwdC9JbnRlcnZhbC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2phdmFzY3JpcHQvSW50ZXJ2YWxTY3JpcHQuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9qYXZhc2NyaXB0L0pzVHJhY2suanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9qYXZhc2NyaXB0L01vbWVudFNjcmlwdC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb2R1bGVzL2phdmFzY3JpcHQvZGlhbG9nU2NyaXB0RWRpdG9yLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvamF2YXNjcmlwdC9kaWFsb2dUcmFja09wdGlvbnMuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvbW9kdWxlcy9qYXZhc2NyaXB0L2pzTW9kdWxlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL21vZHVsZXMvamF2YXNjcmlwdC9zY3JpcHQucGxheWVyLm1zdCIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9tb3VzZS9Nb3VzZS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9xc2dlbi5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci9zaG9ydGN1dHMvZGlhbG9nU2V0dGluZ3MuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivc2hvcnRjdXRzL3Nob3J0Y3V0cy5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9FYXNlTWFwLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3RpbWVsaW5lL0lubGluZUVhc2VFZGl0b3IuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvVGltZWJhci5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9UaW1lbGluZS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90aW1lbGluZS9kZWNvclRpbWViYXJOYXZpZ2F0b3IuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvbWluZVNhdmUuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdGltZWxpbmUvc2NyaXB0LnNhdmUubXN0IiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3Rvb2xiYXIvVG9vbGJhci5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci90b3VyL1RvdXIuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvQ2hlY2tib3hJbnB1dC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9Db2xvcklucHV0LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL0RpYWxvZy5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9FYXNlLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL0tleS5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9LZXlHcm91cC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9LZXlMaW5lLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL0tleUxpbmVHcm91cC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9PcHRpb25MaW5lLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1NlbGVjdElucHV0LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1N0cmluZ0lucHV0LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3V0aWxzL1VuaXRJbnB1dC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci91dGlscy9kZWZpbmVDb21wYWN0UHJvcGVydHkuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3IvdXRpbHMvZGlhbG9nRWFzZU9wdGlvbnMuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2FyZWhvdXNlbWFuL1dhcmVob3VzZW1hbi5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93YXJlaG91c2VtYW4vZGVjb3JEaWFsb2cuanMiLCIvaG9tZS9hemF6ZGVhei9yZXBvcy9hbmltYWNoaW5lL3NyYy9lZGl0b3Ivd2FyZWhvdXNlbWFuL3N0b3JhZ2VzL0Rvd25sb2FkLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9zdG9yYWdlcy9QYWdlU2NyaXB0LmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dhcmVob3VzZW1hbi9zdG9yYWdlcy9XZWJTdG9yYWdlbWFuLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dpbmRvb21hbi9CbG9jay5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vQ29udGFpbmVyLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dpbmRvb21hbi9QYW5lbC5qcyIsIi9ob21lL2F6YXpkZWF6L3JlcG9zL2FuaW1hY2hpbmUvc3JjL2VkaXRvci93aW5kb29tYW4vVGFiLmpzIiwiL2hvbWUvYXphemRlYXovcmVwb3MvYW5pbWFjaGluZS9zcmMvZWRpdG9yL3dpbmRvb21hbi9XaW5kb29tYW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2lCSSxLQUFHLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUM3QixJQUFFLEVBQUUsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQ25DLFNBQU8sRUFBRSxPQUFPLENBQUMsc0JBQXNCLENBQUMsRUFDM0MsQ0FBQztBQUNGLElBQUksbUJBQW1CLEdBQUc7O0FBRXRCLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FDdEIsQ0FBQzs7QUFFRixJQUFJLFFBQVEsR0FBRyxLQUFLLEVBQUUsV0FBVyxHQUFHLEVBQUUsQ0FBQzs7O0FBR3ZDLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksWUFBWSxFQUFFLEVBQUU7QUFFL0QsWUFBVSxFQUFFLEVBQUU7O0FBRWQsaUJBQWUsRUFBRSxTQUFTO0FBQzFCLGVBQWEsRUFBRSxTQUFTOztBQUV4QixtQkFBaUIsRUFBRSxVQUFVLEtBQUssRUFBRSxJQUFJLEVBQUU7QUFFdEMsUUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7R0FDakM7Q0FDSixDQUFDLENBQUM7O0FBRUgsRUFBRSxDQUFDLFlB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U0FDRjtPQUNGO0FBQ0QsYUFBTyxTQUFTLENBQUM7S0FDbEI7R0FDRixDQUFDLENBQUM7Q0FDSjs7O0FDOWpCRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1a0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25vTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9VQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0dUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3aUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5ZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUMsS0FBSyxJQUFJLE1BQU0sQ0FBQztBQUNoQyxLQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO0FBQzdCLEtBQUcsQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUM7QUFDM0MsS0FBRyxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQztBQUMzQyxLQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDOztBQUUzQixNQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVMsQ0FBQyxFQUFFO0FBRWpDLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sSUFDM0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUssR0FBRyxDQUFDLFVBQVUsSUFDbkMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLFFBQVEsSUFDL0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLEtBQUssSUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sSUFDM0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEtBQUssR0FBRyxDQUFDLGFBQWEsSUFDekMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFh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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNuQyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7O0FBRWxFLEdBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUMzQyxHQUFDLElBQUksT0FBTyxDQUFDO0FBQ2IsR0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQzNDLEdBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ3JDLEdBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDdkIsR0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRXJDLE1BQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFaEMsTUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUM5QixNQUFJLENBQUMsTUFBTSxDQUFDLGVB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SSxDQUFDLEtBQUssRUFBRTtBQUUzRCxTQUFHLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEMsU0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNsRDtBQUNELE9BQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFYixTQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsV0FBVyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO0FBRXZELFNBQUcsQ0FBQyxNQUFNLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4QyxTQUFHLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDO0tBQ2xEO0FBQ0QsT0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDOztBQUViLFNBQUssQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFFekQsVUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQzlCLFdBQUssR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDeEMsU0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEtBQUssR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDN0M7QUFDRCxP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LENBQUM7QUFDN0MsTUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUNsQyxNQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ25DLE1BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7Q0FDdkMsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4vYW1ndWknKTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIFRpbWVsaW5lID0gcmVxdWlyZSgnLi90aW1lbGluZScpO1xudmFyIFdpbmRvb21hbiA9IHJlcXVpcmUoJy4vd2luZG9vbWFuJyk7XG52YXIgSGlzdG9yeVRhYiA9IHJlcXVpcmUoJy4vaGlzdG9yeVRhYicpO1xudmFyIFdhcmVob3VzZW1hbiA9IHJlcXVpcmUoJy4vd2FyZWhvdXNlbWFuJyk7XG52YXIgc2hvcnRjdXRzID0gcmVxdWlyZSgnLi9zaG9ydGN1dHMnKTtcbnZhciBDaHJvbmljbGVyID0gcmVxdWlyZSgnLi9jaHJvbmljbGVyJyk7XG52YXIgRG9tUGlja2VyID0gcmVxdWlyZSgnLi9kb20tcGlja2VyJyk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vaTE4bicpO1xudmFyIFRvdXIgPSByZXF1aXJlKCcuL3RvdXInKTtcbnZhciBNb3VzZSA9IHJlcXVpcmUoJy4vbW91c2UnKTtcbnZhciBkaWFsb2dXSVAgPSByZXF1aXJlKCcuL2NvbW1vbkRpYWxvZ3MvZGlhbG9nV0lQJyk7XG52YXIgZGlhbG9nRmVlZGJhY2sgPSByZXF1aXJlKCcuL2NvbW1vbkRpYWxvZ3MvZGlhbG9nRmVlZGJhY2snKTtcbnZhciBtb2R1bGVzID0ge1xuICAgIGNzczogcmVxdWlyZSgnLi9tb2R1bGVzL2NzcycpLFxuICAgIGpzOiByZXF1aXJlKCcuL21vZHVsZXMvamF2YXNjcmlwdCcpLFxuICAgIGRvbVRyZWU6IHJlcXVpcmUoJy4vbW9kdWxlcy9hbS1kb210cmVlJyksXG59O1xudmFyIGV4dGVybmFsU3R5bGVzaGVldHMgPSBbXG4gICAgLy8gcmVxdWlyZSgnLi9hc3NldHMvZm9udGVsbG8vY3NzL2FtZ3VpLmNzcycpLFxuICAgIHJlcXVpcmUoJy4vYW0uY3NzJyksXG5dO1xuXG52YXIgaXNJbml0ZWQgPSBmYWxzZSwgaGFuZGxlckJ1ZmYgPSBbXTtcblxuXG52YXIgYW0gPSB3aW5kb3cuYW0gPSBtb2R1bGUuZXhwb3J0cyA9IF8uZXh0ZW5kKG5ldyBFdmVudEVtaXR0ZXIoKSwge1xuXG4gICAgdHJhY2tUeXBlczoge30sXG5cbiAgICBzZWxlY3RlZERvbUVsZW06IHVuZGVmaW5lZCxcbiAgICBzZWxlY3RlZFRyYWNrOiB1bmRlZmluZWQsXG5cbiAgICByZWdpc3RlclRyYWNrVHlwZTogZnVuY3Rpb24gKFRyYWNrLCB0eXBlKSB7XG5cbiAgICAgICAgdGhpcy50cmFja1R5cGVzW3R5cGVdID0gVHJhY2s7XG4gICAgfVxufSk7XG5cbmFtLnRocm93SGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG5cbiAgICBoYW5kbGVyQnVmZi5wdXNoKGhhbmRsZXIpO1xufTtcblxuYW0ub3BlbiA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBpZiAoIXdpbmRvdy5jaHJvbWUpIHtcbiAgICBcbiAgICAgICAgcmV0dXJuIGFsZXJ0VW5zdXBwb3J0ZWRCcm93c2VycygpO1xuICAgIH1cbiAgICBcbiAgICBhbS5faW5pdCgpO1xuXG4gICAgaWYgKHNhdmUpIHtcblxuICAgICAgICBpZiAodHlwZW9mKHNhdmUpID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgICBzYXZlID0gSlNPTi5wYXJzZShzYXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFtLnRpbWVsaW5lLnVzZVNhdmUoc2F2ZSk7XG4gICAgfVxufTtcblxuYW0uX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoaXNJbml0ZWQpIHJldHVybjtcblxuICAgIGFtLmkxOG4gPSBpMThuO1xuICAgIFxuICAgIGFtLmRpYWxvZ3MgPSB7XG4gICAgICAgIFdJUDogZGlhbG9nV0lQLFxuICAgICAgICBmZWVkYmFjazogZGlhbG9nRmVlZGJhY2ssXG4gICAgfTtcblxuICAgIGFtLndvcmtzcGFjZSA9IG5ldyBXaW5kb29tYW4oKTtcbiAgICBhbS53b3Jrc3BhY2UubG9hZFdvcmtzcGFjZSgnYmFzZScsIGdldEJhc2VXb3Jrc3BhY2UoKSk7XG4gICAgYW0ud29ya3NwYWNlLmxvYWQoJ2Jhc2UnKTtcblxuICAgIGFtLm1vdXNlID0gbmV3IE1vdXNlKCk7XG5cbiAgICBhbS5zdG9yYWdlID0gbmV3IFdhcmVob3VzZW1hbigpO1xuXG4gICAgYW0udG91ciA9IG5ldyBUb3VyKCk7XG5cbiAgICBhbS5kb21FbGVtID0gY3JlYXRlQW1Sb290KCk7XG4gICAgYW0uZGVIYW5kbGVyQ29udCA9IGNyZWF0ZUFtTGF5ZXIoKTtcbiAgICBhbS5kZUd1aUNvbnQgPSBjcmVhdGVBbUxheWVyKCk7XG4gICAgYW0uZGVEaWFsb2dDb250ID0gY3JlYXRlQW1MYXllcigpO1xuXG5cbiAgICBhbWd1aS5kZU92ZXJsYXlDb250ID0gYW0uZGVEaWFsb2dDb250O1xuXG4gICAgYW0uZGVHdWlDb250LmFwcGVuZENoaWxkKGFtLndvcmtzcGFjZS5kb21FbGVtKTtcblxuICAgIGFtLmRlUm9vdCA9IGRvY3VtZW50LmJvZHk7XG4gICAgXG4gICAgYW0uaGlzdG9yeSA9IG5ldyBDaHJvbmljbGVyKCk7XG4gICAgc2hvcnRjdXRzLm9uKCd1bmRvJywgYW0uaGlzdG9yeS51bmRvLmJpbmQoYW0uaGlzdG9yeSkpO1xuICAgIHNob3J0Y3V0cy5vbigncmVkbycsIGFtLmhpc3RvcnkucmVkby5iaW5kKGFtLmhpc3RvcnkpKTtcbiAgICBcbiAgICBhbS5oaXN0b3J5VGFiID0gbmV3IEhpc3RvcnlUYWIoKTtcbiAgICBhbS50aW1lbGluZSA9IG5ldyBUaW1lbGluZSgpO1xuICAgIGFtLmRvbVBpY2tlciA9IG5ldyBEb21QaWNrZXIoKTtcblxuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCdIaXN0b3J5JywgYW0uaGlzdG9yeVRhYi5kb21FbGVtKTtcblxuICAgIGFtLmRlSGFuZGxlckNvbnQuYXBwZW5kQ2hpbGQoYW0uZG9tUGlja2VyLmRvbUVsZW0pO1xuICAgIGFtLmRvbVBpY2tlci5vbigncGljaycsIG9uU2VsZWN0V2l0aERvbVBpY2tlcik7XG5cbiAgICBhbS50aW1lbGluZS50b29sYmFyLmFkZEljb24oe1xuICAgICAgICB0b29sdGlwOiAndW5kbycsXG4gICAgICAgIGljb246ICdjY3cnLFxuICAgICAgICBvbkNsaWNrOiBhbS5oaXN0b3J5LnVuZG8uYmluZChhbS5oaXN0b3J5KVxuICAgIH0pO1xuXG4gICAgYW0udGltZWxpbmUudG9vbGJhci5hZGRJY29uKHtcbiAgICAgICAgdG9vbHRpcDogJ3JlZG8nLFxuICAgICAgICBpY29uOiAnY3cnLFxuICAgICAgICBvbkNsaWNrOiBhbS5oaXN0b3J5LnJlZG8uYmluZChhbS5oaXN0b3J5KVxuICAgIH0pO1xuXG5cbiAgICBhbS50aW1lbGluZS50b29sYmFyLmFkZEljb24oe1xuICAgICAgICB0b29sdGlwOiAnZmVlZGJhY2snLFxuICAgICAgICBpY29uOiAnbWVnYXBob25lJyxcbiAgICAgICAgc2VwYXJhdG9yOiAncmVzdCcsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFtLmRpYWxvZ3MuZmVlZGJhY2suc2hvdygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuXG4gICAgLy8gYW0udGltZWxpbmUuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgYW0udGltZWxpbmUuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBhbS50aW1lbGluZS5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAvLyBhbS50aW1lbGluZS5kb21FbGVtLnN0eWxlLmJvdHRvbSA9ICcwcHgnO1xuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCd0aW1lbGluZScsIGFtLnRpbWVsaW5lLmRvbUVsZW0pO1xuXG4gICAgYWRkVG9nZ2xlR3VpKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrUm9vdCk7XG5cbiAgICBPYmplY3Qua2V5cyhtb2R1bGVzKS5mb3JFYWNoKCBtb2R1bGVOYW1lID0+IHtcblxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcsIG1vZHVsZU5hbWUsICdtb2R1bGUuLi4nKTtcblxuICAgICAgICBtb2R1bGVzW21vZHVsZU5hbWVdLmluaXQoYW0pO1xuICAgIH0pO1xuXG4gICAgY3JlYXRlTWVudSgpO1xuICAgIGNyZWF0ZVN0YXR1c0xhYmVsKCk7XG59O1xuXG5hbS5zZWxlY3RUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgaWYgKCF0cmFjaykgdGhyb3cgRXJyb3I7XG4gICAgaWYgKGFtLnNlbGVjdGVkVHJhY2sgPT09IHRyYWNrKSByZXR1cm47XG5cbiAgICBhbS5zZWxlY3RlZFRyYWNrID0gdHJhY2s7XG4gICAgYW0uZW1pdCgnc2VsZWN0VHJhY2snLCBhbS5zZWxlY3RlZFRyYWNrKTtcbn07XG5cbmFtLmRlc2VsZWN0VHJhY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIWFtLnNlbGVjdGVkVHJhY2spIHJldHVybjtcblxuICAgIGFtLnNlbGVjdGVkVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgYW0uZW1pdCgnZGVzZWxlY3RUcmFjaycpO1xufTtcblxuYW0uc2VsZWN0RG9tRWxlbSA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgaWYgKCFkZSkgdGhyb3cgRXJyb3I7XG4gICAgaWYgKGFtLnNlbGVjdGVkRG9tRWxlbSA9PT0gZGUpIHJldHVybjtcblxuICAgIGFtLnNlbGVjdGVkRG9tRWxlbSA9IGRlO1xuICAgIGFtLmVtaXQoJ3NlbGVjdERvbUVsZW1lbnQnLCBhbS5zZWxlY3RlZERvbUVsZW0pO1xufTtcblxuYW0uZGVzZWxlY3REb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCFhbS5zZWxlY3RlZERvbUVsZW0pIHJldHVybjtcblxuICAgIGFtLnNlbGVjdGVkRG9tRWxlbSA9IHVuZGVmaW5lZDtcbiAgICBhbS5lbWl0KCdkZXNlbGVjdERvbUVsZW0nKTtcbn07XG5cbmFtLmlzUGlja2FibGVEb21FbGVtID0gZnVuY3Rpb24gKGRlVGVzdCkge1xuICAgIC8vVE9ETyB1c2UgLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKClcbiAgICBpZiAoIWRlVGVzdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ZXAoZGVUZXN0KTtcblxuICAgIGZ1bmN0aW9uIHN0ZXAoZGUpIHtcblxuICAgICAgICBpZiAoIWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGUubm9kZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtYW0tcGljaycpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtYW0tbm9waWNrJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZSA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlICE9PSBkZVRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwKGRlLnBhcmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBhZGRUb2dnbGVHdWkoKSB7XG5cbiAgICB2YXIgaXNIaWRkZW4gPSBmYWxzZTsgICBcblxuICAgIGFtLnRpbWVsaW5lLnRvb2xiYXIuYWRkSWNvbih7XG4gICAgICAgIHRvb2x0aXA6ICdzaG93L2hpZGUgZWRpdG9yJyxcbiAgICAgICAgaWNvbjogJ3Jlc2l6ZS1zbWFsbCcsXG4gICAgICAgIHNlcGFyYXRvcjogJ2ZpcnN0JyxcbiAgICAgICAgb25DbGljazogaGlkZSxcbiAgICB9KTtcblxuICAgIHZhciBidG5GdWxsID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHNpemU6IDI0LFxuICAgICAgICBpY29uOiAncmVzaXplLWZ1bGwnLFxuICAgICAgICB0b29sdGlwOiAnc2hvdyBlZGl0b3InLFxuICAgICAgICBvbkNsaWNrOiBzaG93LFxuICAgIH0pO1xuXG4gICAgc2hvcnRjdXRzLm9uKCdzaG93L2hpZGVQYW5lbHMnLCB0b2dnbGUpO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlKCkge1xuXG4gICAgICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICBpZiAoaXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGFtLmRlR3VpQ29udC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidG5GdWxsKTtcblxuICAgICAgICB2YXIgekluZGV4ID0gZ2V0TWF4WkluZGV4KCk7XG4gICAgICAgIGlmICh6SW5kZXgpIHtcbiAgICAgICAgICAgIGJ0bkZ1bGwuc3R5bGUuekluZGV4ID0gekluZGV4ICsgMTAwMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3coKSB7XG5cbiAgICAgICAgaWYgKCFpc0hpZGRlbikgcmV0dXJuO1xuICAgICAgICBpc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgIGFtLmRlR3VpQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgYnRuRnVsbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGJ0bkZ1bGwpO1xuICAgIH1cblxuICAgIGJ0bkZ1bGwuc3R5bGUudG9wID0gJzBweCc7XG4gICAgYnRuRnVsbC5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgYnRuRnVsbC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG59XG5cblxuXG5cbmZ1bmN0aW9uIGdldE1heFpJbmRleCgpIHtcblxuICAgIHZhciB6SW5kZXggPSAwLCBlbHMsIHgsIHhMZW4sIGVsLCB2YWw7XG5cbiAgICBlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgZm9yICh4ID0gMCwgeExlbiA9IGVscy5sZW5ndGg7IHggPCB4TGVuOyB4ICs9IDEpIHtcbiAgICAgIGVsID0gZWxzW3hdO1xuICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKCdwb3NpdGlvbicpICE9PSAnc3RhdGljJykge1xuICAgICAgICB2YWwgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSgnei1pbmRleCcpO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgdmFsID0gK3ZhbDtcbiAgICAgICAgICBpZiAodmFsID4gekluZGV4KSB7XG4gICAgICAgICAgICB6SW5kZXggPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB6SW5kZXg7ICAgIFxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBvbkNsaWNrUm9vdChlKSB7XG5cbiAgICBpZiAoYW0uaXNQaWNrYWJsZURvbUVsZW0oZS50YXJnZXQpKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGFtLnNlbGVjdGVkRG9tRWxlbSkgey8vaGFjayFcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYW0uZG9tUGlja2VyLmZvY3VzRWxlbShlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmJvZHkgfHwgZS50YXJnZXQucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQpIHtcblxuICAgICAgICBhbS5kZXNlbGVjdERvbUVsZW0oKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VsZWN0V2l0aERvbVBpY2tlcihkZSkge1xuXG4gICAgYW0uc2VsZWN0RG9tRWxlbShkZSk7XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gY3JlYXRlQW1Sb290KCkge1xuXG4gICAgLy8gJCgnYm9keScpLmNzcygnb3BhY2l0eScsIDApXG4gICAgICAgIC8vIC5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHskKCdib2R5JykuY3NzKCdvcGFjaXR5JywgMSl9KVxuICAgICAgICAvLyAubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7JCgnYm9keScpLmNzcygnb3BhY2l0eScsIC4yMyl9KTtcbiAgICBcbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgZGUuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIGRlLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUud2Via3RVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICBkZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG5cbiAgICBkZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW0tbm9waWNrJywgJycpO1xuXG4gICAgdmFyIHpJbmRleCA9IGdldE1heFpJbmRleCgpO1xuICAgIGlmICh6SW5kZXgpIHtcbiAgICAgICAgZGUuc3R5bGUuekluZGV4ID0gekluZGV4ICsgMTAwMDtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHZhciBzciA9IGRlLmNyZWF0ZVNoYWRvd1Jvb3QoKTtcbiAgICAgICAgXG4gICAgc3IuYXBwZW5kQ2hpbGQoYW1ndWkuZ2V0U3R5bGVTaGVldCgpKTtcblxuICAgIGV4dGVybmFsU3R5bGVzaGVldHMuZm9yRWFjaChmdW5jdGlvbiAoY3NzKSB7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gY3NzO1xuICAgICAgICBzci5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIC8vIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNyO1xuICAgIC8vIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQW1MYXllcigpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgZGUuc2V0QXR0cmlidXRlKCdkYXRhLWFtLW5vcGljaycsICcnKTtcbiAgICBhbS5kb21FbGVtLmFwcGVuZENoaWxkKGRlKTtcbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1lbnUoKSB7XG4gICAgXG4gICAgdmFyIGljb25NZW51ID0gYW0udGltZWxpbmUudG9vbGJhci5hZGRJY29uKHtcbiAgICAgICAgdG9vbHRpcDogJ2ZpbGUnLFxuICAgICAgICBpY29uOiAnZmxvcHB5JyxcbiAgICAgICAgc2VwYXJhdG9yOiAnZ2xvYmFsJyxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgIGRlVGFyZ2V0OiBpY29uTWVudSxcbiAgICAgICAgZGVNZW51OiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAge3RleHQ6ICduZXcnLCBvblNlbGVjdDogb25TZWxlY3ROZXd9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnc2F2ZScsIG9uU2VsZWN0OiBvblNlbGVjdFNhdmV9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnc2F2ZUFzJywgb25TZWxlY3Q6IG9uU2VsZWN0U2F2ZX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdvcGVuJywgb25TZWxlY3Q6IG9uU2VsZWN0T3Blbn0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvblNlbGVjdE5ldygpIHtcblxuICAgICAgICBhbS50aW1lbGluZS5jbGVhcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU2VsZWN0U2F2ZSgpIHtcblxuICAgICAgICBhbS5zdG9yYWdlLnNob3dTYXZlRGlhbG9nKHtcblxuICAgICAgICAgICAgZ2V0U2F2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBvcHQgPSBhbS5zdG9yYWdlLmdldFNhdmVPcHRpb25zKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYW0udGltZWxpbmUuZ2V0U2NyaXB0KG9wdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU2VsZWN0T3BlbigpIHtcblxuICAgICAgICBhbS5zdG9yYWdlLnNob3dPcGVuRGlhbG9nKHtcblxuICAgICAgICAgICAgb25PcGVuOiBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2F2ZSk7XG5cbiAgICAgICAgICAgICAgICBhbS50aW1lbGluZS5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGFtLnRpbWVsaW5lLnVzZVNhdmUoc2F2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBnZXRCYXNlV29ya3NwYWNlKCkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgIGRpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLjcsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiAnZmxleCcsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgeyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGFuZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnQ3NzIFN0eWxlJ30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdEb20gVHJlZSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnSGlzdG9yeSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYW5lbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDIuNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSx7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhbmVsJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIG5vSGVhZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0YWJzOiBbe25hbWU6ICd0aW1lbGluZSd9XSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YXR1c0xhYmVsKCkge1xuXG4gICAgdmFyIGRlVGl0bGUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIGNhcHRpb246ICdBbmltYWNoaW5lIChhbHBoYSknLFxuICAgICAgICBwYXJlbnQ6IGFtLmRlRGlhbG9nQ29udCxcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIGZvbnRTaXplOiAnMThweCdcbiAgICB9KTtcblxuICAgIGRlVGl0bGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBkZVRpdGxlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlVGl0bGUuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZGVUaXRsZS5zdHlsZS5vcGFjaXR5ID0gJzAuMjMnO1xuICAgIGRlVGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbn1cblxuZnVuY3Rpb24gYWxlcnRVbnN1cHBvcnRlZEJyb3dzZXJzKCkge1xuXG4gICAgdmFyIGRlU29ycnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVNvcnJ5LnRleHRDb250ZW50ID0gJ1NvcnJ5LCB0aGlzIGRlbW8gaXMgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGJ5IGNocm9tZS4gJztcbiAgICBhbWd1aS5jcmVhdGVJY29uKHtpY29uOiAnZW1vLXVuaGFwcHknLCBwYXJlbnQ6IGRlU29ycnksIGRpc3BsYXk6ICdpbmxpbmUnfSk7XG4gICAgZGVTb3JyeS5zdHlsZS5kaXNwbGF5ID0gJ2ZpeGVkJztcbiAgICBkZVNvcnJ5LnN0eWxlLm1hcmdpbiA9ICdhdXRvJztcbiAgICBkZVNvcnJ5LnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICBkZVNvcnJ5LnN0eWxlLmZvbnRTaXplID0gJzIxcHgnO1xuICAgIGRlU29ycnkuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgIGRlU29ycnkuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXk7XG4gICAgZGVTb3JyeS5zdHlsZS50b3AgPSAwO1xuICAgIGRlU29ycnkuc3R5bGUucmlnaHQgPSAwO1xuICAgIGRlU29ycnkuc3R5bGUuYm90dG9tID0gMDtcbiAgICBkZVNvcnJ5LnN0eWxlLmxlZnQgPSAwO1xuICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkZVNvcnJ5KTtcbn1cblxuLy8vcG9seWZpbGxzXG5pZiAoIUFycmF5LnByb3RvdHlwZS5maW5kKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmaW5kJywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LnByb3RvdHlwZS5maW5kIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgdmFyIGxpc3QgPSBPYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSBpbiBsaXN0KSB7XG4gICAgICAgICAgdmFsdWUgPSBsaXN0W2ldO1xuICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaSwgbGlzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9KTtcbn0iLCIvKipcbiAqIEJlemllckVhc2luZyAtIHVzZSBiZXppZXIgY3VydmUgZm9yIHRyYW5zaXRpb24gZWFzaW5nIGZ1bmN0aW9uXG4gKiBieSBHYcOrdGFuIFJlbmF1ZGVhdSAyMDE0IOKAkyBNSVQgTGljZW5zZVxuICpcbiAqIENyZWRpdHM6IGlzIGJhc2VkIG9uIEZpcmVmb3gncyBuc1NNSUxLZXlTcGxpbmUuY3BwXG4gKiBVc2FnZTpcbiAqIHZhciBzcGxpbmUgPSBCZXppZXJFYXNpbmcoMC4yNSwgMC4xLCAwLjI1LCAxLjApXG4gKiBzcGxpbmUoeCkgPT4gcmV0dXJucyB0aGUgZWFzaW5nIHZhbHVlIHwgeCBtdXN0IGJlIGluIFswLCAxXSByYW5nZVxuICpcbiAqL1xuKGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZGVmaW5pdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LkJlemllckVhc2luZyA9IGRlZmluaXRpb24oKTtcbiAgfVxufShmdW5jdGlvbiAoKSB7XG4gIHZhciBnbG9iYWwgPSB0aGlzO1xuXG4gIC8vIFRoZXNlIHZhbHVlcyBhcmUgZXN0YWJsaXNoZWQgYnkgZW1waXJpY2lzbSB3aXRoIHRlc3RzICh0cmFkZW9mZjogcGVyZm9ybWFuY2UgVlMgcHJlY2lzaW9uKVxuICB2YXIgTkVXVE9OX0lURVJBVElPTlMgPSA0O1xuICB2YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xuICB2YXIgU1VCRElWSVNJT05fUFJFQ0lTSU9OID0gMC4wMDAwMDAxO1xuICB2YXIgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMgPSAxMDtcblxuICB2YXIga1NwbGluZVRhYmxlU2l6ZSA9IDExO1xuICB2YXIga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuXG4gIHZhciBmbG9hdDMyQXJyYXlTdXBwb3J0ZWQgPSAnRmxvYXQzMkFycmF5JyBpbiBnbG9iYWw7XG5cbiAgZnVuY3Rpb24gQmV6aWVyRWFzaW5nIChtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcbiAgICAvLyBWYWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmV6aWVyRWFzaW5nIHJlcXVpcmVzIDQgYXJndW1lbnRzLlwiKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaT0wOyBpPDQ7ICsraSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gIT09IFwibnVtYmVyXCIgfHwgaXNOYU4oYXJndW1lbnRzW2ldKSB8fCAhaXNGaW5pdGUoYXJndW1lbnRzW2ldKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCZXppZXJFYXNpbmcgYXJndW1lbnRzIHNob3VsZCBiZSBpbnRlZ2Vycy5cIik7XG4gICAgICB9IFxuICAgIH1cbiAgICBpZiAobVgxIDwgMCB8fCBtWDEgPiAxIHx8IG1YMiA8IDAgfHwgbVgyID4gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmV6aWVyRWFzaW5nIHggdmFsdWVzIG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbVNhbXBsZVZhbHVlcyA9IGZsb2F0MzJBcnJheVN1cHBvcnRlZCA/IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSkgOiBuZXcgQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gICBcbiAgICBmdW5jdGlvbiBBIChhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExOyB9XG4gICAgZnVuY3Rpb24gQiAoYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIGFBMiAtIDYuMCAqIGFBMTsgfVxuICAgIGZ1bmN0aW9uIEMgKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTE7IH1cbiAgIFxuICAgIC8vIFJldHVybnMgeCh0KSBnaXZlbiB0LCB4MSwgYW5kIHgyLCBvciB5KHQpIGdpdmVuIHQsIHkxLCBhbmQgeTIuXG4gICAgZnVuY3Rpb24gY2FsY0JlemllciAoYVQsIGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gKChBKGFBMSwgYUEyKSphVCArIEIoYUExLCBhQTIpKSphVCArIEMoYUExKSkqYVQ7XG4gICAgfVxuICAgXG4gICAgLy8gUmV0dXJucyBkeC9kdCBnaXZlbiB0LCB4MSwgYW5kIHgyLCBvciBkeS9kdCBnaXZlbiB0LCB5MSwgYW5kIHkyLlxuICAgIGZ1bmN0aW9uIGdldFNsb3BlIChhVCwgYUExLCBhQTIpIHtcbiAgICAgIHJldHVybiAzLjAgKiBBKGFBMSwgYUEyKSphVCphVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUgKGFYLCBhR3Vlc3NUKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5FV1RPTl9JVEVSQVRJT05TOyArK2kpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGNTYW1wbGVWYWx1ZXMgKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgbVNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZSAoYVgsIGFBLCBhQikge1xuICAgICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgIGlmIChjdXJyZW50WCA+IDAuMCkge1xuICAgICAgICAgIGFCID0gY3VycmVudFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgIHJldHVybiBjdXJyZW50VDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRURm9yWCAoYVgpIHtcbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMC4wO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT0gbGFzdFNhbXBsZSAmJiBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIC8vIEludGVycG9sYXRlIHRvIHByb3ZpZGUgYW4gaW5pdGlhbCBndWVzcyBmb3IgdFxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUrMV0gLSBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcblxuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSBORVdUT05fTUlOX1NMT1BFKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JUKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiaW5hcnlTdWJkaXZpZGUoYVgsIGludGVydmFsU3RhcnQsIGludGVydmFsU3RhcnQgKyBrU2FtcGxlU3RlcFNpemUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfcHJlY29tcHV0ZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBwcmVjb21wdXRlKCkge1xuICAgICAgX3ByZWNvbXB1dGVkID0gdHJ1ZTtcbiAgICAgIGlmIChtWDEgIT0gbVkxIHx8IG1YMiAhPSBtWTIpXG4gICAgICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB9XG5cbiAgICB2YXIgZiA9IGZ1bmN0aW9uIChhWCkge1xuICAgICAgaWYgKCFfcHJlY29tcHV0ZWQpIHByZWNvbXB1dGUoKTtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgcmV0dXJuIGFYOyAvLyBsaW5lYXJcbiAgICAgIC8vIEJlY2F1c2UgSmF2YVNjcmlwdCBudW1iZXIgYXJlIGltcHJlY2lzZSwgd2Ugc2hvdWxkIGd1YXJhbnRlZSB0aGUgZXh0cmVtZXMgYXJlIHJpZ2h0LlxuICAgICAgaWYgKGFYID09PSAwKSByZXR1cm4gMDtcbiAgICAgIGlmIChhWCA9PT0gMSkgcmV0dXJuIDE7XG4gICAgICByZXR1cm4gY2FsY0JlemllcihnZXRURm9yWChhWCksIG1ZMSwgbVkyKTtcbiAgICB9O1xuXG4gICAgZi5nZXRDb250cm9sUG9pbnRzID0gZnVuY3Rpb24oKSB7IHJldHVybiBbeyB4OiBtWDEsIHk6IG1ZMSB9LCB7IHg6IG1YMiwgeTogbVkyIH1dOyB9O1xuXG4gICAgdmFyIGFyZ3MgPSBbbVgxLCBtWTEsIG1YMiwgbVkyXTtcbiAgICB2YXIgc3RyID0gXCJCZXppZXJFYXNpbmcoXCIrYXJncytcIilcIjtcbiAgICBmLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyOyB9O1xuXG4gICAgdmFyIGNzcyA9IFwiY3ViaWMtYmV6aWVyKFwiK2FyZ3MrXCIpXCI7XG4gICAgZi50b0NTUyA9IGZ1bmN0aW9uICgpIHvCoHJldHVybiBjc3M7IH07XG5cbiAgICByZXR1cm4gZjtcbiAgfVxuXG4gIC8vIENTUyBtYXBwaW5nXG4gIEJlemllckVhc2luZy5jc3MgPSB7XG4gICAgXCJlYXNlXCI6ICAgICAgICBCZXppZXJFYXNpbmcoMC4yNSwgMC4xLCAwLjI1LCAxLjApLFxuICAgIFwibGluZWFyXCI6ICAgICAgQmV6aWVyRWFzaW5nKDAuMDAsIDAuMCwgMS4wMCwgMS4wKSxcbiAgICBcImVhc2UtaW5cIjogICAgIEJlemllckVhc2luZygwLjQyLCAwLjAsIDEuMDAsIDEuMCksXG4gICAgXCJlYXNlLW91dFwiOiAgICBCZXppZXJFYXNpbmcoMC4wMCwgMC4wLCAwLjU4LCAxLjApLFxuICAgIFwiZWFzZS1pbi1vdXRcIjogQmV6aWVyRWFzaW5nKDAuNDIsIDAuMCwgMC41OCwgMS4wKVxuICB9O1xuXG4gIHJldHVybiBCZXppZXJFYXNpbmc7XG5cbn0pKTtcbiIsIihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxucHJvY2Vzcy5uZXh0VGljayA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnNldEltbWVkaWF0ZTtcbiAgICB2YXIgY2FuUG9zdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyXG4gICAgO1xuXG4gICAgaWYgKGNhblNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZikgfTtcbiAgICB9XG5cbiAgICBpZiAoY2FuUG9zdCkge1xuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBldi5zb3VyY2U7XG4gICAgICAgICAgICBpZiAoKHNvdXJjZSA9PT0gd2luZG93IHx8IHNvdXJjZSA9PT0gbnVsbCkgJiYgZXYuZGF0YSA9PT0gJ3Byb2Nlc3MtdGljaycpIHtcbiAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZuKTtcbiAgICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSgncHJvY2Vzcy10aWNrJywgJyonKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcbn0pKCk7XG5cbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufVxuXG4vLyBUT0RPKHNodHlsbWFuKVxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBFdmVudE1hbiAoKSB7XG5cbiAgICB0aGlzLl9saXN0ZW5lckNvdW50ID0gMDtcbiAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSAxMDtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50TWFuO1xudmFyIHAgPSBFdmVudE1hbi5wcm90b3R5cGU7XG5cbnAuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZ0TmFtZSwgY2IsIHNjb3BlKSB7XG5cbiAgICBpZiAoZXZ0TmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnROYW1lLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoZXZ0TmFtZVtpXSwgY2IsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKGV2dE5hbWUgaW4gdGhpcy5fZXZlbnRzKSkge1xuXG4gICAgICAgIHRoaXMuX2V2ZW50c1tldnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXZ0TmFtZSAhPT0gJ3N0cmluZycpIHRocm93ICdldmVudCBuYW1lIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93ICdDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24hJztcblxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0TmFtZSwgY2IsIHNjb3BlKTtcblxuICAgIHZhciBsaXRlbmVycyA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcblxuICAgIGxpdGVuZXJzLnB1c2goc2NvcGUgPyBbY2IsIHNjb3BlXSA6IGNiKTtcblxuICAgIGlmICh0aGlzLl9tYXhMaXN0ZW5lcnMgPiAwICYmIGxpdGVuZXJzLmxlbmd0aCA+IHRoaXMuX21heExpc3RlbmVycykge1xuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgIGxpc3RlbmVycy5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgfVxufTtcblxucC5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldnROYW1lLCBjYiwgc2NvcGUpIHtcblxuICAgIHZhciByZWcsIGNiLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0TmFtZV07XG5cbiAgICBpZiAobGlzdGVuZXJzKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgcmVnID0gbGlzdGVuZXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKHJlZykgPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gcmVnICYmICFzY29wZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnWzBdID09PSBjYiAmJiByZWdbMV0gPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxucC5lbWl0ID0gZnVuY3Rpb24gKGV2dE5hbWUpIHtcblxuICAgIHZhciByZWcsIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyhldnROYW1lKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuXG4gICAgICAgIHJlZyA9IGxpc3RlbmVyc1tpXTtcblxuICAgICAgICBpZiAodHlwZW9mIChyZWcpID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIHJlZy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlZ1swXS5hcHBseShyZWdbMV0sIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5saXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZ0TmFtZSkge1xuXG4gICAgdmFyIGxpc3RlbmVycywgaSwgbCwgcmV0ID0gW107XG5cbiAgICBkbyB7XG4gICAgICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnROYW1lXTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoLmFwcGx5KHJldCwgbGlzdGVuZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dE5hbWUgPSBldnROYW1lLnNsaWNlKDAsIE1hdGgubWF4KDAsIGV2dE5hbWUubGFzdEluZGV4T2YoJy4nKSkpO1xuICAgIH1cbiAgICB3aGlsZSAoZXZ0TmFtZSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxucC5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiAobWF4TGlzdGVuZXJzKSB7XG5cbiAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBwYXJzZUludChtYXhMaXN0ZW5lcnMpIHx8IDA7XG59O1xuXG5wLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldnROYW1lKSB7XG5cbiAgICB0aGlzLmxpc3RlbmVycyhldnROYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWcpIHtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgKHJlZykgPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnROYW1lLCByZWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnROYW1lLCByZWdbMF0sIHJlZ1sxXSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn1cblxuLy9hbGlhc2VzXG5wLm9uID0gcC5hZGRMaXN0ZW5lcjtcbnAub2ZmID0gcC5yZW1vdmVMaXN0ZW5lcjsiLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIExvLURhc2ggMi40LjEgKEN1c3RvbSBCdWlsZCkgPGh0dHA6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiAtbyAuL2Rpc3QvbG9kYXNoLmpzYFxuICogQ29weXJpZ2h0IDIwMTItMjAxMyBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS41LjIgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHA6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlIEVTNSBlbnZpcm9ubWVudHMgKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCB0byBwb29sIGFycmF5cyBhbmQgb2JqZWN0cyB1c2VkIGludGVybmFsbHkgKi9cbiAgdmFyIGFycmF5UG9vbCA9IFtdLFxuICAgICAgb2JqZWN0UG9vbCA9IFtdO1xuXG4gIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgKi9cbiAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgLyoqIFVzZWQgdG8gcHJlZml4IGtleXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggYF9fcHJvdG9fX2AgYW5kIHByb3BlcnRpZXMgb24gYE9iamVjdC5wcm90b3R5cGVgICovXG4gIHZhciBrZXlQcmVmaXggPSArbmV3IERhdGUgKyAnJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB3aGVuIG9wdGltaXphdGlvbnMgYXJlIGVuYWJsZWQgZm9yIGxhcmdlIGFycmF5cyAqL1xuICB2YXIgbGFyZ2VBcnJheVNpemUgPSA3NTtcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4IHNpemUgb2YgdGhlIGBhcnJheVBvb2xgIGFuZCBgb2JqZWN0UG9vbGAgKi9cbiAgdmFyIG1heFBvb2xTaXplID0gNDA7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGFuZCB0ZXN0IHdoaXRlc3BhY2UgKi9cbiAgdmFyIHdoaXRlc3BhY2UgPSAoXG4gICAgLy8gd2hpdGVzcGFjZVxuICAgICcgXFx0XFx4MEJcXGZcXHhBMFxcdWZlZmYnICtcblxuICAgIC8vIGxpbmUgdGVybWluYXRvcnNcbiAgICAnXFxuXFxyXFx1MjAyOFxcdTIwMjknICtcblxuICAgIC8vIHVuaWNvZGUgY2F0ZWdvcnkgXCJac1wiIHNwYWNlIHNlcGFyYXRvcnNcbiAgICAnXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMCdcbiAgKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggRVM2IHRlbXBsYXRlIGRlbGltaXRlcnNcbiAgICogaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtbGl0ZXJhbHMtc3RyaW5nLWxpdGVyYWxzXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHJlZ2V4cCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcyAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0ZWQgbmFtZWQgZnVuY3Rpb25zICovXG4gIHZhciByZUZ1bmNOYW1lID0gL15cXHMqZnVuY3Rpb25bIFxcblxcclxcdF0rXFx3LztcblxuICAvKiogVXNlZCB0byBtYXRjaCBcImludGVycG9sYXRlXCIgdGVtcGxhdGUgZGVsaW1pdGVycyAqL1xuICB2YXIgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZSBhbmQgemVyb3MgdG8gYmUgcmVtb3ZlZCAqL1xuICB2YXIgcmVMZWFkaW5nU3BhY2VzQW5kWmVyb3MgPSBSZWdFeHAoJ15bJyArIHdoaXRlc3BhY2UgKyAnXSowKyg/PS4kKScpO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycyAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBmdW5jdGlvbnMgY29udGFpbmluZyBhIGB0aGlzYCByZWZlcmVuY2UgKi9cbiAgdmFyIHJlVGhpcyA9IC9cXGJ0aGlzXFxiLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMgKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx0XFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcyAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCb29sZWFuJywgJ0RhdGUnLCAnRnVuY3Rpb24nLCAnTWF0aCcsICdOdW1iZXInLCAnT2JqZWN0JyxcbiAgICAnUmVnRXhwJywgJ1N0cmluZycsICdfJywgJ2F0dGFjaEV2ZW50JywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdpc05hTicsXG4gICAgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeSAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gMDtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHNob3J0Y3V0cyAqL1xuICB2YXIgYXJnc0NsYXNzID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheUNsYXNzID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGJvb2xDbGFzcyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVDbGFzcyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGZ1bmNDbGFzcyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBudW1iZXJDbGFzcyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgb2JqZWN0Q2xhc3MgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHJlZ2V4cENsYXNzID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzdHJpbmdDbGFzcyA9ICdbb2JqZWN0IFN0cmluZ10nO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IG9iamVjdCBjbGFzc2lmaWNhdGlvbnMgdGhhdCBgXy5jbG9uZWAgc3VwcG9ydHMgKi9cbiAgdmFyIGNsb25lYWJsZUNsYXNzZXMgPSB7fTtcbiAgY2xvbmVhYmxlQ2xhc3Nlc1tmdW5jQ2xhc3NdID0gZmFsc2U7XG4gIGNsb25lYWJsZUNsYXNzZXNbYXJnc0NsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbYXJyYXlDbGFzc10gPVxuICBjbG9uZWFibGVDbGFzc2VzW2Jvb2xDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW2RhdGVDbGFzc10gPVxuICBjbG9uZWFibGVDbGFzc2VzW251bWJlckNsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbb2JqZWN0Q2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tyZWdleHBDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW3N0cmluZ0NsYXNzXSA9IHRydWU7XG5cbiAgLyoqIFVzZWQgYXMgYW4gaW50ZXJuYWwgYF8uZGVib3VuY2VgIG9wdGlvbnMgb2JqZWN0ICovXG4gIHZhciBkZWJvdW5jZU9wdGlvbnMgPSB7XG4gICAgJ2xlYWRpbmcnOiBmYWxzZSxcbiAgICAnbWF4V2FpdCc6IDAsXG4gICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCBhcyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgYF9fYmluZERhdGFfX2AgKi9cbiAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IGZhbHNlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogbnVsbCxcbiAgICAnd3JpdGFibGUnOiBmYWxzZVxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGRldGVybWluZSBpZiB2YWx1ZXMgYXJlIG9mIHRoZSBsYW5ndWFnZSB0eXBlIE9iamVjdCAqL1xuICB2YXIgb2JqZWN0VHlwZXMgPSB7XG4gICAgJ2Jvb2xlYW4nOiBmYWxzZSxcbiAgICAnZnVuY3Rpb24nOiB0cnVlLFxuICAgICdvYmplY3QnOiB0cnVlLFxuICAgICdudW1iZXInOiBmYWxzZSxcbiAgICAnc3RyaW5nJzogZmFsc2UsXG4gICAgJ3VuZGVmaW5lZCc6IGZhbHNlXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMgKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx0JzogJ3QnLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdCAqL1xuICB2YXIgcm9vdCA9IChvYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSAmJiB3aW5kb3cpIHx8IHRoaXM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYCAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYCAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IG9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzICYmIGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMgb3IgQnJvd3NlcmlmaWVkIGNvZGUgYW5kIHVzZSBpdCBhcyBgcm9vdGAgKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSBvYmplY3RUeXBlc1t0eXBlb2YgZ2xvYmFsXSAmJiBnbG9iYWw7XG4gIGlmIChmcmVlR2xvYmFsICYmIChmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCkpIHtcbiAgICByb290ID0gZnJlZUdsb2JhbDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGJpbmFyeSBzZWFyY2hlc1xuICAgKiBvciBgZnJvbUluZGV4YCBjb25zdHJhaW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSAoZnJvbUluZGV4IHx8IDApIC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbnRhaW5zYCBmb3IgY2FjaGUgb2JqZWN0cyB0aGF0IG1pbWljcyB0aGUgcmV0dXJuXG4gICAqIHNpZ25hdHVyZSBvZiBgXy5pbmRleE9mYCBieSByZXR1cm5pbmcgYDBgIGlmIHRoZSB2YWx1ZSBpcyBmb3VuZCwgZWxzZSBgLTFgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGAwYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgY2FjaGUgPSBjYWNoZS5jYWNoZTtcblxuICAgIGlmICh0eXBlID09ICdib29sZWFuJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2FjaGVbdmFsdWVdID8gMCA6IC0xO1xuICAgIH1cbiAgICBpZiAodHlwZSAhPSAnbnVtYmVyJyAmJiB0eXBlICE9ICdzdHJpbmcnKSB7XG4gICAgICB0eXBlID0gJ29iamVjdCc7XG4gICAgfVxuICAgIHZhciBrZXkgPSB0eXBlID09ICdudW1iZXInID8gdmFsdWUgOiBrZXlQcmVmaXggKyB2YWx1ZTtcbiAgICBjYWNoZSA9IChjYWNoZSA9IGNhY2hlW3R5cGVdKSAmJiBjYWNoZVtrZXldO1xuXG4gICAgcmV0dXJuIHR5cGUgPT0gJ29iamVjdCdcbiAgICAgID8gKGNhY2hlICYmIGJhc2VJbmRleE9mKGNhY2hlLCB2YWx1ZSkgPiAtMSA/IDAgOiAtMSlcbiAgICAgIDogKGNhY2hlID8gMCA6IC0xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZ2l2ZW4gdmFsdWUgdG8gdGhlIGNvcnJlc3BvbmRpbmcgY2FjaGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVQdXNoKHZhbHVlKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5jYWNoZSxcbiAgICAgICAgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgIGlmICh0eXBlID09ICdib29sZWFuJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBjYWNoZVt2YWx1ZV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZSAhPSAnbnVtYmVyJyAmJiB0eXBlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHR5cGUgPSAnb2JqZWN0JztcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB0eXBlID09ICdudW1iZXInID8gdmFsdWUgOiBrZXlQcmVmaXggKyB2YWx1ZSxcbiAgICAgICAgICB0eXBlQ2FjaGUgPSBjYWNoZVt0eXBlXSB8fCAoY2FjaGVbdHlwZV0gPSB7fSk7XG5cbiAgICAgIGlmICh0eXBlID09ICdvYmplY3QnKSB7XG4gICAgICAgICh0eXBlQ2FjaGVba2V5XSB8fCAodHlwZUNhY2hlW2tleV0gPSBbXSkpLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZUNhY2hlW2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLm1heGAgYW5kIGBfLm1pbmAgYXMgdGhlIGRlZmF1bHQgY2FsbGJhY2sgd2hlbiBhIGdpdmVuXG4gICAqIGNvbGxlY3Rpb24gaXMgYSBzdHJpbmcgdmFsdWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgY2hhcmFjdGVyIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvZGUgdW5pdCBvZiBnaXZlbiBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyQXRDYWxsYmFjayh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYHNvcnRCeWAgdG8gY29tcGFyZSB0cmFuc2Zvcm1lZCBgY29sbGVjdGlvbmAgZWxlbWVudHMsIHN0YWJsZSBzb3J0aW5nXG4gICAqIHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGNvbXBhcmUgdG8gYGJgLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvbXBhcmUgdG8gYGFgLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBvZiBgMWAgb3IgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcoYSwgYikge1xuICAgIHZhciBhYyA9IGEuY3JpdGVyaWEsXG4gICAgICAgIGJjID0gYi5jcml0ZXJpYSxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYWMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFjW2luZGV4XSxcbiAgICAgICAgICBvdGhlciA9IGJjW2luZGV4XTtcblxuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICBpZiAodmFsdWUgPiBvdGhlciB8fCB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPCBvdGhlciB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHJldHVybiB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAvLyBgYWAgYW5kIGBiYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAvL1xuICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgLy8gU2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwXG4gICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYWNoZSBvYmplY3QgdG8gb3B0aW1pemUgbGluZWFyIHNlYXJjaGVzIG9mIGxhcmdlIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIG9iamVjdCBvciBgbnVsbGAgaWYgY2FjaGluZyBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVDYWNoZShhcnJheSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGZpcnN0ID0gYXJyYXlbMF0sXG4gICAgICAgIG1pZCA9IGFycmF5WyhsZW5ndGggLyAyKSB8IDBdLFxuICAgICAgICBsYXN0ID0gYXJyYXlbbGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoZmlyc3QgJiYgdHlwZW9mIGZpcnN0ID09ICdvYmplY3QnICYmXG4gICAgICAgIG1pZCAmJiB0eXBlb2YgbWlkID09ICdvYmplY3QnICYmIGxhc3QgJiYgdHlwZW9mIGxhc3QgPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGNhY2hlID0gZ2V0T2JqZWN0KCk7XG4gICAgY2FjaGVbJ2ZhbHNlJ10gPSBjYWNoZVsnbnVsbCddID0gY2FjaGVbJ3RydWUnXSA9IGNhY2hlWyd1bmRlZmluZWQnXSA9IGZhbHNlO1xuXG4gICAgdmFyIHJlc3VsdCA9IGdldE9iamVjdCgpO1xuICAgIHJlc3VsdC5hcnJheSA9IGFycmF5O1xuICAgIHJlc3VsdC5jYWNoZSA9IGNhY2hlO1xuICAgIHJlc3VsdC5wdXNoID0gY2FjaGVQdXNoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2luZGV4XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgdGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWRcbiAgICogc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbbWF0Y2hdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gYXJyYXkgZnJvbSB0aGUgYXJyYXkgcG9vbCBvciBjcmVhdGVzIGEgbmV3IG9uZSBpZiB0aGUgcG9vbCBpcyBlbXB0eS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge0FycmF5fSBUaGUgYXJyYXkgZnJvbSB0aGUgcG9vbC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFycmF5KCkge1xuICAgIHJldHVybiBhcnJheVBvb2wucG9wKCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBvYmplY3QgZnJvbSB0aGUgb2JqZWN0IHBvb2wgb3IgY3JlYXRlcyBhIG5ldyBvbmUgaWYgdGhlIHBvb2wgaXMgZW1wdHkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvYmplY3QgZnJvbSB0aGUgcG9vbC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldE9iamVjdCgpIHtcbiAgICByZXR1cm4gb2JqZWN0UG9vbC5wb3AoKSB8fCB7XG4gICAgICAnYXJyYXknOiBudWxsLFxuICAgICAgJ2NhY2hlJzogbnVsbCxcbiAgICAgICdjcml0ZXJpYSc6IG51bGwsXG4gICAgICAnZmFsc2UnOiBmYWxzZSxcbiAgICAgICdpbmRleCc6IDAsXG4gICAgICAnbnVsbCc6IGZhbHNlLFxuICAgICAgJ251bWJlcic6IG51bGwsXG4gICAgICAnb2JqZWN0JzogbnVsbCxcbiAgICAgICdwdXNoJzogbnVsbCxcbiAgICAgICdzdHJpbmcnOiBudWxsLFxuICAgICAgJ3RydWUnOiBmYWxzZSxcbiAgICAgICd1bmRlZmluZWQnOiBmYWxzZSxcbiAgICAgICd2YWx1ZSc6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSBnaXZlbiBhcnJheSBiYWNrIHRvIHRoZSBhcnJheSBwb29sLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byByZWxlYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVsZWFzZUFycmF5KGFycmF5KSB7XG4gICAgYXJyYXkubGVuZ3RoID0gMDtcbiAgICBpZiAoYXJyYXlQb29sLmxlbmd0aCA8IG1heFBvb2xTaXplKSB7XG4gICAgICBhcnJheVBvb2wucHVzaChhcnJheSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSBnaXZlbiBvYmplY3QgYmFjayB0byB0aGUgb2JqZWN0IHBvb2wuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHJlbGVhc2UuXG4gICAqL1xuICBmdW5jdGlvbiByZWxlYXNlT2JqZWN0KG9iamVjdCkge1xuICAgIHZhciBjYWNoZSA9IG9iamVjdC5jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHJlbGVhc2VPYmplY3QoY2FjaGUpO1xuICAgIH1cbiAgICBvYmplY3QuYXJyYXkgPSBvYmplY3QuY2FjaGUgPSBvYmplY3QuY3JpdGVyaWEgPSBvYmplY3Qub2JqZWN0ID0gb2JqZWN0Lm51bWJlciA9IG9iamVjdC5zdHJpbmcgPSBvYmplY3QudmFsdWUgPSBudWxsO1xuICAgIGlmIChvYmplY3RQb29sLmxlbmd0aCA8IG1heFBvb2xTaXplKSB7XG4gICAgICBvYmplY3RQb29sLnB1c2gob2JqZWN0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2xpY2VzIHRoZSBgY29sbGVjdGlvbmAgZnJvbSB0aGUgYHN0YXJ0YCBpbmRleCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsXG4gICAqIHRoZSBgZW5kYCBpbmRleC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluc3RlYWQgb2YgYEFycmF5I3NsaWNlYCB0byBzdXBwb3J0IG5vZGUgbGlzdHNcbiAgICogaW4gSUUgPCA5IGFuZCB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZSByZXR1cm5lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNsaWNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgaW5kZXguXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICBzdGFydCB8fCAoc3RhcnQgPSAwKTtcbiAgICBpZiAodHlwZW9mIGVuZCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgIH1cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQgfHwgMCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoIDwgMCA/IDAgOiBsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGdpdmVuIGNvbnRleHQgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgLy8gQXZvaWQgaXNzdWVzIHdpdGggc29tZSBFUzMgZW52aXJvbm1lbnRzIHRoYXQgYXR0ZW1wdCB0byB1c2UgdmFsdWVzLCBuYW1lZFxuICAgIC8vIGFmdGVyIGJ1aWx0LWluIGNvbnN0cnVjdG9ycyBsaWtlIGBPYmplY3RgLCBmb3IgdGhlIGNyZWF0aW9uIG9mIGxpdGVyYWxzLlxuICAgIC8vIEVTNSBjbGVhcnMgdGhpcyB1cCBieSBzdGF0aW5nIHRoYXQgbGl0ZXJhbHMgbXVzdCB1c2UgYnVpbHQtaW4gY29uc3RydWN0b3JzLlxuICAgIC8vIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDExLjEuNS5cbiAgICBjb250ZXh0ID0gY29udGV4dCA/IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpIDogcm9vdDtcblxuICAgIC8qKiBOYXRpdmUgY29uc3RydWN0b3IgcmVmZXJlbmNlcyAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIEJvb2xlYW4gPSBjb250ZXh0LkJvb2xlYW4sXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgTnVtYmVyID0gY29udGV4dC5OdW1iZXIsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgYEFycmF5YCBtZXRob2QgcmVmZXJlbmNlcy5cbiAgICAgKlxuICAgICAqIE5vcm1hbGx5IGBBcnJheS5wcm90b3R5cGVgIHdvdWxkIHN1ZmZpY2UsIGhvd2V2ZXIsIHVzaW5nIGFuIGFycmF5IGxpdGVyYWxcbiAgICAgKiBhdm9pZHMgaXNzdWVzIGluIE5hcndoYWwuXG4gICAgICovXG4gICAgdmFyIGFycmF5UmVmID0gW107XG5cbiAgICAvKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzICovXG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYG5vQ29uZmxpY3RgICovXG4gICAgdmFyIG9sZERhc2ggPSBjb250ZXh0Ll87XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBpbnRlcm5hbCBbW0NsYXNzXV0gb2YgdmFsdWVzICovXG4gICAgdmFyIHRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlICovXG4gICAgdmFyIHJlTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBTdHJpbmcodG9TdHJpbmcpXG4gICAgICAgIC5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpXG4gICAgICAgIC5yZXBsYWNlKC90b1N0cmluZ3wgZm9yIFteXFxdXSsvZywgJy4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBOYXRpdmUgbWV0aG9kIHNob3J0Y3V0cyAqL1xuICAgIHZhciBjZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBjbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgZmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBmblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgICBnZXRQcm90b3R5cGVPZiA9IGlzTmF0aXZlKGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKSAmJiBnZXRQcm90b3R5cGVPZixcbiAgICAgICAgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgICAgcHVzaCA9IGFycmF5UmVmLnB1c2gsXG4gICAgICAgIHNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UmVmLnNwbGljZSxcbiAgICAgICAgdW5zaGlmdCA9IGFycmF5UmVmLnVuc2hpZnQ7XG5cbiAgICAvKiogVXNlZCB0byBzZXQgbWV0YSBkYXRhIG9uIGZ1bmN0aW9ucyAqL1xuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIC8vIElFIDggb25seSBhY2NlcHRzIERPTSBlbGVtZW50c1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG8gPSB7fSxcbiAgICAgICAgICAgIGZ1bmMgPSBpc05hdGl2ZShmdW5jID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KSAmJiBmdW5jLFxuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYyhvLCBvLCBvKSAmJiBmdW5jO1xuICAgICAgfSBjYXRjaChlKSB7IH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSgpKTtcblxuICAgIC8qIE5hdGl2ZSBtZXRob2Qgc2hvcnRjdXRzIGZvciBtZXRob2RzIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzICovXG4gICAgdmFyIG5hdGl2ZUNyZWF0ZSA9IGlzTmF0aXZlKG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGUpICYmIG5hdGl2ZUNyZWF0ZSxcbiAgICAgICAgbmF0aXZlSXNBcnJheSA9IGlzTmF0aXZlKG5hdGl2ZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KSAmJiBuYXRpdmVJc0FycmF5LFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUlzTmFOID0gY29udGV4dC5pc05hTixcbiAgICAgICAgbmF0aXZlS2V5cyA9IGlzTmF0aXZlKG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cykgJiYgbmF0aXZlS2V5cyxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIGEgYnVpbHQtaW4gY29uc3RydWN0b3IgYnkgW1tDbGFzc11dICovXG4gICAgdmFyIGN0b3JCeUNsYXNzID0ge307XG4gICAgY3RvckJ5Q2xhc3NbYXJyYXlDbGFzc10gPSBBcnJheTtcbiAgICBjdG9yQnlDbGFzc1tib29sQ2xhc3NdID0gQm9vbGVhbjtcbiAgICBjdG9yQnlDbGFzc1tkYXRlQ2xhc3NdID0gRGF0ZTtcbiAgICBjdG9yQnlDbGFzc1tmdW5jQ2xhc3NdID0gRnVuY3Rpb247XG4gICAgY3RvckJ5Q2xhc3Nbb2JqZWN0Q2xhc3NdID0gT2JqZWN0O1xuICAgIGN0b3JCeUNsYXNzW251bWJlckNsYXNzXSA9IE51bWJlcjtcbiAgICBjdG9yQnlDbGFzc1tyZWdleHBDbGFzc10gPSBSZWdFeHA7XG4gICAgY3RvckJ5Q2xhc3Nbc3RyaW5nQ2xhc3NdID0gU3RyaW5nO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIHRoZSBnaXZlbiB2YWx1ZSB0byBlbmFibGUgaW50dWl0aXZlXG4gICAgICogbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gTG8tRGFzaCBtZXRob2RzLCB3cmFwcGVycyBhbHNvIGhhdmUgdGhlIGZvbGxvd2luZyBgQXJyYXlgIG1ldGhvZHM6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHJldmVyc2VgLCBgc2hpZnRgLCBgc2xpY2VgLCBgc29ydGAsIGBzcGxpY2VgLFxuICAgICAqIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGB2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBmdW5jdGlvbnMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhc3NpZ25gLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2hhaW5gLCBgY29tcGFjdGAsXG4gICAgICogYGNvbXBvc2VgLCBgY29uY2F0YCwgYGNvdW50QnlgLCBgY3JlYXRlYCwgYGNyZWF0ZUNhbGxiYWNrYCwgYGN1cnJ5YCxcbiAgICAgKiBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmZXJgLCBgZGVsYXlgLCBgZGlmZmVyZW5jZWAsIGBmaWx0ZXJgLCBgZmxhdHRlbmAsXG4gICAgICogYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCwgYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCxcbiAgICAgKiBgZnVuY3Rpb25zYCwgYGdyb3VwQnlgLCBgaW5kZXhCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnZlcnRgLFxuICAgICAqIGBpbnZva2VgLCBga2V5c2AsIGBtYXBgLCBgbWF4YCwgYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWluYCwgYG9iamVjdGAsIGBvbWl0YCxcbiAgICAgKiBgb25jZWAsIGBwYWlyc2AsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwaWNrYCwgYHBsdWNrYCwgYHB1bGxgLCBgcHVzaGAsXG4gICAgICogYHJhbmdlYCwgYHJlamVjdGAsIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNodWZmbGVgLCBgc2xpY2VgLCBgc29ydGAsXG4gICAgICogYHNvcnRCeWAsIGBzcGxpY2VgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRpbWVzYCwgYHRvQXJyYXlgLCBgdHJhbnNmb3JtYCxcbiAgICAgKiBgdW5pb25gLCBgdW5pcWAsIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHZhbHVlc2AsIGB3aGVyZWAsIGB3aXRob3V0YCwgYHdyYXBgLFxuICAgICAqIGFuZCBgemlwYFxuICAgICAqXG4gICAgICogVGhlIG5vbi1jaGFpbmFibGUgd3JhcHBlciBmdW5jdGlvbnMgYXJlOlxuICAgICAqIGBjbG9uZWAsIGBjbG9uZURlZXBgLCBgY29udGFpbnNgLCBgZXNjYXBlYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCxcbiAgICAgKiBgZmluZEtleWAsIGBmaW5kTGFzdGAsIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGhhc2AsIGBpZGVudGl0eWAsXG4gICAgICogYGluZGV4T2ZgLCBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0Jvb2xlYW5gLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsXG4gICAgICogYGlzRW1wdHlgLCBgaXNFcXVhbGAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzTmFOYCwgYGlzTnVsbGAsIGBpc051bWJlcmAsXG4gICAgICogYGlzT2JqZWN0YCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgam9pbmAsXG4gICAgICogYGxhc3RJbmRleE9mYCwgYG1peGluYCwgYG5vQ29uZmxpY3RgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLFxuICAgICAqIGByZWR1Y2VSaWdodGAsIGByZXN1bHRgLCBgc2hpZnRgLCBgc2l6ZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHJ1bkluQ29udGV4dGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYW5kIGB2YWx1ZWBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGZ1bmN0aW9ucyBgZmlyc3RgIGFuZCBgbGFzdGAgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIHdoZW4gYG5gIGlzXG4gICAgICogcHJvdmlkZWQsIG90aGVyd2lzZSB0aGV5IHJldHVybiB1bndyYXBwZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW5pbmcgY2FuIGJlIGVuYWJsZWQgYnkgdXNpbmcgdGhlIGBfLmNoYWluYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyByZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZVxuICAgICAqIHdyYXBwZWQucmVkdWNlKGZ1bmN0aW9uKHN1bSwgbnVtKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIHJldHVybnMgYSB3cmFwcGVkIHZhbHVlXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gKiBudW07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIC8vIGRvbid0IHdyYXAgaWYgYWxyZWFkeSB3cmFwcGVkLCBldmVuIGlmIHdyYXBwZWQgYnkgYSBkaWZmZXJlbnQgYGxvZGFzaGAgY29uc3RydWN0b3JcbiAgICAgIHJldHVybiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmICFpc0FycmF5KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSlcbiAgICAgICA/IHZhbHVlXG4gICAgICAgOiBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmYXN0IHBhdGggZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hhaW5BbGwgQSBmbGFnIHRvIGVuYWJsZSBjaGFpbmluZyBmb3IgYWxsIG1ldGhvZHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZW5zdXJlIGBuZXcgbG9kYXNoV3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGxvZGFzaGBcbiAgICBsb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGxvZGFzaC5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdXNlZCB0byBmbGFnIGVudmlyb25tZW50cyBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgIHZhciBzdXBwb3J0ID0gbG9kYXNoLnN1cHBvcnQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBmdW5jdGlvbnMgY2FuIGJlIGRlY29tcGlsZWQgYnkgYEZ1bmN0aW9uI3RvU3RyaW5nYFxuICAgICAqIChhbGwgYnV0IFBTMyBhbmQgb2xkZXIgT3BlcmEgbW9iaWxlIGJyb3dzZXJzICYgYXZvaWRlZCBpbiBXaW5kb3dzIDggYXBwcykuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgIHN1cHBvcnQuZnVuY0RlY29tcCA9ICFpc05hdGl2ZShjb250ZXh0LldpblJURXJyb3IpICYmIHJlVGhpcy50ZXN0KHJ1bkluQ29udGV4dCk7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgYEZ1bmN0aW9uI25hbWVgIGlzIHN1cHBvcnRlZCAoYWxsIGJ1dCBJRSkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgIHN1cHBvcnQuZnVuY05hbWVzID0gdHlwZW9mIEZ1bmN0aW9uLm5hbWUgPT0gJ3N0cmluZyc7XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IExvLURhc2ggYXJlIHNpbWlsYXIgdG8gdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpLiBDaGFuZ2UgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmVcbiAgICAgKiBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogLzwlKFtcXHNcXFNdKz8pJT4vZyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmJpbmRgIHRoYXQgY3JlYXRlcyB0aGUgYm91bmQgZnVuY3Rpb24gYW5kXG4gICAgICogc2V0cyBpdHMgbWV0YSBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBiaW5kRGF0YSBUaGUgYmluZCBkYXRhIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VCaW5kKGJpbmREYXRhKSB7XG4gICAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICAgIHBhcnRpYWxBcmdzID0gYmluZERhdGFbMl0sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdO1xuXG4gICAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgICAgLy8gYEZ1bmN0aW9uI2JpbmRgIHNwZWNcbiAgICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4zLjQuNVxuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICAvLyBhdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgZGVvcHRpbWl6YXRpb25zIGJ5IHVzaW5nIGBzbGljZWAgaW5zdGVhZFxuICAgICAgICAgIC8vIG9mIGBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbGAgYW5kIG5vdCBhc3NpZ25pbmcgYGFyZ3VtZW50c2AgdG8gYVxuICAgICAgICAgIC8vIHZhcmlhYmxlIGFzIGEgdGVybmFyeSBleHByZXNzaW9uXG4gICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZShwYXJ0aWFsQXJncyk7XG4gICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yXG4gICAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yXG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYG5ldyBib3VuZGAgaXMgYW4gaW5zdGFuY2Ugb2YgYGZ1bmNgXG4gICAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShmdW5jLnByb3RvdHlwZSksXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIGNsb25lcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpbnNwZWN0IFtbQ2xhc3NdXVxuICAgICAgdmFyIGlzT2JqID0gaXNPYmplY3QodmFsdWUpO1xuICAgICAgaWYgKGlzT2JqKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgICAgaWYgKCFjbG9uZWFibGVDbGFzc2VzW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN0b3IgPSBjdG9yQnlDbGFzc1tjbGFzc05hbWVdO1xuICAgICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGNhc2UgYm9vbENsYXNzOlxuICAgICAgICAgIGNhc2UgZGF0ZUNsYXNzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKCt2YWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIG51bWJlckNsYXNzOlxuICAgICAgICAgIGNhc2Ugc3RyaW5nQ2xhc3M6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IodmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSByZWdleHBDbGFzczpcbiAgICAgICAgICAgIHJlc3VsdCA9IGN0b3IodmFsdWUuc291cmNlLCByZUZsYWdzLmV4ZWModmFsdWUpKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSB2YWx1ZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBjb3JyZXNwb25kaW5nIGNsb25lXG4gICAgICAgIHZhciBpbml0ZWRTdGFjayA9ICFzdGFja0E7XG4gICAgICAgIHN0YWNrQSB8fCAoc3RhY2tBID0gZ2V0QXJyYXkoKSk7XG4gICAgICAgIHN0YWNrQiB8fCAoc3RhY2tCID0gZ2V0QXJyYXkoKSk7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIGlmIChzdGFja0FbbGVuZ3RoXSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrQltsZW5ndGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBpc0FyciA/IGN0b3IodmFsdWUubGVuZ3RoKSA6IHt9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGlzQXJyID8gc2xpY2UodmFsdWUpIDogYXNzaWduKHt9LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBhZGQgYXJyYXkgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgXG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdpbmRleCcpKSB7XG4gICAgICAgICAgcmVzdWx0LmluZGV4ID0gdmFsdWUuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdpbnB1dCcpKSB7XG4gICAgICAgICAgcmVzdWx0LmlucHV0ID0gdmFsdWUuaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZm9yIHNoYWxsb3cgY2xvbmVcbiAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBhZGQgdGhlIHNvdXJjZSB2YWx1ZSB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHNcbiAgICAgIC8vIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCBpdHMgY2xvbmVcbiAgICAgIHN0YWNrQS5wdXNoKHZhbHVlKTtcbiAgICAgIHN0YWNrQi5wdXNoKHJlc3VsdCk7XG5cbiAgICAgIC8vIHJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgIChpc0FyciA/IGZvckVhY2ggOiBmb3JPd24pKHZhbHVlLCBmdW5jdGlvbihvYmpWYWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gYmFzZUNsb25lKG9ialZhbHVlLCBpc0RlZXAsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGluaXRlZFN0YWNrKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0EpO1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChwcm90b3R5cGUpID8gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSkgOiB7fTtcbiAgICB9XG4gICAgLy8gZmFsbGJhY2sgZm9yIGJyb3dzZXJzIHdpdGhvdXQgYE9iamVjdC5jcmVhdGVgXG4gICAgaWYgKCFuYXRpdmVDcmVhdGUpIHtcbiAgICAgIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIE9iamVjdCgpIHt9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QocHJvdG90eXBlKSkge1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQgfHwgY29udGV4dC5PYmplY3QoKTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlQ2FsbGJhY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgY3JlYXRpbmdcbiAgICAgKiBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3Igbm8gYHRoaXNBcmdgIG9yIGFscmVhZHkgYm91bmQgYnkgYEZ1bmN0aW9uI2JpbmRgXG4gICAgICBpZiAodHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgfHwgISgncHJvdG90eXBlJyBpbiBmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHZhciBiaW5kRGF0YSA9IGZ1bmMuX19iaW5kRGF0YV9fO1xuICAgICAgaWYgKHR5cGVvZiBiaW5kRGF0YSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoc3VwcG9ydC5mdW5jTmFtZXMpIHtcbiAgICAgICAgICBiaW5kRGF0YSA9ICFmdW5jLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgYmluZERhdGEgPSBiaW5kRGF0YSB8fCAhc3VwcG9ydC5mdW5jRGVjb21wO1xuICAgICAgICBpZiAoIWJpbmREYXRhKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGZuVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgICBpZiAoIXN1cHBvcnQuZnVuY05hbWVzKSB7XG4gICAgICAgICAgICBiaW5kRGF0YSA9ICFyZUZ1bmNOYW1lLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFiaW5kRGF0YSkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGBmdW5jYCByZWZlcmVuY2VzIHRoZSBgdGhpc2Aga2V5d29yZCBhbmQgc3RvcmVzIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGJpbmREYXRhID0gcmVUaGlzLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICAgIHNldEJpbmREYXRhKGZ1bmMsIGJpbmREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgaWYgdGhlcmUgYXJlIG5vIGB0aGlzYCByZWZlcmVuY2VzIG9yIGBmdW5jYCBpcyBib3VuZFxuICAgICAgaWYgKGJpbmREYXRhID09PSBmYWxzZSB8fCAoYmluZERhdGEgIT09IHRydWUgJiYgYmluZERhdGFbMV0gJiAxKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYXJnQ291bnQpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYSwgYik7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmluZChmdW5jLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgY3JlYXRlV3JhcHBlcmAgdGhhdCBjcmVhdGVzIHRoZSB3cmFwcGVyIGFuZFxuICAgICAqIHNldHMgaXRzIG1ldGEgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYmluZERhdGEgVGhlIGJpbmQgZGF0YSBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlV3JhcHBlcihiaW5kRGF0YSkge1xuICAgICAgdmFyIGZ1bmMgPSBiaW5kRGF0YVswXSxcbiAgICAgICAgICBiaXRtYXNrID0gYmluZERhdGFbMV0sXG4gICAgICAgICAgcGFydGlhbEFyZ3MgPSBiaW5kRGF0YVsyXSxcbiAgICAgICAgICBwYXJ0aWFsUmlnaHRBcmdzID0gYmluZERhdGFbM10sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdLFxuICAgICAgICAgIGFyaXR5ID0gYmluZERhdGFbNV07XG5cbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgMSxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgICBpc0N1cnJ5ID0gYml0bWFzayAmIDQsXG4gICAgICAgICAgaXNDdXJyeUJvdW5kID0gYml0bWFzayAmIDgsXG4gICAgICAgICAga2V5ID0gZnVuYztcblxuICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzO1xuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IHNsaWNlKHBhcnRpYWxBcmdzKTtcbiAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxSaWdodEFyZ3MgfHwgaXNDdXJyeSkge1xuICAgICAgICAgIGFyZ3MgfHwgKGFyZ3MgPSBzbGljZShhcmd1bWVudHMpKTtcbiAgICAgICAgICBpZiAocGFydGlhbFJpZ2h0QXJncykge1xuICAgICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBwYXJ0aWFsUmlnaHRBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ3VycnkgJiYgYXJncy5sZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgICAgYml0bWFzayB8PSAxNiAmIH4zMjtcbiAgICAgICAgICAgIHJldHVybiBiYXNlQ3JlYXRlV3JhcHBlcihbZnVuYywgKGlzQ3VycnlCb3VuZCA/IGJpdG1hc2sgOiBiaXRtYXNrICYgfjMpLCBhcmdzLCBudWxsLCB0aGlzQXJnLCBhcml0eV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzIHx8IChhcmdzID0gYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGlzQmluZEtleSkge1xuICAgICAgICAgIGZ1bmMgPSB0aGlzQmluZGluZ1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoZnVuYy5wcm90b3R5cGUpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGlmZmVyZW5jZWAgdGhhdCBhY2NlcHRzIGEgc2luZ2xlIGFycmF5XG4gICAgICogb2YgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSBhcnJheSBvZiB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIGlzTGFyZ2UgPSBsZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiYgaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGNyZWF0ZUNhY2hlKHZhbHVlcyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGluZGV4T2YgPSBjYWNoZUluZGV4T2Y7XG4gICAgICAgICAgdmFsdWVzID0gY2FjaGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNMYXJnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChpbmRleE9mKHZhbHVlcywgdmFsdWUpIDwgMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgcmVsZWFzZU9iamVjdCh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gICAgICogc2hvcnRoYW5kcyBvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTaGFsbG93PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdD1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYXJyYXlzIGFuZCBgYXJndW1lbnRzYCBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzdGFydCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdywgaXNTdHJpY3QsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInXG4gICAgICAgICAgICAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICBpZiAoIWlzU2hhbGxvdykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlRmxhdHRlbih2YWx1ZSwgaXNTaGFsbG93LCBpc1N0cmljdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWxJbmRleCA9IC0xLFxuICAgICAgICAgICAgICB2YWxMZW5ndGggPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICAgIHJlc0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgICAgIHJlc3VsdC5sZW5ndGggKz0gdmFsTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgrK3ZhbEluZGV4IDwgdmFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZVt2YWxJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCwgd2l0aG91dCBzdXBwb3J0IGZvciBgdGhpc0FyZ2AgYmluZGluZyxcbiAgICAgKiB0aGF0IGFsbG93cyBwYXJ0aWFsIFwiXy53aGVyZVwiIHN0eWxlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpc1doZXJlPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgcGVyZm9ybWluZyBwYXJ0aWFsIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGFgIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gVHJhY2tzIHRyYXZlcnNlZCBgYmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKGEsIGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikge1xuICAgICAgLy8gdXNlZCB0byBpbmRpY2F0ZSB0aGF0IHdoZW4gY29tcGFyaW5nIG9iamVjdHMsIGBhYCBoYXMgYXQgbGVhc3QgdGhlIHByb3BlcnRpZXMgb2YgYGJgXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGEsIGIpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgaWRlbnRpY2FsIHZhbHVlc1xuICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgLy8gdHJlYXQgYCswYCB2cy4gYC0wYCBhcyBub3QgZXF1YWxcbiAgICAgICAgcmV0dXJuIGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGEsXG4gICAgICAgICAgb3RoZXJUeXBlID0gdHlwZW9mIGI7XG5cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIHVubGlrZSBwcmltaXRpdmUgdmFsdWVzXG4gICAgICBpZiAoYSA9PT0gYSAmJlxuICAgICAgICAgICEoYSAmJiBvYmplY3RUeXBlc1t0eXBlXSkgJiZcbiAgICAgICAgICAhKGIgJiYgb2JqZWN0VHlwZXNbb3RoZXJUeXBlXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhdm9pZGluZyBFUzMncyBGdW5jdGlvbiNjYWxsIGJlaGF2aW9yXG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjMuNC40XG4gICAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgIH1cbiAgICAgIC8vIGNvbXBhcmUgW1tDbGFzc11dIG5hbWVzXG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKSxcbiAgICAgICAgICBvdGhlckNsYXNzID0gdG9TdHJpbmcuY2FsbChiKTtcblxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gb2JqZWN0Q2xhc3M7XG4gICAgICB9XG4gICAgICBpZiAob3RoZXJDbGFzcyA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgb3RoZXJDbGFzcyA9IG9iamVjdENsYXNzO1xuICAgICAgfVxuICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvdGhlckNsYXNzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGNhc2UgYm9vbENsYXNzOlxuICAgICAgICBjYXNlIGRhdGVDbGFzczpcbiAgICAgICAgICAvLyBjb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWJlcnMsIGRhdGVzIHRvIG1pbGxpc2Vjb25kcyBhbmQgYm9vbGVhbnNcbiAgICAgICAgICAvLyB0byBgMWAgb3IgYDBgIHRyZWF0aW5nIGludmFsaWQgZGF0ZXMgY29lcmNlZCB0byBgTmFOYCBhcyBub3QgZXF1YWxcbiAgICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJDbGFzczpcbiAgICAgICAgICAvLyB0cmVhdCBgTmFOYCB2cy4gYE5hTmAgYXMgZXF1YWxcbiAgICAgICAgICByZXR1cm4gKGEgIT0gK2EpXG4gICAgICAgICAgICA/IGIgIT0gK2JcbiAgICAgICAgICAgIC8vIGJ1dCB0cmVhdCBgKzBgIHZzLiBgLTBgIGFzIG5vdCBlcXVhbFxuICAgICAgICAgICAgOiAoYSA9PSAwID8gKDEgLyBhID09IDEgLyBiKSA6IGEgPT0gK2IpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwQ2xhc3M6XG4gICAgICAgIGNhc2Ugc3RyaW5nQ2xhc3M6XG4gICAgICAgICAgLy8gY29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyAoaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xMC42LjQpXG4gICAgICAgICAgLy8gdHJlYXQgc3RyaW5nIHByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IGluc3RhbmNlcyBhcyBlcXVhbFxuICAgICAgICAgIHJldHVybiBhID09IFN0cmluZyhiKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzO1xuICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICAvLyB1bndyYXAgYW55IGBsb2Rhc2hgIHdyYXBwZWQgdmFsdWVzXG4gICAgICAgIHZhciBhV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYSwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBiV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYiwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKGFXcmFwcGVkIHx8IGJXcmFwcGVkKSB7XG4gICAgICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKGFXcmFwcGVkID8gYS5fX3dyYXBwZWRfXyA6IGEsIGJXcmFwcGVkID8gYi5fX3dyYXBwZWRfXyA6IGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhpdCBmb3IgZnVuY3Rpb25zIGFuZCBET00gbm9kZXNcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvYmplY3RDbGFzcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBvZiBPcGVyYSwgYGFyZ3VtZW50c2Agb2JqZWN0cyBoYXZlIGBBcnJheWAgY29uc3RydWN0b3JzXG4gICAgICAgIHZhciBjdG9yQSA9IGEuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBjdG9yQiA9IGIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gbm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWxcbiAgICAgICAgaWYgKGN0b3JBICE9IGN0b3JCICYmXG4gICAgICAgICAgICAgICEoaXNGdW5jdGlvbihjdG9yQSkgJiYgY3RvckEgaW5zdGFuY2VvZiBjdG9yQSAmJiBpc0Z1bmN0aW9uKGN0b3JCKSAmJiBjdG9yQiBpbnN0YW5jZW9mIGN0b3JCKSAmJlxuICAgICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYXNzdW1lIGN5Y2xpYyBzdHJ1Y3R1cmVzIGFyZSBlcXVhbFxuICAgICAgLy8gdGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpYyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjFcbiAgICAgIC8vIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AgKGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMTIuMylcbiAgICAgIHZhciBpbml0ZWRTdGFjayA9ICFzdGFja0E7XG4gICAgICBzdGFja0EgfHwgKHN0YWNrQSA9IGdldEFycmF5KCkpO1xuICAgICAgc3RhY2tCIHx8IChzdGFja0IgPSBnZXRBcnJheSgpKTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IGEpIHtcbiAgICAgICAgICByZXR1cm4gc3RhY2tCW2xlbmd0aF0gPT0gYjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNpemUgPSAwO1xuICAgICAgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgLy8gYWRkIGBhYCBhbmQgYGJgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgc3RhY2tBLnB1c2goYSk7XG4gICAgICBzdGFja0IucHVzaChiKTtcblxuICAgICAgLy8gcmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIC8vIGNvbXBhcmUgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5XG4gICAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgICBzaXplID0gYi5sZW5ndGg7XG4gICAgICAgIHJlc3VsdCA9IHNpemUgPT0gbGVuZ3RoO1xuXG4gICAgICAgIGlmIChyZXN1bHQgfHwgaXNXaGVyZSkge1xuICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXNcbiAgICAgICAgICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBiW3NpemVdO1xuXG4gICAgICAgICAgICBpZiAoaXNXaGVyZSkge1xuICAgICAgICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGlmICgocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtpbmRleF0sIHZhbHVlLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpKSkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtzaXplXSwgdmFsdWUsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGRlZXAgY29tcGFyZSBvYmplY3RzIHVzaW5nIGBmb3JJbmAsIGluc3RlYWQgb2YgYGZvck93bmAsIHRvIGF2b2lkIGBPYmplY3Qua2V5c2BcbiAgICAgICAgLy8gd2hpY2gsIGluIHRoaXMgY2FzZSwgaXMgbW9yZSBjb3N0bHlcbiAgICAgICAgZm9ySW4oYiwgZnVuY3Rpb24odmFsdWUsIGtleSwgYikge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSkgJiYgYmFzZUlzRXF1YWwoYVtrZXldLCB2YWx1ZSwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzdWx0ICYmICFpc1doZXJlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGJvdGggb2JqZWN0cyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9ySW4oYSwgZnVuY3Rpb24odmFsdWUsIGtleSwgYSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KSkge1xuICAgICAgICAgICAgICAvLyBgc2l6ZWAgd2lsbCBiZSBgLTFgIGlmIGBhYCBoYXMgbW9yZSBwcm9wZXJ0aWVzIHRoYW4gYGJgXG4gICAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gLS1zaXplID4gLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja0EucG9wKCk7XG4gICAgICBzdGFja0IucG9wKCk7XG5cbiAgICAgIGlmIChpbml0ZWRTdGFjaykge1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tBKTtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IGFyZ3VtZW50IGp1Z2dsaW5nIG9yIHN1cHBvcnRcbiAgICAgKiBmb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnaW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIHZhbHVlcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgIChpc0FycmF5KHNvdXJjZSkgPyBmb3JFYWNoIDogZm9yT3duKShzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZSwga2V5KSB7XG4gICAgICAgIHZhciBmb3VuZCxcbiAgICAgICAgICAgIGlzQXJyLFxuICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoc291cmNlICYmICgoaXNBcnIgPSBpc0FycmF5KHNvdXJjZSkpIHx8IGlzUGxhaW5PYmplY3Qoc291cmNlKSkpIHtcbiAgICAgICAgICAvLyBhdm9pZCBtZXJnaW5nIHByZXZpb3VzbHkgbWVyZ2VkIGN5Y2xpYyBzb3VyY2VzXG4gICAgICAgICAgdmFyIHN0YWNrTGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc3RhY2tMZW5ndGgtLSkge1xuICAgICAgICAgICAgaWYgKChmb3VuZCA9IHN0YWNrQVtzdGFja0xlbmd0aF0gPT0gc291cmNlKSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHN0YWNrQltzdGFja0xlbmd0aF07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICB2YXIgaXNTaGFsbG93O1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgICBpZiAoKGlzU2hhbGxvdyA9IHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gaXNBcnJcbiAgICAgICAgICAgICAgICA/IChpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10pXG4gICAgICAgICAgICAgICAgOiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBgc291cmNlYCBhbmQgYXNzb2NpYXRlZCBgdmFsdWVgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgICAgICAgc3RhY2tBLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIHN0YWNrQi5wdXNoKHZhbHVlKTtcblxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIGJhc2VNZXJnZSh2YWx1ZSwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciByZXR1cm5pbmcgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBtaW4gKyBmbG9vcihuYXRpdmVSYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcWAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgdmFyIGlzTGFyZ2UgPSAhaXNTb3J0ZWQgJiYgbGVuZ3RoID49IGxhcmdlQXJyYXlTaXplICYmIGluZGV4T2YgPT09IGJhc2VJbmRleE9mLFxuICAgICAgICAgIHNlZW4gPSAoY2FsbGJhY2sgfHwgaXNMYXJnZSkgPyBnZXRBcnJheSgpIDogcmVzdWx0O1xuXG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjcmVhdGVDYWNoZShzZWVuKTtcbiAgICAgICAgaW5kZXhPZiA9IGNhY2hlSW5kZXhPZjtcbiAgICAgICAgc2VlbiA9IGNhY2hlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKGlzU29ydGVkXG4gICAgICAgICAgICAgID8gIWluZGV4IHx8IHNlZW5bc2Vlbi5sZW5ndGggLSAxXSAhPT0gY29tcHV0ZWRcbiAgICAgICAgICAgICAgOiBpbmRleE9mKHNlZW4sIGNvbXB1dGVkKSA8IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayB8fCBpc0xhcmdlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzZWVuLmFycmF5KTtcbiAgICAgICAgcmVsZWFzZU9iamVjdChzZWVuKTtcbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGEgY29sbGVjdGlvbiwgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvblxuICAgICAqIHRocm91Z2ggYSBjYWxsYmFjay4gVGhlIGdpdmVuIGBzZXR0ZXJgIGZ1bmN0aW9uIHNldHMgdGhlIGtleXMgYW5kIHZhbHVlc1xuICAgICAqIG9mIHRoZSBjb21wb3NlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgc2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgICBzZXR0ZXIocmVzdWx0LCB2YWx1ZSwgY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSwgY29sbGVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZXR0ZXIocmVzdWx0LCB2YWx1ZSwgY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbiksIGNvbGxlY3Rpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2BcbiAgICAgKiB3aXRoIGFuIG9wdGlvbmFsIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byByZWZlcmVuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgb2YgbWV0aG9kIGZsYWdzIHRvIGNvbXBvc2UuXG4gICAgICogIFRoZSBiaXRtYXNrIG1heSBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGZsYWdzOlxuICAgICAqICAxIC0gYF8uYmluZGBcbiAgICAgKiAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogIDQgLSBgXy5jdXJyeWBcbiAgICAgKiAgOCAtIGBfLmN1cnJ5YCAoYm91bmQpXG4gICAgICogIDE2IC0gYF8ucGFydGlhbGBcbiAgICAgKiAgMzIgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxBcmdzXSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZVxuICAgICAqICBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsUmlnaHRBcmdzXSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlXG4gICAgICogIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXIoZnVuYywgYml0bWFzaywgcGFydGlhbEFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MsIHRoaXNBcmcsIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIDEsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIDIsXG4gICAgICAgICAgaXNDdXJyeSA9IGJpdG1hc2sgJiA0LFxuICAgICAgICAgIGlzQ3VycnlCb3VuZCA9IGJpdG1hc2sgJiA4LFxuICAgICAgICAgIGlzUGFydGlhbCA9IGJpdG1hc2sgJiAxNixcbiAgICAgICAgICBpc1BhcnRpYWxSaWdodCA9IGJpdG1hc2sgJiAzMjtcblxuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhcnRpYWwgJiYgIXBhcnRpYWxBcmdzLmxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4xNjtcbiAgICAgICAgaXNQYXJ0aWFsID0gcGFydGlhbEFyZ3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhcnRpYWxSaWdodCAmJiAhcGFydGlhbFJpZ2h0QXJncy5sZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+MzI7XG4gICAgICAgIGlzUGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0QXJncyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGJpbmREYXRhID0gZnVuYyAmJiBmdW5jLl9fYmluZERhdGFfXztcbiAgICAgIGlmIChiaW5kRGF0YSAmJiBiaW5kRGF0YSAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBjbG9uZSBgYmluZERhdGFgXG4gICAgICAgIGJpbmREYXRhID0gc2xpY2UoYmluZERhdGEpO1xuICAgICAgICBpZiAoYmluZERhdGFbMl0pIHtcbiAgICAgICAgICBiaW5kRGF0YVsyXSA9IHNsaWNlKGJpbmREYXRhWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmluZERhdGFbM10pIHtcbiAgICAgICAgICBiaW5kRGF0YVszXSA9IHNsaWNlKGJpbmREYXRhWzNdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgYHRoaXNCaW5kaW5nYCBpcyBub3QgcHJldmlvdXNseSBib3VuZFxuICAgICAgICBpZiAoaXNCaW5kICYmICEoYmluZERhdGFbMV0gJiAxKSkge1xuICAgICAgICAgIGJpbmREYXRhWzRdID0gdGhpc0FyZztcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgaWYgcHJldmlvdXNseSBib3VuZCBidXQgbm90IGN1cnJlbnRseSAoc3Vic2VxdWVudCBjdXJyaWVkIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKCFpc0JpbmQgJiYgYmluZERhdGFbMV0gJiAxKSB7XG4gICAgICAgICAgYml0bWFzayB8PSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBjdXJyaWVkIGFyaXR5IGlmIG5vdCB5ZXQgc2V0XG4gICAgICAgIGlmIChpc0N1cnJ5ICYmICEoYmluZERhdGFbMV0gJiA0KSkge1xuICAgICAgICAgIGJpbmREYXRhWzVdID0gYXJpdHk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIHBhcnRpYWwgbGVmdCBhcmd1bWVudHNcbiAgICAgICAgaWYgKGlzUGFydGlhbCkge1xuICAgICAgICAgIHB1c2guYXBwbHkoYmluZERhdGFbMl0gfHwgKGJpbmREYXRhWzJdID0gW10pLCBwYXJ0aWFsQXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzXG4gICAgICAgIGlmIChpc1BhcnRpYWxSaWdodCkge1xuICAgICAgICAgIHVuc2hpZnQuYXBwbHkoYmluZERhdGFbM10gfHwgKGJpbmREYXRhWzNdID0gW10pLCBwYXJ0aWFsUmlnaHRBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBmbGFnc1xuICAgICAgICBiaW5kRGF0YVsxXSB8PSBiaXRtYXNrO1xuICAgICAgICByZXR1cm4gY3JlYXRlV3JhcHBlci5hcHBseShudWxsLCBiaW5kRGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBmYXN0IHBhdGggZm9yIGBfLmJpbmRgXG4gICAgICB2YXIgY3JlYXRlciA9IChiaXRtYXNrID09IDEgfHwgYml0bWFzayA9PT0gMTcpID8gYmFzZUJpbmQgOiBiYXNlQ3JlYXRlV3JhcHBlcjtcbiAgICAgIHJldHVybiBjcmVhdGVyKFtmdW5jLCBiaXRtYXNrLCBwYXJ0aWFsQXJncywgcGFydGlhbFJpZ2h0QXJncywgdGhpc0FyZywgYXJpdHldKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBlc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgICAgcmV0dXJuIGh0bWxFc2NhcGVzW21hdGNoXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcImluZGV4T2ZcIiBmdW5jdGlvbi4gSWYgdGhlIGBfLmluZGV4T2ZgIG1ldGhvZCBpc1xuICAgICAqIGN1c3RvbWl6ZWQsIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zXG4gICAgICogdGhlIGBiYXNlSW5kZXhPZmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgXCJpbmRleE9mXCIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SW5kZXhPZigpIHtcbiAgICAgIHZhciByZXN1bHQgPSAocmVzdWx0ID0gbG9kYXNoLmluZGV4T2YpID09PSBpbmRleE9mID8gYmFzZUluZGV4T2YgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nICYmIHJlTmF0aXZlLnRlc3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYHRoaXNgIGJpbmRpbmcgZGF0YSBvbiBhIGdpdmVuIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzZXQgZGF0YSBvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZSBUaGUgZGF0YSBhcnJheSB0byBzZXQuXG4gICAgICovXG4gICAgdmFyIHNldEJpbmREYXRhID0gIWRlZmluZVByb3BlcnR5ID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMsIHZhbHVlKSB7XG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgICBkZWZpbmVQcm9wZXJ0eShmdW5jLCAnX19iaW5kRGF0YV9fJywgZGVzY3JpcHRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZmFsbGJhY2sgaW1wbGVtZW50YXRpb24gb2YgYGlzUGxhaW5PYmplY3RgIHdoaWNoIGNoZWNrcyBpZiBhIGdpdmVuIHZhbHVlXG4gICAgICogaXMgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLCBhc3N1bWluZyBvYmplY3RzIGNyZWF0ZWRcbiAgICAgKiBieSB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IgaGF2ZSBubyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFuZCB0aGF0XG4gICAgICogdGhlcmUgYXJlIG5vIGBPYmplY3QucHJvdG90eXBlYCBleHRlbnNpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgY3RvcixcbiAgICAgICAgICByZXN1bHQ7XG5cbiAgICAgIC8vIGF2b2lkIG5vbiBPYmplY3Qgb2JqZWN0cywgYGFyZ3VtZW50c2Agb2JqZWN0cywgYW5kIERPTSBlbGVtZW50c1xuICAgICAgaWYgKCEodmFsdWUgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gb2JqZWN0Q2xhc3MpIHx8XG4gICAgICAgICAgKGN0b3IgPSB2YWx1ZS5jb25zdHJ1Y3RvciwgaXNGdW5jdGlvbihjdG9yKSAmJiAhKGN0b3IgaW5zdGFuY2VvZiBjdG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gSW4gbW9zdCBlbnZpcm9ubWVudHMgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgYXJlIGl0ZXJhdGVkIGJlZm9yZVxuICAgICAgLy8gaXRzIGluaGVyaXRlZCBwcm9wZXJ0aWVzLiBJZiB0aGUgbGFzdCBpdGVyYXRlZCBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qnc1xuICAgICAgLy8gb3duIHByb3BlcnR5IHRoZW4gdGhlcmUgYXJlIG5vIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICBmb3JJbih2YWx1ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ID09ICd1bmRlZmluZWQnIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgdW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgICAgcmV0dXJuIGh0bWxVbmVzY2FwZXNbbWF0Y2hdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcmd1bWVudHMoYXJndW1lbnRzKTsgfSkoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcnJheShhcmd1bWVudHMpOyB9KSgpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJyYXlDbGFzcyB8fCBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiBvZiBgT2JqZWN0LmtleXNgIHdoaWNoIHByb2R1Y2VzIGFuIGFycmF5IG9mIHRoZVxuICAgICAqIGdpdmVuIG9iamVjdCdzIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICB2YXIgc2hpbUtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBvYmplY3QsIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGlmICghKG9iamVjdFR5cGVzW3R5cGVvZiBvYmplY3RdKSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjb21wb3NlZCBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2V5cyh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiBbJ29uZScsICd0d28nLCAndGhyZWUnXSAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIga2V5cyA9ICFuYXRpdmVLZXlzID8gc2hpbUtleXMgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzOlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBgPmAgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2UgYD5gIGFuZCBgL2BcbiAgICAgKiBkb24ndCByZXF1aXJlIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nIHVubGVzcyB0aGV5J3JlIHBhcnRcbiAgICAgKiBvZiBhIHRhZyBvciBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMgKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpXG4gICAgICovXG4gICAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAnPic6ICcmZ3Q7JyxcbiAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgXCInXCI6ICcmIzM5OydcbiAgICB9O1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMgKi9cbiAgICB2YXIgaHRtbFVuZXNjYXBlcyA9IGludmVydChodG1sRXNjYXBlcyk7XG5cbiAgICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMgKi9cbiAgICB2YXIgcmVFc2NhcGVkSHRtbCA9IFJlZ0V4cCgnKCcgKyBrZXlzKGh0bWxVbmVzY2FwZXMpLmpvaW4oJ3wnKSArICcpJywgJ2cnKSxcbiAgICAgICAgcmVVbmVzY2FwZWRIdG1sID0gUmVnRXhwKCdbJyArIGtleXMoaHRtbEVzY2FwZXMpLmpvaW4oJycpICsgJ10nLCAnZycpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdChzKSB0byB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBvYmplY3QuIFN1YnNlcXVlbnQgc291cmNlcyB3aWxsIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91c1xuICAgICAqIHNvdXJjZXMuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCB0byBwcm9kdWNlIHRoZVxuICAgICAqIGFzc2lnbmVkIHZhbHVlcy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czsgKG9iamVjdFZhbHVlLCBzb3VyY2VWYWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnbmFtZSc6ICdmcmVkJyB9LCB7ICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbiwgZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgcmV0dXJuIHR5cGVvZiBhID09ICd1bmRlZmluZWQnID8gYiA6IGE7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdiYXJuZXknIH07XG4gICAgICogZGVmYXVsdHMob2JqZWN0LCB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBndWFyZCkge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IG9iamVjdCwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgYXJnc0luZGV4ID0gMCxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gdHlwZW9mIGd1YXJkID09ICdudW1iZXInID8gMiA6IGFyZ3MubGVuZ3RoO1xuICAgICAgaWYgKGFyZ3NMZW5ndGggPiAzICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAyXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tYXJnc0xlbmd0aCAtIDFdLCBhcmdzW2FyZ3NMZW5ndGgtLV0sIDIpO1xuICAgICAgfSBlbHNlIGlmIChhcmdzTGVuZ3RoID4gMiAmJiB0eXBlb2YgYXJnc1thcmdzTGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbLS1hcmdzTGVuZ3RoXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgaXRlcmFibGUgPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpdGVyYWJsZSAmJiBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSB7XG4gICAgICAgIHZhciBvd25JbmRleCA9IC0xLFxuICAgICAgICAgICAgb3duUHJvcHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdICYmIGtleXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK293bkluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNhbGxiYWNrID8gY2FsbGJhY2socmVzdWx0W2luZGV4XSwgaXRlcmFibGVbaW5kZXhdKSA6IGl0ZXJhYmxlW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdmFsdWVgLiBJZiBgaXNEZWVwYCBpcyBgdHJ1ZWAgbmVzdGVkIG9iamVjdHMgd2lsbCBhbHNvXG4gICAgICogYmUgY2xvbmVkLCBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGFzc2lnbmVkIGJ5IHJlZmVyZW5jZS4gSWYgYSBjYWxsYmFja1xuICAgICAqIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlcy4gSWYgdGhlXG4gICAgICogY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYCBjbG9uaW5nIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUoY2hhcmFjdGVycyk7XG4gICAgICogc2hhbGxvd1swXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmUoY2hhcmFjdGVycywgdHJ1ZSk7XG4gICAgICogZGVlcFswXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5taXhpbih7XG4gICAgICogICAnY2xvbmUnOiBfLnBhcnRpYWxSaWdodChfLmNsb25lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICByZXR1cm4gXy5pc0VsZW1lbnQodmFsdWUpID8gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgKiAgIH0pXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2xvbmUgPSBfLmNsb25lKGRvY3VtZW50LmJvZHkpO1xuICAgICAqIGNsb25lLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSwgaXNEZWVwLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcyB3aXRob3V0IHVzaW5nIHRoZWlyIGBpbmRleGBcbiAgICAgIC8vIGFuZCBgY29sbGVjdGlvbmAgYXJndW1lbnRzIGZvciBgaXNEZWVwYCBhbmQgYGNhbGxiYWNrYFxuICAgICAgaWYgKHR5cGVvZiBpc0RlZXAgIT0gJ2Jvb2xlYW4nICYmIGlzRGVlcCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSBpc0RlZXA7XG4gICAgICAgIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgaXNEZWVwLCB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVlcCBjbG9uZSBvZiBgdmFsdWVgLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmVcbiAgICAgKiBleGVjdXRlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWVzLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIGNsb25pbmcgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvXG4gICAgICogYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGUgc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG0uIEZ1bmN0aW9uc1xuICAgICAqIGFuZCBET00gbm9kZXMgYXJlICoqbm90KiogY2xvbmVkLiBUaGUgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYW5kXG4gICAgICogb2JqZWN0cyBjcmVhdGVkIGJ5IGNvbnN0cnVjdG9ycyBvdGhlciB0aGFuIGBPYmplY3RgIGFyZSBjbG9uZWQgdG8gcGxhaW4gYE9iamVjdGAgb2JqZWN0cy5cbiAgICAgKiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNpbnRlcm5hbC1zdHJ1Y3R1cmVkLWNsb25pbmctYWxnb3JpdGhtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBkZWVwIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChjaGFyYWN0ZXJzKTtcbiAgICAgKiBkZWVwWzBdID09PSBjaGFyYWN0ZXJzWzBdO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdub2RlJzogZWxlbWVudFxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY2xvbmUgPSBfLmNsb25lRGVlcCh2aWV3LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNFbGVtZW50KHZhbHVlKSA/IHZhbHVlLmNsb25lTm9kZSh0cnVlKSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNsb25lLm5vZGUgPT0gdmlldy5ub2RlO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgdHJ1ZSwgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgJiYgYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIHByb3ZpZGVkIGl0cyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSBhc3NpZ25lZFxuICAgICAqIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7ICdjb25zdHJ1Y3Rvcic6IENpcmNsZSB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID8gYXNzaWduKHJlc3VsdCwgcHJvcGVydGllcykgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3QocykgdG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIE9uY2UgYVxuICAgICAqIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCBkZWZhdWx0cyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEFsbG93cyB3b3JraW5nIHdpdGggYF8ucmVkdWNlYCB3aXRob3V0IHVzaW5nIGl0c1xuICAgICAqICBga2V5YCBhbmQgYG9iamVjdGAgYXJndW1lbnRzIGFzIHNvdXJjZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdiYXJuZXknIH07XG4gICAgICogXy5kZWZhdWx0cyhvYmplY3QsIHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBvYmplY3QsIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGFyZ3NJbmRleCA9IDAsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IHR5cGVvZiBndWFyZCA9PSAnbnVtYmVyJyA/IDIgOiBhcmdzLmxlbmd0aDtcbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgaXRlcmFibGUgPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpdGVyYWJsZSAmJiBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSB7XG4gICAgICAgIHZhciBvd25JbmRleCA9IC0xLFxuICAgICAgICAgICAgb3duUHJvcHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdICYmIGtleXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK293bkluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRbaW5kZXhdID09ICd1bmRlZmluZWQnKSByZXN1bHRbaW5kZXhdID0gaXRlcmFibGVbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXJcbiAgICAgKiAgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0b1xuICAgICAqICBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6IHsgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgJ2ZyZWQnOiB7ICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEtleShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgZm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgICAqICBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvXG4gICAgICogIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogeyAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogeyAgICAnYWdlJzogNDAsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgYHBlYmJsZXNgLCBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zIGBiYXJuZXlgXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0S2V5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDQwIH0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEtleShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JPd25SaWdodChvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QsXG4gICAgICogZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgICAqIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGtleSwgb2JqZWN0KS4gQ2FsbGJhY2tzIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgdGhpcy54ICs9IHg7XG4gICAgICogICB0aGlzLnkgKz0geTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIgZm9ySW4gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IGNvbGxlY3Rpb24sIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGlmICghb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvciAoaW5kZXggaW4gaXRlcmFibGUpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBTaGFwZS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHRoaXMueCArPSB4O1xuICAgICAqICAgdGhpcy55ICs9IHk7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnbW92ZScsICd5JywgYW5kICd4JyBhc3N1bWluZyBgXy5mb3JJbiBgIGxvZ3MgJ3gnLCAneScsIGFuZCAnbW92ZSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBwYWlycyA9IFtdO1xuXG4gICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcGFpcnMucHVzaChrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMubGVuZ3RoO1xuICAgICAgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhwYWlyc1tsZW5ndGgtLV0sIHBhaXJzW2xlbmd0aF0sIG9iamVjdCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCwgZXhlY3V0aW5nIHRoZSBjYWxsYmFja1xuICAgICAqIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBDYWxsYmFja3MgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5XG4gICAgICogZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKHsgJzAnOiAnemVybycsICcxJzogJ29uZScsICdsZW5ndGgnOiAyIH0sIGZ1bmN0aW9uKG51bSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJzAnLCAnMScsIGFuZCAnbGVuZ3RoJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIgZm9yT3duID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBjb2xsZWN0aW9uLCByZXN1bHQgPSBpdGVyYWJsZTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICBpZiAoIW9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHJldHVybiByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB2YXIgb3duSW5kZXggPSAtMSxcbiAgICAgICAgICAgIG93blByb3BzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSAmJiBrZXlzKGl0ZXJhYmxlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG93blByb3BzID8gb3duUHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytvd25JbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGluZGV4ID0gb3duUHJvcHNbb3duSW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayhpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodCh7ICcwJzogJ3plcm8nLCAnMSc6ICdvbmUnLCAnbGVuZ3RoJzogMiB9LCBmdW5jdGlvbihudW0sIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdsZW5ndGgnLCAnMScsIGFuZCAnMCcgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICcwJywgJzEnLCBhbmQgJ2xlbmd0aCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF07XG4gICAgICAgIGlmIChjYWxsYmFjayhvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3J0ZWQgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgb2YgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyxcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCwgb2YgYG9iamVjdGAgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBtZXRob2RzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMoXyk7XG4gICAgICogLy8gPT4gWydhbGwnLCAnYW55JywgJ2JpbmQnLCAnYmluZEFsbCcsICdjbG9uZScsICdjb21wYWN0JywgJ2NvbXBvc2UnLCAuLi5dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdC5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgbmFtZSBleGlzdHMgYXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAsXG4gICAgICogaW5zdGVhZCBvZiBhbiBpbmhlcml0ZWQgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBrZXkgaXMgYSBkaXJlY3QgcHJvcGVydHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oYXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sICdiJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA/IGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNyZWF0ZWQgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludmVydCh7ICdmaXJzdCc6ICdmcmVkJywgJ3NlY29uZCc6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiAnZmlyc3QnLCAnYmFybmV5JzogJ3NlY29uZCcgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVydChvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W29iamVjdFtrZXldXSA9IGtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBib29sQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBkYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBkYXRlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGRhdGVDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZW1wdHkuIEFycmF5cywgc3RyaW5ncywgb3IgYGFyZ3VtZW50c2Agb2JqZWN0cyB3aXRoIGFcbiAgICAgKiBsZW5ndGggb2YgYDBgIGFuZCBvYmplY3RzIHdpdGggbm8gb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgY29uc2lkZXJlZFxuICAgICAqIFwiZW1wdHlcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KCcnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXG4gICAgICBpZiAoKGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzIHx8IGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcyB8fCBjbGFzc05hbWUgPT0gYXJnc0NsYXNzICkgfHxcbiAgICAgICAgICAoY2xhc3NOYW1lID09IG9iamVjdENsYXNzICYmIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgaXNGdW5jdGlvbih2YWx1ZS5zcGxpY2UpKSkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvck93bih2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAocmVzdWx0ID0gZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50IHRvIGVhY2ggb3RoZXIuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgICAqIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYCBjb21wYXJpc29ucyB3aWxsXG4gICAgICogYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM7IChhLCBiKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSBhIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gYiBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqIHZhciBjb3B5ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogb2JqZWN0ID09IGNvcHk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIGNvcHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB3b3JkcyA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlcldvcmRzID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwod29yZHMsIG90aGVyV29yZHMsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHZhciByZUdyZWV0ID0gL14oPzpoZWxsb3xoaSkkL2ksXG4gICAgICogICAgICAgYUdyZWV0ID0gXy5pc1N0cmluZyhhKSAmJiByZUdyZWV0LnRlc3QoYSksXG4gICAgICogICAgICAgYkdyZWV0ID0gXy5pc1N0cmluZyhiKSAmJiByZUdyZWV0LnRlc3QoYik7XG4gICAgICpcbiAgICAgKiAgIHJldHVybiAoYUdyZWV0IHx8IGJHcmVldCkgPyAoYUdyZWV0ID09IGJHcmVldCkgOiB1bmRlZmluZWQ7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwoYSwgYiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbChhLCBiLCB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcywgb3IgY2FuIGJlIGNvZXJjZWQgdG8sIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIG5hdGl2ZSBgaXNGaW5pdGVgIHdoaWNoIHdpbGwgcmV0dXJuIHRydWUgZm9yXG4gICAgICogYm9vbGVhbnMgYW5kIGVtcHR5IHN0cmluZ3MuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi41LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZmluaXRlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoLTEwMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMTAnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKHRydWUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCcnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUlzRmluaXRlKHZhbHVlKSAmJiAhbmF0aXZlSXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBsYW5ndWFnZSB0eXBlIG9mIE9iamVjdC5cbiAgICAgKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCgxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGUgdmFsdWUgaXMgdGhlIEVDTUFTY3JpcHQgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3RcbiAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4OFxuICAgICAgLy8gYW5kIGF2b2lkIGEgVjggYnVnXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxXG4gICAgICByZXR1cm4gISEodmFsdWUgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIHZhbHVlXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBuYXRpdmUgYGlzTmFOYCB3aGljaCB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1lcmljIHZhbHVlcy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIGBOYU5gIGFzIGEgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZlxuICAgICAgLy8gKHBlcmZvcm0gdGhlIFtbQ2xhc3NdXSBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lIGhvc3Qgb2JqZWN0cyBpbiBJRSlcbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBOb3RlOiBgTmFOYCBpcyBjb25zaWRlcmVkIGEgbnVtYmVyLiBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3g4LjUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDguNCAqIDUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gbnVtYmVyQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgU2hhcGUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBpc1BsYWluT2JqZWN0ID0gIWdldFByb3RvdHlwZU9mID8gc2hpbUlzUGxhaW5PYmplY3QgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCEodmFsdWUgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gb2JqZWN0Q2xhc3MpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZU9mID0gdmFsdWUudmFsdWVPZixcbiAgICAgICAgICBvYmpQcm90byA9IGlzTmF0aXZlKHZhbHVlT2YpICYmIChvYmpQcm90byA9IGdldFByb3RvdHlwZU9mKHZhbHVlT2YpKSAmJiBnZXRQcm90b3R5cGVPZihvYmpQcm90byk7XG5cbiAgICAgIHJldHVybiBvYmpQcm90b1xuICAgICAgICA/ICh2YWx1ZSA9PSBvYmpQcm90byB8fCBnZXRQcm90b3R5cGVPZih2YWx1ZSkgPT0gb2JqUHJvdG8pXG4gICAgICAgIDogc2hpbUlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgcmVndWxhciBleHByZXNzaW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2ZyZWQvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gcmVnZXhwQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdmcmVkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzdHJpbmdDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkIGJ5XG4gICAgICogcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocm91Z2ggdGhlIGNhbGxiYWNrLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCB2YWx1ZXMgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzfSAsIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcFZhbHVlcyhjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIGZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgbWVyZ2VzIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHNvdXJjZSBvYmplY3QocyksIHRoYXRcbiAgICAgKiBkb24ndCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gU3Vic2VxdWVudCBzb3VyY2VzXG4gICAgICogd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy4gSWYgYSBjYWxsYmFjayBpc1xuICAgICAqIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBhbmQgc291cmNlIHByb3BlcnRpZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIG1lcmdpbmcgd2lsbFxuICAgICAqIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOyAob2JqZWN0VmFsdWUsIHNvdXJjZVZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBuYW1lcyA9IHtcbiAgICAgKiAgICdjaGFyYWN0ZXJzJzogW1xuICAgICAqICAgICB7ICduYW1lJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgICAgeyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICogICBdXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBhZ2VzID0ge1xuICAgICAqICAgJ2NoYXJhY3RlcnMnOiBbXG4gICAgICogICAgIHsgJ2FnZSc6IDM2IH0sXG4gICAgICogICAgIHsgJ2FnZSc6IDQwIH1cbiAgICAgKiAgIF1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShuYW1lcywgYWdlcyk7XG4gICAgICogLy8gPT4geyAnY2hhcmFjdGVycyc6IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV0gfVxuICAgICAqXG4gICAgICogdmFyIGZvb2QgPSB7XG4gICAgICogICAnZnJ1aXRzJzogWydhcHBsZSddLFxuICAgICAqICAgJ3ZlZ2V0YWJsZXMnOiBbJ2JlZXQnXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXJGb29kID0ge1xuICAgICAqICAgJ2ZydWl0cyc6IFsnYmFuYW5hJ10sXG4gICAgICogICAndmVnZXRhYmxlcyc6IFsnY2Fycm90J11cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShmb29kLCBvdGhlckZvb2QsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzQXJyYXkoYSkgPyBhLmNvbmNhdChiKSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcnVpdHMnOiBbJ2FwcGxlJywgJ2JhbmFuYSddLCAndmVnZXRhYmxlcyc6IFsnYmVldCcsICdjYXJyb3RdIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGxlbmd0aCA9IDI7XG5cbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhbmQgYGNvbGxlY3Rpb25gIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdICE9ICdudW1iZXInKSB7XG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMl0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soYXJnc1stLWxlbmd0aCAtIDFdLCBhcmdzW2xlbmd0aC0tXSwgMik7XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbLS1sZW5ndGhdO1xuICAgICAgfVxuICAgICAgdmFyIHNvdXJjZXMgPSBzbGljZShhcmd1bWVudHMsIDEsIGxlbmd0aCksXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBzdGFja0EgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIHN0YWNrQiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZXNbaW5kZXhdLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgfVxuICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQSk7XG4gICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgZXhjbHVkaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBvbWl0dGluZyB0aGUgcHJvcGVydGllcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleVxuICAgICAqIGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufC4uLnN0cmluZ3xzdHJpbmdbXX0gW2NhbGxiYWNrXSBUaGUgcHJvcGVydGllcyB0byBvbWl0IG9yIHRoZVxuICAgICAqICBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCB3aXRob3V0IHRoZSBvbWl0dGVkIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ub21pdCh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSwgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqXG4gICAgICogXy5vbWl0KHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcHJvcHMgPSBbXTtcbiAgICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgcHJvcHMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHMgPSBiYXNlRGlmZmVyZW5jZShwcm9wcywgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKCFjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0d28gZGltZW5zaW9uYWwgYXJyYXkgb2YgYW4gb2JqZWN0J3Mga2V5LXZhbHVlIHBhaXJzLFxuICAgICAqIGkuZS4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIG5ldyBhcnJheSBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFpcnMoeyAnYmFybmV5JzogMzYsICdmcmVkJzogNDAgfSk7XG4gICAgICogLy8gPT4gW1snYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhaXJzKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGBvYmplY3RgIGNvbXBvc2VkIG9mIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBwaWNraW5nIHRoZSBwcm9wZXJ0aWVzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5XG4gICAgICogZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258Li4uc3RyaW5nfHN0cmluZ1tdfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyXG4gICAgICogIGl0ZXJhdGlvbiBvciBwcm9wZXJ0eSBuYW1lcyB0byBwaWNrLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBwcm9wZXJ0eVxuICAgICAqICBuYW1lcyBvciBhcnJheXMgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sICduYW1lJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkuY2hhckF0KDApICE9ICdfJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrKG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIHByb3BzID0gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSksXG4gICAgICAgICAgICBsZW5ndGggPSBpc09iamVjdChvYmplY3QpID8gcHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYCB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyB0aHJvdWdoIGEgY2FsbGJhY2ssIHdpdGggZWFjaCBjYWxsYmFjayBleGVjdXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNxdWFyZXMgPSBfLnRyYW5zZm9ybShbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdLCBmdW5jdGlvbihyZXN1bHQsIG51bSkge1xuICAgICAqICAgbnVtICo9IG51bTtcbiAgICAgKiAgIGlmIChudW0gJSAyKSB7XG4gICAgICogICAgIHJldHVybiByZXN1bHQucHVzaChudW0pIDwgMztcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgOSwgMjVdXG4gICAgICpcbiAgICAgKiB2YXIgbWFwcGVkID0gXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIGZ1bmN0aW9uKHJlc3VsdCwgbnVtLCBrZXkpIHtcbiAgICAgKiAgIHJlc3VsdFtrZXldID0gbnVtICogMztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMywgJ2InOiA2LCAnYyc6IDkgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGNhbGxiYWNrLCBhY2N1bXVsYXRvciwgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgIHByb3RvID0gY3RvciAmJiBjdG9yLnByb3RvdHlwZTtcblxuICAgICAgICAgIGFjY3VtdWxhdG9yID0gYmFzZUNyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG4gICAgICAgIChpc0FyciA/IGZvckVhY2ggOiBmb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjb21wb3NlZCBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBvYmplY3RbcHJvcHNbaW5kZXhdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIGZyb20gdGhlIHNwZWNpZmllZCBpbmRleGVzLCBvciBrZXlzLCBvZiB0aGVcbiAgICAgKiBgY29sbGVjdGlvbmAuIEluZGV4ZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXNcbiAgICAgKiBvZiBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW118c3RyaW5nfHN0cmluZ1tdKX0gW2luZGV4XSBUaGUgaW5kZXhlcyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiAgIHRvIHJldHJpZXZlLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBpbmRleGVzIG9yIGFycmF5cyBvZiBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICAgICAqICBwcm92aWRlZCBpbmRleGVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmF0KFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ10sIFswLCAyLCA0XSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnLCAnZSddXG4gICAgICpcbiAgICAgKiBfLmF0KFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddLCAwLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXQoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBwcm9wcyA9IGJhc2VGbGF0dGVuKGFyZ3MsIHRydWUsIGZhbHNlLCAxKSxcbiAgICAgICAgICBsZW5ndGggPSAoYXJnc1syXSAmJiBhcmdzWzJdW2FyZ3NbMV1dID09PSBjb2xsZWN0aW9uKSA/IDEgOiBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gY29sbGVjdGlvbltwcm9wc1tpbmRleF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiB2YWx1ZSBpcyBwcmVzZW50IGluIGEgY29sbGVjdGlvbiB1c2luZyBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgaW5jbHVkZVxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIGNoZWNrIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdGFyZ2V0YCBlbGVtZW50IGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sICdmcmVkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb250YWlucygncGViYmxlcycsICdlYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb250YWlucyhjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBsZW5ndGggKyBmcm9tSW5kZXgpIDogZnJvbUluZGV4KSB8fCAwO1xuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5kZXhPZihjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkgPiAtMTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXN1bHQgPSAoaXNTdHJpbmcoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uLmluZGV4T2YodGFyZ2V0LCBmcm9tSW5kZXgpIDogaW5kZXhPZihjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkpID4gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoKytpbmRleCA+PSBmcm9tSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IHZhbHVlID09PSB0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAgICogb2YgZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2suXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSsrIDogcmVzdWx0W2tleV0gPSAxKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FsbGJhY2sgcmV0dXJucyB0cnVleSB2YWx1ZSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBhbGxcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSAhIWNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9ICEhY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBzZWxlY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGV2ZW5zID0gXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAgICogLy8gPT4gWzIsIDQsIDZdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maWx0ZXIoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50IHRoYXRcbiAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleSBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZGV0ZWN0LCBmaW5kV2hlcmVcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgeyAnYWdlJzogMSB9KTtcbiAgICAgKiAvLyA9PiAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3QoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgZm9yIGVhY2hcbiAgICAgKiBlbGVtZW50LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS4gQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieVxuICAgICAqIGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBgbGVuZ3RoYCBwcm9wZXJ0eVxuICAgICAqIGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciBgXy5mb3JJbmAgb3IgYF8uZm9yT3duYFxuICAgICAqIG1heSBiZSB1c2VkIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLmZvckVhY2goZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pLmpvaW4oJywnKTtcbiAgICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGFuZCByZXR1cm5zICcxLDIsMydcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9LCBmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBhbmQgcmV0dXJucyB0aGUgb2JqZWN0IChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkuZm9yRWFjaFJpZ2h0KGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KS5qb2luKCcsJyk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBmcm9tIHJpZ2h0IHRvIGxlZnQgYW5kIHJldHVybnMgJzMsMiwxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGNvbGxlY3Rpb25bbGVuZ3RoXSwgbGVuZ3RoLCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGtleSA9IHByb3BzID8gcHJvcHNbLS1sZW5ndGhdIDogLS1sZW5ndGg7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNvbGxlY3Rpb25ba2V5XSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZVxuICAgICAqIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIHRoZSBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzQuMiwgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuNF0gfVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs0LjIsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLmZsb29yKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjRdIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogcmVzdWx0W2tleV0gPSBbXSkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgZ2l2ZW4gY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGtleXMgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShrZXkuY29kZSk7IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8uaW5kZXhCeShjaGFyYWN0ZXJzLCBmdW5jdGlvbihrZXkpIHsgdGhpcy5mcm9tQ2hhckNvZGUoa2V5LmNvZGUpOyB9LCBTdHJpbmcpO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIgaW5kZXhCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIG5hbWVkIGJ5IGBtZXRob2ROYW1lYCBvbiBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYFxuICAgICAqIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgYmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYG1ldGhvZE5hbWVgIGlzIGEgZnVuY3Rpb24gaXRcbiAgICAgKiB3aWxsIGJlIGludm9rZWQgZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZShbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52b2tlKGNvbGxlY3Rpb24sIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAyKSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBtZXRob2ROYW1lID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gKGlzRnVuYyA/IG1ldGhvZE5hbWUgOiB2YWx1ZVttZXRob2ROYW1lXSkuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICogdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgY29sbGVjdFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgICAqIC8vID0+IFszLCA2LCA5XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gKiAzOyB9KTtcbiAgICAgKiAvLyA9PiBbMywgNiwgOV0gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWFwKGNoYXJhY3RlcnMsICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmVzdWx0WysraW5kZXhdID0gY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYSBjb2xsZWN0aW9uLiBJZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eSBvclxuICAgICAqIGZhbHNleSBgLUluZmluaXR5YCBpcyByZXR1cm5lZC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICAgKiBpcyByYW5rZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWF4KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1heChjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggZnVuY3Rpb25zIGxpa2UgYF8ubWFwYCB3aXRob3V0IHVzaW5nXG4gICAgICAvLyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50IGFzIGEgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsICYmIGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IChjYWxsYmFjayA9PSBudWxsICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKVxuICAgICAgICAgID8gY2hhckF0Q2FsbGJhY2tcbiAgICAgICAgICA6IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPiBjb21wdXRlZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGEgY29sbGVjdGlvbi4gSWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3JcbiAgICAgKiBmYWxzZXkgYEluZmluaXR5YCBpcyByZXR1cm5lZC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICAgKiBpcyByYW5rZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWluKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWluKGNoYXJhY3RlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGNvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggZnVuY3Rpb25zIGxpa2UgYF8ubWFwYCB3aXRob3V0IHVzaW5nXG4gICAgICAvLyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50IGFzIGEgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsICYmIGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IChjYWxsYmFjayA9PSBudWxsICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKVxuICAgICAgICAgID8gY2hhckF0Q2FsbGJhY2tcbiAgICAgICAgICA6IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPCBjb21wdXRlZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBwcm9wZXJ0eSBmcm9tIGFsbCBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHBsdWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wbHVjayhjaGFyYWN0ZXJzLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIHZhciBwbHVjayA9IG1hcDtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYSBjb2xsZWN0aW9uIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBjYWxsYmFjayBleGVjdXRpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLiBJZlxuICAgICAqIGBhY2N1bXVsYXRvcmAgaXMgbm90IHByb3ZpZGVkIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIHdpbGwgYmVcbiAgICAgKiB1c2VkIGFzIHRoZSBpbml0aWFsIGBhY2N1bXVsYXRvcmAgdmFsdWUuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGZvbGRsLCBpbmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBJbml0aWFsIHZhbHVlIG9mIHRoZSBhY2N1bXVsYXRvci5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdW0gPSBfLnJlZHVjZShbMSwgMiwgM10sIGZ1bmN0aW9uKHN1bSwgbnVtKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIHZhciBtYXBwZWQgPSBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgZnVuY3Rpb24ocmVzdWx0LCBudW0sIGtleSkge1xuICAgICAqICAgcmVzdWx0W2tleV0gPSBudW0gKiAzO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb24pIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIHZhciBub2FjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAobm9hY2N1bSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gY29sbGVjdGlvblsrK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gY2FsbGJhY2soYWNjdW11bGF0b3IsIGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IG5vYWNjdW1cbiAgICAgICAgICAgID8gKG5vYWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgICAgICA6IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGZvbGRyXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gSW5pdGlhbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbGlzdCA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKiB2YXIgZmxhdCA9IF8ucmVkdWNlUmlnaHQobGlzdCwgZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBjYWxsYmFjaywgYWNjdW11bGF0b3IsIHRoaXNBcmcpIHtcbiAgICAgIHZhciBub2FjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG4gICAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gbm9hY2N1bVxuICAgICAgICAgID8gKG5vYWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGFcbiAgICAgKiBjb2xsZWN0aW9uIHRoYXQgdGhlIGNhbGxiYWNrIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1ZXkgZm9yLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgZmFpbGVkIHRoZSBjYWxsYmFjayBjaGVjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9kZHMgPSBfLnJlamVjdChbMSwgMiwgMywgNCwgNSwgNl0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlamVjdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5yZWplY3QoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICByZXR1cm4gZmlsdGVyKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gIWNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSByYW5kb20gZWxlbWVudCBvciBgbmAgcmFuZG9tIGVsZW1lbnRzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBBbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGBcbiAgICAgKiAgd2l0aG91dCB1c2luZyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50cyBhcyBgbmAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gc2FtcGxlKHMpIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoICE9ICdudW1iZXInKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uID8gY29sbGVjdGlvbltiYXNlUmFuZG9tKDAsIGNvbGxlY3Rpb24ubGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHNodWZmbGUoY29sbGVjdGlvbik7XG4gICAgICByZXN1bHQubGVuZ3RoID0gbmF0aXZlTWluKG5hdGl2ZU1heCgwLCBuKSwgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlIEZpc2hlci1ZYXRlc1xuICAgICAqIHNodWZmbGUuIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IHNodWZmbGVkIGNvbGxlY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNCwgNSwgNl0pO1xuICAgICAqIC8vID0+IFs0LCAxLCA2LCAzLCA1LCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKDAsICsraW5kZXgpO1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gcmVzdWx0W3JhbmRdO1xuICAgICAgICByZXN1bHRbcmFuZF0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIHRoZSBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGBjb2xsZWN0aW9uLmxlbmd0aGAgZm9yIGFycmF5c1xuICAgICAqIGFuZCBhcnJheS1saWtlIG9iamVjdHMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgY29sbGVjdGlvbi5sZW5ndGhgIG9yIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDJdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IGtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydWV5IHZhbHVlIGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYVxuICAgICAqIGNvbGxlY3Rpb24uIFRoZSBmdW5jdGlvbiByZXR1cm5zIGFzIHNvb24gYXMgaXQgZmluZHMgYSBwYXNzaW5nIHZhbHVlIGFuZFxuICAgICAqIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIGNvbGxlY3Rpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgYW55XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uc29tZShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uc29tZShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoKHJlc3VsdCA9IGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gIShyZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCB3aWxsIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyXG4gICAgICogb2YgZXF1YWwgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB3aWxsIGJlIHNvcnRlZCBieSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHNvcnRlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguc2luKG51bSk7IH0pO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuc2luKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDI2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogMzAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcChfLnNvcnRCeShjaGFyYWN0ZXJzLCAnYWdlJyksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9PiBbWydiYXJuZXknLCAyNl0sIFsnZnJlZCcsIDMwXSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIC8vIHNvcnRpbmcgYnkgbXVsdGlwbGUgcHJvcGVydGllc1xuICAgICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsIFsnbmFtZScsICdhZ2UnXSksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9ID4gW1snYmFybmV5JywgMjZdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoY2FsbGJhY2spLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIH1cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgb2JqZWN0ID0gcmVzdWx0WysraW5kZXhdID0gZ2V0T2JqZWN0KCk7XG4gICAgICAgIGlmIChpc0Fycikge1xuICAgICAgICAgIG9iamVjdC5jcml0ZXJpYSA9IG1hcChjYWxsYmFjaywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAob2JqZWN0LmNyaXRlcmlhID0gZ2V0QXJyYXkoKSlbMF0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QuaW5kZXggPSBpbmRleDtcbiAgICAgICAgb2JqZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgIHJlc3VsdC5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSByZXN1bHRbbGVuZ3RoXTtcbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBvYmplY3QudmFsdWU7XG4gICAgICAgIGlmICghaXNBcnIpIHtcbiAgICAgICAgICByZWxlYXNlQXJyYXkob2JqZWN0LmNyaXRlcmlhKTtcbiAgICAgICAgfVxuICAgICAgICByZWxlYXNlT2JqZWN0KG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBgY29sbGVjdGlvbmAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpLnNsaWNlKDEpOyB9KSgxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gc2xpY2UoY29sbGVjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIG9mIGVhY2ggZWxlbWVudCBpbiBhIGBjb2xsZWN0aW9uYCB0byB0aGUgZ2l2ZW5cbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0LCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzIHRoYXQgaGF2ZSBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBmaWx0ZXIgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ3BldHMnOiBbJ2hvcHB5J10gfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ud2hlcmUoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAncGV0cyc6IFsnaG9wcHknXSB9XVxuICAgICAqXG4gICAgICogXy53aGVyZShjaGFyYWN0ZXJzLCB7ICdwZXRzJzogWydkaW5vJ10gfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ3BldHMnOiBbJ2JhYnkgcHVzcycsICdkaW5vJ10gfV1cbiAgICAgKi9cbiAgICB2YXIgd2hlcmUgPSBmaWx0ZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgYWxsIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIHZhbHVlcyBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzIHVzaW5nIHN0cmljdFxuICAgICAqIGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgYXJyYXlzIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMSwgMiwgMywgNCwgNV0sIFs1LCAyLCAxMF0pO1xuICAgICAqIC8vID0+IFsxLCAzLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgMjA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlID4gMzA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEluZGV4KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvciBmaXJzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZ1xuICAgICAqIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGhlYWQsIHRha2VcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJldHVybi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpcnN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA8IDM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpcnN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8uZmlyc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBhIG5lc3RlZCBhcnJheSAodGhlIG5lc3RpbmcgY2FuIGJlIHRvIGFueSBkZXB0aCkuIElmIGBpc1NoYWxsb3dgXG4gICAgICogaXMgdHJ1ZXksIHRoZSBhcnJheSB3aWxsIG9ubHkgYmUgZmxhdHRlbmVkIGEgc2luZ2xlIGxldmVsLiBJZiBhIGNhbGxiYWNrXG4gICAgICogaXMgcHJvdmlkZWQgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgY2FsbGJhY2sgYmVmb3JlXG4gICAgICogZmxhdHRlbmluZy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NoYWxsb3c9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGEgc2luZ2xlIGxldmVsLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMl0sIFszLCBbWzRdXV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyXSwgWzMsIFtbNF1dXV0sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbWzRdXV07XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDMwLCAncGV0cyc6IFsnaG9wcHknXSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5mbGF0dGVuKGNoYXJhY3RlcnMsICdwZXRzJyk7XG4gICAgICogLy8gPT4gWydob3BweScsICdiYWJ5IHB1c3MnLCAnZGlubyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSwgaXNTaGFsbG93LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8ganVnZ2xlIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBpc1NoYWxsb3cgIT0gJ2Jvb2xlYW4nICYmIGlzU2hhbGxvdyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU2hhbGxvdyAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tpc1NoYWxsb3ddID09PSBhcnJheSkgPyBudWxsIDogaXNTaGFsbG93O1xuICAgICAgICBpc1NoYWxsb3cgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5ID0gbWFwKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIHRoZSBhcnJheSBpcyBhbHJlYWR5IHNvcnRlZFxuICAgICAqIHByb3ZpZGluZyBgdHJ1ZWAgZm9yIGBmcm9tSW5kZXhgIHdpbGwgcnVuIGEgZmFzdGVyIGJpbmFyeSBzZWFyY2guXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tIG9yIGB0cnVlYFxuICAgICAqICB0byBwZXJmb3JtIGEgYmluYXJ5IHNlYXJjaCBvbiBhIHNvcnRlZCBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyLCAzKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDEsIDIsIDIsIDMsIDNdLCAyLCB0cnVlKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgbGVuZ3RoICsgZnJvbUluZGV4KSA6IGZyb21JbmRleCB8fCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpbmRleF0gPT09IHZhbHVlID8gaW5kZXggOiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGFcbiAgICAgKiBjYWxsYmFjayBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgZXhjbHVkZWQgZnJvbVxuICAgICAqIHRoZSByZXN1bHQgYXMgbG9uZyBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kXG4gICAgICogdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPiAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5pbml0aWFsKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5pbml0aWFsKGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ25hJyB9KSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoaW5kZXgtLSAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBjYWxsYmFjayB8fCBuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIGxlbmd0aCAtIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgcHJlc2VudCBpbiBhbGwgcHJvdmlkZWQgYXJyYXlzIHVzaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgdHJ1c3RJbmRleE9mID0gaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgc2VlbiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpIHtcbiAgICAgICAgICBhcmdzLnB1c2godmFsdWUpO1xuICAgICAgICAgIGNhY2hlcy5wdXNoKHRydXN0SW5kZXhPZiAmJiB2YWx1ZS5sZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiZcbiAgICAgICAgICAgIGNyZWF0ZUNhY2hlKGFyZ3NJbmRleCA/IGFyZ3NbYXJnc0luZGV4XSA6IHNlZW4pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGFycmF5ID0gYXJnc1swXSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbMF07XG4gICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIGlmICgoY2FjaGUgPyBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSA6IGluZGV4T2Yoc2VlbiwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICBhcmdzSW5kZXggPSBhcmdzTGVuZ3RoO1xuICAgICAgICAgIChjYWNoZSB8fCBzZWVuKS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB3aGlsZSAoLS1hcmdzSW5kZXgpIHtcbiAgICAgICAgICAgIGNhY2hlID0gY2FjaGVzW2FyZ3NJbmRleF07XG4gICAgICAgICAgICBpZiAoKGNhY2hlID8gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkgOiBpbmRleE9mKGFyZ3NbYXJnc0luZGV4XSwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICBjYWNoZSA9IGNhY2hlc1thcmdzTGVuZ3RoXTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgcmVsZWFzZU9iamVjdChjYWNoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlbGVhc2VBcnJheShjYWNoZXMpO1xuICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2sgaXNcbiAgICAgKiBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZyBhcyB0aGVcbiAgICAgKiBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZXR1cm4uIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA+IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8ubGFzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubGFzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlIChpbmRleC0tICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuYXRpdmVNYXgoMCwgbGVuZ3RoIC0gbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBsYXN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZyBzdHJpY3RcbiAgICAgKiBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkXG4gICAgICogYXMgdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIsIDMpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBpbmRleCArIGZyb21JbmRleCkgOiBuYXRpdmVNaW4oZnJvbUluZGV4LCBpbmRleCAtIDEpKSArIDE7XG4gICAgICB9XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHByb3ZpZGVkIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBhcnJheSB1c2luZyBzdHJpY3QgZXF1YWxpdHkgZm9yXG4gICAgICogY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZV0gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCAxLCAyLCAzXTtcbiAgICAgKiBfLnB1bGwoYXJyYXksIDIsIDMpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsKGFycmF5KSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBhcmdzSW5kZXggPSAwLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LS0sIDEpO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvIGJ1dCBub3QgaW5jbHVkaW5nIGBlbmRgLiBJZiBgc3RhcnRgIGlzIGxlc3MgdGhhbiBgc3RvcGAgYVxuICAgICAqIHplcm8tbGVuZ3RoIHJhbmdlIGlzIGNyZWF0ZWQgdW5sZXNzIGEgbmVnYXRpdmUgYHN0ZXBgIGlzIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IHJhbmdlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgIHN0YXJ0ID0gK3N0YXJ0IHx8IDA7XG4gICAgICBzdGVwID0gdHlwZW9mIHN0ZXAgPT0gJ251bWJlcicgPyBzdGVwIDogKCtzdGVwIHx8IDEpO1xuXG4gICAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIHVzZSBgQXJyYXkobGVuZ3RoKWAgc28gZW5naW5lcyBsaWtlIENoYWtyYSBhbmQgVjggYXZvaWQgc2xvd2VyIG1vZGVzXG4gICAgICAvLyBodHRwOi8veW91dHUuYmUvWEFxSXBHVThaWmsjdD0xN20yNXNcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heCgwLCBjZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSkpLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSB0aGF0IHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNCwgNSwgNl07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNCwgNl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleC0tLCAxKTtcbiAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uaW5pdGlhbGAgdGhpcyBtZXRob2QgZ2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9yXG4gICAgICogZmlyc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGVsZW1lbnRzXG4gICAgICogYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgYXJlIGV4Y2x1ZGVkIGZyb20gdGhlIHJlc3VsdCBhcyBsb25nIGFzIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZHJvcCwgdGFpbFxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5yZXN0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnJlc3QoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLnJlc3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBuYXRpdmVNYXgoMCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoIGEgdmFsdWVcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBhIGdpdmVuIHNvcnRlZCBhcnJheSBpbiBvcmRlciB0byBtYWludGFpbiB0aGUgc29ydFxuICAgICAqIG9yZGVyIG9mIHRoZSBhcnJheS4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvclxuICAgICAqIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXIgc29ydCByYW5raW5nLiBUaGVcbiAgICAgKiBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMjAsIDMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnNvcnRlZEluZGV4KFt7ICd4JzogMjAgfSwgeyAneCc6IDMwIH0sIHsgJ3gnOiA1MCB9XSwgeyAneCc6IDQwIH0sICd4Jyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogdmFyIGRpY3QgPSB7XG4gICAgICogICAnd29yZFRvTnVtYmVyJzogeyAndHdlbnR5JzogMjAsICd0aGlydHknOiAzMCwgJ2ZvdXJ0eSc6IDQwLCAnZmlmdHknOiA1MCB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWyd0d2VudHknLCAndGhpcnR5JywgJ2ZpZnR5J10sICdmb3VydHknLCBmdW5jdGlvbih3b3JkKSB7XG4gICAgICogICByZXR1cm4gZGljdC53b3JkVG9OdW1iZXJbd29yZF07XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbJ3R3ZW50eScsICd0aGlydHknLCAnZmlmdHknXSwgJ2ZvdXJ0eScsIGZ1bmN0aW9uKHdvcmQpIHtcbiAgICAgKiAgIHJldHVybiB0aGlzLndvcmRUb051bWJlclt3b3JkXTtcbiAgICAgKiB9LCBkaWN0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogbG93O1xuXG4gICAgICAvLyBleHBsaWNpdGx5IHJlZmVyZW5jZSBgaWRlbnRpdHlgIGZvciBiZXR0ZXIgaW5saW5pbmcgaW4gRmlyZWZveFxuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA/IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkgOiBpZGVudGl0eTtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgICAgICAoY2FsbGJhY2soYXJyYXlbbWlkXSkgPCB2YWx1ZSlcbiAgICAgICAgICA/IGxvdyA9IG1pZCArIDFcbiAgICAgICAgICA6IGhpZ2ggPSBtaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbG93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDUsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pb24oKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gICAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiB0aGUgYXJyYXkgaXMgc29ydGVkLCBwcm92aWRpbmdcbiAgICAgKiBgdHJ1ZWAgZm9yIGBpc1NvcnRlZGAgd2lsbCB1c2UgYSBmYXN0ZXIgYWxnb3JpdGhtLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgaXMgcGFzc2VkIHRocm91Z2ggdGhlIGNhbGxiYWNrIGJlZm9yZSB1bmlxdWVuZXNzXG4gICAgICogaXMgY29tcHV0ZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW5pcXVlXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIsIDEsIDMsIDFdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udW5pcShbMSwgMSwgMiwgMiwgM10sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy51bmlxKFsnQScsICdiJywgJ0MnLCAnYScsICdCJywgJ2MnXSwgZnVuY3Rpb24obGV0dGVyKSB7IHJldHVybiBsZXR0ZXIudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICogLy8gPT4gWydBJywgJ2InLCAnQyddXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIuNSwgMywgMS41LCAyLCAzLjVdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4gWzEsIDIuNSwgM11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8udW5pcShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAvLyBqdWdnbGUgYXJndW1lbnRzXG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkICE9ICdib29sZWFuJyAmJiBpc1NvcnRlZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU29ydGVkICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2lzU29ydGVkXSA9PT0gYXJyYXkpID8gbnVsbCA6IGlzU29ydGVkO1xuICAgICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBwcm92aWRlZCB2YWx1ZXMgdXNpbmcgc3RyaWN0IGVxdWFsaXR5IGZvclxuICAgICAqIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzEsIDIsIDEsIDAsIDMsIDEsIDRdLCAwLCAxKTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3aXRob3V0KGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgc3ltbWV0cmljIGRpZmZlcmVuY2Ugb2YgdGhlIHByb3ZpZGVkIGFycmF5cy5cbiAgICAgKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgM10sIFs1LCAyLCAxLCA0XSk7XG4gICAgICogLy8gPT4gWzMsIDUsIDRdXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgNV0sIFsyLCAzLCA1XSwgWzMsIDQsIDVdKTtcbiAgICAgKiAvLyA9PiBbMSwgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB4b3IoKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICBpZiAoaXNBcnJheShhcnJheSkgfHwgaXNBcmd1bWVudHMoYXJyYXkpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdFxuICAgICAgICAgICAgPyBiYXNlVW5pcShiYXNlRGlmZmVyZW5jZShyZXN1bHQsIGFycmF5KS5jb25jYXQoYmFzZURpZmZlcmVuY2UoYXJyYXksIHJlc3VsdCkpKVxuICAgICAgICAgICAgOiBhcnJheTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW56aXBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBBcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snZnJlZCcsIDMwLCB0cnVlXSwgWydiYXJuZXknLCA0MCwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcCgpIHtcbiAgICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzIDogYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBtYXgocGx1Y2soYXJyYXksICdsZW5ndGgnKSkgOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIGZyb20gYXJyYXlzIG9mIGBrZXlzYCBhbmQgYHZhbHVlc2AuIFByb3ZpZGVcbiAgICAgKiBlaXRoZXIgYSBzaW5nbGUgdHdvIGRpbWVuc2lvbmFsIGFycmF5LCBpLmUuIGBbW2tleTEsIHZhbHVlMV0sIFtrZXkyLCB2YWx1ZTJdXWBcbiAgICAgKiBvciB0d28gYXJyYXlzLCBvbmUgb2YgYGtleXNgIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBvYmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0ga2V5cyBUaGUgYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBnaXZlbiBrZXlzIGFuZFxuICAgICAqICBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMgPyBrZXlzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIGlmICghdmFsdWVzICYmIGxlbmd0aCAmJiAhaXNBcnJheShrZXlzWzBdKSkge1xuICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgICAgICByZXN1bHRba2V5WzBdXSA9IGtleVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIGBmdW5jYCwgd2l0aCAgdGhlIGB0aGlzYCBiaW5kaW5nIGFuZFxuICAgICAqIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgb25seSBhZnRlciBiZWluZyBjYWxsZWQgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGJlZm9yZVxuICAgICAqICBgZnVuY2AgaXMgZXhlY3V0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdEb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ0RvbmUgc2F2aW5nIScsIGFmdGVyIGFsbCBzYXZlcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgcHJlcGVuZHMgYW55IGFkZGl0aW9uYWwgYGJpbmRgIGFyZ3VtZW50cyB0byB0aG9zZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBib3VuZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMubmFtZTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYyA9IF8uYmluZChmdW5jLCB7ICduYW1lJzogJ2ZyZWQnIH0sICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kKGZ1bmMsIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoZnVuYywgMTcsIHNsaWNlKGFyZ3VtZW50cywgMiksIG51bGwsIHRoaXNBcmcpXG4gICAgICAgIDogY3JlYXRlV3JhcHBlcihmdW5jLCAxLCBudWxsLCBudWxsLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLiBNZXRob2QgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXNcbiAgICAgKiBvZiBtZXRob2QgbmFtZXMuIElmIG5vIG1ldGhvZCBuYW1lcyBhcmUgcHJvdmlkZWQgYWxsIHRoZSBmdW5jdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAgd2lsbCBiZSBib3VuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBbbWV0aG9kTmFtZV0gVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG9cbiAgICAgKiAgYmluZCwgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgbWV0aG9kIG5hbWVzIG9yIGFycmF5cyBvZiBtZXRob2QgbmFtZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnb25DbGljayc6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7IH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcpO1xuICAgICAqIGpRdWVyeSgnI2RvY3MnKS5vbignY2xpY2snLCB2aWV3Lm9uQ2xpY2spO1xuICAgICAqIC8vID0+IGxvZ3MgJ2NsaWNrZWQgZG9jcycsIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZEFsbChvYmplY3QpIHtcbiAgICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkgOiBmdW5jdGlvbnMob2JqZWN0KSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBjcmVhdGVXcmFwcGVyKG9iamVjdFtrZXldLCAxLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gXG4gICAgICogYW5kIHByZXBlbmRzIGFueSBhZGRpdGlvbmFsIGBiaW5kS2V5YCBhcmd1bWVudHMgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGJvdW5kXG4gICAgICogZnVuY3Rpb24uIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG9cbiAgICAgKiByZWZlcmVuY2UgbWV0aG9kcyB0aGF0IHdpbGwgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC5cbiAgICAgKiBTZWUgaHR0cDovL21pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRoZSBtZXRob2QgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICduYW1lJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy5uYW1lO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMubmFtZSArICchJztcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYygpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJpbmRLZXkob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoa2V5LCAxOSwgc2xpY2UoYXJndW1lbnRzLCAyKSwgbnVsbCwgb2JqZWN0KVxuICAgICAgICA6IGNyZWF0ZVdyYXBwZXIoa2V5LCAzLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zLFxuICAgICAqIHdoZXJlIGVhY2ggZnVuY3Rpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICAgICAqIEZvciBleGFtcGxlLCBjb21wb3NpbmcgdGhlIGZ1bmN0aW9ucyBgZigpYCwgYGcoKWAsIGFuZCBgaCgpYCBwcm9kdWNlcyBgZihnKGgoKSkpYC5cbiAgICAgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjb21wb3NlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBbZnVuY10gRnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFsTmFtZU1hcCA9IHtcbiAgICAgKiAgICdwZWJibGVzJzogJ3BlbmVsb3BlJ1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZm9ybWF0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAqICAgbmFtZSA9IHJlYWxOYW1lTWFwW25hbWUudG9Mb3dlckNhc2UoKV0gfHwgbmFtZTtcbiAgICAgKiAgIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihmb3JtYXR0ZWQpIHtcbiAgICAgKiAgIHJldHVybiAnSGl5YSAnICsgZm9ybWF0dGVkICsgJyEnO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgd2VsY29tZSA9IF8uY29tcG9zZShncmVldCwgZm9ybWF0KTtcbiAgICAgKiB3ZWxjb21lKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0hpeWEgUGVuZWxvcGUhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gICAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmNzW2xlbmd0aF0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzID0gW2Z1bmNzW2xlbmd0aF0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0cyBvbmUgb3IgbW9yZSBhcmd1bWVudHMgb2YgYGZ1bmNgIHRoYXQgd2hlblxuICAgICAqIGludm9rZWQgZWl0aGVyIGV4ZWN1dGVzIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYWxsIGBmdW5jYCBhcmd1bWVudHNcbiAgICAgKiBoYXZlIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgb25lIG9yIG1vcmUgb2YgdGhlXG4gICAgICogcmVtYWluaW5nIGBmdW5jYCBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBjYW4gYmUgc3BlY2lmaWVkXG4gICAgICogaWYgYGZ1bmMubGVuZ3RoYCBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhhICsgYiArIGMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gNlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5KSB7XG4gICAgICBhcml0eSA9IHR5cGVvZiBhcml0eSA9PSAnbnVtYmVyJyA/IGFyaXR5IDogKCthcml0eSB8fCBmdW5jLmxlbmd0aCk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLCA0LCBudWxsLCBudWxsLCBudWxsLCBhcml0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWxheSB0aGUgZXhlY3V0aW9uIG9mIGBmdW5jYCB1bnRpbCBhZnRlclxuICAgICAqIGB3YWl0YCBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgaXQgd2FzIGludm9rZWQuXG4gICAgICogUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0byBpbmRpY2F0ZSB0aGF0IGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvblxuICAgICAqIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gU3Vic2VxdWVudCBjYWxsc1xuICAgICAqIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgY2FsbC5cbiAgICAgKlxuICAgICAqIE5vdGU6IElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAgYGZ1bmNgIHdpbGwgYmUgY2FsbGVkXG4gICAgICogb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBpc1xuICAgICAqIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXhcbiAgICAgKiB2YXIgbGF6eUxheW91dCA9IF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApO1xuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBsYXp5TGF5b3V0KTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHNlbmRNYWlsYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzXG4gICAgICogalF1ZXJ5KCcjcG9zdGJveCcpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIGVuc3VyZSBgYmF0Y2hMb2dgIGlzIGV4ZWN1dGVkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzXG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7XG4gICAgICogICAnbWF4V2FpdCc6IDEwMDBcbiAgICAgKiB9LCBmYWxzZSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGFyZ3MsXG4gICAgICAgICAgbWF4VGltZW91dElkLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBzdGFtcCxcbiAgICAgICAgICB0aGlzQXJnLFxuICAgICAgICAgIHRpbWVvdXRJZCxcbiAgICAgICAgICB0cmFpbGluZ0NhbGwsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDAsXG4gICAgICAgICAgbWF4V2FpdCA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB3YWl0ID0gbmF0aXZlTWF4KDAsIHdhaXQpIHx8IDA7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgbGVhZGluZyA9IHRydWU7XG4gICAgICAgIHRyYWlsaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSBvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heFdhaXQgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucyAmJiAobmF0aXZlTWF4KHdhaXQsIG9wdGlvbnMubWF4V2FpdCkgfHwgMCk7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGRlbGF5ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93KCkgLSBzdGFtcCk7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgIGlmIChtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaXNDYWxsZWQgPSB0cmFpbGluZ0NhbGw7XG4gICAgICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgbGFzdENhbGxlZCA9IG5vdygpO1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICAgIGlmICghdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgYXJncyA9IHRoaXNBcmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtYXhEZWxheWVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhUaW1lb3V0SWQgPSB0aW1lb3V0SWQgPSB0cmFpbGluZ0NhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0cmFpbGluZyB8fCAobWF4V2FpdCAhPT0gd2FpdCkpIHtcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN0YW1wID0gbm93KCk7XG4gICAgICAgIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICB0cmFpbGluZ0NhbGwgPSB0cmFpbGluZyAmJiAodGltZW91dElkIHx8ICFsZWFkaW5nKTtcblxuICAgICAgICBpZiAobWF4V2FpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgbGVhZGluZ0NhbGwgPSBsZWFkaW5nICYmICF0aW1lb3V0SWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFtYXhUaW1lb3V0SWQgJiYgIWxlYWRpbmcpIHtcbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlbWFpbmluZyA9IG1heFdhaXQgLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKSxcbiAgICAgICAgICAgICAgaXNDYWxsZWQgPSByZW1haW5pbmcgPD0gMDtcblxuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICBtYXhUaW1lb3V0SWQgPSBjbGVhclRpbWVvdXQobWF4VGltZW91dElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIG1heFRpbWVvdXRJZCA9IHNldFRpbWVvdXQobWF4RGVsYXllZCwgcmVtYWluaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmIHRpbWVvdXRJZCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aW1lb3V0SWQgJiYgd2FpdCAhPT0gbWF4V2FpdCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZGVsYXllZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XG4gICAgICAgICAgaXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmICF0aW1lb3V0SWQgJiYgIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgZXhlY3V0aW5nIHRoZSBgZnVuY2AgZnVuY3Rpb24gdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC5cbiAgICAgKiBBZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2codGV4dCk7IH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vIGxvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgb3IgbW9yZSBtaWxsaXNlY29uZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZlcihmdW5jKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZnVuY2AgZnVuY3Rpb24gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgZXhlY3V0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKHRleHQpOyB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBsb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbGF5KGZ1bmMsIHdhaXQpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBzbGljZShhcmd1bWVudHMsIDIpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdFxuICAgICAqIGJhc2VkIG9uIHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgKiBmaXJzdCBhcmd1bWVudCBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgY2FjaGUga2V5LlxuICAgICAqIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIFRoZSByZXN1bHQgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gQSBmdW5jdGlvbiB1c2VkIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXppbmcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmaWJvbmFjY2kgPSBfLm1lbW9pemUoZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gPCAyID8gbiA6IGZpYm9uYWNjaShuIC0gMSkgKyBmaWJvbmFjY2kobiAtIDIpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmlib25hY2NpKDkpXG4gICAgICogLy8gPT4gMzRcbiAgICAgKlxuICAgICAqIHZhciBkYXRhID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyBtb2RpZnlpbmcgdGhlIHJlc3VsdCBjYWNoZVxuICAgICAqIHZhciBnZXQgPSBfLm1lbW9pemUoZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gZGF0YVtuYW1lXTsgfSwgXy5pZGVudGl0eSk7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqXG4gICAgICogZ2V0LmNhY2hlLnBlYmJsZXMubmFtZSA9ICdwZW5lbG9wZSc7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZW5lbG9wZScsICdhZ2UnOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBtZW1vaXplZC5jYWNoZSxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleVByZWZpeCArIGFyZ3VtZW50c1swXTtcblxuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwga2V5KVxuICAgICAgICAgID8gY2FjaGVba2V5XVxuICAgICAgICAgIDogKGNhY2hlW2tleV0gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSB7fTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGV4ZWN1dGUgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxscyB0b1xuICAgICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGNhbGwuIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWRcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyBgaW5pdGlhbGl6ZWAgZXhlY3V0ZXMgYGNyZWF0ZUFwcGxpY2F0aW9uYCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICB2YXIgcmFuLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyYW4pIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAvLyBjbGVhciB0aGUgYGZ1bmNgIHZhcmlhYmxlIHNvIHRoZSBmdW5jdGlvbiBtYXkgYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICAgICAgZnVuYyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCBhbnkgYWRkaXRpb25hbFxuICAgICAqIGBwYXJ0aWFsYCBhcmd1bWVudHMgcHJlcGVuZGVkIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uIFRoaXNcbiAgICAgKiBtZXRob2QgaXMgc2ltaWxhciB0byBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgbmFtZSkgeyByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lOyB9O1xuICAgICAqIHZhciBoaSA9IF8ucGFydGlhbChncmVldCwgJ2hpJyk7XG4gICAgICogaGkoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJ0aWFsKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDE2LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IGBwYXJ0aWFsYCBhcmd1bWVudHMgYXJlXG4gICAgICogYXBwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHNEZWVwID0gXy5wYXJ0aWFsUmlnaHQoXy5tZXJnZSwgXy5kZWZhdWx0cyk7XG4gICAgICpcbiAgICAgKiB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICd2YXJpYWJsZSc6ICdkYXRhJyxcbiAgICAgKiAgICdpbXBvcnRzJzogeyAnanEnOiAkIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZGVmYXVsdHNEZWVwKG9wdGlvbnMsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG4gICAgICpcbiAgICAgKiBvcHRpb25zLnZhcmlhYmxlXG4gICAgICogLy8gPT4gJ2RhdGEnXG4gICAgICpcbiAgICAgKiBvcHRpb25zLmltcG9ydHNcbiAgICAgKiAvLyA9PiB7ICdfJzogXywgJ2pxJzogJCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFydGlhbFJpZ2h0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDMyLCBudWxsLCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBleGVjdXRlZCwgd2lsbCBvbmx5IGNhbGwgdGhlIGBmdW5jYCBmdW5jdGlvblxuICAgICAqIGF0IG1vc3Qgb25jZSBwZXIgZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0b1xuICAgICAqIGluZGljYXRlIHRoYXQgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlXG4gICAgICogb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbFxuICAgICAqIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBjYWxsLlxuICAgICAqXG4gICAgICogTm90ZTogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCBgZnVuY2Agd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGlzXG4gICAgICogaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGV4ZWN1dGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmdcbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKTtcbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlc1xuICAgICAqIGpRdWVyeSgnLmludGVyYWN0aXZlJykub24oJ2NsaWNrJywgXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHtcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgIGxlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyBvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubWF4V2FpdCA9IHdhaXQ7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMudHJhaWxpbmcgPSB0cmFpbGluZztcblxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGRlYm91bmNlT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byB0aGUgd3JhcHBlciBmdW5jdGlvbiBhcyBpdHNcbiAgICAgKiBmaXJzdCBhcmd1bWVudC4gQWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSB3cmFwcGVyIGZ1bmN0aW9uLiBUaGUgd3JhcHBlciBpcyBleGVjdXRlZCB3aXRoXG4gICAgICogdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdGcmVkLCBXaWxtYSwgJiBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPkZyZWQsIFdpbG1hLCAmYW1wOyBQZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcih3cmFwcGVyLCAxNiwgW3ZhbHVlXSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiB2YXIgZ2V0dGVyID0gXy5jb25zdGFudChvYmplY3QpO1xuICAgICAqIGdldHRlcigpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBjYWxsYmFjayBib3VuZCB0byBhbiBvcHRpb25hbCBgdGhpc0FyZ2AuIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5XG4gICAgICogbmFtZSB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKiBJZiBgZnVuY2AgaXMgYW4gb2JqZWN0IHRoZSBjcmVhdGVkIGNhbGxiYWNrIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHNcbiAgICAgKiB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnQgb2JqZWN0IHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCB3aWxsIHJldHVybiBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHdyYXAgdG8gY3JlYXRlIGN1c3RvbSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogXy5jcmVhdGVDYWxsYmFjayA9IF8ud3JhcChfLmNyZWF0ZUNhbGxiYWNrLCBmdW5jdGlvbihmdW5jLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAqICAgdmFyIG1hdGNoID0gL14oLis/KV9fKFtnbF10KSguKykkLy5leGVjKGNhbGxiYWNrKTtcbiAgICAgKiAgIHJldHVybiAhbWF0Y2ggPyBmdW5jKGNhbGxiYWNrLCB0aGlzQXJnKSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAqICAgICByZXR1cm4gbWF0Y2hbMl0gPT0gJ2d0JyA/IG9iamVjdFttYXRjaFsxXV0gPiBtYXRjaFszXSA6IG9iamVjdFttYXRjaFsxXV0gPCBtYXRjaFszXTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCAnYWdlX19ndDM4Jyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBmdW5jO1xuICAgICAgaWYgKGZ1bmMgPT0gbnVsbCB8fCB0eXBlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCk7XG4gICAgICB9XG4gICAgICAvLyBoYW5kbGUgXCJfLnBsdWNrXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHR5cGUgIT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5KGZ1bmMpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0ga2V5cyhmdW5jKSxcbiAgICAgICAgICBrZXkgPSBwcm9wc1swXSxcbiAgICAgICAgICBhID0gZnVuY1trZXldO1xuXG4gICAgICAvLyBoYW5kbGUgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHByb3BzLmxlbmd0aCA9PSAxICYmIGEgPT09IGEgJiYgIWlzT2JqZWN0KGEpKSB7XG4gICAgICAgIC8vIGZhc3QgcGF0aCB0aGUgY29tbW9uIGNhc2Ugb2YgcHJvdmlkaW5nIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlXG4gICAgICAgIC8vIHByb3BlcnR5IGNvbnRhaW5pbmcgYSBwcmltaXRpdmUgdmFsdWVcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHZhciBiID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgcmV0dXJuIGEgPT09IGIgJiYgKGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBiYXNlSXNFcXVhbChvYmplY3RbcHJvcHNbbGVuZ3RoXV0sIGZ1bmNbcHJvcHNbbGVuZ3RoXV0sIG51bGwsIHRydWUpKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIGAmYCwgYDxgLCBgPmAsIGBcImAsIGFuZCBgJ2AgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ0ZyZWQsIFdpbG1hLCAmIFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24gbWV0aG9kcyB3aWxsIGJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIHRoZSBmdW5jdGlvbnMgYWRkZWQgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ2NhcGl0YWxpemUnOiBjYXBpdGFsaXplIH0pO1xuICAgICAqIF8uY2FwaXRhbGl6ZSgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXygnZnJlZCcpLmNhcGl0YWxpemUoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy5taXhpbih7ICdjYXBpdGFsaXplJzogY2FwaXRhbGl6ZSB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS5jYXBpdGFsaXplKCk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjaGFpbiA9IHRydWUsXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBzb3VyY2UgJiYgZnVuY3Rpb25zKHNvdXJjZSk7XG5cbiAgICAgIGlmICghc291cmNlIHx8ICghb3B0aW9ucyAmJiAhbWV0aG9kTmFtZXMubGVuZ3RoKSkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBjdG9yID0gbG9kYXNoV3JhcHBlcjtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSBsb2Rhc2g7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gZnVuY3Rpb25zKHNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hhaW4gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIGNoYWluID0gb3B0aW9ucy5jaGFpbjtcbiAgICAgIH1cbiAgICAgIHZhciBjdG9yID0gb2JqZWN0LFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24oY3Rvcik7XG5cbiAgICAgIGZvckVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBvYmplY3RbbWV0aG9kTmFtZV0gPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBbdmFsdWVdO1xuXG4gICAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseShvYmplY3QsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcmVzdWx0ICYmIGlzT2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgY3RvcihyZXN1bHQpO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlICdfJyB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBjb250ZXh0Ll8gPSBvbGREYXNoO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBuby1vcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5ub29wKG9iamVjdCkgPT09IHVuZGVmaW5lZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIG5vIG9wZXJhdGlvbiBwZXJmb3JtZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBVbml4IGVwb2NoXG4gICAgICogKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdGFtcCA9IF8ubm93KCk7XG4gICAgICogXy5kZWZlcihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGlzTmF0aXZlKG5vdyA9IERhdGUubm93KSAmJiBub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBnaXZlbiB2YWx1ZSBpbnRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC5cbiAgICAgKiBJZiBgcmFkaXhgIGlzIGB1bmRlZmluZWRgIG9yIGAwYCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyB0aGVcbiAgICAgKiBgdmFsdWVgIGlzIGEgaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGF2b2lkcyBkaWZmZXJlbmNlcyBpbiBuYXRpdmUgRVMzIGFuZCBFUzUgYHBhcnNlSW50YFxuICAgICAqIGltcGxlbWVudGF0aW9ucy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyNFLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFyc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeF0gVGhlIHJhZGl4IHVzZWQgdG8gaW50ZXJwcmV0IHRoZSB2YWx1ZSB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBuZXcgaW50ZWdlciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICovXG4gICAgdmFyIHBhcnNlSW50ID0gbmF0aXZlUGFyc2VJbnQod2hpdGVzcGFjZSArICcwOCcpID09IDggPyBuYXRpdmVQYXJzZUludCA6IGZ1bmN0aW9uKHZhbHVlLCByYWRpeCkge1xuICAgICAgLy8gRmlyZWZveCA8IDIxIGFuZCBPcGVyYSA8IDE1IGZvbGxvdyB0aGUgRVMzIHNwZWNpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiBgcGFyc2VJbnRgXG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQoaXNTdHJpbmcodmFsdWUpID8gdmFsdWUucmVwbGFjZShyZUxlYWRpbmdTcGFjZXNBbmRaZXJvcywgJycpIDogdmFsdWUsIHJhZGl4IHx8IDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgXCJfLnBsdWNrXCIgc3R5bGUgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgdGhlIGBrZXlgIHZhbHVlIG9mIGFcbiAgICAgKiBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmV0cmlldmUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIGdldE5hbWUgPSBfLnByb3BlcnR5KCduYW1lJyk7XG4gICAgICpcbiAgICAgKiBfLm1hcChjaGFyYWN0ZXJzLCBnZXROYW1lKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KGNoYXJhY3RlcnMsIGdldE5hbWUpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KGtleSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YCAoaW5jbHVzaXZlKS4gSWYgb25seSBvbmVcbiAgICAgKiBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlciB3aWxsIGJlXG4gICAgICogcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgdHJ1ZXkgb3IgZWl0aGVyIGBtaW5gIG9yIGBtYXhgIGFyZSBmbG9hdHMgYVxuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlciB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heD0xXSBUaGUgbWF4aW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZz1mYWxzZV0gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4LCBmbG9hdGluZykge1xuICAgICAgdmFyIG5vTWluID0gbWluID09IG51bGwsXG4gICAgICAgICAgbm9NYXggPSBtYXggPT0gbnVsbDtcblxuICAgICAgaWYgKGZsb2F0aW5nID09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtaW4gPT0gJ2Jvb2xlYW4nICYmIG5vTWF4KSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBtaW47XG4gICAgICAgICAgbWluID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbm9NYXggJiYgdHlwZW9mIG1heCA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IG1heDtcbiAgICAgICAgICBub01heCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub01pbiAmJiBub01heCkge1xuICAgICAgICBtYXggPSAxO1xuICAgICAgfVxuICAgICAgbWluID0gK21pbiB8fCAwO1xuICAgICAgaWYgKG5vTWF4KSB7XG4gICAgICAgIG1heCA9IG1pbjtcbiAgICAgICAgbWluID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heCA9ICttYXggfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBtaW4gJSAxIHx8IG1heCAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihtaW4gKyAocmFuZCAqIChtYXggLSBtaW4gKyBwYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsnJykubGVuZ3RoIC0gMSkpKSksIG1heCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIHZhbHVlIG9mIHByb3BlcnR5IGBrZXlgIG9uIGBvYmplY3RgLiBJZiBga2V5YCBpcyBhIGZ1bmN0aW9uXG4gICAgICogaXQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBvYmplY3RgIGFuZCBpdHMgcmVzdWx0IHJldHVybmVkLFxuICAgICAqIGVsc2UgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJldHVybmVkLiBJZiBgb2JqZWN0YCBpcyBmYWxzZXkgdGhlbiBgdW5kZWZpbmVkYFxuICAgICAqIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2NoZWVzZSc6ICdjcnVtcGV0cycsXG4gICAgICogICAnc3R1ZmYnOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgcmV0dXJuICdub25zZW5zZSc7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2NoZWVzZScpO1xuICAgICAqIC8vID0+ICdjcnVtcGV0cydcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ3N0dWZmJyk7XG4gICAgICogLy8gPT4gJ25vbnNlbnNlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpID8gb2JqZWN0W2tleV0oKSA6IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgbWljcm8tdGVtcGxhdGluZyBtZXRob2QgdGhhdCBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXNcbiAgICAgKiB3aGl0ZXNwYWNlLCBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCwgYF8udGVtcGxhdGVgIHV0aWxpemVzIHNvdXJjZVVSTHMgZm9yIGVhc2llclxuICAgICAqIGRlYnVnZ2luZy4gU2VlIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmxcbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlOlxuICAgICAqIGh0dHA6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHNcbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZTpcbiAgICAgKiBodHRwOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vc3RhYmxlL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwuaHRtbFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB1c2VkIHRvIHBvcHVsYXRlIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGVdIFRoZSBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGVdIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzXSBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGxvY2FsIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGVdIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc291cmNlVVJMXSBUaGUgc291cmNlVVJMIG9mIHRoZSB0ZW1wbGF0ZSdzIGNvbXBpbGVkIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZhcmlhYmxlXSBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258c3RyaW5nfSBSZXR1cm5zIGEgY29tcGlsZWQgZnVuY3Rpb24gd2hlbiBubyBgZGF0YWAgb2JqZWN0XG4gICAgICogIGlzIGdpdmVuLCBlbHNlIGl0IHJldHVybnMgdGhlIGludGVycG9sYXRlZCB0ZXh0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSBuYW1lICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAnbmFtZSc6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgSFRNTCBpbiBkYXRhIHByb3BlcnR5IHZhbHVlc1xuICAgICAqIF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nLCB7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGdlbmVyYXRlIEhUTUxcbiAgICAgKiB2YXIgbGlzdCA9ICc8JSBfLmZvckVhY2gocGVvcGxlLCBmdW5jdGlvbihuYW1lKSB7ICU+PGxpPjwlLSBuYW1lICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIEVTNiBkZWxpbWl0ZXIgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIGRlZmF1bHQgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlclxuICAgICAqIF8udGVtcGxhdGUoJ2hlbGxvICR7IG5hbWUgfScsIHsgJ25hbWUnOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVyc1xuICAgICAqIF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyBuYW1lKTsgJT4hJywgeyAnbmFtZSc6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgYSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVyc1xuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICAgKiAgICdpbnRlcnBvbGF0ZSc6IC97eyhbXFxzXFxTXSs/KX19L2dcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy50ZW1wbGF0ZSgnaGVsbG8ge3sgbmFtZSB9fSEnLCB7ICduYW1lJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGpRdWVyeVxuICAgICAqIHZhciBsaXN0ID0gJzwlIGpxLmVhY2gocGVvcGxlLCBmdW5jdGlvbihuYW1lKSB7ICU+PGxpPjwlLSBuYW1lICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0sIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IG5hbWUgJT4nLCBudWxsLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gZmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3RvclxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEubmFtZSAlPiEnLCBudWxsLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqICAgdmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlO1xuICAgICAqICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEubmFtZSApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqICAgcmV0dXJuIF9fcDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgYSBzdGFjayB0cmFjZVxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKGN3ZCwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZXh0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAvLyBiYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyBodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nL1xuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVFxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG4gICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgfHwgJycpO1xuXG4gICAgICAvLyBhdm9pZCBtaXNzaW5nIGRlcGVuZGVuY2llcyB3aGVuIGBpdGVyYXRvclRlbXBsYXRlYCBpcyBub3QgZGVmaW5lZFxuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRzKHt9LCBvcHRpb25zLCBzZXR0aW5ncyk7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gZGVmYXVsdHMoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSB2YWx1ZXMoaW1wb3J0cyk7XG5cbiAgICAgIHZhciBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBjb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXJcbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIHRleHQucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW5ub3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzXG4gICAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIHJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgcmVxdWlyZXMgcmV0dXJuaW5nIHRoZSBgbWF0Y2hgXG4gICAgICAgIC8vIHN0cmluZyBpbiBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBpZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQsIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluXG4gICAgICB2YXIgdmFyaWFibGUgPSBvcHRpb25zLnZhcmlhYmxlLFxuICAgICAgICAgIGhhc1ZhcmlhYmxlID0gdmFyaWFibGU7XG5cbiAgICAgIGlmICghaGFzVmFyaWFibGUpIHtcbiAgICAgICAgdmFyaWFibGUgPSAnb2JqJztcbiAgICAgICAgc291cmNlID0gJ3dpdGggKCcgKyB2YXJpYWJsZSArICcpIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gY2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIGZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHlcbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgdmFyaWFibGUgKyAnKSB7XFxuJyArXG4gICAgICAgIChoYXNWYXJpYWJsZSA/ICcnIDogdmFyaWFibGUgKyAnIHx8ICgnICsgdmFyaWFibGUgKyAnID0ge30pO1xcbicpICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJywgX19lID0gXy5lc2NhcGVcIiArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsXG4gICAgICB2YXIgc291cmNlVVJMID0gJ1xcbi8qXFxuLy8jIHNvdXJjZVVSTD0nICsgKG9wdGlvbnMuc291cmNlVVJMIHx8ICcvbG9kYXNoL3RlbXBsYXRlL3NvdXJjZVsnICsgKHRlbXBsYXRlQ291bnRlcisrKSArICddJykgKyAnXFxuKi8nO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gRnVuY3Rpb24oaW1wb3J0c0tleXMsICdyZXR1cm4gJyArIHNvdXJjZSArIHNvdXJjZVVSTCkuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQoZGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBwcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2QsIGluXG4gICAgICAvLyBzdXBwb3J0ZWQgZW52aXJvbm1lbnRzLCBvciB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3JcbiAgICAgIC8vIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcyBkdXJpbmcgdGhlIGJ1aWxkIHByb2Nlc3NcbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjYWxsYmFjayBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0c1xuICAgICAqIG9mIGVhY2ggY2FsbGJhY2sgZXhlY3V0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggYGNhbGxiYWNrYCBleGVjdXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBkaWNlUm9sbHMgPSBfLnRpbWVzKDMsIF8ucGFydGlhbChfLnJhbmRvbSwgMSwgNikpO1xuICAgICAqIC8vID0+IFszLCA2LCA0XVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBmdW5jdGlvbihuKSB7IG1hZ2UuY2FzdFNwZWxsKG4pOyB9KTtcbiAgICAgKiAvLyA9PiBjYWxscyBgbWFnZS5jYXN0U3BlbGwobilgIHRocmVlIHRpbWVzLCBwYXNzaW5nIGBuYCBvZiBgMGAsIGAxYCwgYW5kIGAyYCByZXNwZWN0aXZlbHlcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgZnVuY3Rpb24obikgeyB0aGlzLmNhc3Qobik7IH0sIG1hZ2UpO1xuICAgICAqIC8vID0+IGFsc28gY2FsbHMgYG1hZ2UuY2FzdFNwZWxsKG4pYCB0aHJlZSB0aW1lc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBuID0gKG4gPSArbikgPiAtMSA/IG4gOiAwO1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICAgIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgIHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnRnJlZCwgQmFybmV5ICZhbXA7IFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCwgQmFybmV5ICYgUGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcgPT0gbnVsbCA/ICcnIDogU3RyaW5nKHN0cmluZykucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIHByb3ZpZGVkIHRoZSBJRCB3aWxsIGJlIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4XSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIFN0cmluZyhwcmVmaXggPT0gbnVsbCA/ICcnIDogcHJlZml4KSArIGlkO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB0aGF0IHdyYXBzIHRoZSBnaXZlbiB2YWx1ZSB3aXRoIGV4cGxpY2l0XG4gICAgICogbWV0aG9kIGNoYWluaW5nIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF8uY2hhaW4oY2hhcmFjdGVycylcbiAgICAgKiAgICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgICAgLm1hcChmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5uYW1lICsgJyBpcyAnICsgY2hyLmFnZTsgfSlcbiAgICAgKiAgICAgLmZpcnN0KClcbiAgICAgKiAgICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgICB2YWx1ZS5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGludGVyY2VwdG9yYCB3aXRoIHRoZSBgdmFsdWVgIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgdGhlblxuICAgICAqIHJldHVybnMgYHZhbHVlYC4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kXG4gICAgICogY2hhaW4gaW4gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpblxuICAgICAqIHRoZSBjaGFpbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDMsIDRdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7IGFycmF5LnBvcCgpOyB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGV4cGxpY2l0IG1ldGhvZCBjaGFpbmluZyBvbiB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmdcbiAgICAgKiBfKGNoYXJhY3RlcnMpLmZpcnN0KCk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gd2l0aCBleHBsaWNpdCBjaGFpbmluZ1xuICAgICAqIF8oY2hhcmFjdGVycykuY2hhaW4oKVxuICAgICAqICAgLmZpcnN0KClcbiAgICAgKiAgIC5waWNrKCdhZ2UnKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAnYWdlJzogMzYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIHRoZSBgdG9TdHJpbmdgIHJlc3VsdCBvZiB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHRvU3RyaW5nXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcgcmVzdWx0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudG9TdHJpbmcoKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlT2ZcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyB2YWx1ZVxuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWVPZigpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZU9mKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX193cmFwcGVkX187XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIHdoZW4gY2hhaW5pbmdcbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iaW5kID0gYmluZDtcbiAgICBsb2Rhc2guYmluZEFsbCA9IGJpbmRBbGw7XG4gICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29tcG9zZSA9IGNvbXBvc2U7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmNyZWF0ZUNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2s7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbmRleEJ5ID0gaW5kZXhCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5vbWl0ID0gb21pdDtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLnBhaXJzID0gcGFpcnM7XG4gICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICAgIGxvZGFzaC5wYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHQ7XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5wbHVjayA9IHBsdWNrO1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC50YXAgPSB0YXA7XG4gICAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLndoZXJlID0gd2hlcmU7XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC56aXAgPSB6aXA7XG4gICAgbG9kYXNoLnppcE9iamVjdCA9IHppcE9iamVjdDtcblxuICAgIC8vIGFkZCBhbGlhc2VzXG4gICAgbG9kYXNoLmNvbGxlY3QgPSBtYXA7XG4gICAgbG9kYXNoLmRyb3AgPSByZXN0O1xuICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ247XG4gICAgbG9kYXNoLm1ldGhvZHMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLm9iamVjdCA9IHppcE9iamVjdDtcbiAgICBsb2Rhc2guc2VsZWN0ID0gZmlsdGVyO1xuICAgIGxvZGFzaC50YWlsID0gcmVzdDtcbiAgICBsb2Rhc2gudW5pcXVlID0gdW5pcTtcbiAgICBsb2Rhc2gudW56aXAgPSB6aXA7XG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRvIGBsb2Rhc2gucHJvdG90eXBlYFxuICAgIG1peGluKGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIGFkZCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY29udGFpbnMgPSBjb250YWlucztcbiAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmhhcyA9IGhhcztcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRmluaXRlID0gaXNGaW5pdGU7XG4gICAgbG9kYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICAgIGxvZGFzaC5pc051bGwgPSBpc051bGw7XG4gICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbiAgICBsb2Rhc2gubm9vcCA9IG5vb3A7XG4gICAgbG9kYXNoLm5vdyA9IG5vdztcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zaXplID0gc2l6ZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG5cbiAgICAvLyBhZGQgYWxpYXNlc1xuICAgIGxvZGFzaC5hbGwgPSBldmVyeTtcbiAgICBsb2Rhc2guYW55ID0gc29tZTtcbiAgICBsb2Rhc2guZGV0ZWN0ID0gZmluZDtcbiAgICBsb2Rhc2guZmluZFdoZXJlID0gZmluZDtcbiAgICBsb2Rhc2guZm9sZGwgPSByZWR1Y2U7XG4gICAgbG9kYXNoLmZvbGRyID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLmluY2x1ZGUgPSBjb250YWlucztcbiAgICBsb2Rhc2guaW5qZWN0ID0gcmVkdWNlO1xuXG4gICAgbWl4aW4oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge31cbiAgICAgIGZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSwgZmFsc2UpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIGNhcGFibGUgb2YgcmV0dXJuaW5nIHdyYXBwZWQgYW5kIHVud3JhcHBlZCB2YWx1ZXMgd2hlbiBjaGFpbmluZ1xuICAgIGxvZGFzaC5maXJzdCA9IGZpcnN0O1xuICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcbiAgICBsb2Rhc2guc2FtcGxlID0gc2FtcGxlO1xuXG4gICAgLy8gYWRkIGFsaWFzZXNcbiAgICBsb2Rhc2gudGFrZSA9IGZpcnN0O1xuICAgIGxvZGFzaC5oZWFkID0gZmlyc3Q7XG5cbiAgICBmb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2FsbGJhY2thYmxlID0gbWV0aG9kTmFtZSAhPT0gJ3NhbXBsZSc7XG4gICAgICBpZiAoIWxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT0gZnVuY3Rpb24obiwgZ3VhcmQpIHtcbiAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYyh0aGlzLl9fd3JhcHBlZF9fLCBuLCBndWFyZCk7XG5cbiAgICAgICAgICByZXR1cm4gIWNoYWluQWxsICYmIChuID09IG51bGwgfHwgKGd1YXJkICYmICEoY2FsbGJhY2thYmxlICYmIHR5cGVvZiBuID09ICdmdW5jdGlvbicpKSlcbiAgICAgICAgICAgID8gcmVzdWx0XG4gICAgICAgICAgICA6IG5ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICBsb2Rhc2guVkVSU0lPTiA9ICcyLjQuMSc7XG5cbiAgICAvLyBhZGQgXCJDaGFpbmluZ1wiIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlclxuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b1N0cmluZyA9IHdyYXBwZXJUb1N0cmluZztcbiAgICBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlT2Y7XG4gICAgbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gd3JhcHBlclZhbHVlT2Y7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlc1xuICAgIGZvckVhY2goWydqb2luJywgJ3BvcCcsICdzaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UmVmW21ldGhvZE5hbWVdO1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXywgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gY2hhaW5BbGxcbiAgICAgICAgICA/IG5ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpXG4gICAgICAgICAgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHRoZSBleGlzdGluZyB3cmFwcGVkIHZhbHVlXG4gICAgZm9yRWFjaChbJ3B1c2gnLCAncmV2ZXJzZScsICdzb3J0JywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gbmV3IHdyYXBwZWQgdmFsdWVzXG4gICAgZm9yRWFjaChbJ2NvbmNhdCcsICdzbGljZScsICdzcGxpY2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBsb2Rhc2hXcmFwcGVyKGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXywgYXJndW1lbnRzKSwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBsb2Rhc2g7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBleHBvc2UgTG8tRGFzaFxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIHNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMgbGlrZSByLmpzIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZSB0aGUgZm9sbG93aW5nOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG8tRGFzaCB0byB0aGUgZ2xvYmFsIG9iamVjdCBldmVuIHdoZW4gYW4gQU1EIGxvYWRlciBpcyBwcmVzZW50IGluXG4gICAgLy8gY2FzZSBMby1EYXNoIGlzIGxvYWRlZCB3aXRoIGEgUmVxdWlyZUpTIHNoaW0gY29uZmlnLlxuICAgIC8vIFNlZSBodHRwOi8vcmVxdWlyZWpzLm9yZy9kb2NzL2FwaS5odG1sI2NvbmZpZy1zaGltXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIGRlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgYW4gYGV4cG9ydHNgIG9iamVjdFxuICBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG4gICAgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTXG4gICAgaWYgKG1vZHVsZUV4cG9ydHMpIHtcbiAgICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICB9XG4gICAgLy8gaW4gTmFyd2hhbCBvciBSaGlubyAtcmVxdWlyZVxuICAgIGVsc2Uge1xuICAgICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIC8vIGluIGEgYnJvd3NlciBvciBSaGlub1xuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIid1c2Ugc3RyaWN0JztcblxudmFyIFRyYW5zZm9ybWVyID0gcmVxdWlyZSgnLi9oYW5kcy9UcmFuc2Zvcm1lcicpO1xudmFyIEJveGVyID0gcmVxdWlyZSgnLi9oYW5kcy9Cb3hlcicpO1xudmFyIEN1cnZlciA9IHJlcXVpcmUoJy4vaGFuZHMvY3VydmVyL0N1cnZlcicpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiBUcmFuc2hhbmQoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuaGFuZHMgPSB7fTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHRoaXMuX2J1ZmZNb2NrRGl2ID0gW107XG5cbiAgICBbVHJhbnNmb3JtZXIsIEJveGVyLCBDdXJ2ZXJdLmZvckVhY2goZnVuY3Rpb24gKEhhbmQpIHtcblxuICAgICAgICB2YXIgaGFuZCA9IG5ldyBIYW5kKHRoaXMpO1xuXG4gICAgICAgIGhhbmQub24oJ2NoYW5nZScsIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjaGFuZ2UnKSk7XG5cbiAgICAgICAgdGhpcy5oYW5kc1tIYW5kLmlkXSA9IGhhbmQ7XG4gICAgfSwgdGhpcyk7XG59XG5cbmluaGVyaXRzKFRyYW5zaGFuZCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVHJhbnNoYW5kLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVHJhbnNoYW5kO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdmFyIGhhbmQgPSB0aGlzLmhhbmRzW29wdC5oYW5kLnR5cGVdO1xuXG4gICAgaWYgKHRoaXMuX2N1cnJIYW5kICYmIHRoaXMuX2N1cnJIYW5kICE9PSBoYW5kKSB7XG5cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKGhhbmQpIHtcblxuICAgICAgICBoYW5kLnNldHVwKG9wdC5oYW5kKTtcbiAgICAgICAgdGhpcy5fY3VyckhhbmQgPSBoYW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgJ1Vua25vd24gaGFuZCB0eXBlOiAnICsgb3B0LmhhbmQudHlwZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mKG9wdC5vbikgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0Lm9uKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudFR5cGUpIHtcblxuICAgICAgICAgICAgdGhpcy5vbihldmVudFR5cGUsIG9wdC5vbltldmVudFR5cGVdKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxucC5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9jdXJySGFuZCkge1xuXG4gICAgICAgIHRoaXMuX2N1cnJIYW5kLmFjdGl2YXRlKCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fY3VyckhhbmQuZG9tRWxlbSk7XG4gICAgfVxufTtcblxucC5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJIYW5kKSB7XG5cbiAgICAgICAgdGhpcy5fY3VyckhhbmQuZGVhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jdXJySGFuZC5kb21FbGVtLnBhcmVudE5vZGUgPT09IHRoaXMuZG9tRWxlbSkge1xuXG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0ucmVtb3ZlQ2hpbGQodGhpcy5fY3VyckhhbmQuZG9tRWxlbSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLkwyRyA9IGZ1bmN0aW9uIChwKSB7XG5cbiAgICBpZiAoIXRoaXMuX2RlTG9jYWxSb290UGlja2VyKSB7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyLnN0eWxlLmxlZnQgPSBwLnggKyAncHgnO1xuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyLnN0eWxlLnRvcCA9IHAueSArICdweCc7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2RlTG9jYWxSb290KTtcbiAgICB2YXIgYnIgPSB0aGlzLl9kZUxvY2FsUm9vdFBpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2RlTG9jYWxSb290KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGJyLmxlZnQsXG4gICAgICAgIHk6IGJyLnRvcCxcbiAgICB9XG59O1xuXG5wLkcyTCA9IGZ1bmN0aW9uIChwKSB7XG5cbiAgICBpZiAoIXRoaXMuX2RlTG9jYWxSb290UGlja2VyKSB7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZGVMb2NhbFJvb3QpO1xuICAgIHZhciByZXQgPSBuYXN0eUxvY2FsMkdsb2JhbChwLCB0aGlzLl9kZUxvY2FsUm9vdFBpY2tlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9kZUxvY2FsUm9vdCk7XG4gICAgY29uc29sZS5sb2coJ0cyTCcsIHAsICc+JywgcmV0KVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5wLnNldExvY2FsUm9vdCA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzLCBcbiAgICAgICAgZGVSb290ID0gZ2V0RGl2KCksIFxuICAgICAgICBkZVBpY2tlciA9IGdldERpdigpO1xuXG4gICAgZGVSb290LmFwcGVuZENoaWxkKGRlUGlja2VyKTtcblxuICAgIGlmICh0aGlzLl9kZUxvY2FsUm9vdCkge1xuICAgICAgICBkaXNhc3NlbWJsZSh0aGlzLl9kZUxvY2FsUm9vdCk7XG4gICAgfVxuICAgIGFzc2VtYmxlKGRlKTtcblxuICAgIHRoaXMuX2RlTG9jYWxSb290ID0gZGVSb290O1xuICAgIHRoaXMuX2RlTG9jYWxSb290UGlja2VyID0gZGVQaWNrZXI7XG4gICAgdGhpcy5fZGVMb2NhbFJvb3RQaWNrZXIuc2V0QXR0cmlidXRlKCdwaWNrZXInLCAxKTtcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2RlTG9jYWxSb290KTtcblxuICAgIGZ1bmN0aW9uIGFzc2VtYmxlKGRlKSB7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkO1xuXG4gICAgICAgIGlmIChkZS5vZmZzZXRMZWZ0KSB7XG4gICAgICAgICAgICBkZVJvb3Quc3R5bGUubGVmdCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUubGVmdCB8fCAwKSArIGRlLm9mZnNldExlZnQpICsgJ3B4J1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZS5vZmZzZXRUb3ApIHtcbiAgICAgICAgICAgIGRlUm9vdC5zdHlsZS50b3AgPSAocGFyc2VJbnQoZGVSb290LnN0eWxlLnRvcCB8fCAwKSArIGRlLm9mZnNldFRvcCkgKyAncHgnXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGUuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgICAgICAgICBkZVJvb3Quc3R5bGUudHJhbnNmb3JtID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICAgICAgLy9mb3IgdGhlIHRyYW5zZm9ybS1vcmlnaW5cbiAgICAgICAgICAgIGRlUm9vdC5zdHlsZS53aWR0aCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUud2lkdGggfHwgMCkgKyBkZS5vZmZzZXRXaWR0aCkgKyAncHgnO1xuICAgICAgICAgICAgZGVSb290LnN0eWxlLmhlaWdodCA9IChwYXJzZUludChkZVJvb3Quc3R5bGUuaGVpZ2h0IHx8IDApICsgZGUub2Zmc2V0SGVpZ2h0KSArICdweCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkZS5zdHlsZS50cmFuc2Zvcm1PcmlnaW4pIHtcbiAgICAgICAgICAgICAgICBkZVJvb3Quc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gZGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZS5zdHlsZS5wcmVzcGVjdGl2ZSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGVSb290LnN0eWxlLnByZXNwZWN0aXZlID0gZGUuc3R5bGUucHJlc3BlY3RpdmU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkZS5zdHlsZS5wcmVzcGVjdGl2ZU9yaWdpbikge1xuICAgICAgICAgICAgICAgIGRlUm9vdC5zdHlsZS5wcmVzcGVjdGl2ZU9yaWdpbiA9IGRlLnN0eWxlLnByZXNwZWN0aXZlT3JpZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZS5zdHlsZS50cmFuc2Zvcm1TdHlsZSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGVSb290LnN0eWxlLnRyYW5zZm9ybVN0eWxlID0gZGUuc3R5bGUudHJhbnNmb3JtU3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNmb3JtZWQpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGdldERpdigpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRlUm9vdCk7XG4gICAgICAgICAgICBkZVJvb3QgPSBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGUucGFyZW50Tm9kZSAmJiAgZGUucGFyZW50Tm9kZS5ub2RlTmFtZSAhPT0gJyNkb2N1bWVudCcgJiYgZGUucGFyZW50Tm9kZS5ub2RlTmFtZSAhPT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICBhc3NlbWJsZShkZS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc2Fzc2VtYmxlKGRlKSB7XG5cbiAgICAgICAgZGUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGF0Ll9idWZmTW9ja0Rpdi5wdXNoKGRlKTtcblxuICAgICAgICB2YXIgY2hpbGQgPSBkZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGRlLnJlbW92ZUNoaWxkKGNoaWxkKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIGRpc2Fzc2VtYmxlKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERpdigpIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBkZSA9IHRoYXQuX2J1ZmZNb2NrRGl2LnBvcCgpIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlLnNldEF0dHJpYnV0ZSgnbW9jaycsIDEpO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG59XG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBuYXN0eUxvY2FsMkdsb2JhbCAobVBvcywgZGVQaWNrZXIpIHtcblxuICAgIHZhciB0d2Vha0Rpc3QgPSAxMjgsXG4gICAgICAgIHR3ZWFrRGlzdFN0ZXAgPSAwLFxuICAgICAgICB0d2Vha1JhZCA9IE1hdGguUEkgLyAyLFxuICAgICAgICBkaXN0ID0gdHdlYWtEaXN0ICogMixcbiAgICAgICAgcmFkID0gMCxcbiAgICAgICAgbnVsbFBvcyA9IHt4OjAsIHk6IDB9LFxuICAgICAgICBnbG9iYWxOdWxsUG9zID0gTDJHKG51bGxQb3MpLFxuICAgICAgICBnbG9iYWxSYWQgPSBnZXRSYWQoZ2xvYmFsTnVsbFBvcywgbVBvcyksXG4gICAgICAgIGdsb2JhbERpc3QgPSBwb3NEaXN0KGdsb2JhbE51bGxQb3MsIG1Qb3MpO1xuXG4gICAgd2hpbGUgKHR3ZWFrUmFkID4gLjAwMDAwMSkge1xuXG4gICAgICAgIHZhciBnbG9iYWxUZXN0UmFkID0gZ2V0UmFkKG1Qb3MsIEwyRyhSYWQyUG9zKHJhZCwgdHdlYWtEaXN0KSkpO1xuXG4gICAgICAgIGlmIChyYWREaWZmKGdsb2JhbFJhZCwgZ2xvYmFsVGVzdFJhZCkgPCAwKSB7XG5cbiAgICAgICAgICAgIHJhZCArPSB0d2Vha1JhZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJhZCAtPSB0d2Vha1JhZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHR3ZWFrUmFkIC89IDI7XG4gICAgfVxuXG5cbiAgICB3aGlsZSAocG9zRGlzdChnbG9iYWxOdWxsUG9zLCBMMkcoUmFkMlBvcyhyYWQsIGRpc3QgKyAyKnR3ZWFrRGlzdCkpKSA8IGdsb2JhbERpc3QgJiYgZGlzdCA8IHR3ZWFrRGlzdCAqIDY0KSB7XG5cbiAgICAgICAgZGlzdCArPSA0KnR3ZWFrRGlzdDtcbiAgICB9XG4gICAgXG4gICAgd2hpbGUgKHR3ZWFrRGlzdCA+IDEpIHtcblxuICAgICAgICBpZiAocG9zRGlzdChnbG9iYWxOdWxsUG9zLCBMMkcoUmFkMlBvcyhyYWQsIGRpc3QpKSkgPCBnbG9iYWxEaXN0KSB7XG5cbiAgICAgICAgICAgIGRpc3QgKz0gdHdlYWtEaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGlzdCAtPSB0d2Vha0Rpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICB0d2Vha0Rpc3QgLz0gMjtcbiAgICB9XG4gIFxuICAgIHJldHVybiBSYWQyUG9zKHJhZCwgZGlzdCk7XG4gIFxuICAgIFxuICBcbiAgXG4gICAgZnVuY3Rpb24gY2xvc2VzdFJhZChhUmFkLCBiUmFkKSB7XG5cbiAgICAgICAgdmFyIGFQb3MgPSBMMkcoUmFkMlBvcyhhUmFkLCB0d2Vha0Rpc3QpKSxcbiAgICAgICAgICAgIGJQb3MgPSBMMkcoUmFkMlBvcyhiUmFkLCB0d2Vha0Rpc3QpKSxcbiAgICAgICAgICAgIGdBUmFkID0gZ2V0UmFkKGdsb2JhbE51bGxQb3MsIGFQb3MpLFxuICAgICAgICAgICAgZ0JSYWQgPSBnZXRSYWQoZ2xvYmFsTnVsbFBvcywgYlBvcyk7XG5cbiAgICAgIFxuICAgICAgICAkKCcjczAnKS5jc3MoJ2xlZnQnLCBhUG9zLngpO1xuICAgICAgICAkKCcjczAnKS5jc3MoJ3RvcCcsIGFQb3MueSk7XG4gICAgICAgICQoJyNzMScpLmNzcygnbGVmdCcsIGJQb3MueCk7XG4gICAgICAgICQoJyNzMScpLmNzcygndG9wJywgYlBvcy55KTtcblxuICAgICAgcmV0dXJuIHJhZERpZmYoZ0FSYWQsIGdsb2JhbFJhZCkgPCByYWREaWZmKGdCUmFkLCBnbG9iYWxSYWQpID8gYVJhZCA6IGJSYWQ7XG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiBnZXRSYWQoYVBvcywgYlBvcykge1xuICAgICAgXG4gICAgICAgcmV0dXJuIE1hdGguYXRhbjIoYlBvcy55IC0gYVBvcy55LCBiUG9zLnggLSBhUG9zLngpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJhZDJQb3MocmFkLCBkaXN0KSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IE1hdGguY29zKHJhZCkgKiBkaXN0LFxuICAgICAgICAgICAgeTogTWF0aC5zaW4ocmFkKSAqIGRpc3QsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTDJHKHBvcykge1xuXG4gICAgICAgIGRlUGlja2VyLnN0eWxlLmxlZnQgPSBwb3MueCArICdweCc7XG4gICAgICAgIGRlUGlja2VyLnN0eWxlLnRvcCA9IHBvcy55ICsgJ3B4JztcblxuICAgICAgICB2YXIgYnIgPSBkZVBpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4ge3g6IGJyLmxlZnQsIHk6IGJyLnRvcH07XG4gICAgfVxuICBcbiAgICBmdW5jdGlvbiByYWREaWZmKGFSYWQsIGJSYWQpIHtcblxuICAgICAgYlJhZCAtPSBhUmFkO1xuICAgICAgYlJhZCAlPSBNYXRoLlBJKjI7XG5cbiAgICAgIGlmIChiUmFkID4gTWF0aC5QSSkgYlJhZCAtPSAyKk1hdGguUEk7XG4gICAgICBlbHNlIGlmIChiUmFkIDwgLU1hdGguUEkpIGJSYWQgKz0gMipNYXRoLlBJO1xuICAgICAgXG4gICAgICByZXR1cm4gYlJhZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NEaXN0KGFQLCBiUCkge1xuXG4gICAgICAgIHZhciBkeCA9IGFQLnggLSBiUC54LFxuICAgICAgICAgICAgZHkgPSBhUC55IC0gYlAueTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4KmR4KyBkeSpkeSk7XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxudmFyIE1PVVNFU1RBVEVTID0ge1xuICAgICdtb3ZlJzogJ21vdmUnLFxuICAgICcxMDAwJzogJ25zLXJlc2l6ZScsXG4gICAgJzExMDAnOiAnbmVzdy1yZXNpemUnLFxuICAgICcwMTAwJzogJ2V3LXJlc2l6ZScsXG4gICAgJzAxMTAnOiAnbndzZS1yZXNpemUnLFxuICAgICcwMDEwJzogJ25zLXJlc2l6ZScsXG4gICAgJzAwMTEnOiAnbmVzdy1yZXNpemUnLFxuICAgICcwMDAxJzogJ2V3LXJlc2l6ZScsXG4gICAgJzEwMDEnOiAnbndzZS1yZXNpemUnLFxufTtcblxudmFyIElOSVRfUEFSQU1TID0ge1xuICAgIHg6IDAsIFxuICAgIHk6IDAsIFxuICAgIHc6IDAsIFxuICAgIGg6IDAsXG59O1xuXG5cbmZ1bmN0aW9uIEJveGVyKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9wYXJhbXMgPSBfLmNsb25lKElOSVRfUEFSQU1TKTtcblxuICAgIHRoaXMuX29uRHJhZyA9IHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VVcCA9IHRoaXMuX29uTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdXNlRG93biA9IHRoaXMuX29uTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmFmT25EcmFnID0gdGhpcy5fcmFmT25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25PdmVySGl0Ym94ID0gdGhpcy5fb25PdmVySGl0Ym94LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25PdXRIaXRib3ggPSB0aGlzLl9vbk91dEhpdGJveC5iaW5kKHRoaXMpO1xufVxuXG5Cb3hlci5pZCA9ICdib3hlcic7XG5cbmluaGVyaXRzKEJveGVyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBCb3hlci5wcm90b3R5cGU7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgXy5leHRlbmQodGhpcy5fcGFyYW1zLCBJTklUX1BBUkFNUywgb3B0LnBhcmFtcyk7XG4gICAgdGhpcy5fcmVuZGVySGFuZGxlcigpO1xufTtcblxucC5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSk7XG4gICAgdGhpcy5fZGVCb3guYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xufTtcblxucC5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUJveC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG59O1xuXG5cblxuXG5cbnAuX29uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGlmICghdGhpcy5fZmluZ2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMuX2lzSGFuZGxlID0gdHJ1ZTtcblxuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgdGhpcy5fbWRQb3MgPSB7XG4gICAgICAgIG14OiBlLmNsaWVudFgsIFxuICAgICAgICBteTogZS5jbGllbnRZLFxuICAgICAgICBwYXJhbXM6IF8uY2xvbmUodGhpcy5fcGFyYW1zKSxcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25EcmFnKTtcbn07XG5cbnAuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGlmICghdGhpcy5faXNIYW5kbGUgJiYgdGhpcy5faXNPdmVySGl0Ym94KSB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zZXRGaW5nZXIoZSk7XG4gICAgfVxufTsgXG5cbnAuX29uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uRHJhZyk7XG5cbiAgICBpZiAodGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcbiAgICAgICAgdGhpcy5fcmFmT25EcmFnKCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuX2lzSGFuZGxlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbn07XG5cbnAuX29uT3ZlckhpdGJveCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IHRydWU7XG59O1xuXG5wLl9vbk91dEhpdGJveCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzT3ZlckhpdGJveCA9IGZhbHNlO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHBhcmFtcyA9IHRoaXMuX3BhcmFtcztcblxuICAgIHRoaXMuX2RlQm94LnN0eWxlLmxlZnQgPSBwYXJhbXMueCArICdweCc7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUudG9wID0gcGFyYW1zLnkgKyAncHgnO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLndpZHRoID0gcGFyYW1zLncgKyAncHgnO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLmhlaWdodCA9IHBhcmFtcy5oICsgJ3B4JztcblxufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fb25EcmFnID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHRoaXMuX29uRHJhZ01lID0gZTtcblxuICAgIGlmICghdGhpcy5fcmFmT25EcmFnUmFmSWQpIHtcblxuICAgICAgICB0aGlzLl9yYWZPbkRyYWdSYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9yYWZPbkRyYWcpO1xuICAgIH1cbn07XG5cbnAuX3JhZk9uRHJhZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBlID0gdGhpcy5fb25EcmFnTWU7XG4gICAgdGhpcy5fb25EcmFnTWUgPSB1bmRlZmluZWQ7XG5cbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmT25EcmFnUmFmSWQpO1xuICAgIHRoaXMuX3JhZk9uRHJhZ1JhZklkID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIHBhcmFtcyA9IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgbWQgPSB0aGlzLl9tZFBvcyxcbiAgICAgICAgZmluZ2VyID0gdGhpcy5fZmluZ2VyLFxuICAgICAgICBteCA9IGUuY2xpZW50WCwgXG4gICAgICAgIG15ID0gZS5jbGllbnRZLFxuICAgICAgICBkeCA9IG14IC0gbWQubXgsXG4gICAgICAgIGR5ID0gbXkgLSBtZC5teSxcbiAgICAgICAgY2hhbmdlID0ge307XG5cblxuICAgICAgICBcbiAgICBpZiAoZmluZ2VyID09PSAnbW92ZScpIHtcblxuICAgICAgICBjaGFuZ2UueCA9IG1kLnBhcmFtcy54ICsgZHg7XG4gICAgICAgIGNoYW5nZS55ID0gbWQucGFyYW1zLnkgKyBkeTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMCkgPT09ICcxJykge1xuXG4gICAgICAgIGNoYW5nZS55ID0gbWQucGFyYW1zLnkgKyBkeTtcbiAgICAgICAgY2hhbmdlLmggPSBtZC5wYXJhbXMuaCAtIGR5O1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDEpID09PSAnMScpIHtcblxuICAgICAgICBjaGFuZ2UudyA9IG1kLnBhcmFtcy53ICsgZHg7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMikgPT09ICcxJykge1xuXG4gICAgICAgIGNoYW5nZS5oID0gbWQucGFyYW1zLmggKyBkeTtcbiAgICB9XG5cbiAgICBpZiAoZmluZ2VyLmNoYXJBdCgzKSA9PT0gJzEnKSB7XG5cbiAgICAgICAgY2hhbmdlLnggPSBtZC5wYXJhbXMueCArIGR4O1xuICAgICAgICBjaGFuZ2UudyA9IG1kLnBhcmFtcy53IC0gZHg7XG4gICAgfVxuXG5cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCAndHJhbnNmb3JtJyk7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEZpbmdlciA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgcGFyYW1zID0gdGhpcy5fcGFyYW1zLFxuICAgICAgICBteCA9IGUuY2xpZW50WCxcbiAgICAgICAgbXkgPSBlLmNsaWVudFksXG4gICAgICAgIGRpZmYgPSA2LFxuICAgICAgICBkVG9wID0gTWF0aC5hYnMocGFyYW1zLnkgLSBteSksXG4gICAgICAgIGRSaWdodCA9IE1hdGguYWJzKChwYXJhbXMueCArIHBhcmFtcy53KSAtIG14KSxcbiAgICAgICAgZEJvdHRvbSA9IE1hdGguYWJzKChwYXJhbXMueSArIHBhcmFtcy5oKSAtIG15KSxcbiAgICAgICAgZExlZnQgPSBNYXRoLmFicyhwYXJhbXMueCAtIG14KSxcbiAgICAgICAgdG9wID0gZFRvcCA8IGRpZmYsXG4gICAgICAgIHJpZ2h0ID0gZFJpZ2h0IDwgZGlmZixcbiAgICAgICAgYm90dG9tID0gZEJvdHRvbSA8IGRpZmYsXG4gICAgICAgIGxlZnQgPSBkTGVmdCA8IGRpZmYsXG4gICAgICAgIGluc2lkZSA9IG14ID4gcGFyYW1zLnggJiYgbXggPCBwYXJhbXMueCArIHBhcmFtcy53ICYmIG15ID4gcGFyYW1zLnkgJiYgbXkgPCBwYXJhbXMueSArIHBhcmFtcy5oO1xuXG4gICAgaWYgKHBhcmFtcy53ICogcGFyYW1zLnN4IDwgZGlmZiAqIDIgJiYgaW5zaWRlKSB7XG4gICAgICAgIFxuICAgICAgICBsZWZ0ID0gZmFsc2U7XG4gICAgICAgIHJpZ2h0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5oICogcGFyYW1zLnN5IDwgZGlmZiAqIDIgJiYgaW5zaWRlKSB7XG4gICAgXG4gICAgICAgIHRvcCA9IGZhbHNlO1xuICAgICAgICBib3R0b20gPSBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRvcCB8fCByaWdodCB8fCBib3R0b20gfHwgbGVmdCkge1xuICAgICAgICB0aGlzLl9maW5nZXIgPSAoJzAwMCcgKyAodG9wICogMTAwMCArIHJpZ2h0ICogMTAwICsgYm90dG9tICogMTAgKyBsZWZ0ICogMSkpLnN1YnN0cigtNCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGluc2lkZSkge1xuXG4gICAgICAgIHRoaXMuX2ZpbmdlciA9ICdtb3ZlJztcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuX2Zpbmdlcikge1xuXG4gICAgICAgIHRoaXMuX3NldEN1cnNvcihNT1VTRVNUQVRFU1t0aGlzLl9maW5nZXJdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvcignYXV0bycpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEN1cnNvciA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcblxuICAgIHRoaXMuX2RlQm94LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG59O1xuXG5cblxuXG5cblxuXG5wLmNyZWF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUZ1bGxIaXQpO1xuXG4gICAgdGhpcy5fZGVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUJveC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5fZGVCb3guc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIHRoaXMuX2RlQm94LnN0eWxlLmJvcmRlciA9ICdzb2xpZCAxcHggcmVkJztcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5fb25PdmVySGl0Ym94KTtcbiAgICB0aGlzLl9kZUJveC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25PdXRIaXRib3gpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUJveCk7XG5cblxuICAgIHZhciBvbkZpdHN0TW92ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLl9vbk92ZXJIaXRib3goKTtcbiAgICAgICAgdGhpcy5fZGVCb3gucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25GaXRzdE1vdmUpO1xuICAgIH0uYmluZCh0aGlzKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hlcjsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbnZhciBNT1VTRVNUQVRFUyA9IHtcbiAgICAnbW92ZSc6ICdtb3ZlJyxcbiAgICAncm90YXRlJzogJy13ZWJraXQtZ3JhYicsXG4gICAgJ29yaWdpbic6ICdjcm9zc2hhaXInLFxuICAgICcxMDAwJzogJ25zLXJlc2l6ZScsXG4gICAgJzExMDAnOiAnbmVzdy1yZXNpemUnLFxuICAgICcwMTAwJzogJ2V3LXJlc2l6ZScsXG4gICAgJzAxMTAnOiAnbndzZS1yZXNpemUnLFxuICAgICcwMDEwJzogJ25zLXJlc2l6ZScsXG4gICAgJzAwMTEnOiAnbmVzdy1yZXNpemUnLFxuICAgICcwMDAxJzogJ2V3LXJlc2l6ZScsXG4gICAgJzEwMDEnOiAnbndzZS1yZXNpemUnLFxufTtcblxudmFyIElOSVRfUEFSQU1TID0ge1xuICAgIHR4OiAwLCB0eTogMCxcbiAgICBzeDogMSwgc3k6IDEsXG4gICAgcno6IDAsXG4gICAgb3g6IDAuNSwgb3k6IDAuNSxcbn07XG5cbnZhciBJTklUX0JBU0UgPSB7XG4gICAgeDogMCwgXG4gICAgeTogMCwgXG4gICAgdzogMCwgXG4gICAgaDogMCxcbn07XG5cblxuZnVuY3Rpb24gVHJhbnNmb3JtZXIodHJhbnNoYW5kKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX3RoID0gdHJhbnNoYW5kO1xuICAgIHRoaXMuX3BhcmFtcyA9IF8uY2xvbmUoSU5JVF9QQVJBTVMpO1xuICAgIHRoaXMuX2Jhc2UgPSBfLmNsb25lKElOSVRfQkFTRSk7XG4gICAgdGhpcy5fcG9pbnRzID0gW3t9LCB7fSwge30sIHt9XTtcbiAgICB0aGlzLl9wT3JpZ2luID0ge307XG4gICAgdGhpcy5fb3JpZ2luUmFkaXVzID0gNjtcbiAgICB0aGlzLl9yb3RhdGVGaW5nZXJEaXN0ID0gMTY7XG5cblxuICAgIHRoaXMuX29uRHJhZyA9IHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VVcCA9IHRoaXMuX29uTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vdXNlRG93biA9IHRoaXMuX29uTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmFmT25EcmFnID0gdGhpcy5fcmFmT25EcmFnLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25PdmVySGl0Ym94ID0gdGhpcy5fb25PdmVySGl0Ym94LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25PdXRIaXRib3ggPSB0aGlzLl9vbk91dEhpdGJveC5iaW5kKHRoaXMpO1xufVxuXG5UcmFuc2Zvcm1lci5pZCA9ICd0cmFuc2Zvcm1lcic7XG5cbmluaGVyaXRzKFRyYW5zZm9ybWVyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBUcmFuc2Zvcm1lci5wcm90b3R5cGU7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgXy5leHRlbmQodGhpcy5fcGFyYW1zLCBJTklUX1BBUkFNUywgb3B0LnBhcmFtcyk7XG4gICAgXy5leHRlbmQodGhpcy5fYmFzZSwgSU5JVF9CQVNFLCBvcHQuYmFzZSk7XG4gICAgdGhpcy5fcmVmcmVzaFBvaW50cygpO1xuICAgIHRoaXMuX3JlbmRlckhhbmRsZXIoKTtcbiAgICB0aGlzLl9yZWZyZXNoSGl0Ym94KCk7XG59O1xuXG5wLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzQWN0aXZhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xufTtcblxucC5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB0aGlzLl9kZUhpdGJveC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xufTtcblxuXG5cblxuXG5wLl9vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBpZiAoIXRoaXMuX2Zpbmdlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLl9pc0hhbmRsZSA9IHRydWU7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblxuICAgIHRoaXMuX21kUG9zID0ge1xuICAgICAgICBtOiB0aGlzLl90aC5HMkwoe3g6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZfSksXG4gICAgICAgIHBhcmFtczogXy5jbG9uZURlZXAodGhpcy5fcGFyYW1zKSxcbiAgICAgICAgcG9pbnRzOiBfLmNsb25lRGVlcCh0aGlzLl9wb2ludHMpLFxuICAgICAgICBwT3JpZ2luOiBfLmNsb25lRGVlcCh0aGlzLl9wT3JpZ2luKVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbkRyYWcpO1xufTtcblxucC5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWYgKCF0aGlzLl9pc0hhbmRsZSAmJiB0aGlzLl9pc092ZXJIaXRib3gpIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3NldEZpbmdlcihlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY3Vyc29yRnVuYykge1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3IodGhpcy5fY3Vyc29yRnVuYyhlLmNsaWVudFgsIGUuY2xpZW50WSkpO1xuICAgIH1cbn07IFxuXG5wLl9vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbkRyYWcpO1xuXG4gICAgaWYgKHRoaXMuX3JhZk9uRHJhZ1JhZklkKSB7XG4gICAgICAgIHRoaXMuX3JhZk9uRHJhZygpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLl9pc0hhbmRsZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5fZGVGdWxsSGl0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG59O1xuXG5wLl9vbk92ZXJIaXRib3ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pc092ZXJIaXRib3ggPSB0cnVlO1xufTtcblxucC5fb25PdXRIaXRib3ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pc092ZXJIaXRib3ggPSBmYWxzZTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiYXNlID0gXy5jbG9uZSh0aGlzLl9iYXNlKSwgXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgcCA9IHRoaXMuX3BvaW50cyxcbiAgICAgICAgcG8gPSB0aGlzLl9wT3JpZ2luO1xuXG4gICAgYmFzZS54ICs9IHBhcmFtcy50eDtcbiAgICBiYXNlLnkgKz0gcGFyYW1zLnR5O1xuICAgIFxuICAgIHBvLnggPSBiYXNlLnggKyAoYmFzZS53ICogcGFyYW1zLm94KTtcbiAgICBwby55ID0gYmFzZS55ICsgKGJhc2UuaCAqIHBhcmFtcy5veSk7XG5cbiAgICB2YXIgdG94ID0gYmFzZS54ICsgcGFyYW1zLm94ICogYmFzZS53LFxuICAgICAgICB0b3kgPSBiYXNlLnkgKyBwYXJhbXMub3kgKiBiYXNlLmg7XG5cbiAgICB0KHBbMF0sIGJhc2UueCwgYmFzZS55KTtcbiAgICB0KHBbMV0sIGJhc2UueCArIGJhc2UudywgYmFzZS55KTtcbiAgICB0KHBbMl0sIGJhc2UueCArIGJhc2UudywgYmFzZS55ICsgYmFzZS5oKTtcbiAgICB0KHBbM10sIGJhc2UueCwgYmFzZS55ICsgYmFzZS5oKTtcblxuICAgIGZ1bmN0aW9uIHQocCwgeCwgeSkge1xuXG4gICAgICAgIHZhciBkeCA9ICh4IC0gdG94KSAqIHBhcmFtcy5zeCxcbiAgICAgICAgICAgIGR5ID0gKHkgLSB0b3kpICogcGFyYW1zLnN5LFxuICAgICAgICAgICAgZCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KSxcbiAgICAgICAgICAgIHJhZCA9IE1hdGguYXRhbjIoZHksIGR4KSArIHBhcmFtcy5yejtcblxuICAgICAgICBwLnggPSB0b3ggKyAoZCAqIE1hdGguY29zKHJhZCkpO1xuICAgICAgICBwLnkgPSB0b3kgKyAoZCAqIE1hdGguc2luKHJhZCkpO1xuICAgIH1cbn07XG5cblxuXG5wLl9yZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHAgPSB0aGlzLl9wb2ludHMubWFwKHRoaXMuX3RoLkwyRywgdGhpcy5fdGgpLFxuICAgICAgICBwbyA9IHRoaXMuX3RoLkwyRyh0aGlzLl9wT3JpZ2luKSxcbiAgICAgICAgYyA9IHRoaXMuX2RlQ2FudmFzLFxuICAgICAgICBvciA9IHRoaXMuX29yaWdpblJhZGl1cyxcbiAgICAgICAgY3R4ID0gYy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICBtYXJnaW4gPSA3LFxuICAgICAgICBtaW5YID0gTWF0aC5taW4ocFswXS54LCBwWzFdLngsIHBbMl0ueCwgcFszXS54LCBwby54KSxcbiAgICAgICAgbWF4WCA9IE1hdGgubWF4KHBbMF0ueCwgcFsxXS54LCBwWzJdLngsIHBbM10ueCwgcG8ueCksXG4gICAgICAgIG1pblkgPSBNYXRoLm1pbihwWzBdLnksIHBbMV0ueSwgcFsyXS55LCBwWzNdLnksIHBvLnkpLFxuICAgICAgICBtYXhZID0gTWF0aC5tYXgocFswXS55LCBwWzFdLnksIHBbMl0ueSwgcFszXS55LCBwby55KTtcblxuICAgIGMuc3R5bGUubGVmdCA9IChtaW5YIC0gbWFyZ2luKSArICdweCc7XG4gICAgYy5zdHlsZS50b3AgPSAobWluWSAtIG1hcmdpbikgKyAncHgnO1xuICAgIGMud2lkdGggPSAobWF4WCAtIG1pblgpICsgKG1hcmdpbiAqIDIpO1xuICAgIGMuaGVpZ2h0ID0gKG1heFkgLSBtaW5ZKSArIChtYXJnaW4gKiAyKTtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShtYXJnaW4gLSBtaW5YLCBtYXJnaW4gLSBtaW5ZKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhwWzBdLngsIHBbMF0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzFdLngsIHBbMV0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzJdLngsIHBbMl0ueSk7XG4gICAgY3R4LmxpbmVUbyhwWzNdLngsIHBbM10ueSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgY3R4Lm1vdmVUbyhwby54IC0gb3IsIHBvLnkpO1xuICAgIGN0eC5saW5lVG8ocG8ueCArIG9yLCBwby55KTtcbiAgICBjdHgubW92ZVRvKHBvLngsIHBvLnkgLSBvcik7XG4gICAgY3R4LmxpbmVUbyhwby54LCBwby55ICsgb3IpO1xuICAgIFxuXG4gICAgLy8gY3R4LnNoYWRvd0NvbG9yID0gJyNmMDAnO1xuICAgIC8vIGN0eC5zaGFkb3dCbHVyID0gMztcbiAgICAvLyBjdHguc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgLy8gY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0ZjInO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuXG5cblxuICAgIC8vaGl0Ym94ZXNcblxuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmxlZnQgPSAocG8ueCAtIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QpICsgJ3B4JztcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5zdHlsZS50b3AgPSAocG8ueSAtIHRoaXMuX3JvdGF0ZUZpbmdlckRpc3QpICsgJ3B4JztcblxuICAgIHZhciBoYnAgPSAnJztcbiAgICBoYnAgKz0gcFswXS54ICsgJywnICsgcFswXS55ICsgJyAnO1xuICAgIGhicCArPSBwWzFdLnggKyAnLCcgKyBwWzFdLnkgKyAnICc7XG4gICAgaGJwICs9IHBbMl0ueCArICcsJyArIHBbMl0ueSArICcgJztcbiAgICBoYnAgKz0gcFszXS54ICsgJywnICsgcFszXS55O1xuICAgIHRoaXMuX2RlSGl0Ym94LnNldEF0dHJpYnV0ZSgncG9pbnRzJywgaGJwKTtcbn07XG5cbnAuX3JlZnJlc2hIaXRib3ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyB2YXIgYmFzZSA9IHRoaXMuX2Jhc2UsIFxuICAgIC8vICAgICBwYXJhbXMgPSB0aGlzLl9wYXJhbXMsXG4gICAgLy8gICAgIHBvID0gdGhpcy5fcE9yaWdpbixcbiAgICAvLyAgICAgbGVmdFNjYWxlID0gKGJhc2UudyAqIHBhcmFtcy5veCAqIChwYXJhbXMuc3gtMSkpLFxuICAgIC8vICAgICB0b3BTY2FsZSA9IChiYXNlLmggKiBwYXJhbXMub3kgKiAocGFyYW1zLnN5LTEpKSxcbiAgICAvLyAgICAgdyA9IChiYXNlLncgKiBwYXJhbXMuc3gpLFxuICAgIC8vICAgICBoID0gKGJhc2UuaCAqIHBhcmFtcy5zeSksXG4gICAgLy8gICAgIG94ID0gcmZkICsgKHcgKiBwYXJhbXMub3gpLFxuICAgIC8vICAgICBveSA9IHJmZCArIChoICogcGFyYW1zLm95KTtcblxuXG4gICAgLy8gdGhpcy5fZGVIaXRib3guc3R5bGUubGVmdCA9ICgtcmZkICsgYmFzZS54ICsgcGFyYW1zLnR4IC0gbGVmdFNjYWxlKSArICdweCc7XG4gICAgLy8gdGhpcy5fZGVIaXRib3guc3R5bGUudG9wID0gKC1yZmQgKyBiYXNlLnkgKyBwYXJhbXMudHkgLSB0b3BTY2FsZSkgKyAncHgnO1xuICAgIC8vIHRoaXMuX2RlSGl0Ym94LnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgLy8gdGhpcy5fZGVIaXRib3guc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgLy8gdGhpcy5fZGVIaXRib3guc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gb3ggKyAncHggJyArIG95ICsgJ3B4JztcbiAgICAvLyB0aGlzLl9kZUhpdGJveC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKCcgKyB0aGlzLl9wYXJhbXMucnogKyAncmFkKSc7IFxufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX29uRHJhZyA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB0aGlzLl9vbkRyYWdNZSA9IGU7XG5cbiAgICBpZiAoIXRoaXMuX3JhZk9uRHJhZ1JhZklkKSB7XG5cbiAgICAgICAgdGhpcy5fcmFmT25EcmFnUmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmFmT25EcmFnKTtcbiAgICB9XG59O1xuXG5wLl9yYWZPbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZSA9IHRoaXMuX29uRHJhZ01lO1xuICAgIHRoaXMuX29uRHJhZ01lID0gdW5kZWZpbmVkO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JhZk9uRHJhZ1JhZklkKTtcbiAgICB0aGlzLl9yYWZPbkRyYWdSYWZJZCA9IHVuZGVmaW5lZDtcblxuICAgIHZhciBwYXJhbXMgPSB0aGlzLl9wYXJhbXMsXG4gICAgICAgIGJhc2UgPSB0aGlzLl9iYXNlLFxuICAgICAgICBwT3JpZ2luID0gdGhpcy5fcE9yaWdpbixcbiAgICAgICAgbWQgPSB0aGlzLl9tZFBvcyxcbiAgICAgICAgZmluZ2VyID0gdGhpcy5fZmluZ2VyLFxuICAgICAgICBtID0gdGhpcy5fdGguRzJMKHt4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WX0pLFxuICAgICAgICBkeCA9IG0ueCAtIG1kLm0ueCxcbiAgICAgICAgZHkgPSBtLnkgLSBtZC5tLnksXG4gICAgICAgIGFsdCA9IGUuYWx0S2V5LFxuICAgICAgICBzaGlmdCA9IGUuc2hpZnRLZXksXG4gICAgICAgIGNoYW5nZSA9IHt9O1xuXG4gICAgaWYgKGZpbmdlciA9PT0gJ29yaWdpbicpIHtcbiAgICAgICAgXG4gICAgICAgIHNldE9yaWdpbigpO1xuICAgIH1cbiAgICAgICAgXG4gICAgaWYgKGZpbmdlciA9PT0gJ21vdmUnKSB7XG5cbiAgICAgICAgc2V0VHJhbnNmb3JtKCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaW5nZXIuY2hhckF0KDApID09PSAnMScpIHtcblxuICAgICAgICBzZXRTY2FsZSgtTWF0aC5QSS8yLCAnc3knLCAtMSk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlci5jaGFyQXQoMSkgPT09ICcxJykge1xuXG4gICAgICAgIHNldFNjYWxlKDAsICdzeCcsIDEpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDIpID09PSAnMScpIHtcblxuICAgICAgICBzZXRTY2FsZShNYXRoLlBJLzIsICdzeScsIDEpO1xuICAgIH1cblxuICAgIGlmIChmaW5nZXIuY2hhckF0KDMpID09PSAnMScpIHtcblxuICAgICAgICBzZXRTY2FsZShNYXRoLlBJLCAnc3gnLCAtMSk7XG4gICAgfVxuXG4gICAgaWYgKGZpbmdlciA9PT0gJ3JvdGF0ZScpIHtcblxuICAgICAgICBzZXRSb3RhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChzaGlmdCAmJiAnc3gnIGluIGNoYW5nZSAmJiAnc3knIGluIGNoYW5nZSkge1xuXG4gICAgICAgIGZpeFByb3BvcnRpb24oKTtcbiAgICB9XG5cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCAndHJhbnNmb3JtJyk7XG5cblxuXG5cblxuICAgIGZ1bmN0aW9uIHNldFNjYWxlKHIsIHNOLCB3YXkpIHtcblxuICAgICAgICB2YXIgcmFkID0gciArIG1kLnBhcmFtcy5yeixcbiAgICAgICAgICAgIG1kRGlzdCA9IGRpc3RUb1BvaW50SW5BbmdsZShtZC5wT3JpZ2luLCBtZC5tLCByYWQpLFxuICAgICAgICAgICAgZHJhZ0Rpc3QgPSBkaXN0VG9Qb2ludEluQW5nbGUobWQucE9yaWdpbiwgbSwgcmFkKSxcbiAgICAgICAgICAgIHNjYWxlID0gKGRyYWdEaXN0IC8gbWREaXN0KSAqIG1kLnBhcmFtc1tzTl07XG5cbiAgICAgICAgaWYgKGFsdCkge1xuICAgICAgICAgICAgdmFyIGVzID0gKHNjYWxlIC0gbWQucGFyYW1zW3NOXSkgLyAyLFxuICAgICAgICAgICAgICAgIHROID0gJ3QnICsgc04uY2hhckF0KDEpLFxuICAgICAgICAgICAgICAgIGROID0gc04uY2hhckF0KDEpID09PSAneCcgPyAndycgOiAnaCc7XG5cbiAgICAgICAgICAgIHNjYWxlIC09IGVzO1xuICAgICAgICAgICAgY2hhbmdlW3ROXSA9IHBhcmFtc1t0Tl0gPSBtZC5wYXJhbXNbdE5dICsgYmFzZVtkTl0gKiBlcy8yICogd2F5OyAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlW3NOXSA9IHBhcmFtc1tzTl0gPSBzY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhQcm9wb3J0aW9uKCkge1xuXG4gICAgICAgIHZhciBteCA9IG0ueCAtIHBPcmlnaW4ueCxcbiAgICAgICAgICAgIG15ID0gbS55IC0gcE9yaWdpbi55LFxuICAgICAgICAgICAgbXIgPSBNYXRoLmFicyhyYWREaWZmKHBhcmFtcy5yeiwgTWF0aC5hdGFuMihteSwgbXgpKSksXG4gICAgICAgICAgICBpc1ZlcnRpY2FsID0gbXIgPiBNYXRoLlBJLzQgJiYgbXIgPCBNYXRoLlBJLzQgKiAzLFxuICAgICAgICAgICAgc3B4ID0gcGFyYW1zLnN4IC8gbWQucGFyYW1zLnN4LFxuICAgICAgICAgICAgc3B5ID0gcGFyYW1zLnN5IC8gbWQucGFyYW1zLnN5O1xuXG4gICAgICAgIHNweCAqPSBzcHggPCAwID8gLTEgOiAxO1xuICAgICAgICBzcHkgKj0gc3B5IDwgMCA/IC0xIDogMTtcbiAgICAgICAgXG4gICAgICAgIHZhciBzcCA9IGlzVmVydGljYWwgPyBzcHkgOiBzcHg7XG5cbiAgICAgICAgY2hhbmdlLnN4ID0gcGFyYW1zLnN4ID0gbWQucGFyYW1zLnN4ICogc3A7XG4gICAgICAgIGNoYW5nZS5zeSA9IHBhcmFtcy5zeSA9IG1kLnBhcmFtcy5zeSAqIHNwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFJvdGF0aW9uKCkge1xuXG4gICAgICAgIHZhciBtZHggPSBtZC5tLnggLSBwT3JpZ2luLngsXG4gICAgICAgICAgICBtZHkgPSBtZC5tLnkgLSBwT3JpZ2luLnksXG4gICAgICAgICAgICBtZHIgPSBNYXRoLmF0YW4yKG1keSwgbWR4KSxcbiAgICAgICAgICAgIG14ID0gbS54IC0gcE9yaWdpbi54LFxuICAgICAgICAgICAgbXkgPSBtLnkgLSBwT3JpZ2luLnksXG4gICAgICAgICAgICBtciA9IE1hdGguYXRhbjIobXksIG14KSxcbiAgICAgICAgICAgIHIgPSBtciAtIG1kcjtcblxuICAgICAgICBpZiAoc2hpZnQpIHtcblxuICAgICAgICAgICAgciA9IE1hdGguZmxvb3IociAvIChNYXRoLlBJIC8gMTIpKSAqIChNYXRoLlBJIC8gMTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlLnJ6ID0gcGFyYW1zLnJ6ID0gbWQucGFyYW1zLnJ6ICsgcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7XG5cbiAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeCkgPiBNYXRoLmFicyhkeSkpIHtcblxuICAgICAgICAgICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eCArIGR4O1xuICAgICAgICAgICAgICAgIGNoYW5nZS50eSA9IHBhcmFtcy50eSA9IG1kLnBhcmFtcy50eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eDtcbiAgICAgICAgICAgICAgICBjaGFuZ2UudHkgPSBwYXJhbXMudHkgPSBtZC5wYXJhbXMudHkgKyBkeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eCArIGR4O1xuICAgICAgICAgICAgY2hhbmdlLnR5ID0gcGFyYW1zLnR5ID0gbWQucGFyYW1zLnR5ICsgZHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPcmlnaW4oKSB7XG5cbiAgICAgICAgdmFyIG14ID0gbS54IC0gbWQucE9yaWdpbi54LFxuICAgICAgICAgICAgbXkgPSBtLnkgLSBtZC5wT3JpZ2luLnksXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG14Km14ICsgbXkqbXkpLFxuICAgICAgICAgICAgciA9IE1hdGguYXRhbjIobXksIG14KSAtIHBhcmFtcy5yeixcbiAgICAgICAgICAgIHggPSAoTWF0aC5jb3MocikgKiBkaXN0KSAvIHBhcmFtcy5zeCxcbiAgICAgICAgICAgIHkgPSAoTWF0aC5zaW4ocikgKiBkaXN0KSAvIHBhcmFtcy5zeTtcblxuICAgICAgICB4ID0gcGFyc2VJbnQoeCAqIDEwMDApIC8gMTAwMDsvLz9oYWNrPz9cbiAgICAgICAgeSA9IHBhcnNlSW50KHkgKiAxMDAwKSAvIDEwMDA7XG5cbiAgICAgICAgY2hhbmdlLm94ID0gcGFyYW1zLm94ID0gbWQucGFyYW1zLm94ICsgKHggLyBiYXNlLncpO1xuICAgICAgICBjaGFuZ2Uub3kgPSBwYXJhbXMub3kgPSBtZC5wYXJhbXMub3kgKyAoeSAvIGJhc2UuaCk7XG4gICAgICAgIGNoYW5nZS50eCA9IHBhcmFtcy50eCA9IG1kLnBhcmFtcy50eCArIChteCAtIHgpO1xuICAgICAgICBjaGFuZ2UudHkgPSBwYXJhbXMudHkgPSBtZC5wYXJhbXMudHkgKyAobXkgLSB5KTtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3NldEZpbmdlciA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgYmFzZSA9IHRoaXMuX2Jhc2UsXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgcCA9IHRoaXMuX3BvaW50cyxcbiAgICAgICAgcG8gPSB0aGlzLl9wT3JpZ2luLFxuICAgICAgICBkaWZmID0gMyxcbiAgICAgICAgckRpZmYgPSAxNixcbiAgICAgICAgbSA9IHRoaXMuX3RoLkcyTCh7eDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFl9KSxcbiAgICAgICAgZG94ID0gcG8ueCAtIG0ueCxcbiAgICAgICAgZG95ID0gcG8ueSAtIG0ueSxcbiAgICAgICAgZE9yaWdpbiA9IE1hdGguc3FydChkb3gqZG94ICsgZG95KmRveSksXG4gICAgICAgIGRUb3AgPSBkaXN0VG9TZWdtZW50KG0sIHBbMF0sIHBbMV0pLFxuICAgICAgICBkTGVmdCA9IGRpc3RUb1NlZ21lbnQobSwgcFsxXSwgcFsyXSksXG4gICAgICAgIGRCb3R0b20gPSBkaXN0VG9TZWdtZW50KG0sIHBbMl0sIHBbM10pLFxuICAgICAgICBkUmlnaHQgPSBkaXN0VG9TZWdtZW50KG0sIHBbM10sIHBbMF0pLFxuICAgICAgICB0b3AgPSBkVG9wIDwgZGlmZixcbiAgICAgICAgbGVmdCA9IGRMZWZ0IDwgZGlmZixcbiAgICAgICAgYm90dG9tID0gZEJvdHRvbSA8IGRpZmYsXG4gICAgICAgIHJpZ2h0ID0gZFJpZ2h0IDwgZGlmZixcbiAgICAgICAgaW5zaWRlID0gaXNJbnNpZGUobSwgcCksXG4gICAgICAgIGN1cnNvclNjYWxlO1xuXG4gICAgaWYgKGJhc2UudyAqIHBhcmFtcy5zeCA8IGRpZmYgKiAyICYmIGluc2lkZSkge1xuICAgICAgICBcbiAgICAgICAgbGVmdCA9IGZhbHNlO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChiYXNlLmggKiBwYXJhbXMuc3kgPCBkaWZmICogMiAmJiBpbnNpZGUpIHtcbiAgICBcbiAgICAgICAgdG9wID0gZmFsc2U7XG4gICAgICAgIGJvdHRvbSA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZE9yaWdpbiA8IHRoaXMuX29yaWdpblJhZGl1cykge1xuXG4gICAgICAgIHRoaXMuX2ZpbmdlciA9ICdvcmlnaW4nO1xuICAgIH1cbiAgICBlbHNlIGlmICh0b3AgfHwgcmlnaHQgfHwgYm90dG9tIHx8IGxlZnQpIHtcbiAgICAgICAgLy9UT0RPIGl0cyBzb3VsZCBiZSB0b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gKCcwMDAnICsgKHRvcCAqIDEwMDAgKyBsZWZ0ICogMTAwICsgYm90dG9tICogMTAgKyByaWdodCAqIDEpKS5zdWJzdHIoLTQpO1xuICAgICAgICBjdXJzb3JTY2FsZSA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGluc2lkZSkge1xuXG4gICAgICAgIHRoaXMuX2ZpbmdlciA9ICdtb3ZlJztcbiAgICB9XG4gICAgZWxzZSBpZiAoZFRvcCA8IHJEaWZmIHx8IGRSaWdodCA8IHJEaWZmIHx8IGRCb3R0b20gPCByRGlmZiB8fCBkTGVmdCA8IHJEaWZmIHx8IGRPcmlnaW4gPCByRGlmZikge1xuXG4gICAgICAgIHRoaXMuX2ZpbmdlciA9ICdyb3RhdGUnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fZmluZ2VyID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2ZpbmdlciA9PT0gJ3JvdGF0ZScpIHtcblxuICAgICAgICB0aGlzLl9jdXJzb3JGdW5jID0gdGhpcy5fZ2V0Um90YXRlQ3Vyc29yO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJzb3JTY2FsZSkge1xuXG4gICAgICAgIHRoaXMuX2N1cnNvckZ1bmMgPSB0aGlzLl9nZXRTY2FsZUN1cnNvcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2N1cnNvckZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5fZmluZ2VyKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvcihNT1VTRVNUQVRFU1t0aGlzLl9maW5nZXJdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEN1cnNvcignYXV0bycpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fc2V0Q3Vyc29yID0gZnVuY3Rpb24gKGN1cnNvcikge1xuXG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG59O1xuXG5wLl9nZXRSb3RhdGVDdXJzb3IgPSBmdW5jdGlvbiAobXgsIG15KSB7XG5cbiAgICB2YXIgcG8gPSB0aGlzLl90aC5MMkcodGhpcy5fcE9yaWdpbiksXG4gICAgICAgIHIgPSBNYXRoLmF0YW4yKG15IC0gcG8ueSwgbXggLSBwby54KSAvIE1hdGguUEkgKiAxODA7XG5cbiAgICByZXR1cm4gJ3VybChcXCdkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiA+PHBhdGggdHJhbnNmb3JtPVwicm90YXRlKCcrcisnLCAxNiwgMTYpXCIgZD1cIk0xOC45MDcgMy4yMzhsLTcuNTQtMi4xMDRzOC4zNSAzLjkgOC40MjggMTUuMzY3Yy4wOCAxMS43OTQtNy44MDcgMTQuNDktNy44MDcgMTQuNDlsNy4zNjMtMS43MjVcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMi4wNTRcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz5cXCcpIDE2IDE2LCBhdXRvJztcbn07XG5cbnAuX2dldFNjYWxlQ3Vyc29yID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBGSU5HRVJTID0gWycwMTAwJywgJzAxMTAnLCAnMDAxMCcsICcwMDExJywgJzAwMDEnLCAnMTAwMScsICcxMDAwJywgJzExMDAnXTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHNpZGVEZWcgPSBGSU5HRVJTLmluZGV4T2YodGhpcy5fZmluZ2VyKSAqIDQ1LFxuICAgICAgICAgICAgcG8gPSB0aGlzLl90aC5MMkcodGhpcy5fcE9yaWdpbiksXG4gICAgICAgICAgICBvVHdlYWsgPSB7eDogdGhpcy5fcE9yaWdpbi54ICsgMTIzNCwgeTogdGhpcy5fcE9yaWdpbi55fSxcbiAgICAgICAgICAgIHBvdCA9IHRoaXMuX3RoLkwyRyhvVHdlYWspLFxuICAgICAgICAgICAgYmFzZVJhZCA9IE1hdGguYXRhbjIocG90LnkgLSBwby55LCBwb3QueCAtIHBvLngpICsgdGhpcy5fcGFyYW1zLnJ6LFxuICAgICAgICAgICAgciA9IHNpZGVEZWcgKyAoYmFzZVJhZCAvIE1hdGguUEkgKiAxODApO1xuXG5cbiAgICAgICAgcmV0dXJuICd1cmwoXFwnZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCI+PHBhdGggdHJhbnNmb3JtPVwicm90YXRlKCcrcisnLCAxNiwgMTYpXCIgZD1cIk0yMi40MDYgMTIuNTUybDUuODggNC4xOEgzLjY3N2w1LjcyOCA0LjM2XCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjIuMjU0XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+XFwnKSAxNiAxNiwgYXV0byc7XG4gICAgfTtcbn0oKSk7XG5cblxuXG5cblxuXG5cbnAuY3JlYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHRoaXMuX2RlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fZGVDYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUNhbnZhcyk7XG5cbiAgICB0aGlzLl9kZUZ1bGxIaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHRoaXMuX2RlRnVsbEhpdC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUZ1bGxIaXQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUZ1bGxIaXQpO1xuXG4gICAgdmFyIG9uRmlyc3RNb3ZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX29uT3ZlckhpdGJveCgpO1xuICAgICAgICB0aGlzLl9kZUhpdGJveC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbkZpcnN0TW92ZSk7XG4gICAgICAgIHRoaXMuX2RlT3JpZ2luSGl0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRmlyc3RNb3ZlKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB2YXIgYWRkSGl0Ym94RXZlbnRzID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICAgICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX29uT3ZlckhpdGJveCk7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk91dEhpdGJveCk7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRmlyc3RNb3ZlKTtcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fZGVPcmlnaW5IaXQgPSBhZGRIaXRib3hFdmVudHMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgIHRoaXMuX2RlT3JpZ2luSGl0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZU9yaWdpbkhpdC5zdHlsZS5ib3JkZXIgPSB0aGlzLl9yb3RhdGVGaW5nZXJEaXN0ICsgJ3B4IHNvbGlkIHJnYmEoMjM0LDAsMCwwKSc7XG4gICAgdGhpcy5fZGVPcmlnaW5IaXQuc3R5bGUuYm9yZGVyUmFkaXVzID0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlT3JpZ2luSGl0KTtcblxuICAgIHRoaXMuX3N2Z1Jvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgIHRoaXMuX3N2Z1Jvb3Quc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3N2Z1Jvb3QpO1xuXG4gICAgdGhpcy5fZGVIaXRib3ggPSBhZGRIaXRib3hFdmVudHMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwb2x5Z29uJykpO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLnN0cm9rZVdpZHRoID0gdGhpcy5fcm90YXRlRmluZ2VyRGlzdCAqIDI7XG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuc3Ryb2tlID0gJ3JnYmEoMCwwLDAsMCknO1xuICAgIHRoaXMuX2RlSGl0Ym94LnN0eWxlLmZpbGwgPSAncmdiYSgwLDAsMCwwKSc7XG4gICAgdGhpcy5fZGVIaXRib3guc3R5bGUuc3Ryb2tlTGluZWpvaW4gPSAncm91bmQnO1xuICAgIHRoaXMuX3N2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5fZGVIaXRib3gpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm1lcjtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vdXRpbHMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiByYWREaWZmKHIwLCByMSkge1xuXG4gICAgcjAgJT0gTWF0aC5QSTtcbiAgICByMSAlPSBNYXRoLlBJO1xuICAgIHIwICs9IE1hdGguUEk7XG4gICAgcjEgKz0gTWF0aC5QSTtcblxuICAgIHJldHVybiByMSAtIHIwO1xufVxuXG5mdW5jdGlvbiBzcXIoeCkgeyBcbiAgICByZXR1cm4geCAqIHg7XG59XG5cbmZ1bmN0aW9uIGRpc3QyKHYsIHcpIHsgXG4gICAgcmV0dXJuIHNxcih2LnggLSB3LngpICsgc3FyKHYueSAtIHcueSk7XG59XG5cbmZ1bmN0aW9uIGRpc3RUb1NlZ21lbnRTcXVhcmVkKHAsIHYsIHcpIHtcblxuICAgIHZhciBsMiA9IGRpc3QyKHYsIHcpO1xuXG4gICAgaWYgKGwyID09PSAwKSByZXR1cm4gZGlzdDIocCwgdik7XG5cbiAgICB2YXIgdCA9ICgocC54IC0gdi54KSAqICh3LnggLSB2LngpICsgKHAueSAtIHYueSkgKiAody55IC0gdi55KSkgLyBsMjtcblxuICAgIGlmICh0IDwgMCkgcmV0dXJuIGRpc3QyKHAsIHYpO1xuICAgIGlmICh0ID4gMSkgcmV0dXJuIGRpc3QyKHAsIHcpO1xuXG4gICAgcmV0dXJuIGRpc3QyKHAsIHsgeDogdi54ICsgdCAqICh3LnggLSB2LngpLCB5OiB2LnkgKyB0ICogKHcueSAtIHYueSkgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3RUb1NlZ21lbnQocCwgdiwgdykgeyBcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGRpc3RUb1NlZ21lbnRTcXVhcmVkKHAsIHYsIHcpKTtcbn1cblxuZnVuY3Rpb24gZGlzdFRvUG9pbnRJbkFuZ2xlKHAwLCBwMSwgcmFkKSB7XG5cbiAgICB2YXIgZHggPSBwMS54IC0gcDAueCxcbiAgICAgICAgZHkgPSBwMS55IC0gcDAueSxcbiAgICAgICAgZCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KSxcbiAgICAgICAgbVJhZCA9IE1hdGguYXRhbjIoZHksIGR4KTtcblxuICAgIHJhZCA9IG1SYWQgLSByYWQ7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnZHgnLCBkeCwgJ2R5JywgZHksICdkJywgZCwgJ21SYWQnLCBtUmFkLCAncmFkJywgcmFkLCAncmV0dXJuJywgTWF0aC5jb3MocmFkKSAqIGQpXG5cbiAgICByZXR1cm4gTWF0aC5jb3MocmFkKSAqIGQ7XG5cbn1cblxuZnVuY3Rpb24gaXNJbnNpZGUocG9pbnQsIHZzKSB7XG4gICAgLy8gcmF5LWNhc3RpbmcgYWxnb3JpdGhtIGJhc2VkIG9uXG4gICAgLy8gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuICAgIFxuICAgIHZhciB4ID0gcG9pbnQueCwgeSA9IHBvaW50Lnk7XG4gICAgXG4gICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gdnMubGVuZ3RoIC0gMTsgaSA8IHZzLmxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICB2YXIgeGkgPSB2c1tpXS54LCB5aSA9IHZzW2ldLnk7XG4gICAgICAgIHZhciB4aiA9IHZzW2pdLngsIHlqID0gdnNbal0ueTtcbiAgICAgICAgXG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJlxuICAgICAgICAgICAgKHggPCAoeGogLSB4aSkgKiAoeSAtIHlpKSAvICh5aiAtIHlpKSArIHhpKTtcbiAgICAgICAgaWYgKGludGVyc2VjdCkgaW5zaWRlID0gIWluc2lkZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGluc2lkZTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgbWFrZURyYWdnYWJsZSA9IHJlcXVpcmUoJy4uLy4uL21ha2UtZHJhZ2dhYmxlJyk7XG5cblxudmFyIEJBU0VfUE9JTlRfU1RZTEUgPSB7XG4gICAgYW5jaG9yRmlsbDogJ2RlZXBza3libHVlJyxcbiAgICBhbmNob3JSYWRpdXM6IDMsXG4gICAgaGFuZGxlRmlsbDogJ2RlZXBza3libHVlJyxcbiAgICBoYW5kbGVSYWRpdXM6IDMsXG4gICAgaGFuZGxlTGluZVN0cm9rZTogJ2RlZXBza3libHVlJyxcbiAgICBoYW5kbGVMaW5lU3Ryb2tlV2lkdGg6IDEsXG4gICAgcGF0aFN0cm9rZTogJ2RlZXBza3libHVlJyxcbiAgICBwYXRoU3Ryb2tlV2lkdGg6IDIsXG59O1xuXG4vLyBwb2ludDoge1xuLy8gICAgIGFuY2hvcjoge3g6IDAsIHk6IDB9LFxuLy8gICAgIGhhbmRsZUxlZnQ6IHt4OiAwLCB5OiAwfSxcbi8vICAgICBoYW5kbGVSaWdodDoge3g6IDAsIHk6IDB9LFxuLy8gICAgIGxpbmtlZDogZmFsc2UsXG4vLyAgICAgY2xvc2U6IGZhbHNlLFxuLy8gfVxuXG5cbmZ1bmN0aW9uIEN1cnZlcigpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgdGhpcy5fYnVmZlBvaW50cyA9IFtdO1xuXG4gICAgdGhpcy5fb2Zmc2V0ID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgIH1cblxuICAgIHRoaXMuX2NsaWNrQWN0aW9ucyA9IFtcbiAgICAgICAge3RhcmdldDogJ2FuY2hvcicsIGFjdGlvbjogJ21vdmVfYW5jaG9yJ30sXG4gICAgICAgIHt0YXJnZXQ6ICdhbmNob3InLCBhY3Rpb246ICdyZW1vdmVfcG9pbnQnLCBjdHJsOiB0cnVlfSxcbiAgICAgICAge3RhcmdldDogJ2FuY2hvcicsIGFjdGlvbjogJ3Jlc2V0X2FuY2hvcicsIGFsdDogdHJ1ZX0sXG4gICAgICAgIHt0YXJnZXQ6ICdoYW5kbGUnLCBhY3Rpb246ICdtb3ZlX2hhbmRsZSd9LFxuICAgICAgICB7dGFyZ2V0OiAnaGFuZGxlJywgYWN0aW9uOiAndW5saW5rX2hhbmRsZScsIGFsdDogdHJ1ZX0sXG4gICAgICAgIHt0YXJnZXQ6ICdjdXJ2ZScsIGFjdGlvbjogJ2FkZF9wb2ludCd9LFxuICAgICAgICB7dGFyZ2V0OiAnY3VydmUnLCBhY3Rpb246ICdkcmFnX3BhdGgnLCBjdHJsOiB0cnVlfSxcbiAgICAgICAge3RhcmdldDogJ2N1cnZlJywgYWN0aW9uOiAncm90YXRlX3BhdGgnLCBhbHQ6IHRydWV9LFxuICAgICAgICB7dGFyZ2V0OiAnY3VydmUnLCBhY3Rpb246ICdzY2FsZV9wYXRoJywgY3RybDogdHJ1ZSwgYWx0OiB0cnVlfSxcbiAgICBdO1xufVxuXG5DdXJ2ZXIuaWQgPSAnY3VydmVyJztcblxuaW5oZXJpdHMoQ3VydmVyLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBDdXJ2ZXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDdXJ2ZXI7XG5cbnAuc2V0dXAgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoIXRoaXMuZG9tRWxlbSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdyYXBoaWNzKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRoaXMuX3BvaW50cy5sZW5ndGggPCBvcHQucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9hZGRQb2ludCgpO1xuICAgIH1cbiAgICB3aGlsZSAodGhpcy5fcG9pbnRzLmxlbmd0aCA+IG9wdC5wb2ludHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3NwbGljZVBvaW50KHRoaXMuX3BvaW50cy5sZW5ndGgtMSk7XG4gICAgfVxuXG4gICAgb3B0LnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzcmNQb2ludCwgaWR4KSB7XG5cbiAgICAgICAgdGhpcy5fc2V0dXBQb2ludCh0aGlzLl9wb2ludHNbaWR4XSwgc3JjUG9pbnQpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5fb2Zmc2V0LnggPSAob3B0Lm9mZnNldCAmJiBvcHQub2Zmc2V0LngpIHx8IDA7XG4gICAgdGhpcy5fb2Zmc2V0LnkgPSAob3B0Lm9mZnNldCAmJiBvcHQub2Zmc2V0LnkpIHx8IDA7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xufTtcblxucC5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcbn07XG5cbnAuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5faXNBY3RpdmF0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc0FjdGl2YXRlZCA9IGZhbHNlO1xufTtcblxuXG5cbnAuX2VtaXRDaGFuZ2UgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkZXRhaWxlcykge1xuXG4gICAgICAgIGRldGFpbGVzID0gXy5hc3NpZ24oe1xuICAgICAgICAgICAgdHlwZTogJycsXG4gICAgICAgICAgICBwb2ludDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaWR4OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb2ludHM6IHRoaXMuX3BvaW50cyxcbiAgICAgICAgICAgIGZsYXRQb2ludHM6IGZsYXRQb2ludHMsXG4gICAgICAgICAgICBmbGF0OiBmbGF0LFxuICAgICAgICAgICAgc3ZnUGF0aDogc3ZnUGF0aCxcbiAgICAgICAgICAgIGNsb25lOiBjbG9uZSxcbiAgICAgICAgfSwgZGV0YWlsZXMpO1xuXG4gICAgICAgIGlmIChkZXRhaWxlcy5pZHggPT09IHVuZGVmaW5lZCAmJiBkZXRhaWxlcy5wb2ludCkge1xuXG4gICAgICAgICAgICBkZXRhaWxlcy5pZHggPSB0aGlzLl9wb2ludHMuaW5kZXhPZihkZXRhaWxlcy5wb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIGRldGFpbGVzKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmxhdFBvaW50cygpIHtcblxuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xuXG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQuaGFuZGxlTGVmdC54LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LmhhbmRsZUxlZnQueSBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LmFuY2hvci54LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LmFuY2hvci55IFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQuaGFuZGxlUmlnaHQueCxcbiAgICAgICAgICAgICAgICB5OiBwb2ludC5oYW5kbGVSaWdodC55IFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsYXQgKCkgey8qVE9ETyovfVxuICAgIGZ1bmN0aW9uIHN2Z1BhdGggKCkgey8qVE9ETyovfVxuICAgIGZ1bmN0aW9uIGNsb25lICgpIHsvKlRPRE8qL31cbn0oKSk7XG5cbnAuX2dldENsaWNrQWN0aW9uID0gZnVuY3Rpb24gKHRhcmdldCwgZSkge1xuXG4gICAgdmFyIGN0cmwgPSBlLmN0cmxLZXksXG4gICAgICAgIHNoaWZ0ID0gZS5zaGlmdGxLZXksXG4gICAgICAgIGFsdCA9IGUuYWx0S2V5LFxuICAgICAgICByZXQ7XG5cbiAgICB0aGlzLl9jbGlja0FjdGlvbnMuc29tZShmdW5jdGlvbiAoY2xpY2tBY3Rpb24pIHtcblxuICAgICAgICBpZiAoY2xpY2tBY3Rpb24udGFyZ2V0ID09PSB0YXJnZXQgJiZcbiAgICAgICAgICAgICEhY2xpY2tBY3Rpb24uY3RybCA9PT0gISFjdHJsICYmXG4gICAgICAgICAgICAhIWNsaWNrQWN0aW9uLnNoaWZ0ID09PSAhIXNoaWZ0ICYmXG4gICAgICAgICAgICAhIWNsaWNrQWN0aW9uLmFsdCA9PT0gISFhbHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldCA9IGNsaWNrQWN0aW9uLmFjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG5cblxuXG5cblxuXG5wLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpLCBsLCBwb2ludCwgcG9pbnRCLCBjbWQ7XG5cbiAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fcG9pbnRzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBcbiAgICAgICAgcG9pbnQgPSB0aGlzLl9wb2ludHNbaV07XG5cbiAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBvaW50QiA9IHRoaXMuX3BvaW50c1tpKzFdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjbWQgPSAnTScgKyBwb2ludC5hbmNob3IueCArICcsJyArIHBvaW50LmFuY2hvci55ICsgJyAnO1xuICAgICAgICAgICAgY21kICs9ICdDJyArIHBvaW50LmhhbmRsZVJpZ2h0LnggKyAnLCcgKyBwb2ludC5oYW5kbGVSaWdodC55ICsgJyAnO1xuICAgICAgICAgICAgY21kICs9IHBvaW50Qi5oYW5kbGVMZWZ0LnggKyAnLCcgKyBwb2ludEIuaGFuZGxlTGVmdC55ICsgJyAnO1xuICAgICAgICAgICAgY21kICs9IHBvaW50Qi5hbmNob3IueCArICcsJyArIHBvaW50Qi5hbmNob3IueSArICcgJztcbiAgICAgICAgICAgIHBvaW50Ll9kZS5zZXRBdHRyaWJ1dGUoJ2QnLCBjbWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZUNpcmNsZShwb2ludC5hbmNob3IpO1xuXG4gICAgICAgIG1vdmVDaXJjbGUocG9pbnQuaGFuZGxlTGVmdCk7XG4gICAgICAgIG1vdmVMaW5lKHBvaW50LmhhbmRsZUxlZnQsIHBvaW50LmFuY2hvcik7XG5cbiAgICAgICAgbW92ZUNpcmNsZShwb2ludC5oYW5kbGVSaWdodCk7XG4gICAgICAgIG1vdmVMaW5lKHBvaW50LmhhbmRsZVJpZ2h0LCBwb2ludC5hbmNob3IpO1xuXG4gICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5fb2Zmc2V0LnggKyAncHgnO1xuICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUudG9wID0gdGhpcy5fb2Zmc2V0LnkgKyAncHgnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVDaXJjbGUocHQpIHtcblxuICAgICAgICBwdC5fZGUuc2V0QXR0cmlidXRlKCdjeCcsIHB0LngpO1xuICAgICAgICBwdC5fZGUuc2V0QXR0cmlidXRlKCdjeScsIHB0LnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmVMaW5lKHB0MSwgcHQyKSB7XG5cbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKCd4MScsIHB0MS54KTtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKCd5MScsIHB0MS55KTtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKCd4MicsIHB0Mi54KTtcbiAgICAgICAgcHQxLl9kZUxpbmUuc2V0QXR0cmlidXRlKCd5MicsIHB0Mi55KTtcbiAgICB9XG59O1xuXG5wLl9hZGRQb2ludCA9IGZ1bmN0aW9uIChpZHgpIHtcblxuICAgIHZhciB0aGF0ID0gdGhpcywgXG4gICAgICAgIHBvaW50ID0ge1xuICAgICAgICAgICAgYW5jaG9yOiB7eDogMCwgeTogMH0sXG4gICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogMCwgeTogMH0sXG4gICAgICAgICAgICBoYW5kbGVSaWdodDoge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICAgICAgbGlua2VkOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAvL1RPRE8gdXNlIF9idWZmUG9pbnRzW11cbiAgICB0aGlzLl9wb2ludHMuc3BsaWNlKGlkeCwgMCwgcG9pbnQpO1xuXG4gICAgY3JlYXRlUGF0aCgpO1xuICAgIGNyZWF0ZUFuY2hvcigpO1xuICAgIGNyZWF0ZUhhbmRsZShwb2ludC5oYW5kbGVMZWZ0KTtcbiAgICBjcmVhdGVIYW5kbGUocG9pbnQuaGFuZGxlUmlnaHQpO1xuXG4gICAgcmV0dXJuIHBvaW50O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlUGF0aCgpIHtcblxuICAgICAgICBwb2ludC5fZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgICAgcG9pbnQuX2RlLnN0eWxlLmZpbGwgPSAnbm9uZSc7XG4gICAgICAgIHBvaW50Ll9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICB0aGF0Ll9kZVBhdGhDb250LmFwcGVuZENoaWxkKHBvaW50Ll9kZSk7XG5cbiAgICAgICAgcG9pbnQuX2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLl9wb2ludHMuaW5kZXhPZihwb2ludCksXG4gICAgICAgICAgICAgICAgc3JjUG9pbnQgPSB0aGlzLl9zcGxpdEN1cnZlKHRoaXMuX3BvaW50c1tpZHhdLCB0aGlzLl9wb2ludHNbaWR4KzFdLCBlLngsIGUueSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdQb2ludCA9IHRoaXMuX2FkZFBvaW50KGlkeCsxKTtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwUG9pbnQobmV3UG9pbnQsIHNyY1BvaW50KTtcblxuICAgICAgICAgICAgdGhpcy5fZW1pdENoYW5nZSh7dHlwZTogJ2FkZCcsIHBvaW50OiBuZXdQb2ludH0pO1xuXG4gICAgICAgICAgICBuZXdQb2ludC5hbmNob3IuX2RyYWdnZXIuZW1pdERvd24oZSk7XG4gICAgICAgIH0uYmluZCh0aGF0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQW5jaG9yKCkge1xuXG4gICAgICAgIHBvaW50LmFuY2hvci5fZGUgPSBjcmVhdGVDaXJjbGUoKTtcbiAgICAgICAgdGhhdC5fZGVBbmNob3JDb250LmFwcGVuZENoaWxkKHBvaW50LmFuY2hvci5fZGUpO1xuXG4gICAgICAgIHBvaW50LmFuY2hvci5fZHJhZ2dlciA9IG1ha2VEcmFnZ2FibGUoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IHBvaW50LmFuY2hvci5fZGUsXG4gICAgICAgICAgICB0aGlzQXJnOiB0aGF0LFxuICAgICAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuX2dldENsaWNrQWN0aW9uKCdhbmNob3InLCBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdyZXNldF9hbmNob3InKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlTGVmdC54ID0gcG9pbnQuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IHBvaW50LmFuY2hvci55O1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gcG9pbnQuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZVJpZ2h0LnkgPSBwb2ludC5hbmNob3IueTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQubGlua2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGUgPSBPYmplY3QuY3JlYXRlKGUpO1xuICAgICAgICAgICAgICAgICAgICBlLnN5bmNyb25TaXplID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHt0eXBlOiAnZWRpdCcsIHBvaW50OiBwb2ludH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQuX2RyYWdnZXIuZW1pdERvd24oZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICdyZW1vdmVfcG9pbnQnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuX3BvaW50cy5pbmRleE9mKHBvaW50KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGxpY2VQb2ludChpZHgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2Uoe3R5cGU6ICdyZW1vdmUnLCBpZHg6IGlkeH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBheFN0YXJ0OiBwb2ludC5hbmNob3IueCxcbiAgICAgICAgICAgICAgICAgICAgYXlTdGFydDogcG9pbnQuYW5jaG9yLnksXG4gICAgICAgICAgICAgICAgICAgIGhseFN0YXJ0OiBwb2ludC5oYW5kbGVMZWZ0LngsXG4gICAgICAgICAgICAgICAgICAgIGhseVN0YXJ0OiBwb2ludC5oYW5kbGVMZWZ0LnksXG4gICAgICAgICAgICAgICAgICAgIGhyeFN0YXJ0OiBwb2ludC5oYW5kbGVSaWdodC54LFxuICAgICAgICAgICAgICAgICAgICBocnlTdGFydDogcG9pbnQuaGFuZGxlUmlnaHQueSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKG1kKSB7XG5cbiAgICAgICAgICAgICAgICBwb2ludC5hbmNob3IueCA9IG1kLmF4U3RhcnQgKyBtZC5keDtcbiAgICAgICAgICAgICAgICBwb2ludC5hbmNob3IueSA9IG1kLmF5U3RhcnQgKyBtZC5keTtcbiAgICAgICAgICAgICAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBtZC5obHhTdGFydCArIG1kLmR4O1xuICAgICAgICAgICAgICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IG1kLmhseVN0YXJ0ICsgbWQuZHk7XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlUmlnaHQueCA9IG1kLmhyeFN0YXJ0ICsgbWQuZHg7XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFuZGxlUmlnaHQueSA9IG1kLmhyeVN0YXJ0ICsgbWQuZHk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHt0eXBlOiAnZWRpdCcsIHBvaW50OiBwb2ludH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhhbmRsZShoYW5kbGUpIHtcblxuICAgICAgICB2YXIgb3Bwb3NpdGVIYW5kbGUgPSBwb2ludC5oYW5kbGVMZWZ0ID09PSBoYW5kbGUgPyBwb2ludC5oYW5kbGVSaWdodCA6IHBvaW50LmhhbmRsZUxlZnQ7XG5cbiAgICAgICAgaGFuZGxlLl9kZSA9IGNyZWF0ZUNpcmNsZSgpO1xuICAgICAgICB0aGF0Ll9kZUhhbmRsZUNvbnQuYXBwZW5kQ2hpbGQoaGFuZGxlLl9kZSk7XG5cbiAgICAgICAgaGFuZGxlLl9kZUxpbmUgPSBjcmVhdGVMaW5lKCk7XG4gICAgICAgIHRoYXQuX2RlSGFuZGxlQ29udC5hcHBlbmRDaGlsZChoYW5kbGUuX2RlTGluZSk7XG5cbiAgICAgICAgaGFuZGxlLl9kcmFnZ2VyID0gbWFrZURyYWdnYWJsZSh7XG4gICAgICAgICAgICBkZVRhcmdldDogaGFuZGxlLl9kZSxcbiAgICAgICAgICAgIHRoaXNBcmc6IHRoYXQsXG4gICAgICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5fZ2V0Q2xpY2tBY3Rpb24oJ2hhbmRsZScsIGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghZS5zeW5jcm9uU2l6ZSAmJiBhY3Rpb24gPT09ICd1bmxpbmtfaGFuZGxlJyAmJiBwb2ludC5saW5rZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICBwb2ludC5saW5rZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHt0eXBlOiAnZWRpdCcsIHBvaW50OiBwb2ludH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB4U3RhcnQ6IGhhbmRsZS54LFxuICAgICAgICAgICAgICAgICAgICB5U3RhcnQ6IGhhbmRsZS55LFxuICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUxlbmd0aDogZGlzdChvcHBvc2l0ZUhhbmRsZSwgcG9pbnQuYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgc3luY3JvblNpemU6IGUuc3luY3JvblNpemUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKG1kKSB7XG5cbiAgICAgICAgICAgICAgICBoYW5kbGUueCA9IG1kLnhTdGFydCArIG1kLmR4O1xuICAgICAgICAgICAgICAgIGhhbmRsZS55ID0gbWQueVN0YXJ0ICsgbWQuZHk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQubGlua2VkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gaGFuZGxlLnggLSBwb2ludC5hbmNob3IueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gaGFuZGxlLnkgLSBwb2ludC5hbmNob3IueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZCA9IE1hdGguYXRhbjIoZHksIGR4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IG1kLnN5bmNyb25TaXplID8gZGlzdChoYW5kbGUsIHBvaW50LmFuY2hvcikgOiBtZC5vcHBvc2l0ZUxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBvcHBvc2l0ZUhhbmRsZS54ID0gcG9pbnQuYW5jaG9yLnggLSAobGVuZ3RoICogTWF0aC5jb3MocmFkKSk7XG4gICAgICAgICAgICAgICAgICAgIG9wcG9zaXRlSGFuZGxlLnkgPSBwb2ludC5hbmNob3IueSAtIChsZW5ndGggKiBNYXRoLnNpbihyYWQpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHt0eXBlOiAnZWRpdCcsIHBvaW50OiBwb2ludH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNpcmNsZShjb2xvcikge1xuXG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG4gICAgICAgIGRlLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblxuICAgICAgICByZXR1cm4gZGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTGluZShjb2xvcikge1xuXG4gICAgICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnbGluZScpO1xuICAgICAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXN0KHBhLCBwYikge1xuXG4gICAgICAgIHZhciBveCA9IHBhLnggLSBwYi54LFxuICAgICAgICAgICAgb3kgPSBwYS55IC0gcGIueTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQob3gqb3ggKyBveSpveSk7XG4gICAgfVxufTtcblxucC5fc2V0dXBQb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgc3JjKSB7XG5cbiAgICBwb2ludC5hbmNob3IueCA9IHNyYy5hbmNob3IueDtcbiAgICBwb2ludC5hbmNob3IueSA9IHNyYy5hbmNob3IueTtcbiAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBzcmMuaGFuZGxlTGVmdC54O1xuICAgIHBvaW50LmhhbmRsZUxlZnQueSA9IHNyYy5oYW5kbGVMZWZ0Lnk7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQueCA9IHNyYy5oYW5kbGVSaWdodC54O1xuICAgIHBvaW50LmhhbmRsZVJpZ2h0LnkgPSBzcmMuaGFuZGxlUmlnaHQueTtcbiAgICBwb2ludC5saW5rZWQgPSAhIXNyYy5saW5rZWQ7XG4gICAgXG4gICAgdmFyIHMgPSBfLmRlZmF1bHRzKHBvaW50LnN0eWxlLCBzcmMuc3R5bGUsIEJBU0VfUE9JTlRfU1RZTEUpO1xuXG4gICAgcG9pbnQuX2RlLnN0eWxlLnN0cm9rZSA9IHMucGF0aFN0cm9rZTtcbiAgICBwb2ludC5fZGUuc3R5bGUuc3Ryb2tlV2lkdGggPSBzLnBhdGhTdHJva2VXaWR0aDtcblxuICAgIHBvaW50LmFuY2hvci5fZGUuc2V0QXR0cmlidXRlKCdyJywgcy5hbmNob3JSYWRpdXMpO1xuICAgIHBvaW50LmFuY2hvci5fZGUuc3R5bGUuZmlsbCA9IHMuYW5jaG9yRmlsbDtcblxuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlTGluZS5zdHlsZS5zdHJva2UgPSBzLmhhbmRsZUxpbmVTdHJva2U7XG4gICAgcG9pbnQuaGFuZGxlTGVmdC5fZGVMaW5lLnN0eWxlLnN0cm9rZVdpZHRoID0gcy5oYW5kbGVMaW5lU3Ryb2tlV2lkdGg7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlTGluZS5zdHlsZS5zdHJva2UgPSBzLmhhbmRsZUxpbmVTdHJva2U7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlTGluZS5zdHlsZS5zdHJva2VXaWR0aCA9IHMuaGFuZGxlTGluZVN0cm9rZVdpZHRoO1xuXG4gICAgcG9pbnQuaGFuZGxlTGVmdC5fZGUuc2V0QXR0cmlidXRlKCdyJywgcy5oYW5kbGVSYWRpdXMpO1xuICAgIHBvaW50LmhhbmRsZUxlZnQuX2RlLnN0eWxlLmZpbGwgPSBzLmhhbmRsZUZpbGw7XG4gICAgcG9pbnQuaGFuZGxlUmlnaHQuX2RlLnNldEF0dHJpYnV0ZSgncicsIHMuaGFuZGxlUmFkaXVzKTtcbiAgICBwb2ludC5oYW5kbGVSaWdodC5fZGUuc3R5bGUuZmlsbCA9IHMuaGFuZGxlRmlsbDtcblxuICAgIHJldHVybiBwb2ludDtcbn07XG5cblxucC5fc3BsaWNlUG9pbnQgPSBmdW5jdGlvbiAoaWR4KSB7XG5cbiAgICBpZiAodHlwZW9mKGlkeCkgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgaWR4ID0gdGhpcy5fcG9pbnRzLmluZGV4T2YoaWR4KTtcbiAgICB9XG5cbiAgICB2YXIgcmVtb3ZlZFBvaW50ID0gdGhpcy5fcG9pbnRzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgdGhpcy5fZW1pdENoYW5nZSh7dHlwZTogJ3NwbGljZScsIGlkeDogaWR4fSk7XG4gICAgXG4gICAgdGhpcy5yZW5kZXIoKTtcblxuICAgIHJlbW92ZWRQb2ludC5fZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuX2RlKTtcbiAgICByZW1vdmVkUG9pbnQuYW5jaG9yLl9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJlbW92ZWRQb2ludC5hbmNob3IuX2RlKTtcbiAgICByZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGUpO1xuICAgIHJlbW92ZWRQb2ludC5oYW5kbGVMZWZ0Ll9kZUxpbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlTGVmdC5fZGVMaW5lKTtcbiAgICByZW1vdmVkUG9pbnQuaGFuZGxlUmlnaHQuX2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZSk7XG4gICAgcmVtb3ZlZFBvaW50LmhhbmRsZVJpZ2h0Ll9kZUxpbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVkUG9pbnQuaGFuZGxlUmlnaHQuX2RlTGluZSk7XG5cbiAgICB0aGlzLl9idWZmUG9pbnRzLnB1c2gocmVtb3ZlZFBvaW50KTtcbn07XG5cbnAuX3NwbGl0Q3VydmUgPSBmdW5jdGlvbiAocGEsIHBiLCB4LCB5KSB7XG5cbiAgICB2YXIgY3VydmUgPSBbXG4gICAgICAgICAgICBwYS5hbmNob3IueCwgcGEuYW5jaG9yLnksXG4gICAgICAgICAgICBwYS5oYW5kbGVSaWdodC54LCBwYS5oYW5kbGVSaWdodC55LFxuICAgICAgICAgICAgcGIuaGFuZGxlTGVmdC54LCBwYi5oYW5kbGVMZWZ0LnksXG4gICAgICAgICAgICBwYi5hbmNob3IueCwgcGIuYW5jaG9yLnlcbiAgICAgICAgXSxcbiAgICAgICAgbVBvcyA9IHt4OiB4LCB5OiB5fSxcbiAgICAgICAgcCA9IHtcbiAgICAgICAgICAgIGFuY2hvcjoge3g6IDAsIHk6IDB9LC8vanNCZXppZXIucG9pbnRPbkN1cnZlKGN1cnZlLCBsb2MpLFxuICAgICAgICAgICAgaGFuZGxlTGVmdDoge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgIGxpbmtlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgcG0gPSB7fSxcbiAgICAgICAgZGwgPSBkaXN0KHBhLmFuY2hvciwgcGEuaGFuZGxlUmlnaHQpICsgXG4gICAgICAgICAgICBkaXN0KHBhLmhhbmRsZVJpZ2h0LCBwYi5oYW5kbGVMZWZ0KSArIFxuICAgICAgICAgICAgZGlzdChwYi5oYW5kbGVMZWZ0LCBwYi5hbmNob3IpLFxuICAgICAgICBtaW5EaXN0LCBwb3MsIGxvYztcblxuICAgIGZvciAodmFyIGRpID0gMDsgZGkgPCBkbDsgKytkaSkge1xuXG4gICAgICAgIHZhciBfbG9jID0gZGkvZGwsXG4gICAgICAgICAgICBfcG9zID0gY2FsY1BvcyhfbG9jKSxcbiAgICAgICAgICAgIF9kaXN0ID0gZGlzdChfcG9zLCBtUG9zKTtcblxuICAgICAgICBpZiAobWluRGlzdCA9PT0gdW5kZWZpbmVkIHx8IG1pbkRpc3QgPiBfZGlzdCkge1xuXG4gICAgICAgICAgICBtaW5EaXN0ID0gX2Rpc3Q7XG4gICAgICAgICAgICBsb2MgPSBfbG9jO1xuICAgICAgICAgICAgcG9zID0gX3BvcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwLmFuY2hvciA9IHBvcztcblxuICAgIHBtLnggPSBwYS5oYW5kbGVSaWdodC54ICsgKHBiLmhhbmRsZUxlZnQueCAtIHBhLmhhbmRsZVJpZ2h0LngpICogbG9jO1xuICAgIHBtLnkgPSBwYS5oYW5kbGVSaWdodC55ICsgKHBiLmhhbmRsZUxlZnQueSAtIHBhLmhhbmRsZVJpZ2h0LnkpICogbG9jO1xuICAgIHBhLmhhbmRsZVJpZ2h0LnggPSBwYS5hbmNob3IueCArIChwYS5oYW5kbGVSaWdodC54IC0gcGEuYW5jaG9yLngpICogbG9jO1xuICAgIHBhLmhhbmRsZVJpZ2h0LnkgPSBwYS5hbmNob3IueSArIChwYS5oYW5kbGVSaWdodC55IC0gcGEuYW5jaG9yLnkpICogbG9jO1xuICAgIHBiLmhhbmRsZUxlZnQueCA9IHBiLmhhbmRsZUxlZnQueCArIChwYi5hbmNob3IueCAtIHBiLmhhbmRsZUxlZnQueCkgKiBsb2M7XG4gICAgcGIuaGFuZGxlTGVmdC55ID0gcGIuaGFuZGxlTGVmdC55ICsgKHBiLmFuY2hvci55IC0gcGIuaGFuZGxlTGVmdC55KSAqIGxvYztcbiAgICBwLmhhbmRsZUxlZnQueCA9IHBhLmhhbmRsZVJpZ2h0LnggKyAocG0ueCAtIHBhLmhhbmRsZVJpZ2h0LngpICogbG9jO1xuICAgIHAuaGFuZGxlTGVmdC55ID0gcGEuaGFuZGxlUmlnaHQueSArIChwbS55IC0gcGEuaGFuZGxlUmlnaHQueSkgKiBsb2M7XG4gICAgcC5oYW5kbGVSaWdodC54ID0gcG0ueCArIChwYi5oYW5kbGVMZWZ0LnggLSBwbS54KSAqIGxvYztcbiAgICBwLmhhbmRsZVJpZ2h0LnkgPSBwbS55ICsgKHBiLmhhbmRsZUxlZnQueSAtIHBtLnkpICogbG9jO1xuXG4gICAgZnVuY3Rpb24gY2FsY1Bvcyhwb3MpIHtcblxuICAgICAgICB2YXIgcCA9IGN1cnZlLnNsaWNlKCksXG4gICAgICAgICAgICBsID0gcC5sZW5ndGggLyAyO1xuXG4gICAgICAgIHdoaWxlICgtLWwgPiAwKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY291bnQoaSoyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7eDogcFswXSwgeTogcFsxXX07XG5cbiAgICAgICAgZnVuY3Rpb24gY291bnQoaSkge1xuXG4gICAgICAgICAgICBwW2krMF0gPSBwW2krMF0gKyAocFtpKzJdIC0gcFtpKzBdKSAqIHBvcztcbiAgICAgICAgICAgIHBbaSsxXSA9IHBbaSsxXSArIChwW2krM10gLSBwW2krMV0pICogcG9zO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRpc3QocGEsIHBiKSB7XG5cbiAgICAgICAgdmFyIGR4ID0gcGIueCAtIHBhLngsXG4gICAgICAgICAgICBkeSA9IHBiLnkgLSBwYS55O1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHA7XG59O1xuXG5cbnAuY3JlYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuXG4gICAgdGhpcy5fZGVQYXRoQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVBhdGhDb250KTtcblxuICAgIHRoaXMuX2RlSGFuZGxlQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUhhbmRsZUNvbnQpO1xuXG4gICAgdGhpcy5fZGVBbmNob3JDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlQW5jaG9yQ29udCk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIG1kLCBpc092ZXIsIGlzRHJhZywgXG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQsIHdhaXRpbmdNb3ZlUmFmO1xuXG4gICAgaWYgKG9wdC5kZVRhcmdldCkge1xuICAgICAgICBcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG93bik7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvbkVudGVyKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbkxlYXZlKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBlbWl0RG93bjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgb25Eb3duKGUpO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7fVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRG93bihlKSB7XG5cbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpc0RyYWcgPSB0cnVlO1xuXG4gICAgICAgIHZhciBjdXN0b20gPSBjYWxsKCdvbkRvd24nLCBbZV0pO1xuXG4gICAgICAgIGlmIChjdXN0b20gPT09IGZhbHNlKSB7Ly9wcmV2ZW50IGRyYWdnaW5nXG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1kID0gY3VzdG9tIHx8IHt9O1xuXG4gICAgICAgIG1kLm14ID0gZS5jbGllbnRYO1xuICAgICAgICBtZC5teSA9IGUuY2xpZW50WTtcbiAgICAgICAgbWQuZHggPSAwO1xuICAgICAgICBtZC5keSA9IDA7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25VcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3ZlKGUpIHtcblxuICAgICAgICB3YWl0aW5nTW92ZUV2ZW50ID0gZTtcblxuICAgICAgICBpZiAoIXdhaXRpbmdNb3ZlUmFmKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHdhaXRpbmdNb3ZlUmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyYWZPbk1vdmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFmT25Nb3ZlKCkge1xuXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh3YWl0aW5nTW92ZVJhZik7XG5cbiAgICAgICAgdmFyIHdtZSA9IHdhaXRpbmdNb3ZlRXZlbnQ7XG4gICAgICAgIHdhaXRpbmdNb3ZlUmFmID0gdW5kZWZpbmVkO1xuICAgICAgICB3YWl0aW5nTW92ZUV2ZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBteCA9IHdtZS5jbGllbnRYLFxuICAgICAgICAgICAgbXkgPSB3bWUuY2xpZW50WTtcblxuICAgICAgICBtZC5keCA9IG14IC0gbWQubXg7XG4gICAgICAgIG1kLmR5ID0gbXkgLSBtZC5teTtcblxuICAgICAgICBjYWxsKFsnb25Nb3ZlJywgJ29uRHJhZyddLCBbbWQsIG14LCBteV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVXAoZSkge1xuXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uVXApO1xuXG4gICAgICAgIGlmICh3YWl0aW5nTW92ZUV2ZW50KSB7XG4gICAgICAgICAgICByYWZPbk1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzRHJhZyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWlzT3Zlcikge1xuICAgICAgICAgICAgb25MZWF2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbCgnb25VcCcsIFttZCwgZS5jbGllbnRYLCBlLmNsaWVudFksIGVdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkVudGVyKCkge1xuXG4gICAgICAgIGlzT3ZlciA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFpc0RyYWcpIHtcbiAgICAgICAgICAgIGNhbGwoJ29uRW50ZXInKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTGVhdmUoKSB7XG5cbiAgICAgICAgaXNPdmVyID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzRHJhZykge1xuICAgICAgICAgICAgY2FsbCgnb25MZWF2ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbChuYW1lLCBhcmdzKSB7XG5cbiAgICAgICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuXG4gICAgICAgICAgICBuYW1lLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgICAgICAgICAgICAgIGNhbGwobmFtZSwgYXJncyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAobmFtZSBpbiBvcHQpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG9wdFtuYW1lXS5hcHBseShvcHQudGhpc0FyZywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59OyIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOS0yMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRS50eHQgb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cbmV4cG9ydHMuU291cmNlTWFwR2VuZXJhdG9yID0gcmVxdWlyZSgnLi9zb3VyY2UtbWFwL3NvdXJjZS1tYXAtZ2VuZXJhdG9yJykuU291cmNlTWFwR2VuZXJhdG9yO1xuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IHJlcXVpcmUoJy4vc291cmNlLW1hcC9zb3VyY2UtbWFwLWNvbnN1bWVyJykuU291cmNlTWFwQ29uc3VtZXI7XG5leHBvcnRzLlNvdXJjZU5vZGUgPSByZXF1aXJlKCcuL3NvdXJjZS1tYXAvc291cmNlLW5vZGUnKS5Tb3VyY2VOb2RlO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICB2YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG4gIC8qKlxuICAgKiBBIGRhdGEgc3RydWN0dXJlIHdoaWNoIGlzIGEgY29tYmluYXRpb24gb2YgYW4gYXJyYXkgYW5kIGEgc2V0LiBBZGRpbmcgYSBuZXdcbiAgICogbWVtYmVyIGlzIE8oMSksIHRlc3RpbmcgZm9yIG1lbWJlcnNoaXAgaXMgTygxKSwgYW5kIGZpbmRpbmcgdGhlIGluZGV4IG9mIGFuXG4gICAqIGVsZW1lbnQgaXMgTygxKS4gUmVtb3ZpbmcgZWxlbWVudHMgZnJvbSB0aGUgc2V0IGlzIG5vdCBzdXBwb3J0ZWQuIE9ubHlcbiAgICogc3RyaW5ncyBhcmUgc3VwcG9ydGVkIGZvciBtZW1iZXJzaGlwLlxuICAgKi9cbiAgZnVuY3Rpb24gQXJyYXlTZXQoKSB7XG4gICAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgICB0aGlzLl9zZXQgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kIGZvciBjcmVhdGluZyBBcnJheVNldCBpbnN0YW5jZXMgZnJvbSBhbiBleGlzdGluZyBhcnJheS5cbiAgICovXG4gIEFycmF5U2V0LmZyb21BcnJheSA9IGZ1bmN0aW9uIEFycmF5U2V0X2Zyb21BcnJheShhQXJyYXksIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICB2YXIgc2V0ID0gbmV3IEFycmF5U2V0KCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgc2V0LmFkZChhQXJyYXlbaV0sIGFBbGxvd0R1cGxpY2F0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gc2V0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgdGhlIGdpdmVuIHN0cmluZyB0byB0aGlzIHNldC5cbiAgICpcbiAgICogQHBhcmFtIFN0cmluZyBhU3RyXG4gICAqL1xuICBBcnJheVNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gQXJyYXlTZXRfYWRkKGFTdHIsIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICB2YXIgaXNEdXBsaWNhdGUgPSB0aGlzLmhhcyhhU3RyKTtcbiAgICB2YXIgaWR4ID0gdGhpcy5fYXJyYXkubGVuZ3RoO1xuICAgIGlmICghaXNEdXBsaWNhdGUgfHwgYUFsbG93RHVwbGljYXRlcykge1xuICAgICAgdGhpcy5fYXJyYXkucHVzaChhU3RyKTtcbiAgICB9XG4gICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgdGhpcy5fc2V0W3V0aWwudG9TZXRTdHJpbmcoYVN0cildID0gaWR4O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSXMgdGhlIGdpdmVuIHN0cmluZyBhIG1lbWJlciBvZiB0aGlzIHNldD9cbiAgICpcbiAgICogQHBhcmFtIFN0cmluZyBhU3RyXG4gICAqL1xuICBBcnJheVNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gQXJyYXlTZXRfaGFzKGFTdHIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3NldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwudG9TZXRTdHJpbmcoYVN0cikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGF0IGlzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gc3RyaW5nIGluIHRoZSBhcnJheT9cbiAgICpcbiAgICogQHBhcmFtIFN0cmluZyBhU3RyXG4gICAqL1xuICBBcnJheVNldC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIEFycmF5U2V0X2luZGV4T2YoYVN0cikge1xuICAgIGlmICh0aGlzLmhhcyhhU3RyKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldFt1dGlsLnRvU2V0U3RyaW5nKGFTdHIpXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhU3RyICsgJ1wiIGlzIG5vdCBpbiB0aGUgc2V0LicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGF0IGlzIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBpbmRleD9cbiAgICpcbiAgICogQHBhcmFtIE51bWJlciBhSWR4XG4gICAqL1xuICBBcnJheVNldC5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiBBcnJheVNldF9hdChhSWR4KSB7XG4gICAgaWYgKGFJZHggPj0gMCAmJiBhSWR4IDwgdGhpcy5fYXJyYXkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYXJyYXlbYUlkeF07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBpbmRleGVkIGJ5ICcgKyBhSWR4KTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzZXQgKHdoaWNoIGhhcyB0aGUgcHJvcGVyIGluZGljZXNcbiAgICogaW5kaWNhdGVkIGJ5IGluZGV4T2YpLiBOb3RlIHRoYXQgdGhpcyBpcyBhIGNvcHkgb2YgdGhlIGludGVybmFsIGFycmF5IHVzZWRcbiAgICogZm9yIHN0b3JpbmcgdGhlIG1lbWJlcnMgc28gdGhhdCBubyBvbmUgY2FuIG1lc3Mgd2l0aCBpbnRlcm5hbCBzdGF0ZS5cbiAgICovXG4gIEFycmF5U2V0LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gQXJyYXlTZXRfdG9BcnJheSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXJyYXkuc2xpY2UoKTtcbiAgfTtcblxuICBleHBvcnRzLkFycmF5U2V0ID0gQXJyYXlTZXQ7XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiBCYXNlZCBvbiB0aGUgQmFzZSA2NCBWTFEgaW1wbGVtZW50YXRpb24gaW4gQ2xvc3VyZSBDb21waWxlcjpcbiAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2xvc3VyZS1jb21waWxlci9zb3VyY2UvYnJvd3NlL3RydW5rL3NyYy9jb20vZ29vZ2xlL2RlYnVnZ2luZy9zb3VyY2VtYXAvQmFzZTY0VkxRLmphdmFcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBUaGUgQ2xvc3VyZSBDb21waWxlciBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAqICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gKiAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcbiAqICAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZFxuICogICAgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4gKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAqIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuICogT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICB2YXIgYmFzZTY0ID0gcmVxdWlyZSgnLi9iYXNlNjQnKTtcblxuICAvLyBBIHNpbmdsZSBiYXNlIDY0IGRpZ2l0IGNhbiBjb250YWluIDYgYml0cyBvZiBkYXRhLiBGb3IgdGhlIGJhc2UgNjQgdmFyaWFibGVcbiAgLy8gbGVuZ3RoIHF1YW50aXRpZXMgd2UgdXNlIGluIHRoZSBzb3VyY2UgbWFwIHNwZWMsIHRoZSBmaXJzdCBiaXQgaXMgdGhlIHNpZ24sXG4gIC8vIHRoZSBuZXh0IGZvdXIgYml0cyBhcmUgdGhlIGFjdHVhbCB2YWx1ZSwgYW5kIHRoZSA2dGggYml0IGlzIHRoZVxuICAvLyBjb250aW51YXRpb24gYml0LiBUaGUgY29udGludWF0aW9uIGJpdCB0ZWxscyB1cyB3aGV0aGVyIHRoZXJlIGFyZSBtb3JlXG4gIC8vIGRpZ2l0cyBpbiB0aGlzIHZhbHVlIGZvbGxvd2luZyB0aGlzIGRpZ2l0LlxuICAvL1xuICAvLyAgIENvbnRpbnVhdGlvblxuICAvLyAgIHwgICAgU2lnblxuICAvLyAgIHwgICAgfFxuICAvLyAgIFYgICAgVlxuICAvLyAgIDEwMTAxMVxuXG4gIHZhciBWTFFfQkFTRV9TSElGVCA9IDU7XG5cbiAgLy8gYmluYXJ5OiAxMDAwMDBcbiAgdmFyIFZMUV9CQVNFID0gMSA8PCBWTFFfQkFTRV9TSElGVDtcblxuICAvLyBiaW5hcnk6IDAxMTExMVxuICB2YXIgVkxRX0JBU0VfTUFTSyA9IFZMUV9CQVNFIC0gMTtcblxuICAvLyBiaW5hcnk6IDEwMDAwMFxuICB2YXIgVkxRX0NPTlRJTlVBVElPTl9CSVQgPSBWTFFfQkFTRTtcblxuICAvKipcbiAgICogQ29udmVydHMgZnJvbSBhIHR3by1jb21wbGVtZW50IHZhbHVlIHRvIGEgdmFsdWUgd2hlcmUgdGhlIHNpZ24gYml0IGlzXG4gICAqIGlzIHBsYWNlZCBpbiB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0LiAgRm9yIGV4YW1wbGUsIGFzIGRlY2ltYWxzOlxuICAgKiAgIDEgYmVjb21lcyAyICgxMCBiaW5hcnkpLCAtMSBiZWNvbWVzIDMgKDExIGJpbmFyeSlcbiAgICogICAyIGJlY29tZXMgNCAoMTAwIGJpbmFyeSksIC0yIGJlY29tZXMgNSAoMTAxIGJpbmFyeSlcbiAgICovXG4gIGZ1bmN0aW9uIHRvVkxRU2lnbmVkKGFWYWx1ZSkge1xuICAgIHJldHVybiBhVmFsdWUgPCAwXG4gICAgICA/ICgoLWFWYWx1ZSkgPDwgMSkgKyAxXG4gICAgICA6IChhVmFsdWUgPDwgMSkgKyAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRvIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgZnJvbSBhIHZhbHVlIHdoZXJlIHRoZSBzaWduIGJpdCBpc1xuICAgKiBpcyBwbGFjZWQgaW4gdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdC4gIEZvciBleGFtcGxlLCBhcyBkZWNpbWFsczpcbiAgICogICAyICgxMCBiaW5hcnkpIGJlY29tZXMgMSwgMyAoMTEgYmluYXJ5KSBiZWNvbWVzIC0xXG4gICAqICAgNCAoMTAwIGJpbmFyeSkgYmVjb21lcyAyLCA1ICgxMDEgYmluYXJ5KSBiZWNvbWVzIC0yXG4gICAqL1xuICBmdW5jdGlvbiBmcm9tVkxRU2lnbmVkKGFWYWx1ZSkge1xuICAgIHZhciBpc05lZ2F0aXZlID0gKGFWYWx1ZSAmIDEpID09PSAxO1xuICAgIHZhciBzaGlmdGVkID0gYVZhbHVlID4+IDE7XG4gICAgcmV0dXJuIGlzTmVnYXRpdmVcbiAgICAgID8gLXNoaWZ0ZWRcbiAgICAgIDogc2hpZnRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBiYXNlIDY0IFZMUSBlbmNvZGVkIHZhbHVlLlxuICAgKi9cbiAgZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiBiYXNlNjRWTFFfZW5jb2RlKGFWYWx1ZSkge1xuICAgIHZhciBlbmNvZGVkID0gXCJcIjtcbiAgICB2YXIgZGlnaXQ7XG5cbiAgICB2YXIgdmxxID0gdG9WTFFTaWduZWQoYVZhbHVlKTtcblxuICAgIGRvIHtcbiAgICAgIGRpZ2l0ID0gdmxxICYgVkxRX0JBU0VfTUFTSztcbiAgICAgIHZscSA+Pj49IFZMUV9CQVNFX1NISUZUO1xuICAgICAgaWYgKHZscSA+IDApIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHN0aWxsIG1vcmUgZGlnaXRzIGluIHRoaXMgdmFsdWUsIHNvIHdlIG11c3QgbWFrZSBzdXJlIHRoZVxuICAgICAgICAvLyBjb250aW51YXRpb24gYml0IGlzIG1hcmtlZC5cbiAgICAgICAgZGlnaXQgfD0gVkxRX0NPTlRJTlVBVElPTl9CSVQ7XG4gICAgICB9XG4gICAgICBlbmNvZGVkICs9IGJhc2U2NC5lbmNvZGUoZGlnaXQpO1xuICAgIH0gd2hpbGUgKHZscSA+IDApO1xuXG4gICAgcmV0dXJuIGVuY29kZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29kZXMgdGhlIG5leHQgYmFzZSA2NCBWTFEgdmFsdWUgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXR1cm5zIHRoZVxuICAgKiB2YWx1ZSBhbmQgdGhlIHJlc3Qgb2YgdGhlIHN0cmluZy5cbiAgICovXG4gIGV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24gYmFzZTY0VkxRX2RlY29kZShhU3RyKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBzdHJMZW4gPSBhU3RyLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICB2YXIgc2hpZnQgPSAwO1xuICAgIHZhciBjb250aW51YXRpb24sIGRpZ2l0O1xuXG4gICAgZG8ge1xuICAgICAgaWYgKGkgPj0gc3RyTGVuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIG1vcmUgZGlnaXRzIGluIGJhc2UgNjQgVkxRIHZhbHVlLlwiKTtcbiAgICAgIH1cbiAgICAgIGRpZ2l0ID0gYmFzZTY0LmRlY29kZShhU3RyLmNoYXJBdChpKyspKTtcbiAgICAgIGNvbnRpbnVhdGlvbiA9ICEhKGRpZ2l0ICYgVkxRX0NPTlRJTlVBVElPTl9CSVQpO1xuICAgICAgZGlnaXQgJj0gVkxRX0JBU0VfTUFTSztcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCArIChkaWdpdCA8PCBzaGlmdCk7XG4gICAgICBzaGlmdCArPSBWTFFfQkFTRV9TSElGVDtcbiAgICB9IHdoaWxlIChjb250aW51YXRpb24pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBmcm9tVkxRU2lnbmVkKHJlc3VsdCksXG4gICAgICByZXN0OiBhU3RyLnNsaWNlKGkpXG4gICAgfTtcbiAgfTtcblxufSk7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5pZiAodHlwZW9mIGRlZmluZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBkZWZpbmUgPSByZXF1aXJlKCdhbWRlZmluZScpKG1vZHVsZSwgcmVxdWlyZSk7XG59XG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG4gIHZhciBjaGFyVG9JbnRNYXAgPSB7fTtcbiAgdmFyIGludFRvQ2hhck1hcCA9IHt9O1xuXG4gICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuICAgIC5zcGxpdCgnJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbiAoY2gsIGluZGV4KSB7XG4gICAgICBjaGFyVG9JbnRNYXBbY2hdID0gaW5kZXg7XG4gICAgICBpbnRUb0NoYXJNYXBbaW5kZXhdID0gY2g7XG4gICAgfSk7XG5cbiAgLyoqXG4gICAqIEVuY29kZSBhbiBpbnRlZ2VyIGluIHRoZSByYW5nZSBvZiAwIHRvIDYzIHRvIGEgc2luZ2xlIGJhc2UgNjQgZGlnaXQuXG4gICAqL1xuICBleHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIGJhc2U2NF9lbmNvZGUoYU51bWJlcikge1xuICAgIGlmIChhTnVtYmVyIGluIGludFRvQ2hhck1hcCkge1xuICAgICAgcmV0dXJuIGludFRvQ2hhck1hcFthTnVtYmVyXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk11c3QgYmUgYmV0d2VlbiAwIGFuZCA2MzogXCIgKyBhTnVtYmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGEgc2luZ2xlIGJhc2UgNjQgZGlnaXQgdG8gYW4gaW50ZWdlci5cbiAgICovXG4gIGV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24gYmFzZTY0X2RlY29kZShhQ2hhcikge1xuICAgIGlmIChhQ2hhciBpbiBjaGFyVG9JbnRNYXApIHtcbiAgICAgIHJldHVybiBjaGFyVG9JbnRNYXBbYUNoYXJdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm90IGEgdmFsaWQgYmFzZSA2NCBkaWdpdDogXCIgKyBhQ2hhcik7XG4gIH07XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICAvKipcbiAgICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIG9mIGJpbmFyeSBzZWFyY2guXG4gICAqXG4gICAqIEBwYXJhbSBhTG93IEluZGljZXMgaGVyZSBhbmQgbG93ZXIgZG8gbm90IGNvbnRhaW4gdGhlIG5lZWRsZS5cbiAgICogQHBhcmFtIGFIaWdoIEluZGljZXMgaGVyZSBhbmQgaGlnaGVyIGRvIG5vdCBjb250YWluIHRoZSBuZWVkbGUuXG4gICAqIEBwYXJhbSBhTmVlZGxlIFRoZSBlbGVtZW50IGJlaW5nIHNlYXJjaGVkIGZvci5cbiAgICogQHBhcmFtIGFIYXlzdGFjayBUaGUgbm9uLWVtcHR5IGFycmF5IGJlaW5nIHNlYXJjaGVkLlxuICAgKiBAcGFyYW0gYUNvbXBhcmUgRnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGVsZW1lbnRzIGFuZCByZXR1cm5zIC0xLCAwLCBvciAxLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVjdXJzaXZlU2VhcmNoKGFMb3csIGFIaWdoLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlKSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiB0ZXJtaW5hdGVzIHdoZW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAvL1xuICAgIC8vICAgMS4gV2UgZmluZCB0aGUgZXhhY3QgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gICAgLy9cbiAgICAvLyAgIDIuIFdlIGRpZCBub3QgZmluZCB0aGUgZXhhY3QgZWxlbWVudCwgYnV0IHdlIGNhbiByZXR1cm4gdGhlIG5leHRcbiAgICAvLyAgICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIGxlc3MgdGhhbiB0aGF0IGVsZW1lbnQuXG4gICAgLy9cbiAgICAvLyAgIDMuIFdlIGRpZCBub3QgZmluZCB0aGUgZXhhY3QgZWxlbWVudCwgYW5kIHRoZXJlIGlzIG5vIG5leHQtY2xvc2VzdFxuICAgIC8vICAgICAgZWxlbWVudCB3aGljaCBpcyBsZXNzIHRoYW4gdGhlIG9uZSB3ZSBhcmUgc2VhcmNoaW5nIGZvciwgc28gd2VcbiAgICAvLyAgICAgIHJldHVybiBudWxsLlxuICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChhSGlnaCAtIGFMb3cpIC8gMikgKyBhTG93O1xuICAgIHZhciBjbXAgPSBhQ29tcGFyZShhTmVlZGxlLCBhSGF5c3RhY2tbbWlkXSwgdHJ1ZSk7XG4gICAgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgLy8gRm91bmQgdGhlIGVsZW1lbnQgd2UgYXJlIGxvb2tpbmcgZm9yLlxuICAgICAgcmV0dXJuIGFIYXlzdGFja1ttaWRdO1xuICAgIH1cbiAgICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgICAvLyBhSGF5c3RhY2tbbWlkXSBpcyBncmVhdGVyIHRoYW4gb3VyIG5lZWRsZS5cbiAgICAgIGlmIChhSGlnaCAtIG1pZCA+IDEpIHtcbiAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2gobWlkLCBhSGlnaCwgYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSk7XG4gICAgICB9XG4gICAgICAvLyBXZSBkaWQgbm90IGZpbmQgYW4gZXhhY3QgbWF0Y2gsIHJldHVybiB0aGUgbmV4dCBjbG9zZXN0IG9uZVxuICAgICAgLy8gKHRlcm1pbmF0aW9uIGNhc2UgMikuXG4gICAgICByZXR1cm4gYUhheXN0YWNrW21pZF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gYUhheXN0YWNrW21pZF0gaXMgbGVzcyB0aGFuIG91ciBuZWVkbGUuXG4gICAgICBpZiAobWlkIC0gYUxvdyA+IDEpIHtcbiAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgaW4gdGhlIGxvd2VyIGhhbGYuXG4gICAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2goYUxvdywgbWlkLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBleGFjdCBuZWVkbGUgZWxlbWVudCB3YXMgbm90IGZvdW5kIGluIHRoaXMgaGF5c3RhY2suIERldGVybWluZSBpZlxuICAgICAgLy8gd2UgYXJlIGluIHRlcm1pbmF0aW9uIGNhc2UgKDIpIG9yICgzKSBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSB0aGluZy5cbiAgICAgIHJldHVybiBhTG93IDwgMFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBhSGF5c3RhY2tbYUxvd107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaCB3aGljaCB3aWxsIGFsd2F5cyB0cnkgYW5kIHJldHVyblxuICAgKiB0aGUgbmV4dCBsb3dlc3QgdmFsdWUgY2hlY2tlZCBpZiB0aGVyZSBpcyBubyBleGFjdCBoaXQuIFRoaXMgaXMgYmVjYXVzZVxuICAgKiBtYXBwaW5ncyBiZXR3ZWVuIG9yaWdpbmFsIGFuZCBnZW5lcmF0ZWQgbGluZS9jb2wgcGFpcnMgYXJlIHNpbmdsZSBwb2ludHMsXG4gICAqIGFuZCB0aGVyZSBpcyBhbiBpbXBsaWNpdCByZWdpb24gYmV0d2VlbiBlYWNoIG9mIHRoZW0sIHNvIGEgbWlzcyBqdXN0IG1lYW5zXG4gICAqIHRoYXQgeW91IGFyZW4ndCBvbiB0aGUgdmVyeSBzdGFydCBvZiBhIHJlZ2lvbi5cbiAgICpcbiAgICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgeW91IGFyZSBsb29raW5nIGZvci5cbiAgICogQHBhcmFtIGFIYXlzdGFjayBUaGUgYXJyYXkgdGhhdCBpcyBiZWluZyBzZWFyY2hlZC5cbiAgICogQHBhcmFtIGFDb21wYXJlIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIG5lZWRsZSBhbmQgYW4gZWxlbWVudCBpbiB0aGVcbiAgICogICAgIGFycmF5IGFuZCByZXR1cm5zIC0xLCAwLCBvciAxIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBuZWVkbGUgaXMgbGVzc1xuICAgKiAgICAgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgZWxlbWVudCwgcmVzcGVjdGl2ZWx5LlxuICAgKi9cbiAgZXhwb3J0cy5zZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSkge1xuICAgIHJldHVybiBhSGF5c3RhY2subGVuZ3RoID4gMFxuICAgICAgPyByZWN1cnNpdmVTZWFyY2goLTEsIGFIYXlzdGFjay5sZW5ndGgsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUpXG4gICAgICA6IG51bGw7XG4gIH07XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICB2YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuICB2YXIgYmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnLi9iaW5hcnktc2VhcmNoJyk7XG4gIHZhciBBcnJheVNldCA9IHJlcXVpcmUoJy4vYXJyYXktc2V0JykuQXJyYXlTZXQ7XG4gIHZhciBiYXNlNjRWTFEgPSByZXF1aXJlKCcuL2Jhc2U2NC12bHEnKTtcblxuICAvKipcbiAgICogQSBTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2ggd2UgY2FuXG4gICAqIHF1ZXJ5IGZvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb3JpZ2luYWwgZmlsZSBwb3NpdGlvbnMgYnkgZ2l2aW5nIGl0IGEgZmlsZVxuICAgKiBwb3NpdGlvbiBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAgICpcbiAgICogVGhlIG9ubHkgcGFyYW1ldGVyIGlzIHRoZSByYXcgc291cmNlIG1hcCAoZWl0aGVyIGFzIGEgSlNPTiBzdHJpbmcsIG9yXG4gICAqIGFscmVhZHkgcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYywgc291cmNlIG1hcHMgaGF2ZSB0aGVcbiAgICogZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gICAqXG4gICAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICAgKiAgIC0gc291cmNlczogQW4gYXJyYXkgb2YgVVJMcyB0byB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGVzLlxuICAgKiAgIC0gbmFtZXM6IEFuIGFycmF5IG9mIGlkZW50aWZpZXJzIHdoaWNoIGNhbiBiZSByZWZlcnJlbmNlZCBieSBpbmRpdmlkdWFsIG1hcHBpbmdzLlxuICAgKiAgIC0gc291cmNlUm9vdDogT3B0aW9uYWwuIFRoZSBVUkwgcm9vdCBmcm9tIHdoaWNoIGFsbCBzb3VyY2VzIGFyZSByZWxhdGl2ZS5cbiAgICogICAtIHNvdXJjZXNDb250ZW50OiBPcHRpb25hbC4gQW4gYXJyYXkgb2YgY29udGVudHMgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAgICogICAtIG1hcHBpbmdzOiBBIHN0cmluZyBvZiBiYXNlNjQgVkxRcyB3aGljaCBjb250YWluIHRoZSBhY3R1YWwgbWFwcGluZ3MuXG4gICAqICAgLSBmaWxlOiBPcHRpb25hbC4gVGhlIGdlbmVyYXRlZCBmaWxlIHRoaXMgc291cmNlIG1hcCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAqXG4gICAqIEhlcmUgaXMgYW4gZXhhbXBsZSBzb3VyY2UgbWFwLCB0YWtlbiBmcm9tIHRoZSBzb3VyY2UgbWFwIHNwZWNbMF06XG4gICAqXG4gICAqICAgICB7XG4gICAqICAgICAgIHZlcnNpb24gOiAzLFxuICAgKiAgICAgICBmaWxlOiBcIm91dC5qc1wiLFxuICAgKiAgICAgICBzb3VyY2VSb290IDogXCJcIixcbiAgICogICAgICAgc291cmNlczogW1wiZm9vLmpzXCIsIFwiYmFyLmpzXCJdLFxuICAgKiAgICAgICBuYW1lczogW1wic3JjXCIsIFwibWFwc1wiLCBcImFyZVwiLCBcImZ1blwiXSxcbiAgICogICAgICAgbWFwcGluZ3M6IFwiQUEsQUI7O0FCQ0RFO1wiXG4gICAqICAgICB9XG4gICAqXG4gICAqIFswXTogaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xVTFSR0FlaFF3UnlwVVRvdkYxS1JscGlPRnplMGItXzJnYzZmQUgwS1kway9lZGl0P3BsaT0xI1xuICAgKi9cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcCkge1xuICAgIHZhciBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICAgIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNvdXJjZU1hcCA9IEpTT04ucGFyc2UoYVNvdXJjZU1hcC5yZXBsYWNlKC9eXFwpXFxdXFx9Jy8sICcnKSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnNpb24gPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICd2ZXJzaW9uJyk7XG4gICAgdmFyIHNvdXJjZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VzJyk7XG4gICAgLy8gU2FzcyAzLjMgbGVhdmVzIG91dCB0aGUgJ25hbWVzJyBhcnJheSwgc28gd2UgZGV2aWF0ZSBmcm9tIHRoZSBzcGVjICh3aGljaFxuICAgIC8vIHJlcXVpcmVzIHRoZSBhcnJheSkgdG8gcGxheSBuaWNlIGhlcmUuXG4gICAgdmFyIG5hbWVzID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnbmFtZXMnLCBbXSk7XG4gICAgdmFyIHNvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VSb290JywgbnVsbCk7XG4gICAgdmFyIHNvdXJjZXNDb250ZW50ID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc291cmNlc0NvbnRlbnQnLCBudWxsKTtcbiAgICB2YXIgbWFwcGluZ3MgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdtYXBwaW5ncycpO1xuICAgIHZhciBmaWxlID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnZmlsZScsIG51bGwpO1xuXG4gICAgLy8gT25jZSBhZ2FpbiwgU2FzcyBkZXZpYXRlcyBmcm9tIHRoZSBzcGVjIGFuZCBzdXBwbGllcyB0aGUgdmVyc2lvbiBhcyBhXG4gICAgLy8gc3RyaW5nIHJhdGhlciB0aGFuIGEgbnVtYmVyLCBzbyB3ZSB1c2UgbG9vc2UgZXF1YWxpdHkgY2hlY2tpbmcgaGVyZS5cbiAgICBpZiAodmVyc2lvbiAhPSB0aGlzLl92ZXJzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHZlcnNpb246ICcgKyB2ZXJzaW9uKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIGB0cnVlYCBiZWxvdyB0byBhbGxvdyBkdXBsaWNhdGUgbmFtZXMgYW5kIHNvdXJjZXMuIFdoaWxlIHNvdXJjZSBtYXBzXG4gICAgLy8gYXJlIGludGVuZGVkIHRvIGJlIGNvbXByZXNzZWQgYW5kIGRlZHVwbGljYXRlZCwgdGhlIFR5cGVTY3JpcHQgY29tcGlsZXJcbiAgICAvLyBzb21ldGltZXMgZ2VuZXJhdGVzIHNvdXJjZSBtYXBzIHdpdGggZHVwbGljYXRlcyBpbiB0aGVtLiBTZWUgR2l0aHViIGlzc3VlXG4gICAgLy8gIzcyIGFuZCBidWd6aWwubGEvODg5NDkyLlxuICAgIHRoaXMuX25hbWVzID0gQXJyYXlTZXQuZnJvbUFycmF5KG5hbWVzLCB0cnVlKTtcbiAgICB0aGlzLl9zb3VyY2VzID0gQXJyYXlTZXQuZnJvbUFycmF5KHNvdXJjZXMsIHRydWUpO1xuXG4gICAgdGhpcy5zb3VyY2VSb290ID0gc291cmNlUm9vdDtcbiAgICB0aGlzLnNvdXJjZXNDb250ZW50ID0gc291cmNlc0NvbnRlbnQ7XG4gICAgdGhpcy5fbWFwcGluZ3MgPSBtYXBwaW5ncztcbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFNvdXJjZU1hcENvbnN1bWVyIGZyb20gYSBTb3VyY2VNYXBHZW5lcmF0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBTb3VyY2VNYXBHZW5lcmF0b3IgYVNvdXJjZU1hcFxuICAgKiAgICAgICAgVGhlIHNvdXJjZSBtYXAgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuICAgKiBAcmV0dXJucyBTb3VyY2VNYXBDb25zdW1lclxuICAgKi9cbiAgU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcCA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZnJvbVNvdXJjZU1hcChhU291cmNlTWFwKSB7XG4gICAgICB2YXIgc21jID0gT2JqZWN0LmNyZWF0ZShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUpO1xuXG4gICAgICBzbWMuX25hbWVzID0gQXJyYXlTZXQuZnJvbUFycmF5KGFTb3VyY2VNYXAuX25hbWVzLnRvQXJyYXkoKSwgdHJ1ZSk7XG4gICAgICBzbWMuX3NvdXJjZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoYVNvdXJjZU1hcC5fc291cmNlcy50b0FycmF5KCksIHRydWUpO1xuICAgICAgc21jLnNvdXJjZVJvb3QgPSBhU291cmNlTWFwLl9zb3VyY2VSb290O1xuICAgICAgc21jLnNvdXJjZXNDb250ZW50ID0gYVNvdXJjZU1hcC5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudChzbWMuX3NvdXJjZXMudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWMuc291cmNlUm9vdCk7XG4gICAgICBzbWMuZmlsZSA9IGFTb3VyY2VNYXAuX2ZpbGU7XG5cbiAgICAgIHNtYy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gYVNvdXJjZU1hcC5fbWFwcGluZ3Muc2xpY2UoKVxuICAgICAgICAuc29ydCh1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyk7XG4gICAgICBzbWMuX19vcmlnaW5hbE1hcHBpbmdzID0gYVNvdXJjZU1hcC5fbWFwcGluZ3Muc2xpY2UoKVxuICAgICAgICAuc29ydCh1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcblxuICAgICAgcmV0dXJuIHNtYztcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcHBpbmcgc3BlYyB0aGF0IHdlIGFyZSBjb25zdW1pbmcuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBvcmlnaW5hbCBzb3VyY2VzLlxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ3NvdXJjZXMnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZVJvb3QgPyB1dGlsLmpvaW4odGhpcy5zb3VyY2VSb290LCBzKSA6IHM7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGBfX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmQgYF9fb3JpZ2luYWxNYXBwaW5nc2AgYXJlIGFycmF5cyB0aGF0IGhvbGQgdGhlXG4gIC8vIHBhcnNlZCBtYXBwaW5nIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBtYXAncyBcIm1hcHBpbmdzXCIgYXR0cmlidXRlLiBUaGV5XG4gIC8vIGFyZSBsYXppbHkgaW5zdGFudGlhdGVkLCBhY2Nlc3NlZCB2aWEgdGhlIGBfZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICAvLyBgX29yaWdpbmFsTWFwcGluZ3NgIGdldHRlcnMgcmVzcGVjdGl2ZWx5LCBhbmQgd2Ugb25seSBwYXJzZSB0aGUgbWFwcGluZ3NcbiAgLy8gYW5kIGNyZWF0ZSB0aGVzZSBhcnJheXMgb25jZSBxdWVyaWVkIGZvciBhIHNvdXJjZSBsb2NhdGlvbi4gV2UganVtcCB0aHJvdWdoXG4gIC8vIHRoZXNlIGhvb3BzIGJlY2F1c2UgdGhlcmUgY2FuIGJlIG1hbnkgdGhvdXNhbmRzIG9mIG1hcHBpbmdzLCBhbmQgcGFyc2luZ1xuICAvLyB0aGVtIGlzIGV4cGVuc2l2ZSwgc28gd2Ugb25seSB3YW50IHRvIGRvIGl0IGlmIHdlIG11c3QuXG4gIC8vXG4gIC8vIEVhY2ggb2JqZWN0IGluIHRoZSBhcnJheXMgaXMgb2YgdGhlIGZvcm06XG4gIC8vXG4gIC8vICAgICB7XG4gIC8vICAgICAgIGdlbmVyYXRlZExpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4gIC8vICAgICAgIGdlbmVyYXRlZENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBjb2RlLFxuICAvLyAgICAgICBzb3VyY2U6IFRoZSBwYXRoIHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSB0aGF0IGdlbmVyYXRlZCB0aGlzXG4gIC8vICAgICAgICAgICAgICAgY2h1bmsgb2YgY29kZSxcbiAgLy8gICAgICAgb3JpZ2luYWxMaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4gIC8vICAgICAgICAgICAgICAgICAgICAgY29ycmVzcG9uZHMgdG8gdGhpcyBjaHVuayBvZiBnZW5lcmF0ZWQgY29kZSxcbiAgLy8gICAgICAgb3JpZ2luYWxDb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UgdGhhdFxuICAvLyAgICAgICAgICAgICAgICAgICAgICAgY29ycmVzcG9uZHMgdG8gdGhpcyBjaHVuayBvZiBnZW5lcmF0ZWQgY29kZSxcbiAgLy8gICAgICAgbmFtZTogVGhlIG5hbWUgb2YgdGhlIG9yaWdpbmFsIHN5bWJvbCB3aGljaCBnZW5lcmF0ZWQgdGhpcyBjaHVuayBvZlxuICAvLyAgICAgICAgICAgICBjb2RlLlxuICAvLyAgICAgfVxuICAvL1xuICAvLyBBbGwgcHJvcGVydGllcyBleGNlcHQgZm9yIGBnZW5lcmF0ZWRMaW5lYCBhbmQgYGdlbmVyYXRlZENvbHVtbmAgY2FuIGJlXG4gIC8vIGBudWxsYC5cbiAgLy9cbiAgLy8gYF9nZW5lcmF0ZWRNYXBwaW5nc2AgaXMgb3JkZXJlZCBieSB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9ucy5cbiAgLy9cbiAgLy8gYF9vcmlnaW5hbE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBvcmlnaW5hbCBwb3NpdGlvbnMuXG5cbiAgU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBudWxsO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnX2dlbmVyYXRlZE1hcHBpbmdzJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MpIHtcbiAgICAgICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzID0gW107XG4gICAgICAgIHRoaXMuX3BhcnNlTWFwcGluZ3ModGhpcy5fbWFwcGluZ3MsIHRoaXMuc291cmNlUm9vdCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gICAgfVxuICB9KTtcblxuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX19vcmlnaW5hbE1hcHBpbmdzID0gbnVsbDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ19vcmlnaW5hbE1hcHBpbmdzJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncykge1xuICAgICAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncywgdGhpcy5zb3VyY2VSb290KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAgICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gICAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX3BhcnNlTWFwcGluZ3MoYVN0ciwgYVNvdXJjZVJvb3QpIHtcbiAgICAgIHZhciBnZW5lcmF0ZWRMaW5lID0gMTtcbiAgICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNPcmlnaW5hbExpbmUgPSAwO1xuICAgICAgdmFyIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSAwO1xuICAgICAgdmFyIHByZXZpb3VzU291cmNlID0gMDtcbiAgICAgIHZhciBwcmV2aW91c05hbWUgPSAwO1xuICAgICAgdmFyIG1hcHBpbmdTZXBhcmF0b3IgPSAvXlssO10vO1xuICAgICAgdmFyIHN0ciA9IGFTdHI7XG4gICAgICB2YXIgbWFwcGluZztcbiAgICAgIHZhciB0ZW1wO1xuXG4gICAgICB3aGlsZSAoc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICc7Jykge1xuICAgICAgICAgIGdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UoMSk7XG4gICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICcsJykge1xuICAgICAgICAgIHN0ciA9IHN0ci5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtYXBwaW5nID0ge307XG4gICAgICAgICAgbWFwcGluZy5nZW5lcmF0ZWRMaW5lID0gZ2VuZXJhdGVkTGluZTtcblxuICAgICAgICAgIC8vIEdlbmVyYXRlZCBjb2x1bW4uXG4gICAgICAgICAgdGVtcCA9IGJhc2U2NFZMUS5kZWNvZGUoc3RyKTtcbiAgICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiA9IHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uICsgdGVtcC52YWx1ZTtcbiAgICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgIHN0ciA9IHRlbXAucmVzdDtcblxuICAgICAgICAgIGlmIChzdHIubGVuZ3RoID4gMCAmJiAhbWFwcGluZ1NlcGFyYXRvci50ZXN0KHN0ci5jaGFyQXQoMCkpKSB7XG4gICAgICAgICAgICAvLyBPcmlnaW5hbCBzb3VyY2UuXG4gICAgICAgICAgICB0ZW1wID0gYmFzZTY0VkxRLmRlY29kZShzdHIpO1xuICAgICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSB0aGlzLl9zb3VyY2VzLmF0KHByZXZpb3VzU291cmNlICsgdGVtcC52YWx1ZSk7XG4gICAgICAgICAgICBwcmV2aW91c1NvdXJjZSArPSB0ZW1wLnZhbHVlO1xuICAgICAgICAgICAgc3RyID0gdGVtcC5yZXN0O1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDAgfHwgbWFwcGluZ1NlcGFyYXRvci50ZXN0KHN0ci5jaGFyQXQoMCkpKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgYSBzb3VyY2UsIGJ1dCBubyBsaW5lIGFuZCBjb2x1bW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3JpZ2luYWwgbGluZS5cbiAgICAgICAgICAgIHRlbXAgPSBiYXNlNjRWTFEuZGVjb2RlKHN0cik7XG4gICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IHByZXZpb3VzT3JpZ2luYWxMaW5lICsgdGVtcC52YWx1ZTtcbiAgICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmU7XG4gICAgICAgICAgICAvLyBMaW5lcyBhcmUgc3RvcmVkIDAtYmFzZWRcbiAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lICs9IDE7XG4gICAgICAgICAgICBzdHIgPSB0ZW1wLnJlc3Q7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCB8fCBtYXBwaW5nU2VwYXJhdG9yLnRlc3Qoc3RyLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCBhIHNvdXJjZSBhbmQgbGluZSwgYnV0IG5vIGNvbHVtbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPcmlnaW5hbCBjb2x1bW4uXG4gICAgICAgICAgICB0ZW1wID0gYmFzZTY0VkxRLmRlY29kZShzdHIpO1xuICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gKyB0ZW1wLnZhbHVlO1xuICAgICAgICAgICAgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG4gICAgICAgICAgICBzdHIgPSB0ZW1wLnJlc3Q7XG5cbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID4gMCAmJiAhbWFwcGluZ1NlcGFyYXRvci50ZXN0KHN0ci5jaGFyQXQoMCkpKSB7XG4gICAgICAgICAgICAgIC8vIE9yaWdpbmFsIG5hbWUuXG4gICAgICAgICAgICAgIHRlbXAgPSBiYXNlNjRWTFEuZGVjb2RlKHN0cik7XG4gICAgICAgICAgICAgIG1hcHBpbmcubmFtZSA9IHRoaXMuX25hbWVzLmF0KHByZXZpb3VzTmFtZSArIHRlbXAudmFsdWUpO1xuICAgICAgICAgICAgICBwcmV2aW91c05hbWUgKz0gdGVtcC52YWx1ZTtcbiAgICAgICAgICAgICAgc3RyID0gdGVtcC5yZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3Muc29ydCh1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyk7XG4gICAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncy5zb3J0KHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIG1hcHBpbmcgdGhhdCBiZXN0IG1hdGNoZXMgdGhlIGh5cG90aGV0aWNhbCBcIm5lZWRsZVwiIG1hcHBpbmcgdGhhdFxuICAgKiB3ZSBhcmUgc2VhcmNoaW5nIGZvciBpbiB0aGUgZ2l2ZW4gXCJoYXlzdGFja1wiIG9mIG1hcHBpbmdzLlxuICAgKi9cbiAgU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kTWFwcGluZyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZmluZE1hcHBpbmcoYU5lZWRsZSwgYU1hcHBpbmdzLCBhTGluZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYUNvbHVtbk5hbWUsIGFDb21wYXJhdG9yKSB7XG4gICAgICAvLyBUbyByZXR1cm4gdGhlIHBvc2l0aW9uIHdlIGFyZSBzZWFyY2hpbmcgZm9yLCB3ZSBtdXN0IGZpcnN0IGZpbmQgdGhlXG4gICAgICAvLyBtYXBwaW5nIGZvciB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHRoZW4gcmV0dXJuIHRoZSBvcHBvc2l0ZSBwb3NpdGlvbiBpdFxuICAgICAgLy8gcG9pbnRzIHRvLiBCZWNhdXNlIHRoZSBtYXBwaW5ncyBhcmUgc29ydGVkLCB3ZSBjYW4gdXNlIGJpbmFyeSBzZWFyY2ggdG9cbiAgICAgIC8vIGZpbmQgdGhlIGJlc3QgbWFwcGluZy5cblxuICAgICAgaWYgKGFOZWVkbGVbYUxpbmVOYW1lXSA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpbmUgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSwgZ290ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGFOZWVkbGVbYUxpbmVOYW1lXSk7XG4gICAgICB9XG4gICAgICBpZiAoYU5lZWRsZVthQ29sdW1uTmFtZV0gPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbHVtbiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwLCBnb3QgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYU5lZWRsZVthQ29sdW1uTmFtZV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmluYXJ5U2VhcmNoLnNlYXJjaChhTmVlZGxlLCBhTWFwcGluZ3MsIGFDb21wYXJhdG9yKTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UsIGxpbmUsIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBnZW5lcmF0ZWRcbiAgICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0XG4gICAqIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICAgKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAgICpcbiAgICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlLCBvciBudWxsLlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuXG4gICAqICAgLSBuYW1lOiBUaGUgb3JpZ2luYWwgaWRlbnRpZmllciwgb3IgbnVsbC5cbiAgICovXG4gIFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5vcmlnaW5hbFBvc2l0aW9uRm9yID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9vcmlnaW5hbFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgICBnZW5lcmF0ZWRMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKSxcbiAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgICB9O1xuXG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2ZpbmRNYXBwaW5nKG5lZWRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuZXJhdGVkTGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdlbmVyYXRlZENvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyk7XG5cbiAgICAgIGlmIChtYXBwaW5nICYmIG1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdzb3VyY2UnLCBudWxsKTtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiB0aGlzLnNvdXJjZVJvb3QpIHtcbiAgICAgICAgICBzb3VyY2UgPSB1dGlsLmpvaW4odGhpcy5zb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ29yaWdpbmFsTGluZScsIG51bGwpLFxuICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ29yaWdpbmFsQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgbmFtZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ25hbWUnLCBudWxsKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgICAgbmFtZTogbnVsbFxuICAgICAgfTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29udGVudC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgdGhlIHVybCBvZiB0aGVcbiAgICogb3JpZ2luYWwgc291cmNlIGZpbGUuIFJldHVybnMgbnVsbCBpZiBubyBvcmlnaW5hbCBzb3VyY2UgY29udGVudCBpc1xuICAgKiBhdmFpbGlibGUuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuc291cmNlQ29udGVudEZvciA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfc291cmNlQ29udGVudEZvcihhU291cmNlKSB7XG4gICAgICBpZiAoIXRoaXMuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNvdXJjZVJvb3QpIHtcbiAgICAgICAgYVNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LCBhU291cmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3NvdXJjZXMuaGFzKGFTb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihhU291cmNlKV07XG4gICAgICB9XG5cbiAgICAgIHZhciB1cmw7XG4gICAgICBpZiAodGhpcy5zb3VyY2VSb290XG4gICAgICAgICAgJiYgKHVybCA9IHV0aWwudXJsUGFyc2UodGhpcy5zb3VyY2VSb290KSkpIHtcbiAgICAgICAgLy8gWFhYOiBmaWxlOi8vIFVSSXMgYW5kIGFic29sdXRlIHBhdGhzIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvciBmb3JcbiAgICAgICAgLy8gbWFueSB1c2Vycy4gV2UgY2FuIGhlbHAgdGhlbSBvdXQgd2hlbiB0aGV5IGV4cGVjdCBmaWxlOi8vIFVSSXMgdG9cbiAgICAgICAgLy8gYmVoYXZlIGxpa2UgaXQgd291bGQgaWYgdGhleSB3ZXJlIHJ1bm5pbmcgYSBsb2NhbCBIVFRQIHNlcnZlci4gU2VlXG4gICAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg4NTU5Ny5cbiAgICAgICAgdmFyIGZpbGVVcmlBYnNQYXRoID0gYVNvdXJjZS5yZXBsYWNlKC9eZmlsZTpcXC9cXC8vLCBcIlwiKTtcbiAgICAgICAgaWYgKHVybC5zY2hlbWUgPT0gXCJmaWxlXCJcbiAgICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKGZpbGVVcmlBYnNQYXRoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihmaWxlVXJpQWJzUGF0aCldXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKCF1cmwucGF0aCB8fCB1cmwucGF0aCA9PSBcIi9cIilcbiAgICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKFwiL1wiICsgYVNvdXJjZSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudFt0aGlzLl9zb3VyY2VzLmluZGV4T2YoXCIvXCIgKyBhU291cmNlKV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhU291cmNlICsgJ1wiIGlzIG5vdCBpbiB0aGUgU291cmNlTWFwLicpO1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gICAqIGxpbmUsIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aFxuICAgKiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBzb3VyY2U6IFRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqXG4gICAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLlxuICAgKi9cbiAgU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmdlbmVyYXRlZFBvc2l0aW9uRm9yID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncykge1xuICAgICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgICAgc291cmNlOiB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScpLFxuICAgICAgICBvcmlnaW5hbExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgICBvcmlnaW5hbENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nKVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuc291cmNlUm9vdCkge1xuICAgICAgICBuZWVkbGUuc291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsIG5lZWRsZS5zb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX2ZpbmRNYXBwaW5nKG5lZWRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxNYXBwaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbExpbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbENvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcblxuICAgICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogbnVsbFxuICAgICAgfTtcbiAgICB9O1xuXG4gIFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUiA9IDE7XG4gIFNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSID0gMjtcblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGVhY2ggbWFwcGluZyBiZXR3ZWVuIGFuIG9yaWdpbmFsIHNvdXJjZS9saW5lL2NvbHVtbiBhbmQgYVxuICAgKiBnZW5lcmF0ZWQgbGluZS9jb2x1bW4gaW4gdGhpcyBzb3VyY2UgbWFwLlxuICAgKlxuICAgKiBAcGFyYW0gRnVuY3Rpb24gYUNhbGxiYWNrXG4gICAqICAgICAgICBUaGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBlYWNoIG1hcHBpbmcuXG4gICAqIEBwYXJhbSBPYmplY3QgYUNvbnRleHRcbiAgICogICAgICAgIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoaXMgb2JqZWN0IHdpbGwgYmUgdGhlIHZhbHVlIG9mIGB0aGlzYCBldmVyeVxuICAgKiAgICAgICAgdGltZSB0aGF0IGBhQ2FsbGJhY2tgIGlzIGNhbGxlZC5cbiAgICogQHBhcmFtIGFPcmRlclxuICAgKiAgICAgICAgRWl0aGVyIGBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVJgIG9yXG4gICAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVJgLiBTcGVjaWZpZXMgd2hldGhlciB5b3Ugd2FudCB0b1xuICAgKiAgICAgICAgaXRlcmF0ZSBvdmVyIHRoZSBtYXBwaW5ncyBzb3J0ZWQgYnkgdGhlIGdlbmVyYXRlZCBmaWxlJ3MgbGluZS9jb2x1bW5cbiAgICogICAgICAgIG9yZGVyIG9yIHRoZSBvcmlnaW5hbCdzIHNvdXJjZS9saW5lL2NvbHVtbiBvcmRlciwgcmVzcGVjdGl2ZWx5LiBEZWZhdWx0cyB0b1xuICAgKiAgICAgICAgYFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUmAuXG4gICAqL1xuICBTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuZWFjaE1hcHBpbmcgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2VhY2hNYXBwaW5nKGFDYWxsYmFjaywgYUNvbnRleHQsIGFPcmRlcikge1xuICAgICAgdmFyIGNvbnRleHQgPSBhQ29udGV4dCB8fCBudWxsO1xuICAgICAgdmFyIG9yZGVyID0gYU9yZGVyIHx8IFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUjtcblxuICAgICAgdmFyIG1hcHBpbmdzO1xuICAgICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI6XG4gICAgICAgIG1hcHBpbmdzID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUjpcbiAgICAgICAgbWFwcGluZ3MgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3JkZXIgb2YgaXRlcmF0aW9uLlwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNvdXJjZVJvb3QgPSB0aGlzLnNvdXJjZVJvb3Q7XG4gICAgICBtYXBwaW5ncy5tYXAoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IG1hcHBpbmcuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZVJvb3QpIHtcbiAgICAgICAgICBzb3VyY2UgPSB1dGlsLmpvaW4oc291cmNlUm9vdCwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIGdlbmVyYXRlZExpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uLFxuICAgICAgICAgIG9yaWdpbmFsTGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgb3JpZ2luYWxDb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgICAgbmFtZTogbWFwcGluZy5uYW1lXG4gICAgICAgIH07XG4gICAgICB9KS5mb3JFYWNoKGFDYWxsYmFjaywgY29udGV4dCk7XG4gICAgfTtcblxuICBleHBvcnRzLlNvdXJjZU1hcENvbnN1bWVyID0gU291cmNlTWFwQ29uc3VtZXI7XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICB2YXIgYmFzZTY0VkxRID0gcmVxdWlyZSgnLi9iYXNlNjQtdmxxJyk7XG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG4gIHZhciBBcnJheVNldCA9IHJlcXVpcmUoJy4vYXJyYXktc2V0JykuQXJyYXlTZXQ7XG5cbiAgLyoqXG4gICAqIEFuIGluc3RhbmNlIG9mIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3IgcmVwcmVzZW50cyBhIHNvdXJjZSBtYXAgd2hpY2ggaXNcbiAgICogYmVpbmcgYnVpbHQgaW5jcmVtZW50YWxseS4gWW91IG1heSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGZpbGU6IFRoZSBmaWxlbmFtZSBvZiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAgICogICAtIHNvdXJjZVJvb3Q6IEEgcm9vdCBmb3IgYWxsIHJlbGF0aXZlIFVSTHMgaW4gdGhpcyBzb3VyY2UgbWFwLlxuICAgKi9cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKSB7XG4gICAgaWYgKCFhQXJncykge1xuICAgICAgYUFyZ3MgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5fZmlsZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnZmlsZScsIG51bGwpO1xuICAgIHRoaXMuX3NvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZVJvb3QnLCBudWxsKTtcbiAgICB0aGlzLl9zb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gICAgdGhpcy5fbmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICB0aGlzLl9tYXBwaW5ncyA9IFtdO1xuICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IG51bGw7XG4gIH1cblxuICBTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTb3VyY2VNYXBHZW5lcmF0b3IgYmFzZWQgb24gYSBTb3VyY2VNYXBDb25zdW1lclxuICAgKlxuICAgKiBAcGFyYW0gYVNvdXJjZU1hcENvbnN1bWVyIFRoZSBTb3VyY2VNYXAuXG4gICAqL1xuICBTb3VyY2VNYXBHZW5lcmF0b3IuZnJvbVNvdXJjZU1hcCA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2Zyb21Tb3VyY2VNYXAoYVNvdXJjZU1hcENvbnN1bWVyKSB7XG4gICAgICB2YXIgc291cmNlUm9vdCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VSb290O1xuICAgICAgdmFyIGdlbmVyYXRvciA9IG5ldyBTb3VyY2VNYXBHZW5lcmF0b3Ioe1xuICAgICAgICBmaWxlOiBhU291cmNlTWFwQ29uc3VtZXIuZmlsZSxcbiAgICAgICAgc291cmNlUm9vdDogc291cmNlUm9vdFxuICAgICAgfSk7XG4gICAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdmFyIG5ld01hcHBpbmcgPSB7XG4gICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICBsaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUsXG4gICAgICAgICAgICBjb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSkge1xuICAgICAgICAgIG5ld01hcHBpbmcuc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICAgICAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAgICAgICAgIG5ld01hcHBpbmcuc291cmNlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBuZXdNYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3TWFwcGluZy5vcmlnaW5hbCA9IHtcbiAgICAgICAgICAgIGxpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChtYXBwaW5nLm5hbWUpIHtcbiAgICAgICAgICAgIG5ld01hcHBpbmcubmFtZSA9IG1hcHBpbmcubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZW5lcmF0b3IuYWRkTWFwcGluZyhuZXdNYXBwaW5nKTtcbiAgICAgIH0pO1xuICAgICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIGdlbmVyYXRvci5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZW5lcmF0b3I7XG4gICAgfTtcblxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIG1hcHBpbmcgZnJvbSBvcmlnaW5hbCBzb3VyY2UgbGluZSBhbmQgY29sdW1uIHRvIHRoZSBnZW5lcmF0ZWRcbiAgICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIGZvciB0aGlzIHNvdXJjZSBtYXAgYmVpbmcgY3JlYXRlZC4gVGhlIG1hcHBpbmdcbiAgICogb2JqZWN0IHNob3VsZCBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGdlbmVyYXRlZDogQW4gb2JqZWN0IHdpdGggdGhlIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zLlxuICAgKiAgIC0gb3JpZ2luYWw6IEFuIG9iamVjdCB3aXRoIHRoZSBvcmlnaW5hbCBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zLlxuICAgKiAgIC0gc291cmNlOiBUaGUgb3JpZ2luYWwgc291cmNlIGZpbGUgKHJlbGF0aXZlIHRvIHRoZSBzb3VyY2VSb290KS5cbiAgICogICAtIG5hbWU6IEFuIG9wdGlvbmFsIG9yaWdpbmFsIHRva2VuIG5hbWUgZm9yIHRoaXMgbWFwcGluZy5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYWRkTWFwcGluZyA9XG4gICAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2FkZE1hcHBpbmcoYUFyZ3MpIHtcbiAgICAgIHZhciBnZW5lcmF0ZWQgPSB1dGlsLmdldEFyZyhhQXJncywgJ2dlbmVyYXRlZCcpO1xuICAgICAgdmFyIG9yaWdpbmFsID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdvcmlnaW5hbCcsIG51bGwpO1xuICAgICAgdmFyIHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJywgbnVsbCk7XG4gICAgICB2YXIgbmFtZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbmFtZScsIG51bGwpO1xuXG4gICAgICB0aGlzLl92YWxpZGF0ZU1hcHBpbmcoZ2VuZXJhdGVkLCBvcmlnaW5hbCwgc291cmNlLCBuYW1lKTtcblxuICAgICAgaWYgKHNvdXJjZSAmJiAhdGhpcy5fc291cmNlcy5oYXMoc291cmNlKSkge1xuICAgICAgICB0aGlzLl9zb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZSAmJiAhdGhpcy5fbmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuX25hbWVzLmFkZChuYW1lKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbWFwcGluZ3MucHVzaCh7XG4gICAgICAgIGdlbmVyYXRlZExpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IGdlbmVyYXRlZC5jb2x1bW4sXG4gICAgICAgIG9yaWdpbmFsTGluZTogb3JpZ2luYWwgIT0gbnVsbCAmJiBvcmlnaW5hbC5saW5lLFxuICAgICAgICBvcmlnaW5hbENvbHVtbjogb3JpZ2luYWwgIT0gbnVsbCAmJiBvcmlnaW5hbC5jb2x1bW4sXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBuYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50ID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3Jfc2V0U291cmNlQ29udGVudChhU291cmNlRmlsZSwgYVNvdXJjZUNvbnRlbnQpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhU291cmNlRmlsZTtcbiAgICAgIGlmICh0aGlzLl9zb3VyY2VSb290KSB7XG4gICAgICAgIHNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5fc291cmNlUm9vdCwgc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFTb3VyY2VDb250ZW50ICE9PSBudWxsKSB7XG4gICAgICAgIC8vIEFkZCB0aGUgc291cmNlIGNvbnRlbnQgdG8gdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwLlxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgX3NvdXJjZXNDb250ZW50cyBtYXAgaWYgdGhlIHByb3BlcnR5IGlzIG51bGwuXG4gICAgICAgIGlmICghdGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV0gPSBhU291cmNlQ29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIGZpbGUgZnJvbSB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAuXG4gICAgICAgIC8vIElmIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcCBpcyBlbXB0eSwgc2V0IHRoZSBwcm9wZXJ0eSB0byBudWxsLlxuICAgICAgICBkZWxldGUgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV07XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLl9zb3VyY2VzQ29udGVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBtYXBwaW5ncyBvZiBhIHN1Yi1zb3VyY2UtbWFwIGZvciBhIHNwZWNpZmljIHNvdXJjZSBmaWxlIHRvIHRoZVxuICAgKiBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZC4gRWFjaCBtYXBwaW5nIHRvIHRoZSBzdXBwbGllZCBzb3VyY2UgZmlsZSBpc1xuICAgKiByZXdyaXR0ZW4gdXNpbmcgdGhlIHN1cHBsaWVkIHNvdXJjZSBtYXAuIE5vdGU6IFRoZSByZXNvbHV0aW9uIGZvciB0aGVcbiAgICogcmVzdWx0aW5nIG1hcHBpbmdzIGlzIHRoZSBtaW5pbWl1bSBvZiB0aGlzIG1hcCBhbmQgdGhlIHN1cHBsaWVkIG1hcC5cbiAgICpcbiAgICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgc291cmNlIG1hcCB0byBiZSBhcHBsaWVkLlxuICAgKiBAcGFyYW0gYVNvdXJjZUZpbGUgT3B0aW9uYWwuIFRoZSBmaWxlbmFtZSBvZiB0aGUgc291cmNlIGZpbGUuXG4gICAqICAgICAgICBJZiBvbWl0dGVkLCBTb3VyY2VNYXBDb25zdW1lcidzIGZpbGUgcHJvcGVydHkgd2lsbCBiZSB1c2VkLlxuICAgKiBAcGFyYW0gYVNvdXJjZU1hcFBhdGggT3B0aW9uYWwuIFRoZSBkaXJuYW1lIG9mIHRoZSBwYXRoIHRvIHRoZSBzb3VyY2UgbWFwXG4gICAqICAgICAgICB0byBiZSBhcHBsaWVkLiBJZiByZWxhdGl2ZSwgaXQgaXMgcmVsYXRpdmUgdG8gdGhlIFNvdXJjZU1hcENvbnN1bWVyLlxuICAgKiAgICAgICAgVGhpcyBwYXJhbWV0ZXIgaXMgbmVlZGVkIHdoZW4gdGhlIHR3byBzb3VyY2UgbWFwcyBhcmVuJ3QgaW4gdGhlIHNhbWVcbiAgICogICAgICAgIGRpcmVjdG9yeSwgYW5kIHRoZSBzb3VyY2UgbWFwIHRvIGJlIGFwcGxpZWQgY29udGFpbnMgcmVsYXRpdmUgc291cmNlXG4gICAqICAgICAgICBwYXRocy4gSWYgc28sIHRob3NlIHJlbGF0aXZlIHNvdXJjZSBwYXRocyBuZWVkIHRvIGJlIHJld3JpdHRlblxuICAgKiAgICAgICAgcmVsYXRpdmUgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvci5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXAgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9hcHBseVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIsIGFTb3VyY2VGaWxlLCBhU291cmNlTWFwUGF0aCkge1xuICAgICAgLy8gSWYgYVNvdXJjZUZpbGUgaXMgb21pdHRlZCwgd2Ugd2lsbCB1c2UgdGhlIGZpbGUgcHJvcGVydHkgb2YgdGhlIFNvdXJjZU1hcFxuICAgICAgaWYgKCFhU291cmNlRmlsZSkge1xuICAgICAgICBpZiAoIWFTb3VyY2VNYXBDb25zdW1lci5maWxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1NvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXAgcmVxdWlyZXMgZWl0aGVyIGFuIGV4cGxpY2l0IHNvdXJjZSBmaWxlLCAnICtcbiAgICAgICAgICAgICdvciB0aGUgc291cmNlIG1hcFxcJ3MgXCJmaWxlXCIgcHJvcGVydHkuIEJvdGggd2VyZSBvbWl0dGVkLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGFTb3VyY2VGaWxlID0gYVNvdXJjZU1hcENvbnN1bWVyLmZpbGU7XG4gICAgICB9XG4gICAgICB2YXIgc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgICAvLyBNYWtlIFwiYVNvdXJjZUZpbGVcIiByZWxhdGl2ZSBpZiBhbiBhYnNvbHV0ZSBVcmwgaXMgcGFzc2VkLlxuICAgICAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAgICAgYVNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIGFTb3VyY2VGaWxlKTtcbiAgICAgIH1cbiAgICAgIC8vIEFwcGx5aW5nIHRoZSBTb3VyY2VNYXAgY2FuIGFkZCBhbmQgcmVtb3ZlIGl0ZW1zIGZyb20gdGhlIHNvdXJjZXMgYW5kXG4gICAgICAvLyB0aGUgbmFtZXMgYXJyYXkuXG4gICAgICB2YXIgbmV3U291cmNlcyA9IG5ldyBBcnJheVNldCgpO1xuICAgICAgdmFyIG5ld05hbWVzID0gbmV3IEFycmF5U2V0KCk7XG5cbiAgICAgIC8vIEZpbmQgbWFwcGluZ3MgZm9yIHRoZSBcImFTb3VyY2VGaWxlXCJcbiAgICAgIHRoaXMuX21hcHBpbmdzLmZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgaWYgKG1hcHBpbmcuc291cmNlID09PSBhU291cmNlRmlsZSAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSkge1xuICAgICAgICAgIC8vIENoZWNrIGlmIGl0IGNhbiBiZSBtYXBwZWQgYnkgdGhlIHNvdXJjZSBtYXAsIHRoZW4gdXBkYXRlIHRoZSBtYXBwaW5nLlxuICAgICAgICAgIHZhciBvcmlnaW5hbCA9IGFTb3VyY2VNYXBDb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yKHtcbiAgICAgICAgICAgIGxpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKG9yaWdpbmFsLnNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ29weSBtYXBwaW5nXG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgICAgICAgIGlmIChhU291cmNlTWFwUGF0aCkge1xuICAgICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgbWFwcGluZy5zb3VyY2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlUm9vdCkge1xuICAgICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgPSBvcmlnaW5hbC5saW5lO1xuICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbC5uYW1lICE9PSBudWxsICYmIG1hcHBpbmcubmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBPbmx5IHVzZSB0aGUgaWRlbnRpZmllciBuYW1lIGlmIGl0J3MgYW4gaWRlbnRpZmllclxuICAgICAgICAgICAgICAvLyBpbiBib3RoIFNvdXJjZU1hcHNcbiAgICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gb3JpZ2luYWwubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgIW5ld1NvdXJjZXMuaGFzKHNvdXJjZSkpIHtcbiAgICAgICAgICBuZXdTb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5hbWUgPSBtYXBwaW5nLm5hbWU7XG4gICAgICAgIGlmIChuYW1lICYmICFuZXdOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICBuZXdOYW1lcy5hZGQobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgfSwgdGhpcyk7XG4gICAgICB0aGlzLl9zb3VyY2VzID0gbmV3U291cmNlcztcbiAgICAgIHRoaXMuX25hbWVzID0gbmV3TmFtZXM7XG5cbiAgICAgIC8vIENvcHkgc291cmNlc0NvbnRlbnRzIG9mIGFwcGxpZWQgbWFwLlxuICAgICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIGlmIChhU291cmNlTWFwUGF0aCkge1xuICAgICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgc291cmNlRmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb3VyY2VSb290KSB7XG4gICAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBBIG1hcHBpbmcgY2FuIGhhdmUgb25lIG9mIHRoZSB0aHJlZSBsZXZlbHMgb2YgZGF0YTpcbiAgICpcbiAgICogICAxLiBKdXN0IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb24uXG4gICAqICAgMi4gVGhlIEdlbmVyYXRlZCBwb3NpdGlvbiwgb3JpZ2luYWwgcG9zaXRpb24sIGFuZCBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgMy4gR2VuZXJhdGVkIGFuZCBvcmlnaW5hbCBwb3NpdGlvbiwgb3JpZ2luYWwgc291cmNlLCBhcyB3ZWxsIGFzIGEgbmFtZVxuICAgKiAgICAgIHRva2VuLlxuICAgKlxuICAgKiBUbyBtYWludGFpbiBjb25zaXN0ZW5jeSwgd2UgdmFsaWRhdGUgdGhhdCBhbnkgbmV3IG1hcHBpbmcgYmVpbmcgYWRkZWQgZmFsbHNcbiAgICogaW4gdG8gb25lIG9mIHRoZXNlIGNhdGVnb3JpZXMuXG4gICAqL1xuICBTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0ZU1hcHBpbmcgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl92YWxpZGF0ZU1hcHBpbmcoYUdlbmVyYXRlZCwgYU9yaWdpbmFsLCBhU291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYU5hbWUpIHtcbiAgICAgIGlmIChhR2VuZXJhdGVkICYmICdsaW5lJyBpbiBhR2VuZXJhdGVkICYmICdjb2x1bW4nIGluIGFHZW5lcmF0ZWRcbiAgICAgICAgICAmJiBhR2VuZXJhdGVkLmxpbmUgPiAwICYmIGFHZW5lcmF0ZWQuY29sdW1uID49IDBcbiAgICAgICAgICAmJiAhYU9yaWdpbmFsICYmICFhU291cmNlICYmICFhTmFtZSkge1xuICAgICAgICAvLyBDYXNlIDEuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFHZW5lcmF0ZWQgJiYgJ2xpbmUnIGluIGFHZW5lcmF0ZWQgJiYgJ2NvbHVtbicgaW4gYUdlbmVyYXRlZFxuICAgICAgICAgICAgICAgJiYgYU9yaWdpbmFsICYmICdsaW5lJyBpbiBhT3JpZ2luYWwgJiYgJ2NvbHVtbicgaW4gYU9yaWdpbmFsXG4gICAgICAgICAgICAgICAmJiBhR2VuZXJhdGVkLmxpbmUgPiAwICYmIGFHZW5lcmF0ZWQuY29sdW1uID49IDBcbiAgICAgICAgICAgICAgICYmIGFPcmlnaW5hbC5saW5lID4gMCAmJiBhT3JpZ2luYWwuY29sdW1uID49IDBcbiAgICAgICAgICAgICAgICYmIGFTb3VyY2UpIHtcbiAgICAgICAgLy8gQ2FzZXMgMiBhbmQgMy5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXBwaW5nOiAnICsgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGdlbmVyYXRlZDogYUdlbmVyYXRlZCxcbiAgICAgICAgICBzb3VyY2U6IGFTb3VyY2UsXG4gICAgICAgICAgb3JpZ2luYWw6IGFPcmlnaW5hbCxcbiAgICAgICAgICBuYW1lOiBhTmFtZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAvKipcbiAgICogU2VyaWFsaXplIHRoZSBhY2N1bXVsYXRlZCBtYXBwaW5ncyBpbiB0byB0aGUgc3RyZWFtIG9mIGJhc2UgNjQgVkxRc1xuICAgKiBzcGVjaWZpZWQgYnkgdGhlIHNvdXJjZSBtYXAgZm9ybWF0LlxuICAgKi9cbiAgU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fc2VyaWFsaXplTWFwcGluZ3MgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9zZXJpYWxpemVNYXBwaW5ncygpIHtcbiAgICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNHZW5lcmF0ZWRMaW5lID0gMTtcbiAgICAgIHZhciBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gMDtcbiAgICAgIHZhciBwcmV2aW91c09yaWdpbmFsTGluZSA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNOYW1lID0gMDtcbiAgICAgIHZhciBwcmV2aW91c1NvdXJjZSA9IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICB2YXIgbWFwcGluZztcblxuICAgICAgLy8gVGhlIG1hcHBpbmdzIG11c3QgYmUgZ3VhcmFudGVlZCB0byBiZSBpbiBzb3J0ZWQgb3JkZXIgYmVmb3JlIHdlIHN0YXJ0XG4gICAgICAvLyBzZXJpYWxpemluZyB0aGVtIG9yIGVsc2UgdGhlIGdlbmVyYXRlZCBsaW5lIG51bWJlcnMgKHdoaWNoIGFyZSBkZWZpbmVkXG4gICAgICAvLyB2aWEgdGhlICc7JyBzZXBhcmF0b3JzKSB3aWxsIGJlIGFsbCBtZXNzZWQgdXAuIE5vdGU6IGl0IG1pZ2h0IGJlIG1vcmVcbiAgICAgIC8vIHBlcmZvcm1hbnQgdG8gbWFpbnRhaW4gdGhlIHNvcnRpbmcgYXMgd2UgaW5zZXJ0IHRoZW0sIHJhdGhlciB0aGFuIGFzIHdlXG4gICAgICAvLyBzZXJpYWxpemUgdGhlbSwgYnV0IHRoZSBiaWcgTyBpcyB0aGUgc2FtZSBlaXRoZXIgd2F5LlxuICAgICAgdGhpcy5fbWFwcGluZ3Muc29ydCh1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9tYXBwaW5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBtYXBwaW5nID0gdGhpcy5fbWFwcGluZ3NbaV07XG5cbiAgICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSAhPT0gcHJldmlvdXNHZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICAgIHdoaWxlIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgIT09IHByZXZpb3VzR2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICc7JztcbiAgICAgICAgICAgIHByZXZpb3VzR2VuZXJhdGVkTGluZSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGlmICghdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnMobWFwcGluZywgdGhpcy5fbWFwcGluZ3NbaSAtIDFdKSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnLCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c0dlbmVyYXRlZENvbHVtbik7XG4gICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG5cbiAgICAgICAgaWYgKG1hcHBpbmcuc291cmNlKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IGJhc2U2NFZMUS5lbmNvZGUodGhpcy5fc291cmNlcy5pbmRleE9mKG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNTb3VyY2UpO1xuICAgICAgICAgIHByZXZpb3VzU291cmNlID0gdGhpcy5fc291cmNlcy5pbmRleE9mKG1hcHBpbmcuc291cmNlKTtcblxuICAgICAgICAgIC8vIGxpbmVzIGFyZSBzdG9yZWQgMC1iYXNlZCBpbiBTb3VyY2VNYXAgc3BlYyB2ZXJzaW9uIDNcbiAgICAgICAgICByZXN1bHQgKz0gYmFzZTY0VkxRLmVuY29kZShtYXBwaW5nLm9yaWdpbmFsTGluZSAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzT3JpZ2luYWxMaW5lKTtcbiAgICAgICAgICBwcmV2aW91c09yaWdpbmFsTGluZSA9IG1hcHBpbmcub3JpZ2luYWxMaW5lIC0gMTtcblxuICAgICAgICAgIHJlc3VsdCArPSBiYXNlNjRWTFEuZW5jb2RlKG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4pO1xuICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgICAgaWYgKG1hcHBpbmcubmFtZSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGJhc2U2NFZMUS5lbmNvZGUodGhpcy5fbmFtZXMuaW5kZXhPZihtYXBwaW5nLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzTmFtZSk7XG4gICAgICAgICAgICBwcmV2aW91c05hbWUgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG1hcHBpbmcubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICBTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50ID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfZ2VuZXJhdGVTb3VyY2VzQ29udGVudChhU291cmNlcywgYVNvdXJjZVJvb3QpIHtcbiAgICAgIHJldHVybiBhU291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhU291cmNlUm9vdCkge1xuICAgICAgICAgIHNvdXJjZSA9IHV0aWwucmVsYXRpdmUoYVNvdXJjZVJvb3QsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IHV0aWwudG9TZXRTdHJpbmcoc291cmNlKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9zb3VyY2VzQ29udGVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KVxuICAgICAgICAgID8gdGhpcy5fc291cmNlc0NvbnRlbnRzW2tleV1cbiAgICAgICAgICA6IG51bGw7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBFeHRlcm5hbGl6ZSB0aGUgc291cmNlIG1hcC5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUudG9KU09OID1cbiAgICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfdG9KU09OKCkge1xuICAgICAgdmFyIG1hcCA9IHtcbiAgICAgICAgdmVyc2lvbjogdGhpcy5fdmVyc2lvbixcbiAgICAgICAgZmlsZTogdGhpcy5fZmlsZSxcbiAgICAgICAgc291cmNlczogdGhpcy5fc291cmNlcy50b0FycmF5KCksXG4gICAgICAgIG5hbWVzOiB0aGlzLl9uYW1lcy50b0FycmF5KCksXG4gICAgICAgIG1hcHBpbmdzOiB0aGlzLl9zZXJpYWxpemVNYXBwaW5ncygpXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuX3NvdXJjZVJvb3QpIHtcbiAgICAgICAgbWFwLnNvdXJjZVJvb3QgPSB0aGlzLl9zb3VyY2VSb290O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgICBtYXAuc291cmNlc0NvbnRlbnQgPSB0aGlzLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KG1hcC5zb3VyY2VzLCBtYXAuc291cmNlUm9vdCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfTtcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZCB0byBhIHN0cmluZy5cbiAgICovXG4gIFNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl90b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgICB9O1xuXG4gIGV4cG9ydHMuU291cmNlTWFwR2VuZXJhdG9yID0gU291cmNlTWFwR2VuZXJhdG9yO1xuXG59KTtcbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cbmlmICh0eXBlb2YgZGVmaW5lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGRlZmluZSA9IHJlcXVpcmUoJ2FtZGVmaW5lJykobW9kdWxlLCByZXF1aXJlKTtcbn1cbmRlZmluZShmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbiAgdmFyIFNvdXJjZU1hcEdlbmVyYXRvciA9IHJlcXVpcmUoJy4vc291cmNlLW1hcC1nZW5lcmF0b3InKS5Tb3VyY2VNYXBHZW5lcmF0b3I7XG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbiAgLy8gTWF0Y2hlcyBhIFdpbmRvd3Mtc3R5bGUgYFxcclxcbmAgbmV3bGluZSBvciBhIGBcXG5gIG5ld2xpbmUgdXNlZCBieSBhbGwgb3RoZXJcbiAgLy8gb3BlcmF0aW5nIHN5c3RlbXMgdGhlc2UgZGF5cyAoY2FwdHVyaW5nIHRoZSByZXN1bHQpLlxuICB2YXIgUkVHRVhfTkVXTElORSA9IC8oXFxyP1xcbikvZztcblxuICAvLyBNYXRjaGVzIGEgV2luZG93cy1zdHlsZSBuZXdsaW5lLCBvciBhbnkgY2hhcmFjdGVyLlxuICB2YXIgUkVHRVhfQ0hBUkFDVEVSID0gL1xcclxcbnxbXFxzXFxTXS9nO1xuXG4gIC8qKlxuICAgKiBTb3VyY2VOb2RlcyBwcm92aWRlIGEgd2F5IHRvIGFic3RyYWN0IG92ZXIgaW50ZXJwb2xhdGluZy9jb25jYXRlbmF0aW5nXG4gICAqIHNuaXBwZXRzIG9mIGdlbmVyYXRlZCBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlIHdoaWxlIG1haW50YWluaW5nIHRoZSBsaW5lIGFuZFxuICAgKiBjb2x1bW4gaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZS5cbiAgICpcbiAgICogQHBhcmFtIGFMaW5lIFRoZSBvcmlnaW5hbCBsaW5lIG51bWJlci5cbiAgICogQHBhcmFtIGFDb2x1bW4gVGhlIG9yaWdpbmFsIGNvbHVtbiBudW1iZXIuXG4gICAqIEBwYXJhbSBhU291cmNlIFRoZSBvcmlnaW5hbCBzb3VyY2UncyBmaWxlbmFtZS5cbiAgICogQHBhcmFtIGFDaHVua3MgT3B0aW9uYWwuIEFuIGFycmF5IG9mIHN0cmluZ3Mgd2hpY2ggYXJlIHNuaXBwZXRzIG9mXG4gICAqICAgICAgICBnZW5lcmF0ZWQgSlMsIG9yIG90aGVyIFNvdXJjZU5vZGVzLlxuICAgKiBAcGFyYW0gYU5hbWUgVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIuXG4gICAqL1xuICBmdW5jdGlvbiBTb3VyY2VOb2RlKGFMaW5lLCBhQ29sdW1uLCBhU291cmNlLCBhQ2h1bmtzLCBhTmFtZSkge1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB0aGlzLnNvdXJjZUNvbnRlbnRzID0ge307XG4gICAgdGhpcy5saW5lID0gYUxpbmUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhTGluZTtcbiAgICB0aGlzLmNvbHVtbiA9IGFDb2x1bW4gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhQ29sdW1uO1xuICAgIHRoaXMuc291cmNlID0gYVNvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFTb3VyY2U7XG4gICAgdGhpcy5uYW1lID0gYU5hbWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhTmFtZTtcbiAgICBpZiAoYUNodW5rcyAhPSBudWxsKSB0aGlzLmFkZChhQ2h1bmtzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgU291cmNlTm9kZSBmcm9tIGdlbmVyYXRlZCBjb2RlIGFuZCBhIFNvdXJjZU1hcENvbnN1bWVyLlxuICAgKlxuICAgKiBAcGFyYW0gYUdlbmVyYXRlZENvZGUgVGhlIGdlbmVyYXRlZCBjb2RlXG4gICAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcCBmb3IgdGhlIGdlbmVyYXRlZCBjb2RlXG4gICAqL1xuICBTb3VyY2VOb2RlLmZyb21TdHJpbmdXaXRoU291cmNlTWFwID1cbiAgICBmdW5jdGlvbiBTb3VyY2VOb2RlX2Zyb21TdHJpbmdXaXRoU291cmNlTWFwKGFHZW5lcmF0ZWRDb2RlLCBhU291cmNlTWFwQ29uc3VtZXIpIHtcbiAgICAgIC8vIFRoZSBTb3VyY2VOb2RlIHdlIHdhbnQgdG8gZmlsbCB3aXRoIHRoZSBnZW5lcmF0ZWQgY29kZVxuICAgICAgLy8gYW5kIHRoZSBTb3VyY2VNYXBcbiAgICAgIHZhciBub2RlID0gbmV3IFNvdXJjZU5vZGUoKTtcblxuICAgICAgLy8gQWxsIGV2ZW4gaW5kaWNlcyBvZiB0aGlzIGFycmF5IGFyZSBvbmUgbGluZSBvZiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4gICAgICAvLyB3aGlsZSBhbGwgb2RkIGluZGljZXMgYXJlIHRoZSBuZXdsaW5lcyBiZXR3ZWVuIHR3byBhZGphY2VudCBsaW5lc1xuICAgICAgLy8gKHNpbmNlIGBSRUdFWF9ORVdMSU5FYCBjYXB0dXJlcyBpdHMgbWF0Y2gpLlxuICAgICAgLy8gUHJvY2Vzc2VkIGZyYWdtZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoaXMgYXJyYXksIGJ5IGNhbGxpbmcgYHNoaWZ0TmV4dExpbmVgLlxuICAgICAgdmFyIHJlbWFpbmluZ0xpbmVzID0gYUdlbmVyYXRlZENvZGUuc3BsaXQoUkVHRVhfTkVXTElORSk7XG4gICAgICB2YXIgc2hpZnROZXh0TGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGluZUNvbnRlbnRzID0gcmVtYWluaW5nTGluZXMuc2hpZnQoKTtcbiAgICAgICAgLy8gVGhlIGxhc3QgbGluZSBvZiBhIGZpbGUgbWlnaHQgbm90IGhhdmUgYSBuZXdsaW5lLlxuICAgICAgICB2YXIgbmV3TGluZSA9IHJlbWFpbmluZ0xpbmVzLnNoaWZ0KCkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIGxpbmVDb250ZW50cyArIG5ld0xpbmU7XG4gICAgICB9O1xuXG4gICAgICAvLyBXZSBuZWVkIHRvIHJlbWVtYmVyIHRoZSBwb3NpdGlvbiBvZiBcInJlbWFpbmluZ0xpbmVzXCJcbiAgICAgIHZhciBsYXN0R2VuZXJhdGVkTGluZSA9IDEsIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuXG4gICAgICAvLyBUaGUgZ2VuZXJhdGUgU291cmNlTm9kZXMgd2UgbmVlZCBhIGNvZGUgcmFuZ2UuXG4gICAgICAvLyBUbyBleHRyYWN0IGl0IGN1cnJlbnQgYW5kIGxhc3QgbWFwcGluZyBpcyB1c2VkLlxuICAgICAgLy8gSGVyZSB3ZSBzdG9yZSB0aGUgbGFzdCBtYXBwaW5nLlxuICAgICAgdmFyIGxhc3RNYXBwaW5nID0gbnVsbDtcblxuICAgICAgYVNvdXJjZU1hcENvbnN1bWVyLmVhY2hNYXBwaW5nKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICAgIGlmIChsYXN0TWFwcGluZyAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIGFkZCB0aGUgY29kZSBmcm9tIFwibGFzdE1hcHBpbmdcIiB0byBcIm1hcHBpbmdcIjpcbiAgICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGVyZSBpcyBhIG5ldyBsaW5lIGluIGJldHdlZW4uXG4gICAgICAgICAgaWYgKGxhc3RHZW5lcmF0ZWRMaW5lIDwgbWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgICAgICB2YXIgY29kZSA9IFwiXCI7XG4gICAgICAgICAgICAvLyBBc3NvY2lhdGUgZmlyc3QgbGluZSB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICAgICAgLy8gVGhlIHJlbWFpbmluZyBjb2RlIGlzIGFkZGVkIHdpdGhvdXQgbWFwcGluZ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBuZXcgbGluZSBpbiBiZXR3ZWVuLlxuICAgICAgICAgICAgLy8gQXNzb2NpYXRlIHRoZSBjb2RlIGJldHdlZW4gXCJsYXN0R2VuZXJhdGVkQ29sdW1uXCIgYW5kXG4gICAgICAgICAgICAvLyBcIm1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXCIgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgICAgIHZhciBuZXh0TGluZSA9IHJlbWFpbmluZ0xpbmVzWzBdO1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBuZXh0TGluZS5zdWJzdHIoMCwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgICByZW1haW5pbmdMaW5lc1swXSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgY29kZSk7XG4gICAgICAgICAgICAvLyBObyBtb3JlIHJlbWFpbmluZyBjb2RlLCBjb250aW51ZVxuICAgICAgICAgICAgbGFzdE1hcHBpbmcgPSBtYXBwaW5nO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBhZGQgdGhlIGdlbmVyYXRlZCBjb2RlIHVudGlsIHRoZSBmaXJzdCBtYXBwaW5nXG4gICAgICAgIC8vIHRvIHRoZSBTb3VyY2VOb2RlIHdpdGhvdXQgYW55IG1hcHBpbmcuXG4gICAgICAgIC8vIEVhY2ggbGluZSBpcyBhZGRlZCBhcyBzZXBhcmF0ZSBzdHJpbmcuXG4gICAgICAgIHdoaWxlIChsYXN0R2VuZXJhdGVkTGluZSA8IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgIG5vZGUuYWRkKHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZExpbmUrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEdlbmVyYXRlZENvbHVtbiA8IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uKSB7XG4gICAgICAgICAgdmFyIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbMF07XG4gICAgICAgICAgbm9kZS5hZGQobmV4dExpbmUuc3Vic3RyKDAsIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uKSk7XG4gICAgICAgICAgcmVtYWluaW5nTGluZXNbMF0gPSBuZXh0TGluZS5zdWJzdHIobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBsYXN0TWFwcGluZyA9IG1hcHBpbmc7XG4gICAgICB9LCB0aGlzKTtcbiAgICAgIC8vIFdlIGhhdmUgcHJvY2Vzc2VkIGFsbCBtYXBwaW5ncy5cbiAgICAgIGlmIChyZW1haW5pbmdMaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChsYXN0TWFwcGluZykge1xuICAgICAgICAgIC8vIEFzc29jaWF0ZSB0aGUgcmVtYWluaW5nIGNvZGUgaW4gdGhlIGN1cnJlbnQgbGluZSB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbmQgYWRkIHRoZSByZW1haW5pbmcgbGluZXMgd2l0aG91dCBhbnkgbWFwcGluZ1xuICAgICAgICBub2RlLmFkZChyZW1haW5pbmdMaW5lcy5qb2luKFwiXCIpKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29weSBzb3VyY2VzQ29udGVudCBpbnRvIFNvdXJjZU5vZGVcbiAgICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzb3VyY2VGaWxlKTtcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICBub2RlLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm9kZTtcblxuICAgICAgZnVuY3Rpb24gYWRkTWFwcGluZ1dpdGhDb2RlKG1hcHBpbmcsIGNvZGUpIHtcbiAgICAgICAgaWYgKG1hcHBpbmcgPT09IG51bGwgfHwgbWFwcGluZy5zb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5vZGUuYWRkKGNvZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuYWRkKG5ldyBTb3VyY2VOb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLm5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNodW5rIG9mIGdlbmVyYXRlZCBKUyB0byB0aGlzIHNvdXJjZSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0gYUNodW5rIEEgc3RyaW5nIHNuaXBwZXQgb2YgZ2VuZXJhdGVkIEpTIGNvZGUsIGFub3RoZXIgaW5zdGFuY2Ugb2ZcbiAgICogICAgICAgIFNvdXJjZU5vZGUsIG9yIGFuIGFycmF5IHdoZXJlIGVhY2ggbWVtYmVyIGlzIG9uZSBvZiB0aG9zZSB0aGluZ3MuXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX2FkZChhQ2h1bmspIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhQ2h1bmspKSB7XG4gICAgICBhQ2h1bmsuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgdGhpcy5hZGQoY2h1bmspO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFDaHVuayBpbnN0YW5jZW9mIFNvdXJjZU5vZGUgfHwgdHlwZW9mIGFDaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKGFDaHVuaykge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYUNodW5rKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBcIkV4cGVjdGVkIGEgU291cmNlTm9kZSwgc3RyaW5nLCBvciBhbiBhcnJheSBvZiBTb3VyY2VOb2RlcyBhbmQgc3RyaW5ncy4gR290IFwiICsgYUNodW5rXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGEgY2h1bmsgb2YgZ2VuZXJhdGVkIEpTIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBzb3VyY2Ugbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIGFDaHVuayBBIHN0cmluZyBzbmlwcGV0IG9mIGdlbmVyYXRlZCBKUyBjb2RlLCBhbm90aGVyIGluc3RhbmNlIG9mXG4gICAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICAgKi9cbiAgU291cmNlTm9kZS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfcHJlcGVuZChhQ2h1bmspIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhQ2h1bmspKSB7XG4gICAgICBmb3IgKHZhciBpID0gYUNodW5rLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgICB0aGlzLnByZXBlbmQoYUNodW5rW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYUNodW5rIGluc3RhbmNlb2YgU291cmNlTm9kZSB8fCB0eXBlb2YgYUNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnVuc2hpZnQoYUNodW5rKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBcIkV4cGVjdGVkIGEgU291cmNlTm9kZSwgc3RyaW5nLCBvciBhbiBhcnJheSBvZiBTb3VyY2VOb2RlcyBhbmQgc3RyaW5ncy4gR290IFwiICsgYUNodW5rXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogV2FsayBvdmVyIHRoZSB0cmVlIG9mIEpTIHNuaXBwZXRzIGluIHRoaXMgbm9kZSBhbmQgaXRzIGNoaWxkcmVuLiBUaGVcbiAgICogd2Fsa2luZyBmdW5jdGlvbiBpcyBjYWxsZWQgb25jZSBmb3IgZWFjaCBzbmlwcGV0IG9mIEpTIGFuZCBpcyBwYXNzZWQgdGhhdFxuICAgKiBzbmlwcGV0IGFuZCB0aGUgaXRzIG9yaWdpbmFsIGFzc29jaWF0ZWQgc291cmNlJ3MgbGluZS9jb2x1bW4gbG9jYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBhRm4gVGhlIHRyYXZlcnNhbCBmdW5jdGlvbi5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3dhbGsoYUZuKSB7XG4gICAgdmFyIGNodW5rO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjaHVuayA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoY2h1bmsgaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG4gICAgICAgIGNodW5rLndhbGsoYUZuKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY2h1bmsgIT09ICcnKSB7XG4gICAgICAgICAgYUZuKGNodW5rLCB7IHNvdXJjZTogdGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IHRoaXMubGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBMaWtlIGBTdHJpbmcucHJvdG90eXBlLmpvaW5gIGV4Y2VwdCBmb3IgU291cmNlTm9kZXMuIEluc2VydHMgYGFTdHJgIGJldHdlZW5cbiAgICogZWFjaCBvZiBgdGhpcy5jaGlsZHJlbmAuXG4gICAqXG4gICAqIEBwYXJhbSBhU2VwIFRoZSBzZXBhcmF0b3IuXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gU291cmNlTm9kZV9qb2luKGFTZXApIHtcbiAgICB2YXIgbmV3Q2hpbGRyZW47XG4gICAgdmFyIGk7XG4gICAgdmFyIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICBuZXdDaGlsZHJlbiA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbi0xOyBpKyspIHtcbiAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChhU2VwKTtcbiAgICAgIH1cbiAgICAgIG5ld0NoaWxkcmVuLnB1c2godGhpcy5jaGlsZHJlbltpXSk7XG4gICAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW47XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSBvbiB0aGUgdmVyeSByaWdodC1tb3N0IHNvdXJjZSBzbmlwcGV0LiBVc2VmdWxcbiAgICogZm9yIHRyaW1taW5nIHdoaXRlc3BhY2UgZnJvbSB0aGUgZW5kIG9mIGEgc291cmNlIG5vZGUsIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIGFQYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAqIEBwYXJhbSBhUmVwbGFjZW1lbnQgVGhlIHRoaW5nIHRvIHJlcGxhY2UgdGhlIHBhdHRlcm4gd2l0aC5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLnJlcGxhY2VSaWdodCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfcmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpIHtcbiAgICB2YXIgbGFzdENoaWxkID0gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0Q2hpbGQgaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG4gICAgICBsYXN0Q2hpbGQucmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbGFzdENoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdID0gbGFzdENoaWxkLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKCcnLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBzb3VyY2UgY29udGVudCBmb3IgYSBzb3VyY2UgZmlsZS4gVGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3JcbiAgICogaW4gdGhlIHNvdXJjZXNDb250ZW50IGZpZWxkLlxuICAgKlxuICAgKiBAcGFyYW0gYVNvdXJjZUZpbGUgVGhlIGZpbGVuYW1lIG9mIHRoZSBzb3VyY2UgZmlsZVxuICAgKiBAcGFyYW0gYVNvdXJjZUNvbnRlbnQgVGhlIGNvbnRlbnQgb2YgdGhlIHNvdXJjZSBmaWxlXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50ID1cbiAgICBmdW5jdGlvbiBTb3VyY2VOb2RlX3NldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgICB0aGlzLnNvdXJjZUNvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoYVNvdXJjZUZpbGUpXSA9IGFTb3VyY2VDb250ZW50O1xuICAgIH07XG5cbiAgLyoqXG4gICAqIFdhbGsgb3ZlciB0aGUgdHJlZSBvZiBTb3VyY2VOb2Rlcy4gVGhlIHdhbGtpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoXG4gICAqIHNvdXJjZSBmaWxlIGNvbnRlbnQgYW5kIGlzIHBhc3NlZCB0aGUgZmlsZW5hbWUgYW5kIHNvdXJjZSBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gYUZuIFRoZSB0cmF2ZXJzYWwgZnVuY3Rpb24uXG4gICAqL1xuICBTb3VyY2VOb2RlLnByb3RvdHlwZS53YWxrU291cmNlQ29udGVudHMgPVxuICAgIGZ1bmN0aW9uIFNvdXJjZU5vZGVfd2Fsa1NvdXJjZUNvbnRlbnRzKGFGbikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBTb3VyY2VOb2RlKSB7XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS53YWxrU291cmNlQ29udGVudHMoYUZuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlcyA9IE9iamVjdC5rZXlzKHRoaXMuc291cmNlQ29udGVudHMpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYUZuKHV0aWwuZnJvbVNldFN0cmluZyhzb3VyY2VzW2ldKSwgdGhpcy5zb3VyY2VDb250ZW50c1tzb3VyY2VzW2ldXSk7XG4gICAgICB9XG4gICAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZS4gV2Fsa3Mgb3ZlciB0aGUgdHJlZVxuICAgKiBhbmQgY29uY2F0ZW5hdGVzIGFsbCB0aGUgdmFyaW91cyBzbmlwcGV0cyB0b2dldGhlciB0byBvbmUgc3RyaW5nLlxuICAgKi9cbiAgU291cmNlTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3RvU3RyaW5nKCkge1xuICAgIHZhciBzdHIgPSBcIlwiO1xuICAgIHRoaXMud2FsayhmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgIHN0ciArPSBjaHVuaztcbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZSBhbG9uZyB3aXRoIGEgc291cmNlXG4gICAqIG1hcC5cbiAgICovXG4gIFNvdXJjZU5vZGUucHJvdG90eXBlLnRvU3RyaW5nV2l0aFNvdXJjZU1hcCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfdG9TdHJpbmdXaXRoU291cmNlTWFwKGFBcmdzKSB7XG4gICAgdmFyIGdlbmVyYXRlZCA9IHtcbiAgICAgIGNvZGU6IFwiXCIsXG4gICAgICBsaW5lOiAxLFxuICAgICAgY29sdW1uOiAwXG4gICAgfTtcbiAgICB2YXIgbWFwID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcihhQXJncyk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICB2YXIgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICB2YXIgbGFzdE9yaWdpbmFsTGluZSA9IG51bGw7XG4gICAgdmFyIGxhc3RPcmlnaW5hbENvbHVtbiA9IG51bGw7XG4gICAgdmFyIGxhc3RPcmlnaW5hbE5hbWUgPSBudWxsO1xuICAgIHRoaXMud2FsayhmdW5jdGlvbiAoY2h1bmssIG9yaWdpbmFsKSB7XG4gICAgICBnZW5lcmF0ZWQuY29kZSArPSBjaHVuaztcbiAgICAgIGlmIChvcmlnaW5hbC5zb3VyY2UgIT09IG51bGxcbiAgICAgICAgICAmJiBvcmlnaW5hbC5saW5lICE9PSBudWxsXG4gICAgICAgICAgJiYgb3JpZ2luYWwuY29sdW1uICE9PSBudWxsKSB7XG4gICAgICAgIGlmKGxhc3RPcmlnaW5hbFNvdXJjZSAhPT0gb3JpZ2luYWwuc291cmNlXG4gICAgICAgICAgIHx8IGxhc3RPcmlnaW5hbExpbmUgIT09IG9yaWdpbmFsLmxpbmVcbiAgICAgICAgICAgfHwgbGFzdE9yaWdpbmFsQ29sdW1uICE9PSBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICAgfHwgbGFzdE9yaWdpbmFsTmFtZSAhPT0gb3JpZ2luYWwubmFtZSkge1xuICAgICAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgICAgIHNvdXJjZTogb3JpZ2luYWwuc291cmNlLFxuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgbGluZTogb3JpZ2luYWwubGluZSxcbiAgICAgICAgICAgICAgY29sdW1uOiBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsLm5hbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0T3JpZ2luYWxTb3VyY2UgPSBvcmlnaW5hbC5zb3VyY2U7XG4gICAgICAgIGxhc3RPcmlnaW5hbExpbmUgPSBvcmlnaW5hbC5saW5lO1xuICAgICAgICBsYXN0T3JpZ2luYWxDb2x1bW4gPSBvcmlnaW5hbC5jb2x1bW47XG4gICAgICAgIGxhc3RPcmlnaW5hbE5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc291cmNlTWFwcGluZ0FjdGl2ZSkge1xuICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNodW5rLm1hdGNoKFJFR0VYX0NIQVJBQ1RFUikuZm9yRWFjaChmdW5jdGlvbiAoY2gsIGlkeCwgYXJyYXkpIHtcbiAgICAgICAgaWYgKFJFR0VYX05FV0xJTkUudGVzdChjaCkpIHtcbiAgICAgICAgICBnZW5lcmF0ZWQubGluZSsrO1xuICAgICAgICAgIGdlbmVyYXRlZC5jb2x1bW4gPSAwO1xuICAgICAgICAgIC8vIE1hcHBpbmdzIGVuZCBhdCBlb2xcbiAgICAgICAgICBpZiAoaWR4ICsgMSA9PT0gYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlTWFwcGluZ0FjdGl2ZSkge1xuICAgICAgICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgICAgICBzb3VyY2U6IG9yaWdpbmFsLnNvdXJjZSxcbiAgICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgICBsaW5lOiBvcmlnaW5hbC5saW5lLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogb3JpZ2luYWwuY29sdW1uXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBuYW1lOiBvcmlnaW5hbC5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbiArPSBjaC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMud2Fsa1NvdXJjZUNvbnRlbnRzKGZ1bmN0aW9uIChzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KSB7XG4gICAgICBtYXAuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7IGNvZGU6IGdlbmVyYXRlZC5jb2RlLCBtYXA6IG1hcCB9O1xuICB9O1xuXG4gIGV4cG9ydHMuU291cmNlTm9kZSA9IFNvdXJjZU5vZGU7XG5cbn0pO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUsIHJlcXVpcmUpO1xufVxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgZ2V0dGluZyB2YWx1ZXMgZnJvbSBwYXJhbWV0ZXIvb3B0aW9uc1xuICAgKiBvYmplY3RzLlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyBUaGUgb2JqZWN0IHdlIGFyZSBleHRyYWN0aW5nIHZhbHVlcyBmcm9tXG4gICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3ZSBhcmUgZ2V0dGluZy5cbiAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBbiBvcHRpb25hbCB2YWx1ZSB0byByZXR1cm4gaWYgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmdcbiAgICogZnJvbSB0aGUgb2JqZWN0LiBJZiB0aGlzIGlzIG5vdCBzcGVjaWZpZWQgYW5kIHRoZSBwcm9wZXJ0eSBpcyBtaXNzaW5nLCBhblxuICAgKiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFyZyhhQXJncywgYU5hbWUsIGFEZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoYU5hbWUgaW4gYUFyZ3MpIHtcbiAgICAgIHJldHVybiBhQXJnc1thTmFtZV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICByZXR1cm4gYURlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhTmFtZSArICdcIiBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50LicpO1xuICAgIH1cbiAgfVxuICBleHBvcnRzLmdldEFyZyA9IGdldEFyZztcblxuICB2YXIgdXJsUmVnZXhwID0gL14oPzooW1xcdytcXC0uXSspOik/XFwvXFwvKD86KFxcdys6XFx3KylAKT8oW1xcdy5dKikoPzo6KFxcZCspKT8oXFxTKikkLztcbiAgdmFyIGRhdGFVcmxSZWdleHAgPSAvXmRhdGE6LitcXCwuKyQvO1xuXG4gIGZ1bmN0aW9uIHVybFBhcnNlKGFVcmwpIHtcbiAgICB2YXIgbWF0Y2ggPSBhVXJsLm1hdGNoKHVybFJlZ2V4cCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzY2hlbWU6IG1hdGNoWzFdLFxuICAgICAgYXV0aDogbWF0Y2hbMl0sXG4gICAgICBob3N0OiBtYXRjaFszXSxcbiAgICAgIHBvcnQ6IG1hdGNoWzRdLFxuICAgICAgcGF0aDogbWF0Y2hbNV1cbiAgICB9O1xuICB9XG4gIGV4cG9ydHMudXJsUGFyc2UgPSB1cmxQYXJzZTtcblxuICBmdW5jdGlvbiB1cmxHZW5lcmF0ZShhUGFyc2VkVXJsKSB7XG4gICAgdmFyIHVybCA9ICcnO1xuICAgIGlmIChhUGFyc2VkVXJsLnNjaGVtZSkge1xuICAgICAgdXJsICs9IGFQYXJzZWRVcmwuc2NoZW1lICsgJzonO1xuICAgIH1cbiAgICB1cmwgKz0gJy8vJztcbiAgICBpZiAoYVBhcnNlZFVybC5hdXRoKSB7XG4gICAgICB1cmwgKz0gYVBhcnNlZFVybC5hdXRoICsgJ0AnO1xuICAgIH1cbiAgICBpZiAoYVBhcnNlZFVybC5ob3N0KSB7XG4gICAgICB1cmwgKz0gYVBhcnNlZFVybC5ob3N0O1xuICAgIH1cbiAgICBpZiAoYVBhcnNlZFVybC5wb3J0KSB7XG4gICAgICB1cmwgKz0gXCI6XCIgKyBhUGFyc2VkVXJsLnBvcnRcbiAgICB9XG4gICAgaWYgKGFQYXJzZWRVcmwucGF0aCkge1xuICAgICAgdXJsICs9IGFQYXJzZWRVcmwucGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBleHBvcnRzLnVybEdlbmVyYXRlID0gdXJsR2VuZXJhdGU7XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgYSBwYXRoLCBvciB0aGUgcGF0aCBwb3J0aW9uIG9mIGEgVVJMOlxuICAgKlxuICAgKiAtIFJlcGxhY2VzIGNvbnNlcXV0aXZlIHNsYXNoZXMgd2l0aCBvbmUgc2xhc2guXG4gICAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnLicgcGFydHMuXG4gICAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnPGRpcj4vLi4nIHBhcnRzLlxuICAgKlxuICAgKiBCYXNlZCBvbiBjb2RlIGluIHRoZSBOb2RlLmpzICdwYXRoJyBjb3JlIG1vZHVsZS5cbiAgICpcbiAgICogQHBhcmFtIGFQYXRoIFRoZSBwYXRoIG9yIHVybCB0byBub3JtYWxpemUuXG4gICAqL1xuICBmdW5jdGlvbiBub3JtYWxpemUoYVBhdGgpIHtcbiAgICB2YXIgcGF0aCA9IGFQYXRoO1xuICAgIHZhciB1cmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gICAgaWYgKHVybCkge1xuICAgICAgaWYgKCF1cmwucGF0aCkge1xuICAgICAgICByZXR1cm4gYVBhdGg7XG4gICAgICB9XG4gICAgICBwYXRoID0gdXJsLnBhdGg7XG4gICAgfVxuICAgIHZhciBpc0Fic29sdXRlID0gKHBhdGguY2hhckF0KDApID09PSAnLycpO1xuXG4gICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgvXFwvKy8pO1xuICAgIGZvciAodmFyIHBhcnQsIHVwID0gMCwgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBwYXJ0ID0gcGFydHNbaV07XG4gICAgICBpZiAocGFydCA9PT0gJy4nKSB7XG4gICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgICB1cCsrO1xuICAgICAgfSBlbHNlIGlmICh1cCA+IDApIHtcbiAgICAgICAgaWYgKHBhcnQgPT09ICcnKSB7XG4gICAgICAgICAgLy8gVGhlIGZpcnN0IHBhcnQgaXMgYmxhbmsgaWYgdGhlIHBhdGggaXMgYWJzb2x1dGUuIFRyeWluZyB0byBnb1xuICAgICAgICAgIC8vIGFib3ZlIHRoZSByb290IGlzIGEgbm8tb3AuIFRoZXJlZm9yZSB3ZSBjYW4gcmVtb3ZlIGFsbCAnLi4nIHBhcnRzXG4gICAgICAgICAgLy8gZGlyZWN0bHkgYWZ0ZXIgdGhlIHJvb3QuXG4gICAgICAgICAgcGFydHMuc3BsaWNlKGkgKyAxLCB1cCk7XG4gICAgICAgICAgdXAgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAyKTtcbiAgICAgICAgICB1cC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgICBpZiAocGF0aCA9PT0gJycpIHtcbiAgICAgIHBhdGggPSBpc0Fic29sdXRlID8gJy8nIDogJy4nO1xuICAgIH1cblxuICAgIGlmICh1cmwpIHtcbiAgICAgIHVybC5wYXRoID0gcGF0aDtcbiAgICAgIHJldHVybiB1cmxHZW5lcmF0ZSh1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuICBleHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcblxuICAvKipcbiAgICogSm9pbnMgdHdvIHBhdGhzL1VSTHMuXG4gICAqXG4gICAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAgICogQHBhcmFtIGFQYXRoIFRoZSBwYXRoIG9yIFVSTCB0byBiZSBqb2luZWQgd2l0aCB0aGUgcm9vdC5cbiAgICpcbiAgICogLSBJZiBhUGF0aCBpcyBhIFVSTCBvciBhIGRhdGEgVVJJLCBhUGF0aCBpcyByZXR1cm5lZCwgdW5sZXNzIGFQYXRoIGlzIGFcbiAgICogICBzY2hlbWUtcmVsYXRpdmUgVVJMOiBUaGVuIHRoZSBzY2hlbWUgb2YgYVJvb3QsIGlmIGFueSwgaXMgcHJlcGVuZGVkXG4gICAqICAgZmlyc3QuXG4gICAqIC0gT3RoZXJ3aXNlIGFQYXRoIGlzIGEgcGF0aC4gSWYgYVJvb3QgaXMgYSBVUkwsIHRoZW4gaXRzIHBhdGggcG9ydGlvblxuICAgKiAgIGlzIHVwZGF0ZWQgd2l0aCB0aGUgcmVzdWx0IGFuZCBhUm9vdCBpcyByZXR1cm5lZC4gT3RoZXJ3aXNlIHRoZSByZXN1bHRcbiAgICogICBpcyByZXR1cm5lZC5cbiAgICogICAtIElmIGFQYXRoIGlzIGFic29sdXRlLCB0aGUgcmVzdWx0IGlzIGFQYXRoLlxuICAgKiAgIC0gT3RoZXJ3aXNlIHRoZSB0d28gcGF0aHMgYXJlIGpvaW5lZCB3aXRoIGEgc2xhc2guXG4gICAqIC0gSm9pbmluZyBmb3IgZXhhbXBsZSAnaHR0cDovLycgYW5kICd3d3cuZXhhbXBsZS5jb20nIGlzIGFsc28gc3VwcG9ydGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gam9pbihhUm9vdCwgYVBhdGgpIHtcbiAgICB2YXIgYVBhdGhVcmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gICAgdmFyIGFSb290VXJsID0gdXJsUGFyc2UoYVJvb3QpO1xuICAgIGlmIChhUm9vdFVybCkge1xuICAgICAgYVJvb3QgPSBhUm9vdFVybC5wYXRoIHx8ICcvJztcbiAgICB9XG5cbiAgICAvLyBgam9pbihmb28sICcvL3d3dy5leGFtcGxlLm9yZycpYFxuICAgIGlmIChhUGF0aFVybCAmJiAhYVBhdGhVcmwuc2NoZW1lKSB7XG4gICAgICBpZiAoYVJvb3RVcmwpIHtcbiAgICAgICAgYVBhdGhVcmwuc2NoZW1lID0gYVJvb3RVcmwuc2NoZW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybEdlbmVyYXRlKGFQYXRoVXJsKTtcbiAgICB9XG5cbiAgICBpZiAoYVBhdGhVcmwgfHwgYVBhdGgubWF0Y2goZGF0YVVybFJlZ2V4cCkpIHtcbiAgICAgIHJldHVybiBhUGF0aDtcbiAgICB9XG5cbiAgICAvLyBgam9pbignaHR0cDovLycsICd3d3cuZXhhbXBsZS5jb20nKWBcbiAgICBpZiAoYVJvb3RVcmwgJiYgIWFSb290VXJsLmhvc3QgJiYgIWFSb290VXJsLnBhdGgpIHtcbiAgICAgIGFSb290VXJsLmhvc3QgPSBhUGF0aDtcbiAgICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gICAgfVxuXG4gICAgdmFyIGpvaW5lZCA9IGFQYXRoLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICA/IGFQYXRoXG4gICAgICA6IG5vcm1hbGl6ZShhUm9vdC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIGFQYXRoKTtcblxuICAgIGlmIChhUm9vdFVybCkge1xuICAgICAgYVJvb3RVcmwucGF0aCA9IGpvaW5lZDtcbiAgICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gICAgfVxuICAgIHJldHVybiBqb2luZWQ7XG4gIH1cbiAgZXhwb3J0cy5qb2luID0gam9pbjtcblxuICAvKipcbiAgICogQmVjYXVzZSBiZWhhdmlvciBnb2VzIHdhY2t5IHdoZW4geW91IHNldCBgX19wcm90b19fYCBvbiBvYmplY3RzLCB3ZVxuICAgKiBoYXZlIHRvIHByZWZpeCBhbGwgdGhlIHN0cmluZ3MgaW4gb3VyIHNldCB3aXRoIGFuIGFyYml0cmFyeSBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL3B1bGwvMzEgYW5kXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvaXNzdWVzLzMwXG4gICAqXG4gICAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICAgKi9cbiAgZnVuY3Rpb24gdG9TZXRTdHJpbmcoYVN0cikge1xuICAgIHJldHVybiAnJCcgKyBhU3RyO1xuICB9XG4gIGV4cG9ydHMudG9TZXRTdHJpbmcgPSB0b1NldFN0cmluZztcblxuICBmdW5jdGlvbiBmcm9tU2V0U3RyaW5nKGFTdHIpIHtcbiAgICByZXR1cm4gYVN0ci5zdWJzdHIoMSk7XG4gIH1cbiAgZXhwb3J0cy5mcm9tU2V0U3RyaW5nID0gZnJvbVNldFN0cmluZztcblxuICBmdW5jdGlvbiByZWxhdGl2ZShhUm9vdCwgYVBhdGgpIHtcbiAgICBhUm9vdCA9IGFSb290LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cbiAgICB2YXIgdXJsID0gdXJsUGFyc2UoYVJvb3QpO1xuICAgIGlmIChhUGF0aC5jaGFyQXQoMCkgPT0gXCIvXCIgJiYgdXJsICYmIHVybC5wYXRoID09IFwiL1wiKSB7XG4gICAgICByZXR1cm4gYVBhdGguc2xpY2UoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFQYXRoLmluZGV4T2YoYVJvb3QgKyAnLycpID09PSAwXG4gICAgICA/IGFQYXRoLnN1YnN0cihhUm9vdC5sZW5ndGggKyAxKVxuICAgICAgOiBhUGF0aDtcbiAgfVxuICBleHBvcnRzLnJlbGF0aXZlID0gcmVsYXRpdmU7XG5cbiAgZnVuY3Rpb24gc3RyY21wKGFTdHIxLCBhU3RyMikge1xuICAgIHZhciBzMSA9IGFTdHIxIHx8IFwiXCI7XG4gICAgdmFyIHMyID0gYVN0cjIgfHwgXCJcIjtcbiAgICByZXR1cm4gKHMxID4gczIpIC0gKHMxIDwgczIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2hlcmUgdGhlIG9yaWdpbmFsIHBvc2l0aW9ucyBhcmUgY29tcGFyZWQuXG4gICAqXG4gICAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAgICogbWFwcGluZ3Mgd2l0aCB0aGUgc2FtZSBvcmlnaW5hbCBzb3VyY2UvbGluZS9jb2x1bW4sIGJ1dCBkaWZmZXJlbnQgZ2VuZXJhdGVkXG4gICAqIGxpbmUgYW5kIGNvbHVtbiB0aGUgc2FtZS4gVXNlZnVsIHdoZW4gc2VhcmNoaW5nIGZvciBhIG1hcHBpbmcgd2l0aCBhXG4gICAqIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBjb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyhtYXBwaW5nQSwgbWFwcGluZ0IsIG9ubHlDb21wYXJlT3JpZ2luYWwpIHtcbiAgICB2YXIgY21wO1xuXG4gICAgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsQ29sdW1uIC0gbWFwcGluZ0Iub3JpZ2luYWxDb2x1bW47XG4gICAgaWYgKGNtcCB8fCBvbmx5Q29tcGFyZU9yaWdpbmFsKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IHN0cmNtcChtYXBwaW5nQS5uYW1lLCBtYXBwaW5nQi5uYW1lKTtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgfTtcbiAgZXhwb3J0cy5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyA9IGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zO1xuXG4gIC8qKlxuICAgKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdoZXJlIHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zIGFyZVxuICAgKiBjb21wYXJlZC5cbiAgICpcbiAgICogT3B0aW9uYWxseSBwYXNzIGluIGB0cnVlYCBhcyBgb25seUNvbXBhcmVHZW5lcmF0ZWRgIHRvIGNvbnNpZGVyIHR3b1xuICAgKiBtYXBwaW5ncyB3aXRoIHRoZSBzYW1lIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4sIGJ1dCBkaWZmZXJlbnRcbiAgICogc291cmNlL25hbWUvb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGFcbiAgICogbWFwcGluZyB3aXRoIGEgc3R1YmJlZCBvdXQgbWFwcGluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyhtYXBwaW5nQSwgbWFwcGluZ0IsIG9ubHlDb21wYXJlR2VuZXJhdGVkKSB7XG4gICAgdmFyIGNtcDtcblxuICAgIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICAgIGlmIChjbXApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uIC0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICAgIGlmIChjbXAgfHwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuXG4gICAgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgICBpZiAoY21wKSB7XG4gICAgICByZXR1cm4gY21wO1xuICAgIH1cblxuICAgIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsQ29sdW1uIC0gbWFwcGluZ0Iub3JpZ2luYWxDb2x1bW47XG4gICAgaWYgKGNtcCkge1xuICAgICAgcmV0dXJuIGNtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xuICB9O1xuICBleHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucyA9IGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9ucztcblxufSk7XG4iLCIoZnVuY3Rpb24gKHByb2Nlc3MsX19maWxlbmFtZSl7XG4vKiogdmltOiBldDp0cz00OnN3PTQ6c3RzPTRcbiAqIEBsaWNlbnNlIGFtZGVmaW5lIDAuMS4wIENvcHlyaWdodCAoYykgMjAxMSwgVGhlIERvam8gRm91bmRhdGlvbiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogQXZhaWxhYmxlIHZpYSB0aGUgTUlUIG9yIG5ldyBCU0QgbGljZW5zZS5cbiAqIHNlZTogaHR0cDovL2dpdGh1Yi5jb20vanJidXJrZS9hbWRlZmluZSBmb3IgZGV0YWlsc1xuICovXG5cbi8qanNsaW50IG5vZGU6IHRydWUgKi9cbi8qZ2xvYmFsIG1vZHVsZSwgcHJvY2VzcyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWZpbmUgZm9yIG5vZGUuXG4gKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIHRoZSBcIm1vZHVsZVwiIG9iamVjdCB0aGF0IGlzIGRlZmluZWQgYnkgTm9kZSBmb3IgdGhlXG4gKiBjdXJyZW50IG1vZHVsZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXF1aXJlRm5dLiBOb2RlJ3MgcmVxdWlyZSBmdW5jdGlvbiBmb3IgdGhlIGN1cnJlbnQgbW9kdWxlLlxuICogSXQgb25seSBuZWVkcyB0byBiZSBwYXNzZWQgaW4gTm9kZSB2ZXJzaW9ucyBiZWZvcmUgMC41LCB3aGVuIG1vZHVsZS5yZXF1aXJlXG4gKiBkaWQgbm90IGV4aXN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIGRlZmluZSBmdW5jdGlvbiB0aGF0IGlzIHVzYWJsZSBmb3IgdGhlIGN1cnJlbnQgbm9kZVxuICogbW9kdWxlLlxuICovXG5mdW5jdGlvbiBhbWRlZmluZShtb2R1bGUsIHJlcXVpcmVGbikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgZGVmaW5lQ2FjaGUgPSB7fSxcbiAgICAgICAgbG9hZGVyQ2FjaGUgPSB7fSxcbiAgICAgICAgYWxyZWFkeUNhbGxlZCA9IGZhbHNlLFxuICAgICAgICBwYXRoID0gcmVxdWlyZSgncGF0aCcpLFxuICAgICAgICBtYWtlUmVxdWlyZSwgc3RyaW5nUmVxdWlyZTtcblxuICAgIC8qKlxuICAgICAqIFRyaW1zIHRoZSAuIGFuZCAuLiBmcm9tIGFuIGFycmF5IG9mIHBhdGggc2VnbWVudHMuXG4gICAgICogSXQgd2lsbCBrZWVwIGEgbGVhZGluZyBwYXRoIHNlZ21lbnQgaWYgYSAuLiB3aWxsIGJlY29tZVxuICAgICAqIHRoZSBmaXJzdCBwYXRoIHNlZ21lbnQsIHRvIGhlbHAgd2l0aCBtb2R1bGUgbmFtZSBsb29rdXBzLFxuICAgICAqIHdoaWNoIGFjdCBsaWtlIHBhdGhzLCBidXQgY2FuIGJlIHJlbWFwcGVkLiBCdXQgdGhlIGVuZCByZXN1bHQsXG4gICAgICogYWxsIHBhdGhzIHRoYXQgdXNlIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGxvb2sgbm9ybWFsaXplZC5cbiAgICAgKiBOT1RFOiB0aGlzIG1ldGhvZCBNT0RJRklFUyB0aGUgaW5wdXQgYXJyYXkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJ5IHRoZSBhcnJheSBvZiBwYXRoIHNlZ21lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1Eb3RzKGFyeSkge1xuICAgICAgICB2YXIgaSwgcGFydDtcbiAgICAgICAgZm9yIChpID0gMDsgYXJ5W2ldOyBpKz0gMSkge1xuICAgICAgICAgICAgcGFydCA9IGFyeVtpXTtcbiAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICBhcnkuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAxICYmIChhcnlbMl0gPT09ICcuLicgfHwgYXJ5WzBdID09PSAnLi4nKSkge1xuICAgICAgICAgICAgICAgICAgICAvL0VuZCBvZiB0aGUgbGluZS4gS2VlcCBhdCBsZWFzdCBvbmUgbm9uLWRvdFxuICAgICAgICAgICAgICAgICAgICAvL3BhdGggc2VnbWVudCBhdCB0aGUgZnJvbnQgc28gaXQgY2FuIGJlIG1hcHBlZFxuICAgICAgICAgICAgICAgICAgICAvL2NvcnJlY3RseSB0byBkaXNrLiBPdGhlcndpc2UsIHRoZXJlIGlzIGxpa2VseVxuICAgICAgICAgICAgICAgICAgICAvL25vIHBhdGggbWFwcGluZyBmb3IgYSBwYXRoIHN0YXJ0aW5nIHdpdGggJy4uJy5cbiAgICAgICAgICAgICAgICAgICAgLy9UaGlzIGNhbiBzdGlsbCBmYWlsLCBidXQgY2F0Y2hlcyB0aGUgbW9zdCByZWFzb25hYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vdXNlcyBvZiAuLlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyeS5zcGxpY2UoaSAtIDEsIDIpO1xuICAgICAgICAgICAgICAgICAgICBpIC09IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKG5hbWUsIGJhc2VOYW1lKSB7XG4gICAgICAgIHZhciBiYXNlUGFydHM7XG5cbiAgICAgICAgLy9BZGp1c3QgYW55IHJlbGF0aXZlIHBhdGhzLlxuICAgICAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAvL0lmIGhhdmUgYSBiYXNlIG5hbWUsIHRyeSB0byBub3JtYWxpemUgYWdhaW5zdCBpdCxcbiAgICAgICAgICAgIC8vb3RoZXJ3aXNlLCBhc3N1bWUgaXQgaXMgYSB0b3AtbGV2ZWwgcmVxdWlyZSB0aGF0IHdpbGxcbiAgICAgICAgICAgIC8vYmUgcmVsYXRpdmUgdG8gYmFzZVVybCBpbiB0aGUgZW5kLlxuICAgICAgICAgICAgaWYgKGJhc2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgYmFzZVBhcnRzID0gYmFzZU5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICBiYXNlUGFydHMgPSBiYXNlUGFydHMuc2xpY2UoMCwgYmFzZVBhcnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGJhc2VQYXJ0cyA9IGJhc2VQYXJ0cy5jb25jYXQobmFtZS5zcGxpdCgnLycpKTtcbiAgICAgICAgICAgICAgICB0cmltRG90cyhiYXNlUGFydHMpO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBiYXNlUGFydHMuam9pbignLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBub3JtYWxpemUoKSBmdW5jdGlvbiBwYXNzZWQgdG8gYSBsb2FkZXIgcGx1Z2luJ3NcbiAgICAgKiBub3JtYWxpemUgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1ha2VOb3JtYWxpemUocmVsTmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemUobmFtZSwgcmVsTmFtZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUxvYWQoaWQpIHtcbiAgICAgICAgZnVuY3Rpb24gbG9hZCh2YWx1ZSkge1xuICAgICAgICAgICAgbG9hZGVyQ2FjaGVbaWRdID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkLmZyb21UZXh0ID0gZnVuY3Rpb24gKGlkLCB0ZXh0KSB7XG4gICAgICAgICAgICAvL1RoaXMgb25lIGlzIGRpZmZpY3VsdCBiZWNhdXNlIHRoZSB0ZXh0IGNhbi9wcm9iYWJseSB1c2VzXG4gICAgICAgICAgICAvL2RlZmluZSwgYW5kIGFueSByZWxhdGl2ZSBwYXRocyBhbmQgcmVxdWlyZXMgc2hvdWxkIGJlIHJlbGF0aXZlXG4gICAgICAgICAgICAvL3RvIHRoYXQgaWQgd2FzIGl0IHdvdWxkIGJlIGZvdW5kIG9uIGRpc2suIEJ1dCB0aGlzIHdvdWxkIHJlcXVpcmVcbiAgICAgICAgICAgIC8vYm9vdHN0cmFwcGluZyBhIG1vZHVsZS9yZXF1aXJlIGZhaXJseSBkZWVwbHkgZnJvbSBub2RlIGNvcmUuXG4gICAgICAgICAgICAvL05vdCBzdXJlIGhvdyBiZXN0IHRvIGdvIGFib3V0IHRoYXQgeWV0LlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbWRlZmluZSBkb2VzIG5vdCBpbXBsZW1lbnQgbG9hZC5mcm9tVGV4dCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBsb2FkO1xuICAgIH1cblxuICAgIG1ha2VSZXF1aXJlID0gZnVuY3Rpb24gKHN5c3RlbVJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgcmVsSWQpIHtcbiAgICAgICAgZnVuY3Rpb24gYW1kUmVxdWlyZShkZXBzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXBzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vU3luY2hyb25vdXMsIHNpbmdsZSBtb2R1bGUgcmVxdWlyZSgnJylcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nUmVxdWlyZShzeXN0ZW1SZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIGRlcHMsIHJlbElkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9BcnJheSBvZiBkZXBlbmRlbmNpZXMgd2l0aCBhIGNhbGxiYWNrLlxuXG4gICAgICAgICAgICAgICAgLy9Db252ZXJ0IHRoZSBkZXBlbmRlbmNpZXMgdG8gbW9kdWxlcy5cbiAgICAgICAgICAgICAgICBkZXBzID0gZGVwcy5tYXAoZnVuY3Rpb24gKGRlcE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1JlcXVpcmUoc3lzdGVtUmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBkZXBOYW1lLCByZWxJZCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL1dhaXQgZm9yIG5leHQgdGljayB0byBjYWxsIGJhY2sgdGhlIHJlcXVpcmUgY2FsbC5cbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgZGVwcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhbWRSZXF1aXJlLnRvVXJsID0gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgICAgICAgICBpZiAoZmlsZVBhdGguaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShmaWxlUGF0aCwgcGF0aC5kaXJuYW1lKG1vZHVsZS5maWxlbmFtZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFtZFJlcXVpcmU7XG4gICAgfTtcblxuICAgIC8vRmF2b3IgZXhwbGljaXQgdmFsdWUsIHBhc3NlZCBpbiBpZiB0aGUgbW9kdWxlIHdhbnRzIHRvIHN1cHBvcnQgTm9kZSAwLjQuXG4gICAgcmVxdWlyZUZuID0gcmVxdWlyZUZuIHx8IGZ1bmN0aW9uIHJlcSgpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZS5yZXF1aXJlLmFwcGx5KG1vZHVsZSwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcnVuRmFjdG9yeShpZCwgZGVwcywgZmFjdG9yeSkge1xuICAgICAgICB2YXIgciwgZSwgbSwgcmVzdWx0O1xuXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgZSA9IGxvYWRlckNhY2hlW2lkXSA9IHt9O1xuICAgICAgICAgICAgbSA9IHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgdXJpOiBfX2ZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIGV4cG9ydHM6IGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByID0gbWFrZVJlcXVpcmUocmVxdWlyZUZuLCBlLCBtLCBpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL09ubHkgc3VwcG9ydCBvbmUgZGVmaW5lIGNhbGwgcGVyIGZpbGVcbiAgICAgICAgICAgIGlmIChhbHJlYWR5Q2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbWRlZmluZSB3aXRoIG5vIG1vZHVsZSBJRCBjYW5ub3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIHBlciBmaWxlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vVXNlIHRoZSByZWFsIHZhcmlhYmxlcyBmcm9tIG5vZGVcbiAgICAgICAgICAgIC8vVXNlIG1vZHVsZS5leHBvcnRzIGZvciBleHBvcnRzLCBzaW5jZVxuICAgICAgICAgICAgLy90aGUgZXhwb3J0cyBpbiBoZXJlIGlzIGFtZGVmaW5lIGV4cG9ydHMuXG4gICAgICAgICAgICBlID0gbW9kdWxlLmV4cG9ydHM7XG4gICAgICAgICAgICBtID0gbW9kdWxlO1xuICAgICAgICAgICAgciA9IG1ha2VSZXF1aXJlKHJlcXVpcmVGbiwgZSwgbSwgbW9kdWxlLmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vSWYgdGhlcmUgYXJlIGRlcGVuZGVuY2llcywgdGhleSBhcmUgc3RyaW5ncywgc28gbmVlZFxuICAgICAgICAvL3RvIGNvbnZlcnQgdGhlbSB0byBkZXBlbmRlbmN5IHZhbHVlcy5cbiAgICAgICAgaWYgKGRlcHMpIHtcbiAgICAgICAgICAgIGRlcHMgPSBkZXBzLm1hcChmdW5jdGlvbiAoZGVwTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByKGRlcE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0NhbGwgdGhlIGZhY3Rvcnkgd2l0aCB0aGUgcmlnaHQgZGVwZW5kZW5jaWVzLlxuICAgICAgICBpZiAodHlwZW9mIGZhY3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhY3RvcnkuYXBwbHkobS5leHBvcnRzLCBkZXBzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhY3Rvcnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG0uZXhwb3J0cyA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgIGxvYWRlckNhY2hlW2lkXSA9IG0uZXhwb3J0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cmluZ1JlcXVpcmUgPSBmdW5jdGlvbiAoc3lzdGVtUmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBpZCwgcmVsSWQpIHtcbiAgICAgICAgLy9TcGxpdCB0aGUgSUQgYnkgYSAhIHNvIHRoYXRcbiAgICAgICAgdmFyIGluZGV4ID0gaWQuaW5kZXhPZignIScpLFxuICAgICAgICAgICAgb3JpZ2luYWxJZCA9IGlkLFxuICAgICAgICAgICAgcHJlZml4LCBwbHVnaW47XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgaWQgPSBub3JtYWxpemUoaWQsIHJlbElkKTtcblxuICAgICAgICAgICAgLy9TdHJhaWdodCBtb2R1bGUgbG9va3VwLiBJZiBpdCBpcyBvbmUgb2YgdGhlIHNwZWNpYWwgZGVwZW5kZW5jaWVzLFxuICAgICAgICAgICAgLy9kZWFsIHdpdGggaXQsIG90aGVyd2lzZSwgZGVsZWdhdGUgdG8gbm9kZS5cbiAgICAgICAgICAgIGlmIChpZCA9PT0gJ3JlcXVpcmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VSZXF1aXJlKHN5c3RlbVJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgcmVsSWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gJ2V4cG9ydHMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09PSAnbW9kdWxlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYWRlckNhY2hlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXJDYWNoZVtpZF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlZmluZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIHJ1bkZhY3RvcnkuYXBwbHkobnVsbCwgZGVmaW5lQ2FjaGVbaWRdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGVbaWRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZihzeXN0ZW1SZXF1aXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1SZXF1aXJlKG9yaWdpbmFsSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9kdWxlIHdpdGggSUQ6ICcgKyBpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9UaGVyZSBpcyBhIHBsdWdpbiBpbiBwbGF5LlxuICAgICAgICAgICAgcHJlZml4ID0gaWQuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKGluZGV4ICsgMSwgaWQubGVuZ3RoKTtcblxuICAgICAgICAgICAgcGx1Z2luID0gc3RyaW5nUmVxdWlyZShzeXN0ZW1SZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIHByZWZpeCwgcmVsSWQpO1xuXG4gICAgICAgICAgICBpZiAocGx1Z2luLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICAgIGlkID0gcGx1Z2luLm5vcm1hbGl6ZShpZCwgbWFrZU5vcm1hbGl6ZShyZWxJZCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL05vcm1hbGl6ZSB0aGUgSUQgbm9ybWFsbHkuXG4gICAgICAgICAgICAgICAgaWQgPSBub3JtYWxpemUoaWQsIHJlbElkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxvYWRlckNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXJDYWNoZVtpZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5sb2FkKGlkLCBtYWtlUmVxdWlyZShzeXN0ZW1SZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIHJlbElkKSwgbWFrZUxvYWQoaWQpLCB7fSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGVbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vQ3JlYXRlIGEgZGVmaW5lIGZ1bmN0aW9uIHNwZWNpZmljIHRvIHRoZSBtb2R1bGUgYXNraW5nIGZvciBhbWRlZmluZS5cbiAgICBmdW5jdGlvbiBkZWZpbmUoaWQsIGRlcHMsIGZhY3RvcnkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaWQpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gZGVwcztcbiAgICAgICAgICAgIGRlcHMgPSBpZDtcbiAgICAgICAgICAgIGlkID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGZhY3RvcnkgPSBpZDtcbiAgICAgICAgICAgIGlkID0gZGVwcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXBzICYmICFBcnJheS5pc0FycmF5KGRlcHMpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gZGVwcztcbiAgICAgICAgICAgIGRlcHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlcHMpIHtcbiAgICAgICAgICAgIGRlcHMgPSBbJ3JlcXVpcmUnLCAnZXhwb3J0cycsICdtb2R1bGUnXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vU2V0IHVwIHByb3BlcnRpZXMgZm9yIHRoaXMgbW9kdWxlLiBJZiBhbiBJRCwgdGhlbiB1c2VcbiAgICAgICAgLy9pbnRlcm5hbCBjYWNoZS4gSWYgbm8gSUQsIHRoZW4gdXNlIHRoZSBleHRlcm5hbCB2YXJpYWJsZXNcbiAgICAgICAgLy9mb3IgdGhpcyBub2RlIG1vZHVsZS5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAvL1B1dCB0aGUgbW9kdWxlIGluIGRlZXAgZnJlZXplIHVudGlsIHRoZXJlIGlzIGFcbiAgICAgICAgICAgIC8vcmVxdWlyZSBjYWxsIGZvciBpdC5cbiAgICAgICAgICAgIGRlZmluZUNhY2hlW2lkXSA9IFtpZCwgZGVwcywgZmFjdG9yeV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBydW5GYWN0b3J5KGlkLCBkZXBzLCBmYWN0b3J5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vZGVmaW5lLnJlcXVpcmUsIHdoaWNoIGhhcyBhY2Nlc3MgdG8gYWxsIHRoZSB2YWx1ZXMgaW4gdGhlXG4gICAgLy9jYWNoZS4gVXNlZnVsIGZvciBBTUQgbW9kdWxlcyB0aGF0IGFsbCBoYXZlIElEcyBpbiB0aGUgZmlsZSxcbiAgICAvL2J1dCBuZWVkIHRvIGZpbmFsbHkgZXhwb3J0IGEgdmFsdWUgdG8gbm9kZSBiYXNlZCBvbiBvbmUgb2YgdGhvc2VcbiAgICAvL0lEcy5cbiAgICBkZWZpbmUucmVxdWlyZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAobG9hZGVyQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGVbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmluZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgcnVuRmFjdG9yeS5hcHBseShudWxsLCBkZWZpbmVDYWNoZVtpZF0pO1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkZWZpbmUuYW1kID0ge307XG5cbiAgICByZXR1cm4gZGVmaW5lO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFtZGVmaW5lO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSxcIi9ub2RlX21vZHVsZXMvdWdsaWZ5LWpzL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL25vZGVfbW9kdWxlcy9hbWRlZmluZS9hbWRlZmluZS5qc1wiKSIsInZhciBzeXMgPSByZXF1aXJlKFwidXRpbFwiKTtcbnZhciBNT1pfU291cmNlTWFwID0gcmVxdWlyZShcInNvdXJjZS1tYXBcIik7XG52YXIgVWdsaWZ5SlMgPSBleHBvcnRzO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gYXJyYXlfdG9faGFzaChhKSB7XG4gICAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKVxuICAgICAgICByZXRbYVtpXV0gPSB0cnVlO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBzbGljZShhLCBzdGFydCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhLCBzdGFydCB8fCAwKTtcbn07XG5cbmZ1bmN0aW9uIGNoYXJhY3RlcnMoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zcGxpdChcIlwiKTtcbn07XG5cbmZ1bmN0aW9uIG1lbWJlcihuYW1lLCBhcnJheSkge1xuICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGg7IC0taSA+PSAwOylcbiAgICAgICAgaWYgKGFycmF5W2ldID09IG5hbWUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiBmaW5kX2lmKGZ1bmMsIGFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBhcnJheS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5W2ldO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlcGVhdF9zdHJpbmcoc3RyLCBpKSB7XG4gICAgaWYgKGkgPD0gMCkgcmV0dXJuIFwiXCI7XG4gICAgaWYgKGkgPT0gMSkgcmV0dXJuIHN0cjtcbiAgICB2YXIgZCA9IHJlcGVhdF9zdHJpbmcoc3RyLCBpID4+IDEpO1xuICAgIGQgKz0gZDtcbiAgICBpZiAoaSAmIDEpIGQgKz0gc3RyO1xuICAgIHJldHVybiBkO1xufTtcblxuZnVuY3Rpb24gRGVmYXVsdHNFcnJvcihtc2csIGRlZnMpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMsIG1zZyk7XG4gICAgdGhpcy5tc2cgPSBtc2c7XG4gICAgdGhpcy5kZWZzID0gZGVmcztcbn07XG5EZWZhdWx0c0Vycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbkRlZmF1bHRzRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGVmYXVsdHNFcnJvcjtcblxuRGVmYXVsdHNFcnJvci5jcm9hayA9IGZ1bmN0aW9uKG1zZywgZGVmcykge1xuICAgIHRocm93IG5ldyBEZWZhdWx0c0Vycm9yKG1zZywgZGVmcyk7XG59O1xuXG5mdW5jdGlvbiBkZWZhdWx0cyhhcmdzLCBkZWZzLCBjcm9haykge1xuICAgIGlmIChhcmdzID09PSB0cnVlKVxuICAgICAgICBhcmdzID0ge307XG4gICAgdmFyIHJldCA9IGFyZ3MgfHwge307XG4gICAgaWYgKGNyb2FrKSBmb3IgKHZhciBpIGluIHJldCkgaWYgKHJldC5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhZGVmcy5oYXNPd25Qcm9wZXJ0eShpKSlcbiAgICAgICAgRGVmYXVsdHNFcnJvci5jcm9hayhcImBcIiArIGkgKyBcImAgaXMgbm90IGEgc3VwcG9ydGVkIG9wdGlvblwiLCBkZWZzKTtcbiAgICBmb3IgKHZhciBpIGluIGRlZnMpIGlmIChkZWZzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIHJldFtpXSA9IChhcmdzICYmIGFyZ3MuaGFzT3duUHJvcGVydHkoaSkpID8gYXJnc1tpXSA6IGRlZnNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBtZXJnZShvYmosIGV4dCkge1xuICAgIGZvciAodmFyIGkgaW4gZXh0KSBpZiAoZXh0Lmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIG9ialtpXSA9IGV4dFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn07XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fTtcblxudmFyIE1BUCA9IChmdW5jdGlvbigpe1xuICAgIGZ1bmN0aW9uIE1BUChhLCBmLCBiYWNrd2FyZHMpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdLCB0b3AgPSBbXSwgaTtcbiAgICAgICAgZnVuY3Rpb24gZG9pdCgpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBmKGFbaV0sIGkpO1xuICAgICAgICAgICAgdmFyIGlzX2xhc3QgPSB2YWwgaW5zdGFuY2VvZiBMYXN0O1xuICAgICAgICAgICAgaWYgKGlzX2xhc3QpIHZhbCA9IHZhbC52O1xuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEF0VG9wKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsLnY7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFNwbGljZSkge1xuICAgICAgICAgICAgICAgICAgICB0b3AucHVzaC5hcHBseSh0b3AsIGJhY2t3YXJkcyA/IHZhbC52LnNsaWNlKCkucmV2ZXJzZSgpIDogdmFsLnYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcC5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsICE9PSBza2lwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFNwbGljZSkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaC5hcHBseShyZXQsIGJhY2t3YXJkcyA/IHZhbC52LnNsaWNlKCkucmV2ZXJzZSgpIDogdmFsLnYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlzX2xhc3Q7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBhLmxlbmd0aDsgLS1pID49IDA7KSBpZiAoZG9pdCgpKSBicmVhaztcbiAgICAgICAgICAgICAgICByZXQucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIHRvcC5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSBpZiAoZG9pdCgpKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoaSBpbiBhKSBpZiAoYS5oYXNPd25Qcm9wZXJ0eShpKSkgaWYgKGRvaXQoKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcC5jb25jYXQocmV0KTtcbiAgICB9O1xuICAgIE1BUC5hdF90b3AgPSBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIG5ldyBBdFRvcCh2YWwpIH07XG4gICAgTUFQLnNwbGljZSA9IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gbmV3IFNwbGljZSh2YWwpIH07XG4gICAgTUFQLmxhc3QgPSBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIG5ldyBMYXN0KHZhbCkgfTtcbiAgICB2YXIgc2tpcCA9IE1BUC5za2lwID0ge307XG4gICAgZnVuY3Rpb24gQXRUb3AodmFsKSB7IHRoaXMudiA9IHZhbCB9O1xuICAgIGZ1bmN0aW9uIFNwbGljZSh2YWwpIHsgdGhpcy52ID0gdmFsIH07XG4gICAgZnVuY3Rpb24gTGFzdCh2YWwpIHsgdGhpcy52ID0gdmFsIH07XG4gICAgcmV0dXJuIE1BUDtcbn0pKCk7XG5cbmZ1bmN0aW9uIHB1c2hfdW5pcShhcnJheSwgZWwpIHtcbiAgICBpZiAoYXJyYXkuaW5kZXhPZihlbCkgPCAwKVxuICAgICAgICBhcnJheS5wdXNoKGVsKTtcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ190ZW1wbGF0ZSh0ZXh0LCBwcm9wcykge1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1xceyguKz8pXFx9L2csIGZ1bmN0aW9uKHN0ciwgcCl7XG4gICAgICAgIHJldHVybiBwcm9wc1twXTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZShhcnJheSwgZWwpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBlbCkgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIG1lcmdlU29ydChhcnJheSwgY21wKSB7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA8IDIpIHJldHVybiBhcnJheS5zbGljZSgpO1xuICAgIGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICAgICAgdmFyIHIgPSBbXSwgYWkgPSAwLCBiaSA9IDAsIGkgPSAwO1xuICAgICAgICB3aGlsZSAoYWkgPCBhLmxlbmd0aCAmJiBiaSA8IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBjbXAoYVthaV0sIGJbYmldKSA8PSAwXG4gICAgICAgICAgICAgICAgPyByW2krK10gPSBhW2FpKytdXG4gICAgICAgICAgICAgICAgOiByW2krK10gPSBiW2JpKytdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhaSA8IGEubGVuZ3RoKSByLnB1c2guYXBwbHkociwgYS5zbGljZShhaSkpO1xuICAgICAgICBpZiAoYmkgPCBiLmxlbmd0aCkgci5wdXNoLmFwcGx5KHIsIGIuc2xpY2UoYmkpKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfbXMoYSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggPD0gMSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IoYS5sZW5ndGggLyAyKSwgbGVmdCA9IGEuc2xpY2UoMCwgbSksIHJpZ2h0ID0gYS5zbGljZShtKTtcbiAgICAgICAgbGVmdCA9IF9tcyhsZWZ0KTtcbiAgICAgICAgcmlnaHQgPSBfbXMocmlnaHQpO1xuICAgICAgICByZXR1cm4gbWVyZ2UobGVmdCwgcmlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIF9tcyhhcnJheSk7XG59O1xuXG5mdW5jdGlvbiBzZXRfZGlmZmVyZW5jZShhLCBiKSB7XG4gICAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgcmV0dXJuIGIuaW5kZXhPZihlbCkgPCAwO1xuICAgIH0pO1xufTtcblxuZnVuY3Rpb24gc2V0X2ludGVyc2VjdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgcmV0dXJuIGIuaW5kZXhPZihlbCkgPj0gMDtcbiAgICB9KTtcbn07XG5cbi8vIHRoaXMgZnVuY3Rpb24gaXMgdGFrZW4gZnJvbSBBY29ybiBbMV0sIHdyaXR0ZW4gYnkgTWFyaWpuIEhhdmVyYmVrZVxuLy8gWzFdIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJpam5oL2Fjb3JuXG5mdW5jdGlvbiBtYWtlUHJlZGljYXRlKHdvcmRzKSB7XG4gICAgaWYgKCEod29yZHMgaW5zdGFuY2VvZiBBcnJheSkpIHdvcmRzID0gd29yZHMuc3BsaXQoXCIgXCIpO1xuICAgIHZhciBmID0gXCJcIiwgY2F0cyA9IFtdO1xuICAgIG91dDogZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhdHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICBpZiAoY2F0c1tqXVswXS5sZW5ndGggPT0gd29yZHNbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2F0c1tqXS5wdXNoKHdvcmRzW2ldKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZSBvdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhdHMucHVzaChbd29yZHNbaV1dKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVRvKGFycikge1xuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAxKSByZXR1cm4gZiArPSBcInJldHVybiBzdHIgPT09IFwiICsgSlNPTi5zdHJpbmdpZnkoYXJyWzBdKSArIFwiO1wiO1xuICAgICAgICBmICs9IFwic3dpdGNoKHN0cil7XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSBmICs9IFwiY2FzZSBcIiArIEpTT04uc3RyaW5naWZ5KGFycltpXSkgKyBcIjpcIjtcbiAgICAgICAgZiArPSBcInJldHVybiB0cnVlfXJldHVybiBmYWxzZTtcIjtcbiAgICB9XG4gICAgLy8gV2hlbiB0aGVyZSBhcmUgbW9yZSB0aGFuIHRocmVlIGxlbmd0aCBjYXRlZ29yaWVzLCBhbiBvdXRlclxuICAgIC8vIHN3aXRjaCBmaXJzdCBkaXNwYXRjaGVzIG9uIHRoZSBsZW5ndGhzLCB0byBzYXZlIG9uIGNvbXBhcmlzb25zLlxuICAgIGlmIChjYXRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgY2F0cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtyZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDt9KTtcbiAgICAgICAgZiArPSBcInN3aXRjaChzdHIubGVuZ3RoKXtcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2F0ID0gY2F0c1tpXTtcbiAgICAgICAgICAgIGYgKz0gXCJjYXNlIFwiICsgY2F0WzBdLmxlbmd0aCArIFwiOlwiO1xuICAgICAgICAgICAgY29tcGFyZVRvKGNhdCk7XG4gICAgICAgIH1cbiAgICAgICAgZiArPSBcIn1cIjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzaW1wbHkgZ2VuZXJhdGUgYSBmbGF0IGBzd2l0Y2hgIHN0YXRlbWVudC5cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb21wYXJlVG8od29yZHMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwic3RyXCIsIGYpO1xufTtcblxuZnVuY3Rpb24gYWxsKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoOyAtLWkgPj0gMDspXG4gICAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIERpY3Rpb25hcnkoKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9zaXplID0gMDtcbn07XG5EaWN0aW9uYXJ5LnByb3RvdHlwZSA9IHtcbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkgKyt0aGlzLl9zaXplO1xuICAgICAgICB0aGlzLl92YWx1ZXNbXCIkXCIgKyBrZXldID0gdmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0KGtleSkucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBbIHZhbCBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oa2V5KSB7IHJldHVybiB0aGlzLl92YWx1ZXNbXCIkXCIgKyBrZXldIH0sXG4gICAgZGVsOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIC0tdGhpcy5fc2l6ZTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl92YWx1ZXNbXCIkXCIgKyBrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgaGFzOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIChcIiRcIiArIGtleSkgaW4gdGhpcy5fdmFsdWVzIH0sXG4gICAgZWFjaDogZnVuY3Rpb24oZikge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuX3ZhbHVlcylcbiAgICAgICAgICAgIGYodGhpcy5fdmFsdWVzW2ldLCBpLnN1YnN0cigxKSk7XG4gICAgfSxcbiAgICBzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfSxcbiAgICBtYXA6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuX3ZhbHVlcylcbiAgICAgICAgICAgIHJldC5wdXNoKGYodGhpcy5fdmFsdWVzW2ldLCBpLnN1YnN0cigxKSkpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIEEgSmF2YVNjcmlwdCB0b2tlbml6ZXIgLyBwYXJzZXIgLyBiZWF1dGlmaWVyIC8gY29tcHJlc3Nvci5cbiAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzJcblxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAoQykgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcjogTWloYWkgQmF6b25cbiAgICAgICAgICAgICAgICAgICAgICAgICA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vbWloYWkuYmF6b24ubmV0L2Jsb2dcblxuICBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG5cbiAgICBDb3B5cmlnaHQgMjAxMiAoYykgTWloYWkgQmF6b24gPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIERFRk5PREUodHlwZSwgcHJvcHMsIG1ldGhvZHMsIGJhc2UpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDQpIGJhc2UgPSBBU1RfTm9kZTtcbiAgICBpZiAoIXByb3BzKSBwcm9wcyA9IFtdO1xuICAgIGVsc2UgcHJvcHMgPSBwcm9wcy5zcGxpdCgvXFxzKy8pO1xuICAgIHZhciBzZWxmX3Byb3BzID0gcHJvcHM7XG4gICAgaWYgKGJhc2UgJiYgYmFzZS5QUk9QUylcbiAgICAgICAgcHJvcHMgPSBwcm9wcy5jb25jYXQoYmFzZS5QUk9QUyk7XG4gICAgdmFyIGNvZGUgPSBcInJldHVybiBmdW5jdGlvbiBBU1RfXCIgKyB0eXBlICsgXCIocHJvcHMpeyBpZiAocHJvcHMpIHsgXCI7XG4gICAgZm9yICh2YXIgaSA9IHByb3BzLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgIGNvZGUgKz0gXCJ0aGlzLlwiICsgcHJvcHNbaV0gKyBcIiA9IHByb3BzLlwiICsgcHJvcHNbaV0gKyBcIjtcIjtcbiAgICB9XG4gICAgdmFyIHByb3RvID0gYmFzZSAmJiBuZXcgYmFzZTtcbiAgICBpZiAocHJvdG8gJiYgcHJvdG8uaW5pdGlhbGl6ZSB8fCAobWV0aG9kcyAmJiBtZXRob2RzLmluaXRpYWxpemUpKVxuICAgICAgICBjb2RlICs9IFwidGhpcy5pbml0aWFsaXplKCk7XCI7XG4gICAgY29kZSArPSBcIn19XCI7XG4gICAgdmFyIGN0b3IgPSBuZXcgRnVuY3Rpb24oY29kZSkoKTtcbiAgICBpZiAocHJvdG8pIHtcbiAgICAgICAgY3Rvci5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgY3Rvci5CQVNFID0gYmFzZTtcbiAgICB9XG4gICAgaWYgKGJhc2UpIGJhc2UuU1VCQ0xBU1NFUy5wdXNoKGN0b3IpO1xuICAgIGN0b3IucHJvdG90eXBlLkNUT1IgPSBjdG9yO1xuICAgIGN0b3IuUFJPUFMgPSBwcm9wcyB8fCBudWxsO1xuICAgIGN0b3IuU0VMRl9QUk9QUyA9IHNlbGZfcHJvcHM7XG4gICAgY3Rvci5TVUJDTEFTU0VTID0gW107XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgICAgY3Rvci5wcm90b3R5cGUuVFlQRSA9IGN0b3IuVFlQRSA9IHR5cGU7XG4gICAgfVxuICAgIGlmIChtZXRob2RzKSBmb3IgKGkgaW4gbWV0aG9kcykgaWYgKG1ldGhvZHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgaWYgKC9eXFwkLy50ZXN0KGkpKSB7XG4gICAgICAgICAgICBjdG9yW2kuc3Vic3RyKDEpXSA9IG1ldGhvZHNbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdG9yLnByb3RvdHlwZVtpXSA9IG1ldGhvZHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3Rvci5ERUZNRVRIT0QgPSBmdW5jdGlvbihuYW1lLCBtZXRob2QpIHtcbiAgICAgICAgdGhpcy5wcm90b3R5cGVbbmFtZV0gPSBtZXRob2Q7XG4gICAgfTtcbiAgICByZXR1cm4gY3Rvcjtcbn07XG5cbnZhciBBU1RfVG9rZW4gPSBERUZOT0RFKFwiVG9rZW5cIiwgXCJ0eXBlIHZhbHVlIGxpbmUgY29sIHBvcyBlbmRwb3MgbmxiIGNvbW1lbnRzX2JlZm9yZSBmaWxlXCIsIHtcbn0sIG51bGwpO1xuXG52YXIgQVNUX05vZGUgPSBERUZOT0RFKFwiTm9kZVwiLCBcInN0YXJ0IGVuZFwiLCB7XG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ1RPUih0aGlzKTtcbiAgICB9LFxuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3Mgb2YgYWxsIEFTVCBub2Rlc1wiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHN0YXJ0OiBcIltBU1RfVG9rZW5dIFRoZSBmaXJzdCB0b2tlbiBvZiB0aGlzIG5vZGVcIixcbiAgICAgICAgZW5kOiBcIltBU1RfVG9rZW5dIFRoZSBsYXN0IHRva2VuIG9mIHRoaXMgbm9kZVwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcyk7XG4gICAgfSxcbiAgICB3YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93YWxrKHZpc2l0b3IpOyAvLyBub3Qgc3VyZSB0aGUgaW5kaXJlY3Rpb24gd2lsbCBiZSBhbnkgaGVscFxuICAgIH1cbn0sIG51bGwpO1xuXG5BU1RfTm9kZS53YXJuX2Z1bmN0aW9uID0gbnVsbDtcbkFTVF9Ob2RlLndhcm4gPSBmdW5jdGlvbih0eHQsIHByb3BzKSB7XG4gICAgaWYgKEFTVF9Ob2RlLndhcm5fZnVuY3Rpb24pXG4gICAgICAgIEFTVF9Ob2RlLndhcm5fZnVuY3Rpb24oc3RyaW5nX3RlbXBsYXRlKHR4dCwgcHJvcHMpKTtcbn07XG5cbi8qIC0tLS0tWyBzdGF0ZW1lbnRzIF0tLS0tLSAqL1xuXG52YXIgQVNUX1N0YXRlbWVudCA9IERFRk5PREUoXCJTdGF0ZW1lbnRcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3Mgb2YgYWxsIHN0YXRlbWVudHNcIixcbn0pO1xuXG52YXIgQVNUX0RlYnVnZ2VyID0gREVGTk9ERShcIkRlYnVnZ2VyXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJSZXByZXNlbnRzIGEgZGVidWdnZXIgc3RhdGVtZW50XCIsXG59LCBBU1RfU3RhdGVtZW50KTtcblxudmFyIEFTVF9EaXJlY3RpdmUgPSBERUZOT0RFKFwiRGlyZWN0aXZlXCIsIFwidmFsdWUgc2NvcGVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlJlcHJlc2VudHMgYSBkaXJlY3RpdmUsIGxpa2UgXFxcInVzZSBzdHJpY3RcXFwiO1wiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHZhbHVlOiBcIltzdHJpbmddIFRoZSB2YWx1ZSBvZiB0aGlzIGRpcmVjdGl2ZSBhcyBhIHBsYWluIHN0cmluZyAoaXQncyBub3QgYW4gQVNUX1N0cmluZyEpXCIsXG4gICAgICAgIHNjb3BlOiBcIltBU1RfU2NvcGUvU10gVGhlIHNjb3BlIHRoYXQgdGhpcyBkaXJlY3RpdmUgYWZmZWN0c1wiXG4gICAgfSxcbn0sIEFTVF9TdGF0ZW1lbnQpO1xuXG52YXIgQVNUX1NpbXBsZVN0YXRlbWVudCA9IERFRk5PREUoXCJTaW1wbGVTdGF0ZW1lbnRcIiwgXCJib2R5XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIHN0YXRlbWVudCBjb25zaXN0aW5nIG9mIGFuIGV4cHJlc3Npb24sIGkuZS4gYSA9IDEgKyAyXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgYm9keTogXCJbQVNUX05vZGVdIGFuIGV4cHJlc3Npb24gbm9kZSAoc2hvdWxkIG5vdCBiZSBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQpXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50KTtcblxuZnVuY3Rpb24gd2Fsa19ib2R5KG5vZGUsIHZpc2l0b3IpIHtcbiAgICBpZiAobm9kZS5ib2R5IGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudCkge1xuICAgICAgICBub2RlLmJvZHkuX3dhbGsodmlzaXRvcik7XG4gICAgfVxuICAgIGVsc2Ugbm9kZS5ib2R5LmZvckVhY2goZnVuY3Rpb24oc3RhdCl7XG4gICAgICAgIHN0YXQuX3dhbGsodmlzaXRvcik7XG4gICAgfSk7XG59O1xuXG52YXIgQVNUX0Jsb2NrID0gREVGTk9ERShcIkJsb2NrXCIsIFwiYm9keVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBib2R5IG9mIHN0YXRlbWVudHMgKHVzdWFsbHkgYnJhY2tldGVkKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGJvZHk6IFwiW0FTVF9TdGF0ZW1lbnQqXSBhbiBhcnJheSBvZiBzdGF0ZW1lbnRzXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgd2Fsa19ib2R5KHRoaXMsIHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50KTtcblxudmFyIEFTVF9CbG9ja1N0YXRlbWVudCA9IERFRk5PREUoXCJCbG9ja1N0YXRlbWVudFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBibG9jayBzdGF0ZW1lbnRcIixcbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfRW1wdHlTdGF0ZW1lbnQgPSBERUZOT0RFKFwiRW1wdHlTdGF0ZW1lbnRcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlRoZSBlbXB0eSBzdGF0ZW1lbnQgKGVtcHR5IGJsb2NrIG9yIHNpbXBseSBhIHNlbWljb2xvbilcIixcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcyk7XG4gICAgfVxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfU3RhdGVtZW50V2l0aEJvZHkgPSBERUZOT0RFKFwiU3RhdGVtZW50V2l0aEJvZHlcIiwgXCJib2R5XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBhbGwgc3RhdGVtZW50cyB0aGF0IGNvbnRhaW4gb25lIG5lc3RlZCBib2R5OiBgRm9yYCwgYEZvckluYCwgYERvYCwgYFdoaWxlYCwgYFdpdGhgXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgYm9keTogXCJbQVNUX1N0YXRlbWVudF0gdGhlIGJvZHk7IHRoaXMgc2hvdWxkIGFsd2F5cyBiZSBwcmVzZW50LCBldmVuIGlmIGl0J3MgYW4gQVNUX0VtcHR5U3RhdGVtZW50XCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfU3RhdGVtZW50KTtcblxudmFyIEFTVF9MYWJlbGVkU3RhdGVtZW50ID0gREVGTk9ERShcIkxhYmVsZWRTdGF0ZW1lbnRcIiwgXCJsYWJlbFwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiU3RhdGVtZW50IHdpdGggYSBsYWJlbFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGxhYmVsOiBcIltBU1RfTGFiZWxdIGEgbGFiZWwgZGVmaW5pdGlvblwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLmJvZHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9TdGF0ZW1lbnRXaXRoQm9keSk7XG5cbnZhciBBU1RfSXRlcmF0aW9uU3RhdGVtZW50ID0gREVGTk9ERShcIkl0ZXJhdGlvblN0YXRlbWVudFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiSW50ZXJuYWwgY2xhc3MuICBBbGwgbG9vcHMgaW5oZXJpdCBmcm9tIGl0LlwiXG59LCBBU1RfU3RhdGVtZW50V2l0aEJvZHkpO1xuXG52YXIgQVNUX0RXTG9vcCA9IERFRk5PREUoXCJEV0xvb3BcIiwgXCJjb25kaXRpb25cIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGRvL3doaWxlIHN0YXRlbWVudHNcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBjb25kaXRpb246IFwiW0FTVF9Ob2RlXSB0aGUgbG9vcCBjb25kaXRpb24uICBTaG91bGQgbm90IGJlIGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudFwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59LCBBU1RfSXRlcmF0aW9uU3RhdGVtZW50KTtcblxudmFyIEFTVF9EbyA9IERFRk5PREUoXCJEb1wiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgZG9gIHN0YXRlbWVudFwiLFxufSwgQVNUX0RXTG9vcCk7XG5cbnZhciBBU1RfV2hpbGUgPSBERUZOT0RFKFwiV2hpbGVcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHdoaWxlYCBzdGF0ZW1lbnRcIixcbn0sIEFTVF9EV0xvb3ApO1xuXG52YXIgQVNUX0ZvciA9IERFRk5PREUoXCJGb3JcIiwgXCJpbml0IGNvbmRpdGlvbiBzdGVwXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBmb3JgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGluaXQ6IFwiW0FTVF9Ob2RlP10gdGhlIGBmb3JgIGluaXRpYWxpemF0aW9uIGNvZGUsIG9yIG51bGwgaWYgZW1wdHlcIixcbiAgICAgICAgY29uZGl0aW9uOiBcIltBU1RfTm9kZT9dIHRoZSBgZm9yYCB0ZXJtaW5hdGlvbiBjbGF1c2UsIG9yIG51bGwgaWYgZW1wdHlcIixcbiAgICAgICAgc3RlcDogXCJbQVNUX05vZGU/XSB0aGUgYGZvcmAgdXBkYXRlIGNsYXVzZSwgb3IgbnVsbCBpZiBlbXB0eVwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXQpIHRoaXMuaW5pdC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbikgdGhpcy5jb25kaXRpb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGVwKSB0aGlzLnN0ZXAuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLmJvZHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQpO1xuXG52YXIgQVNUX0ZvckluID0gREVGTk9ERShcIkZvckluXCIsIFwiaW5pdCBuYW1lIG9iamVjdFwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgZm9yIC4uLiBpbmAgc3RhdGVtZW50XCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgaW5pdDogXCJbQVNUX05vZGVdIHRoZSBgZm9yL2luYCBpbml0aWFsaXphdGlvbiBjb2RlXCIsXG4gICAgICAgIG5hbWU6IFwiW0FTVF9TeW1ib2xSZWY/XSB0aGUgbG9vcCB2YXJpYWJsZSwgb25seSBpZiBgaW5pdGAgaXMgQVNUX1ZhclwiLFxuICAgICAgICBvYmplY3Q6IFwiW0FTVF9Ob2RlXSB0aGUgb2JqZWN0IHRoYXQgd2UncmUgbG9vcGluZyB0aHJvdWdoXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5pbml0Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLmJvZHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQpO1xuXG52YXIgQVNUX1dpdGggPSBERUZOT0RFKFwiV2l0aFwiLCBcImV4cHJlc3Npb25cIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHdpdGhgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGV4cHJlc3Npb246IFwiW0FTVF9Ob2RlXSB0aGUgYHdpdGhgIGV4cHJlc3Npb25cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB0aGlzLmJvZHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9TdGF0ZW1lbnRXaXRoQm9keSk7XG5cbi8qIC0tLS0tWyBzY29wZSBhbmQgZnVuY3Rpb25zIF0tLS0tLSAqL1xuXG52YXIgQVNUX1Njb3BlID0gREVGTk9ERShcIlNjb3BlXCIsIFwiZGlyZWN0aXZlcyB2YXJpYWJsZXMgZnVuY3Rpb25zIHVzZXNfd2l0aCB1c2VzX2V2YWwgcGFyZW50X3Njb3BlIGVuY2xvc2VkIGNuYW1lXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBhbGwgc3RhdGVtZW50cyBpbnRyb2R1Y2luZyBhIGxleGljYWwgc2NvcGVcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBkaXJlY3RpdmVzOiBcIltzdHJpbmcqL1NdIGFuIGFycmF5IG9mIGRpcmVjdGl2ZXMgZGVjbGFyZWQgaW4gdGhpcyBzY29wZVwiLFxuICAgICAgICB2YXJpYWJsZXM6IFwiW09iamVjdC9TXSBhIG1hcCBvZiBuYW1lIC0+IFN5bWJvbERlZiBmb3IgYWxsIHZhcmlhYmxlcy9mdW5jdGlvbnMgZGVmaW5lZCBpbiB0aGlzIHNjb3BlXCIsXG4gICAgICAgIGZ1bmN0aW9uczogXCJbT2JqZWN0L1NdIGxpa2UgYHZhcmlhYmxlc2AsIGJ1dCBvbmx5IGxpc3RzIGZ1bmN0aW9uIGRlY2xhcmF0aW9uc1wiLFxuICAgICAgICB1c2VzX3dpdGg6IFwiW2Jvb2xlYW4vU10gdGVsbHMgd2hldGhlciB0aGlzIHNjb3BlIHVzZXMgdGhlIGB3aXRoYCBzdGF0ZW1lbnRcIixcbiAgICAgICAgdXNlc19ldmFsOiBcIltib29sZWFuL1NdIHRlbGxzIHdoZXRoZXIgdGhpcyBzY29wZSBjb250YWlucyBhIGRpcmVjdCBjYWxsIHRvIHRoZSBnbG9iYWwgYGV2YWxgXCIsXG4gICAgICAgIHBhcmVudF9zY29wZTogXCJbQVNUX1Njb3BlPy9TXSBsaW5rIHRvIHRoZSBwYXJlbnQgc2NvcGVcIixcbiAgICAgICAgZW5jbG9zZWQ6IFwiW1N5bWJvbERlZiovU10gYSBsaXN0IG9mIGFsbCBzeW1ib2wgZGVmaW5pdGlvbnMgdGhhdCBhcmUgYWNjZXNzZWQgZnJvbSB0aGlzIHNjb3BlIG9yIGFueSBzdWJzY29wZXNcIixcbiAgICAgICAgY25hbWU6IFwiW2ludGVnZXIvU10gY3VycmVudCBpbmRleCBmb3IgbWFuZ2xpbmcgdmFyaWFibGVzICh1c2VkIGludGVybmFsbHkgYnkgdGhlIG1hbmdsZXIpXCIsXG4gICAgfSxcbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfVG9wbGV2ZWwgPSBERUZOT0RFKFwiVG9wbGV2ZWxcIiwgXCJnbG9iYWxzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgdG9wbGV2ZWwgc2NvcGVcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBnbG9iYWxzOiBcIltPYmplY3QvU10gYSBtYXAgb2YgbmFtZSAtPiBTeW1ib2xEZWYgZm9yIGFsbCB1bmRlY2xhcmVkIG5hbWVzXCIsXG4gICAgfSxcbiAgICB3cmFwX2VuY2xvc2U6IGZ1bmN0aW9uKGFyZ19wYXJhbWV0ZXJfcGFpcnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuXG4gICAgICAgIGFyZ19wYXJhbWV0ZXJfcGFpcnMuZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRBdCA9IHBhaXIubGFzdEluZGV4T2YoXCI6XCIpO1xuXG4gICAgICAgICAgICBhcmdzLnB1c2gocGFpci5zdWJzdHIoMCwgc3BsaXRBdCkpO1xuICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKHBhaXIuc3Vic3RyKHNwbGl0QXQgKyAxKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB3cmFwcGVkX3RsID0gXCIoZnVuY3Rpb24oXCIgKyBwYXJhbWV0ZXJzLmpvaW4oXCIsXCIpICsgXCIpeyAnJE9SSUcnOyB9KShcIiArIGFyZ3Muam9pbihcIixcIikgKyBcIilcIjtcbiAgICAgICAgd3JhcHBlZF90bCA9IHBhcnNlKHdyYXBwZWRfdGwpO1xuICAgICAgICB3cmFwcGVkX3RsID0gd3JhcHBlZF90bC50cmFuc2Zvcm0obmV3IFRyZWVUcmFuc2Zvcm1lcihmdW5jdGlvbiBiZWZvcmUobm9kZSl7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EaXJlY3RpdmUgJiYgbm9kZS52YWx1ZSA9PSBcIiRPUklHXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTUFQLnNwbGljZShzZWxmLmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB3cmFwcGVkX3RsO1xuICAgIH0sXG4gICAgd3JhcF9jb21tb25qczogZnVuY3Rpb24obmFtZSwgZXhwb3J0X2FsbCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciB0b19leHBvcnQgPSBbXTtcbiAgICAgICAgaWYgKGV4cG9ydF9hbGwpIHtcbiAgICAgICAgICAgIHNlbGYuZmlndXJlX291dF9zY29wZSgpO1xuICAgICAgICAgICAgc2VsZi53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbERlY2xhcmF0aW9uICYmIG5vZGUuZGVmaW5pdGlvbigpLmdsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmRfaWYoZnVuY3Rpb24obil7IHJldHVybiBuLm5hbWUgPT0gbm9kZS5uYW1lIH0sIHRvX2V4cG9ydCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b19leHBvcnQucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBwZWRfdGwgPSBcIihmdW5jdGlvbihleHBvcnRzLCBnbG9iYWwpeyBnbG9iYWxbJ1wiICsgbmFtZSArIFwiJ10gPSBleHBvcnRzOyAnJE9SSUcnOyAnJEVYUE9SVFMnOyB9KHt9LCAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSkpKVwiO1xuICAgICAgICB3cmFwcGVkX3RsID0gcGFyc2Uod3JhcHBlZF90bCk7XG4gICAgICAgIHdyYXBwZWRfdGwgPSB3cmFwcGVkX3RsLnRyYW5zZm9ybShuZXcgVHJlZVRyYW5zZm9ybWVyKGZ1bmN0aW9uIGJlZm9yZShub2RlKXtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmJvZHk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3RyaW5nKSBzd2l0Y2ggKG5vZGUuZ2V0VmFsdWUoKSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIiRPUklHXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNQVAuc3BsaWNlKHNlbGYuYm9keSk7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiJEVYUE9SVFNcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdG9fZXhwb3J0LmZvckVhY2goZnVuY3Rpb24oc3ltKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucHVzaChuZXcgQVNUX1NpbXBsZVN0YXRlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogbmV3IEFTVF9Bc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBuZXcgQVNUX1N1Yih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBuZXcgQVNUX1N5bWJvbFJlZih7IG5hbWU6IFwiZXhwb3J0c1wiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IG5ldyBBU1RfU3RyaW5nKHsgdmFsdWU6IHN5bS5uYW1lIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiPVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbmV3IEFTVF9TeW1ib2xSZWYoc3ltKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNQVAuc3BsaWNlKGJvZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gd3JhcHBlZF90bDtcbiAgICB9XG59LCBBU1RfU2NvcGUpO1xuXG52YXIgQVNUX0xhbWJkYSA9IERFRk5PREUoXCJMYW1iZGFcIiwgXCJuYW1lIGFyZ25hbWVzIHVzZXNfYXJndW1lbnRzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBmdW5jdGlvbnNcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBuYW1lOiBcIltBU1RfU3ltYm9sRGVjbGFyYXRpb24/XSB0aGUgbmFtZSBvZiB0aGlzIGZ1bmN0aW9uXCIsXG4gICAgICAgIGFyZ25hbWVzOiBcIltBU1RfU3ltYm9sRnVuYXJnKl0gYXJyYXkgb2YgZnVuY3Rpb24gYXJndW1lbnRzXCIsXG4gICAgICAgIHVzZXNfYXJndW1lbnRzOiBcIltib29sZWFuL1NdIHRlbGxzIHdoZXRoZXIgdGhpcyBmdW5jdGlvbiBhY2Nlc3NlcyB0aGUgYXJndW1lbnRzIGFycmF5XCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSkgdGhpcy5uYW1lLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5hcmduYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICAgICAgYXJnLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3YWxrX2JvZHkodGhpcywgdmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9TY29wZSk7XG5cbnZhciBBU1RfQWNjZXNzb3IgPSBERUZOT0RFKFwiQWNjZXNzb3JcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgc2V0dGVyL2dldHRlciBmdW5jdGlvbi4gIFRoZSBgbmFtZWAgcHJvcGVydHkgaXMgYWx3YXlzIG51bGwuXCJcbn0sIEFTVF9MYW1iZGEpO1xuXG52YXIgQVNUX0Z1bmN0aW9uID0gREVGTk9ERShcIkZ1bmN0aW9uXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGZ1bmN0aW9uIGV4cHJlc3Npb25cIlxufSwgQVNUX0xhbWJkYSk7XG5cbnZhciBBU1RfRGVmdW4gPSBERUZOT0RFKFwiRGVmdW5cIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgZnVuY3Rpb24gZGVmaW5pdGlvblwiXG59LCBBU1RfTGFtYmRhKTtcblxuLyogLS0tLS1bIEpVTVBTIF0tLS0tLSAqL1xuXG52YXIgQVNUX0p1bXAgPSBERUZOT0RFKFwiSnVtcFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3Ig4oCcanVtcHPigJ0gKGZvciBub3cgdGhhdCdzIGByZXR1cm5gLCBgdGhyb3dgLCBgYnJlYWtgIGFuZCBgY29udGludWVgKVwiXG59LCBBU1RfU3RhdGVtZW50KTtcblxudmFyIEFTVF9FeGl0ID0gREVGTk9ERShcIkV4aXRcIiwgXCJ2YWx1ZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3Ig4oCcZXhpdHPigJ0gKGByZXR1cm5gIGFuZCBgdGhyb3dgKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHZhbHVlOiBcIltBU1RfTm9kZT9dIHRoZSB2YWx1ZSByZXR1cm5lZCBvciB0aHJvd24gYnkgdGhpcyBzdGF0ZW1lbnQ7IGNvdWxkIGJlIG51bGwgZm9yIEFTVF9SZXR1cm5cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIHRoaXMudmFsdWUgJiYgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9KdW1wKTtcblxudmFyIEFTVF9SZXR1cm4gPSBERUZOT0RFKFwiUmV0dXJuXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGByZXR1cm5gIHN0YXRlbWVudFwiXG59LCBBU1RfRXhpdCk7XG5cbnZhciBBU1RfVGhyb3cgPSBERUZOT0RFKFwiVGhyb3dcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHRocm93YCBzdGF0ZW1lbnRcIlxufSwgQVNUX0V4aXQpO1xuXG52YXIgQVNUX0xvb3BDb250cm9sID0gREVGTk9ERShcIkxvb3BDb250cm9sXCIsIFwibGFiZWxcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGxvb3AgY29udHJvbCBzdGF0ZW1lbnRzIChgYnJlYWtgIGFuZCBgY29udGludWVgKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGxhYmVsOiBcIltBU1RfTGFiZWxSZWY/XSB0aGUgbGFiZWwsIG9yIG51bGwgaWYgbm9uZVwiLFxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIHRoaXMubGFiZWwgJiYgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9KdW1wKTtcblxudmFyIEFTVF9CcmVhayA9IERFRk5PREUoXCJCcmVha1wiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgYnJlYWtgIHN0YXRlbWVudFwiXG59LCBBU1RfTG9vcENvbnRyb2wpO1xuXG52YXIgQVNUX0NvbnRpbnVlID0gREVGTk9ERShcIkNvbnRpbnVlXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBjb250aW51ZWAgc3RhdGVtZW50XCJcbn0sIEFTVF9Mb29wQ29udHJvbCk7XG5cbi8qIC0tLS0tWyBJRiBdLS0tLS0gKi9cblxudmFyIEFTVF9JZiA9IERFRk5PREUoXCJJZlwiLCBcImNvbmRpdGlvbiBhbHRlcm5hdGl2ZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgaWZgIHN0YXRlbWVudFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGNvbmRpdGlvbjogXCJbQVNUX05vZGVdIHRoZSBgaWZgIGNvbmRpdGlvblwiLFxuICAgICAgICBhbHRlcm5hdGl2ZTogXCJbQVNUX1N0YXRlbWVudD9dIHRoZSBgZWxzZWAgcGFydCwgb3IgbnVsbCBpZiBub3QgcHJlc2VudFwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5ib2R5Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWx0ZXJuYXRpdmUpIHRoaXMuYWx0ZXJuYXRpdmUuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9TdGF0ZW1lbnRXaXRoQm9keSk7XG5cbi8qIC0tLS0tWyBTV0lUQ0ggXS0tLS0tICovXG5cbnZhciBBU1RfU3dpdGNoID0gREVGTk9ERShcIlN3aXRjaFwiLCBcImV4cHJlc3Npb25cIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHN3aXRjaGAgc3RhdGVtZW50XCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZXhwcmVzc2lvbjogXCJbQVNUX05vZGVdIHRoZSBgc3dpdGNoYCDigJxkaXNjcmltaW5hbnTigJ1cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB3YWxrX2JvZHkodGhpcywgdmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfU3dpdGNoQnJhbmNoID0gREVGTk9ERShcIlN3aXRjaEJyYW5jaFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgYHN3aXRjaGAgYnJhbmNoZXNcIixcbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfRGVmYXVsdCA9IERFRk5PREUoXCJEZWZhdWx0XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBkZWZhdWx0YCBzd2l0Y2ggYnJhbmNoXCIsXG59LCBBU1RfU3dpdGNoQnJhbmNoKTtcblxudmFyIEFTVF9DYXNlID0gREVGTk9ERShcIkNhc2VcIiwgXCJleHByZXNzaW9uXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBjYXNlYCBzd2l0Y2ggYnJhbmNoXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZXhwcmVzc2lvbjogXCJbQVNUX05vZGVdIHRoZSBgY2FzZWAgZXhwcmVzc2lvblwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHdhbGtfYm9keSh0aGlzLCB2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1N3aXRjaEJyYW5jaCk7XG5cbi8qIC0tLS0tWyBFWENFUFRJT05TIF0tLS0tLSAqL1xuXG52YXIgQVNUX1RyeSA9IERFRk5PREUoXCJUcnlcIiwgXCJiY2F0Y2ggYmZpbmFsbHlcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgYHRyeWAgc3RhdGVtZW50XCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgYmNhdGNoOiBcIltBU1RfQ2F0Y2g/XSB0aGUgY2F0Y2ggYmxvY2ssIG9yIG51bGwgaWYgbm90IHByZXNlbnRcIixcbiAgICAgICAgYmZpbmFsbHk6IFwiW0FTVF9GaW5hbGx5P10gdGhlIGZpbmFsbHkgYmxvY2ssIG9yIG51bGwgaWYgbm90IHByZXNlbnRcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB3YWxrX2JvZHkodGhpcywgdmlzaXRvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5iY2F0Y2gpIHRoaXMuYmNhdGNoLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYmZpbmFsbHkpIHRoaXMuYmZpbmFsbHkuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfQ2F0Y2ggPSBERUZOT0RFKFwiQ2F0Y2hcIiwgXCJhcmduYW1lXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBjYXRjaGAgbm9kZTsgb25seSBtYWtlcyBzZW5zZSBhcyBwYXJ0IG9mIGEgYHRyeWAgc3RhdGVtZW50XCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgYXJnbmFtZTogXCJbQVNUX1N5bWJvbENhdGNoXSBzeW1ib2wgZm9yIHRoZSBleGNlcHRpb25cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmFyZ25hbWUuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB3YWxrX2JvZHkodGhpcywgdmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9CbG9jayk7XG5cbnZhciBBU1RfRmluYWxseSA9IERFRk5PREUoXCJGaW5hbGx5XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGBmaW5hbGx5YCBub2RlOyBvbmx5IG1ha2VzIHNlbnNlIGFzIHBhcnQgb2YgYSBgdHJ5YCBzdGF0ZW1lbnRcIlxufSwgQVNUX0Jsb2NrKTtcblxuLyogLS0tLS1bIFZBUi9DT05TVCBdLS0tLS0gKi9cblxudmFyIEFTVF9EZWZpbml0aW9ucyA9IERFRk5PREUoXCJEZWZpbml0aW9uc1wiLCBcImRlZmluaXRpb25zXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBgdmFyYCBvciBgY29uc3RgIG5vZGVzICh2YXJpYWJsZSBkZWNsYXJhdGlvbnMvaW5pdGlhbGl6YXRpb25zKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGRlZmluaXRpb25zOiBcIltBU1RfVmFyRGVmKl0gYXJyYXkgb2YgdmFyaWFibGUgZGVmaW5pdGlvbnNcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oZGVmKXtcbiAgICAgICAgICAgICAgICBkZWYuX3dhbGsodmlzaXRvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1N0YXRlbWVudCk7XG5cbnZhciBBU1RfVmFyID0gREVGTk9ERShcIlZhclwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgdmFyYCBzdGF0ZW1lbnRcIlxufSwgQVNUX0RlZmluaXRpb25zKTtcblxudmFyIEFTVF9Db25zdCA9IERFRk5PREUoXCJDb25zdFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBgY29uc3RgIHN0YXRlbWVudFwiXG59LCBBU1RfRGVmaW5pdGlvbnMpO1xuXG52YXIgQVNUX1ZhckRlZiA9IERFRk5PREUoXCJWYXJEZWZcIiwgXCJuYW1lIHZhbHVlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIHZhcmlhYmxlIGRlY2xhcmF0aW9uOyBvbmx5IGFwcGVhcnMgaW4gYSBBU1RfRGVmaW5pdGlvbnMgbm9kZVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIG5hbWU6IFwiW0FTVF9TeW1ib2xWYXJ8QVNUX1N5bWJvbENvbnN0XSBuYW1lIG9mIHRoZSB2YXJpYWJsZVwiLFxuICAgICAgICB2YWx1ZTogXCJbQVNUX05vZGU/XSBpbml0aWFsaXplciwgb3IgbnVsbCBvZiB0aGVyZSdzIG5vIGluaXRpYWxpemVyXCJcbiAgICB9LFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5uYW1lLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHRoaXMudmFsdWUuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKiAtLS0tLVsgT1RIRVIgXS0tLS0tICovXG5cbnZhciBBU1RfQ2FsbCA9IERFRk5PREUoXCJDYWxsXCIsIFwiZXhwcmVzc2lvbiBhcmdzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGZ1bmN0aW9uIGNhbGwgZXhwcmVzc2lvblwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGV4cHJlc3Npb246IFwiW0FTVF9Ob2RlXSBleHByZXNzaW9uIHRvIGludm9rZSBhcyBmdW5jdGlvblwiLFxuICAgICAgICBhcmdzOiBcIltBU1RfTm9kZSpdIGFycmF5IG9mIGFyZ3VtZW50c1wiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbi5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMuYXJncy5mb3JFYWNoKGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICAgICAgYXJnLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX05ldyA9IERFRk5PREUoXCJOZXdcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkFuIG9iamVjdCBpbnN0YW50aWF0aW9uLiAgRGVyaXZlcyBmcm9tIGEgZnVuY3Rpb24gY2FsbCBzaW5jZSBpdCBoYXMgZXhhY3RseSB0aGUgc2FtZSBwcm9wZXJ0aWVzXCJcbn0sIEFTVF9DYWxsKTtcblxudmFyIEFTVF9TZXEgPSBERUZOT0RFKFwiU2VxXCIsIFwiY2FyIGNkclwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBzZXF1ZW5jZSBleHByZXNzaW9uICh0d28gY29tbWEtc2VwYXJhdGVkIGV4cHJlc3Npb25zKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGNhcjogXCJbQVNUX05vZGVdIGZpcnN0IGVsZW1lbnQgaW4gc2VxdWVuY2VcIixcbiAgICAgICAgY2RyOiBcIltBU1RfTm9kZV0gc2Vjb25kIGVsZW1lbnQgaW4gc2VxdWVuY2VcIlxuICAgIH0sXG4gICAgJGNvbnM6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdmFyIHNlcSA9IG5ldyBBU1RfU2VxKHgpO1xuICAgICAgICBzZXEuY2FyID0geDtcbiAgICAgICAgc2VxLmNkciA9IHk7XG4gICAgICAgIHJldHVybiBzZXE7XG4gICAgfSxcbiAgICAkZnJvbV9hcnJheTogZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAxKSByZXR1cm4gYXJyYXlbMF0uY2xvbmUoKTtcbiAgICAgICAgdmFyIGxpc3QgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgIGxpc3QgPSBBU1RfU2VxLmNvbnMoYXJyYXlbaV0sIGxpc3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwID0gbGlzdDtcbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIGlmIChwLmNkciAmJiAhcC5jZHIuY2RyKSB7XG4gICAgICAgICAgICAgICAgcC5jZHIgPSBwLmNkci5jYXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwID0gcC5jZHI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfSxcbiAgICB0b19hcnJheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwID0gdGhpcywgYSA9IFtdO1xuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgYS5wdXNoKHAuY2FyKTtcbiAgICAgICAgICAgIGlmIChwLmNkciAmJiAhKHAuY2RyIGluc3RhbmNlb2YgQVNUX1NlcSkpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2gocC5jZHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcCA9IHAuY2RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHZhciBwID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIGlmICghKHAuY2RyIGluc3RhbmNlb2YgQVNUX1NlcSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IEFTVF9TZXEuY29ucyhwLmNkciwgbm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAuY2RyID0gY2VsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSBwLmNkcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNhci5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNkcikgdGhpcy5jZHIuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX1Byb3BBY2Nlc3MgPSBERUZOT0RFKFwiUHJvcEFjY2Vzc1wiLCBcImV4cHJlc3Npb24gcHJvcGVydHlcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIHByb3BlcnR5IGFjY2VzcyBleHByZXNzaW9ucywgaS5lLiBgYS5mb29gIG9yIGBhW1xcXCJmb29cXFwiXWBcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBleHByZXNzaW9uOiBcIltBU1RfTm9kZV0gdGhlIOKAnGNvbnRhaW5lcuKAnSBleHByZXNzaW9uXCIsXG4gICAgICAgIHByb3BlcnR5OiBcIltBU1RfTm9kZXxzdHJpbmddIHRoZSBwcm9wZXJ0eSB0byBhY2Nlc3MuICBGb3IgQVNUX0RvdCB0aGlzIGlzIGFsd2F5cyBhIHBsYWluIHN0cmluZywgd2hpbGUgZm9yIEFTVF9TdWIgaXQncyBhbiBhcmJpdHJhcnkgQVNUX05vZGVcIlxuICAgIH1cbn0pO1xuXG52YXIgQVNUX0RvdCA9IERFRk5PREUoXCJEb3RcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgZG90dGVkIHByb3BlcnR5IGFjY2VzcyBleHByZXNzaW9uXCIsXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0sIEFTVF9Qcm9wQWNjZXNzKTtcblxudmFyIEFTVF9TdWIgPSBERUZOT0RFKFwiU3ViXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJJbmRleC1zdHlsZSBwcm9wZXJ0eSBhY2Nlc3MsIGkuZS4gYGFbXFxcImZvb1xcXCJdYFwiLFxuICAgIF93YWxrOiBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl92aXNpdCh0aGlzLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSwgQVNUX1Byb3BBY2Nlc3MpO1xuXG52YXIgQVNUX1VuYXJ5ID0gREVGTk9ERShcIlVuYXJ5XCIsIFwib3BlcmF0b3IgZXhwcmVzc2lvblwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQmFzZSBjbGFzcyBmb3IgdW5hcnkgZXhwcmVzc2lvbnNcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBvcGVyYXRvcjogXCJbc3RyaW5nXSB0aGUgb3BlcmF0b3JcIixcbiAgICAgICAgZXhwcmVzc2lvbjogXCJbQVNUX05vZGVdIGV4cHJlc3Npb24gdGhhdCB0aGlzIHVuYXJ5IG9wZXJhdG9yIGFwcGxpZXMgdG9cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24uX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX1VuYXJ5UHJlZml4ID0gREVGTk9ERShcIlVuYXJ5UHJlZml4XCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJVbmFyeSBwcmVmaXggZXhwcmVzc2lvbiwgaS5lLiBgdHlwZW9mIGlgIG9yIGArK2lgXCJcbn0sIEFTVF9VbmFyeSk7XG5cbnZhciBBU1RfVW5hcnlQb3N0Zml4ID0gREVGTk9ERShcIlVuYXJ5UG9zdGZpeFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVW5hcnkgcG9zdGZpeCBleHByZXNzaW9uLCBpLmUuIGBpKytgXCJcbn0sIEFTVF9VbmFyeSk7XG5cbnZhciBBU1RfQmluYXJ5ID0gREVGTk9ERShcIkJpbmFyeVwiLCBcImxlZnQgb3BlcmF0b3IgcmlnaHRcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJpbmFyeSBleHByZXNzaW9uLCBpLmUuIGBhICsgYmBcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBsZWZ0OiBcIltBU1RfTm9kZV0gbGVmdC1oYW5kIHNpZGUgZXhwcmVzc2lvblwiLFxuICAgICAgICBvcGVyYXRvcjogXCJbc3RyaW5nXSB0aGUgb3BlcmF0b3JcIixcbiAgICAgICAgcmlnaHQ6IFwiW0FTVF9Ob2RlXSByaWdodC1oYW5kIHNpZGUgZXhwcmVzc2lvblwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMubGVmdC5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgICAgIHRoaXMucmlnaHQuX3dhbGsodmlzaXRvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX0NvbmRpdGlvbmFsID0gREVGTk9ERShcIkNvbmRpdGlvbmFsXCIsIFwiY29uZGl0aW9uIGNvbnNlcXVlbnQgYWx0ZXJuYXRpdmVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkNvbmRpdGlvbmFsIGV4cHJlc3Npb24gdXNpbmcgdGhlIHRlcm5hcnkgb3BlcmF0b3IsIGkuZS4gYGEgPyBiIDogY2BcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICBjb25kaXRpb246IFwiW0FTVF9Ob2RlXVwiLFxuICAgICAgICBjb25zZXF1ZW50OiBcIltBU1RfTm9kZV1cIixcbiAgICAgICAgYWx0ZXJuYXRpdmU6IFwiW0FTVF9Ob2RlXVwiXG4gICAgfSxcbiAgICBfd2FsazogZnVuY3Rpb24odmlzaXRvcikge1xuICAgICAgICByZXR1cm4gdmlzaXRvci5fdmlzaXQodGhpcywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5jb25zZXF1ZW50Ll93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZS5fd2Fsayh2aXNpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBBU1RfQXNzaWduID0gREVGTk9ERShcIkFzc2lnblwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQW4gYXNzaWdubWVudCBleHByZXNzaW9uIOKAlCBgYSA9IGIgKyA1YFwiLFxufSwgQVNUX0JpbmFyeSk7XG5cbi8qIC0tLS0tWyBMSVRFUkFMUyBdLS0tLS0gKi9cblxudmFyIEFTVF9BcnJheSA9IERFRk5PREUoXCJBcnJheVwiLCBcImVsZW1lbnRzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBbiBhcnJheSBsaXRlcmFsXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAgZWxlbWVudHM6IFwiW0FTVF9Ob2RlKl0gYXJyYXkgb2YgZWxlbWVudHNcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgICAgIGVsLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX09iamVjdCA9IERFRk5PREUoXCJPYmplY3RcIiwgXCJwcm9wZXJ0aWVzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBbiBvYmplY3QgbGl0ZXJhbFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHByb3BlcnRpZXM6IFwiW0FTVF9PYmplY3RQcm9wZXJ0eSpdIGFycmF5IG9mIHByb3BlcnRpZXNcIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wKXtcbiAgICAgICAgICAgICAgICBwcm9wLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX09iamVjdFByb3BlcnR5ID0gREVGTk9ERShcIk9iamVjdFByb3BlcnR5XCIsIFwia2V5IHZhbHVlXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBsaXRlcmFsIG9iamVjdCBwcm9wZXJ0aWVzXCIsXG4gICAgJHByb3Bkb2M6IHtcbiAgICAgICAga2V5OiBcIltzdHJpbmddIHRoZSBwcm9wZXJ0eSBuYW1lIGNvbnZlcnRlZCB0byBhIHN0cmluZyBmb3IgT2JqZWN0S2V5VmFsLiAgRm9yIHNldHRlcnMgYW5kIGdldHRlcnMgdGhpcyBpcyBhbiBhcmJpdHJhcnkgQVNUX05vZGUuXCIsXG4gICAgICAgIHZhbHVlOiBcIltBU1RfTm9kZV0gcHJvcGVydHkgdmFsdWUuICBGb3Igc2V0dGVycyBhbmQgZ2V0dGVycyB0aGlzIGlzIGFuIEFTVF9GdW5jdGlvbi5cIlxuICAgIH0sXG4gICAgX3dhbGs6IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuX3Zpc2l0KHRoaXMsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLl93YWxrKHZpc2l0b3IpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIEFTVF9PYmplY3RLZXlWYWwgPSBERUZOT0RFKFwiT2JqZWN0S2V5VmFsXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGtleTogdmFsdWUgb2JqZWN0IHByb3BlcnR5XCIsXG59LCBBU1RfT2JqZWN0UHJvcGVydHkpO1xuXG52YXIgQVNUX09iamVjdFNldHRlciA9IERFRk5PREUoXCJPYmplY3RTZXR0ZXJcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkFuIG9iamVjdCBzZXR0ZXIgcHJvcGVydHlcIixcbn0sIEFTVF9PYmplY3RQcm9wZXJ0eSk7XG5cbnZhciBBU1RfT2JqZWN0R2V0dGVyID0gREVGTk9ERShcIk9iamVjdEdldHRlclwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQW4gb2JqZWN0IGdldHRlciBwcm9wZXJ0eVwiLFxufSwgQVNUX09iamVjdFByb3BlcnR5KTtcblxudmFyIEFTVF9TeW1ib2wgPSBERUZOT0RFKFwiU3ltYm9sXCIsIFwic2NvcGUgbmFtZSB0aGVkZWZcIiwge1xuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIG5hbWU6IFwiW3N0cmluZ10gbmFtZSBvZiB0aGlzIHN5bWJvbFwiLFxuICAgICAgICBzY29wZTogXCJbQVNUX1Njb3BlL1NdIHRoZSBjdXJyZW50IHNjb3BlIChub3QgbmVjZXNzYXJpbHkgdGhlIGRlZmluaXRpb24gc2NvcGUpXCIsXG4gICAgICAgIHRoZWRlZjogXCJbU3ltYm9sRGVmL1NdIHRoZSBkZWZpbml0aW9uIG9mIHRoaXMgc3ltYm9sXCJcbiAgICB9LFxuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGFsbCBzeW1ib2xzXCIsXG59KTtcblxudmFyIEFTVF9TeW1ib2xBY2Nlc3NvciA9IERFRk5PREUoXCJTeW1ib2xBY2Nlc3NvclwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIG5hbWUgb2YgYSBwcm9wZXJ0eSBhY2Nlc3NvciAoc2V0dGVyL2dldHRlciBmdW5jdGlvbilcIlxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfU3ltYm9sRGVjbGFyYXRpb24gPSBERUZOT0RFKFwiU3ltYm9sRGVjbGFyYXRpb25cIiwgXCJpbml0XCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJBIGRlY2xhcmF0aW9uIHN5bWJvbCAoc3ltYm9sIGluIHZhci9jb25zdCwgZnVuY3Rpb24gbmFtZSBvciBhcmd1bWVudCwgc3ltYm9sIGluIGNhdGNoKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIGluaXQ6IFwiW0FTVF9Ob2RlKi9TXSBhcnJheSBvZiBpbml0aWFsaXplcnMgZm9yIHRoaXMgZGVjbGFyYXRpb24uXCJcbiAgICB9XG59LCBBU1RfU3ltYm9sKTtcblxudmFyIEFTVF9TeW1ib2xWYXIgPSBERUZOT0RFKFwiU3ltYm9sVmFyXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgZGVmaW5pbmcgYSB2YXJpYWJsZVwiLFxufSwgQVNUX1N5bWJvbERlY2xhcmF0aW9uKTtcblxudmFyIEFTVF9TeW1ib2xDb25zdCA9IERFRk5PREUoXCJTeW1ib2xDb25zdFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBjb25zdGFudCBkZWNsYXJhdGlvblwiXG59LCBBU1RfU3ltYm9sRGVjbGFyYXRpb24pO1xuXG52YXIgQVNUX1N5bWJvbEZ1bmFyZyA9IERFRk5PREUoXCJTeW1ib2xGdW5hcmdcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlN5bWJvbCBuYW1pbmcgYSBmdW5jdGlvbiBhcmd1bWVudFwiLFxufSwgQVNUX1N5bWJvbFZhcik7XG5cbnZhciBBU1RfU3ltYm9sRGVmdW4gPSBERUZOT0RFKFwiU3ltYm9sRGVmdW5cIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlN5bWJvbCBkZWZpbmluZyBhIGZ1bmN0aW9uXCIsXG59LCBBU1RfU3ltYm9sRGVjbGFyYXRpb24pO1xuXG52YXIgQVNUX1N5bWJvbExhbWJkYSA9IERFRk5PREUoXCJTeW1ib2xMYW1iZGFcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlN5bWJvbCBuYW1pbmcgYSBmdW5jdGlvbiBleHByZXNzaW9uXCIsXG59LCBBU1RfU3ltYm9sRGVjbGFyYXRpb24pO1xuXG52YXIgQVNUX1N5bWJvbENhdGNoID0gREVGTk9ERShcIlN5bWJvbENhdGNoXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgbmFtaW5nIHRoZSBleGNlcHRpb24gaW4gY2F0Y2hcIixcbn0sIEFTVF9TeW1ib2xEZWNsYXJhdGlvbik7XG5cbnZhciBBU1RfTGFiZWwgPSBERUZOT0RFKFwiTGFiZWxcIiwgXCJyZWZlcmVuY2VzXCIsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJTeW1ib2wgbmFtaW5nIGEgbGFiZWwgKGRlY2xhcmF0aW9uKVwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHJlZmVyZW5jZXM6IFwiW0FTVF9Mb29wQ29udHJvbCpdIGEgbGlzdCBvZiBub2RlcyByZWZlcnJpbmcgdG8gdGhpcyBsYWJlbFwiXG4gICAgfSxcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gW107XG4gICAgICAgIHRoaXMudGhlZGVmID0gdGhpcztcbiAgICB9XG59LCBBU1RfU3ltYm9sKTtcblxudmFyIEFTVF9TeW1ib2xSZWYgPSBERUZOT0RFKFwiU3ltYm9sUmVmXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJSZWZlcmVuY2UgdG8gc29tZSBzeW1ib2wgKG5vdCBkZWZpbml0aW9uL2RlY2xhcmF0aW9uKVwiLFxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfTGFiZWxSZWYgPSBERUZOT0RFKFwiTGFiZWxSZWZcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIlJlZmVyZW5jZSB0byBhIGxhYmVsIHN5bWJvbFwiLFxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfVGhpcyA9IERFRk5PREUoXCJUaGlzXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgYHRoaXNgIHN5bWJvbFwiLFxufSwgQVNUX1N5bWJvbCk7XG5cbnZhciBBU1RfQ29uc3RhbnQgPSBERUZOT0RFKFwiQ29uc3RhbnRcIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGFsbCBjb25zdGFudHNcIixcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn0pO1xuXG52YXIgQVNUX1N0cmluZyA9IERFRk5PREUoXCJTdHJpbmdcIiwgXCJ2YWx1ZVwiLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBzdHJpbmcgbGl0ZXJhbFwiLFxuICAgICRwcm9wZG9jOiB7XG4gICAgICAgIHZhbHVlOiBcIltzdHJpbmddIHRoZSBjb250ZW50cyBvZiB0aGlzIHN0cmluZ1wiXG4gICAgfVxufSwgQVNUX0NvbnN0YW50KTtcblxudmFyIEFTVF9OdW1iZXIgPSBERUZOT0RFKFwiTnVtYmVyXCIsIFwidmFsdWVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgbnVtYmVyIGxpdGVyYWxcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICB2YWx1ZTogXCJbbnVtYmVyXSB0aGUgbnVtZXJpYyB2YWx1ZVwiXG4gICAgfVxufSwgQVNUX0NvbnN0YW50KTtcblxudmFyIEFTVF9SZWdFeHAgPSBERUZOT0RFKFwiUmVnRXhwXCIsIFwidmFsdWVcIiwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkEgcmVnZXhwIGxpdGVyYWxcIixcbiAgICAkcHJvcGRvYzoge1xuICAgICAgICB2YWx1ZTogXCJbUmVnRXhwXSB0aGUgYWN0dWFsIHJlZ2V4cFwiXG4gICAgfVxufSwgQVNUX0NvbnN0YW50KTtcblxudmFyIEFTVF9BdG9tID0gREVGTk9ERShcIkF0b21cIiwgbnVsbCwge1xuICAgICRkb2N1bWVudGF0aW9uOiBcIkJhc2UgY2xhc3MgZm9yIGF0b21zXCIsXG59LCBBU1RfQ29uc3RhbnQpO1xuXG52YXIgQVNUX051bGwgPSBERUZOT0RFKFwiTnVsbFwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGBudWxsYCBhdG9tXCIsXG4gICAgdmFsdWU6IG51bGxcbn0sIEFTVF9BdG9tKTtcblxudmFyIEFTVF9OYU4gPSBERUZOT0RFKFwiTmFOXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgaW1wb3NzaWJsZSB2YWx1ZVwiLFxuICAgIHZhbHVlOiAwLzBcbn0sIEFTVF9BdG9tKTtcblxudmFyIEFTVF9VbmRlZmluZWQgPSBERUZOT0RFKFwiVW5kZWZpbmVkXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgYHVuZGVmaW5lZGAgdmFsdWVcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uKCl7fSgpKVxufSwgQVNUX0F0b20pO1xuXG52YXIgQVNUX0hvbGUgPSBERUZOT0RFKFwiSG9sZVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiQSBob2xlIGluIGFuIGFycmF5XCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbigpe30oKSlcbn0sIEFTVF9BdG9tKTtcblxudmFyIEFTVF9JbmZpbml0eSA9IERFRk5PREUoXCJJbmZpbml0eVwiLCBudWxsLCB7XG4gICAgJGRvY3VtZW50YXRpb246IFwiVGhlIGBJbmZpbml0eWAgdmFsdWVcIixcbiAgICB2YWx1ZTogMS8wXG59LCBBU1RfQXRvbSk7XG5cbnZhciBBU1RfQm9vbGVhbiA9IERFRk5PREUoXCJCb29sZWFuXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJCYXNlIGNsYXNzIGZvciBib29sZWFuc1wiLFxufSwgQVNUX0F0b20pO1xuXG52YXIgQVNUX0ZhbHNlID0gREVGTk9ERShcIkZhbHNlXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgYGZhbHNlYCBhdG9tXCIsXG4gICAgdmFsdWU6IGZhbHNlXG59LCBBU1RfQm9vbGVhbik7XG5cbnZhciBBU1RfVHJ1ZSA9IERFRk5PREUoXCJUcnVlXCIsIG51bGwsIHtcbiAgICAkZG9jdW1lbnRhdGlvbjogXCJUaGUgYHRydWVgIGF0b21cIixcbiAgICB2YWx1ZTogdHJ1ZVxufSwgQVNUX0Jvb2xlYW4pO1xuXG4vKiAtLS0tLVsgVHJlZVdhbGtlciBdLS0tLS0gKi9cblxuZnVuY3Rpb24gVHJlZVdhbGtlcihjYWxsYmFjaykge1xuICAgIHRoaXMudmlzaXQgPSBjYWxsYmFjaztcbiAgICB0aGlzLnN0YWNrID0gW107XG59O1xuVHJlZVdhbGtlci5wcm90b3R5cGUgPSB7XG4gICAgX3Zpc2l0OiBmdW5jdGlvbihub2RlLCBkZXNjZW5kKSB7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMudmlzaXQobm9kZSwgZGVzY2VuZCA/IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkZXNjZW5kLmNhbGwobm9kZSk7XG4gICAgICAgIH0gOiBub29wKTtcbiAgICAgICAgaWYgKCFyZXQgJiYgZGVzY2VuZCkge1xuICAgICAgICAgICAgZGVzY2VuZC5jYWxsKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBwYXJlbnQ6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAyIC0gKG4gfHwgMCldO1xuICAgIH0sXG4gICAgcHVzaDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKG5vZGUpO1xuICAgIH0sXG4gICAgcG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgfSxcbiAgICBzZWxmOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICB9LFxuICAgIGZpbmRfcGFyZW50OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgdmFyIHggPSBzdGFja1tpXTtcbiAgICAgICAgICAgIGlmICh4IGluc3RhbmNlb2YgdHlwZSkgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhc19kaXJlY3RpdmU6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZF9wYXJlbnQoQVNUX1Njb3BlKS5oYXNfZGlyZWN0aXZlKHR5cGUpO1xuICAgIH0sXG4gICAgaW5fYm9vbGVhbl9jb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgdmFyIGkgPSBzdGFjay5sZW5ndGgsIHNlbGYgPSBzdGFja1stLWldO1xuICAgICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgICAgIHZhciBwID0gc3RhY2tbLS1pXTtcbiAgICAgICAgICAgIGlmICgocCBpbnN0YW5jZW9mIEFTVF9JZiAgICAgICAgICAgJiYgcC5jb25kaXRpb24gPT09IHNlbGYpIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwgICYmIHAuY29uZGl0aW9uID09PSBzZWxmKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX0RXTG9vcCAgICAgICAmJiBwLmNvbmRpdGlvbiA9PT0gc2VsZikgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9Gb3IgICAgICAgICAgJiYgcC5jb25kaXRpb24gPT09IHNlbGYpIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXggICYmIHAub3BlcmF0b3IgPT0gXCIhXCIgJiYgcC5leHByZXNzaW9uID09PSBzZWxmKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKHAgaW5zdGFuY2VvZiBBU1RfQmluYXJ5ICYmIChwLm9wZXJhdG9yID09IFwiJiZcIiB8fCBwLm9wZXJhdG9yID09IFwifHxcIikpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYgPSBwO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb29wY29udHJvbF90YXJnZXQ6IGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgIGlmIChsYWJlbCkgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHN0YWNrW2ldO1xuICAgICAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBBU1RfTGFiZWxlZFN0YXRlbWVudCAmJiB4LmxhYmVsLm5hbWUgPT0gbGFiZWwubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgIHZhciB4ID0gc3RhY2tbaV07XG4gICAgICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIEFTVF9Td2l0Y2ggfHwgeCBpbnN0YW5jZW9mIEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgUGFyc2VyIGJhc2VkIG9uIHBhcnNlLWpzIChodHRwOi8vbWFyaWpuLmhhdmVyYmVrZS5ubC9wYXJzZS1qcy8pLlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEtFWVdPUkRTID0gJ2JyZWFrIGNhc2UgY2F0Y2ggY29uc3QgY29udGludWUgZGVidWdnZXIgZGVmYXVsdCBkZWxldGUgZG8gZWxzZSBmaW5hbGx5IGZvciBmdW5jdGlvbiBpZiBpbiBpbnN0YW5jZW9mIG5ldyByZXR1cm4gc3dpdGNoIHRocm93IHRyeSB0eXBlb2YgdmFyIHZvaWQgd2hpbGUgd2l0aCc7XG52YXIgS0VZV09SRFNfQVRPTSA9ICdmYWxzZSBudWxsIHRydWUnO1xudmFyIFJFU0VSVkVEX1dPUkRTID0gJ2Fic3RyYWN0IGJvb2xlYW4gYnl0ZSBjaGFyIGNsYXNzIGRvdWJsZSBlbnVtIGV4cG9ydCBleHRlbmRzIGZpbmFsIGZsb2F0IGdvdG8gaW1wbGVtZW50cyBpbXBvcnQgaW50IGludGVyZmFjZSBsb25nIG5hdGl2ZSBwYWNrYWdlIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyBzaG9ydCBzdGF0aWMgc3VwZXIgc3luY2hyb25pemVkIHRoaXMgdGhyb3dzIHRyYW5zaWVudCB2b2xhdGlsZSB5aWVsZCdcbiAgICArIFwiIFwiICsgS0VZV09SRFNfQVRPTSArIFwiIFwiICsgS0VZV09SRFM7XG52YXIgS0VZV09SRFNfQkVGT1JFX0VYUFJFU1NJT04gPSAncmV0dXJuIG5ldyBkZWxldGUgdGhyb3cgZWxzZSBjYXNlJztcblxuS0VZV09SRFMgPSBtYWtlUHJlZGljYXRlKEtFWVdPUkRTKTtcblJFU0VSVkVEX1dPUkRTID0gbWFrZVByZWRpY2F0ZShSRVNFUlZFRF9XT1JEUyk7XG5LRVlXT1JEU19CRUZPUkVfRVhQUkVTU0lPTiA9IG1ha2VQcmVkaWNhdGUoS0VZV09SRFNfQkVGT1JFX0VYUFJFU1NJT04pO1xuS0VZV09SRFNfQVRPTSA9IG1ha2VQcmVkaWNhdGUoS0VZV09SRFNfQVRPTSk7XG5cbnZhciBPUEVSQVRPUl9DSEFSUyA9IG1ha2VQcmVkaWNhdGUoY2hhcmFjdGVycyhcIistKiYlPTw+IT98fl5cIikpO1xuXG52YXIgUkVfSEVYX05VTUJFUiA9IC9eMHhbMC05YS1mXSskL2k7XG52YXIgUkVfT0NUX05VTUJFUiA9IC9eMFswLTddKyQvO1xudmFyIFJFX0RFQ19OVU1CRVIgPSAvXlxcZCpcXC4/XFxkKig/OmVbKy1dP1xcZCooPzpcXGRcXC4/fFxcLj9cXGQpXFxkKik/JC9pO1xuXG52YXIgT1BFUkFUT1JTID0gbWFrZVByZWRpY2F0ZShbXG4gICAgXCJpblwiLFxuICAgIFwiaW5zdGFuY2VvZlwiLFxuICAgIFwidHlwZW9mXCIsXG4gICAgXCJuZXdcIixcbiAgICBcInZvaWRcIixcbiAgICBcImRlbGV0ZVwiLFxuICAgIFwiKytcIixcbiAgICBcIi0tXCIsXG4gICAgXCIrXCIsXG4gICAgXCItXCIsXG4gICAgXCIhXCIsXG4gICAgXCJ+XCIsXG4gICAgXCImXCIsXG4gICAgXCJ8XCIsXG4gICAgXCJeXCIsXG4gICAgXCIqXCIsXG4gICAgXCIvXCIsXG4gICAgXCIlXCIsXG4gICAgXCI+PlwiLFxuICAgIFwiPDxcIixcbiAgICBcIj4+PlwiLFxuICAgIFwiPFwiLFxuICAgIFwiPlwiLFxuICAgIFwiPD1cIixcbiAgICBcIj49XCIsXG4gICAgXCI9PVwiLFxuICAgIFwiPT09XCIsXG4gICAgXCIhPVwiLFxuICAgIFwiIT09XCIsXG4gICAgXCI/XCIsXG4gICAgXCI9XCIsXG4gICAgXCIrPVwiLFxuICAgIFwiLT1cIixcbiAgICBcIi89XCIsXG4gICAgXCIqPVwiLFxuICAgIFwiJT1cIixcbiAgICBcIj4+PVwiLFxuICAgIFwiPDw9XCIsXG4gICAgXCI+Pj49XCIsXG4gICAgXCJ8PVwiLFxuICAgIFwiXj1cIixcbiAgICBcIiY9XCIsXG4gICAgXCImJlwiLFxuICAgIFwifHxcIlxuXSk7XG5cbnZhciBXSElURVNQQUNFX0NIQVJTID0gbWFrZVByZWRpY2F0ZShjaGFyYWN0ZXJzKFwiIFxcdTAwYTBcXG5cXHJcXHRcXGZcXHUwMDBiXFx1MjAwYlxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFwiKSk7XG5cbnZhciBQVU5DX0JFRk9SRV9FWFBSRVNTSU9OID0gbWFrZVByZWRpY2F0ZShjaGFyYWN0ZXJzKFwiW3soLC47OlwiKSk7XG5cbnZhciBQVU5DX0NIQVJTID0gbWFrZVByZWRpY2F0ZShjaGFyYWN0ZXJzKFwiW117fSgpLDs6XCIpKTtcblxudmFyIFJFR0VYUF9NT0RJRklFUlMgPSBtYWtlUHJlZGljYXRlKGNoYXJhY3RlcnMoXCJnbXNpeVwiKSk7XG5cbi8qIC0tLS0tWyBUb2tlbml6ZXIgXS0tLS0tICovXG5cbi8vIHJlZ2V4cHMgYWRhcHRlZCBmcm9tIGh0dHA6Ly94cmVnZXhwLmNvbS9wbHVnaW5zLyN1bmljb2RlXG52YXIgVU5JQ09ERSA9IHtcbiAgICBsZXR0ZXI6IG5ldyBSZWdFeHAoXCJbXFxcXHUwMDQxLVxcXFx1MDA1QVxcXFx1MDA2MS1cXFxcdTAwN0FcXFxcdTAwQUFcXFxcdTAwQjVcXFxcdTAwQkFcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyQzFcXFxcdTAyQzYtXFxcXHUwMkQxXFxcXHUwMkUwLVxcXFx1MDJFNFxcXFx1MDJFQ1xcXFx1MDJFRVxcXFx1MDM3MC1cXFxcdTAzNzRcXFxcdTAzNzZcXFxcdTAzNzdcXFxcdTAzN0EtXFxcXHUwMzdEXFxcXHUwMzg2XFxcXHUwMzg4LVxcXFx1MDM4QVxcXFx1MDM4Q1xcXFx1MDM4RS1cXFxcdTAzQTFcXFxcdTAzQTMtXFxcXHUwM0Y1XFxcXHUwM0Y3LVxcXFx1MDQ4MVxcXFx1MDQ4QS1cXFxcdTA1MjNcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDVEMC1cXFxcdTA1RUFcXFxcdTA1RjAtXFxcXHUwNUYyXFxcXHUwNjIxLVxcXFx1MDY0QVxcXFx1MDY2RVxcXFx1MDY2RlxcXFx1MDY3MS1cXFxcdTA2RDNcXFxcdTA2RDVcXFxcdTA2RTVcXFxcdTA2RTZcXFxcdTA2RUVcXFxcdTA2RUZcXFxcdTA2RkEtXFxcXHUwNkZDXFxcXHUwNkZGXFxcXHUwNzEwXFxcXHUwNzEyLVxcXFx1MDcyRlxcXFx1MDc0RC1cXFxcdTA3QTVcXFxcdTA3QjFcXFxcdTA3Q0EtXFxcXHUwN0VBXFxcXHUwN0Y0XFxcXHUwN0Y1XFxcXHUwN0ZBXFxcXHUwOTA0LVxcXFx1MDkzOVxcXFx1MDkzRFxcXFx1MDk1MFxcXFx1MDk1OC1cXFxcdTA5NjFcXFxcdTA5NzFcXFxcdTA5NzJcXFxcdTA5N0ItXFxcXHUwOTdGXFxcXHUwOTg1LVxcXFx1MDk4Q1xcXFx1MDk4RlxcXFx1MDk5MFxcXFx1MDk5My1cXFxcdTA5QThcXFxcdTA5QUEtXFxcXHUwOUIwXFxcXHUwOUIyXFxcXHUwOUI2LVxcXFx1MDlCOVxcXFx1MDlCRFxcXFx1MDlDRVxcXFx1MDlEQ1xcXFx1MDlERFxcXFx1MDlERi1cXFxcdTA5RTFcXFxcdTA5RjBcXFxcdTA5RjFcXFxcdTBBMDUtXFxcXHUwQTBBXFxcXHUwQTBGXFxcXHUwQTEwXFxcXHUwQTEzLVxcXFx1MEEyOFxcXFx1MEEyQS1cXFxcdTBBMzBcXFxcdTBBMzJcXFxcdTBBMzNcXFxcdTBBMzVcXFxcdTBBMzZcXFxcdTBBMzhcXFxcdTBBMzlcXFxcdTBBNTktXFxcXHUwQTVDXFxcXHUwQTVFXFxcXHUwQTcyLVxcXFx1MEE3NFxcXFx1MEE4NS1cXFxcdTBBOERcXFxcdTBBOEYtXFxcXHUwQTkxXFxcXHUwQTkzLVxcXFx1MEFBOFxcXFx1MEFBQS1cXFxcdTBBQjBcXFxcdTBBQjJcXFxcdTBBQjNcXFxcdTBBQjUtXFxcXHUwQUI5XFxcXHUwQUJEXFxcXHUwQUQwXFxcXHUwQUUwXFxcXHUwQUUxXFxcXHUwQjA1LVxcXFx1MEIwQ1xcXFx1MEIwRlxcXFx1MEIxMFxcXFx1MEIxMy1cXFxcdTBCMjhcXFxcdTBCMkEtXFxcXHUwQjMwXFxcXHUwQjMyXFxcXHUwQjMzXFxcXHUwQjM1LVxcXFx1MEIzOVxcXFx1MEIzRFxcXFx1MEI1Q1xcXFx1MEI1RFxcXFx1MEI1Ri1cXFxcdTBCNjFcXFxcdTBCNzFcXFxcdTBCODNcXFxcdTBCODUtXFxcXHUwQjhBXFxcXHUwQjhFLVxcXFx1MEI5MFxcXFx1MEI5Mi1cXFxcdTBCOTVcXFxcdTBCOTlcXFxcdTBCOUFcXFxcdTBCOUNcXFxcdTBCOUVcXFxcdTBCOUZcXFxcdTBCQTNcXFxcdTBCQTRcXFxcdTBCQTgtXFxcXHUwQkFBXFxcXHUwQkFFLVxcXFx1MEJCOVxcXFx1MEJEMFxcXFx1MEMwNS1cXFxcdTBDMENcXFxcdTBDMEUtXFxcXHUwQzEwXFxcXHUwQzEyLVxcXFx1MEMyOFxcXFx1MEMyQS1cXFxcdTBDMzNcXFxcdTBDMzUtXFxcXHUwQzM5XFxcXHUwQzNEXFxcXHUwQzU4XFxcXHUwQzU5XFxcXHUwQzYwXFxcXHUwQzYxXFxcXHUwQzg1LVxcXFx1MEM4Q1xcXFx1MEM4RS1cXFxcdTBDOTBcXFxcdTBDOTItXFxcXHUwQ0E4XFxcXHUwQ0FBLVxcXFx1MENCM1xcXFx1MENCNS1cXFxcdTBDQjlcXFxcdTBDQkRcXFxcdTBDREVcXFxcdTBDRTBcXFxcdTBDRTFcXFxcdTBEMDUtXFxcXHUwRDBDXFxcXHUwRDBFLVxcXFx1MEQxMFxcXFx1MEQxMi1cXFxcdTBEMjhcXFxcdTBEMkEtXFxcXHUwRDM5XFxcXHUwRDNEXFxcXHUwRDYwXFxcXHUwRDYxXFxcXHUwRDdBLVxcXFx1MEQ3RlxcXFx1MEQ4NS1cXFxcdTBEOTZcXFxcdTBEOUEtXFxcXHUwREIxXFxcXHUwREIzLVxcXFx1MERCQlxcXFx1MERCRFxcXFx1MERDMC1cXFxcdTBEQzZcXFxcdTBFMDEtXFxcXHUwRTMwXFxcXHUwRTMyXFxcXHUwRTMzXFxcXHUwRTQwLVxcXFx1MEU0NlxcXFx1MEU4MVxcXFx1MEU4MlxcXFx1MEU4NFxcXFx1MEU4N1xcXFx1MEU4OFxcXFx1MEU4QVxcXFx1MEU4RFxcXFx1MEU5NC1cXFxcdTBFOTdcXFxcdTBFOTktXFxcXHUwRTlGXFxcXHUwRUExLVxcXFx1MEVBM1xcXFx1MEVBNVxcXFx1MEVBN1xcXFx1MEVBQVxcXFx1MEVBQlxcXFx1MEVBRC1cXFxcdTBFQjBcXFxcdTBFQjJcXFxcdTBFQjNcXFxcdTBFQkRcXFxcdTBFQzAtXFxcXHUwRUM0XFxcXHUwRUM2XFxcXHUwRURDXFxcXHUwRUREXFxcXHUwRjAwXFxcXHUwRjQwLVxcXFx1MEY0N1xcXFx1MEY0OS1cXFxcdTBGNkNcXFxcdTBGODgtXFxcXHUwRjhCXFxcXHUxMDAwLVxcXFx1MTAyQVxcXFx1MTAzRlxcXFx1MTA1MC1cXFxcdTEwNTVcXFxcdTEwNUEtXFxcXHUxMDVEXFxcXHUxMDYxXFxcXHUxMDY1XFxcXHUxMDY2XFxcXHUxMDZFLVxcXFx1MTA3MFxcXFx1MTA3NS1cXFxcdTEwODFcXFxcdTEwOEVcXFxcdTEwQTAtXFxcXHUxMEM1XFxcXHUxMEQwLVxcXFx1MTBGQVxcXFx1MTBGQ1xcXFx1MTEwMC1cXFxcdTExNTlcXFxcdTExNUYtXFxcXHUxMUEyXFxcXHUxMUE4LVxcXFx1MTFGOVxcXFx1MTIwMC1cXFxcdTEyNDhcXFxcdTEyNEEtXFxcXHUxMjREXFxcXHUxMjUwLVxcXFx1MTI1NlxcXFx1MTI1OFxcXFx1MTI1QS1cXFxcdTEyNURcXFxcdTEyNjAtXFxcXHUxMjg4XFxcXHUxMjhBLVxcXFx1MTI4RFxcXFx1MTI5MC1cXFxcdTEyQjBcXFxcdTEyQjItXFxcXHUxMkI1XFxcXHUxMkI4LVxcXFx1MTJCRVxcXFx1MTJDMFxcXFx1MTJDMi1cXFxcdTEyQzVcXFxcdTEyQzgtXFxcXHUxMkQ2XFxcXHUxMkQ4LVxcXFx1MTMxMFxcXFx1MTMxMi1cXFxcdTEzMTVcXFxcdTEzMTgtXFxcXHUxMzVBXFxcXHUxMzgwLVxcXFx1MTM4RlxcXFx1MTNBMC1cXFxcdTEzRjRcXFxcdTE0MDEtXFxcXHUxNjZDXFxcXHUxNjZGLVxcXFx1MTY3NlxcXFx1MTY4MS1cXFxcdTE2OUFcXFxcdTE2QTAtXFxcXHUxNkVBXFxcXHUxNzAwLVxcXFx1MTcwQ1xcXFx1MTcwRS1cXFxcdTE3MTFcXFxcdTE3MjAtXFxcXHUxNzMxXFxcXHUxNzQwLVxcXFx1MTc1MVxcXFx1MTc2MC1cXFxcdTE3NkNcXFxcdTE3NkUtXFxcXHUxNzcwXFxcXHUxNzgwLVxcXFx1MTdCM1xcXFx1MTdEN1xcXFx1MTdEQ1xcXFx1MTgyMC1cXFxcdTE4NzdcXFxcdTE4ODAtXFxcXHUxOEE4XFxcXHUxOEFBXFxcXHUxOTAwLVxcXFx1MTkxQ1xcXFx1MTk1MC1cXFxcdTE5NkRcXFxcdTE5NzAtXFxcXHUxOTc0XFxcXHUxOTgwLVxcXFx1MTlBOVxcXFx1MTlDMS1cXFxcdTE5QzdcXFxcdTFBMDAtXFxcXHUxQTE2XFxcXHUxQjA1LVxcXFx1MUIzM1xcXFx1MUI0NS1cXFxcdTFCNEJcXFxcdTFCODMtXFxcXHUxQkEwXFxcXHUxQkFFXFxcXHUxQkFGXFxcXHUxQzAwLVxcXFx1MUMyM1xcXFx1MUM0RC1cXFxcdTFDNEZcXFxcdTFDNUEtXFxcXHUxQzdEXFxcXHUxRDAwLVxcXFx1MURCRlxcXFx1MUUwMC1cXFxcdTFGMTVcXFxcdTFGMTgtXFxcXHUxRjFEXFxcXHUxRjIwLVxcXFx1MUY0NVxcXFx1MUY0OC1cXFxcdTFGNERcXFxcdTFGNTAtXFxcXHUxRjU3XFxcXHUxRjU5XFxcXHUxRjVCXFxcXHUxRjVEXFxcXHUxRjVGLVxcXFx1MUY3RFxcXFx1MUY4MC1cXFxcdTFGQjRcXFxcdTFGQjYtXFxcXHUxRkJDXFxcXHUxRkJFXFxcXHUxRkMyLVxcXFx1MUZDNFxcXFx1MUZDNi1cXFxcdTFGQ0NcXFxcdTFGRDAtXFxcXHUxRkQzXFxcXHUxRkQ2LVxcXFx1MUZEQlxcXFx1MUZFMC1cXFxcdTFGRUNcXFxcdTFGRjItXFxcXHUxRkY0XFxcXHUxRkY2LVxcXFx1MUZGQ1xcXFx1MjA3MVxcXFx1MjA3RlxcXFx1MjA5MC1cXFxcdTIwOTRcXFxcdTIxMDJcXFxcdTIxMDdcXFxcdTIxMEEtXFxcXHUyMTEzXFxcXHUyMTE1XFxcXHUyMTE5LVxcXFx1MjExRFxcXFx1MjEyNFxcXFx1MjEyNlxcXFx1MjEyOFxcXFx1MjEyQS1cXFxcdTIxMkRcXFxcdTIxMkYtXFxcXHUyMTM5XFxcXHUyMTNDLVxcXFx1MjEzRlxcXFx1MjE0NS1cXFxcdTIxNDlcXFxcdTIxNEVcXFxcdTIxODNcXFxcdTIxODRcXFxcdTJDMDAtXFxcXHUyQzJFXFxcXHUyQzMwLVxcXFx1MkM1RVxcXFx1MkM2MC1cXFxcdTJDNkZcXFxcdTJDNzEtXFxcXHUyQzdEXFxcXHUyQzgwLVxcXFx1MkNFNFxcXFx1MkQwMC1cXFxcdTJEMjVcXFxcdTJEMzAtXFxcXHUyRDY1XFxcXHUyRDZGXFxcXHUyRDgwLVxcXFx1MkQ5NlxcXFx1MkRBMC1cXFxcdTJEQTZcXFxcdTJEQTgtXFxcXHUyREFFXFxcXHUyREIwLVxcXFx1MkRCNlxcXFx1MkRCOC1cXFxcdTJEQkVcXFxcdTJEQzAtXFxcXHUyREM2XFxcXHUyREM4LVxcXFx1MkRDRVxcXFx1MkREMC1cXFxcdTJERDZcXFxcdTJERDgtXFxcXHUyRERFXFxcXHUyRTJGXFxcXHUzMDA1XFxcXHUzMDA2XFxcXHUzMDMxLVxcXFx1MzAzNVxcXFx1MzAzQlxcXFx1MzAzQ1xcXFx1MzA0MS1cXFxcdTMwOTZcXFxcdTMwOUQtXFxcXHUzMDlGXFxcXHUzMEExLVxcXFx1MzBGQVxcXFx1MzBGQy1cXFxcdTMwRkZcXFxcdTMxMDUtXFxcXHUzMTJEXFxcXHUzMTMxLVxcXFx1MzE4RVxcXFx1MzFBMC1cXFxcdTMxQjdcXFxcdTMxRjAtXFxcXHUzMUZGXFxcXHUzNDAwXFxcXHU0REI1XFxcXHU0RTAwXFxcXHU5RkMzXFxcXHVBMDAwLVxcXFx1QTQ4Q1xcXFx1QTUwMC1cXFxcdUE2MENcXFxcdUE2MTAtXFxcXHVBNjFGXFxcXHVBNjJBXFxcXHVBNjJCXFxcXHVBNjQwLVxcXFx1QTY1RlxcXFx1QTY2Mi1cXFxcdUE2NkVcXFxcdUE2N0YtXFxcXHVBNjk3XFxcXHVBNzE3LVxcXFx1QTcxRlxcXFx1QTcyMi1cXFxcdUE3ODhcXFxcdUE3OEJcXFxcdUE3OENcXFxcdUE3RkItXFxcXHVBODAxXFxcXHVBODAzLVxcXFx1QTgwNVxcXFx1QTgwNy1cXFxcdUE4MEFcXFxcdUE4MEMtXFxcXHVBODIyXFxcXHVBODQwLVxcXFx1QTg3M1xcXFx1QTg4Mi1cXFxcdUE4QjNcXFxcdUE5MEEtXFxcXHVBOTI1XFxcXHVBOTMwLVxcXFx1QTk0NlxcXFx1QUEwMC1cXFxcdUFBMjhcXFxcdUFBNDAtXFxcXHVBQTQyXFxcXHVBQTQ0LVxcXFx1QUE0QlxcXFx1QUMwMFxcXFx1RDdBM1xcXFx1RjkwMC1cXFxcdUZBMkRcXFxcdUZBMzAtXFxcXHVGQTZBXFxcXHVGQTcwLVxcXFx1RkFEOVxcXFx1RkIwMC1cXFxcdUZCMDZcXFxcdUZCMTMtXFxcXHVGQjE3XFxcXHVGQjFEXFxcXHVGQjFGLVxcXFx1RkIyOFxcXFx1RkIyQS1cXFxcdUZCMzZcXFxcdUZCMzgtXFxcXHVGQjNDXFxcXHVGQjNFXFxcXHVGQjQwXFxcXHVGQjQxXFxcXHVGQjQzXFxcXHVGQjQ0XFxcXHVGQjQ2LVxcXFx1RkJCMVxcXFx1RkJEMy1cXFxcdUZEM0RcXFxcdUZENTAtXFxcXHVGRDhGXFxcXHVGRDkyLVxcXFx1RkRDN1xcXFx1RkRGMC1cXFxcdUZERkJcXFxcdUZFNzAtXFxcXHVGRTc0XFxcXHVGRTc2LVxcXFx1RkVGQ1xcXFx1RkYyMS1cXFxcdUZGM0FcXFxcdUZGNDEtXFxcXHVGRjVBXFxcXHVGRjY2LVxcXFx1RkZCRVxcXFx1RkZDMi1cXFxcdUZGQzdcXFxcdUZGQ0EtXFxcXHVGRkNGXFxcXHVGRkQyLVxcXFx1RkZEN1xcXFx1RkZEQS1cXFxcdUZGRENdXCIpLFxuICAgIG5vbl9zcGFjaW5nX21hcms6IG5ldyBSZWdFeHAoXCJbXFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MDQ4My1cXFxcdTA0ODdcXFxcdTA1OTEtXFxcXHUwNUJEXFxcXHUwNUJGXFxcXHUwNUMxXFxcXHUwNUMyXFxcXHUwNUM0XFxcXHUwNUM1XFxcXHUwNUM3XFxcXHUwNjEwLVxcXFx1MDYxQVxcXFx1MDY0Qi1cXFxcdTA2NUVcXFxcdTA2NzBcXFxcdTA2RDYtXFxcXHUwNkRDXFxcXHUwNkRGLVxcXFx1MDZFNFxcXFx1MDZFN1xcXFx1MDZFOFxcXFx1MDZFQS1cXFxcdTA2RURcXFxcdTA3MTFcXFxcdTA3MzAtXFxcXHUwNzRBXFxcXHUwN0E2LVxcXFx1MDdCMFxcXFx1MDdFQi1cXFxcdTA3RjNcXFxcdTA4MTYtXFxcXHUwODE5XFxcXHUwODFCLVxcXFx1MDgyM1xcXFx1MDgyNS1cXFxcdTA4MjdcXFxcdTA4MjktXFxcXHUwODJEXFxcXHUwOTAwLVxcXFx1MDkwMlxcXFx1MDkzQ1xcXFx1MDk0MS1cXFxcdTA5NDhcXFxcdTA5NERcXFxcdTA5NTEtXFxcXHUwOTU1XFxcXHUwOTYyXFxcXHUwOTYzXFxcXHUwOTgxXFxcXHUwOUJDXFxcXHUwOUMxLVxcXFx1MDlDNFxcXFx1MDlDRFxcXFx1MDlFMlxcXFx1MDlFM1xcXFx1MEEwMVxcXFx1MEEwMlxcXFx1MEEzQ1xcXFx1MEE0MVxcXFx1MEE0MlxcXFx1MEE0N1xcXFx1MEE0OFxcXFx1MEE0Qi1cXFxcdTBBNERcXFxcdTBBNTFcXFxcdTBBNzBcXFxcdTBBNzFcXFxcdTBBNzVcXFxcdTBBODFcXFxcdTBBODJcXFxcdTBBQkNcXFxcdTBBQzEtXFxcXHUwQUM1XFxcXHUwQUM3XFxcXHUwQUM4XFxcXHUwQUNEXFxcXHUwQUUyXFxcXHUwQUUzXFxcXHUwQjAxXFxcXHUwQjNDXFxcXHUwQjNGXFxcXHUwQjQxLVxcXFx1MEI0NFxcXFx1MEI0RFxcXFx1MEI1NlxcXFx1MEI2MlxcXFx1MEI2M1xcXFx1MEI4MlxcXFx1MEJDMFxcXFx1MEJDRFxcXFx1MEMzRS1cXFxcdTBDNDBcXFxcdTBDNDYtXFxcXHUwQzQ4XFxcXHUwQzRBLVxcXFx1MEM0RFxcXFx1MEM1NVxcXFx1MEM1NlxcXFx1MEM2MlxcXFx1MEM2M1xcXFx1MENCQ1xcXFx1MENCRlxcXFx1MENDNlxcXFx1MENDQ1xcXFx1MENDRFxcXFx1MENFMlxcXFx1MENFM1xcXFx1MEQ0MS1cXFxcdTBENDRcXFxcdTBENERcXFxcdTBENjJcXFxcdTBENjNcXFxcdTBEQ0FcXFxcdTBERDItXFxcXHUwREQ0XFxcXHUwREQ2XFxcXHUwRTMxXFxcXHUwRTM0LVxcXFx1MEUzQVxcXFx1MEU0Ny1cXFxcdTBFNEVcXFxcdTBFQjFcXFxcdTBFQjQtXFxcXHUwRUI5XFxcXHUwRUJCXFxcXHUwRUJDXFxcXHUwRUM4LVxcXFx1MEVDRFxcXFx1MEYxOFxcXFx1MEYxOVxcXFx1MEYzNVxcXFx1MEYzN1xcXFx1MEYzOVxcXFx1MEY3MS1cXFxcdTBGN0VcXFxcdTBGODAtXFxcXHUwRjg0XFxcXHUwRjg2XFxcXHUwRjg3XFxcXHUwRjkwLVxcXFx1MEY5N1xcXFx1MEY5OS1cXFxcdTBGQkNcXFxcdTBGQzZcXFxcdTEwMkQtXFxcXHUxMDMwXFxcXHUxMDMyLVxcXFx1MTAzN1xcXFx1MTAzOVxcXFx1MTAzQVxcXFx1MTAzRFxcXFx1MTAzRVxcXFx1MTA1OFxcXFx1MTA1OVxcXFx1MTA1RS1cXFxcdTEwNjBcXFxcdTEwNzEtXFxcXHUxMDc0XFxcXHUxMDgyXFxcXHUxMDg1XFxcXHUxMDg2XFxcXHUxMDhEXFxcXHUxMDlEXFxcXHUxMzVGXFxcXHUxNzEyLVxcXFx1MTcxNFxcXFx1MTczMi1cXFxcdTE3MzRcXFxcdTE3NTJcXFxcdTE3NTNcXFxcdTE3NzJcXFxcdTE3NzNcXFxcdTE3QjctXFxcXHUxN0JEXFxcXHUxN0M2XFxcXHUxN0M5LVxcXFx1MTdEM1xcXFx1MTdERFxcXFx1MTgwQi1cXFxcdTE4MERcXFxcdTE4QTlcXFxcdTE5MjAtXFxcXHUxOTIyXFxcXHUxOTI3XFxcXHUxOTI4XFxcXHUxOTMyXFxcXHUxOTM5LVxcXFx1MTkzQlxcXFx1MUExN1xcXFx1MUExOFxcXFx1MUE1NlxcXFx1MUE1OC1cXFxcdTFBNUVcXFxcdTFBNjBcXFxcdTFBNjJcXFxcdTFBNjUtXFxcXHUxQTZDXFxcXHUxQTczLVxcXFx1MUE3Q1xcXFx1MUE3RlxcXFx1MUIwMC1cXFxcdTFCMDNcXFxcdTFCMzRcXFxcdTFCMzYtXFxcXHUxQjNBXFxcXHUxQjNDXFxcXHUxQjQyXFxcXHUxQjZCLVxcXFx1MUI3M1xcXFx1MUI4MFxcXFx1MUI4MVxcXFx1MUJBMi1cXFxcdTFCQTVcXFxcdTFCQThcXFxcdTFCQTlcXFxcdTFDMkMtXFxcXHUxQzMzXFxcXHUxQzM2XFxcXHUxQzM3XFxcXHUxQ0QwLVxcXFx1MUNEMlxcXFx1MUNENC1cXFxcdTFDRTBcXFxcdTFDRTItXFxcXHUxQ0U4XFxcXHUxQ0VEXFxcXHUxREMwLVxcXFx1MURFNlxcXFx1MURGRC1cXFxcdTFERkZcXFxcdTIwRDAtXFxcXHUyMERDXFxcXHUyMEUxXFxcXHUyMEU1LVxcXFx1MjBGMFxcXFx1MkNFRi1cXFxcdTJDRjFcXFxcdTJERTAtXFxcXHUyREZGXFxcXHUzMDJBLVxcXFx1MzAyRlxcXFx1MzA5OVxcXFx1MzA5QVxcXFx1QTY2RlxcXFx1QTY3Q1xcXFx1QTY3RFxcXFx1QTZGMFxcXFx1QTZGMVxcXFx1QTgwMlxcXFx1QTgwNlxcXFx1QTgwQlxcXFx1QTgyNVxcXFx1QTgyNlxcXFx1QThDNFxcXFx1QThFMC1cXFxcdUE4RjFcXFxcdUE5MjYtXFxcXHVBOTJEXFxcXHVBOTQ3LVxcXFx1QTk1MVxcXFx1QTk4MC1cXFxcdUE5ODJcXFxcdUE5QjNcXFxcdUE5QjYtXFxcXHVBOUI5XFxcXHVBOUJDXFxcXHVBQTI5LVxcXFx1QUEyRVxcXFx1QUEzMVxcXFx1QUEzMlxcXFx1QUEzNVxcXFx1QUEzNlxcXFx1QUE0M1xcXFx1QUE0Q1xcXFx1QUFCMFxcXFx1QUFCMi1cXFxcdUFBQjRcXFxcdUFBQjdcXFxcdUFBQjhcXFxcdUFBQkVcXFxcdUFBQkZcXFxcdUFBQzFcXFxcdUFCRTVcXFxcdUFCRThcXFxcdUFCRURcXFxcdUZCMUVcXFxcdUZFMDAtXFxcXHVGRTBGXFxcXHVGRTIwLVxcXFx1RkUyNl1cIiksXG4gICAgc3BhY2VfY29tYmluaW5nX21hcms6IG5ldyBSZWdFeHAoXCJbXFxcXHUwOTAzXFxcXHUwOTNFLVxcXFx1MDk0MFxcXFx1MDk0OS1cXFxcdTA5NENcXFxcdTA5NEVcXFxcdTA5ODJcXFxcdTA5ODNcXFxcdTA5QkUtXFxcXHUwOUMwXFxcXHUwOUM3XFxcXHUwOUM4XFxcXHUwOUNCXFxcXHUwOUNDXFxcXHUwOUQ3XFxcXHUwQTAzXFxcXHUwQTNFLVxcXFx1MEE0MFxcXFx1MEE4M1xcXFx1MEFCRS1cXFxcdTBBQzBcXFxcdTBBQzlcXFxcdTBBQ0JcXFxcdTBBQ0NcXFxcdTBCMDJcXFxcdTBCMDNcXFxcdTBCM0VcXFxcdTBCNDBcXFxcdTBCNDdcXFxcdTBCNDhcXFxcdTBCNEJcXFxcdTBCNENcXFxcdTBCNTdcXFxcdTBCQkVcXFxcdTBCQkZcXFxcdTBCQzFcXFxcdTBCQzJcXFxcdTBCQzYtXFxcXHUwQkM4XFxcXHUwQkNBLVxcXFx1MEJDQ1xcXFx1MEJEN1xcXFx1MEMwMS1cXFxcdTBDMDNcXFxcdTBDNDEtXFxcXHUwQzQ0XFxcXHUwQzgyXFxcXHUwQzgzXFxcXHUwQ0JFXFxcXHUwQ0MwLVxcXFx1MENDNFxcXFx1MENDN1xcXFx1MENDOFxcXFx1MENDQVxcXFx1MENDQlxcXFx1MENENVxcXFx1MENENlxcXFx1MEQwMlxcXFx1MEQwM1xcXFx1MEQzRS1cXFxcdTBENDBcXFxcdTBENDYtXFxcXHUwRDQ4XFxcXHUwRDRBLVxcXFx1MEQ0Q1xcXFx1MEQ1N1xcXFx1MEQ4MlxcXFx1MEQ4M1xcXFx1MERDRi1cXFxcdTBERDFcXFxcdTBERDgtXFxcXHUwRERGXFxcXHUwREYyXFxcXHUwREYzXFxcXHUwRjNFXFxcXHUwRjNGXFxcXHUwRjdGXFxcXHUxMDJCXFxcXHUxMDJDXFxcXHUxMDMxXFxcXHUxMDM4XFxcXHUxMDNCXFxcXHUxMDNDXFxcXHUxMDU2XFxcXHUxMDU3XFxcXHUxMDYyLVxcXFx1MTA2NFxcXFx1MTA2Ny1cXFxcdTEwNkRcXFxcdTEwODNcXFxcdTEwODRcXFxcdTEwODctXFxcXHUxMDhDXFxcXHUxMDhGXFxcXHUxMDlBLVxcXFx1MTA5Q1xcXFx1MTdCNlxcXFx1MTdCRS1cXFxcdTE3QzVcXFxcdTE3QzdcXFxcdTE3QzhcXFxcdTE5MjMtXFxcXHUxOTI2XFxcXHUxOTI5LVxcXFx1MTkyQlxcXFx1MTkzMFxcXFx1MTkzMVxcXFx1MTkzMy1cXFxcdTE5MzhcXFxcdTE5QjAtXFxcXHUxOUMwXFxcXHUxOUM4XFxcXHUxOUM5XFxcXHUxQTE5LVxcXFx1MUExQlxcXFx1MUE1NVxcXFx1MUE1N1xcXFx1MUE2MVxcXFx1MUE2M1xcXFx1MUE2NFxcXFx1MUE2RC1cXFxcdTFBNzJcXFxcdTFCMDRcXFxcdTFCMzVcXFxcdTFCM0JcXFxcdTFCM0QtXFxcXHUxQjQxXFxcXHUxQjQzXFxcXHUxQjQ0XFxcXHUxQjgyXFxcXHUxQkExXFxcXHUxQkE2XFxcXHUxQkE3XFxcXHUxQkFBXFxcXHUxQzI0LVxcXFx1MUMyQlxcXFx1MUMzNFxcXFx1MUMzNVxcXFx1MUNFMVxcXFx1MUNGMlxcXFx1QTgyM1xcXFx1QTgyNFxcXFx1QTgyN1xcXFx1QTg4MFxcXFx1QTg4MVxcXFx1QThCNC1cXFxcdUE4QzNcXFxcdUE5NTJcXFxcdUE5NTNcXFxcdUE5ODNcXFxcdUE5QjRcXFxcdUE5QjVcXFxcdUE5QkFcXFxcdUE5QkJcXFxcdUE5QkQtXFxcXHVBOUMwXFxcXHVBQTJGXFxcXHVBQTMwXFxcXHVBQTMzXFxcXHVBQTM0XFxcXHVBQTREXFxcXHVBQTdCXFxcXHVBQkUzXFxcXHVBQkU0XFxcXHVBQkU2XFxcXHVBQkU3XFxcXHVBQkU5XFxcXHVBQkVBXFxcXHVBQkVDXVwiKSxcbiAgICBjb25uZWN0b3JfcHVuY3R1YXRpb246IG5ldyBSZWdFeHAoXCJbXFxcXHUwMDVGXFxcXHUyMDNGXFxcXHUyMDQwXFxcXHUyMDU0XFxcXHVGRTMzXFxcXHVGRTM0XFxcXHVGRTRELVxcXFx1RkU0RlxcXFx1RkYzRl1cIilcbn07XG5cbmZ1bmN0aW9uIGlzX2xldHRlcihjb2RlKSB7XG4gICAgcmV0dXJuIChjb2RlID49IDk3ICYmIGNvZGUgPD0gMTIyKVxuICAgICAgICB8fCAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKVxuICAgICAgICB8fCAoY29kZSA+PSAweGFhICYmIFVOSUNPREUubGV0dGVyLnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSkpO1xufTtcblxuZnVuY3Rpb24gaXNfZGlnaXQoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTc7IC8vWFhYOiBmaW5kIG91dCBpZiBcIlVuaWNvZGVEaWdpdFwiIG1lYW5zIHNvbWV0aGluZyBlbHNlIHRoYW4gMC4uOVxufTtcblxuZnVuY3Rpb24gaXNfYWxwaGFudW1lcmljX2NoYXIoY29kZSkge1xuICAgIHJldHVybiBpc19kaWdpdChjb2RlKSB8fCBpc19sZXR0ZXIoY29kZSk7XG59O1xuXG5mdW5jdGlvbiBpc191bmljb2RlX2NvbWJpbmluZ19tYXJrKGNoKSB7XG4gICAgcmV0dXJuIFVOSUNPREUubm9uX3NwYWNpbmdfbWFyay50ZXN0KGNoKSB8fCBVTklDT0RFLnNwYWNlX2NvbWJpbmluZ19tYXJrLnRlc3QoY2gpO1xufTtcblxuZnVuY3Rpb24gaXNfdW5pY29kZV9jb25uZWN0b3JfcHVuY3R1YXRpb24oY2gpIHtcbiAgICByZXR1cm4gVU5JQ09ERS5jb25uZWN0b3JfcHVuY3R1YXRpb24udGVzdChjaCk7XG59O1xuXG5mdW5jdGlvbiBpc19pZGVudGlmaWVyKG5hbWUpIHtcbiAgICByZXR1cm4gIVJFU0VSVkVEX1dPUkRTKG5hbWUpICYmIC9eW2Etel8kXVthLXowLTlfJF0qJC9pLnRlc3QobmFtZSk7XG59O1xuXG5mdW5jdGlvbiBpc19pZGVudGlmaWVyX3N0YXJ0KGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA9PSAzNiB8fCBjb2RlID09IDk1IHx8IGlzX2xldHRlcihjb2RlKTtcbn07XG5cbmZ1bmN0aW9uIGlzX2lkZW50aWZpZXJfY2hhcihjaCkge1xuICAgIHZhciBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICByZXR1cm4gaXNfaWRlbnRpZmllcl9zdGFydChjb2RlKVxuICAgICAgICB8fCBpc19kaWdpdChjb2RlKVxuICAgICAgICB8fCBjb2RlID09IDgyMDQgLy8gXFx1MjAwYzogemVyby13aWR0aCBub24tam9pbmVyIDxaV05KPlxuICAgICAgICB8fCBjb2RlID09IDgyMDUgLy8gXFx1MjAwZDogemVyby13aWR0aCBqb2luZXIgPFpXSj4gKGluIG15IEVDTUEtMjYyIFBERiwgdGhpcyBpcyBhbHNvIDIwMGMpXG4gICAgICAgIHx8IGlzX3VuaWNvZGVfY29tYmluaW5nX21hcmsoY2gpXG4gICAgICAgIHx8IGlzX3VuaWNvZGVfY29ubmVjdG9yX3B1bmN0dWF0aW9uKGNoKVxuICAgIDtcbn07XG5cbmZ1bmN0aW9uIGlzX2lkZW50aWZpZXJfc3RyaW5nKHN0cil7XG4gICAgcmV0dXJuIC9eW2Etel8kXVthLXowLTlfJF0qJC9pLnRlc3Qoc3RyKTtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlX2pzX251bWJlcihudW0pIHtcbiAgICBpZiAoUkVfSEVYX05VTUJFUi50ZXN0KG51bSkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bS5zdWJzdHIoMiksIDE2KTtcbiAgICB9IGVsc2UgaWYgKFJFX09DVF9OVU1CRVIudGVzdChudW0pKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChudW0uc3Vic3RyKDEpLCA4KTtcbiAgICB9IGVsc2UgaWYgKFJFX0RFQ19OVU1CRVIudGVzdChudW0pKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG51bSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gSlNfUGFyc2VfRXJyb3IobWVzc2FnZSwgbGluZSwgY29sLCBwb3MpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMubGluZSA9IGxpbmU7XG4gICAgdGhpcy5jb2wgPSBjb2w7XG4gICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufTtcblxuSlNfUGFyc2VfRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZSArIFwiIChsaW5lOiBcIiArIHRoaXMubGluZSArIFwiLCBjb2w6IFwiICsgdGhpcy5jb2wgKyBcIiwgcG9zOiBcIiArIHRoaXMucG9zICsgXCIpXCIgKyBcIlxcblxcblwiICsgdGhpcy5zdGFjaztcbn07XG5cbmZ1bmN0aW9uIGpzX2Vycm9yKG1lc3NhZ2UsIGZpbGVuYW1lLCBsaW5lLCBjb2wsIHBvcykge1xuICAgIHRocm93IG5ldyBKU19QYXJzZV9FcnJvcihtZXNzYWdlLCBsaW5lLCBjb2wsIHBvcyk7XG59O1xuXG5mdW5jdGlvbiBpc190b2tlbih0b2tlbiwgdHlwZSwgdmFsKSB7XG4gICAgcmV0dXJuIHRva2VuLnR5cGUgPT0gdHlwZSAmJiAodmFsID09IG51bGwgfHwgdG9rZW4udmFsdWUgPT0gdmFsKTtcbn07XG5cbnZhciBFWF9FT0YgPSB7fTtcblxuZnVuY3Rpb24gdG9rZW5pemVyKCRURVhULCBmaWxlbmFtZSwgaHRtbDVfY29tbWVudHMpIHtcblxuICAgIHZhciBTID0ge1xuICAgICAgICB0ZXh0ICAgICAgICAgICAgOiAkVEVYVC5yZXBsYWNlKC9cXHJcXG4/fFtcXG5cXHUyMDI4XFx1MjAyOV0vZywgXCJcXG5cIikucmVwbGFjZSgvXFx1RkVGRi9nLCAnJyksXG4gICAgICAgIGZpbGVuYW1lICAgICAgICA6IGZpbGVuYW1lLFxuICAgICAgICBwb3MgICAgICAgICAgICAgOiAwLFxuICAgICAgICB0b2twb3MgICAgICAgICAgOiAwLFxuICAgICAgICBsaW5lICAgICAgICAgICAgOiAxLFxuICAgICAgICB0b2tsaW5lICAgICAgICAgOiAwLFxuICAgICAgICBjb2wgICAgICAgICAgICAgOiAwLFxuICAgICAgICB0b2tjb2wgICAgICAgICAgOiAwLFxuICAgICAgICBuZXdsaW5lX2JlZm9yZSAgOiBmYWxzZSxcbiAgICAgICAgcmVnZXhfYWxsb3dlZCAgIDogZmFsc2UsXG4gICAgICAgIGNvbW1lbnRzX2JlZm9yZSA6IFtdXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHBlZWsoKSB7IHJldHVybiBTLnRleHQuY2hhckF0KFMucG9zKTsgfTtcblxuICAgIGZ1bmN0aW9uIG5leHQoc2lnbmFsX2VvZiwgaW5fc3RyaW5nKSB7XG4gICAgICAgIHZhciBjaCA9IFMudGV4dC5jaGFyQXQoUy5wb3MrKyk7XG4gICAgICAgIGlmIChzaWduYWxfZW9mICYmICFjaClcbiAgICAgICAgICAgIHRocm93IEVYX0VPRjtcbiAgICAgICAgaWYgKGNoID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIFMubmV3bGluZV9iZWZvcmUgPSBTLm5ld2xpbmVfYmVmb3JlIHx8ICFpbl9zdHJpbmc7XG4gICAgICAgICAgICArK1MubGluZTtcbiAgICAgICAgICAgIFMuY29sID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsrUy5jb2w7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkKGkpIHtcbiAgICAgICAgd2hpbGUgKGktLSA+IDApIG5leHQoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9va2luZ19hdChzdHIpIHtcbiAgICAgICAgcmV0dXJuIFMudGV4dC5zdWJzdHIoUy5wb3MsIHN0ci5sZW5ndGgpID09IHN0cjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmluZCh3aGF0LCBzaWduYWxfZW9mKSB7XG4gICAgICAgIHZhciBwb3MgPSBTLnRleHQuaW5kZXhPZih3aGF0LCBTLnBvcyk7XG4gICAgICAgIGlmIChzaWduYWxfZW9mICYmIHBvcyA9PSAtMSkgdGhyb3cgRVhfRU9GO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzdGFydF90b2tlbigpIHtcbiAgICAgICAgUy50b2tsaW5lID0gUy5saW5lO1xuICAgICAgICBTLnRva2NvbCA9IFMuY29sO1xuICAgICAgICBTLnRva3BvcyA9IFMucG9zO1xuICAgIH07XG5cbiAgICB2YXIgcHJldl93YXNfZG90ID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gdG9rZW4odHlwZSwgdmFsdWUsIGlzX2NvbW1lbnQpIHtcbiAgICAgICAgUy5yZWdleF9hbGxvd2VkID0gKCh0eXBlID09IFwib3BlcmF0b3JcIiAmJiAhVU5BUllfUE9TVEZJWCh2YWx1ZSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZSA9PSBcImtleXdvcmRcIiAmJiBLRVlXT1JEU19CRUZPUkVfRVhQUkVTU0lPTih2YWx1ZSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZSA9PSBcInB1bmNcIiAmJiBQVU5DX0JFRk9SRV9FWFBSRVNTSU9OKHZhbHVlKSkpO1xuICAgICAgICBwcmV2X3dhc19kb3QgPSAodHlwZSA9PSBcInB1bmNcIiAmJiB2YWx1ZSA9PSBcIi5cIik7XG4gICAgICAgIHZhciByZXQgPSB7XG4gICAgICAgICAgICB0eXBlICAgOiB0eXBlLFxuICAgICAgICAgICAgdmFsdWUgIDogdmFsdWUsXG4gICAgICAgICAgICBsaW5lICAgOiBTLnRva2xpbmUsXG4gICAgICAgICAgICBjb2wgICAgOiBTLnRva2NvbCxcbiAgICAgICAgICAgIHBvcyAgICA6IFMudG9rcG9zLFxuICAgICAgICAgICAgZW5kcG9zIDogUy5wb3MsXG4gICAgICAgICAgICBubGIgICAgOiBTLm5ld2xpbmVfYmVmb3JlLFxuICAgICAgICAgICAgZmlsZSAgIDogZmlsZW5hbWVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFpc19jb21tZW50KSB7XG4gICAgICAgICAgICByZXQuY29tbWVudHNfYmVmb3JlID0gUy5jb21tZW50c19iZWZvcmU7XG4gICAgICAgICAgICBTLmNvbW1lbnRzX2JlZm9yZSA9IFtdO1xuICAgICAgICAgICAgLy8gbWFrZSBub3RlIG9mIGFueSBuZXdsaW5lcyBpbiB0aGUgY29tbWVudHMgdGhhdCBjYW1lIGJlZm9yZVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJldC5jb21tZW50c19iZWZvcmUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXQubmxiID0gcmV0Lm5sYiB8fCByZXQuY29tbWVudHNfYmVmb3JlW2ldLm5sYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBTLm5ld2xpbmVfYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX1Rva2VuKHJldCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNraXBfd2hpdGVzcGFjZSgpIHtcbiAgICAgICAgd2hpbGUgKFdISVRFU1BBQ0VfQ0hBUlMocGVlaygpKSlcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVhZF93aGlsZShwcmVkKSB7XG4gICAgICAgIHZhciByZXQgPSBcIlwiLCBjaCwgaSA9IDA7XG4gICAgICAgIHdoaWxlICgoY2ggPSBwZWVrKCkpICYmIHByZWQoY2gsIGkrKykpXG4gICAgICAgICAgICByZXQgKz0gbmV4dCgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwYXJzZV9lcnJvcihlcnIpIHtcbiAgICAgICAganNfZXJyb3IoZXJyLCBmaWxlbmFtZSwgUy50b2tsaW5lLCBTLnRva2NvbCwgUy50b2twb3MpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWFkX251bShwcmVmaXgpIHtcbiAgICAgICAgdmFyIGhhc19lID0gZmFsc2UsIGFmdGVyX2UgPSBmYWxzZSwgaGFzX3ggPSBmYWxzZSwgaGFzX2RvdCA9IHByZWZpeCA9PSBcIi5cIjtcbiAgICAgICAgdmFyIG51bSA9IHJlYWRfd2hpbGUoZnVuY3Rpb24oY2gsIGkpe1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMTIwOiBjYXNlIDg4OiAvLyB4WFxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNfeCA/IGZhbHNlIDogKGhhc194ID0gdHJ1ZSk7XG4gICAgICAgICAgICAgIGNhc2UgMTAxOiBjYXNlIDY5OiAvLyBlRVxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNfeCA/IHRydWUgOiBoYXNfZSA/IGZhbHNlIDogKGhhc19lID0gYWZ0ZXJfZSA9IHRydWUpO1xuICAgICAgICAgICAgICBjYXNlIDQ1OiAvLyAtXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFmdGVyX2UgfHwgKGkgPT0gMCAmJiAhcHJlZml4KTtcbiAgICAgICAgICAgICAgY2FzZSA0MzogLy8gK1xuICAgICAgICAgICAgICAgIHJldHVybiBhZnRlcl9lO1xuICAgICAgICAgICAgICBjYXNlIChhZnRlcl9lID0gZmFsc2UsIDQ2KTogLy8gLlxuICAgICAgICAgICAgICAgIHJldHVybiAoIWhhc19kb3QgJiYgIWhhc194ICYmICFoYXNfZSkgPyAoaGFzX2RvdCA9IHRydWUpIDogZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNfYWxwaGFudW1lcmljX2NoYXIoY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJlZml4KSBudW0gPSBwcmVmaXggKyBudW07XG4gICAgICAgIHZhciB2YWxpZCA9IHBhcnNlX2pzX251bWJlcihudW0pO1xuICAgICAgICBpZiAoIWlzTmFOKHZhbGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuKFwibnVtXCIsIHZhbGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlX2Vycm9yKFwiSW52YWxpZCBzeW50YXg6IFwiICsgbnVtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWFkX2VzY2FwZWRfY2hhcihpbl9zdHJpbmcpIHtcbiAgICAgICAgdmFyIGNoID0gbmV4dCh0cnVlLCBpbl9zdHJpbmcpO1xuICAgICAgICBzd2l0Y2ggKGNoLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgICBjYXNlIDExMCA6IHJldHVybiBcIlxcblwiO1xuICAgICAgICAgIGNhc2UgMTE0IDogcmV0dXJuIFwiXFxyXCI7XG4gICAgICAgICAgY2FzZSAxMTYgOiByZXR1cm4gXCJcXHRcIjtcbiAgICAgICAgICBjYXNlIDk4ICA6IHJldHVybiBcIlxcYlwiO1xuICAgICAgICAgIGNhc2UgMTE4IDogcmV0dXJuIFwiXFx1MDAwYlwiOyAvLyBcXHZcbiAgICAgICAgICBjYXNlIDEwMiA6IHJldHVybiBcIlxcZlwiO1xuICAgICAgICAgIGNhc2UgNDggIDogcmV0dXJuIFwiXFwwXCI7XG4gICAgICAgICAgY2FzZSAxMjAgOiByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShoZXhfYnl0ZXMoMikpOyAvLyBcXHhcbiAgICAgICAgICBjYXNlIDExNyA6IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGhleF9ieXRlcyg0KSk7IC8vIFxcdVxuICAgICAgICAgIGNhc2UgMTAgIDogcmV0dXJuIFwiXCI7IC8vIG5ld2xpbmVcbiAgICAgICAgICBkZWZhdWx0ICA6IHJldHVybiBjaDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoZXhfYnl0ZXMobikge1xuICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgZm9yICg7IG4gPiAwOyAtLW4pIHtcbiAgICAgICAgICAgIHZhciBkaWdpdCA9IHBhcnNlSW50KG5leHQodHJ1ZSksIDE2KTtcbiAgICAgICAgICAgIGlmIChpc05hTihkaWdpdCkpXG4gICAgICAgICAgICAgICAgcGFyc2VfZXJyb3IoXCJJbnZhbGlkIGhleC1jaGFyYWN0ZXIgcGF0dGVybiBpbiBzdHJpbmdcIik7XG4gICAgICAgICAgICBudW0gPSAobnVtIDw8IDQpIHwgZGlnaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9O1xuXG4gICAgdmFyIHJlYWRfc3RyaW5nID0gd2l0aF9lb2ZfZXJyb3IoXCJVbnRlcm1pbmF0ZWQgc3RyaW5nIGNvbnN0YW50XCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBxdW90ZSA9IG5leHQoKSwgcmV0ID0gXCJcIjtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgdmFyIGNoID0gbmV4dCh0cnVlKTtcbiAgICAgICAgICAgIGlmIChjaCA9PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgT2N0YWxFc2NhcGVTZXF1ZW5jZSAoWFhYOiBkZXByZWNhdGVkIGlmIFwic3RyaWN0IG1vZGVcIilcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTL2lzc3Vlcy8xNzhcbiAgICAgICAgICAgICAgICB2YXIgb2N0YWxfbGVuID0gMCwgZmlyc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoID0gcmVhZF93aGlsZShmdW5jdGlvbihjaCl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCA+PSBcIjBcIiAmJiBjaCA8PSBcIjdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gY2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICsrb2N0YWxfbGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3QgPD0gXCIzXCIgJiYgb2N0YWxfbGVuIDw9IDIpIHJldHVybiArK29jdGFsX2xlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0ID49IFwiNFwiICYmIG9jdGFsX2xlbiA8PSAxKSByZXR1cm4gKytvY3RhbF9sZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvY3RhbF9sZW4gPiAwKSBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY2gsIDgpKTtcbiAgICAgICAgICAgICAgICBlbHNlIGNoID0gcmVhZF9lc2NhcGVkX2NoYXIodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBxdW90ZSkgYnJlYWs7XG4gICAgICAgICAgICByZXQgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuKFwic3RyaW5nXCIsIHJldCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBza2lwX2xpbmVfY29tbWVudCh0eXBlKSB7XG4gICAgICAgIHZhciByZWdleF9hbGxvd2VkID0gUy5yZWdleF9hbGxvd2VkO1xuICAgICAgICB2YXIgaSA9IGZpbmQoXCJcXG5cIiksIHJldDtcbiAgICAgICAgaWYgKGkgPT0gLTEpIHtcbiAgICAgICAgICAgIHJldCA9IFMudGV4dC5zdWJzdHIoUy5wb3MpO1xuICAgICAgICAgICAgUy5wb3MgPSBTLnRleHQubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0ID0gUy50ZXh0LnN1YnN0cmluZyhTLnBvcywgaSk7XG4gICAgICAgICAgICBTLnBvcyA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgUy5jb21tZW50c19iZWZvcmUucHVzaCh0b2tlbih0eXBlLCByZXQsIHRydWUpKTtcbiAgICAgICAgUy5yZWdleF9hbGxvd2VkID0gcmVnZXhfYWxsb3dlZDtcbiAgICAgICAgcmV0dXJuIG5leHRfdG9rZW4oKTtcbiAgICB9O1xuXG4gICAgdmFyIHNraXBfbXVsdGlsaW5lX2NvbW1lbnQgPSB3aXRoX2VvZl9lcnJvcihcIlVudGVybWluYXRlZCBtdWx0aWxpbmUgY29tbWVudFwiLCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgcmVnZXhfYWxsb3dlZCA9IFMucmVnZXhfYWxsb3dlZDtcbiAgICAgICAgdmFyIGkgPSBmaW5kKFwiKi9cIiwgdHJ1ZSk7XG4gICAgICAgIHZhciB0ZXh0ID0gUy50ZXh0LnN1YnN0cmluZyhTLnBvcywgaSk7XG4gICAgICAgIHZhciBhID0gdGV4dC5zcGxpdChcIlxcblwiKSwgbiA9IGEubGVuZ3RoO1xuICAgICAgICAvLyB1cGRhdGUgc3RyZWFtIHBvc2l0aW9uXG4gICAgICAgIFMucG9zID0gaSArIDI7XG4gICAgICAgIFMubGluZSArPSBuIC0gMTtcbiAgICAgICAgaWYgKG4gPiAxKSBTLmNvbCA9IGFbbiAtIDFdLmxlbmd0aDtcbiAgICAgICAgZWxzZSBTLmNvbCArPSBhW24gLSAxXS5sZW5ndGg7XG4gICAgICAgIFMuY29sICs9IDI7XG4gICAgICAgIHZhciBubGIgPSBTLm5ld2xpbmVfYmVmb3JlID0gUy5uZXdsaW5lX2JlZm9yZSB8fCB0ZXh0LmluZGV4T2YoXCJcXG5cIikgPj0gMDtcbiAgICAgICAgUy5jb21tZW50c19iZWZvcmUucHVzaCh0b2tlbihcImNvbW1lbnQyXCIsIHRleHQsIHRydWUpKTtcbiAgICAgICAgUy5yZWdleF9hbGxvd2VkID0gcmVnZXhfYWxsb3dlZDtcbiAgICAgICAgUy5uZXdsaW5lX2JlZm9yZSA9IG5sYjtcbiAgICAgICAgcmV0dXJuIG5leHRfdG9rZW4oKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlYWRfbmFtZSgpIHtcbiAgICAgICAgdmFyIGJhY2tzbGFzaCA9IGZhbHNlLCBuYW1lID0gXCJcIiwgY2gsIGVzY2FwZWQgPSBmYWxzZSwgaGV4O1xuICAgICAgICB3aGlsZSAoKGNoID0gcGVlaygpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIWJhY2tzbGFzaCkge1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PSBcIlxcXFxcIikgZXNjYXBlZCA9IGJhY2tzbGFzaCA9IHRydWUsIG5leHQoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc19pZGVudGlmaWVyX2NoYXIoY2gpKSBuYW1lICs9IG5leHQoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoICE9IFwidVwiKSBwYXJzZV9lcnJvcihcIkV4cGVjdGluZyBVbmljb2RlRXNjYXBlU2VxdWVuY2UgLS0gdVhYWFhcIik7XG4gICAgICAgICAgICAgICAgY2ggPSByZWFkX2VzY2FwZWRfY2hhcigpO1xuICAgICAgICAgICAgICAgIGlmICghaXNfaWRlbnRpZmllcl9jaGFyKGNoKSkgcGFyc2VfZXJyb3IoXCJVbmljb2RlIGNoYXI6IFwiICsgY2guY2hhckNvZGVBdCgwKSArIFwiIGlzIG5vdCB2YWxpZCBpbiBpZGVudGlmaWVyXCIpO1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gY2g7XG4gICAgICAgICAgICAgICAgYmFja3NsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEtFWVdPUkRTKG5hbWUpICYmIGVzY2FwZWQpIHtcbiAgICAgICAgICAgIGhleCA9IG5hbWUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIG5hbWUgPSBcIlxcXFx1XCIgKyBcIjAwMDBcIi5zdWJzdHIoaGV4Lmxlbmd0aCkgKyBoZXggKyBuYW1lLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH07XG5cbiAgICB2YXIgcmVhZF9yZWdleHAgPSB3aXRoX2VvZl9lcnJvcihcIlVudGVybWluYXRlZCByZWd1bGFyIGV4cHJlc3Npb25cIiwgZnVuY3Rpb24ocmVnZXhwKXtcbiAgICAgICAgdmFyIHByZXZfYmFja3NsYXNoID0gZmFsc2UsIGNoLCBpbl9jbGFzcyA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoKGNoID0gbmV4dCh0cnVlKSkpIGlmIChwcmV2X2JhY2tzbGFzaCkge1xuICAgICAgICAgICAgcmVnZXhwICs9IFwiXFxcXFwiICsgY2g7XG4gICAgICAgICAgICBwcmV2X2JhY2tzbGFzaCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiW1wiKSB7XG4gICAgICAgICAgICBpbl9jbGFzcyA9IHRydWU7XG4gICAgICAgICAgICByZWdleHAgKz0gY2g7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCJdXCIgJiYgaW5fY2xhc3MpIHtcbiAgICAgICAgICAgIGluX2NsYXNzID0gZmFsc2U7XG4gICAgICAgICAgICByZWdleHAgKz0gY2g7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIvXCIgJiYgIWluX2NsYXNzKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgcHJldl9iYWNrc2xhc2ggPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVnZXhwICs9IGNoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RzID0gcmVhZF9uYW1lKCk7XG4gICAgICAgIHJldHVybiB0b2tlbihcInJlZ2V4cFwiLCBuZXcgUmVnRXhwKHJlZ2V4cCwgbW9kcykpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gcmVhZF9vcGVyYXRvcihwcmVmaXgpIHtcbiAgICAgICAgZnVuY3Rpb24gZ3JvdyhvcCkge1xuICAgICAgICAgICAgaWYgKCFwZWVrKCkpIHJldHVybiBvcDtcbiAgICAgICAgICAgIHZhciBiaWdnZXIgPSBvcCArIHBlZWsoKTtcbiAgICAgICAgICAgIGlmIChPUEVSQVRPUlMoYmlnZ2VyKSkge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdyhiaWdnZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0b2tlbihcIm9wZXJhdG9yXCIsIGdyb3cocHJlZml4IHx8IG5leHQoKSkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfc2xhc2goKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc3dpdGNoIChwZWVrKCkpIHtcbiAgICAgICAgICBjYXNlIFwiL1wiOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNraXBfbGluZV9jb21tZW50KFwiY29tbWVudDFcIik7XG4gICAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBza2lwX211bHRpbGluZV9jb21tZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFMucmVnZXhfYWxsb3dlZCA/IHJlYWRfcmVnZXhwKFwiXCIpIDogcmVhZF9vcGVyYXRvcihcIi9cIik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZV9kb3QoKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuIGlzX2RpZ2l0KHBlZWsoKS5jaGFyQ29kZUF0KDApKVxuICAgICAgICAgICAgPyByZWFkX251bShcIi5cIilcbiAgICAgICAgICAgIDogdG9rZW4oXCJwdW5jXCIsIFwiLlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVhZF93b3JkKCkge1xuICAgICAgICB2YXIgd29yZCA9IHJlYWRfbmFtZSgpO1xuICAgICAgICBpZiAocHJldl93YXNfZG90KSByZXR1cm4gdG9rZW4oXCJuYW1lXCIsIHdvcmQpO1xuICAgICAgICByZXR1cm4gS0VZV09SRFNfQVRPTSh3b3JkKSA/IHRva2VuKFwiYXRvbVwiLCB3b3JkKVxuICAgICAgICAgICAgOiAhS0VZV09SRFMod29yZCkgPyB0b2tlbihcIm5hbWVcIiwgd29yZClcbiAgICAgICAgICAgIDogT1BFUkFUT1JTKHdvcmQpID8gdG9rZW4oXCJvcGVyYXRvclwiLCB3b3JkKVxuICAgICAgICAgICAgOiB0b2tlbihcImtleXdvcmRcIiwgd29yZCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdpdGhfZW9mX2Vycm9yKGVvZl9lcnJvciwgY29udCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udCh4KTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXggPT09IEVYX0VPRikgcGFyc2VfZXJyb3IoZW9mX2Vycm9yKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBuZXh0X3Rva2VuKGZvcmNlX3JlZ2V4cCkge1xuICAgICAgICBpZiAoZm9yY2VfcmVnZXhwICE9IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcmVhZF9yZWdleHAoZm9yY2VfcmVnZXhwKTtcbiAgICAgICAgc2tpcF93aGl0ZXNwYWNlKCk7XG4gICAgICAgIHN0YXJ0X3Rva2VuKCk7XG4gICAgICAgIGlmIChodG1sNV9jb21tZW50cykge1xuICAgICAgICAgICAgaWYgKGxvb2tpbmdfYXQoXCI8IS0tXCIpKSB7XG4gICAgICAgICAgICAgICAgZm9yd2FyZCg0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2tpcF9saW5lX2NvbW1lbnQoXCJjb21tZW50M1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb29raW5nX2F0KFwiLS0+XCIpICYmIFMubmV3bGluZV9iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBmb3J3YXJkKDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBza2lwX2xpbmVfY29tbWVudChcImNvbW1lbnQ0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaCA9IHBlZWsoKTtcbiAgICAgICAgaWYgKCFjaCkgcmV0dXJuIHRva2VuKFwiZW9mXCIpO1xuICAgICAgICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgIGNhc2UgMzQ6IGNhc2UgMzk6IHJldHVybiByZWFkX3N0cmluZygpO1xuICAgICAgICAgIGNhc2UgNDY6IHJldHVybiBoYW5kbGVfZG90KCk7XG4gICAgICAgICAgY2FzZSA0NzogcmV0dXJuIGhhbmRsZV9zbGFzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc19kaWdpdChjb2RlKSkgcmV0dXJuIHJlYWRfbnVtKCk7XG4gICAgICAgIGlmIChQVU5DX0NIQVJTKGNoKSkgcmV0dXJuIHRva2VuKFwicHVuY1wiLCBuZXh0KCkpO1xuICAgICAgICBpZiAoT1BFUkFUT1JfQ0hBUlMoY2gpKSByZXR1cm4gcmVhZF9vcGVyYXRvcigpO1xuICAgICAgICBpZiAoY29kZSA9PSA5MiB8fCBpc19pZGVudGlmaWVyX3N0YXJ0KGNvZGUpKSByZXR1cm4gcmVhZF93b3JkKCk7XG4gICAgICAgIHBhcnNlX2Vycm9yKFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgJ1wiICsgY2ggKyBcIidcIik7XG4gICAgfTtcblxuICAgIG5leHRfdG9rZW4uY29udGV4dCA9IGZ1bmN0aW9uKG5jKSB7XG4gICAgICAgIGlmIChuYykgUyA9IG5jO1xuICAgICAgICByZXR1cm4gUztcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5leHRfdG9rZW47XG5cbn07XG5cbi8qIC0tLS0tWyBQYXJzZXIgKGNvbnN0YW50cykgXS0tLS0tICovXG5cbnZhciBVTkFSWV9QUkVGSVggPSBtYWtlUHJlZGljYXRlKFtcbiAgICBcInR5cGVvZlwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwiZGVsZXRlXCIsXG4gICAgXCItLVwiLFxuICAgIFwiKytcIixcbiAgICBcIiFcIixcbiAgICBcIn5cIixcbiAgICBcIi1cIixcbiAgICBcIitcIlxuXSk7XG5cbnZhciBVTkFSWV9QT1NURklYID0gbWFrZVByZWRpY2F0ZShbIFwiLS1cIiwgXCIrK1wiIF0pO1xuXG52YXIgQVNTSUdOTUVOVCA9IG1ha2VQcmVkaWNhdGUoWyBcIj1cIiwgXCIrPVwiLCBcIi09XCIsIFwiLz1cIiwgXCIqPVwiLCBcIiU9XCIsIFwiPj49XCIsIFwiPDw9XCIsIFwiPj4+PVwiLCBcInw9XCIsIFwiXj1cIiwgXCImPVwiIF0pO1xuXG52YXIgUFJFQ0VERU5DRSA9IChmdW5jdGlvbihhLCByZXQpe1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYiA9IGFbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgcmV0W2Jbal1dID0gaSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn0pKFxuICAgIFtcbiAgICAgICAgW1wifHxcIl0sXG4gICAgICAgIFtcIiYmXCJdLFxuICAgICAgICBbXCJ8XCJdLFxuICAgICAgICBbXCJeXCJdLFxuICAgICAgICBbXCImXCJdLFxuICAgICAgICBbXCI9PVwiLCBcIj09PVwiLCBcIiE9XCIsIFwiIT09XCJdLFxuICAgICAgICBbXCI8XCIsIFwiPlwiLCBcIjw9XCIsIFwiPj1cIiwgXCJpblwiLCBcImluc3RhbmNlb2ZcIl0sXG4gICAgICAgIFtcIj4+XCIsIFwiPDxcIiwgXCI+Pj5cIl0sXG4gICAgICAgIFtcIitcIiwgXCItXCJdLFxuICAgICAgICBbXCIqXCIsIFwiL1wiLCBcIiVcIl1cbiAgICBdLFxuICAgIHt9XG4pO1xuXG52YXIgU1RBVEVNRU5UU19XSVRIX0xBQkVMUyA9IGFycmF5X3RvX2hhc2goWyBcImZvXCIgKyBcInJcIiwgXCJkb1wiLCBcIndoaWxlXCIsIFwic3dpdGNoXCIgXSk7XG5cbnZhciBBVE9NSUNfU1RBUlRfVE9LRU4gPSBhcnJheV90b19oYXNoKFsgXCJhdG9tXCIsIFwibnVtXCIsIFwic3RyaW5nXCIsIFwicmVnZXhwXCIsIFwibmFtZVwiIF0pO1xuXG4vKiAtLS0tLVsgUGFyc2VyIF0tLS0tLSAqL1xuXG5mdW5jdGlvbiBwYXJzZSgkVEVYVCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgc3RyaWN0ICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgZmlsZW5hbWUgICAgICAgOiBudWxsLFxuICAgICAgICB0b3BsZXZlbCAgICAgICA6IG51bGwsXG4gICAgICAgIGV4cHJlc3Npb24gICAgIDogZmFsc2UsXG4gICAgICAgIGh0bWw1X2NvbW1lbnRzIDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHZhciBTID0ge1xuICAgICAgICBpbnB1dCAgICAgICAgIDogKHR5cGVvZiAkVEVYVCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgPyB0b2tlbml6ZXIoJFRFWFQsIG9wdGlvbnMuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5odG1sNV9jb21tZW50cylcbiAgICAgICAgICAgICAgICAgICAgICAgICA6ICRURVhUKSxcbiAgICAgICAgdG9rZW4gICAgICAgICA6IG51bGwsXG4gICAgICAgIHByZXYgICAgICAgICAgOiBudWxsLFxuICAgICAgICBwZWVrZWQgICAgICAgIDogbnVsbCxcbiAgICAgICAgaW5fZnVuY3Rpb24gICA6IDAsXG4gICAgICAgIGluX2RpcmVjdGl2ZXMgOiB0cnVlLFxuICAgICAgICBpbl9sb29wICAgICAgIDogMCxcbiAgICAgICAgbGFiZWxzICAgICAgICA6IFtdXG4gICAgfTtcblxuICAgIFMudG9rZW4gPSBuZXh0KCk7XG5cbiAgICBmdW5jdGlvbiBpcyh0eXBlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNfdG9rZW4oUy50b2tlbiwgdHlwZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwZWVrKCkgeyByZXR1cm4gUy5wZWVrZWQgfHwgKFMucGVla2VkID0gUy5pbnB1dCgpKTsgfTtcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIFMucHJldiA9IFMudG9rZW47XG4gICAgICAgIGlmIChTLnBlZWtlZCkge1xuICAgICAgICAgICAgUy50b2tlbiA9IFMucGVla2VkO1xuICAgICAgICAgICAgUy5wZWVrZWQgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUy50b2tlbiA9IFMuaW5wdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBTLmluX2RpcmVjdGl2ZXMgPSBTLmluX2RpcmVjdGl2ZXMgJiYgKFxuICAgICAgICAgICAgUy50b2tlbi50eXBlID09IFwic3RyaW5nXCIgfHwgaXMoXCJwdW5jXCIsIFwiO1wiKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gUy50b2tlbjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJldigpIHtcbiAgICAgICAgcmV0dXJuIFMucHJldjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY3JvYWsobXNnLCBsaW5lLCBjb2wsIHBvcykge1xuICAgICAgICB2YXIgY3R4ID0gUy5pbnB1dC5jb250ZXh0KCk7XG4gICAgICAgIGpzX2Vycm9yKG1zZyxcbiAgICAgICAgICAgICAgICAgY3R4LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICBsaW5lICE9IG51bGwgPyBsaW5lIDogY3R4LnRva2xpbmUsXG4gICAgICAgICAgICAgICAgIGNvbCAhPSBudWxsID8gY29sIDogY3R4LnRva2NvbCxcbiAgICAgICAgICAgICAgICAgcG9zICE9IG51bGwgPyBwb3MgOiBjdHgudG9rcG9zKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdG9rZW5fZXJyb3IodG9rZW4sIG1zZykge1xuICAgICAgICBjcm9hayhtc2csIHRva2VuLmxpbmUsIHRva2VuLmNvbCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVuZXhwZWN0ZWQodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuID09IG51bGwpXG4gICAgICAgICAgICB0b2tlbiA9IFMudG9rZW47XG4gICAgICAgIHRva2VuX2Vycm9yKHRva2VuLCBcIlVuZXhwZWN0ZWQgdG9rZW46IFwiICsgdG9rZW4udHlwZSArIFwiIChcIiArIHRva2VuLnZhbHVlICsgXCIpXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBleHBlY3RfdG9rZW4odHlwZSwgdmFsKSB7XG4gICAgICAgIGlmIChpcyh0eXBlLCB2YWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuX2Vycm9yKFMudG9rZW4sIFwiVW5leHBlY3RlZCB0b2tlbiBcIiArIFMudG9rZW4udHlwZSArIFwiIMKrXCIgKyBTLnRva2VuLnZhbHVlICsgXCLCu1wiICsgXCIsIGV4cGVjdGVkIFwiICsgdHlwZSArIFwiIMKrXCIgKyB2YWwgKyBcIsK7XCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBleHBlY3QocHVuYykgeyByZXR1cm4gZXhwZWN0X3Rva2VuKFwicHVuY1wiLCBwdW5jKTsgfTtcblxuICAgIGZ1bmN0aW9uIGNhbl9pbnNlcnRfc2VtaWNvbG9uKCkge1xuICAgICAgICByZXR1cm4gIW9wdGlvbnMuc3RyaWN0ICYmIChcbiAgICAgICAgICAgIFMudG9rZW4ubmxiIHx8IGlzKFwiZW9mXCIpIHx8IGlzKFwicHVuY1wiLCBcIn1cIilcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2VtaWNvbG9uKCkge1xuICAgICAgICBpZiAoaXMoXCJwdW5jXCIsIFwiO1wiKSkgbmV4dCgpO1xuICAgICAgICBlbHNlIGlmICghY2FuX2luc2VydF9zZW1pY29sb24oKSkgdW5leHBlY3RlZCgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwYXJlbnRoZXNpc2VkKCkge1xuICAgICAgICBleHBlY3QoXCIoXCIpO1xuICAgICAgICB2YXIgZXhwID0gZXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgZXhwZWN0KFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIGV4cDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZW1iZWRfdG9rZW5zKHBhcnNlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICAgICAgdmFyIGV4cHIgPSBwYXJzZXIoKTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBwcmV2KCk7XG4gICAgICAgICAgICBleHByLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBleHByLmVuZCA9IGVuZDtcbiAgICAgICAgICAgIHJldHVybiBleHByO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVfcmVnZXhwKCkge1xuICAgICAgICBpZiAoaXMoXCJvcGVyYXRvclwiLCBcIi9cIikgfHwgaXMoXCJvcGVyYXRvclwiLCBcIi89XCIpKSB7XG4gICAgICAgICAgICBTLnBlZWtlZCA9IG51bGw7XG4gICAgICAgICAgICBTLnRva2VuID0gUy5pbnB1dChTLnRva2VuLnZhbHVlLnN1YnN0cigxKSk7IC8vIGZvcmNlIHJlZ2V4cFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzdGF0ZW1lbnQgPSBlbWJlZF90b2tlbnMoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0bXA7XG4gICAgICAgIGhhbmRsZV9yZWdleHAoKTtcbiAgICAgICAgc3dpdGNoIChTLnRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICB2YXIgZGlyID0gUy5pbl9kaXJlY3RpdmVzLCBzdGF0ID0gc2ltcGxlX3N0YXRlbWVudCgpO1xuICAgICAgICAgICAgLy8gWFhYdjI6IGRlY2lkZSBob3cgdG8gZml4IGRpcmVjdGl2ZXNcbiAgICAgICAgICAgIGlmIChkaXIgJiYgc3RhdC5ib2R5IGluc3RhbmNlb2YgQVNUX1N0cmluZyAmJiAhaXMoXCJwdW5jXCIsIFwiLFwiKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9EaXJlY3RpdmUoeyB2YWx1ZTogc3RhdC5ib2R5LnZhbHVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXQ7XG4gICAgICAgICAgY2FzZSBcIm51bVwiOlxuICAgICAgICAgIGNhc2UgXCJyZWdleHBcIjpcbiAgICAgICAgICBjYXNlIFwib3BlcmF0b3JcIjpcbiAgICAgICAgICBjYXNlIFwiYXRvbVwiOlxuICAgICAgICAgICAgcmV0dXJuIHNpbXBsZV9zdGF0ZW1lbnQoKTtcblxuICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNfdG9rZW4ocGVlaygpLCBcInB1bmNcIiwgXCI6XCIpXG4gICAgICAgICAgICAgICAgPyBsYWJlbGVkX3N0YXRlbWVudCgpXG4gICAgICAgICAgICAgICAgOiBzaW1wbGVfc3RhdGVtZW50KCk7XG5cbiAgICAgICAgICBjYXNlIFwicHVuY1wiOlxuICAgICAgICAgICAgc3dpdGNoIChTLnRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ7XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfQmxvY2tTdGF0ZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA6IFMudG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgIDogYmxvY2tfKCksXG4gICAgICAgICAgICAgICAgICAgIGVuZCAgIDogcHJldigpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpbXBsZV9zdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgY2FzZSBcIjtcIjpcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfRW1wdHlTdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwia2V5d29yZFwiOlxuICAgICAgICAgICAgc3dpdGNoICh0bXAgPSBTLnRva2VuLnZhbHVlLCBuZXh0KCksIHRtcCkge1xuICAgICAgICAgICAgICBjYXNlIFwiYnJlYWtcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYnJlYWtfY29udChBU1RfQnJlYWspO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJjb250aW51ZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBicmVha19jb250KEFTVF9Db250aW51ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImRlYnVnZ2VyXCI6XG4gICAgICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfRGVidWdnZXIoKTtcblxuICAgICAgICAgICAgICBjYXNlIFwiZG9cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9Ebyh7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgICAgICA6IGluX2xvb3Aoc3RhdGVtZW50KSxcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uIDogKGV4cGVjdF90b2tlbihcImtleXdvcmRcIiwgXCJ3aGlsZVwiKSwgdG1wID0gcGFyZW50aGVzaXNlZCgpLCBzZW1pY29sb24oKSwgdG1wKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ3aGlsZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1doaWxlKHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uIDogcGFyZW50aGVzaXNlZCgpLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICAgICAgOiBpbl9sb29wKHN0YXRlbWVudClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIFwiZm9cIiArIFwiclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JfKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uXyhBU1RfRGVmdW4pO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJpZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBpZl8oKTtcblxuICAgICAgICAgICAgICBjYXNlIFwicmV0dXJuXCI6XG4gICAgICAgICAgICAgICAgaWYgKFMuaW5fZnVuY3Rpb24gPT0gMClcbiAgICAgICAgICAgICAgICAgICAgY3JvYWsoXCIncmV0dXJuJyBvdXRzaWRlIG9mIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1JldHVybih7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoIGlzKFwicHVuY1wiLCBcIjtcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAobmV4dCgpLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhbl9pbnNlcnRfc2VtaWNvbG9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHRtcCA9IGV4cHJlc3Npb24odHJ1ZSksIHNlbWljb2xvbigpLCB0bXApIClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIFwic3dpdGNoXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfU3dpdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IHBhcmVudGhlc2lzZWQoKSxcbiAgICAgICAgICAgICAgICAgICAgYm9keSAgICAgICA6IGluX2xvb3Aoc3dpdGNoX2JvZHlfKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ0aHJvd1wiOlxuICAgICAgICAgICAgICAgIGlmIChTLnRva2VuLm5sYilcbiAgICAgICAgICAgICAgICAgICAgY3JvYWsoXCJJbGxlZ2FsIG5ld2xpbmUgYWZ0ZXIgJ3Rocm93J1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9UaHJvdyh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAodG1wID0gZXhwcmVzc2lvbih0cnVlKSwgc2VtaWNvbG9uKCksIHRtcClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIFwidHJ5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyeV8oKTtcblxuICAgICAgICAgICAgICBjYXNlIFwidmFyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRtcCA9IHZhcl8oKSwgc2VtaWNvbG9uKCksIHRtcDtcblxuICAgICAgICAgICAgICBjYXNlIFwiY29uc3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdG1wID0gY29uc3RfKCksIHNlbWljb2xvbigpLCB0bXA7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIndpdGhcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9XaXRoKHtcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IHBhcmVudGhlc2lzZWQoKSxcbiAgICAgICAgICAgICAgICAgICAgYm9keSAgICAgICA6IHN0YXRlbWVudCgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxhYmVsZWRfc3RhdGVtZW50KCkge1xuICAgICAgICB2YXIgbGFiZWwgPSBhc19zeW1ib2woQVNUX0xhYmVsKTtcbiAgICAgICAgaWYgKGZpbmRfaWYoZnVuY3Rpb24obCl7IHJldHVybiBsLm5hbWUgPT0gbGFiZWwubmFtZSB9LCBTLmxhYmVscykpIHtcbiAgICAgICAgICAgIC8vIEVDTUEtMjYyLCAxMi4xMjogQW4gRUNNQVNjcmlwdCBwcm9ncmFtIGlzIGNvbnNpZGVyZWRcbiAgICAgICAgICAgIC8vIHN5bnRhY3RpY2FsbHkgaW5jb3JyZWN0IGlmIGl0IGNvbnRhaW5zIGFcbiAgICAgICAgICAgIC8vIExhYmVsbGVkU3RhdGVtZW50IHRoYXQgaXMgZW5jbG9zZWQgYnkgYVxuICAgICAgICAgICAgLy8gTGFiZWxsZWRTdGF0ZW1lbnQgd2l0aCB0aGUgc2FtZSBJZGVudGlmaWVyIGFzIGxhYmVsLlxuICAgICAgICAgICAgY3JvYWsoXCJMYWJlbCBcIiArIGxhYmVsLm5hbWUgKyBcIiBkZWZpbmVkIHR3aWNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGV4cGVjdChcIjpcIik7XG4gICAgICAgIFMubGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICB2YXIgc3RhdCA9IHN0YXRlbWVudCgpO1xuICAgICAgICBTLmxhYmVscy5wb3AoKTtcbiAgICAgICAgaWYgKCEoc3RhdCBpbnN0YW5jZW9mIEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQpKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgYGNvbnRpbnVlYCB0aGF0IHJlZmVycyB0byB0aGlzIGxhYmVsLlxuICAgICAgICAgICAgLy8gdGhvc2Ugc2hvdWxkIGJlIHJlcG9ydGVkIGFzIHN5bnRheCBlcnJvcnMuXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvMjg3XG4gICAgICAgICAgICBsYWJlbC5yZWZlcmVuY2VzLmZvckVhY2goZnVuY3Rpb24ocmVmKXtcbiAgICAgICAgICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgQVNUX0NvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHJlZi5sYWJlbC5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgY3JvYWsoXCJDb250aW51ZSBsYWJlbCBgXCIgKyBsYWJlbC5uYW1lICsgXCJgIHJlZmVycyB0byBub24tSXRlcmF0aW9uU3RhdGVtZW50LlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWYubGluZSwgcmVmLmNvbCwgcmVmLnBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfTGFiZWxlZFN0YXRlbWVudCh7IGJvZHk6IHN0YXQsIGxhYmVsOiBsYWJlbCB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2ltcGxlX3N0YXRlbWVudCh0bXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfU2ltcGxlU3RhdGVtZW50KHsgYm9keTogKHRtcCA9IGV4cHJlc3Npb24odHJ1ZSksIHNlbWljb2xvbigpLCB0bXApIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBicmVha19jb250KHR5cGUpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gbnVsbCwgbGRlZjtcbiAgICAgICAgaWYgKCFjYW5faW5zZXJ0X3NlbWljb2xvbigpKSB7XG4gICAgICAgICAgICBsYWJlbCA9IGFzX3N5bWJvbChBU1RfTGFiZWxSZWYsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYWJlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZGVmID0gZmluZF9pZihmdW5jdGlvbihsKXsgcmV0dXJuIGwubmFtZSA9PSBsYWJlbC5uYW1lIH0sIFMubGFiZWxzKTtcbiAgICAgICAgICAgIGlmICghbGRlZilcbiAgICAgICAgICAgICAgICBjcm9hayhcIlVuZGVmaW5lZCBsYWJlbCBcIiArIGxhYmVsLm5hbWUpO1xuICAgICAgICAgICAgbGFiZWwudGhlZGVmID0gbGRlZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChTLmluX2xvb3AgPT0gMClcbiAgICAgICAgICAgIGNyb2FrKHR5cGUuVFlQRSArIFwiIG5vdCBpbnNpZGUgYSBsb29wIG9yIHN3aXRjaFwiKTtcbiAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgIHZhciBzdGF0ID0gbmV3IHR5cGUoeyBsYWJlbDogbGFiZWwgfSk7XG4gICAgICAgIGlmIChsZGVmKSBsZGVmLnJlZmVyZW5jZXMucHVzaChzdGF0KTtcbiAgICAgICAgcmV0dXJuIHN0YXQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZvcl8oKSB7XG4gICAgICAgIGV4cGVjdChcIihcIik7XG4gICAgICAgIHZhciBpbml0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpcyhcInB1bmNcIiwgXCI7XCIpKSB7XG4gICAgICAgICAgICBpbml0ID0gaXMoXCJrZXl3b3JkXCIsIFwidmFyXCIpXG4gICAgICAgICAgICAgICAgPyAobmV4dCgpLCB2YXJfKHRydWUpKVxuICAgICAgICAgICAgICAgIDogZXhwcmVzc2lvbih0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChpcyhcIm9wZXJhdG9yXCIsIFwiaW5cIikpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdCBpbnN0YW5jZW9mIEFTVF9WYXIgJiYgaW5pdC5kZWZpbml0aW9ucy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgICAgICBjcm9hayhcIk9ubHkgb25lIHZhcmlhYmxlIGRlY2xhcmF0aW9uIGFsbG93ZWQgaW4gZm9yLi5pbiBsb29wXCIpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yX2luKGluaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWd1bGFyX2Zvcihpbml0KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVndWxhcl9mb3IoaW5pdCkge1xuICAgICAgICBleHBlY3QoXCI7XCIpO1xuICAgICAgICB2YXIgdGVzdCA9IGlzKFwicHVuY1wiLCBcIjtcIikgPyBudWxsIDogZXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgZXhwZWN0KFwiO1wiKTtcbiAgICAgICAgdmFyIHN0ZXAgPSBpcyhcInB1bmNcIiwgXCIpXCIpID8gbnVsbCA6IGV4cHJlc3Npb24odHJ1ZSk7XG4gICAgICAgIGV4cGVjdChcIilcIik7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX0Zvcih7XG4gICAgICAgICAgICBpbml0ICAgICAgOiBpbml0LFxuICAgICAgICAgICAgY29uZGl0aW9uIDogdGVzdCxcbiAgICAgICAgICAgIHN0ZXAgICAgICA6IHN0ZXAsXG4gICAgICAgICAgICBib2R5ICAgICAgOiBpbl9sb29wKHN0YXRlbWVudClcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZvcl9pbihpbml0KSB7XG4gICAgICAgIHZhciBsaHMgPSBpbml0IGluc3RhbmNlb2YgQVNUX1ZhciA/IGluaXQuZGVmaW5pdGlvbnNbMF0ubmFtZSA6IG51bGw7XG4gICAgICAgIHZhciBvYmogPSBleHByZXNzaW9uKHRydWUpO1xuICAgICAgICBleHBlY3QoXCIpXCIpO1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9Gb3JJbih7XG4gICAgICAgICAgICBpbml0ICAgOiBpbml0LFxuICAgICAgICAgICAgbmFtZSAgIDogbGhzLFxuICAgICAgICAgICAgb2JqZWN0IDogb2JqLFxuICAgICAgICAgICAgYm9keSAgIDogaW5fbG9vcChzdGF0ZW1lbnQpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZnVuY3Rpb25fID0gZnVuY3Rpb24oY3Rvcikge1xuICAgICAgICB2YXIgaW5fc3RhdGVtZW50ID0gY3RvciA9PT0gQVNUX0RlZnVuO1xuICAgICAgICB2YXIgbmFtZSA9IGlzKFwibmFtZVwiKSA/IGFzX3N5bWJvbChpbl9zdGF0ZW1lbnQgPyBBU1RfU3ltYm9sRGVmdW4gOiBBU1RfU3ltYm9sTGFtYmRhKSA6IG51bGw7XG4gICAgICAgIGlmIChpbl9zdGF0ZW1lbnQgJiYgIW5hbWUpXG4gICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgIGV4cGVjdChcIihcIik7XG4gICAgICAgIHJldHVybiBuZXcgY3Rvcih7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgYXJnbmFtZXM6IChmdW5jdGlvbihmaXJzdCwgYSl7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFpcyhcInB1bmNcIiwgXCIpXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCkgZmlyc3QgPSBmYWxzZTsgZWxzZSBleHBlY3QoXCIsXCIpO1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2goYXNfc3ltYm9sKEFTVF9TeW1ib2xGdW5hcmcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSkodHJ1ZSwgW10pLFxuICAgICAgICAgICAgYm9keTogKGZ1bmN0aW9uKGxvb3AsIGxhYmVscyl7XG4gICAgICAgICAgICAgICAgKytTLmluX2Z1bmN0aW9uO1xuICAgICAgICAgICAgICAgIFMuaW5fZGlyZWN0aXZlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgUy5pbl9sb29wID0gMDtcbiAgICAgICAgICAgICAgICBTLmxhYmVscyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBhID0gYmxvY2tfKCk7XG4gICAgICAgICAgICAgICAgLS1TLmluX2Z1bmN0aW9uO1xuICAgICAgICAgICAgICAgIFMuaW5fbG9vcCA9IGxvb3A7XG4gICAgICAgICAgICAgICAgUy5sYWJlbHMgPSBsYWJlbHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KShTLmluX2xvb3AsIFMubGFiZWxzKVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaWZfKCkge1xuICAgICAgICB2YXIgY29uZCA9IHBhcmVudGhlc2lzZWQoKSwgYm9keSA9IHN0YXRlbWVudCgpLCBiZWxzZSA9IG51bGw7XG4gICAgICAgIGlmIChpcyhcImtleXdvcmRcIiwgXCJlbHNlXCIpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICBiZWxzZSA9IHN0YXRlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQVNUX0lmKHtcbiAgICAgICAgICAgIGNvbmRpdGlvbiAgIDogY29uZCxcbiAgICAgICAgICAgIGJvZHkgICAgICAgIDogYm9keSxcbiAgICAgICAgICAgIGFsdGVybmF0aXZlIDogYmVsc2VcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJsb2NrXygpIHtcbiAgICAgICAgZXhwZWN0KFwie1wiKTtcbiAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgd2hpbGUgKCFpcyhcInB1bmNcIiwgXCJ9XCIpKSB7XG4gICAgICAgICAgICBpZiAoaXMoXCJlb2ZcIikpIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgIGEucHVzaChzdGF0ZW1lbnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3dpdGNoX2JvZHlfKCkge1xuICAgICAgICBleHBlY3QoXCJ7XCIpO1xuICAgICAgICB2YXIgYSA9IFtdLCBjdXIgPSBudWxsLCBicmFuY2ggPSBudWxsLCB0bXA7XG4gICAgICAgIHdoaWxlICghaXMoXCJwdW5jXCIsIFwifVwiKSkge1xuICAgICAgICAgICAgaWYgKGlzKFwiZW9mXCIpKSB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgICBpZiAoaXMoXCJrZXl3b3JkXCIsIFwiY2FzZVwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChicmFuY2gpIGJyYW5jaC5lbmQgPSBwcmV2KCk7XG4gICAgICAgICAgICAgICAgY3VyID0gW107XG4gICAgICAgICAgICAgICAgYnJhbmNoID0gbmV3IEFTVF9DYXNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgICAgICA6ICh0bXAgPSBTLnRva2VuLCBuZXh0KCksIHRtcCksXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBleHByZXNzaW9uKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBib2R5ICAgICAgIDogY3VyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYS5wdXNoKGJyYW5jaCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KFwiOlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKFwia2V5d29yZFwiLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnJhbmNoKSBicmFuY2guZW5kID0gcHJldigpO1xuICAgICAgICAgICAgICAgIGN1ciA9IFtdO1xuICAgICAgICAgICAgICAgIGJyYW5jaCA9IG5ldyBBU1RfRGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0IDogKHRtcCA9IFMudG9rZW4sIG5leHQoKSwgZXhwZWN0KFwiOlwiKSwgdG1wKSxcbiAgICAgICAgICAgICAgICAgICAgYm9keSAgOiBjdXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhLnB1c2goYnJhbmNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghY3VyKSB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgY3VyLnB1c2goc3RhdGVtZW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChicmFuY2gpIGJyYW5jaC5lbmQgPSBwcmV2KCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHRyeV8oKSB7XG4gICAgICAgIHZhciBib2R5ID0gYmxvY2tfKCksIGJjYXRjaCA9IG51bGwsIGJmaW5hbGx5ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzKFwia2V5d29yZFwiLCBcImNhdGNoXCIpKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgZXhwZWN0KFwiKFwiKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gYXNfc3ltYm9sKEFTVF9TeW1ib2xDYXRjaCk7XG4gICAgICAgICAgICBleHBlY3QoXCIpXCIpO1xuICAgICAgICAgICAgYmNhdGNoID0gbmV3IEFTVF9DYXRjaCh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGFyZ25hbWUgOiBuYW1lLFxuICAgICAgICAgICAgICAgIGJvZHkgICAgOiBibG9ja18oKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgIDogcHJldigpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMoXCJrZXl3b3JkXCIsIFwiZmluYWxseVwiKSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGJmaW5hbGx5ID0gbmV3IEFTVF9GaW5hbGx5KHtcbiAgICAgICAgICAgICAgICBzdGFydCA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGJvZHkgIDogYmxvY2tfKCksXG4gICAgICAgICAgICAgICAgZW5kICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmNhdGNoICYmICFiZmluYWxseSlcbiAgICAgICAgICAgIGNyb2FrKFwiTWlzc2luZyBjYXRjaC9maW5hbGx5IGJsb2Nrc1wiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfVHJ5KHtcbiAgICAgICAgICAgIGJvZHkgICAgIDogYm9keSxcbiAgICAgICAgICAgIGJjYXRjaCAgIDogYmNhdGNoLFxuICAgICAgICAgICAgYmZpbmFsbHkgOiBiZmluYWxseVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdmFyZGVmcyhub19pbiwgaW5fY29uc3QpIHtcbiAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgYS5wdXNoKG5ldyBBU1RfVmFyRGVmKHtcbiAgICAgICAgICAgICAgICBzdGFydCA6IFMudG9rZW4sXG4gICAgICAgICAgICAgICAgbmFtZSAgOiBhc19zeW1ib2woaW5fY29uc3QgPyBBU1RfU3ltYm9sQ29uc3QgOiBBU1RfU3ltYm9sVmFyKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA6IGlzKFwib3BlcmF0b3JcIiwgXCI9XCIpID8gKG5leHQoKSwgZXhwcmVzc2lvbihmYWxzZSwgbm9faW4pKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgZW5kICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmICghaXMoXCJwdW5jXCIsIFwiLFwiKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgdmFyIHZhcl8gPSBmdW5jdGlvbihub19pbikge1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9WYXIoe1xuICAgICAgICAgICAgc3RhcnQgICAgICAgOiBwcmV2KCksXG4gICAgICAgICAgICBkZWZpbml0aW9ucyA6IHZhcmRlZnMobm9faW4sIGZhbHNlKSxcbiAgICAgICAgICAgIGVuZCAgICAgICAgIDogcHJldigpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY29uc3RfID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX0NvbnN0KHtcbiAgICAgICAgICAgIHN0YXJ0ICAgICAgIDogcHJldigpLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnMgOiB2YXJkZWZzKGZhbHNlLCB0cnVlKSxcbiAgICAgICAgICAgIGVuZCAgICAgICAgIDogcHJldigpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgbmV3XyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICBleHBlY3RfdG9rZW4oXCJvcGVyYXRvclwiLCBcIm5ld1wiKTtcbiAgICAgICAgdmFyIG5ld2V4cCA9IGV4cHJfYXRvbShmYWxzZSksIGFyZ3M7XG4gICAgICAgIGlmIChpcyhcInB1bmNcIiwgXCIoXCIpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICBhcmdzID0gZXhwcl9saXN0KFwiKVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhuZXcgQVNUX05ldyh7XG4gICAgICAgICAgICBzdGFydCAgICAgIDogc3RhcnQsXG4gICAgICAgICAgICBleHByZXNzaW9uIDogbmV3ZXhwLFxuICAgICAgICAgICAgYXJncyAgICAgICA6IGFyZ3MsXG4gICAgICAgICAgICBlbmQgICAgICAgIDogcHJldigpXG4gICAgICAgIH0pLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXNfYXRvbV9ub2RlKCkge1xuICAgICAgICB2YXIgdG9rID0gUy50b2tlbiwgcmV0O1xuICAgICAgICBzd2l0Y2ggKHRvay50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICBjYXNlIFwia2V5d29yZFwiOlxuICAgICAgICAgICAgcmV0ID0gX21ha2Vfc3ltYm9sKEFTVF9TeW1ib2xSZWYpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm51bVwiOlxuICAgICAgICAgICAgcmV0ID0gbmV3IEFTVF9OdW1iZXIoeyBzdGFydDogdG9rLCBlbmQ6IHRvaywgdmFsdWU6IHRvay52YWx1ZSB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldCA9IG5ldyBBU1RfU3RyaW5nKHsgc3RhcnQ6IHRvaywgZW5kOiB0b2ssIHZhbHVlOiB0b2sudmFsdWUgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmVnZXhwXCI6XG4gICAgICAgICAgICByZXQgPSBuZXcgQVNUX1JlZ0V4cCh7IHN0YXJ0OiB0b2ssIGVuZDogdG9rLCB2YWx1ZTogdG9rLnZhbHVlIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImF0b21cIjpcbiAgICAgICAgICAgIHN3aXRjaCAodG9rLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICAgICAgICAgIHJldCA9IG5ldyBBU1RfRmFsc2UoeyBzdGFydDogdG9rLCBlbmQ6IHRvayB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgICAgICByZXQgPSBuZXcgQVNUX1RydWUoeyBzdGFydDogdG9rLCBlbmQ6IHRvayB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIm51bGxcIjpcbiAgICAgICAgICAgICAgICByZXQgPSBuZXcgQVNUX051bGwoeyBzdGFydDogdG9rLCBlbmQ6IHRvayB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgdmFyIGV4cHJfYXRvbSA9IGZ1bmN0aW9uKGFsbG93X2NhbGxzKSB7XG4gICAgICAgIGlmIChpcyhcIm9wZXJhdG9yXCIsIFwibmV3XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3XygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgIGlmIChpcyhcInB1bmNcIikpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhcnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4ID0gZXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBleC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGV4LmVuZCA9IFMudG9rZW47XG4gICAgICAgICAgICAgICAgZXhwZWN0KFwiKVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhleCwgYWxsb3dfY2FsbHMpO1xuICAgICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKGFycmF5XygpLCBhbGxvd19jYWxscyk7XG4gICAgICAgICAgICAgIGNhc2UgXCJ7XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdHMob2JqZWN0XygpLCBhbGxvd19jYWxscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzKFwia2V5d29yZFwiLCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uXyhBU1RfRnVuY3Rpb24pO1xuICAgICAgICAgICAgZnVuYy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgZnVuYy5lbmQgPSBwcmV2KCk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhmdW5jLCBhbGxvd19jYWxscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFUT01JQ19TVEFSVF9UT0tFTltTLnRva2VuLnR5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhhc19hdG9tX25vZGUoKSwgYWxsb3dfY2FsbHMpO1xuICAgICAgICB9XG4gICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwcl9saXN0KGNsb3NpbmcsIGFsbG93X3RyYWlsaW5nX2NvbW1hLCBhbGxvd19lbXB0eSkge1xuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlLCBhID0gW107XG4gICAgICAgIHdoaWxlICghaXMoXCJwdW5jXCIsIGNsb3NpbmcpKSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QpIGZpcnN0ID0gZmFsc2U7IGVsc2UgZXhwZWN0KFwiLFwiKTtcbiAgICAgICAgICAgIGlmIChhbGxvd190cmFpbGluZ19jb21tYSAmJiBpcyhcInB1bmNcIiwgY2xvc2luZykpIGJyZWFrO1xuICAgICAgICAgICAgaWYgKGlzKFwicHVuY1wiLCBcIixcIikgJiYgYWxsb3dfZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2gobmV3IEFTVF9Ib2xlKHsgc3RhcnQ6IFMudG9rZW4sIGVuZDogUy50b2tlbiB9KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGEucHVzaChleHByZXNzaW9uKGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgdmFyIGFycmF5XyA9IGVtYmVkX3Rva2VucyhmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KFwiW1wiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfQXJyYXkoe1xuICAgICAgICAgICAgZWxlbWVudHM6IGV4cHJfbGlzdChcIl1cIiwgIW9wdGlvbnMuc3RyaWN0LCB0cnVlKVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBvYmplY3RfID0gZW1iZWRfdG9rZW5zKGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoXCJ7XCIpO1xuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlLCBhID0gW107XG4gICAgICAgIHdoaWxlICghaXMoXCJwdW5jXCIsIFwifVwiKSkge1xuICAgICAgICAgICAgaWYgKGZpcnN0KSBmaXJzdCA9IGZhbHNlOyBlbHNlIGV4cGVjdChcIixcIik7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuc3RyaWN0ICYmIGlzKFwicHVuY1wiLCBcIn1cIikpXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgdHJhaWxpbmcgY29tbWFcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHN0YXJ0LnR5cGU7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFzX3Byb3BlcnR5X25hbWUoKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IFwibmFtZVwiICYmICFpcyhcInB1bmNcIiwgXCI6XCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJnZXRcIikge1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2gobmV3IEFTVF9PYmplY3RHZXR0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSAgIDogYXNfYXRvbV9ub2RlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uXyhBU1RfQWNjZXNzb3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kICAgOiBwcmV2KClcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJzZXRcIikge1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2gobmV3IEFTVF9PYmplY3RTZXR0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgOiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSAgIDogYXNfYXRvbV9ub2RlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uXyhBU1RfQWNjZXNzb3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kICAgOiBwcmV2KClcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlY3QoXCI6XCIpO1xuICAgICAgICAgICAgYS5wdXNoKG5ldyBBU1RfT2JqZWN0S2V5VmFsKHtcbiAgICAgICAgICAgICAgICBzdGFydCA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGtleSAgIDogbmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA6IGV4cHJlc3Npb24oZmFsc2UpLFxuICAgICAgICAgICAgICAgIGVuZCAgIDogcHJldigpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgICByZXR1cm4gbmV3IEFTVF9PYmplY3QoeyBwcm9wZXJ0aWVzOiBhIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYXNfcHJvcGVydHlfbmFtZSgpIHtcbiAgICAgICAgdmFyIHRtcCA9IFMudG9rZW47XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc3dpdGNoICh0bXAudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJudW1cIjpcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICBjYXNlIFwib3BlcmF0b3JcIjpcbiAgICAgICAgICBjYXNlIFwia2V5d29yZFwiOlxuICAgICAgICAgIGNhc2UgXCJhdG9tXCI6XG4gICAgICAgICAgICByZXR1cm4gdG1wLnZhbHVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1bmV4cGVjdGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXNfbmFtZSgpIHtcbiAgICAgICAgdmFyIHRtcCA9IFMudG9rZW47XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgc3dpdGNoICh0bXAudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgY2FzZSBcIm9wZXJhdG9yXCI6XG4gICAgICAgICAgY2FzZSBcImtleXdvcmRcIjpcbiAgICAgICAgICBjYXNlIFwiYXRvbVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRtcC52YWx1ZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdW5leHBlY3RlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9tYWtlX3N5bWJvbCh0eXBlKSB7XG4gICAgICAgIHZhciBuYW1lID0gUy50b2tlbi52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyAobmFtZSA9PSBcInRoaXNcIiA/IEFTVF9UaGlzIDogdHlwZSkoe1xuICAgICAgICAgICAgbmFtZSAgOiBTdHJpbmcobmFtZSksXG4gICAgICAgICAgICBzdGFydCA6IFMudG9rZW4sXG4gICAgICAgICAgICBlbmQgICA6IFMudG9rZW5cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFzX3N5bWJvbCh0eXBlLCBub2Vycm9yKSB7XG4gICAgICAgIGlmICghaXMoXCJuYW1lXCIpKSB7XG4gICAgICAgICAgICBpZiAoIW5vZXJyb3IpIGNyb2FrKFwiTmFtZSBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzeW0gPSBfbWFrZV9zeW1ib2wodHlwZSk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN5bTtcbiAgICB9O1xuXG4gICAgdmFyIHN1YnNjcmlwdHMgPSBmdW5jdGlvbihleHByLCBhbGxvd19jYWxscykge1xuICAgICAgICB2YXIgc3RhcnQgPSBleHByLnN0YXJ0O1xuICAgICAgICBpZiAoaXMoXCJwdW5jXCIsIFwiLlwiKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdHMobmV3IEFTVF9Eb3Qoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgICAgOiBzdGFydCxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogZXhwcixcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSAgIDogYXNfbmFtZSgpLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pLCBhbGxvd19jYWxscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzKFwicHVuY1wiLCBcIltcIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHZhciBwcm9wID0gZXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgICAgIGV4cGVjdChcIl1cIik7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0cyhuZXcgQVNUX1N1Yih7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBleHByLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5ICAgOiBwcm9wLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pLCBhbGxvd19jYWxscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93X2NhbGxzICYmIGlzKFwicHVuY1wiLCBcIihcIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRzKG5ldyBBU1RfQ2FsbCh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgICA6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBleHByLFxuICAgICAgICAgICAgICAgIGFyZ3MgICAgICAgOiBleHByX2xpc3QoXCIpXCIpLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9O1xuXG4gICAgdmFyIG1heWJlX3VuYXJ5ID0gZnVuY3Rpb24oYWxsb3dfY2FsbHMpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgaWYgKGlzKFwib3BlcmF0b3JcIikgJiYgVU5BUllfUFJFRklYKHN0YXJ0LnZhbHVlKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgaGFuZGxlX3JlZ2V4cCgpO1xuICAgICAgICAgICAgdmFyIGV4ID0gbWFrZV91bmFyeShBU1RfVW5hcnlQcmVmaXgsIHN0YXJ0LnZhbHVlLCBtYXliZV91bmFyeShhbGxvd19jYWxscykpO1xuICAgICAgICAgICAgZXguc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIGV4LmVuZCA9IHByZXYoKTtcbiAgICAgICAgICAgIHJldHVybiBleDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gZXhwcl9hdG9tKGFsbG93X2NhbGxzKTtcbiAgICAgICAgd2hpbGUgKGlzKFwib3BlcmF0b3JcIikgJiYgVU5BUllfUE9TVEZJWChTLnRva2VuLnZhbHVlKSAmJiAhUy50b2tlbi5ubGIpIHtcbiAgICAgICAgICAgIHZhbCA9IG1ha2VfdW5hcnkoQVNUX1VuYXJ5UG9zdGZpeCwgUy50b2tlbi52YWx1ZSwgdmFsKTtcbiAgICAgICAgICAgIHZhbC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgdmFsLmVuZCA9IFMudG9rZW47XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV91bmFyeShjdG9yLCBvcCwgZXhwcikge1xuICAgICAgICBpZiAoKG9wID09IFwiKytcIiB8fCBvcCA9PSBcIi0tXCIpICYmICFpc19hc3NpZ25hYmxlKGV4cHIpKVxuICAgICAgICAgICAgY3JvYWsoXCJJbnZhbGlkIHVzZSBvZiBcIiArIG9wICsgXCIgb3BlcmF0b3JcIik7XG4gICAgICAgIHJldHVybiBuZXcgY3Rvcih7IG9wZXJhdG9yOiBvcCwgZXhwcmVzc2lvbjogZXhwciB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4cHJfb3AgPSBmdW5jdGlvbihsZWZ0LCBtaW5fcHJlYywgbm9faW4pIHtcbiAgICAgICAgdmFyIG9wID0gaXMoXCJvcGVyYXRvclwiKSA/IFMudG9rZW4udmFsdWUgOiBudWxsO1xuICAgICAgICBpZiAob3AgPT0gXCJpblwiICYmIG5vX2luKSBvcCA9IG51bGw7XG4gICAgICAgIHZhciBwcmVjID0gb3AgIT0gbnVsbCA/IFBSRUNFREVOQ0Vbb3BdIDogbnVsbDtcbiAgICAgICAgaWYgKHByZWMgIT0gbnVsbCAmJiBwcmVjID4gbWluX3ByZWMpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHZhciByaWdodCA9IGV4cHJfb3AobWF5YmVfdW5hcnkodHJ1ZSksIHByZWMsIG5vX2luKTtcbiAgICAgICAgICAgIHJldHVybiBleHByX29wKG5ldyBBU1RfQmluYXJ5KHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICA6IGxlZnQuc3RhcnQsXG4gICAgICAgICAgICAgICAgbGVmdCAgICAgOiBsZWZ0LFxuICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogb3AsXG4gICAgICAgICAgICAgICAgcmlnaHQgICAgOiByaWdodCxcbiAgICAgICAgICAgICAgICBlbmQgICAgICA6IHJpZ2h0LmVuZFxuICAgICAgICAgICAgfSksIG1pbl9wcmVjLCBub19pbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZnQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGV4cHJfb3BzKG5vX2luKSB7XG4gICAgICAgIHJldHVybiBleHByX29wKG1heWJlX3VuYXJ5KHRydWUpLCAwLCBub19pbik7XG4gICAgfTtcblxuICAgIHZhciBtYXliZV9jb25kaXRpb25hbCA9IGZ1bmN0aW9uKG5vX2luKSB7XG4gICAgICAgIHZhciBzdGFydCA9IFMudG9rZW47XG4gICAgICAgIHZhciBleHByID0gZXhwcl9vcHMobm9faW4pO1xuICAgICAgICBpZiAoaXMoXCJvcGVyYXRvclwiLCBcIj9cIikpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHZhciB5ZXMgPSBleHByZXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIGV4cGVjdChcIjpcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9Db25kaXRpb25hbCh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgICAgOiBzdGFydCxcbiAgICAgICAgICAgICAgICBjb25kaXRpb24gICA6IGV4cHIsXG4gICAgICAgICAgICAgICAgY29uc2VxdWVudCAgOiB5ZXMsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmUgOiBleHByZXNzaW9uKGZhbHNlLCBub19pbiksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICAgOiBwcmV2KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc19hc3NpZ25hYmxlKGV4cHIpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLnN0cmljdCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChleHByIGluc3RhbmNlb2YgQVNUX1RoaXMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIChleHByIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgfHwgZXhwciBpbnN0YW5jZW9mIEFTVF9TeW1ib2wpO1xuICAgIH07XG5cbiAgICB2YXIgbWF5YmVfYXNzaWduID0gZnVuY3Rpb24obm9faW4pIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gUy50b2tlbjtcbiAgICAgICAgdmFyIGxlZnQgPSBtYXliZV9jb25kaXRpb25hbChub19pbiksIHZhbCA9IFMudG9rZW4udmFsdWU7XG4gICAgICAgIGlmIChpcyhcIm9wZXJhdG9yXCIpICYmIEFTU0lHTk1FTlQodmFsKSkge1xuICAgICAgICAgICAgaWYgKGlzX2Fzc2lnbmFibGUobGVmdCkpIHtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfQXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgICAgOiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgICAgOiBtYXliZV9hc3NpZ24obm9faW4pLFxuICAgICAgICAgICAgICAgICAgICBlbmQgICAgICA6IHByZXYoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JvYWsoXCJJbnZhbGlkIGFzc2lnbm1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZnQ7XG4gICAgfTtcblxuICAgIHZhciBleHByZXNzaW9uID0gZnVuY3Rpb24oY29tbWFzLCBub19pbikge1xuICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICB2YXIgZXhwciA9IG1heWJlX2Fzc2lnbihub19pbik7XG4gICAgICAgIGlmIChjb21tYXMgJiYgaXMoXCJwdW5jXCIsIFwiLFwiKSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfU2VxKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgOiBzdGFydCxcbiAgICAgICAgICAgICAgICBjYXIgICAgOiBleHByLFxuICAgICAgICAgICAgICAgIGNkciAgICA6IGV4cHJlc3Npb24odHJ1ZSwgbm9faW4pLFxuICAgICAgICAgICAgICAgIGVuZCAgICA6IHBlZWsoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluX2xvb3AoY29udCkge1xuICAgICAgICArK1MuaW5fbG9vcDtcbiAgICAgICAgdmFyIHJldCA9IGNvbnQoKTtcbiAgICAgICAgLS1TLmluX2xvb3A7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLmV4cHJlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24odHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc3RhcnQgPSBTLnRva2VuO1xuICAgICAgICB2YXIgYm9keSA9IFtdO1xuICAgICAgICB3aGlsZSAoIWlzKFwiZW9mXCIpKVxuICAgICAgICAgICAgYm9keS5wdXNoKHN0YXRlbWVudCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHByZXYoKTtcbiAgICAgICAgdmFyIHRvcGxldmVsID0gb3B0aW9ucy50b3BsZXZlbDtcbiAgICAgICAgaWYgKHRvcGxldmVsKSB7XG4gICAgICAgICAgICB0b3BsZXZlbC5ib2R5ID0gdG9wbGV2ZWwuYm9keS5jb25jYXQoYm9keSk7XG4gICAgICAgICAgICB0b3BsZXZlbC5lbmQgPSBlbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3BsZXZlbCA9IG5ldyBBU1RfVG9wbGV2ZWwoeyBzdGFydDogc3RhcnQsIGJvZHk6IGJvZHksIGVuZDogZW5kIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BsZXZlbDtcbiAgICB9KSgpO1xuXG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG5cbiAgICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAgICBhcmUgbWV0OlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lci5cblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVIg4oCcQVMgSVPigJ0gQU5EIEFOWVxuICAgIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSXG4gICAgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgQkVcbiAgICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksXG4gICAgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAgICBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUlxuICAgIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRlxuICAgIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICAgIFNVQ0ggREFNQUdFLlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBUcmVlIHRyYW5zZm9ybWVyIGhlbHBlcnMuXG5cbmZ1bmN0aW9uIFRyZWVUcmFuc2Zvcm1lcihiZWZvcmUsIGFmdGVyKSB7XG4gICAgVHJlZVdhbGtlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuYmVmb3JlID0gYmVmb3JlO1xuICAgIHRoaXMuYWZ0ZXIgPSBhZnRlcjtcbn1cblRyZWVUcmFuc2Zvcm1lci5wcm90b3R5cGUgPSBuZXcgVHJlZVdhbGtlcjtcblxuKGZ1bmN0aW9uKHVuZGVmaW5lZCl7XG5cbiAgICBmdW5jdGlvbiBfKG5vZGUsIGRlc2NlbmQpIHtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24odHcsIGluX2xpc3Qpe1xuICAgICAgICAgICAgdmFyIHgsIHk7XG4gICAgICAgICAgICB0dy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHR3LmJlZm9yZSkgeCA9IHR3LmJlZm9yZSh0aGlzLCBkZXNjZW5kLCBpbl9saXN0KTtcbiAgICAgICAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXR3LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKHgsIHR3KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0dy5zdGFja1t0dy5zdGFjay5sZW5ndGggLSAxXSA9IHggPSB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NlbmQoeCwgdHcpO1xuICAgICAgICAgICAgICAgICAgICB5ID0gdHcuYWZ0ZXIoeCwgaW5fbGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5ICE9PSB1bmRlZmluZWQpIHggPSB5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR3LnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBkb19saXN0KGxpc3QsIHR3KSB7XG4gICAgICAgIHJldHVybiBNQVAobGlzdCwgZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50cmFuc2Zvcm0odHcsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgXyhBU1RfTm9kZSwgbm9vcCk7XG5cbiAgICBfKEFTVF9MYWJlbGVkU3RhdGVtZW50LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYubGFiZWwgPSBzZWxmLmxhYmVsLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfU2ltcGxlU3RhdGVtZW50LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfQmxvY2ssIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5ib2R5ID0gZG9fbGlzdChzZWxmLmJvZHksIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0RXTG9vcCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IHNlbGYuY29uZGl0aW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfRm9yLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIGlmIChzZWxmLmluaXQpIHNlbGYuaW5pdCA9IHNlbGYuaW5pdC50cmFuc2Zvcm0odHcpO1xuICAgICAgICBpZiAoc2VsZi5jb25kaXRpb24pIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgaWYgKHNlbGYuc3RlcCkgc2VsZi5zdGVwID0gc2VsZi5zdGVwLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYm9keS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfRm9ySW4sIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5pbml0ID0gc2VsZi5pbml0LnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYub2JqZWN0ID0gc2VsZi5vYmplY3QudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9XaXRoLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbiA9IHNlbGYuZXhwcmVzc2lvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0V4aXQsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgaWYgKHNlbGYudmFsdWUpIHNlbGYudmFsdWUgPSBzZWxmLnZhbHVlLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9Mb29wQ29udHJvbCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBpZiAoc2VsZi5sYWJlbCkgc2VsZi5sYWJlbCA9IHNlbGYubGFiZWwudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0lmLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gc2VsZi5ib2R5LnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIGlmIChzZWxmLmFsdGVybmF0aXZlKSBzZWxmLmFsdGVybmF0aXZlID0gc2VsZi5hbHRlcm5hdGl2ZS50cmFuc2Zvcm0odHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfU3dpdGNoLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbiA9IHNlbGYuZXhwcmVzc2lvbi50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgIH0pO1xuXG4gICAgXyhBU1RfQ2FzZSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBzZWxmLmV4cHJlc3Npb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gZG9fbGlzdChzZWxmLmJvZHksIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1RyeSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmJvZHkgPSBkb19saXN0KHNlbGYuYm9keSwgdHcpO1xuICAgICAgICBpZiAoc2VsZi5iY2F0Y2gpIHNlbGYuYmNhdGNoID0gc2VsZi5iY2F0Y2gudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgaWYgKHNlbGYuYmZpbmFsbHkpIHNlbGYuYmZpbmFsbHkgPSBzZWxmLmJmaW5hbGx5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9DYXRjaCwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmFyZ25hbWUgPSBzZWxmLmFyZ25hbWUudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gZG9fbGlzdChzZWxmLmJvZHksIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0RlZmluaXRpb25zLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuZGVmaW5pdGlvbnMgPSBkb19saXN0KHNlbGYuZGVmaW5pdGlvbnMsIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX1ZhckRlZiwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLm5hbWUgPSBzZWxmLm5hbWUudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgaWYgKHNlbGYudmFsdWUpIHNlbGYudmFsdWUgPSBzZWxmLnZhbHVlLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9MYW1iZGEsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgaWYgKHNlbGYubmFtZSkgc2VsZi5uYW1lID0gc2VsZi5uYW1lLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYXJnbmFtZXMgPSBkb19saXN0KHNlbGYuYXJnbmFtZXMsIHR3KTtcbiAgICAgICAgc2VsZi5ib2R5ID0gZG9fbGlzdChzZWxmLmJvZHksIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0NhbGwsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uID0gc2VsZi5leHByZXNzaW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYXJncyA9IGRvX2xpc3Qoc2VsZi5hcmdzLCB0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9TZXEsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5jYXIgPSBzZWxmLmNhci50cmFuc2Zvcm0odHcpO1xuICAgICAgICBzZWxmLmNkciA9IHNlbGYuY2RyLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9Eb3QsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uID0gc2VsZi5leHByZXNzaW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9TdWIsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uID0gc2VsZi5leHByZXNzaW9uLnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYucHJvcGVydHkgPSBzZWxmLnByb3BlcnR5LnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9VbmFyeSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmV4cHJlc3Npb24gPSBzZWxmLmV4cHJlc3Npb24udHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0JpbmFyeSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmxlZnQgPSBzZWxmLmxlZnQudHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5yaWdodCA9IHNlbGYucmlnaHQudHJhbnNmb3JtKHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX0NvbmRpdGlvbmFsLCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24udHJhbnNmb3JtKHR3KTtcbiAgICAgICAgc2VsZi5jb25zZXF1ZW50ID0gc2VsZi5jb25zZXF1ZW50LnRyYW5zZm9ybSh0dyk7XG4gICAgICAgIHNlbGYuYWx0ZXJuYXRpdmUgPSBzZWxmLmFsdGVybmF0aXZlLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9BcnJheSwgZnVuY3Rpb24oc2VsZiwgdHcpe1xuICAgICAgICBzZWxmLmVsZW1lbnRzID0gZG9fbGlzdChzZWxmLmVsZW1lbnRzLCB0dyk7XG4gICAgfSk7XG5cbiAgICBfKEFTVF9PYmplY3QsIGZ1bmN0aW9uKHNlbGYsIHR3KXtcbiAgICAgICAgc2VsZi5wcm9wZXJ0aWVzID0gZG9fbGlzdChzZWxmLnByb3BlcnRpZXMsIHR3KTtcbiAgICB9KTtcblxuICAgIF8oQVNUX09iamVjdFByb3BlcnR5LCBmdW5jdGlvbihzZWxmLCB0dyl7XG4gICAgICAgIHNlbGYudmFsdWUgPSBzZWxmLnZhbHVlLnRyYW5zZm9ybSh0dyk7XG4gICAgfSk7XG5cbn0pKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIEEgSmF2YVNjcmlwdCB0b2tlbml6ZXIgLyBwYXJzZXIgLyBiZWF1dGlmaWVyIC8gY29tcHJlc3Nvci5cbiAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzJcblxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAoQykgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcjogTWloYWkgQmF6b25cbiAgICAgICAgICAgICAgICAgICAgICAgICA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vbWloYWkuYmF6b24ubmV0L2Jsb2dcblxuICBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG5cbiAgICBDb3B5cmlnaHQgMjAxMiAoYykgTWloYWkgQmF6b24gPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICAgIGFyZSBtZXQ6XG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyLlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzXG4gICAgICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUiDigJxBUyBJU+KAnSBBTkQgQU5ZXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBCRVxuICAgIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSxcbiAgICBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICAgIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICAgIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gICAgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GXG4gICAgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gICAgU1VDSCBEQU1BR0UuXG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIFN5bWJvbERlZihzY29wZSwgaW5kZXgsIG9yaWcpIHtcbiAgICB0aGlzLm5hbWUgPSBvcmlnLm5hbWU7XG4gICAgdGhpcy5vcmlnID0gWyBvcmlnIF07XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuICAgIHRoaXMuZ2xvYmFsID0gZmFsc2U7XG4gICAgdGhpcy5tYW5nbGVkX25hbWUgPSBudWxsO1xuICAgIHRoaXMudW5kZWNsYXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuY29uc3RhbnQgPSBmYWxzZTtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG59O1xuXG5TeW1ib2xEZWYucHJvdG90eXBlID0ge1xuICAgIHVubWFuZ2xlYWJsZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKHRoaXMuZ2xvYmFsICYmICEob3B0aW9ucyAmJiBvcHRpb25zLnRvcGxldmVsKSlcbiAgICAgICAgICAgIHx8IHRoaXMudW5kZWNsYXJlZFxuICAgICAgICAgICAgfHwgKCEob3B0aW9ucyAmJiBvcHRpb25zLmV2YWwpICYmICh0aGlzLnNjb3BlLnVzZXNfZXZhbCB8fCB0aGlzLnNjb3BlLnVzZXNfd2l0aCkpO1xuICAgIH0sXG4gICAgbWFuZ2xlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5nbGVkX25hbWUgJiYgIXRoaXMudW5tYW5nbGVhYmxlKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHRoaXMuc2NvcGU7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuc2NyZXdfaWU4ICYmIHRoaXMub3JpZ1swXSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xMYW1iZGEpXG4gICAgICAgICAgICAgICAgcyA9IHMucGFyZW50X3Njb3BlO1xuICAgICAgICAgICAgdGhpcy5tYW5nbGVkX25hbWUgPSBzLm5leHRfbWFuZ2xlZChvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkFTVF9Ub3BsZXZlbC5ERUZNRVRIT0QoXCJmaWd1cmVfb3V0X3Njb3BlXCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHNjcmV3X2llODogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vIHBhc3MgMTogc2V0dXAgc2NvcGUgY2hhaW5pbmcgYW5kIGhhbmRsZSBkZWZpbml0aW9uc1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgc2NvcGUgPSBzZWxmLnBhcmVudF9zY29wZSA9IG51bGw7XG4gICAgdmFyIGRlZnVuID0gbnVsbDtcbiAgICB2YXIgbmVzdGluZyA9IDA7XG4gICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSwgZGVzY2VuZCl7XG4gICAgICAgIGlmIChvcHRpb25zLnNjcmV3X2llOCAmJiBub2RlIGluc3RhbmNlb2YgQVNUX0NhdGNoKSB7XG4gICAgICAgICAgICB2YXIgc2F2ZV9zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgc2NvcGUgPSBuZXcgQVNUX1Njb3BlKG5vZGUpO1xuICAgICAgICAgICAgc2NvcGUuaW5pdF9zY29wZV92YXJzKG5lc3RpbmcpO1xuICAgICAgICAgICAgc2NvcGUucGFyZW50X3Njb3BlID0gc2F2ZV9zY29wZTtcbiAgICAgICAgICAgIGRlc2NlbmQoKTtcbiAgICAgICAgICAgIHNjb3BlID0gc2F2ZV9zY29wZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlKSB7XG4gICAgICAgICAgICBub2RlLmluaXRfc2NvcGVfdmFycyhuZXN0aW5nKTtcbiAgICAgICAgICAgIHZhciBzYXZlX3Njb3BlID0gbm9kZS5wYXJlbnRfc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIHZhciBzYXZlX2RlZnVuID0gZGVmdW47XG4gICAgICAgICAgICBkZWZ1biA9IHNjb3BlID0gbm9kZTtcbiAgICAgICAgICAgICsrbmVzdGluZzsgZGVzY2VuZCgpOyAtLW5lc3Rpbmc7XG4gICAgICAgICAgICBzY29wZSA9IHNhdmVfc2NvcGU7XG4gICAgICAgICAgICBkZWZ1biA9IHNhdmVfZGVmdW47XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICAgICAgIC8vIGRvbid0IGRlc2NlbmQgYWdhaW4gaW4gVHJlZVdhbGtlclxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RpcmVjdGl2ZSkge1xuICAgICAgICAgICAgbm9kZS5zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgcHVzaF91bmlxKHNjb3BlLmRpcmVjdGl2ZXMsIG5vZGUudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfV2l0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcyA9IHNjb3BlOyBzOyBzID0gcy5wYXJlbnRfc2NvcGUpXG4gICAgICAgICAgICAgICAgcy51c2VzX3dpdGggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbCkge1xuICAgICAgICAgICAgbm9kZS5zY29wZSA9IHNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbExhbWJkYSkge1xuICAgICAgICAgICAgZGVmdW4uZGVmX2Z1bmN0aW9uKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sRGVmdW4pIHtcbiAgICAgICAgICAgIC8vIENhcmVmdWwgaGVyZSwgdGhlIHNjb3BlIHdoZXJlIHRoaXMgc2hvdWxkIGJlIGRlZmluZWQgaXNcbiAgICAgICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUuICBUaGUgcmVhc29uIGlzIHRoYXQgd2UgZW50ZXIgYSBuZXdcbiAgICAgICAgICAgIC8vIHNjb3BlIHdoZW4gd2UgZW5jb3VudGVyIHRoZSBBU1RfRGVmdW4gbm9kZSAod2hpY2ggaXNcbiAgICAgICAgICAgIC8vIGluc3RhbmNlb2YgQVNUX1Njb3BlKSBidXQgd2UgZ2V0IHRvIHRoZSBzeW1ib2wgYSBiaXRcbiAgICAgICAgICAgIC8vIGxhdGVyLlxuICAgICAgICAgICAgKG5vZGUuc2NvcGUgPSBkZWZ1bi5wYXJlbnRfc2NvcGUpLmRlZl9mdW5jdGlvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFZhclxuICAgICAgICAgICAgICAgICB8fCBub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbENvbnN0KSB7XG4gICAgICAgICAgICB2YXIgZGVmID0gZGVmdW4uZGVmX3ZhcmlhYmxlKG5vZGUpO1xuICAgICAgICAgICAgZGVmLmNvbnN0YW50ID0gbm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xDb25zdDtcbiAgICAgICAgICAgIGRlZi5pbml0ID0gdHcucGFyZW50KCkudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xDYXRjaCkge1xuICAgICAgICAgICAgKG9wdGlvbnMuc2NyZXdfaWU4ID8gc2NvcGUgOiBkZWZ1bilcbiAgICAgICAgICAgICAgICAuZGVmX3ZhcmlhYmxlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi53YWxrKHR3KTtcblxuICAgIC8vIHBhc3MgMjogZmluZCBiYWNrIHJlZmVyZW5jZXMgYW5kIGV2YWxcbiAgICB2YXIgZnVuYyA9IG51bGw7XG4gICAgdmFyIGdsb2JhbHMgPSBzZWxmLmdsb2JhbHMgPSBuZXcgRGljdGlvbmFyeSgpO1xuICAgIHZhciB0dyA9IG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUsIGRlc2NlbmQpe1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGEpIHtcbiAgICAgICAgICAgIHZhciBwcmV2X2Z1bmMgPSBmdW5jO1xuICAgICAgICAgICAgZnVuYyA9IG5vZGU7XG4gICAgICAgICAgICBkZXNjZW5kKCk7XG4gICAgICAgICAgICBmdW5jID0gcHJldl9mdW5jO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG5vZGUubmFtZTtcbiAgICAgICAgICAgIHZhciBzeW0gPSBub2RlLnNjb3BlLmZpbmRfdmFyaWFibGUobmFtZSk7XG4gICAgICAgICAgICBpZiAoIXN5bSkge1xuICAgICAgICAgICAgICAgIHZhciBnO1xuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBnID0gZ2xvYmFscy5nZXQobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZyA9IG5ldyBTeW1ib2xEZWYoc2VsZiwgZ2xvYmFscy5zaXplKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBnLnVuZGVjbGFyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBnLmdsb2JhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbHMuc2V0KG5hbWUsIGcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlLnRoZWRlZiA9IGc7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJldmFsXCIgJiYgdHcucGFyZW50KCkgaW5zdGFuY2VvZiBBU1RfQ2FsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gbm9kZS5zY29wZTsgcyAmJiAhcy51c2VzX2V2YWw7IHMgPSBzLnBhcmVudF9zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHMudXNlc19ldmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMgJiYgbmFtZSA9PSBcImFyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMudXNlc19hcmd1bWVudHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS50aGVkZWYgPSBzeW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnJlZmVyZW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLndhbGsodHcpO1xufSk7XG5cbkFTVF9TY29wZS5ERUZNRVRIT0QoXCJpbml0X3Njb3BlX3ZhcnNcIiwgZnVuY3Rpb24obmVzdGluZyl7XG4gICAgdGhpcy5kaXJlY3RpdmVzID0gW107ICAgICAvLyBjb250YWlucyB0aGUgZGlyZWN0aXZlcyBkZWZpbmVkIGluIHRoaXMgc2NvcGUsIGkuZS4gXCJ1c2Ugc3RyaWN0XCJcbiAgICB0aGlzLnZhcmlhYmxlcyA9IG5ldyBEaWN0aW9uYXJ5KCk7IC8vIG1hcCBuYW1lIHRvIEFTVF9TeW1ib2xWYXIgKHZhcmlhYmxlcyBkZWZpbmVkIGluIHRoaXMgc2NvcGU7IGluY2x1ZGVzIGZ1bmN0aW9ucylcbiAgICB0aGlzLmZ1bmN0aW9ucyA9IG5ldyBEaWN0aW9uYXJ5KCk7IC8vIG1hcCBuYW1lIHRvIEFTVF9TeW1ib2xEZWZ1biAoZnVuY3Rpb25zIGRlZmluZWQgaW4gdGhpcyBzY29wZSlcbiAgICB0aGlzLnVzZXNfd2l0aCA9IGZhbHNlOyAgIC8vIHdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhpcyBvciBzb21lIG5lc3RlZCBzY29wZSB1c2VzIHRoZSBgd2l0aGAgc3RhdGVtZW50XG4gICAgdGhpcy51c2VzX2V2YWwgPSBmYWxzZTsgICAvLyB3aWxsIGJlIHNldCB0byB0cnVlIGlmIHRoaXMgb3IgbmVzdGVkIHNjb3BlIHVzZXMgdGhlIGdsb2JhbCBgZXZhbGBcbiAgICB0aGlzLnBhcmVudF9zY29wZSA9IG51bGw7IC8vIHRoZSBwYXJlbnQgc2NvcGVcbiAgICB0aGlzLmVuY2xvc2VkID0gW107ICAgICAgIC8vIGEgbGlzdCBvZiB2YXJpYWJsZXMgZnJvbSB0aGlzIG9yIG91dGVyIHNjb3BlKHMpIHRoYXQgYXJlIHJlZmVyZW5jZWQgZnJvbSB0aGlzIG9yIGlubmVyIHNjb3Blc1xuICAgIHRoaXMuY25hbWUgPSAtMTsgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgaW5kZXggZm9yIG1hbmdsaW5nIGZ1bmN0aW9ucy92YXJpYWJsZXNcbiAgICB0aGlzLm5lc3RpbmcgPSBuZXN0aW5nOyAgIC8vIHRoZSBuZXN0aW5nIGxldmVsIG9mIHRoaXMgc2NvcGUgKDAgbWVhbnMgdG9wbGV2ZWwpXG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcInN0cmljdFwiLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmhhc19kaXJlY3RpdmUoXCJ1c2Ugc3RyaWN0XCIpO1xufSk7XG5cbkFTVF9MYW1iZGEuREVGTUVUSE9EKFwiaW5pdF9zY29wZV92YXJzXCIsIGZ1bmN0aW9uKCl7XG4gICAgQVNUX1Njb3BlLnByb3RvdHlwZS5pbml0X3Njb3BlX3ZhcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB0aGlzLnVzZXNfYXJndW1lbnRzID0gZmFsc2U7XG59KTtcblxuQVNUX1N5bWJvbFJlZi5ERUZNRVRIT0QoXCJyZWZlcmVuY2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRlZiA9IHRoaXMuZGVmaW5pdGlvbigpO1xuICAgIGRlZi5yZWZlcmVuY2VzLnB1c2godGhpcyk7XG4gICAgdmFyIHMgPSB0aGlzLnNjb3BlO1xuICAgIHdoaWxlIChzKSB7XG4gICAgICAgIHB1c2hfdW5pcShzLmVuY2xvc2VkLCBkZWYpO1xuICAgICAgICBpZiAocyA9PT0gZGVmLnNjb3BlKSBicmVhaztcbiAgICAgICAgcyA9IHMucGFyZW50X3Njb3BlO1xuICAgIH1cbiAgICB0aGlzLmZyYW1lID0gdGhpcy5zY29wZS5uZXN0aW5nIC0gZGVmLnNjb3BlLm5lc3Rpbmc7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcImZpbmRfdmFyaWFibGVcIiwgZnVuY3Rpb24obmFtZSl7XG4gICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sKSBuYW1lID0gbmFtZS5uYW1lO1xuICAgIHJldHVybiB0aGlzLnZhcmlhYmxlcy5nZXQobmFtZSlcbiAgICAgICAgfHwgKHRoaXMucGFyZW50X3Njb3BlICYmIHRoaXMucGFyZW50X3Njb3BlLmZpbmRfdmFyaWFibGUobmFtZSkpO1xufSk7XG5cbkFTVF9TY29wZS5ERUZNRVRIT0QoXCJoYXNfZGlyZWN0aXZlXCIsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRfc2NvcGUgJiYgdGhpcy5wYXJlbnRfc2NvcGUuaGFzX2RpcmVjdGl2ZSh2YWx1ZSlcbiAgICAgICAgfHwgKHRoaXMuZGlyZWN0aXZlcy5pbmRleE9mKHZhbHVlKSA+PSAwID8gdGhpcyA6IG51bGwpO1xufSk7XG5cbkFTVF9TY29wZS5ERUZNRVRIT0QoXCJkZWZfZnVuY3Rpb25cIiwgZnVuY3Rpb24oc3ltYm9sKXtcbiAgICB0aGlzLmZ1bmN0aW9ucy5zZXQoc3ltYm9sLm5hbWUsIHRoaXMuZGVmX3ZhcmlhYmxlKHN5bWJvbCkpO1xufSk7XG5cbkFTVF9TY29wZS5ERUZNRVRIT0QoXCJkZWZfdmFyaWFibGVcIiwgZnVuY3Rpb24oc3ltYm9sKXtcbiAgICB2YXIgZGVmO1xuICAgIGlmICghdGhpcy52YXJpYWJsZXMuaGFzKHN5bWJvbC5uYW1lKSkge1xuICAgICAgICBkZWYgPSBuZXcgU3ltYm9sRGVmKHRoaXMsIHRoaXMudmFyaWFibGVzLnNpemUoKSwgc3ltYm9sKTtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMuc2V0KHN5bWJvbC5uYW1lLCBkZWYpO1xuICAgICAgICBkZWYuZ2xvYmFsID0gIXRoaXMucGFyZW50X3Njb3BlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZiA9IHRoaXMudmFyaWFibGVzLmdldChzeW1ib2wubmFtZSk7XG4gICAgICAgIGRlZi5vcmlnLnB1c2goc3ltYm9sKTtcbiAgICB9XG4gICAgcmV0dXJuIHN5bWJvbC50aGVkZWYgPSBkZWY7XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcIm5leHRfbWFuZ2xlZFwiLCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICB2YXIgZXh0ID0gdGhpcy5lbmNsb3NlZDtcbiAgICBvdXQ6IHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBtID0gYmFzZTU0KCsrdGhpcy5jbmFtZSk7XG4gICAgICAgIGlmICghaXNfaWRlbnRpZmllcihtKSkgY29udGludWU7IC8vIHNraXAgb3ZlciBcImRvXCJcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvMjQyIC0tIGRvIG5vdFxuICAgICAgICAvLyBzaGFkb3cgYSBuYW1lIGV4Y2VwdGVkIGZyb20gbWFuZ2xpbmcuXG4gICAgICAgIGlmIChvcHRpb25zLmV4Y2VwdC5pbmRleE9mKG0pID49IDApIGNvbnRpbnVlO1xuXG4gICAgICAgIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgdGhlIG1hbmdsZWQgbmFtZSBkb2VzIG5vdCBzaGFkb3cgYSBuYW1lXG4gICAgICAgIC8vIGZyb20gc29tZSBwYXJlbnQgc2NvcGUgdGhhdCBpcyByZWZlcmVuY2VkIGluIHRoaXMgb3IgaW5cbiAgICAgICAgLy8gaW5uZXIgc2NvcGVzLlxuICAgICAgICBmb3IgKHZhciBpID0gZXh0Lmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICB2YXIgc3ltID0gZXh0W2ldO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBzeW0ubWFuZ2xlZF9uYW1lIHx8IChzeW0udW5tYW5nbGVhYmxlKG9wdGlvbnMpICYmIHN5bS5uYW1lKTtcbiAgICAgICAgICAgIGlmIChtID09IG5hbWUpIGNvbnRpbnVlIG91dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG59KTtcblxuQVNUX0Z1bmN0aW9uLkRFRk1FVEhPRChcIm5leHRfbWFuZ2xlZFwiLCBmdW5jdGlvbihvcHRpb25zLCBkZWYpe1xuICAgIC8vICMxNzksICMzMjZcbiAgICAvLyBpbiBTYWZhcmkgc3RyaWN0IG1vZGUsIHNvbWV0aGluZyBsaWtlIChmdW5jdGlvbiB4KHgpey4uLn0pIGlzIGEgc3ludGF4IGVycm9yO1xuICAgIC8vIGEgZnVuY3Rpb24gZXhwcmVzc2lvbidzIGFyZ3VtZW50IGNhbm5vdCBzaGFkb3cgdGhlIGZ1bmN0aW9uIGV4cHJlc3Npb24ncyBuYW1lXG5cbiAgICB2YXIgdHJpY2t5X2RlZiA9IGRlZi5vcmlnWzBdIGluc3RhbmNlb2YgQVNUX1N5bWJvbEZ1bmFyZyAmJiB0aGlzLm5hbWUgJiYgdGhpcy5uYW1lLmRlZmluaXRpb24oKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbmFtZSA9IEFTVF9MYW1iZGEucHJvdG90eXBlLm5leHRfbWFuZ2xlZC5jYWxsKHRoaXMsIG9wdGlvbnMsIGRlZik7XG4gICAgICAgIGlmICghKHRyaWNreV9kZWYgJiYgdHJpY2t5X2RlZi5tYW5nbGVkX25hbWUgPT0gbmFtZSkpXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG59KTtcblxuQVNUX1Njb3BlLkRFRk1FVEhPRChcInJlZmVyZW5jZXNcIiwgZnVuY3Rpb24oc3ltKXtcbiAgICBpZiAoc3ltIGluc3RhbmNlb2YgQVNUX1N5bWJvbCkgc3ltID0gc3ltLmRlZmluaXRpb24oKTtcbiAgICByZXR1cm4gdGhpcy5lbmNsb3NlZC5pbmRleE9mKHN5bSkgPCAwID8gbnVsbCA6IHN5bTtcbn0pO1xuXG5BU1RfU3ltYm9sLkRFRk1FVEhPRChcInVubWFuZ2xlYWJsZVwiLCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uKCkudW5tYW5nbGVhYmxlKG9wdGlvbnMpO1xufSk7XG5cbi8vIHByb3BlcnR5IGFjY2Vzc29ycyBhcmUgbm90IG1hbmdsZWFibGVcbkFTVF9TeW1ib2xBY2Nlc3Nvci5ERUZNRVRIT0QoXCJ1bm1hbmdsZWFibGVcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG4vLyBsYWJlbHMgYXJlIGFsd2F5cyBtYW5nbGVhYmxlXG5BU1RfTGFiZWwuREVGTUVUSE9EKFwidW5tYW5nbGVhYmxlXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbkFTVF9TeW1ib2wuREVGTUVUSE9EKFwidW5yZWZlcmVuY2VkXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbigpLnJlZmVyZW5jZXMubGVuZ3RoID09IDBcbiAgICAgICAgJiYgISh0aGlzLnNjb3BlLnVzZXNfZXZhbCB8fCB0aGlzLnNjb3BlLnVzZXNfd2l0aCk7XG59KTtcblxuQVNUX1N5bWJvbC5ERUZNRVRIT0QoXCJ1bmRlY2xhcmVkXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbigpLnVuZGVjbGFyZWQ7XG59KTtcblxuQVNUX0xhYmVsUmVmLkRFRk1FVEhPRChcInVuZGVjbGFyZWRcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZmFsc2U7XG59KTtcblxuQVNUX0xhYmVsLkRFRk1FVEhPRChcInVuZGVjbGFyZWRcIiwgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZmFsc2U7XG59KTtcblxuQVNUX1N5bWJvbC5ERUZNRVRIT0QoXCJkZWZpbml0aW9uXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMudGhlZGVmO1xufSk7XG5cbkFTVF9TeW1ib2wuREVGTUVUSE9EKFwiZ2xvYmFsXCIsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbigpLmdsb2JhbDtcbn0pO1xuXG5BU1RfVG9wbGV2ZWwuREVGTUVUSE9EKFwiX2RlZmF1bHRfbWFuZ2xlcl9vcHRpb25zXCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHJldHVybiBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIGV4Y2VwdCAgIDogW10sXG4gICAgICAgIGV2YWwgICAgIDogZmFsc2UsXG4gICAgICAgIHNvcnQgICAgIDogZmFsc2UsXG4gICAgICAgIHRvcGxldmVsIDogZmFsc2UsXG4gICAgICAgIHNjcmV3X2llOCA6IGZhbHNlXG4gICAgfSk7XG59KTtcblxuQVNUX1RvcGxldmVsLkRFRk1FVEhPRChcIm1hbmdsZV9uYW1lc1wiLCBmdW5jdGlvbihvcHRpb25zKXtcbiAgICBvcHRpb25zID0gdGhpcy5fZGVmYXVsdF9tYW5nbGVyX29wdGlvbnMob3B0aW9ucyk7XG4gICAgLy8gV2Ugb25seSBuZWVkIHRvIG1hbmdsZSBkZWNsYXJhdGlvbiBub2Rlcy4gIFNwZWNpYWwgbG9naWMgd2lyZWRcbiAgICAvLyBpbnRvIHRoZSBjb2RlIGdlbmVyYXRvciB3aWxsIGRpc3BsYXkgdGhlIG1hbmdsZWQgbmFtZSBpZiBpdCdzXG4gICAgLy8gcHJlc2VudCAoYW5kIGZvciBBU1RfU3ltYm9sUmVmLXMgaXQnbGwgdXNlIHRoZSBtYW5nbGVkIG5hbWUgb2ZcbiAgICAvLyB0aGUgQVNUX1N5bWJvbERlY2xhcmF0aW9uIHRoYXQgaXQgcG9pbnRzIHRvKS5cbiAgICB2YXIgbG5hbWUgPSAtMTtcbiAgICB2YXIgdG9fbWFuZ2xlID0gW107XG4gICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSwgZGVzY2VuZCl7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0xhYmVsZWRTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIGxuYW1lIGlzIGluY3JlbWVudGVkIHdoZW4gd2UgZ2V0IHRvIHRoZSBBU1RfTGFiZWxcbiAgICAgICAgICAgIHZhciBzYXZlX25lc3RpbmcgPSBsbmFtZTtcbiAgICAgICAgICAgIGRlc2NlbmQoKTtcbiAgICAgICAgICAgIGxuYW1lID0gc2F2ZV9uZXN0aW5nO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7ICAgICAgICAvLyBkb24ndCBkZXNjZW5kIGFnYWluIGluIFRyZWVXYWxrZXJcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSkge1xuICAgICAgICAgICAgdmFyIHAgPSB0dy5wYXJlbnQoKSwgYSA9IFtdO1xuICAgICAgICAgICAgbm9kZS52YXJpYWJsZXMuZWFjaChmdW5jdGlvbihzeW1ib2wpe1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmV4Y2VwdC5pbmRleE9mKHN5bWJvbC5uYW1lKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN5bWJvbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSBhLnNvcnQoZnVuY3Rpb24oYSwgYil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIucmVmZXJlbmNlcy5sZW5ndGggLSBhLnJlZmVyZW5jZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b19tYW5nbGUucHVzaC5hcHBseSh0b19tYW5nbGUsIGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0xhYmVsKSB7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIGRvIG5hbWUgPSBiYXNlNTQoKytsbmFtZSk7IHdoaWxlICghaXNfaWRlbnRpZmllcihuYW1lKSk7XG4gICAgICAgICAgICBub2RlLm1hbmdsZWRfbmFtZSA9IG5hbWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zY3Jld19pZTggJiYgbm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xDYXRjaCkge1xuICAgICAgICAgICAgdG9fbWFuZ2xlLnB1c2gobm9kZS5kZWZpbml0aW9uKCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53YWxrKHR3KTtcbiAgICB0b19tYW5nbGUuZm9yRWFjaChmdW5jdGlvbihkZWYpeyBkZWYubWFuZ2xlKG9wdGlvbnMpIH0pO1xufSk7XG5cbkFTVF9Ub3BsZXZlbC5ERUZNRVRIT0QoXCJjb21wdXRlX2NoYXJfZnJlcXVlbmN5XCIsIGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSB0aGlzLl9kZWZhdWx0X21hbmdsZXJfb3B0aW9ucyhvcHRpb25zKTtcbiAgICB2YXIgdHcgPSBuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQ29uc3RhbnQpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIobm9kZS5wcmludF90b19zdHJpbmcoKSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfUmV0dXJuKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwicmV0dXJuXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Rocm93KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwidGhyb3dcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQ29udGludWUpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJjb250aW51ZVwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9CcmVhaylcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImJyZWFrXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlYnVnZ2VyKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiZGVidWdnZXJcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGlyZWN0aXZlKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKG5vZGUudmFsdWUpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1doaWxlKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwid2hpbGVcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRG8pXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJkbyB3aGlsZVwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9JZikge1xuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwiaWZcIik7XG4gICAgICAgICAgICBpZiAobm9kZS5hbHRlcm5hdGl2ZSkgYmFzZTU0LmNvbnNpZGVyKFwiZWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1ZhcilcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcInZhclwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Db25zdClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImNvbnN0XCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0xhbWJkYSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImZ1bmN0aW9uXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0ZvcilcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImZvXCIgKyBcInJcIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRm9ySW4pXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJmb3IgaW5cIik7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3dpdGNoKVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwic3dpdGNoXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0Nhc2UpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJjYXNlXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZmF1bHQpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJkZWZhdWx0XCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1dpdGgpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJ3aXRoXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX09iamVjdFNldHRlcilcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcInNldFwiICsgbm9kZS5rZXkpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX09iamVjdEdldHRlcilcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImdldFwiICsgbm9kZS5rZXkpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX09iamVjdEtleVZhbClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihub2RlLmtleSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTmV3KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKFwibmV3XCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1RoaXMpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJ0aGlzXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1RyeSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcInRyeVwiKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9DYXRjaClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihcImNhdGNoXCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0ZpbmFsbHkpXG4gICAgICAgICAgICBiYXNlNTQuY29uc2lkZXIoXCJmaW5hbGx5XCIpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbCAmJiBub2RlLnVubWFuZ2xlYWJsZShvcHRpb25zKSlcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihub2RlLm5hbWUpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1VuYXJ5IHx8IG5vZGUgaW5zdGFuY2VvZiBBU1RfQmluYXJ5KVxuICAgICAgICAgICAgYmFzZTU0LmNvbnNpZGVyKG5vZGUub3BlcmF0b3IpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RvdClcbiAgICAgICAgICAgIGJhc2U1NC5jb25zaWRlcihub2RlLnByb3BlcnR5KTtcbiAgICB9KTtcbiAgICB0aGlzLndhbGsodHcpO1xuICAgIGJhc2U1NC5zb3J0KCk7XG59KTtcblxudmFyIGJhc2U1NCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJF8wMTIzNDU2Nzg5XCI7XG4gICAgdmFyIGNoYXJzLCBmcmVxdWVuY3k7XG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGZyZXF1ZW5jeSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNoYXJzID0gc3RyaW5nLnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbihjaCl7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApIH0pO1xuICAgICAgICBjaGFycy5mb3JFYWNoKGZ1bmN0aW9uKGNoKXsgZnJlcXVlbmN5W2NoXSA9IDAgfSk7XG4gICAgfVxuICAgIGJhc2U1NC5jb25zaWRlciA9IGZ1bmN0aW9uKHN0cil7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdHIubGVuZ3RoOyAtLWkgPj0gMDspIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSBpbiBmcmVxdWVuY3kpICsrZnJlcXVlbmN5W2NvZGVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBiYXNlNTQuc29ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjaGFycyA9IG1lcmdlU29ydChjaGFycywgZnVuY3Rpb24oYSwgYil7XG4gICAgICAgICAgICBpZiAoaXNfZGlnaXQoYSkgJiYgIWlzX2RpZ2l0KGIpKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChpc19kaWdpdChiKSAmJiAhaXNfZGlnaXQoYSkpIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiBmcmVxdWVuY3lbYl0gLSBmcmVxdWVuY3lbYV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgYmFzZTU0LnJlc2V0ID0gcmVzZXQ7XG4gICAgcmVzZXQoKTtcbiAgICBiYXNlNTQuZ2V0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIGNoYXJzIH07XG4gICAgYmFzZTU0LmZyZXEgPSBmdW5jdGlvbigpeyByZXR1cm4gZnJlcXVlbmN5IH07XG4gICAgZnVuY3Rpb24gYmFzZTU0KG51bSkge1xuICAgICAgICB2YXIgcmV0ID0gXCJcIiwgYmFzZSA9IDU0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyc1tudW0gJSBiYXNlXSk7XG4gICAgICAgICAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIGJhc2UpO1xuICAgICAgICAgICAgYmFzZSA9IDY0O1xuICAgICAgICB9IHdoaWxlIChudW0gPiAwKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIHJldHVybiBiYXNlNTQ7XG59KSgpO1xuXG5BU1RfVG9wbGV2ZWwuREVGTUVUSE9EKFwic2NvcGVfd2FybmluZ3NcIiwgZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgdW5kZWNsYXJlZCAgICAgICA6IGZhbHNlLCAvLyB0aGlzIG1ha2VzIGEgbG90IG9mIG5vaXNlXG4gICAgICAgIHVucmVmZXJlbmNlZCAgICAgOiB0cnVlLFxuICAgICAgICBhc3NpZ25fdG9fZ2xvYmFsIDogdHJ1ZSxcbiAgICAgICAgZnVuY19hcmd1bWVudHMgICA6IHRydWUsXG4gICAgICAgIG5lc3RlZF9kZWZ1bnMgICAgOiB0cnVlLFxuICAgICAgICBldmFsICAgICAgICAgICAgIDogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciB0dyA9IG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICBpZiAob3B0aW9ucy51bmRlY2xhcmVkXG4gICAgICAgICAgICAmJiBub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgJiYgbm9kZS51bmRlY2xhcmVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFhYWDogdGhpcyBhbHNvIHdhcm5zIGFib3V0IEpTIHN0YW5kYXJkIG5hbWVzLFxuICAgICAgICAgICAgLy8gaS5lLiBPYmplY3QsIEFycmF5LCBwYXJzZUludCBldGMuICBTaG91bGQgYWRkIGEgbGlzdCBvZlxuICAgICAgICAgICAgLy8gZXhjZXB0aW9ucy5cbiAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4oXCJVbmRlY2xhcmVkIHN5bWJvbDoge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgICAgIGZpbGU6IG5vZGUuc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBub2RlLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgY29sOiBub2RlLnN0YXJ0LmNvbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYXNzaWduX3RvX2dsb2JhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHN5bSA9IG51bGw7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ24gJiYgbm9kZS5sZWZ0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZilcbiAgICAgICAgICAgICAgICBzeW0gPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0ZvckluICYmIG5vZGUuaW5pdCBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpXG4gICAgICAgICAgICAgICAgc3ltID0gbm9kZS5pbml0O1xuICAgICAgICAgICAgaWYgKHN5bVxuICAgICAgICAgICAgICAgICYmIChzeW0udW5kZWNsYXJlZCgpXG4gICAgICAgICAgICAgICAgICAgIHx8IChzeW0uZ2xvYmFsKCkgJiYgc3ltLnNjb3BlICE9PSBzeW0uZGVmaW5pdGlvbigpLnNjb3BlKSkpIHtcbiAgICAgICAgICAgICAgICBBU1RfTm9kZS53YXJuKFwie21zZ306IHtuYW1lfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgICAgICBtc2c6IHN5bS51bmRlY2xhcmVkKCkgPyBcIkFjY2lkZW50YWwgZ2xvYmFsP1wiIDogXCJBc3NpZ25tZW50IHRvIGdsb2JhbFwiLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzeW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogc3ltLnN0YXJ0LmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IHN5bS5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgICAgICBjb2w6IHN5bS5zdGFydC5jb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5ldmFsXG4gICAgICAgICAgICAmJiBub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgJiYgbm9kZS51bmRlY2xhcmVkKClcbiAgICAgICAgICAgICYmIG5vZGUubmFtZSA9PSBcImV2YWxcIikge1xuICAgICAgICAgICAgQVNUX05vZGUud2FybihcIkV2YWwgaXMgdXNlZCBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgbm9kZS5zdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudW5yZWZlcmVuY2VkXG4gICAgICAgICAgICAmJiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xEZWNsYXJhdGlvbiB8fCBub2RlIGluc3RhbmNlb2YgQVNUX0xhYmVsKVxuICAgICAgICAgICAgJiYgbm9kZS51bnJlZmVyZW5jZWQoKSkge1xuICAgICAgICAgICAgQVNUX05vZGUud2FybihcInt0eXBlfSB7bmFtZX0gaXMgZGVjbGFyZWQgYnV0IG5vdCByZWZlcmVuY2VkIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogbm9kZSBpbnN0YW5jZW9mIEFTVF9MYWJlbCA/IFwiTGFiZWxcIiA6IFwiU3ltYm9sXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgICAgIGZpbGU6IG5vZGUuc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBub2RlLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgY29sOiBub2RlLnN0YXJ0LmNvbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZnVuY19hcmd1bWVudHNcbiAgICAgICAgICAgICYmIG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFtYmRhXG4gICAgICAgICAgICAmJiBub2RlLnVzZXNfYXJndW1lbnRzKSB7XG4gICAgICAgICAgICBBU1RfTm9kZS53YXJuKFwiYXJndW1lbnRzIHVzZWQgaW4gZnVuY3Rpb24ge25hbWV9IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lID8gbm9kZS5uYW1lLm5hbWUgOiBcImFub255bW91c1wiLFxuICAgICAgICAgICAgICAgIGZpbGU6IG5vZGUuc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBub2RlLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgY29sOiBub2RlLnN0YXJ0LmNvbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubmVzdGVkX2RlZnVuc1xuICAgICAgICAgICAgJiYgbm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZ1blxuICAgICAgICAgICAgJiYgISh0dy5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9TY29wZSkpIHtcbiAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4oXCJGdW5jdGlvbiB7bmFtZX0gZGVjbGFyZWQgaW4gbmVzdGVkIHN0YXRlbWVudCBcXFwie3R5cGV9XFxcIiBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5vZGUubmFtZS5uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR3LnBhcmVudCgpLlRZUEUsXG4gICAgICAgICAgICAgICAgZmlsZTogbm9kZS5zdGFydC5maWxlLFxuICAgICAgICAgICAgICAgIGxpbmU6IG5vZGUuc3RhcnQubGluZSxcbiAgICAgICAgICAgICAgICBjb2w6IG5vZGUuc3RhcnQuY29sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMud2Fsayh0dyk7XG59KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gT3V0cHV0U3RyZWFtKG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIGluZGVudF9zdGFydCAgICAgOiAwLFxuICAgICAgICBpbmRlbnRfbGV2ZWwgICAgIDogNCxcbiAgICAgICAgcXVvdGVfa2V5cyAgICAgICA6IGZhbHNlLFxuICAgICAgICBzcGFjZV9jb2xvbiAgICAgIDogdHJ1ZSxcbiAgICAgICAgYXNjaWlfb25seSAgICAgICA6IGZhbHNlLFxuICAgICAgICB1bmVzY2FwZV9yZWdleHBzIDogZmFsc2UsXG4gICAgICAgIGlubGluZV9zY3JpcHQgICAgOiBmYWxzZSxcbiAgICAgICAgd2lkdGggICAgICAgICAgICA6IDgwLFxuICAgICAgICBtYXhfbGluZV9sZW4gICAgIDogMzIwMDAsXG4gICAgICAgIGJlYXV0aWZ5ICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgc291cmNlX21hcCAgICAgICA6IG51bGwsXG4gICAgICAgIGJyYWNrZXRpemUgICAgICAgOiBmYWxzZSxcbiAgICAgICAgc2VtaWNvbG9ucyAgICAgICA6IHRydWUsXG4gICAgICAgIGNvbW1lbnRzICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcHJlc2VydmVfbGluZSAgICA6IGZhbHNlLFxuICAgICAgICBzY3Jld19pZTggICAgICAgIDogZmFsc2UsXG4gICAgICAgIHByZWFtYmxlICAgICAgICAgOiBudWxsLFxuICAgIH0sIHRydWUpO1xuXG4gICAgdmFyIGluZGVudGF0aW9uID0gMDtcbiAgICB2YXIgY3VycmVudF9jb2wgPSAwO1xuICAgIHZhciBjdXJyZW50X2xpbmUgPSAxO1xuICAgIHZhciBjdXJyZW50X3BvcyA9IDA7XG4gICAgdmFyIE9VVFBVVCA9IFwiXCI7XG5cbiAgICBmdW5jdGlvbiB0b19hc2NpaShzdHIsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx1MDA4MC1cXHVmZmZmXS9nLCBmdW5jdGlvbihjaCkge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIGlmIChjb2RlLmxlbmd0aCA8PSAyICYmICFpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvZGUubGVuZ3RoIDwgMikgY29kZSA9IFwiMFwiICsgY29kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcXFxceFwiICsgY29kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvZGUubGVuZ3RoIDwgNCkgY29kZSA9IFwiMFwiICsgY29kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcXFxcdVwiICsgY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2Vfc3RyaW5nKHN0cikge1xuICAgICAgICB2YXIgZHEgPSAwLCBzcSA9IDA7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bXFxcXFxcYlxcZlxcblxcclxcdFxceDIyXFx4MjdcXHUyMDI4XFx1MjAyOVxcMF0vZywgZnVuY3Rpb24ocyl7XG4gICAgICAgICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjogcmV0dXJuIFwiXFxcXFxcXFxcIjtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcYlwiOiByZXR1cm4gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFxmXCI6IHJldHVybiBcIlxcXFxmXCI7XG4gICAgICAgICAgICAgIGNhc2UgXCJcXG5cIjogcmV0dXJuIFwiXFxcXG5cIjtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcclwiOiByZXR1cm4gXCJcXFxcclwiO1xuICAgICAgICAgICAgICBjYXNlIFwiXFx1MjAyOFwiOiByZXR1cm4gXCJcXFxcdTIwMjhcIjtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcdTIwMjlcIjogcmV0dXJuIFwiXFxcXHUyMDI5XCI7XG4gICAgICAgICAgICAgIGNhc2UgJ1wiJzogKytkcTsgcmV0dXJuICdcIic7XG4gICAgICAgICAgICAgIGNhc2UgXCInXCI6ICsrc3E7IHJldHVybiBcIidcIjtcbiAgICAgICAgICAgICAgY2FzZSBcIlxcMFwiOiByZXR1cm4gXCJcXFxceDAwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmFzY2lpX29ubHkpIHN0ciA9IHRvX2FzY2lpKHN0cik7XG4gICAgICAgIGlmIChkcSA+IHNxKSByZXR1cm4gXCInXCIgKyBzdHIucmVwbGFjZSgvXFx4MjcvZywgXCJcXFxcJ1wiKSArIFwiJ1wiO1xuICAgICAgICBlbHNlIHJldHVybiAnXCInICsgc3RyLnJlcGxhY2UoL1xceDIyL2csICdcXFxcXCInKSArICdcIic7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVuY29kZV9zdHJpbmcoc3RyKSB7XG4gICAgICAgIHZhciByZXQgPSBtYWtlX3N0cmluZyhzdHIpO1xuICAgICAgICBpZiAob3B0aW9ucy5pbmxpbmVfc2NyaXB0KVxuICAgICAgICAgICAgcmV0ID0gcmV0LnJlcGxhY2UoLzxcXHgyZnNjcmlwdChbPlxcL1xcdFxcblxcZlxcciBdKS9naSwgXCI8XFxcXC9zY3JpcHQkMVwiKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV9uYW1lKG5hbWUpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXNjaWlfb25seSlcbiAgICAgICAgICAgIG5hbWUgPSB0b19hc2NpaShuYW1lLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2VfaW5kZW50KGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHJlcGVhdF9zdHJpbmcoXCIgXCIsIG9wdGlvbnMuaW5kZW50X3N0YXJ0ICsgaW5kZW50YXRpb24gLSBiYWNrICogb3B0aW9ucy5pbmRlbnRfbGV2ZWwpO1xuICAgIH07XG5cbiAgICAvKiAtLS0tLVsgYmVhdXRpZmljYXRpb24vbWluaWZpY2F0aW9uIF0tLS0tLSAqL1xuXG4gICAgdmFyIG1pZ2h0X25lZWRfc3BhY2UgPSBmYWxzZTtcbiAgICB2YXIgbWlnaHRfbmVlZF9zZW1pY29sb24gPSBmYWxzZTtcbiAgICB2YXIgbGFzdCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBsYXN0X2NoYXIoKSB7XG4gICAgICAgIHJldHVybiBsYXN0LmNoYXJBdChsYXN0Lmxlbmd0aCAtIDEpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYXliZV9uZXdsaW5lKCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tYXhfbGluZV9sZW4gJiYgY3VycmVudF9jb2wgPiBvcHRpb25zLm1heF9saW5lX2xlbilcbiAgICAgICAgICAgIHByaW50KFwiXFxuXCIpO1xuICAgIH07XG5cbiAgICB2YXIgcmVxdWlyZVNlbWljb2xvbkNoYXJzID0gbWFrZVByZWRpY2F0ZShcIiggWyArICogLyAtICwgLlwiKTtcblxuICAgIGZ1bmN0aW9uIHByaW50KHN0cikge1xuICAgICAgICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgICAgICAgdmFyIGNoID0gc3RyLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKG1pZ2h0X25lZWRfc2VtaWNvbG9uKSB7XG4gICAgICAgICAgICBpZiAoKCFjaCB8fCBcIjt9XCIuaW5kZXhPZihjaCkgPCAwKSAmJiAhL1s7XSQvLnRlc3QobGFzdCkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zZW1pY29sb25zIHx8IHJlcXVpcmVTZW1pY29sb25DaGFycyhjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgT1VUUFVUICs9IFwiO1wiO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2NvbCsrO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE9VVFBVVCArPSBcIlxcblwiO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BvcysrO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2xpbmUrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudF9jb2wgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuYmVhdXRpZnkpXG4gICAgICAgICAgICAgICAgICAgIG1pZ2h0X25lZWRfc3BhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1pZ2h0X25lZWRfc2VtaWNvbG9uID0gZmFsc2U7XG4gICAgICAgICAgICBtYXliZV9uZXdsaW5lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuYmVhdXRpZnkgJiYgb3B0aW9ucy5wcmVzZXJ2ZV9saW5lICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0X2xpbmUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5zdGFydC5saW5lO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRfbGluZSA8IHRhcmdldF9saW5lKSB7XG4gICAgICAgICAgICAgICAgT1VUUFVUICs9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgY3VycmVudF9wb3MrKztcbiAgICAgICAgICAgICAgICBjdXJyZW50X2xpbmUrKztcbiAgICAgICAgICAgICAgICBjdXJyZW50X2NvbCA9IDA7XG4gICAgICAgICAgICAgICAgbWlnaHRfbmVlZF9zcGFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pZ2h0X25lZWRfc3BhY2UpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gbGFzdF9jaGFyKCk7XG4gICAgICAgICAgICBpZiAoKGlzX2lkZW50aWZpZXJfY2hhcihwcmV2KVxuICAgICAgICAgICAgICAgICAmJiAoaXNfaWRlbnRpZmllcl9jaGFyKGNoKSB8fCBjaCA9PSBcIlxcXFxcIikpXG4gICAgICAgICAgICAgICAgfHwgKC9eW1xcK1xcLVxcL10kLy50ZXN0KGNoKSAmJiBjaCA9PSBwcmV2KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBPVVRQVVQgKz0gXCIgXCI7XG4gICAgICAgICAgICAgICAgY3VycmVudF9jb2wrKztcbiAgICAgICAgICAgICAgICBjdXJyZW50X3BvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWlnaHRfbmVlZF9zcGFjZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0gc3RyLnNwbGl0KC9cXHI/XFxuLyksIG4gPSBhLmxlbmd0aCAtIDE7XG4gICAgICAgIGN1cnJlbnRfbGluZSArPSBuO1xuICAgICAgICBpZiAobiA9PSAwKSB7XG4gICAgICAgICAgICBjdXJyZW50X2NvbCArPSBhW25dLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRfY29sID0gYVtuXS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudF9wb3MgKz0gc3RyLmxlbmd0aDtcbiAgICAgICAgbGFzdCA9IHN0cjtcbiAgICAgICAgT1VUUFVUICs9IHN0cjtcbiAgICB9O1xuXG4gICAgdmFyIHNwYWNlID0gb3B0aW9ucy5iZWF1dGlmeSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmludChcIiBcIik7XG4gICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBtaWdodF9uZWVkX3NwYWNlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGluZGVudCA9IG9wdGlvbnMuYmVhdXRpZnkgPyBmdW5jdGlvbihoYWxmKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmJlYXV0aWZ5KSB7XG4gICAgICAgICAgICBwcmludChtYWtlX2luZGVudChoYWxmID8gMC41IDogMCkpO1xuICAgICAgICB9XG4gICAgfSA6IG5vb3A7XG5cbiAgICB2YXIgd2l0aF9pbmRlbnQgPSBvcHRpb25zLmJlYXV0aWZ5ID8gZnVuY3Rpb24oY29sLCBjb250KSB7XG4gICAgICAgIGlmIChjb2wgPT09IHRydWUpIGNvbCA9IG5leHRfaW5kZW50KCk7XG4gICAgICAgIHZhciBzYXZlX2luZGVudGF0aW9uID0gaW5kZW50YXRpb247XG4gICAgICAgIGluZGVudGF0aW9uID0gY29sO1xuICAgICAgICB2YXIgcmV0ID0gY29udCgpO1xuICAgICAgICBpbmRlbnRhdGlvbiA9IHNhdmVfaW5kZW50YXRpb247XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSA6IGZ1bmN0aW9uKGNvbCwgY29udCkgeyByZXR1cm4gY29udCgpIH07XG5cbiAgICB2YXIgbmV3bGluZSA9IG9wdGlvbnMuYmVhdXRpZnkgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJpbnQoXCJcXG5cIik7XG4gICAgfSA6IG5vb3A7XG5cbiAgICB2YXIgc2VtaWNvbG9uID0gb3B0aW9ucy5iZWF1dGlmeSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmludChcIjtcIik7XG4gICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBtaWdodF9uZWVkX3NlbWljb2xvbiA9IHRydWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZvcmNlX3NlbWljb2xvbigpIHtcbiAgICAgICAgbWlnaHRfbmVlZF9zZW1pY29sb24gPSBmYWxzZTtcbiAgICAgICAgcHJpbnQoXCI7XCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBuZXh0X2luZGVudCgpIHtcbiAgICAgICAgcmV0dXJuIGluZGVudGF0aW9uICsgb3B0aW9ucy5pbmRlbnRfbGV2ZWw7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdpdGhfYmxvY2soY29udCkge1xuICAgICAgICB2YXIgcmV0O1xuICAgICAgICBwcmludChcIntcIik7XG4gICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgd2l0aF9pbmRlbnQobmV4dF9pbmRlbnQoKSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldCA9IGNvbnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGluZGVudCgpO1xuICAgICAgICBwcmludChcIn1cIik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdpdGhfcGFyZW5zKGNvbnQpIHtcbiAgICAgICAgcHJpbnQoXCIoXCIpO1xuICAgICAgICAvL1hYWDogc3RpbGwgbmljZSB0byBoYXZlIHRoYXQgZm9yIGFyZ3VtZW50IGxpc3RzXG4gICAgICAgIC8vdmFyIHJldCA9IHdpdGhfaW5kZW50KGN1cnJlbnRfY29sLCBjb250KTtcbiAgICAgICAgdmFyIHJldCA9IGNvbnQoKTtcbiAgICAgICAgcHJpbnQoXCIpXCIpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB3aXRoX3NxdWFyZShjb250KSB7XG4gICAgICAgIHByaW50KFwiW1wiKTtcbiAgICAgICAgLy92YXIgcmV0ID0gd2l0aF9pbmRlbnQoY3VycmVudF9jb2wsIGNvbnQpO1xuICAgICAgICB2YXIgcmV0ID0gY29udCgpO1xuICAgICAgICBwcmludChcIl1cIik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNvbW1hKCkge1xuICAgICAgICBwcmludChcIixcIik7XG4gICAgICAgIHNwYWNlKCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNvbG9uKCkge1xuICAgICAgICBwcmludChcIjpcIik7XG4gICAgICAgIGlmIChvcHRpb25zLnNwYWNlX2NvbG9uKSBzcGFjZSgpO1xuICAgIH07XG5cbiAgICB2YXIgYWRkX21hcHBpbmcgPSBvcHRpb25zLnNvdXJjZV9tYXAgPyBmdW5jdGlvbih0b2tlbiwgbmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRva2VuKSBvcHRpb25zLnNvdXJjZV9tYXAuYWRkKFxuICAgICAgICAgICAgICAgIHRva2VuLmZpbGUgfHwgXCI/XCIsXG4gICAgICAgICAgICAgICAgY3VycmVudF9saW5lLCBjdXJyZW50X2NvbCxcbiAgICAgICAgICAgICAgICB0b2tlbi5saW5lLCB0b2tlbi5jb2wsXG4gICAgICAgICAgICAgICAgKCFuYW1lICYmIHRva2VuLnR5cGUgPT0gXCJuYW1lXCIpID8gdG9rZW4udmFsdWUgOiBuYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICBBU1RfTm9kZS53YXJuKFwiQ291bGRuJ3QgZmlndXJlIG91dCBtYXBwaW5nIGZvciB7ZmlsZX06e2xpbmV9LHtjb2x9IOKGkiB7Y2xpbmV9LHtjY29sfSBbe25hbWV9XVwiLCB7XG4gICAgICAgICAgICAgICAgZmlsZTogdG9rZW4uZmlsZSxcbiAgICAgICAgICAgICAgICBsaW5lOiB0b2tlbi5saW5lLFxuICAgICAgICAgICAgICAgIGNvbDogdG9rZW4uY29sLFxuICAgICAgICAgICAgICAgIGNsaW5lOiBjdXJyZW50X2xpbmUsXG4gICAgICAgICAgICAgICAgY2NvbDogY3VycmVudF9jb2wsXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSB8fCBcIlwiXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSA6IG5vb3A7XG5cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBPVVRQVVQ7XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnByZWFtYmxlKSB7XG4gICAgICAgIHByaW50KG9wdGlvbnMucHJlYW1ibGUucmVwbGFjZSgvXFxyXFxuP3xbXFxuXFx1MjAyOFxcdTIwMjldfFxccyokL2csIFwiXFxuXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgICAgICAgICAgICAgOiBnZXQsXG4gICAgICAgIHRvU3RyaW5nICAgICAgICA6IGdldCxcbiAgICAgICAgaW5kZW50ICAgICAgICAgIDogaW5kZW50LFxuICAgICAgICBpbmRlbnRhdGlvbiAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGluZGVudGF0aW9uIH0sXG4gICAgICAgIGN1cnJlbnRfd2lkdGggICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY3VycmVudF9jb2wgLSBpbmRlbnRhdGlvbiB9LFxuICAgICAgICBzaG91bGRfYnJlYWsgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9wdGlvbnMud2lkdGggJiYgdGhpcy5jdXJyZW50X3dpZHRoKCkgPj0gb3B0aW9ucy53aWR0aCB9LFxuICAgICAgICBuZXdsaW5lICAgICAgICAgOiBuZXdsaW5lLFxuICAgICAgICBwcmludCAgICAgICAgICAgOiBwcmludCxcbiAgICAgICAgc3BhY2UgICAgICAgICAgIDogc3BhY2UsXG4gICAgICAgIGNvbW1hICAgICAgICAgICA6IGNvbW1hLFxuICAgICAgICBjb2xvbiAgICAgICAgICAgOiBjb2xvbixcbiAgICAgICAgbGFzdCAgICAgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBsYXN0IH0sXG4gICAgICAgIHNlbWljb2xvbiAgICAgICA6IHNlbWljb2xvbixcbiAgICAgICAgZm9yY2Vfc2VtaWNvbG9uIDogZm9yY2Vfc2VtaWNvbG9uLFxuICAgICAgICB0b19hc2NpaSAgICAgICAgOiB0b19hc2NpaSxcbiAgICAgICAgcHJpbnRfbmFtZSAgICAgIDogZnVuY3Rpb24obmFtZSkgeyBwcmludChtYWtlX25hbWUobmFtZSkpIH0sXG4gICAgICAgIHByaW50X3N0cmluZyAgICA6IGZ1bmN0aW9uKHN0cikgeyBwcmludChlbmNvZGVfc3RyaW5nKHN0cikpIH0sXG4gICAgICAgIG5leHRfaW5kZW50ICAgICA6IG5leHRfaW5kZW50LFxuICAgICAgICB3aXRoX2luZGVudCAgICAgOiB3aXRoX2luZGVudCxcbiAgICAgICAgd2l0aF9ibG9jayAgICAgIDogd2l0aF9ibG9jayxcbiAgICAgICAgd2l0aF9wYXJlbnMgICAgIDogd2l0aF9wYXJlbnMsXG4gICAgICAgIHdpdGhfc3F1YXJlICAgICA6IHdpdGhfc3F1YXJlLFxuICAgICAgICBhZGRfbWFwcGluZyAgICAgOiBhZGRfbWFwcGluZyxcbiAgICAgICAgb3B0aW9uICAgICAgICAgIDogZnVuY3Rpb24ob3B0KSB7IHJldHVybiBvcHRpb25zW29wdF0gfSxcbiAgICAgICAgbGluZSAgICAgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBjdXJyZW50X2xpbmUgfSxcbiAgICAgICAgY29sICAgICAgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBjdXJyZW50X2NvbCB9LFxuICAgICAgICBwb3MgICAgICAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGN1cnJlbnRfcG9zIH0sXG4gICAgICAgIHB1c2hfbm9kZSAgICAgICA6IGZ1bmN0aW9uKG5vZGUpIHsgc3RhY2sucHVzaChub2RlKSB9LFxuICAgICAgICBwb3Bfbm9kZSAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHN0YWNrLnBvcCgpIH0sXG4gICAgICAgIHN0YWNrICAgICAgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RhY2sgfSxcbiAgICAgICAgcGFyZW50ICAgICAgICAgIDogZnVuY3Rpb24obikge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDIgLSAobiB8fCAwKV07XG4gICAgICAgIH1cbiAgICB9O1xuXG59O1xuXG4vKiAtLS0tLVsgY29kZSBnZW5lcmF0b3JzIF0tLS0tLSAqL1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIC8qIC0tLS0tWyB1dGlscyBdLS0tLS0gKi9cblxuICAgIGZ1bmN0aW9uIERFRlBSSU5UKG5vZGV0eXBlLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgbm9kZXR5cGUuREVGTUVUSE9EKFwiX2NvZGVnZW5cIiwgZ2VuZXJhdG9yKTtcbiAgICB9O1xuXG4gICAgQVNUX05vZGUuREVGTUVUSE9EKFwicHJpbnRcIiwgZnVuY3Rpb24oc3RyZWFtLCBmb3JjZV9wYXJlbnMpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIGdlbmVyYXRvciA9IHNlbGYuX2NvZGVnZW47XG4gICAgICAgIGZ1bmN0aW9uIGRvaXQoKSB7XG4gICAgICAgICAgICBzZWxmLmFkZF9jb21tZW50cyhzdHJlYW0pO1xuICAgICAgICAgICAgc2VsZi5hZGRfc291cmNlX21hcChzdHJlYW0pO1xuICAgICAgICAgICAgZ2VuZXJhdG9yKHNlbGYsIHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyZWFtLnB1c2hfbm9kZShzZWxmKTtcbiAgICAgICAgaWYgKGZvcmNlX3BhcmVucyB8fCBzZWxmLm5lZWRzX3BhcmVucyhzdHJlYW0pKSB7XG4gICAgICAgICAgICBzdHJlYW0ud2l0aF9wYXJlbnMoZG9pdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2l0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyZWFtLnBvcF9ub2RlKCk7XG4gICAgfSk7XG5cbiAgICBBU1RfTm9kZS5ERUZNRVRIT0QoXCJwcmludF90b19zdHJpbmdcIiwgZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICAgIHZhciBzID0gT3V0cHV0U3RyZWFtKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnByaW50KHMpO1xuICAgICAgICByZXR1cm4gcy5nZXQoKTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBjb21tZW50cyBdLS0tLS0gKi9cblxuICAgIEFTVF9Ob2RlLkRFRk1FVEhPRChcImFkZF9jb21tZW50c1wiLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgYyA9IG91dHB1dC5vcHRpb24oXCJjb21tZW50c1wiKSwgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBzZWxmLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKHN0YXJ0ICYmICFzdGFydC5fY29tbWVudHNfZHVtcGVkKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQuX2NvbW1lbnRzX2R1bXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gc3RhcnQuY29tbWVudHNfYmVmb3JlIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gWFhYOiB1Z2x5IGZpeCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzIvaXNzdWVzLzExMlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyL2lzc3Vlcy8zNzJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZiBpbnN0YW5jZW9mIEFTVF9FeGl0ICYmIHNlbGYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi52YWx1ZS53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuc3RhcnQgJiYgbm9kZS5zdGFydC5jb21tZW50c19iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50cyA9IGNvbW1lbnRzLmNvbmNhdChub2RlLnN0YXJ0LmNvbW1lbnRzX2JlZm9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdGFydC5jb21tZW50c19iZWZvcmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEFTVF9BcnJheSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgaW5zdGFuY2VvZiBBU1RfT2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBkb24ndCBnbyBpbnNpZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYy50ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzID0gY29tbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGNvbW1lbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMudGVzdChjb21tZW50LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudHMgPSBjb21tZW50cy5maWx0ZXIoZnVuY3Rpb24oY29tbWVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyhzZWxmLCBjb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24oYyl7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvY29tbWVudFsxMzRdLy50ZXN0KGMudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIi8vXCIgKyBjLnZhbHVlICsgXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYy50eXBlID09IFwiY29tbWVudDJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiLypcIiArIGMudmFsdWUgKyBcIiovXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0Lm5sYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBQQVJFTlRIRVNFUyBdLS0tLS0gKi9cblxuICAgIGZ1bmN0aW9uIFBBUkVOUyhub2RldHlwZSwgZnVuYykge1xuICAgICAgICBub2RldHlwZS5ERUZNRVRIT0QoXCJuZWVkc19wYXJlbnNcIiwgZnVuYyk7XG4gICAgfTtcblxuICAgIFBBUkVOUyhBU1RfTm9kZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gYSBmdW5jdGlvbiBleHByZXNzaW9uIG5lZWRzIHBhcmVucyBhcm91bmQgaXQgd2hlbiBpdCdzIHByb3ZhYmx5XG4gICAgLy8gdGhlIGZpcnN0IHRva2VuIHRvIGFwcGVhciBpbiBhIHN0YXRlbWVudC5cbiAgICBQQVJFTlMoQVNUX0Z1bmN0aW9uLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICByZXR1cm4gZmlyc3RfaW5fc3RhdGVtZW50KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBzYW1lIGdvZXMgZm9yIGFuIG9iamVjdCBsaXRlcmFsLCBiZWNhdXNlIG90aGVyd2lzZSBpdCB3b3VsZCBiZVxuICAgIC8vIGludGVycHJldGVkIGFzIGEgYmxvY2sgb2YgY29kZS5cbiAgICBQQVJFTlMoQVNUX09iamVjdCwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgcmV0dXJuIGZpcnN0X2luX3N0YXRlbWVudChvdXRwdXQpO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9VbmFyeSwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgdmFyIHAgPSBvdXRwdXQucGFyZW50KCk7XG4gICAgICAgIHJldHVybiBwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgJiYgcC5leHByZXNzaW9uID09PSB0aGlzO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9TZXEsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICByZXR1cm4gcCBpbnN0YW5jZW9mIEFTVF9DYWxsICAgICAgICAgICAgIC8vIChmb28sIGJhcikoKSBvciBmb28oMSwgKDIsIDMpLCA0KVxuICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9VbmFyeSAgICAgICAgICAgIC8vICEoZm9vLCBiYXIsIGJheilcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfQmluYXJ5ICAgICAgICAgICAvLyAxICsgKDIsIDMpICsgNCA9PT4gOFxuICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9WYXJEZWYgICAgICAgICAgIC8vIHZhciBhID0gKDEsIDIpLCBiID0gYSArIGE7ID09PiBiID09IDRcbiAgICAgICAgICAgIHx8IHAgaW5zdGFuY2VvZiBBU1RfUHJvcEFjY2VzcyAgICAgICAvLyAoMSwge2ZvbzoyfSkuZm9vIG9yICgxLCB7Zm9vOjJ9KVtcImZvb1wiXSA9PT4gMlxuICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9BcnJheSAgICAgICAgICAgIC8vIFsgMSwgKDIsIDMpLCA0IF0gPT0+IFsgMSwgMywgNCBdXG4gICAgICAgICAgICB8fCBwIGluc3RhbmNlb2YgQVNUX09iamVjdFByb3BlcnR5ICAgLy8geyBmb286ICgxLCAyKSB9LmZvbyA9PT4gMlxuICAgICAgICAgICAgfHwgcCBpbnN0YW5jZW9mIEFTVF9Db25kaXRpb25hbCAgICAgIC8qIChmYWxzZSwgdHJ1ZSkgPyAoYSA9IDEwLCBiID0gMjApIDogKGMgPSAzMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiA9PT4gMjAgKHNpZGUgZWZmZWN0LCBzZXQgYSA6PSAxMCBhbmQgYiA6PSAyMCkgKi9cbiAgICAgICAgO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9CaW5hcnksIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICAvLyAoZm9vICYmIGJhcikoKVxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9DYWxsICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyB0eXBlb2YgKGZvbyAmJiBiYXIpXG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1VuYXJ5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIChmb28gJiYgYmFyKVtcInByb3BcIl0sIChmb28gJiYgYmFyKS5wcm9wXG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgJiYgcC5leHByZXNzaW9uID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIHRoaXMgZGVhbHMgd2l0aCBwcmVjZWRlbmNlOiAzICogKDIgKyAxKVxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9CaW5hcnkpIHtcbiAgICAgICAgICAgIHZhciBwbyA9IHAub3BlcmF0b3IsIHBwID0gUFJFQ0VERU5DRVtwb107XG4gICAgICAgICAgICB2YXIgc28gPSB0aGlzLm9wZXJhdG9yLCBzcCA9IFBSRUNFREVOQ0Vbc29dO1xuICAgICAgICAgICAgaWYgKHBwID4gc3BcbiAgICAgICAgICAgICAgICB8fCAocHAgPT0gc3BcbiAgICAgICAgICAgICAgICAgICAgJiYgdGhpcyA9PT0gcC5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9Qcm9wQWNjZXNzLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfTmV3ICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcykge1xuICAgICAgICAgICAgLy8gaS5lLiBuZXcgKGZvby5iYXIoKS5iYXopXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBvbmUgY2FsbCBpbnRvIHRoaXMgc3VidHJlZSwgdGhlbiB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBwYXJlbnMgYXJvdW5kIGl0IHRvbywgb3RoZXJ3aXNlIHRoZSBjYWxsIHdpbGwgYmVcbiAgICAgICAgICAgIC8vIGludGVycHJldGVkIGFzIHBhc3NpbmcgdGhlIGFyZ3VtZW50cyB0byB0aGUgdXBwZXIgTmV3XG4gICAgICAgICAgICAvLyBleHByZXNzaW9uLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLndhbGsobmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0NhbGwpIHRocm93IHA7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBjYXRjaChleCkge1xuICAgICAgICAgICAgICAgIGlmIChleCAhPT0gcCkgdGhyb3cgZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFBBUkVOUyhBU1RfQ2FsbCwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgdmFyIHAgPSBvdXRwdXQucGFyZW50KCksIHAxO1xuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9OZXcgJiYgcC5leHByZXNzaW9uID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgU2FmYXJpIGJ1Zy5cbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEyMzUwNlxuICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uXG4gICAgICAgICAgICAmJiBwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3NcbiAgICAgICAgICAgICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpc1xuICAgICAgICAgICAgJiYgKHAxID0gb3V0cHV0LnBhcmVudCgxKSkgaW5zdGFuY2VvZiBBU1RfQXNzaWduXG4gICAgICAgICAgICAmJiBwMS5sZWZ0ID09PSBwO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9OZXcsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICBpZiAobm9fY29uc3RydWN0b3JfcGFyZW5zKHRoaXMsIG91dHB1dClcbiAgICAgICAgICAgICYmIChwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgLy8gKG5ldyBEYXRlKS5nZXRUaW1lKCksIChuZXcgRGF0ZSlbXCJnZXRUaW1lXCJdKClcbiAgICAgICAgICAgICAgICB8fCBwIGluc3RhbmNlb2YgQVNUX0NhbGwgJiYgcC5leHByZXNzaW9uID09PSB0aGlzKSkgLy8gKG5ldyBmb28pKGJhcilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgUEFSRU5TKEFTVF9OdW1iZXIsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZSgpIDwgMCAmJiBwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgJiYgcC5leHByZXNzaW9uID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICBQQVJFTlMoQVNUX05hTiwgZnVuY3Rpb24ob3V0cHV0KXtcbiAgICAgICAgdmFyIHAgPSBvdXRwdXQucGFyZW50KCk7XG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1Byb3BBY2Nlc3MgJiYgcC5leHByZXNzaW9uID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhc3NpZ25fYW5kX2NvbmRpdGlvbmFsX3BhcmVuX3J1bGVzKG91dHB1dCkge1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgLy8gIShhID0gZmFsc2UpIOKGkiB0cnVlXG4gICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1VuYXJ5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIDEgKyAoYSA9IDIpICsgMyDihpIgNiwgc2lkZSBlZmZlY3Qgc2V0dGluZyBhID0gMlxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgIShwIGluc3RhbmNlb2YgQVNUX0Fzc2lnbikpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gKGEgPSBmdW5jKSgpIOKAlG9y4oCUIG5ldyAoYSA9IE9iamVjdCkoKVxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9DYWxsICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAoYSA9IGZvbykgPyBiYXIgOiBiYXpcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwgJiYgcC5jb25kaXRpb24gPT09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gKGEgPSBmb28pW1wicHJvcFwiXSDigJRvcuKAlCAoYSA9IGZvbykucHJvcFxuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Qcm9wQWNjZXNzICYmIHAuZXhwcmVzc2lvbiA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBQQVJFTlMoQVNUX0Fzc2lnbiwgYXNzaWduX2FuZF9jb25kaXRpb25hbF9wYXJlbl9ydWxlcyk7XG4gICAgUEFSRU5TKEFTVF9Db25kaXRpb25hbCwgYXNzaWduX2FuZF9jb25kaXRpb25hbF9wYXJlbl9ydWxlcyk7XG5cbiAgICAvKiAtLS0tLVsgUFJJTlRFUlMgXS0tLS0tICovXG5cbiAgICBERUZQUklOVChBU1RfRGlyZWN0aXZlLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnRfc3RyaW5nKHNlbGYudmFsdWUpO1xuICAgICAgICBvdXRwdXQuc2VtaWNvbG9uKCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0RlYnVnZ2VyLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJkZWJ1Z2dlclwiKTtcbiAgICAgICAgb3V0cHV0LnNlbWljb2xvbigpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIHN0YXRlbWVudHMgXS0tLS0tICovXG5cbiAgICBmdW5jdGlvbiBkaXNwbGF5X2JvZHkoYm9keSwgaXNfdG9wbGV2ZWwsIG91dHB1dCkge1xuICAgICAgICB2YXIgbGFzdCA9IGJvZHkubGVuZ3RoIC0gMTtcbiAgICAgICAgYm9keS5mb3JFYWNoKGZ1bmN0aW9uKHN0bXQsIGkpe1xuICAgICAgICAgICAgaWYgKCEoc3RtdCBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICAgICAgc3RtdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIGlmICghKGkgPT0gbGFzdCAmJiBpc190b3BsZXZlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX3RvcGxldmVsKSBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIEFTVF9TdGF0ZW1lbnRXaXRoQm9keS5ERUZNRVRIT0QoXCJfZG9fcHJpbnRfYm9keVwiLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICBmb3JjZV9zdGF0ZW1lbnQodGhpcy5ib2R5LCBvdXRwdXQpO1xuICAgIH0pO1xuXG4gICAgREVGUFJJTlQoQVNUX1N0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5ib2R5LnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfVG9wbGV2ZWwsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIGRpc3BsYXlfYm9keShzZWxmLmJvZHksIHRydWUsIG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5wcmludChcIlwiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfTGFiZWxlZFN0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5sYWJlbC5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuY29sb24oKTtcbiAgICAgICAgc2VsZi5ib2R5LnByaW50KG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1NpbXBsZVN0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5ib2R5LnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBwcmludF9icmFja2V0ZWQoYm9keSwgb3V0cHV0KSB7XG4gICAgICAgIGlmIChib2R5Lmxlbmd0aCA+IDApIG91dHB1dC53aXRoX2Jsb2NrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBkaXNwbGF5X2JvZHkoYm9keSwgZmFsc2UsIG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIG91dHB1dC5wcmludChcInt9XCIpO1xuICAgIH07XG4gICAgREVGUFJJTlQoQVNUX0Jsb2NrU3RhdGVtZW50LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBwcmludF9icmFja2V0ZWQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9FbXB0eVN0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnNlbWljb2xvbigpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9EbywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZG9cIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLl9kb19wcmludF9ib2R5KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ3aGlsZVwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5jb25kaXRpb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfV2hpbGUsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcIndoaWxlXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmNvbmRpdGlvbi5wcmludChvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50X2JvZHkob3V0cHV0KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfRm9yLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJmb1wiICsgXCJyXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoc2VsZi5pbml0ICYmICEoc2VsZi5pbml0IGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmluaXQgaW5zdGFuY2VvZiBBU1RfRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbml0LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50aGVzaXplX2Zvcl9ub2luKHNlbGYuaW5pdCwgb3V0cHV0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiO1wiKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiO1wiKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxmLnN0ZXApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnN0ZXAucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLl9kb19wcmludF9ib2R5KG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0ZvckluLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJmb1wiICsgXCJyXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmluaXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiaW5cIik7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIHNlbGYub2JqZWN0LnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9XaXRoLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ3aXRoXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LndpdGhfcGFyZW5zKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmV4cHJlc3Npb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBzZWxmLl9kb19wcmludF9ib2R5KG91dHB1dCk7XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgZnVuY3Rpb25zIF0tLS0tLSAqL1xuICAgIEFTVF9MYW1iZGEuREVGTUVUSE9EKFwiX2RvX3ByaW50XCIsIGZ1bmN0aW9uKG91dHB1dCwgbm9rZXl3b3JkKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoIW5va2V5d29yZCkge1xuICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYubmFtZSkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBzZWxmLm5hbWUucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuYXJnbmFtZXMuZm9yRWFjaChmdW5jdGlvbihhcmcsIGkpe1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXRwdXQuY29tbWEoKTtcbiAgICAgICAgICAgICAgICBhcmcucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHByaW50X2JyYWNrZXRlZChzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0xhbWJkYSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0KTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBleGl0cyBdLS0tLS0gKi9cbiAgICBBU1RfRXhpdC5ERUZNRVRIT0QoXCJfZG9fcHJpbnRcIiwgZnVuY3Rpb24ob3V0cHV0LCBraW5kKXtcbiAgICAgICAgb3V0cHV0LnByaW50KGtpbmQpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLnByaW50KG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnNlbWljb2xvbigpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9SZXR1cm4sIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCwgXCJyZXR1cm5cIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1Rocm93LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLl9kb19wcmludChvdXRwdXQsIFwidGhyb3dcIik7XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgbG9vcCBjb250cm9sIF0tLS0tLSAqL1xuICAgIEFTVF9Mb29wQ29udHJvbC5ERUZNRVRIT0QoXCJfZG9fcHJpbnRcIiwgZnVuY3Rpb24ob3V0cHV0LCBraW5kKXtcbiAgICAgICAgb3V0cHV0LnByaW50KGtpbmQpO1xuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLnByaW50KG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnNlbWljb2xvbigpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9CcmVhaywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0LCBcImJyZWFrXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9Db250aW51ZSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0LCBcImNvbnRpbnVlXCIpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIGlmIF0tLS0tLSAqL1xuICAgIGZ1bmN0aW9uIG1ha2VfdGhlbihzZWxmLCBvdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC5vcHRpb24oXCJicmFja2V0aXplXCIpKSB7XG4gICAgICAgICAgICBtYWtlX2Jsb2NrKHNlbGYuYm9keSwgb3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc3F1ZWV6ZXIgcmVwbGFjZXMgXCJibG9ja1wiLXMgdGhhdCBjb250YWluIG9ubHkgYSBzaW5nbGVcbiAgICAgICAgLy8gc3RhdGVtZW50IHdpdGggdGhlIHN0YXRlbWVudCBpdHNlbGY7IHRlY2huaWNhbGx5LCB0aGUgQVNUXG4gICAgICAgIC8vIGlzIGNvcnJlY3QsIGJ1dCB0aGlzIGNhbiBjcmVhdGUgcHJvYmxlbXMgd2hlbiB3ZSBvdXRwdXQgYW5cbiAgICAgICAgLy8gSUYgaGF2aW5nIGFuIEVMU0UgY2xhdXNlIHdoZXJlIHRoZSBUSEVOIGNsYXVzZSBlbmRzIGluIGFuXG4gICAgICAgIC8vIElGICp3aXRob3V0KiBhbiBFTFNFIGJsb2NrICh0aGVuIHRoZSBvdXRlciBFTFNFIHdvdWxkIHJlZmVyXG4gICAgICAgIC8vIHRvIHRoZSBpbm5lciBJRikuICBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBmb3IgdGhpcyBjYXNlIGFuZFxuICAgICAgICAvLyBhZGRzIHRoZSBibG9jayBicmFja2V0cyBpZiBuZWVkZWQuXG4gICAgICAgIGlmICghc2VsZi5ib2R5KVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC5mb3JjZV9zZW1pY29sb24oKTtcbiAgICAgICAgaWYgKHNlbGYuYm9keSBpbnN0YW5jZW9mIEFTVF9Eb1xuICAgICAgICAgICAgJiYgIW91dHB1dC5vcHRpb24oXCJzY3Jld19pZThcIikpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMvaXNzdWVzLyNpc3N1ZS81NyBJRVxuICAgICAgICAgICAgLy8gY3JvYWtzIHdpdGggXCJzeW50YXggZXJyb3JcIiBvbiBjb2RlIGxpa2UgdGhpczogaWYgKGZvbylcbiAgICAgICAgICAgIC8vIGRvIC4uLiB3aGlsZShjb25kKTsgZWxzZSAuLi4gIHdlIG5lZWQgYmxvY2sgYnJhY2tldHNcbiAgICAgICAgICAgIC8vIGFyb3VuZCBkby93aGlsZVxuICAgICAgICAgICAgbWFrZV9ibG9jayhzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGIgPSBzZWxmLmJvZHk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIEFTVF9JZikge1xuICAgICAgICAgICAgICAgIGlmICghYi5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBtYWtlX2Jsb2NrKHNlbGYuYm9keSwgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiID0gYi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBU1RfU3RhdGVtZW50V2l0aEJvZHkpIHtcbiAgICAgICAgICAgICAgICBiID0gYi5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmb3JjZV9zdGF0ZW1lbnQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgIH07XG4gICAgREVGUFJJTlQoQVNUX0lmLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJpZlwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5jb25kaXRpb24ucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBpZiAoc2VsZi5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgbWFrZV90aGVuKHNlbGYsIG91dHB1dCk7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dHB1dC5wcmludChcImVsc2VcIik7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIGZvcmNlX3N0YXRlbWVudChzZWxmLmFsdGVybmF0aXZlLCBvdXRwdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgc3dpdGNoIF0tLS0tLSAqL1xuICAgIERFRlBSSU5UKEFTVF9Td2l0Y2gsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcInN3aXRjaFwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5leHByZXNzaW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgaWYgKHNlbGYuYm9keS5sZW5ndGggPiAwKSBvdXRwdXQud2l0aF9ibG9jayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5ib2R5LmZvckVhY2goZnVuY3Rpb24oc3RtdCwgaSl7XG4gICAgICAgICAgICAgICAgaWYgKGkpIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICBzdG10LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsc2Ugb3V0cHV0LnByaW50KFwie31cIik7XG4gICAgfSk7XG4gICAgQVNUX1N3aXRjaEJyYW5jaC5ERUZNRVRIT0QoXCJfZG9fcHJpbnRfYm9keVwiLCBmdW5jdGlvbihvdXRwdXQpe1xuICAgICAgICBpZiAodGhpcy5ib2R5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICB0aGlzLmJvZHkuZm9yRWFjaChmdW5jdGlvbihzdG10KXtcbiAgICAgICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICAgICAgc3RtdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIG91dHB1dC5uZXdsaW5lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9EZWZhdWx0LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJkZWZhdWx0OlwiKTtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnRfYm9keShvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9DYXNlLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJjYXNlXCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5wcmludChcIjpcIik7XG4gICAgICAgIHNlbGYuX2RvX3ByaW50X2JvZHkob3V0cHV0KTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBleGNlcHRpb25zIF0tLS0tLSAqL1xuICAgIERFRlBSSU5UKEFTVF9UcnksIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcInRyeVwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHByaW50X2JyYWNrZXRlZChzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgICAgIGlmIChzZWxmLmJjYXRjaCkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgICAgICBzZWxmLmJjYXRjaC5wcmludChvdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLmJmaW5hbGx5KSB7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIHNlbGYuYmZpbmFsbHkucHJpbnQob3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9DYXRjaCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiY2F0Y2hcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBvdXRwdXQud2l0aF9wYXJlbnMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuYXJnbmFtZS5wcmludChvdXRwdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHByaW50X2JyYWNrZXRlZChzZWxmLmJvZHksIG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0ZpbmFsbHksIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcImZpbmFsbHlcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBwcmludF9icmFja2V0ZWQoc2VsZi5ib2R5LCBvdXRwdXQpO1xuICAgIH0pO1xuXG4gICAgLyogLS0tLS1bIHZhci9jb25zdCBdLS0tLS0gKi9cbiAgICBBU1RfRGVmaW5pdGlvbnMuREVGTUVUSE9EKFwiX2RvX3ByaW50XCIsIGZ1bmN0aW9uKG91dHB1dCwga2luZCl7XG4gICAgICAgIG91dHB1dC5wcmludChraW5kKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkZWYsIGkpe1xuICAgICAgICAgICAgaWYgKGkpIG91dHB1dC5jb21tYSgpO1xuICAgICAgICAgICAgZGVmLnByaW50KG91dHB1dCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcCA9IG91dHB1dC5wYXJlbnQoKTtcbiAgICAgICAgdmFyIGluX2ZvciA9IHAgaW5zdGFuY2VvZiBBU1RfRm9yIHx8IHAgaW5zdGFuY2VvZiBBU1RfRm9ySW47XG4gICAgICAgIHZhciBhdm9pZF9zZW1pY29sb24gPSBpbl9mb3IgJiYgcC5pbml0ID09PSB0aGlzO1xuICAgICAgICBpZiAoIWF2b2lkX3NlbWljb2xvbilcbiAgICAgICAgICAgIG91dHB1dC5zZW1pY29sb24oKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfVmFyLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLl9kb19wcmludChvdXRwdXQsIFwidmFyXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9Db25zdCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0LCBcImNvbnN0XCIpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gcGFyZW50aGVzaXplX2Zvcl9ub2luKG5vZGUsIG91dHB1dCwgbm9pbikge1xuICAgICAgICBpZiAoIW5vaW4pIG5vZGUucHJpbnQob3V0cHV0KTtcbiAgICAgICAgZWxzZSB0cnkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHNvbWUgcHJlY2F1dGlvbnMgaGVyZTpcbiAgICAgICAgICAgIC8vICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyL2lzc3Vlcy82MFxuICAgICAgICAgICAgbm9kZS53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0JpbmFyeSAmJiBub2RlLm9wZXJhdG9yID09IFwiaW5cIilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgb3V0cHV0O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbm9kZS5wcmludChvdXRwdXQpO1xuICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICBpZiAoZXggIT09IG91dHB1dCkgdGhyb3cgZXg7XG4gICAgICAgICAgICBub2RlLnByaW50KG91dHB1dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgREVGUFJJTlQoQVNUX1ZhckRlZiwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5uYW1lLnByaW50KG91dHB1dCk7XG4gICAgICAgIGlmIChzZWxmLnZhbHVlKSB7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dHB1dC5wcmludChcIj1cIik7XG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgxKTtcbiAgICAgICAgICAgIHZhciBub2luID0gcCBpbnN0YW5jZW9mIEFTVF9Gb3IgfHwgcCBpbnN0YW5jZW9mIEFTVF9Gb3JJbjtcbiAgICAgICAgICAgIHBhcmVudGhlc2l6ZV9mb3Jfbm9pbihzZWxmLnZhbHVlLCBvdXRwdXQsIG5vaW4pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKiAtLS0tLVsgb3RoZXIgZXhwcmVzc2lvbnMgXS0tLS0tICovXG4gICAgREVGUFJJTlQoQVNUX0NhbGwsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgICAgICBpZiAoc2VsZiBpbnN0YW5jZW9mIEFTVF9OZXcgJiYgbm9fY29uc3RydWN0b3JfcGFyZW5zKHNlbGYsIG91dHB1dCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG91dHB1dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5hcmdzLmZvckVhY2goZnVuY3Rpb24oZXhwciwgaSl7XG4gICAgICAgICAgICAgICAgaWYgKGkpIG91dHB1dC5jb21tYSgpO1xuICAgICAgICAgICAgICAgIGV4cHIucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfTmV3LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJuZXdcIik7XG4gICAgICAgIG91dHB1dC5zcGFjZSgpO1xuICAgICAgICBBU1RfQ2FsbC5wcm90b3R5cGUuX2NvZGVnZW4oc2VsZiwgb3V0cHV0KTtcbiAgICB9KTtcblxuICAgIEFTVF9TZXEuREVGTUVUSE9EKFwiX2RvX3ByaW50XCIsIGZ1bmN0aW9uKG91dHB1dCl7XG4gICAgICAgIHRoaXMuY2FyLnByaW50KG91dHB1dCk7XG4gICAgICAgIGlmICh0aGlzLmNkcikge1xuICAgICAgICAgICAgb3V0cHV0LmNvbW1hKCk7XG4gICAgICAgICAgICBpZiAob3V0cHV0LnNob3VsZF9icmVhaygpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNkci5wcmludChvdXRwdXQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1NlcSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5fZG9fcHJpbnQob3V0cHV0KTtcbiAgICAgICAgLy8gdmFyIHAgPSBvdXRwdXQucGFyZW50KCk7XG4gICAgICAgIC8vIGlmIChwIGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudCkge1xuICAgICAgICAvLyAgICAgb3V0cHV0LndpdGhfaW5kZW50KG91dHB1dC5uZXh0X2luZGVudCgpLCBmdW5jdGlvbigpe1xuICAgICAgICAvLyAgICAgICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCk7XG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIHNlbGYuX2RvX3ByaW50KG91dHB1dCk7XG4gICAgICAgIC8vIH1cbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfRG90LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICB2YXIgZXhwciA9IHNlbGYuZXhwcmVzc2lvbjtcbiAgICAgICAgZXhwci5wcmludChvdXRwdXQpO1xuICAgICAgICBpZiAoZXhwciBpbnN0YW5jZW9mIEFTVF9OdW1iZXIgJiYgZXhwci5nZXRWYWx1ZSgpID49IDApIHtcbiAgICAgICAgICAgIGlmICghL1t4YS1mLl0vaS50ZXN0KG91dHB1dC5sYXN0KCkpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQucHJpbnQoXCIuXCIpO1xuICAgICAgICAvLyB0aGUgbmFtZSBhZnRlciBkb3Qgd291bGQgYmUgbWFwcGVkIGFib3V0IGhlcmUuXG4gICAgICAgIG91dHB1dC5hZGRfbWFwcGluZyhzZWxmLmVuZCk7XG4gICAgICAgIG91dHB1dC5wcmludF9uYW1lKHNlbGYucHJvcGVydHkpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9TdWIsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIHNlbGYuZXhwcmVzc2lvbi5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJbXCIpO1xuICAgICAgICBzZWxmLnByb3BlcnR5LnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5wcmludChcIl1cIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1VuYXJ5UHJlZml4LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICB2YXIgb3AgPSBzZWxmLm9wZXJhdG9yO1xuICAgICAgICBvdXRwdXQucHJpbnQob3ApO1xuICAgICAgICBpZiAoL15bYS16XS9pLnRlc3Qob3ApXG4gICAgICAgICAgICB8fCAoL1srLV0kLy50ZXN0KG9wKVxuICAgICAgICAgICAgICAgICYmIHNlbGYuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9VbmFyeVByZWZpeFxuICAgICAgICAgICAgICAgICYmIC9eWystXS8udGVzdChzZWxmLmV4cHJlc3Npb24ub3BlcmF0b3IpKSkge1xuICAgICAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5leHByZXNzaW9uLnByaW50KG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1VuYXJ5UG9zdGZpeCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgc2VsZi5leHByZXNzaW9uLnByaW50KG91dHB1dCk7XG4gICAgICAgIG91dHB1dC5wcmludChzZWxmLm9wZXJhdG9yKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfQmluYXJ5LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLmxlZnQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIG91dHB1dC5wcmludChzZWxmLm9wZXJhdG9yKTtcbiAgICAgICAgaWYgKHNlbGYub3BlcmF0b3IgPT0gXCI8XCJcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXhcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQub3BlcmF0b3IgPT0gXCIhXCJcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9VbmFyeVByZWZpeFxuICAgICAgICAgICAgJiYgc2VsZi5yaWdodC5leHByZXNzaW9uLm9wZXJhdG9yID09IFwiLS1cIikge1xuICAgICAgICAgICAgLy8gc3BhY2UgaXMgbWFuZGF0b3J5IHRvIGF2b2lkIG91dHB1dHRpbmcgPCEtLVxuICAgICAgICAgICAgLy8gaHR0cDovL2phdmFzY3JpcHQuc3BlYy53aGF0d2cub3JnLyNjb21tZW50LXN5bnRheFxuICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiIFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoZSBzcGFjZSBpcyBvcHRpb25hbCBkZXBlbmRpbmcgb24gXCJiZWF1dGlmeVwiXG4gICAgICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnJpZ2h0LnByaW50KG91dHB1dCk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX0NvbmRpdGlvbmFsLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBzZWxmLmNvbmRpdGlvbi5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiP1wiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYuY29uc2VxdWVudC5wcmludChvdXRwdXQpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgb3V0cHV0LmNvbG9uKCk7XG4gICAgICAgIHNlbGYuYWx0ZXJuYXRpdmUucHJpbnQob3V0cHV0KTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBsaXRlcmFscyBdLS0tLS0gKi9cbiAgICBERUZQUklOVChBU1RfQXJyYXksIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC53aXRoX3NxdWFyZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGEgPSBzZWxmLmVsZW1lbnRzLCBsZW4gPSBhLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZW4gPiAwKSBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIGEuZm9yRWFjaChmdW5jdGlvbihleHAsIGkpe1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXRwdXQuY29tbWEoKTtcbiAgICAgICAgICAgICAgICBleHAucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZmluYWwgZWxlbWVudCBpcyBhIGhvbGUsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGl0XG4gICAgICAgICAgICAgICAgLy8gZG9lc24ndCBsb29rIGxpa2UgYSB0cmFpbGluZyBjb21tYSwgYnkgaW5zZXJ0aW5nIGFuIGFjdHVhbFxuICAgICAgICAgICAgICAgIC8vIHRyYWlsaW5nIGNvbW1hLlxuICAgICAgICAgICAgICAgIGlmIChpID09PSBsZW4gLSAxICYmIGV4cCBpbnN0YW5jZW9mIEFTVF9Ib2xlKVxuICAgICAgICAgICAgICAgICAgb3V0cHV0LmNvbW1hKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChsZW4gPiAwKSBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX09iamVjdCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgaWYgKHNlbGYucHJvcGVydGllcy5sZW5ndGggPiAwKSBvdXRwdXQud2l0aF9ibG9jayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcCwgaSl7XG4gICAgICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnByaW50KFwiLFwiKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgICAgIHByb3AucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb3V0cHV0Lm5ld2xpbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsc2Ugb3V0cHV0LnByaW50KFwie31cIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX09iamVjdEtleVZhbCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgdmFyIGtleSA9IHNlbGYua2V5O1xuICAgICAgICBpZiAob3V0cHV0Lm9wdGlvbihcInF1b3RlX2tleXNcIikpIHtcbiAgICAgICAgICAgIG91dHB1dC5wcmludF9zdHJpbmcoa2V5ICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBrZXkgPT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICB8fCAhb3V0cHV0Lm9wdGlvbihcImJlYXV0aWZ5XCIpXG4gICAgICAgICAgICAgICAgICAgICYmICtrZXkgKyBcIlwiID09IGtleSlcbiAgICAgICAgICAgICAgICAgICAmJiBwYXJzZUZsb2F0KGtleSkgPj0gMCkge1xuICAgICAgICAgICAgb3V0cHV0LnByaW50KG1ha2VfbnVtKGtleSkpO1xuICAgICAgICB9IGVsc2UgaWYgKFJFU0VSVkVEX1dPUkRTKGtleSkgPyBvdXRwdXQub3B0aW9uKFwic2NyZXdfaWU4XCIpIDogaXNfaWRlbnRpZmllcl9zdHJpbmcoa2V5KSkge1xuICAgICAgICAgICAgb3V0cHV0LnByaW50X25hbWUoa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dC5wcmludF9zdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQuY29sb24oKTtcbiAgICAgICAgc2VsZi52YWx1ZS5wcmludChvdXRwdXQpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9PYmplY3RTZXR0ZXIsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcInNldFwiKTtcbiAgICAgICAgb3V0cHV0LnNwYWNlKCk7XG4gICAgICAgIHNlbGYua2V5LnByaW50KG91dHB1dCk7XG4gICAgICAgIHNlbGYudmFsdWUuX2RvX3ByaW50KG91dHB1dCwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX09iamVjdEdldHRlciwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiZ2V0XCIpO1xuICAgICAgICBvdXRwdXQuc3BhY2UoKTtcbiAgICAgICAgc2VsZi5rZXkucHJpbnQob3V0cHV0KTtcbiAgICAgICAgc2VsZi52YWx1ZS5fZG9fcHJpbnQob3V0cHV0LCB0cnVlKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfU3ltYm9sLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICB2YXIgZGVmID0gc2VsZi5kZWZpbml0aW9uKCk7XG4gICAgICAgIG91dHB1dC5wcmludF9uYW1lKGRlZiA/IGRlZi5tYW5nbGVkX25hbWUgfHwgZGVmLm5hbWUgOiBzZWxmLm5hbWUpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9VbmRlZmluZWQsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChcInZvaWQgMFwiKTtcbiAgICB9KTtcbiAgICBERUZQUklOVChBU1RfSG9sZSwgbm9vcCk7XG4gICAgREVGUFJJTlQoQVNUX0luZmluaXR5LCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCIxLzBcIik7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX05hTiwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KFwiMC8wXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9UaGlzLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICBvdXRwdXQucHJpbnQoXCJ0aGlzXCIpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9Db25zdGFudCwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50KHNlbGYuZ2V0VmFsdWUoKSk7XG4gICAgfSk7XG4gICAgREVGUFJJTlQoQVNUX1N0cmluZywgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LnByaW50X3N0cmluZyhzZWxmLmdldFZhbHVlKCkpO1xuICAgIH0pO1xuICAgIERFRlBSSU5UKEFTVF9OdW1iZXIsIGZ1bmN0aW9uKHNlbGYsIG91dHB1dCl7XG4gICAgICAgIG91dHB1dC5wcmludChtYWtlX251bShzZWxmLmdldFZhbHVlKCkpKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlZ2V4cF9zYWZlX2xpdGVyYWwoY29kZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMHg1YyAgICwgLy8gXFxcbiAgICAgICAgICAgIDB4MmYgICAsIC8vIC9cbiAgICAgICAgICAgIDB4MmUgICAsIC8vIC5cbiAgICAgICAgICAgIDB4MmIgICAsIC8vICtcbiAgICAgICAgICAgIDB4MmEgICAsIC8vICpcbiAgICAgICAgICAgIDB4M2YgICAsIC8vID9cbiAgICAgICAgICAgIDB4MjggICAsIC8vIChcbiAgICAgICAgICAgIDB4MjkgICAsIC8vIClcbiAgICAgICAgICAgIDB4NWIgICAsIC8vIFtcbiAgICAgICAgICAgIDB4NWQgICAsIC8vIF1cbiAgICAgICAgICAgIDB4N2IgICAsIC8vIHtcbiAgICAgICAgICAgIDB4N2QgICAsIC8vIH1cbiAgICAgICAgICAgIDB4MjQgICAsIC8vICRcbiAgICAgICAgICAgIDB4NWUgICAsIC8vIF5cbiAgICAgICAgICAgIDB4M2EgICAsIC8vIDpcbiAgICAgICAgICAgIDB4N2MgICAsIC8vIHxcbiAgICAgICAgICAgIDB4MjEgICAsIC8vICFcbiAgICAgICAgICAgIDB4MGEgICAsIC8vIFxcblxuICAgICAgICAgICAgMHgwZCAgICwgLy8gXFxyXG4gICAgICAgICAgICAweDAwICAgLCAvLyBcXDBcbiAgICAgICAgICAgIDB4ZmVmZiAsIC8vIFVuaWNvZGUgQk9NXG4gICAgICAgICAgICAweDIwMjggLCAvLyB1bmljb2RlIFwibGluZSBzZXBhcmF0b3JcIlxuICAgICAgICAgICAgMHgyMDI5ICwgLy8gdW5pY29kZSBcInBhcmFncmFwaCBzZXBhcmF0b3JcIlxuICAgICAgICBdLmluZGV4T2YoY29kZSkgPCAwO1xuICAgIH07XG5cbiAgICBERUZQUklOVChBU1RfUmVnRXhwLCBmdW5jdGlvbihzZWxmLCBvdXRwdXQpe1xuICAgICAgICB2YXIgc3RyID0gc2VsZi5nZXRWYWx1ZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChvdXRwdXQub3B0aW9uKFwiYXNjaWlfb25seVwiKSkge1xuICAgICAgICAgICAgc3RyID0gb3V0cHV0LnRvX2FzY2lpKHN0cik7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0cHV0Lm9wdGlvbihcInVuZXNjYXBlX3JlZ2V4cHNcIikpIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdChcIlxcXFxcXFxcXCIpLm1hcChmdW5jdGlvbihzdHIpe1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxcXHVbMC05YS1mQS1GXXs0fXxcXFxceFswLTlhLWZBLUZdezJ9L2csIGZ1bmN0aW9uKHMpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhcnNlSW50KHMuc3Vic3RyKDIpLCAxNik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdleHBfc2FmZV9saXRlcmFsKGNvZGUpID8gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSA6IHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS5qb2luKFwiXFxcXFxcXFxcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnByaW50KHN0cik7XG4gICAgICAgIHZhciBwID0gb3V0cHV0LnBhcmVudCgpO1xuICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgL15pbi8udGVzdChwLm9wZXJhdG9yKSAmJiBwLmxlZnQgPT09IHNlbGYpXG4gICAgICAgICAgICBvdXRwdXQucHJpbnQoXCIgXCIpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZm9yY2Vfc3RhdGVtZW50KHN0YXQsIG91dHB1dCkge1xuICAgICAgICBpZiAob3V0cHV0Lm9wdGlvbihcImJyYWNrZXRpemVcIikpIHtcbiAgICAgICAgICAgIGlmICghc3RhdCB8fCBzdGF0IGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KVxuICAgICAgICAgICAgICAgIG91dHB1dC5wcmludChcInt9XCIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudClcbiAgICAgICAgICAgICAgICBzdGF0LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICBlbHNlIG91dHB1dC53aXRoX2Jsb2NrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmluZGVudCgpO1xuICAgICAgICAgICAgICAgIHN0YXQucHJpbnQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXN0YXQgfHwgc3RhdCBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudClcbiAgICAgICAgICAgICAgICBvdXRwdXQuZm9yY2Vfc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc3RhdC5wcmludChvdXRwdXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHJldHVybiB0cnVlIGlmIHRoZSBub2RlIGF0IHRoZSB0b3Agb2YgdGhlIHN0YWNrICh0aGF0IG1lYW5zIHRoZVxuICAgIC8vIGlubmVybW9zdCBub2RlIGluIHRoZSBjdXJyZW50IG91dHB1dCkgaXMgbGV4aWNhbGx5IHRoZSBmaXJzdCBpblxuICAgIC8vIGEgc3RhdGVtZW50LlxuICAgIGZ1bmN0aW9uIGZpcnN0X2luX3N0YXRlbWVudChvdXRwdXQpIHtcbiAgICAgICAgdmFyIGEgPSBvdXRwdXQuc3RhY2soKSwgaSA9IGEubGVuZ3RoLCBub2RlID0gYVstLWldLCBwID0gYVstLWldO1xuICAgICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX1N0YXRlbWVudCAmJiBwLmJvZHkgPT09IG5vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAoKHAgaW5zdGFuY2VvZiBBU1RfU2VxICAgICAgICAgICAmJiBwLmNhciA9PT0gbm9kZSAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX0NhbGwgICAgICAgICAgJiYgcC5leHByZXNzaW9uID09PSBub2RlICYmICEocCBpbnN0YW5jZW9mIEFTVF9OZXcpICkgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9Eb3QgICAgICAgICAgICYmIHAuZXhwcmVzc2lvbiA9PT0gbm9kZSApIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfU3ViICAgICAgICAgICAmJiBwLmV4cHJlc3Npb24gPT09IG5vZGUgKSB8fFxuICAgICAgICAgICAgICAgIChwIGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsICAgJiYgcC5jb25kaXRpb24gPT09IG5vZGUgICkgfHxcbiAgICAgICAgICAgICAgICAocCBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgICAgICAgICYmIHAubGVmdCA9PT0gbm9kZSAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgKHAgaW5zdGFuY2VvZiBBU1RfVW5hcnlQb3N0Zml4ICAmJiBwLmV4cHJlc3Npb24gPT09IG5vZGUgKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcDtcbiAgICAgICAgICAgICAgICBwID0gYVstLWldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc2VsZiBzaG91bGQgYmUgQVNUX05ldy4gIGRlY2lkZSBpZiB3ZSB3YW50IHRvIHNob3cgcGFyZW5zIG9yIG5vdC5cbiAgICBmdW5jdGlvbiBub19jb25zdHJ1Y3Rvcl9wYXJlbnMoc2VsZiwgb3V0cHV0KSB7XG4gICAgICAgIHJldHVybiBzZWxmLmFyZ3MubGVuZ3RoID09IDAgJiYgIW91dHB1dC5vcHRpb24oXCJiZWF1dGlmeVwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYmVzdF9vZihhKSB7XG4gICAgICAgIHZhciBiZXN0ID0gYVswXSwgbGVuID0gYmVzdC5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0ubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgYmVzdCA9IGFbaV07XG4gICAgICAgICAgICAgICAgbGVuID0gYmVzdC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3Q7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2VfbnVtKG51bSkge1xuICAgICAgICB2YXIgc3RyID0gbnVtLnRvU3RyaW5nKDEwKSwgYSA9IFsgc3RyLnJlcGxhY2UoL14wXFwuLywgXCIuXCIpLnJlcGxhY2UoJ2UrJywgJ2UnKSBdLCBtO1xuICAgICAgICBpZiAoTWF0aC5mbG9vcihudW0pID09PSBudW0pIHtcbiAgICAgICAgICAgIGlmIChudW0gPj0gMCkge1xuICAgICAgICAgICAgICAgIGEucHVzaChcIjB4XCIgKyBudW0udG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCksIC8vIHByb2JhYmx5IHBvaW50bGVzc1xuICAgICAgICAgICAgICAgICAgICAgICBcIjBcIiArIG51bS50b1N0cmluZyg4KSk7IC8vIHNhbWUuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGEucHVzaChcIi0weFwiICsgKC1udW0pLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpLCAvLyBwcm9iYWJseSBwb2ludGxlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgXCItMFwiICsgKC1udW0pLnRvU3RyaW5nKDgpKTsgLy8gc2FtZS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobSA9IC9eKC4qPykoMCspJC8uZXhlYyhudW0pKSkge1xuICAgICAgICAgICAgICAgIGEucHVzaChtWzFdICsgXCJlXCIgKyBtWzJdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoKG0gPSAvXjA/XFwuKDArKSguKikkLy5leGVjKG51bSkpKSB7XG4gICAgICAgICAgICBhLnB1c2gobVsyXSArIFwiZS1cIiArIChtWzFdLmxlbmd0aCArIG1bMl0ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICBzdHIuc3Vic3RyKHN0ci5pbmRleE9mKFwiLlwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0X29mKGEpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYWtlX2Jsb2NrKHN0bXQsIG91dHB1dCkge1xuICAgICAgICBpZiAoc3RtdCBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCkge1xuICAgICAgICAgICAgc3RtdC5wcmludChvdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC53aXRoX2Jsb2NrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBvdXRwdXQuaW5kZW50KCk7XG4gICAgICAgICAgICBzdG10LnByaW50KG91dHB1dCk7XG4gICAgICAgICAgICBvdXRwdXQubmV3bGluZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogLS0tLS1bIHNvdXJjZSBtYXAgZ2VuZXJhdG9ycyBdLS0tLS0gKi9cblxuICAgIGZ1bmN0aW9uIERFRk1BUChub2RldHlwZSwgZ2VuZXJhdG9yKSB7XG4gICAgICAgIG5vZGV0eXBlLkRFRk1FVEhPRChcImFkZF9zb3VyY2VfbWFwXCIsIGZ1bmN0aW9uKHN0cmVhbSl7XG4gICAgICAgICAgICBnZW5lcmF0b3IodGhpcywgc3RyZWFtKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFdlIGNvdWxkIGVhc2lseSBhZGQgaW5mbyBmb3IgQUxMIG5vZGVzLCBidXQgaXQgc2VlbXMgdG8gbWUgdGhhdFxuICAgIC8vIHdvdWxkIGJlIHF1aXRlIHdhc3RlZnVsLCBoZW5jZSB0aGlzIG5vb3AgaW4gdGhlIGJhc2UgY2xhc3MuXG4gICAgREVGTUFQKEFTVF9Ob2RlLCBub29wKTtcblxuICAgIGZ1bmN0aW9uIGJhc2ljX3NvdXJjZW1hcF9nZW4oc2VsZiwgb3V0cHV0KSB7XG4gICAgICAgIG91dHB1dC5hZGRfbWFwcGluZyhzZWxmLnN0YXJ0KTtcbiAgICB9O1xuXG4gICAgLy8gWFhYOiBJJ20gbm90IGV4YWN0bHkgc3VyZSBpZiB3ZSBuZWVkIGl0IGZvciBhbGwgb2YgdGhlc2Ugbm9kZXMsXG4gICAgLy8gb3IgaWYgd2Ugc2hvdWxkIGFkZCBldmVuIG1vcmUuXG5cbiAgICBERUZNQVAoQVNUX0RpcmVjdGl2ZSwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9EZWJ1Z2dlciwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9TeW1ib2wsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfSnVtcCwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9TdGF0ZW1lbnRXaXRoQm9keSwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9MYWJlbGVkU3RhdGVtZW50LCBub29wKTsgLy8gc2luY2UgdGhlIGxhYmVsIHN5bWJvbCB3aWxsIG1hcmsgaXRcbiAgICBERUZNQVAoQVNUX0xhbWJkYSwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9Td2l0Y2gsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfU3dpdGNoQnJhbmNoLCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX0Jsb2NrU3RhdGVtZW50LCBiYXNpY19zb3VyY2VtYXBfZ2VuKTtcbiAgICBERUZNQVAoQVNUX1RvcGxldmVsLCBub29wKTtcbiAgICBERUZNQVAoQVNUX05ldywgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9UcnksIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfQ2F0Y2gsIGJhc2ljX3NvdXJjZW1hcF9nZW4pO1xuICAgIERFRk1BUChBU1RfRmluYWxseSwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9EZWZpbml0aW9ucywgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9Db25zdGFudCwgYmFzaWNfc291cmNlbWFwX2dlbik7XG4gICAgREVGTUFQKEFTVF9PYmplY3RQcm9wZXJ0eSwgZnVuY3Rpb24oc2VsZiwgb3V0cHV0KXtcbiAgICAgICAgb3V0cHV0LmFkZF9tYXBwaW5nKHNlbGYuc3RhcnQsIHNlbGYua2V5KTtcbiAgICB9KTtcblxufSkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gQ29tcHJlc3NvcihvcHRpb25zLCBmYWxzZV9ieV9kZWZhdWx0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvbXByZXNzb3IpKVxuICAgICAgICByZXR1cm4gbmV3IENvbXByZXNzb3Iob3B0aW9ucywgZmFsc2VfYnlfZGVmYXVsdCk7XG4gICAgVHJlZVRyYW5zZm9ybWVyLmNhbGwodGhpcywgdGhpcy5iZWZvcmUsIHRoaXMuYWZ0ZXIpO1xuICAgIHRoaXMub3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgc2VxdWVuY2VzICAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBwcm9wZXJ0aWVzICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGRlYWRfY29kZSAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgZHJvcF9kZWJ1Z2dlciA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICB1bnNhZmUgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVuc2FmZV9jb21wcyAgOiBmYWxzZSxcbiAgICAgICAgY29uZGl0aW9uYWxzICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBjb21wYXJpc29ucyAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGV2YWx1YXRlICAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgYm9vbGVhbnMgICAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBsb29wcyAgICAgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIHVudXNlZCAgICAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgaG9pc3RfZnVucyAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBrZWVwX2ZhcmdzICAgIDogZmFsc2UsXG4gICAgICAgIGhvaXN0X3ZhcnMgICAgOiBmYWxzZSxcbiAgICAgICAgaWZfcmV0dXJuICAgICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBqb2luX3ZhcnMgICAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIGNhc2NhZGUgICAgICAgOiAhZmFsc2VfYnlfZGVmYXVsdCxcbiAgICAgICAgc2lkZV9lZmZlY3RzICA6ICFmYWxzZV9ieV9kZWZhdWx0LFxuICAgICAgICBwdXJlX2dldHRlcnMgIDogZmFsc2UsXG4gICAgICAgIHB1cmVfZnVuY3MgICAgOiBudWxsLFxuICAgICAgICBuZWdhdGVfaWlmZSAgIDogIWZhbHNlX2J5X2RlZmF1bHQsXG4gICAgICAgIHNjcmV3X2llOCAgICAgOiBmYWxzZSxcbiAgICAgICAgZHJvcF9jb25zb2xlICA6IGZhbHNlLFxuICAgICAgICBhbmd1bGFyICAgICAgIDogZmFsc2UsXG5cbiAgICAgICAgd2FybmluZ3MgICAgICA6IHRydWUsXG4gICAgICAgIGdsb2JhbF9kZWZzICAgOiB7fVxuICAgIH0sIHRydWUpO1xufTtcblxuQ29tcHJlc3Nvci5wcm90b3R5cGUgPSBuZXcgVHJlZVRyYW5zZm9ybWVyO1xubWVyZ2UoQ29tcHJlc3Nvci5wcm90b3R5cGUsIHtcbiAgICBvcHRpb246IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdGhpcy5vcHRpb25zW2tleV0gfSxcbiAgICB3YXJuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53YXJuaW5ncylcbiAgICAgICAgICAgIEFTVF9Ob2RlLndhcm4uYXBwbHkoQVNUX05vZGUsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBiZWZvcmU6IGZ1bmN0aW9uKG5vZGUsIGRlc2NlbmQsIGluX2xpc3QpIHtcbiAgICAgICAgaWYgKG5vZGUuX3NxdWVlemVkKSByZXR1cm4gbm9kZTtcbiAgICAgICAgdmFyIHdhc19zY29wZSA9IGZhbHNlO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuaG9pc3RfZGVjbGFyYXRpb25zKHRoaXMpO1xuICAgICAgICAgICAgd2FzX3Njb3BlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBkZXNjZW5kKG5vZGUsIHRoaXMpO1xuICAgICAgICBub2RlID0gbm9kZS5vcHRpbWl6ZSh0aGlzKTtcbiAgICAgICAgaWYgKHdhc19zY29wZSAmJiBub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlKSB7XG4gICAgICAgICAgICBub2RlLmRyb3BfdW51c2VkKHRoaXMpO1xuICAgICAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLl9zcXVlZXplZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn0pO1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIGZ1bmN0aW9uIE9QVChub2RlLCBvcHRpbWl6ZXIpIHtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJvcHRpbWl6ZVwiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmIChzZWxmLl9vcHRpbWl6ZWQpIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgdmFyIG9wdCA9IG9wdGltaXplcihzZWxmLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIG9wdC5fb3B0aW1pemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHQgPT09IHNlbGYpIHJldHVybiBvcHQ7XG4gICAgICAgICAgICByZXR1cm4gb3B0LnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIE9QVChBU1RfTm9kZSwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgQVNUX05vZGUuREVGTUVUSE9EKFwiZXF1aXZhbGVudF90b1wiLCBmdW5jdGlvbihub2RlKXtcbiAgICAgICAgLy8gWFhYOiB0aGlzIGlzIGEgcmF0aGVyIGV4cGVuc2l2ZSB3YXkgdG8gdGVzdCB0d28gbm9kZSdzIGVxdWl2YWxlbmNlOlxuICAgICAgICByZXR1cm4gdGhpcy5wcmludF90b19zdHJpbmcoKSA9PSBub2RlLnByaW50X3RvX3N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbWFrZV9ub2RlKGN0b3IsIG9yaWcsIHByb3BzKSB7XG4gICAgICAgIGlmICghcHJvcHMpIHByb3BzID0ge307XG4gICAgICAgIGlmIChvcmlnKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BzLnN0YXJ0KSBwcm9wcy5zdGFydCA9IG9yaWcuc3RhcnQ7XG4gICAgICAgICAgICBpZiAoIXByb3BzLmVuZCkgcHJvcHMuZW5kID0gb3JpZy5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHByb3BzKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZV9ub2RlX2Zyb21fY29uc3RhbnQoY29tcHJlc3NvciwgdmFsLCBvcmlnKSB7XG4gICAgICAgIC8vIFhYWDogV0lQLlxuICAgICAgICAvLyBpZiAodmFsIGluc3RhbmNlb2YgQVNUX05vZGUpIHJldHVybiB2YWwudHJhbnNmb3JtKG5ldyBUcmVlVHJhbnNmb3JtZXIobnVsbCwgZnVuY3Rpb24obm9kZSl7XG4gICAgICAgIC8vICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpIHtcbiAgICAgICAgLy8gICAgICAgICB2YXIgc2NvcGUgPSBjb21wcmVzc29yLmZpbmRfcGFyZW50KEFTVF9TY29wZSk7XG4gICAgICAgIC8vICAgICAgICAgdmFyIGRlZiA9IHNjb3BlLmZpbmRfdmFyaWFibGUobm9kZSk7XG4gICAgICAgIC8vICAgICAgICAgbm9kZS50aGVkZWYgPSBkZWY7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pKS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG5cbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFTVF9Ob2RlKSByZXR1cm4gdmFsLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsKSB7XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBvcmlnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgICAgICAgfSkub3B0aW1pemUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShpc05hTih2YWwpID8gQVNUX05hTiA6IEFTVF9OdW1iZXIsIG9yaWcsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsXG4gICAgICAgICAgICB9KS5vcHRpbWl6ZShjb21wcmVzc29yKTtcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZSh2YWwgPyBBU1RfVHJ1ZSA6IEFTVF9GYWxzZSwgb3JpZykub3B0aW1pemUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBvcmlnKS5vcHRpbWl6ZShjb21wcmVzc29yKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX051bGwsIG9yaWcpLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1JlZ0V4cCwgb3JpZykub3B0aW1pemUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyaW5nX3RlbXBsYXRlKFwiQ2FuJ3QgaGFuZGxlIGNvbnN0YW50IG9mIHR5cGU6IHt0eXBlfVwiLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZW9mIHZhbFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFzX3N0YXRlbWVudF9hcnJheSh0aGluZykge1xuICAgICAgICBpZiAodGhpbmcgPT09IG51bGwpIHJldHVybiBbXTtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50KSByZXR1cm4gdGhpbmcuYm9keTtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgQVNUX0VtcHR5U3RhdGVtZW50KSByZXR1cm4gW107XG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQpIHJldHVybiBbIHRoaW5nIF07XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnZlcnQgdGhpbmcgdG8gc3RhdGVtZW50IGFycmF5XCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc19lbXB0eSh0aGluZykge1xuICAgICAgICBpZiAodGhpbmcgPT09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBBU1RfRW1wdHlTdGF0ZW1lbnQpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpIHJldHVybiB0aGluZy5ib2R5Lmxlbmd0aCA9PSAwO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvb3BfYm9keSh4KSB7XG4gICAgICAgIGlmICh4IGluc3RhbmNlb2YgQVNUX1N3aXRjaCkgcmV0dXJuIHg7XG4gICAgICAgIGlmICh4IGluc3RhbmNlb2YgQVNUX0ZvciB8fCB4IGluc3RhbmNlb2YgQVNUX0ZvckluIHx8IHggaW5zdGFuY2VvZiBBU1RfRFdMb29wKSB7XG4gICAgICAgICAgICByZXR1cm4gKHguYm9keSBpbnN0YW5jZW9mIEFTVF9CbG9ja1N0YXRlbWVudCA/IHguYm9keSA6IHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB0aWdodGVuX2JvZHkoc3RhdGVtZW50cywgY29tcHJlc3Nvcikge1xuICAgICAgICB2YXIgQ0hBTkdFRDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgQ0hBTkdFRCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYW5ndWxhclwiKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMgPSBwcm9jZXNzX2Zvcl9hbmd1bGFyKHN0YXRlbWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGVtZW50cyA9IGVsaW1pbmF0ZV9zcHVyaW91c19ibG9ja3Moc3RhdGVtZW50cyk7XG4gICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkZWFkX2NvZGVcIikpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZW1lbnRzID0gZWxpbWluYXRlX2RlYWRfY29kZShzdGF0ZW1lbnRzLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImlmX3JldHVyblwiKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMgPSBoYW5kbGVfaWZfcmV0dXJuKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2VxdWVuY2VzXCIpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50cyA9IHNlcXVlbmNlc2l6ZShzdGF0ZW1lbnRzLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImpvaW5fdmFyc1wiKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlbWVudHMgPSBqb2luX2NvbnNlY3V0aXZlX3ZhcnMoc3RhdGVtZW50cywgY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKENIQU5HRUQpO1xuXG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcIm5lZ2F0ZV9paWZlXCIpKSB7XG4gICAgICAgICAgICBuZWdhdGVfaWlmZXMoc3RhdGVtZW50cywgY29tcHJlc3Nvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdGVtZW50cztcblxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzX2Zvcl9hbmd1bGFyKHN0YXRlbWVudHMpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1ha2VfaW5qZWN0b3IoZnVuYywgbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgZnVuYywge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBtYWtlX25vZGUoQVNUX0Fzc2lnbiwgZnVuYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiPVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbWFrZV9ub2RlKEFTVF9Eb3QsIG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBtYWtlX25vZGUoQVNUX1N5bWJvbFJlZiwgbmFtZSwgbmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IFwiJGluamVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBtYWtlX25vZGUoQVNUX0FycmF5LCBmdW5jLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IGZ1bmMuYXJnbmFtZXMubWFwKGZ1bmN0aW9uKHN5bSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1N0cmluZywgc3ltLCB7IHZhbHVlOiBzeW0ubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnRzLnJlZHVjZShmdW5jdGlvbihhLCBzdGF0KXtcbiAgICAgICAgICAgICAgICBhLnB1c2goc3RhdCk7XG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gc3RhdC5zdGFydDtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudHMgPSB0b2tlbi5jb21tZW50c19iZWZvcmU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRzICYmIGNvbW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3QgPSBjb21tZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9AbmdJbmplY3QvLnRlc3QobGFzdC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhc2UgMTogZGVmdW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0RlZnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKG1ha2VfaW5qZWN0b3Ioc3RhdCwgc3RhdC5uYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGRlZil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYudmFsdWUgJiYgZGVmLnZhbHVlIGluc3RhbmNlb2YgQVNUX0xhbWJkYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKG1ha2VfaW5qZWN0b3IoZGVmLnZhbHVlLCBkZWYubmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJVbmtub3duIHN0YXRlbWVudCBtYXJrZWQgd2l0aCBAbmdJbmplY3QgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGVsaW1pbmF0ZV9zcHVyaW91c19ibG9ja3Moc3RhdGVtZW50cykge1xuICAgICAgICAgICAgdmFyIHNlZW5fZGlycyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGEsIHN0YXQpe1xuICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2guYXBwbHkoYSwgZWxpbWluYXRlX3NwdXJpb3VzX2Jsb2NrcyhzdGF0LmJvZHkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfRW1wdHlTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0RpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vlbl9kaXJzLmluZGV4T2Yoc3RhdC52YWx1ZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLnB1c2goc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuX2RpcnMucHVzaChzdGF0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVfaWZfcmV0dXJuKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gY29tcHJlc3Nvci5zZWxmKCk7XG4gICAgICAgICAgICB2YXIgaW5fbGFtYmRhID0gc2VsZiBpbnN0YW5jZW9mIEFTVF9MYW1iZGE7XG4gICAgICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgICAgICBsb29wOiBmb3IgKHZhciBpID0gc3RhdGVtZW50cy5sZW5ndGg7IC0taSA+PSAwOykge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ID0gc3RhdGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgKGluX2xhbWJkYSAmJiBzdGF0IGluc3RhbmNlb2YgQVNUX1JldHVybiAmJiAhc3RhdC52YWx1ZSAmJiByZXQubGVuZ3RoID09IDApOlxuICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90ZSwgcmV0Lmxlbmd0aCBpcyBwcm9iYWJseSBhbHdheXMgemVyb1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGRyb3AgdW5yZWFjaGFibGUgY29kZSBiZWZvcmUgdGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGVwLiAgbmV2ZXJ0aGVsZXNzLCBpdCdzIGdvb2QgdG8gY2hlY2suXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICBjYXNlIHN0YXQgaW5zdGFuY2VvZiBBU1RfSWY6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0LmJvZHkgaW5zdGFuY2VvZiBBU1RfUmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLy0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldHR5IHNpbGx5IGNhc2UsIGJ1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChmb28oKSkgcmV0dXJuOyByZXR1cm47ID09PiBmb28oKTsgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoaW5fbGFtYmRhICYmIHJldC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHJldFswXSBpbnN0YW5jZW9mIEFTVF9SZXR1cm4gJiYgIXJldFswXS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXN0YXQuYm9keS52YWx1ZSAmJiAhc3RhdC5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25kID0gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHN0YXQuY29uZGl0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHN0YXQuY29uZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnVuc2hpZnQoY29uZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoZm9vKCkpIHJldHVybiB4OyByZXR1cm4geTsgPT0+IHJldHVybiBmb28oKSA/IHggOiB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldFswXSBpbnN0YW5jZW9mIEFTVF9SZXR1cm4gJiYgc3RhdC5ib2R5LnZhbHVlICYmIHJldFswXS52YWx1ZSAmJiAhc3RhdC5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQgPSBzdGF0LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5hbHRlcm5hdGl2ZSA9IHJldFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRbMF0gPSBzdGF0LnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8tLS1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChmb28oKSkgcmV0dXJuIHg7IFsgcmV0dXJuIDsgXSA9PT4gcmV0dXJuIGZvbygpID8geCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmV0Lmxlbmd0aCA9PSAwIHx8IHJldFswXSBpbnN0YW5jZW9mIEFTVF9SZXR1cm4pICYmIHN0YXQuYm9keS52YWx1ZSAmJiAhc3RhdC5hbHRlcm5hdGl2ZSAmJiBpbl9sYW1iZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ID0gc3RhdC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYWx0ZXJuYXRpdmUgPSByZXRbMF0gfHwgbWFrZV9ub2RlKEFTVF9SZXR1cm4sIHN0YXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBzdGF0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFswXSA9IHN0YXQudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLy0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGZvbygpKSByZXR1cm47IFsgZWxzZSB4Li4uIF07IHkuLi4gPT0+IGlmICghZm9vKCkpIHsgeC4uLjsgeS4uLiB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXQuYm9keS52YWx1ZSAmJiBpbl9sYW1iZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ID0gc3RhdC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuY29uZGl0aW9uID0gc3RhdC5jb25kaXRpb24ubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYm9keSA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHN0YXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYXNfc3RhdGVtZW50X2FycmF5KHN0YXQuYWx0ZXJuYXRpdmUpLmNvbmNhdChyZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5hbHRlcm5hdGl2ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gWyBzdGF0LnRyYW5zZm9ybShjb21wcmVzc29yKSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLy0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldC5sZW5ndGggPT0gMSAmJiBpbl9sYW1iZGEgJiYgcmV0WzBdIGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICghc3RhdC5hbHRlcm5hdGl2ZSB8fCBzdGF0LmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSEFOR0VEID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaChtYWtlX25vZGUoQVNUX1JldHVybiwgcmV0WzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgcmV0WzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gYXNfc3RhdGVtZW50X2FycmF5KHN0YXQuYWx0ZXJuYXRpdmUpLmNvbmNhdChyZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC51bnNoaWZ0KHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWIgPSBhYm9ydHMoc3RhdC5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxjdCA9IGFiIGluc3RhbmNlb2YgQVNUX0xvb3BDb250cm9sID8gY29tcHJlc3Nvci5sb29wY29udHJvbF90YXJnZXQoYWIubGFiZWwpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFiICYmICgoYWIgaW5zdGFuY2VvZiBBU1RfUmV0dXJuICYmICFhYi52YWx1ZSAmJiBpbl9sYW1iZGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGFiIGluc3RhbmNlb2YgQVNUX0NvbnRpbnVlICYmIHNlbGYgPT09IGxvb3BfYm9keShsY3QpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChhYiBpbnN0YW5jZW9mIEFTVF9CcmVhayAmJiBsY3QgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQgJiYgc2VsZiA9PT0gbGN0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShhYi5sYWJlbC50aGVkZWYucmVmZXJlbmNlcywgYWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgQ0hBTkdFRCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFzX3N0YXRlbWVudF9hcnJheShzdGF0LmJvZHkpLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQgPSBzdGF0LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmNvbmRpdGlvbiA9IHN0YXQuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYm9keSA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHN0YXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBhc19zdGF0ZW1lbnRfYXJyYXkoc3RhdC5hbHRlcm5hdGl2ZSkuY29uY2F0KHJldClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5hbHRlcm5hdGl2ZSA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHN0YXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IFsgc3RhdC50cmFuc2Zvcm0oY29tcHJlc3NvcikgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWIgPSBhYm9ydHMoc3RhdC5hbHRlcm5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsY3QgPSBhYiBpbnN0YW5jZW9mIEFTVF9Mb29wQ29udHJvbCA/IGNvbXByZXNzb3IubG9vcGNvbnRyb2xfdGFyZ2V0KGFiLmxhYmVsKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYiAmJiAoKGFiIGluc3RhbmNlb2YgQVNUX1JldHVybiAmJiAhYWIudmFsdWUgJiYgaW5fbGFtYmRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChhYiBpbnN0YW5jZW9mIEFTVF9Db250aW51ZSAmJiBzZWxmID09PSBsb29wX2JvZHkobGN0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoYWIgaW5zdGFuY2VvZiBBU1RfQnJlYWsgJiYgbGN0IGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50ICYmIHNlbGYgPT09IGxjdCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWIubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoYWIubGFiZWwudGhlZGVmLnJlZmVyZW5jZXMsIGFiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdCA9IHN0YXQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYm9keSA9IG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHN0YXQuYm9keSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGFzX3N0YXRlbWVudF9hcnJheShzdGF0LmJvZHkpLmNvbmNhdChyZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQuYWx0ZXJuYXRpdmUgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzdGF0LmFsdGVybmF0aXZlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYXNfc3RhdGVtZW50X2FycmF5KHN0YXQuYWx0ZXJuYXRpdmUpLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBbIHN0YXQudHJhbnNmb3JtKGNvbXByZXNzb3IpIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBsb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0LnVuc2hpZnQoc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0LnVuc2hpZnQoc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZWxpbWluYXRlX2RlYWRfY29kZShzdGF0ZW1lbnRzLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICB2YXIgaGFzX3F1aXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gc3RhdGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IGNvbXByZXNzb3Iuc2VsZigpO1xuICAgICAgICAgICAgc3RhdGVtZW50cyA9IHN0YXRlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGEsIHN0YXQpe1xuICAgICAgICAgICAgICAgIGlmIChoYXNfcXVpdCkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0X2RlY2xhcmF0aW9uc19mcm9tX3VucmVhY2hhYmxlX2NvZGUoY29tcHJlc3Nvciwgc3RhdCwgYSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfTG9vcENvbnRyb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsY3QgPSBjb21wcmVzc29yLmxvb3Bjb250cm9sX3RhcmdldChzdGF0LmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoc3RhdCBpbnN0YW5jZW9mIEFTVF9CcmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBsY3QgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgbG9vcF9ib2R5KGxjdCkgPT09IHNlbGYpIHx8IChzdGF0IGluc3RhbmNlb2YgQVNUX0NvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgbG9vcF9ib2R5KGxjdCkgPT09IHNlbGYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHN0YXQubGFiZWwudGhlZGVmLnJlZmVyZW5jZXMsIHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHN0YXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydHMoc3RhdCkpIGhhc19xdWl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICBDSEFOR0VEID0gc3RhdGVtZW50cy5sZW5ndGggIT0gb3JpZztcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZW1lbnRzO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNlcXVlbmNlc2l6ZShzdGF0ZW1lbnRzLCBjb21wcmVzc29yKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gc3RhdGVtZW50cztcbiAgICAgICAgICAgIHZhciBzZXEgPSBbXSwgcmV0ID0gW107XG4gICAgICAgICAgICBmdW5jdGlvbiBwdXNoX3NlcSgpIHtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoc2VxKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VxKSByZXQucHVzaChtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgc2VxLCB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHNlcVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBbXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oc3RhdCl7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50KSBzZXEucHVzaChzdGF0LmJvZHkpO1xuICAgICAgICAgICAgICAgIGVsc2UgcHVzaF9zZXEoKSwgcmV0LnB1c2goc3RhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHB1c2hfc2VxKCk7XG4gICAgICAgICAgICByZXQgPSBzZXF1ZW5jZXNpemVfMihyZXQsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgQ0hBTkdFRCA9IHJldC5sZW5ndGggIT0gc3RhdGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNlcXVlbmNlc2l6ZV8yKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbnNfc2VxKHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0LnBvcCgpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gcHJldi5ib2R5O1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0LmFkZChyaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IEFTVF9TZXEuY29ucyhsZWZ0LCByaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0LnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgcmV0ID0gW10sIHByZXYgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXQpe1xuICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0Zvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wZXJhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuYm9keS53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgbm9kZS5vcGVyYXRvciA9PSBcImluXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBvcGVyYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQuaW5pdCAmJiAhKHN0YXQuaW5pdCBpbnN0YW5jZW9mIEFTVF9EZWZpbml0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5pbml0ID0gY29uc19zZXEoc3RhdC5pbml0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXN0YXQuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmluaXQgPSBwcmV2LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4ICE9PSBvcGVyYSkgdGhyb3cgZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9JZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5jb25kaXRpb24gPSBjb25zX3NlcShzdGF0LmNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9XaXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmV4cHJlc3Npb24gPSBjb25zX3NlcShzdGF0LmV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfRXhpdCAmJiBzdGF0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LnZhbHVlID0gY29uc19zZXEoc3RhdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9FeGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LnZhbHVlID0gY29uc19zZXEobWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHN0YXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX1N3aXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5leHByZXNzaW9uID0gY29uc19zZXEoc3RhdC5leHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXQucHVzaChzdGF0KTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gc3RhdCBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQgPyBzdGF0IDogbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBqb2luX2NvbnNlY3V0aXZlX3ZhcnMoc3RhdGVtZW50cywgY29tcHJlc3Nvcikge1xuICAgICAgICAgICAgdmFyIHByZXYgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGEsIHN0YXQpe1xuICAgICAgICAgICAgICAgIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zICYmIHByZXYgJiYgcHJldi5UWVBFID09IHN0YXQuVFlQRSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2LmRlZmluaXRpb25zID0gcHJldi5kZWZpbml0aW9ucy5jb25jYXQoc3RhdC5kZWZpbml0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0IGluc3RhbmNlb2YgQVNUX0ZvclxuICAgICAgICAgICAgICAgICAgICAgICAgICYmIHByZXYgaW5zdGFuY2VvZiBBU1RfRGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoIXN0YXQuaW5pdCB8fCBzdGF0LmluaXQuVFlQRSA9PSBwcmV2LlRZUEUpKSB7XG4gICAgICAgICAgICAgICAgICAgIENIQU5HRUQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdC5pbml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0LmluaXQuZGVmaW5pdGlvbnMgPSBwcmV2LmRlZmluaXRpb25zLmNvbmNhdChzdGF0LmluaXQuZGVmaW5pdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdC5pbml0ID0gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhLnB1c2goc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBzdGF0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldiA9IHN0YXQ7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChzdGF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbmVnYXRlX2lpZmVzKHN0YXRlbWVudHMsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgICAgIHN0YXRlbWVudHMuZm9yRWFjaChmdW5jdGlvbihzdGF0KXtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdCBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdC5ib2R5ID0gKGZ1bmN0aW9uIHRyYW5zZm9ybSh0aGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaW5nLnRyYW5zZm9ybShuZXcgVHJlZVRyYW5zZm9ybWVyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0NhbGwgJiYgbm9kZS5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0NhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5leHByZXNzaW9uID0gdHJhbnNmb3JtKG5vZGUuZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2VxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY2FyID0gdHJhbnNmb3JtKG5vZGUuY2FyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Db25kaXRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHRyYW5zZm9ybShub2RlLmNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHByICE9PSBub2RlLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgaGFzIGJlZW4gbmVnYXRlZCwgcmV2ZXJzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb25kaXRpb24gPSBleHByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5vZGUuY29uc2VxdWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29uc2VxdWVudCA9IG5vZGUuYWx0ZXJuYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFsdGVybmF0aXZlID0gdG1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KShzdGF0LmJvZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RfZGVjbGFyYXRpb25zX2Zyb21fdW5yZWFjaGFibGVfY29kZShjb21wcmVzc29yLCBzdGF0LCB0YXJnZXQpIHtcbiAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRHJvcHBpbmcgdW5yZWFjaGFibGUgY29kZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc3RhdC5zdGFydCk7XG4gICAgICAgIHN0YXQud2FsayhuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRGVjbGFyYXRpb25zIGluIHVucmVhY2hhYmxlIGNvZGUhIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBub2RlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZV9pbml0aWFsaXplcnMoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZnVuKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcblxuICAgIC8qIC0tLS0tWyBib29sZWFuL25lZ2F0aW9uIGhlbHBlcnMgXS0tLS0tICovXG5cbiAgICAvLyBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGFuIGV4cHJlc3Npb24gaGFzIGEgYm9vbGVhbiByZXN1bHQgdHlwZVxuICAgIChmdW5jdGlvbiAoZGVmKXtcbiAgICAgICAgdmFyIHVuYXJ5X2Jvb2wgPSBbIFwiIVwiLCBcImRlbGV0ZVwiIF07XG4gICAgICAgIHZhciBiaW5hcnlfYm9vbCA9IFsgXCJpblwiLCBcImluc3RhbmNlb2ZcIiwgXCI9PVwiLCBcIiE9XCIsIFwiPT09XCIsIFwiIT09XCIsIFwiPFwiLCBcIjw9XCIsIFwiPj1cIiwgXCI+XCIgXTtcbiAgICAgICAgZGVmKEFTVF9Ob2RlLCBmdW5jdGlvbigpeyByZXR1cm4gZmFsc2UgfSk7XG4gICAgICAgIGRlZihBU1RfVW5hcnlQcmVmaXgsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gbWVtYmVyKHRoaXMub3BlcmF0b3IsIHVuYXJ5X2Jvb2wpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9CaW5hcnksIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gbWVtYmVyKHRoaXMub3BlcmF0b3IsIGJpbmFyeV9ib29sKSB8fFxuICAgICAgICAgICAgICAgICggKHRoaXMub3BlcmF0b3IgPT0gXCImJlwiIHx8IHRoaXMub3BlcmF0b3IgPT0gXCJ8fFwiKSAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0LmlzX2Jvb2xlYW4oKSAmJiB0aGlzLnJpZ2h0LmlzX2Jvb2xlYW4oKSApO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Db25kaXRpb25hbCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnNlcXVlbnQuaXNfYm9vbGVhbigpICYmIHRoaXMuYWx0ZXJuYXRpdmUuaXNfYm9vbGVhbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Bc3NpZ24sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvciA9PSBcIj1cIiAmJiB0aGlzLnJpZ2h0LmlzX2Jvb2xlYW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfU2VxLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2RyLmlzX2Jvb2xlYW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfVHJ1ZSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRydWUgfSk7XG4gICAgICAgIGRlZihBU1RfRmFsc2UsIGZ1bmN0aW9uKCl7IHJldHVybiB0cnVlIH0pO1xuICAgIH0pKGZ1bmN0aW9uKG5vZGUsIGZ1bmMpe1xuICAgICAgICBub2RlLkRFRk1FVEhPRChcImlzX2Jvb2xlYW5cIiwgZnVuYyk7XG4gICAgfSk7XG5cbiAgICAvLyBtZXRob2RzIHRvIGRldGVybWluZSBpZiBhbiBleHByZXNzaW9uIGhhcyBhIHN0cmluZyByZXN1bHQgdHlwZVxuICAgIChmdW5jdGlvbiAoZGVmKXtcbiAgICAgICAgZGVmKEFTVF9Ob2RlLCBmdW5jdGlvbigpeyByZXR1cm4gZmFsc2UgfSk7XG4gICAgICAgIGRlZihBU1RfU3RyaW5nLCBmdW5jdGlvbigpeyByZXR1cm4gdHJ1ZSB9KTtcbiAgICAgICAgZGVmKEFTVF9VbmFyeVByZWZpeCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZXJhdG9yID09IFwidHlwZW9mXCI7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0JpbmFyeSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvciA9PSBcIitcIiAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpIHx8IHRoaXMucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQXNzaWduLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5vcGVyYXRvciA9PSBcIj1cIiB8fCB0aGlzLm9wZXJhdG9yID09IFwiKz1cIikgJiYgdGhpcy5yaWdodC5pc19zdHJpbmcoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1NlcSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jZHIuaXNfc3RyaW5nKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Db25kaXRpb25hbCwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zZXF1ZW50LmlzX3N0cmluZyhjb21wcmVzc29yKSAmJiB0aGlzLmFsdGVybmF0aXZlLmlzX3N0cmluZyhjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQ2FsbCwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gY29tcHJlc3Nvci5vcHRpb24oXCJ1bnNhZmVcIilcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5leHByZXNzaW9uLm5hbWUgPT0gXCJTdHJpbmdcIlxuICAgICAgICAgICAgICAgICYmIHRoaXMuZXhwcmVzc2lvbi51bmRlY2xhcmVkKCk7XG4gICAgICAgIH0pO1xuICAgIH0pKGZ1bmN0aW9uKG5vZGUsIGZ1bmMpe1xuICAgICAgICBub2RlLkRFRk1FVEhPRChcImlzX3N0cmluZ1wiLCBmdW5jKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGJlc3Rfb2YoYXN0MSwgYXN0Mikge1xuICAgICAgICByZXR1cm4gYXN0MS5wcmludF90b19zdHJpbmcoKS5sZW5ndGggPlxuICAgICAgICAgICAgYXN0Mi5wcmludF90b19zdHJpbmcoKS5sZW5ndGhcbiAgICAgICAgICAgID8gYXN0MiA6IGFzdDE7XG4gICAgfTtcblxuICAgIC8vIG1ldGhvZHMgdG8gZXZhbHVhdGUgYSBjb25zdGFudCBleHByZXNzaW9uXG4gICAgKGZ1bmN0aW9uIChkZWYpe1xuICAgICAgICAvLyBUaGUgZXZhbHVhdGUgbWV0aG9kIHJldHVybnMgYW4gYXJyYXkgd2l0aCBvbmUgb3IgdHdvXG4gICAgICAgIC8vIGVsZW1lbnRzLiAgSWYgdGhlIG5vZGUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJlZHVjZWQgdG8gYVxuICAgICAgICAvLyBjb25zdGFudCwgdGhlbiB0aGUgc2Vjb25kIGVsZW1lbnQgdGVsbHMgdXMgdGhlIHZhbHVlO1xuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIHNlY29uZCBlbGVtZW50IGlzIG1pc3NpbmcuICBUaGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAvLyBvZiB0aGUgYXJyYXkgaXMgYWx3YXlzIGFuIEFTVF9Ob2RlIGRlc2NlbmRhbnQ7IGlmXG4gICAgICAgIC8vIGV2YWx1YXRpb24gd2FzIHN1Y2Nlc3NmdWwgaXQncyBhIG5vZGUgdGhhdCByZXByZXNlbnRzIHRoZVxuICAgICAgICAvLyBjb25zdGFudDsgb3RoZXJ3aXNlIGl0J3MgdGhlIG9yaWdpbmFsIG9yIGEgcmVwbGFjZW1lbnQgbm9kZS5cbiAgICAgICAgQVNUX05vZGUuREVGTUVUSE9EKFwiZXZhbHVhdGVcIiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwiZXZhbHVhdGVcIikpIHJldHVybiBbIHRoaXMgXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMuX2V2YWwoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgYmVzdF9vZihtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCB2YWwsIHRoaXMpLCB0aGlzKSwgdmFsIF07XG4gICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ICE9PSBkZWYpIHRocm93IGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiBbIHRoaXMgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfU3RhdGVtZW50LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cmluZ190ZW1wbGF0ZShcIkNhbm5vdCBldmFsdWF0ZSBhIHN0YXRlbWVudCBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgdGhpcy5zdGFydCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9GdW5jdGlvbiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIFhYWDogQVNUX0Z1bmN0aW9uIGluaGVyaXRzIGZyb20gQVNUX1Njb3BlLCB3aGljaCBpdHNlbGZcbiAgICAgICAgICAgIC8vIGluaGVyaXRzIGZyb20gQVNUX1N0YXRlbWVudDsgaG93ZXZlciwgYW4gQVNUX0Z1bmN0aW9uXG4gICAgICAgICAgICAvLyBpc24ndCByZWFsbHkgYSBzdGF0ZW1lbnQuICBUaGlzIGNvdWxkIGJ5dGUgaW4gb3RoZXJcbiAgICAgICAgICAgIC8vIHBsYWNlcyB0b28uIDotKCBXaXNoIEpTIGhhZCBtdWx0aXBsZSBpbmhlcml0YW5jZS5cbiAgICAgICAgICAgIHRocm93IGRlZjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGV2KG5vZGUsIGNvbXByZXNzb3IpIHtcbiAgICAgICAgICAgIGlmICghY29tcHJlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiQ29tcHJlc3NvciBtdXN0IGJlIHBhc3NlZFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuX2V2YWwoY29tcHJlc3Nvcik7XG4gICAgICAgIH07XG4gICAgICAgIGRlZihBU1RfTm9kZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRocm93IGRlZjsgICAgICAgICAgLy8gbm90IGNvbnN0YW50XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0NvbnN0YW50LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfVW5hcnlQcmVmaXgsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmV4cHJlc3Npb247XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMub3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIiFcIjogcmV0dXJuICFldihlLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgY2FzZSBcInR5cGVvZlwiOlxuICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHdvdWxkIGJlIGV2YWx1YXRlZCB0byBhbiBhcnJheSBhbmQgc28gdHlwZW9mIHdvdWxkXG4gICAgICAgICAgICAgICAgLy8gaW5jb3JyZWN0bHkgcmV0dXJuICdvYmplY3QnLiBIZW5jZSBtYWtpbmcgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBU1RfRnVuY3Rpb24pIHJldHVybiB0eXBlb2YgZnVuY3Rpb24oKXt9O1xuXG4gICAgICAgICAgICAgICAgZSA9IGV2KGUsIGNvbXByZXNzb3IpO1xuXG4gICAgICAgICAgICAgICAgLy8gdHlwZW9mIDxSZWdFeHA+IHJldHVybnMgXCJvYmplY3RcIiBvciBcImZ1bmN0aW9uXCIgb24gZGlmZmVyZW50IHBsYXRmb3Jtc1xuICAgICAgICAgICAgICAgIC8vIHNvIGNhbm5vdCBldmFsdWF0ZSByZWxpYWJseVxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgUmVnRXhwKSB0aHJvdyBkZWY7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGU7XG4gICAgICAgICAgICAgIGNhc2UgXCJ2b2lkXCI6IHJldHVybiB2b2lkIGV2KGUsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICBjYXNlIFwiflwiOiByZXR1cm4gfmV2KGUsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICBjYXNlIFwiLVwiOlxuICAgICAgICAgICAgICAgIGUgPSBldihlLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICBpZiAoZSA9PT0gMCkgdGhyb3cgZGVmO1xuICAgICAgICAgICAgICAgIHJldHVybiAtZTtcbiAgICAgICAgICAgICAgY2FzZSBcIitcIjogcmV0dXJuICtldihlLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGRlZjtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQmluYXJ5LCBmdW5jdGlvbihjKXtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gdGhpcy5sZWZ0LCByaWdodCA9IHRoaXMucmlnaHQ7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMub3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIiYmXCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAmJiAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcInx8XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSB8fCAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcInxcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSB8ICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIiZcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAmICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIl5cIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSBeICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIitcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSArICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIipcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAqICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIi9cIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAvICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIiVcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAlICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIi1cIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAtICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIjw8XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA8PCAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj4+XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA+PiAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj4+PlwiICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA+Pj4gICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj09XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA9PSAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj09PVwiICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA9PT0gICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIiE9XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAhPSAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIiE9PVwiICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSAhPT0gICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIjxcIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA8ICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIjw9XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA8PSAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj5cIiAgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA+ICAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcIj49XCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSA+PSAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcImluXCIgICAgICAgICA6IHJldHVybiBldihsZWZ0LCBjKSBpbiAgICAgICAgIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgICAgY2FzZSBcImluc3RhbmNlb2ZcIiA6IHJldHVybiBldihsZWZ0LCBjKSBpbnN0YW5jZW9mIGV2KHJpZ2h0LCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGRlZjtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIGV2KHRoaXMuY29uZGl0aW9uLCBjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgID8gZXYodGhpcy5jb25zZXF1ZW50LCBjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgIDogZXYodGhpcy5hbHRlcm5hdGl2ZSwgY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1N5bWJvbFJlZiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMuZGVmaW5pdGlvbigpO1xuICAgICAgICAgICAgaWYgKGQgJiYgZC5jb25zdGFudCAmJiBkLmluaXQpIHJldHVybiBldihkLmluaXQsIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgdGhyb3cgZGVmO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Eb3QsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwidW5zYWZlXCIpICYmIHRoaXMucHJvcGVydHkgPT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgICAgIHZhciBzdHIgPSBldih0aGlzLmV4cHJlc3Npb24sIGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHIubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZGVmO1xuICAgICAgICB9KTtcbiAgICB9KShmdW5jdGlvbihub2RlLCBmdW5jKXtcbiAgICAgICAgbm9kZS5ERUZNRVRIT0QoXCJfZXZhbFwiLCBmdW5jKTtcbiAgICB9KTtcblxuICAgIC8vIG1ldGhvZCB0byBuZWdhdGUgYW4gZXhwcmVzc2lvblxuICAgIChmdW5jdGlvbihkZWYpe1xuICAgICAgICBmdW5jdGlvbiBiYXNpY19uZWdhdGlvbihleHApIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBleHAsIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIhXCIsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogZXhwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZGVmKEFTVF9Ob2RlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGJhc2ljX25lZ2F0aW9uKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TdGF0ZW1lbnQsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbmVnYXRlIGEgc3RhdGVtZW50XCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9GdW5jdGlvbiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBiYXNpY19uZWdhdGlvbih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfVW5hcnlQcmVmaXgsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5vcGVyYXRvciA9PSBcIiFcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2ljX25lZ2F0aW9uKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TZXEsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgICBzZWxmLmNkciA9IHNlbGYuY2RyLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9Db25kaXRpb25hbCwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIHNlbGYuY29uc2VxdWVudCA9IHNlbGYuY29uc2VxdWVudC5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBzZWxmLmFsdGVybmF0aXZlID0gc2VsZi5hbHRlcm5hdGl2ZS5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICByZXR1cm4gYmVzdF9vZihiYXNpY19uZWdhdGlvbih0aGlzKSwgc2VsZik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0JpbmFyeSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMuY2xvbmUoKSwgb3AgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwidW5zYWZlX2NvbXBzXCIpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIjw9XCIgOiBzZWxmLm9wZXJhdG9yID0gXCI+XCIgIDsgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiPFwiICA6IHNlbGYub3BlcmF0b3IgPSBcIj49XCIgOyByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI+PVwiIDogc2VsZi5vcGVyYXRvciA9IFwiPFwiICA7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIj5cIiAgOiBzZWxmLm9wZXJhdG9yID0gXCI8PVwiIDsgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICAgICAgICBjYXNlIFwiPT1cIiA6IHNlbGYub3BlcmF0b3IgPSBcIiE9XCI7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICBjYXNlIFwiIT1cIiA6IHNlbGYub3BlcmF0b3IgPSBcIj09XCI7IHJldHVybiBzZWxmO1xuICAgICAgICAgICAgICBjYXNlIFwiPT09XCI6IHNlbGYub3BlcmF0b3IgPSBcIiE9PVwiOyByZXR1cm4gc2VsZjtcbiAgICAgICAgICAgICAgY2FzZSBcIiE9PVwiOiBzZWxmLm9wZXJhdG9yID0gXCI9PT1cIjsgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgIGNhc2UgXCImJlwiOlxuICAgICAgICAgICAgICAgIHNlbGYub3BlcmF0b3IgPSBcInx8XCI7XG4gICAgICAgICAgICAgICAgc2VsZi5sZWZ0ID0gc2VsZi5sZWZ0Lm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICBzZWxmLnJpZ2h0ID0gc2VsZi5yaWdodC5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3Rfb2YoYmFzaWNfbmVnYXRpb24odGhpcyksIHNlbGYpO1xuICAgICAgICAgICAgICBjYXNlIFwifHxcIjpcbiAgICAgICAgICAgICAgICBzZWxmLm9wZXJhdG9yID0gXCImJlwiO1xuICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHNlbGYubGVmdC5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgc2VsZi5yaWdodCA9IHNlbGYucmlnaHQubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiZXN0X29mKGJhc2ljX25lZ2F0aW9uKHRoaXMpLCBzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiYXNpY19uZWdhdGlvbih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfSkoZnVuY3Rpb24obm9kZSwgZnVuYyl7XG4gICAgICAgIG5vZGUuREVGTUVUSE9EKFwibmVnYXRlXCIsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBkZXRlcm1pbmUgaWYgZXhwcmVzc2lvbiBoYXMgc2lkZSBlZmZlY3RzXG4gICAgKGZ1bmN0aW9uKGRlZil7XG4gICAgICAgIGRlZihBU1RfTm9kZSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiB0cnVlIH0pO1xuXG4gICAgICAgIGRlZihBU1RfRW1wdHlTdGF0ZW1lbnQsIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gZmFsc2UgfSk7XG4gICAgICAgIGRlZihBU1RfQ29uc3RhbnQsIGZ1bmN0aW9uKGNvbXByZXNzb3IpeyByZXR1cm4gZmFsc2UgfSk7XG4gICAgICAgIGRlZihBU1RfVGhpcywgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiBmYWxzZSB9KTtcblxuICAgICAgICBkZWYoQVNUX0NhbGwsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgdmFyIHB1cmUgPSBjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZnVuY3NcIik7XG4gICAgICAgICAgICBpZiAoIXB1cmUpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHB1cmUuaW5kZXhPZih0aGlzLmV4cHJlc3Npb24ucHJpbnRfdG9fc3RyaW5nKCkpIDwgMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVmKEFTVF9CbG9jaywgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5ib2R5Lmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9keVtpXS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVmKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9EZWZ1biwgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiB0cnVlIH0pO1xuICAgICAgICBkZWYoQVNUX0Z1bmN0aW9uLCBmdW5jdGlvbihjb21wcmVzc29yKXsgcmV0dXJuIGZhbHNlIH0pO1xuICAgICAgICBkZWYoQVNUX0JpbmFyeSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnJpZ2h0Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX0Fzc2lnbiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiB0cnVlIH0pO1xuICAgICAgICBkZWYoQVNUX0NvbmRpdGlvbmFsLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbi5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5jb25zZXF1ZW50Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICB8fCB0aGlzLmFsdGVybmF0aXZlLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1VuYXJ5LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZXJhdG9yID09IFwiZGVsZXRlXCJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLm9wZXJhdG9yID09IFwiKytcIlxuICAgICAgICAgICAgICAgIHx8IHRoaXMub3BlcmF0b3IgPT0gXCItLVwiXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5leHByZXNzaW9uLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1N5bWJvbFJlZiwgZnVuY3Rpb24oY29tcHJlc3Nvcil7IHJldHVybiBmYWxzZSB9KTtcbiAgICAgICAgZGVmKEFTVF9PYmplY3QsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IC0taSA+PSAwOylcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzW2ldLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9PYmplY3RQcm9wZXJ0eSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9BcnJheSwgZnVuY3Rpb24oY29tcHJlc3Nvcil7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7IC0taSA+PSAwOylcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tpXS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfRG90LCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIGlmICghY29tcHJlc3Nvci5vcHRpb24oXCJwdXJlX2dldHRlcnNcIikpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVmKEFTVF9TdWIsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZ2V0dGVyc1wiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BlcnR5Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3Nvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBkZWYoQVNUX1Byb3BBY2Nlc3MsIGZ1bmN0aW9uKGNvbXByZXNzb3Ipe1xuICAgICAgICAgICAgcmV0dXJuICFjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZ2V0dGVyc1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZihBU1RfU2VxLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhci5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5jZHIuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKTtcbiAgICAgICAgfSk7XG4gICAgfSkoZnVuY3Rpb24obm9kZSwgZnVuYyl7XG4gICAgICAgIG5vZGUuREVGTUVUSE9EKFwiaGFzX3NpZGVfZWZmZWN0c1wiLCBmdW5jKTtcbiAgICB9KTtcblxuICAgIC8vIHRlbGwgbWUgaWYgYSBzdGF0ZW1lbnQgYWJvcnRzXG4gICAgZnVuY3Rpb24gYWJvcnRzKHRoaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGluZyAmJiB0aGluZy5hYm9ydHMoKTtcbiAgICB9O1xuICAgIChmdW5jdGlvbihkZWYpe1xuICAgICAgICBkZWYoQVNUX1N0YXRlbWVudCwgZnVuY3Rpb24oKXsgcmV0dXJuIG51bGwgfSk7XG4gICAgICAgIGRlZihBU1RfSnVtcCwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGJsb2NrX2Fib3J0cygpe1xuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLmJvZHkubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG4gPiAwICYmIGFib3J0cyh0aGlzLmJvZHlbbiAtIDFdKTtcbiAgICAgICAgfTtcbiAgICAgICAgZGVmKEFTVF9CbG9ja1N0YXRlbWVudCwgYmxvY2tfYWJvcnRzKTtcbiAgICAgICAgZGVmKEFTVF9Td2l0Y2hCcmFuY2gsIGJsb2NrX2Fib3J0cyk7XG4gICAgICAgIGRlZihBU1RfSWYsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbHRlcm5hdGl2ZSAmJiBhYm9ydHModGhpcy5ib2R5KSAmJiBhYm9ydHModGhpcy5hbHRlcm5hdGl2ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pKGZ1bmN0aW9uKG5vZGUsIGZ1bmMpe1xuICAgICAgICBub2RlLkRFRk1FVEhPRChcImFib3J0c1wiLCBmdW5jKTtcbiAgICB9KTtcblxuICAgIC8qIC0tLS0tWyBvcHRpbWl6ZXJzIF0tLS0tLSAqL1xuXG4gICAgT1BUKEFTVF9EaXJlY3RpdmUsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoc2VsZi5zY29wZS5oYXNfZGlyZWN0aXZlKHNlbGYudmFsdWUpICE9PSBzZWxmLnNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgc2VsZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0RlYnVnZ2VyLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiZHJvcF9kZWJ1Z2dlclwiKSlcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBzZWxmKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0xhYmVsZWRTdGF0ZW1lbnQsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX0JyZWFrXG4gICAgICAgICAgICAmJiBjb21wcmVzc29yLmxvb3Bjb250cm9sX3RhcmdldChzZWxmLmJvZHkubGFiZWwpID09PSBzZWxmLmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5sYWJlbC5yZWZlcmVuY2VzLmxlbmd0aCA9PSAwID8gc2VsZi5ib2R5IDogc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfQmxvY2ssIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBzZWxmLmJvZHkgPSB0aWdodGVuX2JvZHkoc2VsZi5ib2R5LCBjb21wcmVzc29yKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0Jsb2NrU3RhdGVtZW50LCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgc2VsZi5ib2R5ID0gdGlnaHRlbl9ib2R5KHNlbGYuYm9keSwgY29tcHJlc3Nvcik7XG4gICAgICAgIHN3aXRjaCAoc2VsZi5ib2R5Lmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIHNlbGYuYm9keVswXTtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIEFTVF9TY29wZS5ERUZNRVRIT0QoXCJkcm9wX3VudXNlZFwiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJ1bnVzZWRcIilcbiAgICAgICAgICAgICYmICEoc2VsZiBpbnN0YW5jZW9mIEFTVF9Ub3BsZXZlbClcbiAgICAgICAgICAgICYmICFzZWxmLnVzZXNfZXZhbFxuICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBpbl91c2UgPSBbXTtcbiAgICAgICAgICAgIHZhciBpbml0aWFsaXphdGlvbnMgPSBuZXcgRGljdGlvbmFyeSgpO1xuICAgICAgICAgICAgLy8gcGFzcyAxOiBmaW5kIG91dCB3aGljaCBzeW1ib2xzIGFyZSBkaXJlY3RseSB1c2VkIGluXG4gICAgICAgICAgICAvLyB0aGlzIHNjb3BlIChub3QgaW4gbmVzdGVkIHNjb3BlcykuXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHR3ID0gbmV3IFRyZWVXYWxrZXIoZnVuY3Rpb24obm9kZSwgZGVzY2VuZCl7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgIT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGVmdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9ucy5hZGQobm9kZS5uYW1lLm5hbWUsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGRvbid0IGdvIGluIG5lc3RlZCBzY29wZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZpbml0aW9ucyAmJiBzY29wZSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGRlZil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvbnMuYWRkKGRlZi5uYW1lLm5hbWUsIGRlZi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYudmFsdWUuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmLnZhbHVlLndhbGsodHcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hfdW5pcShpbl91c2UsIG5vZGUuZGVmaW5pdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2F2ZV9zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY2VuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgPSBzYXZlX3Njb3BlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYud2Fsayh0dyk7XG4gICAgICAgICAgICAvLyBwYXNzIDI6IGZvciBldmVyeSB1c2VkIHN5bWJvbCB3ZSBuZWVkIHRvIHdhbGsgaXRzXG4gICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiBjb2RlIHRvIGZpZ3VyZSBvdXQgaWYgaXQgdXNlcyBvdGhlclxuICAgICAgICAgICAgLy8gc3ltYm9scyAodGhhdCBtYXkgbm90IGJlIGluX3VzZSkuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluX3VzZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGluX3VzZVtpXS5vcmlnLmZvckVhY2goZnVuY3Rpb24oZGVjbCl7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZGVjbGFyZWQgZ2xvYmFscyB3aWxsIGJlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdCA9IGluaXRpYWxpemF0aW9ucy5nZXQoZGVjbC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluaXQpIGluaXQuZm9yRWFjaChmdW5jdGlvbihpbml0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0dyA9IG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoX3VuaXEoaW5fdXNlLCBub2RlLmRlZmluaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0LndhbGsodHcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHBhc3MgMzogd2Ugc2hvdWxkIGRyb3AgZGVjbGFyYXRpb25zIG5vdCBpbl91c2VcbiAgICAgICAgICAgIHZhciB0dCA9IG5ldyBUcmVlVHJhbnNmb3JtZXIoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYmVmb3JlKG5vZGUsIGRlc2NlbmQsIGluX2xpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFtYmRhICYmICEobm9kZSBpbnN0YW5jZW9mIEFTVF9BY2Nlc3NvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29tcHJlc3Nvci5vcHRpb24oXCJrZWVwX2ZhcmdzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IG5vZGUuYXJnbmFtZXMsIGkgPSBhLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeW0gPSBhW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ltLnVucmVmZXJlbmNlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRHJvcHBpbmcgdW51c2VkIGZ1bmN0aW9uIGFyZ3VtZW50IHtuYW1lfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBzeW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlIDogc3ltLnN0YXJ0LmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA6IHN5bS5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCAgOiBzeW0uc3RhcnQuY29sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9EZWZ1biAmJiBub2RlICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbWJlcihub2RlLm5hbWUuZGVmaW5pdGlvbigpLCBpbl91c2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRHJvcHBpbmcgdW51c2VkIGZ1bmN0aW9uIHtuYW1lfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogbm9kZS5uYW1lLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgOiBub2RlLm5hbWUuc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA6IG5vZGUubmFtZS5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgIDogbm9kZS5uYW1lLnN0YXJ0LmNvbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZmluaXRpb25zICYmICEodHQucGFyZW50KCkgaW5zdGFuY2VvZiBBU1RfRm9ySW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVmID0gbm9kZS5kZWZpbml0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZGVmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyKGRlZi5uYW1lLmRlZmluaXRpb24oKSwgaW5fdXNlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBkZWYubmFtZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlIDogZGVmLm5hbWUuc3RhcnQuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA6IGRlZi5uYW1lLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCAgOiBkZWYubmFtZS5zdGFydC5jb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYudmFsdWUgJiYgZGVmLnZhbHVlLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmLl91bnVzZWRfc2lkZV9lZmZlY3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiU2lkZSBlZmZlY3RzIGluIGluaXRpYWxpemF0aW9uIG9mIHVudXNlZCB2YXJpYWJsZSB7bmFtZX0gW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRHJvcHBpbmcgdW51c2VkIHZhcmlhYmxlIHtuYW1lfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwbGFjZSB1bmluaXRpYWxpemVkIG5hbWVzIGF0IHRoZSBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmID0gbWVyZ2VTb3J0KGRlZiwgZnVuY3Rpb24oYSwgYil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhLnZhbHVlICYmIGIudmFsdWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWIudmFsdWUgJiYgYS52YWx1ZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciB1bnVzZWQgbmFtZXMgd2hvc2UgaW5pdGlhbGl6YXRpb24gaGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaWRlIGVmZmVjdHMsIHdlIGNhbiBjYXNjYWRlIHRoZSBpbml0LiBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRvIHRoZSBuZXh0IG9uZSwgb3IgbmV4dCBzdGF0ZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2lkZV9lZmZlY3RzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBkZWZbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHguX3VudXNlZF9zaWRlX2VmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZV9lZmZlY3RzLnB1c2goeC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGVfZWZmZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlX2VmZmVjdHMucHVzaCh4LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgudmFsdWUgPSBBU1RfU2VxLmZyb21fYXJyYXkoc2lkZV9lZmZlY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVfZWZmZWN0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZV9lZmZlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlX2VmZmVjdHMgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IFsgbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIG5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEFTVF9TZXEuZnJvbV9hcnJheShzaWRlX2VmZmVjdHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZV9lZmZlY3RzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYubGVuZ3RoID09IDAgJiYgIXNpZGVfZWZmZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZV9lZmZlY3RzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kZWZpbml0aW9ucyA9IGRlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWRlX2VmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlX2VmZmVjdHMuYm9keS51bnNoaWZ0KG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBzaWRlX2VmZmVjdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9Gb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NlbmQobm9kZSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmluaXQgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjZXJ0YWluIGNvbWJpbmF0aW9uIG9mIHVudXNlZCBuYW1lICsgc2lkZSBlZmZlY3QgbGVhZHMgdG86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzIvaXNzdWVzLzQ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCdzIGFuIGludmFsaWQgQVNULlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZpeCBpdCBhdCB0aGlzIHN0YWdlIGJ5IG1vdmluZyB0aGUgYHZhcmAgb3V0c2lkZSB0aGUgYGZvcmAuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IG5vZGUuaW5pdC5ib2R5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmluaXQgPSBub2RlLmluaXQuYm9keS5zbGljZSgtMSlbMF0uYm9keTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LnB1c2gobm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5fbGlzdCA/IE1BUC5zcGxpY2UoYm9keSkgOiBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSAmJiBub2RlICE9PSBzZWxmKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtKHR0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgQVNUX1Njb3BlLkRFRk1FVEhPRChcImhvaXN0X2RlY2xhcmF0aW9uc1wiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgdmFyIGhvaXN0X2Z1bnMgPSBjb21wcmVzc29yLm9wdGlvbihcImhvaXN0X2Z1bnNcIik7XG4gICAgICAgIHZhciBob2lzdF92YXJzID0gY29tcHJlc3Nvci5vcHRpb24oXCJob2lzdF92YXJzXCIpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChob2lzdF9mdW5zIHx8IGhvaXN0X3ZhcnMpIHtcbiAgICAgICAgICAgIHZhciBkaXJzID0gW107XG4gICAgICAgICAgICB2YXIgaG9pc3RlZCA9IFtdO1xuICAgICAgICAgICAgdmFyIHZhcnMgPSBuZXcgRGljdGlvbmFyeSgpLCB2YXJzX2ZvdW5kID0gMCwgdmFyX2RlY2wgPSAwO1xuICAgICAgICAgICAgLy8gbGV0J3MgY291bnQgdmFyX2RlY2wgZmlyc3QsIHdlIHNlZW0gdG8gd2FzdGUgYSBsb3Qgb2ZcbiAgICAgICAgICAgIC8vIHNwYWNlIGlmIHdlIGhvaXN0IGB2YXJgIHdoZW4gdGhlcmUncyBvbmx5IG9uZS5cbiAgICAgICAgICAgIHNlbGYud2FsayhuZXcgVHJlZVdhbGtlcihmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9TY29wZSAmJiBub2RlICE9PSBzZWxmKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9WYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgKyt2YXJfZGVjbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaG9pc3RfdmFycyA9IGhvaXN0X3ZhcnMgJiYgdmFyX2RlY2wgPiAxO1xuICAgICAgICAgICAgdmFyIHR0ID0gbmV3IFRyZWVUcmFuc2Zvcm1lcihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiZWZvcmUobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAhPT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlycy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0VtcHR5U3RhdGVtZW50LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0RlZnVuICYmIGhvaXN0X2Z1bnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGVkLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfVmFyICYmIGhvaXN0X3ZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oZGVmKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5zZXQoZGVmLm5hbWUubmFtZSwgZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyt2YXJzX2ZvdW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXEgPSBub2RlLnRvX2Fzc2lnbm1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSB0dC5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Gb3JJbiAmJiBwLmluaXQgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcSA9PSBudWxsKSByZXR1cm4gbm9kZS5kZWZpbml0aW9uc1swXS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIEFTVF9Gb3IgJiYgcC5pbml0ID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VxKSByZXR1cm4gbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHNlcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU2NvcGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7IC8vIHRvIGF2b2lkIGRlc2NlbmRpbmcgaW4gbmVzdGVkIHNjb3Blc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNlbGYgPSBzZWxmLnRyYW5zZm9ybSh0dCk7XG4gICAgICAgICAgICBpZiAodmFyc19mb3VuZCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0IG9ubHkgdmFycyB3aGljaCBkb24ndCBzaG93IHVwIGluIHNlbGYncyBhcmd1bWVudHMgbGlzdFxuICAgICAgICAgICAgICAgIHZhciBkZWZzID0gW107XG4gICAgICAgICAgICAgICAgdmFycy5lYWNoKGZ1bmN0aW9uKGRlZiwgbmFtZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmIGluc3RhbmNlb2YgQVNUX0xhbWJkYVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmluZF9pZihmdW5jdGlvbih4KXsgcmV0dXJuIHgubmFtZSA9PSBkZWYubmFtZS5uYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXJnbmFtZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJzLmRlbChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiA9IGRlZi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZnMucHVzaChkZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5zZXQobmFtZSwgZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChkZWZzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIG1lcmdlIGluIGFzc2lnbm1lbnRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5ib2R5Lmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmJvZHlbaV0gaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cHIgPSBzZWxmLmJvZHlbaV0uYm9keSwgc3ltLCBhc3NpZ247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cHIgaW5zdGFuY2VvZiBBU1RfQXNzaWduXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGV4cHIub3BlcmF0b3IgPT0gXCI9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHN5bSA9IGV4cHIubGVmdCkgaW5zdGFuY2VvZiBBU1RfU3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHZhcnMuaGFzKHN5bS5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWYgPSB2YXJzLmdldChzeW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYudmFsdWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYudmFsdWUgPSBleHByLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoZGVmcywgZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmcy5wdXNoKGRlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYm9keS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwciBpbnN0YW5jZW9mIEFTVF9TZXFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKGFzc2lnbiA9IGV4cHIuY2FyKSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgYXNzaWduLm9wZXJhdG9yID09IFwiPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChzeW0gPSBhc3NpZ24ubGVmdCkgaW5zdGFuY2VvZiBBU1RfU3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHZhcnMuaGFzKHN5bS5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWYgPSB2YXJzLmdldChzeW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYudmFsdWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYudmFsdWUgPSBhc3NpZ24ucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShkZWZzLCBkZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZzLnB1c2goZGVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ib2R5W2ldLmJvZHkgPSBleHByLmNkcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYm9keVtpXSBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYm9keS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5ib2R5W2ldIGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IFsgaSwgMSBdLmNvbmNhdChzZWxmLmJvZHlbaV0uYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ib2R5LnNwbGljZS5hcHBseShzZWxmLmJvZHksIHRtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZzID0gbWFrZV9ub2RlKEFTVF9WYXIsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiBkZWZzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBob2lzdGVkLnB1c2goZGVmcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuYm9keSA9IGRpcnMuY29uY2F0KGhvaXN0ZWQsIHNlbGYuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1NpbXBsZVN0YXRlbWVudCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInNpZGVfZWZmZWN0c1wiKSkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLmJvZHkuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkRyb3BwaW5nIHNpZGUtZWZmZWN0LWZyZWUgc3RhdGVtZW50IFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0RXTG9vcCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHZhciBjb25kID0gc2VsZi5jb25kaXRpb24uZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgIHNlbGYuY29uZGl0aW9uID0gY29uZFswXTtcbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImxvb3BzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgaWYgKGNvbmQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKGNvbmRbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9Gb3IsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogc2VsZi5ib2R5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYgaW5zdGFuY2VvZiBBU1RfV2hpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkZWFkX2NvZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdF9kZWNsYXJhdGlvbnNfZnJvbV91bnJlYWNoYWJsZV9jb2RlKGNvbXByZXNzb3IsIHNlbGYuYm9keSwgYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzZWxmLCB7IGJvZHk6IGEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gaWZfYnJlYWtfaW5fbG9vcChzZWxmLCBjb21wcmVzc29yKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRyb3BfaXQocmVzdCkge1xuICAgICAgICAgICAgcmVzdCA9IGFzX3N0YXRlbWVudF9hcnJheShyZXN0KTtcbiAgICAgICAgICAgIGlmIChzZWxmLmJvZHkgaW5zdGFuY2VvZiBBU1RfQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJvZHkuYm9keSA9IHJlc3QuY29uY2F0KHNlbGYuYm9keS5ib2R5LnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmJvZHkgPSBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzZWxmLmJvZHksIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogcmVzdFxuICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmX2JyZWFrX2luX2xvb3Aoc2VsZiwgY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX0Jsb2NrU3RhdGVtZW50ID8gc2VsZi5ib2R5LmJvZHlbMF0gOiBzZWxmLmJvZHk7XG4gICAgICAgIGlmIChmaXJzdCBpbnN0YW5jZW9mIEFTVF9JZikge1xuICAgICAgICAgICAgaWYgKGZpcnN0LmJvZHkgaW5zdGFuY2VvZiBBU1RfQnJlYWtcbiAgICAgICAgICAgICAgICAmJiBjb21wcmVzc29yLmxvb3Bjb250cm9sX3RhcmdldChmaXJzdC5ib2R5LmxhYmVsKSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLmNvbmRpdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCImJlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IGZpcnN0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3NvciksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gZmlyc3QuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHJvcF9pdChmaXJzdC5hbHRlcm5hdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaXJzdC5hbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9CcmVha1xuICAgICAgICAgICAgICAgICAgICAgJiYgY29tcHJlc3Nvci5sb29wY29udHJvbF90YXJnZXQoZmlyc3QuYWx0ZXJuYXRpdmUubGFiZWwpID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYuY29uZGl0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzZWxmLmNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiYmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogZmlyc3QuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IGZpcnN0LmNvbmRpdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHJvcF9pdChmaXJzdC5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPUFQoQVNUX1doaWxlLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKSB7XG4gICAgICAgIGlmICghY29tcHJlc3Nvci5vcHRpb24oXCJsb29wc1wiKSkgcmV0dXJuIHNlbGY7XG4gICAgICAgIHNlbGYgPSBBU1RfRFdMb29wLnByb3RvdHlwZS5vcHRpbWl6ZS5jYWxsKHNlbGYsIGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoc2VsZiBpbnN0YW5jZW9mIEFTVF9XaGlsZSkge1xuICAgICAgICAgICAgaWZfYnJlYWtfaW5fbG9vcChzZWxmLCBjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHNlbGYgPSBtYWtlX25vZGUoQVNUX0Zvciwgc2VsZiwgc2VsZikudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Gb3IsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgY29uZCA9IHNlbGYuY29uZGl0aW9uO1xuICAgICAgICBpZiAoY29uZCkge1xuICAgICAgICAgICAgY29uZCA9IGNvbmQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IGNvbmRbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImxvb3BzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgaWYgKGNvbmQpIHtcbiAgICAgICAgICAgIGlmIChjb25kLmxlbmd0aCA+IDEgJiYgIWNvbmRbMV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkZWFkX2NvZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaW5pdCBpbnN0YW5jZW9mIEFTVF9TdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChzZWxmLmluaXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzZWxmLmluaXQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBzZWxmLmluaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0X2RlY2xhcmF0aW9uc19mcm9tX3VucmVhY2hhYmxlX2NvZGUoY29tcHJlc3Nvciwgc2VsZi5ib2R5LCBhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYsIHsgYm9keTogYSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWZfYnJlYWtfaW5fbG9vcChzZWxmLCBjb21wcmVzc29yKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0lmLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImNvbmRpdGlvbmFsc1wiKSkgcmV0dXJuIHNlbGY7XG4gICAgICAgIC8vIGlmIGNvbmRpdGlvbiBjYW4gYmUgc3RhdGljYWxseSBkZXRlcm1pbmVkLCB3YXJuIGFuZCBkcm9wXG4gICAgICAgIC8vIG9uZSBvZiB0aGUgYmxvY2tzLiAgbm90ZSwgc3RhdGljYWxseSBkZXRlcm1pbmVkIGltcGxpZXNcbiAgICAgICAgLy8g4oCcaGFzIG5vIHNpZGUgZWZmZWN0c+KAnTsgYWxzbyBpdCBkb2Vzbid0IHdvcmsgZm9yIGNhc2VzIGxpa2VcbiAgICAgICAgLy8gYHggJiYgdHJ1ZWAsIHRob3VnaCBpdCBwcm9iYWJseSBzaG91bGQuXG4gICAgICAgIHZhciBjb25kID0gc2VsZi5jb25kaXRpb24uZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgIHNlbGYuY29uZGl0aW9uID0gY29uZFswXTtcbiAgICAgICAgaWYgKGNvbmQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKGNvbmRbMV0pIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJDb25kaXRpb24gYWx3YXlzIHRydWUgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuY29uZGl0aW9uLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkZWFkX2NvZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RfZGVjbGFyYXRpb25zX2Zyb21fdW5yZWFjaGFibGVfY29kZShjb21wcmVzc29yLCBzZWxmLmFsdGVybmF0aXZlLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhLnB1c2goc2VsZi5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYsIHsgYm9keTogYSB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJDb25kaXRpb24gYWx3YXlzIGZhbHNlIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLmNvbmRpdGlvbi5zdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiZGVhZF9jb2RlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RfZGVjbGFyYXRpb25zX2Zyb21fdW5yZWFjaGFibGVfY29kZShjb21wcmVzc29yLCBzZWxmLmJvZHksIGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hbHRlcm5hdGl2ZSkgYS5wdXNoKHNlbGYuYWx0ZXJuYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9CbG9ja1N0YXRlbWVudCwgc2VsZiwgeyBib2R5OiBhIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzX2VtcHR5KHNlbGYuYWx0ZXJuYXRpdmUpKSBzZWxmLmFsdGVybmF0aXZlID0gbnVsbDtcbiAgICAgICAgdmFyIG5lZ2F0ZWQgPSBzZWxmLmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgIHZhciBuZWdhdGVkX2lzX2Jlc3QgPSBiZXN0X29mKHNlbGYuY29uZGl0aW9uLCBuZWdhdGVkKSA9PT0gbmVnYXRlZDtcbiAgICAgICAgaWYgKHNlbGYuYWx0ZXJuYXRpdmUgJiYgbmVnYXRlZF9pc19iZXN0KSB7XG4gICAgICAgICAgICBuZWdhdGVkX2lzX2Jlc3QgPSBmYWxzZTsgLy8gYmVjYXVzZSB3ZSBhbHJlYWR5IGRvIHRoZSBzd2l0Y2ggaGVyZS5cbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gbmVnYXRlZDtcbiAgICAgICAgICAgIHZhciB0bXAgPSBzZWxmLmJvZHk7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmFsdGVybmF0aXZlIHx8IG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQpO1xuICAgICAgICAgICAgc2VsZi5hbHRlcm5hdGl2ZSA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfZW1wdHkoc2VsZi5ib2R5KSAmJiBpc19lbXB0eShzZWxmLmFsdGVybmF0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzZWxmLmNvbmRpdGlvbiwge1xuICAgICAgICAgICAgICAgIGJvZHk6IHNlbGYuY29uZGl0aW9uXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuYm9keSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnRcbiAgICAgICAgICAgICYmIHNlbGYuYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBBU1RfU2ltcGxlU3RhdGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBtYWtlX25vZGUoQVNUX0NvbmRpdGlvbmFsLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbiAgIDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQgIDogc2VsZi5ib2R5LmJvZHksXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aXZlIDogc2VsZi5hbHRlcm5hdGl2ZS5ib2R5XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfZW1wdHkoc2VsZi5hbHRlcm5hdGl2ZSkgJiYgc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX1NpbXBsZVN0YXRlbWVudCkge1xuICAgICAgICAgICAgaWYgKG5lZ2F0ZWRfaXNfYmVzdCkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgYm9keTogbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBcInx8XCIsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgICAgIDogbmVnYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgICAgOiBzZWxmLmJvZHkuYm9keVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TaW1wbGVTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IFwiJiZcIixcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBzZWxmLmNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgICAgOiBzZWxmLmJvZHkuYm9keVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuYm9keSBpbnN0YW5jZW9mIEFTVF9FbXB0eVN0YXRlbWVudFxuICAgICAgICAgICAgJiYgc2VsZi5hbHRlcm5hdGl2ZVxuICAgICAgICAgICAgJiYgc2VsZi5hbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NpbXBsZVN0YXRlbWVudCwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGJvZHk6IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogXCJ8fFwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgICA6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgICA6IHNlbGYuYWx0ZXJuYXRpdmUuYm9keVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuYm9keSBpbnN0YW5jZW9mIEFTVF9FeGl0XG4gICAgICAgICAgICAmJiBzZWxmLmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX0V4aXRcbiAgICAgICAgICAgICYmIHNlbGYuYm9keS5UWVBFID09IHNlbGYuYWx0ZXJuYXRpdmUuVFlQRSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShzZWxmLmJvZHkuQ1RPUiwgc2VsZiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtYWtlX25vZGUoQVNUX0NvbmRpdGlvbmFsLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbiAgIDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQgIDogc2VsZi5ib2R5LnZhbHVlIHx8IG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBzZWxmLmJvZHkpLm9wdGltaXplKGNvbXByZXNzb3IpLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZSA6IHNlbGYuYWx0ZXJuYXRpdmUudmFsdWUgfHwgbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYuYWx0ZXJuYXRpdmUpLm9wdGltaXplKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5ib2R5IGluc3RhbmNlb2YgQVNUX0lmXG4gICAgICAgICAgICAmJiAhc2VsZi5ib2R5LmFsdGVybmF0aXZlXG4gICAgICAgICAgICAmJiAhc2VsZi5hbHRlcm5hdGl2ZSkge1xuICAgICAgICAgICAgc2VsZi5jb25kaXRpb24gPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZi5jb25kaXRpb24sIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCImJlwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBzZWxmLmJvZHkuY29uZGl0aW9uXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBzZWxmLmJvZHkgPSBzZWxmLmJvZHkuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWJvcnRzKHNlbGYuYm9keSkpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmFsdGVybmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsdCA9IHNlbGYuYWx0ZXJuYXRpdmU7XG4gICAgICAgICAgICAgICAgc2VsZi5hbHRlcm5hdGl2ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmxvY2tTdGF0ZW1lbnQsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogWyBzZWxmLCBhbHQgXVxuICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWJvcnRzKHNlbGYuYWx0ZXJuYXRpdmUpKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHNlbGYuYm9keTtcbiAgICAgICAgICAgIHNlbGYuYm9keSA9IHNlbGYuYWx0ZXJuYXRpdmU7XG4gICAgICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IG5lZ2F0ZWRfaXNfYmVzdCA/IG5lZ2F0ZWQgOiBzZWxmLmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBzZWxmLmFsdGVybmF0aXZlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgYm9keTogWyBzZWxmLCBib2R5IF1cbiAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU3dpdGNoLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKHNlbGYuYm9keS5sZW5ndGggPT0gMCAmJiBjb21wcmVzc29yLm9wdGlvbihcImNvbmRpdGlvbmFsc1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfU2ltcGxlU3RhdGVtZW50LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgYm9keTogc2VsZi5leHByZXNzaW9uXG4gICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKDs7KSB7XG4gICAgICAgICAgICB2YXIgbGFzdF9icmFuY2ggPSBzZWxmLmJvZHlbc2VsZi5ib2R5Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3RfYnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXQgPSBsYXN0X2JyYW5jaC5ib2R5W2xhc3RfYnJhbmNoLmJvZHkubGVuZ3RoIC0gMV07IC8vIGxhc3Qgc3RhdGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKHN0YXQgaW5zdGFuY2VvZiBBU1RfQnJlYWsgJiYgbG9vcF9ib2R5KGNvbXByZXNzb3IubG9vcGNvbnRyb2xfdGFyZ2V0KHN0YXQubGFiZWwpKSA9PT0gc2VsZilcbiAgICAgICAgICAgICAgICAgICAgbGFzdF9icmFuY2guYm9keS5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdF9icmFuY2ggaW5zdGFuY2VvZiBBU1RfRGVmYXVsdCAmJiBsYXN0X2JyYW5jaC5ib2R5Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYm9keS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4cCA9IHNlbGYuZXhwcmVzc2lvbi5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgb3V0OiBpZiAoZXhwLmxlbmd0aCA9PSAyKSB0cnkge1xuICAgICAgICAgICAgLy8gY29uc3RhbnQgZXhwcmVzc2lvblxuICAgICAgICAgICAgc2VsZi5leHByZXNzaW9uID0gZXhwWzBdO1xuICAgICAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcImRlYWRfY29kZVwiKSkgYnJlYWsgb3V0O1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZXhwWzFdO1xuICAgICAgICAgICAgdmFyIGluX2lmID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaW5fYmxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHJ1aW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHR0ID0gbmV3IFRyZWVUcmFuc2Zvcm1lcihmdW5jdGlvbihub2RlLCBkZXNjZW5kLCBpbl9saXN0KXtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEFTVF9MYW1iZGEgfHwgbm9kZSBpbnN0YW5jZW9mIEFTVF9TaW1wbGVTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBkZXNjZW5kIHRoZXNlIG5vZGUgdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3dpdGNoICYmIG5vZGUgPT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1aW5lZCA/IG5vZGUgOiBtYWtlX25vZGUoQVNUX0Jsb2NrU3RhdGVtZW50LCBub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBub2RlLmJvZHkucmVkdWNlKGZ1bmN0aW9uKGEsIGJyYW5jaCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuY29uY2F0KGJyYW5jaC5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfSWYgfHwgbm9kZSBpbnN0YW5jZW9mIEFTVF9UcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmUgPSBpbl9pZjtcbiAgICAgICAgICAgICAgICAgICAgaW5faWYgPSAhaW5fYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NlbmQobm9kZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGluX2lmID0gc2F2ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3RhdGVtZW50V2l0aEJvZHkgfHwgbm9kZSBpbnN0YW5jZW9mIEFTVF9Td2l0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmUgPSBpbl9ibG9jaztcbiAgICAgICAgICAgICAgICAgICAgaW5fYmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKG5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpbl9ibG9jayA9IHNhdmU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQVNUX0JyZWFrICYmIHRoaXMubG9vcGNvbnRyb2xfdGFyZ2V0KG5vZGUubGFiZWwpID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbl9pZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVpbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbl9ibG9jaykgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5fbGlzdCA/IE1BUC5za2lwIDogbWFrZV9ub2RlKEFTVF9FbXB0eVN0YXRlbWVudCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfU3dpdGNoQnJhbmNoICYmIHRoaXMucGFyZW50KCkgPT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BwZWQpIHJldHVybiBNQVAuc2tpcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfQ2FzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IG5vZGUuZXhwcmVzc2lvbi5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHAubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdvdCBhIGNhc2Ugd2l0aCBub24tY29uc3RhbnQgZXhwcmVzc2lvbiwgYmFsaW5nIG91dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHNlbGY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwWzFdID09PSB2YWx1ZSB8fCBzdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFib3J0cyhub2RlKSkgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY2VuZChub2RlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNQVAuc2tpcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZXNjZW5kKG5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHR0LnN0YWNrID0gY29tcHJlc3Nvci5zdGFjay5zbGljZSgpOyAvLyBzbyB0aGF0J3MgYWJsZSB0byBzZWUgcGFyZW50IG5vZGVzXG4gICAgICAgICAgICBzZWxmID0gc2VsZi50cmFuc2Zvcm0odHQpO1xuICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICBpZiAoZXggIT09IHNlbGYpIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9DYXNlLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgc2VsZi5ib2R5ID0gdGlnaHRlbl9ib2R5KHNlbGYuYm9keSwgY29tcHJlc3Nvcik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9UcnksIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBzZWxmLmJvZHkgPSB0aWdodGVuX2JvZHkoc2VsZi5ib2R5LCBjb21wcmVzc29yKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBBU1RfRGVmaW5pdGlvbnMuREVGTUVUSE9EKFwicmVtb3ZlX2luaXRpYWxpemVyc1wiLCBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oZGVmKXsgZGVmLnZhbHVlID0gbnVsbCB9KTtcbiAgICB9KTtcblxuICAgIEFTVF9EZWZpbml0aW9ucy5ERUZNRVRIT0QoXCJ0b19hc3NpZ25tZW50c1wiLCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYXNzaWdubWVudHMgPSB0aGlzLmRlZmluaXRpb25zLnJlZHVjZShmdW5jdGlvbihhLCBkZWYpe1xuICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbWFrZV9ub2RlKEFTVF9TeW1ib2xSZWYsIGRlZi5uYW1lLCBkZWYubmFtZSk7XG4gICAgICAgICAgICAgICAgYS5wdXNoKG1ha2Vfbm9kZShBU1RfQXNzaWduLCBkZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBcIj1cIixcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICByaWdodCAgICA6IGRlZi52YWx1ZVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIGlmIChhc3NpZ25tZW50cy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBBU1RfU2VxLmZyb21fYXJyYXkoYXNzaWdubWVudHMpO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9EZWZpbml0aW9ucywgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChzZWxmLmRlZmluaXRpb25zLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRW1wdHlTdGF0ZW1lbnQsIHNlbGYpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfRnVuY3Rpb24sIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBzZWxmID0gQVNUX0xhbWJkYS5wcm90b3R5cGUub3B0aW1pemUuY2FsbChzZWxmLCBjb21wcmVzc29yKTtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwidW51c2VkXCIpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5uYW1lICYmIHNlbGYubmFtZS51bnJlZmVyZW5jZWQoKSkge1xuICAgICAgICAgICAgICAgIHNlbGYubmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX0NhbGwsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJ1bnNhZmVcIikpIHtcbiAgICAgICAgICAgIHZhciBleHAgPSBzZWxmLmV4cHJlc3Npb247XG4gICAgICAgICAgICBpZiAoZXhwIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJiBleHAudW5kZWNsYXJlZCgpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChleHAubmFtZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0FycmF5LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IHNlbGYuYXJnc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hcmdzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9PYmplY3QsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoID09IDApIHJldHVybiBtYWtlX25vZGUoQVNUX1N0cmluZywgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoIDw9IDEpIHJldHVybiBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5hcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLCB7IHZhbHVlOiBcIlwiIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoID09IDApIHJldHVybiBtYWtlX25vZGUoQVNUX051bWJlciwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFyZ3MubGVuZ3RoID09IDEpIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBzZWxmLmFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIrXCJcbiAgICAgICAgICAgICAgICAgICAgfSkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIkJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYXJncy5sZW5ndGggPT0gMCkgcmV0dXJuIG1ha2Vfbm9kZShBU1RfRmFsc2UsIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5hcmdzLmxlbmd0aCA9PSAxKSByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmFyeVByZWZpeCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogbWFrZV9ub2RlKEFTVF9VbmFyeVByZWZpeCwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IHNlbGYuYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiXG4gICAgICAgICAgICAgICAgICAgIH0pLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiRnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbChzZWxmLmFyZ3MsIGZ1bmN0aW9uKHgpeyByZXR1cm4geCBpbnN0YW5jZW9mIEFTVF9TdHJpbmcgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHF1aXRlIGEgY29ybmVyLWNhc2UsIGJ1dCB3ZSBjYW4gaGFuZGxlIGl0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMi9pc3N1ZXMvMjAzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgY29kZSBhcmd1bWVudCBpcyBhIGNvbnN0YW50LCB0aGVuIHdlIGNhbiBtaW5pZnkgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gXCIoZnVuY3Rpb24oXCIgKyBzZWxmLmFyZ3Muc2xpY2UoMCwgLTEpLm1hcChmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oXCIsXCIpICsgXCIpe1wiICsgc2VsZi5hcmdzW3NlbGYuYXJncy5sZW5ndGggLSAxXS52YWx1ZSArIFwifSkoKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3QgPSBwYXJzZShjb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QuZmlndXJlX291dF9zY29wZSh7IHNjcmV3X2llODogY29tcHJlc3Nvci5vcHRpb24oXCJzY3Jld19pZThcIikgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBuZXcgQ29tcHJlc3Nvcihjb21wcmVzc29yLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdCA9IGFzdC50cmFuc2Zvcm0oY29tcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LmZpZ3VyZV9vdXRfc2NvcGUoeyBzY3Jld19pZTg6IGNvbXByZXNzb3Iub3B0aW9uKFwic2NyZXdfaWU4XCIpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC5tYW5nbGVfbmFtZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC53YWxrKG5ldyBUcmVlV2Fsa2VyKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBU1RfTGFtYmRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBhc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleCAhPT0gYXN0KSB0aHJvdyBleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZnVuLmFyZ25hbWVzLm1hcChmdW5jdGlvbihhcmcsIGkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHNlbGYuYXJnc1tpXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFyZy5wcmludF90b19zdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IE91dHB1dFN0cmVhbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVF9CbG9ja1N0YXRlbWVudC5wcm90b3R5cGUuX2NvZGVnZW4uY2FsbChmdW4sIGZ1biwgY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFx7fFxcfSQvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLmFyZ3Nbc2VsZi5hcmdzLmxlbmd0aCAtIDFdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXJncyA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4IGluc3RhbmNlb2YgSlNfUGFyc2VfRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiRXJyb3IgcGFyc2luZyBjb2RlIHBhc3NlZCB0byBuZXcgRnVuY3Rpb24gW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuYXJnc1tzZWxmLmFyZ3MubGVuZ3RoIC0gMV0uc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oZXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXhwIGluc3RhbmNlb2YgQVNUX0RvdCAmJiBleHAucHJvcGVydHkgPT0gXCJ0b1N0cmluZ1wiICYmIHNlbGYuYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBtYWtlX25vZGUoQVNUX1N0cmluZywgc2VsZiwgeyB2YWx1ZTogXCJcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogZXhwLmV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICB9KS50cmFuc2Zvcm0oY29tcHJlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChleHAgaW5zdGFuY2VvZiBBU1RfRG90ICYmIGV4cC5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0FycmF5ICYmIGV4cC5wcm9wZXJ0eSA9PSBcImpvaW5cIikgRVhJVDoge1xuICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSBzZWxmLmFyZ3MubGVuZ3RoID09IDAgPyBcIixcIiA6IHNlbGYuYXJnc1swXS5ldmFsdWF0ZShjb21wcmVzc29yKVsxXTtcbiAgICAgICAgICAgICAgICBpZiAoc2VwYXJhdG9yID09IG51bGwpIGJyZWFrIEVYSVQ7IC8vIG5vdCBhIGNvbnN0YW50XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZXhwLmV4cHJlc3Npb24uZWxlbWVudHMucmVkdWNlKGZ1bmN0aW9uKGEsIGVsKXtcbiAgICAgICAgICAgICAgICAgICAgZWwgPSBlbC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEubGVuZ3RoID09IDAgfHwgZWwubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IGFbYS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBhIGNvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IFwiXCIgKyBsYXN0WzFdICsgc2VwYXJhdG9yICsgZWxbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gWyBtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCB2YWwsIGxhc3RbMF0pLCB2YWwgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm4gbWFrZV9ub2RlKEFTVF9TdHJpbmcsIHNlbGYsIHsgdmFsdWU6IFwiXCIgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxKSByZXR1cm4gZWxlbWVudHNbMF1bMF07XG4gICAgICAgICAgICAgICAgaWYgKHNlcGFyYXRvciA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzWzBdWzBdIGluc3RhbmNlb2YgQVNUX1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZWxlbWVudHNbMV1bMF0gaW5zdGFuY2VvZiBBU1RfU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGVsZW1lbnRzLnNoaWZ0KClbMF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBzZWxmLCB7IHZhbHVlOiBcIlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgZWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBlbFswXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yIDogXCIrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCAgICAgOiBwcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogZWxbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZmlyc3QpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGF3a3dhcmQgY2xvbmluZyB0byBub3QgYWZmZWN0IG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBiZXN0X29mIHdpbGwgZGVjaWRlIHdoaWNoIG9uZSB0byBnZXQgdGhyb3VnaC5cbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHNlbGYuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBub2RlLmV4cHJlc3Npb24gPSBub2RlLmV4cHJlc3Npb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBub2RlLmV4cHJlc3Npb24uZXhwcmVzc2lvbiA9IG5vZGUuZXhwcmVzc2lvbi5leHByZXNzaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgbm9kZS5leHByZXNzaW9uLmV4cHJlc3Npb24uZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxbMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3Rfb2Yoc2VsZiwgbm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2lkZV9lZmZlY3RzXCIpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX0Z1bmN0aW9uXG4gICAgICAgICAgICAgICAgJiYgc2VsZi5hcmdzLmxlbmd0aCA9PSAwXG4gICAgICAgICAgICAgICAgJiYgIUFTVF9CbG9jay5wcm90b3R5cGUuaGFzX3NpZGVfZWZmZWN0cy5jYWxsKHNlbGYuZXhwcmVzc2lvbiwgY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJkcm9wX2NvbnNvbGVcIikpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBBU1RfUHJvcEFjY2VzcyAmJlxuICAgICAgICAgICAgICAgIHNlbGYuZXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJlxuICAgICAgICAgICAgICAgIHNlbGYuZXhwcmVzc2lvbi5leHByZXNzaW9uLm5hbWUgPT0gXCJjb25zb2xlXCIgJiZcbiAgICAgICAgICAgICAgICBzZWxmLmV4cHJlc3Npb24uZXhwcmVzc2lvbi51bmRlY2xhcmVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9VbmRlZmluZWQsIHNlbGYpLnRyYW5zZm9ybShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5ldmFsdWF0ZShjb21wcmVzc29yKVswXTtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfTmV3LCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwidW5zYWZlXCIpKSB7XG4gICAgICAgICAgICB2YXIgZXhwID0gc2VsZi5leHByZXNzaW9uO1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYgJiYgZXhwLnVuZGVjbGFyZWQoKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXhwLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZWdFeHBcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfQ2FsbCwgc2VsZiwgc2VsZikudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU2VxLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKCFjb21wcmVzc29yLm9wdGlvbihcInNpZGVfZWZmZWN0c1wiKSlcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICBpZiAoIXNlbGYuY2FyLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZG4ndCBjb21wcmVzcyAoMSxldmFsKShzb21ldGhpbmcpIHRvXG4gICAgICAgICAgICAvLyBldmFsKHNvbWV0aGluZykgYmVjYXVzZSB0aGF0IGNoYW5nZXMgdGhlIG1lYW5pbmcgb2ZcbiAgICAgICAgICAgIC8vIGV2YWwgKGJlY29tZXMgbGV4aWNhbCBpbnN0ZWFkIG9mIGdsb2JhbCkuXG4gICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgIGlmICghKHNlbGYuY2RyIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgJiYgc2VsZi5jZHIubmFtZSA9PSBcImV2YWxcIlxuICAgICAgICAgICAgICAgICAgJiYgc2VsZi5jZHIudW5kZWNsYXJlZCgpXG4gICAgICAgICAgICAgICAgICAmJiAocCA9IGNvbXByZXNzb3IucGFyZW50KCkpIGluc3RhbmNlb2YgQVNUX0NhbGxcbiAgICAgICAgICAgICAgICAgICYmIHAuZXhwcmVzc2lvbiA9PT0gc2VsZikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jZHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiY2FzY2FkZVwiKSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY2FyIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgICAgICYmICFzZWxmLmNhci5sZWZ0Lmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYXIubGVmdC5lcXVpdmFsZW50X3RvKHNlbGYuY2RyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNkciBpbnN0YW5jZW9mIEFTVF9DYWxsXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYuY2RyLmV4cHJlc3Npb24uZXF1aXZhbGVudF90byhzZWxmLmNhci5sZWZ0KSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNkci5leHByZXNzaW9uID0gc2VsZi5jYXI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNkcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNlbGYuY2FyLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcilcbiAgICAgICAgICAgICAgICAmJiAhc2VsZi5jZHIuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgICYmIHNlbGYuY2FyLmVxdWl2YWxlbnRfdG8oc2VsZi5jZHIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2FyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLmNkciBpbnN0YW5jZW9mIEFTVF9VbmFyeVByZWZpeFxuICAgICAgICAgICAgJiYgc2VsZi5jZHIub3BlcmF0b3IgPT0gXCJ2b2lkXCJcbiAgICAgICAgICAgICYmICFzZWxmLmNkci5leHByZXNzaW9uLmhhc19zaWRlX2VmZmVjdHMoY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgIHNlbGYuY2RyLm9wZXJhdG9yID0gc2VsZi5jYXI7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jZHI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuY2RyIGluc3RhbmNlb2YgQVNUX1VuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVW5hcnlQcmVmaXgsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvciAgIDogXCJ2b2lkXCIsXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA6IHNlbGYuY2FyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIEFTVF9VbmFyeS5ERUZNRVRIT0QoXCJsaWZ0X3NlcXVlbmNlc1wiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2VxdWVuY2VzXCIpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHByZXNzaW9uIGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXEgPSB0aGlzLmV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzZXEudG9fYXJyYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1VuYXJ5UG9zdGZpeCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHJldHVybiBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9VbmFyeVByZWZpeCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYgPSBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgICAgICB2YXIgZSA9IHNlbGYuZXhwcmVzc2lvbjtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYm9vbGVhbnNcIikgJiYgY29tcHJlc3Nvci5pbl9ib29sZWFuX2NvbnRleHQoKSkge1xuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCIhXCI6XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXggJiYgZS5vcGVyYXRvciA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyAhIWZvbyA9PT4gZm9vLCBpZiB3ZSdyZSBpbiBib29sZWFuIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZXhwcmVzc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0eXBlb2ZcIjpcbiAgICAgICAgICAgICAgICAvLyB0eXBlb2YgYWx3YXlzIHJldHVybnMgYSBub24tZW1wdHkgc3RyaW5nLCB0aHVzIGl0J3NcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgdHJ1ZSBpbiBib29sZWFuc1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkJvb2xlYW4gZXhwcmVzc2lvbiBhbHdheXMgdHJ1ZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc2VsZi5zdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVHJ1ZSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkgJiYgc2VsZi5vcGVyYXRvciA9PSBcIiFcIikge1xuICAgICAgICAgICAgICAgIHNlbGYgPSBiZXN0X29mKHNlbGYsIGUubmVnYXRlKGNvbXByZXNzb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5ldmFsdWF0ZShjb21wcmVzc29yKVswXTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGhhc19zaWRlX2VmZmVjdHNfb3JfcHJvcF9hY2Nlc3Mobm9kZSwgY29tcHJlc3Nvcikge1xuICAgICAgICB2YXIgc2F2ZV9wdXJlX2dldHRlcnMgPSBjb21wcmVzc29yLm9wdGlvbihcInB1cmVfZ2V0dGVyc1wiKTtcbiAgICAgICAgY29tcHJlc3Nvci5vcHRpb25zLnB1cmVfZ2V0dGVycyA9IGZhbHNlO1xuICAgICAgICB2YXIgcmV0ID0gbm9kZS5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpO1xuICAgICAgICBjb21wcmVzc29yLm9wdGlvbnMucHVyZV9nZXR0ZXJzID0gc2F2ZV9wdXJlX2dldHRlcnM7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgQVNUX0JpbmFyeS5ERUZNRVRIT0QoXCJsaWZ0X3NlcXVlbmNlc1wiLCBmdW5jdGlvbihjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwic2VxdWVuY2VzXCIpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0IGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXEgPSB0aGlzLmxlZnQ7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzZXEudG9fYXJyYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQgPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCBpbnN0YW5jZW9mIEFTVF9TZXFcbiAgICAgICAgICAgICAgICAmJiB0aGlzIGluc3RhbmNlb2YgQVNUX0Fzc2lnblxuICAgICAgICAgICAgICAgICYmICFoYXNfc2lkZV9lZmZlY3RzX29yX3Byb3BfYWNjZXNzKHRoaXMubGVmdCwgY29tcHJlc3NvcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gdGhpcy5yaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNlcS50b19hcnJheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQgPSB4LnBvcCgpO1xuICAgICAgICAgICAgICAgIHgucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBzZXEgPSBBU1RfU2VxLmZyb21fYXJyYXkoeCkudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cbiAgICB2YXIgY29tbXV0YXRpdmVPcGVyYXRvcnMgPSBtYWtlUHJlZGljYXRlKFwiPT0gPT09ICE9ICE9PSAqICYgfCBeXCIpO1xuXG4gICAgT1BUKEFTVF9CaW5hcnksIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICB2YXIgcmV2ZXJzZSA9IGNvbXByZXNzb3IuaGFzX2RpcmVjdGl2ZShcInVzZSBhc21cIikgPyBub29wXG4gICAgICAgICAgICA6IGZ1bmN0aW9uKG9wLCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZSB8fCAhKHNlbGYubGVmdC5oYXNfc2lkZV9lZmZlY3RzKGNvbXByZXNzb3IpIHx8IHNlbGYucmlnaHQuaGFzX3NpZGVfZWZmZWN0cyhjb21wcmVzc29yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wKSBzZWxmLm9wZXJhdG9yID0gb3A7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzZWxmLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IHNlbGYucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmlnaHQgPSB0bXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbW11dGF0aXZlT3BlcmF0b3JzKHNlbGYub3BlcmF0b3IpKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICYmICEoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50KSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHJpZ2h0IGlzIGEgY29uc3RhbnQsIHdoYXRldmVyIHNpZGUgZWZmZWN0cyB0aGVcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IHNpZGUgbWlnaHQgaGF2ZSBjb3VsZCBub3QgaW5mbHVlbmNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlc3VsdC4gIGhlbmNlLCBmb3JjZSBzd2l0Y2guXG5cbiAgICAgICAgICAgICAgICBpZiAoIShzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgJiYgUFJFQ0VERU5DRVtzZWxmLmxlZnQub3BlcmF0b3JdID49IFBSRUNFREVOQ0Vbc2VsZi5vcGVyYXRvcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2UobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eWyE9XT09PyQvLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJiBzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0LmNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmNvbnNlcXVlbnQuZGVmaW5pdGlvbigpID09PSBzZWxmLmxlZnQuZGVmaW5pdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL149PS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYucmlnaHQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eIT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLnJpZ2h0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmlnaHQuYWx0ZXJuYXRpdmUgaW5zdGFuY2VvZiBBU1RfU3ltYm9sUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmFsdGVybmF0aXZlLmRlZmluaXRpb24oKSA9PT0gc2VsZi5sZWZ0LmRlZmluaXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9ePT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLnJpZ2h0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14hPS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYucmlnaHQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZiAmJiBzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQ29uZGl0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubGVmdC5jb25zZXF1ZW50IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0LmNvbnNlcXVlbnQuZGVmaW5pdGlvbigpID09PSBzZWxmLnJpZ2h0LmRlZmluaXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9ePT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLmxlZnQuY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eIT0vLnRlc3Qoc2VsZi5vcGVyYXRvcikpIHJldHVybiBzZWxmLmxlZnQuY29uZGl0aW9uLm5lZ2F0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0LmFsdGVybmF0aXZlIGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0LmFsdGVybmF0aXZlLmRlZmluaXRpb24oKSA9PT0gc2VsZi5yaWdodC5kZWZpbml0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXj09Ly50ZXN0KHNlbGYub3BlcmF0b3IpKSByZXR1cm4gc2VsZi5sZWZ0LmNvbmRpdGlvbi5uZWdhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14hPS8udGVzdChzZWxmLm9wZXJhdG9yKSkgcmV0dXJuIHNlbGYubGVmdC5jb25kaXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZiA9IHNlbGYubGlmdF9zZXF1ZW5jZXMoY29tcHJlc3Nvcik7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImNvbXBhcmlzb25zXCIpKSBzd2l0Y2ggKHNlbGYub3BlcmF0b3IpIHtcbiAgICAgICAgICBjYXNlIFwiPT09XCI6XG4gICAgICAgICAgY2FzZSBcIiE9PVwiOlxuICAgICAgICAgICAgaWYgKChzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpICYmIHNlbGYucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB8fFxuICAgICAgICAgICAgICAgIChzZWxmLmxlZnQuaXNfYm9vbGVhbigpICYmIHNlbGYucmlnaHQuaXNfYm9vbGVhbigpKSkge1xuICAgICAgICAgICAgICAgIHNlbGYub3BlcmF0b3IgPSBzZWxmLm9wZXJhdG9yLnN1YnN0cigwLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFhYWDogaW50ZW50aW9uYWxseSBmYWxsaW5nIGRvd24gdG8gdGhlIG5leHQgY2FzZVxuICAgICAgICAgIGNhc2UgXCI9PVwiOlxuICAgICAgICAgIGNhc2UgXCIhPVwiOlxuICAgICAgICAgICAgaWYgKHNlbGYubGVmdCBpbnN0YW5jZW9mIEFTVF9TdHJpbmdcbiAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQudmFsdWUgPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQgaW5zdGFuY2VvZiBBU1RfVW5hcnlQcmVmaXhcbiAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0Lm9wZXJhdG9yID09IFwidHlwZW9mXCJcbiAgICAgICAgICAgICAgICAmJiBjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSkge1xuICAgICAgICAgICAgICAgIGlmICghKHNlbGYucmlnaHQuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWYpXG4gICAgICAgICAgICAgICAgICAgIHx8ICFzZWxmLnJpZ2h0LmV4cHJlc3Npb24udW5kZWNsYXJlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLnJpZ2h0LmV4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGVmdCA9IG1ha2Vfbm9kZShBU1RfVW5kZWZpbmVkLCBzZWxmLmxlZnQpLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcGVyYXRvci5sZW5ndGggPT0gMikgc2VsZi5vcGVyYXRvciArPSBcIj1cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJib29sZWFuc1wiKSAmJiBjb21wcmVzc29yLmluX2Jvb2xlYW5fY29udGV4dCgpKSBzd2l0Y2ggKHNlbGYub3BlcmF0b3IpIHtcbiAgICAgICAgICBjYXNlIFwiJiZcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgIWxsWzFdKSB8fCAocnIubGVuZ3RoID4gMSAmJiAhcnJbMV0pKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiQm9vbGVhbiAmJiBhbHdheXMgZmFsc2UgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0ZhbHNlLCBzZWxmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsbC5sZW5ndGggPiAxICYmIGxsWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJyLmxlbmd0aCA+IDEgJiYgcnJbMV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGxbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwifHxcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgbGxbMV0pIHx8IChyci5sZW5ndGggPiAxICYmIHJyWzFdKSkge1xuICAgICAgICAgICAgICAgIGNvbXByZXNzb3Iud2FybihcIkJvb2xlYW4gfHwgYWx3YXlzIHRydWUgW3tmaWxlfTp7bGluZX0se2NvbH1dXCIsIHNlbGYuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1RydWUsIHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxsLmxlbmd0aCA+IDEgJiYgIWxsWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJyWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJyLmxlbmd0aCA+IDEgJiYgIXJyWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxsWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgIHZhciBsbCA9IHNlbGYubGVmdC5ldmFsdWF0ZShjb21wcmVzc29yKTtcbiAgICAgICAgICAgIHZhciByciA9IHNlbGYucmlnaHQuZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgICAgICBpZiAoKGxsLmxlbmd0aCA+IDEgJiYgbGxbMF0gaW5zdGFuY2VvZiBBU1RfU3RyaW5nICYmIGxsWzFdKSB8fFxuICAgICAgICAgICAgICAgIChyci5sZW5ndGggPiAxICYmIHJyWzBdIGluc3RhbmNlb2YgQVNUX1N0cmluZyAmJiByclsxXSkpIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCIrIGluIGJvb2xlYW4gY29udGV4dCBhbHdheXMgdHJ1ZSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwgc2VsZi5zdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2Vfbm9kZShBU1RfVHJ1ZSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJjb21wYXJpc29uc1wiKSkge1xuICAgICAgICAgICAgaWYgKCEoY29tcHJlc3Nvci5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9CaW5hcnkpXG4gICAgICAgICAgICAgICAgfHwgY29tcHJlc3Nvci5wYXJlbnQoKSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVnYXRlZCA9IG1ha2Vfbm9kZShBU1RfVW5hcnlQcmVmaXgsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBzZWxmLm5lZ2F0ZShjb21wcmVzc29yKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlbGYgPSBiZXN0X29mKHNlbGYsIG5lZ2F0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCI8XCI6IHJldmVyc2UoXCI+XCIpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIjw9XCI6IHJldmVyc2UoXCI+PVwiKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYub3BlcmF0b3IgPT0gXCIrXCIgJiYgc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9TdHJpbmdcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQuZ2V0VmFsdWUoKSA9PT0gXCJcIiAmJiBzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAmJiBzZWxmLmxlZnQub3BlcmF0b3IgPT0gXCIrXCIgJiYgc2VsZi5sZWZ0LmlzX3N0cmluZyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcHJlc3Nvci5vcHRpb24oXCJldmFsdWF0ZVwiKSkge1xuICAgICAgICAgICAgaWYgKHNlbGYub3BlcmF0b3IgPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQub3BlcmF0b3IgPT0gXCIrXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5yaWdodC5sZWZ0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbWFrZV9ub2RlKEFTVF9TdHJpbmcsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIiArIHNlbGYubGVmdC5nZXRWYWx1ZSgpICsgc2VsZi5yaWdodC5sZWZ0LmdldFZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHNlbGYubGVmdC5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHNlbGYucmlnaHQubGVmdC5lbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGYucmlnaHQucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0NvbnN0YW50XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZi5sZWZ0Lm9wZXJhdG9yID09IFwiK1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiK1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5sZWZ0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9TdHJpbmcsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIiArIHNlbGYubGVmdC5yaWdodC5nZXRWYWx1ZSgpICsgc2VsZi5yaWdodC5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzZWxmLmxlZnQucmlnaHQuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBzZWxmLnJpZ2h0LmVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmxlZnQgaW5zdGFuY2VvZiBBU1RfQmluYXJ5XG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5vcGVyYXRvciA9PSBcIitcIlxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLmxlZnQuaXNfc3RyaW5nKGNvbXByZXNzb3IpXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYubGVmdC5yaWdodCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0IGluc3RhbmNlb2YgQVNUX0JpbmFyeVxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0Lm9wZXJhdG9yID09IFwiK1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdCBpbnN0YW5jZW9mIEFTVF9Db25zdGFudFxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmLnJpZ2h0LmlzX3N0cmluZyhjb21wcmVzc29yKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmID0gbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIitcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG1ha2Vfbm9kZShBU1RfQmluYXJ5LCBzZWxmLmxlZnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogXCIrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5sZWZ0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG1ha2Vfbm9kZShBU1RfU3RyaW5nLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiICsgc2VsZi5sZWZ0LnJpZ2h0LmdldFZhbHVlKCkgKyBzZWxmLnJpZ2h0LmxlZnQuZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHNlbGYubGVmdC5yaWdodC5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBzZWxmLnJpZ2h0LmxlZnQuZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNlbGYucmlnaHQucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHggKiAoeSAqIHopICA9PT4gIHggKiB5ICogelxuICAgICAgICBpZiAoc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQub3BlcmF0b3IgPT0gc2VsZi5vcGVyYXRvclxuICAgICAgICAgICAgJiYgKHNlbGYub3BlcmF0b3IgPT0gXCIqXCIgfHwgc2VsZi5vcGVyYXRvciA9PSBcIiYmXCIgfHwgc2VsZi5vcGVyYXRvciA9PSBcInx8XCIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLmxlZnQgPSBtYWtlX25vZGUoQVNUX0JpbmFyeSwgc2VsZi5sZWZ0LCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgOiBzZWxmLm9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGxlZnQgICAgIDogc2VsZi5sZWZ0LFxuICAgICAgICAgICAgICAgIHJpZ2h0ICAgIDogc2VsZi5yaWdodC5sZWZ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYucmlnaHQgPSBzZWxmLnJpZ2h0LnJpZ2h0O1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYudHJhbnNmb3JtKGNvbXByZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmV2YWx1YXRlKGNvbXByZXNzb3IpWzBdO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9TeW1ib2xSZWYsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoc2VsZi51bmRlY2xhcmVkKCkpIHtcbiAgICAgICAgICAgIHZhciBkZWZpbmVzID0gY29tcHJlc3Nvci5vcHRpb24oXCJnbG9iYWxfZGVmc1wiKTtcbiAgICAgICAgICAgIGlmIChkZWZpbmVzICYmIGRlZmluZXMuaGFzT3duUHJvcGVydHkoc2VsZi5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGVfZnJvbV9jb25zdGFudChjb21wcmVzc29yLCBkZWZpbmVzW3NlbGYubmFtZV0sIHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzZWxmLm5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuZGVmaW5lZCwgc2VsZik7XG4gICAgICAgICAgICAgIGNhc2UgXCJOYU5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9OYU4sIHNlbGYpO1xuICAgICAgICAgICAgICBjYXNlIFwiSW5maW5pdHlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9JbmZpbml0eSwgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG5cbiAgICBPUFQoQVNUX1VuZGVmaW5lZCwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcInVuc2FmZVwiKSkge1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gY29tcHJlc3Nvci5maW5kX3BhcmVudChBU1RfU2NvcGUpO1xuICAgICAgICAgICAgdmFyIHVuZGVmID0gc2NvcGUuZmluZF92YXJpYWJsZShcInVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIGlmICh1bmRlZikge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSBtYWtlX25vZGUoQVNUX1N5bWJvbFJlZiwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lICAgOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgICAgICAgICBzY29wZSAgOiBzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlZGVmIDogdW5kZWZcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZWYucmVmZXJlbmNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIHZhciBBU1NJR05fT1BTID0gWyAnKycsICctJywgJy8nLCAnKicsICclJywgJz4+JywgJzw8JywgJz4+PicsICd8JywgJ14nLCAnJicgXTtcbiAgICBPUFQoQVNUX0Fzc2lnbiwgZnVuY3Rpb24oc2VsZiwgY29tcHJlc3Nvcil7XG4gICAgICAgIHNlbGYgPSBzZWxmLmxpZnRfc2VxdWVuY2VzKGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoc2VsZi5vcGVyYXRvciA9PSBcIj1cIlxuICAgICAgICAgICAgJiYgc2VsZi5sZWZ0IGluc3RhbmNlb2YgQVNUX1N5bWJvbFJlZlxuICAgICAgICAgICAgJiYgc2VsZi5yaWdodCBpbnN0YW5jZW9mIEFTVF9CaW5hcnlcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdCBpbnN0YW5jZW9mIEFTVF9TeW1ib2xSZWZcbiAgICAgICAgICAgICYmIHNlbGYucmlnaHQubGVmdC5uYW1lID09IHNlbGYubGVmdC5uYW1lXG4gICAgICAgICAgICAmJiBtZW1iZXIoc2VsZi5yaWdodC5vcGVyYXRvciwgQVNTSUdOX09QUykpIHtcbiAgICAgICAgICAgIHNlbGYub3BlcmF0b3IgPSBzZWxmLnJpZ2h0Lm9wZXJhdG9yICsgXCI9XCI7XG4gICAgICAgICAgICBzZWxmLnJpZ2h0ID0gc2VsZi5yaWdodC5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfQ29uZGl0aW9uYWwsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICBpZiAoIWNvbXByZXNzb3Iub3B0aW9uKFwiY29uZGl0aW9uYWxzXCIpKSByZXR1cm4gc2VsZjtcbiAgICAgICAgaWYgKHNlbGYuY29uZGl0aW9uIGluc3RhbmNlb2YgQVNUX1NlcSkge1xuICAgICAgICAgICAgdmFyIGNhciA9IHNlbGYuY29uZGl0aW9uLmNhcjtcbiAgICAgICAgICAgIHNlbGYuY29uZGl0aW9uID0gc2VsZi5jb25kaXRpb24uY2RyO1xuICAgICAgICAgICAgcmV0dXJuIEFTVF9TZXEuY29ucyhjYXIsIHNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25kID0gc2VsZi5jb25kaXRpb24uZXZhbHVhdGUoY29tcHJlc3Nvcik7XG4gICAgICAgIGlmIChjb25kLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGlmIChjb25kWzFdKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiQ29uZGl0aW9uIGFsd2F5cyB0cnVlIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zZXF1ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wcmVzc29yLndhcm4oXCJDb25kaXRpb24gYWx3YXlzIGZhbHNlIFt7ZmlsZX06e2xpbmV9LHtjb2x9XVwiLCBzZWxmLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmVnYXRlZCA9IGNvbmRbMF0ubmVnYXRlKGNvbXByZXNzb3IpO1xuICAgICAgICBpZiAoYmVzdF9vZihjb25kWzBdLCBuZWdhdGVkKSA9PT0gbmVnYXRlZCkge1xuICAgICAgICAgICAgc2VsZiA9IG1ha2Vfbm9kZShBU1RfQ29uZGl0aW9uYWwsIHNlbGYsIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IG5lZ2F0ZWQsXG4gICAgICAgICAgICAgICAgY29uc2VxdWVudDogc2VsZi5hbHRlcm5hdGl2ZSxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogc2VsZi5jb25zZXF1ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uc2VxdWVudCA9IHNlbGYuY29uc2VxdWVudDtcbiAgICAgICAgdmFyIGFsdGVybmF0aXZlID0gc2VsZi5hbHRlcm5hdGl2ZTtcbiAgICAgICAgaWYgKGNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfQXNzaWduXG4gICAgICAgICAgICAmJiBhbHRlcm5hdGl2ZSBpbnN0YW5jZW9mIEFTVF9Bc3NpZ25cbiAgICAgICAgICAgICYmIGNvbnNlcXVlbnQub3BlcmF0b3IgPT0gYWx0ZXJuYXRpdmUub3BlcmF0b3JcbiAgICAgICAgICAgICYmIGNvbnNlcXVlbnQubGVmdC5lcXVpdmFsZW50X3RvKGFsdGVybmF0aXZlLmxlZnQpXG4gICAgICAgICAgICkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFN0dWZmIGxpa2UgdGhpczpcbiAgICAgICAgICAgICAqIGlmIChmb28pIGV4cCA9IHNvbWV0aGluZzsgZWxzZSBleHAgPSBzb21ldGhpbmdfZWxzZTtcbiAgICAgICAgICAgICAqID09PlxuICAgICAgICAgICAgICogZXhwID0gZm9vID8gc29tZXRoaW5nIDogc29tZXRoaW5nX2Vsc2U7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0Fzc2lnbiwgc2VsZiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBjb25zZXF1ZW50Lm9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGNvbnNlcXVlbnQubGVmdCxcbiAgICAgICAgICAgICAgICByaWdodDogbWFrZV9ub2RlKEFTVF9Db25kaXRpb25hbCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjb25zZXF1ZW50OiBjb25zZXF1ZW50LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogYWx0ZXJuYXRpdmUucmlnaHRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBU1RfQ2FsbFxuICAgICAgICAgICAgJiYgYWx0ZXJuYXRpdmUuVFlQRSA9PT0gY29uc2VxdWVudC5UWVBFXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmFyZ3MubGVuZ3RoID09IGFsdGVybmF0aXZlLmFyZ3MubGVuZ3RoXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmV4cHJlc3Npb24uZXF1aXZhbGVudF90byhhbHRlcm5hdGl2ZS5leHByZXNzaW9uKSkge1xuICAgICAgICAgICAgaWYgKGNvbnNlcXVlbnQuYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1NlcSwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBjYXI6IHNlbGYuY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjZHI6IGNvbnNlcXVlbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25zZXF1ZW50LmFyZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zZXF1ZW50LmFyZ3NbMF0gPSBtYWtlX25vZGUoQVNUX0NvbmRpdGlvbmFsLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQuYXJnc1swXSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmU6IGFsdGVybmF0aXZlLmFyZ3NbMF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc2VxdWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB4P3k/ejphOmEgLS0+IHgmJnk/ejphXG4gICAgICAgIGlmIChjb25zZXF1ZW50IGluc3RhbmNlb2YgQVNUX0NvbmRpdGlvbmFsXG4gICAgICAgICAgICAmJiBjb25zZXF1ZW50LmFsdGVybmF0aXZlLmVxdWl2YWxlbnRfdG8oYWx0ZXJuYXRpdmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZV9ub2RlKEFTVF9Db25kaXRpb25hbCwgc2VsZiwge1xuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogbWFrZV9ub2RlKEFTVF9CaW5hcnksIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5jb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiBcIiYmXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBjb25zZXF1ZW50LmNvbmRpdGlvblxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQuY29uc2VxdWVudCxcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZTogYWx0ZXJuYXRpdmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Cb29sZWFuLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgaWYgKGNvbXByZXNzb3Iub3B0aW9uKFwiYm9vbGVhbnNcIikpIHtcbiAgICAgICAgICAgIHZhciBwID0gY29tcHJlc3Nvci5wYXJlbnQoKTtcbiAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgQVNUX0JpbmFyeSAmJiAocC5vcGVyYXRvciA9PSBcIj09XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgcC5vcGVyYXRvciA9PSBcIiE9XCIpKSB7XG4gICAgICAgICAgICAgICAgY29tcHJlc3Nvci53YXJuKFwiTm9uLXN0cmljdCBlcXVhbGl0eSBhZ2FpbnN0IGJvb2xlYW46IHtvcGVyYXRvcn0ge3ZhbHVlfSBbe2ZpbGV9OntsaW5lfSx7Y29sfV1cIiwge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvciA6IHAub3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgIDogc2VsZi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZSAgICAgOiBwLnN0YXJ0LmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgICAgIDogcC5zdGFydC5saW5lLFxuICAgICAgICAgICAgICAgICAgICBjb2wgICAgICA6IHAuc3RhcnQuY29sLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX051bWJlciwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogK3NlbGYudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1VuYXJ5UHJlZml4LCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IFwiIVwiLFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IG1ha2Vfbm9kZShBU1RfTnVtYmVyLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAxIC0gc2VsZi52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KTtcblxuICAgIE9QVChBU1RfU3ViLCBmdW5jdGlvbihzZWxmLCBjb21wcmVzc29yKXtcbiAgICAgICAgdmFyIHByb3AgPSBzZWxmLnByb3BlcnR5O1xuICAgICAgICBpZiAocHJvcCBpbnN0YW5jZW9mIEFTVF9TdHJpbmcgJiYgY29tcHJlc3Nvci5vcHRpb24oXCJwcm9wZXJ0aWVzXCIpKSB7XG4gICAgICAgICAgICBwcm9wID0gcHJvcC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKFJFU0VSVkVEX1dPUkRTKHByb3ApID8gY29tcHJlc3Nvci5vcHRpb24oXCJzY3Jld19pZThcIikgOiBpc19pZGVudGlmaWVyX3N0cmluZyhwcm9wKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX0RvdCwgc2VsZiwge1xuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uIDogc2VsZi5leHByZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSAgIDogcHJvcFxuICAgICAgICAgICAgICAgIH0pLm9wdGltaXplKGNvbXByZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHYgPSBwYXJzZUZsb2F0KHByb3ApO1xuICAgICAgICAgICAgaWYgKCFpc05hTih2KSAmJiB2LnRvU3RyaW5nKCkgPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgIHNlbGYucHJvcGVydHkgPSBtYWtlX25vZGUoQVNUX051bWJlciwgc2VsZi5wcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0pO1xuXG4gICAgT1BUKEFTVF9Eb3QsIGZ1bmN0aW9uKHNlbGYsIGNvbXByZXNzb3Ipe1xuICAgICAgICByZXR1cm4gc2VsZi5ldmFsdWF0ZShjb21wcmVzc29yKVswXTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxpdGVyYWxzX2luX2Jvb2xlYW5fY29udGV4dChzZWxmLCBjb21wcmVzc29yKSB7XG4gICAgICAgIGlmIChjb21wcmVzc29yLm9wdGlvbihcImJvb2xlYW5zXCIpICYmIGNvbXByZXNzb3IuaW5fYm9vbGVhbl9jb250ZXh0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlX25vZGUoQVNUX1RydWUsIHNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gICAgT1BUKEFTVF9BcnJheSwgbGl0ZXJhbHNfaW5fYm9vbGVhbl9jb250ZXh0KTtcbiAgICBPUFQoQVNUX09iamVjdCwgbGl0ZXJhbHNfaW5fYm9vbGVhbl9jb250ZXh0KTtcbiAgICBPUFQoQVNUX1JlZ0V4cCwgbGl0ZXJhbHNfaW5fYm9vbGVhbl9jb250ZXh0KTtcblxufSkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgQSBKYXZhU2NyaXB0IHRva2VuaXplciAvIHBhcnNlciAvIGJlYXV0aWZpZXIgLyBjb21wcmVzc29yLlxuICBodHRwczovL2dpdGh1Yi5jb20vbWlzaG9vL1VnbGlmeUpTMlxuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChDKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yOiBNaWhhaSBCYXpvblxuICAgICAgICAgICAgICAgICAgICAgICAgIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG4gICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9taWhhaS5iYXpvbi5uZXQvYmxvZ1xuXG4gIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcblxuICAgIENvcHlyaWdodCAyMDEyIChjKSBNaWhhaSBCYXpvbiA8bWloYWkuYmF6b25AZ21haWwuY29tPlxuXG4gICAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gICAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zXG4gICAgYXJlIG1ldDpcblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIuXG5cbiAgICAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gICAgICAgICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAgICAgICAgICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSIOKAnEFTIElT4oCdIEFORCBBTllcbiAgICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICAgIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICAgIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIEJFXG4gICAgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLFxuICAgIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gICAgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gICAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gICAgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1JcbiAgICBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0ZcbiAgICBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0ZcbiAgICBTVUNIIERBTUFHRS5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gYSBzbWFsbCB3cmFwcGVyIGFyb3VuZCBmaXR6Z2VuJ3Mgc291cmNlLW1hcCBsaWJyYXJ5XG5mdW5jdGlvbiBTb3VyY2VNYXAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIGZpbGUgOiBudWxsLFxuICAgICAgICByb290IDogbnVsbCxcbiAgICAgICAgb3JpZyA6IG51bGwsXG5cbiAgICAgICAgb3JpZ19saW5lX2RpZmYgOiAwLFxuICAgICAgICBkZXN0X2xpbmVfZGlmZiA6IDAsXG4gICAgfSk7XG4gICAgdmFyIGdlbmVyYXRvciA9IG5ldyBNT1pfU291cmNlTWFwLlNvdXJjZU1hcEdlbmVyYXRvcih7XG4gICAgICAgIGZpbGUgICAgICAgOiBvcHRpb25zLmZpbGUsXG4gICAgICAgIHNvdXJjZVJvb3QgOiBvcHRpb25zLnJvb3RcbiAgICB9KTtcbiAgICB2YXIgb3JpZ19tYXAgPSBvcHRpb25zLm9yaWcgJiYgbmV3IE1PWl9Tb3VyY2VNYXAuU291cmNlTWFwQ29uc3VtZXIob3B0aW9ucy5vcmlnKTtcbiAgICBmdW5jdGlvbiBhZGQoc291cmNlLCBnZW5fbGluZSwgZ2VuX2NvbCwgb3JpZ19saW5lLCBvcmlnX2NvbCwgbmFtZSkge1xuICAgICAgICBpZiAob3JpZ19tYXApIHtcbiAgICAgICAgICAgIHZhciBpbmZvID0gb3JpZ19tYXAub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICAgICAgICAgICAgbGluZTogb3JpZ19saW5lLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogb3JpZ19jb2xcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluZm8uc291cmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlID0gaW5mby5zb3VyY2U7XG4gICAgICAgICAgICBvcmlnX2xpbmUgPSBpbmZvLmxpbmU7XG4gICAgICAgICAgICBvcmlnX2NvbCA9IGluZm8uY29sdW1uO1xuICAgICAgICAgICAgbmFtZSA9IGluZm8ubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBnZW5lcmF0b3IuYWRkTWFwcGluZyh7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgOiB7IGxpbmU6IGdlbl9saW5lICsgb3B0aW9ucy5kZXN0X2xpbmVfZGlmZiwgY29sdW1uOiBnZW5fY29sIH0sXG4gICAgICAgICAgICBvcmlnaW5hbCAgOiB7IGxpbmU6IG9yaWdfbGluZSArIG9wdGlvbnMub3JpZ19saW5lX2RpZmYsIGNvbHVtbjogb3JpZ19jb2wgfSxcbiAgICAgICAgICAgIHNvdXJjZSAgICA6IHNvdXJjZSxcbiAgICAgICAgICAgIG5hbWUgICAgICA6IG5hbWVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQgICAgICAgIDogYWRkLFxuICAgICAgICBnZXQgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBnZW5lcmF0b3IgfSxcbiAgICAgICAgdG9TdHJpbmcgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2VuZXJhdG9yLnRvU3RyaW5nKCkgfVxuICAgIH07XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBBIEphdmFTY3JpcHQgdG9rZW5pemVyIC8gcGFyc2VyIC8gYmVhdXRpZmllciAvIGNvbXByZXNzb3IuXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9taXNob28vVWdsaWZ5SlMyXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKEMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3I6IE1paGFpIEJhem9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgPG1paGFpLmJhem9uQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL21paGFpLmJhem9uLm5ldC9ibG9nXG5cbiAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuXG4gICAgQ29weXJpZ2h0IDIwMTIgKGMpIE1paGFpIEJhem9uIDxtaWhhaS5iYXpvbkBnbWFpbC5jb20+XG5cbiAgICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnNcbiAgICBhcmUgbWV0OlxuXG4gICAgICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZVxuICAgICAgICAgIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgZGlzY2xhaW1lci5cblxuICAgICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgICAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICAgICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVIg4oCcQVMgSVPigJ0gQU5EIEFOWVxuICAgIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSXG4gICAgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgQkVcbiAgICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksXG4gICAgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbiAgICBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUlxuICAgIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRlxuICAgIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRlxuICAgIFNVQ0ggREFNQUdFLlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIHZhciBNT1pfVE9fTUUgPSB7XG4gICAgICAgIFRyeVN0YXRlbWVudCA6IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1RyeSh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgICA6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBib2R5ICAgICA6IGZyb21fbW96KE0uYmxvY2spLmJvZHksXG4gICAgICAgICAgICAgICAgYmNhdGNoICAgOiBmcm9tX21veihNLmhhbmRsZXJzID8gTS5oYW5kbGVyc1swXSA6IE0uaGFuZGxlciksXG4gICAgICAgICAgICAgICAgYmZpbmFsbHkgOiBNLmZpbmFsaXplciA/IG5ldyBBU1RfRmluYWxseShmcm9tX21veihNLmZpbmFsaXplcikpIDogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIENhdGNoQ2xhdXNlIDogZnVuY3Rpb24oTSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfQ2F0Y2goe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGFyZ25hbWUgOiBmcm9tX21veihNLnBhcmFtKSxcbiAgICAgICAgICAgICAgICBib2R5ICAgIDogZnJvbV9tb3ooTS5ib2R5KS5ib2R5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgT2JqZWN0RXhwcmVzc2lvbiA6IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX09iamVjdCh7XG4gICAgICAgICAgICAgICAgc3RhcnQgICAgICA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGVuZCAgICAgICAgOiBteV9lbmRfdG9rZW4oTSksXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcyA6IE0ucHJvcGVydGllcy5tYXAoZnVuY3Rpb24ocHJvcCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwcm9wLmtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXkudHlwZSA9PSBcIklkZW50aWZpZXJcIiA/IGtleS5uYW1lIDoga2V5LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ICAgIDogbXlfc3RhcnRfdG9rZW4oa2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCAgICAgIDogbXlfZW5kX3Rva2VuKHByb3AudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ICAgICAgOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgOiBmcm9tX21veihwcm9wLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3Aua2luZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbml0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTVF9PYmplY3RLZXlWYWwoYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy52YWx1ZS5uYW1lID0gZnJvbV9tb3ooa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX09iamVjdFNldHRlcihhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnZhbHVlLm5hbWUgPSBmcm9tX21veihrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfT2JqZWN0R2V0dGVyKGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBTZXF1ZW5jZUV4cHJlc3Npb24gOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICByZXR1cm4gQVNUX1NlcS5mcm9tX2FycmF5KE0uZXhwcmVzc2lvbnMubWFwKGZyb21fbW96KSk7XG4gICAgICAgIH0sXG4gICAgICAgIE1lbWJlckV4cHJlc3Npb24gOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IChNLmNvbXB1dGVkID8gQVNUX1N1YiA6IEFTVF9Eb3QpKHtcbiAgICAgICAgICAgICAgICBzdGFydCAgICAgIDogbXlfc3RhcnRfdG9rZW4oTSksXG4gICAgICAgICAgICAgICAgZW5kICAgICAgICA6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSAgIDogTS5jb21wdXRlZCA/IGZyb21fbW96KE0ucHJvcGVydHkpIDogTS5wcm9wZXJ0eS5uYW1lLFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBmcm9tX21veihNLm9iamVjdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBTd2l0Y2hDYXNlIDogZnVuY3Rpb24oTSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAoTS50ZXN0ID8gQVNUX0Nhc2UgOiBBU1RfRGVmYXVsdCkoe1xuICAgICAgICAgICAgICAgIHN0YXJ0ICAgICAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgICAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gOiBmcm9tX21veihNLnRlc3QpLFxuICAgICAgICAgICAgICAgIGJvZHkgICAgICAgOiBNLmNvbnNlcXVlbnQubWFwKGZyb21fbW96KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIExpdGVyYWwgOiBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gTS52YWx1ZSwgYXJncyA9IHtcbiAgICAgICAgICAgICAgICBzdGFydCAgOiBteV9zdGFydF90b2tlbihNKSxcbiAgICAgICAgICAgICAgICBlbmQgICAgOiBteV9lbmRfdG9rZW4oTSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gbmV3IEFTVF9OdWxsKGFyZ3MpO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBhcmdzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1N0cmluZyhhcmdzKTtcbiAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIGFyZ3MudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU1RfTnVtYmVyKGFyZ3MpO1xuICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgKHZhbCA/IEFTVF9UcnVlIDogQVNUX0ZhbHNlKShhcmdzKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhcmdzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNUX1JlZ0V4cChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgVW5hcnlFeHByZXNzaW9uOiBGcm9tX01vel9VbmFyeSxcbiAgICAgICAgVXBkYXRlRXhwcmVzc2lvbjogRnJvbV9Nb3pfVW5hcnksXG4gICAgICAgIElkZW50aWZpZXI6IGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgIHZhciBwID0gRlJPTV9NT1pfU1RBQ0tbRlJPTV9NT1pfU1RBQ0subGVuZ3RoIC0gMl07XG4gICAgICAgICAgICByZXR1cm4gbmV3IChNLm5hbWUgPT0gXCJ0aGlzXCIgPyBBU1RfVGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLnR5cGUgPT0gXCJMYWJlbGVkU3RhdGVtZW50XCIgPyBBU1RfTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIgJiYgcC5pZCA9PT0gTSA/IChwLmtpbmQgPT0gXCJjb25zdFwiID8gQVNUX1N5bWJvbENvbnN0IDogQVNUX1N5bWJvbFZhcilcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIgPyAocC5pZCA9PT0gTSA/IEFTVF9TeW1ib2xMYW1iZGEgOiBBU1RfU3ltYm9sRnVuYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLnR5cGUgPT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgPyAocC5pZCA9PT0gTSA/IEFTVF9TeW1ib2xEZWZ1biA6IEFTVF9TeW1ib2xGdW5hcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHAudHlwZSA9PSBcIkNhdGNoQ2xhdXNlXCIgPyBBU1RfU3ltYm9sQ2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC50eXBlID09IFwiQnJlYWtTdGF0ZW1lbnRcIiB8fCBwLnR5cGUgPT0gXCJDb250aW51ZVN0YXRlbWVudFwiID8gQVNUX0xhYmVsUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICA6IEFTVF9TeW1ib2xSZWYpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCAgIDogbXlfZW5kX3Rva2VuKE0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgIDogTS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBGcm9tX01vel9VbmFyeShNKSB7XG4gICAgICAgIHZhciBwcmVmaXggPSBcInByZWZpeFwiIGluIE0gPyBNLnByZWZpeFxuICAgICAgICAgICAgOiBNLnR5cGUgPT0gXCJVbmFyeUV4cHJlc3Npb25cIiA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG5ldyAocHJlZml4ID8gQVNUX1VuYXJ5UHJlZml4IDogQVNUX1VuYXJ5UG9zdGZpeCkoe1xuICAgICAgICAgICAgc3RhcnQgICAgICA6IG15X3N0YXJ0X3Rva2VuKE0pLFxuICAgICAgICAgICAgZW5kICAgICAgICA6IG15X2VuZF90b2tlbihNKSxcbiAgICAgICAgICAgIG9wZXJhdG9yICAgOiBNLm9wZXJhdG9yLFxuICAgICAgICAgICAgZXhwcmVzc2lvbiA6IGZyb21fbW96KE0uYXJndW1lbnQpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgTUVfVE9fTU9aID0ge307XG5cbiAgICBtYXAoXCJOb2RlXCIsIEFTVF9Ob2RlKTtcbiAgICBtYXAoXCJQcm9ncmFtXCIsIEFTVF9Ub3BsZXZlbCwgXCJib2R5QGJvZHlcIik7XG4gICAgbWFwKFwiRnVuY3Rpb25cIiwgQVNUX0Z1bmN0aW9uLCBcImlkPm5hbWUsIHBhcmFtc0BhcmduYW1lcywgYm9keSVib2R5XCIpO1xuICAgIG1hcChcIkVtcHR5U3RhdGVtZW50XCIsIEFTVF9FbXB0eVN0YXRlbWVudCk7XG4gICAgbWFwKFwiQmxvY2tTdGF0ZW1lbnRcIiwgQVNUX0Jsb2NrU3RhdGVtZW50LCBcImJvZHlAYm9keVwiKTtcbiAgICBtYXAoXCJFeHByZXNzaW9uU3RhdGVtZW50XCIsIEFTVF9TaW1wbGVTdGF0ZW1lbnQsIFwiZXhwcmVzc2lvbj5ib2R5XCIpO1xuICAgIG1hcChcIklmU3RhdGVtZW50XCIsIEFTVF9JZiwgXCJ0ZXN0PmNvbmRpdGlvbiwgY29uc2VxdWVudD5ib2R5LCBhbHRlcm5hdGU+YWx0ZXJuYXRpdmVcIik7XG4gICAgbWFwKFwiTGFiZWxlZFN0YXRlbWVudFwiLCBBU1RfTGFiZWxlZFN0YXRlbWVudCwgXCJsYWJlbD5sYWJlbCwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIkJyZWFrU3RhdGVtZW50XCIsIEFTVF9CcmVhaywgXCJsYWJlbD5sYWJlbFwiKTtcbiAgICBtYXAoXCJDb250aW51ZVN0YXRlbWVudFwiLCBBU1RfQ29udGludWUsIFwibGFiZWw+bGFiZWxcIik7XG4gICAgbWFwKFwiV2l0aFN0YXRlbWVudFwiLCBBU1RfV2l0aCwgXCJvYmplY3Q+ZXhwcmVzc2lvbiwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIlN3aXRjaFN0YXRlbWVudFwiLCBBU1RfU3dpdGNoLCBcImRpc2NyaW1pbmFudD5leHByZXNzaW9uLCBjYXNlc0Bib2R5XCIpO1xuICAgIG1hcChcIlJldHVyblN0YXRlbWVudFwiLCBBU1RfUmV0dXJuLCBcImFyZ3VtZW50PnZhbHVlXCIpO1xuICAgIG1hcChcIlRocm93U3RhdGVtZW50XCIsIEFTVF9UaHJvdywgXCJhcmd1bWVudD52YWx1ZVwiKTtcbiAgICBtYXAoXCJXaGlsZVN0YXRlbWVudFwiLCBBU1RfV2hpbGUsIFwidGVzdD5jb25kaXRpb24sIGJvZHk+Ym9keVwiKTtcbiAgICBtYXAoXCJEb1doaWxlU3RhdGVtZW50XCIsIEFTVF9EbywgXCJ0ZXN0PmNvbmRpdGlvbiwgYm9keT5ib2R5XCIpO1xuICAgIG1hcChcIkZvclN0YXRlbWVudFwiLCBBU1RfRm9yLCBcImluaXQ+aW5pdCwgdGVzdD5jb25kaXRpb24sIHVwZGF0ZT5zdGVwLCBib2R5PmJvZHlcIik7XG4gICAgbWFwKFwiRm9ySW5TdGF0ZW1lbnRcIiwgQVNUX0ZvckluLCBcImxlZnQ+aW5pdCwgcmlnaHQ+b2JqZWN0LCBib2R5PmJvZHlcIik7XG4gICAgbWFwKFwiRGVidWdnZXJTdGF0ZW1lbnRcIiwgQVNUX0RlYnVnZ2VyKTtcbiAgICBtYXAoXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIsIEFTVF9EZWZ1biwgXCJpZD5uYW1lLCBwYXJhbXNAYXJnbmFtZXMsIGJvZHklYm9keVwiKTtcbiAgICBtYXAoXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIsIEFTVF9WYXIsIFwiZGVjbGFyYXRpb25zQGRlZmluaXRpb25zXCIpO1xuICAgIG1hcChcIlZhcmlhYmxlRGVjbGFyYXRvclwiLCBBU1RfVmFyRGVmLCBcImlkPm5hbWUsIGluaXQ+dmFsdWVcIik7XG5cbiAgICBtYXAoXCJUaGlzRXhwcmVzc2lvblwiLCBBU1RfVGhpcyk7XG4gICAgbWFwKFwiQXJyYXlFeHByZXNzaW9uXCIsIEFTVF9BcnJheSwgXCJlbGVtZW50c0BlbGVtZW50c1wiKTtcbiAgICBtYXAoXCJGdW5jdGlvbkV4cHJlc3Npb25cIiwgQVNUX0Z1bmN0aW9uLCBcImlkPm5hbWUsIHBhcmFtc0BhcmduYW1lcywgYm9keSVib2R5XCIpO1xuICAgIG1hcChcIkJpbmFyeUV4cHJlc3Npb25cIiwgQVNUX0JpbmFyeSwgXCJvcGVyYXRvcj1vcGVyYXRvciwgbGVmdD5sZWZ0LCByaWdodD5yaWdodFwiKTtcbiAgICBtYXAoXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiLCBBU1RfQXNzaWduLCBcIm9wZXJhdG9yPW9wZXJhdG9yLCBsZWZ0PmxlZnQsIHJpZ2h0PnJpZ2h0XCIpO1xuICAgIG1hcChcIkxvZ2ljYWxFeHByZXNzaW9uXCIsIEFTVF9CaW5hcnksIFwib3BlcmF0b3I9b3BlcmF0b3IsIGxlZnQ+bGVmdCwgcmlnaHQ+cmlnaHRcIik7XG4gICAgbWFwKFwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIsIEFTVF9Db25kaXRpb25hbCwgXCJ0ZXN0PmNvbmRpdGlvbiwgY29uc2VxdWVudD5jb25zZXF1ZW50LCBhbHRlcm5hdGU+YWx0ZXJuYXRpdmVcIik7XG4gICAgbWFwKFwiTmV3RXhwcmVzc2lvblwiLCBBU1RfTmV3LCBcImNhbGxlZT5leHByZXNzaW9uLCBhcmd1bWVudHNAYXJnc1wiKTtcbiAgICBtYXAoXCJDYWxsRXhwcmVzc2lvblwiLCBBU1RfQ2FsbCwgXCJjYWxsZWU+ZXhwcmVzc2lvbiwgYXJndW1lbnRzQGFyZ3NcIik7XG5cbiAgICAvKiAtLS0tLVsgdG9vbHMgXS0tLS0tICovXG5cbiAgICBmdW5jdGlvbiBteV9zdGFydF90b2tlbihtb3pub2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVNUX1Rva2VuKHtcbiAgICAgICAgICAgIGZpbGUgICA6IG1vem5vZGUubG9jICYmIG1vem5vZGUubG9jLnNvdXJjZSxcbiAgICAgICAgICAgIGxpbmUgICA6IG1vem5vZGUubG9jICYmIG1vem5vZGUubG9jLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgICBjb2wgICAgOiBtb3pub2RlLmxvYyAmJiBtb3pub2RlLmxvYy5zdGFydC5jb2x1bW4sXG4gICAgICAgICAgICBwb3MgICAgOiBtb3pub2RlLnN0YXJ0LFxuICAgICAgICAgICAgZW5kcG9zIDogbW96bm9kZS5zdGFydFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbXlfZW5kX3Rva2VuKG1vem5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBU1RfVG9rZW4oe1xuICAgICAgICAgICAgZmlsZSAgIDogbW96bm9kZS5sb2MgJiYgbW96bm9kZS5sb2Muc291cmNlLFxuICAgICAgICAgICAgbGluZSAgIDogbW96bm9kZS5sb2MgJiYgbW96bm9kZS5sb2MuZW5kLmxpbmUsXG4gICAgICAgICAgICBjb2wgICAgOiBtb3pub2RlLmxvYyAmJiBtb3pub2RlLmxvYy5lbmQuY29sdW1uLFxuICAgICAgICAgICAgcG9zICAgIDogbW96bm9kZS5lbmQsXG4gICAgICAgICAgICBlbmRwb3MgOiBtb3pub2RlLmVuZFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFwKG1venR5cGUsIG15dHlwZSwgcHJvcG1hcCkge1xuICAgICAgICB2YXIgbW96X3RvX21lID0gXCJmdW5jdGlvbiBGcm9tX01vel9cIiArIG1venR5cGUgKyBcIihNKXtcXG5cIjtcbiAgICAgICAgbW96X3RvX21lICs9IFwicmV0dXJuIG5ldyBteXR5cGUoe1xcblwiICtcbiAgICAgICAgICAgIFwic3RhcnQ6IG15X3N0YXJ0X3Rva2VuKE0pLFxcblwiICtcbiAgICAgICAgICAgIFwiZW5kOiBteV9lbmRfdG9rZW4oTSlcIjtcblxuICAgICAgICBpZiAocHJvcG1hcCkgcHJvcG1hcC5zcGxpdCgvXFxzKixcXHMqLykuZm9yRWFjaChmdW5jdGlvbihwcm9wKXtcbiAgICAgICAgICAgIHZhciBtID0gLyhbYS16MC05JF9dKykoPXxAfD58JSkoW2EtejAtOSRfXSspL2kuZXhlYyhwcm9wKTtcbiAgICAgICAgICAgIGlmICghbSkgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgdW5kZXJzdGFuZCBwcm9wZXJ0eSBtYXA6IFwiICsgcHJvcCk7XG4gICAgICAgICAgICB2YXIgbW96ID0gXCJNLlwiICsgbVsxXSwgaG93ID0gbVsyXSwgbXkgPSBtWzNdO1xuICAgICAgICAgICAgbW96X3RvX21lICs9IFwiLFxcblwiICsgbXkgKyBcIjogXCI7XG4gICAgICAgICAgICBpZiAoaG93ID09IFwiQFwiKSB7XG4gICAgICAgICAgICAgICAgbW96X3RvX21lICs9IG1veiArIFwiLm1hcChmcm9tX21veilcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG93ID09IFwiPlwiKSB7XG4gICAgICAgICAgICAgICAgbW96X3RvX21lICs9IFwiZnJvbV9tb3ooXCIgKyBtb3ogKyBcIilcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG93ID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgbW96X3RvX21lICs9IG1vejtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG93ID09IFwiJVwiKSB7XG4gICAgICAgICAgICAgICAgbW96X3RvX21lICs9IFwiZnJvbV9tb3ooXCIgKyBtb3ogKyBcIikuYm9keVwiO1xuICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHVuZGVyc3RhbmQgb3BlcmF0b3IgaW4gcHJvcG1hcDogXCIgKyBwcm9wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vel90b19tZSArPSBcIlxcbn0pfVwiO1xuXG4gICAgICAgIC8vIG1vel90b19tZSA9IHBhcnNlKG1vel90b19tZSkucHJpbnRfdG9fc3RyaW5nKHsgYmVhdXRpZnk6IHRydWUgfSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1vel90b19tZSk7XG5cbiAgICAgICAgbW96X3RvX21lID0gbmV3IEZ1bmN0aW9uKFwibXl0eXBlXCIsIFwibXlfc3RhcnRfdG9rZW5cIiwgXCJteV9lbmRfdG9rZW5cIiwgXCJmcm9tX21velwiLCBcInJldHVybihcIiArIG1vel90b19tZSArIFwiKVwiKShcbiAgICAgICAgICAgIG15dHlwZSwgbXlfc3RhcnRfdG9rZW4sIG15X2VuZF90b2tlbiwgZnJvbV9tb3pcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIE1PWl9UT19NRVttb3p0eXBlXSA9IG1vel90b19tZTtcbiAgICB9O1xuXG4gICAgdmFyIEZST01fTU9aX1NUQUNLID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGZyb21fbW96KG5vZGUpIHtcbiAgICAgICAgRlJPTV9NT1pfU1RBQ0sucHVzaChub2RlKTtcbiAgICAgICAgdmFyIHJldCA9IG5vZGUgIT0gbnVsbCA/IE1PWl9UT19NRVtub2RlLnR5cGVdKG5vZGUpIDogbnVsbDtcbiAgICAgICAgRlJPTV9NT1pfU1RBQ0sucG9wKCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIEFTVF9Ob2RlLmZyb21fbW96aWxsYV9hc3QgPSBmdW5jdGlvbihub2RlKXtcbiAgICAgICAgdmFyIHNhdmVfc3RhY2sgPSBGUk9NX01PWl9TVEFDSztcbiAgICAgICAgRlJPTV9NT1pfU1RBQ0sgPSBbXTtcbiAgICAgICAgdmFyIGFzdCA9IGZyb21fbW96KG5vZGUpO1xuICAgICAgICBGUk9NX01PWl9TVEFDSyA9IHNhdmVfc3RhY2s7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfTtcblxufSkoKTtcblxuXG5leHBvcnRzLnN5cyA9IHN5cztcbmV4cG9ydHMuTU9aX1NvdXJjZU1hcCA9IE1PWl9Tb3VyY2VNYXA7XG5leHBvcnRzLlVnbGlmeUpTID0gVWdsaWZ5SlM7XG5leHBvcnRzLmFycmF5X3RvX2hhc2ggPSBhcnJheV90b19oYXNoO1xuZXhwb3J0cy5zbGljZSA9IHNsaWNlO1xuZXhwb3J0cy5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbmV4cG9ydHMubWVtYmVyID0gbWVtYmVyO1xuZXhwb3J0cy5maW5kX2lmID0gZmluZF9pZjtcbmV4cG9ydHMucmVwZWF0X3N0cmluZyA9IHJlcGVhdF9zdHJpbmc7XG5leHBvcnRzLkRlZmF1bHRzRXJyb3IgPSBEZWZhdWx0c0Vycm9yO1xuZXhwb3J0cy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuZXhwb3J0cy5tZXJnZSA9IG1lcmdlO1xuZXhwb3J0cy5ub29wID0gbm9vcDtcbmV4cG9ydHMuTUFQID0gTUFQO1xuZXhwb3J0cy5wdXNoX3VuaXEgPSBwdXNoX3VuaXE7XG5leHBvcnRzLnN0cmluZ190ZW1wbGF0ZSA9IHN0cmluZ190ZW1wbGF0ZTtcbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuZXhwb3J0cy5tZXJnZVNvcnQgPSBtZXJnZVNvcnQ7XG5leHBvcnRzLnNldF9kaWZmZXJlbmNlID0gc2V0X2RpZmZlcmVuY2U7XG5leHBvcnRzLnNldF9pbnRlcnNlY3Rpb24gPSBzZXRfaW50ZXJzZWN0aW9uO1xuZXhwb3J0cy5tYWtlUHJlZGljYXRlID0gbWFrZVByZWRpY2F0ZTtcbmV4cG9ydHMuYWxsID0gYWxsO1xuZXhwb3J0cy5EaWN0aW9uYXJ5ID0gRGljdGlvbmFyeTtcbmV4cG9ydHMuREVGTk9ERSA9IERFRk5PREU7XG5leHBvcnRzLkFTVF9Ub2tlbiA9IEFTVF9Ub2tlbjtcbmV4cG9ydHMuQVNUX05vZGUgPSBBU1RfTm9kZTtcbmV4cG9ydHMuQVNUX1N0YXRlbWVudCA9IEFTVF9TdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9EZWJ1Z2dlciA9IEFTVF9EZWJ1Z2dlcjtcbmV4cG9ydHMuQVNUX0RpcmVjdGl2ZSA9IEFTVF9EaXJlY3RpdmU7XG5leHBvcnRzLkFTVF9TaW1wbGVTdGF0ZW1lbnQgPSBBU1RfU2ltcGxlU3RhdGVtZW50O1xuZXhwb3J0cy53YWxrX2JvZHkgPSB3YWxrX2JvZHk7XG5leHBvcnRzLkFTVF9CbG9jayA9IEFTVF9CbG9jaztcbmV4cG9ydHMuQVNUX0Jsb2NrU3RhdGVtZW50ID0gQVNUX0Jsb2NrU3RhdGVtZW50O1xuZXhwb3J0cy5BU1RfRW1wdHlTdGF0ZW1lbnQgPSBBU1RfRW1wdHlTdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9TdGF0ZW1lbnRXaXRoQm9keSA9IEFTVF9TdGF0ZW1lbnRXaXRoQm9keTtcbmV4cG9ydHMuQVNUX0xhYmVsZWRTdGF0ZW1lbnQgPSBBU1RfTGFiZWxlZFN0YXRlbWVudDtcbmV4cG9ydHMuQVNUX0l0ZXJhdGlvblN0YXRlbWVudCA9IEFTVF9JdGVyYXRpb25TdGF0ZW1lbnQ7XG5leHBvcnRzLkFTVF9EV0xvb3AgPSBBU1RfRFdMb29wO1xuZXhwb3J0cy5BU1RfRG8gPSBBU1RfRG87XG5leHBvcnRzLkFTVF9XaGlsZSA9IEFTVF9XaGlsZTtcbmV4cG9ydHMuQVNUX0ZvciA9IEFTVF9Gb3I7XG5leHBvcnRzLkFTVF9Gb3JJbiA9IEFTVF9Gb3JJbjtcbmV4cG9ydHMuQVNUX1dpdGggPSBBU1RfV2l0aDtcbmV4cG9ydHMuQVNUX1Njb3BlID0gQVNUX1Njb3BlO1xuZXhwb3J0cy5BU1RfVG9wbGV2ZWwgPSBBU1RfVG9wbGV2ZWw7XG5leHBvcnRzLkFTVF9MYW1iZGEgPSBBU1RfTGFtYmRhO1xuZXhwb3J0cy5BU1RfQWNjZXNzb3IgPSBBU1RfQWNjZXNzb3I7XG5leHBvcnRzLkFTVF9GdW5jdGlvbiA9IEFTVF9GdW5jdGlvbjtcbmV4cG9ydHMuQVNUX0RlZnVuID0gQVNUX0RlZnVuO1xuZXhwb3J0cy5BU1RfSnVtcCA9IEFTVF9KdW1wO1xuZXhwb3J0cy5BU1RfRXhpdCA9IEFTVF9FeGl0O1xuZXhwb3J0cy5BU1RfUmV0dXJuID0gQVNUX1JldHVybjtcbmV4cG9ydHMuQVNUX1Rocm93ID0gQVNUX1Rocm93O1xuZXhwb3J0cy5BU1RfTG9vcENvbnRyb2wgPSBBU1RfTG9vcENvbnRyb2w7XG5leHBvcnRzLkFTVF9CcmVhayA9IEFTVF9CcmVhaztcbmV4cG9ydHMuQVNUX0NvbnRpbnVlID0gQVNUX0NvbnRpbnVlO1xuZXhwb3J0cy5BU1RfSWYgPSBBU1RfSWY7XG5leHBvcnRzLkFTVF9Td2l0Y2ggPSBBU1RfU3dpdGNoO1xuZXhwb3J0cy5BU1RfU3dpdGNoQnJhbmNoID0gQVNUX1N3aXRjaEJyYW5jaDtcbmV4cG9ydHMuQVNUX0RlZmF1bHQgPSBBU1RfRGVmYXVsdDtcbmV4cG9ydHMuQVNUX0Nhc2UgPSBBU1RfQ2FzZTtcbmV4cG9ydHMuQVNUX1RyeSA9IEFTVF9Ucnk7XG5leHBvcnRzLkFTVF9DYXRjaCA9IEFTVF9DYXRjaDtcbmV4cG9ydHMuQVNUX0ZpbmFsbHkgPSBBU1RfRmluYWxseTtcbmV4cG9ydHMuQVNUX0RlZmluaXRpb25zID0gQVNUX0RlZmluaXRpb25zO1xuZXhwb3J0cy5BU1RfVmFyID0gQVNUX1ZhcjtcbmV4cG9ydHMuQVNUX0NvbnN0ID0gQVNUX0NvbnN0O1xuZXhwb3J0cy5BU1RfVmFyRGVmID0gQVNUX1ZhckRlZjtcbmV4cG9ydHMuQVNUX0NhbGwgPSBBU1RfQ2FsbDtcbmV4cG9ydHMuQVNUX05ldyA9IEFTVF9OZXc7XG5leHBvcnRzLkFTVF9TZXEgPSBBU1RfU2VxO1xuZXhwb3J0cy5BU1RfUHJvcEFjY2VzcyA9IEFTVF9Qcm9wQWNjZXNzO1xuZXhwb3J0cy5BU1RfRG90ID0gQVNUX0RvdDtcbmV4cG9ydHMuQVNUX1N1YiA9IEFTVF9TdWI7XG5leHBvcnRzLkFTVF9VbmFyeSA9IEFTVF9VbmFyeTtcbmV4cG9ydHMuQVNUX1VuYXJ5UHJlZml4ID0gQVNUX1VuYXJ5UHJlZml4O1xuZXhwb3J0cy5BU1RfVW5hcnlQb3N0Zml4ID0gQVNUX1VuYXJ5UG9zdGZpeDtcbmV4cG9ydHMuQVNUX0JpbmFyeSA9IEFTVF9CaW5hcnk7XG5leHBvcnRzLkFTVF9Db25kaXRpb25hbCA9IEFTVF9Db25kaXRpb25hbDtcbmV4cG9ydHMuQVNUX0Fzc2lnbiA9IEFTVF9Bc3NpZ247XG5leHBvcnRzLkFTVF9BcnJheSA9IEFTVF9BcnJheTtcbmV4cG9ydHMuQVNUX09iamVjdCA9IEFTVF9PYmplY3Q7XG5leHBvcnRzLkFTVF9PYmplY3RQcm9wZXJ0eSA9IEFTVF9PYmplY3RQcm9wZXJ0eTtcbmV4cG9ydHMuQVNUX09iamVjdEtleVZhbCA9IEFTVF9PYmplY3RLZXlWYWw7XG5leHBvcnRzLkFTVF9PYmplY3RTZXR0ZXIgPSBBU1RfT2JqZWN0U2V0dGVyO1xuZXhwb3J0cy5BU1RfT2JqZWN0R2V0dGVyID0gQVNUX09iamVjdEdldHRlcjtcbmV4cG9ydHMuQVNUX1N5bWJvbCA9IEFTVF9TeW1ib2w7XG5leHBvcnRzLkFTVF9TeW1ib2xBY2Nlc3NvciA9IEFTVF9TeW1ib2xBY2Nlc3NvcjtcbmV4cG9ydHMuQVNUX1N5bWJvbERlY2xhcmF0aW9uID0gQVNUX1N5bWJvbERlY2xhcmF0aW9uO1xuZXhwb3J0cy5BU1RfU3ltYm9sVmFyID0gQVNUX1N5bWJvbFZhcjtcbmV4cG9ydHMuQVNUX1N5bWJvbENvbnN0ID0gQVNUX1N5bWJvbENvbnN0O1xuZXhwb3J0cy5BU1RfU3ltYm9sRnVuYXJnID0gQVNUX1N5bWJvbEZ1bmFyZztcbmV4cG9ydHMuQVNUX1N5bWJvbERlZnVuID0gQVNUX1N5bWJvbERlZnVuO1xuZXhwb3J0cy5BU1RfU3ltYm9sTGFtYmRhID0gQVNUX1N5bWJvbExhbWJkYTtcbmV4cG9ydHMuQVNUX1N5bWJvbENhdGNoID0gQVNUX1N5bWJvbENhdGNoO1xuZXhwb3J0cy5BU1RfTGFiZWwgPSBBU1RfTGFiZWw7XG5leHBvcnRzLkFTVF9TeW1ib2xSZWYgPSBBU1RfU3ltYm9sUmVmO1xuZXhwb3J0cy5BU1RfTGFiZWxSZWYgPSBBU1RfTGFiZWxSZWY7XG5leHBvcnRzLkFTVF9UaGlzID0gQVNUX1RoaXM7XG5leHBvcnRzLkFTVF9Db25zdGFudCA9IEFTVF9Db25zdGFudDtcbmV4cG9ydHMuQVNUX1N0cmluZyA9IEFTVF9TdHJpbmc7XG5leHBvcnRzLkFTVF9OdW1iZXIgPSBBU1RfTnVtYmVyO1xuZXhwb3J0cy5BU1RfUmVnRXhwID0gQVNUX1JlZ0V4cDtcbmV4cG9ydHMuQVNUX0F0b20gPSBBU1RfQXRvbTtcbmV4cG9ydHMuQVNUX051bGwgPSBBU1RfTnVsbDtcbmV4cG9ydHMuQVNUX05hTiA9IEFTVF9OYU47XG5leHBvcnRzLkFTVF9VbmRlZmluZWQgPSBBU1RfVW5kZWZpbmVkO1xuZXhwb3J0cy5BU1RfSG9sZSA9IEFTVF9Ib2xlO1xuZXhwb3J0cy5BU1RfSW5maW5pdHkgPSBBU1RfSW5maW5pdHk7XG5leHBvcnRzLkFTVF9Cb29sZWFuID0gQVNUX0Jvb2xlYW47XG5leHBvcnRzLkFTVF9GYWxzZSA9IEFTVF9GYWxzZTtcbmV4cG9ydHMuQVNUX1RydWUgPSBBU1RfVHJ1ZTtcbmV4cG9ydHMuVHJlZVdhbGtlciA9IFRyZWVXYWxrZXI7XG5leHBvcnRzLktFWVdPUkRTID0gS0VZV09SRFM7XG5leHBvcnRzLktFWVdPUkRTX0FUT00gPSBLRVlXT1JEU19BVE9NO1xuZXhwb3J0cy5SRVNFUlZFRF9XT1JEUyA9IFJFU0VSVkVEX1dPUkRTO1xuZXhwb3J0cy5LRVlXT1JEU19CRUZPUkVfRVhQUkVTU0lPTiA9IEtFWVdPUkRTX0JFRk9SRV9FWFBSRVNTSU9OO1xuZXhwb3J0cy5PUEVSQVRPUl9DSEFSUyA9IE9QRVJBVE9SX0NIQVJTO1xuZXhwb3J0cy5SRV9IRVhfTlVNQkVSID0gUkVfSEVYX05VTUJFUjtcbmV4cG9ydHMuUkVfT0NUX05VTUJFUiA9IFJFX09DVF9OVU1CRVI7XG5leHBvcnRzLlJFX0RFQ19OVU1CRVIgPSBSRV9ERUNfTlVNQkVSO1xuZXhwb3J0cy5PUEVSQVRPUlMgPSBPUEVSQVRPUlM7XG5leHBvcnRzLldISVRFU1BBQ0VfQ0hBUlMgPSBXSElURVNQQUNFX0NIQVJTO1xuZXhwb3J0cy5QVU5DX0JFRk9SRV9FWFBSRVNTSU9OID0gUFVOQ19CRUZPUkVfRVhQUkVTU0lPTjtcbmV4cG9ydHMuUFVOQ19DSEFSUyA9IFBVTkNfQ0hBUlM7XG5leHBvcnRzLlJFR0VYUF9NT0RJRklFUlMgPSBSRUdFWFBfTU9ESUZJRVJTO1xuZXhwb3J0cy5VTklDT0RFID0gVU5JQ09ERTtcbmV4cG9ydHMuaXNfbGV0dGVyID0gaXNfbGV0dGVyO1xuZXhwb3J0cy5pc19kaWdpdCA9IGlzX2RpZ2l0O1xuZXhwb3J0cy5pc19hbHBoYW51bWVyaWNfY2hhciA9IGlzX2FscGhhbnVtZXJpY19jaGFyO1xuZXhwb3J0cy5pc191bmljb2RlX2NvbWJpbmluZ19tYXJrID0gaXNfdW5pY29kZV9jb21iaW5pbmdfbWFyaztcbmV4cG9ydHMuaXNfdW5pY29kZV9jb25uZWN0b3JfcHVuY3R1YXRpb24gPSBpc191bmljb2RlX2Nvbm5lY3Rvcl9wdW5jdHVhdGlvbjtcbmV4cG9ydHMuaXNfaWRlbnRpZmllciA9IGlzX2lkZW50aWZpZXI7XG5leHBvcnRzLmlzX2lkZW50aWZpZXJfc3RhcnQgPSBpc19pZGVudGlmaWVyX3N0YXJ0O1xuZXhwb3J0cy5pc19pZGVudGlmaWVyX2NoYXIgPSBpc19pZGVudGlmaWVyX2NoYXI7XG5leHBvcnRzLmlzX2lkZW50aWZpZXJfc3RyaW5nID0gaXNfaWRlbnRpZmllcl9zdHJpbmc7XG5leHBvcnRzLnBhcnNlX2pzX251bWJlciA9IHBhcnNlX2pzX251bWJlcjtcbmV4cG9ydHMuSlNfUGFyc2VfRXJyb3IgPSBKU19QYXJzZV9FcnJvcjtcbmV4cG9ydHMuanNfZXJyb3IgPSBqc19lcnJvcjtcbmV4cG9ydHMuaXNfdG9rZW4gPSBpc190b2tlbjtcbmV4cG9ydHMuRVhfRU9GID0gRVhfRU9GO1xuZXhwb3J0cy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG5leHBvcnRzLlVOQVJZX1BSRUZJWCA9IFVOQVJZX1BSRUZJWDtcbmV4cG9ydHMuVU5BUllfUE9TVEZJWCA9IFVOQVJZX1BPU1RGSVg7XG5leHBvcnRzLkFTU0lHTk1FTlQgPSBBU1NJR05NRU5UO1xuZXhwb3J0cy5QUkVDRURFTkNFID0gUFJFQ0VERU5DRTtcbmV4cG9ydHMuU1RBVEVNRU5UU19XSVRIX0xBQkVMUyA9IFNUQVRFTUVOVFNfV0lUSF9MQUJFTFM7XG5leHBvcnRzLkFUT01JQ19TVEFSVF9UT0tFTiA9IEFUT01JQ19TVEFSVF9UT0tFTjtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmV4cG9ydHMuVHJlZVRyYW5zZm9ybWVyID0gVHJlZVRyYW5zZm9ybWVyO1xuZXhwb3J0cy5TeW1ib2xEZWYgPSBTeW1ib2xEZWY7XG5leHBvcnRzLmJhc2U1NCA9IGJhc2U1NDtcbmV4cG9ydHMuT3V0cHV0U3RyZWFtID0gT3V0cHV0U3RyZWFtO1xuZXhwb3J0cy5Db21wcmVzc29yID0gQ29tcHJlc3NvcjtcbmV4cG9ydHMuU291cmNlTWFwID0gU291cmNlTWFwO1xuXG5leHBvcnRzLkFTVF9Ob2RlLndhcm5fZnVuY3Rpb24gPSBmdW5jdGlvbiAodHh0KSB7IGlmICh0eXBlb2YgY29uc29sZSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIikgY29uc29sZS53YXJuKHR4dCkgfVxuXG5leHBvcnRzLm1pbmlmeSA9IGZ1bmN0aW9uIChmaWxlcywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBVZ2xpZnlKUy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgIHNwaWRlcm1vbmtleSA6IGZhbHNlLFxuICAgICAgICBvdXRTb3VyY2VNYXAgOiBudWxsLFxuICAgICAgICBzb3VyY2VSb290ICAgOiBudWxsLFxuICAgICAgICBpblNvdXJjZU1hcCAgOiBudWxsLFxuICAgICAgICBmcm9tU3RyaW5nICAgOiBmYWxzZSxcbiAgICAgICAgd2FybmluZ3MgICAgIDogZmFsc2UsXG4gICAgICAgIG1hbmdsZSAgICAgICA6IHt9LFxuICAgICAgICBvdXRwdXQgICAgICAgOiBudWxsLFxuICAgICAgICBjb21wcmVzcyAgICAgOiB7fVxuICAgIH0pO1xuICAgIFVnbGlmeUpTLmJhc2U1NC5yZXNldCgpO1xuXG4gICAgLy8gMS4gcGFyc2VcbiAgICB2YXIgdG9wbGV2ZWwgPSBudWxsLFxuICAgICAgICBzb3VyY2VzQ29udGVudCA9IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuc3BpZGVybW9ua2V5KSB7XG4gICAgICAgIHRvcGxldmVsID0gVWdsaWZ5SlMuQVNUX05vZGUuZnJvbV9tb3ppbGxhX2FzdChmaWxlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlcyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZmlsZXMgPSBbIGZpbGVzIF07XG4gICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSl7XG4gICAgICAgICAgICB2YXIgY29kZSA9IG9wdGlvbnMuZnJvbVN0cmluZ1xuICAgICAgICAgICAgICAgID8gZmlsZVxuICAgICAgICAgICAgICAgIDogZnMucmVhZEZpbGVTeW5jKGZpbGUsIFwidXRmOFwiKTtcbiAgICAgICAgICAgIHNvdXJjZXNDb250ZW50W2ZpbGVdID0gY29kZTtcbiAgICAgICAgICAgIHRvcGxldmVsID0gVWdsaWZ5SlMucGFyc2UoY29kZSwge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBvcHRpb25zLmZyb21TdHJpbmcgPyBcIj9cIiA6IGZpbGUsXG4gICAgICAgICAgICAgICAgdG9wbGV2ZWw6IHRvcGxldmVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gMi4gY29tcHJlc3NcbiAgICBpZiAob3B0aW9ucy5jb21wcmVzcykge1xuICAgICAgICB2YXIgY29tcHJlc3MgPSB7IHdhcm5pbmdzOiBvcHRpb25zLndhcm5pbmdzIH07XG4gICAgICAgIFVnbGlmeUpTLm1lcmdlKGNvbXByZXNzLCBvcHRpb25zLmNvbXByZXNzKTtcbiAgICAgICAgdG9wbGV2ZWwuZmlndXJlX291dF9zY29wZSgpO1xuICAgICAgICB2YXIgc3EgPSBVZ2xpZnlKUy5Db21wcmVzc29yKGNvbXByZXNzKTtcbiAgICAgICAgdG9wbGV2ZWwgPSB0b3BsZXZlbC50cmFuc2Zvcm0oc3EpO1xuICAgIH1cblxuICAgIC8vIDMuIG1hbmdsZVxuICAgIGlmIChvcHRpb25zLm1hbmdsZSkge1xuICAgICAgICB0b3BsZXZlbC5maWd1cmVfb3V0X3Njb3BlKCk7XG4gICAgICAgIHRvcGxldmVsLmNvbXB1dGVfY2hhcl9mcmVxdWVuY3koKTtcbiAgICAgICAgdG9wbGV2ZWwubWFuZ2xlX25hbWVzKG9wdGlvbnMubWFuZ2xlKTtcbiAgICB9XG5cbiAgICAvLyA0LiBvdXRwdXRcbiAgICB2YXIgaW5NYXAgPSBvcHRpb25zLmluU291cmNlTWFwO1xuICAgIHZhciBvdXRwdXQgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW5Tb3VyY2VNYXAgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpbk1hcCA9IGZzLnJlYWRGaWxlU3luYyhvcHRpb25zLmluU291cmNlTWFwLCBcInV0ZjhcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm91dFNvdXJjZU1hcCkge1xuICAgICAgICBvdXRwdXQuc291cmNlX21hcCA9IFVnbGlmeUpTLlNvdXJjZU1hcCh7XG4gICAgICAgICAgICBmaWxlOiBvcHRpb25zLm91dFNvdXJjZU1hcCxcbiAgICAgICAgICAgIG9yaWc6IGluTWFwLFxuICAgICAgICAgICAgcm9vdDogb3B0aW9ucy5zb3VyY2VSb290XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0aW9ucy5zb3VyY2VNYXBJbmNsdWRlU291cmNlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgZmlsZSBpbiBzb3VyY2VzQ29udGVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzQ29udGVudC5oYXNPd25Qcm9wZXJ0eShmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuc291cmNlX21hcC5nZXQoKS5zZXRTb3VyY2VDb250ZW50KGZpbGUsIHNvdXJjZXNDb250ZW50W2ZpbGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vdXRwdXQpIHtcbiAgICAgICAgVWdsaWZ5SlMubWVyZ2Uob3V0cHV0LCBvcHRpb25zLm91dHB1dCk7XG4gICAgfVxuICAgIHZhciBzdHJlYW0gPSBVZ2xpZnlKUy5PdXRwdXRTdHJlYW0ob3V0cHV0KTtcbiAgICB0b3BsZXZlbC5wcmludChzdHJlYW0pO1xuXG4gICAgaWYob3B0aW9ucy5vdXRTb3VyY2VNYXApe1xuICAgICAgICBzdHJlYW0gKz0gXCJcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1cIiArIG9wdGlvbnMub3V0U291cmNlTWFwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGUgOiBzdHJlYW0gKyBcIlwiLFxuICAgICAgICBtYXAgIDogb3V0cHV0LnNvdXJjZV9tYXAgKyBcIlwiXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuZGVzY3JpYmVfYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvdXQgPSBVZ2xpZnlKUy5PdXRwdXRTdHJlYW0oeyBiZWF1dGlmeTogdHJ1ZSB9KTtcbiAgICBmdW5jdGlvbiBkb2l0ZW0oY3Rvcikge1xuICAgICAgICBvdXQucHJpbnQoXCJBU1RfXCIgKyBjdG9yLlRZUEUpO1xuICAgICAgICB2YXIgcHJvcHMgPSBjdG9yLlNFTEZfUFJPUFMuZmlsdGVyKGZ1bmN0aW9uKHByb3Ape1xuICAgICAgICAgICAgcmV0dXJuICEvXlxcJC8udGVzdChwcm9wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dC53aXRoX3BhcmVucyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCwgaSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpKSBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnByaW50KHByb3ApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3IuZG9jdW1lbnRhdGlvbikge1xuICAgICAgICAgICAgb3V0LnNwYWNlKCk7XG4gICAgICAgICAgICBvdXQucHJpbnRfc3RyaW5nKGN0b3IuZG9jdW1lbnRhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0b3IuU1VCQ0xBU1NFUy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXQuc3BhY2UoKTtcbiAgICAgICAgICAgIG91dC53aXRoX2Jsb2NrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY3Rvci5TVUJDTEFTU0VTLmZvckVhY2goZnVuY3Rpb24oY3RvciwgaSl7XG4gICAgICAgICAgICAgICAgICAgIG91dC5pbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9pdGVtKGN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBvdXQubmV3bGluZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRvaXRlbShVZ2xpZnlKUy5BU1RfTm9kZSk7XG4gICAgcmV0dXJuIG91dCArIFwiXCI7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gXCIvKiBCQVNJQ1MgKi9cXG5cXG4uQ29kZU1pcnJvciB7XFxuICAvKiBTZXQgaGVpZ2h0LCB3aWR0aCwgYm9yZGVycywgYW5kIGdsb2JhbCBmb250IHByb3BlcnRpZXMgaGVyZSAqL1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGhlaWdodDogMzAwcHg7XFxufVxcblxcbi5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICAvKiBTZXQgc2Nyb2xsaW5nIGJlaGF2aW91ciBoZXJlICovXFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuLyogUEFERElORyAqL1xcblxcbi5Db2RlTWlycm9yLWxpbmVzIHtcXG4gIHBhZGRpbmc6IDRweCAwO1xcbiAgLyogVmVydGljYWwgcGFkZGluZyBhcm91bmQgY29udGVudCAqL1xcbn1cXG5cXG4uQ29kZU1pcnJvciBwcmUge1xcbiAgcGFkZGluZzogMCA0cHg7XFxuICAvKiBIb3Jpem9udGFsIHBhZGRpbmcgb2YgY29udGVudCAqL1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLFxcbi5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAvKiBUaGUgbGl0dGxlIHNxdWFyZSBiZXR3ZWVuIEggYW5kIFYgc2Nyb2xsYmFycyAqL1xcbn1cXG5cXG4vKiBHVVRURVIgKi9cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuXFxuXFxuLkNvZGVNaXJyb3ItbGluZW51bWJlciB7XFxuICBwYWRkaW5nOiAwIDNweCAwIDVweDtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgY29sb3I6ICM5OTk7XFxuICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlciB7XFxuICBjb2xvcjogYmxhY2s7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUge1xcbiAgY29sb3I6ICM5OTk7XFxufVxcblxcbi8qIENVUlNPUiAqL1xcblxcbi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4vKiBTaG93biB3aGVuIG1vdmluZyBpbiBiaS1kaXJlY3Rpb25hbCB0ZXh0ICovXFxuXFxuLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3Itc2Vjb25kYXJ5Y3Vyc29yIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgc2lsdmVyO1xcbn1cXG5cXG4uQ29kZU1pcnJvci5jbS1rZXltYXAtZmF0LWN1cnNvciBkaXYuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgd2lkdGg6IGF1dG87XFxuICBib3JkZXI6IDA7XFxuICBiYWNrZ3JvdW5kOiAjN2U3O1xcbn1cXG5cXG4uQ29kZU1pcnJvci5jbS1rZXltYXAtZmF0LWN1cnNvciBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcbi5jbS1hbmltYXRlLWZhdC1jdXJzb3Ige1xcbiAgd2lkdGg6IGF1dG87XFxuICBib3JkZXI6IDA7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICAtbW96LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICBhbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbn1cXG5cXG5ALW1vei1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUge1xcbiAgICBiYWNrZ3JvdW5kOiAjN2U3O1xcbiAgfVxcblxcbiAgNTAlIHtcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBiYWNrZ3JvdW5kOiAjN2U3O1xcbiAgfVxcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUge1xcbiAgICBiYWNrZ3JvdW5kOiAjN2U3O1xcbiAgfVxcblxcbiAgNTAlIHtcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBiYWNrZ3JvdW5kOiAjN2U3O1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHtcXG4gICAgYmFja2dyb3VuZDogIzdlNztcXG4gIH1cXG5cXG4gIDUwJSB7XFxuICAgIGJhY2tncm91bmQ6IG5vbmU7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgYmFja2dyb3VuZDogIzdlNztcXG4gIH1cXG59XFxuXFxuLyogQ2FuIHN0eWxlIGN1cnNvciBkaWZmZXJlbnQgaW4gb3ZlcndyaXRlIChub24taW5zZXJ0KSBtb2RlICovXFxuXFxuXFxuXFxuLmNtLXRhYiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XFxufVxcblxcbi5Db2RlTWlycm9yLXJ1bGVyIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2NjYztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLyogREVGQVVMVCBUSEVNRSAqL1xcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmQge1xcbiAgY29sb3I6ICM3MDg7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWF0b20ge1xcbiAgY29sb3I6ICMyMTk7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLW51bWJlciB7XFxuICBjb2xvcjogIzE2NDtcXG59XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tZGVmIHtcXG4gIGNvbG9yOiAjMDBmO1xcbn1cXG5cXG5cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZS0yIHtcXG4gIGNvbG9yOiAjMDVhO1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZS0zIHtcXG4gIGNvbG9yOiAjMDg1O1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1jb21tZW50IHtcXG4gIGNvbG9yOiAjYTUwO1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1zdHJpbmcge1xcbiAgY29sb3I6ICNhMTE7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLXN0cmluZy0yIHtcXG4gIGNvbG9yOiAjZjUwO1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1tZXRhIHtcXG4gIGNvbG9yOiAjNTU1O1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1xdWFsaWZpZXIge1xcbiAgY29sb3I6ICM1NTU7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWJ1aWx0aW4ge1xcbiAgY29sb3I6ICMzMGE7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWJyYWNrZXQge1xcbiAgY29sb3I6ICM5OTc7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLXRhZyB7XFxuICBjb2xvcjogIzE3MDtcXG59XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tYXR0cmlidXRlIHtcXG4gIGNvbG9yOiAjMDBjO1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1oZWFkZXIge1xcbiAgY29sb3I6IGJsdWU7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLXF1b3RlIHtcXG4gIGNvbG9yOiAjMDkwO1xcbn1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1ociB7XFxuICBjb2xvcjogIzk5OTtcXG59XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tbGluayB7XFxuICBjb2xvcjogIzAwYztcXG59XFxuXFxuLmNtLW5lZ2F0aXZlIHtcXG4gIGNvbG9yOiAjZDQ0O1xcbn1cXG5cXG4uY20tcG9zaXRpdmUge1xcbiAgY29sb3I6ICMyOTI7XFxufVxcblxcbi5jbS1oZWFkZXIsXFxuLmNtLXN0cm9uZyB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxuLmNtLWVtIHtcXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcXG59XFxuXFxuLmNtLWxpbmsge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWVycm9yIHtcXG4gIGNvbG9yOiAjZjAwO1xcbn1cXG5cXG4uY20taW52YWxpZGNoYXIge1xcbiAgY29sb3I6ICNmMDA7XFxufVxcblxcbi8qIERlZmF1bHQgc3R5bGVzIGZvciBjb21tb24gYWRkb25zICovXFxuXFxuZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldCB7XFxuICBjb2xvcjogIzBmMDtcXG59XFxuXFxuZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldCB7XFxuICBjb2xvcjogI2YyMjtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWcge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE1MCwgMCwgLjMpO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogI2U4ZjJmZjtcXG59XFxuXFxuLyogU1RPUCAqL1xcblxcbi8qIFRoZSByZXN0IG9mIHRoaXMgZmlsZSBjb250YWlucyBzdHlsZXMgcmVsYXRlZCB0byB0aGUgbWVjaGFuaWNzIG9mXFxuICAgdGhlIGVkaXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCB0b3VjaCB0aGVtLiAqL1xcblxcbi5Db2RlTWlycm9yIHtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGwge1xcbiAgLyogMzBweCBpcyB0aGUgbWFnaWMgbWFyZ2luIHVzZWQgdG8gaGlkZSB0aGUgZWxlbWVudCdzIHJlYWwgc2Nyb2xsYmFycyAqL1xcbiAgLyogU2VlIG92ZXJmbG93OiBoaWRkZW4gaW4gLkNvZGVNaXJyb3IgKi9cXG4gIG1hcmdpbi1ib3R0b206IC0zMHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAtMzBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAzMHB4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIC8qIFByZXZlbnQgZHJhZ2dpbmcgZnJvbSBoaWdobGlnaHRpbmcgdGhlIGVsZW1lbnQgKi9cXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2l6ZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyLXJpZ2h0OiAzMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbn1cXG5cXG4vKiBUaGUgZmFrZSwgdmlzaWJsZSBzY3JvbGxiYXJzLiBVc2VkIHRvIGZvcmNlIHJlZHJhdyBkdXJpbmcgc2Nyb2xsaW5nXFxuICAgYmVmb3JlIGFjdHVhbGwgc2Nyb2xsaW5nIGhhcHBlbnMsIHRodXMgcHJldmVudGluZyBzaGFraW5nIGFuZFxcbiAgIGZsaWNrZXJpbmcgYXJ0aWZhY3RzLiAqL1xcblxcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIsXFxuLkNvZGVNaXJyb3ItaHNjcm9sbGJhcixcXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLFxcbi5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogNjtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIge1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcblxcbi5Db2RlTWlycm9yLWhzY3JvbGxiYXIge1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXg6IHNjcm9sbDtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciB7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG4gIHotaW5kZXg6IDM7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlciB7XFxuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAtMzJweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIC8qIEhhY2sgdG8gbWFrZSBJRTcgYmVoYXZlICovXFxuICAqem9vbTogMTtcXG4gICpkaXNwbGF5OiBpbmxpbmU7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlci1lbHQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgei1pbmRleDogNDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbGluZXMge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbiAgbWluLWhlaWdodDogMXB4O1xcbiAgLyogcHJldmVudHMgY29sbGFwc2luZyBiZWZvcmUgZmlyc3QgZHJhdyAqL1xcbn1cXG5cXG4uQ29kZU1pcnJvciBwcmUge1xcbiAgLyogUmVzZXQgc29tZSBzdHlsZXMgdGhhdCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBtaWdodCBoYXZlIHNldCAqL1xcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAwO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJvcmRlci13aWR0aDogMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICBtYXJnaW46IDA7XFxuICB3aGl0ZS1zcGFjZTogcHJlO1xcbiAgd29yZC13cmFwOiBub3JtYWw7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgei1pbmRleDogMjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiB2aXNpYmxlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci13cmFwIHByZSB7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxuICB3b3JkLWJyZWFrOiBub3JtYWw7XFxufVxcblxcbi5Db2RlTWlycm9yLWxpbmViYWNrZ3JvdW5kIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDA7XFxufVxcblxcbi5Db2RlTWlycm9yLWxpbmV3aWRnZXQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMjtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG5cXG5cXG4uQ29kZU1pcnJvci13cmFwIC5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxufVxcblxcbi5Db2RlTWlycm9yLW1lYXN1cmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1tZWFzdXJlIHByZSB7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbn1cXG5cXG4uQ29kZU1pcnJvciBkaXYuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgd2lkdGg6IDA7XFxufVxcblxcbmRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMztcXG59XFxuXFxuLkNvZGVNaXJyb3ItZm9jdXNlZCBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcblxcbi5Db2RlTWlycm9yLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQ6ICNkOWQ5ZDk7XFxufVxcblxcbi5Db2RlTWlycm9yLWZvY3VzZWQgLkNvZGVNaXJyb3Itc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZDogI2Q3ZDRmMDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItY3Jvc3NoYWlyIHtcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4uY20tc2VhcmNoaW5nIHtcXG4gIGJhY2tncm91bmQ6ICNmZmE7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAwLCAuNCk7XFxufVxcblxcbi8qIElFNyBoYWNrIHRvIHByZXZlbnQgaXQgZnJvbSByZXR1cm5pbmcgZnVubnkgb2Zmc2V0VG9wcyBvbiB0aGUgc3BhbnMgKi9cXG5cXG4uQ29kZU1pcnJvciBzcGFuIHtcXG4gICp2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XFxufVxcblxcbi8qIFVzZWQgdG8gZm9yY2UgYSBib3JkZXIgbW9kZWwgZm9yIGEgbm9kZSAqL1xcblxcbi5jbS1mb3JjZS1ib3JkZXIge1xcbiAgcGFkZGluZy1yaWdodDogLjFweDtcXG59XFxuXFxuQG1lZGlhIHByaW50IHtcXG4gIC8qIEhpZGUgdGhlIGN1cnNvciB3aGVuIHByaW50aW5nICovXFxuXFxuICAuQ29kZU1pcnJvciBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgfVxcbn1cXG5cXG4vKiBIZWxwIHVzZXJzIHVzZSBtYXJrc2VsZWN0aW9uIHRvIHNhZmVseSBzdHlsZSB0ZXh0IGJhY2tncm91bmQgKi9cXG5cXG5zcGFuLkNvZGVNaXJyb3Itc2VsZWN0ZWR0ZXh0IHtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxufVxcbi8qKlxcbiAqIFBhc3RlbCBPbiBEYXJrIHRoZW1lIHBvcnRlZCBmcm9tIEFDRSBlZGl0b3JcXG4gKiBAbGljZW5zZSBNSVRcXG4gKiBAY29weXJpZ2h0IEF0b21pY1BhZ2VzIExMQyAyMDE0XFxuICogQGF1dGhvciBEZW5uaXMgVGhvbXBzb24sIEF0b21pY1BhZ2VzIExMQ1xcbiAqIEB2ZXJzaW9uIDEuMVxcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL2F0b21pY3BhZ2VzL2NvZGVtaXJyb3ItcGFzdGVsLW9uLWRhcmstdGhlbWVcXG4gKi9cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyay5Db2RlTWlycm9yIHtcXG4gIGJhY2tncm91bmQ6ICMyYzI4Mjc7XFxuICBjb2xvcjogIzhGOTM4RjtcXG4gIGxpbmUtaGVpZ2h0OiAxLjU7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIGRpdi5Db2RlTWlycm9yLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjIxLDI0MCwyNTUsMC4yKSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIGJhY2tncm91bmQ6ICMzNDMwMmY7XFxuICBib3JkZXItcmlnaHQ6IDBweDtcXG4gIHBhZGRpbmc6IDAgM3B4O1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHtcXG4gIGNvbG9yOiAjOEY5MzhGO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1saW5lbnVtYmVyIHtcXG4gIGNvbG9yOiAjOEY5MzhGO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjQTdBN0E3ICFpbXBvcnRhbnQ7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tY29tbWVudCB7XFxuICBjb2xvcjogI0E2QzZGRjtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1hdG9tIHtcXG4gIGNvbG9yOiAjREU4RTMwO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLW51bWJlciB7XFxuICBjb2xvcjogI0NDQ0NDQztcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1wcm9wZXJ0eSB7XFxuICBjb2xvcjogIzhGOTM4RjtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1hdHRyaWJ1dGUge1xcbiAgY29sb3I6ICNhNmUyMmU7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20ta2V5d29yZCB7XFxuICBjb2xvcjogI0FFQjJGODtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1zdHJpbmcge1xcbiAgY29sb3I6ICM2NkE5Njg7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tdmFyaWFibGUge1xcbiAgY29sb3I6ICNBRUIyRjg7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tdmFyaWFibGUtMiB7XFxuICBjb2xvcjogI0JFQkY1NTtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS12YXJpYWJsZS0zIHtcXG4gIGNvbG9yOiAjREU4RTMwO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWRlZiB7XFxuICBjb2xvcjogIzc1N2FEODtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1icmFja2V0IHtcXG4gIGNvbG9yOiAjZjhmOGYyO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXRhZyB7XFxuICBjb2xvcjogI0MxQzE0NDtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgc3Bhbi5jbS1saW5rIHtcXG4gIGNvbG9yOiAjYWU4MWZmO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLXF1YWxpZmllcixcXG4uY20tcy1wYXN0ZWwtb24tZGFyayBzcGFuLmNtLWJ1aWx0aW4ge1xcbiAgY29sb3I6ICNDMUMxNDQ7XFxufVxcblxcbi5jbS1zLXBhc3RlbC1vbi1kYXJrIHNwYW4uY20tZXJyb3Ige1xcbiAgYmFja2dyb3VuZDogIzc1N2FEODtcXG4gIGNvbG9yOiAjZjhmOGYwO1xcbn1cXG5cXG4uY20tcy1wYXN0ZWwtb24tZGFyayAuQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAzMSkgIWltcG9ydGFudDtcXG59XFxuXFxuLmNtLXMtcGFzdGVsLW9uLWRhcmsgLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yNSk7XFxuICBjb2xvcjogIzhGOTM4RiAhaW1wb3J0YW50O1xcbiAgbWFyZ2luOiAtMXB4IC0xcHggMCAtMXB4O1xcbn1cIjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQmV6aWVyRWRpdG9yOiBjcmVhdGVCZXppZXJFZGl0b3IsXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlQmV6aWVyRWRpdG9yKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIHAwID0ge3g6IDAuMywgeTogMC4zfSxcbiAgICAgICAgcDEgPSB7eDogMC43LCB5OiAwLjd9LFxuICAgICAgICB3ID0gb3B0LndpZHRoIHx8IDMxMixcbiAgICAgICAgaCA9IG9wdC5oZWlnaHQgfHwgMzEyO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgZGUuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG5cbiAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGMud2lkdGggPSB3O1xuICAgIGMuaGVpZ2h0ID0gaDtcbiAgICBkZS5hcHBlbmRDaGlsZChjKTtcblxuICAgIHZhciBjdHggPSBjLmdldENvbnRleHQoJzJkJyk7XG4gIFxuICAgIHZhciBkZUNwMCA9IGNyZWF0ZUNwKHAwKTtcbiAgICB2YXIgZGVDcDEgPSBjcmVhdGVDcChwMSk7XG5cbiAgICBkZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gW3AwLngsIHAwLnksIHAxLngsIHAxLnldO1xuICAgIH07XG5cbiAgICBkZS5zZXRQb2ludHMgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG5cbiAgICAgICAgcDAueCA9IHBvaW50c1swXTtcbiAgICAgICAgcDAueSA9IHBvaW50c1sxXTtcbiAgICAgICAgcDEueCA9IHBvaW50c1syXTtcbiAgICAgICAgcDEueSA9IHBvaW50c1szXTtcbiAgICAgICAgXG4gICAgICAgIHJlbmRlcigpO1xuICAgIH07XG4gICAgXG4gICAgcmVuZGVyKCk7XG5cbiAgICBpZiAob3B0Lm9uQ2hhbmdlKSB7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9wdC5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuICBcbiAgICByZXR1cm4gZGU7XG4gIFxuXG4gIFxuICBcblxuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHcsIGgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeChwMC54KSwgeShwMC55KSk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgeSgwKSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgICAgICAgICAgeChwMC54KSwgeShwMC55KSxcbiAgICAgICAgICAgIHgocDEueCksIHkocDEueSksXG4gICAgICAgICAgICB4KDEpLCB5KDEpKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4KHAxLngpLCB5KHAxLnkpKTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoeCgwKSwgeSgwKSwgeCgxKSwgeSgxKSAtIHkoMCkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBcbiAgICAgICAgZGVDcDAucmVmcmVzaFBvc2l0aW9uKCk7XG4gICAgICAgIGRlQ3AxLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHggKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiB3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHkgKHApIHtcblxuICAgICAgICB2YXIgbWluID0gbWluWSgpLFxuICAgICAgICAgICAgbWF4ID0gbWF4WSgpLFxuICAgICAgICAgICAgZnVsbCA9IG1heCAtIG1pbjtcblxuICAgICAgICByZXR1cm4gaCAtICgoKHAgLSBtaW4pIC8gZnVsbCkgKiBoKTtcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIG1pblkoKSB7XG4gICAgXG4gICAgICAgIHJldHVybiBNYXRoLm1pbigwLCBwMC55LCBwMS55KTtcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIG1heFkoKSB7XG4gICAgXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgxLCBwMC55LCBwMS55KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDcChwb2ludCkge1xuXG4gICAgICAgIHZhciByID0gNjtcblxuICAgICAgICB2YXIgZGVDcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZUNwLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGVDcC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgICAgIGRlQ3Auc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgICAgICBkZUNwLnN0eWxlLndpZHRoID0gcioyICsgJ3B4JztcbiAgICAgICAgZGVDcC5zdHlsZS5oZWlnaHQgPSByKjIgKyAncHgnO1xuICAgICAgICBkZUNwLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLScrcisncHgsLScrcisncHgpJztcbiAgICAgICAgZGVDcC5zdHlsZS5ib3JkZXJSYWRpdXMgPSByICsgJ3B4JztcbiAgICAgICAgZGVDcC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMjU2LCAyNTYsIDI1NiwgMSknO1xuICAgICAgICBkZS5hcHBlbmRDaGlsZChkZUNwKTtcbiAgICAgIFxuICAgICAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBkZUNwLFxuICAgICAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBkZUNwLnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWQgPSB7fTtcbiAgICAgICAgICAgICAgICBtZC5taW5ZID0gbWluWSgpO1xuICAgICAgICAgICAgICAgIG1kLmZ1bGxZID0gbWF4WSgpIC0gbWQubWluWTsgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1kO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgICAgICAgICAgICAgIHZhciBiciA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChteCAtIGJyLmxlZnQpIC8gdykpO1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSAoKChici5ib3R0b20gLSBteSkgLyBoKSAqIG1kLmZ1bGxZKSAtIG1kLm1pblk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGZpeCA9IDEwMDA7XG4gICAgICAgICAgICAgICAgcG9pbnQueCA9IHBhcnNlSW50KHBvaW50LnggKiBmaXgpIC8gZml4O1xuICAgICAgICAgICAgICAgIHBvaW50LnkgPSBwYXJzZUludChwb2ludC55ICogZml4KSAvIGZpeDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2hhbmdlJywge2RldGFpbDoge3BvaW50czogZGUuZ2V0VmFsdWUoKX19KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25VcDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgZGVDcC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICAgIGRlQ3AucmVmcmVzaFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBkZUNwLnN0eWxlLmxlZnQgPSB4KHBvaW50LngpICsgJ3B4JztcbiAgICAgICAgICAgIGRlQ3Auc3R5bGUudG9wID0geShwb2ludC55KSArICdweCc7XG4gICAgICAgIH07XG4gICAgICAgIGRlQ3AucmVmcmVzaFBvc2l0aW9uKCk7XG4gICAgICBcbiAgICAgICAgcmV0dXJuIGRlQ3A7XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQnJlYWRjcnVtYnM6IGNyZWF0ZUJyZWFkY3J1bWJzLFxuICAgIH07XG59O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUJyZWFkY3J1bWJzKG9wdCkge1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIGNydW1icyA9IFtdO1xuXG4gICAgLy8gZGUuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgLy8gZGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBjcnVtYiA9IGdldENydW1iQnlEZSh0aGlzKTtcblxuICAgICAgICBpZiAoY3J1bWIpIHtcblxuICAgICAgICAgICAgaWYgKGNydW1iLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgY3J1bWIub25TZWxlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbGVjdCcsIHtzZWxlY3Rpb246IGNydW1ifSkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBkZS5zZXRJdGVtcyA9IGZ1bmN0aW9uIChfY3J1bWJzKSB7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXMoKTtcblxuICAgICAgICBfY3J1bWJzLmZvckVhY2goZnVuY3Rpb24gKGNydW1iKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNydW1iLmRvbUVsZW0gPSBjcmVhdGVDcnVtYihjcnVtYi5uYW1lLCBjcnVtYi52YWx1ZSk7XG4gICAgICAgICAgICBjcnVtYi5kZVNsYXNoID0gY3JlYXRlU2xhc2goKTtcbiAgICAgICAgICAgIGNydW1icy5wdXNoKGNydW1iKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZTtcblxuXG5cblxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlSXRlbXMoKSB7XG5cbiAgICAgICAgdmFyIGNydW1iO1xuXG4gICAgICAgIHdoaWxlIChjcnVtYnMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGNydW1iID0gY3J1bWJzLnBvcCgpO1xuXG4gICAgICAgICAgICBjcnVtYi5kb21FbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3J1bWIuZG9tRWxlbSk7XG4gICAgICAgICAgICBjcnVtYi5kZVNsYXNoLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3J1bWIuZGVTbGFzaCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDcnVtYkJ5RGUoZGVDcnVtYikge1xuXG4gICAgICAgIHZhciByZXQ7XG5cbiAgICAgICAgY3J1bWJzLnNvbWUoZnVuY3Rpb24gKGNydW1iKSB7XG5cbiAgICAgICAgICAgIGlmIChjcnVtYi5kb21FbGVtID09PSBkZUNydW1iKSB7XG5cbiAgICAgICAgICAgICAgICByZXQgPSBkZUNocnVtYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDcnVtYihuYW1lLCB2YWx1ZSkge1xuXG4gICAgICAgIHZhciBkZUNocnVtYiA9IGNyZWF0ZUxpKG5hbWUpO1xuXG4gICAgICAgIHJldHVybiBkZUNocnVtYjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTbGFzaCgpIHtcblxuICAgICAgICB2YXIgZGVTbGFzaCA9IGNyZWF0ZUxpKCcgLyAnKTtcbiAgICAgICAgZGVTbGFzaC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG4gICAgICAgIHJldHVybiBkZVNsYXNoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxpKGNvbnRlbnQpIHtcblxuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAvLyBsaS5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcbiAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGxpKTtcblxuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGZvbnRlbGxvQ29uZiA9IHJlcXVpcmUoJy4uL2Fzc2V0cy9mb250ZWxsby9jb25maWcuanNvbicpO1xudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlSWNvbjogY3JlYXRlSWNvbixcbiAgICAgICAgY3JlYXRlTGFiZWw6IGNyZWF0ZUxhYmVsLFxuICAgICAgICBjcmVhdGVCdG46IGNyZWF0ZUJ0bixcbiAgICAgICAgY3JlYXRlSWNvbkJ0bjogY3JlYXRlSWNvbkJ0bixcbiAgICAgICAgY3JlYXRlVG9nZ2xlSWNvbkJ0bjogY3JlYXRlVG9nZ2xlSWNvbkJ0bixcbiAgICAgICAgY3JlYXRlTGluZWJyZWFrOiBjcmVhdGVMaW5lYnJlYWssXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlTGluZWJyZWFrKG9wdCkge1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTtcbiAgICBkZS5pbm5lckhUTUwgPSBvcHQuY2FwdGlvbiB8fCAnbGFiZWwnO1xuICAgIFxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGFiZWwob3B0KSB7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYob3B0KTtcblxuICAgIGRlLnN0eWxlLmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgIGRlLnN0eWxlLmZvbnRTaXplID0gb3B0LmZvbnRTaXplIHx8IGFtZ3VpLkZPTlRfU0laRTtcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gb3B0LmRpc3BsYXkgfHwgJ2lubGluZS1ibG9jayc7XG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIGRlLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3Bvc2l0aW9uJyBpbiBvcHQpIGRlLnN0eWxlLnBvc2l0aW9uID0gb3B0LnBvc2l0aW9uO1xuICAgIGlmICgnY29sb3InIGluIG9wdCkgZGUuc3R5bGUuY29sb3IgPSBvcHQuY29sb3I7XG5cbiAgICBkZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgZGUuaW5uZXJIVE1MID0gdGV4dCB8fCAnJztcbiAgICB9XG5cbiAgICBvcHQudGV4dCA9IG9wdC50ZXh0IHx8IG9wdC5jYXB0aW9uOy8vVE9ETzogY2hhbmdlIGNhcHRpb24gc2V0cyB0byB0ZXh0XG4gICAgZGUuc2V0VGV4dChvcHQudGV4dCk7XG4gICAgXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdG4ob3B0KSB7XG5cbiAgICBvcHQuYmFja2dyb3VuZENvbG9yID0gb3B0LmJhY2tncm91bmRDb2xvciB8fCBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYob3B0KTtcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAob3B0LmhlaWdodCB8fCBhbWd1aS5MSU5FX0hFSUdIVCkgKyAncHgnO1xuICAgIGRlLnN0eWxlLnBhZGRpbmcgPSAnMCAxNXB4JztcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgZGUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgIGRlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG9wdC5iYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkZSwge1xuXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgICAgIGRlLnRleHRDb250ZW50ID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICB9KTtcbiAgICBcbiAgICBkZS50ZXh0ID0gb3B0LnRleHQgfHwgb3B0LmNhcHRpb24gfHwgJ2J1dHRvbic7XG5cbiAgICBiZWhhdmlvckJ0bihkZSwgb3B0KTtcblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSWNvbkJ0bihvcHQpIHtcblxuICAgIHZhciBpc0ZpeGVkSGlnaGxpZ2h0ID0gZmFsc2U7XG5cbiAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVJY29uKG9wdCk7XG4gICAgZGUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIGRlLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICBiZWhhdmlvckJ0bihkZSwgb3B0KTtcblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gYmVoYXZpb3JCdG4oZGUsIG9wdCkge1xuXG4gICAgdmFyIF9pbmFjdGl2ZSA9IGZhbHNlLFxuICAgICAgICBfZml4ZWRIaWdobGlnaHQgPSBmYWxzZSxcbiAgICAgICAgX21vdXNlT3ZlciA9IGZhbHNlO1xuXG4gICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uTU92ZXIpO1xuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbk1PdXQpO1xuXG4gICAgaWYgKCdvbkNsaWNrJyBpbiBvcHQpIHtcbiAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHQub25DbGljayk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGUsIHtcblxuICAgICAgICBpbmFjdGl2ZToge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgICAgIGlmIChfaW5hY3RpdmUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIF9pbmFjdGl2ZSA9IHY7XG4gICAgICAgICAgICAgICAgcmVmcmVzaERlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2luYWN0aXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaXhlZEhpZ2hsaWdodDoge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgICAgIGlmIChfZml4ZWRIaWdobGlnaHQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIF9maXhlZEhpZ2hsaWdodCA9IHY7XG4gICAgICAgICAgICAgICAgcmVmcmVzaERlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpeGVkSGlnaGxpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBvbk1PdmVyKCkge1xuXG4gICAgICAgIF9tb3VzZU92ZXIgPSB0cnVlO1xuICAgICAgICByZWZyZXNoRGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1PdXQoKSB7XG5cbiAgICAgICAgX21vdXNlT3ZlciA9IGZhbHNlO1xuICAgICAgICByZWZyZXNoRGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWZyZXNoRGUoKSB7XG5cbiAgICAgICAgZGUuc3R5bGUub3BhY2l0eSA9IF9pbmFjdGl2ZSA/IC40MyA6IDE7XG4gICAgICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBfaW5hY3RpdmUgPyAnbm9uZScgOiAnYXV0byc7XG4gICAgICAgIGRlLnN0eWxlLmJhY2tncm91bmQgPSAoX21vdXNlT3ZlciB8fCBfZml4ZWRIaWdobGlnaHQpID8gYW1ndWkuY29sb3IuYmdIb3ZlciA6ICdub25lJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRvZ2dsZUljb25CdG4ob3B0KSB7XG5cbiAgICBvcHQuaWNvbk9uID0gb3B0Lmljb25PbiB8fCBvcHQuaWNvbjtcbiAgICBvcHQuaWNvbk9mZiA9IG9wdC5pY29uT2ZmIHx8IG9wdC5pY29uO1xuICAgIG9wdC5vbkNvbG9yID0gb3B0Lm9uQ29sb3IgfHwgb3B0LmNvbG9yIHx8IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgb3B0Lm9mZkNvbG9yID0gb3B0Lm9mZkNvbG9yIHx8IG9wdC5jb2xvciB8fCBhbWd1aS5jb2xvci50ZXh0SW5hY3RpdmU7XG5cbiAgICB2YXIgaXNPbiA9IG9wdC5kZWZhdWx0VG9nZ2xlIHx8IGZhbHNlO1xuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZUljb25CdG4ob3B0KTtcbiAgICBzZXRJY29uKCk7XG5cbiAgICBpZiAoJ2F1dG9Ub2dnbGUnIGluIG9wdCA/IG9wdC5hdXRvVG9nZ2xlIDogIW9wdC5vbkNsaWNrKSB7XG4gICAgICAgIFxuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVG9nZ2xlQ2xpY2spO1xuICAgIH1cblxuICAgIGlmICgnb25Ub2dnbGUnIGluIG9wdCkge1xuXG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvZ2dsZScsIG9wdC5vblRvZ2dsZSk7XG4gICAgfVxuXG4gICAgaWYgKCdvbkNsaWNrJyBpbiBvcHQpIHtcblxuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdC5vbkNsaWNrKTtcbiAgICB9XG5cbiAgICBkZS5zZXRUb2dnbGUgPSBmdW5jdGlvbiAob24pIHtcblxuICAgICAgICBvbiA9ICEhb247XG4gICAgICAgIGlmIChvbiA9PT0gaXNPbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpc09uID0gb247XG4gICAgICAgIHNldEljb24oKTtcblxuICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndG9nZ2xlJywge2RldGFpbDoge3N0YXRlOiBpc09ufX0pKTtcbiAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoaXNPbiA/ICd0b2dnbGVPbicgOiAndG9nZ2xlT2ZmJykpO1xuICAgIH07XG5cbiAgICBkZS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gaXNPbjtcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBvblRvZ2dsZUNsaWNrKCkge1xuICAgICAgICBcbiAgICAgICAgZGUuc2V0VG9nZ2xlKCFpc09uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRJY29uKCkge1xuXG4gICAgICAgIGRlLnNldEljb24oaXNPbiA/IG9wdC5pY29uT24gOiBvcHQuaWNvbk9mZik7XG5cbiAgICAgICAgaWYgKG9wdC5jaGFuZ2VDb2xvcikge1xuICAgICAgICAgICAgZGUuc3R5bGUuY29sb3IgPSBpc09uID8gb3B0Lm9uQ29sb3IgOiBvcHQub2ZmQ29sb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUljb24ob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG4gICAgb3B0LnNpemUgPSBvcHQuc2l6ZSB8fCBvcHQuaGVpZ2h0IHx8IGFtZ3VpLkxJTkVfSEVJR0hUO1xuICAgIFxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIGRlLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICBkZS5zdHlsZS53aWR0aCA9IChvcHQud2lkdGggfHwgb3B0LnNpemUpICsgJ3B4JztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSAob3B0LmhlaWdodCB8fCBvcHQuc2l6ZSkgKyAncHgnO1xuICAgIGRlLnN0eWxlLmxpbmVIZWlnaHQgPSBvcHQuc2l6ZSArICdweCc7XG4gICAgZGUuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZGUuc3R5bGUuZm9udEZhbWlseSA9ICdhbWd1aSc7XG4gICAgZGUuc3R5bGUuZm9udFNpemUgPSBNYXRoLnJvdW5kKG9wdC5zaXplICogMC43MikgKyAncHgnO1xuICAgIGRlLnN0eWxlLmRpc3BsYXkgPSBvcHQuZGlzcGxheSB8fCAnYmxvY2snO1xuXG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIGRlLmFwcGVuZENoaWxkKHRleHROb2RlKTtcblxuICAgIGRlLnNldEljb24gPSBmdW5jdGlvbiAoaWNvbikge1xuXG4gICAgICAgIHZhciBnbHlwaCA9IGZvbnRlbGxvQ29uZi5nbHlwaHMuZmluZChmdW5jdGlvbiAoZ2x5cGgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGdseXBoLmNzcyA9PT0gaWNvbjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNvZGUgPSBnbHlwaCA/IGdseXBoLmNvZGUgOiA1OTQwNztcbiAgICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgIH07XG5cbiAgICBkZS5zZXRJY29uKG9wdC5pY29uKTtcblxuICAgIGlmIChvcHQudG9vbHRpcCkge1xuICAgICAgICBhbWd1aS5hZGRUb29sdGlwKHtcbiAgICAgICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgICAgIHRleHQ6IG9wdC50b29sdGlwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUNoZWNrYm94OiBjcmVhdGVDaGVja2JveCxcbiAgICB9O1xufTtcblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNoZWNrYm94KG9wdCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIHBhcmVudDogb3B0LnBhcmVudCxcbiAgICAgICAgfSksXG4gICAgICAgIGlzQ2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlLCAnY2hlY2tlZCcsIHtcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG5cbiAgICAgICAgICAgIGlmIChpc0NoZWNrZWQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgaXNDaGVja2VkID0gdjtcblxuICAgICAgICAgICAgY2Iuc2V0VG9nZ2xlKGlzQ2hlY2tlZCk7XG5cbiAgICAgICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7Y2hlY2tlZDogaXNDaGVja2VkfSkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0NoZWNrZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBjYiA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBpY29uT246ICdjaGVjaycsXG4gICAgICAgIGljb25PZmY6ICdjaGVjay1lbXB0eScsXG4gICAgICAgIHBhcmVudDogZGUsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIH0pO1xuICAgIFxuICAgIHZhciBsYWJlbCA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgdGV4dDogb3B0LnRleHQsXG4gICAgICAgIHBhcmVudDogZGUsXG4gICAgfSk7XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBkZS5jaGVja2VkID0gIWRlLmNoZWNrZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAob3B0Lm9uQ2hhbmdlKSB7XG4gICAgICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9wdC5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgZGUuY2hlY2tlZCA9IG9wdC5jaGVja2VkO1xuXG4gICAgcmV0dXJuIGRlO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQ3Vyc29yRnJvbVRleHQ6IGNyZWF0ZUN1cnNvckZyb21UZXh0LFxuICAgIH07XG59O1xuXG52YXIgYnVmZiA9IFtdO1xuXG5mdW5jdGlvbiBjcmVhdGVDdXJzb3JGcm9tVGV4dChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcbiAgICBvcHQud2lkdGggPSBvcHQud2lkdGggfHwgMjQ7XG4gICAgb3B0LmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgMjQ7XG4gICAgb3B0LmhvdHNwb3RYID0gb3B0LmhvdHNwb3RYIHx8IG9wdC53aWR0aCAvIDI7XG4gICAgb3B0LmhvdHNwb3RZID0gb3B0LmhvdHNwb3RZIHx8IG9wdC5oZWlnaHQgLyAyO1xuICAgIG9wdC50ZXh0WCA9IG9wdC50ZXh0WCB8fCAwO1xuICAgIG9wdC50ZXh0WSA9IG9wdC50ZXh0WSB8fCAwO1xuICAgIG9wdC5mb250RmFtaWx5ID0gb3B0LmZvbnRGYW1pbHkgfHwgJ2FtZ3VpJztcbiAgICBvcHQuZm9udFNpemUgPSBvcHQuZm9udFNpemUgfHwgb3B0LmhlaWdodCAvIDIgKyAncHgnO1xuICAgIG9wdC5jb2xvciA9IG9wdC5jb2xvciB8fCAnIzAwMCc7XG4gICAgb3B0LnJvdGF0ZSA9IG9wdC5yb3RhdGUgfHwgMDtcbiAgICBvcHQucm90YXRlT3JpZ2luWCA9IG9wdC5yb3RhdGVPcmlnaW5YIHx8IDA7XG4gICAgb3B0LnJvdGF0ZU9yaWdpblkgPSBvcHQucm90YXRlT3JpZ2luWSB8fCAwO1xuICAgIG9wdC50ZXh0ID0gb3B0LnRleHQgfHwgJ0EnO1xuICAgIFxuICAgIHZhciBidWZmZXJlZCA9IGJ1ZmYuZmluZChmdW5jdGlvbihiKSB7XG5cbiAgICAgICAgaWYgKGIub3B0LndpZHRoID09PSBvcHQud2lkdGggJiZcbiAgICAgICAgICAgIGIub3B0LmhlaWdodCA9PT0gb3B0LmhlaWdodCAmJlxuICAgICAgICAgICAgYi5vcHQuaG90c3BvdFggPT09IG9wdC5ob3RzcG90WCAmJlxuICAgICAgICAgICAgYi5vcHQuaG90c3BvdFkgPT09IG9wdC5ob3RzcG90WSAmJlxuICAgICAgICAgICAgYi5vcHQudGV4dFggPT09IG9wdC50ZXh0WCAmJlxuICAgICAgICAgICAgYi5vcHQudGV4dFkgPT09IG9wdC50ZXh0WSAmJlxuICAgICAgICAgICAgYi5vcHQuZm9udEZhbWlseSA9PT0gb3B0LmZvbnRGYW1pbHkgJiZcbiAgICAgICAgICAgIGIub3B0LmZvbnRTaXplID09PSBvcHQuZm9udFNpemUgJiZcbiAgICAgICAgICAgIGIub3B0LmNvbG9yID09PSBvcHQuY29sb3IgJiZcbiAgICAgICAgICAgIGIub3B0LnJvdGF0ZSA9PT0gb3B0LnJvdGF0ZSAmJlxuICAgICAgICAgICAgYi5vcHQucm90YXRlT3JpZ2luWCA9PT0gb3B0LnJvdGF0ZU9yaWdpblggJiZcbiAgICAgICAgICAgIGIub3B0LnJvdGF0ZU9yaWdpblkgPT09IG9wdC5yb3RhdGVPcmlnaW5ZICYmXG4gICAgICAgICAgICBiLm9wdC50ZXh0ID09PSBvcHQudGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChidWZmZXJlZCkge1xuXG4gICAgICAgIHJldHVybiBidWZmZXJlZC51cmw7XG4gICAgfVxuICBcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXG4gICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIFxuICAgIGNhbnZhcy53aWR0aCA9IG9wdC53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gb3B0LmhlaWdodDtcbiAgXG4gICAgaWYgKG9wdC5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdC5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBvcHQud2lkdGgsIG9wdC5oZWlnaHQpO1xuICAgIH1cbiAgICBcbiAgICBjdHgudHJhbnNsYXRlKG9wdC5yb3RhdGVPcmlnaW5YLCBvcHQucm90YXRlT3JpZ2luWSk7XG4gICAgY3R4LnJvdGF0ZShvcHQucm90YXRlKTtcbiAgICBjdHgudHJhbnNsYXRlKC1vcHQucm90YXRlT3JpZ2luWCwgLW9wdC5yb3RhdGVPcmlnaW5ZKTtcbiAgXG4gICAgY3R4LmZvbnQgPSBvcHQuZm9udFNpemUgKyAnICcgKyBvcHQuZm9udEZhbWlseTtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gIFxuICAgIGlmIChvcHQuc3Ryb2tlKSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG9wdC5zdHJva2UuY29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBvcHQuc3Ryb2tlLndpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlVGV4dChvcHQudGV4dCwgb3B0LnRleHRYLCBvcHQudGV4dFkpO1xuICAgIH1cbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gb3B0LmNvbG9yO1xuICAgIGN0eC5maWxsVGV4dChvcHQudGV4dCwgb3B0LnRleHRYLCBvcHQudGV4dFkpO1xuICBcbiAgICBpZiAob3B0LmhvdHNwb3RDb2xvcikge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0LmhvdHNwb3RDb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KG9wdC5ob3RzcG90WCwgb3B0LmhvdHNwb3RZLCAxLCAxKTtcbiAgICB9XG4gICAgXG4gICAgdmFyIHVyaSA9IGNhbnZhcy50b0RhdGFVUkwoKSxcbiAgICAgICAgdXJsID0gJ3VybChcXCcnICsgdXJpICsgJ1xcJykgJytvcHQuaG90c3BvdFgrJyAnK29wdC5ob3RzcG90WSsnLCBhdXRvJztcblxuICAgIGJ1ZmYucHVzaCh7XG4gICAgICAgIG9wdDogb3B0LFxuICAgICAgICB1cmw6IHVybCxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cmw7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVEaWFsb2c6IGNyZWF0ZURpYWxvZyxcbiAgICB9O1xufTtcblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZURpYWxvZyhvcHQpIHtcblxuICAgIHZhciBkZSwgZGVUaXRsZSwgZGVUaXRsZVRleHQsIGRlVGl0bGVJY29uLCBkZVRpdGxlRW5kLFxuICAgICAgICBkZUNvbnRlbnRDb250LCBkZUJ1dHRvbnNDb250LCBkZUJ1dHRvbnNFbmQsIGJ1dHRvbnMgPSBbXTtcblxuICAgIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGlhbG9nJyk7XG4gICAgKG9wdC5wYXJlbnQgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZGUpO1xuXG4gICAgZGUuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICBkZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICBkZS5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgZGUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuXG5cbiAgICBkZVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVUaXRsZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVUaXRsZS5zdHlsZS5wYWRkaW5nID0gJzAgMThweCc7XG4gICAgZGVUaXRsZS5zdHlsZS5oZWlnaHQgPSAnMzRweCc7XG4gICAgZGVUaXRsZS5zdHlsZS5mb250U2l6ZSA9ICcyM3B4JztcbiAgICBkZVRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSAnNzAwJztcbiAgICBkZVRpdGxlLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5O1xuICAgIGRlVGl0bGUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgIGRlLmFwcGVuZENoaWxkKGRlVGl0bGUpO1xuXG4gICAgZGVUaXRsZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgZGVUaXRsZS5hcHBlbmRDaGlsZChkZVRpdGxlVGV4dCk7XG5cbiAgICBpZiAob3B0LnRpdGxlSWNvbikge1xuXG4gICAgICAgIGRlVGl0bGVJY29uID0gYW1ndWkuY3JlYXRlSWNvbih7XG4gICAgICAgICAgICBpY29uOiBvcHQudGl0bGVJY29uLFxuICAgICAgICAgICAgcGFyZW50OiBkZVRpdGxlLFxuICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlVGl0bGVFbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZVRpdGxlRW5kLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLndpZHRoID0gJzAnO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUudmVydGljYWxBbGlnbiA9ICdib3R0b20nO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuICAgIGRlVGl0bGVFbmQuc3R5bGUuYm9yZGVyV2lkdGggPSAnMzRweCAwIDAgOHB4JztcbiAgICBkZVRpdGxlRW5kLnN0eWxlLmJvcmRlckNvbG9yID0gJ3RyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICcgKyBhbWd1aS5jb2xvci5vdmVybGF5O1xuICAgIGRlLmFwcGVuZENoaWxkKGRlVGl0bGVFbmQpO1xuXG4gICAgXG5cbiAgICBkZUNvbnRlbnRDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVDb250ZW50Q29udC5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheTtcbiAgICBkZS5hcHBlbmRDaGlsZChkZUNvbnRlbnRDb250KTtcblxuICAgIGRlQnV0dG9uc0NvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkZUJ1dHRvbnNDb250LnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5O1xuICAgIGRlQnV0dG9uc0NvbnQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlQnV0dG9uc0NvbnQuc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xuICAgIGRlLmFwcGVuZENoaWxkKGRlQnV0dG9uc0NvbnQpO1xuXG5cbiAgICBkZS5zZXRUaXRsZSA9IGZ1bmN0aW9uICh0aXRsZSkge1xuXG4gICAgICAgIGRlVGl0bGVUZXh0LnRleHRDb250ZW50ID0gdGl0bGUgfHwgJ0RpYWxvZyc7XG4gICAgfTtcblxuICAgIGRlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuXG4gICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVDb250ZW50Q29udC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZGVDb250ZW50Q29udC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICB9O1xuXG4gICAgZGUuc2V0QnV0dG9ucyA9IGZ1bmN0aW9uIChidXR0b25zKSB7XG5cbiAgICAgICAgaWYgKCFidXR0b25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBidXR0b25zLmxlbmd0aCA9IFtdO1xuICAgICAgICBkZUJ1dHRvbnNDb250LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuRGF0YSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mKGJ0bkRhdGEpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlLmFkZEJ1dHRvbihidG5EYXRhLnRleHQsIGJ0bkRhdGEub25DbGljayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5hZGRCdXR0b24gPSBmdW5jdGlvbiAodGV4dCwgaGFuZGxlcikge1xuXG4gICAgICAgIHZhciBidG4gPSBhbWd1aS5jcmVhdGVCdG4oe1xuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwKScsXG4gICAgICAgIH0pO1xuICAgICAgICBidG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBidG4uc3R5bGUuZm9udFdlaWdodCA9ICc3MDAnO1xuICAgICAgICBidG4uc3R5bGUuZm9udFNpemUgPSAnMThweCc7XG4gICAgICAgIGRlQnV0dG9uc0NvbnQuYXBwZW5kQ2hpbGQoYnRuKTtcblxuICAgICAgICBidXR0b25zLnB1c2goYnRuKTtcblxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSBoYW5kbGVyKCk7XG5cbiAgICAgICAgICAgIGRlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGlja18nICsgdGV4dC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZS5oaWRlQnV0dG9uID0gZnVuY3Rpb24gKHRleHQpIHtcblxuICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICBpZiAoYnRuLnRleHQgPT09IHRleHQpIHtcblxuICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGUuc2hvd0J1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcblxuICAgICAgICAgICAgaWYgKGJ0bi50ZXh0ID09PSB0ZXh0KSB7XG5cbiAgICAgICAgICAgICAgICBidG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGUuc2V0VGl0bGUob3B0LnRpdGxlKTtcbiAgICBkZS5zZXRDb250ZW50KG9wdC5jb250ZW50KTtcbiAgICBkZS5zZXRCdXR0b25zKG9wdC5idXR0b25zKTtcblxuICAgIGRlQnV0dG9uc0VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBkZUJ1dHRvbnNFbmQuc3R5bGUudmVydGljYWxBbGlnbiA9ICd0b3AnO1xuICAgIGRlQnV0dG9uc0VuZC5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmJvcmRlcldpZHRoID0gJzAgNnB4IDIxcHggMCc7XG4gICAgZGVCdXR0b25zRW5kLnN0eWxlLmJvcmRlckNvbG9yID0gJ3RyYW5zcGFyZW50ICcrYW1ndWkuY29sb3Iub3ZlcmxheSsnIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50JztcbiAgICBkZS5hcHBlbmRDaGlsZChkZUJ1dHRvbnNFbmQpO1xuXG4gICAgcmV0dXJuIGRlO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlRHJhd2VyOiBjcmVhdGVEcmF3ZXIsXG4gICAgfTtcbn07XG5cblxuZnVuY3Rpb24gY3JlYXRlRHJhd2VyKG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdmFyIGlzT3BlbmVkID0gZmFsc2U7XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGRlLmRlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLmRlSGVhZC5zdHlsZS5oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVCArICdweCc7XG4gICAgZGUuZGVIZWFkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoZGUuZGVIZWFkKTtcblxuICAgIGRlLmRlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLmFwcGVuZENoaWxkKGRlLmRlQ29udGVudCk7XG4gICAgXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcbiAgICAgICAgb3B0LnBhcmVudC5hcHBlbmRDaGlsZChkZSk7XG4gICAgfVxuXG4gICAgdmFyIHRvZ2dsZUJ0biA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBpY29uT246ICdhbmdsZS1kb3duJyxcbiAgICAgICAgaWNvbk9mZjogJ2FuZ2xlLXJpZ2h0JyxcbiAgICAgICAgb25DbGljazogb25Ub2dnbGVDbGljayxcbiAgICAgICAgcGFyZW50OiBkZS5kZUhlYWQsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgfSk7XG5cbiAgICB2YXIgbGFiZWxUaXRsZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgY2FwdGlvbjogb3B0LnRleHQgfHwgJ2RyYXdlcicsXG4gICAgICAgIHBhcmVudDogZGUuZGVIZWFkLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgIH0pO1xuXG5cblxuXG5cblxuICAgIGRlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpc09wZW5lZCA/IGRlLmNsb3NlKCkgOiBkZS5vcGVuKCk7XG4gICAgfVxuXG4gICAgZGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoaXNPcGVuZWQpIHJldHVybjtcbiAgICAgICAgaXNPcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgIHJlZnJlc2hPcGVuKCk7XG4gICAgfVxuXG4gICAgZGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCFpc09wZW5lZCkgcmV0dXJuO1xuICAgICAgICBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIHJlZnJlc2hPcGVuKCk7XG4gICAgfVxuXG4gICAgcmVmcmVzaE9wZW4oKTtcbiAgICByZXR1cm4gZGU7XG5cblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBvblRvZ2dsZUNsaWNrKCkge1xuICAgICAgICBcbiAgICAgICAgZGUudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaE9wZW4oKSB7XG5cbiAgICAgICAgdG9nZ2xlQnRuLnNldFRvZ2dsZShpc09wZW5lZCk7XG4gICAgICAgIGRlLmRlQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gaXNPcGVuZWQgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgIH1cblxuICAgIHJldHVybiBpbnA7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGVEcm9wZG93bjogY3JlYXRlRHJvcGRvd24sXG4gICAgICAgIGJpbmREcm9wZG93bjogYmluZERyb3Bkb3duLFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gY3JlYXRlRHJvcGRvd24ob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGRlLnN0eWxlLmxpc3RTdHlsZVR5cGUgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUubWFyZ2luID0gMDtcbiAgICBkZS5zdHlsZS5wYWRkaW5nID0gMDtcblxuICAgIGRlLmFkZEl0ZW0gPSBmdW5jdGlvbiAob3B0SXRlbSkge1xuXG4gICAgICAgIGlmICh0eXBlb2Yob3B0SXRlbSkgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICAgIG9wdEl0ZW0gPSB7dGV4dDogb3B0SXRlbX07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS50ZXh0Q29udGVudCA9IG9wdEl0ZW0udGV4dDtcbiAgICAgICAgbGkuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICBsaS5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgICAgIGxpLnN0eWxlLmZvbnRTaXplID0gJzE0cHgnO1xuICAgICAgICBsaS5zdHlsZS5wYWRkaW5nID0gJzAgM3B4JztcbiAgICAgICAgbGkuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBsaS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHRJbnZlcnNlO1xuICAgICAgICBsaS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3Iub3ZlcmxheUludmVyc2U7XG5cbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAob3B0SXRlbS5vblNlbGVjdCkge1xuICAgICAgICAgICAgICAgIG9wdEl0ZW0ub25TZWxlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbGVjdCcsIHtkZXRhaWw6IHtzZWxlY3Rpb246IG9wdEl0ZW0udGV4dH19KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkZS5hcHBlbmRDaGlsZChsaSk7XG5cbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGkuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnSW52ZXJzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGkuc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLm92ZXJsYXlJbnZlcnNlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgZGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChsaSkge1xuXG4gICAgICAgIGlmIChsaS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgICAgIGxpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdC5vcHRpb25zKSB7XG5cbiAgICAgICAgb3B0Lm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob3B0SXRlbSkge1xuXG4gICAgICAgICAgIGRlLmFkZEl0ZW0ob3B0SXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHQub25TZWxlY3QpIHtcblxuICAgICAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBvcHQub25TZWxlY3QpO1xuICAgIH1cblxuICAgIHJldHVybiBkZTtcbn1cblxuZnVuY3Rpb24gYmluZERyb3Bkb3duKG9wdCkge1xuXG4gICAgdmFyIGlzT3BlbmVkID0gZmFsc2U7XG4gICAgdmFyIGRlQnRuID0gb3B0LmRlVGFyZ2V0O1xuICAgIHZhciBkZURyb3Bkb3duID0gb3B0LmRlTWVudTtcblxuICAgIGlmIChvcHQuYXNDb250ZXh0TWVudSkge1xuXG4gICAgICAgIGRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlzT3BlbmVkID8gY2xvc2UoZSkgOiBvcGVuKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFxuICAgICAgICBkZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpc09wZW5lZCA/IGNsb3NlKGUpIDogb3BlbihlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXREcm9wZG93bjogZnVuY3Rpb24gKGRkKSB7XG5cbiAgICAgICAgICAgIGRlRHJvcGRvd24gPSBkZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW4oZSkge1xuXG4gICAgICAgIGlmIChvcHQub25PcGVuaW5nICYmIG9wdC5vbk9wZW5pbmcoZSkgPT09IGZhbHNlKSB7ICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNPcGVuZWQpIHJldHVybjtcbiAgICAgICAgaXNPcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBkZUNvbnQgPSBvcHQubWVudVBhcmVudCB8fCBhbWd1aS5kZU92ZXJsYXlDb250IHx8IGRlQnRuO1xuXG4gICAgICAgIGRlRHJvcGRvd24uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBkZURyb3Bkb3duLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIGRlQ29udC5hcHBlbmRDaGlsZChkZURyb3Bkb3duKTtcbiAgICAgICAgXG4gICAgICAgIGFtZ3VpLnBsYWNlVG9Qb2ludChkZURyb3Bkb3duLCBlLmNsaWVudFgsIGUuY2xpZW50WSwgb3B0LnNpZGUpO1xuXG4gICAgICAgIGRlRHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgY2xvc2UpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNsb3NlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZShlKSB7XG5cbiAgICAgICAgaWYgKCFpc09wZW5lZCkgcmV0dXJuO1xuICAgICAgICBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChkZURyb3Bkb3duLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlRHJvcGRvd24ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChkZURyb3Bkb3duKTtcbiAgICAgICAgfVxuICAgICAgICBkZURyb3Bkb3duLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIGNsb3NlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2UpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBjbG9zZSk7XG4gICAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUlucHV0OiBjcmVhdGVJbnB1dCxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVJbnB1dChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucC50eXBlID0gb3B0LnR5cGUgfHwgJ3RleHQnO1xuICAgIGlucC5zdHlsZS53aWR0aCA9IG9wdC53aWR0aCB8fCAnMjQ1cHgnO1xuICAgIGlucC5zdHlsZS5oZWlnaHQgPSBvcHQuaGVpZ2h0IHx8IGFtZ3VpLkxJTkVfSEVJR0hUICsgJ3B4JztcbiAgICBpbnAuc3R5bGUuZm9udFNpemUgPSBvcHQuZm9udFNpemUgfHwgYW1ndWkuRk9OVF9TSVpFO1xuICAgIGlucC5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgaW5wLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICBpbnAuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICBpbnAuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgIGlucC5zdHlsZS5wYWRkaW5nID0gJzAnO1xuXG4gICAgaWYgKCdwYWxjZWhvbGRlcicgaW4gb3B0KSBpbnAucGFsY2Vob2xkZXIgPSBvcHQucGFsY2Vob2xkZXI7XG4gICAgaWYgKCd2YWx1ZScgaW4gb3B0KSBpbnAudmFsdWUgPSBvcHQudmFsdWU7XG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIGlucC5zdHlsZS5mbGV4ID0gb3B0LmZsZXg7XG5cbiAgICBpZiAob3B0Lm9uQ2hhbmdlKSB7XG4gICAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvcHQub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgIG9wdC5wYXJlbnQuYXBwZW5kQ2hpbGQoaW5wKTtcbiAgICB9XG5cbiAgICBpbnAuc2V0VmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh2ID09PSBpbnAudmFsdWUpIHJldHVybjtcblxuICAgICAgICBpbnAudmFsdWUgPSB2O1xuICAgIH07XG5cbiAgICByZXR1cm4gaW5wO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG5cbldlYkZvbnQubG9hZCh7XG4gICAgZ29vZ2xlOiB7XG4gICAgICBmYW1pbGllczogWydPcGVuK1NhbnM6NDAwLDcwMCwzMDAsNjAwLDgwMDpsYXRpbixsYXRpbi1leHQnXVxuICAgIH1cbn0pO1xuXG52YXIgYW1ndWkgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbl8uZXh0ZW5kKGFtZ3VpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuYmV6aWVyRWRpdG9yJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuYnJlYWRjcnVtYnMnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5idXR0b24nKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5jaGVja2JveCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmN1cnNvcicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRpYWxvZycpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRyYXdlcicpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLmRyb3Bkb3duJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkuaW5wdXQnKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS5rZXlWYWx1ZUlucHV0JykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkubWFrZURyYWdnYWJsZScpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLnNjcm9sbCcpKGFtZ3VpKSxcbiAgICByZXF1aXJlKCcuL2FtZ3VpLnN0ZXBwZXJLZXknKShhbWd1aSksXG4gICAgcmVxdWlyZSgnLi9hbWd1aS50b29sdGlwJykoYW1ndWkpLFxuICAgIHJlcXVpcmUoJy4vYW1ndWkudXRpbHMnKShhbWd1aSksXG4gICAge1xuXG4gICAgICAgIEZPTlRfRkFNSUxZOiAnXCJPcGVuIFNhbnNcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgIEZPTlRfU0laRTogJzEycHgnLFxuICAgICAgICBMSU5FX0hFSUdIVDogMTYsXG5cbiAgICAgICAgZGVPdmVybGF5Q29udDogdW5kZWZpbmVkLCAvL2FtLl9pbml0KCkgZmlsbCB0aGlzXG5cbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGJnMDogJyMwMDAnLFxuICAgICAgICAgICAgYmcxOiAnIzIyMicsXG4gICAgICAgICAgICBiZzI6ICcjNDQ0JyxcbiAgICAgICAgICAgIGJnMzogJyM2NjYnLFxuICAgICAgICAgICAgYmdJbnZlcnNlOiAnI2VlZScsXG4gICAgICAgICAgICB0ZXh0OiAnI2VlZScsXG4gICAgICAgICAgICB0ZXh0SW52ZXJzZTogJyMwMDAnLFxuICAgICAgICAgICAgdGV4dEluYWN0aXZlOiAncmdiYSgyNTUsMjU1LDI1NSwuMjMpJyxcbiAgICAgICAgICAgIG92ZXJsYXk6ICdyZ2JhKDAsMCwwLC43ODUpJyxcbiAgICAgICAgICAgIG92ZXJsYXlJbnZlcnNlOiAncmdiYSgyMjIsMjMyLDIyMiwuNzg1KScsXG4gICAgICAgICAgICBiZ0hvdmVyOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEyKScsXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U3R5bGVTaGVldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gICAgICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSAnZGlhbG9nOjpiYWNrZHJvcCB7IGJhY2tncm91bmQ6JythbWd1aS5jb2xvci5iZ0hvdmVyKycgfSc7XG5cbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVEaXY6IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgICAgICAgICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkZS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnO1xuICAgICAgICAgICAgZGUuc3R5bGUubW96VXNlclNlbGVjdCA9ICdub25lJztcbiAgICAgICAgICAgIGRlLnN0eWxlLm1zVXNlclNlbGVjdCA9ICdub25lJztcbiAgICAgICAgICAgIGRlLnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Yob3B0KSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgICAgIGlmICgnZGlzcGxheScgaW4gb3B0KSBkZS5zdHlsZS5kaXNwbGF5ID0gb3B0LmRpc3BsYXk7XG4gICAgICAgICAgICAgICAgaWYgKCdmbGV4JyBpbiBvcHQpIGRlLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICAgICAgICAgICAgICBpZiAoJ3Bvc2l0aW9uJyBpbiBvcHQpIGRlLnN0eWxlLnBvc2l0aW9uID0gb3B0LnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlmICgncGFyZW50JyBpbiBvcHQpICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICAgICAgICAgICAgICBpZiAoJ3dpZHRoJyBpbiBvcHQpICBkZS5zdHlsZS53aWR0aCA9IG9wdC53aWR0aDtcbiAgICAgICAgICAgICAgICBpZiAoJ2hlaWdodCcgaW4gb3B0KSAgZGUuc3R5bGUuaGVpZ2h0ID0gb3B0LmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZVNlcGFyYXRvcjogZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgICAgICB2YXIgZGUgPSBhbWd1aS5jcmVhdGVEaXYob3B0KTtcbiAgICAgICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgZGUuc3R5bGUuaGVpZ2h0ID0gJzBweCc7XG4gICAgICAgICAgICBkZS5zdHlsZS5ib3R0b20gPSAnMHB4JztcbiAgICAgICAgICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRlLnN0eWxlLmJvcmRlckJvdHRvbSA9ICdzb2xpZCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMTEpJztcbiAgICAgICAgfSxcbiAgICB9XG4pO1xuXG5cbmFtZ3VpLnNldE1heExpc3RlbmVycygwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhbWd1aTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZUtleVZhbHVlSW5wdXQ6IGNyZWF0ZUtleVZhbHVlSW5wdXQsXG4gICAgfTtcbn07XG5cblxuXG5mdW5jdGlvbiBjcmVhdGVLZXlWYWx1ZUlucHV0KG9wdCkge1xuXG4gICAgICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGUuc3R5bGUubWFyZ2luID0gJzAgMXB4JztcbiAgICAgICAgZGUuc3R5bGUuaGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgICAgICBkZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAgICAgdmFyIGtleU9uID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIG9sZEtleSwgb2xkVmFsdWU7XG5cbiAgICAgICAgdmFyIGlucEtleSA9IGNyZWF0ZUlucHV0KCdwYXJhbWV0ZXIgbmFtZScpO1xuICAgICAgICBpbnBLZXkuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBvbktleVByZXNzKTtcblxuICAgICAgICB2YXIgZGl2aWRlciA9IGNyZWF0ZURpdmlkZXIoKTtcblxuICAgICAgICB2YXIgaW5wVmFsdWUgPSBjcmVhdGVJbnB1dCgndmFsdWUnKTtcbiAgICAgICAgLy8gaW5wVmFsdWUuc3R5bGUuY29sb3IgPSAnbGlnaHRibHVlJztcbiAgICAgICAgaW5wVmFsdWUuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgaW5wVmFsdWUuc3R5bGUucmlnaHQgPSAnMHB4JztcblxuICAgICAgICBzaG93SGlkZVZhbHVlKGtleU9uKTtcblxuICAgICAgICBkZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wS2V5LnZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlLnNldEtleSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ID09PSBvbGRLZXkpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgb2xkS2V5ID0gdjtcbiAgICAgICAgICAgIGlucEtleS52YWx1ZSA9IHY7XG4gICAgICAgICAgICBjaGVja0tleU9uKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wVmFsdWUudmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodiA9PT0gb2xkVmFsdWUpIHJldHVybjtcblxuICAgICAgICAgICAgb2xkVmFsdWUgPSB2O1xuICAgICAgICAgICAgaW5wVmFsdWUudmFsdWUgPSB2O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHQucGFyZW50KSB7XG4gICAgICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHQua2V5KSB7XG4gICAgICAgICAgICBkZS5zZXRLZXkob3B0LmtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0LnZhbHVlKSB7XG4gICAgICAgICAgICBkZS5zZXRWYWx1ZShvcHQudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdC5vbkNoYW5nZSkge1xuICAgICAgICAgICAgZGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2hlY2tLZXlPbigpO1xuXG4gICAgICAgICAgICB2YXIgZGV0YWlsID0ge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkZS5nZXRLZXkoKSAhPT0gb2xkS2V5KSB7XG4gICAgICAgICAgICAgICAgb2xkS2V5ID0gZGV0YWlsLmtleSA9IGRlLmdldEtleSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlLmdldFZhbHVlKCkgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXRhaWwudmFsdWUgPSBkZS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXRhaWwgfHwgJ2tleScgaW4gZGV0YWlsKSB7XG5cbiAgICAgICAgICAgICAgICBkZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2hhbmdlJywge2RldGFpbDogZGV0YWlsfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25LZXlQcmVzcyhlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBpbnBWYWx1ZS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tLZXlPbigpIHtcblxuICAgICAgICAgICAgdmFyIG9uID0gISFpbnBLZXkudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChvbiAhPT0ga2V5T24pIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBrZXlPbiA9IG9uO1xuICAgICAgICAgICAgICAgIHNob3dIaWRlVmFsdWUoa2V5T24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd0hpZGVWYWx1ZShzaG93KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lJyA6ICdub25lJztcbiAgICAgICAgICAgIGlucFZhbHVlLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gJ2lubGluZS1ibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICBpbnBLZXkuc3R5bGUud2lkdGggPSBzaG93ID8gJ2NhbGMoNTAlIC0gNXB4KScgOiAnMTAwJSc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dChwbGFjZWhvbGRlcikge1xuXG4gICAgICAgICAgICB2YXIgaW5wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlucC50eXBlID0gJ3RleHQnO1xuICAgICAgICAgICAgaW5wLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICAgICAgICBpbnAuc3R5bGUud2lkdGggPSAnNTAlJztcbiAgICAgICAgICAgIGlucC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICBpbnAuc3R5bGUuZm9udFNpemUgPSBhbWd1aS5GT05UX1NJWkU7XG4gICAgICAgICAgICBpbnAuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgICAgICAgICAgaW5wLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgICAgICBpbnAuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgICAgICAgaW5wLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICAgICAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgICAgICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbkNoYW5nZSk7XG4gICAgICAgICAgICAvLyAkKGlucCkuYXV0b3NpemVJbnB1dCh7c3BhY2U6IDB9KTtcbiAgICAgICAgICAgIGRlLmFwcGVuZENoaWxkKGlucCk7XG4gICAgICAgICAgICByZXR1cm4gaW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGl2aWRlciAoKSB7XG5cbiAgICAgICAgICAgIHZhciBkaXZpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgZGl2aWRlci50ZXh0Q29udGVudCA9ICc6JztcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS53aWR0aCA9ICcycHgnO1xuICAgICAgICAgICAgZGl2aWRlci5zdHlsZS5mb250U2l6ZSA9IGFtZ3VpLkZPTlRfU0laRTtcbiAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgICAgICAgICAgZGUuYXBwZW5kQ2hpbGQoZGl2aWRlcik7XG5cbiAgICAgICAgICAgIHJldHVybiBkaXZpZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlO1xuICAgIH0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG1ha2VEcmFnZ2FibGU6IG1ha2VEcmFnZ2FibGUsXG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VEcmFnZ2FibGUob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB2YXIgbWQsIGlzT3ZlciwgaXNEcmFnLCBcbiAgICAgICAgd2FpdGluZ01vdmVFdmVudCwgd2FpdGluZ01vdmVSYWY7XG5cbiAgICBpZiAob3B0LmRlVGFyZ2V0KSB7XG4gICAgICAgIFxuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG9uRW50ZXIpO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTGVhdmUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGVtaXREb3duOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICBvbkRvd24oZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHt9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Eb3duKGUpIHtcblxuICAgICAgICBpZiAoZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlzRHJhZyA9IHRydWU7XG5cbiAgICAgICAgdmFyIGN1c3RvbSA9IGNhbGwoJ29uRG93bicsIFtlXSk7XG5cbiAgICAgICAgaWYgKGN1c3RvbSA9PT0gZmFsc2UpIHsvL3ByZXZlbnQgZHJhZ2dpbmdcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWQgPSBjdXN0b20gfHwge307XG5cbiAgICAgICAgbWQubXggPSBlLmNsaWVudFg7XG4gICAgICAgIG1kLm15ID0gZS5jbGllbnRZO1xuICAgICAgICBtZC5keCA9IDA7XG4gICAgICAgIG1kLmR5ID0gMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvblVwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdmUoZSkge1xuXG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQgPSBlO1xuXG4gICAgICAgIGlmICghd2FpdGluZ01vdmVSYWYpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2FpdGluZ01vdmVSYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZk9uTW92ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYWZPbk1vdmUoKSB7XG5cbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHdhaXRpbmdNb3ZlUmFmKTtcblxuICAgICAgICB2YXIgd21lID0gd2FpdGluZ01vdmVFdmVudDtcbiAgICAgICAgd2FpdGluZ01vdmVSYWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHdhaXRpbmdNb3ZlRXZlbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIG14ID0gd21lLmNsaWVudFgsXG4gICAgICAgICAgICBteSA9IHdtZS5jbGllbnRZO1xuXG4gICAgICAgIG1kLmR4ID0gbXggLSBtZC5teDtcbiAgICAgICAgbWQuZHkgPSBteSAtIG1kLm15O1xuXG4gICAgICAgIGNhbGwoWydvbk1vdmUnLCAnb25EcmFnJ10sIFttZCwgbXgsIG15XSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25VcChlKSB7XG5cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25VcCk7XG5cbiAgICAgICAgaWYgKHdhaXRpbmdNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIHJhZk9uTW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNEcmFnID0gZmFsc2U7XG4gICAgICAgIGlmICghaXNPdmVyKSB7XG4gICAgICAgICAgICBvbkxlYXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsKCdvblVwJywgW21kLCBlLmNsaWVudFgsIGUuY2xpZW50WSwgZV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG5cbiAgICAgICAgaXNPdmVyID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzRHJhZykge1xuICAgICAgICAgICAgY2FsbCgnb25FbnRlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25MZWF2ZSgpIHtcblxuICAgICAgICBpc092ZXIgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNEcmFnKSB7XG4gICAgICAgICAgICBjYWxsKCdvbkxlYXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsKG5hbWUsIGFyZ3MpIHtcblxuICAgICAgICBpZiAobmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgIG5hbWUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgICAgICAgICAgY2FsbChuYW1lLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lIGluIG9wdCkge1xuXG4gICAgICAgICAgICByZXR1cm4gb3B0W25hbWVdLmFwcGx5KG9wdC50aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX2FtZ3VpKSB7XG5cbiAgICBhbWd1aSA9IF9hbWd1aTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVJhbmdlOiBjcmVhdGVSYW5nZSxcbiAgICAgICAgbWFrZVNjcm9sbGFibGU6IG1ha2VTY3JvbGxhYmxlLFxuICAgIH07XG59O1xuXG5cblxuZnVuY3Rpb24gbWFrZVNjcm9sbGFibGUob3B0KSB7XG5cbiAgICB2YXIgcG9zID0gMCxcbiAgICAgICAgZGVDb250cyA9IG9wdC5kZUNvbnQsXG4gICAgICAgIGRlVGFyZ2V0cyA9IG9wdC5kZVRhcmdldCxcbiAgICAgICAgZGVSYW5nZSA9IG9wdC5kZVJhbmdlLFxuICAgICAgICByZXQgPSB7ZGlzcG9zZTogZGlzcG9zZX07XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGVDb250cykpIGRlQ29udHMgPSBbZGVDb250c107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRlVGFyZ2V0cykpIGRlVGFyZ2V0cyA9IFtkZVRhcmdldHNdO1xuXG4gICAgZGVDb250cy5mb3JFYWNoKGZ1bmN0aW9uIChjb250KSB7XG4gICAgICAgIGlmICghY29udCkgdGhyb3cgJ2ZhbHNlIGNvbnRhaXRlcic7XG4gICAgfSk7XG4gICAgZGVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoIXRhcmdldCkgdGhyb3cgJ2ZhbHNlIHRhcmdldCc7XG4gICAgfSk7XG5cbiAgICBkZUNvbnRzLmZvckVhY2goZnVuY3Rpb24gKGRlQykge1xuXG4gICAgICAgIGRlQy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIG9uV2hlZWwpO1xuICAgIH0pO1xuXG5cbiAgICAvL2NyZWF0ZSBhIGJhc2ljIHNjcm9sbCBiYXIgaWYgaXQgaXMgbm90IHNldCBhdCBhbGxcbiAgICBpZiAoISgnZGVSYW5nZScgaW4gb3B0KSkge1xuXG4gICAgICAgIGRlUmFuZ2UgPSB0aGlzLl9zY3JvbGxSYW5nZSA9IGFtZ3VpLmNyZWF0ZVJhbmdlKHtcbiAgICAgICAgICAgIHBhcmVudDogZGVDb250c1swXSxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVSYW5nZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRlUmFuZ2Uuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIGRlUmFuZ2Uuc3R5bGUucmlnaHQgPSAnMHB4JztcbiAgICB9XG5cbiAgICBpZiAoZGVSYW5nZSkge1xuICAgICAgICBpbml0UmFuZ2UoKTtcbiAgICB9XG5cblxuICAgIHJldHVybiByZXQ7XG5cblxuXG5cblxuICAgIGZ1bmN0aW9uIG9uV2hlZWwoZSkge1xuXG4gICAgICAgIHZhciB3YXkgPSBlLmRlbHRhWS8zLFxuICAgICAgICAgICAgbWF4SCA9IGdldFRhcmdldE1heEgoKTtcbiAgICAgICAgXG4gICAgICAgIHBvcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKG1heEgsIHBvcyArIHdheSkpO1xuXG4gICAgICAgIGlmIChkZVJhbmdlKSB7XG5cbiAgICAgICAgICAgIGRlUmFuZ2Uuc2V0VmFsdWUocG9zIC8gbWF4SCk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGwoKTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlUmFuZ2UoZSkge1xuXG4gICAgICAgIHBvcyA9IGdldFRhcmdldE1heEgoKSAqIGUuZGV0YWlsLnZhbHVlO1xuICAgICAgICBzY3JvbGwoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGwoKSB7XG5cbiAgICAgICAgZGVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gKGRlVCkge1xuXG4gICAgICAgICAgICBkZVQuc3R5bGUudG9wID0gLXBvcyArICdweCc7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRhcmdldE1heEgoKSB7XG5cbiAgICAgICAgdmFyIGNvbnRIID0gTWF0aC5tYXguYXBwbHkobnVsbCwgZGVDb250cy5zbGljZSgpLm1hcChnZXRIKSksXG4gICAgICAgICAgICB0YXJnZXRIID0gTWF0aC5tYXguYXBwbHkobnVsbCwgZGVUYXJnZXRzLnNsaWNlKCkubWFwKGdldEgpKTtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0SCAtIGNvbnRIO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEgoZGUpIHtcblxuICAgICAgICByZXR1cm4gZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRSYW5nZSgpIHtcblxuICAgICAgICB2YXIgc2F2ZURpc3BsYXkgPSBkZVJhbmdlLnN0eWxlLmRpc3BsYXksXG4gICAgICAgICAgICBpc1Nob3dpbmcgPSBmYWxzZSxcbiAgICAgICAgICAgIHJlZnJlc2hTZXRJO1xuXG4gICAgICAgIGRlUmFuZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBkZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hhbmdlUmFuZ2UpO1xuXG4gICAgICAgIHJlZnJlc2hTZXRJID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgbmVlZHNSYW5nZSA9IGdldFRhcmdldE1heEgoKSA+IDA7XG5cbiAgICAgICAgICAgIGlmIChpc1Nob3dpbmcgIT09IG5lZWRzUmFuZ2UpIHtcblxuICAgICAgICAgICAgICAgIGlzU2hvd2luZyA9IG5lZWRzUmFuZ2U7XG5cbiAgICAgICAgICAgICAgICBkZVJhbmdlLnN0eWxlLmRpc3BsYXkgPSBpc1Nob3dpbmcgPyBzYXZlRGlzcGxheSA6ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzEyKTsgXG5cbiAgICAgICAgdmFyIHNhdmVEaXNwb3NlID0gcmV0LmRpc3Bvc2U7XG4gICAgICAgIHJldC5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKSB7XG5cbiAgICAgICAgICAgIHNhdmVEaXNwb3NlKCk7XG5cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVmcmVzaFNldEkpO1xuXG4gICAgICAgICAgICBkZVJhbmdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hhbmdlUmFuZ2UpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG5cbiAgICAgICAgZGVDb250cy5mb3JFYWNoKGZ1bmN0aW9uIChkZUMpIHtcblxuICAgICAgICAgICAgZGVDLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgb25XaGVlbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cblxuZnVuY3Rpb24gY3JlYXRlUmFuZ2Uob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG4gIFxuICAgIHZhciB2YWx1ZSA9IDAsIGN1cnNvcldpZHRoID0gMCwgaXNWZXJ0aWNhbCA9ICEhb3B0LnZlcnRpY2FsO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGRlLnN0eWxlLndpZHRoID0gb3B0LndpZHRoIHx8ICc2cHgnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgJzE0MHB4JztcbiAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcxO1xuICAgIGRlLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICAgIHZhciBkZUN1cnNvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlQ3Vyc29yLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZUN1cnNvci5zdHlsZVtkKCdsZWZ0JywndG9wJyldID0gJzAnO1xuICAgIGRlQ3Vyc29yLnN0eWxlW2QoJ3JpZ2h0JywnYm90dG9tJyldID0gJzAnO1xuICAgIGRlQ3Vyc29yLnN0eWxlLm1hcmdpbiA9IGQoJ2F1dG8gMCcsJzAgYXV0bycpO1xuICAgIGRlQ3Vyc29yLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgZGVDdXJzb3Iuc3R5bGVbZCgnd2lkdGgnLCdoZWlnaHQnKV0gPSBvcHQuY3Vyc29ySGVpZ2h0IHx8ICcxMDAlJztcbiAgICBkZS5hcHBlbmRDaGlsZChkZUN1cnNvcik7XG5cbiAgICBpZiAob3B0LnBhcmVudCkge1xuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKGRlKTtcbiAgICB9XG5cbiAgICBkZS5zZXRDdXJzb3JXaWR0aCA9IGZ1bmN0aW9uICh3KSB7XG5cbiAgICAgICAgZGVDdXJzb3Iuc3R5bGVbZCgnaGVpZ2h0Jywnd2lkdGgnKV0gPSB3ICsgJ3B4JztcbiAgICAgICAgY3Vyc29yV2lkdGggPSB3O1xuICAgIH07XG4gICAgZGUuc2V0Q3Vyc29yV2lkdGgob3B0LmN1cnNvcldpZHRoIHx8IDEyKTsgICBcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogZGUsXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgICAgICAgICAgdmFyIGJyID0gZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgICAgcCA9IGQobXksIG14KSAtIChkKGJyLnRvcCwgYnIubGVmdCkgKyBjdXJzb3JXaWR0aC8yKSxcbiAgICAgICAgICAgICAgICBmdyA9IGQoYnIuaGVpZ2h0LCBici53aWR0aCkgLSBjdXJzb3JXaWR0aCxcbiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBwIC8gZncpKTtcblxuICAgICAgICAgICAgZGUuc2V0VmFsdWUocG9zKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodikge1xuXG4gICAgICAgIGlmICh2ID09PSB2YWx1ZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhbHVlID0gdjtcbiAgICAgICAgXG4gICAgICAgIHZhciB3aWR0aCA9IGRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2QoJ2hlaWdodCcsJ3dpZHRoJyldO1xuICAgICAgICBkZUN1cnNvci5zdHlsZVtkKCd0b3AnLCdsZWZ0JyldID0gKCh3aWR0aCAtIGN1cnNvcldpZHRoKSAqIHZhbHVlKSArICdweCc7XG5cbiAgICAgICAgZGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NoYW5nZScsIHtkZXRhaWw6IHt2YWx1ZTogdmFsdWV9fSkpO1xuICAgIH07XG5cbiAgICBkZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGQgKHZlcnRpY2FsLCBob3Jpc29udGFsKSB7XG5cbiAgICAgICAgcmV0dXJuIGlzVmVydGljYWwgPyB2ZXJ0aWNhbCA6IGhvcmlzb250YWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlU3RlcHBlcktleTogY3JlYXRlU3RlcHBlcktleSxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVTdGVwcGVyS2V5KG9wdCkge1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgb3B0LmhlaWdodCA9IG9wdC5oZWlnaHQgfHwgYW1ndWkuTElORV9IRUlHSFQ7XG5cbiAgICB2YXIgaGFzUHJldiA9IGZhbHNlLCBcbiAgICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuICAgICAgICBpc1Nob3dpbmdTdGVwcGVycyA9IGZhbHNlLFxuICAgICAgICBpc01PdmVyS2V5ID0gZmFsc2UsXG4gICAgICAgIGlzTU92ZXJTdGVwcGVyID0gZmFsc2UsXG4gICAgICAgIHN0ZXBwZXJXID0gODtcblxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBpY29uOiAna2V5JyxcbiAgICAgICAgaGVpZ2h0OiBvcHQuaGVpZ2h0LFxuICAgICAgICBvbkNsaWNrOiBvcHQub25DbGljayxcbiAgICAgICAgY2hhbmdlQ29sb3I6IHRydWUsXG4gICAgICAgIHBhcmVudDogb3B0LnBhcmVudFxuICAgIH0pO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICBkZS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgIFxuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbk1PdmVyS2V5KTtcbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NT3V0S2V5KTtcblxuICAgIHZhciBkZVByZXYgPSBjcmVhdGVTdGVwcGVyKHRydWUpO1xuICAgIHZhciBkZU5leHQgPSBjcmVhdGVTdGVwcGVyKGZhbHNlKTtcblxuICAgIGRlLnNldFN0ZXBwZXJzID0gZnVuY3Rpb24gKF9oYXNQcmV2LCBfaGFzTmV4dCkge1xuXG4gICAgICAgIGhhc1ByZXYgPSBfaGFzUHJldjtcbiAgICAgICAgaGFzTmV4dCA9IF9oYXNOZXh0O1xuXG4gICAgICAgIGlmIChpc1Nob3dpbmdTdGVwcGVycykge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBoaWRlU3RlcHBlcnMoKTtcbiAgICAgICAgICAgIHNob3dTdGVwcGVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGUuc2V0SGlnaGxpZ2h0ID0gZnVuY3Rpb24gKG9uKSB7XG5cbiAgICAgICAgZGUuc3R5bGUuY29sb3IgPSBvbiA/IGFtZ3VpLmNvbG9yLnRleHQgOiBhbWd1aS5jb2xvci50ZXh0SW5hY3RpdmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlO1xuXG4gICAgZnVuY3Rpb24gb25NT3ZlcktleSgpIHsgaXNNT3ZlcktleSA9IHRydWU7IG9uQ2hhbmdlT3ZlcigpOyB9XG4gICAgZnVuY3Rpb24gb25NT3V0S2V5KCkgeyBpc01PdmVyS2V5ID0gZmFsc2U7IG9uQ2hhbmdlT3ZlcigpOyB9XG4gICAgZnVuY3Rpb24gb25NT3ZlclN0ZXBwZXIoKSB7IGlzTU92ZXJTdGVwcGVyID0gdHJ1ZTsgb25DaGFuZ2VPdmVyKCk7IH1cbiAgICBmdW5jdGlvbiBvbk1PdXRTdGVwcGVyKCkgeyBpc01PdmVyU3RlcHBlciA9IGZhbHNlOyBvbkNoYW5nZU92ZXIoKTsgfVxuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VPdmVyICgpIHtcblxuICAgICAgICBpZiAoaXNNT3ZlcktleSB8fCBpc01PdmVyU3RlcHBlcikge1xuXG4gICAgICAgICAgICBpZiAoIWlzU2hvd2luZ1N0ZXBwZXJzKSB7XG4gICAgICAgICAgICAgICAgc2hvd1N0ZXBwZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzTU92ZXJLZXkgJiYgIWlzTU92ZXJTdGVwcGVyKSB7XG5cbiAgICAgICAgICAgIGlmIChpc1Nob3dpbmdTdGVwcGVycykge1xuICAgICAgICAgICAgICAgIGhpZGVTdGVwcGVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNob3dTdGVwcGVycygpIHtcblxuICAgICAgICBpc1Nob3dpbmdTdGVwcGVycyA9IHRydWU7XG5cbiAgICAgICAgdmFyIGJyID0gZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKGhhc1ByZXYpIHtcbiAgICAgICAgICAgIGFtZ3VpLmRlT3ZlcmxheUNvbnQuYXBwZW5kQ2hpbGQoZGVQcmV2KTtcbiAgICAgICAgICAgIGRlUHJldi5zdHlsZS5sZWZ0ID0gKGJyLmxlZnQgLSBzdGVwcGVyVykgKyAncHgnO1xuICAgICAgICAgICAgZGVQcmV2LnN0eWxlLnRvcCA9IGJyLnRvcCArICdweCc7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNOZXh0KSB7XG4gICAgICAgICAgICBhbWd1aS5kZU92ZXJsYXlDb250LmFwcGVuZENoaWxkKGRlTmV4dCk7XG4gICAgICAgICAgICBkZU5leHQuc3R5bGUubGVmdCA9IGJyLnJpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgIGRlTmV4dC5zdHlsZS50b3AgPSBici50b3AgKyAncHgnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZVN0ZXBwZXJzKCkge1xuXG4gICAgICAgIGlzU2hvd2luZ1N0ZXBwZXJzID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGRlUHJldi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkZVByZXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZVByZXYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlTmV4dC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkZU5leHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZU5leHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU3RlcHBlcihpc0xlZnQpIHtcblxuICAgICAgICB2YXIgZGVTdGVwcGVyID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiBpc0xlZnQgPyAnYW5nbGUtbGVmdCcgOiAnYW5nbGUtcmlnaHQnLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHQuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHN0ZXBwZXJXLFxuICAgICAgICAgICAgb25DbGljazogaXNMZWZ0ID8gb3B0Lm9uQ2xpY2tQcmV2IDogb3B0Lm9uQ2xpY2tOZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBkZVN0ZXBwZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZVN0ZXBwZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgZGVTdGVwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBvbk1PdmVyU3RlcHBlcik7XG4gICAgICAgIGRlU3RlcHBlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NT3V0U3RlcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIGRlU3RlcHBlcjtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF9hbWd1aSkge1xuXG4gICAgYW1ndWkgPSBfYW1ndWk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRUb29sdGlwOiBhZGRUb29sdGlwLFxuICAgICAgICByZW1vdmVUb29sdGlwOiByZW1vdmVUb29sdGlwLFxuICAgICAgICBnZXRUb29sdGlwOiBnZXRUb29sdGlwLFxuICAgIH07XG59O1xuXG52YXIgdG9vbHRpcE1hcCA9IG5ldyBNYXAoKTtcblxuXG5cbmZ1bmN0aW9uIGFkZFRvb2x0aXAob3B0KSB7XG5cbiAgICB2YXIgc2hvd1NldFQsIGRlbGF5ID0gNDIzLCBteCA9IDAsIG15ID0gMDtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnRleHRDb250ZW50ID0gb3B0LnRleHQ7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLnBhZGRpbmcgPSAnMTJweCc7XG4gICAgZGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIGRlLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5vdmVybGF5SW52ZXJzZTtcbiAgICBkZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHRJbnZlcnNlO1xuXG4gICAgZGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIG9wdC5kZVRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgb25NRW50ZXIpO1xuICAgICAgICBvbk1MZWF2ZSgpO1xuICAgIH07XG5cbiAgICBkZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcblxuICAgICAgICBkZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgdG9vbHRpcE1hcC5zZXQob3B0LmRlVGFyZ2V0LCBkZSk7XG5cbiAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uTUVudGVyKTtcblxuICAgIGZ1bmN0aW9uIG9uTUVudGVyKGUpIHtcblxuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25NTW92ZSk7XG4gICAgICAgIG9wdC5kZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25NTGVhdmUpO1xuICAgICAgICBvcHQuZGVUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25NTGVhdmUpO1xuXG4gICAgICAgIG9uTU1vdmUoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NTGVhdmUoKSB7XG5cbiAgICAgICAgb3B0LmRlVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTU1vdmUpO1xuICAgICAgICBvcHQuZGVUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTUxlYXZlKTtcbiAgICAgICAgb3B0LmRlVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTUxlYXZlKTtcblxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIGNsZWFyU2hvd1NldFQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1Nb3ZlKGUpIHtcblxuICAgICAgICBoaWRlKCk7XG4gICAgICAgIHJlZnJlc2hTaG93U2V0VCgpO1xuICAgICAgICBteCA9IGUuY2xpZW50WDtcbiAgICAgICAgbXkgPSBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaFNob3dTZXRUKCkge1xuXG4gICAgICAgIGNsZWFyU2hvd1NldFQoKTtcbiAgICAgICAgc2hvd1NldFQgPSBzZXRUaW1lb3V0KHNob3csIGRlbGF5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclNob3dTZXRUKCkge1xuXG4gICAgICAgIGNsZWFyVGltZW91dChzaG93U2V0VCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdygpIHtcblxuICAgICAgICBhbWd1aS5kZU92ZXJsYXlDb250LmFwcGVuZENoaWxkKGRlKTtcbiAgICAgICAgYW1ndWkucGxhY2VUb1BvaW50KGRlLCBteCwgbXksIG9wdC5zaWRlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlKCkge1xuXG4gICAgICAgIGlmIChkZS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBkZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGRlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoZGVUYXJnZXQpIHtcblxuICAgIHZhciB0b29sdGlwID0gYW1ndWkuZ2V0VG9vbHRpcChkZVRhcmdldCk7XG5cbiAgICBpZiAodG9vbHRpcCkge1xuXG4gICAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gZ2V0VG9vbHRpcChkZVRhcmdldCkge1xuXG4gICAgcmV0dXJuIHRvb2x0aXBNYXAuZ2V0KGRlVGFyZ2V0KTtcbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfYW1ndWkpIHtcblxuICAgIGFtZ3VpID0gX2FtZ3VpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2VUb1BvaW50OiBwbGFjZVRvUG9pbnQsXG4gICAgICAgIGNhbGxPbkFkZGVkOiBjYWxsT25BZGRlZCxcbiAgICB9O1xufTtcblxuXG5mdW5jdGlvbiBwbGFjZVRvUG9pbnQoZGUsIG14LCBteSwgd2F5KSB7XG5cbiAgICBhbWd1aS5jYWxsT25BZGRlZChkZSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBweCA9IDAsIHB5ID0gMCxcbiAgICAgICAgICAgIGJyID0gZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICB3ID0gYnIud2lkdGgsXG4gICAgICAgICAgICBoID0gYnIuaGVpZ2h0LFxuICAgICAgICAgICAgd3cgPSB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIHdoID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIHdheSA9IHdheSB8fCAnbGVmdCc7XG5cbiAgICAgICAgc3dpdGNoICh3YXkpIHtcblxuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICBweCA9IG14IC0gKHcgLyAyKTtcbiAgICAgICAgICAgICAgICBweSA9IG15IC0gaDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHB4ID0gbXg7XG4gICAgICAgICAgICAgICAgcHkgPSBteSAtIChoIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgcHggPSBteCAtICh3IC8gMik7XG4gICAgICAgICAgICAgICAgcHkgPSBteTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHB4ID0gbXggLSB3O1xuICAgICAgICAgICAgICAgIHB5ID0gbXkgLSAoaCAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHB5IDwgMCkgcHkgPSAwO1xuICAgICAgICBpZiAocHggKyB3ID4gd3cpIHB4IC09IChweCArIHcpIC0gd3c7XG4gICAgICAgIGlmIChweSArIGggPiB3aCkgcHkgLT0gKHB5ICsgaCkgLSB3aDtcbiAgICAgICAgaWYgKHB4IDwgMCkgcHggPSAwO1xuXG4gICAgICAgIGRlLnN0eWxlLmxlZnQgPSBweCArICdweCc7XG4gICAgICAgIGRlLnN0eWxlLnRvcCA9IHB5ICsgJ3B4JztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2FsbE9uQWRkZWQoZGUsIGNiLCB0aGlzQXJnKSB7XG5cbiAgICBpZiAoZGUgaW5zdGFuY2VvZiBBcnJheSkge1xuXG4gICAgICAgIHZhciBkZVJlc3QgPSBkZTtcbiAgICAgICAgZGUgPSBkZVJlc3Quc2hpZnQoKTtcblxuICAgICAgICBpZiAoZGVSZXN0Lmxlbmd0aCAhPT0gMCkge1xuXG4gICAgICAgICAgICBjYiA9IGNhbGxPbkFkZGVkLmJpbmQodGhpcywgZGVSZXN0LCBjYiwgdGhpc0FyZylcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIHNldFQsIHNldFRUaW1lID0gMTtcbiAgICBjaGVja0xvb3AoKTtcbiAgICBcbiAgICBmdW5jdGlvbiBjaGVja0xvb3AoKSB7XG5cbiAgICAgICAgaWYgKGNoZWNrKGRlKSkge1xuXG4gICAgICAgICAgICBjYi5jYWxsKHRoaXNBcmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNldFRUaW1lIDwgMjU2KSB7XG4gICAgICAgICAgICAgICAgc2V0VFRpbWUgKj0gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNldFQpO1xuICAgICAgICAgICAgc2V0VCA9IHNldFRpbWVvdXQoY2hlY2tMb29wLCBzZXRUVGltZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrIChub2RlKSB7XG5cbiAgICAgICAgd2hpbGUgKG5vZGUucGFyZW50Tm9kZSkge1xuXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOSB8fCBub2RlLm5vZGVUeXBlID09PSAxMSkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9e1xuICBcIm5hbWVcIjogXCJhbWd1aVwiLFxuICBcImNzc19wcmVmaXhfdGV4dFwiOiBcImljb24tXCIsXG4gIFwiY3NzX3VzZV9zdWZmaXhcIjogZmFsc2UsXG4gIFwiaGludGluZ1wiOiB0cnVlLFxuICBcInVuaXRzX3Blcl9lbVwiOiAxMDAwLFxuICBcImFzY2VudFwiOiA4NTAsXG4gIFwiZ2x5cGhzXCI6IFtcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjUzZWQ4NTcwMjI1NTgxMjY5Y2Q3ZWZmNTc5NWU4YmVhXCIsXG4gICAgICBcImNzc1wiOiBcImVtby11bmhhcHB5XCIsXG4gICAgICBcImNvZGVcIjogNTk0MTIsXG4gICAgICBcInNyY1wiOiBcImZvbnRlbGljb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjY4ZTI5OGZmMmQ4YjI1ZGQ3ZjY0N2VkNjRmNWFlNjkwXCIsXG4gICAgICBcImNzc1wiOiBcImVtby1zdXJwcmlzZWRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzMixcbiAgICAgIFwic3JjXCI6IFwiZm9udGVsaWNvXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiOGNlNzMyNjg4NTg3OTA5YWQwYTlkODMyM2VhY2E4YWRcIixcbiAgICAgIFwiY3NzXCI6IFwibWFycXVlZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDEzLFxuICAgICAgXCJzcmNcIjogXCJmb250ZWxpY29cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1MjExYWY0NzRkM2E5ODQ4ZjY3Zjk0NWUyY2NhZjE0M1wiLFxuICAgICAgXCJjc3NcIjogXCJjYW5jZWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI0NGUwNDcxNWFlY2JjYTdmMjY2YTE3ZDVhNzg2M2M2OFwiLFxuICAgICAgXCJjc3NcIjogXCJwbHVzXCIsXG4gICAgICBcImNvZGVcIjogNTk0MzEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMWE1Y2ZhMTg2NjQ3ZThjOTI5YzJiMTdiOWZjNGRhYzFcIixcbiAgICAgIFwiY3NzXCI6IFwicGx1cy1zcXVhcmVkXCIsXG4gICAgICBcImNvZGVcIjogNTkzOTgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMGRkZDNlODIwMWNjYzdkNDFmN2I3YzlkMjdlY2E2YzFcIixcbiAgICAgIFwiY3NzXCI6IFwibGlua1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDYwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjFkY2QyYjIxNDhiN2YwODZhNGViNDdmNmE3NDZiZGVlXCIsXG4gICAgICBcImNzc1wiOiBcInVubGlua1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDYxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImM1ZmQzNDljYmQzZDIzZTRhZGUzMzM3ODljMjljNzI5XCIsXG4gICAgICBcImNzc1wiOiBcImV5ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjdmZDY4M2IyYzUxOGNlYjllNWZhNjc1N2YyMjc2ZmFhXCIsXG4gICAgICBcImNzc1wiOiBcImV5ZS1vZmZcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI5YTc2YmMxMzVlYWMxN2QyYzhiOGFkNGE1Nzc0ZmM4N1wiLFxuICAgICAgXCJjc3NcIjogXCJkb3dubG9hZFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDE0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImY1OTk5YTAxMmZjMzc1MjM4NjYzNWVjMDJhODU4NDQ3XCIsXG4gICAgICBcImNzc1wiOiBcImRvd25sb2FkLWNsb3VkXCIsXG4gICAgICBcImNvZGVcIjogMTE1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImRlMmZjN2E1Yzk4NmFiOGM2MjJmNjM0NTVkN2NmODE0XCIsXG4gICAgICBcImNzc1wiOiBcInVwbG9hZC1jbG91ZFwiLFxuICAgICAgXCJjb2RlXCI6IDExNyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3MDM0ZTRkMjI4NjZhZjgyYmVmODExZjUyZmIxYmE0NlwiLFxuICAgICAgXCJjc3NcIjogXCJjb2RlXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZDM1YTFkMzVlZmViNzg0ZDFkYzlhYzE4YjliNmMyYjZcIixcbiAgICAgIFwiY3NzXCI6IFwicGVuY2lsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDgsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZjQ4YWU1NGFkZmIyN2Q4YWRhNTNkMGZkOWUzNGVlMTBcIixcbiAgICAgIFwiY3NzXCI6IFwidHJhc2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxYjVhNWQ3YjdlM2M3MTQzN2Y1YTI2YmVmZGQwNDVlZFwiLFxuICAgICAgXCJjc3NcIjogXCJkb2NcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyNjYxM2EyZTZiYzQxNTkzYzU0YmVhZDQ2ZjhjOGVlM1wiLFxuICAgICAgXCJjc3NcIjogXCJmaWxlLWNvZGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJiMDkxYThiZDBmZGFkZTE3NDk1MWYxN2Q5MzZmNTFlNFwiLFxuICAgICAgXCJjc3NcIjogXCJmb2xkZXItZW1wdHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2NTMzYmRjMTZhYjIwMWViM2YzYjI3Y2U5ODljYWIzM1wiLFxuICAgICAgXCJjc3NcIjogXCJmb2xkZXItb3Blbi1lbXB0eVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjU1OTY0N2E2ZjQzMGIzYWVhZGJlY2Q2NzE5NDQ1MWRkXCIsXG4gICAgICBcImNzc1wiOiBcIm1lbnVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0MCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlOTk0NjFhYmZlZjM5MjM1NDZkYThkNzQ1MzcyYzk5NVwiLFxuICAgICAgXCJjc3NcIjogXCJjb2dcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1YmIxMDNjZDI5ZGU3N2UwZTA2YTUyNjM4NTI3YjU3NVwiLFxuICAgICAgXCJjc3NcIjogXCJ3cmVuY2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxNSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyMWI0MmQzYzNlNmJlNDRjM2NjM2Q3MzA0MmZhYTIxNlwiLFxuICAgICAgXCJjc3NcIjogXCJzbGlkZXJzXCIsXG4gICAgICBcImNvZGVcIjogNTk0MTYsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTk4YTVmMmJjZjM1MjFkMTYxNWRlOGUxODgxY2NkMTdcIixcbiAgICAgIFwiY3NzXCI6IFwiY2xvY2tcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1OCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlNTk0ZmM2ZTU4NzBiNGFiN2U0OWY1MjU3MWQ1MjU3N1wiLFxuICAgICAgXCJjc3NcIjogXCJyZXNpemUtZnVsbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjNjMjRlZTMzYzk0ODdiYmYxODc5NmNhNmRmZmExOTA1XCIsXG4gICAgICBcImNzc1wiOiBcInJlc2l6ZS1zbWFsbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImQzYjNmMTdiYzNlYjdjZDgwOWEwN2JiZDRkMTc4YmVlXCIsXG4gICAgICBcImNzc1wiOiBcInJlc2l6ZS12ZXJ0aWNhbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDUyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjNjNzNkMDU4ZTQ1ODliNjVhOGQ5NTljMGZjOGYxNTNkXCIsXG4gICAgICBcImNzc1wiOiBcInJlc2l6ZS1ob3Jpem9udGFsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTAsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNjYwNWVlNjQ0MWJmNDk5ZmZhM2M2M2QzYzc0MDk0NzFcIixcbiAgICAgIFwiY3NzXCI6IFwibW92ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDUxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImM1MzA2OGZlMjFjODQxMGIwYTA5OGI0YzUyYzNkMzdlXCIsXG4gICAgICBcImNzc1wiOiBcImRvd24tY2lyY2xlZDJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmM2Y5MGM4Yzg5Nzk1ZGEzMGY3NDQ0NjM0NDc2ZWE0ZlwiLFxuICAgICAgXCJjc3NcIjogXCJhbmdsZS1sZWZ0XCIsXG4gICAgICBcImNvZGVcIjogNTk0MzQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiN2JmMTQyODFhZjU2MzNhNTk3Zjg1YjA2MWVmMWNmYjlcIixcbiAgICAgIFwiY3NzXCI6IFwiYW5nbGUtcmlnaHRcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5NCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1ZGU5MzcwODQ2YTI2OTQ3ZTAzZjYzMTQyYTNmMWMwN1wiLFxuICAgICAgXCJjc3NcIjogXCJhbmdsZS11cFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDM1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU0ZGRlMTk5MmY3ODcxNjNlMmUyYjUzNGI4YzgwNjdkXCIsXG4gICAgICBcImNzc1wiOiBcImFuZ2xlLWRvd25cIixcbiAgICAgIFwiY29kZVwiOiA1OTM5NSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJiYzcxZjRjNmU1MzM5NGQ1YmE0NmIwNjMwNDAwMTRmMVwiLFxuICAgICAgXCJjc3NcIjogXCJjd1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI1LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImY5YzMyMDVkZjI2ZTc3NzhhYmFjODYxODNhZWZkYzk5XCIsXG4gICAgICBcImNzc1wiOiBcImNjd1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI2LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjM3YzVhYjYzZjEwZDdhZDBiODRkMDk3OGRjZDBjN2E4XCIsXG4gICAgICBcImNzc1wiOiBcInNodWZmbGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2OSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2MDIwYWZmMDY3ZmMzYzExOWNkZDc1ZGFhNTI0OTIyMFwiLFxuICAgICAgXCJjc3NcIjogXCJleGNoYW5nZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDcwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImQ0ODE2YzA4NDVhYTQzNzY3MjEzZDQ1NTc0YjNiMTQ1XCIsXG4gICAgICBcImNzc1wiOiBcImhpc3RvcnlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxOCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4NGJiOTY5NWI4NjYyZmE0NzgzMjQyZjg0YzllNDY4MlwiLFxuICAgICAgXCJjc3NcIjogXCJleHBhbmRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0NixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3OTYwNTE3YTUwNGU0MmFlYTA2NDFmMTViYzU1ZmJlZFwiLFxuICAgICAgXCJjc3NcIjogXCJjb2xsYXBzZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQ3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImVkNWEzODcwNGYwMzI5ZTYxMGVlMWM5MmJlYzNhZDNkXCIsXG4gICAgICBcImNzc1wiOiBcImV4cGFuZC1yaWdodFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDcxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImVhMmVjOTlmYmNlMDM4NjRlNTkzYmJmNGYzMDJhNzlkXCIsXG4gICAgICBcImNzc1wiOiBcImNvbGxhcHNlLWxlZnRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ3MixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjZTA2YjU4MDUxMjBkMGMyZjhkNjBjZDNmMWE0ZmRiNVwiLFxuICAgICAgXCJjc3NcIjogXCJwbGF5XCIsXG4gICAgICBcImNvZGVcIjogNTkzOTcsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMGIyODA1MGJhYzlkM2ZhY2YyZjAyMjZkYjY0M2VjZTBcIixcbiAgICAgIFwiY3NzXCI6IFwicGF1c2VcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5OSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlNzVjNTRjMjgyYzBiZjIyMTg2YzVjN2VjNGIwM2VhY1wiLFxuICAgICAgXCJjc3NcIjogXCJ0YXJnZXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1NyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI4NzcyMzMxYTlmZWM5ODNjZGI1ZDcyOTAyYTZmOWUwZVwiLFxuICAgICAgXCJjc3NcIjogXCJzY2lzc29yc1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDI0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjEwN2NlMDhjNzIzMTA5N2M3NDQ3ZDhmNGQwNTliNTVmXCIsXG4gICAgICBcImNzc1wiOiBcImVsbGlwc2lzXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDQsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNzUwMDU4ODM3YTkxZWRhZTY0YjAzZDYwZmM3ZTgxYTdcIixcbiAgICAgIFwiY3NzXCI6IFwiZWxsaXBzaXMtdmVydFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDQzLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjJhNGU2Yzk5YjczMmE1N2RhNDBlMzJmYTJhNzgwMGE0XCIsXG4gICAgICBcImNzc1wiOiBcInRvZ2dsZS1vZmZcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2NCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzMjU2ZWYwM2IxNmU3YWI1MTIzNWJjNzM3OGI1M2JiNVwiLFxuICAgICAgXCJjc3NcIjogXCJ0b2dnbGUtb25cIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkZDZjNmIyMjFhMTA4OGZmOGE5YjljZDMyZDBiM2RkNVwiLFxuICAgICAgXCJjc3NcIjogXCJjaGVja1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDU0LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjRiOTAwZDA0ZThhYjhjODJmMDgwYzFjZmJhYzU3NzJjXCIsXG4gICAgICBcImNzc1wiOiBcImNoZWNrLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0NjIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMTMwMzgwZTQ4MWE3ZGVmYzY5MGRmYjI0MTIzYTFmMGNcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDIsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNDIyZTA3ZTVhZmI4MDI1OGE5YzRlZDE3MDY0OThmOGFcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlLWVtcHR5XCIsXG4gICAgICBcImNvZGVcIjogNTk0NDEsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNTc3NGQwYTBlNTBmNmVlZmM4YmUwMWJkNzYxZTVkZDNcIixcbiAgICAgIFwiY3NzXCI6IFwiY2lyY2xlLXRoaW5cIixcbiAgICAgIFwiY29kZVwiOiA1OTQyMyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyNjZkNWQ5YWRmMTVhNjE4MDA0NzdhNWFjZjlhNDQ2MlwiLFxuICAgICAgXCJjc3NcIjogXCJjaGFydC1iYXJcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmNDQ0NWZlYjU1NTIxMjgzNTcyZWU4OGJjMzA0ZjkyOFwiLFxuICAgICAgXCJjc3NcIjogXCJmbG9wcHlcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzZTY3NDk5NWNhY2MyYjA5NjkyYzA5NmVhN2ViNjE2NVwiLFxuICAgICAgXCJjc3NcIjogXCJtZWdhcGhvbmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQzMCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI3OTVlZmQwN2NkNTIwNWI1ODljODgzOTE2YTc2Y2ZmMFwiLFxuICAgICAgXCJjc3NcIjogXCJoZGRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQxMSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI2ZmU5NWZmYzNjODA3ZTYyNjQ3ZDRmODE0YTk2ZTBkN1wiLFxuICAgICAgXCJjc3NcIjogXCJzaXRlbWFwXCIsXG4gICAgICBcImNvZGVcIjogNTk0NDUsXG4gICAgICBcInNyY1wiOiBcImZvbnRhd2Vzb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiZmExMDc3N2IyZDg4Y2M2NGNkNmU0ZjI2ZWYwZTUyNjRcIixcbiAgICAgIFwiY3NzXCI6IFwidGVybWluYWxcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjOTJhZDMwMjhhY2NlOWQ1MWJhZTBhYzgyZjVkZThhMlwiLFxuICAgICAgXCJjc3NcIjogXCJidWxsc2V5ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA4LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjU1NjA1Y2E3OWE2NWRlZjFhOWMzMDAwMzdmZjFkMGQ1XCIsXG4gICAgICBcImNzc1wiOiBcInBhd1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIwLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImZiZWRlM2M1NTg0MjgyYTBlOWIxMzE5MjZkZmY3MWRhXCIsXG4gICAgICBcImNzc1wiOiBcImN1YmVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQyOCxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJjNTM0MTVmYmQyNjk1MDMzYmQ3MTgwZDdhOWVkNDkzNFwiLFxuICAgICAgXCJjc3NcIjogXCJyZWJlbFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIxLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjY2MzJjZTEwMTlmOTExNTg0MjMzNTYyMmNiNTVmNGU3XCIsXG4gICAgICBcImNzc1wiOiBcImVtcGlyZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDIyLFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjllMzRhMDQ3ZmVlOTQ5ZWFlOWI2ZTYxM2Q3OTBkNmNmXCIsXG4gICAgICBcImNzc1wiOiBcImRyb3Bib3hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwOSxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlN2NiNzJhMTdmM2IyMWUzNTc2ZjM1YzNmMGE3NjM5YlwiLFxuICAgICAgXCJjc3NcIjogXCJnaXRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwNixcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJmMDZmZTdmZjE4ZDFjNTkxYmMxMTgzY2IzYWIxMDVlOVwiLFxuICAgICAgXCJjc3NcIjogXCJnb29nbGVcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ1MyxcbiAgICAgIFwic3JjXCI6IFwiZm9udGF3ZXNvbWVcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyYzJjYThhOTZiMzE3ODFjOWM4MDU2ZDA1YzBhODk4MFwiLFxuICAgICAgXCJjc3NcIjogXCJibGFua1wiLFxuICAgICAgXCJjb2RlXCI6IDU5NDA3LFxuICAgICAgXCJzcmNcIjogXCJmb250YXdlc29tZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjZjZWE0MGFhNmNjNTAwNTcwODNlNGYwYTViOTI0MTBjXCIsXG4gICAgICBcImNzc1wiOiBcImZsb3ctbGluZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDY3LFxuICAgICAgXCJzcmNcIjogXCJlbnR5cG9cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCI1Zjg4MDk1ZGM1ZTYzODg2M2EwYzczM2U5OWMzMjU2OFwiLFxuICAgICAgXCJjc3NcIjogXCJmbG93LXBhcmFsbGVsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjgsXG4gICAgICBcInNyY1wiOiBcImVudHlwb1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcImU1MzZjODBlMDExMzY2MDQ2MzYwZjVmZmU2NjlkYmZkXCIsXG4gICAgICBcImNzc1wiOiBcImZvbGRlci1hZGRcIixcbiAgICAgIFwiY29kZVwiOiA1OTQwMixcbiAgICAgIFwic3JjXCI6IFwidHlwaWNvbnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJlMmFiYTk1NjViZTUxY2E3MDIyNGMwNzI4MmFmYmJhNlwiLFxuICAgICAgXCJjc3NcIjogXCJjdXJzb3JcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ0OSxcbiAgICAgIFwic3JjXCI6IFwiaWNvbmljXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiNzc5MjhjODQ5YWMyYWU2ZTc3ZDRlYWU5ZjI5MjdjMDBcIixcbiAgICAgIFwiY3NzXCI6IFwiZmxhc2hcIixcbiAgICAgIFwiY29kZVwiOiA1OTQ2NixcbiAgICAgIFwic3JjXCI6IFwibWZnbGFic1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInVpZFwiOiBcIjE0ZTlhYTI4YmYyYTM1MzEyNzRmODUxOTRlNzMzYjcxXCIsXG4gICAgICBcImNzc1wiOiBcImNvbG9yLWFkanVzdFwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDU5LFxuICAgICAgXCJzcmNcIjogXCJtZmdsYWJzXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidWlkXCI6IFwiMzNhZmEwZjYyNGNlNWRhZTczZjYyYTNmMjFhNjdmODNcIixcbiAgICAgIFwiY3NzXCI6IFwidmVjdG9yXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTUsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIxMzRhZjdmMzllNDkxNTE1Y2MxYTZkMWViOTRkOWQ4YVwiLFxuICAgICAgXCJjc3NcIjogXCJ2ZWN0b3ItcGVuY2lsXCIsXG4gICAgICBcImNvZGVcIjogNTk0NTYsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCJkYTcyYWI2NGIwMmQ5OTdmZjA1MjEzMzlmMjk5NzIzM1wiLFxuICAgICAgXCJjc3NcIjogXCJoYXNoXCIsXG4gICAgICBcImNvZGVcIjogNTk0NjUsXG4gICAgICBcInNyY1wiOiBcIm1mZ2xhYnNcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIzNjY1MTBlY2ZiMDhjZDAxMTAxMzRiMWVhOTA3ZmI4MVwiLFxuICAgICAgXCJjc3NcIjogXCJldmVybm90ZVwiLFxuICAgICAgXCJjb2RlXCI6IDU5NDEwLFxuICAgICAgXCJzcmNcIjogXCJ6b2NpYWxcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJ1aWRcIjogXCIyNzJlMDhlMGUxNjIyNmFhZGY5NGRjYmYzM2FhYjJiMlwiLFxuICAgICAgXCJjc3NcIjogXCJrZXlcIixcbiAgICAgIFwiY29kZVwiOiA1OTM5MixcbiAgICAgIFwic3JjXCI6IFwiZWx1c2l2ZVwiXG4gICAgfVxuICBdXG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdhbWd1aSc7XFxuICBzcmM6IHVybCgnLi4vZm9udC9hbWd1aS5lb3Q/OTQ1ODM3MzInKTtcXG4gIHNyYzogdXJsKCcuLi9mb250L2FtZ3VpLmVvdD85NDU4MzczMiNpZWZpeCcpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLndvZmY/OTQ1ODM3MzInKSBmb3JtYXQoJ3dvZmYnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLnR0Zj85NDU4MzczMicpIGZvcm1hdCgndHJ1ZXR5cGUnKSxcXG4gICAgICAgdXJsKCcuLi9mb250L2FtZ3VpLnN2Zz85NDU4MzczMiNhbWd1aScpIGZvcm1hdCgnc3ZnJyk7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbn1cXG4vKiBDaHJvbWUgaGFjazogU1ZHIGlzIHJlbmRlcmVkIG1vcmUgc21vb3RoIGluIFdpbmRvenplLiAxMDAlIG1hZ2ljLCB1bmNvbW1lbnQgaWYgeW91IG5lZWQgaXQuICovXFxuLyogTm90ZSwgdGhhdCB3aWxsIGJyZWFrIGhpbnRpbmchIEluIG90aGVyIE9TLWVzIGZvbnQgd2lsbCBiZSBub3QgYXMgc2hhcnAgYXMgaXQgY291bGQgYmUgKi9cXG4vKlxcbkBtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MCkge1xcbiAgQGZvbnQtZmFjZSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnYW1ndWknO1xcbiAgICBzcmM6IHVybCgnLi4vZm9udC9hbWd1aS5zdmc/OTQ1ODM3MzIjYW1ndWknKSBmb3JtYXQoJ3N2ZycpO1xcbiAgfVxcbn1cXG4qL1xcbiBcXG4gW2NsYXNzXj1cXFwiaWNvbi1cXFwiXTpiZWZvcmUsIFtjbGFzcyo9XFxcIiBpY29uLVxcXCJdOmJlZm9yZSB7XFxuICBmb250LWZhbWlseTogXFxcImFtZ3VpXFxcIjtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBzcGVhazogbm9uZTtcXG4gXFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XFxuICB3aWR0aDogMWVtO1xcbiAgbWFyZ2luLXJpZ2h0OiAuMmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgLyogb3BhY2l0eTogLjg7ICovXFxuIFxcbiAgLyogRm9yIHNhZmV0eSAtIHJlc2V0IHBhcmVudCBzdHlsZXMsIHRoYXQgY2FuIGJyZWFrIGdseXBoIGNvZGVzKi9cXG4gIGZvbnQtdmFyaWFudDogbm9ybWFsO1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxuICAgICBcXG4gIC8qIGZpeCBidXR0b25zIGhlaWdodCwgZm9yIHR3aXR0ZXIgYm9vdHN0cmFwICovXFxuICBsaW5lLWhlaWdodDogMWVtO1xcbiBcXG4gIC8qIEFuaW1hdGlvbiBjZW50ZXIgY29tcGVuc2F0aW9uIC0gbWFyZ2lucyBzaG91bGQgYmUgc3ltbWV0cmljICovXFxuICAvKiByZW1vdmUgaWYgbm90IG5lZWRlZCAqL1xcbiAgbWFyZ2luLWxlZnQ6IC4yZW07XFxuIFxcbiAgLyogeW91IGNhbiBiZSBtb3JlIGNvbWZvcnRhYmxlIHdpdGggaW5jcmVhc2VkIGljb25zIHNpemUgKi9cXG4gIC8qIGZvbnQtc2l6ZTogMTIwJTsgKi9cXG4gXFxuICAvKiBVbmNvbW1lbnQgZm9yIDNEIGVmZmVjdCAqL1xcbiAgLyogdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMTI3LCAxMjcsIDEyNywgMC4zKTsgKi9cXG59XFxuIFxcbi5pY29uLWRvd25sb2FkLWNsb3VkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcNzMnOyB9IC8qICdzJyAqL1xcbi5pY29uLXVwbG9hZC1jbG91ZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXDc1JzsgfSAvKiAndScgKi9cXG4uaWNvbi1rZXk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAwJzsgfSAvKiAn7qCAJyAqL1xcbi5pY29uLWNvZzpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDEnOyB9IC8qICfuoIEnICovXFxuLmljb24tYW5nbGUtcmlnaHQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAyJzsgfSAvKiAn7qCCJyAqL1xcbi5pY29uLWFuZ2xlLWRvd246YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODAzJzsgfSAvKiAn7qCDJyAqL1xcbi5pY29uLXRyYXNoOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNCc7IH0gLyogJ+6ghCcgKi9cXG4uaWNvbi1wbGF5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNSc7IH0gLyogJ+6ghScgKi9cXG4uaWNvbi1wbHVzLXNxdWFyZWQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA2JzsgfSAvKiAn7qCGJyAqL1xcbi5pY29uLXBhdXNlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwNyc7IH0gLyogJ+6ghycgKi9cXG4uaWNvbi1maWxlLWNvZGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODA4JzsgfSAvKiAn7qCIJyAqL1xcbi5pY29uLWZsb3BweTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MDknOyB9IC8qICfuoIknICovXFxuLmljb24tZm9sZGVyLWFkZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MGEnOyB9IC8qICfuoIonICovXFxuLmljb24tZm9sZGVyLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwYic7IH0gLyogJ+6giycgKi9cXG4uaWNvbi1mb2xkZXItb3Blbi1lbXB0eTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MGMnOyB9IC8qICfuoIwnICovXFxuLmljb24tZG9jOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwZCc7IH0gLyogJ+6gjScgKi9cXG4uaWNvbi1naXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODBlJzsgfSAvKiAn7qCOJyAqL1xcbi5pY29uLWJsYW5rOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgwZic7IH0gLyogJ+6gjycgKi9cXG4uaWNvbi1idWxsc2V5ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTAnOyB9IC8qICfuoJAnICovXFxuLmljb24tZHJvcGJveDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTEnOyB9IC8qICfuoJEnICovXFxuLmljb24tZXZlcm5vdGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODEyJzsgfSAvKiAn7qCSJyAqL1xcbi5pY29uLWhkZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MTMnOyB9IC8qICfuoJMnICovXFxuLmljb24tZW1vLXVuaGFwcHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE0JzsgfSAvKiAn7qCUJyAqL1xcbi5pY29uLW1hcnF1ZWU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE1JzsgfSAvKiAn7qCVJyAqL1xcbi5pY29uLWRvd25sb2FkOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxNic7IH0gLyogJ+6glicgKi9cXG4uaWNvbi13cmVuY2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE3JzsgfSAvKiAn7qCXJyAqL1xcbi5pY29uLXNsaWRlcnM6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE4JzsgfSAvKiAn7qCYJyAqL1xcbi5pY29uLWNvZGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODE5JzsgfSAvKiAn7qCZJyAqL1xcbi5pY29uLWhpc3Rvcnk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODFhJzsgfSAvKiAn7qCaJyAqL1xcbi5pY29uLWNoYXJ0LWJhcjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWInOyB9IC8qICfuoJsnICovXFxuLmljb24tcGF3OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxYyc7IH0gLyogJ+6gnCcgKi9cXG4uaWNvbi1yZWJlbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWQnOyB9IC8qICfuoJ0nICovXFxuLmljb24tZW1waXJlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgxZSc7IH0gLyogJ+6gnicgKi9cXG4uaWNvbi1jaXJjbGUtdGhpbjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MWYnOyB9IC8qICfuoJ8nICovXFxuLmljb24tc2Npc3NvcnM6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODIwJzsgfSAvKiAn7qCgJyAqL1xcbi5pY29uLWN3OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgyMSc7IH0gLyogJ+6goScgKi9cXG4uaWNvbi1jY3c6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODIyJzsgfSAvKiAn7qCiJyAqL1xcbi5pY29uLWNhbmNlbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjMnOyB9IC8qICfuoKMnICovXFxuLmljb24tY3ViZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjQnOyB9IC8qICfuoKQnICovXFxuLmljb24tdGVybWluYWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODI1JzsgfSAvKiAn7qClJyAqL1xcbi5pY29uLW1lZ2FwaG9uZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjYnOyB9IC8qICfuoKYnICovXFxuLmljb24tcGx1czpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjcnOyB9IC8qICfuoKcnICovXFxuLmljb24tZW1vLXN1cnByaXNlZDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjgnOyB9IC8qICfuoKgnICovXFxuLmljb24tZG93bi1jaXJjbGVkMjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MjknOyB9IC8qICfuoKknICovXFxuLmljb24tYW5nbGUtbGVmdDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmEnOyB9IC8qICfuoKonICovXFxuLmljb24tYW5nbGUtdXA6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJiJzsgfSAvKiAn7qCrJyAqL1xcbi5pY29uLXJlc2l6ZS1zbWFsbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmMnOyB9IC8qICfuoKwnICovXFxuLmljb24tcmVzaXplLWZ1bGw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODJkJzsgfSAvKiAn7qCtJyAqL1xcbi5pY29uLWV5ZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmUnOyB9IC8qICfuoK4nICovXFxuLmljb24tZXllLW9mZjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MmYnOyB9IC8qICfuoK8nICovXFxuLmljb24tbWVudTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzAnOyB9IC8qICfuoLAnICovXFxuLmljb24tY2lyY2xlLWVtcHR5OmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzMSc7IH0gLyogJ+6gsScgKi9cXG4uaWNvbi1jaXJjbGU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODMyJzsgfSAvKiAn7qCyJyAqL1xcbi5pY29uLWVsbGlwc2lzLXZlcnQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODMzJzsgfSAvKiAn7qCzJyAqL1xcbi5pY29uLWVsbGlwc2lzOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzNCc7IH0gLyogJ+6gtCcgKi9cXG4uaWNvbi1zaXRlbWFwOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzNSc7IH0gLyogJ+6gtScgKi9cXG4uaWNvbi1leHBhbmQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM2JzsgfSAvKiAn7qC2JyAqL1xcbi5pY29uLWNvbGxhcHNlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzNyc7IH0gLyogJ+6gtycgKi9cXG4uaWNvbi1wZW5jaWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODM4JzsgfSAvKiAn7qC4JyAqL1xcbi5pY29uLWN1cnNvcjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4MzknOyB9IC8qICfuoLknICovXFxuLmljb24tcmVzaXplLWhvcml6b250YWw6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNhJzsgfSAvKiAn7qC6JyAqL1xcbi5pY29uLW1vdmU6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODNiJzsgfSAvKiAn7qC7JyAqL1xcbi5pY29uLXJlc2l6ZS12ZXJ0aWNhbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2MnOyB9IC8qICfuoLwnICovXFxuLmljb24tZ29vZ2xlOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzZCc7IH0gLyogJ+6gvScgKi9cXG4uaWNvbi1jaGVjazpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4M2UnOyB9IC8qICfuoL4nICovXFxuLmljb24tdmVjdG9yOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTgzZic7IH0gLyogJ+6gvycgKi9cXG4uaWNvbi12ZWN0b3ItcGVuY2lsOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0MCc7IH0gLyogJ+6hgCcgKi9cXG4uaWNvbi10YXJnZXQ6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQxJzsgfSAvKiAn7qGBJyAqL1xcbi5pY29uLWNsb2NrOmJlZm9yZSB7IGNvbnRlbnQ6ICdcXFxcZTg0Mic7IH0gLyogJ+6hgicgKi9cXG4uaWNvbi1jb2xvci1hZGp1c3Q6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQzJzsgfSAvKiAn7qGDJyAqL1xcbi5pY29uLWxpbms6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ0JzsgfSAvKiAn7qGEJyAqL1xcbi5pY29uLXVubGluazpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDUnOyB9IC8qICfuoYUnICovXFxuLmljb24tY2hlY2stZW1wdHk6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODQ2JzsgfSAvKiAn7qGGJyAqL1xcbi5pY29uLXRvZ2dsZS1vbjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDcnOyB9IC8qICfuoYcnICovXFxuLmljb24tdG9nZ2xlLW9mZjpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDgnOyB9IC8qICfuoYgnICovXFxuLmljb24taGFzaDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NDknOyB9IC8qICfuoYknICovXFxuLmljb24tZmxhc2g6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRhJzsgfSAvKiAn7qGKJyAqL1xcbi5pY29uLWZsb3ctbGluZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGInOyB9IC8qICfuoYsnICovXFxuLmljb24tZmxvdy1wYXJhbGxlbDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGMnOyB9IC8qICfuoYwnICovXFxuLmljb24tc2h1ZmZsZTpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGQnOyB9IC8qICfuoY0nICovXFxuLmljb24tZXhjaGFuZ2U6YmVmb3JlIHsgY29udGVudDogJ1xcXFxlODRlJzsgfSAvKiAn7qGOJyAqL1xcbi5pY29uLWV4cGFuZC1yaWdodDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NGYnOyB9IC8qICfuoY8nICovXFxuLmljb24tY29sbGFwc2UtbGVmdDpiZWZvcmUgeyBjb250ZW50OiAnXFxcXGU4NTAnOyB9IC8qICfuoZAnICovXCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gQ2hyb25pY2xlcigpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fc3RhY2sgPSBbXSwgXG4gICAgdGhpcy5fcG9pbnRlciA9IC0xO1xuICAgIHRoaXMuX2NoYWlucyA9IFtdO1xufVxuXG5pbmhlcml0cyhDaHJvbmljbGVyLCBFdmVudEVtaXR0ZXIpO1xubW9kdWxlLmV4cG9ydHMgPSBDaHJvbmljbGVyO1xudmFyIHAgPSBDaHJvbmljbGVyLnByb3RvdHlwZTtcblxucC51bmRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICBpZiAodGhpcy5fcG9pbnRlciA8IDApIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHJlYyA9IHRoaXMuX3N0YWNrW3RoaXMuX3BvaW50ZXItLV07XG5cbiAgICBpZiAocmVjIGluc3RhbmNlb2YgRmxhZykge1xuXG4gICAgICAgIHZhciBzdGFydEZsYWdJZHggPSB0aGlzLl9zdGFjay5pbmRleE9mKHJlYy5wYWlyKTtcblxuICAgICAgICBpZiAoc3RhcnRGbGFnSWR4ICE9PSAtMSkge1xuXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fcG9pbnRlciAhPT0gc3RhcnRGbGFnSWR4KSB7XG5cbiAgICAgICAgICAgICAgICBjYWxsKHRoaXMuX3N0YWNrW3RoaXMuX3BvaW50ZXItLV0udW5kbyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3BvaW50ZXItLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FsbChyZWMudW5kbyk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAucmVkbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuX3BvaW50ZXIgPj0gdGhpcy5fc3RhY2subGVuZ3RoIC0gMSkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcmVjID0gdGhpcy5fc3RhY2tbKyt0aGlzLl9wb2ludGVyXTtcbiAgICBcbiAgICBpZiAocmVjIGluc3RhbmNlb2YgRmxhZykge1xuXG4gICAgICAgIHZhciBlbmRGbGFnSWR4ID0gdGhpcy5fc3RhY2suaW5kZXhPZihyZWMucGFpcik7XG5cbiAgICAgICAgaWYgKGVuZEZsYWdJZHggIT09IC0xKSB7XG5cbiAgICAgICAgICAgIHdoaWxlICgrK3RoaXMuX3BvaW50ZXIgIT09IGVuZEZsYWdJZHgpIHtcblxuICAgICAgICAgICAgICAgIGNhbGwodGhpcy5fc3RhY2tbdGhpcy5fcG9pbnRlcl0ucmVkbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbGwocmVjLnJlZG8pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5mdW5jdGlvbiBjYWxsKHJlZykge1xuXG4gICAgaWYgKHR5cGVvZiByZWcgPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICByZWcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlZ1swXS5hcHBseShyZWdbMV0sIHJlZy5zbGljZSgyKSk7XG4gICAgfVxufVxuXG5wLnNhdmUgPSBmdW5jdGlvbiAodW5kbywgcmVkbywgbmFtZSkge1xuXG4gICAgdmFyIHJlZyA9IHt1bmRvOiB1bmRvLCByZWRvOiByZWRvLCBuYW1lOiBuYW1lfTtcblxuICAgIHRoaXMuX3NhdmVSZWcocmVnKTtcbiAgICBcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xuXG4gICAgcmV0dXJuIHJlZztcbn07XG5cblxucC5fc2F2ZVJlZyA9IGZ1bmN0aW9uIChyZWcpIHtcblxuICAgIHRoaXMuX3N0YWNrLnNwbGljZSgrK3RoaXMuX3BvaW50ZXIsIHRoaXMuX3N0YWNrLmxlbmd0aCwgcmVnKTtcbn07XG5cblxuXG5wLmdldFJlY29yZHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaXRlbXMgPSBbXSwgY3VyckZsYWcsIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuXG4gICAgdGhpcy5fc3RhY2suZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG5cbiAgICAgICAgaWYgKGN1cnJGbGFnKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtID09PSBjdXJyRmxhZy5wYWlyKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBGbGFnKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJyRmxhZyA9IGl0ZW07XG4gICAgICAgICAgICAgICAgYWRkKGl0ZW0ubmFtZSwgdGhpcy5fc3RhY2suaW5kZXhPZihpdGVtLnBhaXIpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGQoaXRlbS5uYW1lLCBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gaXRlbXM7XG5cblxuICAgIGZ1bmN0aW9uIGFkZChuYW1lLCBpZHgpIHtcblxuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUgfHwgJ3VubmFtZWQgcmVkb3JkJyxcbiAgICAgICAgICAgIGlkeDogaWR4LFxuICAgICAgICAgICAgZXhlY3V0ZWQ6IGlkeCA8PSBwb2ludGVyXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnAuZ290byA9IGZ1bmN0aW9uIChpZHgpIHtcblxuICAgIGlkeCA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbih0aGlzLl9zdGFjay5sZW5ndGgtMSwgcGFyc2VJbnQoaWR4KSkpO1xuXG4gICAgaWYgKGlkeCA8IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICB3aGlsZSAoaWR4IDwgdGhpcy5fcG9pbnRlcikge1xuXG4gICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpZHggPiB0aGlzLl9wb2ludGVyKSB7XG5cbiAgICAgICAgd2hpbGUgKGlkeCA+IHRoaXMuX3BvaW50ZXIpIHtcblxuICAgICAgICAgICAgdGhpcy5yZWRvKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBGbGFnKG5hbWUsIHBhaXIpIHtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wYWlyID0gcGFpciB8fCBuZXcgRmxhZyhuYW1lLCB0aGlzKTtcbiAgICBcbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xufVxuXG5wLnN0YXJ0RmxhZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgZmxhZyA9IG5ldyBGbGFnKG5hbWUpO1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcblxuICAgIHJldHVybiBmbGFnLnBhaXI7XG59O1xuXG5wLmVuZEZsYWcgPSBmdW5jdGlvbiAoZmxhZykge1xuXG4gICAgdGhpcy5fc2F2ZVJlZyhmbGFnKTtcbn07XG5cbnAud3JhcCA9IGZ1bmN0aW9uIChmbiwgY3R4KSB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBlbmRGbGFnID0gdGhpcy5zdGFydEZsYWcoKTtcblxuICAgICAgICBmbi5hcHBseShjdHgsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgIDIpKTtcblxuICAgICAgICB0aGlzLmVuZEZsYWcoZW5kRmxhZyk7XG4gICAgfS5iaW5kKHRoaXMpO1xufTtcblxuXG5cblxuXG5cblxuXG5wLnNhdmVDaGFpbiA9IGZ1bmN0aW9uIChpZCwgdW5kbywgcmVkbywgbmFtZSwgZGVsYXkpIHtcblxuICAgIHZhciBjaGFpbiA9IHRoaXMuZ2V0Q2hhaW4oaWQpO1xuXG4gICAgaWYgKGNoYWluKSB7XG4gICAgICAgIFxuICAgICAgICBjaGFpbi5yZWcucmVkbyA9IHJlZG87XG4gICAgfVxuICAgIGVsc2Uge1xuXG4gICAgICAgIGNoYWluID0ge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgcmVnOiB0aGlzLnNhdmUodW5kbywgcmVkbywgbmFtZSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2hhaW5zLnB1c2goY2hhaW4pO1xuICAgIH1cblxuICAgIGlmIChkZWxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGF5ID0gMzEyO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChjaGFpbi50aWQpO1xuICAgIGNoYWluLnRpZCA9IHNldFRpbWVvdXQodGhpcy5jbG9zZUNoYWluLmJpbmQodGhpcywgaWQpLCBkZWxheSk7XG59O1xuXG5wLmNsb3NlQ2hhaW4gPSBmdW5jdGlvbiAoaWQpIHtcblxuICAgIHZhciBjaGFpbiA9IHRoaXMuZ2V0Q2hhaW4oaWQpO1xuXG4gICAgaWYgKCFjaGFpbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KGNoYWluLnRpZCk7XG4gICAgdGhpcy5fY2hhaW5zLnNwbGljZSh0aGlzLl9jaGFpbnMuaW5kZXhPZihjaGFpbiksIDEpO1xufTtcblxucC5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHdoaWxlICh0aGlzLl9jaGFpbnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VDaGFpbih0aGlzLl9jaGFpbnNbMF0uaWQpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLl9zdGFjay5sZW5ndGggPSAwLCBcbiAgICB0aGlzLl9wb2ludGVyID0gLTE7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5nZXRDaGFpbiA9IGZ1bmN0aW9uIChpZCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2NoYWlucy5maW5kKGZ1bmN0aW9uIChjaGFpbikge1xuXG4gICAgICAgIHJldHVybiBjaGFpbi5pZCA9PT0gaWQ7XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuXG4vL1RPRE9cbi8vIHAud3JhcEZ1bmN0aW9uUGFpcnMob3B0KSB7XG5cbi8vICAgICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsXG4vLyAgICAgICAgIG9yaVVuZG9GbiA9IG9wdC51bmRvUm9vdFtvcHQudW5kb0ZuTmFtZV0sXG4vLyAgICAgICAgIGhpc3RvcnkgPSB0aGlzLFxuLy8gICAgICAgICBkdW1teUhpc3RvcnkgPSB7XG4vLyAgICAgICAgICAgICBzYXZlOiBmdW5jdGlvbiAoKSB7fSxcbi8vICAgICAgICAgICAgIGZsYWc6IGZ1bmN0aW9uICgpIHt9LFxuLy8gICAgICAgICAgICAgZW5kRmxhZzogZnVuY3Rpb24gKCkge30sXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIHVuZG9IaXN0b3J5ID0gT2JqZWN0LmNyZWF0ZShkdW1teUhpc3RvcnkpLFxuLy8gICAgICAgICByZWRvSGlzdG9yeSA9IE9iamVjdC5jcmVhdGUoZHVtbXlIaXN0b3J5KTtcblxuLy8gICAgIHVuZG9IaXN0b3J5LnNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbi8vICAgICAgICAgaGlzdG9yeS5zYXZlKFtvcHQudW5kby5hZGRQYXJhbSwgdGhpcywgcGFyYW0sIHRydWVdLFxuLy8gICAgICAgICAgICAgW3RoaXMucmVtb3ZlUGFyYW0sIHRoaXMsIHBhcmFtLCB0cnVlXSwgJ3JlbW92ZSBwYXJhbSAnICsgb3B0Lm5hbWUpO1xuLy8gICAgIH1cblxuLy8gICAgIG9wdC51bmRvLnBhcmVudFtvcHQudW5kby5mbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuLy8gICAgICAgICBhcmdzLnB1c2godW5kb0hpc3RvcnkpO1xuXG4vLyAgICAgICAgIG9yaVVuZG9Gbi5hcHBseShvcHQudW5kby50aGlzQXJnLCBhcmdzKVxuLy8gICAgIH1cbi8vIH0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlscy9EaWFsb2cnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbnZhciBkaWFsb2cgPSBuZXcgRGlhbG9nKHtcbiAgICB0aXRsZTogJ0ZlZWRiYWNrJyxcbn0pO1xuXG5kaWFsb2cuYWRkQnV0dG9uKCdvaycsICdoaWRlJyk7XG5cbmNyZWF0ZUNvbnRlbnQoKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcblxuICAgIGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgY2FwdGlvbjogJ0hpISBUaGlzIHByb2dyYW0gaXMgaW4gYWxwaGEgc3RhdGUsIHNvIG1vc3Qgb2YgdGhlIHRoaW5ncyB3aWxsIGNoYW5nZSBhbmQgbW9zdCBvZiB0aGUgYnVncyBhcmUga25vd24uIEJ1dCBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb24sIGZlZWRiYWNrLCBmZWF0dXJlIHJlcXVlc3QsIGJ1ZyByZXBvcnQgb3IganVzdCBmZWVsIHRoZSBuZWVkIGZvciBjb250YWN0LCB5b3UgY2FuIHVzZSB0aGUgYXphemRlYXpAZ21haWwuY29tIG9yIHRoZSA8YSBzdHlsZT1cImNvbG9yOndoaXRlO1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vYW5pbWFjaGluZS9hbmltYWNoaW5lL2lzc3Vlc1wiPmdpdGh1YiBpc3N1ZXM8L2E+LicsXG4gICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxudmFyIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgIHRpdGxlOiAnV29yayBpbiBwcm9ncmVzcycsXG59KTtcblxuZGlhbG9nLmFkZEJ1dHRvbignb2snLCAnaGlkZScpO1xuXG5jcmVhdGVDb250ZW50KCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIGNhcHRpb246ICdUaGlzIGZlYXR1cmUgZG9lc25cXCd0IHJlYWR5IHlldC4gKEJ1dCB3ZSBhcmUgb24gaXQhKScsXG4gICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnRcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIERvbVBpY2tlcigpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faXNNb3VzZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9jcnVtYnMgPSBbXTtcblxuICAgIHRoaXMuX29uTU1vdmUgPSB0aGlzLl9vbk1Nb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyID0gdGhpcy5fcmVuZGVyLmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTU1vdmUpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xufVxuXG5pbmhlcml0cyhEb21QaWNrZXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IERvbVBpY2tlci5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gRG9tUGlja2VyO1xuXG5wLmZvY3VzRWxlbSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcblxuICAgIHZhciBvbGRUYXJnZXQgPSB0aGlzLl9kZVRhcmdldCxcbiAgICAgICAgY3J1bWJzID0gdGhpcy5fY3J1bWJzLFxuICAgICAgICBsYXN0Q3J1bWIgPSBjcnVtYnNbY3J1bWJzLmxlbmd0aC0xXTtcblxuICAgIGlmIChvbGRUYXJnZXQgJiYgb2xkVGFyZ2V0LnBhcmVudEVsZW1lbnQgPT09IHRhcmdldCkge1xuXG4gICAgICAgIGNydW1icy5wdXNoKG9sZFRhcmdldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCA9PT0gbGFzdENydW1iKSB7XG4gICAgICAgIFxuICAgICAgICBjcnVtYnMucG9wKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldC5wYXJlbnRFbGVtZW50ID09PSBsYXN0Q3J1bWIpIHtcblxuICAgICAgICBjcnVtYnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLl9kZVRhcmdldCA9IHRhcmdldDtcblxuXG4gICAgdmFyIHAgPSBhbS5pc1BpY2thYmxlRG9tRWxlbSxcbiAgICAgICAgdG9wID0gcCh0YXJnZXQucGFyZW50RWxlbWVudCksXG4gICAgICAgIHJpZ2h0ID0gcCh0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nKSxcbiAgICAgICAgYm90dG9tID0gcCh0YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQpLFxuICAgICAgICBsZWZ0ID0gcCh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG5cbiAgICB0aGlzLl9idG5Ub3Auc3R5bGUuZGlzcGxheSA9IHRvcCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUuZGlzcGxheSA9IHJpZ2h0ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9idG5Cb3R0b20uc3R5bGUuZGlzcGxheSA9IGJvdHRvbSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5kaXNwbGF5ID0gbGVmdCA/ICdibG9jaycgOiAnbm9uZSc7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgIHRoaXMuX3JlcmVuZGVyU2V0SSA9IHNldEludGVydmFsKHRoaXMuX3JlbmRlciwgMTIzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fcmVuZGVyKTtcblxuICAgIHRoaXMuZW1pdCgncGljaycsIHRhcmdldCk7XG59O1xuXG5wLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBjbGVhckludGVydmFsKHRoaXMuX3JlcmVuZGVyU2V0SSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3JlbmRlcik7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cbnAuc2V0UmlnaHRMZWZ0QnRuID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LnNldEljb24ob3B0Lmljb24pXG5cbiAgICAvL1RPRE8gcmVtb3ZlIHRoZSBwcmV2aW91c1xuICAgIHRoaXMuX2J0blJpZ2h0TGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdC5vbkNsaWNrKTtcblxuICAgIHZhciB0b29sdGlwID0gYW1ndWkuZ2V0VG9vbHRpcCh0aGlzLl9idG5SaWdodExlZnQpO1xuICAgIHRvb2x0aXAuc2V0Q29udGVudChvcHQudG9vbHRpcCk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiciA9IHRoaXMuX2RlVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmxlZnQgPSBici5sZWZ0ICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUudG9wID0gYnIudG9wICsgJ3B4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSBici53aWR0aCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9IGJyLmhlaWdodCArICdweCc7XG59O1xuXG5wLl9vbk1Nb3ZlID0gIGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgYnIgPSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIG14ID0gZS5jbGllbnRYLFxuICAgICAgICBteSA9IGUuY2xpZW50WSxcbiAgICAgICAgcyA9IHRoaXMuX2lzTW91c2VPdmVyID8gMjEgOiAwLFxuICAgICAgICBvdmVyID0gbXggPj0gYnIubGVmdC1zICYmIG14IDw9IGJyLnJpZ2h0K3MgJiZcbiAgICAgICAgICAgIG15ID49IGJyLnRvcC1zICYmIG15IDw9IGJyLmJvdHRvbStzO1xuXG4gICAgaWYgKG92ZXIgIT09IHRoaXMuX2lzTW91c2VPdmVyKSB7XG5cbiAgICAgICAgdGhpcy5faXNNb3VzZU92ZXIgPSBvdmVyO1xuXG4gICAgICAgIHZhciB2ID0gb3ZlciA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xuXG4gICAgICAgIHRoaXMuX2J0blRvcC5zdHlsZS52aXNpYmlsaXR5ID0gdjtcbiAgICAgICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUudmlzaWJpbGl0eSA9IHY7XG4gICAgICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS52aXNpYmlsaXR5ID0gdjtcbiAgICAgICAgdGhpcy5fYnRuTGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gdjtcbiAgICAgICAgdGhpcy5fYnRuQ2xvc2Uuc3R5bGUudmlzaWJpbGl0eSA9IHY7XG4gICAgICAgIHRoaXMuX2J0blJpZ2h0TGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gdjtcbiAgICB9XG59O1xuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJ0blNpemUgPSAyMSwgYm9yZGVyU2l6ZSA9ICcycHgnO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGRlLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuc3R5bGUuYm9yZGVyID0gJ3NvbGlkICNlZWUgJyArIGJvcmRlclNpemU7XG4gICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKGRlKTtcblxuXG4gICAgdmFyIGRlRGFzaGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVEYXNoZWQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGVEYXNoZWQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGRlRGFzaGVkLnN0eWxlLmJvcmRlciA9ICdkYXNoZWQgIzQ0NCAnICsgYm9yZGVyU2l6ZTtcbiAgICBkZURhc2hlZC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC0nK2JvcmRlclNpemUrJywtJytib3JkZXJTaXplKycpJztcbiAgICBkZS5hcHBlbmRDaGlsZChkZURhc2hlZCk7XG5cbiAgICBkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5fb25NRW50ZXIpO1xuICAgIGRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1MZWF2ZSk7XG4gICAgXG4gICAgdGhpcy5kb21FbGVtID0gZGU7XG5cbiAgICB0aGlzLl9idG5Ub3AgPSBjcmVhdGVCdG4oJ2FuZ2xlLXVwJywgJ3VwIG9uZSBsZXZlbCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLmZvY3VzRWxlbSh0aGlzLl9kZVRhcmdldC5wYXJlbnRFbGVtZW50KTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS50b3AgPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuVG9wLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgdGhpcy5fYnRuVG9wLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgIHRoaXMuX2J0blRvcC5zdHlsZS5tYXJnaW4gPSAnMCBhdXRvJztcblxuXG4gICAgdGhpcy5fYnRuUmlnaHQgPSBjcmVhdGVCdG4oJ2FuZ2xlLXJpZ2h0JywgJ25leHQgc2libGluZycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLmZvY3VzRWxlbSh0aGlzLl9kZVRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUucmlnaHQgPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuUmlnaHQuc3R5bGUudG9wID0gJzAnO1xuICAgIHRoaXMuX2J0blJpZ2h0LnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICB0aGlzLl9idG5SaWdodC5zdHlsZS5tYXJnaW4gPSAnYXV0byAwJztcblxuICAgIHRoaXMuX2J0bkJvdHRvbSA9IGNyZWF0ZUJ0bignYW5nbGUtZG93bicsICdkb3duIG9uZSBsZXZlbCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLmZvY3VzRWxlbSh0aGlzLl9jcnVtYnNbdGhpcy5fY3J1bWJzLmxlbmd0aC0xXSB8fCB0aGlzLl9kZVRhcmdldC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5ib3R0b20gPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuQm90dG9tLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgdGhpcy5fYnRuQm90dG9tLnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgIHRoaXMuX2J0bkJvdHRvbS5zdHlsZS5tYXJnaW4gPSAnMCBhdXRvJztcblxuICAgIHRoaXMuX2J0bkxlZnQgPSBjcmVhdGVCdG4oJ2FuZ2xlLWxlZnQnLCAncHJldmlvdXMgc2libGluZycsIGZ1bmN0aW9uICgpIHsgXG5cbiAgICAgICAgdGhpcy5mb2N1c0VsZW0odGhpcy5fZGVUYXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5MZWZ0LnN0eWxlLmxlZnQgPSAtYnRuU2l6ZSArICdweCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS50b3AgPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgdGhpcy5fYnRuTGVmdC5zdHlsZS5tYXJnaW4gPSAnYXV0byAwJztcblxuICAgIHRoaXMuX2J0bkNsb3NlID0gY3JlYXRlQnRuKCdjYW5jZWwnLCAnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS5yaWdodCA9IC1idG5TaXplICsgJ3B4JztcbiAgICB0aGlzLl9idG5DbG9zZS5zdHlsZS50b3AgPSAtYnRuU2l6ZSArICdweCc7XG5cbiAgICB0aGlzLl9idG5SaWdodExlZnQgPSBjcmVhdGVCdG4oJ3BsdXMnLCAnJyk7XG4gICAgdGhpcy5fYnRuUmlnaHRMZWZ0LnN0eWxlLnJpZ2h0ID0gLWJ0blNpemUgKyAncHgnO1xuICAgIHRoaXMuX2J0blJpZ2h0TGVmdC5zdHlsZS5ib3R0b20gPSAtYnRuU2l6ZSArICdweCc7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCdG4oaWNvbiwgdG9vbHRpcCwgb25DbGljaykge1xuXG4gICAgICAgIHZhciBkZUljb24gPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIGljb246IGljb24sXG4gICAgICAgICAgICB3aWRodDogYnRuU2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogYnRuU2l6ZSxcbiAgICAgICAgICAgIHBhcmVudDogZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVJY29uLnN0eWxlLnRleHRTaGFkb3cgPSAnMCAwIDRweCAjMDAwJztcblxuICAgICAgICBpZiAob25DbGljaykge1xuXG4gICAgICAgICAgICBkZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBvbkNsaWNrKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgYW1ndWkuYWRkVG9vbHRpcCh7XG4gICAgICAgICAgICBkZVRhcmdldDogZGVJY29uLFxuICAgICAgICAgICAgdGV4dDogdG9vbHRpcFxuICAgICAgICB9KTtcblxuICAgICAgICBkZUljb24uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZUljb24uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblxuICAgICAgICByZXR1cm4gZGVJY29uO1xuICAgIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIEl0ZW0gPSByZXF1aXJlKCcuL0l0ZW0nKTtcblxuZnVuY3Rpb24gSGlzdG9yeVRhYigpIHtcblxuICAgIHRoaXMuX29uSGlzdG9yeUNoYWdlID0gdGhpcy5fb25IaXN0b3J5Q2hhZ2UuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2l0ZW1zID0gW107XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICBhbS5oaXN0b3J5Lm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkhpc3RvcnlDaGFnZSk7XG59XG5cbnZhciBwID0gSGlzdG9yeVRhYi5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEhpc3RvcnlUYWI7XG5cbnAuX2FkZEl0ZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCk7XG4gICAgdGhpcy5faXRlbXMucHVzaChpdGVtKTtcblxuICAgIHRoaXMuX3Njcm9sbENvbnQuYXBwZW5kQ2hpbGQoaXRlbS5kb21FbGVtKTtcbn07XG5cbnAuX3JlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX2l0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgXG4gICAgaWYgKGl0ZW0gIT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgaWYgKGl0ZW0uZG9tRWxlbS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgICAgIGl0ZW0uZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGl0ZW0uZG9tRWxlbSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLl9vbkhpc3RvcnlDaGFnZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByZWNvcmRzID0gYW0uaGlzdG9yeS5nZXRSZWNvcmRzKCk7XG5cbiAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKHJlYywgaWR4KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtc1tpZHhdKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZEl0ZW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2l0ZW1zW2lkeF0uc2V0dXAocmVjKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHdoaWxlICh0aGlzLl9pdGVtcy5sZW5ndGggPiByZWNvcmRzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMuX3JlbW92ZUl0ZW0odGhpcy5faXRlbXNbcmVjb3Jkcy5sZW5ndGhdKTtcbiAgICB9XG59O1xuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzA7XG5cbiAgICB0aGlzLl9zY3JvbGxDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fc2Nyb2xsQ29udC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fc2Nyb2xsQ29udCk7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogdGhpcy5kb21FbGVtLFxuICAgICAgICBkZVRhcmdldDogdGhpcy5fc2Nyb2xsQ29udFxuICAgIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIEl0ZW0oKSB7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX3JlYy5leGVjdXRlZCA/IHRoaXMuX3JlYy5pZHggLSAxIDogdGhpcy5fcmVjLmlkeDtcbiAgICAgICAgYW0uaGlzdG9yeS5nb3RvKGlkeCk7XG5cbiAgICB9LmJpbmQodGhpcykpO1xufVxuXG52YXIgcCA9IEl0ZW0ucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBJdGVtO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKHJlY29yZCkge1xuXG4gICAgdGhpcy5fcmVjID0gcmVjb3JkO1xuXG4gICAgdGhpcy5fbGFiZWwuaW5uZXJIVE1MID0gcmVjb3JkLm5hbWU7XG4gICAgdGhpcy5fdG9nZ2xlU3RhdGUuc2V0VG9nZ2xlKHJlY29yZC5leGVjdXRlZCk7XG59O1xuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzE7XG5cbiAgICB0aGlzLl90b2dnbGVTdGF0ZSA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgaWNvbk9uOiAnY2lyY2xlJyxcbiAgICAgICAgaWNvbk9mZjogJ2NpcmNsZS10aGluJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX2xhYmVsID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZmxleDogMVxuICAgIH0pO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjc3NNb2R1bGU6IHtcbiAgICAgICAgbm9UcmFja1NlbGVjdGVkOiAnTm8gdHJhY2sgc2VsZWN0ZWQuJyxcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBCcmFuY2goKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX29uQ2xpY2sgPSB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG59XG5cbmluaGVyaXRzKEJyYW5jaCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQnJhbmNoLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQnJhbmNoO1xuXG5wLnNldHVwID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdGhpcy5fbGFiZWwuaW5uZXJIVE1MID0gb3B0LmRvbUVsZW0ubm9kZU5hbWU7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm1hcmdpbkxlZnQgPSAob3B0LmluZGVudCAqIDYpICsgJ3B4Jztcbn07XG5cblxuXG5cbnAuX29uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xufVxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZzE7XG5cbiAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcblxuICAgIHRoaXMuX2xhYmVsID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZmxleDogMVxuICAgIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgQnJhbmNoID0gcmVxdWlyZSgnLi9CcmFuY2gnKTtcblxuZnVuY3Rpb24gRG9tVHJlZVRhYigpIHtcblxuICAgIHRoaXMuX2JyYW5jaGVzID0gW107XG4gICAgdGhpcy5fYnVmZkJyYW5jaCA9IFtdO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgdGhpcy5fb25TZWxlY3RCcmFuY2ggPSB0aGlzLl9vblNlbGVjdEJyYW5jaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0Q3J1bWIgPSB0aGlzLl9vblNlbGVjdENydW1iLmJpbmQodGhpcyk7XG59XG5cbnZhciBwID0gRG9tVHJlZVRhYi5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IERvbVRyZWVUYWI7XG5cbnAuX2FkZEJyYW5jaCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBicmFuY2ggPSB0aGlzLl9idWZmQnJhbmNoLnBvcCgpIHx8IG5ldyBCcmFuY2goKTtcbiAgICB0aGlzLl9icmFuY2hlcy5wdXNoKGJyYW5jaCk7XG5cbiAgICBicmFuY2guc2V0dXAob3B0KTtcblxuICAgIGJyYW5jaC5vbignc2VsZWN0JywgdGhpcy5fb25TZWxlY3RCcmFuY2gpO1xuXG4gICAgdGhpcy5fc2Nyb2xsQ29udC5hcHBlbmRDaGlsZChicmFuY2guZG9tRWxlbSk7XG59XG5cbnAuX3JlbW92ZUJyYW5jaCA9IGZ1bmN0aW9uIChicmFuY2gpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9icmFuY2hlcy5pbmRleE9mKGJyYW5jaCk7XG4gICAgXG4gICAgaWYgKGJyYW5jaCAhPT0gLTEpIHtcblxuICAgICAgICB0aGlzLl9icmFuY2hlcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgICBpZiAoYnJhbmNoLmRvbUVsZW0ucGFyZW50Tm9kZSkge1xuXG4gICAgICAgICAgICBicmFuY2guZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJyYW5jaC5kb21FbGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmZCcmFuY2gucHVzaChicmFuY2gpO1xuICAgIH1cblxuICAgIGJyYW5jaC5yZW1vdmVMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25TZWxlY3RCcmFuY2gpO1xufVxuXG5wLmZvY3VzRWxlbSA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgdmFyIHBhdGggPSBbXSwgZGVTdGVwID0gZGUsIG1heERlZXAgPSAzO1xuXG4gICAgd2hpbGUgKHRoaXMuX2JyYW5jaGVzLmxlbmdodCkge1xuXG4gICAgICAgIHRoaXMuX3JlbW92ZUJyYW5jaCh0aGlzLl9icmFuY2hlc1swXSk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGRlU3RlcC5wYXJlbnROb2RlICYmIGRlU3RlcC5ub2RlTmFtZSAhPT0gJ0hUTUwnKSB7XG5cbiAgICAgICAgdmFyIGRlU3RlcCA9IGRlU3RlcC5wYXJlbnROb2RlO1xuXG4gICAgICAgIHBhdGgudW5zaGlmdCh7XG4gICAgICAgICAgICBuYW1lOiBkZVN0ZXAubm9kZU5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogZGVTdGVwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2JyZWFkY3J1bWJzLnNldEl0ZW1zKHBhdGgpO1xuXG4gICAgdmFyIHN0ZXAgPSBmdW5jdGlvbiAoZGUsIGRlZXApIHtcblxuICAgICAgICB0aGlzLl9hZGRCcmFuY2goe1xuICAgICAgICAgICAgZG9tRWxlbTogZGUsXG4gICAgICAgICAgICBpbmRlbnQ6IGRlZXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRlZXAgPCBtYXhEZWVwKSB7XG5cbiAgICAgICAgICAgIHZhciBjaGlsZE5vZGVzID0gZGUuY2hpbGROb2RlcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuXG4gICAgICAgICAgICAgICAgc3RlcChjaGlsZE5vZGVzW2ldLCBkZWVwICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBzdGVwKGRlLCAwKTtcbn07XG5cblxuXG5cblxuXG5wLl9vblNlbGVjdEJyYW5jaCA9IGZ1bmN0aW9uIChicmFuY2gpIHtcblxuICAgIGFtLnNlbGVjdERvbUVsZW0oYnJhbmNoLmRvbUVsZW0pO1xufTtcblxucC5fb25TZWxlY3RDcnVtYiA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBhbS5zZWxlY3REb21FbGVtKGUuZGV0YWlsLnNlbGVjdGlvbi52YWx1ZSk7XG59O1xuXG5cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcwO1xuXG4gICAgdGhpcy5fc2Nyb2xsQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3Njcm9sbENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX3Njcm9sbENvbnQpO1xuXG4gICAgYW1ndWkubWFrZVNjcm9sbGFibGUoe1xuICAgICAgICBkZUNvbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX3Njcm9sbENvbnRcbiAgICB9KTtcblxuICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gYW1ndWkuY3JlYXRlQnJlYWRjcnVtYnMoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX3Njcm9sbENvbnQsXG4gICAgICAgIG9uU2VsZWN0OiB0aGlzLl9vblNlbGVjdENydW1iXG4gICAgfSk7XG4gICAgdGhpcy5fYnJlYWRjcnVtYnMuc3R5bGUuaGVpZ2h0ID0gJzIycHgnO1xuICAgIHRoaXMuX2JyZWFkY3J1bWJzLnN0eWxlLm1pbldpZHRoID0gJzEwMCUnO1xuICAgIC8vIHRoaXMuX2JyZWFkY3J1bWJzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBEb21UcmVlVGFiID0gcmVxdWlyZSgnLi9Eb21UcmVlVGFiJyk7XG5cbnZhciBkb21UcmVlVGFiO1xuXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBkb21UcmVlVGFiID0gbmV3IERvbVRyZWVUYWIoKTtcblxuICAgIGFtLm9uKCdzZWxlY3REb21FbGVtZW50Jywgb25TZWxlY3REb21FbGVtZW50KTtcblxuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCdEb20gVHJlZScsIGRvbVRyZWVUYWIuZG9tRWxlbSk7XG59O1xuXG5mdW5jdGlvbiBvblNlbGVjdERvbUVsZW1lbnQoZGUpIHtcblxuICAgIGRvbVRyZWVUYWIuZm9jdXNFbGVtKGRlKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQ3NzUGFyYW0gPSByZXF1aXJlKCcuL0Nzc1BhcmFtJyk7XG52YXIgS2V5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvS2V5Jyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi9hbWd1aScpO1xudmFyIFRyYW5zaGFuZCA9IHJlcXVpcmUoJ3RyYW5zaGFuZCcpO1xuXG5mdW5jdGlvbiBCZXppZXJDc3NQYXJhbSAob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBDc3NQYXJhbS5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSB7eDogMCwgeTogMH07XG59XG5cbmluaGVyaXRzKEJlemllckNzc1BhcmFtLCBDc3NQYXJhbSk7XG52YXIgcCA9IEJlemllckNzc1BhcmFtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQmV6aWVyQ3NzUGFyYW07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHBhcmVudFRyYWNrOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudFRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50VHJhY2sub2ZmKCdmb2N1c0hhbmRsZXInLCB0aGlzLl9mb2N1c1RyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRUcmFjay5vZmYoJ2JsdXJIYW5kbGVyJywgdGhpcy5fYmx1clRyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50VHJhY2sgPSB2O1xuXG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnRUcmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFRyYWNrLm9uKCdmb2N1c0hhbmRsZXInLCB0aGlzLl9mb2N1c1RyYW5zZm9ybWVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRUcmFjay5vbignYmx1ckhhbmRsZXInLCB0aGlzLl9ibHVyVHJhbnNmb3JtZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudFRyYWNrO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxuXG5cbnAuZ2V0U2NyaXB0S2V5cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHZhciBuZXh0S2V5ID0ga2V5LmdldE5leHRLZXkoKTtcbiAgICAgICAgXG4gICAgICAgIGlmKCFuZXh0S2V5KSByZXR1cm47XG5cbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdLFxuICAgICAgICAgICAgayA9IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBrZXkudGltZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGJlemllcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1YmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBrZXkuZWFzZS5nZXRFYXNlcigpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAga2V5LnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpZHgsIGFycikge1xuXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSAwKSB2YWx1ZXMucHVzaChwb2ludC5oYW5kbGVMZWZ0KTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHBvaW50LmFuY2hvcik7XG4gICAgICAgICAgICBpZiAoaWR4ICE9PSBhcnIubGVuZ3RoIC0gMSkgdmFsdWVzLnB1c2gocG9pbnQuaGFuZGxlUmlnaHQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YWx1ZXMucHVzaChuZXh0S2V5LnZhbHVlWzBdLmhhbmRsZUxlZnQpO1xuICAgICAgICB2YWx1ZXMucHVzaChuZXh0S2V5LnZhbHVlWzBdLmFuY2hvcik7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gXy5zb3J0Qnkoa2V5cywgJ3RpbWUnKTtcbn07XG5cbnAuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKCFfLmlzTnVtYmVyKHRpbWUpKSB7XG4gICAgICAgIHRpbWUgPSBhbS50aW1lbGluZS5jdXJyVGltZTtcbiAgICB9XG5cbiAgICB2YXIgcmV0LCBiZWZvcmUsIGFmdGVyLCBzYW1lO1xuXG4gICAgdGhpcy5rZXlMaW5lLmZvckVhY2hLZXlzKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPT09IHRpbWUpIHtcbiAgICAgICAgXG4gICAgICAgICAgICBzYW1lID0ga2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleS50aW1lIDwgdGltZSAmJiAoIWJlZm9yZSB8fCBiZWZvcmUudGltZSA8IGtleS50aW1lKSkge1xuICAgICAgICBcbiAgICAgICAgICAgIGJlZm9yZSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkudGltZSA+IHRpbWUgJiYgKCFhZnRlciB8fCBhZnRlci50aW1lID4ga2V5LnRpbWUpKSB7XG4gICAgICAgIFxuICAgICAgICAgICAgYWZ0ZXIgPSBrZXk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChzYW1lKSB7XG5cbiAgICAgICAgdmFyIHBvaW50ID0gc2FtZS52YWx1ZVswXTtcblxuICAgICAgICByZXQgPSB7XG4gICAgICAgICAgICB4OiBwb2ludC5hbmNob3IueCArICdweCcsXG4gICAgICAgICAgICB5OiBwb2ludC5hbmNob3IueSArICdweCcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuXG4gICAgICAgIGlmIChhZnRlciAmJiBiZWZvcmUpIHtcblxuICAgICAgICAgICAgdmFyIHAgPSAodGltZSAtIGJlZm9yZS50aW1lKSAvIChhZnRlci50aW1lIC0gYmVmb3JlLnRpbWUpLCBcbiAgICAgICAgICAgICAgICBidiA9IGJlZm9yZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBhdiA9IGFmdGVyLnZhbHVlLCBcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBbXTtcblxuICAgICAgICAgICAgcCA9IGFmdGVyLmVhc2UuZ2V0UmF0aW8ocCk7XG5cbiAgICAgICAgICAgIGJ2LmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpZHgpIHtcblxuICAgICAgICAgICAgICAgIGlmIChpZHggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQuaGFuZGxlTGVmdC54LCBwb2ludC5oYW5kbGVMZWZ0LnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwb2ludC5hbmNob3IueCwgcG9pbnQuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50LmhhbmRsZVJpZ2h0LngsIHBvaW50LmhhbmRsZVJpZ2h0LnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChhdlswXS5oYW5kbGVMZWZ0LngsIGF2WzBdLmhhbmRsZUxlZnQueSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChhdlswXS5hbmNob3IueCwgYXZbMF0uYW5jaG9yLnkpO1xuXG5cblxuICAgICAgICAgICAgcmV0ID0gdGhpcy5fY2FsY0Vhc2UocG9pbnRzLCBwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0ID0gXy5jbG9uZShiZWZvcmUudmFsdWVbMF0uYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhZnRlcikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXQgPSBfLmNsb25lKGFmdGVyLnZhbHVlWzBdLmFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJldCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogcmV0O1xufTtcblxucC5hZGRLZXkgPSBmdW5jdGlvbiAob3B0LCBza2lwSGlzdG9yeSkge1xuICAgIFxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleShvcHQudGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIGlmICghc2tpcEhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICBhbS5oaXN0b3J5LnNhdmVDaGFpbihrZXksIFt0aGlzLmFkZEtleSwgdGhpcywga2V5LCB0cnVlXSwgW3RoaXMuYWRkS2V5LCB0aGlzLCBvcHQsIHRydWVdLCAnZWRpdCBrZXknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAga2V5LnZhbHVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBbXS5wdXNoLmFwcGx5KGtleS52YWx1ZSwgb3B0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgICBrZXkgPSBuZXcgS2V5KG9wdCk7XG5cbiAgICAgICAga2V5Lm9uKCdwcmVyZW5kZXInLCB0aGlzLl9vbktleVByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5rZXlMaW5lLmFkZEtleShrZXkpO1xuXG4gICAgICAgIGlmICghc2tpcEhpc3RvcnkpIHtcbiAgICAgICAgICAgIGFtLmhpc3RvcnkuY2xvc2VDaGFpbihrZXkpO1xuICAgICAgICAgICAgYW0uaGlzdG9yeS5zYXZlKFt0aGlzLnJlbW92ZUtleSwgdGhpcywgb3B0LnRpbWUsIHRydWVdLCBbdGhpcy5hZGRLZXksIHRoaXMsIG9wdCwgdHJ1ZV0sICdhZGQga2V5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkS2V5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaElucHV0cygpO1xuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xuXG4gICAgcmV0dXJuIGtleTtcbn07XG5cbi8vVE9ETyByZW1vdmVLZXkgLT4ga2V5Lm9mZigncHJlcmVuZGVyJywgdGhpcy5fb25LZXlQcmVyZW5kZXIsIHRoaXMpO1xuXG5cblxucC5fY2FsY0Vhc2UgPSBmdW5jdGlvbiAocCwgcG9zKSB7XG5cbiAgICB2YXIgbCA9IHAubGVuZ3RoIC8gMjtcblxuICAgIHdoaWxlICgtLWwgPiAwKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGNvdW50KGkqMik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge3g6IHBbMF0sIHk6IHBbMV19O1xuXG4gICAgZnVuY3Rpb24gY291bnQoaSkge1xuXG4gICAgICAgIHBbaSswXSA9IHBbaSswXSArIChwW2krMl0gLSBwW2krMF0pICogcG9zO1xuICAgICAgICBwW2krMV0gPSBwW2krMV0gKyAocFtpKzNdIC0gcFtpKzFdKSAqIHBvcztcbiAgICB9XG59O1xuXG5wLl9mb2N1c1RyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGRlKSB7XG5cbiAgICBkZSA9IGRlIHx8IHRoaXMucGFyZW50VHJhY2suX2N1cnJIYW5kbGVkRGU7XG4gICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IGRlO1xuXG4gICAgaWYgKCF0aGlzLl9jdXJySGFuZGxlZERlKSByZXR1cm4gdGhpcy5fYmx1clRyYW5zZm9ybWVyKCk7XG5cbiAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IFRyYW5zaGFuZCgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lci5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUcmFuc2Zvcm1lciwgdGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zZm9ybVNhdmU7XG4gICAgaWYgKGRlLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1TYXZlID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9XG5cbiAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGRlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVNhdmU7XG5cbiAgICB2YXIgcG9pbnRzID0gW107XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGtleS52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCwgaWR4KSB7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiBwb2ludC5hbmNob3IueCwgeTogcG9pbnQuYW5jaG9yLnl9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUxlZnQ6IHt4OiBwb2ludC5oYW5kbGVMZWZ0LngsIHk6IHBvaW50LmhhbmRsZUxlZnQueX0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiBwb2ludC5oYW5kbGVSaWdodC54LCB5OiBwb2ludC5oYW5kbGVSaWdodC55fSxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JGaWxsOiBpZHggIT09IDAgPyAnbmF2YWpvd2hpdGUnIDogdW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpbmtlZDogcG9pbnQubGlua2VkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuX3RyYW5zZm9ybWVyLnNldHVwKHtcbiAgICAgICAgaGFuZDoge1xuICAgICAgICAgICAgdHlwZTogJ2N1cnZlcicsXG4gICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIHg6IGJyLmxlZnQsXG4gICAgICAgICAgICAgICAgeTogYnIudG9wLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHRoaXMuX3RyYW5zZm9ybWVyLmFjdGl2YXRlKCk7XG5cbiAgICBhbS5kZUhhbmRsZXJDb250LmFwcGVuZENoaWxkKHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0pO1xufTtcblxucC5fYmx1clRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyICYmIHRoaXMuX3RyYW5zZm9ybWVyLmRvbUVsZW0gJiYgdGhpcy5fdHJhbnNmb3JtZXIuZG9tRWxlbS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIuZGVhY3RpdmF0ZSgpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZVRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuXG4gICAgdmFyIGlkeCA9IGNoYW5nZS5pZHgsIGtleTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5rZXlMaW5lLl9rZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuXG4gICAgICAgIGtleSA9IHRoaXMua2V5TGluZS5fa2V5c1tpXTtcblxuICAgICAgICBpZiAoa2V5LnZhbHVlLmxlbmd0aCA8PSBpZHgpIHtcblxuICAgICAgICAgICAgaWR4IC09IGtleS52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gJ2FkZCcpIHtcblxuICAgICAgICBrZXkudmFsdWUuc3BsaWNlKGlkeCwgMCwge1xuICAgICAgICAgICAgYW5jaG9yOiB7eDogY2hhbmdlLnBvaW50LmFuY2hvci54LCB5OiBjaGFuZ2UucG9pbnQuYW5jaG9yLnl9LFxuICAgICAgICAgICAgaGFuZGxlTGVmdDoge3g6IGNoYW5nZS5wb2ludC5oYW5kbGVMZWZ0LngsIHk6IGNoYW5nZS5wb2ludC5oYW5kbGVMZWZ0Lnl9LFxuICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiBjaGFuZ2UucG9pbnQuaGFuZGxlUmlnaHQueCwgeTogY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lnl9LFxuICAgICAgICAgICAgbGlua2VkOiBjaGFuZ2UucG9pbnQubGlua2VkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09ICdyZW1vdmUnKSB7XG4gICAgICAgIFxuICAgICAgICBrZXkudmFsdWUuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgaWYgKGtleS52YWx1ZS5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgdGhpcy5rZXlMaW5lLnJlbW92ZUtleShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSAnZWRpdCcpIHtcblxuICAgICAgICB2YXIgcG9pbnQgPSBrZXkudmFsdWVbaWR4XTtcbiAgICAgICAgcG9pbnQuYW5jaG9yLnggPSBjaGFuZ2UucG9pbnQuYW5jaG9yLng7XG4gICAgICAgIHBvaW50LmFuY2hvci55ID0gY2hhbmdlLnBvaW50LmFuY2hvci55O1xuICAgICAgICBwb2ludC5oYW5kbGVMZWZ0LnggPSBjaGFuZ2UucG9pbnQuaGFuZGxlTGVmdC54O1xuICAgICAgICBwb2ludC5oYW5kbGVMZWZ0LnkgPSBjaGFuZ2UucG9pbnQuaGFuZGxlTGVmdC55O1xuICAgICAgICBwb2ludC5oYW5kbGVSaWdodC54ID0gY2hhbmdlLnBvaW50LmhhbmRsZVJpZ2h0Lng7XG4gICAgICAgIHBvaW50LmhhbmRsZVJpZ2h0LnkgPSBjaGFuZ2UucG9pbnQuaGFuZGxlUmlnaHQueTtcbiAgICAgICAgcG9pbnQubGlua2VkID0gY2hhbmdlLnBvaW50LmxpbmtlZDtcbiAgICB9XG5cbiAgICB0aGlzLl9mb2N1c1RyYW5zZm9ybWVyKCk7XG59O1xuXG5wLl9vbktleVByZXJlbmRlciA9IGZ1bmN0aW9uIChjdHgsIGtleSkge1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBrZXkudmFsdWUubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdkZWVwc2t5Ymx1ZSc7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnZGVlcHNreWJsdWUnO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LmFyYyhzdGFydCwga2V5Ll9oZWlnaHQvMiwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciB1bmNhbGMgPSByZXF1aXJlKCcuL3VuY2FsYycpO1xudmFyIEtleSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL0tleScpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi8uLi91dGlscy9PcHRpb25MaW5lJyk7XG52YXIgS2V5TGluZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL0tleUxpbmUnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fbGluZUggPSAgYW1ndWkuTElORV9IRUlHSFQ7XG4gICAgdGhpcy5faW5wdXRzID0gW107XG4gICAgdGhpcy5faGlkZGVuID0gZmFsc2U7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCAwO1xuXG4gICAgdGhpcy5fb25DaGFuZ2VJbnB1dCA9IHRoaXMuX29uQ2hhbmdlSW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRpbWUgPSB0aGlzLl9vbkNoYW5nZVRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZUtleUxpbmUgPSB0aGlzLl9vbkNoYW5nZUtleUxpbmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbktleU5lZWRzUmVtb3ZlID0gdGhpcy5fb25LZXlOZWVkc1JlbW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tUZ2dsS2V5ID0gdGhpcy5fb25DbGlja1RnZ2xLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUtleWxpbmUob3B0LmtleUxpbmUpO1xuICAgIHRoaXMuX2NyZWF0ZU9wdGlvbnMob3B0Lm9wdGlvbkxpbmUpO1xuXG4gICAgdGhpcy5kZU9wdGlvbkxpbmUgPSB0aGlzLm9wdGlvbkxpbmUuZG9tRWxlbTtcbiAgICB0aGlzLmRlS2V5TGluZSA9IHRoaXMua2V5TGluZS5kb21FbGVtO1xuXG4gICAgYW0udGltZWxpbmUub24oJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUpO1xuXG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMTIzNCk7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICAgIHRoaXMudXNlU2F2ZShvcHQpO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoQ3NzUGFyYW0sIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IENzc1BhcmFtLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQ3NzUGFyYW07XG5cblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGRlbiA/IDAgOiB0aGlzLl9saW5lSDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9uYW1lKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25hbWUgPSB2O1xuICAgICAgICAgICAgdGhpcy5vcHRpb25MaW5lLnRpdGxlID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoaWRkZW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5faGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2hpZGRlbiA9IHY7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleUxpbmUuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleUxpbmUuc2hvdygpO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGlkZGVuO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgaGlkZGVuOiB0aGlzLmhpZGRlbixcbiAgICAgICAga2V5czogW10sXG4gICAgfTtcblxuICAgIHRoaXMua2V5TGluZS5mb3JFYWNoS2V5cyhmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgc2F2ZS5rZXlzLnB1c2goa2V5LmdldFNhdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2F2ZTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uKHNhdmUpIHtcblxuICAgIHRoaXMubmFtZSA9IHNhdmUubmFtZTtcbiAgICB0aGlzLmhpZGRlbiA9IHNhdmUuaGlkZGVuO1xuXG4gICAgaWYgKHNhdmUua2V5cykge1xuXG4gICAgICAgIHNhdmUua2V5cy5mb3JFYWNoKHRoaXMuYWRkS2V5LCB0aGlzKTtcbiAgICB9XG59O1xuXG5wLmdldFNjcmlwdEtleXMgPSBmdW5jdGlvbiAocnVubmFibGUpIHtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICB0aGlzLmtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHZhciBrID0ge1xuICAgICAgICAgICAgdGltZToga2V5LnRpbWUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZWFzZTogcnVubmFibGUgPyBrZXkuZWFzZS5nZXRFYXNlcigpIDoga2V5LmVhc2UuZ2V0U2NyaXB0KCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGsub3B0aW9uc1t0aGlzLm5hbWVdID0ga2V5LnZhbHVlO1xuICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gXy5zb3J0Qnkoa2V5cywgJ3RpbWUnKTtcbn07XG5cbnAuZ2V0VmFsdWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgaWYgKCFfLmlzTnVtYmVyKHRpbWUpKSB7XG4gICAgICAgIHRpbWUgPSBhbS50aW1lbGluZS5jdXJyVGltZTtcbiAgICB9XG5cbiAgICB2YXIgcmV0LCBiZWZvcmUsIGFmdGVyLCBzYW1lO1xuXG4gICAgdGhpcy5rZXlMaW5lLmZvckVhY2hLZXlzKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPT09IHRpbWUpIHtcbiAgICAgICAgXG4gICAgICAgICAgICBzYW1lID0ga2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleS50aW1lIDwgdGltZSAmJiAoIWJlZm9yZSB8fCBiZWZvcmUudGltZSA8IGtleS50aW1lKSkge1xuICAgICAgICBcbiAgICAgICAgICAgIGJlZm9yZSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkudGltZSA+IHRpbWUgJiYgKCFhZnRlciB8fCBhZnRlci50aW1lID4ga2V5LnRpbWUpKSB7XG4gICAgICAgIFxuICAgICAgICAgICAgYWZ0ZXIgPSBrZXk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChzYW1lKSB7XG5cbiAgICAgICAgcmV0ID0gc2FtZS52YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgICAgaWYgKGFmdGVyICYmIGJlZm9yZSkge1xuXG4gICAgICAgICAgICB2YXIgcCA9ICh0aW1lIC0gYmVmb3JlLnRpbWUpIC8gKGFmdGVyLnRpbWUgLSBiZWZvcmUudGltZSksIFxuICAgICAgICAgICAgICAgIGF2ID0gdW5jYWxjKGFmdGVyLnZhbHVlKSwgYnYgPSB1bmNhbGMoYmVmb3JlLnZhbHVlKTtcblxuICAgICAgICAgICAgcCA9IGFmdGVyLmVhc2UuZ2V0UmF0aW8ocCk7XG5cbiAgICAgICAgICAgIHJldCA9IGNyZWF0ZUNhbGMoYXYsIGJ2LCBwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0ID0gYmVmb3JlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldCA9IGFmdGVyLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHJldDtcblxuXG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FsYyhhdiwgYnYsIHApIHtcblxuICAgICAgICBpZiAoIWlzTmFOKGF2KSAmJiAhaXNOYU4oYnYpKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGJ2KSArICgoYXYgLSBidikgKiBwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhVW5pdCA9IGdldFVuaXQoYXYpO1xuICAgICAgICB2YXIgYlVuaXQgPSBnZXRVbml0KGJ2KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhVW5pdCA9PT0gYlVuaXQpIHtcblxuICAgICAgICAgICAgYXYgPSBwYXJzZUZsb2F0KGF2KTtcbiAgICAgICAgICAgIGJ2ID0gcGFyc2VGbG9hdChidik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoYnYgKyAoKGF2IC0gYnYpICogcCkpICsgYVVuaXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGF2cyA9IF8uY29tcGFjdChhdi5zcGxpdCgnICcpKSxcbiAgICAgICAgICAgIGJ2cyA9IF8uY29tcGFjdChidi5zcGxpdCgnICcpKSxcbiAgICAgICAgICAgIGF2bCA9IGF2cy5sZW5ndGgsXG4gICAgICAgICAgICBidmwgPSBidnMubGVuZ3RoLFxuICAgICAgICAgICAgcmV0ID0gW107XG5cbiAgICAgICAgaWYgKGF2bCAhPT0gYnZsKSB7XG5cbiAgICAgICAgICAgIGlmIChhdmwgPCBidmwpIHtcblxuICAgICAgICAgICAgICAgIGF2cyA9IGF2cy5jb25jYXQoYnZzLnNsaWNlKGF2bCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnZzID0gYnZzLmNvbmNhdChhdnMuc2xpY2UoYnZsKSk7XG4gICAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBhdnMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cbiAgICAgICAgICAgIHJldC5wdXNoKGNhbGMoYSwgYnZzW2lkeF0pKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJldC5qb2luKCcgJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsYyhhLCBiKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAnY2FsYygnICsgYiArICcgKyAoJyArIGEgKyAnIC0gJyArIGIgKyAnKSonICsgcCArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFVuaXQodikge1xuXG4gICAgICAgICAgICB2YXIgbSA9IC8oW2Etel0rKSQvLmV4ZWModik7XG5cbiAgICAgICAgICAgIHJldHVybiBtICYmIG1bMV07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5wLmFkZEtleSA9IGZ1bmN0aW9uIChvcHQsIHNraXBIaXN0b3J5KSB7XG4gICAgXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KG9wdC50aW1lKTtcblxuICAgIGlmIChrZXkpIHtcblxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBvcHQpIHtcblxuICAgICAgICAgICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICAgICAgICAgIGFtLmhpc3Rvcnkuc2F2ZUNoYWluKGtleSwgW3RoaXMuYWRkS2V5LCB0aGlzLCBrZXksIHRydWVdLCBbdGhpcy5hZGRLZXksIHRoaXMsIG9wdCwgdHJ1ZV0sICdlZGl0IGtleScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBrZXkudmFsdWUgPSBvcHQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG5cbiAgICAgICAga2V5ID0gbmV3IEtleShvcHQpO1xuICAgICAgICBrZXkudmFsdWUgPSAndmFsdWUnIGluIG9wdCA/IG9wdC52YWx1ZSA6IHRoaXMuZ2V0VmFsdWUob3B0LnRpbWUpO1xuXG4gICAgICAgIHRoaXMua2V5TGluZS5hZGRLZXkoa2V5KTtcblxuICAgICAgICBpZiAoIXNraXBIaXN0b3J5KSB7XG4gICAgICAgICAgICBhbS5oaXN0b3J5LmNsb3NlQ2hhaW4oa2V5KTtcbiAgICAgICAgICAgIGFtLmhpc3Rvcnkuc2F2ZShbdGhpcy5yZW1vdmVLZXksIHRoaXMsIG9wdC50aW1lLCB0cnVlXSwgW3RoaXMuYWRkS2V5LCB0aGlzLCBvcHQsIHRydWVdLCAnYWRkIGtleScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmVtaXQoJ2FkZEtleScpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hJbnB1dHMoKTtcbiAgICB0aGlzLl9yZWZyZXNoVGdnbEtleSgpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcblxuICAgIHJldHVybiBrZXk7XG59O1xuXG5wLnJlbW92ZUtleSA9IGZ1bmN0aW9uIChrZXksIHNraXBIaXN0b3J5KSB7XG5cbiAgICBpZiAoIXRoaXMua2V5TGluZS5yZW1vdmVLZXkoa2V5KSkge1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBcbiAgICBpZiAoIXNraXBIaXN0b3J5KSB7XG4gICAgICAgIGFtLmhpc3Rvcnkuc2F2ZShbdGhpcy5hZGRLZXksIHRoaXMsIGtleSwgdHJ1ZV0sXG4gICAgICAgICAgICBbdGhpcy5yZW1vdmVLZXksIHRoaXMsIGtleSwgdHJ1ZV0sICdyZW1vdmUga2V5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xLZXkoKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLmdldEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldEtleUJ5VGltZSh0aW1lKTtcbn07XG5cbnAuZ2V0UHJldktleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldFByZXZLZXkodGltZSk7XG59O1xuXG5wLmdldE5leHRLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMua2V5TGluZS5nZXROZXh0S2V5KHRpbWUpO1xufTtcblxucC5nb3RvUHJldktleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIga2V5ID0gdGhpcy5nZXRQcmV2S2V5KGFtLnRpbWVsaW5lLmN1cnJUaW1lKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgICAgYW0udGltZWxpbmUuY3VyclRpbWUgPSBrZXkudGltZTtcbiAgICB9XG59O1xuXG5wLmdvdG9OZXh0S2V5ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldE5leHRLZXkoYW0udGltZWxpbmUuY3VyclRpbWUpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgICBhbS50aW1lbGluZS5jdXJyVGltZSA9IGtleS50aW1lO1xuICAgIH1cbn07XG5cbnAuZ2V0S2V5VGltZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmdldEtleVRpbWVzKCk7XG59O1xuXG5wLnRvZ2dsZUtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleShhbS50aW1lbGluZS5jdXJyVGltZSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlS2V5KGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEtleSh7dGltZTogYW0udGltZWxpbmUuY3VyclRpbWV9KTtcbiAgICB9XG59O1xuXG5wLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5rZXlMaW5lLmtleUNvdW50ICE9PSAwO1xufTtcblxucC5hdHRhY2hJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgdGhpcy5kZXRhY2hJbnB1dChpbnB1dCk7XG5cbiAgICBpbnB1dC5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VJbnB1dCk7XG4gIFxuICAgIHRoaXMuX2lucHV0cy5wdXNoKGlucHV0KTtcbn07XG5cbnAuZGV0YWNoSW5wdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9pbnB1dHMuaW5kZXhPZihpbnB1dCk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5wdXQucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSW5wdXQpO1xuICBcbiAgICB0aGlzLl9pbnB1dHMuc3BsaWNlKGlkeCwgMSk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBcbiAgICBpZiAoU3RyaW5nKHZhbHVlKSA9PT0gU3RyaW5nKHRoaXMuZ2V0VmFsdWUoKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmFkZEtleSh7XG4gICAgICAgIHRpbWU6IGFtLnRpbWVsaW5lLmN1cnJUaW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLl9vbkNoYW5nZUtleUxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5fb25LZXlOZWVkc1JlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIHRoaXMucmVtb3ZlS2V5KGtleSk7XG59O1xuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoSW5wdXRzKCk7XG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xLZXkoKTtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy50b2dnbGVLZXkoKTtcbn07XG5cbnAuX29uQ2xpY2tTdGVwUHJldktleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZ290b1ByZXZLZXkoKTtcbn07XG5cbnAuX29uQ2xpY2tTdGVwTmV4dEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZ290b05leHRLZXkoKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoSW5wdXRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuZ2V0VmFsdWUoKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHtcblxuICAgICAgICAgICAgLy9nZXQgdGhlIHZhbHVlIGFnYWluLCBiZWNhdXNlIGl0IGNhbiBjaGFuZ2Ugb3ZlciB0aGUgaXRlcmF0aW9uXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufTtcblxucC5fcmVmcmVzaFRnZ2xLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGltZSA9IGFtLnRpbWVsaW5lLmN1cnJUaW1lLFxuICAgICAgICBrZXkgPSB0aGlzLmdldEtleSh0aW1lKTtcbiAgICBcbiAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy5rZXkuc2V0SGlnaGxpZ2h0KCEha2V5KTtcbiAgICB0aGlzLm9wdGlvbkxpbmUuYnV0dG9ucy5rZXkuc2V0U3RlcHBlcnMoISF0aGlzLmdldFByZXZLZXkodGltZSksICEhdGhpcy5nZXROZXh0S2V5KHRpbWUpKTtcbn07XG5cblxuXG5cblxuXG5wLl9jcmVhdGVPcHRpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdGhpcy5vcHRpb25MaW5lID0gbmV3IE9wdGlvbkxpbmUoXy5hc3NpZ24oe1xuICAgICAgICBjb250ZXh0TWVudU9wdGlvbnM6IFtcbiAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSB1cCcsIG9uU2VsZWN0OiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbW92ZScsIHRoaXMsIC0xKX0sXG4gICAgICAgICAgICB7dGV4dDogJ21vdmUgZG93bicsIG9uU2VsZWN0OiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbW92ZScsIHRoaXMsIDEpfSxcbiAgICAgICAgICAgIHt0ZXh0OiAnZGVsZXRlJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdkZWxldGUnLCB0aGlzKX1cbiAgICAgICAgXSxcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgIHRleHQ6IHRoaXMubmFtZVxuICAgICAgICB9LFxuICAgICAgICBidG5LZXk6IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tUZ2dsS2V5LFxuICAgICAgICAgICAgb25DbGlja1ByZXY6IHRoaXMuX29uQ2xpY2tTdGVwUHJldktleSxcbiAgICAgICAgICAgIG9uQ2xpY2tOZXh0OiB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXksXG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIHVuaXRzOiBbXSxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCdcbiAgICAgICAgfV0sXG4gICAgICAgIGluZGVudDogMCxcbiAgICB9LCBvcHQpKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbkxpbmUuaW5wdXRzLmlucHV0KXtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYXR0YWNoSW5wdXQodGhpcy5vcHRpb25MaW5lLmlucHV0cy5pbnB1dCk7XG4gICAgfVxufTtcblxucC5fY3JlYXRlS2V5bGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMua2V5TGluZSA9IG5ldyBLZXlMaW5lKCk7XG4gICAgdGhpcy5rZXlMaW5lLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUtleUxpbmUpO1xuICAgIHRoaXMua2V5TGluZS5vbigna2V5TmVlZHNSZW1vdmUnLCB0aGlzLl9vbktleU5lZWRzUmVtb3ZlKTtcbn07XG5cblxuXG5cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcbnZhciBLZXlMaW5lR3JvdXAgPSByZXF1aXJlKCcuLi8uLi91dGlscy9LZXlMaW5lR3JvdXAnKTtcbnZhciBDc3NQYXJhbSA9IHJlcXVpcmUoJy4vQ3NzUGFyYW0nKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIENzc1BhcmFtR3JvdXAgKG9wdCkge1xuXG4gICAgdGhpcy5fb25DaGFuZ2VTdWJwYXJhbUhlaWdodCA9IHRoaXMuX29uQ2hhbmdlU3VicGFyYW1IZWlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkFkZEtleVN1YnBhcmFtID0gdGhpcy5fb25BZGRLZXlTdWJwYXJhbS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tUZ2dsQ2hpbGRyZW4gPSB0aGlzLl9vbkNsaWNrVGdnbENoaWxkcmVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbGlja1RnZ2xNZXJnZSA9IHRoaXMuX29uQ2xpY2tUZ2dsTWVyZ2UuYmluZCh0aGlzKTtcblxuICAgIENzc1BhcmFtLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3BhcmFtcyA9IFtdO1xuXG4gICAgdGhpcy5fbWVyZ2VkID0gb3B0Lm1lcmdlZCB8fCBmYWxzZTtcblxuICAgIHRoaXMuX3JlZnJlc2hIZWlnaHRzKCk7XG59XG5cbmluaGVyaXRzKENzc1BhcmFtR3JvdXAsIENzc1BhcmFtKTtcbnZhciBwID0gQ3NzUGFyYW1Hcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1BhcmFtR3JvdXA7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMuX2xpbmVIO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTaG93aW5nU3VicGFyYW1zKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICAgICAgICAgICAgICByZXQgKz0gcGFyYW0uaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXJnZWQ6IHtcblxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5fbWVyZ2VkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX21lcmdlZCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xNZXJnZS5zZXRUb2dnbGUodGhpcy5fbWVyZ2VkKTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5pbmFjdGl2ZSA9IHRoaXMuX21lcmdlZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuX21lcmdlZCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVN1YnBhcmFtcygpOyBcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlS2V5TGluZXNTeW1tZXRyaWMoKTtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dTdWJwYXJhbXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlZDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5wLmFkZFBhcmFtID0gZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICBpZiAocGFyYW0ucGFyZW50R3JvdXApIHtcblxuICAgICAgICBwYXJhbS5wYXJlbnRHcm91cC5yZW1vdmVQYXJhbShwYXJhbSk7XG4gICAgfVxuICAgIHBhcmVudC5wYXJlbnRHcm91cCA9IHRoaXM7XG5cbiAgICB0aGlzLl9wYXJhbXMucHVzaChwYXJhbSk7XG4gICAgdGhpcy5vcHRpb25MaW5lLmFkZFN1YmxpbmUocGFyYW0ub3B0aW9uTGluZS5kb21FbGVtKTtcbiAgICB0aGlzLmtleUxpbmUuYWRkS2V5TGluZShwYXJhbS5rZXlMaW5lKTtcbiAgICBcbiAgICBwYXJhbS5vcHRpb25MaW5lLmluZGVudCA9IHRoaXMub3B0aW9uTGluZS5pbmRlbnQgKyAxO1xuICAgIHBhcmFtLm9uKCdjaGFuZ2VIZWlnaHQnLCB0aGlzLl9vbkNoYW5nZVN1YnBhcmFtSGVpZ2h0KTtcbiAgICBwYXJhbS5vbignYWRkS2V5JywgdGhpcy5fb25BZGRLZXlTdWJwYXJhbSk7XG4gICAgXG4gICAgaWYgKHBhcmFtLm5hbWUgaW4gdGhpcy5vcHRpb25MaW5lLmlucHV0cykge1xuXG4gICAgICAgIHBhcmFtLmF0dGFjaElucHV0KHRoaXMub3B0aW9uTGluZS5pbnB1dHNbcGFyYW0ubmFtZV0pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlSGVpZ2h0Jyk7XG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcbn07XG5cbnAucmVtb3ZlUGFyYW0gPSBmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9wYXJhbXMuaW5kZXhPZihwYXJhbSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHBhcmVudC5wYXJlbnRHcm91cCA9IHVuZGVmaW5lZDtcbiAgICBcbiAgICBwYXJhbS5yZW1vdmVMaXN0ZW5lcignY2hhbmdlSGVpZ2h0JywgdGhpcy5fb25DaGFuZ2VTdWJwYXJhbUhlaWdodCk7XG4gICAgcGFyYW0ucmVtb3ZlTGlzdGVuZXIoJ2FkZEtleScsIHRoaXMuX29uQWRkS2V5U3VicGFyYW0pO1xuXG4gICAgdGhpcy5fcGFyYW1zLnNwbGljZShpZHgsIDEpO1xuICAgIHRoaXMua2V5TGluZS5yZW1vdmVLZXlsaW5lKHBhcmFtLmtleUxpbmUpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VIZWlnaHQnKTtcbiAgICB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpO1xufTtcblxucC5tb3ZlUGFyYW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBcbn07XG5cbnAuZ2V0UGFyYW0gPSBmdW5jdGlvbiAocGFyYW1OYW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fcGFyYW1zLmZpbmQoZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtLm5hbWUgPT09IHBhcmFtTmFtZVxuICAgIH0pXG59O1xuXG5wLnRvZ2dsZUtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB0aW1lID0gdGltZSB8fCBhbS50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHZhciBoYXNLZXkgPSB0aGlzLl9wYXJhbXMuc29tZShmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICByZXR1cm4gcGFyYW0uZ2V0S2V5KHRpbWUpO1xuICAgIH0pO1xuXG4gICAgaWYgKGhhc0tleSkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5QWxsKHRpbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRLZXlBbGwodGltZSk7XG4gICAgfVxufTtcblxucC5fbWFrZUtleUxpbmVzU3ltbWV0cmljID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHRpbWVzID0gW107XG5cbiAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgXG4gICAgICAgIFtdLnB1c2guYXBwbHkodGltZXMsIHBhcmFtLmdldEtleVRpbWVzKCkpO1xuICAgIH0pO1xuXG4gICAgXy51bmlxKHRpbWVzKS5mb3JFYWNoKHRoaXMuYWRkS2V5QWxsLCB0aGlzKTtcbn07XG5cblxucC5hZGRLZXlBbGwgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdGltZSA9IHRpbWUgfHwgYW0udGltZWxpbmUuY3VyclRpbWU7XG5cbiAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBDc3NQYXJhbUdyb3VwKSB7XG5cbiAgICAgICAgICAgIHBhcmFtLmFkZEtleUFsbCh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtLmFkZEtleSh7dGltZTogdGltZX0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5wLnJlbW92ZUtleUFsbCA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB0aW1lID0gdGltZSB8fCBhbS50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHRoaXMuX3BhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIHZhciBrZXkgPSBwYXJhbS5nZXRLZXkodGltZSk7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHBhcmFtLnJlbW92ZUtleShrZXkpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5wLnNob3dTdWJwYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNTaG93aW5nU3VicGFyYW1zKSByZXR1cm47XG4gICAgdGhpcy5faXNTaG93aW5nU3VicGFyYW1zID0gdHJ1ZTtcblxuICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5zZXRUb2dnbGUodHJ1ZSk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VIZWlnaHQnLCB0aGlzKTtcbiAgICB0aGlzLl9yZWZyZXNoSGVpZ2h0cygpO1xufTtcblxucC5oaWRlU3VicGFyYW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1Nob3dpbmdTdWJwYXJhbXMpIHJldHVybjtcbiAgICB0aGlzLl9pc1Nob3dpbmdTdWJwYXJhbXMgPSBmYWxzZTtcblxuICAgIHRoaXMub3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5zZXRUb2dnbGUoZmFsc2UpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlSGVpZ2h0JywgdGhpcyk7XG4gICAgdGhpcy5fcmVmcmVzaEhlaWdodHMoKTtcbn07XG5cblxuXG5cblxuXG5cbnAuX29uS2V5TmVlZHNSZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB0aGlzLl9wYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICB2YXIga2V5ID0gcGFyYW0uZ2V0S2V5KHRpbWUpO1xuICAgICAgICBpZiAoa2V5KSBwYXJhbS5yZW1vdmVLZXkoa2V5KTtcbiAgICB9KTtcbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hUZ2dsS2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzU2hvd2luZ1N1YnBhcmFtcykge1xuICAgICAgICB0aGlzLmhpZGVTdWJwYXJhbXMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvd1N1YnBhcmFtcygpO1xuICAgIH1cbn07XG5cbnAuX29uQ2xpY2tUZ2dsTWVyZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLm1lcmdlZCA9ICF0aGlzLm1lcmdlZDtcbn07XG5cbnAuX29uQ2hhbmdlU3VicGFyYW1IZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZUhlaWdodCcsIHRoaXMpO1xuICAgIHRoaXMuX3JlZnJlc2hIZWlnaHRzKCk7XG59O1xuXG5wLl9vbkFkZEtleVN1YnBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX21lcmdlZCkge1xuICAgIFxuICAgICAgICB0aGlzLmFkZEtleUFsbCgpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hIZWlnaHRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGggPSB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmtleUxpbmUuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICB0aGlzLm9wdGlvbkxpbmUuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4Jztcbn1cblxuXG5cblxuXG5cblxucC5fY3JlYXRlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHRoaXMub3B0aW9uTGluZSA9IG5ldyBPcHRpb25MaW5lKF8ubWVyZ2Uoe1xuICAgICAgICB0Z2dsQ2hpbGRyZW46IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tUZ2dsQ2hpbGRyZW4sXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRleHRNZW51T3B0aW9uczogW1xuICAgICAgICAgICAge3RleHQ6ICdtb3ZlIHVwJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdtb3ZlJywgdGhpcywgLTEpfSxcbiAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSBkb3duJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdtb3ZlJywgdGhpcywgMSl9LFxuICAgICAgICAgICAge3RleHQ6ICdkZWxldGUnLCBvblNlbGVjdDogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2RlbGV0ZScsIHRoaXMpfVxuICAgICAgICBdLFxuICAgICAgICB0Z2dsTWVyZ2U6IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tUZ2dsTWVyZ2UsXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIGJ0bktleToge1xuICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1RnZ2xLZXksXG4gICAgICAgICAgICBvbkNsaWNrUHJldjogdGhpcy5fb25DbGlja1N0ZXBQcmV2S2V5LFxuICAgICAgICAgICAgb25DbGlja05leHQ6IHRoaXMuX29uQ2xpY2tTdGVwTmV4dEtleSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZW50OiAwLFxuICAgICAgICBoYXNTdWJjb250YWluZXI6IHRydWUsXG4gICAgfSwgb3B0KSk7XG59O1xuXG5wLl9jcmVhdGVLZXlsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5rZXlMaW5lID0gbmV3IEtleUxpbmVHcm91cCgpO1xuICAgIHRoaXMua2V5TGluZS5vbigna2V5TmVlZHNSZW1vdmUnLCB0aGlzLl9vbktleU5lZWRzUmVtb3ZlKTtcbn07XG5cblxuXG5cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE9cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgcGFyYW1GYWN0b3J5ID0gcmVxdWlyZSgnLi9wYXJhbUZhY3RvcnknKTtcbnZhciBUcmFuc2hhbmQgPSByZXF1aXJlKCd0cmFuc2hhbmQnKTtcbnZhciBLZXlMaW5lR3JvdXAgPSByZXF1aXJlKCcuLi8uLi91dGlscy9LZXlMaW5lR3JvdXAnKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvT3B0aW9uTGluZScpO1xudmFyIENzc1BhcmFtR3JvdXAgPSByZXF1aXJlKCcuL0Nzc1BhcmFtR3JvdXAnKTtcbnZhciBkaWFsb2dUcmFja09wdGlvbnMgPSByZXF1aXJlKCcuL2RpYWxvZ1RyYWNrT3B0aW9ucycpO1xudmFyIGRpYWxvZ05ld1BhcmFtID0gcmVxdWlyZSgnLi9kaWFsb2dOZXdQYXJhbScpO1xudmFyIG1zdFBsYXllciA9IHJlcXVpcmUoJy4vc2NyaXB0LnBsYXllci5tc3QnKTtcbndpbmRvdy5kaWFsb2dOZXdQYXJhbSA9IGRpYWxvZ05ld1BhcmFtO1xuXG5cbmZ1bmN0aW9uIENzc1RyYWNrKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9zZWxlY3RvcnMgPSBbXTtcbiAgICB0aGlzLl9lbmRQYXJhbXMgPSBbXTtcbiAgICB0aGlzLl9uYW1lID0gJ3VubmFtZWQnO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzSGlkaW5nU2VsZWN0ZWRFbGVtcyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fb25TZWxlY3RDbGljayA9IHRoaXMuX29uU2VsZWN0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRlbGV0ZVBhcmFtZXRlciA9IHRoaXMuX29uRGVsZXRlUGFyYW1ldGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3ZlUGFyYW1ldGVyID0gdGhpcy5fb25Nb3ZlUGFyYW1ldGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbGlja1RnZ2xLZXkgPSB0aGlzLl9vbkNsaWNrVGdnbEtleS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tUZ2dsSGlkZSA9IHRoaXMuX29uQ2xpY2tUZ2dsSGlkZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tOYW1lID0gdGhpcy5fb25DbGlja05hbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZUhlaWdodCA9IHRoaXMuX29uQ2hhbmdlSGVpZ2h0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VIYW5kbGVyID0gdGhpcy5fb25DaGFuZ2VIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUaW1lID0gdGhpcy5fb25DaGFuZ2VUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VQYXJhbWV0ZXIgPSB0aGlzLl9vbkNoYW5nZVBhcmFtZXRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlTmFtZSA9IHRoaXMuX29uQ2hhbmdlTmFtZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlU2VsZWN0b3JzID0gdGhpcy5fb25DaGFuZ2VTZWxlY3RvcnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbldpbmRvd1Jlc2l6ZSA9IHRoaXMuX29uV2luZG93UmVzaXplLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25XaW5kb3dTY3JvbGwgPSB0aGlzLl9vbldpbmRvd1Njcm9sbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0VHJhY2sgPSB0aGlzLl9vblNlbGVjdFRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25EZXNlbGVjdFRyYWNrID0gdGhpcy5fb25EZXNlbGVjdFRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYW5pbVBsYXkgPSB0aGlzLl9hbmltUGxheS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fcGFyYW1Hcm91cCA9IG5ldyBDc3NQYXJhbUdyb3VwKHtcbiAgICAgICAgb3B0aW9uTGluZToge1xuICAgICAgICAgICAgdGdnbE1lcmdlOiBmYWxzZSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja05hbWUsIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuX3BhcmFtR3JvdXAub3B0aW9uTGluZS5hZGRCdXR0b24oe1xuICAgICAgICBkb21FbGVtOiBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgICAgIGljb25PbjogJ2V5ZScsXG4gICAgICAgICAgICBpY29uT2ZmOiAnZXllLW9mZicsXG4gICAgICAgICAgICBjaGFuZ2VDb2xvcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tUZ2dsSGlkZSxcbiAgICAgICAgfSksXG4gICAgICAgIG5hbWU6ICd0Z2dsSGlkZScsXG4gICAgICAgIGNoaWxkSWR4OiAwLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fcGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbjogJ2N1YmUnLFxuICAgICAgICAgICAgY2hhbmdlQ29sb3I6IHRydWUsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ3RnZ2wzZCcsXG4gICAgICAgIGNoaWxkSWR4OiAwLFxuICAgIH0pO1xuXG5cbiAgICB0aGlzLl9wYXJhbUdyb3VwLm9wdGlvbkxpbmUuYWRkQnV0dG9uKHtcbiAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgICAgICBjaGFuZ2VDb2xvcjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nTmV3UGFyYW0uc2hvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjazogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICB9KSxcbiAgICAgICAgbmFtZTogJ25ld1BhcmFtJyxcbiAgICAgICAgY2hpbGRJZHg6IDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLmRlT3B0aW9uTGluZSA9IHRoaXMuX3BhcmFtR3JvdXAub3B0aW9uTGluZS5kb21FbGVtO1xuICAgIHRoaXMuZGVLZXlMaW5lID0gdGhpcy5fcGFyYW1Hcm91cC5rZXlMaW5lLmRvbUVsZW07XG5cbiAgICB0aGlzLmRlT3B0aW9uTGluZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU2VsZWN0Q2xpY2spO1xuICAgIHRoaXMuZGVLZXlMaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25TZWxlY3RDbGljayk7XG5cbiAgICB0aGlzLl9wYXJhbUdyb3VwLm9uKCdjaGFuZ2VIZWlnaHQnLCB0aGlzLl9vbkNoYW5nZUhlaWdodCk7XG4gICAgYW0udGltZWxpbmUub24oJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUpO1xuICAgIGFtLm9uKCdzZWxlY3RUcmFjaycsIHRoaXMuX29uU2VsZWN0VHJhY2spO1xuICAgIGFtLm9uKCdkZXNlbGVjdFRyYWNrJywgdGhpcy5fb25EZXNlbGVjdFRyYWNrKTtcblxuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKDEyMzQpO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKENzc1RyYWNrLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBDc3NUcmFjay5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENzc1RyYWNrO1xuXG5wLnR5cGUgPSAnY3NzX3RyYWNrX3R5cGUnO1xuXG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgaGVpZ2h0OiB7XG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbUdyb3VwLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9uYW1lKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25hbWUgPSB2O1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1Hcm91cC5vcHRpb25MaW5lLnRpdGxlID0gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2F2ZSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICBzZWxlY3RvcnM6IF8uY2xvbmUodGhpcy5fc2VsZWN0b3JzKSxcbiAgICAgICAgZW5kUGFyYW1zOiBbXSxcbiAgICAgICAgaXNTaG93aW5nUGFyYW1zOiB0aGlzLl9pc1Nob3dpbmdQYXJhbXMsXG4gICAgfTtcblxuICAgIHRoaXMuX2VuZFBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIHNhdmUuZW5kUGFyYW1zLnB1c2gocGFyYW0uZ2V0U2F2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICghc2F2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2VsZWN0b3JzID0gc2F2ZS5zZWxlY3RvcnMgfHwgW107XG5cbiAgICBpZiAoJ25hbWUnIGluIHNhdmUpIHRoaXMubmFtZSA9IHNhdmUubmFtZTtcblxuICAgIGlmIChzYXZlLmVuZFBhcmFtcykge1xuXG4gICAgICAgIHNhdmUuZW5kUGFyYW1zLmZvckVhY2godGhpcy5hZGRQYXJhbSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkRWxlbXMoKTtcbiAgICB0aGlzLl9yZWZyZXNoUGxheWVyKCk7XG5cbiAgICBpZiAoc2F2ZS5pc1Nob3dpbmdQYXJhbXMpIHtcblxuICAgICAgICB0aGlzLl9zaG93UGFyYW1zKCk7XG4gICAgfVxufTtcblxucC5fZ2V0U2NyaXB0UGFyYW1zID0gZnVuY3Rpb24gKHJ1bm5hYmxlKSB7XG5cbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICB0aGlzLl9lbmRQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICBpZiAocGFyYW0uaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTWF4KCksXG4gICAgICAgICAgICBsYXN0VGltZSA9IDA7XG5cbiAgICAgICAgdmFyIHBhcmFtID0gcGFyYW0uZ2V0U2NyaXB0S2V5cyhydW5uYWJsZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICAgICAga2V5LmR1cmF0aW9uID0gKGtleS50aW1lIC0gbGFzdFRpbWUpLzEwMDA7XG4gICAgICAgICAgICBsYXN0VGltZSA9IGtleS50aW1lO1xuICAgICAgICAgICAgZGVsZXRlIGtleS50aW1lO1xuXG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFyYW0ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaGFuZGxlVHJhbnNmb3JtT3JpZ2luKCk7XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuXG5cblxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVHJhbnNmb3JtT3JpZ2luKCkge1xuXG4gICAgICAgIHZhciB0b3ggPSBfLmZpbmQocGFyYW1zLCBmdW5jdGlvbiAocGFyYW0pIHtyZXR1cm4gJ3RyYW5zZm9ybU9yaWdpblgnIGluIHBhcmFtWzBdLm9wdGlvbnN9KTtcbiAgICAgICAgdmFyIHRveSA9IF8uZmluZChwYXJhbXMsIGZ1bmN0aW9uIChwYXJhbSkge3JldHVybiAndHJhbnNmb3JtT3JpZ2luWScgaW4gcGFyYW1bMF0ub3B0aW9uc30pO1xuICAgICAgICB2YXIgdG96ID0gXy5maW5kKHBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7cmV0dXJuICd0cmFuc2Zvcm1PcmlnaW5aJyBpbiBwYXJhbVswXS5vcHRpb25zfSk7XG5cbiAgICAgICAgaWYgKCF0b3gpIHJldHVybjtcblxuICAgICAgICB2YXIgdG8gPSBbXTtcbiAgICAgICAgdG94LmZvckVhY2goZnVuY3Rpb24gKGtleSwgaWR4KSB7XG5cbiAgICAgICAgICAgIHRvLnB1c2goe1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBrZXkuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBlYXNlOiBrZXkub3B0aW9ucy5lYXNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcnICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAodG94W2lkeF0ub3B0aW9ucy50cmFuc2Zvcm1PcmlnaW5YIHx8ICc1MCUnKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodG95W2lkeF0ub3B0aW9ucy50cmFuc2Zvcm1PcmlnaW5ZIHx8ICc1MCUnKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodG96ID8gKHRveltpZHhdLm9wdGlvbnMudHJhbnNmb3JtT3JpZ2luWiB8fCAnMHB4JykgOiAnJyksXG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveCksIDEpO1xuICAgICAgICBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveSksIDEpO1xuICAgICAgICBwYXJhbXMuc3BsaWNlKHBhcmFtcy5pbmRleE9mKHRveiksIDEpO1xuICAgICAgICBwYXJhbXMucHVzaCh0byk7XG4gICAgfVxufTtcblxucC5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcm9vdFRsID0gbmV3IFRpbWVsaW5lTWF4KCkucGF1c2UoKSxcbiAgICAgICAgc2NyaXB0UGFyYW1zID0gdGhpcy5fZ2V0U2NyaXB0UGFyYW1zKHRydWUpLFxuICAgICAgICBzZWxlY3RlZEVsZW1zID0gdGhpcy5fc2VsZWN0ZWRFbGVtcztcblxuICAgIHNjcmlwdFBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZU1heCgpO1xuXG4gICAgICAgIHBhcmFtLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgICAgICB0bC50byhzZWxlY3RlZEVsZW1zLCBrZXkuZHVyYXRpb24sIGtleS5vcHRpb25zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcm9vdFRsLmFkZCh0bCwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm9vdFRsO1xufTtcblxucC5nZXRTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGltZWxpbmVzID0gW10sIGNvZGUgPSAnJywgb3B0aW9uTGluZSwgc2VsZWN0b3JzLFxuICAgICAgICBzY3JpcHRQYXJhbXMgPSB0aGlzLl9nZXRTY3JpcHRQYXJhbXMoZmFsc2UpO1xuXG4gICAgc2NyaXB0UGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgdGltZWxpbmVzLnB1c2gocGFyYW0pO1xuICAgIH0pO1xuXG4gICAgLy9UT0RPOiBtZXJnZSB0aW1lbGluZXMgaWYgaXQncyBwb3NzaWJsZVxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZWxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGltZWxpbmVzLmxlbmd0aDsgKytqKSB7XG5cbiAgICAvLyAgICAgICAgIGlmIChpICE9PSBqICYmIHRpbWVsaW5lc1tpXS5sZW5ndGggPT09IHRpbWVsaW5lc1tqXS5sZW5ndGgpIHtcblxuICAgIC8vICAgICAgICAgICAgIHZhciBtYXRjaCA9IHRpbWVsaW5lc1tpXS5ldmVyeShmdW5jdGlvbiAoaUtleSwgaWR4KSB7XG5cbiAgICAvLyAgICAgICAgICAgICAgICAgdmFyIGpLZXkgPSB0aW1lbGluZXNbal1baWR4XTtcblxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gaUtleS50aW1lID09PSBqS2V5LnRpbWUgJiYgaUtleS5lYXNlLm1hdGNoKGpLZXkuZWFzZSk7XG4gICAgLy8gICAgICAgICAgICAgfSk7XG5cbiAgICAvLyAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcblxuICAgIC8vICAgICAgICAgICAgICAgICB0aW1lbGluZXNbaV0uZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpZHgpIHtcblxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgXy5hc3NpZ24oa2V5LCB0aW1lbGluZXNbal1baWR4XSk7XG5cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lcy5zcGxpY2UoaiwgaWR4KTtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmICgtLWogPCBpKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9IFxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgc2VsZWN0b3JzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5fc2VsZWN0b3JzKTtcbiAgICB0aW1lbGluZXMgPSBKU09OLnN0cmluZ2lmeSh0aW1lbGluZXMpO1xuICAgIC8vcmVtb3ZlIHF1b3RlcyBhcm91bmQgdGhlIEVhc2UgY29uc3RydWN0b3IgY2FsbHNcbiAgICAvL1RPRE86IGRvIHRoaXMgc29tZWhvdyBuaWNlclxuICAgIHRpbWVsaW5lcyA9IHRpbWVsaW5lcy5yZXBsYWNlKC9cImVhc2VcIjpcIiguKj8pXCIvLCAnXCJlYXNlXCI6JDEnKTtcblxuICAgIGNvZGUgPSBNdXN0YWNoZS5yZW5kZXIobXN0UGxheWVyLCB7XG4gICAgICAgIHRpbWVsaW5lczogdGltZWxpbmVzLFxuICAgICAgICBhbmltVGFyZ2V0czogc2VsZWN0b3JzLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvZGU7XG59O1xuXG5wLmFkZFBhcmFtID0gZnVuY3Rpb24gKG9wdCwgc2tpcEhpc3RvcnkpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBwYXJhbSA9IHRoaXMuZ2V0UGFyYW0ob3B0Lm5hbWUpO1xuICAgIFxuXG4gICAgaWYgKHBhcmFtKSB7XG5cbiAgICAgICAgaWYgKG9wdC5rZXlzKSB7XG5cbiAgICAgICAgICAgIG9wdC5rZXlzLmZvckVhY2gocGFyYW0uYWRkS2V5LCBwYXJhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2hpZGRlbicgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIHBhcmFtLmhpZGRlbiA9IG9wdC5oaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmFtID0gcGFyYW1GYWN0b3J5LmNyZWF0ZShvcHQpO1xuXG4gICAgICAgIHBhcmFtLnBhcmVudFRyYWNrID0gdGhpcztcblxuICAgICAgICAvL1RPRE8gaGlzdG9yeS5mbGFnKCk7XG5cbiAgICAgICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICAgICAgYW0uaGlzdG9yeS5zYXZlKFt0aGlzLnJlbW92ZVBhcmFtLCB0aGlzLCBwYXJhbSwgdHJ1ZV0sXG4gICAgICAgICAgICAgICAgW3RoaXMuYWRkUGFyYW0sIHRoaXMsIHBhcmFtLCB0cnVlXSwgJ2FkZCBwYXJhbSAnICsgb3B0Lm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW5kUGFyYW1zLnB1c2gocGFyYW0pO1xuICAgICAgICB0aGlzLl9wYXJhbUdyb3VwLmFkZFBhcmFtKHBhcmFtKTtcblxuICAgICAgICBwYXJhbS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VQYXJhbWV0ZXIpO1xuICAgICAgICBwYXJhbS5vbignZGVsZXRlJywgdGhpcy5fb25EZWxldGVQYXJhbWV0ZXIpO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVCdWlsdEluR3JvdXAob3B0Lm5hbWUpO1xuXG4gICAgICAgIC8vVE9ETyBoaXN0b3J5LmVuZEZsYWcoKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ2FkZFBhcmFtJyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtO1xufTtcblxucC5yZW1vdmVQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbSwgc2tpcEhpc3RvcnkpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9lbmRQYXJhbXMuaW5kZXhPZihwYXJhbSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICBhbS5oaXN0b3J5LnNhdmUoW3RoaXMuYWRkUGFyYW0sIHRoaXMsIHBhcmFtLCB0cnVlXSxcbiAgICAgICAgICAgIFt0aGlzLnJlbW92ZVBhcmFtLCB0aGlzLCBwYXJhbSwgdHJ1ZV0sICdyZW1vdmUgcGFyYW0gJyArIHBhcmFtLm5hbWUpO1xuICAgIH1cblxuICAgIHRoaXMuX2VuZFBhcmFtcy5zcGxpY2UoaWR4LCAxKTtcbiAgICBwYXJhbS5wYXJlbnRUcmFjayA9IHVuZGVmaW5lZDtcblxuICAgIHBhcmFtLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZVBhcmFtZXRlcik7XG4gICAgcGFyYW0ucmVtb3ZlTGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuX29uRGVsZXRlUGFyYW1ldGVyKTtcblxuICAgIHRoaXMuX3BhcmFtR3JvdXAucmVtb3ZlUGFyYW0ocGFyYW0pO1xuXG4gICAgJChwYXJhbS5kZU9wdGlvbkxpbmUpLnJlbW92ZSgpO1xuICAgICQocGFyYW0uZGVLZXlsaW5lKS5yZW1vdmUoKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLmdldFBhcmFtID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9lbmRQYXJhbXMuZmluZChmdW5jdGlvbihwYXJhbSkge1xuXG4gICAgICAgIHJldHVybiBwYXJhbS5uYW1lID09PSBuYW1lO1xuICAgIH0pO1xufTtcblxucC5hZGRHcm91cCA9IGZ1bmN0aW9uIChwYXRoLCBoaXN0b3J5KSB7XG5cbiAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuICAgIFxuICAgIHZhciBuYW1lID0gcGF0aC5wb3AoKSxcbiAgICAgICAgcGFyZW50ID0gdGhpcy5fcGFyYW1Hcm91cDtcblxuICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAocGFyZW50TmFtZSwgaWR4KSB7XG5cbiAgICAgICAgcGFyZW50ID0gdGhpcy5hZGRHcm91cChwYXRoLnNsaWNlKDAsIGlkeCsxKSlcbiAgICB9LCB0aGlzKTtcblxuICAgIHZhciBwYXJhbUdyb3VwID0gcGFyZW50LmdldFBhcmFtKG5hbWUpO1xuXG4gICAgaWYgKCFwYXJhbUdyb3VwKSB7XG5cbiAgICAgICAgLy9UT0RPIGhpc3Rvcnkuc2F2ZSgpXG5cbiAgICAgICAgcGFyYW1Hcm91cCA9IHBhcmFtRmFjdG9yeS5jcmVhdGVHcm91cCh7bmFtZTogbmFtZX0pO1xuICAgICAgICBwYXJlbnQuYWRkUGFyYW0ocGFyYW1Hcm91cCk7XG4gICAgICAgIHBhcmFtR3JvdXAub24oJ2JlemllclRvVHJhbnNsYXRlJywgdGhpcy5fc3dpdGNoRnJvbUJlemllclRvVHJhbnNsYXRlLCB0aGlzKTtcbiAgICAgICAgcGFyYW1Hcm91cC5vbigndHJhbnNsYXRlVG9CZXppZXInLCB0aGlzLl9zd2l0Y2hGcm9tVHJhbnNsYXRlVG9CZXppZXIsIHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbUdyb3VwO1xufTtcblxucC5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uIChwYXRoLCBoaXN0b3J5KSB7XG5cbiAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuXG4gICAgdmFyIG5hbWUgPSBwYXRoLnBvcCgpLFxuICAgICAgICBwYXJlbnQgPSB0aGlzLl9wYXJhbUdyb3VwO1xuXG4gICAgd2hpbGUgKHBhdGgubGVuZ3RoKSB7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldFBhcmFtKHBhdGguc2hpZnQoKSk7XG5cbiAgICAgICAgaWYgKCFwYXJlbnQpIHJldHVybjtcbiAgICB9XG5cbiAgICAvL1RPRE8gaGlzdG9yeS5zYXZlKClcbiAgICBwYXJhbUdyb3VwID0gcGFyZW50LmdldFBhcmFtKG5hbWUpO1xuXG4gICAgcGFyYW1Hcm91cC5vZmYoJ2JlemllclRvVHJhbnNsYXRlJywgdGhpcy5fc3dpdGNoRnJvbUJlemllclRvVHJhbnNsYXRlLCB0aGlzKTtcbiAgICBwYXJhbUdyb3VwLm9mZigndHJhbnNsYXRlVG9CZXppZXInLCB0aGlzLl9zd2l0Y2hGcm9tVHJhbnNsYXRlVG9CZXppZXIsIHRoaXMpO1xuXG4gICAgcGFyZW50LnJlbW92ZVBhcmFtKCk7XG59O1xuXG5cblxucC5fcHJlcGFyZUJ1aWx0SW5Hcm91cCA9IGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgIHZhciByb290R3JvdXBOYW1lID0gcGFyYW1GYWN0b3J5LmdldFJvb3RQYXJhbUdyb3VwTmFtZShwYXJhbU5hbWUpO1xuXG4gICAgaWYgKCFyb290R3JvdXBOYW1lIHx8IHRoaXMuX3BhcmFtR3JvdXAuZ2V0UGFyYW0ocm9vdEdyb3VwTmFtZSkpIHJldHVybjtcblxuICAgIHZhciB3YWxrID0gZnVuY3Rpb24gKGdyb3VwTmFtZSwgcGF0aCkge1xuXG4gICAgICAgIHZhciBuZXdQYXRoID0gcGF0aC5zbGljZSgpO1xuICAgICAgICBuZXdQYXRoLnB1c2goZ3JvdXBOYW1lKTtcblxuICAgICAgICB2YXIgbWVtYmVyTmFtZXMgPSBwYXJhbUZhY3RvcnkuZ2V0R3JvdXBNZW1iZXJOYW1lcyhuZXdQYXRoKTtcblxuICAgICAgICBpZiAobWVtYmVyTmFtZXMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIG1lbWJlck5hbWVzLmZvckVhY2gobWVtYmVyTmFtZSA9PiB3YWxrKG1lbWJlck5hbWUsIG5ld1BhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHRoaXMuYWRkUGFyYW0oe25hbWU6IGdyb3VwTmFtZX0pLFxuICAgICAgICAgICAgICAgIGdyb3VwID0gdGhpcy5hZGRHcm91cChwYXRoKTtcblxuICAgICAgICAgICAgZ3JvdXAuYWRkUGFyYW0ocGFyYW0pO1xuICAgICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIFxuICAgIHdhbGsocm9vdEdyb3VwTmFtZSwgW10pO1xufTtcblxucC5zZWxlY3QgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB0cnVlO1xuXG5cbiAgICBpZiAoIXRoaXMuX2hhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlciA9IG5ldyBUcmFuc2hhbmQoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVyLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uV2luZG93U2Nyb2xsKTtcblxuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZEVsZW1zKCk7XG5cbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRFbGVtcy5sZW5ndGgpIHtcblxuICAgICAgICB0aGlzLmZvY3VzSGFuZGxlcihvcHQuZm9jdXNFbGVtIHx8IHRoaXMuX3NlbGVjdGVkRWxlbXNbMF0pO1xuICAgIH1cblxuICAgIHRoaXMuX3BhcmFtR3JvdXAuaGlnaGxpZ2h0ID0gdHJ1ZTtcblxuICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgdGhpcyk7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYmx1ckhhbmRsZXIoKTtcblxuICAgIHRoaXMuX3BhcmFtR3JvdXAuaGlnaGxpZ2h0ID0gZmFsc2U7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbldpbmRvd1Njcm9sbCk7XG5cbiAgICBpZiAodGhpcy5faGFuZGxlcikge1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSGFuZGxlcik7XG4gICAgfVxufTtcblxucC5yZW5kZXJUaW1lID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIGlmICh0aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGltZSA9IGFtLnRpbWVsaW5lLmN1cnJUaW1lO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zZWxlY3RvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wbGF5ZXIudGltZSh0aW1lLzEwMDApO1xuICAgIHJldHVybjtcbn07XG5cbnAucGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9hbmltUGxheSgpO1xufTtcblxucC5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5UmFmaWQpO1xufTtcblxucC5nZXRNYWduZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fcGFyYW1Hcm91cC5rZXlMaW5lLmdldEtleVRpbWVzKCk7XG59O1xuXG5wLmZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uIChkZSkge1xuXG4gICAgZGUgPSBkZSB8fCB0aGlzLl9jdXJySGFuZGxlZERlO1xuICAgIHRoaXMuX2N1cnJIYW5kbGVkRGUgPSBkZTtcblxuICAgIGlmICghdGhpcy5fY3VyckhhbmRsZWREZSkgcmV0dXJuIHRoaXMuX2JsdXJIYW5kbGVyKCk7XG5cbiAgICB0aGlzLmVtaXQoJ2ZvY3VzSGFuZGxlcicpO1xuXG4gICAgdmFyIHRyYW5zZm9ybVNhdmU7XG4gICAgaWYgKGRlLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1TYXZlID0gZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9XG5cbiAgICB2YXIgYnIgPSBkZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGRlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVNhdmU7XG5cbiAgICB2YXIgaGFuZE9wdCA9IHtcbiAgICAgICAgdHlwZTogJ3RyYW5zZm9ybWVyJyxcbiAgICAgICAgYmFzZToge1xuICAgICAgICAgICAgeDogYnIubGVmdCxcbiAgICAgICAgICAgIHk6IGJyLnRvcCxcbiAgICAgICAgICAgIHc6IGJyLndpZHRoLFxuICAgICAgICAgICAgaDogYnIuaGVpZ2h0LFxuICAgICAgICB9LFxuICAgICAgICBwYXJhbXM6IHt9XG4gICAgfTtcblxuICAgIHZhciBwID0gaGFuZE9wdC5wYXJhbXM7XG4gICAgdGhpcy5fZW5kUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgc3dpdGNoIChwYXJhbS5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlICd4JzogcC50eCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneSc6IHAudHkgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWCc6IHAuc3ggPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWSc6IHAuc3kgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uWic6IHAucnogPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpIC8gMTgwICogTWF0aC5QSTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFuc2Zvcm1PcmlnaW5YJzogcC5veCA9IHBhcnNlRmxvYXQocGFyYW0uZ2V0VmFsdWUoKSkgLyAxMDA7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndHJhbnNmb3JtT3JpZ2luWSc6IHAub3kgPSBwYXJzZUZsb2F0KHBhcmFtLmdldFZhbHVlKCkpIC8gMTAwOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Jlemllcic6XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW0uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBwLnR4ID0gdmFsdWUueDtcbiAgICAgICAgICAgICAgICBwLnR5ID0gdmFsdWUueTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5faGFuZGxlci5zZXR1cCh7XG4gICAgICAgIGhhbmQ6IGhhbmRPcHQsXG4gICAgfSk7XG4gICAgdGhpcy5faGFuZGxlci5hY3RpdmF0ZSgpO1xuXG4gICAgYW0uZGVIYW5kbGVyQ29udC5hcHBlbmRDaGlsZCh0aGlzLl9oYW5kbGVyLmRvbUVsZW0pO1xufTtcblxucC5fYmx1ckhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jdXJySGFuZGxlZERlID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5lbWl0KCdibHVySGFuZGxlcicpO1xuXG4gICAgaWYgKHRoaXMuX2hhbmRsZXIgJiYgdGhpcy5faGFuZGxlci5kb21FbGVtICYmIHRoaXMuX2hhbmRsZXIuZG9tRWxlbS5wYXJlbnROb2RlKSB7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlci5kZWFjdGl2YXRlKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXIuZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2hhbmRsZXIuZG9tRWxlbSk7XG4gICAgfVxufTtcblxuXG5cblxuXG5cblxuXG5cblxucC5fYW5pbVBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9hbmltUGxheVJhZmlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltUGxheSk7XG5cbiAgICB0aGlzLnJlbmRlclRpbWUoYW0udGltZWxpbmUuY3VyclRpbWUpO1xufTtcblxucC5faGlkZVNlbGVjdGVkRWxlbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zKSByZXR1cm47XG4gICAgdGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zID0gdHJ1ZTtcblxuICAgIHRoaXMuX3BhcmFtR3JvdXAub3B0aW9uTGluZS5idXR0b25zLnRnZ2xIaWRlLnNldFRvZ2dsZSh0cnVlKTtcblxuICAgIHRoaXMuX3NlbGVjdGVkRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGUpIHtcblxuICAgICAgICBkZS5fYW1WaXNpYmlsaXR5U2F2ZSA9IGRlLnN0eWxlLnZpc2liaWxpdHk7XG4gICAgICAgIGRlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9KTtcbn07XG5cbnAuX3Nob3dTZWxlY3RlZEVsZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMpIHJldHVybjtcbiAgICB0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMgPSBmYWxzZTtcblxuICAgIHRoaXMuX3BhcmFtR3JvdXAub3B0aW9uTGluZS5idXR0b25zLnRnZ2xIaWRlLnNldFRvZ2dsZShmYWxzZSk7XG5cbiAgICB0aGlzLl9zZWxlY3RlZEVsZW1zLmZvckVhY2goZnVuY3Rpb24gKGRlKSB7XG5cbiAgICAgICAgZGUuc3R5bGUudmlzaWJpbGl0eSA9IGRlLl9hbVZpc2liaWxpdHlTYXZlO1xuICAgIH0pO1xufTtcblxucC5fc3dpdGNoRnJvbVRyYW5zbGF0ZVRvQmV6aWVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHhQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ3gnKSxcbiAgICAgICAgeVBhcmFtID0gdGhpcy5nZXRQYXJhbSgneScpLFxuICAgICAgICBrZXlzWCA9IHhQYXJhbS5nZXRTYXZlKCkua2V5cyxcbiAgICAgICAga2V5c1kgPSB5UGFyYW0uZ2V0U2F2ZSgpLmtleXMsXG4gICAgICAgIGJlemllcktleXMgPSBbXSxcbiAgICAgICAgdGltZXMgPSBfLnVuaXEoXy5wbHVjayhrZXlzWCwgJ3RpbWUnKS5jb25jYXQoXy5wbHVjayhrZXlzWSwgJ3RpbWUnKSkpLnNvcnQoKSxcbiAgICAgICAgb2xkQmV6aWVyS2V5cyA9IHRoaXMuX19zYXZlZEJlemllcktleXMgfHwgW107XG5cbiAgICB0aW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHhQYXJhbS5nZXRWYWx1ZSh0aW1lKSksXG4gICAgICAgICAgICB5ID0gcGFyc2VGbG9hdCh5UGFyYW0uZ2V0VmFsdWUodGltZSkpLFxuICAgICAgICAgICAgb2xkS2V5ID0gXy5maW5kKG9sZEJlemllcktleXMsIHt0aW1lOiB0aW1lLCBhbmNob3I6IHt4OngsIHk6eX19KTtcblxuICAgICAgICBiZXppZXJLZXlzLnB1c2gob2xkS2V5IHx8IHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogW3tcbiAgICAgICAgICAgICAgICBhbmNob3I6IHt4OiB4LCB5OiB5fSxcbiAgICAgICAgICAgICAgICBoYW5kbGVMZWZ0OiB7eDogeCwgeTogeX0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUmlnaHQ6IHt4OiB4LCB5OiB5fSxcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGJlemllclBhcmFtID0gdGhpcy5hZGRQYXJhbSh7XG4gICAgICAgIG5hbWU6ICdiZXppZXInLFxuICAgICAgICBrZXlzOiBiZXppZXJLZXlzLFxuICAgIH0pO1xuXG4gICAgeFBhcmFtLmhpZGRlbiA9IHRydWU7XG4gICAgeVBhcmFtLmhpZGRlbiA9IHRydWU7XG4gICAgYmV6aWVyUGFyYW0uaGlkZGVuID0gZmFsc2U7XG59O1xuXG5wLl9zd2l0Y2hGcm9tQmV6aWVyVG9UcmFuc2xhdGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1RPRE8gcmVzdG9yZSBvcmlnaW5hbCB4LCB5IGtleXMgd2hlbiBiZXppZXIgd2Fzbid0IGNoYW5nZWRcblxuICAgIHZhciBiZXppZXJQYXJhbSA9IHRoaXMuZ2V0UGFyYW0oJ2JlemllcicpLFxuICAgICAgICBiZXppZXJLZXlzID0gYmV6aWVyUGFyYW0uZ2V0U2F2ZSgpLmtleXMsXG4gICAgICAgIHhLZXlzID0gW10sXG4gICAgICAgIHlLZXlzID0gW107XG4gICAgXG4gICAgdGhpcy5fX3NhdmVkQmV6aWVyS2V5cyA9IGtleXM7XG5cbiAgICBiZXppZXJLZXlzLmZvckVhY2goZnVuY3Rpb24gKGJlemllcktleSkge1xuXG4gICAgICAgIHhLZXlzLnB1c2gob2xkS2V5IHx8IHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogYmV6aWVyS2V5LnZhbHVlWzBdLmFuY2hvci54ICsgJ3B4JyxcbiAgICAgICAgfSk7XG4gICAgICAgIHlLZXlzLnB1c2gob2xkS2V5IHx8IHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogYmV6aWVyS2V5LnZhbHVlWzBdLmFuY2hvci55ICsgJ3B4JyxcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgeFBhcmFtID0gdGhpcy5hZGRQYXJhbSh7XG4gICAgICAgIG5hbWU6ICd4JyxcbiAgICAgICAga2V5czogeEtleXMsXG4gICAgfSk7XG4gICAgdmFyIHlQYXJhbSA9IHRoaXMuYWRkUGFyYW0oe1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIGtleXM6IHlLZXlzLFxuICAgIH0pO1xuXG4gICAgeFBhcmFtLmhpZGRlbiA9IGZhbHNlO1xuICAgIHlQYXJhbS5oaWRkZW4gPSBmYWxzZTtcbiAgICBiZXppZXJQYXJhbS5oaWRkZW4gPSB0cnVlO1xuXG4gICAgdGhpcy5mb2N1c0hhbmRsZXIoKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX29uU2VsZWN0VHJhY2sgPSBmdW5jdGlvbiAodHJhY2spIHtcblxuICAgIGlmICh0cmFjayA9PT0gdGhpcykge1xuICAgIFxuICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgIH1cbn07XG5cbnAuX29uRGVzZWxlY3RUcmFjayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZGVzZWxlY3QoKTtcbn07XG5cbnAuX29uU2VsZWN0Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBhbS5zZWxlY3RUcmFjayh0aGlzKTtcbn07XG5cbnAuX29uQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgdHlwZSkge1xuXG4gICAgdmFyIHRpbWUgPSBhbS50aW1lbGluZS5jdXJyVGltZTtcblxuICAgIHZhciBhZGQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblxuICAgICAgICB2YXIgcGFyYW07XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICd4JyB8fCBuYW1lID09PSAneScpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5nZXRQYXJhbSgnYmV6aWVyJyk7XG5cbiAgICAgICAgICAgIGlmIChwYXJhbSAmJiAhcGFyYW0uaGlkZGVuKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIga2V5T3B0ID0ge3RpbWU6IHRpbWV9O1xuICAgICAgICAgICAgICAgIGtleU9wdFtuYW1lXSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHBhcmFtLmFkZEtleShrZXlPcHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW0gPSB0aGlzLmFkZFBhcmFtKHtuYW1lOiBuYW1lfSk7XG5cbiAgICAgICAgcGFyYW0uYWRkS2V5KHtcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIH0pO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIGlmICh0eXBlID09PSAndHJhbnNmb3JtJykge1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0eCc6IGFkZCgneCcsIHBhcmFtc1tuYW1lXSArICdweCcpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0eSc6IGFkZCgneScsIHBhcmFtc1tuYW1lXSArICdweCcpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzeCc6IGFkZCgnc2NhbGVYJywgcGFyYW1zW25hbWVdKTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3knOiBhZGQoJ3NjYWxlWScsIHBhcmFtc1tuYW1lXSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3J6JzogYWRkKCdyb3RhdGlvblonLCAocGFyYW1zW25hbWVdIC8gTWF0aC5QSSAqIDE4MCkgKyAnZGVnJyk7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ294JzogYWRkKCd0cmFuc2Zvcm1PcmlnaW5YJywgKHBhcmFtc1tuYW1lXSAqIDEwMCkgKyAnJScpOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdveSc6IGFkZCgndHJhbnNmb3JtT3JpZ2luWScsIChwYXJhbXNbbmFtZV0gKiAxMDApICsgJyUnKTsgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlVGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICBpZiAodGhpcy5faXNQbGF5aW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlclRpbWUodGltZSk7XG4gICAgdGhpcy5mb2N1c0hhbmRsZXIoKTtcbn07XG5cbnAuX29uQ2hhbmdlUGFyYW1ldGVyID0gZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIHRoaXMuX3JlZnJlc2hQbGF5ZXIoKTtcbiAgICB0aGlzLnJlbmRlclRpbWUoKTtcbiAgICB0aGlzLmZvY3VzSGFuZGxlcigpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuX29uV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mb2N1c0hhbmRsZXIoKTtcbn07XG5cbnAuX29uV2luZG93U2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mb2N1c0hhbmRsZXIoKTtcbn07XG5cbnAuX29uRGVsZXRlUGFyYW1ldGVyID0gZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICB0aGlzLnJlbW92ZVBhcmFtKHBhcmFtKTtcbn07XG5cbnAuX29uTW92ZVBhcmFtZXRlciA9IGZ1bmN0aW9uIChwYXJhbSwgd2F5KSB7XG5cbiAgICB0aGlzLm1vdmVQYXJhbWV0ZXIocGFyYW0sIHdheSk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbEtleSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gYW0udGltZWxpbmUuY3VyclRpbWUsXG4gICAgICAgIGFsbEhhdmVLZXkgPSB0aGlzLl9pc0FsbFBhcmFtc0hhdmVLZXkodGltZSksXG4gICAgICAgIGZsYWcgPSBhbS5oaXN0b3J5LnN0YXJ0RmxhZygndG9nZ2xlIGtleXMnKTtcblxuICAgIHRoaXMuX2VuZFBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgICAgIGlmIChwYXJhbS5pc1ZhbGlkKCkpIHtcblxuICAgICAgICAgICAgaWYgKGFsbEhhdmVLZXkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbS5yZW1vdmVLZXkocGFyYW0uZ2V0S2V5KHRpbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtLmFkZEtleSh7dGltZTogdGltZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhbS5oaXN0b3J5LmVuZEZsYWcoZmxhZyk7XG59O1xuXG5wLl9vbkNsaWNrVGdnbEhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNIaWRpbmdTZWxlY3RlZEVsZW1zKSB7XG4gICAgICAgIHRoaXMuX3Nob3dTZWxlY3RlZEVsZW1zKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRlU2VsZWN0ZWRFbGVtcygpO1xuICAgIH1cbn07XG5cbnAuX29uQ2xpY2tOYW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgZGlhbG9nVHJhY2tPcHRpb25zLnNob3coe1xuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICBzZWxlY3RvcnM6IHRoaXMuX3NlbGVjdG9ycyxcbiAgICAgICAgb25DaGFuZ2VOYW1lOiB0aGlzLl9vbkNoYW5nZU5hbWUsXG4gICAgICAgIG9uQ2hhbmdlU2VsZWN0b3JzOiB0aGlzLl9vbkNoYW5nZVNlbGVjdG9ycyxcbiAgICB9KTtcbn07XG5cbnAuX29uQ2hhbmdlTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xufTtcblxucC5fb25DaGFuZ2VTZWxlY3RvcnMgPSBmdW5jdGlvbiAoc2VsZWN0b3JzKSB7XG5cbiAgICB0aGlzLl9zZWxlY3RvcnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9zZWxlY3RvcnMgPSB0aGlzLl9zZWxlY3RvcnMuY29uY2F0KHNlbGVjdG9ycyk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWRFbGVtcygpO1xuICAgIHRoaXMuX3JlZnJlc2hQbGF5ZXIoKTtcblxuICAgIGlmICh0aGlzLl9zZWxlY3RlZEVsZW1zLmluZGV4T2YodGhpcy5fY3VyckhhbmRsZWREZSkgPT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5fY3VyckhhbmRsZWREZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLmZvY3VzSGFuZGxlcih0aGlzLl9jdXJySGFuZGxlZERlIHx8IHRoaXMuX3NlbGVjdGVkRWxlbXNbMF0pO1xufTtcblxucC5fb25DaGFuZ2VIZWlnaHQgPSBmdW5jdGlvbiAoc2VsZWN0b3JzKSB7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZUhlaWdodCcsIHRoaXMpO1xufTtcblxuXG5cblxuXG5cbnAuX3JlZnJlc2hQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7IFxuXG4gICAgaWYgKHRoaXMuX3BsYXllcikgdGhpcy5fcGxheWVyLmtpbGwoKTtcblxuICAgIHRoaXMuX3BsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XG59XG5cblxuXG5cblxuXG5wLl9pc0FsbFBhcmFtc0hhdmVLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2VuZFBhcmFtcy5ldmVyeShmdW5jdGlvbiAocGFyYW0pIHtcblxuICAgICAgICByZXR1cm4gcGFyYW0uZ2V0S2V5KHRpbWUpIHx8ICFwYXJhbS5pc1ZhbGlkKCk7XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuLy8gYW0uYW5pbXMubXlBbmltLmNyZWF0ZSh7XG4vLyAgICAgdGFyZ2V0czoge1xuLy8gICAgICAgICBoZWFkOiBtYWNpLiRoZWFkLFxuLy8gICAgICAgICBmbG9vcjogJyNncm91bmQyJyxcbi8vICAgICB9XG4vLyB9KTtcblxuXG5cblxuXG5cbnAuaXNPd25lZERvbUVsZW0gPSBmdW5jdGlvbiAoZGUpIHtcblxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEVsZW1zLmluZGV4T2YoZGUpICE9PSAtMTtcbn07XG5cbnAuX3JlZnJlc2hTZWxlY3RlZEVsZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGxpc3QgPSBbXTtcblxuICAgIHRoaXMuX3NlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuXG4gICAgICAgIGlmIChzZWxlY3Rvci50eXBlID09PSAnY3NzJykge1xuXG4gICAgICAgICAgICBhZGQoc2VsZWN0b3IudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlbGVjdG9yLnR5cGUgPT09ICdpbnB1dCcpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGFtLnRpbWVsaW5lLmlucHV0cztcblxuICAgICAgICAgICAgc2VsZWN0b3IudmFsdWUuc3BsaXQoJy4nKS5ldmVyeShmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudCA9IHBhcmVudFtuYW1lXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBhZGQocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fc2VsZWN0ZWRFbGVtcyA9IGxpc3Q7XG5cbiAgICBmdW5jdGlvbiBhZGQoaXRlbSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YoaXRlbSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGFtLmRlUm9vdC5xdWVyeVNlbGVjdG9yQWxsKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVtcyk7XG4gICAgICAgICAgICBsaXN0ID0gbGlzdC5jb25jYXQoaXRlbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0udGltZWxpbmUucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUpO1xuXG4gICAgLy9UT0RPXG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIENzc1RyYWNrID0gcmVxdWlyZSgnLi9Dc3NUcmFjaycpO1xudmFyIFBhcmFtc1RhYiA9IHJlcXVpcmUoJy4vcGFyYW1zVGFiL1BhcmFtc1RhYicpO1xudmFyIHFzZ2VuID0gcmVxdWlyZSgnLi4vLi4vcXNnZW4nKTtcblxudmFyIGljb25OZXcsIHBhcmFtc1RhYjtcblxuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcGFyYW1zVGFiID0gbmV3IFBhcmFtc1RhYigpO1xuXG4gICAgYW0ucmVnaXN0ZXJUcmFja1R5cGUoQ3NzVHJhY2ssIENzc1RyYWNrLnByb3RvdHlwZS50eXBlKTtcblxuICAgIGFtLm9uKCdzZWxlY3REb21FbGVtZW50Jywgb25TZWxlY3REb21FbGVtZW50KTtcblxuICAgIGFtLndvcmtzcGFjZS5maWxsVGFiKCdDc3MgU3R5bGUnLCBwYXJhbXNUYWIuZG9tRWxlbSk7XG5cbiAgICBhbS5kb21QaWNrZXIuc2V0UmlnaHRMZWZ0QnRuKHtcbiAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICB0b29sdGlwOiAnY3JlYXRlIGEgbmV3IGNzcyB0cmFjayB3aXRoIHRoaXMgZWxlbWVudCcsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgYW0uZG9tUGlja2VyLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gcXNnZW4oYW0uc2VsZWN0ZWREb21FbGVtKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RvcjonLCBzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciB0cmFjayA9IG5ldyBDc3NUcmFjayh7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzOiBbe3R5cGU6ICdjc3MnLCB2YWx1ZTogc2VsZWN0b3J9XSxcbiAgICAgICAgICAgICAgICBuYW1lOiBzZWxlY3RvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFtLnRpbWVsaW5lLmFkZFRyYWNrKHRyYWNrKTtcblxuICAgICAgICAgICAgYW0uc2VsZWN0VHJhY2sodHJhY2spO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBvblNlbGVjdERvbUVsZW1lbnQoZGUpIHtcblxuICAgIGFtLnRpbWVsaW5lLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIGlmICh0cmFjayBpbnN0YW5jZW9mIENzc1RyYWNrKSB7XG5cbiAgICAgICAgICAgIGlmICh0cmFjay5pc093bmVkRG9tRWxlbShkZSkpIHtcblxuICAgICAgICAgICAgICAgIGFtLnNlbGVjdFRyYWNrKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB0cmFjay5mb2N1c0hhbmRsZXIoZGUpO1xuICAgICAgICAgICAgICAgIGFtLmRvbVBpY2tlci5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYW0uc2VsZWN0ZWRUcmFjayA9PT0gdHJhY2spIHtcblxuICAgICAgICAgICAgICAgICAgICBhbS5kZXNlbGVjdFRyYWNrKCk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vLi4vYW1ndWknKTtcbnZhciBEaWFsb2cgPSByZXF1aXJlKCcuLi8uLi91dGlscy9EaWFsb2cnKTtcbnZhciBTdHJpbmdJbnB1dCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL1N0cmluZ0lucHV0Jyk7XG5cbnZhciBpbml0ZWQgPSBmYWxzZSxcbiAgICBpbnBQYXJhbU5hbWUsXG4gICAgZGlhbG9nID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiAnTmV3IHBhcmFtJyxcbiAgICB9KTsgXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcblxuZGlhbG9nLmFkZEJ1dHRvbignYWRkJywgZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKGlucFBhcmFtTmFtZS52YWx1ZSkge1xuXG4gICAgICAgIGRpYWxvZy50cmFjay5hZGRQYXJhbSh7bmFtZTogaW5wUGFyYW1OYW1lLnZhbHVlfSk7XG4gICAgfVxuXG4gICAgZGlhbG9nLmhpZGUoKTtcbn0pO1xuZGlhbG9nLmFkZEJ1dHRvbignY2xvc2UnLCAnaGlkZScpO1xuXG5kaWFsb2cub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgY3JlYXRlQ29udGVudCgpO1xuXG4gICAgaW5wUGFyYW1OYW1lLnZhbHVlID0gJyc7XG59KTtcblxuXG5cbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3RyYWNrJ30pO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICBpZiAoaW5pdGVkKSByZXR1cm47XG4gICAgaW5pdGVkID0gdHJ1ZTtcblxuICAgIHZhciBzdWdnZXN0aW9ucyA9IGdldENzc1BhcmFtcygpLm1hcChmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgcmV0dXJuIHt2YWx1ZTogc3VnZ2VzdGlvbi5wcm9wZXJ0eX07XG4gICAgfSk7XG5cbiAgICBpbnBQYXJhbU5hbWUgPSBuZXcgU3RyaW5nSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiAnY3NzIHBhcmFtZXRlciBuYW1lJyxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IHN1Z2dlc3Rpb25zXG4gICAgfSk7XG53aW5kb3cuaW5wUGFyYW1OYW1lID0gaW5wUGFyYW1OYW1lO1xufVxuXG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9DU1NfdmFsdWVzX3N5bnRheFxuXG4vLyB2YXIgbWRuQ3NzU3ludGF4ID0gW107XG4vLyAkKCd0Ym9keSB0cicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgdmFyIGNoaWxkcmVuID0gJCh0aGlzKS5jaGlsZHJlbigpO1xuXG4vLyAgICAgbWRuQ3NzU3ludGF4LnB1c2goe1xuLy8gICAgICAgICBwcm9wZXJ0eTogJChjaGlsZHJlblswXSkudGV4dCgpLFxuLy8gICAgICAgICBzeW50YXg6ICQoY2hpbGRyZW5bMV0pLnRleHQoKSxcbi8vICAgICAgICAgaW5pdGlhbFZhbHVlOiAkKGNoaWxkcmVuWzJdKS50ZXh0KCksXG4vLyAgICAgICAgIGluaGVyaXRlZDogJChjaGlsZHJlblszXSkudGV4dCgpLFxuLy8gICAgICAgICBtZWRpYTogJChjaGlsZHJlbls0XSkudGV4dCgpLFxuLy8gICAgIH0pO1xuLy8gfSk7XG4vLyBtZG5Dc3NTeW50YXg7XG4vLyBKU09OLnN0cmluZ2lmeShtZG5Dc3NTeW50YXgsIG51bGwsIDIpO1xuXG5mdW5jdGlvbiBnZXRDc3NQYXJhbXMoKSB7XG4gICAgcmV0dXJuIFtcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjxzaW5nbGUtYW5pbWF0aW9uLW5hbWU+IHx8IDx0aW1lPiB8fCA8dGltaW5nLWZ1bmN0aW9uPiB8fCA8dGltZT4gfHwgPHNpbmdsZS1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50PiB8fCA8c2luZ2xlLWFuaW1hdGlvbi1kaXJlY3Rpb24+IHx8IDxzaW5nbGUtYW5pbWF0aW9uLWZpbGwtbW9kZT4gfHwgPHNpbmdsZS1hbmltYXRpb24tcGxheS1zdGF0ZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczphbmltYXRpb24tbmFtZTogbm9uZWFuaW1hdGlvbi1kdXJhdGlvbjogMHNhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlYW5pbWF0aW9uLWRlbGF5OiAwc2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDFhbmltYXRpb24tZGlyZWN0aW9uOiBub3JtYWxhbmltYXRpb24tZmlsbC1tb2RlOiBub25lYW5pbWF0aW9uLXBsYXktc3RhdGU6IHJ1bm5pbmdcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYW5pbWF0aW9uLWRlbGF5XCIsXG4gICAgXCJzeW50YXhcIjogXCI8dGltZT4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwc1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24tZGlyZWN0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2luZ2xlLWFuaW1hdGlvbi1kaXJlY3Rpb24+I1xcbiAgICB3aGVyZSA8c2luZ2xlLWFuaW1hdGlvbi1kaXJlY3Rpb24+ID0gbm9ybWFsIHwgcmV2ZXJzZSB8IGFsdGVybmF0ZSB8IGFsdGVybmF0ZS1yZXZlcnNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYW5pbWF0aW9uLWR1cmF0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8dGltZT4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwc1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24tZmlsbC1tb2RlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2luZ2xlLWFuaW1hdGlvbi1maWxsLW1vZGU+I1xcbiAgICB3aGVyZSA8c2luZ2xlLWFuaW1hdGlvbi1maWxsLW1vZGU+ID0gbm9uZSB8IGZvcndhcmRzIHwgYmFja3dhcmRzIHwgYm90aFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2luZ2xlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ+I1xcbiAgICB3aGVyZSA8c2luZ2xlLWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ+ID0gaW5maW5pdGUgfCA8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbmltYXRpb24tbmFtZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPHNpbmdsZS1hbmltYXRpb24tbmFtZT4jXFxuICAgIHdoZXJlIDxzaW5nbGUtYW5pbWF0aW9uLW5hbWU+ID0gbm9uZSB8IElERU5UXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8c2luZ2xlLWFuaW1hdGlvbi1wbGF5LXN0YXRlPiNcXG4gICAgd2hlcmUgPHNpbmdsZS1hbmltYXRpb24tcGxheS1zdGF0ZT4gPSBydW5uaW5nIHwgcGF1c2VkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJydW5uaW5nXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjx0aW1pbmctZnVuY3Rpb24+I1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiZWFzZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2l0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIG5vbmUgfCA8c2luZ2xlLXRyYW5zaXRpb24tcHJvcGVydHk+IF0gfHwgPHRpbWU+IHx8IDx0aW1pbmctZnVuY3Rpb24+IHx8IDx0aW1lPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOnRyYW5zaXRpb24tZGVsYXk6IDBzdHJhbnNpdGlvbi1kdXJhdGlvbjogMHN0cmFuc2l0aW9uLXByb3BlcnR5OiBhbGx0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zaXRpb24tZGVsYXlcIixcbiAgICBcInN5bnRheFwiOiBcIjx0aW1lPiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBzXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiPHRpbWU+I1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMHNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPHNpbmdsZS10cmFuc2l0aW9uLXByb3BlcnR5PiPCoCBbIOKAmCzigJkgPHNpbmdsZS10cmFuc2l0aW9uLXByb3BlcnR5PiMgXSpcXG4gICAgXFxuICAgIHdoZXJlIDxzaW5nbGUtdHJhbnNpdGlvbi1wcm9wZXJ0eT4gPSBhbGwgfCBJREVOVFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYWxsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8dGltaW5nLWZ1bmN0aW9uPiNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImVhc2VcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2Zvcm1cIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8dHJhbnNmb3JtLWZ1bmN0aW9uPitcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidHJhbnNmb3JtLW9yaWdpblwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8cGVyY2VudGFnZT4gfCA8bGVuZ3RoPiB8IGxlZnQgfCBjZW50ZXIgfCByaWdodCB8IHRvcCB8IGJvdHRvbV0gfCBbIFsgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD4gfCBsZWZ0IHwgY2VudGVyIHwgcmlnaHQgXSAmJiBbIDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+IHwgdG9wIHwgY2VudGVyIHwgYm90dG9tIF0gXSA8bGVuZ3RoPj9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjUwJSA1MCUgMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0cmFuc2Zvcm0tc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcImZsYXQgfCBwcmVzZXJ2ZS0zZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiZmxhdFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwZXJzcGVjdGl2ZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IDxsZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBlcnNwZWN0aXZlLW9yaWdpblwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8cGVyY2VudGFnZT4gfCA8bGVuZ3RoPiB8IGxlZnQgfCBjZW50ZXIgfCByaWdodCB8IHRvcCB8IGJvdHRvbV0gfCBbIFsgPHBlcmNlbnRhZ2U+IHwgPGxlbmd0aD4gfCBsZWZ0IHwgY2VudGVyIHwgcmlnaHQgXSAmJiBbIDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+IHwgdG9wIHwgY2VudGVyIHwgYm90dG9tIF0gXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiNTAlIDUwJVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZmFjZS12aXNpYmlsaXR5XCIsXG4gICAgXCJzeW50YXhcIjogXCJ2aXNpYmxlIHwgaGlkZGVuXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ2aXNpYmxlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbG9yXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJWYXJpZXMgZnJvbSBvbmUgYnJvd3NlciB0byBhbm90aGVyXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvcGFjaXR5XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMS4wXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbnNcIixcbiAgICBcInN5bnRheFwiOiBcIjwnY29sdW1uLXdpZHRoJz4gfHwgPCdjb2x1bW4tY291bnQnPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmNvbHVtbi13aWR0aDogYXV0b2NvbHVtbi1jb3VudDogYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4td2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tY291bnRcIixcbiAgICBcInN5bnRheFwiOiBcIjxudW1iZXI+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tZ2FwXCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IG5vcm1hbFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvbHVtbi1ydWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8J2NvbHVtbi1ydWxlLXdpZHRoJz4gfHwgPCdjb2x1bW4tcnVsZS1zdHlsZSc+IHx8IDwnY29sdW1uLXJ1bGUtY29sb3InPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmNvbHVtbi1ydWxlLXdpZHRoOiBtZWRpdW1jb2x1bW4tcnVsZS1zdHlsZTogbm9uZWNvbHVtbi1ydWxlLWNvbG9yOiBjdXJyZW50Q29sb3JcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sdW1uLXJ1bGUtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tcnVsZS1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXN0eWxlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb2x1bW4tcnVsZS13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJyZWFrLWJlZm9yZVwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGFsd2F5cyB8IGF2b2lkIHwgbGVmdCB8IHJpZ2h0IHwgcGFnZSB8IGNvbHVtbiB8IGF2b2lkLXBhZ2UgfCBhdm9pZC1jb2x1bVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwicGFnZWRcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJyZWFrLWFmdGVyXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYWx3YXlzIHwgYXZvaWQgfCBsZWZ0IHwgcmlnaHQgfCBwYWdlIHwgY29sdW1uIHwgYXZvaWQtcGFnZSB8IGF2b2lkLWNvbHVtXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJwYWdlZFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYnJlYWstaW5zaWRlXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgYXZvaWQgfCBhdm9pZC1wYWdlIHwgYXZvaWQtY29sdW1uXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJwYWdlZFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sdW1uLXNwYW5cIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBhbGxcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29sdW1uLWZpbGxcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBiYWxhbmNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJiYWxhbmNlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGJ1dCwgaW4gY29udGludW91cyBtZWRpYSwgaGFzIG5vIGVmZmVjdCBpbiBvdmVyZmxvdyBjb2x1bW5zXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJoeXBoZW5zXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgbWFudWFsIHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWFudWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsZXR0ZXItc3BhY2luZ1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwid29yZC13cmFwXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBicmVhay13b3JkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm92ZXJmbG93LXdyYXBcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGJyZWFrLXdvcmRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC10cmFuc2Zvcm1cIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBjYXBpdGFsaXplIHwgdXBwZXJjYXNlIHwgbG93ZXJjYXNlIHwgZnVsbC13aWR0aFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGFiLXNpemVcIixcbiAgICBcInN5bnRheFwiOiBcInwgPGxlbmd0aFxcXCI+PGludGVnZXI+IHwgPGxlbmd0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjhcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtYWxpZ25cIixcbiAgICBcInN5bnRheFwiOiBcInN0YXJ0IHwgZW5kIHwgbGVmdCB8IHJpZ2h0IHwgY2VudGVyIHwganVzdGlmeSB8IG1hdGNoLXBhcmVudCB8IHN0YXJ0IGVuZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic3RhcnQsIG9yIGEgbmFtZWxlc3MgdmFsdWUgdGhhdCBhY3RzIGFzIGxlZnQgaWYgZGlyZWN0aW9uIGlzIGx0ciwgcmlnaHQgaWYgZGlyZWN0aW9uIGlzIHJ0bCBpZiBzdGFydCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLlwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1hbGlnbi1sYXN0XCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgc3RhcnQgfCBlbmQgfCBsZWZ0IHwgcmlnaHQgfCBjZW50ZXIgfCBqdXN0aWZ5XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWluZGVudFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gJiYgWyBoYW5naW5nIHx8IGVhY2gtbGluZSBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJkaXJlY3Rpb25cIixcbiAgICBcInN5bnRheFwiOiBcImx0ciB8IHJ0bFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibHRyXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3aGl0ZS1zcGFjZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgcHJlIHwgbm93cmFwIHwgcHJlLXdyYXAgfCBwcmUtbGluZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3b3JkLWJyZWFrXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBicmVhay1hbGwgfCBrZWVwLWFsbFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3b3JkLXNwYWNpbmdcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IDxsZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImxpbmUtYnJlYWtcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBsb29zZSB8IG5vcm1hbCB8IHN0cmljdFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWRlY29yYXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIjwndGV4dC1kZWNvcmF0aW9uLWxpbmUnPiB8fCA8J3RleHQtZGVjb3JhdGlvbi1zdHlsZSc+IHx8IDwndGV4dC1kZWNvcmF0aW9uLWNvbG9yJz5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczp0ZXh0LWRlY29yYXRpb24tY29sb3I6IGN1cnJlbnRDb2xvcnRleHQtZGVjb3JhdGlvbi1zdHlsZTogc29saWR0ZXh0LWRlY29yYXRpb24tbGluZTogbm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWRlY29yYXRpb24tY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWRlY29yYXRpb24tc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcInNvbGlkIHwgZG91YmxlIHwgZG90dGVkIHwgZGFzaGVkIHwgd2F2eVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic29saWRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1kZWNvcmF0aW9uLWxpbmVcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBbIHVuZGVybGluZSB8fCBvdmVybGluZSB8fCBsaW5lLXRocm91Z2ggfHwgYmxpbmsgXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LWRlY29yYXRpb24tc2tpcFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IFsgb2JqZWN0cyB8fCBzcGFjZXMgfHwgaW5rIHx8IGVkZ2VzIHx8IGJveC1kZWNvcmF0aW9uIF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm9iamVjdHNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtc2hhZG93XCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPHNoYWRvdy10PiNcXG4gICAgd2hlcmUgPHNoYWRvdy10PiA9IFsgPGxlbmd0aD57MiwzfSAmJiA8Y29sb3I+PyBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0ZXh0LXVuZGVybGluZS1wb3NpdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IFsgdW5kZXIgfHwgWyBsZWZ0IHwgcmlnaHQgXSBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbGlnbi1jb250ZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCJmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBzcGFjZS1iZXR3ZWVuIHwgc3BhY2UtYXJvdW5kIHwgc3RyZXRjaFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic3RyZXRjaFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJhbGlnbi1pdGVtc1wiLFxuICAgIFwic3ludGF4XCI6IFwiZmxleC1zdGFydCB8IGZsZXgtZW5kIHwgY2VudGVyIHwgYmFzZWxpbmUgfCBzdHJldGNoXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJzdHJldGNoXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImFsaWduLXNlbGZcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBiYXNlbGluZSB8IHN0cmV0Y2hcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZmxleC1iYXNpc1wiLFxuICAgIFwic3ludGF4XCI6IFwiY29udGVudCB8IDwnd2lkdGgnPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4LWRpcmVjdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwicm93IHwgcm93LXJldmVyc2UgfCBjb2x1bW4gfCBjb2x1bW4tcmV2ZXJzZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwicm93XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZsZXgtZmxvd1wiLFxuICAgIFwic3ludGF4XCI6IFwiPCdmbGV4LWRpcmVjdGlvbic+IHx8IDwnZmxleC13cmFwJz5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpmbGV4LWRpcmVjdGlvbjogcm93ZmxleC13cmFwOiBub3dyYXBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZmxleC1ncm93XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bnVtYmVyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbGV4LXNocmlua1wiLFxuICAgIFwic3ludGF4XCI6IFwiPG51bWJlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjFcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZmxleFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IFsgPCdmbGV4LWdyb3cnPiA8J2ZsZXgtc2hyaW5rJz4/IHx8IDwnZmxleC1iYXNpcyc+IF1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpmbGV4LWdyb3c6IDBmbGV4LXNocmluazogMWZsZXgtYmFzaXM6IGF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZmxleC13cmFwXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3dyYXAgfCB3cmFwIHwgd3JhcC1yZXZlcnNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3dyYXBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwianVzdGlmeS1jb250ZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCJmbGV4LXN0YXJ0IHwgZmxleC1lbmQgfCBjZW50ZXIgfCBzcGFjZS1iZXR3ZWVuIHwgc3BhY2UtYXJvdW5kXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJmbGV4LXN0YXJ0XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm9yZGVyXCIsXG4gICAgXCJzeW50YXhcIjogXCI8aW50ZWdlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZFwiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8YmctbGF5ZXI+ICwgXSogPGZpbmFsLWJnLWxheWVyPlxcbiAgICB3aGVyZSA8YmctbGF5ZXI+ID0gPGJnLWltYWdlPiB8fCA8cG9zaXRpb24+IFsgLyA8Ymctc2l6ZT4gXT8gfHwgPHJlcGVhdC1zdHlsZT4gfHwgPGF0dGFjaG1lbnQ+IHx8IDxib3g+ezEsMn1cXG4gICAgYW5kIDxmaW5hbC1iZy1sYXllcj4gPSA8YmctaW1hZ2U+IHx8IDxwb3NpdGlvbj4gWyAvIDxiZy1zaXplPiBdPyB8fCA8cmVwZWF0LXN0eWxlPiB8fCA8YXR0YWNobWVudD4gfHwgPGJveD57MSwyfSB8fCA8J2JhY2tncm91bmQtY29sb3InPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJhY2tncm91bmQtaW1hZ2U6IG5vbmViYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSAwJWJhY2tncm91bmQtc2l6ZTogYXV0byBhdXRvYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdGJhY2tncm91bmQtb3JpZ2luOiBwYWRkaW5nLWJveGJhY2tncm91bmQtc3R5bGU6IGlzIGl0c2VsZiBhIHNob3J0aGFuZCwgaXRzIGluaXRpYWwgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgaXRzIG93biBsb25naGFuZCBwcm9wZXJ0aWVzYmFja2dyb3VuZC1jbGlwOiBib3JkZXItYm94YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsXG4gICAgXCJzeW50YXhcIjogXCI8YXR0YWNobWVudD4jXFxuICAgIHdoZXJlIDxhdHRhY2htZW50PiA9IHNjcm9sbCB8IGZpeGVkIHwgbG9jYWxcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInNjcm9sbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLWNsaXBcIixcbiAgICBcInN5bnRheFwiOiBcIjxib3g+I1xcbiAgICB3aGVyZSA8Ym94PiA9IGJvcmRlci1ib3ggfCBwYWRkaW5nLWJveCB8IGNvbnRlbnQtYm94XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJib3JkZXItYm94XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRyYW5zcGFyZW50XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtaW1hZ2VcIixcbiAgICBcInN5bnRheFwiOiBcIjxiZy1pbWFnZT4jXFxuICAgIHdoZXJlIDxiZy1pbWFnZT4gPSBub25lIHwgPGltYWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLW9yaWdpblwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJveD4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJwYWRkaW5nLWJveFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8cG9zaXRpb24+I1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMCUgMCVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1yZXBlYXRcIixcbiAgICBcInN5bnRheFwiOiBcIjxyZXBlYXQtc3R5bGU+I1xcbiAgICB3aGVyZSA8cmVwZWF0LXN0eWxlPiA9IHJlcGVhdC14IHwgcmVwZWF0LXkgfCBbcmVwZWF0IHwgc3BhY2UgfCByb3VuZCB8IG5vLXJlcGVhdF17MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwicmVwZWF0XCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJhY2tncm91bmQtc2l6ZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJnLXNpemU+I1xcbiAgICB3aGVyZSA8Ymctc2l6ZT4gPSBbIDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0byBdezEsMn0gfCBjb3ZlciB8IGNvbnRhaW5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG8gYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXJcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD4gfHwgPGJyLXN0eWxlPiB8fCA8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXdpZHRoOiB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC13aWR0aDogbWVkaXVtYm9yZGVyLXJpZ2h0LXdpZHRoOiBtZWRpdW1ib3JkZXItYm90dG9tLXdpZHRoOiBtZWRpdW1ib3JkZXItbGVmdC13aWR0aDogbWVkaXVtYm9yZGVyLXN0eWxlOiB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC1zdHlsZTogbm9uZWJvcmRlci1yaWdodC1zdHlsZTogbm9uZWJvcmRlci1ib3R0b20tc3R5bGU6IG5vbmVib3JkZXItbGVmdC1zdHlsZTogbm9uZWJvcmRlci1jb2xvcjogdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci10b3AtY29sb3I6IGN1cnJlbnRDb2xvcmJvcmRlci1yaWdodC1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLWJvdHRvbS1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLWxlZnQtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItYm90dG9tXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+IHx8IDxici1zdHlsZT4gfHwgPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci1ib3R0b20td2lkdGg6IG1lZGl1bWJvcmRlci1ib3R0b20tc3R5bGU6IG5vbmVib3JkZXItYm90dG9tLWNvbG9yOiBjdXJyZW50Q29sb3JcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFxuICAgIFwic3ludGF4XCI6IFwiPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiY3VycmVudENvbG9yXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IF17MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItc3R5bGU+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1ib3R0b20td2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm1lZGl1bVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj57MSw0fVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci10b3AtY29sb3I6IGN1cnJlbnRDb2xvcmJvcmRlci1yaWdodC1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLWJvdHRvbS1jb2xvcjogY3VycmVudENvbG9yYm9yZGVyLWxlZnQtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItaW1hZ2VcIixcbiAgICBcInN5bnRheFwiOiBcIjwnYm9yZGVyLWltYWdlLXNvdXJjZSc+IHx8IDwnYm9yZGVyLWltYWdlLXNsaWNlJz4gWyAvIDwnYm9yZGVyLWltYWdlLXdpZHRoJz4gfCAvIDwnYm9yZGVyLWltYWdlLXdpZHRoJz4/IC8gPCdib3JkZXItaW1hZ2Utb3V0c2V0Jz4gXT8gfHwgPCdib3JkZXItaW1hZ2UtcmVwZWF0Jz5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItaW1hZ2Utc291cmNlOiBub25lYm9yZGVyLWltYWdlLXNsaWNlOiAxMDAlYm9yZGVyLWltYWdlLXdpZHRoOiAxYm9yZGVyLWltYWdlLW91dHNldDogMHNib3JkZXItaW1hZ2UtcmVwZWF0OiBzdHJldGNoXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZS1vdXRzZXRcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8bnVtYmVyPiBdezEsNH1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBzXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1pbWFnZS1yZXBlYXRcIixcbiAgICBcInN5bnRheFwiOiBcIlsgc3RyZXRjaCB8IHJlcGVhdCB8IHJvdW5kIF17MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic3RyZXRjaFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItaW1hZ2Utc2xpY2VcIixcbiAgICBcInN5bnRheFwiOiBcIls8bnVtYmVyPiB8IDxwZXJjZW50YWdlPl17MSw0fSAmJiBmaWxsP1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMTAwJVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItaW1hZ2Utc291cmNlXCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPGltYWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItaW1hZ2Utd2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCA8bnVtYmVyPiB8IGF1dG8gXXsxLDR9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIxXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1sZWZ0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+IHx8IDxici1zdHlsZT4gfHwgPGNvbG9yPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci1sZWZ0LXdpZHRoOiBtZWRpdW1ib3JkZXItbGVmdC1zdHlsZTogbm9uZWJvcmRlci1sZWZ0LWNvbG9yOiBjdXJyZW50Q29sb3JcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLWxlZnQtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItbGVmdC1zdHlsZVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXN0eWxlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItbGVmdC13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci1yYWRpdXNcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDR9IFsgLyBbIDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IF17MSw0fSBdP1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItcmlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD4gfHwgPGJyLXN0eWxlPiB8fCA8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXJpZ2h0LXdpZHRoOiBtZWRpdW1ib3JkZXItcmlnaHQtc3R5bGU6IG5vbmVib3JkZXItcmlnaHQtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItcmlnaHQtY29sb3JcIixcbiAgICBcInN5bnRheFwiOiBcIjxjb2xvcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItcmlnaHQtc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxici1zdHlsZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItd2lkdGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtZWRpdW1cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YnItc3R5bGU+ezEsNH1cXG4gICAgd2hlcmUgPGJyLXN0eWxlPiA9IG5vbmUgfCBoaWRkZW4gfCBkb3R0ZWQgfCBkYXNoZWQgfCBzb2xpZCB8IGRvdWJsZSB8IGdyb292ZSB8IHJpZGdlIHwgaW5zZXQgfCBvdXRzZXRcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpib3JkZXItdG9wLXN0eWxlOiBub25lYm9yZGVyLXJpZ2h0LXN0eWxlOiBub25lYm9yZGVyLWJvdHRvbS1zdHlsZTogbm9uZWJvcmRlci1sZWZ0LXN0eWxlOiBub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci10b3BcIixcbiAgICBcInN5bnRheFwiOiBcIjxici13aWR0aD4gfHwgPGJyLXN0eWxlPiB8fCA8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6Ym9yZGVyLXRvcC13aWR0aDogbWVkaXVtYm9yZGVyLXRvcC1zdHlsZTogbm9uZWJvcmRlci10b3AtY29sb3I6IGN1cnJlbnRDb2xvclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItdG9wLWNvbG9yXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Y29sb3I+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJjdXJyZW50Q29sb3JcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiBdezEsMn1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci10b3Atc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIjxici1zdHlsZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm9yZGVyLXRvcC13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJvcmRlci13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPnsxLDR9XFxuICAgIHdoZXJlIDxici13aWR0aD4gPSA8bGVuZ3RoPiB8IHRoaW4gfCBtZWRpdW0gfCB0aGlja1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOmJvcmRlci10b3Atd2lkdGg6IG1lZGl1bWJvcmRlci1yaWdodC13aWR0aDogbWVkaXVtYm9yZGVyLWJvdHRvbS13aWR0aDogbWVkaXVtYm9yZGVyLWxlZnQtd2lkdGg6IG1lZGl1bVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3gtZGVjb3JhdGlvbi1icmVha1wiLFxuICAgIFwic3ludGF4XCI6IFwic2xpY2UgfCBjbG9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic2xpY2VcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYm94LXNoYWRvd1wiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IDxzaGFkb3c+I1xcbiAgICB3aGVyZSA8c2hhZG93PiA9IGluc2V0PyAmJiBbIDxsZW5ndGg+ezIsNH0gJiYgPGNvbG9yPj8gXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXJnaW5cIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvIF17MSw0fVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOm1hcmdpbi1ib3R0b206IDBtYXJnaW4tbGVmdDogMG1hcmdpbi1yaWdodDogMG1hcmdpbi10b3A6IDBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWFyZ2luLWJvdHRvbVwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1hcmdpbi1sZWZ0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWFyZ2luLXJpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibWFyZ2luLXRvcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBhZGRpbmdcIixcbiAgICBcInN5bnRheFwiOiBcIlsgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gXXsxLDR9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6cGFkZGluZy1ib3R0b206IDBwYWRkaW5nLWxlZnQ6IDBwYWRkaW5nLXJpZ2h0OiAwcGFkZGluZy10b3A6IDBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFkZGluZy1ib3R0b21cIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInBhZGRpbmctbGVmdFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFkZGluZy1yaWdodFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFkZGluZy10b3BcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImJveC1zaXppbmdcIixcbiAgICBcInN5bnRheFwiOiBcImNvbnRlbnQtYm94IHwgcGFkZGluZy1ib3ggfCBib3JkZXItYm94XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJjb250ZW50LWJveFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXgtaGVpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IG5vbmUgfCBtYXgtY29udGVudCB8IG1pbi1jb250ZW50IHwgZml0LWNvbnRlbnQgfCBmaWxsLWF2YWlsYWJsZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtaW4taGVpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG8gfCBtYXgtY29udGVudCB8IG1pbi1jb250ZW50IHwgZml0LWNvbnRlbnQgfCBmaWxsLWF2YWlsYWJsZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJoZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJtYXgtd2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgbm9uZSB8IG1heC1jb250ZW50IHwgbWluLWNvbnRlbnQgfCBmaXQtY29udGVudCB8IGZpbGwtYXZhaWxhYmxlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1pbi13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gfCA8cGVyY2VudGFnZT4gfCBhdXRvIHwgbWF4LWNvbnRlbnQgfCBtaW4tY29udGVudCB8IGZpdC1jb250ZW50IHwgZmlsbC1hdmFpbGFibGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwid2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIls8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPl0gJiYgW2JvcmRlci1ib3ggfCBjb250ZW50LWJveF0/IHwgYXZhaWxhYmxlIHwgbWluLWNvbnRlbnQgfCBtYXgtY29udGVudCB8IGZpdC1jb250ZW50IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdmVyZmxvd1wiLFxuICAgIFwic3ludGF4XCI6IFwidmlzaWJsZSB8IGhpZGRlbiB8IHNjcm9sbCB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInZpc2libGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3ZlcmZsb3cteFwiLFxuICAgIFwic3ludGF4XCI6IFwidmlzaWJsZSB8IGhpZGRlbiB8IHNjcm9sbCB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInZpc2libGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3ZlcmZsb3cteVwiLFxuICAgIFwic3ludGF4XCI6IFwidmlzaWJsZSB8IGhpZGRlbiB8IHNjcm9sbCB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInZpc2libGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidmlzaWJpbGl0eVwiLFxuICAgIFwic3ludGF4XCI6IFwidmlzaWJsZSB8IGhpZGRlbiB8IGNvbGxhcHNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ2aXNpYmxlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItY29sbGFwc2VcIixcbiAgICBcInN5bnRheFwiOiBcImNvbGxhcHNlIHwgc2VwYXJhdGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInNlcGFyYXRlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3JkZXItc3BhY2luZ1wiLFxuICAgIFwic3ludGF4XCI6IFwiPGxlbmd0aD4gPGxlbmd0aD4/XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjYXB0aW9uLXNpZGVcIixcbiAgICBcInN5bnRheFwiOiBcInRvcCB8IGJvdHRvbVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidG9wXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJlbXB0eS1jZWxsc1wiLFxuICAgIFwic3ludGF4XCI6IFwic2hvdyB8IGhpZGVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInNob3dcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRhYmxlLWxheW91dFwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGZpeGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInZlcnRpY2FsLWFsaWduXCIsXG4gICAgXCJzeW50YXhcIjogXCJiYXNlbGluZSB8IHN1YiB8IHN1cGVyIHwgdGV4dC10b3AgfCB0ZXh0LWJvdHRvbSB8IG1pZGRsZSB8IHRvcCB8IGJvdHRvbSB8IDxwZXJjZW50YWdlPiB8IDxsZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJiYXNlbGluZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3R0b21cIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsZWZ0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8bGVuZ3RoPiB8IDxwZXJjZW50YWdlPiB8IGF1dG9cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicmlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0b3BcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+IHwgYXV0b1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmbG9hdFwiLFxuICAgIFwic3ludGF4XCI6IFwibGVmdCB8IHJpZ2h0IHwgbm9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjbGVhclwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IGxlZnQgfCByaWdodCB8IGJvdGhcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicG9zaXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcInN0YXRpYyB8IHJlbGF0aXZlIHwgYWJzb2x1dGUgfCBzdGlja3kgfCBmaXhlZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic3RhdGljXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInotaW5kZXhcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8aW50ZWdlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udFwiLFxuICAgIFwic3ludGF4XCI6IFwiWyBbIDzigJhmb250LXN0eWxl4oCZPiB8fCA8Zm9udC12YXJpYW50LWNzczIxPiB8fCA84oCYZm9udC13ZWlnaHTigJk+IHx8IDzigJhmb250LXN0cmV0Y2jigJk+IF0/IDzigJhmb250LXNpemXigJk+IFsgLyA84oCYbGluZS1oZWlnaHTigJk+IF0/IDzigJhmb250LWZhbWlseeKAmT4gXSB8IGNhcHRpb24gfCBpY29uIHwgbWVudSB8IG1lc3NhZ2UtYm94IHwgc21hbGwtY2FwdGlvbiB8IHN0YXR1cy1iYXJcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcInRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZSBpbml0aWFsIHZhbHVlcyBvZiBpdHMgbG9uZ2hhbmQgcHJvcGVydGllczpmb250LXN0eWxlOiBub3JtYWxmb250LXZhcmlhbnQ6IG5vcm1hbGZvbnQtd2VpZ2h0OiBub3JtYWxmb250LXN0cmV0Y2g6IG5vcm1hbGZvbnQtc2l6ZTogbWVkaXVtbGluZS1oZWlnaHQ6IG5vcm1hbGZvbnQtZmFtaWx5OiBkZXBlbmRzIG9uIHVzZXIgYWdlbnRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtZmFtaWx5XCIsXG4gICAgXCJzeW50YXhcIjogXCJbIDxmYW1pbHktbmFtZT4gfCA8Z2VuZXJpYy1mYW1pbHk+IF0jXFxuICAgIHdoZXJlIDxmYW1pbHktbmFtZT4gPSA8c3RyaW5nPiB8IDxJREVOVD4rXFxuICAgIGFuZCA8Z2VuZXJpYy1uYW1lPiA9IHNlcmlmIHwgc2Fucy1zZXJpZiB8IGN1cnNpdmUgfCBmYW50YXN5IHwgbW9ub3NwYWNlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJkZXBlbmRzIG9uIHVzZXIgYWdlbnRcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgbm9uZSB8IFsgPGNvbW1vbi1saWctdmFsdWVzPiB8fCA8ZGlzY3JldGlvbmFyeS1saWctdmFsdWVzPiB8fCA8aGlzdG9yaWNhbC1saWctdmFsdWVzPiB8fCA8Y29udGV4dHVhbC1hbHQtdmFsdWVzPiB8fCBzdHlsaXN0aWMoPGZlYXR1cmUtdmFsdWUtbmFtZT4pIHx8IGhpc3RvcmljYWwtZm9ybXMgfHwgc3R5bGVzZXQoPGZlYXR1cmUtdmFsdWUtbmFtZT4gIykgfHwgY2hhcmFjdGVyLXZhcmlhbnQoPGZlYXR1cmUtdmFsdWUtbmFtZT4gIykgfHwgc3dhc2goPGZlYXR1cmUtdmFsdWUtbmFtZT4pIHx8IG9ybmFtZW50cyg8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgYW5ub3RhdGlvbig8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgWyBzbWFsbC1jYXBzIHwgYWxsLXNtYWxsLWNhcHMgfCBwZXRpdGUtY2FwcyB8IGFsbC1wZXRpdGUtY2FwcyB8IHVuaWNhc2UgfCB0aXRsaW5nLWNhcHMgXSB8fCA8bnVtZXJpYy1maWd1cmUtdmFsdWVzPiB8fCA8bnVtZXJpYy1zcGFjaW5nLXZhbHVlcz4gfHwgPG51bWVyaWMtZnJhY3Rpb24tdmFsdWVzPiB8fCBvcmRpbmFsIHx8IHNsYXNoZWQtemVybyB8fCA8ZWFzdC1hc2lhbi12YXJpYW50LXZhbHVlcz4gfHwgPGVhc3QtYXNpYW4td2lkdGgtdmFsdWVzPiB8fCBydWJ5IF0gXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtd2VpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBib2xkIHwgYm9sZGVyIHwgbGlnaHRlciB8IDEwMCB8IDIwMCB8IDMwMCB8IDQwMCB8IDUwMCB8IDYwMCB8IDcwMCB8IDgwMCB8IDkwMFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXN0cmV0Y2hcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IHVsdHJhLWNvbmRlbnNlZCB8IGV4dHJhLWNvbmRlbnNlZCB8IGNvbmRlbnNlZCB8IHNlbWktY29uZGVuc2VkIHwgc2VtaS1leHBhbmRlZCB8IGV4cGFuZGVkIHwgZXh0cmEtZXhwYW5kZWQgfCB1bHRyYS1leHBhbmRlZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXNpemVcIixcbiAgICBcInN5bnRheFwiOiBcIjxhYnNvbHV0ZS1zaXplPiB8IDxyZWxhdGl2ZS1zaXplPiB8IDxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XFxuICAgIHdoZXJlIDxhYnNvbHV0ZS1zaXplPiA9IHh4LXNtYWxsIHwgcy1zbWFsbCB8IHNtYWxsIHwgbWVkaXVtIHwgbGFyZ2UgfCB4LWxhcmdlIHwgeHgtbGFyZ2VcXG4gICAgYW5kIDxyZWxhdGl2ZS1zaXplPiA9IGxhcmdlciB8IHNtYWxsZXJcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm1lZGl1bVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibGluZS1oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IDxudW1iZXI+IHwgPGxlbmd0aD4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC1mZWF0dXJlLXNldHRpbmdzXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCA8ZmVhdHVyZS10YWctdmFsdWU+I1xcbiAgICB3aGVyZSA8ZmVhdHVyZS10YWctdmFsdWU+ID0gPHN0cmluZz4gWyA8aW50ZWdlcj4gfCBvbiB8IG9mZiBdP1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LWxhbmd1YWdlLW92ZXJyaWRlXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCA8c3RyaW5nPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXNpemUtYWRqdXN0XCIsXG4gICAgXCJzeW50YXhcIjogXCJub25lIHwgPG51bWJlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtc3R5bGVcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IGl0YWxpYyB8IG9ibGlxdWVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC1zeW50aGVzaXNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBbIHdlaWdodCB8fCBzdHlsZSBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ3ZWlnaHQgc3R5bGVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQta2VybmluZ1wiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IG5vcm1hbCB8IG5vbmVcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudC1saWdhdHVyZXNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IG5vbmUgfCBbIDxjb21tb24tbGlnLXZhbHVlcz4gfHwgPGRpc2NyZXRpb25hcnktbGlnLXZhbHVlcz4gfHwgPGhpc3RvcmljYWwtbGlnLXZhbHVlcz4gfHwgPGNvbnRleHR1YWwtYWx0LXZhbHVlcz4gXVxcbiAgICB3aGVyZSA8Y29tbW9uLWxpZy12YWx1ZXM+ID0gWyBjb21tb24tbGlnYXR1cmVzIHwgbm8tY29tbW9uLWxpZ2F0dXJlcyBdXFxuICAgIGFuZCA8ZGlzY3JldGlvbmFyeS1saWctdmFsdWVzPiA9IFsgZGlzY3JldGlvbmFyeS1saWdhdHVyZXMgfCBuby1kaXNjcmV0aW9uYXJ5LWxpZ2F0dXJlcyBdXFxuICAgIGFuZCA8aGlzdG9yaWNhbC1saWctdmFsdWVzPiA9IFsgaGlzdG9yaWNhbC1saWdhdHVyZXMgfCBuby1oaXN0b3JpY2FsLWxpZ2F0dXJlcyBdXFxuICAgIGFuZCA8Y29udGV4dHVhbC1hbHQtdmFsdWVzPiA9IFsgY29udGV4dHVhbCB8IG5vLWNvbnRleHR1YWwgXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXZhcmlhbnQtcG9zaXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IHN1YiB8IHN1cGVyXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudC1jYXBzXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBzbWFsbC1jYXBzIHwgYWxsLXNtYWxsLWNhcHMgfCBwZXRpdGUtY2FwcyB8IGFsbC1wZXRpdGUtY2FwcyB8IHVuaWNhc2UgfCB0aXRsaW5nLWNhcHNcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiZm9udC12YXJpYW50LW51bWVyaWNcIixcbiAgICBcInN5bnRheFwiOiBcIm5vcm1hbCB8IFsgPG51bWVyaWMtZmlndXJlLXZhbHVlcz4gfHwgPG51bWVyaWMtc3BhY2luZy12YWx1ZXM+IHx8IDxudW1lcmljLWZyYWN0aW9uLXZhbHVlcz4gfHwgb3JkaW5hbCB8fCBzbGFzaGVkLXplcm8gXVxcbiAgICB3aGVyZSA8bnVtZXJpYy1maWd1cmUtdmFsdWVzPiA9IFsgbGluaW5nLW51bXMgfCBvbGRzdHlsZS1udW1zIF1cXG4gICAgYW5kIDxudW1lcmljLXNwYWNpbmctdmFsdWVzPiA9IFsgcHJvcG9ydGlvbmFsLW51bXMgfCB0YWJ1bGFyLW51bXMgXVxcbiAgICBhbmQgPG51bWVyaWMtZnJhY3Rpb24tdmFsdWVzPiA9IFsgZGlhZ29uYWwtZnJhY3Rpb25zIHwgc3RhY2tlZC1mcmFjdGlvbnMgXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJmb250LXZhcmlhbnQtZWFzdC1hc2lhblwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgWyA8ZWFzdC1hc2lhbi12YXJpYW50LXZhbHVlcz4gfHwgPGVhc3QtYXNpYW4td2lkdGgtdmFsdWVzPiB8fCBydWJ5IF0gXFxuICAgIHdoZXJlIDxlYXN0LWFzaWFuLXZhcmlhbnQtdmFsdWVzPiA9IFsgamlzNzggfCBqaXM4MyB8IGppczkwIHwgamlzMDQgfCBzaW1wbGlmaWVkIHwgdHJhZGl0aW9uYWwgXVxcbiAgICBhbmQgPGVhc3QtYXNpYW4td2lkdGgtdmFsdWVzPiA9IFsgZnVsbC13aWR0aCB8IHByb3BvcnRpb25hbC13aWR0aCBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImZvbnQtdmFyaWFudC1hbHRlcm5hdGVzXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBbIHN0eWxpc3RpYyg8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgaGlzdG9yaWNhbC1mb3JtcyB8fCBzdHlsZXNldCg8ZmVhdHVyZS12YWx1ZS1uYW1lPiAjKSB8fCBjaGFyYWN0ZXItdmFyaWFudCg8ZmVhdHVyZS12YWx1ZS1uYW1lPiAjKSB8fCBzd2FzaCg8ZmVhdHVyZS12YWx1ZS1uYW1lPikgfHwgb3JuYW1lbnRzKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSB8fCBhbm5vdGF0aW9uKDxmZWF0dXJlLXZhbHVlLW5hbWU+KSBdIFxcbiAgICB3aGVyZSA8ZmVhdHVyZS12YWx1ZS1uYW1lPiA9IElERU5UXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm9iamVjdC1maXRcIixcbiAgICBcInN5bnRheFwiOiBcImZpbGwgfCBjb250YWluIHwgY292ZXIgfCBub25lIHwgc2NhbGUtZG93blwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiZmlsbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib2JqZWN0LXBvc2l0aW9uXCIsXG4gICAgXCJzeW50YXhcIjogXCI8cG9zaXRpb24+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCI1MCUgNTAlXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJpbWFnZS1yZW5kZXJpbmdcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBjcmlzcC1lZGdlcyB8IHBpeGVsYXRlZFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiaW1hZ2Utb3JpZW50YXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcImZyb20taW1hZ2UgfCA8YW5nbGU+IHwgWzxhbmdsZT4/IGZsaXBdXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwZGVnXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjb3VudGVyLWluY3JlbWVudFwiLFxuICAgIFwic3ludGF4XCI6IFwiWzx1c2VyLWlkZW50PiA8aW50ZWdlcj4/XSsgfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub25lXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJhbGxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImNvdW50ZXItcmVzZXRcIixcbiAgICBcInN5bnRheFwiOiBcIls8dXNlci1pZGVudD4gPGludGVnZXI+P10rIHwgbm9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwiYWxsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJsaXN0LXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8J2xpc3Qtc3R5bGUtdHlwZSc+IHx8IDwnbGlzdC1zdHlsZS1wb3NpdGlvbic+IHx8IDwnbGlzdC1zdHlsZS1pbWFnZSc+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6bGlzdC1zdHlsZS10eXBlOiBkaXNjbGlzdC1zdHlsZS1wb3NpdGlvbjogb3V0c2lkZWxpc3Qtc3R5bGUtaW1hZ2U6IG5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcInllc1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImxpc3Qtc3R5bGUtaW1hZ2VcIixcbiAgICBcInN5bnRheFwiOiBcIjx1cmk+IHwgbm9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibGlzdC1zdHlsZS1wb3NpdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiaW5zaWRlIHwgb3V0c2lkZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwib3V0c2lkZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwibGlzdC1zdHlsZS10eXBlXCIsXG4gICAgXCJzeW50YXhcIjogXCJkaXNjIHwgY2lyY2xlIHwgc3F1YXJlIHwgZGVjaW1hbCB8IGRlY2ltYWwtbGVhZGluZy16ZXJvIHwgbG93ZXItcm9tYW4gfCB1cHBlci1yb21hbiB8IGxvd2VyLWdyZWVrIHwgbG93ZXItbGF0aW4gfCB1cHBlci1sYXRpbiB8IGFybWVuaWFuIHwgZ2VvcmdpYW4gfCBsb3dlci1hbHBoYSB8IHVwcGVyLWFscGhhIHwgbm9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiZGlzY1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3JwaGFuc1wiLFxuICAgIFwic3ludGF4XCI6IFwiPGludGVnZXI+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIyXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBwYWdlZFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwicGFnZS1icmVhay1hZnRlclwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGFsd2F5cyB8IGF2b2lkIHwgbGVmdCB8IHJpZ2h0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIHBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWdlLWJyZWFrLWJlZm9yZVwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGFsd2F5cyB8IGF2b2lkIHwgbGVmdCB8IHJpZ2h0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIHBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJwYWdlLWJyZWFrLWluc2lkZVwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IGF2b2lkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIHBhZ2VkXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ3aWRvd3NcIixcbiAgICBcInN5bnRheFwiOiBcIjxpbnRlZ2VyPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiMlwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgcGFnZWRcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm91dGxpbmVcIixcbiAgICBcInN5bnRheFwiOiBcIjwnb3V0bGluZS1jb2xvcic+IHx8IDwnb3V0bGluZS1zdHlsZSc+IHx8IDwnb3V0bGluZS13aWR0aCc+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6b3V0bGluZS1jb2xvcjogaW52ZXJ0LCBmb3IgYnJvd3NlcnMgc3VwcG9ydGluZyBpdCwgY3VycmVudENvbG9yIGZvciB0aGUgb3RoZXJvdXRsaW5lLXN0eWxlOiBub25lb3V0bGluZS13aWR0aDogbWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdXRsaW5lLWNvbG9yXCIsXG4gICAgXCJzeW50YXhcIjogXCI8Y29sb3I+IHwgaW52ZXJ0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJpbnZlcnQsIGZvciBicm93c2VycyBzdXBwb3J0aW5nIGl0LCBjdXJyZW50Q29sb3IgZm9yIHRoZSBvdGhlclwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3V0bGluZS13aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPGJyLXdpZHRoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibWVkaXVtXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJvdXRsaW5lLXN0eWxlXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgPGJyLXN0eWxlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwib3V0bGluZS1vZmZzZXRcIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGludGVyYWN0aXZlXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJjdXJzb3JcIixcbiAgICBcInN5bnRheFwiOiBcIlsgWyA8dXJpPiBbPHg+IDx5Pl0/LF0qIFsgYXV0byB8IGRlZmF1bHQgfCBub25lIHwgY29udGV4dC1tZW51IHwgaGVscCB8IHBvaW50ZXIgfCBwcm9ncmVzcyB8IHdhaXQgfCBjZWxsIHwgY3Jvc3NoYWlyIHwgdGV4dCB8IHZlcnRpY2FsLXRleHQgfCBhbGlhcyB8IGNvcHkgfCBtb3ZlIHwgbm8tZHJvcCB8IG5vdC1hbGxvd2VkIHwgZS1yZXNpemUgfCBuLXJlc2l6ZSB8IG5lLXJlc2l6ZSB8IG53LXJlc2l6ZSB8IHMtcmVzaXplIHwgc2UtcmVzaXplIHwgc3ctcmVzaXplIHwgdy1yZXNpemUgfCBldy1yZXNpemUgfCBucy1yZXNpemUgfCBuZXN3LXJlc2l6ZSB8IG53c2UtcmVzaXplIHwgY29sLXJlc2l6ZSB8IHJvdy1yZXNpemUgfCBhbGwtc2Nyb2xsIHwgem9vbS1pbiB8IHpvb20tb3V0IHwgZ3JhYiB8IGdyYWJiaW5nIF0gXVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgaW50ZXJhY3RpdmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInJlc2l6ZVwiLFxuICAgIFwic3ludGF4XCI6IFwibm9uZSB8IGJvdGggfCBob3Jpem9udGFsIHwgdmVydGljYWxcIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidGV4dC1vdmVyZmxvd1wiLFxuICAgIFwic3ludGF4XCI6IFwiWyBjbGlwIHwgZWxsaXBzaXMgfCA8c3RyaW5nPiBdezEsMn1cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImNsaXBcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY29udGVudFwiLFxuICAgIFwic3ludGF4XCI6IFwibm9ybWFsIHwgbm9uZSB8IFsgPHN0cmluZz4gfCA8dXJpPiB8IDxjb3VudGVyPiB8IGF0dHIoKSB8IG9wZW4tcXVvdGUgfCBjbG9zZS1xdW90ZSB8IG5vLW9wZW4tcXVvdGUgfCBuby1jbG9zZS1xdW90ZSBdK1wiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJhbGxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInF1b3Rlc1wiLFxuICAgIFwic3ludGF4XCI6IFwiWzxzdHJpbmc+IDxzdHJpbmc+XSsgfCBub25lXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ1c2VyIGFnZW50IHNwZWNpZmljXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJ5ZXNcIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJib3gtZGVjb3JhdGlvbi1icmVha1wiLFxuICAgIFwic3ludGF4XCI6IFwic2xpY2UgfCBjbG9uZVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwic2xpY2VcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiY2xpcFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHNoYXBlPiB8IGF1dG9cXG4gICAgd2hlcmUgPHNoYXBlPiA9IHJlY3QoPHRvcD4sIDxyaWdodD4sIDxib3R0b20+LCA8bGVmdD4pXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcImRpc3BsYXlcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCBpbmxpbmUgfCBibG9jayB8IGxpc3QtaXRlbSB8IGlubGluZS1ibG9jayB8IGlubGluZS10YWJsZSB8IHRhYmxlIHwgdGFibGUtY2VsbCB8IHRhYmxlLWNvbHVtbiB8IHRhYmxlLWNvbHVtbi1ncm91cCB8IHRhYmxlLWZvb3Rlci1ncm91cCB8IHRhYmxlLWhlYWRlci1ncm91cCB8IHRhYmxlLXJvdyB8IHRhYmxlLXJvdy1ncm91cCB8IGZsZXggfCBpbmxpbmUtZmxleCB8IGdyaWQgfCBpbmxpbmUtZ3JpZCB8IHJ1bi1pbiB8IHJ1YnkgfCBydWJ5LWJhc2UgfCBydWJ5LXRleHQgfCBydWJ5LWJhc2UtY29udGFpbmVyIHwgcnVieS10ZXh0LWNvbnRhaW5lciB8IGNvbnRlbnRzXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJpbmxpbmVcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImFsbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwidW5pY29kZS1iaWRpXCIsXG4gICAgXCJzeW50YXhcIjogXCJub3JtYWwgfCBlbWJlZCB8IGlzb2xhdGUgfCBiaWRpLW92ZXJyaWRlIHwgaXNvbGF0ZS1vdmVycmlkZSB8IHBsYWludGV4dFwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9ybWFsXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInRleHQtb3JpZW50YXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcIm1peGVkIHwgdXByaWdodCB8IHNpZGV3YXlzLXJpZ2h0IHwgc2lkZXdheXMtbGVmdCB8IHNpZGV3YXlzIHwgdXNlLWdseXBoLW9yaWVudGF0aW9uXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJtaXhlZFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwieWVzXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiaW1lLW1vZGVcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBub3JtYWwgfCBhY3RpdmUgfCBpbmFjdGl2ZSB8IGRpc2FibGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJpbnRlcmFjdGl2ZVwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYWxsXCIsXG4gICAgXCJzeW50YXhcIjogXCJpbml0aWFsIHwgaW5oZXJpdCB8IHVuc2V0XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJUaGVyZSBpcyBubyBwcmFjdGljYWwgaW5pdGlhbCB2YWx1ZSBmb3IgaXQuXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJUaGVyZSBpcyBubyBwcmFjdGljYWwgbWVkaWEgZm9yIGl0LlwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwid2lsbC1jaGFuZ2VcIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCA8YW5pbWF0ZWFibGUtZmVhdHVyZT4jXFxuICAgIHdoZXJlIDxhbmltYXRlYWJsZS1mZWF0dXJlPiA9IHNjcm9sbC1wb3NpdGlvbiB8IGNvbnRlbnRzIHwgPGN1c3RvbS1pZGVudD5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcImFsbFwiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiYmFja2dyb3VuZC1ibGVuZC1tb2RlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YmxlbmQtbW9kZT4jXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJub3JtYWxcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcIm5vbmVcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIm1peC1ibGVuZC1tb2RlXCIsXG4gICAgXCJzeW50YXhcIjogXCI8YmxlbmQtbW9kZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIm5vcm1hbFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJpc29sYXRpb25cIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBpc29sYXRlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInNoYXBlLW91dHNpZGVcIixcbiAgICBcInN5bnRheFwiOiBcIm5vbmUgfCA8c2hhcGUtYm94PiB8fCA8YmFzaWMtc2hhcGU+IHwgPGltYWdlPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwibm9uZVwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJzaGFwZS1tYXJnaW5cIixcbiAgICBcInN5bnRheFwiOiBcIjxsZW5ndGg+IHwgPHBlcmNlbnRhZ2U+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCIwXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcInNoYXBlLWltYWdlLXRocmVzaG9sZFwiLFxuICAgIFwic3ludGF4XCI6IFwiPG51bWJlcj5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcIjAuMFwiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJ0b3VjaC1hY3Rpb25cIixcbiAgICBcInN5bnRheFwiOiBcImF1dG8gfCBub25lIHwgWyBwYW4teCB8fCBwYW4teSBdIHwgbWFuaXB1bGF0aW9uXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWxcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC9taW4td2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjx2aWV3cG9ydC1sZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC9tYXgtd2lkdGhcIixcbiAgICBcInN5bnRheFwiOiBcIjx2aWV3cG9ydC1sZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC93aWR0aFwiLFxuICAgIFwic3ludGF4XCI6IFwiPHZpZXdwb3J0LWxlbmd0aD57MSwyfVwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwidGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluaXRpYWwgdmFsdWVzIG9mIGl0cyBsb25naGFuZCBwcm9wZXJ0aWVzOkB2aWV3cG9ydC9taW4td2lkdGg6IGlzIGl0c2VsZiBhIHNob3J0aGFuZCwgaXRzIGluaXRpYWwgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgaXRzIG93biBsb25naGFuZCBwcm9wZXJ0aWVzQHZpZXdwb3J0L21heC13aWR0aDogaXMgaXRzZWxmIGEgc2hvcnRoYW5kLCBpdHMgaW5pdGlhbCB2YWx1ZSBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBpdHMgb3duIGxvbmdoYW5kIHByb3BlcnRpZXNcIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21pbi1oZWlnaHRcIixcbiAgICBcInN5bnRheFwiOiBcIjx2aWV3cG9ydC1sZW5ndGg+XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC9tYXgtaGVpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8dmlld3BvcnQtbGVuZ3RoPlwiLFxuICAgIFwiaW5pdGlhbFZhbHVlXCI6IFwiYXV0b1wiLFxuICAgIFwiaW5oZXJpdGVkXCI6IFwibm9cIixcbiAgICBcIm1lZGlhXCI6IFwidmlzdWFsLCBjb250aW51b3VzXCJcbiAgfSxcbiAge1xuICAgIFwicHJvcGVydHlcIjogXCJAdmlld3BvcnQvaGVpZ2h0XCIsXG4gICAgXCJzeW50YXhcIjogXCI8dmlld3BvcnQtbGVuZ3RoPnsxLDJ9XCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgaXRzIGxvbmdoYW5kIHByb3BlcnRpZXM6QHZpZXdwb3J0L21pbi1oZWlnaHQ6IGlzIGl0c2VsZiBhIHNob3J0aGFuZCwgaXRzIGluaXRpYWwgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgaXRzIG93biBsb25naGFuZCBwcm9wZXJ0aWVzQHZpZXdwb3J0L21heC1oZWlnaHQ6IGlzIGl0c2VsZiBhIHNob3J0aGFuZCwgaXRzIGluaXRpYWwgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgaXRzIG93biBsb25naGFuZCBwcm9wZXJ0aWVzXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC96b29tXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgPG51bWJlcj4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21pbi16b29tXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgPG51bWJlcj4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L21heC16b29tXCIsXG4gICAgXCJzeW50YXhcIjogXCJhdXRvIHwgPG51bWJlcj4gfCA8cGVyY2VudGFnZT5cIixcbiAgICBcImluaXRpYWxWYWx1ZVwiOiBcImF1dG9cIixcbiAgICBcImluaGVyaXRlZFwiOiBcIm5vXCIsXG4gICAgXCJtZWRpYVwiOiBcInZpc3VhbCwgY29udGludW91c1wiXG4gIH0sXG4gIHtcbiAgICBcInByb3BlcnR5XCI6IFwiQHZpZXdwb3J0L3VzZXItem9vbVwiLFxuICAgIFwic3ludGF4XCI6IFwiem9vbSB8IGZpeGVkXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJ6b29tXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9LFxuICB7XG4gICAgXCJwcm9wZXJ0eVwiOiBcIkB2aWV3cG9ydC9vcmllbnRhdGlvblwiLFxuICAgIFwic3ludGF4XCI6IFwiYXV0byB8IHBvcnRyYWl0IHwgbGFuZHNjYXBlXCIsXG4gICAgXCJpbml0aWFsVmFsdWVcIjogXCJhdXRvXCIsXG4gICAgXCJpbmhlcml0ZWRcIjogXCJub1wiLFxuICAgIFwibWVkaWFcIjogXCJ2aXN1YWwsIGNvbnRpbnVvdXNcIlxuICB9XG5dO30iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvRGlhbG9nJyk7XG52YXIgVW5pdElucHV0ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvVW5pdElucHV0Jyk7XG52YXIgU3RyaW5nSW5wdXQgPSByZXF1aXJlKCcuLi8uLi91dGlscy9TdHJpbmdJbnB1dCcpO1xudmFyIE9wdGlvbkxpbmUgPSByZXF1aXJlKCcuLi8uLi91dGlscy9PcHRpb25MaW5lJyk7XG5cbnZhciBkZVNlbGVjdG9yQ29udCxcbiAgICBkZVNlbGVjdG9ycyA9IFtdLFxuICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuICAgICAgICB0aXRsZTogJ1RyYWNrJyxcbiAgICB9KTsgXG5tb2R1bGUuZXhwb3J0cyA9IGRpYWxvZztcblxuY3JlYXRlQ29udGVudCgpO1xuZGlhbG9nLmFkZEJ1dHRvbignb2snLCAnaGlkZScpO1xuXG5cblxuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncmVwZWF0Jywgc3RhcnRWYWx1ZTogMH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncmVwZWF0RGVsYXknLCBzdGFydFZhbHVlOiAwfSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICd5b3lvJywgc3RhcnRWYWx1ZTogZmFsc2V9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ2tleVN0cmV0Y2gnLCBzdGFydFZhbHVlOiAxfSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe1xuICAgIG5hbWU6ICdzZWxlY3RvcnMnLCBcbiAgICBzdGFydFZhbHVlOiBbXSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgZGVTZWxlY3RvcnMuc2xpY2UoKS5tYXAocmVtb3ZlU2VsZWN0b3IpO1xuICAgICAgICB2LmZvckVhY2goYWRkU2VsZWN0b3IpO1xuICAgICAgICBkaWFsb2cuZW1pdCgnY2hhbmdlU2VsZWN0b3JzJywgZGlhbG9nLnNlbGVjdG9ycyk7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF8ucGx1Y2soZGVTZWxlY3RvcnMsICd2YWx1ZScpOyBcbiAgICB9XG59KTtcblxuXG5mdW5jdGlvbiBjcmVhdGVDb250ZW50KCkge1xuXG4gICAgYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBjYXB0aW9uOiAnTmFtZTogJyxcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50XG4gICAgfSk7XG5cbiAgICB2YXIgaW5wVGl0bGUgPSBuZXcgU3RyaW5nSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgfSk7XG4gICAgaW5wVGl0bGUuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcyNDVweCc7XG4gICAgaW5wVGl0bGUuZG9tRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JztcbiAgICBpbnBUaXRsZS5kb21FbGVtLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICBpbnBUaXRsZS5kb21FbGVtLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgaW5wVGl0bGUuZG9tRWxlbS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgaW5wVGl0bGUuZG9tRWxlbS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTJweCc7XG4gICAgaW5wVGl0bGUuZG9tRWxlbS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG4gICAgaW5wVGl0bGUub24oJ2NoYW5nZScsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGRpYWxvZy50aXRsZSA9IHY7XG4gICAgfSk7XG4gICAgZGlhbG9nLm9uKCdjaGFuZ2VUaXRsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5wVGl0bGUudmFsdWUgPSBkaWFsb2cudGl0bGU7XG4gICAgfSk7XG5cbiAgICBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIGNhcHRpb246ICdTZWxlY3RvcnMnLFxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnRcbiAgICB9KTtcblxuICAgIGRlU2VsZWN0b3JDb250ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgIH0pO1xuXG4gICAgYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdoYXNoJyxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIG9uQ2xpY2s6IGFkZFNlbGVjdG9yLmJpbmQobnVsbCwgJycpLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnRcbiAgICB9KTtcblxuICAgIGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBpY29uOiAnY29kZScsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7YW0uZGlhbG9ncy5XSVAuc2hvdygpO30sXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgdG9vbHRpcDogJ3NlbGVjdCBmcm9tIG9wdGlvbnMnXG4gICAgfSk7XG5cbiAgICBhbWd1aS5jcmVhdGVMaW5lYnJlYWsoe3BhcmVudDogZGlhbG9nLmRlQ29udGVudH0pO1xuXG4gICAgdmFyIG9wdFJlcGVhdCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdyZXBlYXQnLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICd1bml0JyxcbiAgICAgICAgICAgIG5hbWU6ICdyZXBlYXQnLFxuICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgIHVuaXRzOiBbJ3gnXSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGRpYWxvZy5yZXBlYXQgPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSxcbiAgICB9KTtcbiAgICBkaWFsb2cub24oJ2NoYW5nZVJlcGVhdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0UmVwZWF0LmlucHV0cy5yZXBlYXQudmFsdWUgPSBkaWFsb2cucmVwZWF0O1xuICAgIH0pO1xuICAgICQob3B0UmVwZWF0LmRvbUVsZW0pLm9uZSgnbW91c2Vkb3duJywgc2hvd1dJUERpYWxvZyk7XG5cbiAgICB2YXIgb3B0UmVwZWF0RGVsYXkgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAncmVwZWF0IGRlbGF5JyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAndW5pdCcsXG4gICAgICAgICAgICBuYW1lOiAncmVwZWF0RGVsYXknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiAzLFxuICAgICAgICAgICAgZHJhZ1NwZWVkOiAwLjAwMSxcbiAgICAgICAgICAgIHVuaXRzOiBbJ3NlYyddLFxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgZGlhbG9nLnJlcGVhdERlbGF5ID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgfSk7XG4gICAgZGlhbG9nLm9uKCdjaGFuZ2VSZXBlYXREZWxheScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0UmVwZWF0RGVsYXkuaW5wdXRzLnJlcGVhdERlbGF5LnZhbHVlID0gZGlhbG9nLnJlcGVhdERlbGF5O1xuICAgIH0pO1xuICAgICQob3B0UmVwZWF0RGVsYXkuZG9tRWxlbSkub25lKCdtb3VzZWRvd24nLCBzaG93V0lQRGlhbG9nKTtcblxuICAgIHZhciBvcHRLZXlTdHJldGNoID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ2tleSBzdHJldGNoJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAndW5pdCcsXG4gICAgICAgICAgICBuYW1lOiAna2V5U3RyZXRjaCcsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBkcmFnU3BlZWQ6IDAuMDEsXG4gICAgICAgICAgICBwcmVjaXNpb246IDMsXG4gICAgICAgICAgICB1bml0czogWyd4J10sXG4gICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2cua2V5U3RyZXRjaCA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgIH0pO1xuICAgIGRpYWxvZy5vbignY2hhbmdlS2V5U3RyZXRjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0S2V5U3RyZXRjaC5pbnB1dHMua2V5U3RyZXRjaC52YWx1ZSA9IGRpYWxvZy5rZXlTdHJldGNoO1xuICAgIH0pO1xuICAgICQob3B0S2V5U3RyZXRjaC5kb21FbGVtKS5vbmUoJ21vdXNlZG93bicsIHNob3dXSVBEaWFsb2cpO1xuXG4gICAgdmFyIGNiWW95byA9IGFtZ3VpLmNyZWF0ZUNoZWNrYm94KHtcbiAgICAgICAgdGV4dDogJ3lveW8nLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZy55b3lvID0gZS5kZXRhaWwuY2hlY2tlZDtcbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgIH0pO1xuICAgIGRpYWxvZy5vbignY2hhbmdlWW95bycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2JZb3lvLmNoZWNrZWQgPSBkaWFsb2cueW95bztcbiAgICB9KTtcbiAgICAkKGNiWW95bykub25lKCdjbGljaycsIHNob3dXSVBEaWFsb2cpO1xuXG4gICAgZnVuY3Rpb24gc2hvd1dJUERpYWxvZygpIHtcbiAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkU2VsZWN0b3IodmFsdWUpIHtcblxuICAgIHZhciBzZWxlY3RvciA9IHtcbiAgICAgICAgdmFsdWU6IHZhbHVlIHx8ICcnLFxuICAgIH07XG4gICAgZGlhbG9nLnNlbGVjdG9ycy5wdXNoKHNlbGVjdG9yKTtcblxuICAgIHZhciBoZWlnaHQgPSAyMztcblxuICAgIHNlbGVjdG9yLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZWxlY3Rvci5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgc2VsZWN0b3IuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgIHNlbGVjdG9yLmRvbUVsZW0uc3R5bGUucGFkZGluZ0xlZnQgPSAnMnB4JztcbiAgICBzZWxlY3Rvci5kb21FbGVtLnN0eWxlLm1hcmdpbiA9ICcxcHggMCc7XG4gICAgc2VsZWN0b3IuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcyO1xuICAgIGRlU2VsZWN0b3JDb250LmFwcGVuZENoaWxkKHNlbGVjdG9yLmRvbUVsZW0pO1xuXG4gICAgdmFyIGlucCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wLnR5cGUgPSAndGV4dCc7XG4gICAgaW5wLnZhbHVlID0gdmFsdWU7XG4gICAgaW5wLnBsYWNlaG9sZGVyID0gJ3NlbGVjdG9yJztcbiAgICBpbnAuc3R5bGUud2lkdGggPSAnMjQ1cHgnO1xuICAgIGlucC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgIGlucC5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JztcbiAgICBpbnAuc3R5bGUuZm9udEZhbWlseSA9IGFtZ3VpLkZPTlRfRkFNSUxZO1xuICAgIGlucC5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIGlucC5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xuICAgIGlucC5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgaW5wLnN0eWxlLmNvbG9yID0gYW1ndWkuY29sb3IudGV4dDtcbiAgICBzZWxlY3Rvci5kb21FbGVtLmFwcGVuZENoaWxkKGlucCk7XG5cbiAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHNlbGVjdG9yLnZhbHVlID0gaW5wLnZhbHVlO1xuICAgICAgICBkaWFsb2cuZW1pdCgnY2hhbmdlU2VsZWN0b3JzJywgZGlhbG9nLnNlbGVjdG9ycyk7XG4gICAgfSk7XG5cbiAgICB2YXIgYnRuRGVsID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdjYW5jZWwnLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIG9uQ2xpY2s6IHJlbW92ZVNlbGVjdG9yLmJpbmQobnVsbCwgc2VsZWN0b3IpLFxuICAgICAgICBwYXJlbnQ6IHNlbGVjdG9yLmRvbUVsZW1cbiAgICB9KTtcbiAgICBidG5EZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgc2VsZWN0b3IuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBidG5EZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICB9KTtcbiAgICBzZWxlY3Rvci5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJ0bkRlbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdG9yKHNlbGVjdG9yKSB7XG5cbiAgICBkaWFsb2cuc2VsZWN0b3JzLnNwbGljZShkaWFsb2cuc2VsZWN0b3JzLmluZGV4T2Yoc2VsZWN0b3IpLCAxKTtcblxuICAgIHNlbGVjdG9yLmRvbUVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxlY3Rvci5kb21FbGVtKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENzc1BhcmFtID0gcmVxdWlyZSgnLi9Dc3NQYXJhbScpO1xudmFyIEJlemllckNzc1BhcmFtID0gcmVxdWlyZSgnLi9CZXppZXJDc3NQYXJhbScpO1xudmFyIENzc1BhcmFtR3JvdXAgPSByZXF1aXJlKCcuL0Nzc1BhcmFtR3JvdXAnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG5cbnZhciBkZWZhdWx0SGlkZGVuID0gJ3oscm90YXRpb25YLHJvdGF0aW9uWSxzY2FsZVoscGVyc3BlY3RpdmVPcmlnaW5YLHRyYW5zZm9ybU9yaWdpblonLnNwbGl0KCcsJyk7XG4gICAgXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICAgIGNyZWF0ZTogZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgIHZhciBwYXJhbU9wdCA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHQubmFtZSxcbiAgICAgICAgICAgICAgICBrZXlzOiBvcHQua2V5cyxcbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogW3tuYW1lOiAnaW5wdXQnfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXQgPSBwYXJhbU9wdC5vcHRpb25MaW5lLmlucHV0c1swXTtcblxuXG4gICAgICAgIHN3aXRjaCAob3B0Lm5hbWUpIHtcblxuICAgICAgICAgICAgY2FzZSAneCc6XG4gICAgICAgICAgICBjYXNlICd5JzogXG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgIGNhc2UgJ3RyYW5zZm9ybU9yaWdpblonOiBcbiAgICAgICAgICAgICAgICBwYXJhbU9wdC5kZWZhdWx0VmFsdWUgPSAnMHB4JztcbiAgICAgICAgICAgICAgICBpbnB1dC51bml0cyA9IFsncHgnXTsgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWCc6XG4gICAgICAgICAgICBjYXNlICdzY2FsZVknOiBcbiAgICAgICAgICAgIGNhc2UgJ3NjYWxlWic6IFxuICAgICAgICAgICAgICAgIC8vIGlucHV0LnVuaXRzID0gWycnXTsgXG4gICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICAgICAgICAgICAgICBwYXJhbU9wdC5kZWZhdWx0VmFsdWUgPSAxOyBcbiAgICAgICAgICAgICAgICBpbnB1dC5kcmFnU3BlZWQgPSAwLjAxOyBcbiAgICAgICAgICAgICAgICBpbnB1dC5wcmVjaXNpb24gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdyb3RhdGVYJzogXG4gICAgICAgICAgICBjYXNlICdyb3RhdGVZJzogXG4gICAgICAgICAgICBjYXNlICdyb3RhdGVaJzogXG4gICAgICAgICAgICAgICAgcGFyYW1PcHQuZGVmYXVsdFZhbHVlID0gJzBkZWcnO1xuICAgICAgICAgICAgICAgIGlucHV0LnVuaXRzID0gWydkZWcnLCAncmFkJ107IFxuICAgICAgICAgICAgICAgIGlucHV0LnByZWNpc2lvbiA9IDE7XG4gICAgICAgICAgICAgICAgaW5wdXQuY29udGVydGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVnMnJhZDogZnVuY3Rpb24gKGRlZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZyAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJhZDJkZWc6IGZ1bmN0aW9uIChyYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByYWQgLyBNYXRoLlBJICogMTgwO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndHJhbnNmb3JtT3JpZ2luWCc6XG4gICAgICAgICAgICBjYXNlICd0cmFuc2Zvcm1PcmlnaW5ZJzogXG4gICAgICAgICAgICAgICAgcGFyYW1PcHQuZGVmYXVsdFZhbHVlID0gJzUwJSc7XG4gICAgICAgICAgICAgICAgaW5wdXQudW5pdHMgPSBbJyUnXTsgXG4gICAgICAgICAgICAgICAgaW5wdXQuZHJhZ1NwZWVkID0gMC4wMTsgXG4gICAgICAgICAgICAgICAgaW5wdXQucHJlY2lzaW9uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29sb3InOlxuICAgICAgICAgICAgY2FzZSAnYm9yZGVyQ29sb3JUb3AnOlxuICAgICAgICAgICAgY2FzZSAnYm9yZGVyQ29sb3JSaWdodCc6XG4gICAgICAgICAgICBjYXNlICdib3JkZXJDb2xvckJvdHRvbSc6XG4gICAgICAgICAgICBjYXNlICdib3JkZXJDb2xvckxlZnQnOlxuICAgICAgICAgICAgY2FzZSAnYmFja2dyb3VuZENvbG9yJzogXG4gICAgICAgICAgICAgICAgaW5wdXQudHlwZSA9ICdjb2xvcic7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlICdib3JkZXJXaWR0aCc6XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FzZSAnd2lkdGgnOlxuICAgICAgICAgICAgY2FzZSAnaGVpZ2h0JzogXG4gICAgICAgICAgICAgICAgaW5wdXQudW5pdHMgPSBbJ3B4J107IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdvcGFjaXR5JzpcbiAgICAgICAgICAgICAgICBwYXJhbU9wdC5kZWZhdWx0VmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAndW5pdCc7XG4gICAgICAgICAgICAgICAgaW5wdXQuZHJhZ1NwZWVkID0gMC4wMTsgXG4gICAgICAgICAgICAgICAgaW5wdXQucHJlY2lzaW9uID0gMjtcbiAgICAgICAgICAgICAgICBpbnB1dC5taW4gPSAwO1xuICAgICAgICAgICAgICAgIGlucHV0Lm1heCA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZhdWx0SGlkZGVuLmluZGV4T2Yob3B0Lm5hbWUpICE9PSAtMSkge1xuXG4gICAgICAgICAgICBpZiAoISgnaGlkZGVuJyBpbiBvcHQpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1PcHQuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dC51bml0cykge1xuICAgICAgICAgICAgaW5wdXQudHlwZSA9ICd1bml0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbTtcblxuICAgICAgICBpZiAob3B0Lm5hbWUgPT09ICdiZXppZXInKSB7XG5cbiAgICAgICAgICAgIHBhcmFtID0gbmV3IEJlemllckNzc1BhcmFtKHBhcmFtT3B0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtID0gbmV3IENzc1BhcmFtKHBhcmFtT3B0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJhbTtcbiAgICB9LFxuXG4gICAgY3JlYXRlR3JvdXA6IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgICAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICAgICAgdmFyIHBnT3B0ID0ge1xuICAgICAgICAgICAgbmFtZTogb3B0Lm5hbWUsXG4gICAgICAgICAgICBvcHRpb25MaW5lOiB7XG4gICAgICAgICAgICAgICAgaW5wdXRzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdC5uYW1lID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwZ09wdC5vcHRpb25MaW5lLmlucHV0cy5wdXNoKHtuYW1lOiAneCcsIHR5cGU6ICd1bml0JywgdW5pdHM6IFsncHgnXX0pO1xuICAgICAgICAgICAgcGdPcHQub3B0aW9uTGluZS5pbnB1dHMucHVzaCh7bmFtZTogJ3knLCB0eXBlOiAndW5pdCcsIHVuaXRzOiBbJ3B4J119KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbUdyb3VwID0gbmV3IENzc1BhcmFtR3JvdXAocGdPcHQpO1xuXG4gICAgICAgIGlmIChvcHQubmFtZSA9PT0gJ3RyYW5zbGF0ZScpIHtcblxuICAgICAgICAgICAgcGFyYW1Hcm91cC5vcHRpb25MaW5lLmFkZEJ1dHRvbih7XG4gICAgICAgICAgICAgICAgZG9tRWxlbTogYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICd2ZWN0b3InLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAndXNlIGJlemllciBwYXRoJyxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1Hcm91cC5lbWl0KCd0cmFuc2xhdGVUb0JlemllcicpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbmFtZTogJ2JlemllcicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJhbUdyb3VwO1xuICAgIH0sXG5cbiAgICBnZXRSb290UGFyYW1Hcm91cE5hbWU6IGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZ3JvdXBzKS5maW5kKGZ1bmN0aW9uIChyb290S2V5KSB7XG5cbiAgICAgICAgICAgIHJldHVybiBzZWFyY2goZ3JvdXBzW3Jvb3RLZXldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoKGdyb3VwKSB7XG5cbiAgICAgICAgICAgIGlmIChfLmlzQXJyYXkoZ3JvdXApKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuaW5kZXhPZihwYXJhbU5hbWUpICE9PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBncm91cCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2goZ3JvdXBba2V5XSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0R3JvdXBNZW1iZXJOYW1lczogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBncm91cCA9IGdyb3VwcztcblxuICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuXG4gICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBncm91cCA9IGdyb3VwW3BhdGguc2hpZnQoKV07XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKF8uaXNQbGFpbk9iamVjdChncm91cCkpIGdyb3VwID0gT2JqZWN0LmtleXMoZ3JvdXApO1xuXG4gICAgICAgIHJldHVybiBncm91cCB8fCBbXTtcbiAgICB9LFxufTtcblxuXG5cbnZhciBncm91cHMgPSB7XG5cbiAgICBwYWRkaW5nOiBbJ3BhZGRpbmdUb3AnLCAgJ3BhZGRpbmdSaWdodCcsICAncGFkZGluZ0JvdHRvbScsICAncGFkZGluZ0xlZnQnXSxcbiAgICBtYXJnaW46IFsnbWFyZ2luVG9wJywgICdtYXJnaW5SaWdodCcsICAnbWFyZ2luQm90dG9tJywgICdtYXJnaW5MZWZ0J10sXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiBbJ2JvcmRlclRvcFdpZHRoJywgICdib3JkZXJSaWdodFdpZHRoJywgICdib3JkZXJCb3R0b21XaWR0aCcsICAnYm9yZGVyTGVmdFdpZHRoJ10sXG4gICAgICAgIHJhZGl1czogWydib3JkZXJUb3BMZWZ0UmFkaXVzJywgJ2JvcmRlclRvcFJpZ2h0UmFkaXVzJywgJ2JvcmRlckJvdHRvbUxlZnRSYWRpdXMnLCAnYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMnXSxcbiAgICAgICAgY29sb3I6IFsnYm9yZGVyVG9wQ29sb3InLCdib3JkZXJSaWdodENvbG9yJywnYm9yZGVyQm90dG9tQ29sb3InLCdib3JkZXJMZWZ0Q29sb3InXSxcbiAgICAgICAgc3R5bGU6IFsnYm9yZGVyVG9wU3R5bGUnLCdib3JkZXJSaWdodFN0eWxlJywnYm9yZGVyQm90dG9tU3R5bGUnLCdib3JkZXJMZWZ0U3R5bGUnXSxcbiAgICB9LFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjogWydiYWNrZ3JvdW5kUG9zaXRpb25YJywgJ2JhY2tncm91bmRQb3NpdGlvblknXSxcbiAgICB0ZXh0U2hhZG93OiBbJ3RleHRTaGFkb3dYJywgJ3RleHRTaGFkb3dZJywgJ3RleHRTaGFkb3dCbHVyJ10sXG4gICAgdHJhbnNsYXRlOiBbJ3gnLCAneScsICd6J10sXG4gICAgc2NhbGU6IFsnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonXSxcbiAgICByb3RhdGlvbjogWydyb3RhdGlvblgnLCAncm90YXRpb25ZJywgJ3JvdGF0aW9uWiddLFxuICAgIHNrZWV3OiBbJ3NrZWV3WCcsICdza2Vld1knXSxcbiAgICBwZXJzcGVjdGl2ZU9yaWdpbjogWydwZXJzcGVjdGl2ZU9yaWdpblgnLCAncGVyc3BlY3RpdmVPcmlnaW5ZJywgJ3BlcnNwZWN0aXZlT3JpZ2luWiddLFxuICAgIHRyYW5zZm9ybU9yaWdpbjogWyd0cmFuc2Zvcm1PcmlnaW5YJywgJ3RyYW5zZm9ybU9yaWdpblknXSxcbiAgICBib3hTaGFkb3c6IFsnYm94U2hhZG93WCcsICdib3hTaGFkb3dZJywgJ2JveFNoYWRvd0JsdXInXSxcbiAgICBjbGlwOiBbJ2NsaXBUb3AnLCAgJ2NsaXBSaWdodCcsICAnY2xpcEJvdHRvbScsICAnY2xpcExlZnQnXSxcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi8uLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBJbnB1dChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fb25DaGFuZ2VJbnB1dCA9IHRoaXMuX29uQ2hhbmdlSW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVBhcmFtID0gdGhpcy5fb25DaGFuZ2VQYXJhbS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uU2VsZWN0ID0gdGhpcy5fb25TZWxlY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcFByZXZLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkgPSB0aGlzLl9vbkNsaWNrU3RlcE5leHRLZXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrVGdnbEtleSA9IHRoaXMuX29uQ2xpY2tUZ2dsS2V5LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9uYW1lID0gJyc7XG5cbiAgICBpZiAoJ25hbWUnIGluIG9wdCkgdGhpcy5uYW1lID0gb3B0Lm5hbWU7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG59XG5cbmluaGVyaXRzKElucHV0LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IElucHV0O1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgbmFtZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9uYW1lID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25hbWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5zZXRQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJQYXJhbSA9PT0gcGFyYW0pIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgIHRoaXMucmVtb3ZlUGFyYW0oKTtcblxuICAgIHRoaXMuX2N1cnJQYXJhbSA9IHBhcmFtO1xuICAgIHRoaXMuX2N1cnJQYXJhbS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VQYXJhbSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoTGF5b3V0KCk7XG59O1xuXG5wLnJlbW92ZVBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9jdXJyUGFyYW0pIHJldHVybjtcblxuICAgIHRoaXMuX2N1cnJQYXJhbS5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VQYXJhbSk7XG59XG5cblxuXG5cblxucC5fb25DaGFuZ2VJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2N1cnJQYXJhbS5hZGRLZXkoe1xuICAgICAgICB0aW1lOiBhbS50aW1lbGluZS5jdXJyVGltZSxcbiAgICAgICAgdmFsdWU6IHRoaXMuX2lucHV0VmFsdWUudmFsdWUsXG4gICAgfSk7IFxufTtcblxucC5fb25DaGFuZ2VQYXJhbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hJbnB1dCgpO1xufTtcblxucC5fb25DbGlja1N0ZXBQcmV2S2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fY3VyclBhcmFtLmdvdG9QcmV2S2V5KCk7XG59O1xuXG5wLl9vbkNsaWNrU3RlcE5leHRLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jdXJyUGFyYW0uZ290b05leHRLZXkoKTtcbn07XG5cbnAuX29uQ2xpY2tUZ2dsS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fY3VyclBhcmFtLnRvZ2dsZUtleSgpO1xufTtcblxucC5fb25TZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2N1cnJQYXJhbSkge1xuXG4gICAgICAgIHRoaXMuZW1pdCgnY3JlYXRlJywgdGhpcyk7XG4gICAgfVxufTtcblxuXG5cblxuXG5cbnAuX3JlZnJlc2hJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBwYXJhbVZhbHVlID0gdGhpcy5fY3VyclBhcmFtLmdldFZhbHVlKCk7XG5cbiAgICBpZiAodGhpcy5faW5wdXRWYWx1ZS52YWx1ZSAhPT0gcGFyYW1WYWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWUudmFsdWUgPSBwYXJhbVZhbHVlO1xuICAgIH1cbn07XG5cbnAuX3JlZnJlc2hMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaGFzUGFyYW0gPSAhIXRoaXMuX2N1cnJQYXJhbTtcblxuICAgIHRoaXMuX2ljb25BZGQuc3R5bGUuZGlzcGxheSA9IGhhc1BhcmFtID8gJ25vbmUnIDogJ2lubGluZS1ibG9jayc7XG4gICAgdGhpcy5faW5wdXRWYWx1ZS5zdHlsZS5kaXNwbGF5ID0gaGFzUGFyYW0gPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9idG5LZXkuc3R5bGUuZGlzcGxheSA9IGhhc1BhcmFtID8gJ2lubGluZS1ibG9jaycgOiAnbm9uZSc7XG4gICAgdGhpcy5fbGFiZWxOYW1lLnN0eWxlLmNvbG9yID0gaGFzUGFyYW0gPyBhbWd1aS5jb2xvci50ZXh0IDogYW1ndWkuY29sb3IudGV4dEluYWN0aXZlO1xufTtcblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcyM3B4JztcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU2VsZWN0KTtcblxuICAgIHRoaXMuX2ljb25BZGQgPSBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICB9KTtcblxuICAgIHRoaXMuX2xhYmVsTmFtZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIGNhcHRpb246IHRoaXMubmFtZSArICcgOiAnLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICB9KTtcblxuICAgIHRoaXMuX2lucHV0VmFsdWUgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgICAgIGZsZXg6IDEsXG4gICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5fb25DaGFuZ2VJbnB1dCxcbiAgICB9KTtcbiAgICB0aGlzLl9pbnB1dFZhbHVlLnN0eWxlLnBhZGRpbmcgPSAnMCA1cHgnO1xuXG4gICAgdGhpcy5fYnRuS2V5ID0gYW1ndWkuY3JlYXRlU3RlcHBlcktleSh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBvbkNsaWNrUHJldjogdGhpcy5fb25DbGlja1N0ZXBQcmV2S2V5LFxuICAgICAgICBvbkNsaWNrTmV4dDogdGhpcy5fb25DbGlja1N0ZXBOZXh0S2V5LFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9vbkNsaWNrVGdnbEtleSxcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlZnJlc2hMYXlvdXQoKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uLy4uL2FtZ3VpJyk7XG52YXIgSW5wdXQgPSByZXF1aXJlKCcuL0lucHV0Jyk7XG52YXIgT3B0aW9uTGluZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL09wdGlvbkxpbmUnKTtcblxuZnVuY3Rpb24gUGFyYW1zVGFiKCkge1xuXG4gICAgdGhpcy5fcGFyYW1PcHRpb25MaW5lcyA9IFtdO1xuXG4gICAgdGhpcy5fb25TZWxlY3RUcmFjayA9IHRoaXMuX29uU2VsZWN0VHJhY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRlc2VsZWN0VHJhY2sgPSB0aGlzLl9vbkRlc2VsZWN0VHJhY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblRyYWNrQWRkUGFyYW0gPSB0aGlzLl9vblRyYWNrQWRkUGFyYW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRpbWUgPSB0aGlzLl9vbkNoYW5nZVRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVBhcmFtID0gdGhpcy5fb25DaGFuZ2VQYXJhbS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fY3JlYXRlQmFzZSgpO1xuXG4gICAgYW0ub24oJ3NlbGVjdFRyYWNrJywgdGhpcy5fb25TZWxlY3RUcmFjayk7XG4gICAgYW0ub24oJ2Rlc2VsZWN0VHJhY2snLCB0aGlzLl9vbkRlc2VsZWN0VHJhY2spO1xuICAgIGFtLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lKTtcbn1cblxudmFyIHAgPSBQYXJhbXNUYWIucHJvdG90eXBlO1xuXG5cblxuXG5cbnAuX29uU2VsZWN0VHJhY2sgPSBmdW5jdGlvbiAodHJhY2spIHtcblxuICAgIHRoaXMuX3VubGlzdGVuKCk7XG5cbiAgICB0aGlzLl9jdXJyVHJhY2sgPSB0cmFjaztcblxuICAgIHRoaXMuX2xpc3RlbigpO1xufTtcblxucC5fb25EZXNlbGVjdFRyYWNrID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fdW5saXN0ZW4oKTtcbn07XG5cblxucC5fb25JbnB1dENoYW5nZSA9IGZ1bmN0aW9uIChwYXJhbU5hbWUsIHZhbHVlKSB7XG5cbiAgICBpZiAoIXRoaXMuX2N1cnJUcmFjaykgcmV0dXJuO1xuXG4gICAgdmFyIHBhcmFtID0gdGhpcy5fY3VyclRyYWNrLmdldFBhcmFtKHBhcmFtTmFtZSk7XG5cbiAgICBpZiAoIXBhcmFtKSB7XG5cbiAgICAgICAgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suYWRkUGFyYW0oe25hbWU6IHBhcmFtTmFtZX0pO1xuICAgICAgICBwYXJhbS5hZGRLZXkoe3ZhbHVlOiB2YWx1ZX0pO1xuICAgIH1cbn1cblxucC5fb25UcmFja0FkZFBhcmFtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fbGlzdGVuKCk7XG59O1xuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoS2V5QnV0dG9ucygpO1xufTtcblxucC5fb25DaGFuZ2VQYXJhbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hLZXlCdXR0b25zKCk7XG59O1xuXG5cblxuXG5cblxucC5fdW5saXN0ZW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2N1cnJUcmFjaykgcmV0dXJuO1xuXG4gICAgdGhpcy5fc2hvd0hpZGVOb1RyYWNrTXNnKHRydWUpO1xuXG4gICAgdGhpcy5fY3VyclRyYWNrLnJlbW92ZUxpc3RlbmVyKCdhZGRQYXJhbScsIHRoaXMuX29uVHJhY2tBZGRQYXJhbSk7XG5cbiAgICB0aGlzLl9mb3JFYWNoSW5wdXQoZnVuY3Rpb24gKGlucHV0LCBwYXJhbU5hbWUpIHtcblxuICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suZ2V0UGFyYW0ocGFyYW1OYW1lKTtcblxuICAgICAgICBpZiAocGFyYW0pIHtcblxuICAgICAgICAgICAgcGFyYW0ucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlUGFyYW0pO1xuICAgICAgICAgICAgcGFyYW0uZGV0YWNoSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgaW5wdXQucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xufTtcblxucC5fbGlzdGVuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fY3VyclRyYWNrLm9uKCdhZGRQYXJhbScsIHRoaXMuX29uVHJhY2tBZGRQYXJhbSk7XG4gICAgXG4gICAgdGhpcy5fc2hvd0hpZGVOb1RyYWNrTXNnKGZhbHNlKTtcblxuICAgIHRoaXMuX2ZvckVhY2hJbnB1dChmdW5jdGlvbiAoaW5wdXQsIHBhcmFtTmFtZSkge1xuXG4gICAgICAgIHZhciBwYXJhbSA9IHRoaXMuX2N1cnJUcmFjay5nZXRQYXJhbShwYXJhbU5hbWUpO1xuXG4gICAgICAgIGlmIChwYXJhbSkge1xuXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHBhcmFtLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBwYXJhbS5hdHRhY2hJbnB1dChpbnB1dCk7XG4gICAgICAgICAgICBwYXJhbS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VQYXJhbSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuX3Nob3dIaWRlTm9UcmFja01zZyA9IGZ1bmN0aW9uIChzaG93KSB7XG5cbiAgICB0aGlzLl9kZU1zZ05vVHJhY2suc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJztcbiAgICB0aGlzLl9kZVNjcm9sbENvbnQuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnbm9uZScgOiAnJztcbn1cblxucC5fZm9yRWFjaElucHV0ID0gZnVuY3Rpb24gKGZuLCB0aGlzQXJnKSB7XG5cbiAgICB0aGlzLl9wYXJhbU9wdGlvbkxpbmVzLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbkxpbmUpIHtcblxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25MaW5lLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1OYW1lKSB7XG5cbiAgICAgICAgICAgIGZuLmNhbGwodGhpc0FyZywgb3B0aW9uTGluZS5pbnB1dHNbcGFyYW1OYW1lXSwgcGFyYW1OYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfSwgdGhpcyk7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoS2V5QnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9jdXJyVHJhY2spIHtcblxuICAgICAgICB0aGlzLl9wYXJhbU9wdGlvbkxpbmVzLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbkxpbmUpIHtcblxuICAgICAgICAgICAgb3B0aW9uTGluZS5yZWZyZXNoS2V5KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcblxuICAgIHRoaXMuX2RlTXNnTm9UcmFjayA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIGNvbG9yOiBhbWd1aS5jb2xvci50ZXh0SW5hY3RpdmUsXG4gICAgICAgIHRleHQ6IGFtLmkxOG4uY3NzTW9kdWxlLm5vVHJhY2tTZWxlY3RlZCxcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlU2Nyb2xsQ29udCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgfSk7XG5cbiAgICBhbWd1aS5tYWtlU2Nyb2xsYWJsZSh7XG4gICAgICAgIGRlQ29udDogdGhpcy5kb21FbGVtLFxuICAgICAgICBkZVRhcmdldDogdGhpcy5fZGVTY3JvbGxDb250XG4gICAgfSk7XG5cbiAgICB2YXIgYm9kZXJTdHlsZU9wdGlvbnMgPSAnbm9uZSxoaWRkZW4sZG90dGVkLGRhc2hlZCxzb2xpZCxkb3VibGUsZ3Jvb3ZlLHJpZGdlLGluc2V0LG91dHNldCxpbml0aWFsLGluaGVyaXQnLnNwbGl0KCcsJyk7XG5cbiAgICB2YXIgcGFyYW1UcmVlID0gW1xuXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnZm9udCcsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2ZvbnQtZmFtaWx5JywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LXNpemUnLCBpbnB1dDogJ3N0cmluZyd9LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2ZvbnQtd2VpZ2h0JywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LXN0eWxlJywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdmb250LXZhcmlhbnQnLCBpbnB1dDogJ3N0cmluZyd9LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3RleHQtdHJhbnNmb3JtJywgaW5wdXQ6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICd0ZXh0LWRlY29yYXRpb24nLCBpbnB1dDogJ3N0cmluZyd9LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2NvbG9yJywgaW5wdXQ6ICdjb2xvcid9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge3RpdGxlOiAnYm9yZGVyJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckNvbG9yJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJUb3BDb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJSaWdodENvbG9yJywgaW5wdXQ6ICdjb2xvcid9LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckJvdHRvbUNvbG9yJywgaW5wdXQ6ICdjb2xvcid9LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlckxlZnRDb2xvcicsIGlucHV0OiAnY29sb3InfSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyV2lkdGgnLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlclRvcFdpZHRoJywgaW5wdXQ6IHt0eXBlOiAndW5pdCcsIHVuaXRzOiBbJ3B4J119fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJSaWdodFdpZHRoJywgaW5wdXQ6IHt0eXBlOiAndW5pdCcsIHVuaXRzOiBbJ3B4J119fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJCb3R0b21XaWR0aCcsIGlucHV0OiB7dHlwZTogJ3VuaXQnLCB1bml0czogWydweCddfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyTGVmdFdpZHRoJywgaW5wdXQ6IHt0eXBlOiAndW5pdCcsIHVuaXRzOiBbJ3B4J119fSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyU3R5bGUnLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ2JvcmRlclRvcFN0eWxlJywgaW5wdXQ6IHt0eXBlOiAnc2VsZWN0Jywgb3B0aW9uczogYm9kZXJTdHlsZU9wdGlvbnN9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJSaWdodFN0eWxlJywgaW5wdXQ6IHt0eXBlOiAnc2VsZWN0Jywgb3B0aW9uczogYm9kZXJTdHlsZU9wdGlvbnN9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdib3JkZXJCb3R0b21TdHlsZScsIGlucHV0OiB7dHlwZTogJ3NlbGVjdCcsIG9wdGlvbnM6IGJvZGVyU3R5bGVPcHRpb25zfX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnYm9yZGVyTGVmdFN0eWxlJywgaW5wdXQ6IHt0eXBlOiAnc2VsZWN0Jywgb3B0aW9uczogYm9kZXJTdHlsZU9wdGlvbnN9fSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICBdfSxcbiAgICAgICAge3RpdGxlOiAnYmFja2dyb3VuZCcsIGNoaWxkcmVuOiBbXX0sXG4gICAgICAgIHt0aXRsZTogJ3RyYW5zZm9ybScsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICB7dGl0bGU6ICd0cmFuc2xhdGUnLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3gnLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3knLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3onLCBpbnB1dDoge319LFxuICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICB7dGl0bGU6ICdzY2FsZScsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge3RpdGxlOiAnc2NhbGVYJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdzY2FsZVknLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3NjYWxlWicsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHt0aXRsZTogJ3JvdGF0aW9uJywgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7dGl0bGU6ICdyb3RhdGlvblgnLCBpbnB1dDoge319LFxuICAgICAgICAgICAgICAgIHt0aXRsZTogJ3JvdGF0aW9uWScsIGlucHV0OiB7fX0sXG4gICAgICAgICAgICAgICAge3RpdGxlOiAncm90YXRpb25aJywgaW5wdXQ6IHt9fSxcbiAgICAgICAgICAgIF19LFxuICAgICAgICBdfSxcbiAgICAgICAge3RpdGxlOiAnbGF5b3V0JywgY2hpbGRyZW46IFtdfSxcbiAgICBdO1xuICAgIHZhciBidWlsZCA9IGZ1bmN0aW9uIChub2RlTGlzdCwgcGFyZW50LCBpbmRlbnQpIHtcblxuICAgICAgICBub2RlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG5cbiAgICAgICAgICAgIHZhciBvcHRpb25MaW5lLFxuICAgICAgICAgICAgICAgIGlzQ2hpbGRyZW5WaXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgbm9kZS5pbmRlbnQgPSBpbmRlbnQ7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlucHV0KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG5vZGUuaW5wdXQpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlucHV0ID0ge3R5cGU6IG5vZGUuaW5wdXR9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5vZGUuaW5wdXQubmFtZSA9IG5vZGUudGl0bGU7XG5cbiAgICAgICAgICAgICAgICBub2RlLmlucHV0cyA9IFtub2RlLmlucHV0XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgbm9kZS5pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUuaW5wdXRzKSB7XG5cbiAgICAgICAgICAgICAgICBub2RlLmJ0bktleSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLl9jdXJyVHJhY2suYWRkUGFyYW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBub2RlLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRvZ2dsZUtleSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcblxuICAgICAgICAgICAgICAgIG5vZGUudGdnbENoaWxkcmVuID0ge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBvblRvZ2dsZUNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jcmVhdGVcbiAgICAgICAgICAgIG9wdGlvbkxpbmUgPSBuZXcgT3B0aW9uTGluZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtT3B0aW9uTGluZXMucHVzaChvcHRpb25MaW5lKTtcblxuICAgICAgICAgICAgLy9saXN0ZW4gdG8gaW5wdXRzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25MaW5lLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXROYW1lKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlSGFuZGxlciA9IHRoaXMuX29uSW5wdXRDaGFuZ2UuYmluZCh0aGlzLCBpbnB1dE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9uTGluZS5pbnB1dHNbaW5wdXROYW1lXS5vbignY2hhbmdlJywgY2hhbmdlSGFuZGxlcilcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG5cbiAgICAgICAgICAgIC8vYWRkIHBhcmFtIGJ1dHRvblxuICAgICAgICAgICAgdmFyIHBhcmFtTmFtZXMgPSBjb2xsZWN0UGFyYW1OYW1lcyhub2RlKTtcblxuICAgICAgICAgICAgb3B0aW9uTGluZS5yZWZyZXNoS2V5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25MaW5lLmJ1dHRvbnMua2V5KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBhbS50aW1lbGluZS5jdXJyVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbSA9IHRoaXMuX2N1cnJUcmFjay5nZXRQYXJhbShwYXJhbU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW0gJiYgcGFyYW0uZ2V0S2V5KHRpbWUpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvcHRpb25MaW5lLmJ1dHRvbnMua2V5LnNldEhpZ2hsaWdodCghIWhhc0tleSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XG5cblxuICAgICAgICAgICAgLy9hcHBlbmQgdG8gcGFyZW50XG4gICAgICAgICAgICBpZiAocGFyZW50LmFkZFN1YmxpbmUpIHtcblxuICAgICAgICAgICAgICAgIHBhcmVudC5hZGRTdWJsaW5lKG9wdGlvbkxpbmUuZG9tRWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3B0aW9uTGluZS5kb21FbGVtKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuXG4gICAgICAgICAgICAgICAgb25Ub2dnbGVDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICAgICAgYnVpbGQobm9kZS5jaGlsZHJlbiwgb3B0aW9uTGluZSwgaW5kZW50ICsgMSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gb25Ub2dnbGVDaGlsZHJlbigpIHtcblxuICAgICAgICAgICAgICAgIGlzQ2hpbGRyZW5WaXNpYmxlID0gIWlzQ2hpbGRyZW5WaXNpYmxlO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9uTGluZS5idXR0b25zLnRnZ2xDaGlsZHJlbi5zZXRUb2dnbGUoaXNDaGlsZHJlblZpc2libGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2hpbGRyZW5WaXNpYmxlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGluZS5zaG93U3VibGluZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGluZS5oaWRlU3VibGluZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LCB0aGlzKTtcblxuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIGJ1aWxkKHBhcmFtVHJlZSwgdGhpcy5fZGVTY3JvbGxDb250LCAwKTtcblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RQYXJhbU5hbWVzKG5vZGUpIHtcblxuICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcblxuICAgICAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChub2RlLmNoaWxkcmVuLmZvckVhY2goY29sbGVjdFBhcmFtTmFtZXMpKSAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldC5wdXNoKG5vZGUudGl0bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhcmFtc1RhYjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCJmdW5jdGlvbiAob3B0KSB7XFxuICAgIFxcbiAgICB2YXIgdGltZWxpbmVzID0ge3t7dGltZWxpbmVzfX19LFxcbiAgICAgICAgYW5pbVRhcmdldHMgPSB7e3thbmltVGFyZ2V0c319fSxcXG4gICAgICAgIHJvb3RUbCA9IFRpbWVsaW5lTWF4KCk7XFxuXFxuICAgIHRpbWVsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lbGluZSkge1xcblxcbiAgICAgICAgdmFyIHByZXZUaW1lID0gMDtcXG5cXG4gICAgICAgIHZhciB0bCA9IFRpbWVsaW5lTWF4KCk7XFxuICAgICAgICByb290VGwuYWRkKHRsKTtcXG4gICAgICAgIFxcbiAgICAgICAgdGltZWxpbmUuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpZHgpIHtcXG5cXG4gICAgICAgICAgICB0bC50byhhbmltVGFyZ2V0cywga2V5LmR1cmF0aW9uLCBrZXkub3B0aW9ucyk7XFxuICAgICAgICB9KTtcXG4gICAgfSk7XFxuXFxuICAgIHJldHVybiByb290VGw7XFxufVwiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcnggPSAvXmNhbGNcXCgoLio/KVxcKSQvO1xuICAgIFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB1bmNhbGMgKHZhbHVlKSB7XG5cbiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuaW5kZXhPZignY2FsYygnKSAhPT0gLTEpIHtcblxuICAgICAgICB2YXIgbSA9IHJ4LmV4ZWModmFsdWUpO1xuICAgICAgICByZXR1cm4gbSA/ICcoICcgKyBtWzFdICsgJyApJyA6IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIEludGVydmFsKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9saW5lSCA9ICAyMTtcbiAgICB0aGlzLl9zdGFydCA9IDA7XG4gICAgdGhpcy5fZW5kID0gYW0udGltZWxpbmUubGVuZ3RoO1xuXG4gICAgdGhpcy5fb25EcmFnUmVzaXplID0gdGhpcy5fb25EcmFnUmVzaXplLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25GaW5pc2hSZXNpemUgPSB0aGlzLl9vbkZpbmlzaFJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRHJhZ01vdmUgPSB0aGlzLl9vbkRyYWdNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUaW1lID0gdGhpcy5fb25DaGFuZ2VUaW1lLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5fcmVmcmVzaERvbUVsZW0oKTtcblxuICAgIGFtLnRpbWVsaW5lLm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VUaW1lKTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgdGhpcy51c2VTYXZlKG9wdCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhJbnRlcnZhbCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gSW50ZXJ2YWwucHJvdG90eXBlO1xuXG5cblxuXG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgc3RhcnQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VJbnQodik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hEb21FbGVtKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVuZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUludCh2KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9lbmQgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoRG9tRWxlbSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VuZDtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2F2ZSA9IHtcbiAgICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICAgIGVuZDogdGhpcy5lbmQsXG4gICAgfTtcblxuICAgIHJldHVybiBzYXZlO1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24oc2F2ZSkge1xuXG4gICAgaWYgKCdzdGFydCcgaW4gc2F2ZSkgdGhpcy5zdGFydCA9IHNhdmUuc3RhcnQ7XG4gICAgaWYgKCdlbmQnIGluIHNhdmUpIHRoaXMuZW5kID0gc2F2ZS5lbmQ7XG59O1xuXG5wLnNob3dOZWlnaGJvdXJzID0gZnVuY3Rpb24gKG5laWdoYm91cnMpIHtcblxuICAgIHRoaXMuX25laWdoYm91ckludGVydmFscyA9IG5laWdoYm91cnM7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9uZXh0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fX25laWdoYm91ckludGVydmFsKHRydWUpO1xufTtcblxucC5fcHJldkludGVydmFsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX19uZWlnaGJvdXJJbnRlcnZhbChmYWxzZSk7XG59O1xuXG5wLl9fbmVpZ2hib3VySW50ZXJ2YWwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXG4gICAgdmFyIHBvcywgbmVpZ2hib3VyO1xuXG4gICAgdGhpcy5fbmVpZ2hib3VySW50ZXJ2YWxzLmZvckVhY2goZnVuY3Rpb24gKGludGVydmFsKSB7XG5cbiAgICAgICAgdmFyIG5leHQgPSBmb3J3YXJkID8gaW50ZXJ2YWwuc3RhcnQgOiBpbnRlcnZhbC5lbmQ7XG5cbiAgICAgICAgaWYgKGludGVydmFsICE9PSB0aGlzICYmIFxuICAgICAgICAgICAgKGZvcndhcmQgPyBuZXh0ID4gdGhpcy5lbmQgOiBuZXh0IDwgdGhpcy5zdGFydCkgJiZcbiAgICAgICAgICAgIChwb3MgPT09IHVuZGVmaW5lZCB8fCAoZm9yd2FyZCA9PT0gKHBvcyA+IG5leHQpKSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvcyA9IG5leHQ7XG4gICAgICAgICAgICBuZWlnaGJvdXIgPSBpbnRlcnZhbDtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgcmV0dXJuIG5laWdoYm91cjtcbn07XG5cbnAuX3JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZW1pdCgncmVtb3ZlJywgdGhpcyk7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZVRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoRG9tRWxlbSgpO1xufTtcblxucC5fb25EcmFnUmVzaXplID0gZnVuY3Rpb24gKG1kLCBteCkge1xuXG4gICAgdmFyIG5laWdoYm91ciwgXG4gICAgICAgIHRpbWVQb3MgPSBhbS50aW1lbGluZS5zY3JlZW5YVG9UaW1lKG14KTtcblxuICAgIGlmIChtZC5zaWRlID09PSAnbGVmdCcpIHtcblxuICAgICAgICBuZWlnaGJvdXIgPSB0aGlzLl9wcmV2SW50ZXJ2YWwoKTtcblxuICAgICAgICBpZiAobmVpZ2hib3VyICYmIHRpbWVQb3MgPCBuZWlnaGJvdXIuZW5kKSB7XG5cbiAgICAgICAgICAgIHRpbWVQb3MgPSBuZWlnaGJvdXIuZW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGFydCA9IHRpbWVQb3M7XG4gICAgfVxuICAgIGVsc2Uge1xuXG4gICAgICAgIG5laWdoYm91ciA9IHRoaXMuX25leHRJbnRlcnZhbCgpO1xuXG4gICAgICAgIGlmIChuZWlnaGJvdXIgJiYgdGltZVBvcyA+IG5laWdoYm91ci5zdGFydCkge1xuXG4gICAgICAgICAgICB0aW1lUG9zID0gbmVpZ2hib3VyLnN0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbmQgPSB0aW1lUG9zO1xuICAgIH1cbn07XG5cbnAuX29uRmluaXNoUmVzaXplID0gZnVuY3Rpb24gKG1kKSB7XG5cbiAgICB2YXIgbmVpZ2hib3VyO1xuXG4gICAgaWYgKG1kLnNpZGUgPT09ICdsZWZ0Jykge1xuXG4gICAgICAgIG5laWdoYm91ciA9IHRoaXMuX3ByZXZJbnRlcnZhbCgpO1xuXG4gICAgICAgIGlmIChuZWlnaGJvdXIgJiYgbmVpZ2hib3VyLmVuZCA9PT0gdGhpcy5zdGFydCkge1xuXG4gICAgICAgICAgICBuZWlnaGJvdXIuZW5kID0gdGhpcy5lbmQ7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgICBuZWlnaGJvdXIgPSB0aGlzLl9uZXh0SW50ZXJ2YWwoKTtcblxuICAgICAgICBpZiAobmVpZ2hib3VyICYmIG5laWdoYm91ci5zdGFydCA9PT0gdGhpcy5lbmQpIHtcblxuICAgICAgICAgICAgbmVpZ2hib3VyLnN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5fb25EcmFnTW92ZSA9IGZ1bmN0aW9uIChtZCwgbXgpIHtcblxuICAgIHZhciB0aW1lUG9zID0gYW0udGltZWxpbmUuc2NyZWVuWFRvVGltZShteCksXG4gICAgICAgIG1vdmUgPSB0aW1lUG9zIC0gbWQudGltZVBvcyxcbiAgICAgICAgbmV4dEludGVydmFsID0gdGhpcy5fbmV4dEludGVydmFsKCksXG4gICAgICAgIHByZXZJbnRlcnZhbCA9IHRoaXMuX3ByZXZJbnRlcnZhbCgpO1xuXG4gICAgaWYgKG5leHRJbnRlcnZhbCAmJiBtZC5lbmQgKyBtb3ZlID4gbmV4dEludGVydmFsLnN0YXJ0KSB7XG5cbiAgICAgICAgbW92ZSA9IG5leHRJbnRlcnZhbC5zdGFydCAtIG1kLmVuZDtcbiAgICB9XG5cbiAgICBpZiAocHJldkludGVydmFsICYmIG1kLnN0YXJ0ICsgbW92ZSA8IHByZXZJbnRlcnZhbC5lbmQpIHtcblxuICAgICAgICBtb3ZlID0gcHJldkludGVydmFsLmVuZCAtIG1kLnN0YXJ0O1xuICAgIH1cblxuICAgIGlmIChtZC5zdGFydCArIG1vdmUgPCAwKSB7XG5cbiAgICAgICAgbW92ZSA9IC1tZC5zdGFydDtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0ID0gbWQuc3RhcnQgKyBtb3ZlO1xuICAgIHRoaXMuZW5kID0gbWQuZW5kICsgbW92ZTtcbn07XG5cblxuXG5cblxuXG5cblxucC5fcmVmcmVzaERvbUVsZW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9IHRoaXMuc3RhcnQgKiBhbS50aW1lbGluZS50aW1lc2NhbGUgKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICh0aGlzLmVuZCAtIHRoaXMuc3RhcnQpICogYW0udGltZWxpbmUudGltZXNjYWxlICsgJ3B4Jztcbn07XG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IHRoaXMuX2xpbmVIICsgJ3B4JztcbiAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsdWUnO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgIGNyZWF0ZUhhbmRsZXIuY2FsbCh0aGlzLCAnbGVmdCcpO1xuICAgIGNyZWF0ZUhhbmRsZXIuY2FsbCh0aGlzLCAncmlnaHQnKTtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRlO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMuZW5kLFxuICAgICAgICAgICAgICAgIHRpbWVQb3M6IGFtLnRpbWVsaW5lLnNjcmVlblhUb1RpbWUoZS5zY3JlZW5YKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiB0aGlzLl9vbkRyYWdNb3ZlLFxuICAgIH0pO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgYXNDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgICAgZGVUYXJnZXQ6IGRlLFxuICAgICAgICBkZU1lbnU6IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7dGV4dDogJ3NwbGl0IGhlcmUnfSxcbiAgICAgICAgICAgICAgICB7dGV4dDogJ3JlbW92ZSd9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pLFxuICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uID09PSAnc3BsaXQgaGVyZScpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyKHNpZGUpIHtcblxuICAgICAgICB2YXIgaGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBoYW5kbGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaGFuZGxlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgaGFuZGxlci5zdHlsZVtzaWRlXSA9ICcwcHgnO1xuICAgICAgICBoYW5kbGVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgaGFuZGxlci5zdHlsZS53aWR0aCA9ICczcHgnO1xuICAgICAgICBoYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICBoYW5kbGVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGhhbmRsZXIpO1xuXG4gICAgICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IGhhbmRsZXIsXG4gICAgICAgICAgICBvbkRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzaWRlOiBzaWRlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1vdmU6IHRoaXMuX29uRHJhZ1Jlc2l6ZSxcbiAgICAgICAgICAgIG9uVXA6IHRoaXMuX29uRmluaXNoUmVzaXplLFxuICAgICAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3R5bGUuYmFja2dyb3VuZCA9ICd3aGl0ZSc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5cblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgLy9UT0RPXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVydmFsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgZGlhbG9nU2NyaXB0RWRpdG9yID0gcmVxdWlyZSgnLi9kaWFsb2dTY3JpcHRFZGl0b3InKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgSW50ZXJ2YWwgPSByZXF1aXJlKCcuL0ludGVydmFsJyk7XG5cbmZ1bmN0aW9uIEludGVydmFsU2NyaXB0KG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9saW5lSCA9ICAyMTtcbiAgICB0aGlzLl9zY3JpcHQgPSAgJy8qKi8nO1xuICAgIHRoaXMuX2ludGVydmFscyA9IFtdO1xuXG4gICAgdGhpcy5fb25DbGlja09wZW5TY3JpcHQgPSB0aGlzLl9vbkNsaWNrT3BlblNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlU2NyaXB0ID0gdGhpcy5fb25DaGFuZ2VTY3JpcHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblJlbW92ZUludGVydmFsID0gdGhpcy5fb25SZW1vdmVJbnRlcnZhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWxlY3RBZGRJbnRlcnZhbCA9IHRoaXMub25TZWxlY3RBZGRJbnRlcnZhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRGJsY2xpY2tLZXlsaW5lID0gdGhpcy5fb25EYmxjbGlja0tleWxpbmUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZGVPcHRpb25zID0gdGhpcy5fY3JlYXRlUGFyYW1ldGVyT3B0aW9ucygpO1xuICAgIHRoaXMuZGVLZXlsaW5lID0gdGhpcy5fY3JlYXRlQm91bmRzTGluZSgpO1xuXG4gICAgdGhpcy5fYWRkSW50ZXJ2YWwoKTtcblxuICAgIHRoaXMuZGVLZXlsaW5lLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5fb25EYmxjbGlja0tleWxpbmUpO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKEludGVydmFsU2NyaXB0LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBJbnRlcnZhbFNjcmlwdC5wcm90b3R5cGU7XG5cblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2NyaXB0OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHYgfHwgJyc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JpcHQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fc2NyaXB0ID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2F2ZSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICBzY3JpcHQ6IEpTT04uc3RyaW5naWZ5KHRoaXMuc2NyaXB0KS5zbGljZSgxLCAtMSkucmVwbGFjZSgvJy9nLCAnXFxcXFxcJycpLFxuICAgICAgICBpbnRlcnZhbHM6IFtdLFxuICAgIH07XG5cbiAgICB0aGlzLl9pbnRlcnZhbHMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcblxuICAgICAgICBzYXZlLmludGVydmFscy5wdXNoKGludGVydmFsLmdldFNhdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2F2ZTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uKHNhdmUpIHtcblxuICAgIGlmICgnbmFtZScgaW4gc2F2ZSkgdGhpcy5uYW1lID0gc2F2ZS5uYW1lO1xuICAgIGlmICgnc2NyaXB0JyBpbiBzYXZlKSB0aGlzLnNjcmlwdCA9IHNhdmUuc2NyaXB0O1xuICAgIGlmICgnaW50ZXJ2YWxzJyBpbiBzYXZlKSB7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2ludGVydmFscy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlSW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNhdmUuaW50ZXJ2YWxzLmZvckVhY2goZnVuY3Rpb24gKGludGVydmFsU2F2ZSkge1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRJbnRlcnZhbChpbnRlcnZhbFNhdmUpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59O1xuXG5wLmlzSW5zaWRlQm91bmRzID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9pbnRlcnZhbHMuc29tZShmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcblxuICAgICAgICBpZiAoaW50ZXJ2YWwuc3RhcnQgPD0gdGltZSAmJiBpbnRlcnZhbC5lbmQgPj0gdGltZSkge1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxucC5ydW5TY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAobmV3IEZ1bmN0aW9uKHRoaXMuc2NyaXB0KSkoKTsvL1RPRE8gaGFjayEhIVxufTtcblxucC5lZGl0U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgZGlhbG9nU2NyaXB0RWRpdG9yLnNob3coe1xuXG4gICAgICAgIHNjcmlwdDogdGhpcy5zY3JpcHQsXG4gICAgICAgIG9uQ2hhbmdlU2NyaXB0OiBmdW5jdGlvbiAoc2NyaXB0KSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuXG5cblxucC5fYWRkSW50ZXJ2YWwgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgaW50ZXJ2YWwgPSBuZXcgSW50ZXJ2YWwob3B0KTtcblxuICAgIGludGVydmFsLnNob3dOZWlnaGJvdXJzKHRoaXMuX2ludGVydmFscyk7XG4gICAgaW50ZXJ2YWwub24oJ3JlbW92ZScsIHRoaXMuX29uUmVtb3ZlSW50ZXJ2YWwpO1xuXG4gICAgdGhpcy5kZUtleWxpbmUuYXBwZW5kQ2hpbGQoaW50ZXJ2YWwuZG9tRWxlbSk7XG4gICAgdGhpcy5faW50ZXJ2YWxzLnB1c2goaW50ZXJ2YWwpO1xufTtcblxucC5fcmVtb3ZlSW50ZXJ2YWwgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9pbnRlcnZhbHMuaW5kZXhPZihpbnRlcnZhbCk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJ2YWxzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgaW50ZXJ2YWwuZG9tRWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGludGVydmFsLmRvbUVsZW0pO1xuICAgIGludGVydmFsLnJlbW92ZUxpc3RlbmVyKCdyZW1vdmUnLCB0aGlzLl9vblJlbW92ZUludGVydmFsKTtcbiAgICBpbnRlcnZhbC5kaXNwb3NlKCk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uRGVsZXRlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgdGhpcy5yZW1vdmVLZXkoa2V5KTtcbn07XG5cbnAuX29uQ2xpY2tPcGVuU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgZGlhbG9nU2NyaXB0RWRpdG9yLnNob3coe1xuICAgICAgICBzY3JpcHQ6IHRoaXMuc2NyaXB0LFxuICAgICAgICBvbkNoYW5nZVNjcmlwdDogdGhpcy5fb25DaGFuZ2VTY3JpcHQsXG4gICAgfSk7XG59O1xuXG5wLl9vbkNoYW5nZVNjcmlwdCA9IGZ1bmN0aW9uIChzY3JpcHQpIHtcblxuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xufTtcblxucC5fb25SZW1vdmVJbnRlcnZhbCA9IGZ1bmN0aW9uIChpbnRlcnZhbCkge1xuXG4gICAgdGhpcy5fcmVtb3ZlSW50ZXJ2YWwoaW50ZXJ2YWwpO1xufTtcblxucC5fb25EYmxjbGlja0tleWxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVkaXRTY3JpcHQoKTtcbn07XG5cbnAub25TZWxlY3RBZGRJbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gYW0udGltZWxpbmUuc2NyZWVuWFRvVGltZShhbS5tb3VzZS5zY3JlZW5YKSxcbiAgICAgICAgbmV4dFN0YXJ0ID0gdGltZSAtIDUwMCwgXG4gICAgICAgIHByZXZFbmQgPSB0aW1lICsgNTAwO1xuXG4gICAgaWYgKHRoaXMuaXNJbnNpZGVCb3VuZHModGltZSkpIHtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJ2YWxzLmZvckVhY2goZnVuY3Rpb24gKGludGVydmFsKSB7XG5cbiAgICAgICAgaWYgKGludGVydmFsLmVuZCA8IHRpbWUgJiYgKCFwcmV2RW5kIHx8IHByZXZFbmQgPCBpbnRlcnZhbC5lbmQpKSB7XG5cbiAgICAgICAgICAgIHByZXZFbmQgPSBpbnRlcnZhbC5lbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW50ZXJ2YWwuc3RhcnQgPiB0aW1lICYmICghbmV4dFN0YXJ0IHx8IG5leHRTdGFydCA+IGludGVydmFsLnN0YXJ0KSkge1xuXG4gICAgICAgICAgICBuZXh0U3RhcnQgPSBpbnRlcnZhbC5zdGFydDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYWRkSW50ZXJ2YWwoe1xuICAgICAgICBzdGFydDogdGltZSAtIE1hdGgubWluKDUwMCwgKHByZXZFbmQgLSB0aW1lKSAqIDAuOCwgdGltZSksXG4gICAgICAgIGVuZDogdGltZSArIE1hdGgubWluKDUwMCwgKHRpbWUgLSBuZXh0U3RhcnQpICogMC44KSxcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlQm91bmRzTGluZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IHRoaXMuX2xpbmVIICsgJ3B4JztcbiAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZXknO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgIGFzQ29udGV4dE1lbnU6IHRydWUsXG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgZGVNZW51OiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAge3RleHQ6ICdhZGQgaW50ZXJ2YWwnLCBvblNlbGVjdDogdGhpcy5vblNlbGVjdEFkZEludGVydmFsfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlO1xufTtcblxuXG5wLl9jcmVhdGVQYXJhbWV0ZXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkZS5zdHlsZS5oZWlnaHQgPSB0aGlzLl9saW5lSCArICdweCc7XG4gICAgZGUuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCBibHVlIDE4JSxkYXJrYmx1ZSA5NiUpJztcblxuICAgIHZhciBzcGFjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNwYWNlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBzcGFjZS5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHNwYWNlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgZGUuYXBwZW5kQ2hpbGQoc3BhY2UpO1xuXG4gICAgdGhpcy5fYnRuT3BlblNjcmlwdCA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBpY29uOiAnY29kZScsXG4gICAgICAgIGhlaWdodDogdGhpcy5fYmFzZUgsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xpY2tPcGVuU2NyaXB0LFxuICAgICAgICBwYXJlbnQ6IGRlXG4gICAgfSk7XG5cbiAgICAvLyB0aGlzLl9idG5FZGl0ID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgLy8gICAgIGljb246ICd3cmVuY2gnLFxuICAgIC8vICAgICBoZWlnaHQ6IHRoaXMuX2Jhc2VILFxuICAgIC8vICAgICBwYXJlbnQ6IGRlXG4gICAgLy8gfSk7XG5cbiAgICAvLyBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgIC8vICAgICBkZVRhcmdldDogdGhpcy5fYnRuRWRpdCxcbiAgICAvLyAgICAgZGVNZW51OiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgLy8gICAgICAgICBvcHRpb25zOiBbXG4gICAgLy8gICAgICAgICAgICAge3RleHQ6ICdtZXJnZSd9LFxuICAgIC8vICAgICAgICAgICAgIHt0ZXh0OiAnc3BsaXQnfSxcbiAgICAvLyAgICAgICAgICAgICB7dGV4dDogJ2VuZCBoZXJlJ30sXG4gICAgLy8gICAgICAgICAgICAge3RleHQ6ICdzdGFydCBoZXJlJ30sXG4gICAgLy8gICAgICAgICAgICAge3RleHQ6ICdhZGQnLCBpY29uOiAncGx1cyd9LFxuICAgIC8vICAgICAgICAgICAgIHt0ZXh0OiAncmVtb3ZlJywgaWNvbjogJ21pbnVzJ30sXG4gICAgLy8gICAgICAgICBdXG4gICAgLy8gICAgIH0pLFxuICAgIC8vICAgICBvblNlbGVjdDogZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfSk7XG5cbiAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBhc0NvbnRleHRNZW51OiB0cnVlLFxuICAgICAgICBkZVRhcmdldDogZGUsXG4gICAgICAgIGRlTWVudTogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSB1cCcsIG9uU2VsZWN0OiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbW92ZScsIHRoaXMsIC0xKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdtb3ZlIGRvd24nLCBvblNlbGVjdDogdGhpcy5lbWl0LmJpbmQodGhpcywgJ21vdmUnLCB0aGlzLCAxKX0sXG4gICAgICAgICAgICAgICAge3RleHQ6ICdkZWxldGUnLCBvblNlbGVjdDogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2RlbGV0ZScsIHRoaXMpfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIHJldHVybiBkZTtcbn07XG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vVE9ET1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcnZhbFNjcmlwdDtcbiIsIiAgICAndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG52YXIgSW50ZXJ2YWxTY3JpcHQgPSByZXF1aXJlKCcuL0ludGVydmFsU2NyaXB0Jyk7XG52YXIgTW9tZW50U2NyaXB0ID0gcmVxdWlyZSgnLi9Nb21lbnRTY3JpcHQnKTtcbnZhciBtc3RQbGF5ZXIgPSByZXF1aXJlKCcuL3NjcmlwdC5wbGF5ZXIubXN0Jyk7XG52YXIgZGlhbG9nVHJhY2tPcHRpb25zID0gcmVxdWlyZSgnLi9kaWFsb2dUcmFja09wdGlvbnMnKTtcblxuZnVuY3Rpb24gSnNUcmFjayhvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxTY3JpcHRzID0gW107XG4gICAgdGhpcy5fbW9tZW50U2NyaXB0cyA9IFtdO1xuICAgIHRoaXMuX2Jhc2VIID0gMjE7XG4gICAgdGhpcy5faXNTaG93aW5nSW50ZXJ2YWxTY3JpcHMgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hpZGluZ1NlbGVjdGVkRWxlbXMgPSBmYWxzZTtcbiAgICB0aGlzLl9pc1BsYXlpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX29uU2VsZWN0Q2xpY2sgPSB0aGlzLl9vblNlbGVjdENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VUaW1lID0gdGhpcy5fb25DaGFuZ2VUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VJbnRlcnZhbFNjcmlwdCA9IHRoaXMuX29uQ2hhbmdlSW50ZXJ2YWxTY3JpcHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRlbGV0ZUludGVydmFsU2NyaXB0ID0gdGhpcy5fb25EZWxldGVJbnRlcnZhbFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW92ZUludGVydmFsU2NyaXB0ID0gdGhpcy5fb25Nb3ZlSW50ZXJ2YWxTY3JpcHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrQWRkSW50ZXJ2YWxTY3JpcHQgPSB0aGlzLl9vbkNsaWNrQWRkSW50ZXJ2YWxTY3JpcHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrVGdnbFNob3dJbnRlcnZhbFNjcmlwdHMgPSB0aGlzLl9vbkNsaWNrVGdnbFNob3dJbnRlcnZhbFNjcmlwdHMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrVGdnbE1vbWVudFNjcmlwdCA9IHRoaXMuX29uQ2xpY2tUZ2dsTW9tZW50U2NyaXB0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbGlja0VkaXRNb21lbnRTY3JpcHQgPSB0aGlzLl9vbkNsaWNrRWRpdE1vbWVudFNjcmlwdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tOYW1lID0gdGhpcy5fb25DbGlja05hbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZU5hbWUgPSB0aGlzLl9vbkNoYW5nZU5hbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZU5hbWUgPSB0aGlzLl9vbkNoYW5nZU5hbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9hbmltUGxheSA9IHRoaXMuX2FuaW1QbGF5LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmRlT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZGVLZXlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB0aGlzLl9kZUhlYWRPcHRpbm9zID0gdGhpcy5fY3JlYXRlSGVhZE9wdGlvbnMoKTtcbiAgICB0aGlzLl9kZUhlYWRLZXlsaW5lID0gYW1ndWkuY3JlYXRlS2V5bGluZSh7fSk7XG4gICAgdGhpcy5kZUtleXMuYXBwZW5kQ2hpbGQodGhpcy5fZGVIZWFkS2V5bGluZSk7XG5cbiAgICBhbS50aW1lbGluZS5vbignY2hhbmdlVGltZScsIHRoaXMuX29uQ2hhbmdlVGltZSk7XG4gICAgdGhpcy5kZU9wdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vblNlbGVjdENsaWNrKTtcbiAgICB0aGlzLmRlS2V5cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU2VsZWN0Q2xpY2spO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKEpzVHJhY2ssIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEpzVHJhY2sucHJvdG90eXBlO1xuXG5wLnR5cGUgPSAnanNfdHJhY2tfdHlwZSc7XG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBoZWlnaHQ6IHtcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMuX2Jhc2VIO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTaG93aW5nSW50ZXJ2YWxTY3JpcHMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsU2NyaXB0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcnZhbFNjcmlwdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldCArPSBpbnRlcnZhbFNjcmlwdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbmFtZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl9uYW1lKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX25hbWUgPSB2IHx8ICd1bm5hbWVkJztcbiAgICAgICAgICAgIHRoaXMuX2RlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5cblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgaW50ZXJ2YWxTY3JpcHRzOiBbXSxcbiAgICAgICAgbW9tZW50U2NyaXB0czogW10sXG4gICAgICAgIGlzU2hvd2luZ0ludGVydmFsU2NyaXB0czogdGhpcy5faXNTaG93aW5nSW50ZXJ2YWxTY3JpcHMsXG4gICAgfTtcblxuICAgIHRoaXMuX2ludGVydmFsU2NyaXB0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcnZhbFNjcmlwdCkge1xuXG4gICAgICAgIHNhdmUuaW50ZXJ2YWxTY3JpcHRzLnB1c2goaW50ZXJ2YWxTY3JpcHQuZ2V0U2F2ZSgpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX21vbWVudFNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbiAobW9tZW50U2NyaXB0KSB7XG5cbiAgICAgICAgc2F2ZS5tb21lbnRTY3JpcHRzLnB1c2gobW9tZW50U2NyaXB0LmdldFNhdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2F2ZTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBpZiAoIXNhdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NlbGVjdG9ycyA9IHNhdmUuc2VsZWN0b3JzIHx8IFtdO1xuXG4gICAgaWYgKCduYW1lJyBpbiBzYXZlKSB0aGlzLm5hbWUgPSBzYXZlLm5hbWU7XG5cbiAgICBpZiAoc2F2ZS5pbnRlcnZhbFNjcmlwdHMpIHtcblxuICAgICAgICBzYXZlLmludGVydmFsU2NyaXB0cy5mb3JFYWNoKHRoaXMuYWRkSW50ZXJ2YWxTY3JpcHQsIHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChzYXZlLm1vbWVudFNjcmlwdHMpIHtcblxuICAgICAgICBzYXZlLm1vbWVudFNjcmlwdHMuZm9yRWFjaCh0aGlzLmFkZE1vbWVudFNjcmlwdCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHNhdmUuaXNTaG93aW5nSW50ZXJ2YWxTY3JpcHRzKSB7XG5cbiAgICAgICAgdGhpcy5fc2hvd0ludGVydmFsU2NyaXB0cygpO1xuICAgIH1cbn07XG5cbnAuZ2V0U2NyaXB0ID0gZnVuY3Rpb24gKCkgey8vVE9ET1xuXG4gICAgdmFyIG1vbWVudFNjcmlwdHMgPSBbXSwgaW50ZXJ2YWxTY3JpcHRzID0gW107XG5cbiAgICB0aGlzLl9pbnRlcnZhbFNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJ2YWxTY3JpcHQpIHtcblxuICAgIH0pO1xuXG4gICAgdmFyIGNvZGUgPSBNdXN0YWNoZS5yZW5kZXIobXN0UGxheWVyLCB7XG4gICAgICAgIG1vbWVudFNjcmlwdHM6IEpTT04uc3RyaW5naWZ5KG1vbWVudFNjcmlwdHMpLFxuICAgICAgICBpbnRlcnZhbFNjcmlwdHM6IEpTT04uc3RyaW5naWZ5KGludGVydmFsU2NyaXB0cylcbiAgICB9KTtcblxuICAgIHJldHVybiAnZnVuY3Rpb24gKCkgey8qVE9ETyovfSc7XG59O1xuXG5wLmFkZEludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKG9wdCwgc2tpcEhpc3RvcnkpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBpbnRlcnZhbFNjcmlwdCA9IG5ldyBJbnRlcnZhbFNjcmlwdChvcHQpO1xuXG4gICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICBhbS5oaXN0b3J5LnNhdmUoW3RoaXMuX3JlbW92ZUludGVydmFsU2NyaXB0LCB0aGlzLCBpbnRlcnZhbFNjcmlwdCwgdHJ1ZV0sXG4gICAgICAgICAgICBbdGhpcy5hZGRJbnRlcnZhbFNjcmlwdCwgdGhpcywgb3B0LCB0cnVlXSwgJ2FkZCBpbnRlcnZhbCBzY3JpcHQnKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5faW50ZXJ2YWxTY3JpcHRzLnB1c2goaW50ZXJ2YWxTY3JpcHQpO1xuICAgIGludGVydmFsU2NyaXB0Lm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUludGVydmFsU2NyaXB0KTtcbiAgICBpbnRlcnZhbFNjcmlwdC5vbignZGVsZXRlJywgdGhpcy5fb25EZWxldGVJbnRlcnZhbFNjcmlwdCk7XG4gICAgaW50ZXJ2YWxTY3JpcHQub24oJ21vdmUnLCB0aGlzLl9vbk1vdmVJbnRlcnZhbFNjcmlwdCk7XG5cbiAgICB0aGlzLl9yZWZyZXNoSW50ZXJ2YWxTY3JpcHRPcmRlcmluZygpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlSGVpZ2h0JywgdGhpcyk7XG5cbiAgICByZXR1cm4gaW50ZXJ2YWxTY3JpcHQ7XG59O1xuXG5wLnJlbW92ZUludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKGludGVydmFsU2NyaXB0LCBza2lwSGlzdG9yeSkge1xuXG4gICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICBhbS5oaXN0b3J5LnNhdmUoW3RoaXMuYWRkSW50ZXJ2YWxTY3JpcHQsIHRoaXMsIGludGVydmFsU2NyaXB0LCB0cnVlXSxcbiAgICAgICAgICAgIFt0aGlzLnJlbW92ZUludGVydmFsU2NyaXB0LCB0aGlzLCBpbnRlcnZhbFNjcmlwdCwgdHJ1ZV0sICdyZW1vdmUgaW50ZXJ2YWwgc2NyaXB0Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlkeCA9IHRoaXMuX2ludGVydmFsU2NyaXB0cy5pbmRleE9mKGludGVydmFsU2NyaXB0KTtcblxuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbnRlcnZhbFNjcmlwdHMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICBpbnRlcnZhbFNjcmlwdC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VJbnRlcnZhbFNjcmlwdCk7XG4gICAgaW50ZXJ2YWxTY3JpcHQucmVtb3ZlTGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuX29uRGVsZXRlSW50ZXJ2YWxTY3JpcHQpO1xuICAgIGludGVydmFsU2NyaXB0LnJlbW92ZUxpc3RlbmVyKCdtb3ZlJywgdGhpcy5fb25Nb3ZlSW50ZXJ2YWxTY3JpcHQpO1xuXG4gICAgJChpbnRlcnZhbFNjcmlwdC5kZU9wdGlvbnMpLnJlbW92ZSgpO1xuICAgICQoaW50ZXJ2YWxTY3JpcHQuZGVLZXlsaW5lKS5yZW1vdmUoKTtcbn07XG5cbnAubW92ZUludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKGludGVydmFsU2NyaXB0LCB3YXkpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9pbnRlcnZhbFNjcmlwdHMuaW5kZXhPZihpbnRlcnZhbFNjcmlwdCk7XG5cbiAgICB0aGlzLl9pbnRlcnZhbFNjcmlwdHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgaWR4ID0gTWF0aC5taW4odGhpcy5faW50ZXJ2YWxTY3JpcHRzLmxlbmd0aCwgTWF0aC5tYXgoMCwgaWR4ICsgd2F5KSk7XG4gICAgdGhpcy5faW50ZXJ2YWxTY3JpcHRzLnNwbGljZShpZHgsIDAsIGludGVydmFsU2NyaXB0KTtcblxuICAgIHRoaXMuX3JlZnJlc2hJbnRlcnZhbFNjcmlwdE9yZGVyaW5nKCk7XG59O1xuXG5cbnAuYWRkTW9tZW50U2NyaXB0ID0gZnVuY3Rpb24gKG9wdCwgc2tpcEhpc3RvcnkpIHtcbiAgICBcbiAgICB2YXIgbXMgPSB0aGlzLmdldE1vbWVudFNjcmlwdChvcHQudGltZSk7XG5cbiAgICBpZiAobXMpIHtcblxuICAgICAgICBpZiAoJ3NjcmlwdCcgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIGlmICghc2tpcEhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICBhbS5oaXN0b3J5LnNhdmVDaGFpbihtcywgXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLmFkZE1vbWVudFNjcmlwdCwgdGhpcywgbXMsIHRydWVdLCBcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMuYWRkTW9tZW50U2NyaXB0LCB0aGlzLCBvcHQsIHRydWVdLCBcbiAgICAgICAgICAgICAgICAgICAgJ2VkaXQgbW9tZW50IHNjcmlwdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtcy5zY3JpcHQgPSBvcHQuc2NyaXB0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuXG4gICAgICAgIG1zID0gbmV3IE1vbWVudFNjcmlwdChfLmV4dGVuZCh7ZGVLZXlsaW5lOiB0aGlzLl9kZUhlYWRLZXlsaW5lfSwgb3B0KSk7XG5cbiAgICAgICAgLy8gbXMub24oJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZUtleVRpbWUpOy8vVE9ET1xuICAgICAgICAvLyBtcy5vbignZGVsZXRlJywgdGhpcy5fb25EZWxldGVLZXkpOy8vVE9ET1xuXG4gICAgICAgIHRoaXMuX21vbWVudFNjcmlwdHMucHVzaChtcyk7XG5cbiAgICAgICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICAgICAgYW0uaGlzdG9yeS5jbG9zZUNoYWluKG1zKTtcbiAgICAgICAgICAgIGFtLmhpc3Rvcnkuc2F2ZShcbiAgICAgICAgICAgICAgICBbdGhpcy5yZW1vdmVNb21lbnRTY3JpcHQsIHRoaXMsIG9wdC50aW1lLCB0cnVlXSwgXG4gICAgICAgICAgICAgICAgW3RoaXMuYWRkTW9tZW50U2NyaXB0LCB0aGlzLCBvcHQsIHRydWVdLCBcbiAgICAgICAgICAgICAgICAnYWRkIG1vbWVudCBzY3JpcHQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hUZ2dsTW9tZW50U2NyaXB0KCk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xuXG4gICAgcmV0dXJuIG1zO1xufTtcblxucC5yZW1vdmVNb21lbnRTY3JpcHQgPSBmdW5jdGlvbiAobXMsIHNraXBIaXN0b3J5KSB7XG5cbiAgICBpZiAodHlwZW9mKG1zKSA9PT0gJ251bWJlcicpIHtcblxuICAgICAgICBtcyA9IHRoaXMuZ2V0TW9tZW50U2NyaXB0KG1zKTtcbiAgICB9XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fbW9tZW50U2NyaXB0cy5pbmRleE9mKG1zKTtcblxuICAgIGlmIChpZHggPT09IC0xKSB7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc2tpcEhpc3RvcnkpIHtcbiAgICAgICAgYW0uaGlzdG9yeS5zYXZlKFxuICAgICAgICAgICAgW3RoaXMuYWRkTW9tZW50U2NyaXB0LCB0aGlzLCBtcywgdHJ1ZV0sXG4gICAgICAgICAgICBbdGhpcy5yZW1vdmVNb21lbnRTY3JpcHQsIHRoaXMsIG1zLCB0cnVlXSwgXG4gICAgICAgICAgICAncmVtb3ZlIG1vbWVudCBzY3JpcHQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb21lbnRTY3JpcHRzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgbXMuZGlzcG9zZSgpO1xuXG4gICAgLy8gbXMucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZUtleVRpbWUpOy8vVE9ET1xuICAgIC8vIG1zLnJlbW92ZUxpc3RlbmVyKCdkZWxldGUnLCB0aGlzLl9vbkRlbGV0ZUtleSk7Ly9UT0RPXG5cbiAgICB0aGlzLl9yZWZyZXNoVGdnbE1vbWVudFNjcmlwdCgpO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuZ2V0TW9tZW50U2NyaXB0ID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl9tb21lbnRTY3JpcHRzLmZpbmQoZnVuY3Rpb24obXMpIHtcblxuICAgICAgICByZXR1cm4gbXMudGltZSA9PT0gdGltZTtcbiAgICB9KTtcbn07XG5cblxucC5zZWxlY3QgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5kZUhpZ2hsaWdodC5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgdGhpcyk7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5kZUhpZ2hsaWdodC5zdHlsZS5vcGFjaXR5ID0gMDtcbn07XG5cbnAucmVuZGVyVGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICAvL1RPRE9cbn07XG5cbnAucGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9hbmltUGxheSgpO1xufTtcblxucC5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5UmFmaWQpO1xufTtcblxucC5nZXRNYWduZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGltZXMgPSBbXTtcblxuICAgIHRoaXMuX21vbWVudFNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbiAobW9tZW50U2NyaXB0KSB7XG5cbiAgICAgICAgdGltZXMucHVzaChtb21lbnRTY3JpcHQudGltZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGltZXM7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5wLl9hbmltUGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2FuaW1QbGF5UmFmaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1QbGF5KTtcbiAgICBcbiAgICB2YXIgY3VyclRpbWUgPSBhbS50aW1lbGluZS5jdXJyVGltZSwgXG4gICAgICAgIHByZXZUaW1lID0gdGhpcy5wcmV2UmVuZGVyVGltZTtcblxuICAgIHRoaXMuX21vbWVudFNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbiAobW9tZW50U2NyaXB0KSB7XG5cbiAgICAgICAgaWYgKG1vbWVudFNjcmlwdC50aW1lID4gcHJldlRpbWUgJiYgbW9tZW50U2NyaXB0LnRpbWUgPD0gY3VyclRpbWUpIHtcblxuICAgICAgICAgICAgbW9tZW50U2NyaXB0LnJ1blNjcmlwdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9pbnRlcnZhbFNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJ2YWxTY3JpcHQpIHtcblxuICAgICAgICBpZiAoaW50ZXJ2YWxTY3JpcHQuaXNJbnNpZGVCb3VuZHMoY3VyclRpbWUpKSB7XG5cbiAgICAgICAgICAgIGludGVydmFsU2NyaXB0LnJ1blNjcmlwdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnByZXZSZW5kZXJUaW1lID0gY3VyclRpbWU7XG59O1xuXG5wLl9zaG93SW50ZXJ2YWxTY3JpcHRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzU2hvd2luZ0ludGVydmFsU2NyaXBzKSByZXR1cm47XG4gICAgdGhpcy5faXNTaG93aW5nSW50ZXJ2YWxTY3JpcHMgPSB0cnVlO1xuXG4gICAgdGhpcy5fdGdnbFNob3dJbnRlcnZhbFNjcmlwdHMuc2V0VG9nZ2xlKHRydWUpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlSGVpZ2h0JywgdGhpcyk7XG59O1xuXG5wLl9oaWRlSW50ZXJ2YWxTY3JpcHRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1Nob3dpbmdJbnRlcnZhbFNjcmlwcykgcmV0dXJuO1xuICAgIHRoaXMuX2lzU2hvd2luZ0ludGVydmFsU2NyaXBzID0gZmFsc2U7XG5cbiAgICB0aGlzLl90Z2dsU2hvd0ludGVydmFsU2NyaXB0cy5zZXRUb2dnbGUoZmFsc2UpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlSGVpZ2h0JywgdGhpcyk7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uU2VsZWN0Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnNlbGVjdCgpO1xufTtcblxucC5fb25DaGFuZ2VUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzUGxheWluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xNb21lbnRTY3JpcHQoKTtcbn07XG5cbnAuX29uQ2hhbmdlSW50ZXJ2YWxTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnJlbmRlclRpbWUoKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLl9vbkRlbGV0ZUludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKGludGVydmFsU2NyaXB0KSB7XG5cbiAgICB0aGlzLnJlbW92ZUludGVydmFsU2NyaXB0KGludGVydmFsU2NyaXB0KTtcbn07XG5cbnAuX29uTW92ZUludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKGludGVydmFsU2NyaXB0LCB3YXkpIHtcblxuICAgIHRoaXMubW92ZUludGVydmFsU2NyaXB0KGludGVydmFsU2NyaXB0LCB3YXkpO1xufTtcblxucC5fb25DbGlja1RnZ2xNb21lbnRTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGltZSA9IGFtLnRpbWVsaW5lLmN1cnJUaW1lLFxuICAgICAgICBtb21lbnRTY3JpcHQgPSB0aGlzLmdldE1vbWVudFNjcmlwdCh0aW1lKTtcbiAgICBcbiAgICBpZiAobW9tZW50U2NyaXB0KSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVNb21lbnRTY3JpcHQobW9tZW50U2NyaXB0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkTW9tZW50U2NyaXB0KHt0aW1lOiB0aW1lfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaFRnZ2xNb21lbnRTY3JpcHQoKTtcbn07XG5cbnAuX29uQ2xpY2tFZGl0TW9tZW50U2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIG1vbWVudFNjcmlwdCA9IHRoaXMuZ2V0TW9tZW50U2NyaXB0KGFtLnRpbWVsaW5lLmN1cnJUaW1lKTtcblxuICAgIGlmIChtb21lbnRTY3JpcHQpIHtcblxuICAgICAgICBtb21lbnRTY3JpcHQuZWRpdFNjcmlwdCgpO1xuICAgIH1cbn07XG5cbnAuX29uQ2xpY2tUZ2dsU2hvd0ludGVydmFsU2NyaXB0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc1Nob3dpbmdJbnRlcnZhbFNjcmlwcykge1xuICAgICAgICB0aGlzLl9oaWRlSW50ZXJ2YWxTY3JpcHRzICAgKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9zaG93SW50ZXJ2YWxTY3JpcHRzKCk7XG4gICAgfVxufTtcblxucC5fb25DbGlja0FkZEludGVydmFsU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5hZGRJbnRlcnZhbFNjcmlwdCgpO1xufTtcblxucC5fb25DbGlja05hbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBkaWFsb2dUcmFja09wdGlvbnMuc2hvdyh7XG4gICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgIG9uQ2hhbmdlTmFtZTogdGhpcy5fb25DaGFuZ2VOYW1lLFxuICAgIH0pO1xufTtcblxucC5fb25DaGFuZ2VOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoVGdnbE1vbWVudFNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBtb21lbnRTY3JpcHQgPSB0aGlzLmdldE1vbWVudFNjcmlwdChhbS50aW1lbGluZS5jdXJyVGltZSk7XG5cbiAgICB0aGlzLl90Z2dsTW9tZW50U2NyaXB0LnNldFRvZ2dsZSghIW1vbWVudFNjcmlwdCk7XG4gICAgdGhpcy5fdGdnbEVkaXRNb21lbnRTY3JpcHQuc2V0VG9nZ2xlKCEhbW9tZW50U2NyaXB0KTtcbn07XG5cbnAuX3JlZnJlc2hJbnRlcnZhbFNjcmlwdE9yZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW50ZXJ2YWxTY3JpcHRzLmZvckVhY2goZnVuY3Rpb24gKGludGVydmFsU2NyaXB0KSB7XG5cbiAgICAgICAgdGhpcy5kZU9wdGlvbnMuYXBwZW5kQ2hpbGQoaW50ZXJ2YWxTY3JpcHQuZGVPcHRpb25zKTtcbiAgICAgICAgdGhpcy5kZUtleXMuYXBwZW5kQ2hpbGQoaW50ZXJ2YWxTY3JpcHQuZGVLZXlsaW5lKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSGVhZE9wdGlvbnMgPSBmdW5jdGlvbiAoKXtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICBkZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGRlLnN0eWxlLmhlaWdodCA9IHRoaXMuX2Jhc2VIICsgJ3B4JztcbiAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpbmVhci1ncmFkaWVudCh0byBib3R0b20sIGJsdWUgMTglLGRhcmtibHVlIDk2JSknO1xuICAgIHRoaXMuZGVPcHRpb25zLmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHRoaXMuZGVIaWdobGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRlSGlnaGxpZ2h0LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICB0aGlzLmRlSGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gJzJweCc7XG4gICAgdGhpcy5kZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9iYXNlSCArICdweCc7XG4gICAgdGhpcy5kZUhpZ2hsaWdodC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dvbGQnO1xuICAgIHRoaXMuZGVIaWdobGlnaHQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgZGUuYXBwZW5kQ2hpbGQodGhpcy5kZUhpZ2hsaWdodCk7XG5cbiAgICB0aGlzLl90Z2dsU2hvd0ludGVydmFsU2NyaXB0cyA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBpY29uT246ICdhbmdsZS1kb3duJyxcbiAgICAgICAgaWNvbk9mZjogJ2FuZ2xlLXJpZ2h0JyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLl9iYXNlSCxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1RnZ2xTaG93SW50ZXJ2YWxTY3JpcHRzLFxuICAgICAgICBwYXJlbnQ6IGRlXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZU5hbWUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7Y2FwdGlvbjogdGhpcy5fbmFtZSwgcGFyZW50OiBkZX0pO1xuICAgIHRoaXMuX2RlTmFtZS5zdHlsZS5oZWlnaHQgPSB0aGlzLl9iYXNlSCAgKyAncHgnO1xuICAgIHRoaXMuX2RlTmFtZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgdGhpcy5fZGVOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja05hbWUpO1xuXG4gICAgdmFyIGRlTmFtZUljb24gPSBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgaWNvbjogJ2NvZycsXG4gICAgICAgIHBhcmVudDogZGVcbiAgICB9KTtcbiAgICBkZU5hbWVJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5fZGVOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7ZGVOYW1lSWNvbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7fSk7XG4gICAgdGhpcy5fZGVOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7ZGVOYW1lSWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO30pO1xuXG4gICAgdmFyIHNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3BhY2Uuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIHNwYWNlLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgc3BhY2Uuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBkZS5hcHBlbmRDaGlsZChzcGFjZSk7XG5cbiAgICB0aGlzLl9idG5BZGRJbnRlcnZhbFNjcmlwdCA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICBpY29uOiAncGx1cycsXG4gICAgICAgIGhlaWdodDogdGhpcy5fYmFzZUgsXG4gICAgICAgIGRlZmF1bHRUb2dnbGU6IGZhbHNlLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9vbkNsaWNrQWRkSW50ZXJ2YWxTY3JpcHQsXG4gICAgICAgIHBhcmVudDogZGVcbiAgICB9KTtcblxuICAgIHRoaXMuX3RnZ2xFZGl0TW9tZW50U2NyaXB0ID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIGljb246ICdjb2RlJyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLl9iYXNlSCxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja0VkaXRNb21lbnRTY3JpcHQsXG4gICAgICAgIGNoYW5nZUNvbG9yOiB0cnVlLFxuICAgICAgICBwYXJlbnQ6IGRlXG4gICAgfSk7XG5cbiAgICB0aGlzLl90Z2dsTW9tZW50U2NyaXB0ID0gYW1ndWkuY3JlYXRlVG9nZ2xlSWNvbkJ0bih7XG4gICAgICAgIGljb25PbjogJ2NpcmNsZScsXG4gICAgICAgIGljb25PZmY6ICdjaXJjbGUtZW1wdHknLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuX2Jhc2VILFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9vbkNsaWNrVGdnbE1vbWVudFNjcmlwdCxcbiAgICAgICAgY2hhbmdlQ29sb3I6IHRydWUsXG4gICAgICAgIHBhcmVudDogZGVcbiAgICB9KTtcbiAgICB0aGlzLl9yZWZyZXNoVGdnbE1vbWVudFNjcmlwdCgpO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgYXNDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgICAgZGVUYXJnZXQ6IGRlLFxuICAgICAgICBkZU1lbnU6IGFtZ3VpLmNyZWF0ZURyb3Bkb3duKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7dGV4dDogJ21vdmUgdXAnLCBvblNlbGVjdDogdGhpcy5lbWl0LmJpbmQodGhpcywgJ21vdmUnLCB0aGlzLCAtMSl9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnbW92ZSBkb3duJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdtb3ZlJywgdGhpcywgMSl9LFxuICAgICAgICAgICAgICAgIHt0ZXh0OiAnZGVsZXRlJywgb25TZWxlY3Q6IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdkZWxldGUnLCB0aGlzKX0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGU7XG59O1xuXG5wLmlzT3duZWREb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0udGltZWxpbmUucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUpO1xuXG4gICAgLy9UT0RPXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpzVHJhY2s7XG5cblxuXG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGRpYWxvZ1NjcmlwdEVkaXRvciA9IHJlcXVpcmUoJy4vZGlhbG9nU2NyaXB0RWRpdG9yJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBNb21lbnRTY3JpcHQob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgICBcbiAgICB0aGlzLl90aW1lID0gIDA7XG4gICAgdGhpcy5fc2NyaXB0ID0gICcnO1xuICAgIHRoaXMuX2RlS2V5bGluZSA9IG9wdC5kZUtleWxpbmU7XG5cbiAgICB0aGlzLl9vbkNoYW5nZURlVGltZSA9IHRoaXMuX29uQ2hhbmdlRGVUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25TZWxlY3REcm9wZG93biA9IHRoaXMuX29uU2VsZWN0RHJvcGRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRhcGUgPSB0aGlzLl9vbkNoYW5nZVRhcGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRibGNsaWNrS2V5ID0gdGhpcy5fb25EYmxjbGlja0tleS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5kb21FbGVtID0gdGhpcy5fZGVLZXlsaW5lLmFkZEtleSh7XG4gICAgICAgIHRpbWVzY2FsZTogYW0udGltZWxpbmUudGltZXNjYWxlLFxuICAgICAgICB0aW1lOiB0aGlzLnRpbWUsXG4gICAgICAgIGVhc2U6ICdub25lJ1xuICAgIH0pO1xuXG5cbiAgICB0aGlzLl9kZU1lbnUgPSBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgIG9wdGlvbnM6IFsnc2NyaXB0JywgJ2RlbGV0ZSddXG4gICAgfSk7XG4gICAgdGhpcy5fZGVNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0RHJvcGRvd24pO1xuXG4gICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZURlVGltZSk7XG4gICAgYW0udGltZWxpbmUub24oJ2NoYW5nZVRhcGUnLCB0aGlzLl9vbkNoYW5nZVRhcGUpO1xuXG4gICAgYW1ndWkuYmluZERyb3Bkb3duKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgZGVNZW51OiB0aGlzLl9kZU1lbnUsXG4gICAgICAgIGFzQ29udGV4dE1lbnU6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuX29uRGJsY2xpY2tLZXkpO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKE1vbWVudFNjcmlwdCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gTW9tZW50U2NyaXB0LnByb3RvdHlwZTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdGltZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX3RpbWUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdGltZSA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5zZXRUaW1lKHRoaXMuX3RpbWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNjcmlwdDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JpcHQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fc2NyaXB0ID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzY3JpcHQ6IEpTT04uc3RyaW5naWZ5KHRoaXMuc2NyaXB0KS5zbGljZSgxLCAtMSkucmVwbGFjZSgvJy9nLCAnXFxcXFxcJycpLFxuICAgICAgICB0aW1lOiB0aGlzLnRpbWUsXG4gICAgfTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBpZiAoJ3NjcmlwdCcgaW4gc2F2ZSkgdGhpcy5zY3JpcHQgPSBzYXZlLnNjcmlwdDtcbiAgICBpZiAoJ3RpbWUnIGluIHNhdmUpIHRoaXMudGltZSA9IHNhdmUudGltZTtcbn07XG5cbnAucnVuU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgKG5ldyBGdW5jdGlvbih0aGlzLnNjcmlwdCkpKCk7Ly9UT0RPIGhhY2shISFcbn07XG5cbnAuZWRpdFNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGRpYWxvZ1NjcmlwdEVkaXRvci5zaG93KHtcblxuICAgICAgICBzY3JpcHQ6IHRoaXMuc2NyaXB0LFxuICAgICAgICBvbkNoYW5nZVNjcmlwdDogZnVuY3Rpb24gKHNjcmlwdCkge1xuXG4gICAgICAgICAgICB0aGlzLnNjcmlwdCA9IHNjcmlwdDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlRGVUaW1lID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHRoaXMudGltZSA9IGUuZGV0YWlsLnRpbWU7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZVRpbWUnKTtcbn07XG5cbnAuX29uU2VsZWN0RHJvcGRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIFxuICAgIHZhciBzZWxlY3Rpb24gPSBlLmRldGFpbC5zZWxlY3Rpb247XG5cbiAgICBpZiAoc2VsZWN0aW9uID09PSAnZGVsZXRlJykge1xuXG4gICAgICAgIHRoaXMuZW1pdCgnZGVsZXRlJywgdGhpcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGVjdGlvbiA9PT0gJ2VkaXQgc2NyaXB0Jykge1xuXG4gICAgICAgIHRoaXMuZWRpdFNjcmlwdCgpO1xuICAgIH1cbn07XG5cbnAuX29uQ2hhbmdlVGFwZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5zZXRUaW1lc2NhbGUoYW0udGltZWxpbmUudGltZXNjYWxlKTtcbn07XG5cbnAuX29uRGJsY2xpY2tLZXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVkaXRTY3JpcHQoKTtcbn07XG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VEZVRpbWUpO1xuICAgIHRoaXMuX2RlTWVudS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdERyb3Bkb3duKTtcbiAgICBhbS50aW1lbGluZS5yZW1vdmVMaXN0ZW5lcignY2hhbmdlVGFwZScsIHRoaXMuX29uQ2hhbmdlVGFwZSk7XG5cbiAgICB0aGlzLmRvbUVsZW0ucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMuX2RlTWVudS5wYXJlbnROb2RlKSB0aGlzLl9kZU1lbnUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kZU1lbnUpOyBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTW9tZW50U2NyaXB0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi8uLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBEaWFsb2dTY3JpcHRFZGl0b3IgKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9uYW1lID0gJyc7XG4gICAgdGhpcy5fc2VsZWN0b3JzID0gW107XG5cbiAgICB0aGlzLl9vbkNsaWNrT2sgPSB0aGlzLl9vbkNsaWNrT2suYmluZCh0aGlzKTsgXG4gICAgdGhpcy5fb25DaGFuZ2VTY3JpcHQgPSB0aGlzLl9vbkNoYW5nZVNjcmlwdC5iaW5kKHRoaXMpO1xufVxuXG5pbmhlcml0cyhEaWFsb2dTY3JpcHRFZGl0b3IsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IERpYWxvZ1NjcmlwdEVkaXRvci5wcm90b3R5cGU7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBzY3JpcHQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gdiB8fCAnJztcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NjcmlwdCA9PT0gdikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2NyaXB0ID0gdjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NtICYmIHRoaXMuX2NtLmdldFZhbHVlKCkgIT09IHYpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLl9jbS5zZXRWYWx1ZSh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlU2NyaXB0Jywgdik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NyaXB0O1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnAuc2hvdyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX2NyZWF0ZURpYWxvZygpO1xuXG4gICAgaWYgKCdzY3JpcHQnIGluIG9wdCkgdGhpcy5zY3JpcHQgPSBvcHQuc2NyaXB0O1xuXG4gICAgdGhpcy5kb21FbGVtLnNob3dNb2RhbCgpO1xuXG4gICAgaWYgKHRoaXMuX2NtKSB7XG4gICAgICAgIHRoaXMuX2NtLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBpZiAoJ29uQ2hhbmdlU2NyaXB0JyBpbiBvcHQpIHRoaXMub24oJ2NoYW5nZVNjcmlwdCcsIG9wdC5vbkNoYW5nZVNjcmlwdCk7XG59O1xuXG5wLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uY2xvc2UoKTtcblxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdjaGFuZ2VTY3JpcHQnKTtcbn07XG5cbnAuX2NyZWF0ZURpYWxvZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc0RpYWxvZ0NyZWF0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pc0RpYWxvZ0NyZWF0ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fY3JlYXRlQ29udGVudCgpO1xuICAgIFxuICAgIHRoaXMuZG9tRWxlbSA9IGFtZ3VpLmNyZWF0ZURpYWxvZyh7XG4gICAgICAgIHRpdGxlOiAnU2NyaXB0JyxcbiAgICAgICAgY29udGVudDogdGhpcy5fZGVDb250ZW50LFxuICAgICAgICBwYXJlbnQ6IGFtLmRlRGlhbG9nQ29udCxcbiAgICAgICAgYnV0dG9uczogWydvayddLFxuICAgIH0pO1xuXG4gICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrX29rJywgdGhpcy5fb25DbGlja09rKTtcbn07XG5cbnAuX29uQ2xpY2tPayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuaGlkZSgpO1xufTtcblxucC5fb25DaGFuZ2VTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnNjcmlwdCA9IHRoaXMuX2NtLmdldFZhbHVlKCk7XG59O1xuXG5cbnAuX2NyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnNDgwcHgnO1xuICAgIHRoaXMuX2RlQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnMzMwcHgnO1xuICAgIHRoaXMuX2RlQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzMwcHggMTJweCc7XG5cbiAgICB0aGlzLl90ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGhpcy5fZGVDb250ZW50LmFwcGVuZENoaWxkKHRoaXMuX3RleHRhcmVhKTtcblxuICAgIGFtZ3VpLmNhbGxPbkFkZGVkKHRoaXMuX3RleHRhcmVhLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5fY20gPSBuZXcgQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEodGhpcy5fdGV4dGFyZWEsIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgICAgICAgdGhlbWU6ICdwYXN0ZWwtb24tZGFyaycsXG4gICAgICAgICAgICBtb2RlOiAnamF2YXNjcmlwdCdcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9jbS5zZXRWYWx1ZSh0aGlzLnNjcmlwdCk7XG4gICAgICAgIHRoaXMuX2NtLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZVNjcmlwdCk7XG4gICAgfSwgdGhpcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEaWFsb2dTY3JpcHRFZGl0b3IoKTtcbiIsIiAgICAndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uLy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIERpYWxvZ1RyYWNrT3B0aW9ucyAoKSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX25hbWUgPSAnJztcbiAgICB0aGlzLl9zZWxlY3RvcnMgPSBbXTtcblxuICAgIHRoaXMuX29uQ2xpY2tPayA9IHRoaXMuX29uQ2xpY2tPay5iaW5kKHRoaXMpOyBcbiAgICB0aGlzLl9vbkNoYW5nZU5hbWUgPSB0aGlzLl9vbkNoYW5nZU5hbWUuYmluZCh0aGlzKTtcbn1cblxuaW5oZXJpdHMoRGlhbG9nVHJhY2tPcHRpb25zLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEaWFsb2dUcmFja09wdGlvbnMucHJvdG90eXBlO1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgbmFtZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9uYW1lID09PSB2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9uYW1lID0gdjtcbiAgICAgICAgICAgIHRoaXMuX2lucE5hbWUudmFsdWUgPSB2O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VOYW1lJywgdik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cbnAuc2hvdyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX2NyZWF0ZURpYWxvZygpO1xuXG4gICAgaWYgKCduYW1lJyBpbiBvcHQpIHRoaXMubmFtZSA9IG9wdC5uYW1lO1xuXG4gICAgaWYgKCdvbkNoYW5nZU5hbWUnIGluIG9wdCkgdGhpcy5vbignY2hhbmdlTmFtZScsIG9wdC5vbkNoYW5nZU5hbWUpO1xuXG4gICAgdGhpcy5kb21FbGVtLnNob3dNb2RhbCgpO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLmNsb3NlKCk7XG5cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygnY2hhbmdlTmFtZScpO1xufTtcblxucC5fY3JlYXRlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzRGlhbG9nQ3JlYXRlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9jcmVhdGVDb250ZW50KCk7XG4gICAgXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6ICdUcmFjaycsXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuX2RlQ29udGVudCxcbiAgICAgICAgcGFyZW50OiBhbS5kZURpYWxvZ0NvbnQsXG4gICAgICAgIGJ1dHRvbnM6IFsnb2snXSxcbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGlja19vaycsIHRoaXMuX29uQ2xpY2tPayk7XG59O1xuXG5wLl9vbkNsaWNrT2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmhpZGUoKTtcbn07XG5cbnAuX29uQ2hhbmdlTmFtZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMubmFtZSA9IHRoaXMuX2lucE5hbWUudmFsdWU7XG59O1xuXG5cbnAuX2NyZWF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnMzMwcHgnO1xuICAgIHRoaXMuX2RlQ29udGVudC5zdHlsZS5wYWRkaW5nID0gJzMwcHggMTJweCc7XG5cbiAgICBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIGNhcHRpb246ICdOYW1lJyxcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUNvbnRlbnRcbiAgICB9KTtcblxuICAgIHRoaXMuX2lucE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRoaXMuX2lucE5hbWUudHlwZSA9ICd0ZXh0JztcbiAgICB0aGlzLl9pbnBOYW1lLnZhbHVlID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX2lucE5hbWUuc3R5bGUud2lkdGggPSAnMjQ1cHgnO1xuICAgIHRoaXMuX2lucE5hbWUuc3R5bGUuZm9udFNpemUgPSAnMTRweCc7XG4gICAgdGhpcy5faW5wTmFtZS5zdHlsZS5mb250RmFtaWx5ID0gYW1ndWkuRk9OVF9GQU1JTFk7XG4gICAgdGhpcy5faW5wTmFtZS5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xuICAgIHRoaXMuX2lucE5hbWUuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgIHRoaXMuX2lucE5hbWUuc3R5bGUubWFyZ2luQm90dG9tID0gJzEycHgnO1xuICAgIHRoaXMuX2lucE5hbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgIHRoaXMuX2lucE5hbWUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VOYW1lKTtcbiAgICB0aGlzLl9kZUNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5faW5wTmFtZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEaWFsb2dUcmFja09wdGlvbnMoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEpzVHJhY2sgPSByZXF1aXJlKCcuL0pzVHJhY2snKTtcblxuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgYW0ucmVnaXN0ZXJUcmFja1R5cGUoSnNUcmFjaywgSnNUcmFjay5wcm90b3R5cGUudHlwZSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIiBmdW5jdGlvbiAoKSB7XFxuXFxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XFxuXFxuICAgICAgICB2YXIgY3VyclRpbWUgPSAwLFxcbiAgICAgICAgICAgIHByZXZUaW1lID0gMCxcXG4gICAgICAgICAgICBzcGVlZCA9IDA7XFxuICAgICAgICBcXG4gICAgICAgIHRoaXMuc3RhcnRTeXN0ZW1UaW1lID0gMDtcXG4gICAgICAgIHRoaXMubW9tZW50RnVuY3Rpb25zID0gW3t7e21vbWVudEZ1bmN0aW9uc319fV07XFxuICAgICAgICB0aGlzLmludGVydmFsRnVuY3Rpb25zID0gW3t7e2ludGVydmFsRnVuY3Rpb25zfX19XTtcXG5cXG4gICAgICAgIHRoaXMuc3RlcCA9IGZ1bmN0aW9uKHRpbWUpIHtcXG5cXG4gICAgICAgICAgICB0aGlzLnN0ZXBSYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0ZXApO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHByZXZUaW1lID0gY3VyclRpbWU7XFxuICAgICAgICAgICAgY3VyclRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcXG5cXG4gICAgICAgICAgICB0aGlzLm1vbWVudEZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChmbkRhdGEpIHtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKGZuRGF0YS50aW1lID4gcHJldlRpbWUgJiYgZm5EYXRhLnRpbWUgPD0gY3VyclRpbWUpIHtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGZuRGF0YS5mbigpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSk7XFxuXFxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbEZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChmbkRhdGEpIHtcXG5cXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbkRhdGEuYm91bmRzOyBpICs9IDIpIHtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbkRhdGEuYm91bmRzW2ldID4gcHJldlRpbWUgJiYgZm5EYXRhLmJvdW5kc1tpKzFdIDw9IGN1cnJUaW1lKSB7XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgZm5EYXRhLmZuKCk7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KTtcXG5cXG4gICAgICAgIH0uYmluZCh0aGlzKTtcXG5cXG4gICAgICAgIHZhciByZXQgPSB7fTtcXG5cXG4gICAgICAgIHJldC5wbGF5ID0gZnVuY3Rpb24gKCkge1xcblxcbiAgICAgICAgICAgIHRoaXMuc3RlcCgpO1xcblxcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xcblxcbiAgICAgICAgcmV0LnBhdXNlID0gZnVuY3Rpb24gKCkge1xcblxcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RlcFJhZklkKTtcXG5cXG4gICAgICAgIH0uYmluZCh0aGlzKTtcXG5cXG4gICAgICAgIHJldC5zZWVrID0gZnVuY3Rpb24gKHRpbWUpIHtcXG5cXG4gICAgICAgICAgICBjdXJyVGltZSA9IHRpbWU7XFxuICAgICAgICAgICAgcHJldlRpbWUgPSB0aW1lO1xcblxcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xcblxcbiAgICB9LmNhbGwoe30pO1xcbn07XCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gTW91c2UoKSB7XG5cbiAgICB0aGlzLnNjcmVlblggPSAwO1xuICAgIHRoaXMuc2NyZWVuWSA9IDA7XG5cbiAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xufVxuXG5pbmhlcml0cyhNb3VzZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gTW91c2UucHJvdG90eXBlO1xuXG5wLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB0aGlzLnNjcmVlblggPSBlLnNjcmVlblg7XG4gICAgdGhpcy5zY3JlZW5ZID0gZS5zY3JlZW5ZO1xufSBcblxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRVhBVFRSID0gWydpZCcsICdjbGFzcycsICdzdHlsZSddO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZShkZSwgcm9vdCkge1xuXG4gICAgcm9vdCA9IHJvb3QgfHwgZG9jdW1lbnQ7XG5cbiAgICB2YXIgZGVDdXJyID0gZGUsXG4gICAgICAgIHJvb3RDdXJyID0gcm9vdCwgXG4gICAgICAgIHFzQ3VyciwgcXNQYXJlbnQgPSAnJztcblxuICAgIHdoaWxlICh0cnVlKSB7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcXNDdXJyID0gZ2VuKGRlQ3Vyciwgcm9vdEN1cnIpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlKCFxc0N1cnIgJiYgXG4gICAgICAgICAgICBkZUN1cnIucGFyZW50Tm9kZSAhPT0gcm9vdEN1cnIgJiZcbiAgICAgICAgICAgIChkZUN1cnIgPSBkZUN1cnIucGFyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmICghcXNDdXJyKSB7XG5cbiAgICAgICAgICAgIGlmIChkZUN1cnIucGFyZW50Tm9kZSA9PT0gcm9vdEN1cnIpIHtcblxuICAgICAgICAgICAgICAgIHFzQ3VyciA9ICc+ICcgKyBkZUN1cnIudGFnTmFtZSArICc6bnRoLWNoaWxkKCcgK1xuICAgICAgICAgICAgICAgICAgICAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChyb290Q3Vyci5jaGlsZE5vZGVzLCBkZUN1cnIpICsgMSkgKyAnKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vY2FuJ3QgZmluZCB1bmlxdWUgcXVlcnkgc2VsZWN0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHFzUGFyZW50ICs9IChxc1BhcmVudCA/ICcgJyA6ICcnKSArIHFzQ3VycjtcblxuICAgICAgICBpZiAoZGVDdXJyID09PSBkZSkge1xuXG4gICAgICAgICAgICByZXR1cm4gcXNQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBxc0N1cnIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByb290Q3VyciA9IGRlQ3VycjtcbiAgICAgICAgICAgIGRlQ3VyciA9IGRlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW4oZGUsIHJvb3QpIHtcblxuXG4gICAgdmFyIHNpbmdsZXMsIHNlbGVjdG9ycywgbWF0Y2hlcyA9IFtdO1xuXG4gICAgc2luZ2xlcyA9IHNlbGVjdG9ycyA9IHBvc3NpYmxlSWRzKGRlKS5jb25jYXQoXG4gICAgICAgIFtkZS50YWdOYW1lXSxcbiAgICAgICAgcG9zc2libGVDbGFzc2VzKGRlLCBpKSxcbiAgICAgICAgcG9zc2libGVBdHRyaWJ1dGVzKGRlLCBpKVxuICAgICk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7ICsraSkge1xuXG4gICAgICAgIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuXG4gICAgICAgICAgICBpZiAocm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RvcnMgPSBjb21iaW5lKHNlbGVjdG9ycywgc2luZ2xlcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBvc3NpYmxlSWRzKGRlKSB7XG5cbiAgICByZXR1cm4gZGUuaWQgPyBbJyMnICsgQ1NTLmVzY2FwZShkZS5pZCldIDogW107XG59XG5cbmZ1bmN0aW9uIHBvc3NpYmxlQ2xhc3NlcyhkZSwgbWF4KSB7XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGUuY2xhc3NMaXN0LCAwKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnLicgKyBDU1MuZXNjYXBlKGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBwb3NzaWJsZUF0dHJpYnV0ZXMoZGUpIHtcblxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkZS5hdHRyaWJ1dGVzLCAwKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiBFWEFUVFIuaW5kZXhPZihhdHRyLm5hbWUpID09PSAtMTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgcmV0dXJuICdbJyArIENTUy5lc2NhcGUoYXR0ci5uYW1lKSArIChhdHRyLnZhbHVlID8gJz1cIicrYXR0ci52YWx1ZSsnXCInOiAnJykgKyAnXSc7XG4gICAgICAgIH0pO1xufVxuXG4vLyBmdW5jdGlvbiB2YXJpYXRlKF9saXN0LCBsZW5ndGgpIHtcblxuLy8gICAgIHJldHVybiBzdGVwKF9saXN0LCAyKTtcblxuLy8gICAgIGZ1bmN0aW9uIHN0ZXAobGlzdCwgYmFjaykge1xuXG4vLyAgICAgICAgIHZhciBjb21iaW5lZCA9IGNvbWJpbmUoYXR0cmlidXRlcywgbGlzdCk7XG4vLyAgICAgICAgIHJldHVybiBsaXN0LmNvbmNhdChiYWNrID09PSAwID8gY29tYmluZWQgOiBzdGVwKGNvbWJpbmVkLCAtLWJhY2spKTtcbi8vICAgICB9XG4vLyB9XG5cbmZ1bmN0aW9uIGNvbWJpbmUoc291cmNlQSwgc291cmNlQikge1xuXG4gICAgdmFyIGNvbWJpbmVkID0gW107XG5cbiAgICBzb3VyY2VBLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgc291cmNlQi5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICBpZiAoYS5pbmRleE9mKGIpID09PSAtMSAmJiBiLmluZGV4T2YoYSkgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgJyMuWzonLmluZGV4T2YoYi5jaGFyQXQoMCkpICE9PSAtMSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tYmluZWQucHVzaChhICsgYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbWJpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlO1xuIiwidmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxudmFyIGRpYWxvZyA9IG5ldyBEaWFsb2coe1xuXG4gICAgY3JlYXRlQ29udGVudDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBkZVNjcm9sbENvbnQgPSBhbWd1aS5jcmVhdGVEaXYoe1xuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUNvbnRlbnQsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVMZWZ0ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogZGVTY3JvbGxDb250LFxuICAgICAgICAgICAgd2lkdGg6ICcyMzRweCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkZVJpZ2h0ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIHBhcmVudDogZGVTY3JvbGxDb250LFxuICAgICAgICAgICAgZmxleDogJzEnLFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlU2hvcnRjdXRMYWJlbCh2YWx1ZSkge1xuXG4gICAgdmFyIGRlTGFiZWwgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIFxuICAgIH0pXG59IiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgZGlhbG9nU2V0dGluZ3MgPSByZXF1aXJlKCcuL2RpYWxvZ1NldHRpbmdzJyk7XG5cbnZhciBzaG9ydGN1dHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5tb2R1bGUuZXhwb3J0cyA9IHNob3J0Y3V0cztcblxudmFyIG1hcCA9IHtcbiAgICAnY29weSc6IFsnY3RybCtjJ10sXG4gICAgJ2N1dCc6IFsnY3RybCt4J10sXG4gICAgJ2RlbGV0ZSc6IFsnZGVsJywgJ2JhY2tzcGFjZSddLFxuICAgICdkdXBsaWNhdGUnOiBbJ2N0cmwrZCddLFxuICAgICdrZXlib2FyZFNob3J0Y3V0cyc6IFsnY3RybCtrJ10sXG4gICAgJ3Bhc3RlJzogWydjdHJsK3YnXSxcbiAgICAncmVkbyc6IFsnY3RybCtzaGlmdCt6J10sXG4gICAgJ3NlbGVjdEFsbCc6IFsnY3RybCtjJ10sXG4gICAgJ3VuZG8nOiBbJ2N0cmwreiddLFxuICAgICdzYXZlJzogWydjdHJsK3MnXSxcbiAgICAnc2F2ZUFzJzogWydjdHJsK3NoaWZ0K3MnXSxcbiAgICAncGxheS9wYXVzZSc6IFsnc3BhY2UnXSxcbiAgICAnZ3JvdXBFbGVtZW50cyc6IFsnY3RybCtnJ10sXG4gICAgJ3Nob3cvaGlkZVBhbmVscyc6IFsndGFiJ10sXG59O1xuXG5zaG9ydGN1dHMucmVhZE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcblxuICAgIE1vdXNldHJhcC5yZXNldCgpO1xuXG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBtYXBba2V5XS5mb3JFYWNoKGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgICAgIC8vIE1vdXNldHJhcC5iaW5kKHN0cm9rZSwgdGhpcy5lbWl0LmJpbmQodGhpcywga2V5KSk7XG4gICAgICAgICAgICBNb3VzZXRyYXAuYmluZChzdHJva2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXksIHN0cm9rZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGtleSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cbnNob3J0Y3V0cy5yZWFkTWFwKG1hcCk7XG5cbnNob3J0Y3V0cy5nZXRTaG9ydGN1dCA9IGZ1bmN0aW9uIChrZXkpIHtcblxuICAgIHJldHVybiBtYXBba2V5XS5qb2luKCcsICcpO1xufVxuXG5Nb3VzZXRyYXAucmVjb3JkKGZ1bmN0aW9uKHN0cm9rZXMpIHtcblxuICAgIHZhciBzdHJva2UgPSBzdHJva2VzW3N0cm9rZXMubGVuZ3RoLTFdO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIEVhc2VNYXAob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX21hcCA9IHt9O1xufVxuXG5pbmhlcml0cyhFYXNlTWFwLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBFYXNlTWFwLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRWFzZU1hcDtcblxuXG5wLnNldCA9IGZ1bmN0aW9uIChuYW1lLCBlYXNlKSB7XG5cbiAgICB0aGlzLl9tYXBbbmFtZV0gPSBlYXNlO1xufTtcblxucC5zaG93U2V0RGlhbG9nID0gZnVuY3Rpb24gKG5hbWUsIGVhc2UpIHtcblxuICAgIC8vVE9ET1xufTtcblxucC5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX21hcFtuYW1lXTtcbn07XG5cbnAubGlzdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9tYXApO1xufTtcblxucC5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgICBkZWxldGUgdGhpcy5fbWFwW25hbWVdO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIElubGluZUVhc2VFZGl0b3Iob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX29uQ2hhbmdlRWFzZSA9IHRoaXMuX29uQ2hhbmdlRWFzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2xpY2tXaW5kb3cgPSB0aGlzLl9vbkNsaWNrV2luZG93LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcbiAgICB0aGlzLl9jb2xvciA9ICcjMDBCRkZGJztcbiAgICBcbiAgICB0aGlzLl9wb2ludHMgPSBbMCwgMCwgMSwgMV07XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgdGhpcy5oaWRlKCk7XG59XG5cbmluaGVyaXRzKElubGluZUVhc2VFZGl0b3IsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IElubGluZUVhc2VFZGl0b3IucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBJbmxpbmVFYXNlRWRpdG9yO1xuXG5cblxuXG5wLnNob3cgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoIW9wdC5rZXkgfHwgKCFvcHQua2V5LmVhc2UgJiYgIW9wdC5lYXNlcykpIHJldHVybjtcblxuICAgIHRoaXMuX2tleSA9IG9wdC5rZXk7XG4gICAgdGhpcy5fZWFzZXMgPSBvcHQuZWFzZXMgPyBvcHQuZWFzZXMuc2xpY2UoKSA6IFtvcHQua2V5LmVhc2VdO1xuXG4gICAgdGhpcy5fcG9pbnRzWzBdID0gdGhpcy5fZWFzZXNbMF0ucG9pbnRzWzBdO1xuICAgIHRoaXMuX3BvaW50c1sxXSA9IHRoaXMuX2Vhc2VzWzBdLnBvaW50c1sxXTtcbiAgICB0aGlzLl9wb2ludHNbMl0gPSB0aGlzLl9lYXNlc1swXS5wb2ludHNbMl07XG4gICAgdGhpcy5fcG9pbnRzWzNdID0gdGhpcy5fZWFzZXNbMF0ucG9pbnRzWzNdO1xuXG4gICAgdGhpcy5fZWFzZXMuZm9yRWFjaChlYXNlID0+IHtcblxuICAgICAgICBlYXNlLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUVhc2UpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2Vhc2VzKSB7XG5cbiAgICAgICAgdGhpcy5fZWFzZXMuZm9yRWFjaChlYXNlID0+IHtcblxuICAgICAgICAgICAgZWFzZS5vZmYoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRWFzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tXaW5kb3cpO1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5cblxuXG5cblxucC5fcmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIga2V5ID0gdGhpcy5fa2V5LFxuICAgICAgICBwcmV2S2V5ID0ga2V5LmdldFByZXZLZXkoKSxcbiAgICAgICAgYnJLZXlMaW5lID0ga2V5LnBhcmVudEtleUxpbmUuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgYnJQYXJlbnQgPSB0aGlzLmRvbUVsZW0ucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcCA9IHRoaXMuX3BvaW50cyxcbiAgICAgICAgeCA9IGFtLnRpbWVsaW5lLnRpbWVUb1NjcmVlblgocHJldktleSA/IHByZXZLZXkudGltZSA6IDApLFxuICAgICAgICB3ID0gYW0udGltZWxpbmUudGltZVRvU2NyZWVuWChrZXkudGltZSkgLSB4LFxuICAgICAgICBoID0gdGhpcy5faGVpZ2h0LFxuICAgICAgICBkID0gJyc7XG5cbiAgICB0aGlzLl93aWR0aCA9IHc7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS50b3AgPSAoYnJLZXlMaW5lLmJvdHRvbSAtIGJyUGFyZW50LnRvcCkgKyAncHgnO1xuXG4gICAgZCArPSAnTScgKyAodypwWzBdKSArICcsJyArIChoKnBbMV0pICsgJyAnO1xuICAgIGQgKz0gJ0wwLDAgJztcbiAgICBkICs9ICdDJyArICh3KnBbMF0pICsgJywnICsgKGgqcFsxXSkgKyAnICc7XG4gICAgZCArPSAodypwWzJdKSArICcsJyArIChoKnBbM10pICsgJyAnO1xuICAgIGQgKz0gdyArICcsJyArIGggKyAnICc7XG4gICAgZCArPSAnTCcgKyAodypwWzJdKSArICcsJyArIChoKnBbM10pO1xuICAgIFxuICAgIHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdkJywgZCk7XG4gIFxuICAgIHRoaXMuX2RlQ3AwLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgIHRoaXMuX2RlQ3AxLnJlZnJlc2hQb3NpdGlvbigpO1xufTtcblxucC5fc2V0UG9pbnQgPSBmdW5jdGlvbiAocGlkeCwgeCwgeSkge1xuXG4gICAgdGhpcy5fcG9pbnRzW3BpZHhdID0geDtcbiAgICB0aGlzLl9wb2ludHNbcGlkeCsxXSA9IHk7XG5cbiAgICB0aGlzLl9lYXNlcy5mb3JFYWNoKGVhc2UgPT4gZWFzZS5wb2ludHMgPSB0aGlzLl9wb2ludHMpO1xufTtcblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlRWFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlbmRlcigpO1xufTtcblxucC5fb25DbGlja1dpbmRvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuaGlkZSgpO1xufTtcblxuXG5cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVkoLTEpJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHRoaXMuX3N2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgLy8gdGhpcy5fc3ZnLnN0eWxlLmJhY2tncm91bmQgPSAncmVkJztcbiAgICB0aGlzLl9zdmcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX3N2Zy5zdHlsZS50b3AgPSAnMHB4JztcbiAgICB0aGlzLl9zdmcuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIHRoaXMuX3N2Zy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fc3ZnKTtcblxuICAgIHRoaXMuX3BhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICB0aGlzLl9wYXRoLnN0eWxlLnN0cm9rZSA9IHRoaXMuX2NvbG9yO1xuICAgIHRoaXMuX3BhdGguc3R5bGUuZmlsbCA9ICdub25lJztcbiAgICB0aGlzLl9zdmcuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aCk7XG4gIFxuICAgIHRoaXMuX2RlQ3AwID0gdGhpcy5fY3JlYXRlQ3AoMCk7XG4gICAgdGhpcy5fZGVDcDEgPSB0aGlzLl9jcmVhdGVDcCgyKTtcbn07XG5cbnAuX2NyZWF0ZUNwID0gZnVuY3Rpb24ocG9pbnRJZHgpIHtcblxuICAgIHZhciByID0gMztcblxuICAgIHZhciBkZUNwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVDcC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGVDcC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgZGVDcC5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG4gICAgZGVDcC5zdHlsZS53aWR0aCA9IHIqMiArICdweCc7XG4gICAgZGVDcC5zdHlsZS5oZWlnaHQgPSByKjIgKyAncHgnO1xuICAgIGRlQ3Auc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtJytyKydweCwtJytyKydweCknO1xuICAgIGRlQ3Auc3R5bGUuYm9yZGVyUmFkaXVzID0gciArICdweCc7XG4gICAgZGVDcC5zdHlsZS5iYWNrZ3JvdW5kID0gdGhpcy5fY29sb3I7XG4gICAgZGVDcC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZUNwKTtcblxuICAgIGRlQ3AuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOy8vcHJldmVudCBjYWxsaW5nIF9vbkNsaWNrV2luZG93KCk7XG4gICAgfSk7XG4gIFxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogZGVDcCxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14LCBteSkge1xuXG4gICAgICAgICAgICB2YXIgYnIgPSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFBvaW50KHBvaW50SWR4LFxuICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChteCAtIGJyLmxlZnQpIC8gdGhpcy5fd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAoYnIudG9wIC0gbXkpIC8gdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBkZUNwLnJlZnJlc2hQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgXG4gICAgICAgIGRlQ3Auc3R5bGUubGVmdCA9ICh0aGlzLl9wb2ludHNbcG9pbnRJZHhdICogdGhpcy5fd2lkdGgpICsgJ3B4JztcbiAgICAgICAgZGVDcC5zdHlsZS50b3AgPSAodGhpcy5fcG9pbnRzW3BvaW50SWR4KzFdICogdGhpcy5faGVpZ2h0KSArICdweCc7XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIGRlQ3AucmVmcmVzaFBvc2l0aW9uKCk7XG4gIFxuICAgIHJldHVybiBkZUNwO1xufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIGRlY29yVGltZWJhck5hdmlnYXRvciA9IHJlcXVpcmUoJy4vZGVjb3JUaW1lYmFyTmF2aWdhdG9yJyk7XG5cbmZ1bmN0aW9uIFRpbWViYXIob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcbiAgICBcbiAgICB0aGlzLl9zdGFydCA9IG9wdC5zdGFydCB8fCAwO1xuICAgIHRoaXMuX3dpZHRoID0gb3B0LndpZHRoIHx8IDA7XG4gICAgdGhpcy5faGVpZ2h0ID0gb3B0LmhlaWdodCB8fCAyMTtcbiAgICB0aGlzLl90aW1lc2NhbGUgPSBvcHQudGltZXNjYWxlIHx8IDA7XG4gICAgdGhpcy5fY3VyclRpbWUgPSBvcHQuY3VyclRpbWUgfHwgMDtcbiAgICB0aGlzLl9sZW5ndGggPSBvcHQubGVuZ3RoIHx8IDYwMDAwO1xuXG4gICAgdGhpcy5fbWFnbmV0UG9pbnRzID0gW107XG4gICAgdGhpcy5fbWFnbmV0RGlzdGFuY2VQeCA9IDIuNTA7XG4gICAgdGhpcy5fc3RhcnRNYXJnaW4gPSAoJ3N0YXJ0TWFyZ2luJyBpbiBvcHQpID8gb3B0LnN0YXJ0TWFyZ2luIDogNjtcblxuICAgIHRoaXMuX29uTURvd24gPSBvbk1Eb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25NTW92ZSA9IG9uTU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1VcCA9IG9uTVVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9zdGVwcyA9IGdldFN0ZXBzKCk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgdGhpcy5fY3JlYXRlUG9pbnRlcigpO1xuICAgIHRoaXMuX2NyZWF0ZUVuZFNoYWRvdygpO1xuXG4gICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuLy9UT0RPIHVzZSBhbWd1aS5tYWtlRHJhZ2dhYmxlKClcbiAgICB0aGlzLl9jYW52YXNUYXBlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTURvd24pO1xuXG4gICAgZGVjb3JUaW1lYmFyTmF2aWdhdG9yKHRoaXMpO1xuXG4gICAgdGhpcy5zZWVrVG9aZXJvKCk7XG59XG5cbmluaGVyaXRzKFRpbWViYXIsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFRpbWViYXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUaW1lYmFyO1xuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICAvKiogcHgvbXMgKi9cbiAgICB0aW1lc2NhbGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl90aW1lc2NhbGUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdGltZXNjYWxlID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMC4wMDAxLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlVGltZXNjYWxlJyk7XG4gICAgICAgICAgICAvL3ByZXZlbnQgdG8gZ2V0IGJpZ2dlciBzdGFydCBtYXJnaW4gdGhhbiBcIl9zdGFydE1hcmdpblwiIFxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGFydDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBNYXRoLm1pbih0aGlzLl9zdGFydE1hcmdpbiAvIHRoaXMudGltZXNjYWxlLCBwYXJzZUludCh2KSk7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX3N0YXJ0ID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gdjtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlVGFwZScpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydDtcbiAgICAgICAgfVxuICAgIH0sIFxuXG4gICAgLyoqcHgqL1xuICAgIHdpZHRoOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlSW50KHYpO1xuXG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSB8fCB0aGlzLl93aWR0aCA9PT0gdikgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRhcGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH1cbiAgICB9LCBcbiAgICBcbiAgICBlbmQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnQgKyAodGhpcy5fd2lkdGggLyB0aGlzLl90aW1lc2NhbGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKiptcyovXG4gICAgdmlzaWJsZVRpbWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy50aW1lc2NhbGUgPSB0aGlzLl93aWR0aCAvIHY7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGggLyB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIGN1cnJUaW1lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IE1hdGgubWF4KDAsIHBhcnNlSW50KHYpKTtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fY3VyclRpbWUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fY3VyclRpbWUgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoUG9pbnRlcigpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRpbWUnLCB0aGlzLl9jdXJyVGltZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJUaW1lO1xuICAgICAgICB9XG4gICAgfSwgXG4gICAgXG4gICAgbWFnbmV0UG9pbnRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX21hZ25ldFBvaW50cyA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hZ25ldFBvaW50cztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBsZW5ndGg6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VJbnQodik7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX2xlbmd0aCA9PT0gdikgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGFydE1hcmdpbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUludCh2KTtcblxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikgfHwgdGhpcy5fc3RhcnRNYXJnaW4gPT09IHYpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TWFyZ2luID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VUYXBlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0TWFyZ2luO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuc2NyZWVuWFRvVGltZSA9IGZ1bmN0aW9uIChzY3JlZW5YKSB7XG5cbiAgICB2YXIgbGVmdCA9IHRoaXMuX2NhbnZhc1RhcGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcbiAgICAgICAgbW91c2VYID0gc2NyZWVuWCAtIGxlZnQsXG4gICAgICAgIHRpbWUgPSAobW91c2VYIC8gdGhpcy53aWR0aCkgKiB0aGlzLnZpc2libGVUaW1lO1xuXG4gICAgdGltZSAtPSB0aGlzLnN0YXJ0O1xuXG4gICAgcmV0dXJuIHRpbWU7XG59O1xuXG5wLm1hZ25ldGl6ZVRpbWUgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgdmFyIG1hZ25ldFBvaW50LCBtYWduZXRQb2ludERpZmYgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLl9tYWduZXRQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAobXApIHtcblxuICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKG1wIC0gdGltZSk7XG5cbiAgICAgICAgaWYgKGRpZmYgPCBtYWduZXRQb2ludERpZmYgfHwgbWFnbmV0UG9pbnREaWZmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1hZ25ldFBvaW50ID0gbXA7XG4gICAgICAgICAgICBtYWduZXRQb2ludERpZmYgPSBkaWZmO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKChtYWduZXRQb2ludERpZmYgKiB0aGlzLl90aW1lc2NhbGUpIDwgdGhpcy5fbWFnbmV0RGlzdGFuY2VQeCkge1xuXG4gICAgICAgIHRpbWUgPSBtYWduZXRQb2ludDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGltZTtcbn07XG5cbnAuc2Vla1RvWmVybyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuc3RhcnQgPSB0aGlzLl9zdGFydE1hcmdpbiAvIHRoaXMudGltZXNjYWxlO1xufVxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3JlbmRlclRhcGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc3RhcnQgPSB0aGlzLl9zdGFydCxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5fbGVuZ3RoLFxuICAgICAgICB2aXNpYmxlVGltZSA9IHRoaXMudmlzaWJsZVRpbWUsXG4gICAgICAgIGhlaWdodCA9IHRoaXMuX2hlaWdodCxcbiAgICAgICAgc2NhbGUgPSB0aGlzLnRpbWVzY2FsZSwgXG4gICAgICAgIHdpZHRoID0gdGhpcy5fd2lkdGgsXG4gICAgICAgIG1heE1hcmtlcnMgPSB3aWR0aCAvIDQsXG4gICAgICAgIHN0ZXAsIGksIHRleHQsIHRleHRXLFxuICAgICAgICBjdHggPSB0aGlzLl9jdHhUYXBlO1xuXG4gICAgdGhpcy5fY2FudmFzVGFwZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuX2NhbnZhc1RhcGUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5fc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuXG4gICAgICAgIGlmICgodGhpcy52aXNpYmxlVGltZSAvIHMuc21hbGwpIDwgbWF4TWFya2VycyAmJiAoIXN0ZXAgfHwgc3RlcC5zbWFsbCA+IHMuc21hbGwpKSB7XG5cbiAgICAgICAgICAgIHN0ZXAgPSBzO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICBpZiAoc3RlcCkge1xuXG4gICAgICAgIGN0eC5saW53ZWlkdGggPSAwLjU7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICAgICAgY3R4LmZvbnQgPSB+fih0aGlzLl9oZWlnaHQgKiAwLjUpICsgJ3B4IFwiT3BlbiBTYW5zXCInO1xuXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0ICUgc3RlcC5zbWFsbDsgaSA8IHZpc2libGVUaW1lOyBpICs9IHN0ZXAuc21hbGwpIHtcblxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh+fihpICogc2NhbGUpICsgMC41LCBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh+fihpICogc2NhbGUpICsgMC41LCBoZWlnaHQgKiAwLjc1KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgZm9yIChpID0gc3RhcnQgJSBzdGVwLmJpZzsgaSA8IHZpc2libGVUaW1lOyBpICs9IHN0ZXAuYmlnKSB7XG5cbiAgICAgICAgICAgIGN0eC5tb3ZlVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8ofn4oaSAqIHNjYWxlKSArIDAuNSwgaGVpZ2h0ICogMC42Mik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGZvciAoaSA9IHN0YXJ0ICUgc3RlcC50aW1lOyBpIDwgdmlzaWJsZVRpbWU7IGkgKz0gc3RlcC50aW1lKSB7XG5cbiAgICAgICAgICAgIHRleHQgPSBzdGVwLmZvcm1hdChpIC0gc3RhcnQpO1xuICAgICAgICAgICAgdGV4dFcgPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGggLyAyO1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIGkgKiBzY2FsZSAtIHRleHRXLCAxMik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hQb2ludGVyKCk7XG5cbiAgICB2YXIgZW5kV2lkdGggPSAoKHZpc2libGVUaW1lIC0gKHN0YXJ0ICsgbGVuZ3RoKSkgKiBzY2FsZSk7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUud2lkdGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih3aWR0aCwgZW5kV2lkdGgpKSArICdweCc7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gb25NRG93bihlKSB7XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChlLnNoaWZ0S2V5KSB0aGlzLl9kcmFnTW9kZSA9ICd0cmFuc2xhdGUnO1xuICAgIGVsc2UgaWYgKGUuY3RybEtleSkgdGhpcy5fZHJhZ01vZGUgPSAnc2NhbGUnO1xuICAgIGVsc2UgdGhpcy5fZHJhZ01vZGUgPSAnc2Vlayc7XG5cbiAgICB0aGlzLl9tZFggPSBlLnBhZ2VYO1xuICAgIHRoaXMuX21kU3RhcnQgPSB0aGlzLl9zdGFydDtcbiAgICB0aGlzLl9tZFRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcblxuICAgIHRoaXMuX29uTU1vdmUoZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25NTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1VcCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1VcCk7XG59XG5cbmZ1bmN0aW9uIG9uTU1vdmUoZSkge1xuXG4gICAgdmFyIG1vdmUgPSBlLnNjcmVlblggLSB0aGlzLl9tZFgsXG4gICAgICAgIHRpbWUsIG1hZ25ldFBvaW50LCBtYWduZXRQb2ludERpZmY7XG5cbiAgICBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICdzZWVrJykge1xuXG4gICAgICAgIHRpbWUgPSB0aGlzLnNjcmVlblhUb1RpbWUoZS5zY3JlZW5YKTtcbiAgICAgICAgdGltZSA9IHRoaXMubWFnbmV0aXplVGltZSh0aW1lKTtcblxuICAgICAgICB0aGlzLmN1cnJUaW1lID0gdGltZTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3NlZWsnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICd0cmFuc2xhdGUnKSB7XG5cbiAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMuX21kU3RhcnQgKyAobW92ZSAvIHRoaXMudGltZXNjYWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fZHJhZ01vZGUgPT09ICdzY2FsZScpIHtcblxuICAgICAgICB0aGlzLnRpbWVzY2FsZSA9IHRoaXMuX21kVGltZXNjYWxlICsgKG1vdmUvMTAwMCk7XG5cbiAgICAgICAgdmFyIG1kUG9zID0gKHRoaXMuX21kU3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAqIHRoaXMuX21kVGltZXNjYWxlO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gLSgodGhpcy5jdXJyVGltZSAqIHRoaXMudGltZXNjYWxlKSAtIG1kUG9zKSAvIHRoaXMudGltZXNjYWxlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25NVXAoKSB7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25NTW92ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1VcCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1VcCk7XG59XG5cblxuXG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hQb2ludGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHBvcyA9ICgodGhpcy5zdGFydCArIHRoaXMuY3VyclRpbWUpIC8gdGhpcy52aXNpYmxlVGltZSkgKiB0aGlzLndpZHRoO1xuXG4gICAgdGhpcy5fZGVQb2ludGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIHBvcyArICdweCknO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIGFtZ3VpLmNyZWF0ZVNlcGFyYXRvcih7cGFyZW50OiB0aGlzLmRvbUVsZW19KTtcblxuICAgIHRoaXMuX2NhbnZhc1RhcGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jdHhUYXBlID0gdGhpcy5fY2FudmFzVGFwZS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuX2NhbnZhc1RhcGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhc1RhcGUpOyBcbn07XG5cbnAuX2NyZWF0ZVBvaW50ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcmFkaXVzID0gNS41O1xuICAgIHRoaXMuX2RlUG9pbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlUG9pbnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5fZGVQb2ludGVyLnN0eWxlLmJvdHRvbSA9IDIqcmFkaXVzICsgJ3B4JztcbiAgICB2YXIgcG9pbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBvaW50ZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIHBvaW50ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICBwb2ludGVyLnN0eWxlLmxlZnQgPSAtcmFkaXVzICsgJ3B4JztcbiAgICBwb2ludGVyLnN0eWxlLndpZHRoID0gMipyYWRpdXMgKyAncHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuaGVpZ2h0ID0gMipyYWRpdXMgKyAncHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIHJlZCAxcHgnO1xuICAgIHBvaW50ZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzICsgJ3B4JztcbiAgICB0aGlzLl9kZVBvaW50ZXIuYXBwZW5kQ2hpbGQocG9pbnRlcik7IFxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXIpOyBcbn07XG5cbnAuX2NyZWF0ZUVuZFNoYWRvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlRW5kU2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLnJpZ2h0ID0gJzBweCc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LnN0eWxlLndpZHRoID0gJzBweCc7XG4gICAgdGhpcy5fZGVFbmRTaGFkb3cuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLl9kZUVuZFNoYWRvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSg4Myw4Myw4MywwLjczKSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRW5kU2hhZG93KTsgXG5cbiAgICB2YXIgaGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhhbmRsZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGhhbmRsZXIuc3R5bGUudG9wID0gJzBweCc7XG4gICAgaGFuZGxlci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgaGFuZGxlci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgaGFuZGxlci5zdHlsZS53aWR0aCA9ICczcHgnO1xuICAgIGhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG4gICAgaGFuZGxlci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuX2RlRW5kU2hhZG93LmFwcGVuZENoaWxkKGhhbmRsZXIpO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBoYW5kbGVyLFxuICAgICAgICB0aGlzQXJnOiB0aGlzLFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciB0aW1lID0gdGhpcy5zY3JlZW5YVG9UaW1lKG14KTtcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLm1hZ25ldGl6ZVRpbWUodGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGltZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuXG5cblxuXG5cblxuXG4vL1N0ZXBzXG5mdW5jdGlvbiBnZXRTdGVwcygpIHtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNtYWxsOiA1LCBcbiAgICAgICAgICAgIGJpZzogNTAsIFxuICAgICAgICAgICAgdGltZTogNTAsIFxuICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobXMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbXMgKyAnbXMnO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDEwLCBcbiAgICAgICAgICAgIGJpZzogMTAwLCBcbiAgICAgICAgICAgIHRpbWU6IDEwMCwgXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChtcykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBtcyArICdtcyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAwLCBcbiAgICAgICAgICAgIGJpZzogMTAwMCwgXG4gICAgICAgICAgICB0aW1lOiAxMDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQobXMvMTAwMCkgJSA2MDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAobWluID8gbWluKyc6Jyt0d28oc2VjKSA6IHNlYykgKyAncyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogNTAwLCBcbiAgICAgICAgICAgIGJpZzogNTAwMCwgXG4gICAgICAgICAgICB0aW1lOiA1MDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gcGFyc2VJbnQobXMvMTAwMCkgJSA2MDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAobWluID8gbWluKyc6Jyt0d28oc2VjKSA6IHNlYykgKyAncyc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzbWFsbDogMTAwMDAsIFxuICAgICAgICAgICAgYmlnOiA2MDAwMCwgXG4gICAgICAgICAgICB0aW1lOiA2MDAwMCwgXG4gICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChtcykge1xuICAgICAgICAgICAgICAgIHZhciBtaW4gPSBwYXJzZUludChtcy82MDAwMCkgJSA2MDtcbiAgICAgICAgICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KG1zLzM2MDAwMDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChob3VyID8gaG91cisnOicrdHdvKG1pbikgOiBtaW4pICsgJ20nO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc21hbGw6IDYwMDAwLCBcbiAgICAgICAgICAgIGJpZzogNSo2MDAwMCwgXG4gICAgICAgICAgICB0aW1lOiA1KjYwMDAwLCBcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KG1zLzYwMDAwKSAlIDYwO1xuICAgICAgICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQobXMvMzYwMDAwMCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKGhvdXIgPyBob3VyKyc6Jyt0d28obWluKSA6IG1pbikgKyAnbSc7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIHR3byhudW0pIHtcblxuICAgICAgICByZXR1cm4gKCcwMCcgKyBudW0pLnN1YnN0cigtMik7XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgVGltZWJhciA9IHJlcXVpcmUoJy4vVGltZWJhcicpO1xudmFyIEVhc2VNYXAgPSByZXF1aXJlKCcuL0Vhc2VNYXAnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgbWluZVNhdmUgPSByZXF1aXJlKCcuL21pbmVTYXZlJyk7XG52YXIgVWdsaWZ5SlMgPSByZXF1aXJlKCd1Z2xpZnktanMnKTtcbnZhciBtc3RTYXZlU2NyaXB0ID0gcmVxdWlyZSgnLi9zY3JpcHQuc2F2ZS5tc3QnKTtcbnZhciBJbmxpbmVFYXNlRWRpdG9yID0gcmVxdWlyZSgnLi9JbmxpbmVFYXNlRWRpdG9yJyk7XG52YXIgVG9vbGJhciA9IHJlcXVpcmUoJy4uL3Rvb2xiYXInKTtcblxuZnVuY3Rpb24gVGltZWxpbmUob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnNldE1heExpc3RlbmVycygxMTAwKTtcblxuICAgIHRoaXMuaW5wdXRzID0ge307XG4gICAgXG4gICAgdGhpcy5faGVhZGVySCA9IDIzO1xuXG4gICAgdGhpcy5fb25TZWxlY3RUcmFjayA9IHRoaXMuX29uU2VsZWN0VHJhY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNoYW5nZVRyYWNrID0gdGhpcy5fb25DaGFuZ2VUcmFjay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRGVsZXRlVHJhY2sgPSB0aGlzLl9vbkRlbGV0ZVRyYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3ZlVHJhY2sgPSB0aGlzLl9vbk1vdmVUcmFjay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlVGltZSA9IHRoaXMuX29uQ2hhbmdlVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlVGFwZSA9IHRoaXMuX29uQ2hhbmdlVGFwZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uV2luZG93UmVzaXplID0gdGhpcy5fb25XaW5kb3dSZXNpemUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblNlbGVjdE5ld1RyYWNrID0gdGhpcy5fb25TZWxlY3ROZXdUcmFjay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uVG9nZ2xlUGxheVBhdXNlID0gdGhpcy5fb25Ub2dnbGVQbGF5UGF1c2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblRpbWViYXJTZWVrID0gdGhpcy5fb25UaW1lYmFyU2Vlay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQgPSB0aGlzLl9vbkNoYW5nZVRyYWNrSGVpZ2h0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25TdGFydEVkaXRDdXJyVGltZSA9IHRoaXMuX29uU3RhcnRFZGl0Q3VyclRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkZpbmlzaEVkaXRDdXJyVGltZSA9IHRoaXMuX29uRmluaXNoRWRpdEN1cnJUaW1lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DaGFuZ2VJbnBDdXJyVGltZSA9IHRoaXMuX29uQ2hhbmdlSW5wQ3VyclRpbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9hbmltUGxheSA9IHRoaXMuX2FuaW1QbGF5LmJpbmQodGhpcyk7XG4gICAgXG4gICAgdGhpcy5fdGltZWJhciA9IG5ldyBUaW1lYmFyKHtcbiAgICAgICAgaGVpZ2h0OiB0aGlzLl9oZWFkZXJILFxuICAgICAgICB0aW1lc2NhbGU6IDAuMTIsXG4gICAgICAgIGxlbmd0aDogNjAwMFxuICAgIH0pO1xuXG4gICAgdGhpcy50b29sYmFyID0gbmV3IFRvb2xiYXIoe1xuICAgICAgICBoZWlnaHQ6IHRoaXMuX2hlYWRlckgsXG4gICAgICAgIGJnQ29sb3I6ICdub25lJyxcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgdGhpcy5fY3JlYXRlUG9pbnRlckxpbmUoKTtcblxuICAgIHRoaXMuaW5saW5lRWFzZUVkaXRvciA9IG5ldyBJbmxpbmVFYXNlRWRpdG9yKCk7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuaW5saW5lRWFzZUVkaXRvci5kb21FbGVtKTtcblxuICAgIHRoaXMuX3JlZnJlc2hUaW1lYmFyV2lkdGgoKTtcbiAgICB0aGlzLl9yZWZyZXNoRGVDdXJyVGltZSgpO1xuXG4gICAgdGhpcy5fdHJhY2tzID0gW107XG4gICAgdGhpcy5fbWFwVHJhY2tEYXRhcyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgICB0aGlzLmVhc2VNYXAgPSBuZXcgRWFzZU1hcCgpO1xuXG4gICAgdGhpcy5fdGltZWJhci5vbignY2hhbmdlVGltZScsIHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjaGFuZ2VUaW1lJykpO1xuICAgIHRoaXMuX3RpbWViYXIub24oJ2NoYW5nZVRhcGUnLCB0aGlzLmVtaXQuYmluZCh0aGlzLCAnY2hhbmdlVGFwZScpKTtcbiAgICB0aGlzLl90aW1lYmFyLm9uKCdjaGFuZ2VUaW1lc2NhbGUnLCB0aGlzLmVtaXQuYmluZCh0aGlzLCAnY2hhbmdlVGltZXNjYWxlJykpO1xuICAgIHRoaXMuX3RpbWViYXIub24oJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZVRpbWUpO1xuICAgIHRoaXMuX3RpbWViYXIub24oJ2NoYW5nZVRhcGUnLCB0aGlzLl9vbkNoYW5nZVRhcGUpO1xuICAgIHRoaXMuX3RpbWViYXIub24oJ3NlZWsnLCB0aGlzLl9vblRpbWViYXJTZWVrKTtcblxuICAgIGFtZ3VpLmNhbGxPbkFkZGVkKHRoaXMuZG9tRWxlbSwgdGhpcy5fcmVmcmVzaFRpbWViYXJXaWR0aCwgdGhpcyk7XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uV2luZG93UmVzaXplKTtcblxuICAgIGlmIChvcHQpIHtcbiAgICAgICAgdGhpcy51c2VTYXZlKG9wdCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhUaW1lbGluZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVGltZWxpbmUucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBUaW1lbGluZTtcblxuXG5cblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGN1cnJUaW1lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmN1cnJUaW1lO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0aW1lc2NhbGU6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci50aW1lc2NhbGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyYWNrczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFja3M7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxlbmd0aDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci53aWR0aDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3RhcnQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZWJhci5zdGFydDtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxucC5nZXRTYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHNhdmUgPSB7XG4gICAgICAgIHRpbWViYXI6IHtcbiAgICAgICAgICAgIGN1cnJUaW1lOiB0aGlzLl90aW1lYmFyLmN1cnJUaW1lLFxuICAgICAgICAgICAgdGltZXNjYWxlOiB0aGlzLl90aW1lYmFyLnRpbWVzY2FsZSxcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy5fdGltZWJhci5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrczogW10sXG4gICAgfTtcblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIHNhdmUudHJhY2tzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdHJhY2sudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHRyYWNrLmdldFNhdmUoKVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHNhdmUpKTtcblxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzYXZlKTtcbn07XG5cbnAudXNlU2F2ZSA9IGZ1bmN0aW9uIChzYXZlKSB7XG5cbiAgICBzYXZlID0gbWluZVNhdmUoc2F2ZSk7XG5cbiAgICBpZiAoIXNhdmUpIHtcbiAgICAgICAgYWxlcnQoJ0NhblxcJ3QgdXNlIHRoaXMgc2F2ZScpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHNhdmUgPSBfLmV4dGVuZCh7XG4gICAgICAgIHRpbWViYXI6IHt9LFxuICAgICAgICB0cmFja3M6IFtdXG4gICAgfSwgc2F2ZSk7XG5cbiAgICB0aGlzLl90aW1lYmFyLmN1cnJUaW1lID0gc2F2ZS50aW1lYmFyLmN1cnJUaW1lO1xuICAgIHRoaXMuX3RpbWViYXIudGltZXNjYWxlID0gc2F2ZS50aW1lYmFyLnRpbWVzY2FsZTtcbiAgICB0aGlzLl90aW1lYmFyLmxlbmd0aCA9IHNhdmUudGltZWJhci5sZW5ndGg7XG5cbiAgICBzYXZlLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja0RhdGEpIHtcblxuICAgICAgICB2YXIgVHJhY2tDbGFzcyA9IGFtLnRyYWNrVHlwZXNbdHJhY2tEYXRhLnR5cGVdLFxuICAgICAgICAgICAgdHJhY2sgPSBuZXcgVHJhY2tDbGFzcyh0cmFja0RhdGEuZGF0YSk7XG5cbiAgICAgICAgdGhpcy5hZGRUcmFjayh0cmFjayk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICBfLmludm9rZSh0aGlzLl90cmFja3MsICdyZW5kZXJUaW1lJywgdGhpcy5jdXJyVGltZSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoTWFnbmV0UG9pbnRzKCk7XG5cbiAgICBhbS5oaXN0b3J5LmNsZWFyKCk7XG59O1xuXG5wLmdldFNjcmlwdCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHZhciBzY3JpcHQsIHBsYXllclNjcmlwdHMgPSBbXTtcblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIHBsYXllclNjcmlwdHMucHVzaCh0cmFjay5nZXRTY3JpcHQoKSk7XG4gICAgfSk7XG5cbiAgICBzY3JpcHQgPSBNdXN0YWNoZS5yZW5kZXIobXN0U2F2ZVNjcmlwdCwge1xuICAgICAgICBuYW1lOiAnYW1zYXZlJyxcbiAgICAgICAgc2F2ZUpzb246IG9wdC5pbmNsdWRlU2F2ZSAmJiB0aGlzLmdldFNhdmUoKSxcbiAgICAgICAgdHJhY2tQbGF5ZXJHZW5zOiBwbGF5ZXJTY3JpcHRzLmpvaW4oJyxcXG4nKSxcbiAgICAgICAgYXV0b1BsYXk6IG9wdC5hdXRvUGxheVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdC5taW5pZnkpIHtcblxuICAgIGNvbnNvbGUubG9nKHNjcmlwdCk7XG4gICAgICAgIHNjcmlwdCA9IG1pbmlmeShzY3JpcHQpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHNjcmlwdCk7XG5cbiAgICByZXR1cm4gc2NyaXB0O1xuXG4gICAgZnVuY3Rpb24gbWluaWZ5KGNvZGUpIHtcblxuICAgICAgICByZXR1cm4gY29kZTsvL1RPRE9cblxuICAgICAgICB2YXIgcmVzdWx0ID0gVWdsaWZ5SlMubWluaWZ5KGNvZGUsIHtcbiAgICAgICAgICAgIGZyb21TdHJpbmc6IHRydWUsXG4gICAgICAgICAgICBtYW5nbGU6IGZhbHNlLFxuICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgY29tbWVudHM6IC9AYW1zYXZlLyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wcmVzczoge1xuICAgICAgICAgICAgICAgIC8vIHJlc2VydmVkOiAnSlNPTl9TQVZFJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb2RlO1xuXG4gICAgICAgIHZhciB0b3BsZXZlbCA9IG51bGw7XG4gICAgICAgIHRvcGxldmVsID0gVWdsaWZ5SlMucGFyc2UoY29kZSwge1xuICAgICAgICAgICAgZmlsZW5hbWU6ICdzYXZlJyxcbiAgICAgICAgICAgIHRvcGxldmVsOiB0b3BsZXZlbFxuICAgICAgICB9KTtcblxuICAgICAgICB0b3BsZXZlbC5maWd1cmVfb3V0X3Njb3BlKCk7XG5cbiAgICAgICAgdmFyIGNvbXByZXNzb3IgPSBVZ2xpZnlKUy5Db21wcmVzc29yKHttYW5nbGU6IGZhbHNlfSk7XG4gICAgICAgIHZhciBjb21wcmVzc2VkX2FzdCA9IHRvcGxldmVsLnRyYW5zZm9ybShjb21wcmVzc29yKTtcblxuICAgICAgICBjb21wcmVzc2VkX2FzdC5maWd1cmVfb3V0X3Njb3BlKCk7XG4gICAgICAgIGNvbXByZXNzZWRfYXN0LmNvbXB1dGVfY2hhcl9mcmVxdWVuY3koKTtcbiAgICAgICAgY29tcHJlc3NlZF9hc3QubWFuZ2xlX25hbWVzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXByZXNzZWRfYXN0LnByaW50X3RvX3N0cmluZyh7Y29tbWVudHM6ICdhbGwnfSk7XG4gICAgfSBcbn07XG5cbnAuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgd2hpbGUodGhpcy5fdHJhY2tzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlVHJhY2sodGhpcy5fdHJhY2tzWzBdKTtcbiAgICB9XG59O1xuXG5wLmFkZFRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCBza2lwSGlzdG9yeSkge1xuXG4gICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICBhbS5oaXN0b3J5LnNhdmUoXG4gICAgICAgICAgICBbdGhpcy5yZW1vdmVUcmFjaywgdGhpcywgdHJhY2ssIHRydWVdLFxuICAgICAgICAgICAgW3RoaXMuYWRkVHJhY2ssIHRoaXMsIHRyYWNrLCB0cnVlXSxcbiAgICAgICAgICAgICdhZGQgdHJhY2snKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5fdHJhY2tzLnB1c2godHJhY2spO1xuXG4gICAgdGhpcy5fbWFwVHJhY2tEYXRhcy5zZXQodHJhY2ssIHtcbiAgICAgICAgZGVDb250T3B0OiBjcmVhdGVDb250KHRyYWNrLmRlT3B0aW9uTGluZSwgdGhpcy5fZGVPcHRpb25MaW5lQ29udCksXG4gICAgICAgIGRlQ29udEtmOiBjcmVhdGVDb250KHRyYWNrLmRlS2V5TGluZSwgdGhpcy5fZGVLZXlMaW5lQ29udCksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZVRyYWNrSGVpZ2h0KHRyYWNrKTtcblxuICAgIHRyYWNrLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdFRyYWNrKTtcbiAgICB0cmFjay5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VUcmFjayk7XG4gICAgdHJhY2sub24oJ2RlbGV0ZScsIHRoaXMuX29uRGVsZXRlVHJhY2spO1xuICAgIHRyYWNrLm9uKCdtb3ZlJywgdGhpcy5fb25Nb3ZlVHJhY2spO1xuICAgIHRyYWNrLm9uKCdjaGFuZ2VIZWlnaHQnLCB0aGlzLl9vbkNoYW5nZVRyYWNrSGVpZ2h0KTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbnQoY29udGVudCwgcGFyZW50KSB7XG5cbiAgICAgICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkZS5zdHlsZS5oZWlnaHQgPSB0cmFjay5oZWlnaHQgKyAncHgnO1xuICAgICAgICBkZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICBkZS5zdHlsZS50cmFuc2Zvcm0gPSAnaGVpZ2h0IDAuMTIgZWFzZU91dCc7XG4gICAgICAgIGRlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGUpO1xuXG4gICAgICAgIHJldHVybiBkZTtcbiAgICB9XG59O1xuXG5wLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCBza2lwSGlzdG9yeSkge1xuXG4gICAgaWYgKCFza2lwSGlzdG9yeSkge1xuICAgICAgICBhbS5oaXN0b3J5LnNhdmUoXG4gICAgICAgICAgICBbdGhpcy5hZGRUcmFjaywgdGhpcywgdHJhY2ssIHRydWVdLFxuICAgICAgICAgICAgW3RoaXMucmVtb3ZlVHJhY2ssIHRoaXMsIHRyYWNrLCB0cnVlXSxcbiAgICAgICAgICAgICdyZW1vdmUgdHJhY2snKTtcbiAgICB9XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fdHJhY2tzLmluZGV4T2YodHJhY2spO1xuXG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYWNrcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgIHZhciB0cmFja0RhdGEgPSB0aGlzLl9tYXBUcmFja0RhdGFzLmdldCh0cmFjayk7XG4gICAgJCh0cmFja0RhdGEuZGVDb250T3B0KS5yZW1vdmUoKTtcbiAgICAkKHRyYWNrRGF0YS5kZUNvbnRLZikucmVtb3ZlKCk7XG4gICAgdGhpcy5fbWFwVHJhY2tEYXRhcy5kZWxldGUodHJhY2spO1xuXG4gICAgdHJhY2sucmVtb3ZlTGlzdGVuZXIoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0VHJhY2spO1xuICAgIHRyYWNrLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZVRyYWNrKTtcbiAgICB0cmFjay5yZW1vdmVMaXN0ZW5lcignZGVsZXRlJywgdGhpcy5fb25EZWxldGVUcmFjayk7XG4gICAgdHJhY2sucmVtb3ZlTGlzdGVuZXIoJ21vdmUnLCB0aGlzLl9vbk1vdmVUcmFjayk7XG4gICAgdHJhY2sucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZUhlaWdodCcsIHRoaXMuX29uQ2hhbmdlVHJhY2tIZWlnaHQpO1xuXG4gICAgdHJhY2suZGlzcG9zZSgpO1xufTtcblxucC5tb3ZlVHJhY2sgPSBmdW5jdGlvbiAodHJhY2ssIHdheSkge1xuXG4gICAgdmFyIGlkeCA9IHRoaXMuX3RyYWNrcy5pbmRleE9mKHRyYWNrKTtcblxuICAgIHRoaXMuX3RyYWNrcy5zcGxpY2UoaWR4LCAxKTtcbiAgICBpZHggPSBNYXRoLm1pbih0aGlzLl90cmFja3MubGVuZ3RoLCBNYXRoLm1heCgwLCBpZHggKyB3YXkpKTtcbiAgICB0aGlzLl90cmFja3Muc3BsaWNlKGlkeCwgMCwgdHJhY2spO1xuXG4gICAgdGhpcy5fcmVmcmVzaFRyYWNrT3JkZXJpbmcoKTtcbn07XG5cbnAucGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pc1BsYXlpbmcpIHJldHVybjtcbiAgICB0aGlzLl9pc1BsYXlpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fYnRuVG9nZ2xlUGxheS5zZXRUb2dnbGUodHJ1ZSk7XG5cbiAgICBfLmludm9rZSh0aGlzLl90cmFja3MsICdwbGF5JywgdGhpcy5jdXJyVGltZSk7XG5cbiAgICB0aGlzLl9wbGF5U3RhcnRUaW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLl9wbGF5U3RhcnRDdXJyVGltZSA9IHRoaXMuY3VyclRpbWU7XG4gICAgdGhpcy5fYW5pbVBsYXkoKTtcbn07XG5cbnAucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoIXRoaXMuX2lzUGxheWluZykgcmV0dXJuO1xuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYnRuVG9nZ2xlUGxheS5zZXRUb2dnbGUoZmFsc2UpO1xuXG4gICAgXy5pbnZva2UodGhpcy5fdHJhY2tzLCAncGF1c2UnKTtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltUGxheVJhZmlkKTtcbn07XG5cbnAuc2NyZWVuWFRvVGltZSA9IGZ1bmN0aW9uIChzY3JlZW5YKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fdGltZWJhci5zY3JlZW5YVG9UaW1lKHNjcmVlblgpO1xufTtcblxucC50aW1lVG9SZW5kZXJQb3MgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuICh0aW1lICsgYW0udGltZWxpbmUuc3RhcnQpICogYW0udGltZWxpbmUudGltZXNjYWxlO1xufTtcblxucC50aW1lVG9TY3JlZW5YID0gZnVuY3Rpb24gKHRpbWUpIHtcblxuICAgIHJldHVybiB0aGlzLl90aW1lYmFyLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHRoaXMudGltZVRvUmVuZGVyUG9zKHRpbWUpO1xufTtcblxucC5hZGRJbnB1dCA9IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZSkge1xuXG4gICAgdmFyIG9iaiA9IHRoaXMuaW5wdXRzO1xuXG4gICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy9UT0RPOiB0aHJvdyBhIGRldGFpbGVkIGVycm9yXG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgfVxuXG4gICAgcGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcblxuICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaWR4LCBhcnIpIHtcblxuICAgICAgICBpZiAoaWR4ID09PSBhcnIubGVuZ3RoLTEpIHtcblxuICAgICAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBfLmlzUGxhaW5PYmplY3Qob2JqW25hbWVdKSA/IG9ialtuYW1lXSA6IHt9O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZS5pbnB1dHMnKTtcbn07XG5cbnAuc2V0SW5wdXRzID0gZnVuY3Rpb24gKGlucHV0cykge1xuXG4gICAgaWYgKCFfLmlzUGxhaW5PYmplY3QoaW5wdXRzKSkge1xuICAgICAgICAvL1RPRE86IHRocm93IGEgZGV0YWlsZWQgZXJyb3JcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlLmlucHV0cycpO1xufTtcblxuXG5cblxuXG5cblxucC5fYW5pbVBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9hbmltUGxheVJhZmlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltUGxheSk7XG5cbiAgICB2YXIgdCA9IE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLl9wbGF5U3RhcnRUaW1lU3RhbXApO1xuICAgIHRoaXMuX3RpbWViYXIuY3VyclRpbWUgPSAodGhpcy5fcGxheVN0YXJ0Q3VyclRpbWUgKyB0KSAlIHRoaXMuX3RpbWViYXIubGVuZ3RoO1xufTtcblxucC5fb25UaW1lYmFyU2VlayA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMucGF1c2UoKTtcbn07XG5cbnAuX29uU2VsZWN0VHJhY2sgPSBmdW5jdGlvbih0cmFjaykge1xuXG4gICAgaWYgKHRoaXMuX2N1cnJUcmFjayA9PT0gdHJhY2spIFxuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodGhpcy5fY3VyclRyYWNrKSB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9jdXJyVHJhY2suZGVzZWxlY3QoKTsgXG4gICAgfVxuXG4gICAgdGhpcy5fY3VyclRyYWNrID0gdHJhY2s7XG59O1xuXG5wLl9vbkNoYW5nZVRyYWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoTWFnbmV0UG9pbnRzKCk7XG59O1xuXG5wLl9vbkRlbGV0ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICB0aGlzLnJlbW92ZVRyYWNrKHRyYWNrKTtcbn07XG5cbnAuX29uTW92ZVRyYWNrID0gZnVuY3Rpb24gKHRyYWNrLCB3YXkpIHtcblxuICAgIHRoaXMubW92ZVRyYWNrKHRyYWNrLCB3YXkpO1xufTtcblxucC5fb25DaGFuZ2VUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fcmVmcmVzaERlUG9pbnRlcigpO1xuXG4gICAgdGhpcy5fcmVmcmVzaERlQ3VyclRpbWUoKTtcbn07XG5cbnAuX29uQ2hhbmdlVGFwZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIHZhciBsZWZ0ID0gKHRoaXMuX3RpbWViYXIuc3RhcnQgKiB0aGlzLnRpbWVzY2FsZSk7XG5cbiAgICAvLyB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAvLyB0aGlzLl9kZUtleUxpbmVDb250LnN0eWxlLndpZHRoID0gJ2NhbGMoMTAwJSArICcgKyAoLWxlZnQpICsgJ3B4KSc7XG5cbiAgICB0aGlzLl9yZWZyZXNoRGVQb2ludGVyKCk7XG59O1xuXG5wLl9vbkNoYW5nZVRyYWNrSGVpZ2h0ID0gZnVuY3Rpb24gKHRyYWNrKSB7XG5cbiAgICB2YXIgaCA9IHRyYWNrLmhlaWdodCxcbiAgICAgICAgdHJhY2tEYXRhID0gdGhpcy5fbWFwVHJhY2tEYXRhcy5nZXQodHJhY2spO1xuXG4gICAgdHJhY2tEYXRhLmRlQ29udE9wdC5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICB0cmFja0RhdGEuZGVDb250S2Yuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG59O1xuXG5wLl9vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hUaW1lYmFyV2lkdGgoKTtcbn07XG5cbnAuX29uVG9nZ2xlUGxheVBhdXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzUGxheWluZykge1xuXG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbn07XG5cbnAuX29uU2VsZWN0TmV3VHJhY2sgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdmFyIGFkZFRyYWNrID0gZnVuY3Rpb24gKHR5cGUpIHtcblxuICAgICAgICB2YXIgVHJhY2tDbGFzc2YgPSBhbS50cmFja1R5cGVzW3R5cGVdO1xuXG4gICAgICAgIHRoaXMuYWRkVHJhY2sobmV3IFRyYWNrQ2xhc3MoKSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgc3dpdGNoIChlLmRldGFpbC5zZWxlY3Rpb24pIHtcblxuICAgICAgICBjYXNlICdjc3MnOlxuICAgICAgICAgICAgYWRkVHJhY2soJ2Nzc190cmFja190eXBlJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdqcyc6XG4gICAgICAgICAgICBhZGRUcmFjaygnanNfdHJhY2tfdHlwZScpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFtLmRpYWxvZ3MuV0lQLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgIH1cbn07XG5cbnAuX29uU3RhcnRFZGl0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pbnBDdXJyVGltZS52YWx1ZSA9IHRoaXMuY3VyclRpbWU7XG5cbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICB0aGlzLl9pbnBDdXJyVGltZS5mb2N1cygpO1xufTtcblxucC5fb25GaW5pc2hFZGl0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9pbnBDdXJyVGltZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG5wLl9vbkNoYW5nZUlucEN1cnJUaW1lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fdGltZWJhci5jdXJyVGltZSA9IHRoaXMuX2lucEN1cnJUaW1lLnZhbHVlO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9yZWZyZXNoVHJhY2tPcmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIHZhciB0cmFja0RhdGEgPSB0aGlzLl9tYXBUcmFja0RhdGFzLmdldCh0cmFjayk7XG5cbiAgICAgICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udC5hcHBlbmRDaGlsZCh0cmFja0RhdGEuZGVDb250T3B0KTtcbiAgICAgICAgdGhpcy5fZGVLZXlMaW5lQ29udC5hcHBlbmRDaGlsZCh0cmFja0RhdGEuZGVDb250S2YpO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5fcmVmcmVzaE1hZ25ldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBtYWduZXRQb2ludHMgPSBbXTtcblxuICAgIHRoaXMuX3RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdHJhY2suZ2V0TWFnbmV0UG9pbnRzID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIG1hZ25ldFBvaW50cyA9IG1hZ25ldFBvaW50cy5jb25jYXQodHJhY2suZ2V0TWFnbmV0UG9pbnRzKCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBtYWduZXRQb2ludHMgPSBfLnVuaXEobWFnbmV0UG9pbnRzKTtcblxuICAgIHRoaXMuX3RpbWViYXIubWFnbmV0UG9pbnRzID0gbWFnbmV0UG9pbnRzO1xufTtcblxucC5fcmVmcmVzaFRpbWViYXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3RpbWViYXIud2lkdGggPSB0aGlzLl9kZVJpZ2h0Lm9mZnNldFdpZHRoO1xufTtcblxucC5fcmVmcmVzaERlUG9pbnRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBsZWZ0ID0gKHRoaXMuX3RpbWViYXIuc3RhcnQgKyB0aGlzLmN1cnJUaW1lKSAqIHRoaXMudGltZXNjYWxlO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoJyArIGxlZnQgKyAncHgpJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLnZpc2liaWxpdHkgPSBsZWZ0IDwgMCA/ICdoaWRkZW4nIDogJyc7XG59O1xuXG5wLl9yZWZyZXNoRGVDdXJyVGltZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB0aW1lID0gdGhpcy5jdXJyVGltZSwgXG4gICAgICAgIG1pbiwgc2VjLCBtcywgc3RyICA9ICcnO1xuXG4gICAgbWluID0gfn4odGltZSAvIDYwMDAwKTtcbiAgICB0aW1lICU9IDYwMDAwO1xuICAgIHNlYyA9IH5+KHRpbWUgLyAxMDAwKTtcbiAgICB0aW1lICU9IDEwMDA7XG4gICAgbXMgPSB+fnRpbWU7XG5cbiAgICBpZiAobWluKSB7XG4gICAgICAgIHN0ciArPSBtaW4gKyAnOic7XG4gICAgICAgIHNlYyA9ICgnMDAnICsgc2VjKS5zdWJzdHIoLTIpO1xuICAgIH1cbiAgICBpZiAoc2VjKSB7XG4gICAgICAgIHN0ciArPSBzZWMgKyAnLic7XG4gICAgICAgIG1zID0gKCcwMDAnICsgbXMpLnN1YnN0cigtMyk7XG4gICAgfVxuICAgIHN0ciArPSBtcztcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnRleHRDb250ZW50ID0gc3RyO1xufTtcblxuXG5cblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBhbWd1aS5jb2xvci5iZzA7IFxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOyBcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJzsgXG5cbiAgICB0aGlzLl9kZUxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuX2RlTGVmdC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlTGVmdC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgdGhpcy5fZGVMZWZ0LnN0eWxlLndpZHRoID0gJzMwMHB4JztcbiAgICB0aGlzLl9kZUxlZnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUxlZnQpO1xuXG4gICAgdGhpcy5fY3JlYXRlU2V0dGluZ3NIZWFkKCk7XG5cbiAgICB0aGlzLl9kZURpdmlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZURpdmlkZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYW1ndWkuY29sb3IuYmczO1xuICAgIHRoaXMuX2RlRGl2aWRlci5zdHlsZS53aWR0aCA9ICcxcHgnO1xuICAgIHRoaXMuX2RlRGl2aWRlci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlRGl2aWRlcik7XG5cbiAgICB0aGlzLl9kZVJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVSaWdodC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuX2RlUmlnaHQuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLl9kZVJpZ2h0LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVSaWdodCk7XG5cbiAgICB0aGlzLl90aW1lYmFyLmRvbUVsZW0uc3R5bGUuaGVpZ2h0ID0gJzIzcHgnO1xuICAgIHRoaXMuX2RlUmlnaHQuYXBwZW5kQ2hpbGQodGhpcy5fdGltZWJhci5kb21FbGVtKTtcblxuICAgIC8va2VlcHMgdGhlIHNjcm9sbCBiYXIgYW5kIHRoZSBzY3JvbGwgY29udGFpbmVyKF9kZUtleUxpbmVDb250MilcbiAgICB0aGlzLl9kZUtleUxpbmVDb250MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250My5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgdGhpcy5fZGVSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9kZUtleUxpbmVDb250Myk7XG5cbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX2RlT3B0aW9uTGluZUNvbnQyLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250Mi5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMuX2RlTGVmdC5hcHBlbmRDaGlsZCh0aGlzLl9kZU9wdGlvbkxpbmVDb250Mik7XG5cbiAgICB0aGlzLl9kZUtleUxpbmVDb250MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUtleUxpbmVDb250Mi5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQzLmFwcGVuZENoaWxkKHRoaXMuX2RlS2V5TGluZUNvbnQyKTtcblxuICAgIC8vdGhpcyBjb250YWluZXIgaXMgbW92aW5nIHdpdGggdGhlIHRpbWVsaW5lXG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlS2V5TGluZUNvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVLZXlMaW5lQ29udDIuYXBwZW5kQ2hpbGQodGhpcy5fZGVLZXlMaW5lQ29udCk7XG5cbiAgICB0aGlzLl9kZU9wdGlvbkxpbmVDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVPcHRpb25MaW5lQ29udDIuYXBwZW5kQ2hpbGQodGhpcy5fZGVPcHRpb25MaW5lQ29udCk7XG5cbiAgICB0aGlzLl9kZVJhbmdlID0gYW1ndWkuY3JlYXRlUmFuZ2Uoe1xuICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUtleUxpbmVDb250MyxcbiAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICB9KTtcblxuICAgIGFtZ3VpLm1ha2VTY3JvbGxhYmxlKHtcbiAgICAgICAgZGVDb250OiBbdGhpcy5fZGVPcHRpb25MaW5lQ29udDIsIHRoaXMuX2RlS2V5TGluZUNvbnQzXSxcbiAgICAgICAgZGVUYXJnZXQ6IFt0aGlzLl9kZU9wdGlvbkxpbmVDb250LCB0aGlzLl9kZUtleUxpbmVDb250XSxcbiAgICAgICAgZGVSYW5nZTogdGhpcy5fZGVSYW5nZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fY3JlYXRlRGl2aWRlckhhbmRsZXIoKTtcbn07XG5cblxucC5fY3JlYXRlU2V0dGluZ3NIZWFkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVNldHRpbmdzSGVhZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZGFya2dyZWV5JztcbiAgICB0aGlzLl9kZVNldHRpbmdzSGVhZC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9kZVNldHRpbmdzSGVhZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVNldHRpbmdzSGVhZC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9oZWFkZXJIICsgJ3B4JztcbiAgICB0aGlzLl9kZUxlZnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVTZXR0aW5nc0hlYWQpO1xuICAgIGFtZ3VpLmNyZWF0ZVNlcGFyYXRvcih7cGFyZW50OiB0aGlzLl9kZVNldHRpbmdzSGVhZH0pO1xuXG4gICAgdGhpcy5fZGVTZXR0aW5nc0hlYWQuYXBwZW5kQ2hpbGQodGhpcy50b29sYmFyLmRvbUVsZW0pO1xuXG4gICAgdGhpcy5fYnRuTmV3VHJhY2sgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ2FkZCBuZXcgdHJhY2snLFxuICAgICAgICBpY29uOiAncGx1cy1zcXVhcmVkJyxcbiAgICAgICAgc2l6ZTogdGhpcy5faGVhZGVySCxcbiAgICAgICAgLy8gcGFyZW50OiB0aGlzLl9kZVNldHRpbmdzSGVhZCxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgfSk7XG4gICAgdGhpcy50b29sYmFyLmFkZEljb24oe2RlSWNvbjogdGhpcy5fYnRuTmV3VHJhY2t9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7ICAgIFxuICAgICAgICBkZVRhcmdldDogdGhpcy5fYnRuTmV3VHJhY2ssXG4gICAgICAgIGRlTWVudTogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogWydjc3MnLCAnanMnLCAnYXR0cmlidXRlJywgJ21lZGlhJywgJ3RpbWVsaW5lJywgJ3RocmVlLmpzJywgJ3BpeGkuanMnLCAnZWFzZWwuanMnLCAna2luZXRpYy5qcycsICdyYXBoYWVsLmpzJywgJ3NuYXAuanMnXSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLl9vblNlbGVjdE5ld1RyYWNrLFxuICAgICAgICB9KSxcbiAgICB9KTtcblxuICAgIFxuICAgIHRoaXMuX2J0blRvZ2dsZVBsYXkgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3BsYXkvcGF1c2UgcHJldmlldycsXG4gICAgICAgIGljb25PbjogJ3BhdXNlJywgXG4gICAgICAgIGljb25PZmY6ICdwbGF5JyxcbiAgICAgICAgc2l6ZTogdGhpcy5faGVhZGVySCxcbiAgICAgICAgLy8gcGFyZW50OiB0aGlzLl9kZVNldHRpbmdzSGVhZCxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uVG9nZ2xlUGxheVBhdXNlXG4gICAgfSk7XG4gICAgdGhpcy50b29sYmFyLmFkZEljb24oe2RlSWNvbjogdGhpcy5fYnRuVG9nZ2xlUGxheX0pO1xuXG4gICAgdGhpcy5fZGVDdXJyVGltZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgY2FwdGlvbjogJycsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVTZXR0aW5nc0hlYWRcbiAgICB9KTtcbiAgICB0aGlzLl9kZUN1cnJUaW1lLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS50ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XG4gICAgdGhpcy5fZGVDdXJyVGltZS5zdHlsZS5tYXJnaW5SaWdodCA9ICcycHgnO1xuICAgIHRoaXMuX2RlQ3VyclRpbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci5iZzM7XG4gICAgdGhpcy5fZGVDdXJyVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uU3RhcnRFZGl0Q3VyclRpbWUpO1xuXG4gICAgdGhpcy5faW5wQ3VyclRpbWUgPSBhbWd1aS5jcmVhdGVJbnB1dCh7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlU2V0dGluZ3NIZWFkXG4gICAgfSk7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5zdHlsZS5mbGV4ID0gJzEnO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLnN0eWxlLnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XG4gICAgdGhpcy5faW5wQ3VyclRpbWUuc3R5bGUubWFyZ2luUmlnaHQgPSAnMnB4JztcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLmJnMztcbiAgICB0aGlzLl9pbnBDdXJyVGltZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25GaW5pc2hFZGl0Q3VyclRpbWUpO1xuICAgIHRoaXMuX2lucEN1cnJUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlSW5wQ3VyclRpbWUpO1xufTtcblxucC5fY3JlYXRlRGl2aWRlckhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlci5zdHlsZS50b3AgPSB0aGlzLl9oZWFkZXJIICsgJ3B4JztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmxlZnQgPSB0aGlzLl9kZUxlZnQuc3R5bGUud2lkdGg7XG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlci5zdHlsZS53aWR0aCA9ICcxcHgnO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlRGl2aWRlckhhbmRsZXIuc3R5bGUuaGVpZ2h0ID0gJ2NhbGMoMTAwJSAtICcgKyB0aGlzLl9oZWFkZXJIICsgJ3B4KSc7XG4gICAgdGhpcy5fZGVEaXZpZGVySGFuZGxlci5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKDMpJztcbiAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZURpdmlkZXJIYW5kbGVyKTtcblxuICAgIGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuXG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLFxuICAgICAgICB0aGlzQXJnOiB0aGlzLFxuICAgICAgICBcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBsZWZ0ID0gbXggLSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICdweCc7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlTGVmdC5zdHlsZS53aWR0aCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9kZURpdmlkZXJIYW5kbGVyLnN0eWxlLmxlZnQgPSBsZWZ0O1xuXG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoVGltZWJhcldpZHRoKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbnAuX2NyZWF0ZVBvaW50ZXJMaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVQb2ludGVyTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUudG9wID0gdGhpcy5faGVhZGVySCArICdweCc7XG4gICAgdGhpcy5fZGVQb2ludGVyTGluZS5zdHlsZS53aWR0aCA9ICcwcHgnO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuX2RlUG9pbnRlckxpbmUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVBvaW50ZXJMaW5lLnN0eWxlLmJvcmRlckxlZnQgPSAnMXB4IHNvbGlkIHJlZCc7XG4gICAgdGhpcy5fZGVSaWdodC5hcHBlbmRDaGlsZCh0aGlzLl9kZVBvaW50ZXJMaW5lKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5cbmZ1bmN0aW9uIGRlY29yVGltZWJhck5hdmlnYXRvciAodGltZWJhcikge1xuXG4gICAgdmFyIGRlTmF2LCBkZUxlZnRIYW5kLCBkZVJpZ2h0SGFuZCwgZHJhZ01vZGU7XG4gICAgXG4gICAgY3JlYXRlQmFzZSgpO1xuICAgIHRpbWViYXIuZG9tRWxlbS5hcHBlbmRDaGlsZChkZU5hdik7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IGRlTmF2LFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gZGVMZWZ0SGFuZCkgZHJhZ01vZGUgPSAnc3RhcnQnO1xuICAgICAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQgPT09IGRlUmlnaHRIYW5kKSBkcmFnTW9kZSA9ICdlbmQnO1xuICAgICAgICAgICAgZWxzZSBkcmFnTW9kZSA9ICdtb3ZlJztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGltZWJhci5zdGFydCxcbiAgICAgICAgICAgICAgICB2aXNpYmxlVGltZTogdGltZWJhci52aXNpYmxlVGltZSxcbiAgICAgICAgICAgICAgICB0aW1lc2NhbGU6IHRpbWViYXIudGltZXNjYWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiBmdW5jdGlvbiAobWQsIG14KSB7XG5cbiAgICAgICAgICAgIHZhciBzY2FsZSA9IHRpbWViYXIud2lkdGggLyB0aW1lYmFyLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtb3ZlID0gKG14IC0gbWQubXgpIC8gc2NhbGUsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBtZC5zdGFydCAtIG1vdmU7XG5cbiAgICAgICAgICAgIGlmIChkcmFnTW9kZSA9PT0gJ21vdmUnKSB7XG5cbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ3N0YXJ0Jykge1xuXG4gICAgICAgICAgICAgICAgdGltZWJhci5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSAtIG1vdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkcmFnTW9kZSA9PT0gJ2VuZCcpIHtcblxuICAgICAgICAgICAgICAgIHRpbWViYXIudmlzaWJsZVRpbWUgPSBtZC52aXNpYmxlVGltZSArIG1vdmU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWRQb3MgPSAobWQuc3RhcnQgKyB0aW1lYmFyLmN1cnJUaW1lKSAqIG1kLnRpbWVzY2FsZTtcbiAgICAgICAgICAgICAgICB0aW1lYmFyLnN0YXJ0ID0gLSgodGltZWJhci5jdXJyVGltZSAqIHRpbWViYXIudGltZXNjYWxlKSAtIG1kUG9zKSAvIHRpbWViYXIudGltZXNjYWxlO1xuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9LFxuICAgICAgICBvblVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRyYWdNb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25NTGVhdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBkZU5hdi5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVZKDEpJztcbiAgICAgICAgfSxcbiAgICAgICAgb25MZWF2ZTogb25NTGVhdmVcbiAgICB9KTtcblxuICAgIHRpbWViYXIub24oJ2NoYW5nZVRhcGUnLCBvbkNoYW5nZVRhcGUpO1xuXG5cbiAgICBmdW5jdGlvbiBvbkNoYW5nZVRhcGUoKSB7XG5cbiAgICAgICAgdmFyIHNjYWxlID0gdGltZWJhci53aWR0aCAvIHRpbWViYXIubGVuZ3RoO1xuXG4gICAgICAgIGRlTmF2LnN0eWxlLmxlZnQgPSAoLXRpbWViYXIuc3RhcnQgKiBzY2FsZSkgKyAncHgnO1xuICAgICAgICBkZU5hdi5zdHlsZS53aWR0aCA9ICh0aW1lYmFyLnZpc2libGVUaW1lICogc2NhbGUpICsgJ3B4JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1MZWF2ZSgpIHtcblxuICAgICAgICBpZiAoIWRyYWdNb2RlKSB7XG4gICAgICAgICAgICBkZU5hdi5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVZKDAuNCknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZSAoKSB7XG5cbiAgICAgICAgZGVOYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVOYXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZU5hdi5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZGVOYXYuc3R5bGUuaGVpZ2h0ID0gJzdweCc7XG4gICAgICAgIGRlTmF2LnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgICAgICAgZGVOYXYuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciB0b3AnO1xuICAgICAgICBkZU5hdi5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcyO1xuXG4gICAgICAgIGRlUmlnaHRIYW5kID0gY3JlYXRlSGFuZGxlcigncmlnaHQnKTtcbiAgICAgICAgZGVMZWZ0SGFuZCA9IGNyZWF0ZUhhbmRsZXIoJ2xlZnQnKTtcbiAgICAgICAgb25NTGVhdmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIYW5kbGVyKHNpZGUpIHtcblxuICAgICAgICB2YXIgZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkZS5zdHlsZVtzaWRlXSA9ICcwcHgnO1xuICAgICAgICBkZS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZGUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkZS5zdHlsZS53aWR0aCA9ICc4JSc7XG4gICAgICAgIGRlLnN0eWxlLm1pbldpZHRoID0gJzFweCc7XG4gICAgICAgIGRlLnN0eWxlLm1heFdpZHRoID0gJzdweCc7XG4gICAgICAgIGRlLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICBkZU5hdi5hcHBlbmRDaGlsZChkZSk7XG5cbiAgICAgICAgcmV0dXJuIGRlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWNvclRpbWViYXJOYXZpZ2F0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gbWluZTtcblxuZnVuY3Rpb24gbWluZShzdHIpIHtcblxuICAgIGlmICh0eXBlb2Yoc3RyKSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciByeCA9IC9cXC9cXCpcXCpbXFxzXFxTXSpAYW1zYXZlW1xcc1xcU10qXFwqXFwvW1xcc1xcU10uKnZhclxccy4qU0FWRUpTT05cXHMuKj0oW1xcc1xcU10uKikvLFxuICAgICAgICBtID0gcnguZXhlYyhzdHIpLFxuICAgICAgICBqc29uO1xuXG4gICAgaWYgKG0gJiYgbVsxXSkge1xuXG4gICAgICAgIGpzb24gPSBleHRyYWN0SlNPTihtWzFdKVswXTtcblxuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTA1NzQ1NDYvMzYxNTI4OFxuZnVuY3Rpb24gZXh0cmFjdEpTT04oc3RyKSB7XG4gICAgdmFyIGZpcnN0T3BlbiwgZmlyc3RDbG9zZSwgY2FuZGlkYXRlO1xuICAgIGZpcnN0T3BlbiA9IHN0ci5pbmRleE9mKCd7JywgZmlyc3RPcGVuICsgMSk7XG4gICAgZG8ge1xuICAgICAgICBmaXJzdENsb3NlID0gc3RyLmxhc3RJbmRleE9mKCd9Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmaXJzdE9wZW46ICcgKyBmaXJzdE9wZW4sICdmaXJzdENsb3NlOiAnICsgZmlyc3RDbG9zZSk7XG4gICAgICAgIGlmKGZpcnN0Q2xvc2UgPD0gZmlyc3RPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjYW5kaWRhdGUgPSBzdHIuc3Vic3RyaW5nKGZpcnN0T3BlbiwgZmlyc3RDbG9zZSArIDEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhbmRpZGF0ZTogJyArIGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBKU09OLnBhcnNlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy4uLmZvdW5kJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXMsIGZpcnN0T3BlbiwgZmlyc3RDbG9zZSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcuLi5mYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpcnN0Q2xvc2UgPSBzdHIuc3Vic3RyKDAsIGZpcnN0Q2xvc2UpLmxhc3RJbmRleE9mKCd9Jyk7XG4gICAgICAgIH0gd2hpbGUoZmlyc3RDbG9zZSA+IGZpcnN0T3Blbik7XG4gICAgICAgIGZpcnN0T3BlbiA9IHN0ci5pbmRleE9mKCd7JywgZmlyc3RPcGVuICsgMSk7XG4gICAgfSB3aGlsZShmaXJzdE9wZW4gIT09IC0xKTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiOyhmdW5jdGlvbiAocm9vdCkge1xcbiAgICAndXNlIHN0cmljdCc7XFxuXFxuICAgIHt7I3NhdmVKc29ufX1cXG4gICAgLyoqQGFtc2F2ZSovXFxuICAgIHZhciBTQVZFSlNPTiA9ICd7e3tzYXZlSnNvbn19fSc7XFxuICAgIHt7L3NhdmVKc29ufX1cXG5cXG4gICAgdmFyIHRyYWNrUGxheWVyR2VucyA9IFt7e3t0cmFja1BsYXllckdlbnN9fX1dO1xcblxcbiAgICByb290LmFtID0gcm9vdC5hbSB8fCB7fTtcXG4gICAgcm9vdC5hbS5wYWdlU2NyaXB0cyA9IHJvb3QuYW0ucGFnZVNjcmlwdHMgfHwge307XFxuXFxuICAgIHZhciByZWcgPSByb290LmFtLnBhZ2VTY3JpcHRzLnt7bmFtZX19ID0ge1xcbiAgICAgICAgXFxuICAgICAgICBjcmVhdGVQbGF5ZXI6IGZ1bmN0aW9uIChvcHQpIHtcXG5cXG4gICAgICAgICAgICB2YXIgdGwgPSBuZXcgVGltZWxpbmVNYXgoe3BhdXNlZDogdHJ1ZX0pO1xcblxcbiAgICAgICAgICAgIHRyYWNrUGxheWVyR2Vucy5mb3JFYWNoKGZ1bmN0aW9uIChjcmVhdGUpIHtcXG5cXG4gICAgICAgICAgICAgICAgdGwuYWRkKGNyZWF0ZShvcHQpLCAwKTtcXG4gICAgICAgICAgICB9KTtcXG5cXG4gICAgICAgICAgICByZXR1cm4gdGw7XFxuICAgICAgICB9LFxcbiAgICAgICAgXFxuICAgICAgICB7eyNzYXZlSnNvbn19XFxuICAgICAgICBzYXZlSnNvbjogU0FWRUpTT04sXFxuICAgICAgICB7ey9zYXZlSnNvbn19XFxuICAgIH07XFxuXFxuXFxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcXG4gICAgICAgIFxcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZWc7XFxuICAgIH1cXG5cXG5cXG4gICAge3sjYXV0b1BsYXl9fVxcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJykge1xcblxcbiAgICAgICAgcmVnLmNyZWF0ZVBsYXllcigpLnBsYXkoKTtcXG4gICAgfVxcbiAgICBlbHNlIHtcXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XFxuXFxuICAgICAgICAgICAgcmVnLmNyZWF0ZVBsYXllcigpLnBsYXkoKTtcXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIHt7L2F1dG9QbGF5fX1cXG5cXG4gICAgLy8tLSBBTUQgLS0vL1xcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XFxuICAgICAgICBcXG4gICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgcmV0dXJuIHJlZztcXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIFxcbn0odGhpcykpO1xcblxcblxcblxcblxcblxcblxcblxcblxcblxcbi8qKlxcbiAqIEJlemllckVhc2luZyAtIHVzZSBiZXppZXIgY3VydmUgZm9yIHRyYW5zaXRpb24gZWFzaW5nIGZ1bmN0aW9uXFxuICogYnkgR2HDq3RhbiBSZW5hdWRlYXUgMjAxNCDigJMgTUlUIExpY2Vuc2VcXG4gKlxcbiAqIENyZWRpdHM6IGlzIGJhc2VkIG9uIEZpcmVmb3gncyBuc1NNSUxLZXlTcGxpbmUuY3BwXFxuICogVXNhZ2U6XFxuICogdmFyIHNwbGluZSA9IEJlemllckVhc2luZygwLjI1LCAwLjEsIDAuMjUsIDEuMClcXG4gKiBzcGxpbmUoeCkgPT4gcmV0dXJucyB0aGUgZWFzaW5nIHZhbHVlIHwgeCBtdXN0IGJlIGluIFswLCAxXSByYW5nZVxcbiAqXFxuICovXFxuIWZ1bmN0aW9uKGEpe3dpbmRvdy5CZXppZXJFYXNpbmc9YSgpfShmdW5jdGlvbigpe2Z1bmN0aW9uIGkoYSxpLGosayl7ZnVuY3Rpb24gbihhLGIpe3JldHVybiAxLTMqYiszKmF9ZnVuY3Rpb24gbyhhLGIpe3JldHVybiAzKmItNiphfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIDMqYX1mdW5jdGlvbiBxKGEsYixjKXtyZXR1cm4oKG4oYixjKSphK28oYixjKSkqYStwKGIpKSphfWZ1bmN0aW9uIHIoYSxiLGMpe3JldHVybiAzKm4oYixjKSphKmErMipvKGIsYykqYStwKGIpfWZ1bmN0aW9uIHMoYyxkKXtmb3IodmFyIGU9MDtiPmU7KytlKXt2YXIgZj1yKGQsYSxqKTtpZigwPT09ZilyZXR1cm4gZDt2YXIgZz1xKGQsYSxqKS1jO2QtPWcvZn1yZXR1cm4gZH1mdW5jdGlvbiB0KCl7Zm9yKHZhciBiPTA7Zj5iOysrYiltW2JdPXEoYipnLGEsail9ZnVuY3Rpb24gdShiLGMsZil7dmFyIGcsaCxpPTA7ZG8gaD1jKyhmLWMpLzIsZz1xKGgsYSxqKS1iLGc+MD9mPWg6Yz1oO3doaWxlKE1hdGguYWJzKGcpPmQmJisraTxlKTtyZXR1cm4gaH1mdW5jdGlvbiB2KGIpe2Zvcih2YXIgZD0wLGU9MSxoPWYtMTtlIT1oJiZtW2VdPD1iOysrZSlkKz1nOy0tZTt2YXIgaT0oYi1tW2VdKS8obVtlKzFdLW1bZV0pLGs9ZCtpKmcsbD1yKGssYSxqKTtyZXR1cm4gbD49Yz9zKGIsayk6MD09PWw/azp1KGIsZCxkK2cpfWZ1bmN0aW9uIHgoKXt3PSEwLChhIT1pfHxqIT1rKSYmdCgpfWlmKDQhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIHJlcXVpcmVzIDQgYXJndW1lbnRzLlxcXCIpO2Zvcih2YXIgbD0wOzQ+bDsrK2wpaWYoXFxcIm51bWJlclxcXCIhPXR5cGVvZiBhcmd1bWVudHNbbF18fGlzTmFOKGFyZ3VtZW50c1tsXSl8fCFpc0Zpbml0ZShhcmd1bWVudHNbbF0pKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIGFyZ3VtZW50cyBzaG91bGQgYmUgaW50ZWdlcnMuXFxcIik7aWYoMD5hfHxhPjF8fDA+anx8aj4xKXRocm93IG5ldyBFcnJvcihcXFwiQmV6aWVyRWFzaW5nIHggdmFsdWVzIG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlLlxcXCIpO3ZhciBtPWg/bmV3IEZsb2F0MzJBcnJheShmKTpuZXcgQXJyYXkoZiksdz0hMSx5PWZ1bmN0aW9uKGIpe3JldHVybiB3fHx4KCksYT09PWkmJmo9PT1rP2I6MD09PWI/MDoxPT09Yj8xOnEodihiKSxpLGspfTt5LmdldENvbnRyb2xQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm5be3g6YSx5Oml9LHt4OmoseTprfV19O3ZhciB6PVthLGksaixrXSxBPVxcXCJCZXppZXJFYXNpbmcoXFxcIit6K1xcXCIpXFxcIjt5LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEF9O3ZhciBCPVxcXCJjdWJpYy1iZXppZXIoXFxcIit6K1xcXCIpXFxcIjtyZXR1cm4geS50b0NTUz1mdW5jdGlvbigpe3JldHVybiBCfSx5fXZhciBhPXRoaXMsYj00LGM9LjAwMSxkPTFlLTcsZT0xMCxmPTExLGc9MS8oZi0xKSxoPVxcXCJGbG9hdDMyQXJyYXlcXFwiaW4gYTtyZXR1cm4gaS5jc3M9e2Vhc2U6aSguMjUsLjEsLjI1LDEpLGxpbmVhcjppKDAsMCwxLDEpLFxcXCJlYXNlLWluXFxcIjppKC40MiwwLDEsMSksXFxcImVhc2Utb3V0XFxcIjppKDAsMCwuNTgsMSksXFxcImVhc2UtaW4tb3V0XFxcIjppKC40MiwwLC41OCwxKX0saX0pO1wiO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBUb29sYmFyKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9oZWlnaHQgPSBvcHQuaGVpZ2h0IHx8IDI0O1xuICAgIHRoaXMuX2ljb25zID0gW107XG4gICAgdGhpcy5fc2VwYXJhdG9ycyA9IHt9O1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gb3B0LmJnQ29sb3IgfHwgYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSB0aGlzLl9oZWlnaHQgKyAncHgnO1xuXG4gICAgdGhpcy5hZGRTZXBhcmF0b3IoJ2ZpcnN0Jyk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3IoJ3Rvb2xzJyk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3IoJ2hhbmRsZXInKTtcbiAgICB0aGlzLmFkZFNlcGFyYXRvcignZ2xvYmFsJyk7XG4gICAgdGhpcy5hZGRTZXBhcmF0b3IoJ3Jlc3QnKTtcbn1cblxuaW5oZXJpdHMoVG9vbGJhciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVG9vbGJhci5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRvb2xiYXI7XG5cblxucC5hZGRJY29uID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgdmFyIGRlSWNvbiA9IG9wdC5kZUljb24gfHwgYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHNpemU6IHRoaXMuX2hlaWdodCxcbiAgICAgICAgaWNvbjogb3B0Lmljb24sXG4gICAgICAgIG9uQ2xpY2s6IG9wdC5vbkNsaWNrXG4gICAgfSk7XG5cbiAgICBpZiAob3B0LnRvb2x0aXApIHtcbiAgICAgICAgXG4gICAgICAgIGFtZ3VpLmFkZFRvb2x0aXAoe1xuICAgICAgICAgICAgZGVUYXJnZXQ6IGRlSWNvbixcbiAgICAgICAgICAgIHRleHQ6IG9wdC50b29sdGlwLFxuICAgICAgICAgICAgc2lkZTogJ2JvdHRvbSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVJY29uLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblxuICAgIHRoaXMuZG9tRWxlbS5pbnNlcnRCZWZvcmUoZGVJY29uLCB0aGlzLl9zZXBhcmF0b3JzW29wdC5zZXBhcmF0b3IgfHwgJ3Jlc3QnXSk7XG5cbiAgICByZXR1cm4gZGVJY29uO1xufTtcblxucC5yZW1vdmVJY29uID0gZnVuY3Rpb24gKGRlSWNvbikge1xuXG4gICAgZGVJY29uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGVJY29uKTtcbn07XG5cbnAuYWRkU2VwYXJhdG9yID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoZGUpO1xuICAgIHRoaXMuX3NlcGFyYXRvcnNbbmFtZV0gPSBkZTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG52YXIgY3NzQW1ndWkgPSByZXF1aXJlKCcuLi9hc3NldHMvZm9udGVsbG8vY3NzL2FtZ3VpLmNzcycpO1xuXG5mdW5jdGlvbiBUb3VyKCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbn1cblxuaW5oZXJpdHMoVG91ciwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVG91ci5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFRvdXI7XG5cbnAuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbml0ZWQpIHJldHVybjtcbiAgICB0aGlzLl9pbml0ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fY2FsbFJ1bm5pbmdMb29wID0gdGhpcy5fY2FsbFJ1bm5pbmdMb29wLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9zdGVwcyA9IFtdO1xuICAgIHRoaXMuX2RlUG9pbnRlcnMgPSBbXTtcbiAgICB0aGlzLl9kZUNoZWNrYm94ZXMgPSBbXTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcbiAgICBhbS53b3Jrc3BhY2UuZmlsbFRhYigndG91cicsIHRoaXMuZG9tRWxlbSk7XG5cbiAgICB0aGlzLnByZXYgPSB0aGlzLnByZXYuYmluZCh0aGlzKTtcbiAgICB0aGlzLm5leHQgPSB0aGlzLm5leHQuYmluZCh0aGlzKTtcbn1cblxucC5zZXR1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICB0aGlzLmluaXQoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NhbGxSdW5uaW5nTG9vcCk7XG5cbiAgICBkYXRhLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcblxuICAgICAgICBzdGVwLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc3RlcC5kb21FbGVtLmlubmVySFRNTCA9IHN0ZXAuY29udGVudDtcbiAgICAgICAgc3RlcC5fY2hlY2tsaXN0ID0gW107XG5cbiAgICAgICAgdGhpcy5fc3RlcHMucHVzaChzdGVwKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZ290bygwKTtcbn07XG5cbnAubmV4dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpZHggPSB0aGlzLl9zdGVwcy5pbmRleE9mKHRoaXMuX2N1cnJTdGVwKSArIDE7XG4gICAgdGhpcy5nb3RvKGlkeCk7XG59O1xuXG5wLnByZXYgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fc3RlcHMuaW5kZXhPZih0aGlzLl9jdXJyU3RlcCkgLSAxO1xuICAgIHRoaXMuZ290byhpZHgpO1xufTtcblxucC5nb3RvID0gZnVuY3Rpb24gKGlkeCkge1xuXG4gICAgaWR4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5fc3RlcHMubGVuZ3RoLTEsIGlkeCkpO1xuXG4gICAgdGhpcy5yZW1vdmVBbGxQb2ludGVyKCk7XG5cbiAgICBpZiAodGhpcy5fY3VyclN0ZXApIHtcblxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3J1bm5pbmdMb29wU2V0SSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZih0aGlzLl9jdXJyU3RlcC5vbkNsb3NlKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuX2N1cnJTdGVwLm9uQ2xvc2UodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVTdGVwQ29udC5yZW1vdmVDaGlsZCh0aGlzLl9jdXJyU3RlcC5kb21FbGVtKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jdXJyU3RlcCA9IHRoaXMuX3N0ZXBzW2lkeF07XG4gICAgdGhpcy5fZGVTdGVwQ29udC5hcHBlbmRDaGlsZCh0aGlzLl9jdXJyU3RlcC5kb21FbGVtKTtcbiAgICBcbiAgICBpZiAodHlwZW9mKHRoaXMuX2N1cnJTdGVwLm9uUmVhZHkpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9jdXJyU3RlcC5vblJlYWR5KHRoaXMpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mKHRoaXMuX2N1cnJTdGVwLnJ1bm5pbmdMb29wKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fcnVubmluZ0xvb3BTZXRJID0gc2V0SW50ZXJ2YWwodGhpcy5fY2FsbFJ1bm5pbmdMb29wLCAzMTIpO1xuICAgIH1cblxuICAgIHRoaXMuX2RlU3RhdGUudGV4dENvbnRlbnQgPSAoaWR4KzEpKycvJyt0aGlzLl9zdGVwcy5sZW5ndGgrJyAnKyh0aGlzLl9jdXJyU3RlcC50aXRsZSB8fCAnJyk7XG5cbiAgICB0aGlzLl9yZWZyZXNoQ2hlY2tsaXN0KCk7XG59O1xuXG5wLmNoZWNrSW4gPSBmdW5jdGlvbiAoaWR4LCBzdGVwKSB7XG5cbiAgICB0aGlzLl9jaGVjayhpZHgsIHN0ZXAsIHRydWUpXG59O1xuXG5wLmNoZWNrT3V0ID0gZnVuY3Rpb24gKGlkeCwgc3RlcCkge1xuXG4gICAgdGhpcy5fY2hlY2soaWR4LCBzdGVwLCBmYWxzZSlcbn07XG5cbnAuX2NoZWNrID0gZnVuY3Rpb24gKGlkeCwgc3RlcCwgdmFsKSB7XG5cbiAgICBzdGVwID0gc3RlcCB8fCB0aGlzLl9jdXJyU3RlcDtcbiAgICBpZiAoIXN0ZXApIHJldHVybjtcblxuICAgIHN0ZXAuX2NoZWNrbGlzdFtpZHhdID0gdmFsO1xuXG4gICAgdGhpcy5fcmVmcmVzaENoZWNrbGlzdCgpO1xufTtcblxucC5pc0NoZWNrZWQgPSBmdW5jdGlvbiAoaWR4LCBzdGVwKSB7XG5cbiAgICBzdGVwID0gc3RlcCB8fCB0aGlzLl9jdXJyU3RlcDtcbiAgICBpZiAoIXN0ZXApIHJldHVybjtcblxuICAgIHJldHVybiBzdGVwLl9jaGVja2xpc3RbaWR4XTsgXG59O1xuXG5wLmFkZFBvaW50ZXIgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB2YXIgZGVQb2ludGVyID0gdGhpcy5fY3JlYXRlVHJpYW5nbGUoKTtcbiAgICB0aGlzLl9kZVBvaW50ZXJzLnB1c2goZGVQb2ludGVyKTtcblxuICAgIHZhciB4LCB5LCByLCBicnQgPSBvcHQuZGVUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBzd2l0Y2ggKG9wdC5zaWRlKSB7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHggPSBicnQucmlnaHQ7XG4gICAgICAgICAgICB5ID0gYnJ0LnRvcCArIGJydC5oZWlnaHQvMjtcbiAgICAgICAgICAgIHIgPSAwO1xuXG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICB4ID0gYnJ0LmxlZnQgKyBicnQud2lkdGgvMjtcbiAgICAgICAgICAgIHkgPSBicnQuYm90dG9tO1xuICAgICAgICAgICAgciA9IDkwO1xuXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgeCA9IGJydC5sZWZ0O1xuICAgICAgICAgICAgeSA9IGJydC50b3AgKyBicnQuaGVpZ2h0LzI7XG4gICAgICAgICAgICByID0gMTgwO1xuXG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB4ID0gYnJ0LmxlZnQgKyBicnQud2lkdGgvMjtcbiAgICAgICAgICAgIHkgPSBicnQudG9wO1xuICAgICAgICAgICAgciA9IC05MDtcbiAgICB9XG5cbiAgICBkZVBvaW50ZXIuc3R5bGUubGVmdCA9IHggKyAncHgnXG4gICAgZGVQb2ludGVyLnN0eWxlLnRvcCA9IHkgKyAncHgnXG4gICAgZGVQb2ludGVyLnJvdGF0ZShyKTtcblxuICAgIHJldHVybiBkZVBvaW50ZXI7XG59O1xuXG5wLnJlbW92ZVBvaW50ZXIgPSBmdW5jdGlvbiAoZGVQb2ludGVyKSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fZGVQb2ludGVycy5pbmRleE9mKGRlUG9pbnRlcik7XG5cbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuXG4gICAgICAgIHRoaXMuX2RlUG9pbnRlcnMuc3BsaWNlKGlkeCwgMSk7XG5cbiAgICAgICAgaWYgKGRlUG9pbnRlci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkZVBvaW50ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZVBvaW50ZXIpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxucC5yZW1vdmVBbGxQb2ludGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgd2hpbGUgKHRoaXMuX2RlUG9pbnRlcnMubGVuZ3RoKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVQb2ludGVyKHRoaXMuX2RlUG9pbnRlcnNbMF0pO1xuICAgIH1cbn07XG5cbnAuX2NhbGxSdW5uaW5nTG9vcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9jdXJyU3RlcCAmJiB0aGlzLl9jdXJyU3RlcC5ydW5uaW5nTG9vcCkge1xuXG4gICAgICAgIHRoaXMuX2N1cnJTdGVwLnJ1bm5pbmdMb29wKHRoaXMpO1xuICAgIH1cbn1cblxuXG5cblxuXG5wLl9yZWZyZXNoQ2hlY2tsaXN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9jdXJyU3RlcCkgcmV0dXJuO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jdXJyU3RlcC5jaGVja2xpc3RMZW5ndGg7ICsraSkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZGVDaGVja2JveGVzW2ldKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlQ2hlY2tib3hlcy5wdXNoKHRoaXMuX2NyZWF0ZUNoZWNrYm94KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVDaGVja2JveGVzW2ldLnNldFRvZ2dsZSghIXRoaXMuX2N1cnJTdGVwLl9jaGVja2xpc3RbaV0pO1xuICAgICAgICB0aGlzLl9kZUNoZWNrYm94ZXNbaV0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIH1cblxuICAgIGZvciAoOyBpIDwgdGhpcy5fZGVDaGVja2JveGVzLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgdGhpcy5fZGVDaGVja2JveGVzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxufVxuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcblxuICAgIHRoaXMuX2RlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlSGVhZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlSGVhZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZUhlYWQuc3R5bGUuaGVpZ2h0ID0gJzIzcHgnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9kZUhlYWQpO1xuXG4gICAgdGhpcy5fZGVTdGVwQ29udFNjcm9sbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlU3RlcENvbnRTY3JvbGwuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuX2RlU3RlcENvbnRTY3JvbGwuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVTdGVwQ29udFNjcm9sbCk7IFxuICAgIFxuICAgIHRoaXMuX3NyU3RlcENvbnRTY3JvbGwgPSB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLmNyZWF0ZVNoYWRvd1Jvb3QoKTtcblxuICAgIHRoaXMuX2RlU3RlcENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVN0ZXBDb250LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZVN0ZXBDb250LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuX3NyU3RlcENvbnRTY3JvbGwuYXBwZW5kQ2hpbGQodGhpcy5fZGVTdGVwQ29udCk7XG5cbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLmlubmVySFRNTCA9IGNzc0FtZ3VpO1xuICAgIHRoaXMuX3NyU3RlcENvbnRTY3JvbGwuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG5cbiAgICB0aGlzLl9zY3JvbGxSYW5nZSA9IGFtZ3VpLmNyZWF0ZVJhbmdlKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZVN0ZXBDb250U2Nyb2xsLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMuX3Njcm9sbFJhbmdlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9zY3JvbGxSYW5nZS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICB0aGlzLl9zY3JvbGxSYW5nZS5zdHlsZS5yaWdodCA9ICcwcHgnO1xuXG4gICAgYW1ndWkubWFrZVNjcm9sbGFibGUoe1xuICAgICAgICBkZUNvbnQ6IHRoaXMuX2RlU3RlcENvbnRTY3JvbGwsXG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9kZVN0ZXBDb250LFxuICAgICAgICBkZVJhbmdlOiB0aGlzLl9zY3JvbGxSYW5nZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVTdGF0ZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWQsXG4gICAgfSk7XG4gICAgdGhpcy5fZGVTdGF0ZS5zdHlsZS5mbGV4ID0gMTtcblxuICAgIHRoaXMuX2RlQ2hlY2tib3hDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMuX2RlSGVhZC5hcHBlbmRDaGlsZCh0aGlzLl9kZUNoZWNrYm94Q29udCk7XG5cbiAgICB0aGlzLl9idG5QcmV2ID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVIZWFkLFxuICAgICAgICBpY29uOiAnYW5nbGUtbGVmdCcsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldi5iaW5kKHRoaXMpXG4gICAgfSk7XG5cbiAgICB0aGlzLl9idG5OZXh0ID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVIZWFkLFxuICAgICAgICBpY29uOiAnYW5nbGUtcmlnaHQnLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHQuYmluZCh0aGlzKVxuICAgIH0pO1xufVxuXG5wLl9jcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlQ2hlY2tib3hDb250LFxuICAgICAgICBpY29uT246ICdjaXJjbGUnLFxuICAgICAgICBpY29uT2ZmOiAnY2lyY2xlLXRoaW4nLFxuICAgICAgICBjaGFuZ2VDb2xvcjogdHJ1ZSxcbiAgICAgICAgY29sb3JPbjogJ2xpbWUnLFxuICAgIH0pO1xuXG4gICAgZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHJldHVybiBkZTtcbn1cblxucC5fY3JlYXRlVHJpYW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgc2l6ZSA9IDEyO1xuXG4gICAgdmFyIGRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRlLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgYW0uZGVEaWFsb2dDb250LmFwcGVuZENoaWxkKGRlKTtcblxuICAgIHZhciBkZVRyaWFuZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS53aWR0aCA9ICcwJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgICBkZVRyaWFuZ2xlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdsZWZ0IGNlbnRlcic7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5ib3JkZXJXaWR0aCA9IHNpemUrJ3B4ICcrKDIqc2l6ZSkrJ3B4ICcrc2l6ZSsncHggMCc7XG4gICAgZGVUcmlhbmdsZS5zdHlsZS5ib3JkZXJDb2xvciA9ICd0cmFuc3BhcmVudCAjZmYwMDBkIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50JztcblxuICAgIGRlLmFwcGVuZENoaWxkKGRlVHJpYW5nbGUpO1xuXG5cbiAgICBkZS5yb3RhdGUgPSBmdW5jdGlvbiAocikge1xuXG4gICAgICAgIGRlVHJpYW5nbGUuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgnICsgciArICdkZWcpJztcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlO1xufVxuXG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gQ2hlY2tib3hJbnB1dChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fb25DaGFuZ2VJbnB1dCA9IHRoaXMuX29uQ2hhbmdlSW5wdXQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuX3ZhbHVlID0gb3B0LnZhbHVlIHx8ICcnO1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0VmFsdWUgfHwgJyc7XG5cbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgaWYgKG9wdC5vbkNoYW5nZSkgdGhpcy5vbignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbn1cblxuaW5oZXJpdHMoQ2hlY2tib3hJbnB1dCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQ2hlY2tib3hJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrYm94SW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxucC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG59O1xuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX2lucHV0LmNoZWNrZWQ7XG59O1xuXG5cblxucC5fcmVmcmVzaElucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lucHV0LmNoZWNrZWQgIT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgXG4gICAgICAgIHRoaXMuX2lucHV0LmNoZWNrZWQgPSB0aGlzLl92YWx1ZTtcbiAgICB9XG59O1xuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGFtZ3VpLmNyZWF0ZUNoZWNrYm94KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZUlucHV0LFxuICAgICAgICBmbGV4OiAxLCBcbiAgICB9KTtcbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxudmFyIGNvbG9yUGlja2VyO1xuXG5mdW5jdGlvbiBDb2xvcklucHV0KG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLl9vbkNoYW5nZUlucHV0ID0gdGhpcy5fb25DaGFuZ2VJbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlUGlja2VyID0gdGhpcy5fb25DaGFuZ2VQaWNrZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkNsaWNrU2hvd1BpY2tlciA9IHRoaXMuX29uQ2xpY2tTaG93UGlja2VyLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCAnJztcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8ICcjMDAwMDAwJztcblxuICAgIENvbG9ySW5wdXQuaW5pdENvbG9yUGlja2VyKCk7XG5cbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgaWYgKG9wdC5vbkNoYW5nZSkgdGhpcy5vbignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbn1cblxuaW5oZXJpdHMoQ29sb3JJbnB1dCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gQ29sb3JJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IENvbG9ySW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiArPSAnJztcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxucC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG59O1xuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUlucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX2lucHV0LnZhbHVlO1xufTtcblxucC5fb25DaGFuZ2VQaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnZhbHVlID0gY29sb3JQaWNrZXIuZ2V0Q29sb3IoKTtcbn07XG5cbnAuX29uQ2xpY2tTaG93UGlja2VyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJyID0gdGhpcy5fYnRuU2hvd1BpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb2xvclBpY2tlci5zaG93KGJyLmxlZnQsIGJyLmJvdHRvbSwgXG4gICAgICAgIHRoaXMudmFsdWUgfHwgdGhpcy5fZGVmYXVsdFZhbHVlLCBcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VQaWNrZXIpO1xufTtcblxuXG5cbnAuX3JlZnJlc2hJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLl9pbnB1dC52YWx1ZSAhPT0gdGhpcy5fdmFsdWUpIHtcbiAgICBcbiAgICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICB9XG59O1xuXG5cblxuXG5wLl9jcmVhdGVCYXNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGl2KCk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGFtZ3VpLmNyZWF0ZUlucHV0KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmRvbUVsZW0sXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9vbkNoYW5nZUlucHV0LFxuICAgICAgICBmbGV4OiAxLCBcbiAgICB9KTtcbiAgICB0aGlzLl9pbnB1dC5zdHlsZS50ZXh0QWxpZ24gPSAgJ3JpZ2h0JztcbiAgICB0aGlzLl9pbnB1dC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAgJzJweCc7XG5cbiAgICB0aGlzLl9idG5TaG93UGlja2VyID0gYW1ndWkuY3JlYXRlSWNvbkJ0bih7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICBpY29uOiAnY29sb3ItYWRqdXN0JyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGlja1Nob3dQaWNrZXIsXG4gICAgfSk7XG59O1xuXG5Db2xvcklucHV0LmluaXRDb2xvclBpY2tlciA9IGZ1bmN0aW9uICgpIHtcblxuXG4gICAgaWYgKGNvbG9yUGlja2VyKSByZXR1cm47XG5cbiAgICB2YXIgb25DaGFuZ2UsXG4gICAgICAgIGRlID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgICAgIC8vIHBhcmVudDogYW0uZGVEaWFsb2dDb250LFxuICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICAgICAgd2lkdGg6ICczNDVweCcsXG4gICAgICAgICAgICBoZWlnaHQ6ICczNDVweCcsXG4gICAgICAgIH0pO1xuXG4gICAgZGUuc2V0QXR0cmlidXRlKCdkYXRhLWFtLW5vcGljaycsIDEpO1xuICAgIGRlLnN0eWxlLnpJbmRleCA9IDk5OTk5OTtcblxuICAgIGNvbG9yUGlja2VyID0gbmV3IENvbG9yUGlja2VyKHtcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgYXBwZW5UbzogZGUsXG4gICAgICAgIGFjdGlvbkNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGNvbG9yUGlja2VyLmdldENvbG9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb2xvclBpY2tlci5kb21FbGVtID0gZGU7XG5cbiAgICAkKCcuY3AtYXBwJykuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpXG5cbiAgICBjb2xvclBpY2tlci5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoY29sb3JQaWNrZXIuY29sb3IuYWxwaGEgPT09IDEpIHtcblxuICAgICAgICAgICAgcmV0dXJuICcjJyArIGNvbG9yUGlja2VyLmNvbG9yLkhFWDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgnICsgXG4gICAgICAgICAgICAgICAgfn4oY29sb3JQaWNrZXIuY29sb3IuY29sb3JzLlJORC5yZ2IucikrJywnKyBcbiAgICAgICAgICAgICAgICB+fihjb2xvclBpY2tlci5jb2xvci5jb2xvcnMuUk5ELnJnYi5nKSsnLCcrIFxuICAgICAgICAgICAgICAgIH5+KGNvbG9yUGlja2VyLmNvbG9yLmNvbG9ycy5STkQucmdiLmIpKycsJysgXG4gICAgICAgICAgICAgICAgY29sb3JQaWNrZXIuY29sb3IuY29sb3JzLmFscGhhICsgJyknOyAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbG9yUGlja2VyLnNob3cgPSBmdW5jdGlvbiAoeCwgeSwgY29sb3IsIF9vbkNoYW5nZSkge1xuXG4gICAgICAgIGRlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBhbWd1aS5wbGFjZVRvUG9pbnQoZGUsIHgsIHkpO1xuXG4gICAgICAgIGNvbG9yUGlja2VyLnNldENvbG9yKGNvbG9yLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgICAgb25DaGFuZ2UgPSBfb25DaGFuZ2U7XG4gICAgfVxuXG4gICAgY29sb3JQaWNrZXIuaGlkZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cbiAgICAgICAgb25DaGFuZ2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgJCgnLmNwLWV4aXQnKS5jbGljayhjb2xvclBpY2tlci5oaWRlKVxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xuXG5mdW5jdGlvbiBEaWFsb2cgKG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9zZXR1cFByb3BlcnRpZXMgPSBbXTtcbiAgICB0aGlzLl9vZmZzZXRYID0gMDtcbiAgICB0aGlzLl9vZmZzZXRZID0gMDtcblxuICAgIHRoaXMuX2NyZWF0ZURpYWxvZygpO1xuICAgIFxuICAgIHRoaXMudGl0bGUgPSBvcHQudGl0bGUgfHwgJ0RpYWxvZyc7XG59XG5cbmluaGVyaXRzKERpYWxvZywgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gRGlhbG9nLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gRGlhbG9nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB0aXRsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICghdiB8fCB0aGlzLl90aXRsZSA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl90aXRsZSA9IHY7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc2V0VGl0bGUodGhpcy5fdGl0bGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgaXNPcGVuZWQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc09wZW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbnAuc2hvdyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIGlmICh0aGlzLl9pc09wZW5lZCkgcmV0dXJuO1xuICAgIHRoaXMuX2lzT3BlbmVkID0gdHJ1ZTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIGFtLmRlRGlhbG9nQ29udC5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW0pO1xuXG4gICAgdGhpcy5fc2V0dXBQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BEYXRhKSB7XG5cbiAgICAgICAgaWYgKHByb3BEYXRhLm5hbWUgaW4gb3B0KSB7XG5cbiAgICAgICAgICAgIHRoaXNbcHJvcERhdGEubmFtZV0gPSBvcHRbcHJvcERhdGEubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb25PcHQgPSAnb24nICsgcHJvcERhdGEuZXZ0TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BEYXRhLmV2dE5hbWUuc2xpY2UoMSk7XG5cbiAgICAgICAgaWYgKG9uT3B0IGluIG9wdCkge1xuXG4gICAgICAgICAgICB0aGlzLm9uKHByb3BEYXRhLmV2dE5hbWUsIG9wdFtvbk9wdF0pO1xuICAgICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmVtaXQoJ3Nob3cnKTtcblxuICAgIHRoaXMuZG9tRWxlbS5zaG93TW9kYWwoKTtcbn07XG5cbnAuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBpZiAoIXRoaXMuX2lzT3BlbmVkKSByZXR1cm47XG4gICAgdGhpcy5faXNPcGVuZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuZG9tRWxlbS5jbG9zZSgpO1xuXG4gICAgdGhpcy5fc2V0dXBQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BEYXRhKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMocHJvcERhdGEuZXZ0TmFtZSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmVtaXQoJ2hpZGUnKTtcbn07XG5cbnAuYWRkUHJvcGVydHkgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICB0aGlzLl9zZXR1cFByb3BlcnRpZXMucHVzaChkZWZpbmVDb21wYWN0UHJvcGVydHkodGhpcywgb3B0KSk7XG59O1xuXG5wLmFkZEJ1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0LCBoYW5kbGVyKSB7XG5cbiAgICBpZiAoaGFuZGxlciA9PT0gJ2hpZGUnKSB7XG5cbiAgICAgICAgaGFuZGxlciA9IHRoaXMuaGlkZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuZG9tRWxlbS5hZGRCdXR0b24odGV4dCwgaGFuZGxlcik7XG59O1xuXG5wLmhpZGVCdXR0b24gPSBmdW5jdGlvbiAodGV4dCkge1xuXG4gICAgdGhpcy5kb21FbGVtLmhpZGVCdXR0b24odGV4dCk7XG59O1xuXG5wLnNob3dCdXR0b24gPSBmdW5jdGlvbiAodGV4dCkge1xuXG4gICAgdGhpcy5kb21FbGVtLnNob3dCdXR0b24odGV4dCk7XG59O1xuXG5wLm1vdmUgPSBmdW5jdGlvbiAoeCwgeSkge1xuXG4gICAgdGhpcy5fb2Zmc2V0WCA9IHg7XG4gICAgdGhpcy5fb2Zmc2V0WSA9IHk7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnK3grJ3B4LCcreSsncHgpJztcbn07XG5cblxuXG5wLl9jcmVhdGVEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNEaWFsb2dDcmVhdGVkKSByZXR1cm47XG4gICAgdGhpcy5faXNEaWFsb2dDcmVhdGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuZGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kZUNvbnRlbnQuc3R5bGUud2lkdGggPSAnMzMwcHgnO1xuICAgIHRoaXMuZGVDb250ZW50LnN0eWxlLnBhZGRpbmcgPSAnMzBweCAxMnB4JztcbiAgICB0aGlzLmRlQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2RlQ29udGVudCcsIDEpO1xuXG4gICAgXG4gICAgdGhpcy5kb21FbGVtID0gYW1ndWkuY3JlYXRlRGlhbG9nKHtcbiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuZGVDb250ZW50LFxuICAgICAgICAvLyBwYXJlbnQ6IGFtLmRlRGlhbG9nQ29udCxcbiAgICAgICAgYnV0dG9uczogW10sXG4gICAgfSk7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WDogdGhpcy5fb2Zmc2V0WCxcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiB0aGlzLl9vZmZzZXRZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChtZCkge1xuXG4gICAgICAgICAgICB0aGlzLm1vdmUobWQub2Zmc2V0WCArIG1kLmR4LCBtZC5vZmZzZXRZICsgbWQuZHkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmRvbUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2tfb2snLCB0aGlzLl9vbkNsaWNrT2spO1xuXG4gICAgdGhpcy5kb21FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgXG4gICAgICAgIGlmIChyZWN0LmxlZnQgPiBlLnggfHwgcmVjdC5yaWdodCA8IGUueCB8fFxuICAgICAgICAgICAgcmVjdC50b3AgPiBlLnkgfHwgcmVjdC5ib3R0b20gPCBlLnkpIFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSk7XG59O1xuXG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIEJlemllckVhc2luZyA9IHJlcXVpcmUoJ2Jlemllci1lYXNpbmcnKTtcbnZhciBkZWZpbmVDb21wYWN0UHJvcGVydHkgPSByZXF1aXJlKCcuL2RlZmluZUNvbXBhY3RQcm9wZXJ0eScpO1xudmFyIGRpYWxvZ0Vhc2VPcHRpb25zID0gcmVxdWlyZSgnLi9kaWFsb2dFYXNlT3B0aW9ucycpO1xud2luZG93LkJlemllckVhc2luZyA9IEJlemllckVhc2luZztcbmZ1bmN0aW9uIEVhc2Uob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgICBcbiAgICB0aGlzLl90eXBlID0gICdiZXppZXInO1xuICAgIHRoaXMuX3BvaW50cyA9IFtdXG4gICAgdGhpcy5wb2ludHMgPSBbMCwgMCwgMSwgMV07XG4gICAgdGhpcy5fZWFzZXI7XG5cbiAgICB0aGlzLm9uKCdjaGFuZ2Uucm91Z2gnLCB0aGlzLl9yZWZyZXNoRWFzZXIsIHRoaXMpO1xuXG4gICAgaWYgKG9wdCkge1xuICAgICAgICB0aGlzLnVzZVNhdmUob3B0KTtcbiAgICB9XG59XG5cbmluaGVyaXRzKEVhc2UsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEVhc2UucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBFYXNlO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB0eXBlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgLy9jdXJyZW50bHkgdGhlIG9ubHkgc3VwcHJvdGVkIHR5cGUgaXMgYmV6aWVyXG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBvaW50czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5fcG9pbnRzO1xuXG4gICAgICAgICAgICBpZiAocC5sZW5ndGggPT09IHYubGVuZ3RoICYmIFxuICAgICAgICAgICAgICAgIHAuZXZlcnkoZnVuY3Rpb24gKHAsIGlkeCkge3JldHVybiBwID09PSB2W2lkeF07fSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBwLnB1c2guYXBwbHkodGhpcy5fcG9pbnRzLCB2KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaEVhc2VyKClcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludHM7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hFYXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5lYXNlJ30pO1xuZGVmaW5lQ29tcGFjdFByb3BlcnR5KHAsIHtuYW1lOiAncm91Z2hTdHJlbmd0aCcsIHR5cGU6ICdmbG9hdCcsIHN0YXJ0VmFsdWU6IDEsIGV2dE5hbWU6ICdjaGFuZ2Uucm91Z2guc3RyZW5ndGgnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaFBvaW50cycsIHR5cGU6ICdpbnQnLCBzdGFydFZhbHVlOiAyMCwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5wb2ludHMnfSk7XG5kZWZpbmVDb21wYWN0UHJvcGVydHkocCwge25hbWU6ICdyb3VnaENsYW1wJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiBmYWxzZSwgZXZ0TmFtZTogJ2NoYW5nZS5yb3VnaC5jbGFtcCd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoUmFuZG9taXNlJywgdHlwZTogJ2Jvb2xlYW4nLCBzdGFydFZhbHVlOiB0cnVlLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnJhbmRvbWlzZSd9KTtcbmRlZmluZUNvbXBhY3RQcm9wZXJ0eShwLCB7bmFtZTogJ3JvdWdoVGFwZXInLCB0eXBlOiAnc3RyaW5nJywgc3RhcnRWYWx1ZTogJ25vbmUnLCBldnROYW1lOiAnY2hhbmdlLnJvdWdoLnRhcGVyJ30pO1xuXG5cblxuXG5cbnAuZ2V0U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgcG9pbnRzOiB0aGlzLnBvaW50cyxcbiAgICB9O1xufTtcblxucC51c2VTYXZlID0gZnVuY3Rpb24gKHNhdmUpIHtcblxuICAgIGlmICghc2F2ZSkgcmV0dXJuO1xuXG4gICAgaWYgKCd0eXBlJyBpbiBzYXZlKSB0aGlzLnR5cGUgPSBzYXZlLnR5cGU7XG4gICAgaWYgKCdwb2ludHMnIGluIHNhdmUpIHRoaXMucG9pbnRzID0gc2F2ZS5wb2ludHM7XG59O1xuXG5wLmdldFJhdGlvID0gZnVuY3Rpb24gKHApIHtcblxuICAgIHJldHVybiB0aGlzLl9lYXNlci5nZXRSYXRpbyhwKTtcbn07XG5cbnAuZ2V0RWFzZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fZWFzZXI7XG59O1xuXG5wLmdldFNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiYXNlID0gJ25ldyBFYXNlKEJlemllckVhc2luZygnK3RoaXMucG9pbnRzLmpvaW4oKSsnKSknO1xuXG4gICAgaWYgKHRoaXMucm91Z2hFYXNlKSB7XG5cbiAgICAgICAgdmFyIHJvdWdoT3B0ID0ge1xuICAgICAgICAgICAgZWFzZTogJ3t7ZWFzZX19JyxcbiAgICAgICAgICAgIHN0cmVuZ3RoOiB0aGlzLnJvdWdoU3RyZW5ndGgsXG4gICAgICAgICAgICBwb2ludHM6IHRoaXMucm91Z2hQb2ludHMsXG4gICAgICAgICAgICBjbGFtcDogdGhpcy5yb3VnaENsYW1wLFxuICAgICAgICAgICAgcmFuZG9taXNlOiB0aGlzLnJvdWdoUmFuZG9taXNlLFxuICAgICAgICAgICAgdGFwZXI6IHRoaXMucm91Z2hUYXBlcixcbiAgICAgICAgfTtcbiAgICAgICAgcm91Z2hPcHQgPSBKU09OLnN0cmluZ2lmeShyb3VnaE9wdCk7XG4gICAgICAgIC8vdGhpcyBpcyBmb3IgYXZvaWQgdGhlIHF1b3RlcyBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIGNhbGxcbiAgICAgICAgcm91Z2hPcHQgPSByb3VnaE9wdC5yZXBsYWNlKCdcInt7ZWFzZX19XCInLCBiYXNlKTtcblxuICAgICAgICByZXR1cm4gJ25ldyBSb3VnaEVhc2UoJytyb3VnaE9wdCsnKSc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG59O1xuXG5wLmNsb25lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIG5ldyBFYXNlKHRoaXMpO1xufTtcblxucC5tYXRjaCA9IGZ1bmN0aW9uIChlYXNlKSB7XG5cbiAgICByZXR1cm4gZWFzZS50eXBlID09PSB0aGlzLnR5cGUgJiZcbiAgICAgICAgZWFzZS5wb2ludHNbMF0gPT09IHRoaXMucG9pbnRzWzBdICYmXG4gICAgICAgIGVhc2UucG9pbnRzWzFdID09PSB0aGlzLnBvaW50c1sxXSAmJlxuICAgICAgICBlYXNlLnBvaW50c1syXSA9PT0gdGhpcy5wb2ludHNbMl0gJiZcbiAgICAgICAgZWFzZS5wb2ludHNbM10gPT09IHRoaXMucG9pbnRzWzNdICYmXG4gICAgICAgIGVhc2Uucm91Z2hFYXNlID09PSB0aGlzLnJvdWdoRWFzZSAmJlxuICAgICAgICBlYXNlLnJvdWdoU3RyZW5ndGggPT09IHRoaXMucm91Z2hTdHJlbmd0aCAmJlxuICAgICAgICBlYXNlLnJvdWdoUG9pbnRzID09PSB0aGlzLnJvdWdoUG9pbnRzICYmXG4gICAgICAgIGVhc2Uucm91Z2hDbGFtcCA9PT0gdGhpcy5yb3VnaENsYW1wICYmXG4gICAgICAgIGVhc2Uucm91Z2hSYW5kb21pc2UgPT09IHRoaXMucm91Z2hSYW5kb21pc2UgJiZcbiAgICAgICAgZWFzZS5yb3VnaFRhcGVyID09PSB0aGlzLnJvdWdoVGFwZXI7XG59O1xuXG5cbnAuc2hvd09wdGlvbnNEaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBkaWFsb2dFYXNlT3B0aW9ucy5zaG93KHtcbiAgICAgICAgZWFzZTogdGhpcyxcbiAgICAgICAgb25DaGFuZ2VSb3VnaEVhc2U6IGZ1bmN0aW9uICh2KSB7dGhpcy5yb3VnaEVhc2UgPSB2fS5iaW5kKHRoaXMpLFxuICAgICAgICBvbkNoYW5nZVJvdWdoU3RyZW5ndGg6IGZ1bmN0aW9uICh2KSB7dGhpcy5yb3VnaFN0cmVuZ3RoID0gdn0uYmluZCh0aGlzKSxcbiAgICAgICAgb25DaGFuZ2VSb3VnaFBvaW50czogZnVuY3Rpb24gKHYpIHt0aGlzLnJvdWdoUG9pbnRzID0gdn0uYmluZCh0aGlzKSxcbiAgICAgICAgb25DaGFuZ2VSb3VnaENsYW1wOiBmdW5jdGlvbiAodikge3RoaXMucm91Z2hDbGFtcCA9IHZ9LmJpbmQodGhpcyksXG4gICAgICAgIG9uQ2hhbmdlUm91Z2hSYW5kb21pc2U6IGZ1bmN0aW9uICh2KSB7dGhpcy5yb3VnaFJhbmRvbWlzZSA9IHZ9LmJpbmQodGhpcyksXG4gICAgICAgIG9uQ2hhbmdlUm91Z2hUYXBlcjogZnVuY3Rpb24gKHYpIHt0aGlzLnJvdWdoVGFwZXIgPSB2fS5iaW5kKHRoaXMpLFxuICAgIH0pO1xufTtcblxuXG5cblxuXG5wLl9yZWZyZXNoRWFzZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9lYXNlciA9IG5ldyBHcmVlblNvY2tHbG9iYWxzLkVhc2UoQmV6aWVyRWFzaW5nKC4uLnRoaXMuX3BvaW50cykpO1xuXG4gICAgaWYgKHRoaXMucm91Z2hFYXNlKSB7XG5cbiAgICAgICAgdGhpcy5fZWFzZXIgPSBuZXcgUm91Z2hFYXNlKHtcbiAgICAgICAgICAgIGVhc2U6IHRoaXMuX2Vhc2VyLFxuICAgICAgICAgICAgc3RyZW5ndGg6IHRoaXMucm91Z2hTdHJlbmd0aCxcbiAgICAgICAgICAgIHBvaW50czogdGhpcy5yb3VnaFBvaW50cyxcbiAgICAgICAgICAgIGNsYW1wOiB0aGlzLnJvdWdoQ2xhbXAsXG4gICAgICAgICAgICByYW5kb21pc2U6IHRoaXMucm91Z2hSYW5kb21pc2UsXG4gICAgICAgICAgICB0YXBlcjogdGhpcy5yb3VnaFRhcGVyLFxuICAgICAgICB9KTtcbiAgICB9XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcbnZhciBFYXNlID0gcmVxdWlyZSgnLi9FYXNlJyk7XG5cbmZ1bmN0aW9uIEtleShvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICAgIFxuICAgIHRoaXMuX3RpbWUgPSAgMDtcbiAgICB0aGlzLl92YWx1ZSA9ICAnJztcbiAgICB0aGlzLmVhc2UgPSBuZXcgRWFzZSgpO1xuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9oZWlnaHQgPSBhbWd1aS5MSU5FX0hFSUdIVDtcblxuXG4gICAgdGhpcy5sb29rcyA9IG9wdC5sb29rcyB8fCB7XG4gICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2VlZSdcbiAgICAgICAgfSxcbiAgICAgICAgY2lyY2xlOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLl9vblNlbGVjdERyb3Bkb3duID0gdGhpcy5fb25TZWxlY3REcm9wZG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uQ2hhbmdlRWFzZSA9IHRoaXMuX29uQ2hhbmdlRWFzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRGVzZWxlY3RBbGxLZXlzID0gdGhpcy5fb25EZXNlbGVjdEFsbEtleXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cyA9IHRoaXMuX29uVHJhbnNsYXRlU2VsZWN0ZWRLZXlzLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9kZURyb3Bkb3duID0gYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICBvcHRpb25zOiBbJ2Vhc2UnLCAnZGVsZXRlJ10sXG4gICAgICAgIG9uU2VsZWN0OiB0aGlzLl9vblNlbGVjdERyb3Bkb3duLFxuICAgIH0pO1xuXG4gICAgYW0udGltZWxpbmUub24oJ2Rlc2VsZWN0QWxsS2V5cycsIHRoaXMuX29uRGVzZWxlY3RBbGxLZXlzKTtcbiAgICBhbS50aW1lbGluZS5vbigndHJhbnNsYXRlU2VsZWN0ZWRLZXlzJywgdGhpcy5fb25UcmFuc2xhdGVTZWxlY3RlZEtleXMpO1xuXG4gICAgaWYgKHRoaXMuZWFzZSkge1xuICAgICAgICB0aGlzLmVhc2Uub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRWFzZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZHJhZ2dlciA9IGFtZ3VpLm1ha2VEcmFnZ2FibGUoe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5kb21FbGVtLFxuICAgICAgICB0aGlzQXJnOiB0aGlzLFxuICAgICAgICBvbkRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgYW0udGltZWxpbmUuZW1pdCgnZGVzZWxlY3RBbGxLZXlzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vVE9ETyBzaGlmdCtzZWxlY3QgKGlmIGFuIG90aGVyIGtleShzKSBzZWxlY3RlZCBpbiB0aGlzIGxpbmUgaXRzIHNob3VsZCBzZWxlY3QgdGhvZXMgYXJlIGJldHdlZW4gdGhlbSkgXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZHJhZ2dlZDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kKSB7XG5cbiAgICAgICAgICAgIHZhciBkaWZmVGltZSA9IChtZC5keCAvIGFtLnRpbWVsaW5lLnRpbWVzY2FsZSkgLSBtZC5kcmFnZ2VkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgbWQuZHJhZ2dlZCArPSBkaWZmVGltZTtcblxuICAgICAgICAgICAgYW0udGltZWxpbmUuZW1pdCgndHJhbnNsYXRlU2VsZWN0ZWRLZXlzJywgZGlmZlRpbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICAgIHRoaXMudXNlU2F2ZShvcHQpO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoS2V5LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBLZXkucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBLZXk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHRpbWU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gTWF0aC5tYXgoMCwgdik7XG5cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpIHx8IHRoaXMuX3RpbWUgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fdGltZSA9IHBhcnNlSW50KHYpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZVRpbWUnLCB0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cblxuXG5cblxuXG5cblxuXG5wLmdldFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgdGltZTogdGhpcy50aW1lLFxuICAgICAgICBlYXNlOiB0aGlzLmVhc2UuZ2V0U2F2ZSgpLFxuICAgIH07XG59O1xuXG5wLnVzZVNhdmUgPSBmdW5jdGlvbiAoc2F2ZSkge1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gc2F2ZSkgdGhpcy52YWx1ZSA9IHNhdmUudmFsdWU7XG4gICAgaWYgKCd0aW1lJyBpbiBzYXZlKSB0aGlzLnRpbWUgPSBzYXZlLnRpbWU7XG4gICAgaWYgKCdlYXNlJyBpbiBzYXZlKSB0aGlzLmVhc2UudXNlU2F2ZShzYXZlLmVhc2UpO1xufTtcblxucC5zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5faXNTZWxlY3RlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5faXNTZWxlY3RlZCA9IHRydWU7XG5cbiAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xufVxuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKSByZXR1cm47XG5cbiAgICB0aGlzLl9pc1NlbGVjdGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmVtaXQoJ2Rlc2VsZWN0Jyk7XG59O1xuXG5wLmdyYWIgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgdGhpcy5fZHJhZ2dlci5lbWl0RG93bihlKTtcbn1cblxucC5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmVtaXQoJ25lZWRzUmVtb3ZlJywgdGhpcyk7XG59O1xuXG5wLmdldFByZXZLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMucGFyZW50S2V5TGluZS5nZXRQcmV2S2V5KHRoaXMudGltZSk7XG59O1xuXG5wLmdldE5leHRLZXkgPSBmdW5jdGlvbiAodGltZSkge1xuXG4gICAgcmV0dXJuIHRoaXMucGFyZW50S2V5TGluZS5nZXROZXh0S2V5KHRoaXMudGltZSk7XG59O1xuXG5wLnJlbmRlclRvTGluZSA9IGZ1bmN0aW9uIChjdHgpIHtcblxuICAgIHZhciBsb29rcyA9IHRoaXMubG9va3MsXG4gICAgICAgIGhlaWdodCA9IHRoaXMuX2hlaWdodCxcbiAgICAgICAga2V5UG9zID0gfn5hbS50aW1lbGluZS50aW1lVG9SZW5kZXJQb3ModGhpcy50aW1lKSArIDAuNSxcbiAgICAgICAgcHJldktleSA9IHRoaXMuZ2V0UHJldktleSgpLFxuICAgICAgICBwcmV2S2V5UG9zID0gYW0udGltZWxpbmUudGltZVRvUmVuZGVyUG9zKHByZXZLZXkgPyBwcmV2S2V5LnRpbWUgOiAwKSxcbiAgICAgICAgbGluZSA9IGxvb2tzLmxpbmUsXG4gICAgICAgIGNpcmNsZSA9IGxvb2tzLmNpcmNsZSxcbiAgICAgICAgciA9IDIsXG4gICAgICAgIGlzU2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkO1xuXG4gICAgdGhpcy5yZW5kZXJFYXNlVG9MaW5lKGN0eCk7XG5cbiAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicsIGN0eCwgdGhpcyk7XG4gICAgXG4gICAgaWYgKGxpbmUpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBpc1NlbGVjdGVkID8gJ2dvbGQnIDogKGxpbmUuY29sb3IgfHwgJyNlZWUnKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmUud2lkdGggfHwgMTtcbiAgICAgICAgY3R4Lm1vdmVUbyhrZXlQb3MsIDApO1xuICAgICAgICBjdHgubGluZVRvKGtleVBvcywgaGVpZ2h0KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGlmIChjaXJjbGUpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBpc1NlbGVjdGVkID8gJ2dvbGQnIDogKGNpcmNsZS5jb2xvciB8fCAnI2VlZScpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXNTZWxlY3RlZCA/ICdnb2xkJyA6IChjaXJjbGUuZmlsbENvbG9yIHx8ICcjZWVlJyk7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBjaXJjbGUud2lkdGggfHwgMTtcbiAgICAgICAgY3R4LmFyYyhrZXlQb3MsIGhlaWdodC8yLFxuICAgICAgICAgICAgJ3InIGluIGNpcmNsZSA/IGNpcmNsZS5yIDogcixcbiAgICAgICAgICAgICdhcmNTdGFydCcgaW4gY2lyY2xlID8gY2lyY2xlLmFyY1N0YXJ0IDogMCxcbiAgICAgICAgICAgICdhcmNFbmQnIGluIGNpcmNsZSA/IGNpcmNsZS5hcmNFbmQgOiAyICogTWF0aC5QSSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInLCBjdHgsIHRoaXMpO1xufTtcblxucC5yZW5kZXJFYXNlVG9MaW5lID0gZnVuY3Rpb24gKGN0eCkge1xuXG4gICAgaWYgKCF0aGlzLmVhc2UpIHJldHVybjtcblxuICAgIHZhciBlYXNlID0gdGhpcy5lYXNlLFxuICAgICAgICBjb2xvciA9ICh0aGlzLmxvb2tzLmVhc2UgJiYgdGhpcy5sb29rcy5lYXNlLmNvbG9yKSB8fCAncmdiYSgyMjUsMjI1LDIyNSwuMjMpJyxcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0LFxuICAgICAgICBrZXlQb3MgPSBhbS50aW1lbGluZS50aW1lVG9SZW5kZXJQb3ModGhpcy50aW1lKSxcbiAgICAgICAgcHJldktleSA9IHRoaXMuZ2V0UHJldktleSgpLFxuICAgICAgICBwcmV2S2V5UG9zID0gYW0udGltZWxpbmUudGltZVRvUmVuZGVyUG9zKHByZXZLZXkgPyBwcmV2S2V5LnRpbWUgOiAwKSxcbiAgICAgICAgd2lkdGggPSBrZXlQb3MgLSBwcmV2S2V5UG9zO1xuXG4gICAgaWYgKHdpZHRoID09PSAwKSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICBjdHgubGluZVdpZHRoID0gMS4yO1xuICAgIGN0eC5tb3ZlVG8ocHJldktleVBvcywgaGVpZ2h0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2lkdGg7ICsraSkge1xuXG4gICAgICAgIGN0eC5saW5lVG8ocHJldktleVBvcyArIGksIGhlaWdodCAtIGhlaWdodCAqIGVhc2UuZ2V0UmF0aW8oaS93aWR0aCkpO1xuICAgIH1cblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xufTtcblxucC5nZXREcm9wZG93biA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiB0aGlzLl9kZURyb3Bkb3duO1xufTtcblxuXG5cblxuXG5cblxuXG5wLl9vblNlbGVjdERyb3Bkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBcbiAgICB2YXIgc2VsZWN0aW9uID0gZS5kZXRhaWwuc2VsZWN0aW9uO1xuXG4gICAgaWYgKHNlbGVjdGlvbiA9PT0gJ2Vhc2UnKSB7XG5cbiAgICAgICAgdGhpcy5lYXNlLnNob3dPcHRpb25zRGlhbG9nKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGVjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcblxuICAgICAgICB0aGlzLmVtaXQoJ25lZWRzUmVtb3ZlJywgdGhpcyk7XG4gICAgfVxufTtcblxucC5fb25DaGFuZ2VFYXNlID0gZnVuY3Rpb24gKGVhc2UpIHtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlRWFzZScpO1xufTtcblxucC5fb25EZXNlbGVjdEFsbEtleXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRlc2VsZWN0KCk7XG59O1xuXG5wLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cyA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcblxuICAgIGlmICh0aGlzLl9pc1NlbGVjdGVkKSB7XG5cbiAgICAgICAgdGhpcy50aW1lICs9IG9mZnNldDtcbiAgICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnAuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlRHJvcGRvd24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25TZWxlY3REcm9wZG93bik7XG4gICAgYW0udGltZWxpbmUucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZVRhcGUnLCB0aGlzLl9vbkNoYW5nZVRhcGUpO1xuICAgIGFtLnRpbWVsaW5lLnJlbW92ZUxpc3RlbmVyKCdkZXNlbGVjdEFsbEtleXMnLCB0aGlzLl9vbkRlc2VsZWN0QWxsS2V5cyk7XG4gICAgYW0udGltZWxpbmUucmVtb3ZlTGlzdGVuZXIoJ3RyYW5zbGF0ZVNlbGVjdGVkS2V5cycsIHRoaXMuX29uVHJhbnNsYXRlU2VsZWN0ZWRLZXlzKTtcblxuICAgIGlmICh0aGlzLl9kZURyb3Bkb3duLnBhcmVudE5vZGUpIHRoaXMuX2RlRHJvcGRvd24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kZURyb3Bkb3duKTsgXG59O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBLZXkgPSByZXF1aXJlKCcuL0tleScpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBkaWFsb2dFYXNlT3B0aW9ucyA9IHJlcXVpcmUoJy4vZGlhbG9nRWFzZU9wdGlvbnMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgRWFzZSA9IHJlcXVpcmUoJy4vRWFzZScpO1xuXG5mdW5jdGlvbiBLZXlHcm91cChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX3N1YmtleXMgPSBbXTtcblxuICAgIEtleS5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICB0aGlzLmxvb2tzID0ge1xuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICBjb2xvcjogJyNlZWUnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbS50aW1lbGluZS5yZW1vdmVMaXN0ZW5lcignZGVzZWxlY3RBbGxLZXlzJywgdGhpcy5fb25EZXNlbGVjdEFsbEtleXMpO1xuICAgIGFtLnRpbWVsaW5lLnJlbW92ZUxpc3RlbmVyKCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCB0aGlzLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cyk7XG59XG5cbmluaGVyaXRzKEtleUdyb3VwLCBLZXkpO1xudmFyIHAgPSBLZXlHcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleUdyb3VwO1xuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBlYXNlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKGVhc2UpIHtcblxuICAgICAgICAgICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICAgICAgICAgIGtleS5lYXNlLnVzZVNhdmUoZWFzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cblxuXG5cblxuXG5cbnAuc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkuc2VsZWN0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9yZWZyZXNoU2VsZWN0ZWQoKTtcbn07XG5cbnAuZGVzZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9zdWJrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIGtleS5kZXNlbGVjdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVmcmVzaFNlbGVjdGVkKCk7XG59O1xuXG5wLnNldFN1YmtleXMgPSBmdW5jdGlvbiAobmV3U3Via2V5cykge1xuXG4gICAgdGhpcy5fc3Via2V5cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX3N1YmtleXMucHVzaC5hcHBseSh0aGlzLl9zdWJrZXlzLCBuZXdTdWJrZXlzKTtcblxuICAgIHRoaXMuX3JlZnJlc2hTZWxlY3RlZCgpO1xufTtcblxucC5yZW1vdmVTdWJrZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fc3Via2V5cy5pbmRleE9mKGtleSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fc3Via2V5cy5zcGxpY2UoaWR4LCAxKTtcbn07XG5cbnAucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fc3Via2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICBrZXkucmVtb3ZlKCk7XG4gICAgfSk7XG59O1xuXG5wLnJlbmRlckVhc2VUb0xpbmUgPSBmdW5jdGlvbiAoY3R4LCBzdGFydCwgd2lkdGgpIHtcblxuICAgIHRoaXMuX3N1YmtleXMuZm9yRWFjaChrZXkgPT4ga2V5LnJlbmRlckVhc2VUb0xpbmUoY3R4KSk7XG59O1xuXG5cblxuXG5cblxuXG5cblxucC5fb25TZWxlY3REcm9wZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgXG4gICAgdmFyIHNlbGVjdGlvbiA9IGUuZGV0YWlsLnNlbGVjdGlvbjtcblxuICAgIGlmIChzZWxlY3Rpb24gPT09ICdlYXNlJykge1xuXG4gICAgICAgIHRoaXMuZWFzZS5zaG93T3B0aW9uc0RpYWxvZygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxlY3Rpb24gPT09ICdkZWxldGUnKSB7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG59O1xuXG5wLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoZWFzZSkge1xuXG4gICAgdGhpcy5lYXNlID0gZWFzZTtcbn07XG5cblxuXG5cblxuXG5cbnAuX3JlZnJlc2hTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuX3N1YmtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHJldHVybiBrZXkuX2lzU2VsZWN0ZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQgIT09IHRoaXMuX2lzU2VsZWN0ZWQpIHtcblxuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gc2VsZWN0ZWQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KHRoaXMuX2lzU2VsZWN0ZWQgPyAnc2VsZWN0JyA6ICdkZXNlbGVjdCcpXG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5wLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZURyb3Bkb3duLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0RHJvcGRvd24pO1xuICAgIGFtLnRpbWVsaW5lLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2VUYXBlJywgdGhpcy5fb25DaGFuZ2VUYXBlKTtcbiAgICBhbS50aW1lbGluZS5yZW1vdmVMaXN0ZW5lcignZGVzZWxlY3RBbGxLZXlzJywgdGhpcy5fb25EZXNlbGVjdEFsbEtleXMpO1xuICAgIGFtLnRpbWVsaW5lLnJlbW92ZUxpc3RlbmVyKCd0cmFuc2xhdGVTZWxlY3RlZEtleXMnLCB0aGlzLl9vblRyYW5zbGF0ZVNlbGVjdGVkS2V5cyk7XG5cbiAgICBpZiAodGhpcy5fZGVEcm9wZG93bi5wYXJlbnROb2RlKSB0aGlzLl9kZURyb3Bkb3duLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZGVEcm9wZG93bik7IFxufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xuXG5mdW5jdGlvbiBLZXlMaW5lIChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fa2V5cyA9IFtdO1xuXG4gICAgdGhpcy5faGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQ7XG5cbiAgICB0aGlzLl9vbkNoYW5nZUtleSA9IHRoaXMuX29uQ2hhbmdlS2V5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25LZXlOZWVkc1JlbW92ZSA9IHRoaXMuX29uS2V5TmVlZHNSZW1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRibENsaWNrID0gdGhpcy5fb25EYmxDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICBcbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG5cbiAgICBhbWd1aS5jYWxsT25BZGRlZCh0aGlzLmRvbUVsZW0sIHRoaXMuX3JlbmRlci5iaW5kKHRoaXMpKTtcblxuICAgIGFtLnRpbWVsaW5lLm9uKFsnY2hhbmdlVGltZXNjYWxlJywgJ2NoYW5nZVRhcGUnXSwgdGhpcy5fcmVuZGVyLCB0aGlzKTtcblxuICAgIHZhciBkcm9wZG93bkJpbmRpbmcgPSBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICBkZVRhcmdldDogdGhpcy5kb21FbGVtLFxuICAgICAgICBvbk9wZW5pbmc6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLmdldEtleVVuZGVyUG9zKGUuc2NyZWVuWCksXG4gICAgICAgICAgICAgICAgZHJvcGRvd24gPSBrZXkgJiYga2V5LmdldERyb3Bkb3duKCk7XG5cbiAgICAgICAgICAgIGlmIChkcm9wZG93bikge1xuXG4gICAgICAgICAgICAgICAgZHJvcGRvd25CaW5kaW5nLnNldERyb3Bkb3duKGRyb3Bkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgIH0pO1xufVxuXG5pbmhlcml0cyhLZXlMaW5lLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBLZXlMaW5lLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gS2V5TGluZTtcblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBrZXlDb3VudDoge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxuXG5cblxucC5hZGRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgXG4gICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAga2V5LnBhcmVudEtleUxpbmUgPSB0aGlzO1xuXG4gICAga2V5Lm9uKCdjaGFuZ2VUaW1lJywgdGhpcy5fb25DaGFuZ2VLZXkpO1xuICAgIGtleS5vbignY2hhbmdlRWFzZScsIHRoaXMuX29uQ2hhbmdlS2V5KTtcbiAgICBrZXkub24oJ3NlbGVjdCcsIHRoaXMuX29uQ2hhbmdlS2V5KTtcbiAgICBrZXkub24oJ2Rlc2VsZWN0JywgdGhpcy5fb25DaGFuZ2VLZXkpO1xuICAgIGtleS5vbignbmVlZHNSZW1vdmUnLCB0aGlzLl9vbktleU5lZWRzUmVtb3ZlKTtcbiAgICBcbiAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xufTtcblxucC5yZW1vdmVLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB2YXIgaWR4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGtleSk7XG5cbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fa2V5cy5zcGxpY2UoaWR4LCAxKTtcbiAgICBrZXkucGFyZW50S2V5TGluZSA9IHVuZGVmaW5lZDtcbiAgICBcbiAgICBrZXkucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZVRpbWUnLCB0aGlzLl9vbkNoYW5nZUtleSk7XG4gICAga2V5LnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2VFYXNlJywgdGhpcy5fb25DaGFuZ2VLZXkpO1xuICAgIGtleS5yZW1vdmVMaXN0ZW5lcignc2VsZWN0JywgdGhpcy5fb25DaGFuZ2VLZXkpO1xuICAgIGtleS5yZW1vdmVMaXN0ZW5lcignZGVzZWxlY3QnLCB0aGlzLl9vbkNoYW5nZUtleSk7XG4gICAga2V5LnJlbW92ZUxpc3RlbmVyKCduZWVkc1JlbW92ZScsIHRoaXMuX29uS2V5TmVlZHNSZW1vdmUpO1xuXG4gICAga2V5LmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbnAuZm9yRWFjaEtleXMgPSBmdW5jdGlvbiAoZm4sIHRoaXNBcmcpIHtcblxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmbiwgdGhpc0FyZyk7XG59O1xuXG5wLmdldEtleUJ5VGltZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fa2V5cy5maW5kKGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICAgIHJldHVybiBrZXkudGltZSA9PT0gdGltZTtcbiAgICB9KTtcbn07XG5cbnAuZ2V0UHJldktleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgcmV0S2V5O1xuICAgIFxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPCB0aW1lICYmICghcmV0S2V5IHx8IHJldEtleS50aW1lIDwga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIHJldEtleSA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldEtleTtcbn07XG5cbnAuZ2V0TmV4dEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgcmV0S2V5O1xuICAgIFxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICBpZiAoa2V5LnRpbWUgPiB0aW1lICYmICghcmV0S2V5IHx8IHJldEtleS50aW1lID4ga2V5LnRpbWUpKSB7XG5cbiAgICAgICAgICAgIHJldEtleSA9IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldEtleTtcbn07XG5cbnAuZ2V0Q2xvc2VzdEtleSA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICB2YXIgcmV0S2V5LCByZXREaXN0O1xuICAgIFxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuICAgICAgICB2YXIgZGlzdCA9IE1hdGguYWJzKHRpbWUgLSBrZXkudGltZSk7XG5cbiAgICAgICAgaWYgKCFyZXRLZXkgfHwgcmV0RGlzdCA+IGRpc3QpIHtcblxuICAgICAgICAgICAgcmV0RGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICByZXRLZXkgPSBrZXk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXRLZXk7XG59O1xuXG5wLmdldEtleVVuZGVyUG9zID0gZnVuY3Rpb24gKHgpIHtcblxuICAgIHZhciB0aW1lID0gYW0udGltZWxpbmUuc2NyZWVuWFRvVGltZSh4KSxcbiAgICAgICAga2V5ID0gdGhpcy5nZXRDbG9zZXN0S2V5KHRpbWUpO1xuXG4gICAgaWYgKGtleSAmJiAoTWF0aC5hYnModGltZSAtIGtleS50aW1lKSAqIGFtLnRpbWVsaW5lLnRpbWVzY2FsZSkgPCA0KSB7XG5cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG59O1xuXG5wLmdldEtleVRpbWVzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIHRpbWVzID0gW107XG5cbiAgICB0aGlzLl9rZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHRpbWVzLnB1c2goa2V5LnRpbWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRpbWVzO1xufTtcblxuXG5cblxuXG5cblxuXG5cbnAuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXMsXG4gICAgICAgIGN0eCA9IHRoaXMuX2N0eDtcblxuICAgIGNhbnZhcy53aWR0aCA9IGFtLnRpbWVsaW5lLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG5cbiAgICBfLnNvcnRCeSh0aGlzLl9rZXlzLCAndGltZScpLmZvckVhY2goa2V5ID0+IGtleS5yZW5kZXJUb0xpbmUoY3R4KSk7XG59O1xuICAgIFxucC5fc29ydEtleXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9rZXlzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhLnRpbWUgLSBiLnRpbWU7XG4gICAgfSk7XG59O1xuXG5wLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcbn07XG5cbnAuX29uS2V5TmVlZHNSZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB0aGlzLnJlbW92ZUtleShrZXkpO1xufTtcblxucC5fb25EYmxDbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICB2YXIgdGltZSA9IGFtLnRpbWVsaW5lLnNjcmVlblhUb1RpbWUoZS5zY3JlZW5YKSxcbiAgICAgICAga2V5ID0gdGhpcy5nZXROZXh0S2V5KHRpbWUpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgICBhbS50aW1lbGluZS5pbmxpbmVFYXNlRWRpdG9yLnNob3coe2tleX0pO1xuICAgIH1cbn07XG5cbnAuX29uTW91c2VEb3duID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciBrZXkgPSB0aGlzLmdldEtleVVuZGVyUG9zKGUuc2NyZWVuWCk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGtleS5ncmFiKGUpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gY3JlYXRlS2V5bGluZShvcHQpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMuZG9tRWxlbS5zZXRBdHRyaWJ1dGUoJ2RlYnVnLWtleWxpbmUnLCAxKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuXG4gICAgLy9UT0RPIHJlbW92ZSBfZGVMaW5lIGlmIGl0J3MgZG9lc24ndCBuZWVkZWQ7XG4gICAgdGhpcy5fZGVMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVMaW5lLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLl9kZUxpbmUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVMaW5lLnN0eWxlLmhlaWdodCA9IHRoaXMuX2hlaWdodCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlTGluZSk7XG4gICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlTGluZX0pO1xuXG4gICAgdGhpcy5fY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLl9kZUxpbmUuYXBwZW5kQ2hpbGQodGhpcy5fY2FudmFzKTtcbiAgICB0aGlzLl9jdHggPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBcbiAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLl9vbkRibENsaWNrKTtcbiAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xufTtcblxucC5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vVE9ET1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgS2V5TGluZSA9IHJlcXVpcmUoJy4vS2V5TGluZScpO1xudmFyIEtleUdyb3VwID0gcmVxdWlyZSgnLi9LZXlHcm91cCcpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gS2V5TGluZUdyb3VwIChvcHQpIHtcblxuICAgIEtleUxpbmUuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX2tleUxpbmVzID0gW107XG5cbiAgICB0aGlzLl9vbkNoYW5nZUtleUxpbmUgPSB0aGlzLl9vbkNoYW5nZUtleUxpbmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbktleU5lZWRzUmVtb3ZlID0gdGhpcy5fb25LZXlOZWVkc1JlbW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2RlbGF5ZWRSZWZyZXNoSGVhZEtleWxpbmUgPSB0aGlzLl9kZWxheWVkUmVmcmVzaEhlYWRLZXlsaW5lLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVTdWJjb250KCk7XG59XG5cbmluaGVyaXRzKEtleUxpbmVHcm91cCwgS2V5TGluZSk7XG52YXIgcCA9IEtleUxpbmVHcm91cC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IEtleUxpbmVHcm91cDtcblxuXG5cblxuXG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBrZXlDb3VudDoge1xuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG5cblxucC5hZGRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICBpZighKGtleSBpbnN0YW5jZW9mIEtleUdyb3VwKSkgdGhyb3cgRXJyb3I7XG5cbiAgICBLZXlMaW5lLnByb3RvdHlwZS5hZGRLZXkuY2FsbCh0aGlzLCBrZXkpXG59XG5cblxucC5hZGRLZXlMaW5lID0gZnVuY3Rpb24gKGtleUxpbmUpIHtcblxuICAgIGlmICh0aGlzLl9rZXlMaW5lcy5pbmRleE9mKGtleUxpbmUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAga2V5TGluZS5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VLZXlMaW5lKTtcblxuICAgIHRoaXMuX2tleUxpbmVzLnB1c2goa2V5TGluZSk7XG5cbiAgICB0aGlzLl9kZVN1YmNvbnQuYXBwZW5kQ2hpbGQoa2V5TGluZS5kb21FbGVtKTtcblxuICAgIHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZSgpO1xufTtcblxucC5yZW1vdmVLZXlsaW5lID0gZnVuY3Rpb24gKGtleUxpbmUpIHtcbiAgICBcbiAgICB2YXIgaWR4ID0gdGhpcy5fa2V5TGluZXMuaW5kZXhPZihrZXlMaW5lKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuXG4gICAga2V5TGluZS5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VLZXlMaW5lKTtcblxuICAgIHRoaXMuX2tleUxpbmVzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgaWYgKGtleUxpbmUuZG9tRWxlbS5wYXJlbnROb2RlID09PSB0aGlzLl9kZVN1YmNvbnQpIHtcbiAgICAgICAgdGhpcy5fZGVTdWJjb250LnJlbW92ZUNoaWxkKGtleUxpbmUuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaEhlYWRLZXlsaW5lKCk7XG59O1xuXG5wLm1vdmVLZXlsaW5lVG8gPSBmdW5jdGlvbiAoa2V5bGluZSwgaWR4KSB7XG5cbiAgICB2YXIga2V5bGluZSA9IHRoaXMuX2tleUxpbmVzLnNwbGljZShpZHgsIDEpO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5wLl9vbkNoYW5nZUtleUxpbmUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmUoKTtcblxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XG59O1xuXG5wLl9vbkRibENsaWNrID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHZhciB0aW1lID0gYW0udGltZWxpbmUuc2NyZWVuWFRvVGltZShlLnNjcmVlblgpLFxuICAgICAgICBrZXkgPSB0aGlzLmdldE5leHRLZXkodGltZSksXG4gICAgICAgIGVhc2VzID0gW107XG5cbiAgICBjb2xsZWN0RWFzZXMoa2V5KTtcblxuICAgIGlmIChrZXkpIHtcblxuICAgICAgICBhbS50aW1lbGluZS5pbmxpbmVFYXNlRWRpdG9yLnNob3coe2tleSwgZWFzZXN9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RFYXNlcyhrZXkpIHtcblxuICAgICAgICBrZXkuX3N1YmtleXMuZm9yRWFjaChzdWJLZXkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoc3ViS2V5IGluc3RhbmNlb2YgS2V5R3JvdXApIHtcblxuICAgICAgICAgICAgICAgIGNvbGxlY3RFYXNlcyhzdWJLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWFzZXMucHVzaChzdWJLZXkuZWFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cblxuXG5cblxucC5fcmVmcmVzaEhlYWRLZXlsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmVSYWZJZCkge1xuXG4gICAgICAgIHRoaXMuX3JlZnJlc2hIZWFkS2V5bGluZVJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RlbGF5ZWRSZWZyZXNoSGVhZEtleWxpbmUpO1xuICAgIH1cbn07XG5cbnAuX2RlbGF5ZWRSZWZyZXNoSGVhZEtleWxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9yZWZyZXNoSGVhZEtleWxpbmVSYWZJZCA9IHVuZGVmaW5lZDtcblxuICAgIHZhciB0aW1lcyA9IFtdLCBrZXlzT25UaW1lcyA9IFtdO1xuXG4gICAgdGhpcy5fa2V5TGluZXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5TGluZSkge1xuXG4gICAgICAgIGtleUxpbmUuZm9yRWFjaEtleXMoZnVuY3Rpb24gKGtleSwgaWR4KSB7XG5cbiAgICAgICAgICAgIHZhciB0aWR4ID0gdGltZXMuaW5kZXhPZihrZXkudGltZSk7XG5cbiAgICAgICAgICAgIGlmICh0aWR4ID09PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgdGltZXMucHVzaChrZXkudGltZSk7XG4gICAgICAgICAgICAgICAga2V5c09uVGltZXMucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgdGlkeCA9IHRpbWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGtleXNPblRpbWVzW3RpZHhdLnB1c2goa2V5KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSwgdGhpcyk7XG5cblxuICAgIHdoaWxlICh0aW1lcy5sZW5ndGggPCB0aGlzLl9rZXlzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5KHRoaXMuX2tleXNbdGhpcy5fa2V5cy5sZW5ndGgtMV0pO1xuICAgIH1cblxuICAgIHdoaWxlICh0aW1lcy5sZW5ndGggPiB0aGlzLl9rZXlzLmxlbmd0aCkge1xuXG4gICAgICAgIHRoaXMuYWRkS2V5KG5ldyBLZXlHcm91cCh7fSkpO1xuICAgIH1cblxuXG4gICAgdGltZXMuZm9yRWFjaChmdW5jdGlvbiAodGltZSwgaWR4KSB7XG5cbiAgICAgICAgdmFyIGtleSA9IHRoaXMuX2tleXNbaWR4XTtcblxuICAgICAgICBrZXkudGltZSA9IHRpbWU7XG5cbiAgICAgICAga2V5LnNldFN1YmtleXMoa2V5c09uVGltZXNbaWR4XSk7XG5cbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuX3JlbmRlcigpO1xufTtcblxuXG5cblxucC5fY3JlYXRlU3ViY29udCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlU3ViY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlU3ViY29udC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVTdWJjb250KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIFVuaXRJbnB1dCA9IHJlcXVpcmUoJy4vVW5pdElucHV0Jyk7XG52YXIgU3RyaW5nSW5wdXQgPSByZXF1aXJlKCcuL1N0cmluZ0lucHV0Jyk7XG52YXIgU2VsZWN0SW5wdXQgPSByZXF1aXJlKCcuL1NlbGVjdElucHV0Jyk7XG52YXIgQ29sb3JJbnB1dCA9IHJlcXVpcmUoJy4vQ29sb3JJbnB1dCcpO1xudmFyIENoZWNrYm94SW5wdXQgPSByZXF1aXJlKCcuL0NoZWNrYm94SW5wdXQnKTtcblxuZnVuY3Rpb24gT3B0aW9uTGluZShvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5pbnB1dHMgPSB7fTtcbiAgICB0aGlzLmJ1dHRvbnMgPSB7fTtcbiAgICB0aGlzLl9pbmRlbnQgPSAwO1xuICAgIHRoaXMuX2xpbmVIID0gYW1ndWkuTElORV9IRUlHSFQ7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5fY3JlYXRlSGlnaGxpZ2h0KCk7XG5cbiAgICBpZiAob3B0LnNlcGFyYXRvcikge1xuICAgICAgICBcbiAgICAgICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnR9KTs7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5wYXJlbnQpIHtcblxuICAgICAgICBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5jb250ZXh0TWVudU9wdGlvbnMpIHtcblxuICAgICAgICBhbWd1aS5iaW5kRHJvcGRvd24oe1xuICAgICAgICAgICAgYXNDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICAgICAgZGVNZW51OiBhbWd1aS5jcmVhdGVEcm9wZG93bih7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0LmNvbnRleHRNZW51T3B0aW9uc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBpZiAob3B0LnRnZ2xDaGlsZHJlbikge1xuICAgICBcbiAgICAgICAgdGhpcy5idXR0b25zLnRnZ2xDaGlsZHJlbiA9IGFtZ3VpLmNyZWF0ZVRvZ2dsZUljb25CdG4oe1xuICAgICAgICAgICAgaWNvbk9uOiAnYW5nbGUtZG93bicsXG4gICAgICAgICAgICBpY29uT2ZmOiAnYW5nbGUtcmlnaHQnLFxuICAgICAgICAgICAgb25DbGljazogb3B0LnRnZ2xDaGlsZHJlbi5vbkNsaWNrLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUubWFyZ2luUmlnaHQgPSAnMTZweCc7XG4gICAgfVxuXG4gICAgdGhpcy5fY3JlYXRlSW5kZW50KCk7XG5cbiAgICBpZiAob3B0LmluZGVudCkge1xuXG4gICAgICAgIHRoaXMuaW5kZW50ID0gb3B0LmluZGVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0LnRpdGxlKSB7XG5cbiAgICAgICAgdGhpcy5fZGVUaXRsZSA9IGFtZ3VpLmNyZWF0ZUxhYmVsKHtcbiAgICAgICAgICAgIHRleHQ6IHR5cGVvZiBvcHQudGl0bGUgPT09ICdzdHJpbmcnID8gb3B0LnRpdGxlIDogKG9wdC50aXRsZS50ZXh0IHx8ICcnKSwgXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHQudGl0bGUub25DbGljaykge1xuXG4gICAgICAgICAgICB0aGlzLl9kZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0LnRpdGxlLm9uQ2xpY2spO1xuXG4gICAgICAgICAgICB2YXIgZGVOYW1lSWNvbiA9IGFtZ3VpLmNyZWF0ZUljb24oe1xuICAgICAgICAgICAgICAgIGljb246ICdjb2cnLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZGVIZWFkQ29udCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVOYW1lSWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5fZGVUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge2RlTmFtZUljb24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO30pO1xuICAgICAgICAgICAgdGhpcy5fZGVUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge2RlTmFtZUljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJzt9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2lucHV0Q29udCA9IGFtZ3VpLmNyZWF0ZURpdih7XG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVIZWFkQ29udCxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4OiAnMScsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9idG5Db250ID0gYW1ndWkuY3JlYXRlRGl2KHtcbiAgICAgICAgcGFyZW50OiB0aGlzLl9kZUhlYWRDb250LFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgIH0pO1xuXG4gICAgaWYgKG9wdC5pbnB1dHMpIHtcblxuICAgICAgICBvcHQuaW5wdXRzLmZvckVhY2godGhpcy5hZGRJbnB1dCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC50Z2dsTWVyZ2UpIHtcblxuICAgICAgICB0aGlzLmFkZEJ1dHRvbih7XG4gICAgICAgICAgICBkb21FbGVtOiBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgICAgICAgICBpY29uT246ICdmbG93LWxpbmUnLFxuICAgICAgICAgICAgICAgIGljb25PZmY6ICdmbG93LXBhcmFsbGVsJyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBvcHQudGdnbE1lcmdlLm9uQ2xpY2ssXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5hbWU6ICd0Z2dsTWVyZ2UnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0LmJ0bktleSkge1xuXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKHtcbiAgICAgICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZVN0ZXBwZXJLZXkoe1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9wdC5idG5LZXkub25DbGljayxcbiAgICAgICAgICAgICAgICBvbkNsaWNrUHJldjogb3B0LmJ0bktleS5vbkNsaWNrUHJldixcbiAgICAgICAgICAgICAgICBvbkNsaWNrTmV4dDogb3B0LmJ0bktleS5vbkNsaWNrTmV4dCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmFtZTogJ2tleScsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuaW5oZXJpdHMoT3B0aW9uTGluZSwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gT3B0aW9uTGluZS5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbkxpbmU7XG5cblxuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgdGl0bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fZGVUaXRsZS5zZXRUZXh0KHYpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLm9wYWNpdHkgPSB2ID8gMSA6IDA7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBpbmRlbnQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gcGFyc2VJbnQodik7XG4gICAgICAgICAgICBpZiAodiA9PT0gdGhpcy5faW5kZW50KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2luZGVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLl9kZUluZGVudC5zdHlsZS53aWR0aCA9IHRoaXMuX2luZGVudCAqIDYgKyAncHgnO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5kZW50O1xuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuXG5cblxucC5hZGRJbnB1dCA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIHZhciBpbnB1dDtcblxuICAgIG9wdCA9IF8uYXNzaWduKHtcbiAgICAgICAgb25DaGFuZ2U6IG9wdC5vbkNoYW5nZSxcbiAgICAgICAgZmxleDogJzEnLFxuICAgIH0sIG9wdCk7XG5cbiAgICBzd2l0Y2ggKG9wdC50eXBlKSB7XG5cbiAgICAgICAgY2FzZSAndW5pdCc6XG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBVbml0SW5wdXQob3B0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBTZWxlY3RJbnB1dChvcHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY29sb3InOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgQ29sb3JJbnB1dChvcHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgQ2hlY2tib3hJbnB1dChvcHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlucHV0ID0gbmV3IFN0cmluZ0lucHV0KG9wdCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdC5uYW1lKSB7XG5cbiAgICAgICAgdGhpcy5pbnB1dHNbb3B0Lm5hbWVdID0gaW5wdXQ7XG4gICAgfVxuXG4gICAgdGhpcy5faW5wdXRDb250LmFwcGVuZENoaWxkKGlucHV0LmRvbUVsZW0pO1xufTtcblxucC5hZGRCdXR0b24gPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoJ2NoaWxkSWR4JyBpbiBvcHQgJiYgdGhpcy5fYnRuQ29udC5jaGlsZE5vZGVzW29wdC5jaGlsZElkeF0pIHtcblxuICAgICAgICB0aGlzLl9idG5Db250Lmluc2VydEJlZm9yZShvcHQuZG9tRWxlbSwgdGhpcy5fYnRuQ29udC5jaGlsZE5vZGVzW29wdC5jaGlsZElkeF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYnRuQ29udC5hcHBlbmRDaGlsZChvcHQuZG9tRWxlbSk7XG4gICAgfVxuXG4gICAgb3B0LmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIG9wdC5kb21FbGVtLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAndG9wJztcblxuICAgIGlmIChvcHQubmFtZSkge1xuXG4gICAgICAgIHRoaXMuYnV0dG9uc1tvcHQubmFtZV0gPSBvcHQuZG9tRWxlbTtcbiAgICB9XG59O1xuXG5wLmFkZFN1YmxpbmUgPSBmdW5jdGlvbiAoZGUpIHtcblxuICAgIHRoaXMuX2RlU3ViY29udC5hcHBlbmRDaGlsZChkZSk7XG59O1xuXG5wLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xufTtcblxucC5oaWRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5wLnNob3dTdWJsaW5lID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5fZGVTdWJjb250LnN0eWxlLmRpc3BsYXkgPSAnJztcbn07XG5cbnAuaGlkZVN1YmxpbmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZVN1YmNvbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cblxuXG5cblxuXG5cblxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICB0aGlzLl9kZUhlYWRDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9saW5lSCArICdweCc7XG4gICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKHRoaXMuX2RlSGVhZENvbnQpO1xuXG4gICAgYW1ndWkuY3JlYXRlU2VwYXJhdG9yKHtwYXJlbnQ6IHRoaXMuX2RlSGVhZENvbnR9KTtcblxuICAgIHRoaXMuX2RlU3ViY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlU3ViY29udC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVTdWJjb250KTtcbn07XG5cbnAuX2NyZWF0ZUhpZ2hsaWdodCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlSGlnaGxpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gJzJweCc7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5fbGluZUggKyAncHgnO1xuICAgIHRoaXMuX2RlSGlnaGxpZ2h0LnN0eWxlLmJhY2tncm91bmQgPSAnZ29sZCc7XG4gICAgdGhpcy5fZGVIaWdobGlnaHQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgdGhpcy5fZGVIZWFkQ29udC5hcHBlbmRDaGlsZCh0aGlzLl9kZUhpZ2hsaWdodCk7XG59O1xuXG5wLl9jcmVhdGVJbmRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9kZUluZGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlSW5kZW50LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICB0aGlzLl9kZUluZGVudC5zdHlsZS53aWR0aCA9ICcwcHgnO1xuICAgIHRoaXMuX2RlSGVhZENvbnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVJbmRlbnQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gU2VsZWN0SW5wdXQob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX29uU2VsZWN0ID0gdGhpcy5fb25TZWxlY3QuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZUJhc2UoKTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHQub3B0aW9ucyB8fCBbXTtcbiAgICB0aGlzLnZhbHVlID0gb3B0LnZhbHVlIHx8IHRoaXMuX29wdGlvbnNbMF0gfHwgJyc7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHRWYWx1ZSB8fCB0aGlzLl9vcHRpb25zWzBdIHx8ICcnO1xuXG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIHRoaXMuZG9tRWxlbS5zdHlsZS5mbGV4ID0gb3B0LmZsZXg7XG4gICAgaWYgKCdwYXJlbnQnIGluIG9wdCkgb3B0LnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW0pO1xuICAgIGlmIChvcHQub25DaGFuZ2UpIHRoaXMub24oJ2NoYW5nZScsIG9wdC5vbkNoYW5nZSk7XG59XG5cbmluaGVyaXRzKFNlbGVjdElucHV0LCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBTZWxlY3RJbnB1dC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFNlbGVjdElucHV0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgKz0gJyc7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB0aGlzLl92YWx1ZSB8fCB0aGlzLl9vcHRpb25zLmluZGV4T2YodikgPT09IC0xKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fZGVWYWx1ZS5zZXRUZXh0KHYpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sXG59KTtcblxuXG5cblxuXG5cbnAucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnZhbHVlID0gdGhpcy5fZGVmYXVsdFZhbHVlO1xufTtcblxuXG5cblxuXG5cbnAuX29uU2VsZWN0ID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIHRoaXMudmFsdWUgPSBlLmRldGFpbC5zZWxlY3Rpb247XG59O1xuXG5cblxuXG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcblxuICAgIHRoaXMuX2RlVmFsdWUgPSBhbWd1aS5jcmVhdGVMYWJlbCh7XG4gICAgICAgIHBhcmVudDogdGhpcy5kb21FbGVtLFxuICAgICAgICB0ZXh0OiAnJyxcbiAgICB9KTtcblxuICAgIGFtZ3VpLmJpbmREcm9wZG93bih7XG4gICAgICAgIGRlVGFyZ2V0OiB0aGlzLl9kZVZhbHVlLFxuICAgICAgICBvblNlbGVjdDogdGhpcy5fb25TZWxlY3QsXG4gICAgICAgIGRlTWVudTogYW1ndWkuY3JlYXRlRHJvcGRvd24oe1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5fb3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICB9KTtcbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gU3RyaW5nSW5wdXQob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX29uQ2hhbmdlSW5wdXQgPSB0aGlzLl9vbkNoYW5nZUlucHV0LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IG9wdC52YWx1ZSB8fCAnJztcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8ICcnO1xuXG4gICAgaWYgKG9wdC5wbGFjZWhvbGRlcikge1xuXG4gICAgICAgIHRoaXMuX2lucHV0LnBsYWNlaG9sZGVyID0gb3B0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIGlmIChvcHQuc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fcHJlcGFyZVN1Z2dlc3Rpb25zKG9wdC5zdWdnZXN0aW9ucywgb3B0LnR5cGVhaGVhZE9wdGlvbnMsIG9wdC5kYXRhc2V0T3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoJ2ZsZXgnIGluIG9wdCkgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBvcHQuZmxleDtcbiAgICBpZiAoJ3BhcmVudCcgaW4gb3B0KSBvcHQucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbSk7XG4gICAgaWYgKG9wdC5vbkNoYW5nZSkgdGhpcy5vbignY2hhbmdlJywgb3B0Lm9uQ2hhbmdlKTtcbn1cblxuaW5oZXJpdHMoU3RyaW5nSW5wdXQsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFN0cmluZ0lucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gU3RyaW5nSW5wdXQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHZhbHVlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiArPSAnJztcblxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ZhbHVlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcblxuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbn0pO1xuXG5cblxuXG5cblxucC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMudmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG59O1xuXG5wLnNldFN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKHN1Z2dlc3Rpb25zKSB7XG5cbiAgICBpZiAodGhpcy5fc3VnZ2VzdGlvbkVuZ2luZSkge1xuXG4gICAgICAgIHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGlvbkVuZ2luZS5sb2NhbCA9IHN1Z2dlc3Rpb25zO1xuICAgICAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lLmluaXRpYWxpemUodHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9wcmVwYXJlU3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnMpO1xuICAgIH1cbn07XG5cblxuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5jb25zb2xlLmxvZygnX29uQ2hhbmdlSW5wdXQnLCB0aGlzLl9pbnB1dC52YWx1ZSlcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5faW5wdXQudmFsdWU7XG59O1xuXG5cblxucC5fcmVmcmVzaElucHV0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuX2lucHV0LnZhbHVlICE9PSB0aGlzLl92YWx1ZSkge1xuICAgIFxuICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgIH1cbn07XG5cblxuXG5cbnAuX2NyZWF0ZUJhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0gPSBhbWd1aS5jcmVhdGVEaXYoKTtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcblxuICAgIHRoaXMuX2lucHV0ID0gYW1ndWkuY3JlYXRlSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uQ2hhbmdlSW5wdXQsXG4gICAgICAgIGZsZXg6IDEsIFxuICAgIH0pO1xuXG4gICAgLy8gdGhpcy5faW5wdXQuc3R5bGUudGV4dEFsaWduID0gICdyaWdodCc7XG4gICAgdGhpcy5faW5wdXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gICcycHgnO1xufTtcblxucC5fcHJlcGFyZVN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKHN1Z2dlc3Rpb25zKSB7XG5cbiAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lID0gbmV3IEJsb29kaG91bmQoe1xuICAgICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKCd2YWx1ZScpLFxuICAgICAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgICAgIC8vIGBzdGF0ZXNgIGlzIGFuIGFycmF5IG9mIHN0YXRlIG5hbWVzIGRlZmluZWQgaW4gXCJUaGUgQmFzaWNzXCJcbiAgICAgICAgbG9jYWw6IHN1Z2dlc3Rpb25zLCBcbiAgICB9KTtcblxuICAgIC8vIGtpY2tzIG9mZiB0aGUgbG9hZGluZy9wcm9jZXNzaW5nIG9mIGBsb2NhbGAgYW5kIGBwcmVmZXRjaGBcbiAgICB0aGlzLl9zdWdnZXN0aW9uRW5naW5lLmluaXRpYWxpemUoKTtcblxuICAgIHZhciB0ZW1wbGF0ZSA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJndWVzc1wiIHN0eWxlPVwicGFkZGluZzogMnB4O2NvbG9yOicrYW1ndWkuY29sb3IudGV4dENvbG9yKyc7YmFja2dyb3VuZC1jb2xvcjonK2FtZ3VpLmNvbG9yLmJnMSsnO1wiPicsXG4gICAgICAgICAgJzxzcGFuPnt7e3ZhbHVlfX19PC9zcGFuPicsXG4gICAgICAgICc8L2Rpdj4nXS5qb2luKCcnKTtcblxuICAgIGFtZ3VpLmNhbGxPbkFkZGVkKHRoaXMuX2lucHV0LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCh0aGlzLl9pbnB1dCkudHlwZWFoZWFkKHtcbiAgICAgICAgICAgICAgICBoaW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDBcbiAgICAgICAgICAgIH0se1xuICAgICAgICAgICAgICAgIG5hbWU6ICdzdGF0ZXMnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlLZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICAgICAgLy8gYHR0QWRhcHRlcmAgd3JhcHMgdGhlIHN1Z2dlc3Rpb24gZW5naW5lIGluIGFuIGFkYXB0ZXIgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgdHlwZWFoZWFkIGpRdWVyeSBwbHVnaW5cbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuX3N1Z2dlc3Rpb25FbmdpbmUudHRBZGFwdGVyKCksXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb246IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ3R5cGVhaGVhZDpvcGVuZWQnLCBmdW5jdGlvbiAoKSB7Y29uc29sZS5sb2coJ29uT3BlbmVkJyl9KVxuICAgICAgICAgICAgLm9uKCd0eXBlYWhlYWQ6YXV0b2NvbXBsZXRlZCcsIGZ1bmN0aW9uICgpIHtjb25zb2xlLmxvZygnb25BdXRvY29tcGxldGVkJyl9KVxuICAgICAgICAgICAgLm9uKCd0eXBlYWhlYWQ6c2VsZWN0ZWQnLCBmdW5jdGlvbiAoKSB7Y29uc29sZS5sb2coJ29uU2VsZWN0ZWQnKX0pO1xuICAgIH0sIHRoaXMpO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFVuaXRJbnB1dChvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5fcnhBbW91bnQgPSAvXlxccyooW1xcKy1dP1xcZCpcXC4/XFxkKikvO1xuICAgIHRoaXMuX3J4VW5pdDtcblxuICAgIHRoaXMuX29uQ2hhbmdlSW5wdXRBbW91bnQgPSB0aGlzLl9vbkNoYW5nZUlucHV0QW1vdW50LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG5cbiAgICB0aGlzLnVuaXRzID0gb3B0LnVuaXRzIHx8IFsnJ107XG4gICAgdGhpcy5taW4gPSBvcHQubWluO1xuICAgIHRoaXMubWF4ID0gb3B0Lm1heDtcbiAgICB0aGlzLl9hbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdW5pdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9wcmVjaXNvbiA9IG9wdC5wcmVjaXNpb24gfHwgMDtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdFZhbHVlIHx8IDA7XG4gICAgdGhpcy5fZHJhZ1NwZWVkID0gb3B0LmRyYWdTcGVlZCB8fCAxO1xuXG4gICAgdGhpcy5fc2V0VmFsdWVQYXJ0cyhvcHQuYW1vdW50IHx8IDAsIHRoaXMuX3VuaXRzWzBdKTtcblxuICAgIHRoaXMuY29udmVydGVycyA9IG9wdC5jb252ZXJ0ZXJzO1xuXG4gICAgaWYgKCdmbGV4JyBpbiBvcHQpIHRoaXMuZG9tRWxlbS5zdHlsZS5mbGV4ID0gb3B0LmZsZXg7XG4gICAgaWYgKCdwYXJlbnQnIGluIG9wdCkgb3B0LnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW0pO1xuICAgIGlmIChvcHQub25DaGFuZ2UpIHRoaXMub24oJ2NoYW5nZScsIG9wdC5vbkNoYW5nZSk7XG59XG5cbmluaGVyaXRzKFVuaXRJbnB1dCwgRXZlbnRFbWl0dGVyKTtcbnZhciBwID0gVW5pdElucHV0LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gVW5pdElucHV0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHYgKz0gJyc7XG5cbiAgICAgICAgICAgIHZhciBtQW1vdW50ID0gdGhpcy5fcnhBbW91bnQuZXhlYyh2KSxcbiAgICAgICAgICAgICAgICBtVW5pdCA9IHRoaXMuX3J4VW5pdC5leGVjKHYpLFxuICAgICAgICAgICAgICAgIGFtb3VudCA9IG1BbW91bnQgPyBtQW1vdW50WzFdIDogJzAnLFxuICAgICAgICAgICAgICAgIHVuaXQgPSBtVW5pdCA/IG1Vbml0WzFdIDogJyc7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFZhbHVlUGFydHMoYW1vdW50LCB1bml0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAgdGhpcy5fYW1vdW50ICsgdGhpcy5fdW5pdDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcHJlY2lzaW9uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiAgPSBwYXJzZUludCh2KVxuICAgICAgICAgICAgaWYgKHYgPT09IHRoaXMuX3ByZWNpc29uIHx8IHRoaXMuX3ByZWNpc29uLmluZGV4T2YodikgPT09IC0xKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3ByZWNpc29uID0gdjtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuICB0aGlzLl9wcmVjaXNvbjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdW5pdHM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICBpZiAoISh2IGluc3RhbmNlb2YgQXJyYXkpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3VuaXRzID0gdi5zbGljZSgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yeFVuaXQgPSBuZXcgUmVnRXhwKCcoJyArIHRoaXMuX3VuaXRzLmpvaW4oJ3wnKSArICcpK1xcXFxzKiQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9IHBhcnNlRmxvYXQodik7XG5cbiAgICAgICAgICAgIGlmICghXy5pc0Zpbml0ZSh2KSB8fCB0aGlzLl9taW4gPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fbWluID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taW47XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1heDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuXG4gICAgICAgICAgICBpZiAoIV8uaXNGaW5pdGUodikgfHwgdGhpcy5fbWF4ID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX21heCA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4O1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG5cblxuXG5wLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX2RlZmF1bHRWYWx1ZTtcbn07XG5cblxuXG5cblxuXG5wLl9zZXRWYWx1ZVBhcnRzID0gZnVuY3Rpb24gKGFtb3VudCwgdW5pdCkge1xuXG4gICAgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpIHx8IDA7XG4gICAgdW5pdCA9IFN0cmluZyh1bml0KSB8fCAnJztcblxuICAgIGlmICh0aGlzLl9hbW91bnQgPT09IGFtb3VudCAmJiB0aGlzLl91bml0ID09PSB1bml0KSByZXR1cm47XG4gICAgXG4gICAgaWYgKF8uaXNGaW5pdGUodGhpcy5taW4pKSBhbW91bnQgPSBNYXRoLm1heCh0aGlzLm1pbiwgYW1vdW50KTtcbiAgICBpZiAoXy5pc0Zpbml0ZSh0aGlzLm1heCkpIGFtb3VudCA9IE1hdGgubWluKHRoaXMubWF4LCBhbW91bnQpO1xuICAgIFxuICAgIHRoaXMuX2Ftb3VudCA9IGFtb3VudDtcbiAgICB2YXIgZml4QW1vdW50ID0gdGhpcy5fdG9GaXhlZEFtb3VudChhbW91bnQpO1xuXG4gICAgaWYgKHRoaXMuX2lucEFtb3VudC52YWx1ZSAhPT0gZml4QW1vdW50KSB7XG5cbiAgICAgICAgdGhpcy5faW5wQW1vdW50LnZhbHVlID0gZml4QW1vdW50O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl91bml0ICE9PSB1bml0ICYmIHRoaXMuX3VuaXRzLmluZGV4T2YodW5pdCkgIT09IC0xKSB7XG5cbiAgICAgICAgdGhpcy5fdW5pdCA9IHVuaXQ7XG4gICAgICAgIHRoaXMuX2RlVW5pdC5zZXRUZXh0KHVuaXQpO1xuICAgIH0gXG5cbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMudmFsdWUpO1xufVxuXG5wLl90b0ZpeGVkQW1vdW50ID0gZnVuY3Rpb24gKGFtb3VudCkge1xuXG4gICAgdmFyIGZpeEFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KS50b0ZpeGVkKHRoaXMuX3ByZWNpc29uKTtcblxuICAgIGlmIChmaXhBbW91bnQuaW5kZXhPZignLicpICE9PSAtMSkge1xuXG4gICAgICAgIGZpeEFtb3VudCA9IGZpeEFtb3VudC5yZXBsYWNlKC9cXC4/MCokLywgJycpO1xuICAgIH1cblxuICAgIHJldHVybiBmaXhBbW91bnQ7XG59O1xuXG5cblxuXG5cbnAuX29uQ2hhbmdlSW5wdXRBbW91bnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZml4QW1vdW50ID0gdGhpcy5fdG9GaXhlZEFtb3VudCh0aGlzLl9hbW91bnQpLFxuICAgICAgICB2YWx1ZSA9IHRoaXMuX2lucEFtb3VudC52YWx1ZTtcblxuICAgIGlmIChmaXhBbW91bnQgIT09IHZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5fc2V0VmFsdWVQYXJ0cyh2YWx1ZSwgdGhpcy5fdW5pdCk7XG4gICAgfSBcbn07XG5cblxuXG5wLnJlZnJlc2hEaXNwbGF5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5faW5wQW1vdW50LnZhbHVlID0gdGhpcy5fZ2V0Rml4ZWRWYWx1ZSgpO1xuICAgIHRoaXMuX2RlVW5pdC5zZXRUZXh0KHYpO1xufTtcblxuXG5cblxucC5fY3JlYXRlQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGFtZ3VpLmNyZWF0ZURpdigpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXG4gICAgdGhpcy5faW5wQW1vdW50ID0gYW1ndWkuY3JlYXRlSW5wdXQoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uQ2hhbmdlSW5wdXRBbW91bnQsXG4gICAgICAgIGZsZXg6IDEsIFxuICAgIH0pO1xuICAgIHRoaXMuX2lucEFtb3VudC5zdHlsZS50ZXh0QWxpZ24gPSAgJ3JpZ2h0JztcbiAgICB0aGlzLl9pbnBBbW91bnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gICcycHgnO1xuICAgIHRoaXMuX2lucEFtb3VudC5zdHlsZS5jdXJzb3IgPSAgJ2V3LXJlc2l6ZSc7XG5cbiAgICBhbWd1aS5tYWtlRHJhZ2dhYmxlKHtcbiAgICAgICAgZGVUYXJnZXQ6IHRoaXMuX2lucEFtb3VudCxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW1vdW50OiB0aGlzLl9hbW91bnQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKG1kLCBteCkge1xuXG4gICAgICAgICAgICB2YXIgZHggPSBteCAtIG1kLm14O1xuXG4gICAgICAgICAgICB0aGlzLl9zZXRWYWx1ZVBhcnRzKG1kLmFtb3VudCArIHRoaXMuX2RyYWdTcGVlZCAqIGR4KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVVbml0ID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZG9tRWxlbSxcbiAgICAgICAgdGV4dDogJycsXG4gICAgfSk7XG59O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRoYXQsIG9wdCkge1xuXG4gICAgdmFyIHZhbHVlID0gb3B0LnN0YXJ0VmFsdWUsIFxuICAgICAgICBuYW1lID0gb3B0Lm5hbWUsXG4gICAgICAgIGV2dE5hbWUgPSBvcHQuZXZ0TmFtZSB8fCAnY2hhbmdlJyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoYXQsIG5hbWUsIHtcblxuICAgICAgICBzZXQ6IG9wdC5zZXQgfHwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3dpdGNoIChvcHQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0JzogdiA9IHBhcnNlRmxvYXQodik7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludCc6IHYgPSBwYXJzZUludCh2KTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6IHYgPSAhIXY7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6IHYgPSAnJyArIHY7IGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodiA9PT0gdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAoKG9wdC50eXBlID09PSAnZmxvYXQnIHx8IG9wdC50eXBlID09PSAnaW50JykgJiYgIV8uaXNGaW5pdGUodikpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICAgICAgcmVmcmVzaElucHV0KCk7XG5cbiAgICAgICAgICAgIHRoYXQuZW1pdChldnROYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogb3B0LmdldCB8fCBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChvcHQuaW5wdXQpIHtcblxuICAgICAgICBvcHQuaW5wdXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHRoYXRbbmFtZV0gPSB2O1xuICAgICAgICB9LmJpbmQodGhhdCkpO1xuXG4gICAgICAgIHJlZnJlc2hJbnB1dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZnJlc2hJbnB1dCgpIHtcblxuICAgICAgICBpZiAob3B0LmlucHV0ICYmIG9wdC5pbnB1dC52YWx1ZSAhPT0gdmFsdWUpIHtcblxuICAgICAgICAgICAgb3B0LmlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBldnROYW1lOiBldnROYW1lLFxuICAgIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgRGlhbG9nID0gcmVxdWlyZSgnLi9EaWFsb2cnKTtcbnZhciBPcHRpb25MaW5lID0gcmVxdWlyZSgnLi9PcHRpb25MaW5lJyk7XG5cbnZhciBjdXJyRWFzZSwgXG4gICAgYmVpemVyRWRpdG9yLFxuICAgIG9wdFJvdWdoRWFzZSxcbiAgICBvcHRSb3VnaFN0cmVuZ3RoLFxuICAgIG9wdFJvdWdoUG9pbnRzLFxuICAgIG9wdFJvdWdoQ2xhbXAsXG4gICAgb3B0Um91Z2hSYW5kb21pc2UsXG4gICAgb3B0Um91Z2hUYXBlcixcbiAgICBvcHRSb3VnaFN0cmVuZ3RoLCBcbiAgICBkaWFsb2cgID0gbmV3IERpYWxvZyh7XG4gICAgICAgIHRpdGxlOiAnS2V5JyxcbiAgICB9KTtcblxuY3JlYXRlQ29udGVudCgpO1xuXG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaEVhc2UnLCBpbnB1dDogb3B0Um91Z2hFYXNlLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hTdHJlbmdoJywgaW5wdXQ6IG9wdFJvdWdoU3RyZW5ndGguaW5wdXRzLmlucHV0fSk7XG5kaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdyb3VnaFBvaW50cycsIGlucHV0OiBvcHRSb3VnaFBvaW50cy5pbnB1dHMuaW5wdXR9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3JvdWdoQ2xhbXAnLCBpbnB1dDogb3B0Um91Z2hDbGFtcC5pbnB1dHMuaW5wdXR9KTtcbmRpYWxvZy5hZGRQcm9wZXJ0eSh7bmFtZTogJ3JvdWdoUmFuZG9taXNlJywgaW5wdXQ6IG9wdFJvdWdoUmFuZG9taXNlLmlucHV0cy5pbnB1dH0pO1xuZGlhbG9nLmFkZFByb3BlcnR5KHtuYW1lOiAncm91Z2hUYXBlcicsIGlucHV0OiBvcHRSb3VnaFRhcGVyLmlucHV0cy5pbnB1dH0pO1xuXG5cblxuXG5kaWFsb2cuc2hvdyA9IGZ1bmN0aW9uIChvcHQpIHtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIERpYWxvZy5wcm90b3R5cGUuc2hvdy5jYWxsKHRoaXMsIG9wdCk7XG5cbiAgICBpZiAoISgnZWFzZScgaW4gb3B0KSkgdGhyb3coJ29wdC5lYXNlIG11c3QgYmUgc2V0Jyk7XG5cbiAgICBjdXJyRWFzZSA9IG9wdC5lYXNlO1xuICAgIGJlaXplckVkaXRvci5zZXRQb2ludHMoY3VyckVhc2UucG9pbnRzKTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XG5cbiAgICBkaWFsb2cuYWRkQnV0dG9uKCdvaycsICdoaWRlJyk7XG5cbiAgICBiZWl6ZXJFZGl0b3IgPSBhbWd1aS5jcmVhdGVCZXppZXJFZGl0b3Ioe1xuICAgICAgICAvLyB3aWR0aDogMzMwLFxuICAgICAgICAvLyBoZWlnaHQ6IDMzMCxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2VCZXppZXJcbiAgICB9KTtcblxuXG4gICAgb3B0Um91Z2hFYXNlID0gbmV3IE9wdGlvbkxpbmUoe1xuICAgICAgICB0aXRsZTogJ3JvdWdoIGVhc2UnLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgb3B0Um91Z2hTdHJlbmd0aC5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBvcHRSb3VnaFBvaW50cy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSB2ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBvcHRSb3VnaENsYW1wLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIG9wdFJvdWdoUmFuZG9taXNlLmRvbUVsZW0uc3R5bGUuZGlzcGxheSA9IHYgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIG9wdFJvdWdoVGFwZXIuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gdiA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hTdHJlbmd0aCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdzdHJlbmd0aCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3VuaXQnLFxuICAgICAgICAgICAgbmFtZTogJ2lucHV0JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRyYWdTcGVlZDogMC4xLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiAxXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hQb2ludHMgPSBuZXcgT3B0aW9uTGluZSh7XG4gICAgICAgIHRpdGxlOiAncG9pbnRzJyxcbiAgICAgICAgcGFyZW50OiBkaWFsb2cuZGVDb250ZW50LFxuICAgICAgICBpbnB1dHM6IFt7XG4gICAgICAgICAgICB0eXBlOiAndW5pdCcsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgZHJhZ1NwZWVkOiAxLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiAwXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hDbGFtcCA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdjbGFtcCcsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgIG5hbWU6ICdpbnB1dCdcbiAgICAgICAgfV0sXG4gICAgfSk7XG5cbiAgICBvcHRSb3VnaFJhbmRvbWlzZSA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICdyYW5kb21pc2UnLFxuICAgICAgICBwYXJlbnQ6IGRpYWxvZy5kZUNvbnRlbnQsXG4gICAgICAgIGlucHV0czogW3tcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnXG4gICAgICAgIH1dLFxuICAgIH0pO1xuXG4gICAgb3B0Um91Z2hUYXBlciA9IG5ldyBPcHRpb25MaW5lKHtcbiAgICAgICAgdGl0bGU6ICd0YXBlcicsXG4gICAgICAgIHBhcmVudDogZGlhbG9nLmRlQ29udGVudCxcbiAgICAgICAgaW5wdXRzOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgb3B0aW9uczogWydub25lJywgJ2Vhc2UnLCAnb3B0JywgJ2JvdGgnXVxuICAgICAgICB9XSxcbiAgICB9KTtcbn07XG5cbi8vIHAuX29uU2VsZWN0RWFzZSA9IGZ1bmN0aW9uIChlKSB7XG5cbi8vICAgICB0aGlzLmVhc2UgPSBlLmRldGFpbC5zZWxlY3Rpb247XG4vLyB9O1xuXG4vLyBwLl9vbkNoYW5nZUVhc2UgPSBmdW5jdGlvbiAoKSB7XG5cbi8vICAgICB0aGlzLmVhc2UgPSB0aGlzLl9pbnBFYXNlLnZhbHVlO1xuLy8gfTtcblxuZnVuY3Rpb24gb25DaGFuZ2VCZXppZXIoZSkge1xuICAgIGN1cnJFYXNlLnBvaW50cyA9IGUuZGV0YWlsLnBvaW50cztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGlhbG9nO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgV2ViU3RvcmFnZW1hbiA9IHJlcXVpcmUoJy4vc3RvcmFnZXMvV2ViU3RvcmFnZW1hbicpO1xudmFyIFBhZ2VTY3JpcHQgPSByZXF1aXJlKCcuL3N0b3JhZ2VzL1BhZ2VTY3JpcHQnKTtcbnZhciBEb3dubG9hZCA9IHJlcXVpcmUoJy4vc3RvcmFnZXMvRG93bmxvYWQnKTtcbnZhciBkZWNvckRpYWxvZyA9IHJlcXVpcmUoJy4vZGVjb3JEaWFsb2cnKTtcblxuZnVuY3Rpb24gV2FyZWhvdXNlZW1hbihvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgZGVjb3JEaWFsb2codGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9zdG9yYWdlcyA9IFtdO1xuICAgIHRoaXMuYWRkU3RvcmFnZShuZXcgUGFnZVNjcmlwdCgpKTtcbiAgICB0aGlzLmFkZFN0b3JhZ2UobmV3IFdlYlN0b3JhZ2VtYW4oKSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKG5ldyBEb3dubG9hZCgpKTtcbiAgICAvLyB0aGlzLmFkZFN0b3JhZ2UobmV3IENvcHkoKSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKHtpY29uOiAnaGRkJywgdG9vbHRpcDogJ2xvY2FsIGZpbGUgc3lzdGVtJ30pO1xuICAgIHRoaXMuYWRkU3RvcmFnZSh7aWNvbjogJ2dpdCcsIHRvb2x0aXA6ICdHaXQnfSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKHtpY29uOiAnZ29vZ2xlJywgdG9vbHRpcDogJ0dvb2dsZSBEcml2ZSd9KTtcbiAgICB0aGlzLmFkZFN0b3JhZ2Uoe2ljb246ICdkcm9wYm94JywgdG9vbHRpcDogJ0Ryb3Bib3gnfSk7XG4gICAgdGhpcy5hZGRTdG9yYWdlKHtpY29uOiAnaGlzdG9yeScsIHRvb2x0aXA6ICdhdXRvIHNhdmUnfSk7XG5cbiAgICB0aGlzLnNlbGVjdFN0b3JhZ2UodGhpcy5fc3RvcmFnZXNbMl0pO1xufVxuXG5pbmhlcml0cyhXYXJlaG91c2VlbWFuLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBXYXJlaG91c2VlbWFuLnByb3RvdHlwZTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXG4gICAgc2VsZWN0ZWRTdG9yYWdlVHlwZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyU3RvcmFnZSAmJiB0aGlzLl9jdXJyU3RvcmFnZS50eXBlO1xuICAgICAgICB9XG4gICAgfVxufSlcblxucC5hZGRTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2UpIHtcblxuICAgIHN0b3JhZ2UuZmVhdHVyZXMgPSBzdG9yYWdlLmZlYXR1cmVzIHx8IHtcbiAgICAgICAgcGxhY2Vob2xkZXI6IHRydWUsXG4gICAgfTtcblxuICAgIHRoaXMuX3N0b3JhZ2VzLnB1c2goc3RvcmFnZSk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VTdG9yYWdlcycpO1xufTtcblxucC5zZWxlY3RTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2UpIHtcblxuICAgIGlmICh0aGlzLl9jdXJyU3RvcmFnZSA9PT0gc3RvcmFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fY3VyclN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gICAgaWYgKHN0b3JhZ2UuZmVhdHVyZXMucGxhY2Vob2xkZXIpIHtcblxuICAgICAgICBhbS5kaWFsb2dzLldJUC5zaG93KCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2VTZWxlY3RlZFN0b3JhZ2UnKTtcbn07XG5cbnAuc2F2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBwYXRoKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fY3VyclN0b3JhZ2Uuc2F2ZShuYW1lLCBkYXRhLCBwYXRoKTtcbn07XG5cbnAubG9hZCA9IGZ1bmN0aW9uIChuYW1lLCBwYXRoICAgKSB7XG5cbiAgICByZXR1cm4gdGhpcy5fY3VyclN0b3JhZ2UubG9hZChuYW1lLCBwYXRoKTtcbn07XG5cbnAubWtkaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJTdG9yYWdlLm1rZGlyKHBhdGgpO1xufTtcblxucC5kaXIgPSBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJTdG9yYWdlLmRpcihwYXRoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV2FyZWhvdXNlZW1hbjtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYW1ndWkgPSByZXF1aXJlKCcuLi9hbWd1aScpO1xudmFyIERpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxzL0RpYWxvZycpO1xuXG5mdW5jdGlvbiBkZWNvckRpYWxvZyh3aG0pIHtcblxuICAgIHZhciBkaWFsb2csIGRlTGVmdCwgZGVIZWFkLCBkZUJyZWFkY3J1bWJzLCBpbnBOYW1lLCBcbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IsIGRlRGlyZWN0b3J5LCBidG5OZXdGb2xkZXIsIGlzSW5pdGVkLCBkZU9wdGlvbnMsXG4gICAgICAgIG9wZW5PcHRpb25zID0ge30sIG1vZGU7XG5cblxuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgICAgICBpZiAoaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc0luaXRlZCA9IHRydWU7XG5cbiAgICAgICAgZGlhbG9nID0gbmV3IERpYWxvZygpO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZE5hbWUnLCBzdGFydFZhbHVlOiAnJ30pO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZERhdGEnLCBzdGFydFZhbHVlOiAnJ30pO1xuICAgICAgICBkaWFsb2cuYWRkUHJvcGVydHkoe25hbWU6ICdzZWxlY3RlZFBhdGgnLCBzdGFydFZhbHVlOiAnJ30pO1xuXG4gICAgICAgIGNyZWF0ZURpYWxvZygpO1xuICAgICAgICBjcmVhdGVTdG9yYWdlU2VsZWN0b3IoKTtcbiAgICAgICAgY3JlYXRlQnJlYWRjcnVtYnMoKTtcbiAgICAgICAgY3JlYXRlQnRuTmV3Rm9sZGVyKCk7XG4gICAgICAgIGNyZWF0ZUJ0blNldHRpbmdzKCk7XG4gICAgICAgIGNyZWF0ZU5hbWVJbnB1dCgpO1xuICAgICAgICBjcmVhdGVEaXJlY3RvcnkoKTtcbiAgICAgICAgY3JlYXRlT3B0aW9ucygpO1xuXG4gICAgICAgIHdobS5kaWFsb2cgPSBkaWFsb2c7XG4gICAgfVxuXG4gICAgd2htLnNob3dTYXZlRGlhbG9nID0gZnVuY3Rpb24ob3B0KSB7XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIG9wZW5PcHRpb25zID0gb3B0O1xuICAgICAgICBtb2RlID0gJ3NhdmUnO1xuXG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBvcHQubmFtZSB8fCAnYW5pbS5hbS5qcyc7XG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZERhdGEgPSBvcHQuZGF0YSB8fCAnJztcbiAgICAgICAgZGlhbG9nLnNlbGVjdGVkUGF0aCA9IG9wdC5wYXRoIHx8ICcnO1xuXG4gICAgICAgIGlucE5hbWUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgZGlhbG9nLnRpdGxlID0gJ1NhdmUnO1xuICAgICAgICBkaWFsb2cuc2hvd0J1dHRvbignc2F2ZScpO1xuICAgICAgICBkaWFsb2cuaGlkZUJ1dHRvbignb3BlbicpO1xuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLnJlZnJlc2goKTtcbiAgICAgICAgc2V0dXBNb2R1bGVzKCk7XG4gICAgICAgIGRpYWxvZy5zaG93KCk7XG4gICAgfTtcblxuICAgIHdobS5zaG93T3BlbkRpYWxvZyA9IGZ1bmN0aW9uKG9wdCkge1xuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICBvcGVuT3B0aW9ucyA9IG9wdDtcbiAgICAgICAgbW9kZSA9ICdvcGVuJztcblxuICAgICAgICBkaWFsb2cuc2VsZWN0ZWROYW1lID0gb3B0Lm5hbWUgfHwgJyc7XG4gICAgICAgIGRpYWxvZy5zZWxlY3RlZFBhdGggPSBvcHQucGF0aCB8fCAnJztcblxuICAgICAgICBpbnBOYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgZGlhbG9nLnRpdGxlID0gJ09wZW4nO1xuICAgICAgICBkaWFsb2cuc2hvd0J1dHRvbignb3BlbicpO1xuICAgICAgICBkaWFsb2cuaGlkZUJ1dHRvbignc2F2ZScpO1xuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLnJlZnJlc2goKTtcbiAgICAgICAgc2V0dXBNb2R1bGVzKCk7XG4gICAgICAgIGRpYWxvZy5zaG93KCk7XG4gICAgfTtcblxuICAgIHdobS5zZXRTYXZlT3Rpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuXG4gICAgICAgIGRlT3B0aW9ucy5zZXRPcHRpb25zKG9wdCk7XG4gICAgfTtcblxuICAgIHdobS5nZXRTYXZlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICByZXR1cm4gZGVPcHRpb25zLmdldE9wdGlvbnMoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmVhdHVyZShuYW1lKSB7XG5cbiAgICAgICAgcmV0dXJuIHdobS5fY3VyclN0b3JhZ2UuZmVhdHVyZXMgJiZcbiAgICAgICAgICAgIHdobS5fY3VyclN0b3JhZ2UuZmVhdHVyZXNbbmFtZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBNb2R1bGVzKCkge1xuXG4gICAgICAgIHNob3dIaWRlKGRlRGlyZWN0b3J5LCBmZWF0dXJlKCdicm93c2UnKSk7XG4gICAgICAgIHNob3dIaWRlKGRlQnJlYWRjcnVtYnMsIGZlYXR1cmUoJ2Jyb3dzZScpKTtcbiAgICAgICAgc2hvd0hpZGUoYnRuTmV3Rm9sZGVyLCBmZWF0dXJlKCdta2RpcicpKTtcblxuICAgICAgICBmdW5jdGlvbiBzaG93SGlkZShkZSwgc2hvdykge1xuXG4gICAgICAgICAgICBkZS5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/ICdibG9jaycgfHwgZGUuYmFzZURpc3BsYXkgOiAnaGlkZGVuJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU2F2ZSgpIHtcblxuICAgICAgICB2YXIgc2F2ZSA9IG9wZW5PcHRpb25zLmdldFNhdmUoKSxcbiAgICAgICAgICAgIG5hbWUgPSBkaWFsb2cuc2VsZWN0ZWROYW1lIHx8ICdhbmltLmFtLmpzJztcblxuICAgICAgICB3aG0uc2F2ZShuYW1lLCBzYXZlLCBkaWFsb2cuc2VsZWN0ZWRQYXRoKTtcblxuICAgICAgICBkaWFsb2cuaGlkZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uT3BlbigpIHtcblxuICAgICAgICB2YXIgc2F2ZSA9IHdobS5sb2FkKGRpYWxvZy5zZWxlY3RlZE5hbWUsIGRpYWxvZy5zZWxlY3RlZFBhdGgpO1xuXG4gICAgICAgIGlmIChvcGVuT3B0aW9ucy5vbk9wZW4pIHtcblxuICAgICAgICAgICAgb3Blbk9wdGlvbnMub25PcGVuKHNhdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlhbG9nLmhpZGUoKTtcbiAgICB9XG5cblxuXG5cblxuXG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nICgpIHtcblxuICAgICAgICBkaWFsb2cuZGVDb250ZW50LnN0eWxlLndpZHRoID0gJzcwMHB4JztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnNDAwcHgnO1xuICAgICAgICBkaWFsb2cuZGVDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuXG4gICAgICAgIGRlTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZUxlZnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBkZUxlZnQuc3R5bGUuZmxleCA9ICcxJztcbiAgICAgICAgZGVMZWZ0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRlTGVmdC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuYXBwZW5kQ2hpbGQoZGVMZWZ0KTtcblxuICAgICAgICBkZUhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVIZWFkLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkZUhlYWQuc3R5bGUuaGVpZ2h0ID0gJzIxcHgnO1xuICAgICAgICBkZUhlYWQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGVMZWZ0LmFwcGVuZENoaWxkKGRlSGVhZCk7XG5cbiAgICAgICAgZGlhbG9nLmFkZEJ1dHRvbignc2F2ZScsIG9uU2F2ZSk7XG4gICAgICAgIGRpYWxvZy5hZGRCdXR0b24oJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICBkaWFsb2cuYWRkQnV0dG9uKCdjbG9zZScsICdoaWRlJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCcmVhZGNydW1icygpIHtcblxuICAgICAgICBkZUJyZWFkY3J1bWJzID0gYW1ndWkuY3JlYXRlQnJlYWRjcnVtYnMoe1xuICAgICAgICAgICAgcGFyZW50OiBkZUhlYWQsXG4gICAgICAgIH0pO1xuICAgICAgICBkZUJyZWFkY3J1bWJzLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgZGVCcmVhZGNydW1icy5zdHlsZS5mbGV4ID0gJzEnO1xuXG4gICAgICAgIGRlQnJlYWRjcnVtYnMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgd2htLmNkKGUuZGV0YWlsLnNlbGVjdGlvbi52YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpYWxvZy5vbignY2hhbmdlU2VsZWN0ZWRQYXRoJywgcmVmcmVzaCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaCAoKSB7XG5cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IGRpYWxvZy5zZWxlY3RlZFBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnJyxcbiAgICAgICAgICAgICAgICBjcnVtYnMgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3J1bWJzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICh3aG0uX2N1cnJTdG9yYWdlLnJvb3ROYW1lIHx8ICdyb290JykgKyAnOi8vJywgXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoY3J1bWJOYW1lKSB7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBjcnVtYk5hbWUgKyAnLyc7XG5cbiAgICAgICAgICAgICAgICBjcnVtYnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNydW1iTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVCcmVhZGNydW1icy5zZXRJdGVtcyhjcnVtYnMpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCdG5TZXR0aW5ncygpIHtcblxuICAgICAgICBidG5OZXdGb2xkZXIgPSBhbWd1aS5jcmVhdGVJY29uQnRuKHtcbiAgICAgICAgICAgIHBhcmVudDogZGVIZWFkLFxuICAgICAgICAgICAgaWNvbjogJ3dyZW5jaCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVPcHRpb25zLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQnRuTmV3Rm9sZGVyKCkge1xuXG4gICAgICAgIGJ0bk5ld0ZvbGRlciA9IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgcGFyZW50OiBkZUhlYWQsXG4gICAgICAgICAgICBpY29uOiAnZm9sZGVyLWFkZCcsXG4gICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW0uZGlhbG9ncy5XSVAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVOYW1lSW5wdXQoKSB7XG5cbiAgICAgICAgaW5wTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucE5hbWUudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS5oZWlnaHQgPSAnMjFweCc7XG4gICAgICAgIGlucE5hbWUuc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgaW5wTmFtZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgIGlucE5hbWUuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0O1xuICAgICAgICBpbnBOYW1lLnN0eWxlLmZvbnRTaXplID0gYW1ndWkuRk9OVF9TSVpFO1xuICAgICAgICBpbnBOYW1lLnN0eWxlLmZvbnRGYW1pbHkgPSBhbWd1aS5GT05UX0ZBTUlMWTtcbiAgICAgICAgaW5wTmFtZS5wbGFjZWhvbGRlciA9ICdGaWxlIG5hbWUnO1xuICAgICAgICBkZUxlZnQuYXBwZW5kQ2hpbGQoaW5wTmFtZSk7XG5cbiAgICAgICAgaW5wTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSBpbnBOYW1lLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaWFsb2cub24oJ2NoYW5nZVNlbGVjdGVkTmFtZScsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKGlucE5hbWUudmFsdWUgIT09IGRpYWxvZy5zZWxlY3RlZE5hbWUpIHtcblxuICAgICAgICAgICAgICAgIGlucE5hbWUudmFsdWUgPSBkaWFsb2cuc2VsZWN0ZWROYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURpcmVjdG9yeSgpIHtcblxuICAgICAgICBkZURpcmVjdG9yeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZURpcmVjdG9yeS5zdHlsZS5saXN0U3R5bGUgPSAnbm9uZSc7XG4gICAgICAgIGRlRGlyZWN0b3J5LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgZGVEaXJlY3Rvcnkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRlRGlyZWN0b3J5LnN0eWxlLmZsZXggPSAnMSc7XG4gICAgICAgIGRlTGVmdC5hcHBlbmRDaGlsZChkZURpcmVjdG9yeSk7XG5cbiAgICAgICAgdmFyIGRlSXRlbXMgPSBbXSwgb3Zlckl0ZW0sIGN1cnJJdGVtO1xuXG4gICAgICAgIGRpYWxvZy5vbignY2hhbmdlU2VsZWN0ZWRQYXRoJywgcmVmcmVzaCk7XG4gICAgICAgIHdobS5vbignY2hhbmdlU2VsZWN0ZWRTdG9yYWdlJywgcmVmcmVzaCk7XG4gICAgICAgIGRpYWxvZy5vbignY2hhbmdlU2VsZWN0ZWROYW1lJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBjdXJySXRlbSA9IF8uZmluZChkZUl0ZW1zLCB7bmFtZTogZGlhbG9nLnNlbGVjdGVkTmFtZX0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoKCkge1xuXG4gICAgICAgICAgICB3aGlsZSAoZGVJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKGRlSXRlbXMucG9wKCkpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZlYXR1cmUoJ2Jyb3dzZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbGlzdCA9IHdobS5kaXIoKTtcblxuICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBjcmVhdGVJdGVtKGl0ZW0ubmFtZSwgaXRlbS50eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRpYWxvZy5zZWxlY3RlZE5hbWUgPSB0aGlzLm5hbWU7XG5cbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdkYmxjbGljaycpIHtcblxuICAgICAgICAgICAgICAgIG9uT3BlbihkaWFsb2cuc2VsZWN0ZWRQYXRoLCBkaWFsb2cuc2VsZWN0ZWROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGRlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGVJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVJdGVtID09PSBvdmVySXRlbSB8fCBkZUl0ZW0gPT09IGN1cnJJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBhbWd1aS5jb2xvci5iZ0hvdmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVJdGVtLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdmVyKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBvdmVySXRlbSA9IHRoaXM7XG4gICAgICAgICAgICByZWZyZXNoU2VsZWN0aW9uKCk7ICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1PdXQoKSB7XG5cbiAgICAgICAgICAgIGlmIChvdmVySXRlbSA9PT0gdGhpcykge1xuXG4gICAgICAgICAgICAgICAgb3Zlckl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJdGVtKG5hbWUsIHR5cGUpIHtcblxuICAgICAgICAgICAgdmFyIGRlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGVJdGVtLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhbWd1aS5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICBpY29uOiB0eXBlID09PSAnZm9sZGVyJyA/ICdmb2xkZXItZW1wdHknIDogJ2RvYycsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBkZUl0ZW0sXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGRlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGRlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgICAgICBkZUl0ZW0uYXBwZW5kQ2hpbGQoZGVOYW1lKTtcblxuICAgICAgICAgICAgZGVEaXJlY3RvcnkuYXBwZW5kQ2hpbGQoZGVJdGVtKTtcblxuICAgICAgICAgICAgZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgICAgICAgICBkZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBvbkNsaWNrKTtcbiAgICAgICAgICAgIGRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvbk1PdmVyKTtcbiAgICAgICAgICAgIGRlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIG9uTU91dCk7XG5cbiAgICAgICAgICAgIGRlSXRlbXMucHVzaChkZUl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlSXRlbTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN0b3JhZ2VTZWxlY3RvcigpIHtcblxuICAgICAgICB2YXIgYnRuU2l6ZSA9IDMzLCBidXR0b25zID0gW107XG5cbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGVTdG9yYWdlU2VsZWN0b3Iuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS53aWR0aCA9IGJ0blNpemUgKyAncHgnO1xuICAgICAgICBkZVN0b3JhZ2VTZWxlY3Rvci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGRpYWxvZy5kZUNvbnRlbnQuaW5zZXJ0QmVmb3JlKGRlU3RvcmFnZVNlbGVjdG9yLCBkZUxlZnQpO1xuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgdmFyIGlkeCA9IGUudGFyZ2V0Ll9zdG9yYWdlSWR4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIHdobS5zZWxlY3RTdG9yYWdlKHdobS5fc3RvcmFnZXNbaWR4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdobS5vbignY2hhbmdlU2VsZWN0ZWRTdG9yYWdlJywgcmVmcmVzaFNlbGVjdGlvbik7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQnV0dG9ucygpIHtcblxuICAgICAgICAgICAgYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcblxuICAgICAgICAgICAgICAgIGlmIChidG4uZG9tRWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5kb21FbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnRuLmRvbUVsZW0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ0bi5kb21FbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGlja0J0bik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlU3RvcmFnZVNlbGVjdG9yLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbnMoKTtcblxuICAgICAgICAgICAgd2htLl9zdG9yYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yYWdlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZS5mZWF0dXJlcy5wbGFjZWhvbGRlciB8fCBzdG9yYWdlLmZlYXR1cmVzW21vZGVdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSXRlbShzdG9yYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0aW9uKCkge1xuXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICAgICAgYnRuLmRvbUVsZW0uZml4ZWRIaWdobGlnaHQgPSBidG4uc3RvcmFnZSA9PT0gd2htLl9jdXJyU3RvcmFnZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2tCdG4oZSkge1xuXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xuXG4gICAgICAgICAgICAgICAgaWYgKGJ0bi5kb21FbGVtID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcblxuICAgICAgICAgICAgICAgICAgICB3aG0uc2VsZWN0U3RvcmFnZShidG4uc3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oc3RvcmFnZSkge1xuXG4gICAgICAgICAgICB2YXIgYnRuID0ge1xuICAgICAgICAgICAgICAgIGRvbUVsZW06IGFtZ3VpLmNyZWF0ZUljb25CdG4oe1xuICAgICAgICAgICAgICAgICAgICBpY29uOiBzdG9yYWdlLmljb24sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogZGVTdG9yYWdlU2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBidG5TaXplLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGJ0blNpemUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBvbkNsaWNrQnRuLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHN0b3JhZ2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFtZ3VpLmFkZFRvb2x0aXAoe1xuICAgICAgICAgICAgICAgIGRlVGFyZ2V0OiBidG4uZG9tRWxlbSwgXG4gICAgICAgICAgICAgICAgdGV4dDogc3RvcmFnZS50b29sdGlwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKGJ0bik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKCkge1xuXG4gICAgICAgIHZhciBpc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgIGRlT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZU9wdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZGVPcHRpb25zLnN0eWxlLndpZHRoID0gJzEzOHB4JztcbiAgICAgICAgZGVPcHRpb25zLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgZGlhbG9nLmRlQ29udGVudC5hcHBlbmRDaGlsZChkZU9wdGlvbnMpO1xuXG4gICAgICAgIGFtZ3VpLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICB0ZXh0OiAnYWRkIHRyaWdnZXInLFxuICAgICAgICAgICAgaWNvbjogJ3BsdXMnLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge2FtLmRpYWxvZ3MuV0lQLnNob3coKX0sXG4gICAgICAgICAgICBwYXJlbnQ6IGRlT3B0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoZWNrU2F2ZSA9IGNyZWF0ZUNoZWNrYm94KCdpbmNsdWRlIHNhdmUnLCB0cnVlKTtcbiAgICAgICAgdmFyIGNoZWNrTWluaWZ5ID0gY3JlYXRlQ2hlY2tib3goJ21pbmlmeScpO1xuICAgICAgICB2YXIgY2hlY2tBdXRvID0gY3JlYXRlQ2hlY2tib3goJ2F1dG8gcGxheScsIHRydWUpO1xuICAgICAgICB2YXIgY2hlY2tBdXRvID0gY3JlYXRlQ2hlY2tib3goJ2RlYnVnJywgdHJ1ZSk7XG5cbiAgICAgICAgZGVPcHRpb25zLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZVNhdmU6IGNoZWNrU2F2ZS5jaGVja2VkLFxuICAgICAgICAgICAgICAgIG1pbmlmeTogY2hlY2tNaW5pZnkuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICBhdXRvUGxheTogY2hlY2tBdXRvLmNoZWNrZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgZGVPcHRpb25zLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICAgICAgICAgIGNoZWNrU2F2ZS5jaGVja2VkID0gb3B0LmluY2x1ZGVTYXZlO1xuICAgICAgICAgICAgY2hlY2tNaW5pZnkuY2hlY2tlZCA9IG9wdC5taW5pZnk7XG4gICAgICAgICAgICBjaGVja0F1dG8uY2hlY2tlZCA9IG9wdC5hdXRvUGxheTtcbiAgICAgICAgfTtcblxuICAgICAgICBkZU9wdGlvbnMudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpc09wZW5lZCA9ICFpc09wZW5lZDtcblxuICAgICAgICAgICAgZGVPcHRpb25zLnN0eWxlLmRpc3BsYXkgPSBpc09wZW5lZCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3gobmFtZSwgY2hlY2tlZCkge1xuXG4gICAgICAgICAgICB2YXIgY2IgPSBhbWd1aS5jcmVhdGVDaGVja2JveCh7XG4gICAgICAgICAgICAgICAgdGV4dDogbmFtZSxcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgIHBhcmVudDogZGVPcHRpb25zLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoY2IpLm9uZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7YW0uZGlhbG9ncy5XSVAuc2hvdygpfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29yRGlhbG9nO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gRG93bmxvYWQob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIHRoaXMuX3Jvb3QgPSBvcHQucm9vdCB8fCAnX0Rvd25sb2FkLyc7XG5cbiAgICB0aGlzLmljb24gPSAnZG93bmxvYWQnO1xuICAgIHRoaXMudG9vbHRpcCA9ICdEb3dubG9hZCc7XG59XG5cbmluaGVyaXRzKERvd25sb2FkLCBFdmVudEVtaXR0ZXIpO1xudmFyIHAgPSBEb3dubG9hZC5wcm90b3R5cGU7XG5cbnAuZmVhdHVyZXMgPSB7XG4gICAgc2F2ZTogdHJ1ZSxcbn07XG5cbnAuc2F2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhKSB7XG5cbiAgICBkYXRhID0gJ2RhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gICAgJCgnPGEgZG93bmxvYWQ9XCInICsgbmFtZSArICdcIiBocmVmPVwiJyArIGRhdGEgKyAnXCI+PC9hPicpWzBdLmNsaWNrKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvd25sb2FkOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50bWFuJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG52YXIgRk9MREVSUyA9ICc8Zm9sZGVycz4nO1xuXG5mdW5jdGlvbiBQYWdlU2NyaXB0KG9wdCkge1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICB0aGlzLl9yb290ID0gb3B0LnJvb3QgfHwgJ19QYWdlU2NyaXB0Lyc7XG5cbiAgICB0aGlzLmljb24gPSAnY29kZSc7XG4gICAgdGhpcy50b29sdGlwID0gJ3J1bm5pbmcgQW5pbWFjaGluZSBwYWdlc2NyaXB0cyc7XG5cbiAgICB0aGlzLl9mb2xkZXJzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX3Jvb3QgKyBGT0xERVJTKTtcbiAgICBcbiAgICB0cnkgeyBcbiAgICAgICAgdGhpcy5mb2xkZXJzID0gSlNPTi5wYXJzZSh0aGlzLl9mb2xkZXJzKTsgXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMuX2ZvbGRlcnMgPSBbXTtcbiAgICB9XG59XG5cbmluaGVyaXRzKFBhZ2VTY3JpcHQsIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFBhZ2VTY3JpcHQucHJvdG90eXBlO1xuXG5wLnNhdmUgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgcGF0aCkge1xuXG4gICAgbmFtZSA9IHRoaXMuX3ZhbGlkTmFtZShuYW1lKTtcbiAgICBcbiAgICB0aGlzLm1rZGlyKHBhdGgpO1xuICAgIHRoaXMuX3NldChwYXRoICsgbmFtZSwgZGF0YSk7XG5cbiAgICByZXR1cm4gbmFtZTtcbn07XG5cbnAub3BlbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICBpZiAobmFtZSBpbiBwYWdlU2NyaXB0cygpKSB7XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VTY3JpcHRzKClbbmFtZV07XG4gICAgfVxufTtcblxucC5kaXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgcmV0ID0gW107XG5cbiAgICBPYmplY3Qua2V5cyhwYWdlU2NyaXB0cygpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICB0eXBlOiAnZmlsZSdcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gcGFnZVNjcmlwdHMoKSB7XG5cbiAgICByZXR1cm4gKHdpbmRvdy5hbSAmJiB3aW5kb3cuYW0ucGFnZVNjcmlwdHMpIHx8IFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VTY3JpcHQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRtYW4nKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbnZhciBST09UID0gJ193ZWJzdG9yYWdlbWFuLycsIFxuICAgIEZPTERFUlMgPSAnPGZvbGRlcnM+JztcblxuZnVuY3Rpb24gV2ViU3RvcmFnZW1hbihvcHQpIHtcblxuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgb3B0ID0gb3B0IHx8IHt9O1xuXG4gICAgdGhpcy5pY29uID0gJ2J1bGxzZXllJztcbiAgICB0aGlzLnJvb3ROYW1lID0gJ3dlYnN0b3JhZ2UnO1xuICAgIHRoaXMudHlwZSA9ICd3ZWJzdG9yYWdlJztcbiAgICB0aGlzLnRvb2x0aXAgPSAnd2Vic3RvcmFnZSwgc3RvcmUgZGF0YSBpbiB5b3VyIGJyb3dzZXInO1xuXG4gICAgdGhpcy5fZm9sZGVycyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShST09UICsgRk9MREVSUyk7XG4gICAgXG4gICAgdHJ5IHsgXG4gICAgICAgIHRoaXMuX2ZvbGRlcnMgPSBKU09OLnBhcnNlKHRoaXMuX2ZvbGRlcnMpOyBcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHt9XG5cbiAgICBpZiAoISh0aGlzLl9mb2xkZXJzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG5cbiAgICAgICAgdGhpcy5fZm9sZGVycyA9IFtdO1xuICAgIH0gXG59XG5cbmluaGVyaXRzKFdlYlN0b3JhZ2VtYW4sIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IFdlYlN0b3JhZ2VtYW4ucHJvdG90eXBlO1xuXG5wLmZlYXR1cmVzID0ge1xuICAgIHNhdmU6IHRydWUsXG4gICAgb3BlbjogdHJ1ZSxcbiAgICBicm93c2U6IHRydWUsXG59O1xuXG5cbnAuc2F2ZSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBwYXRoKSB7XG5cbiAgICBuYW1lID0gdGhpcy5fdmFsaWROYW1lKG5hbWUpO1xuICAgIHBhdGggPSB0aGlzLl92YWxpZFBhdGgocGF0aCk7XG4gICAgXG4gICAgdGhpcy5ta2RpcihwYXRoKTtcbiAgICB0aGlzLl9zZXQocGF0aCArIG5hbWUsIGRhdGEpO1xuXG4gICAgcmV0dXJuIG5hbWU7XG59O1xuXG5wLmxvYWQgPSBmdW5jdGlvbiAobmFtZSwgcGF0aCkge1xuXG4gICAgbmFtZSA9IHRoaXMuX3ZhbGlkTmFtZShuYW1lKTtcbiAgICBwYXRoID0gdGhpcy5fdmFsaWRQYXRoKHBhdGgpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLl9nZXQocGF0aCArIG5hbWUpO1xufTtcblxucC5ta2RpciA9IGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICBwYXRoID0gdGhpcy5fdmFsaWRQYXRoKHBhdGgpLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgdmFyIGZvbGRlclBhdGggPSAnJztcblxuICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAoZm9sZGVyKSB7XG5cbiAgICAgICAgdGhpcy5fYWRkRm9sZGVyKGZvbGRlciArICcvJyk7XG5cbiAgICB9LCB0aGlzKTtcbn07XG5cbnAuZGlyID0gZnVuY3Rpb24gKHBhdGgpIHtcblxuICAgIHBhdGggPSBST09UICsgdGhpcy5fdmFsaWRQYXRoKHBhdGgpO1xuXG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMod2luZG93LmxvY2FsU3RvcmFnZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cbiAgICAgICAgaWYgKGtleS5pbmRleE9mKEZPTERFUlMpID09PSAtMSkge1xuXG4gICAgICAgICAgICB0ZXN0S2V5KGtleSwgJ2ZpbGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZm9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG5cbiAgICAgICAgdGVzdEtleShST09UICsgcGF0aC5zbGljZSgwLCAtMSksICdmb2xkZXInKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXQ7XG5cbiAgICBmdW5jdGlvbiB0ZXN0S2V5KGtleSwgdHlwZSkge1xuXG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihwYXRoKSA9PT0gMCkge1xuXG4gICAgICAgICAgICBrZXkgPSBrZXkuc3Vic3RyKHBhdGgubGVuZ3RoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKCcvJykgPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxucC5fYWRkRm9sZGVyID0gZnVuY3Rpb24ocGF0aCkge1xuXG4gICAgaWYgKHRoaXMuX2ZvbGRlcnMuaW5kZXhPZihwYXRoKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2ZvbGRlcnMucHVzaChwYXRoKTtcblxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShST09UICsgRk9MREVSUywgSlNPTi5zdHJpbmdpZnkodGhpcy5fZm9sZGVycykpO1xufTtcblxucC5fc2V0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSkge1xuXG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShST09UICsgcGF0aCwgZGF0YSk7XG59O1xuXG5wLl9nZXQgPSBmdW5jdGlvbihwYXRoKSB7XG5cbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFJPT1QgKyBwYXRoKTtcbn07XG5cbnAuX3ZhbGlkUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgICBwYXRoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHBhdGguY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIGlmIChwYXRoLmNoYXJBdChwYXRoLmxlbmd0aC0xKSAhPT0gJy8nICYmIHBhdGgubGVuZ3RoKSB7XG4gICAgICAgIHBhdGggKz0gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufTtcblxucC5fdmFsaWROYW1lID0gZnVuY3Rpb24obmFtZSkge1xuXG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvPHxcXC8vZywgJ18nKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViU3RvcmFnZW1hbjsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudG1hbicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZnVuY3Rpb24gQmxvY2sob3B0KSB7XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcblxuICAgIHRoaXMuc2l6ZSA9IG9wdC5zaXplIHx8IDE7XG4gICAgdGhpcy5zY2FsZU1vZGUgPSBvcHQuc2NhbGVNb2RlIHx8ICdmbGV4Jztcbn1cblxuaW5oZXJpdHMoQmxvY2ssIEV2ZW50RW1pdHRlcik7XG52YXIgcCA9IEJsb2NrLnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gQmxvY2s7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIHNpemU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuaWYgKHYgPT0gMzIpIGRlYnVnZ2VyO1xuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ251bWJlcicgfHwgdGhpcy5fc2l6ZSA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gdjtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuYnViYmxlUmVzaXplKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2NhbGVNb2RlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2KSAhPT0gJ3N0cmluZycgfHwgdGhpcy5fc2NhbGVNb2RlID09PSB2KSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX3NjYWxlTW9kZSA9IHY7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLmJ1YmJsZVJlc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlTW9kZTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5wLmJ1YmJsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZvciBvdmVycmlkZVxufTtcblxucC5fcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBmbGV4ID0gJycsIHdpZHRoID0gJycsIGhlaWdodCA9ICcnO1xuXG4gICAgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZml4Jykge1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyb3cnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5zaXplICsgJ3B4JztcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnNpemUgKyAncHgnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVNb2RlID09PSAnZmxleCcpIHtcblxuICAgICAgICBmbGV4ID0gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSBmbGV4O1xufTtcblxucC5fY3JlYXRlRG9tRWxlbSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmZsZXggPSAnMSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmFsaWduU2VsZiA9ICdzdHJldGNoJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIHRoaXMuZG9tRWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAnYmxvY2snKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrJyk7XG52YXIgUGFuZWwgPSByZXF1aXJlKCcuL1BhbmVsJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIGFtZ3VpID0gcmVxdWlyZSgnLi4vYW1ndWknKTtcblxuZnVuY3Rpb24gQ29udGFpbmVyKG9wdCkge1xuICAgIFxuICAgIEJsb2NrLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgdGhpcy5fZGVIYW5kbGVycyA9IFtdO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBvcHQuZGlyZWN0aW9uIHx8ICdyb3cnO1xuXG4gICAgb3B0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNEYXRhKSB7XG5cbiAgICAgICAgaWYgKGNEYXRhLnR5cGUgPT09ICdjb250YWluZXInKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IENvbnRhaW5lcihjRGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNEYXRhLnR5cGUgPT09ICdwYW5lbCcpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgUGFuZWwoY0RhdGEpKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgYW1ndWkuY2FsbE9uQWRkZWQodGhpcy5kb21FbGVtLCB0aGlzLl9yZWZyZXNoSGFuZGxlcnMuYmluZCh0aGlzKSk7XG59XG5cbmluaGVyaXRzKENvbnRhaW5lciwgQmxvY2spO1xudmFyIHAgPSBDb250YWluZXIucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBDb250YWluZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblxuICAgIGRpcmVjdGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHY7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW0uc3R5bGUuZmxleERpcmVjdGlvbiA9IHRoaXMuX2RpcmVjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5hZGRDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXG4gICAgdGhpcy5hZGRDaGlsZEF0KGNoaWxkLCB0aGlzLl9jaGlsZHJlbi5sZW5ndGgpO1xufTtcblxucC5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpZHgpIHtcblxuICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpZHgsIDAsIGNoaWxkKTtcbiAgICB0aGlzLl9yZWZyZXNoQ2hpbGRyZW4oKTtcbiAgICB0aGlzLl9yZWZyZXNoSGFuZGxlcnMoKTtcbn07XG5cbnAuZmluZFRhYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgdGFiO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICB0YWIgPSBjaGlsZC5maW5kVGFiKG5hbWUpO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhYjtcbn07XG5cbnAuYnViYmxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKCF0aGlzLl9jaGlsZHJlbiB8fCAhdGhpcy5fZGVIYW5kbGVycykgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcblxuICAgICAgICBjaGlsZC5idWJibGVSZXNpemUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufTtcblxuXG5cblxuXG5cbnAuX2dldEZsZXhQZXJQeCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBiciA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgZnVsbFB4ID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gYnIud2lkdGggOiBici5oZWlnaHQsXG4gICAgICAgIGZ1bGxGbGV4ID0gMDtcblxuICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG5cbiAgICAgICAgaWYgKGNoaWxkLnNjYWxlTW9kZSA9PT0gJ2ZpeCcpIHtcblxuICAgICAgICAgICAgZnVsbFB4IC09IGNoaWxkLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmdWxsRmxleCArPSBjaGlsZC5zaXplO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVsbEZsZXggLyBmdWxsUHg7XG59O1xuXG5wLl9yZWZyZXNoQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kb21FbGVtLmFwcGVuZENoaWxkKGNoaWxkLmRvbUVsZW0pO1xuICAgIH0sIHRoaXMpO1xufTtcblxucC5fcmVmcmVzaEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGksIGRlSGFuZGxlciwgbmNCciwgXG4gICAgICAgIHRoaWNrbmVzcyA9IDQsXG4gICAgICAgIGJyID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCAtIDE7ICsraSkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZGVIYW5kbGVyc1tpXSkge1xuICAgICAgICAgICAgdGhpcy5fZGVIYW5kbGVycy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZXIoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIG5jQnIgPSB0aGlzLl9jaGlsZHJlbltpKzFdLmRvbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGRlSGFuZGxlciA9IHRoaXMuX2RlSGFuZGxlcnNbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncm93Jykge1xuXG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUubGVmdCA9IChuY0JyLmxlZnQgLSBici5sZWZ0IC0gdGhpY2tuZXNzLzIpICsgJ3B4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS53aWR0aCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmN1cnNvciA9ICdldy1yZXNpemUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgIGRlSGFuZGxlci5zdHlsZS50b3AgPSAobmNCci50b3AgLSBici50b3AgLSB0aGlja25lc3MvMikgKyAncHgnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgZGVIYW5kbGVyLnN0eWxlLmhlaWdodCA9IHRoaWNrbmVzcyArICdweCc7XG4gICAgICAgICAgICBkZUhhbmRsZXIuc3R5bGUuY3Vyc29yID0gJ25zLXJlc2l6ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9kZUhhbmRsZXJzLnNwbGljZShpKS5mb3JFYWNoKGZ1bmN0aW9uIChkZUhhbmRsZXIpIHtcblxuICAgICAgICBkZUhhbmRsZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZUhhbmRsZXIpO1xuICAgIH0pXG59O1xuXG5cblxuXG5cblxuXG5wLl9vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5wLl9vbkRyYWdIYW5kbGVyID0gZnVuY3Rpb24gKG1kLCBteCwgbXkpIHtcblxuICAgIHZhciBtb3ZlID0gdGhpcy5kaXJlY3Rpb24gPT09ICdyb3cnID8gbXggLSBtZC5teCA6IG15IC0gbWQubXksXG4gICAgICAgIG1vdmVGbGV4ID0gbW92ZSAqIHRoaXMuX2dldEZsZXhQZXJQeCgpLFxuICAgICAgICBwcmV2Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHhdLFxuICAgICAgICBuZXh0Q2hpbGQgPSB0aGlzLl9jaGlsZHJlblttZC5pZHggKyAxXTtcblxuICAgIHByZXZDaGlsZC5zaXplID0gbWQucHJldkNoaWxkU2l6ZSArIChwcmV2Q2hpbGQuc2NhbGVNb2RlID09PSAnZml4JyA/IG1vdmUgOiBtb3ZlRmxleCk7XG4gICAgbmV4dENoaWxkLnNpemUgPSBtZC5uZXh0Q2hpbGRTaXplIC0gKG5leHRDaGlsZC5zY2FsZU1vZGUgPT09ICdmaXgnID8gbW92ZSA6IG1vdmVGbGV4KTtcblxuICAgIHRoaXMuX3JlZnJlc2hIYW5kbGVycygpO1xufVxuXG5cblxuXG5cblxuXG5cblxucC5fY3JlYXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkZS5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcbiAgICBkZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXG4gICAgYW1ndWkubWFrZURyYWdnYWJsZSh7XG4gICAgICAgIGRlVGFyZ2V0OiBkZSxcbiAgICAgICAgdGhpc0FyZzogdGhpcyxcbiAgICAgICAgb25Eb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGVIYW5kbGVycy5pbmRleE9mKGRlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWR4OiBpZHgsXG4gICAgICAgICAgICAgICAgcHJldkNoaWxkU2l6ZTogdGhpcy5fY2hpbGRyZW5baWR4XS5zaXplLFxuICAgICAgICAgICAgICAgIG5leHRDaGlsZFNpemU6IHRoaXMuX2NoaWxkcmVuW2lkeCArIDFdLnNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlOiB0aGlzLl9vbkRyYWdIYW5kbGVyLFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgICAgICB9LFxuICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZSk7XG5cbiAgICByZXR1cm4gZGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVGFiID0gcmVxdWlyZSgnLi9UYWInKTtcbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiBQYW5lbChvcHQpIHtcblxuICAgIEJsb2NrLmNhbGwodGhpcywgb3B0KTtcblxuICAgIHRoaXMuX3RhYnMgPSBbXTtcblxuICAgIHRoaXMuX29uVG9nZ2xlQ29sbGFwc2VkID0gdGhpcy5fb25Ub2dnbGVDb2xsYXBzZWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2NyZWF0ZVRhYkJhc2UoKTtcblxuICAgIHRoaXMuX2VtcHR5ID0gZmFsc2U7XG4gICAgdGhpcy5fY29sbGFwc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fbm9IZWFkID0gZmFsc2U7XG5cbiAgICBpZiAoJ2VtcHR5JyBpbiBvcHQpIHRoaXMuZW1wdHkgPSBvcHQuZW1wdHk7XG4gICAgaWYgKCdjb2xsYXBzZWQnIGluIG9wdCkgdGhpcy5jb2xsYXBzZWQgPSBvcHQuY29sbGFwc2VkO1xuICAgIGlmICgnbm9IZWFkJyBpbiBvcHQpIHRoaXMubm9IZWFkID0gb3B0Lm5vSGVhZDtcblxuICAgIGlmIChvcHQudGFicykge1xuICAgICAgICBvcHQudGFicy5mb3JFYWNoKHRoaXMuYWRkVGFiLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3RhYnMuc29tZShmdW5jdGlvbiAodGFiKSB7cmV0dXJuIHRhYi5zZWxlY3RlZDt9KSAmJlxuICAgICAgICB0aGlzLl90YWJzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RhYnNbMF0uc2VsZWN0KCk7XG4gICAgfVxufVxuXG5pbmhlcml0cyhQYW5lbCwgQmxvY2spO1xudmFyIHAgPSBQYW5lbC5wcm90b3R5cGU7XG5tb2R1bGUuZXhwb3J0cyA9IFBhbmVsO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cbiAgICBlbXB0eToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgIHYgPSAhIXY7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW1wdHkgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fZW1wdHkgPSB2O1xuICAgICAgICAgICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSB0aGlzLl9lbXB0eSA/ICdub25lJyA6ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fZW1wdHkgPyAnaGlkZGVuJyA6ICd2aXNpYmlsZSc7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtcHR5O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBjb2xsYXBzZWQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICB2ID0gISF2O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxhcHNlZCA9PT0gdikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWQgPSB2O1xuICAgICAgICAgICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9jb2xsYXBzZWQgPyAnbm9uZScgOiAnZmxleCc7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxhcHNlZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgbm9IZWFkOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcblxuICAgICAgICAgICAgdiA9ICEhdjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ub0hlYWQgPT09IHYpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fbm9IZWFkID0gdjtcbiAgICAgICAgICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fbm9IZWFkID8gJ25vbmUnIDogJ2ZsZXgnO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub0hlYWQ7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxucC5hZGRUYWIgPSBmdW5jdGlvbiAodERhdGEpIHtcblxuICAgIHZhciB0YWIgPSBuZXcgVGFiKHREYXRhKTtcbiAgICB0aGlzLl9kZVRhYkhlYWQuYXBwZW5kQ2hpbGQodGFiLmRlRWFyKTtcbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQodGFiLmRvbUVsZW0pO1xuICAgIHRoaXMuX3RhYnMucHVzaCh0YWIpO1xuXG4gICAgdGFiLmRlRWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93VGFiLmJpbmQodGhpcywgdGFiKSk7XG59O1xuXG5cbnAuZmluZFRhYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICB2YXIgdGFiO1xuXG4gICAgdGhpcy5fdGFicy5zb21lKGZ1bmN0aW9uICh0KSB7XG5cbiAgICAgICAgaWYgKHQubmFtZSA9PT0gbmFtZSkge1xuXG4gICAgICAgICAgICByZXR1cm4gKHRhYiA9IHQpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGFiO1xufTtcblxucC5zaG93VGFiID0gZnVuY3Rpb24gKHRhYikge1xuXG4gICAgdGhpcy5fdGFicy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIFxuICAgICAgICBpZiAodGFiID09PSB0KSB7XG4gICAgICAgICAgICB0LnNlbGVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdC5kZXNlbGVjdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5wLmJ1YmJsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5fdGFicykgcmV0dXJuO1xuXG4gICAgdGhpcy5fdGFicy5mb3JFYWNoKGZ1bmN0aW9uICh0YWIpIHtcblxuICAgICAgICB0YWIuYnViYmxlUmVzaXplKCk7XG4gICAgfSk7XG59O1xuXG5cblxuXG5cblxuXG5wLl9vblRvZ2dsZUNvbGxhcHNlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuY29sbGFwc2VkID0gIXRoaXMuY29sbGFwc2VkO1xuXG4gICAgdGhpcy5fYnRuVG9nZ2xlQ29sbGFwc2VkLnNldFRvZ2dsZSh0aGlzLmNvbGxhcHNlZCk7XG59O1xuXG5cblxuXG5cblxucC5fY3JlYXRlVGFiQmFzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuX2RlVGFiQmFzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlVGFiQmFzZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlVGFiQmFzZS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgdGhpcy5fZGVUYWJCYXNlLnN0eWxlLmFsaWduU2VsZiA9ICdzdHJldGNoJztcbiAgICB0aGlzLl9kZVRhYkJhc2Uuc3R5bGUuZmxleCA9ICcxJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5fZGVUYWJCYXNlKTtcblxuICAgIHRoaXMuX2RlVGFiSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLl9kZVRhYkhlYWQuc3R5bGUuaGVpZ2h0ID0gYW1ndWkuTElORV9IRUlHSFQgKyAncHgnO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS5hbGlnbkl0ZW1zID0gJ3N0cmV0Y2gnO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS5iYWNrZ3JvdW5kID0gYW1ndWkuY29sb3IuYmcwO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuX2RlVGFiSGVhZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAndGFiaGVhZCcpXG4gICAgdGhpcy5fZGVUYWJCYXNlLmFwcGVuZENoaWxkKHRoaXMuX2RlVGFiSGVhZCk7XG5cbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9kZVRhYkNvbnRlbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fZGVUYWJDb250ZW50LnN0eWxlLmZsZXggPSAxO1xuICAgIHRoaXMuX2RlVGFiQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGVidWcnLCAndGFiY29udGVudCcpXG4gICAgdGhpcy5fZGVUYWJCYXNlLmFwcGVuZENoaWxkKHRoaXMuX2RlVGFiQ29udGVudCk7XG5cbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQgPSBhbWd1aS5jcmVhdGVUb2dnbGVJY29uQnRuKHtcbiAgICAgICAgdG9vbHRpcDogJ3Nob3cvaGlkZSB0YWJzJyxcbiAgICAgICAgaWNvbk9uOiAnY29sbGFwc2UnLCBcbiAgICAgICAgaWNvbk9mZjogJ2V4cGFuZCcsXG4gICAgICAgIHBhcmVudDogdGhpcy5fZGVUYWJIZWFkLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25Ub2dnbGVDb2xsYXBzZWRcbiAgICB9KTtcbiAgICB0aGlzLl9idG5Ub2dnbGVDb2xsYXBzZWQuc3R5bGUub3JkZXIgPSAxO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbWd1aSA9IHJlcXVpcmUoJy4uL2FtZ3VpJyk7XG5cbmZ1bmN0aW9uIFRhYihvcHQpIHtcblxuICAgIHRoaXMubmFtZSA9IG9wdC5uYW1lO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cbiAgICB0aGlzLl9jcmVhdGVEb21FbGVtKCk7XG4gICAgdGhpcy5kZUVhciA9IHRoaXMuX2NyZWF0ZVRhYkVhcigpO1xuXG4gICAgdGhpc1t0aGlzLnNlbGVjdGVkID8gJ3NlbGVjdCcgOiAnZGVzZWxlY3QnXSgpO1xufVxuXG52YXIgcCA9IFRhYi5wcm90b3R5cGU7XG5cbnAuc2V0Q29udGVudCA9IGZ1bmN0aW9uIChkZUNvbnRlbnQpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoZGVDb250ZW50KTtcbiAgICBkZUNvbnRlbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xufTtcblxucC5idWJibGVSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmRvbUVsZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbn07XG5cblxuXG5wLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmRlRWFyLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoID0gJzFweCc7XG4gICAgdGhpcy5kZUVhci5zdHlsZS5jb2xvciA9IGFtZ3VpLmNvbG9yLnRleHQ7XG59O1xuXG5wLmRlc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5kZUVhci5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aCA9ICcwcHgnO1xuICAgIHRoaXMuZGVFYXIuc3R5bGUuY29sb3IgPSBhbWd1aS5jb2xvci50ZXh0SW5hY3RpdmU7XG59O1xuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ3JlYWx0aXZlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGFtZ3VpLmNvbG9yLmJnMDtcbiAgICB0aGlzLmRvbUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmRvbUVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLWRlYnVnJywgJ3RhYiAtICcgKyB0aGlzLm5hbWUpO1xufTtcblxucC5fY3JlYXRlVGFiRWFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGRlID0gYW1ndWkuY3JlYXRlTGFiZWwoe1xuICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIGZsZXg6IDEsXG4gICAgfSk7XG4gICAgZGUuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgIGRlLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICBkZS5zdHlsZS5ib3JkZXJCb3R0b20gPSAnc29saWQgMXB4IHdoaXRlJztcbiAgICBkZS5zdHlsZS5hbGlnblNlbGYgPSAnc3RyZXRjaCc7XG4gICAgZGUuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBkZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcblxuICAgIHJldHVybiBkZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGFiOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIENvbnRhaW5lciA9IHJlcXVpcmUoJy4vQ29udGFpbmVyJyk7XG5cbmZ1bmN0aW9uIFdpbmRvb21hbigpIHtcblxuICAgIHRoaXMuX3RhYk1hcCA9IHt9O1xuICAgIHRoaXMuX3dvcmtzcGFjZXMgPSB7fTtcblxuICAgIHRoaXMuX2NyZWF0ZURvbUVsZW0oKTtcbiAgICB0aGlzLl9pbml0UmVzaXplKCk7XG59XG5cbnZhciBwID0gV2luZG9vbWFuLnByb3RvdHlwZTtcblxucC5sb2FkV29ya3NwYWNlID0gZnVuY3Rpb24gKG5hbWUsIHdvcmtzcGFjZSkge1xuXG4gICAgdGhpcy5fd29ya3NwYWNlc1tuYW1lXSA9IHdvcmtzcGFjZTtcbn07XG5cbnAuZ2V0V29ya3NwYWNlID0gZnVuY3Rpb24gKG5hbWUpIHtcblxuICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLl93b3Jrc3BhY2VzW25hbWVdKTtcbn1cblxucC5sb2FkID0gZnVuY3Rpb24gKG5hbWUsIHdvcmtzcGFjZSkge1xuXG4gICAgaWYgKHdvcmtzcGFjZSkge1xuICAgICAgICB0aGlzLmxvYWRXb3Jrc3BhY2UobmFtZSwgd29ya3NwYWNlKTtcbiAgICB9XG5cbiAgICB2YXIgbWFwID0gdGhpcy5fd29ya3NwYWNlc1tuYW1lXTtcblxuICAgIGlmICghbWFwIHx8IG1hcC50eXBlICE9PSAnY29udGFpbmVyJykge1xuICAgICAgICB0aHJvdyBFcnJvcignY2FuXFwndCBsb2FkICcgKyBtYXApO1xuICAgIH1cblxuICAgIHRoaXMuX3Jvb3QgPSBuZXcgQ29udGFpbmVyKG1hcCk7XG4gICAgXG4gICAgdGhpcy5kb21FbGVtLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZCh0aGlzLl9yb290LmRvbUVsZW0pO1xuXG4gICAgT2JqZWN0LmtleXModGhpcy5fdGFiTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICAgICAgdGhpcy5maWxsVGFiKG5hbWUsIHRoaXMuX3RhYk1hcFtuYW1lXSk7XG4gICAgfSwgdGhpcyk7XG59O1xuXG5wLmZpbmRUYWIgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgaWYgKHRoaXMuX3Jvb3QpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5maW5kVGFiKG5hbWUpO1xuICAgIH1cbn07XG5cbnAuZmlsbFRhYiA9IGZ1bmN0aW9uIChuYW1lLCBjb250ZW50KSB7XG5cbiAgICB0aGlzLl90YWJNYXBbbmFtZV0gPSBjb250ZW50O1xuXG4gICAgdmFyIHRhYiA9IHRoaXMuZmluZFRhYihuYW1lKTtcblxuICAgIGlmICh0YWIpIHtcbiAgICAgICAgdGFiLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgfVxufTtcblxucC5faW5pdFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpc1dhaXRpbmcgPSBmYWxzZTtcblxuICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5fcm9vdCkge1xuXG4gICAgICAgICAgICB0aGlzLl9yb290LmJ1YmJsZVJlc2l6ZSgpO1xuICAgICAgICAgICAgaXNXYWl0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghaXNXYWl0aW5nKSB7XG5cbiAgICAgICAgICAgIGlzV2FpdGluZyA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5wLl9jcmVhdGVEb21FbGVtID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5kb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5kb21FbGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdpbmRvb21hbjsiXX0=
